{"items":[{"tags":["java","testing","wiremock","wiremock-standalone"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1669842277,"post_id":74634104,"comment_id":131737879,"body_markdown":"_&quot;My json body looks like this:&quot;_ -- the error message is telling you that the body is empty.","body":"<i>&quot;My json body looks like this:&quot;</i> -- the error message is telling you that the body is empty."},{"owner":{"account_id":21227790,"reputation":11,"user_id":18033591,"display_name":"noobgrammer"},"score":0,"creation_date":1669842433,"post_id":74634104,"comment_id":131737925,"body_markdown":"thats only when I use matchingJsonPath with equalTo ().\nIt validates the same body using this expression &quot;$.[?(@.field1 == 1)]&quot;","body":"thats only when I use matchingJsonPath with equalTo (). It validates the same body using this expression &quot;$.[?(@.field1 == 1)]&quot;"},{"owner":{"account_id":16149079,"reputation":493,"user_id":12898912,"display_name":"Maksym Rybalkin"},"score":0,"creation_date":1669901803,"post_id":74634104,"comment_id":131751575,"body_markdown":"```&#39;$.accountId&#39; failed to match document &#39;&#39; because of error &#39;json string can not be null or empty&#39;```\nyou have another problem","body":"<code>&#39;$.accountId&#39; failed to match document &#39;&#39; because of error &#39;json string can not be null or empty&#39;</code> you have another problem"}],"owner":{"account_id":21227790,"reputation":11,"user_id":18033591,"display_name":"noobgrammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669842034,"creation_date":1669842034,"question_id":74634104,"body_markdown":"I am trying to verify that the POST call made to downstream service has the correct body/value, but getting a null exception.\r\n\r\n```\r\n\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.equalTo;\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.exactly;\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.matchingJsonPath;\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.postRequestedFor;\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.verify;\r\n\r\n\r\n@Test\r\nvoid test() throws Exception {\r\n    mockMvc.perform(\r\n            post(...)\r\n            .andExpect(status().isOk());\r\n\r\n    await().atMost(Duration.ofSeconds(5)).untilAsserted(() -&gt; verify(exactly(1), postRequestedFor(urlPathMatching(&quot;my-url-path&quot;))\r\n            .withRequestBody(matchingJsonPath(&quot;$.field1&quot;, equalTo(&quot;1&quot;)))));\r\n}\r\n```\r\nFails with this warning and exception\r\n\r\n\r\n```\r\ncom.github.tomakehurst.wiremock.matching.PathPattern$SubExpressionException: Warning: JSON path expression &#39;$.accountId&#39; failed to match document &#39;&#39; because of error &#39;json string can not be null or empty&#39;\r\n\r\n\r\nCaused by: java.lang.IllegalArgumentException: json string can not be null or empty\r\n   at wiremock.com.jayway.jsonpath.internal.Utils.notEmpty(Utils.java:401)\r\n   at wiremock.com.jayway.jsonpath.internal.ParseContextImpl.parse(ParseContextImpl.java:36)\r\n   at wiremock.com.jayway.jsonpath.JsonPath.read(JsonPath.java:550)\r\n   at com.github.tomakehurst.wiremock.matching.MatchesJsonPathPattern.getExpressionResult(MatchesJsonPathPattern.java:122)\r\n   ... 18 more\r\n```\r\n\r\nInstead, if I use expression mapping it works fine. \r\n```\r\n.withRequestBody(matchingJsonPath(&quot;$.[?(@.field1 == 1)]&quot;))));\r\n```\r\nWhats the correct way to use StringValuePattern?\r\n\r\nMy json body looks like this:\r\n\r\n```\r\n{\r\n  &quot;field1&quot;: &quot;1&quot;\r\n}\r\n```\r\n","title":"Wiremock request body matchingJsonPath throwing exception","body":"<p>I am trying to verify that the POST call made to downstream service has the correct body/value, but getting a null exception.</p>\n<pre><code>\nimport static com.github.tomakehurst.wiremock.client.WireMock.equalTo;\nimport static com.github.tomakehurst.wiremock.client.WireMock.exactly;\nimport static com.github.tomakehurst.wiremock.client.WireMock.matchingJsonPath;\nimport static com.github.tomakehurst.wiremock.client.WireMock.postRequestedFor;\nimport static com.github.tomakehurst.wiremock.client.WireMock.verify;\n\n\n@Test\nvoid test() throws Exception {\n    mockMvc.perform(\n            post(...)\n            .andExpect(status().isOk());\n\n    await().atMost(Duration.ofSeconds(5)).untilAsserted(() -&gt; verify(exactly(1), postRequestedFor(urlPathMatching(&quot;my-url-path&quot;))\n            .withRequestBody(matchingJsonPath(&quot;$.field1&quot;, equalTo(&quot;1&quot;)))));\n}\n</code></pre>\n<p>Fails with this warning and exception</p>\n<pre><code>com.github.tomakehurst.wiremock.matching.PathPattern$SubExpressionException: Warning: JSON path expression '$.accountId' failed to match document '' because of error 'json string can not be null or empty'\n\n\nCaused by: java.lang.IllegalArgumentException: json string can not be null or empty\n   at wiremock.com.jayway.jsonpath.internal.Utils.notEmpty(Utils.java:401)\n   at wiremock.com.jayway.jsonpath.internal.ParseContextImpl.parse(ParseContextImpl.java:36)\n   at wiremock.com.jayway.jsonpath.JsonPath.read(JsonPath.java:550)\n   at com.github.tomakehurst.wiremock.matching.MatchesJsonPathPattern.getExpressionResult(MatchesJsonPathPattern.java:122)\n   ... 18 more\n</code></pre>\n<p>Instead, if I use expression mapping it works fine.</p>\n<pre><code>.withRequestBody(matchingJsonPath(&quot;$.[?(@.field1 == 1)]&quot;))));\n</code></pre>\n<p>Whats the correct way to use StringValuePattern?</p>\n<p>My json body looks like this:</p>\n<pre><code>{\n  &quot;field1&quot;: &quot;1&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","dependencies","repository","javabeans"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1594151774,"post_id":62782872,"comment_id":111025010,"body_markdown":"Did you try annotating `ShopService` with `@Component` so Spring can find it when it does component scanning?","body":"Did you try annotating <code>ShopService</code> with <code>@Component</code> so Spring can find it when it does component scanning?"},{"owner":{"account_id":15542760,"reputation":43,"user_id":11212991,"display_name":"Ace"},"score":0,"creation_date":1594152777,"post_id":62782872,"comment_id":111025473,"body_markdown":"I have ```@Service``` annotation on ShopService, isnt like @Component included into that?","body":"I have <code>@Service</code> annotation on ShopService, isnt like @Component included into that?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1594155403,"post_id":62782872,"comment_id":111026577,"body_markdown":"I see you updated the source code. Yes, `@Service` should be sufficient.","body":"I see you updated the source code. Yes, <code>@Service</code> should be sufficient."},{"owner":{"account_id":7844807,"reputation":584,"user_id":5930227,"accept_rate":50,"display_name":"Emmanuel Ogoma"},"score":0,"creation_date":1594174086,"post_id":62782872,"comment_id":111031420,"body_markdown":"what is the data type of Shop entity  primary key , is it a String","body":"what is the data type of Shop entity  primary key , is it a String"},{"owner":{"account_id":7844807,"reputation":584,"user_id":5930227,"accept_rate":50,"display_name":"Emmanuel Ogoma"},"score":0,"creation_date":1594174320,"post_id":62782872,"comment_id":111031479,"body_markdown":"Remove  @Autowired on the field in ShopService , you are using both field injection and constructor injection.","body":"Remove  @Autowired on the field in ShopService , you are using both field injection and constructor injection."},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1594176595,"post_id":62782872,"comment_id":111031949,"body_markdown":"Can you share the &quot;caused by&quot;? the bottom of the stacktrace...","body":"Can you share the &quot;caused by&quot;? the bottom of the stacktrace..."}],"answers":[{"tags":[],"owner":{"account_id":7844807,"reputation":584,"user_id":5930227,"accept_rate":50,"display_name":"Emmanuel Ogoma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594175019,"creation_date":1594175019,"answer_id":62786594,"question_id":62782872,"body_markdown":"  The problem  could be @Autowired in ShopService \r\n\r\n    @Service\r\n\r\n    public class ShopService {\r\n\r\n    @Autowired\r\n    private ShopRepository shopRepository;\r\n\r\n    public ShopService(ShopRepository shopRepository){\r\n        this.shopRepository = shopRepository;\r\n    }\r\n\r\n    public Shop getShopBasedOnId(String id) {\r\n        return shopRepository.findByShopId(id);\r\n    }\r\n     }` \r\nshould be \r\n    @Service\r\n    public class ShopService {\r\n\r\n    \r\n    private ShopRepository shopRepository;\r\n\r\n    public ShopService(ShopRepository shopRepository){\r\n        this.shopRepository = shopRepository;\r\n    }\r\n\r\n    public Shop getShopBasedOnId(String id) {\r\n        return shopRepository.findByShopId(id);\r\n    }\r\n    }\r\nYou can also add `@Autowired` just above the constructor but it is no longer required if there is only one constructor ","title":"Required a bean of type Repository that could not be found","body":"<p>The problem  could be @Autowired in ShopService</p>\n<pre><code>@Service\n\npublic class ShopService {\n\n@Autowired\nprivate ShopRepository shopRepository;\n\npublic ShopService(ShopRepository shopRepository){\n    this.shopRepository = shopRepository;\n}\n\npublic Shop getShopBasedOnId(String id) {\n    return shopRepository.findByShopId(id);\n}\n }` \n</code></pre>\n<p>should be\n@Service\npublic class ShopService {</p>\n<pre><code>private ShopRepository shopRepository;\n\npublic ShopService(ShopRepository shopRepository){\n    this.shopRepository = shopRepository;\n}\n\npublic Shop getShopBasedOnId(String id) {\n    return shopRepository.findByShopId(id);\n}\n}\n</code></pre>\n<p>You can also add <code>@Autowired</code> just above the constructor but it is no longer required if there is only one constructor</p>\n"},{"tags":[],"owner":{"account_id":15542760,"reputation":43,"user_id":11212991,"display_name":"Ace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594241615,"creation_date":1594241615,"answer_id":62803477,"question_id":62782872,"body_markdown":"Turns out I had to have a config file for couchbase repository. What I did was follow the following [link][1] and now it all compiles fine!\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-couchbase","title":"Required a bean of type Repository that could not be found","body":"<p>Turns out I had to have a config file for couchbase repository. What I did was follow the following <a href=\"https://www.baeldung.com/spring-data-couchbase\" rel=\"nofollow noreferrer\">link</a> and now it all compiles fine!</p>\n"},{"tags":[],"owner":{"account_id":25829641,"reputation":11,"user_id":19567088,"display_name":"raman20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669841820,"creation_date":1662477811,"answer_id":73624442,"question_id":62782872,"body_markdown":"In my situation, I had spring boot with multiple modules. So I had to the below to make it work. \r\n\r\n    @SpringBootApplication (scanBasePackages={&quot;com.sample.test&quot;})\r\n    @EnableJdbcRepositories(basePackages={&quot;com.sample.test&quot;})\r\n    public class TestApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestApplication.class, args);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Required a bean of type Repository that could not be found","body":"<p>In my situation, I had spring boot with multiple modules. So I had to the below to make it work.</p>\n<pre><code>@SpringBootApplication (scanBasePackages={&quot;com.sample.test&quot;})\n@EnableJdbcRepositories(basePackages={&quot;com.sample.test&quot;})\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15542760,"reputation":43,"user_id":11212991,"display_name":"Ace"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1669841820,"creation_date":1594151433,"question_id":62782872,"body_markdown":"I am setting up a new Spring project for some fun learning/tutorial at home and I seem to run into a fairly common issue but I have tried all possible solutions I found on here but with no luck. Basically what I have is as follows:\r\n\r\nController class:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/shop&quot;)\r\npublic class ShopController {\r\n\r\n    @Autowired\r\n    ShopService shopService;\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public @ResponseBody Shop getTestData(@PathVariable String id) {\r\n        return shopService.getShopBasedOnId(id);\r\n    }\r\n\r\n}\r\n```\r\nService class:\r\n```\r\n@Service\r\npublic class ShopService {\r\n\r\n    @Autowired\r\n    private ShopRepository shopRepository;\r\n\r\n    public ShopService(ShopRepository shopRepository){\r\n        this.shopRepository = shopRepository;\r\n    }\r\n\r\n    public Shop getShopBasedOnId(String id) {\r\n        return shopRepository.findByShopId(id);\r\n    }\r\n}\r\n```\r\n\r\nRepository class:\r\n```\r\n@Repository\r\npublic interface ShopRepository extends PagingAndSortingRepository&lt;Shop, String&gt; {\r\n\r\n        Shop findByShopId(String shopId);\r\n}\r\n```\r\n\r\nApplication class:\r\n```\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.example.reservations.repository&quot;)\r\npublic class ReservationsApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ReservationsApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nLast but not least my pom.xml with the dependencies:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-couchbase&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nSo the error code I am getting is as follows:\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.reservations.services.ShopService required a bean of type &#39;com.example.reservations.repository.ShopRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.reservations.repository.ShopRepository&#39; in your configuration.\r\n```\r\n\r\nMy structure of folders is:\r\n```\r\nmain\r\n |_java\r\n    |_com.example.reservations\r\n         |_controllers\r\n              |_ShopController.java\r\n         |_repository\r\n              |_ShopRepository.java\r\n         |_services\r\n              |_ShopService.java\r\n         |_ReservationsApplication.java\r\n```","title":"Required a bean of type Repository that could not be found","body":"<p>I am setting up a new Spring project for some fun learning/tutorial at home and I seem to run into a fairly common issue but I have tried all possible solutions I found on here but with no luck. Basically what I have is as follows:</p>\n<p>Controller class:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/shop&quot;)\npublic class ShopController {\n\n    @Autowired\n    ShopService shopService;\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public @ResponseBody Shop getTestData(@PathVariable String id) {\n        return shopService.getShopBasedOnId(id);\n    }\n\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Service\npublic class ShopService {\n\n    @Autowired\n    private ShopRepository shopRepository;\n\n    public ShopService(ShopRepository shopRepository){\n        this.shopRepository = shopRepository;\n    }\n\n    public Shop getShopBasedOnId(String id) {\n        return shopRepository.findByShopId(id);\n    }\n}\n</code></pre>\n<p>Repository class:</p>\n<pre><code>@Repository\npublic interface ShopRepository extends PagingAndSortingRepository&lt;Shop, String&gt; {\n\n        Shop findByShopId(String shopId);\n}\n</code></pre>\n<p>Application class:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.example.reservations.repository&quot;)\npublic class ReservationsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ReservationsApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Last but not least my pom.xml with the dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-couchbase&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So the error code I am getting is as follows:</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.example.reservations.services.ShopService required a bean of type 'com.example.reservations.repository.ShopRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.reservations.repository.ShopRepository' in your configuration.\n</code></pre>\n<p>My structure of folders is:</p>\n<pre><code>main\n |_java\n    |_com.example.reservations\n         |_controllers\n              |_ShopController.java\n         |_repository\n              |_ShopRepository.java\n         |_services\n              |_ShopService.java\n         |_ReservationsApplication.java\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669841692,"creation_date":1669841692,"answer_id":74634045,"question_id":74634020,"body_markdown":"You can measure the time like this:\r\n\r\n    Instant start = Instant.now();\r\n    \r\n    ... // do your import here\r\n    \r\n    Instant end = Instant.now();\r\n    System.out.println(Duration.between(start,end));","title":"Count time for SQL update","body":"<p>You can measure the time like this:</p>\n<pre><code>Instant start = Instant.now();\n\n... // do your import here\n\nInstant end = Instant.now();\nSystem.out.println(Duration.between(start,end));\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74634045,"answer_count":1,"score":-1,"last_activity_date":1669841692,"creation_date":1669841551,"question_id":74634020,"body_markdown":"I want to create a Java code which makes benchmark about importing xml file into SQL table. I tried this:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.*;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class Application extends SqlUtils {\r\n    \r\n        private static String folderPath = &quot;D:\\\\EntityImportEversana&quot;;\r\n    \r\n        public static void main(final String[] args) throws IOException, InterruptedException {\r\n    \r\n            System.out.println(&quot;Running file verifier&quot;);\r\n            System.out.println(&quot;monitoring folder &quot; + folderPath);\r\n            SqlUtils sql = new SqlUtils();\r\n    \r\n            WatchService watchService = FileSystems.getDefault().newWatchService();\r\n            Path path = Paths.get(folderPath);\r\n            path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\r\n            WatchKey key;\r\n            while ((key = watchService.take()) != null) {\r\n                for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n                    System.out.println(&quot;Event kind:&quot; + event.kind() + &quot;. File affected: &quot; + event.context() + &quot;.&quot;);\r\n                    if(event.kind().equals(StandardWatchEventKinds.ENTRY_DELETE)){\r\n                        // Here we make a constant pull and we get the status using sql from db.\r\n                        // make here start of benchmark \r\n                        HashMap&lt;String, List&gt; map = sql.checkFileImport();\r\n\r\n                        // end here of benchmark\r\n\r\n                    }\r\n    \r\n                }\r\n                key.reset();\r\n            }\r\n    \r\n            watchService.close();\r\n        }\r\n    }\r\n\r\nDo you know how I can make a benchmark into the above code and trace when the file is updated into db?\r\n","title":"Count time for SQL update","body":"<p>I want to create a Java code which makes benchmark about importing xml file into SQL table. I tried this:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.*;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class Application extends SqlUtils {\n\n    private static String folderPath = &quot;D:\\\\EntityImportEversana&quot;;\n\n    public static void main(final String[] args) throws IOException, InterruptedException {\n\n        System.out.println(&quot;Running file verifier&quot;);\n        System.out.println(&quot;monitoring folder &quot; + folderPath);\n        SqlUtils sql = new SqlUtils();\n\n        WatchService watchService = FileSystems.getDefault().newWatchService();\n        Path path = Paths.get(folderPath);\n        path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\n        WatchKey key;\n        while ((key = watchService.take()) != null) {\n            for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                System.out.println(&quot;Event kind:&quot; + event.kind() + &quot;. File affected: &quot; + event.context() + &quot;.&quot;);\n                if(event.kind().equals(StandardWatchEventKinds.ENTRY_DELETE)){\n                    // Here we make a constant pull and we get the status using sql from db.\n                    // make here start of benchmark \n                    HashMap&lt;String, List&gt; map = sql.checkFileImport();\n\n                    // end here of benchmark\n\n                }\n\n            }\n            key.reset();\n        }\n\n        watchService.close();\n    }\n}\n</code></pre>\n<p>Do you know how I can make a benchmark into the above code and trace when the file is updated into db?</p>\n"},{"tags":["java","jsp","xhtml","weblogic","weblogic14c"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669733949,"post_id":74615988,"comment_id":131706799,"body_markdown":"`#{message}` is a `String`. You are trying to access the `severity` property, but `String` has no `getSeverity`. You should get the same error for `value=&quot;#{message.summary}&quot;` .","body":"<code>#{message}</code> is a <code>String</code>. You are trying to access the <code>severity</code> property, but <code>String</code> has no <code>getSeverity</code>. You should get the same error for <code>value=&quot;#{message.summary}&quot;</code> ."},{"owner":{"account_id":23528447,"reputation":167,"user_id":17574543,"display_name":"Nicolas"},"score":0,"creation_date":1669756863,"post_id":74615988,"comment_id":131714443,"body_markdown":"How can I use the Object type please?","body":"How can I use the Object type please?"},{"owner":{"account_id":23528447,"reputation":167,"user_id":17574543,"display_name":"Nicolas"},"score":0,"creation_date":1669833290,"post_id":74615988,"comment_id":131735223,"body_markdown":"I tested with type attribute but doesn&#39;t work ```&lt;rich:dataList value=&quot;#{commun:obtenirMessageGlobal()}&quot; var=&quot;message&quot; type=&quot;FacesMessage&quot; style=&quot;margin-top: 0px; padding-left: 20px&quot;&gt;```","body":"I tested with type attribute but doesn&#39;t work <code>&lt;rich:dataList value=&quot;#{commun:obtenirMessageGlobal()}&quot; var=&quot;message&quot; type=&quot;FacesMessage&quot; style=&quot;margin-top: 0px; padding-left: 20px&quot;&gt;</code>"}],"owner":{"account_id":23528447,"reputation":167,"user_id":17574543,"display_name":"Nicolas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669841652,"creation_date":1669733801,"question_id":74615988,"body_markdown":"My application runs under java11 and weblogic14.\r\n\r\nMethod in jsfHelper class :\r\n```\r\npublic static List&lt;FacesMessage&gt; obtenirMessageGlobal() {\r\n\t\tFacesContext context = FacesContext.getCurrentInstance();\r\n\t\tIterator&lt;FacesMessage&gt; iter = context.getMessages();\r\n\t\tList&lt;FacesMessage&gt; globalMessages = new ArrayList&lt;FacesMessage&gt;();\r\n\t\tFacesMessage msg;\r\n\t\t// Message global\r\n\t\twhile (iter.hasNext()) {\r\n\t\t\tmsg = iter.next();\r\n\t\t\tif (msg.getSummary() != null\r\n\t\t\t\t\t&amp;&amp; !&quot;&quot;.equalsIgnoreCase(msg.getSummary()))\r\n\t\t\t\tglobalMessages.add(msg);\r\n\t\t}\r\n\t\t// remove specifics messages\r\n\t\tglobalMessages.removeAll(obtenirMessageSpecifique());\r\n\r\n\t\treturn globalMessages;\r\n\t}\r\n```\r\n\r\nmy jsp file:\r\n```\r\n&lt;ui:composition xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n\txmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n\txmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n\txmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n\txmlns:c=&quot;http://java.sun.com/jstl/core&quot;\r\n\txmlns:a4j=&quot;http://richfaces.org/a4j&quot;\r\n\txmlns:rich=&quot;http://richfaces.org/rich&quot;\r\n\txmlns:commun=&quot;http://xx.xx.xxxx.xxx/commun&quot;&gt;\r\n.\r\n.\r\n.\r\n&lt;h:outputText value=&quot;#{message}&quot; rendered=&quot;#{not empty message}&quot;/&gt;\r\n&lt;a4j:outputPanel id=&quot;messages&quot; ajaxRendered=&quot;true&quot;&gt;\r\n\t\t\t\t&lt;h:panelGroup styleClass=&quot;globalMessages&quot; layout=&quot;block&quot;\r\n\t\t\t\t\trendered=&quot;#{not empty commun:obtenirMessageGlobal()}&quot; style=&quot;border: none; padding: 0px&quot; &gt;\r\n \t\t\t\t\t&lt;rich:dataList value=&quot;#{commun:obtenirMessageGlobal()}&quot; var=&quot;message&quot; style=&quot;margin-top: 0px; padding-left: 20px&quot;&gt; \r\n\t\t\t\t\t\t&lt;h:graphicImage\r\n\t\t\t\t\t\t\tvalue=&quot;resource:///xx/xx/xxxx/xxx/commun/jsf/skins/dti/images/severity/#{message.severity.ordinal}.gif&quot; /&gt;\r\n\t\t\t\t\t\t&lt;h:outputText value=&quot;#{message.summary}&quot;\r\n\t\t\t\t\t\t\tstyleClass=&quot;severity#{message.severity.ordinal}&quot; /&gt;\r\n\t\t\t\t\t&lt;/rich:dataList&gt;\r\n\t\t\t\t&lt;/h:panelGroup&gt;\r\n\t\t\t&lt;/a4j:outputPanel&gt;\r\n```\r\nHere is my exception :\r\n```\r\njavax.el.PropertyNotFoundException: /WEB-INF/taglib/fragments/uploadPanel.xhtml @37,114 value=&quot;resource:///xx/xx/xxxx/xxx/commun/jsf/skins/dti/images/severity/#{message.severity.ordinal}.gif&quot;: The class &#39;java.lang.String&#39; does not have the property &#39;severity&#39;.\r\n```\r\ndid Anyone know how to resolve this error please? \r\n\r\n**Update :**\r\n\r\nIs it possible to add a type attribute **type=&quot;FacesMessage&quot;**? I didn&#39;t find someting similar in internet.","title":"Errror - javax.el.PropertyNotFoundException: The class &#39;java.lang.String&#39; does not have the property","body":"<p>My application runs under java11 and weblogic14.</p>\n<p>Method in jsfHelper class :</p>\n<pre><code>public static List&lt;FacesMessage&gt; obtenirMessageGlobal() {\n        FacesContext context = FacesContext.getCurrentInstance();\n        Iterator&lt;FacesMessage&gt; iter = context.getMessages();\n        List&lt;FacesMessage&gt; globalMessages = new ArrayList&lt;FacesMessage&gt;();\n        FacesMessage msg;\n        // Message global\n        while (iter.hasNext()) {\n            msg = iter.next();\n            if (msg.getSummary() != null\n                    &amp;&amp; !&quot;&quot;.equalsIgnoreCase(msg.getSummary()))\n                globalMessages.add(msg);\n        }\n        // remove specifics messages\n        globalMessages.removeAll(obtenirMessageSpecifique());\n\n        return globalMessages;\n    }\n</code></pre>\n<p>my jsp file:</p>\n<pre><code>&lt;ui:composition xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\n    xmlns:c=&quot;http://java.sun.com/jstl/core&quot;\n    xmlns:a4j=&quot;http://richfaces.org/a4j&quot;\n    xmlns:rich=&quot;http://richfaces.org/rich&quot;\n    xmlns:commun=&quot;http://xx.xx.xxxx.xxx/commun&quot;&gt;\n.\n.\n.\n&lt;h:outputText value=&quot;#{message}&quot; rendered=&quot;#{not empty message}&quot;/&gt;\n&lt;a4j:outputPanel id=&quot;messages&quot; ajaxRendered=&quot;true&quot;&gt;\n                &lt;h:panelGroup styleClass=&quot;globalMessages&quot; layout=&quot;block&quot;\n                    rendered=&quot;#{not empty commun:obtenirMessageGlobal()}&quot; style=&quot;border: none; padding: 0px&quot; &gt;\n                    &lt;rich:dataList value=&quot;#{commun:obtenirMessageGlobal()}&quot; var=&quot;message&quot; style=&quot;margin-top: 0px; padding-left: 20px&quot;&gt; \n                        &lt;h:graphicImage\n                            value=&quot;resource:///xx/xx/xxxx/xxx/commun/jsf/skins/dti/images/severity/#{message.severity.ordinal}.gif&quot; /&gt;\n                        &lt;h:outputText value=&quot;#{message.summary}&quot;\n                            styleClass=&quot;severity#{message.severity.ordinal}&quot; /&gt;\n                    &lt;/rich:dataList&gt;\n                &lt;/h:panelGroup&gt;\n            &lt;/a4j:outputPanel&gt;\n</code></pre>\n<p>Here is my exception :</p>\n<pre><code>javax.el.PropertyNotFoundException: /WEB-INF/taglib/fragments/uploadPanel.xhtml @37,114 value=&quot;resource:///xx/xx/xxxx/xxx/commun/jsf/skins/dti/images/severity/#{message.severity.ordinal}.gif&quot;: The class 'java.lang.String' does not have the property 'severity'.\n</code></pre>\n<p>did Anyone know how to resolve this error please?</p>\n<p><strong>Update :</strong></p>\n<p>Is it possible to add a type attribute <strong>type=&quot;FacesMessage&quot;</strong>? I didn't find someting similar in internet.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1669837364,"post_id":74633272,"comment_id":131736508,"body_markdown":"&#39;but if several numbers are entered, which are equal to zero, then output the number of the last zero.&#39; - what is the number of the last zero? A zero was entered. So do you expect to see zero, or the count of how many other numbers were entered before?","body":"&#39;but if several numbers are entered, which are equal to zero, then output the number of the last zero.&#39; - what is the number of the last zero? A zero was entered. So do you expect to see zero, or the count of how many other numbers were entered before?"},{"owner":{"account_id":27074448,"reputation":1,"user_id":20624629,"display_name":"snow1e"},"score":0,"creation_date":1669837550,"post_id":74633272,"comment_id":131736564,"body_markdown":"Assume that every entered number is numbered as if I entered 5,4,3,2,1, then number of 5 will be 1, number of 4 will be 2, etc. If I entered (0,6,2,7,0,3) total count of entered numbers are 6 and the last 0 is number 5.","body":"Assume that every entered number is numbered as if I entered 5,4,3,2,1, then number of 5 will be 1, number of 4 will be 2, etc. If I entered (0,6,2,7,0,3) total count of entered numbers are 6 and the last 0 is number 5."},{"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"score":1,"creation_date":1669837751,"post_id":74633272,"comment_id":131736620,"body_markdown":"&quot;unfortunately I am no coder and that is why I am seeking help here&quot; Please tell us what you have tried. We already know you&#39;re not a coder. That&#39;s why you&#39;ve been given this homework. You&#39;ve been given this homework to learn how to code. But if you&#39;re unwilling to even try to solve the problem, you&#39;re not going to learn anything.","body":"&quot;unfortunately I am no coder and that is why I am seeking help here&quot; Please tell us what you have tried. We already know you&#39;re not a coder. That&#39;s why you&#39;ve been given this homework. You&#39;ve been given this homework to learn how to code. But if you&#39;re unwilling to even try to solve the problem, you&#39;re not going to learn anything."},{"owner":{"account_id":27074448,"reputation":1,"user_id":20624629,"display_name":"snow1e"},"score":0,"creation_date":1669838070,"post_id":74633272,"comment_id":131736724,"body_markdown":"I&#39;ve tried little to nothing, I am willing to do it, but I need some extra help, I was hoping someone could atleast guide me or even make it fully (sounds inefficient for my knowledge, but I would have analyzed it in order to learn the topic better, as it is, my Professor didn&#39;t explain this topic quite well).","body":"I&#39;ve tried little to nothing, I am willing to do it, but I need some extra help, I was hoping someone could atleast guide me or even make it fully (sounds inefficient for my knowledge, but I would have analyzed it in order to learn the topic better, as it is, my Professor didn&#39;t explain this topic quite well)."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669841619,"creation_date":1669841619,"answer_id":74634029,"question_id":74633272,"body_markdown":"Recursion is always &quot;fun&quot;.\r\n\r\nThis should help &quot;clear&quot; it up for you:\r\n\r\n    import java.util.Scanner;\r\n    class Main {\r\n    \r\n      public static Scanner sc = new Scanner(System.in);\r\n    \r\n      public static void main( String [] args) {   \r\n        System.out.print(&quot;count:&quot;);\r\n        int count = sc.nextInt();\r\n        \r\n        System.out.println(&quot;numbers:&quot;);\r\n        int position = check(1, count); \r\n        \r\n        System.out.println(&quot;result: &quot; + position);\r\n      } \r\n    \r\n      public static int check(int curPosition, int maxPosition) {\r\n        return (curPosition &gt; maxPosition) ? 0 : Math.max((sc.nextInt() == 0) ? curPosition : 0, check(curPosition + 1, maxPosition));\r\n      }\r\n      \r\n    }\r\n\r\nThe return value of the recursive function is of type `int` and will represent the largest position of any entered zeroes. The first parameter to the function is the current position of the number being typed in by the user, which starts at 1 (note the hard-coded 1 in the call within `main()`). The second parameter is the number of numbers the user is entering; which doesn&#39;t change from call to call.\r\n\r\nEach recursive call increments the current position by adding one to the previous value. When the current position exceeds the number of numbers needed to be typed in by the user, we simply return zero.\r\n\r\nIf the current position is less than the number of numbers needed to be entered, then we get a number from the user and compare it to zero. If the number entered is zero, then we return whatever is bigger, the current position or the return value of any recursive calls. If the entered number is not a zero, then we return whatever is bigger, zero or the return value of any recursive calls.","title":"Recursion. How to make a program that inputs a sequence of integers and outputs a number equal to zero?","body":"<p>Recursion is always &quot;fun&quot;.</p>\n<p>This should help &quot;clear&quot; it up for you:</p>\n<pre><code>import java.util.Scanner;\nclass Main {\n\n  public static Scanner sc = new Scanner(System.in);\n\n  public static void main( String [] args) {   \n    System.out.print(&quot;count:&quot;);\n    int count = sc.nextInt();\n    \n    System.out.println(&quot;numbers:&quot;);\n    int position = check(1, count); \n    \n    System.out.println(&quot;result: &quot; + position);\n  } \n\n  public static int check(int curPosition, int maxPosition) {\n    return (curPosition &gt; maxPosition) ? 0 : Math.max((sc.nextInt() == 0) ? curPosition : 0, check(curPosition + 1, maxPosition));\n  }\n  \n}\n</code></pre>\n<p>The return value of the recursive function is of type <code>int</code> and will represent the largest position of any entered zeroes. The first parameter to the function is the current position of the number being typed in by the user, which starts at 1 (note the hard-coded 1 in the call within <code>main()</code>). The second parameter is the number of numbers the user is entering; which doesn't change from call to call.</p>\n<p>Each recursive call increments the current position by adding one to the previous value. When the current position exceeds the number of numbers needed to be typed in by the user, we simply return zero.</p>\n<p>If the current position is less than the number of numbers needed to be entered, then we get a number from the user and compare it to zero. If the number entered is zero, then we return whatever is bigger, the current position or the return value of any recursive calls. If the entered number is not a zero, then we return whatever is bigger, zero or the return value of any recursive calls.</p>\n"}],"owner":{"account_id":27074448,"reputation":1,"user_id":20624629,"display_name":"snow1e"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669843221,"answer_count":1,"score":-2,"last_activity_date":1669841619,"creation_date":1669837081,"question_id":74633272,"body_markdown":"I need a program that takes a sequence of integers and outputs a number equal to zero. Assume that\r\nnumbers are numbered from one, if there are no zeros, then output zero, but if several numbers are entered, which are equal to zero, then output the number of the last zero.\r\n\r\nSpecial requirements for the program:\r\n- Do not use the operator package.\r\n- Input errors are not allowed to be processed.\r\n- It is forbidden to use loop operators (for, while, do-while). Loop organization must use recursion,\r\nthe number of methods is not limited.\r\n\r\nthe program must perform the following steps:\r\n- The statement &quot;count:&quot; must be issued and the amount of numbers must be entered.\r\n- The statement &quot;numbers:&quot; must be issued and a sequence of numbers must be entered.\r\n- The statement &quot;result:&quot; must be issued and after the given statement the number of the last zero must be issued (in the same line, separate the number from the &quot;result:&quot; statement with one space character).\r\n\r\n\r\nI was given this code, but unfortunately I am no coder and that is why I am seeking help here.\r\n\r\nNote that code must be edited in order for the program to work.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\t\r\n\tstatic Scanner sc; \r\n\t\r\n\tpublic static boolean checkNumbers(int n) {\r\n\t\tint x;\r\n\t\tx = sc.nextInt();\r\n\t\t\r\n\t\treturn check(n-1, x, true);\r\n\t}\r\n\t\r\n\tprivate static boolean check(int n, int prevNum, boolean flag) {\r\n\t\tint x;\r\n\t\tif (n==0) {\r\n\t\t\treturn flag;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tx = sc.nextInt();\r\n\t\t\tflag = flag &amp;&amp; x &gt;= prevNum;\r\n\t\t\treturn check(n-1, x, flag);\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\tsc = new Scanner(System.in);\r\n\t\t\r\n\t\tint count;\r\n\t\tSystem.out.print(&quot;count:&quot;);\r\n\t\tcount = sc.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;numbers:&quot;);\r\n\t\tboolean result = checkNumbers(count); \r\n\t\t\r\n\t\tSystem.out.print(&quot;result:&quot;);\r\n\t\tif (result)\r\n\t\t\tSystem.out.println(1);\r\n\t\telse\r\n\t\t\tSystem.out.println(2);\r\n\t\t\r\n\t\tsc.close();\r\n```\r\n","title":"Recursion. How to make a program that inputs a sequence of integers and outputs a number equal to zero?","body":"<p>I need a program that takes a sequence of integers and outputs a number equal to zero. Assume that\nnumbers are numbered from one, if there are no zeros, then output zero, but if several numbers are entered, which are equal to zero, then output the number of the last zero.</p>\n<p>Special requirements for the program:</p>\n<ul>\n<li>Do not use the operator package.</li>\n<li>Input errors are not allowed to be processed.</li>\n<li>It is forbidden to use loop operators (for, while, do-while). Loop organization must use recursion,\nthe number of methods is not limited.</li>\n</ul>\n<p>the program must perform the following steps:</p>\n<ul>\n<li>The statement &quot;count:&quot; must be issued and the amount of numbers must be entered.</li>\n<li>The statement &quot;numbers:&quot; must be issued and a sequence of numbers must be entered.</li>\n<li>The statement &quot;result:&quot; must be issued and after the given statement the number of the last zero must be issued (in the same line, separate the number from the &quot;result:&quot; statement with one space character).</li>\n</ul>\n<p>I was given this code, but unfortunately I am no coder and that is why I am seeking help here.</p>\n<p>Note that code must be edited in order for the program to work.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    \n    static Scanner sc; \n    \n    public static boolean checkNumbers(int n) {\n        int x;\n        x = sc.nextInt();\n        \n        return check(n-1, x, true);\n    }\n    \n    private static boolean check(int n, int prevNum, boolean flag) {\n        int x;\n        if (n==0) {\n            return flag;\n        }\n        else {\n            x = sc.nextInt();\n            flag = flag &amp;&amp; x &gt;= prevNum;\n            return check(n-1, x, flag);\n        }\n    }\n        \n    public static void main(String[] args) {\n        sc = new Scanner(System.in);\n        \n        int count;\n        System.out.print(&quot;count:&quot;);\n        count = sc.nextInt();\n        \n        System.out.println(&quot;numbers:&quot;);\n        boolean result = checkNumbers(count); \n        \n        System.out.print(&quot;result:&quot;);\n        if (result)\n            System.out.println(1);\n        else\n            System.out.println(2);\n        \n        sc.close();\n</code></pre>\n"},{"tags":["java","swing","bufferedimage","rfb-protocol"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1669668896,"post_id":74606354,"comment_id":131690562,"body_markdown":"First and foremost, I&#39;d get  most all of that code out of a static main method (or static method of any type) and into the instance world. Next, I&#39;d create a SwingWorker object to handle incoming data and either use the worker&#39;s publish/process method pair to update the image when received or attach a PropertyChangeListener to the worker so that my client GUI is notified when the image has been updated and sent. A key is to do all reading of incoming in a background thread, here the `doInBackground(...)` method of the SwingWorker, and avoid making any Swing calls from the same method.","body":"First and foremost, I&#39;d get  most all of that code out of a static main method (or static method of any type) and into the instance world. Next, I&#39;d create a SwingWorker object to handle incoming data and either use the worker&#39;s publish/process method pair to update the image when received or attach a PropertyChangeListener to the worker so that my client GUI is notified when the image has been updated and sent. A key is to do all reading of incoming in a background thread, here the <code>doInBackground(...)</code> method of the SwingWorker, and avoid making any Swing calls from the same method."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669669712,"post_id":74606354,"comment_id":131690804,"body_markdown":"As a conceptual [example](https://stackoverflow.com/questions/18505406/java-tcp-can-only-retrieve-image-once/18509880#18509880) - this manually grabs screen shots, but it wouldn&#39;t be hard to do it automatically","body":"As a conceptual <a href=\"https://stackoverflow.com/questions/18505406/java-tcp-can-only-retrieve-image-once/18509880#18509880\">example</a> - this manually grabs screen shots, but it wouldn&#39;t be hard to do it automatically"}],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669841528,"creation_date":1669697028,"answer_id":74609256,"question_id":74606354,"body_markdown":"**Updated code with comments about demo code that should be removed from your working code:**\r\n\r\nHere&#39;s an example, using default UIManager icons, and ```SwingWorker```, as noted in the comments to the original posting. You would instead use images from your server connection.\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport javax.swing.Icon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.SwingConstants;\r\nimport javax.swing.SwingWorker;\r\nimport javax.swing.UIManager;\r\n\r\npublic class SwingLabelWithUpdatedImage {\r\n\r\n    public static void main(String args[]) throws Exception {\r\n\r\n        final JLabel label = new JLabel(&quot;&quot;, SwingConstants.CENTER);\r\n\r\n        final JFrame frame = new JFrame(&quot;Client&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(label, BorderLayout.CENTER);\r\n        final Dimension preferredSize = new Dimension(200, 100);\r\n        frame.setPreferredSize(preferredSize);\r\n        frame.setVisible(true);\r\n        frame.pack();\r\n\r\n        final ImageUpdateWorker task = new ImageUpdateWorker(label);\r\n        task.execute();\r\n    }\r\n\r\n    public static class ImageUpdateWorker extends SwingWorker&lt;Void, IconInfo&gt; {\r\n        // iconInfoList is not need in your code. It&#39;s here so I can\r\n        // supply a dummy set of icons to demonstrate UI updates.\r\n        final List&lt;IconInfo&gt; iconInfoList;\r\n        private JLabel label;\r\n\r\n        ImageUpdateWorker(JLabel label) {\r\n            this.label = label;\r\n            // Delete this in your code\r\n            this.iconInfoList = initIconInfoList();\r\n        }\r\n\r\n        @Override\r\n        public Void doInBackground() {\r\n            boolean isTrue = true;\r\n            while (isTrue) {\r\n                // Put your socket code to read the next icon from a server.\r\n                // You don&#39;t need to do the ImageIO.write(), ImageIO.read() dance,\r\n                // unless you must save the icon to disk. In that case, you don&#39;t need\r\n                // to read it back in.\r\n\r\n                // Here, I just rotate the iconInfoList to make it\r\n                // appear as though a new icon was received.\r\n                // Your code will not have any need to do this.\r\n                Collections.rotate(iconInfoList, -1);\r\n                // Just publish the icon you create from the image\r\n                // you receive from your remote server.\r\n                publish(iconInfoList.get(0));\r\n                try {\r\n                    Thread.sleep(10);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void process(List&lt;IconInfo&gt; icons) {\r\n            // You might check for an empty list.\r\n            // @kleopatra&#39;s suggestion to get the last icon is correct.\r\n            // See https://docs.oracle.com/javase/tutorial/uiswing/concurrency/interim.html\r\n            IconInfo iconInfo = icons.get(icons.size() - 1);\r\n            label.setIcon(iconInfo.icon);\r\n            // Your code will not do this \r\n            label.setText(iconInfo.name);\r\n            // You can get the icon dimensions just from the icon, \r\n            // so you don&#39;t really need the IconInfo class.\r\n            label.setSize(iconInfo.dimension);\r\n        }\r\n\r\n        /** Demo code only. It doesn&#39;t belong in your working code.\r\n         */\r\n        protected List&lt;IconInfo&gt; initIconInfoList() {\r\n            // Just a quick way to get some icons; don&#39;t need to\r\n            // fetch from a server just to demonstrate how to\r\n            // refresh the UI.\r\n            List&lt;IconInfo&gt; iconInfoList = UIManager.getDefaults().keySet().stream()\r\n                .filter(this::isIconKey)\r\n                .map(IconInfo::new)\r\n                .filter(iconInfo -&gt; iconInfo.icon != null)\r\n                .collect(Collectors.toList());\r\n\r\n            return iconInfoList;\r\n        }\r\n\r\n        /** Demo code only. It doesn&#39;t belong in your working code.\r\n         */\r\n        protected boolean isIconKey(Object key) {\r\n            return String.class.isAssignableFrom(key.getClass())\r\n                &amp;&amp; ((String) key).toLowerCase().contains(&quot;icon&quot;);\r\n        }\r\n    }\r\n\r\n    /** This is just a convenience to convey \r\n     * the icon and its UIManager key (i.e., name). \r\n     * Your remote server doesn&#39;t supply a name, \r\n     * so you don&#39;t really need this class.\r\n     * It&#39;s just to make the demo more expressive.\r\n     */\r\n    public static class IconInfo {\r\n        final private String name;\r\n        final private Icon icon;\r\n        final private Dimension dimension;\r\n\r\n        IconInfo(Object name) {\r\n            this.name = name.toString();\r\n            icon = UIManager.getIcon(name);\r\n            dimension = icon == null\r\n                ? new Dimension(32, 32)\r\n                : new Dimension(icon.getIconWidth(), icon.getIconHeight());\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How to refresh/reload an image in Swing GUI as the real image file changes?","body":"<p><strong>Updated code with comments about demo code that should be removed from your working code:</strong></p>\n<p>Here's an example, using default UIManager icons, and <code>SwingWorker</code>, as noted in the comments to the original posting. You would instead use images from your server connection.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport javax.swing.Icon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingConstants;\nimport javax.swing.SwingWorker;\nimport javax.swing.UIManager;\n\npublic class SwingLabelWithUpdatedImage {\n\n    public static void main(String args[]) throws Exception {\n\n        final JLabel label = new JLabel(&quot;&quot;, SwingConstants.CENTER);\n\n        final JFrame frame = new JFrame(&quot;Client&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(label, BorderLayout.CENTER);\n        final Dimension preferredSize = new Dimension(200, 100);\n        frame.setPreferredSize(preferredSize);\n        frame.setVisible(true);\n        frame.pack();\n\n        final ImageUpdateWorker task = new ImageUpdateWorker(label);\n        task.execute();\n    }\n\n    public static class ImageUpdateWorker extends SwingWorker&lt;Void, IconInfo&gt; {\n        // iconInfoList is not need in your code. It's here so I can\n        // supply a dummy set of icons to demonstrate UI updates.\n        final List&lt;IconInfo&gt; iconInfoList;\n        private JLabel label;\n\n        ImageUpdateWorker(JLabel label) {\n            this.label = label;\n            // Delete this in your code\n            this.iconInfoList = initIconInfoList();\n        }\n\n        @Override\n        public Void doInBackground() {\n            boolean isTrue = true;\n            while (isTrue) {\n                // Put your socket code to read the next icon from a server.\n                // You don't need to do the ImageIO.write(), ImageIO.read() dance,\n                // unless you must save the icon to disk. In that case, you don't need\n                // to read it back in.\n\n                // Here, I just rotate the iconInfoList to make it\n                // appear as though a new icon was received.\n                // Your code will not have any need to do this.\n                Collections.rotate(iconInfoList, -1);\n                // Just publish the icon you create from the image\n                // you receive from your remote server.\n                publish(iconInfoList.get(0));\n                try {\n                    Thread.sleep(10);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            return null;\n        }\n\n        @Override\n        protected void process(List&lt;IconInfo&gt; icons) {\n            // You might check for an empty list.\n            // @kleopatra's suggestion to get the last icon is correct.\n            // See https://docs.oracle.com/javase/tutorial/uiswing/concurrency/interim.html\n            IconInfo iconInfo = icons.get(icons.size() - 1);\n            label.setIcon(iconInfo.icon);\n            // Your code will not do this \n            label.setText(iconInfo.name);\n            // You can get the icon dimensions just from the icon, \n            // so you don't really need the IconInfo class.\n            label.setSize(iconInfo.dimension);\n        }\n\n        /** Demo code only. It doesn't belong in your working code.\n         */\n        protected List&lt;IconInfo&gt; initIconInfoList() {\n            // Just a quick way to get some icons; don't need to\n            // fetch from a server just to demonstrate how to\n            // refresh the UI.\n            List&lt;IconInfo&gt; iconInfoList = UIManager.getDefaults().keySet().stream()\n                .filter(this::isIconKey)\n                .map(IconInfo::new)\n                .filter(iconInfo -&gt; iconInfo.icon != null)\n                .collect(Collectors.toList());\n\n            return iconInfoList;\n        }\n\n        /** Demo code only. It doesn't belong in your working code.\n         */\n        protected boolean isIconKey(Object key) {\n            return String.class.isAssignableFrom(key.getClass())\n                &amp;&amp; ((String) key).toLowerCase().contains(&quot;icon&quot;);\n        }\n    }\n\n    /** This is just a convenience to convey \n     * the icon and its UIManager key (i.e., name). \n     * Your remote server doesn't supply a name, \n     * so you don't really need this class.\n     * It's just to make the demo more expressive.\n     */\n    public static class IconInfo {\n        final private String name;\n        final private Icon icon;\n        final private Dimension dimension;\n\n        IconInfo(Object name) {\n            this.name = name.toString();\n            icon = UIManager.getIcon(name);\n            dimension = icon == null\n                ? new Dimension(32, 32)\n                : new Dimension(icon.getIconWidth(), icon.getIconHeight());\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27077244,"reputation":1,"user_id":20626956,"display_name":"Mohammed Thabrez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669841528,"creation_date":1669668752,"question_id":74606354,"body_markdown":"I am trying to implement Remote FrameBuffer Protocol using Java socket programming.\r\nI have a server side program that takes screenshot of the entire screen using robot and store it in BufferedImage .Then I converted it into a byte array and sending it to the client .\r\n\r\nObjective :\r\n   To display the entire screen of the server side machine in a Swing GUI of the client side.\r\n\r\nProblem i am facing :\r\n   i am able to send the image in bytes from server and receive it from the server by the client (client.java) and convert it into a jpg image (output.jpg) using ImageIO and put that image in a Swing frame.\r\n\r\n   But i am able to see the first image in the Swing and whenever the image gets updated ,the image in the Swing is not updating or refreshing .\r\n\r\nWhat I want :\r\n   I want the image to refresh and show updated image every time the server sends the image data .\r\n\r\n\r\nclient.java\r\n\r\n```\r\npackage remoteclient;\r\n\r\nimport java.lang.*;\r\nimport javax.imageio.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.swing.*;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class client  {\r\n\r\n   \r\n    public static void main(String args[])throws Exception{  \r\n        Socket s=new Socket(&quot;localhost&quot;,5900);  \r\n        DataInputStream din=new DataInputStream(s.getInputStream());  \r\n        DataOutputStream dout=new DataOutputStream(s.getOutputStream());  \r\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));  \r\n      \r\n        int width=0,height=0;\r\n        try {\r\n            width = din.readInt(); //getting width and height from server thru socket.\r\n            height = din.readInt(); \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        JFrame f = new JFrame(&quot;Client&quot;);\r\n        JLabel label = new JLabel();\r\n       \r\n\r\n        f.setSize(width, height);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n         f.setVisible(true);\r\n\r\n        boolean continueLoop = true;\r\n        \r\n\r\n        while(continueLoop)\r\n        {\r\n            try {\r\n                \r\n                int len = din.readInt();\r\n                byte[] imageInByte = new byte[len];\r\n                            \r\n                System.out.println(len);\r\n\r\n                din.readFully(imageInByte);\r\n\r\n                System.out.println(imageInByte);\r\n                \r\n                ByteArrayInputStream bis = new ByteArrayInputStream(imageInByte);\r\n                BufferedImage bImage2 = ImageIO.read(bis);\r\n             //   Image im1 = bImage2.getScaledInstance(width,height, Image.SCALE_SMOOTH);\r\n\r\n                \r\n                ImageIO.write(bImage2, &quot;jpg&quot;, new File(&quot;output.jpg&quot;) );\r\n                bImage2 = ImageIO.read(new File(&quot;output.jpg&quot;));\r\n                label.setIcon(new ImageIcon(im1));\r\n              \r\n                ImageIcon icon = new ImageIcon(bImage2);\r\n                icon.getImage().flush();\r\n                label.setIcon( icon );\r\n                f.getContentPane().add(label, BorderLayout.CENTER);\r\n                \r\n                f.pack();\r\n\r\n           \r\n            \r\n           \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n  \r\n    }\r\n    }  \r\n\r\n\r\n```\r\n\r\n\r\nWhat I want :\r\n   I want the image to refresh and show updated image every time the server sends the image data .\r\n\r\n\r\n","title":"How to refresh/reload an image in Swing GUI as the real image file changes?","body":"<p>I am trying to implement Remote FrameBuffer Protocol using Java socket programming.\nI have a server side program that takes screenshot of the entire screen using robot and store it in BufferedImage .Then I converted it into a byte array and sending it to the client .</p>\n<p>Objective :\nTo display the entire screen of the server side machine in a Swing GUI of the client side.</p>\n<p>Problem i am facing :\ni am able to send the image in bytes from server and receive it from the server by the client (client.java) and convert it into a jpg image (output.jpg) using ImageIO and put that image in a Swing frame.</p>\n<p>But i am able to see the first image in the Swing and whenever the image gets updated ,the image in the Swing is not updating or refreshing .</p>\n<p>What I want :\nI want the image to refresh and show updated image every time the server sends the image data .</p>\n<p>client.java</p>\n<pre><code>package remoteclient;\n\nimport java.lang.*;\nimport javax.imageio.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport javax.swing.*;\nimport java.net.*;\nimport java.io.*;\n\npublic class client  {\n\n   \n    public static void main(String args[])throws Exception{  \n        Socket s=new Socket(&quot;localhost&quot;,5900);  \n        DataInputStream din=new DataInputStream(s.getInputStream());  \n        DataOutputStream dout=new DataOutputStream(s.getOutputStream());  \n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));  \n      \n        int width=0,height=0;\n        try {\n            width = din.readInt(); //getting width and height from server thru socket.\n            height = din.readInt(); \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        JFrame f = new JFrame(&quot;Client&quot;);\n        JLabel label = new JLabel();\n       \n\n        f.setSize(width, height);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         f.setVisible(true);\n\n        boolean continueLoop = true;\n        \n\n        while(continueLoop)\n        {\n            try {\n                \n                int len = din.readInt();\n                byte[] imageInByte = new byte[len];\n                            \n                System.out.println(len);\n\n                din.readFully(imageInByte);\n\n                System.out.println(imageInByte);\n                \n                ByteArrayInputStream bis = new ByteArrayInputStream(imageInByte);\n                BufferedImage bImage2 = ImageIO.read(bis);\n             //   Image im1 = bImage2.getScaledInstance(width,height, Image.SCALE_SMOOTH);\n\n                \n                ImageIO.write(bImage2, &quot;jpg&quot;, new File(&quot;output.jpg&quot;) );\n                bImage2 = ImageIO.read(new File(&quot;output.jpg&quot;));\n                label.setIcon(new ImageIcon(im1));\n              \n                ImageIcon icon = new ImageIcon(bImage2);\n                icon.getImage().flush();\n                label.setIcon( icon );\n                f.getContentPane().add(label, BorderLayout.CENTER);\n                \n                f.pack();\n\n           \n            \n           \n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n  \n    }\n    }  \n\n\n</code></pre>\n<p>What I want :\nI want the image to refresh and show updated image every time the server sends the image data .</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1669833034,"post_id":74632358,"comment_id":131735154,"body_markdown":"Seeking recommendations for books, tools, software libraries, and more","body":"Seeking recommendations for books, tools, software libraries, and more"},{"owner":{"account_id":8387551,"reputation":141,"user_id":6297426,"accept_rate":67,"display_name":"Enock Prince"},"score":0,"creation_date":1669834635,"post_id":74632358,"comment_id":131735693,"body_markdown":"Yes looking for libraries","body":"Yes looking for libraries"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1669836619,"post_id":74632358,"comment_id":131736316,"body_markdown":"This kind of questions doesn’t meet a Stack Overflow guideline","body":"This kind of questions doesn’t meet a Stack Overflow guideline"},{"owner":{"account_id":8387551,"reputation":141,"user_id":6297426,"accept_rate":67,"display_name":"Enock Prince"},"score":0,"creation_date":1669837095,"post_id":74632358,"comment_id":131736433,"body_markdown":"I can achieve this by using switch statement, but snippet looks mess. I am not a java guy that&#39;s why i am posting here for library details which i can use it and not asking anyone to spoon feed me. If my question is not meeting guideline, you can delete it. Have a great day.","body":"I can achieve this by using switch statement, but snippet looks mess. I am not a java guy that&#39;s why i am posting here for library details which i can use it and not asking anyone to spoon feed me. If my question is not meeting guideline, you can delete it. Have a great day."}],"answers":[{"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669841492,"creation_date":1669841492,"answer_id":74634009,"question_id":74632358,"body_markdown":"You will need to use reflection to achieve this.\r\nthis will allow to add other method later in column &#39;Scenario&#39; of you Excel file (e.g.: `MethodThatCouldBeCalledLaterFromExcel()`) so that they can be  called by reflection.\r\nYou will find more resources about Java reflection here: [https://www.oracle.com/technical-resources/articles/java/javareflection.html][1]\r\n\r\n    import java.io.IOException;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    \r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class WebAutomation {\r\n    \r\n    \tpublic WebAutomation() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Call method(s) depending on parameter &#39;flagParameter&#39; value\r\n    \t * \r\n    \t * @param flagParam The flag that will determine the method(s) to be called\r\n    \t * @throws IOException\r\n    \t * @throws IllegalAccessException\r\n    \t * @throws IllegalArgumentException\r\n    \t * @throws InvocationTargetException\r\n    \t */\r\n    \tpublic void executeMethod(String flagParam)\r\n    \t\t\tthrows IOException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n    \t\tSystem.out.println(&quot;Testing parameter &#39;&quot; + flagParam + &quot;&#39; ---------------------------&quot;);\r\n    \t\tString projectpath = System.getProperty(&quot;user.dir&quot;);\r\n    \t\tXSSFWorkbook workbook = new XSSFWorkbook(projectpath + &quot;\\\\Driver.xlsx&quot;);\r\n    \t\tXSSFSheet sheet = workbook.getSheet(&quot;Driver&quot;);\r\n    \t\tint rowCount = sheet.getPhysicalNumberOfRows();\r\n    \t\tString scenario = &quot;&quot;;\r\n    \t\tString flag;\r\n    \t\t// Iterate on row in Excel file\r\n    \t\tfor (int i = 1; i &lt; rowCount; i++) {\r\n    \t\t\ttry {\r\n    \t\t\t\t// Get the value of cell in column &#39;Scenario&#39;\r\n    \t\t\t\tscenario = sheet.getRow(i).getCell(0).getStringCellValue();\r\n    \t\t\t\t// Get the value of cell in column &#39;Scenario&#39;\r\n    \t\t\t\tflag = sheet.getRow(i).getCell(1).getStringCellValue();\r\n    \t\t\t\t// If &#39;flagParameter&#39; value equals &#39;flag&#39; value, the method which name is defined\r\n    \t\t\t\t// by &#39;scenario&#39; value will be called\r\n    \t\t\t\tif (flag.equals(flagParam)) {\r\n    \t\t\t\t\t//Using reflection to get method to be called\r\n    \t\t\t\t\tMethod m = WebAutomation.class.getDeclaredMethod(scenario);\r\n    \t\t\t\t\t//If method is &#39;private&#39;, make it accessible\r\n    \t\t\t\t\tm.setAccessible(true);\r\n    \t\t\t\t\t//Invoke method\r\n    \t\t\t\t\tm.invoke(this);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (NoSuchMethodException | SecurityException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tworkbook.close();\r\n    \t}\r\n    \r\n    \tprivate void CreateNewOrder() {\r\n    \t\tSystem.out.println(&quot;Calling CreateNewOrder&quot;);\r\n    \t}\r\n    \r\n    \tprivate void UpdateOrder() {\r\n    \t\tSystem.out.println(&quot;Calling UpdateOrder&quot;);\r\n    \t}\r\n    \r\n    \tprivate void DeleteOrder() {\r\n    \t\tSystem.out.println(&quot;Calling DeleteOrder&quot;);\r\n    \t}\r\n    \r\n    \tprivate void CancelOrder() {\r\n    \t\tSystem.out.println(&quot;Calling CancelOrder&quot;);\r\n    \t}\r\n    \r\n    \tprivate void MethodThatCouldBeCalledLaterFromExcel() {\r\n    \t\tSystem.out.println(&quot;Calling MethodThatCouldBeCalledLaterFromExcel&quot;);\r\n    \t}\r\n    \r\n    \tprivate void ReturnOrder() {\r\n    \t\tSystem.out.println(&quot;Calling ReturnOrder&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tWebAutomation automation = new WebAutomation();\r\n    \t\ttry {\r\n    \t\t\tString[] params = { &quot;Yes&quot;, &quot;No&quot; };\r\n    \t\t\tfor (String param : params) {\r\n    \t\t\t\tautomation.executeMethod(param);\r\n    \t\t\t}\r\n    \t\t} catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException | IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/javareflection.html","title":"Call methods from string","body":"<p>You will need to use reflection to achieve this.\nthis will allow to add other method later in column 'Scenario' of you Excel file (e.g.: <code>MethodThatCouldBeCalledLaterFromExcel()</code>) so that they can be  called by reflection.\nYou will find more resources about Java reflection here: <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/javareflection.html</a></p>\n<pre><code>import java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class WebAutomation {\n\n    public WebAutomation() {\n        super();\n    }\n\n    /**\n     * Call method(s) depending on parameter 'flagParameter' value\n     * \n     * @param flagParam The flag that will determine the method(s) to be called\n     * @throws IOException\n     * @throws IllegalAccessException\n     * @throws IllegalArgumentException\n     * @throws InvocationTargetException\n     */\n    public void executeMethod(String flagParam)\n            throws IOException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n        System.out.println(&quot;Testing parameter '&quot; + flagParam + &quot;' ---------------------------&quot;);\n        String projectpath = System.getProperty(&quot;user.dir&quot;);\n        XSSFWorkbook workbook = new XSSFWorkbook(projectpath + &quot;\\\\Driver.xlsx&quot;);\n        XSSFSheet sheet = workbook.getSheet(&quot;Driver&quot;);\n        int rowCount = sheet.getPhysicalNumberOfRows();\n        String scenario = &quot;&quot;;\n        String flag;\n        // Iterate on row in Excel file\n        for (int i = 1; i &lt; rowCount; i++) {\n            try {\n                // Get the value of cell in column 'Scenario'\n                scenario = sheet.getRow(i).getCell(0).getStringCellValue();\n                // Get the value of cell in column 'Scenario'\n                flag = sheet.getRow(i).getCell(1).getStringCellValue();\n                // If 'flagParameter' value equals 'flag' value, the method which name is defined\n                // by 'scenario' value will be called\n                if (flag.equals(flagParam)) {\n                    //Using reflection to get method to be called\n                    Method m = WebAutomation.class.getDeclaredMethod(scenario);\n                    //If method is 'private', make it accessible\n                    m.setAccessible(true);\n                    //Invoke method\n                    m.invoke(this);\n                }\n            } catch (NoSuchMethodException | SecurityException e) {\n                e.printStackTrace();\n            }\n        }\n        workbook.close();\n    }\n\n    private void CreateNewOrder() {\n        System.out.println(&quot;Calling CreateNewOrder&quot;);\n    }\n\n    private void UpdateOrder() {\n        System.out.println(&quot;Calling UpdateOrder&quot;);\n    }\n\n    private void DeleteOrder() {\n        System.out.println(&quot;Calling DeleteOrder&quot;);\n    }\n\n    private void CancelOrder() {\n        System.out.println(&quot;Calling CancelOrder&quot;);\n    }\n\n    private void MethodThatCouldBeCalledLaterFromExcel() {\n        System.out.println(&quot;Calling MethodThatCouldBeCalledLaterFromExcel&quot;);\n    }\n\n    private void ReturnOrder() {\n        System.out.println(&quot;Calling ReturnOrder&quot;);\n    }\n\n    public static void main(String[] args) {\n        WebAutomation automation = new WebAutomation();\n        try {\n            String[] params = { &quot;Yes&quot;, &quot;No&quot; };\n            for (String param : params) {\n                automation.executeMethod(param);\n            }\n        } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8387551,"reputation":141,"user_id":6297426,"accept_rate":67,"display_name":"Enock Prince"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74634009,"answer_count":1,"score":0,"last_activity_date":1669841492,"creation_date":1669831819,"question_id":74632358,"body_markdown":"I have an excel with scenarios and flag values. Based on flag value respective method should be called.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPlease take a look at below snippet.\r\n\r\n```\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport java.io.IOException;\r\n\r\npublic class WebAutomation{\r\n  public static void main(String[] args) throws InterruptedException, IOException {\r\n        String projectpath = System.getProperty(&quot;user.dir&quot;);\r\n      \tXSSFWorkbook workbook = new XSSFWorkbook(projectpath+&quot;\\\\Data\\\\Driver.xlsx&quot;);\r\n\t\tXSSFSheet sheet = workbook.getSheet(&quot;Driver&quot;);\r\n        int rowCount = sheet.getPhysicalNumberOfRows();\r\n        for (int i = 1; i &lt; rowCount; i++) {\r\n\t\t\t\t//i am looking for a snippet here to call the respective method\r\n\t\t\t  }\r\n        workbook.close();\r\n }\r\n  public static void MethodOne() {\r\n   System.out.println(&quot;Calling First method&quot;); \r\n  }\r\n  public static void MethodTwo() {\r\n   System.out.println(&quot;Calling Second method&quot;); \r\n  }\r\n}\r\n\r\n\r\n```\r\nI implemented above approach by using QTP long before and trying the same in Selenium as well but couldn&#39;t succeed. By using Eval command in VBscript i am able to call functions and now looking for something like that.\r\n\r\nThanks in advance... \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4oz7S.png","title":"Call methods from string","body":"<p>I have an excel with scenarios and flag values. Based on flag value respective method should be called.</p>\n<p><a href=\"https://i.stack.imgur.com/4oz7S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4oz7S.png\" alt=\"enter image description here\" /></a></p>\n<p>Please take a look at below snippet.</p>\n<pre><code>import org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport java.io.IOException;\n\npublic class WebAutomation{\n  public static void main(String[] args) throws InterruptedException, IOException {\n        String projectpath = System.getProperty(&quot;user.dir&quot;);\n        XSSFWorkbook workbook = new XSSFWorkbook(projectpath+&quot;\\\\Data\\\\Driver.xlsx&quot;);\n        XSSFSheet sheet = workbook.getSheet(&quot;Driver&quot;);\n        int rowCount = sheet.getPhysicalNumberOfRows();\n        for (int i = 1; i &lt; rowCount; i++) {\n                //i am looking for a snippet here to call the respective method\n              }\n        workbook.close();\n }\n  public static void MethodOne() {\n   System.out.println(&quot;Calling First method&quot;); \n  }\n  public static void MethodTwo() {\n   System.out.println(&quot;Calling Second method&quot;); \n  }\n}\n\n\n</code></pre>\n<p>I implemented above approach by using QTP long before and trying the same in Selenium as well but couldn't succeed. By using Eval command in VBscript i am able to call functions and now looking for something like that.</p>\n<p>Thanks in advance...</p>\n"},{"tags":["java","recursion","tree","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1669530882,"post_id":74587836,"comment_id":131659183,"body_markdown":"Is the array turned into a complete binary tree in the fashion of a [binary heap](https://en.wikipedia.org/wiki/Binary_heap#Heap_implementation)?","body":"Is the array turned into a complete binary tree in the fashion of a <a href=\"https://en.wikipedia.org/wiki/Binary_heap#Heap_implementation\" rel=\"nofollow noreferrer\">binary heap</a>?"},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669531150,"post_id":74587836,"comment_id":131659211,"body_markdown":"im not familiar with the term binary heap","body":"im not familiar with the term binary heap"},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1669531290,"post_id":74587836,"comment_id":131659232,"body_markdown":"Children of index `i` are at `2i + 1` and `2i + 2`.","body":"Children of index <code>i</code> are at <code>2i + 1</code> and <code>2i + 2</code>."},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669531653,"post_id":74587836,"comment_id":131659274,"body_markdown":"im not allowed to use index, only recursively","body":"im not allowed to use index, only recursively"},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1669531965,"post_id":74587836,"comment_id":131659318,"body_markdown":"Okay; say the array is `[0,1,2,3,4,5,6]`, would that go right-to-left? The children of 0 are 1 and 2, and 2 are 5 and 6? It&#39;s a way to turn an array into a tree that seems to work for your example.","body":"Okay; say the array is <code>[0,1,2,3,4,5,6]</code>, would that go right-to-left? The children of 0 are 1 and 2, and 2 are 5 and 6? It&#39;s a way to turn an array into a tree that seems to work for your example."},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669532121,"post_id":74587836,"comment_id":131659329,"body_markdown":"if its added in the tree in that same order? i cant answer for certain because im not able to debug it, but afaik it would be like:","body":"if its added in the tree in that same order? i cant answer for certain because im not able to debug it, but afaik it would be like:"},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":1,"creation_date":1669532231,"post_id":74587836,"comment_id":131659342,"body_markdown":"im not trying to turn an array into a tree tho","body":"im not trying to turn an array into a tree tho"},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1669532555,"post_id":74587836,"comment_id":131659378,"body_markdown":"So that&#39;s irrelevant, then. You probably want to return the minimum value from `recgmd`, because it&#39;s [pass-by-value](https://stackoverflow.com/a/430958/2472827).","body":"So that&#39;s irrelevant, then. You probably want to return the minimum value from <code>recgmd</code>, because it&#39;s <a href=\"https://stackoverflow.com/a/430958/2472827\">pass-by-value</a>."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1669577982,"post_id":74587836,"comment_id":131667990,"body_markdown":"Although, looking further, I don&#39;t think you can do subtraction with a generic. I&#39;m not sure it&#39;s even possible to do `&lt;T extends Number&gt;`. Is it possible to get rid of the generics?","body":"Although, looking further, I don&#39;t think you can do subtraction with a generic. I&#39;m not sure it&#39;s even possible to do <code>&lt;T extends Number&gt;</code>. Is it possible to get rid of the generics?"},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669587732,"post_id":74587836,"comment_id":131669897,"body_markdown":"i made an alternate implementation, tomorrow i will keep trying this one tho","body":"i made an alternate implementation, tomorrow i will keep trying this one tho"},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1669613971,"post_id":74587836,"comment_id":131673367,"body_markdown":"This is a property of an edge, as far as I could see, so calling this recursively with `prevNode` sounds wrong to me, shouldn&#39;t it be `currentNode`?","body":"This is a property of an edge, as far as I could see, so calling this recursively with <code>prevNode</code> sounds wrong to me, shouldn&#39;t it be <code>currentNode</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669531165,"creation_date":1669531165,"answer_id":74588043,"question_id":74587836,"body_markdown":"You have to made the calculation for `min` value for every step: \r\n\r\n\r\n    \r\n\r\n    public static void recgmd(int minHolder,BTNode&lt;Integer, Integer&gt; currentNode, BTNode&lt;Integer, Integer&gt; prevNode) {\r\n        if(currentNode == null) {\r\n            return;\r\n        }\r\n        \r\n        if(prevNode != null){\r\n            if(currentNode.getValue() - prevNode.getValue() &lt;= minHolder) {\r\n                minHolder = currentNode.getValue() - prevNode.getValue();\r\n            }\r\n        }\r\n        prevNode = currentNode;\r\n        recgmd(minHolder, currentNode.getLeftChild(), prevNode);\r\n        recgmd(minHolder, currentNode.getRightChild(), prevNode);\r\n    }\r\n\r\nNote: `prevNode` should have right value for every `parentNode`, not only for `rightNode` &#39;s parent. ","title":"my method is not returning the minimum difference of nodes in a bst","body":"<p>You have to made the calculation for <code>min</code> value for every step:</p>\n<pre><code>public static void recgmd(int minHolder,BTNode&lt;Integer, Integer&gt; currentNode, BTNode&lt;Integer, Integer&gt; prevNode) {\n    if(currentNode == null) {\n        return;\n    }\n    \n    if(prevNode != null){\n        if(currentNode.getValue() - prevNode.getValue() &lt;= minHolder) {\n            minHolder = currentNode.getValue() - prevNode.getValue();\n        }\n    }\n    prevNode = currentNode;\n    recgmd(minHolder, currentNode.getLeftChild(), prevNode);\n    recgmd(minHolder, currentNode.getRightChild(), prevNode);\n}\n</code></pre>\n<p>Note: <code>prevNode</code> should have right value for every <code>parentNode</code>, not only for <code>rightNode</code> 's parent.</p>\n"},{"tags":[],"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669840684,"creation_date":1669793039,"answer_id":74624154,"question_id":74587836,"body_markdown":"## High-level\r\n\r\nAssuming another way to look at this is, given one `int`-labelled node in a connected acyclic graph, with DFS or BFS with an accumulator, return the value of the edge that has the least absolute difference between two nodes at it&#39;s endpoints. There will always be at least one edge, all nodes are non-negative, and nodes are unique.\r\n\r\nThe non-negative means we can always store it in an `int`. The nodes are unique means the difference value will be positive.\r\n\r\n## Structure of class\r\n\r\n`int getMinimumDifference` does not fit with generics in `BTNode&lt;Integer, Integer&gt;`. From what you have posted, there should be no need for generics. The `class BTNode` data should have an `int` for the label and two `BTNode` for the children. If you aren&#39;t changing them, you might label them `final`.\r\n\r\nWithin the class, it&#39;s easiest if you have `public int getMinimumDifference()`. This receives `this` as a `BTNode`, so one could do `int diff = root.getMinimumDifference()`.\r\n\r\nThere are lots of ways to do this, you might call `private int recgmd()`, a recursive helper method that returns the minimum out of all the edges in the sub-tree rooted at `this`. This may return the minimum of `Integer.MAX_VALUE`, `|value - left.value|`, `left.recgmd()`, `|value - right.value|`, and `right.recgmd()`, if the individual values exist.\r\n\r\n## Verify constraints\r\n\r\nOne could check that the constrains are followed. In [programming with assertions](https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html) it says &quot;Do not use assertions for argument checking in public methods.&quot; I would use an [unchecked exception](https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html) in `getMinimumDifference`, before handing it off to `recgmd`.\r\n\r\n```\r\n\t\tif(left == null &amp;&amp; right == null)\r\n\t\t\tthrow new IllegalArgumentException(&quot;one node&quot;);\r\n```\r\n\r\nThe uniqueness guarantee means one might also check if it&#39;s greater than zero before returning it.\r\n\r\nIn `recgmd`, one might test that the non-negative constraint is held.\r\n\r\n```\r\n\t\tif(value &lt; 0) throw new IllegalArgumentException(&quot;negative node&quot;);\r\n```\r\n\r\n## Debug\r\n\r\n```\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder(80);\r\n\t\t/* Not guaranteed to be unique, but, for our purposes, it&#39;s unlikely to\r\n\t\t cause a collision. See, &lt;https://stackoverflow.com/q/909843/2472827&gt;. */\r\n\t\tsb.append(&quot;\\tnode&quot;).append(System.identityHashCode(this))\r\n\t\t\t.append(&quot; [label=\\&quot;&quot;).append(value).append(&quot;\\&quot;];\\n&quot;);\r\n\t\tif(left != null) sb.append(&quot;\\tnode&quot;)\r\n\t\t\t.append(System.identityHashCode(this)).append(&quot; -&gt; node&quot;)\r\n\t\t\t.append(System.identityHashCode(left)).append(&quot;;\\n&quot;).append(left);\r\n\t\tif(right != null) sb.append(&quot;\\tnode&quot;)\r\n\t\t\t.append(System.identityHashCode(this)).append(&quot; -&gt; node&quot;)\r\n\t\t\t.append(System.identityHashCode(right)).append(&quot;;\\n&quot;).append(right);\r\n\t\treturn sb + &quot;&quot;;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBTNode root = new BTNode(4, new BTNode(2, new BTNode(1),\r\n\t\t\tnew BTNode(3)), new BTNode(6));\r\n\t\tSystem.out.printf(&quot;digraph {\\n\\tgraph [truecolor=true, bgcolor=transparent, fontname=modern];\\n\\tnode [shape=plaintext, fontname=modern];\\n%s}\\n&quot;, root);\r\n    }\r\n```\r\n\r\nRunning `java BTNode &gt; tree.gv` and opening it with [Graphviz](https://graphviz.org/) gives,\r\n\r\n[![Visualization of example.][1]][1]\r\n\r\nWhich may be helpful for debugging.\r\n\r\n## Binary Search Tree _vs_ Binary Search\r\n\r\nIf one has a sorted array, you can perform a binary search without a tree structure. See [Difference between binary search and binary search tree?](https://stackoverflow.com/q/21586085/2472827) In this case, a tree could be viewed as implicit, defined, for example in `[int left, int right)`.\r\n\r\n  [1]: https://i.stack.imgur.com/jNRBz.png","title":"my method is not returning the minimum difference of nodes in a bst","body":"<h2>High-level</h2>\n<p>Assuming another way to look at this is, given one <code>int</code>-labelled node in a connected acyclic graph, with DFS or BFS with an accumulator, return the value of the edge that has the least absolute difference between two nodes at it's endpoints. There will always be at least one edge, all nodes are non-negative, and nodes are unique.</p>\n<p>The non-negative means we can always store it in an <code>int</code>. The nodes are unique means the difference value will be positive.</p>\n<h2>Structure of class</h2>\n<p><code>int getMinimumDifference</code> does not fit with generics in <code>BTNode&lt;Integer, Integer&gt;</code>. From what you have posted, there should be no need for generics. The <code>class BTNode</code> data should have an <code>int</code> for the label and two <code>BTNode</code> for the children. If you aren't changing them, you might label them <code>final</code>.</p>\n<p>Within the class, it's easiest if you have <code>public int getMinimumDifference()</code>. This receives <code>this</code> as a <code>BTNode</code>, so one could do <code>int diff = root.getMinimumDifference()</code>.</p>\n<p>There are lots of ways to do this, you might call <code>private int recgmd()</code>, a recursive helper method that returns the minimum out of all the edges in the sub-tree rooted at <code>this</code>. This may return the minimum of <code>Integer.MAX_VALUE</code>, <code>|value - left.value|</code>, <code>left.recgmd()</code>, <code>|value - right.value|</code>, and <code>right.recgmd()</code>, if the individual values exist.</p>\n<h2>Verify constraints</h2>\n<p>One could check that the constrains are followed. In <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">programming with assertions</a> it says &quot;Do not use assertions for argument checking in public methods.&quot; I would use an <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">unchecked exception</a> in <code>getMinimumDifference</code>, before handing it off to <code>recgmd</code>.</p>\n<pre><code>        if(left == null &amp;&amp; right == null)\n            throw new IllegalArgumentException(&quot;one node&quot;);\n</code></pre>\n<p>The uniqueness guarantee means one might also check if it's greater than zero before returning it.</p>\n<p>In <code>recgmd</code>, one might test that the non-negative constraint is held.</p>\n<pre><code>        if(value &lt; 0) throw new IllegalArgumentException(&quot;negative node&quot;);\n</code></pre>\n<h2>Debug</h2>\n<pre><code>    public String toString() {\n        StringBuilder sb = new StringBuilder(80);\n        /* Not guaranteed to be unique, but, for our purposes, it's unlikely to\n         cause a collision. See, &lt;https://stackoverflow.com/q/909843/2472827&gt;. */\n        sb.append(&quot;\\tnode&quot;).append(System.identityHashCode(this))\n            .append(&quot; [label=\\&quot;&quot;).append(value).append(&quot;\\&quot;];\\n&quot;);\n        if(left != null) sb.append(&quot;\\tnode&quot;)\n            .append(System.identityHashCode(this)).append(&quot; -&gt; node&quot;)\n            .append(System.identityHashCode(left)).append(&quot;;\\n&quot;).append(left);\n        if(right != null) sb.append(&quot;\\tnode&quot;)\n            .append(System.identityHashCode(this)).append(&quot; -&gt; node&quot;)\n            .append(System.identityHashCode(right)).append(&quot;;\\n&quot;).append(right);\n        return sb + &quot;&quot;;\n    }\n\n    public static void main(String[] args) {\n        BTNode root = new BTNode(4, new BTNode(2, new BTNode(1),\n            new BTNode(3)), new BTNode(6));\n        System.out.printf(&quot;digraph {\\n\\tgraph [truecolor=true, bgcolor=transparent, fontname=modern];\\n\\tnode [shape=plaintext, fontname=modern];\\n%s}\\n&quot;, root);\n    }\n</code></pre>\n<p>Running <code>java BTNode &gt; tree.gv</code> and opening it with <a href=\"https://graphviz.org/\" rel=\"nofollow noreferrer\">Graphviz</a> gives,</p>\n<p><a href=\"https://i.stack.imgur.com/jNRBz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNRBz.png\" alt=\"Visualization of example.\" /></a></p>\n<p>Which may be helpful for debugging.</p>\n<h2>Binary Search Tree <em>vs</em> Binary Search</h2>\n<p>If one has a sorted array, you can perform a binary search without a tree structure. See <a href=\"https://stackoverflow.com/q/21586085/2472827\">Difference between binary search and binary search tree?</a> In this case, a tree could be viewed as implicit, defined, for example in <code>[int left, int right)</code>.</p>\n"}],"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669840684,"creation_date":1669528460,"question_id":74587836,"body_markdown":"I&#39;m not sure why its not returning the minimum difference that can be found in the binary search tree. I cant debug nor use tester which has made it more difficult to find the issue.\r\n\r\n```\r\nInstrcutions:\r\n```\r\nImplement a method called getMinimumDifference()&#160;that takes in as parameter the root of a Binary Search Tree and returns an integer denoting the minimum absolute difference of any two distinct nodes within the Binary Search Tree.\r\n\r\nAssumptions:\r\n\r\n   The node values in the binary search tree are greater than or equal to zero.\r\n    All node values in the binary search tree are unique.\r\n    The method will never receive the root of a tree that less than 2 nodes.\r\n\r\n```\r\ntree: [4,2,6,1,3] \r\n\r\n            4\r\n      2____||____6\r\n 1___||___3\r\n\r\nexpected output: 1\r\n```\r\n\r\n```\r\npublic static int getMinimumDifference(BTNode&lt;Integer, Integer&gt; root) {\t\t\r\n\t\tint minHolder = 9;\r\n\t\tBTNode&lt;Integer, Integer&gt; newNode = null;\r\n\t\trecgmd(minHolder, root, newNode);\r\n\t\treturn minHolder;\r\n\t}\r\n\tpublic static void recgmd(int minHolder,BTNode&lt;Integer, Integer&gt; currentNode, BTNode&lt;Integer, Integer&gt; prevNode) {\r\n\t\tif(currentNode == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trecgmd(minHolder, currentNode.getLeftChild(), prevNode);\r\n\t\tif(prevNode != null){\r\n\t\t\tif(currentNode.getValue() - prevNode.getValue() &lt;= minHolder) {\r\n\t\t\t\tminHolder = currentNode.getValue() - prevNode.getValue();\r\n\t\t\t}\r\n\t\t}\r\n\t\tprevNode = currentNode;\r\n\t\trecgmd(minHolder, currentNode.getRightChild(), prevNode);\r\n\t}\r\n```\r\n\r\n```\r\nDescription of how my code works:\r\n\r\nOrder: in-order\r\nWhy? To be able to compare between the previous node and the current one since they will be ascending order\r\n\r\n&gt;getMinimumDifference&lt;\r\n&lt;Parameter&gt;[root]\r\n\r\n-[minHolder] Created variable that will be returned with the minimum difference found in BST.\r\n-[newNode] Created node(will function as a prevNode) that will be compared with the current node on the helper method.\r\n-Calls the helper, passing as parameters:[minHolder], [currentNode] and [prevNode].\r\n\r\n&gt;recgmd&lt;\r\n&lt;Parameter&gt;[minHolder] Variable that will be returned with the minimum difference found in BST.\r\n&lt;Parameter&gt;[currentNode] Self-explanatory.\r\n&lt;Parameter&gt;[prevNode] Self-explanatory.\r\n\r\n-if the [currentNode] is null, returns\r\n-recursive call to left child\r\n-if its the first round(where [prevNode] is still null, skips)\r\n--Otherwise, we check if the difference between the value of the [currentNode](which will always be greater than the later) and the [prevNode] is less than the value contained in [minHolder]\r\n---if it is, the difference is saved in [minHolder]\r\n----Otherwise, it continues\r\n-[prevNode] is updated\r\n-recursive call to left child","title":"my method is not returning the minimum difference of nodes in a bst","body":"<p>I'm not sure why its not returning the minimum difference that can be found in the binary search tree. I cant debug nor use tester which has made it more difficult to find the issue.</p>\n<pre><code>Instrcutions:\n</code></pre>\n<p>Implement a method called getMinimumDifference() that takes in as parameter the root of a Binary Search Tree and returns an integer denoting the minimum absolute difference of any two distinct nodes within the Binary Search Tree.</p>\n<p>Assumptions:</p>\n<p>The node values in the binary search tree are greater than or equal to zero.\nAll node values in the binary search tree are unique.\nThe method will never receive the root of a tree that less than 2 nodes.</p>\n<pre><code>tree: [4,2,6,1,3] \n\n            4\n      2____||____6\n 1___||___3\n\nexpected output: 1\n</code></pre>\n<pre><code>public static int getMinimumDifference(BTNode&lt;Integer, Integer&gt; root) {     \n        int minHolder = 9;\n        BTNode&lt;Integer, Integer&gt; newNode = null;\n        recgmd(minHolder, root, newNode);\n        return minHolder;\n    }\n    public static void recgmd(int minHolder,BTNode&lt;Integer, Integer&gt; currentNode, BTNode&lt;Integer, Integer&gt; prevNode) {\n        if(currentNode == null) {\n            return;\n        }\n        recgmd(minHolder, currentNode.getLeftChild(), prevNode);\n        if(prevNode != null){\n            if(currentNode.getValue() - prevNode.getValue() &lt;= minHolder) {\n                minHolder = currentNode.getValue() - prevNode.getValue();\n            }\n        }\n        prevNode = currentNode;\n        recgmd(minHolder, currentNode.getRightChild(), prevNode);\n    }\n</code></pre>\n<pre><code>Description of how my code works:\n\nOrder: in-order\nWhy? To be able to compare between the previous node and the current one since they will be ascending order\n\n&gt;getMinimumDifference&lt;\n&lt;Parameter&gt;[root]\n\n-[minHolder] Created variable that will be returned with the minimum difference found in BST.\n-[newNode] Created node(will function as a prevNode) that will be compared with the current node on the helper method.\n-Calls the helper, passing as parameters:[minHolder], [currentNode] and [prevNode].\n\n&gt;recgmd&lt;\n&lt;Parameter&gt;[minHolder] Variable that will be returned with the minimum difference found in BST.\n&lt;Parameter&gt;[currentNode] Self-explanatory.\n&lt;Parameter&gt;[prevNode] Self-explanatory.\n\n-if the [currentNode] is null, returns\n-recursive call to left child\n-if its the first round(where [prevNode] is still null, skips)\n--Otherwise, we check if the difference between the value of the [currentNode](which will always be greater than the later) and the [prevNode] is less than the value contained in [minHolder]\n---if it is, the difference is saved in [minHolder]\n----Otherwise, it continues\n-[prevNode] is updated\n-recursive call to left child\n</code></pre>\n"},{"tags":["java","mysql","database","hibernate","encoding"],"comments":[{"owner":{"account_id":13584293,"reputation":33,"user_id":9799423,"display_name":"Danilo99"},"score":0,"creation_date":1541776643,"post_id":53228364,"comment_id":93343594,"body_markdown":"netbeans and browser can recognize chinese characters, only mysql show them as &quot;???&quot;.","body":"netbeans and browser can recognize chinese characters, only mysql show them as &quot;???&quot;."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1541777491,"post_id":53228364,"comment_id":93344078,"body_markdown":"Have you tried changing the font to a more utf8 friendly font? https://stackoverflow.com/questions/9553386/changing-font-in-mysqlworkbench        https://en.wikipedia.org/wiki/Unicode_font","body":"Have you tried changing the font to a more utf8 friendly font? <a href=\"https://stackoverflow.com/questions/9553386/changing-font-in-mysqlworkbench\" title=\"changing font in mysqlworkbench\">stackoverflow.com/questions/9553386/&hellip;</a>        <a href=\"https://en.wikipedia.org/wiki/Unicode_font\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Unicode_font</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1541777887,"post_id":53228364,"comment_id":93344304,"body_markdown":"I would try `GNU_Unifont` in the `Resultset Grid:`.","body":"I would try <code>GNU_Unifont</code> in the <code>Resultset Grid:</code>."},{"owner":{"account_id":13584293,"reputation":33,"user_id":9799423,"display_name":"Danilo99"},"score":0,"creation_date":1541778382,"post_id":53228364,"comment_id":93344588,"body_markdown":"i tried that now and it still doesnt work. when i try to change column from varchar to nvarchar and in same tame set column collation &quot;utf-8 default&quot; it shows error.\nERROR 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;CHARACTER SET &#39;utf8&#39; NULL DEFAULT NULL&#39; at line 2\nSQL Statement:\nALTER TABLE `kineski`.`kineski` \nCHANGE COLUMN `kin_tekst` `kin_tekst` NVARCHAR(4000) CHARACTER SET &#39;utf8&#39; NULL DEFAULT NULL","body":"i tried that now and it still doesnt work. when i try to change column from varchar to nvarchar and in same tame set column collation &quot;utf-8 default&quot; it shows error. ERROR 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;CHARACTER SET &#39;utf8&#39; NULL DEFAULT NULL&#39; at line 2 SQL Statement: ALTER TABLE <code>kineski</code>.<code>kineski</code>  CHANGE COLUMN <code>kin_tekst</code> <code>kin_tekst</code> NVARCHAR(4000) CHARACTER SET &#39;utf8&#39; NULL DEFAULT NULL"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1541778510,"post_id":53228364,"comment_id":93344656,"body_markdown":"Did you restart mysql workbench after the change?","body":"Did you restart mysql workbench after the change?"},{"owner":{"account_id":13584293,"reputation":33,"user_id":9799423,"display_name":"Danilo99"},"score":0,"creation_date":1541779603,"post_id":53228364,"comment_id":93345303,"body_markdown":"yes. i dont think that is the problem.","body":"yes. i dont think that is the problem."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1541780661,"post_id":53228364,"comment_id":93345953,"body_markdown":"I don&#39;t think you should have changed &quot;utf***&quot;. I think the characters are there. You just need a font that can display the characters properly.","body":"I don&#39;t think you should have changed &quot;utf***&quot;. I think the characters are there. You just need a font that can display the characters properly."},{"owner":{"account_id":13584293,"reputation":33,"user_id":9799423,"display_name":"Danilo99"},"score":0,"creation_date":1541781425,"post_id":53228364,"comment_id":93346338,"body_markdown":"i have tried to set GNU_Unifont now, and it still doesnt work..","body":"i have tried to set GNU_Unifont now, and it still doesnt work.."},{"owner":{"account_id":13584293,"reputation":33,"user_id":9799423,"display_name":"Danilo99"},"score":0,"creation_date":1541784746,"post_id":53228364,"comment_id":93348123,"body_markdown":"do you have any more ideas?","body":"do you have any more ideas?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1541785058,"post_id":53228364,"comment_id":93348273,"body_markdown":"Sorry, I don&#39;t.","body":"Sorry, I don&#39;t."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1541806299,"post_id":53228364,"comment_id":93355815,"body_markdown":"Show us the connection parameters.","body":"Show us the connection parameters."}],"answers":[{"tags":[],"owner":{"account_id":11154878,"reputation":963,"user_id":8186927,"display_name":"Lang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541777672,"creation_date":1541777672,"answer_id":53228750,"question_id":53228364,"body_markdown":"不知道你用的哪个版本的mysql, 但是你需要配置mysql\r\n\r\n    character_set_server=utf8mb4\r\n\r\n一些版本hibernate能够正确配置，但是一些版本需要你手动配置。","title":"how to write Chinese characters into MySQL with hibernate?","body":"<p>不知道你用的哪个版本的mysql, 但是你需要配置mysql</p>\n\n<pre><code>character_set_server=utf8mb4\n</code></pre>\n\n<p>一些版本hibernate能够正确配置，但是一些版本需要你手动配置。</p>\n"},{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1541806434,"creation_date":1541806434,"answer_id":53234595,"question_id":53228364,"body_markdown":"Hibernate XML:\r\n\r\n    &lt;property name=&quot;hibernate.connection.CharSet&quot;&gt;utf8mb4&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/property&gt;\r\n\r\nConnection url:\r\n\r\n    db.url=jdbc:mysql://localhost:3306/db_nameuseUnicode=true&amp;character_set_server=utf8mb4\r\n\r\nThe above changes were enough for me to upgrade from utf8 to utf8mb4 charset scheme.\r\n\r\nAs a side note I would like to make one clarification that UTF-8 is the character encoding while utf8mb4 is a character set that MySQL supports. MySQL&#39;s utf8mb4 is a superset to MySQL&#39;s utf8.\r\n\r\nSpring/Hibernate filter:\r\n\r\n    &lt;form accept-charset=&quot;UTF-8&quot;&gt;\r\n\r\n\r\nSpring/Hibernate:\r\n\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/miniprojetjee?useUnicode=true&amp;connectionCollation=utf8_general_ci&amp;characterSetResults=utf8&amp;characterEncoding=utf-8&quot;/&gt; (or maybe it is =yes)\r\n\r\n&quot;Spring&quot;:\r\n\r\n    @RequestMapping(value = &quot;/getRegion2&quot;, produces={&quot;application/json; charset=UTF-8&quot;},method = RequestMethod.GET)\r\n","title":"how to write Chinese characters into MySQL with hibernate?","body":"<p>Hibernate XML:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.CharSet\"&gt;utf8mb4&lt;/property&gt;\n&lt;property name=\"hibernate.connection.characterEncoding\"&gt;utf8&lt;/property&gt;\n&lt;property name=\"hibernate.connection.useUnicode\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>Connection url:</p>\n\n<pre><code>db.url=jdbc:mysql://localhost:3306/db_nameuseUnicode=true&amp;character_set_server=utf8mb4\n</code></pre>\n\n<p>The above changes were enough for me to upgrade from utf8 to utf8mb4 charset scheme.</p>\n\n<p>As a side note I would like to make one clarification that UTF-8 is the character encoding while utf8mb4 is a character set that MySQL supports. MySQL's utf8mb4 is a superset to MySQL's utf8.</p>\n\n<p>Spring/Hibernate filter:</p>\n\n<pre><code>&lt;form accept-charset=\"UTF-8\"&gt;\n</code></pre>\n\n<p>Spring/Hibernate:</p>\n\n<pre><code>&lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/miniprojetjee?useUnicode=true&amp;connectionCollation=utf8_general_ci&amp;characterSetResults=utf8&amp;characterEncoding=utf-8\"/&gt; (or maybe it is =yes)\n</code></pre>\n\n<p>\"Spring\":</p>\n\n<pre><code>@RequestMapping(value = \"/getRegion2\", produces={\"application/json; charset=UTF-8\"},method = RequestMethod.GET)\n</code></pre>\n"}],"owner":{"account_id":13584293,"reputation":33,"user_id":9799423,"display_name":"Danilo99"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53234595,"answer_count":2,"score":3,"last_activity_date":1669840073,"creation_date":1541776337,"question_id":53228364,"body_markdown":"I&#39;m making a web application with JavaScript. I&#39;m using java servlet which is connected with MySQL database with hibernate. in Servlet there is a String in Chinese, and when I try to write that string into MySQL field it shows up as &quot;?&quot; in MySQL. my whole project in netbeans is set to charset=UTF-8. I tried to set collation and charset in database to utf-8, utf8mb4, big5 and none of them works. I also tried to change my column from varchar to nvarchar but when I click apply (MySQL workbench) the column is still &quot;varchar&quot;.\r\n\r\nthis is my servlet\r\n \r\n\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            response.setContentType(&quot;application/json&quot;);\r\n            String tabla=request.getParameter(&quot;tabla&quot;);\r\n            //String tabla contains chinese caracters\r\n            String user=request.getParameter(&quot;user&quot;);\r\n            Configuration myConf = new Configuration();\r\n            myConf.configure(&quot;hib/hibernate.cfg.xml&quot;);\r\n            StandardServiceRegistry service = new StandardServiceRegistryBuilder().\r\n                    applySettings(myConf.getProperties()).build();\r\n            SessionFactory myFactory = myConf.buildSessionFactory(service);\r\n            Session conn = myFactory.openSession();\r\n            Transaction t = conn.beginTransaction();\r\n           \r\n            List&lt;User&gt;upislista;\r\n            upislista=conn.createQuery(&quot;SELECT u FROM User u WHERE useUsername=&#39;&quot;+user+&quot;&#39;&quot;).list();\r\n            upislista.get(0).setUseKineski(tabla);\r\n            \r\n            \r\n            \r\n    \r\n    \r\n            t.commit();\r\n            conn.close();","title":"how to write Chinese characters into MySQL with hibernate?","body":"<p>I'm making a web application with JavaScript. I'm using java servlet which is connected with MySQL database with hibernate. in Servlet there is a String in Chinese, and when I try to write that string into MySQL field it shows up as &quot;?&quot; in MySQL. my whole project in netbeans is set to charset=UTF-8. I tried to set collation and charset in database to utf-8, utf8mb4, big5 and none of them works. I also tried to change my column from varchar to nvarchar but when I click apply (MySQL workbench) the column is still &quot;varchar&quot;.</p>\n<p>this is my servlet</p>\n<pre><code>protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType(&quot;application/json&quot;);\n        String tabla=request.getParameter(&quot;tabla&quot;);\n        //String tabla contains chinese caracters\n        String user=request.getParameter(&quot;user&quot;);\n        Configuration myConf = new Configuration();\n        myConf.configure(&quot;hib/hibernate.cfg.xml&quot;);\n        StandardServiceRegistry service = new StandardServiceRegistryBuilder().\n                applySettings(myConf.getProperties()).build();\n        SessionFactory myFactory = myConf.buildSessionFactory(service);\n        Session conn = myFactory.openSession();\n        Transaction t = conn.beginTransaction();\n       \n        List&lt;User&gt;upislista;\n        upislista=conn.createQuery(&quot;SELECT u FROM User u WHERE useUsername='&quot;+user+&quot;'&quot;).list();\n        upislista.get(0).setUseKineski(tabla);\n        \n        \n        \n\n\n        t.commit();\n        conn.close();\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1669615962,"post_id":74596617,"comment_id":131673686,"body_markdown":"How do you know `W` is `String`?","body":"How do you know <code>W</code> is <code>String</code>?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669654876,"post_id":74596617,"comment_id":131686418,"body_markdown":"Why are you even doing `List&lt;W&gt;` instead of `List&lt;String&gt;` there?","body":"Why are you even doing <code>List&lt;W&gt;</code> instead of <code>List&lt;String&gt;</code> there?"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669618852,"creation_date":1669618852,"answer_id":74597031,"question_id":74596617,"body_markdown":"    List&lt;W&gt; l1 = new ArrayList&lt;String&gt;();\r\n\r\nIssue here is, that you declare a variable l1 for a List of type W items, but then you assign an (Array)List of type String to it. This is only acceptable, if W is also String. \r\n\r\nYou can just use W as type argument for the ArrayList or remove type argument from it. \r\n\r\n    List&lt;W&gt; l1 = new ArrayList&lt;&gt;();\r\n\r\nRegarding your next question:\r\n\r\n    doSomething1(new ArrayList&lt;String&gt;());\r\n\r\nHere you simply create a new ArrayList of type String and pass it as argument to doSomething1. At doSomething1, type argument L will therefore be String. \r\n\r\n","title":"What you cannot do List&lt;W&gt; l1 = new ArrayList&lt;String&gt;(); while this works when calling method","body":"<pre><code>List&lt;W&gt; l1 = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>Issue here is, that you declare a variable l1 for a List of type W items, but then you assign an (Array)List of type String to it. This is only acceptable, if W is also String.</p>\n<p>You can just use W as type argument for the ArrayList or remove type argument from it.</p>\n<pre><code>List&lt;W&gt; l1 = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Regarding your next question:</p>\n<pre><code>doSomething1(new ArrayList&lt;String&gt;());\n</code></pre>\n<p>Here you simply create a new ArrayList of type String and pass it as argument to doSomething1. At doSomething1, type argument L will therefore be String.</p>\n"},{"tags":[],"owner":{"account_id":25076889,"reputation":13,"user_id":18930205,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669618941,"creation_date":1669618891,"answer_id":74597042,"question_id":74596617,"body_markdown":"**case 1 :**\r\n\r\n    List&lt;W&gt; l1 = new ArrayList&lt;String&gt;();\r\n\r\nYou are telling java that create a generic list and in the same declaration you are specifying the data type as String. So compiler is confused what to do.\r\n\r\n**Case 2 :**\r\n\r\n    &lt;L&gt; L doSomething1(List&lt;L&gt; list) method\r\n\r\nIn this case java knows that generic list is input . All the action done on List interface. So compiles.\r\n","title":"What you cannot do List&lt;W&gt; l1 = new ArrayList&lt;String&gt;(); while this works when calling method","body":"<p><strong>case 1 :</strong></p>\n<pre><code>List&lt;W&gt; l1 = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>You are telling java that create a generic list and in the same declaration you are specifying the data type as String. So compiler is confused what to do.</p>\n<p><strong>Case 2 :</strong></p>\n<pre><code>&lt;L&gt; L doSomething1(List&lt;L&gt; list) method\n</code></pre>\n<p>In this case java knows that generic list is input . All the action done on List interface. So compiles.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669839763,"creation_date":1669839763,"answer_id":74633719,"question_id":74596617,"body_markdown":"A generic method (i.e. a method with type parameters declared specifically for that method, like you have here) means that the method can be called with the generic type parameter being any type within that type parameter&#39;s bounds, and you guarantee that the method will work. So a caller can call your `main` method, and explicitly choose `W` to be a specific type of their choosing, and you guarantee that your method will work with `W` being that type, without even knowing what `W` is. Here, that is clearly not true, since, if `W` is chosen to be anything other than `String`, the line `List&lt;W&gt; l1 = new ArrayList&lt;String&gt;();` is invalid.\r\n\r\nThe same thing is true for the `doSomething1` method -- you guarantee that no matter what type then caller chooses for `L`, the method will work. And here, it is true. The lines inside the `doSomething1` method will work no matter what you substitute for `L`.\r\n\r\nWhen you call the `doSomething1` method from `main`, you are the caller, so you can choose for its `L` type parameter to be whatever type you want. You choose for `L` to be `String` (or the compiler infers this choice for you). That is perfectly fine.","title":"What you cannot do List&lt;W&gt; l1 = new ArrayList&lt;String&gt;(); while this works when calling method","body":"<p>A generic method (i.e. a method with type parameters declared specifically for that method, like you have here) means that the method can be called with the generic type parameter being any type within that type parameter's bounds, and you guarantee that the method will work. So a caller can call your <code>main</code> method, and explicitly choose <code>W</code> to be a specific type of their choosing, and you guarantee that your method will work with <code>W</code> being that type, without even knowing what <code>W</code> is. Here, that is clearly not true, since, if <code>W</code> is chosen to be anything other than <code>String</code>, the line <code>List&lt;W&gt; l1 = new ArrayList&lt;String&gt;();</code> is invalid.</p>\n<p>The same thing is true for the <code>doSomething1</code> method -- you guarantee that no matter what type then caller chooses for <code>L</code>, the method will work. And here, it is true. The lines inside the <code>doSomething1</code> method will work no matter what you substitute for <code>L</code>.</p>\n<p>When you call the <code>doSomething1</code> method from <code>main</code>, you are the caller, so you can choose for its <code>L</code> type parameter to be whatever type you want. You choose for <code>L</code> to be <code>String</code> (or the compiler infers this choice for you). That is perfectly fine.</p>\n"}],"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1669839763,"creation_date":1669615794,"question_id":74596617,"body_markdown":"I am really not able to understand that why I get compilation error when in first case while works fine in second case.\r\n\r\n    public class GenericsTest3 {\r\n    \r\n    \tpublic static &lt;W&gt; void main(String[] args) {\r\n    \t\tList&lt;W&gt; l1 = new ArrayList&lt;String&gt;();\t\t// compilation error: Type mismatch: cannot convert from ArrayList&lt;String&gt; to List&lt;W&gt;\r\n    \t\tdoSomething1(new ArrayList&lt;String&gt;());      // works fine\r\n    \t}\r\n    \t\r\n    \tpublic static &lt;L&gt; L doSomething1(List&lt;L&gt; list) {\r\n    \t\tlist.get(0);\r\n    \t\tlist.add(list.get(0));\r\n    \t\treturn list.get(1);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nIn my understand in both the cases List is defined of type parameter T/W, so why parameterized type `new ArrayList&lt;String&gt;()` fails in one case while passes in other case.","title":"What you cannot do List&lt;W&gt; l1 = new ArrayList&lt;String&gt;(); while this works when calling method","body":"<p>I am really not able to understand that why I get compilation error when in first case while works fine in second case.</p>\n<pre><code>public class GenericsTest3 {\n\n    public static &lt;W&gt; void main(String[] args) {\n        List&lt;W&gt; l1 = new ArrayList&lt;String&gt;();       // compilation error: Type mismatch: cannot convert from ArrayList&lt;String&gt; to List&lt;W&gt;\n        doSomething1(new ArrayList&lt;String&gt;());      // works fine\n    }\n    \n    public static &lt;L&gt; L doSomething1(List&lt;L&gt; list) {\n        list.get(0);\n        list.add(list.get(0));\n        return list.get(1);\n    }\n    \n}\n</code></pre>\n<p>In my understand in both the cases List is defined of type parameter T/W, so why parameterized type <code>new ArrayList&lt;String&gt;()</code> fails in one case while passes in other case.</p>\n"},{"tags":["java","hash"],"answers":[{"tags":[],"owner":{"account_id":7180435,"reputation":1104,"user_id":5484609,"accept_rate":80,"display_name":"Kartik Chugh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669839717,"creation_date":1469395560,"answer_id":38556967,"question_id":38556889,"body_markdown":"**1**\r\nThe methods you used were for returning longs. The method you should use is String.hashCode() if you don&#39;t need hashing for security purposes. Make sure to cast an integer as a String through String.valueOf(int) before hashing it, since you said you want to hash ints as well.\r\n\r\n`int hash = String.valueOf(input).hashCode();`\r\n\r\n**2**\r\nEdit: Added MD5 info after OP requested in comment\r\n\r\nI have a class that can take an input String, process it through MD5, and convert it to a long, though I don&#39;t know how to convert it to an int. What you can do is return the long, and truncate it to only 10 characters for an int. Here is the class:\r\n\r\n    import java.security.*;\r\n\r\n    public class HX {\r\n   \r\n      final String seed;\r\n      final MessageDigest md;\r\n      final long hash;\r\n   \r\n      public HX(String s) throws NoSuchAlgorithmException {\r\n   \r\n       seed = s;\r\n        md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n        hash = computeHash();\r\n      }\r\n   \r\n      public long getHash() {\r\n        return hash;\r\n      }\r\n   \r\n      public long computeHash() {\r\n        md.reset();\r\n        final byte[] digest = md.digest(seed.getBytes());\r\n        return (computeHash(digest, 0) ^ computeHash(digest, 8));\r\n      }\r\n    \r\n      private static final long computeHash(final byte[] array, final int offset) {\r\n        long value = 0;\r\n        for (int i = 0; i &lt; 8; i++) {\r\n           value = ((value &lt;&lt; 8) | (array[offset+i] &amp; 0xFF));\r\n        }\r\n        return value;\r\n       }\r\n    }\r\n\r\nIt could still exceed the MAX_VALUE after truncation, however, so if that&#39;s the case, you&#39;d need to truncate it an int of length 9.\r\n    \r\n    long longHash = 0;\r\n    try {\r\n         HX h = new HX(seed);\r\n         longHash = h.getHash();\r\n    } catch(Exception e) {\r\n         e.printStackTrace();\r\n    }\r\n\r\n    try {\r\n      int hash = Integer.parseInt(longHash.substring(0,9));\r\n    } catch(Exception e) {\r\n      int hash = Integer.parseInt(longHash.substring(0,8));\r\n    }\r\n\r\n**3**\r\nAnother alternative is a &quot;better hash&quot; with reduced collisions, at least with regards to dictionary words.\r\n\r\n    public static int hash(String s) {\r\n      int hash = 0;\r\n      for (int i = 0; i &lt; s.length(); i++) {\r\n          hash = 257*hash + s.charAt(i);\r\n      }\r\n      return h;\r\n    }\r\n\r\n","title":"Java hashing function to return int that does not exceed Integer.MAX_VALUE","body":"<p><strong>1</strong>\nThe methods you used were for returning longs. The method you should use is String.hashCode() if you don't need hashing for security purposes. Make sure to cast an integer as a String through String.valueOf(int) before hashing it, since you said you want to hash ints as well.</p>\n<p><code>int hash = String.valueOf(input).hashCode();</code></p>\n<p><strong>2</strong>\nEdit: Added MD5 info after OP requested in comment</p>\n<p>I have a class that can take an input String, process it through MD5, and convert it to a long, though I don't know how to convert it to an int. What you can do is return the long, and truncate it to only 10 characters for an int. Here is the class:</p>\n<pre><code>import java.security.*;\n\npublic class HX {\n\n  final String seed;\n  final MessageDigest md;\n  final long hash;\n\n  public HX(String s) throws NoSuchAlgorithmException {\n\n   seed = s;\n    md = MessageDigest.getInstance(&quot;MD5&quot;);\n    hash = computeHash();\n  }\n\n  public long getHash() {\n    return hash;\n  }\n\n  public long computeHash() {\n    md.reset();\n    final byte[] digest = md.digest(seed.getBytes());\n    return (computeHash(digest, 0) ^ computeHash(digest, 8));\n  }\n\n  private static final long computeHash(final byte[] array, final int offset) {\n    long value = 0;\n    for (int i = 0; i &lt; 8; i++) {\n       value = ((value &lt;&lt; 8) | (array[offset+i] &amp; 0xFF));\n    }\n    return value;\n   }\n}\n</code></pre>\n<p>It could still exceed the MAX_VALUE after truncation, however, so if that's the case, you'd need to truncate it an int of length 9.</p>\n<pre><code>long longHash = 0;\ntry {\n     HX h = new HX(seed);\n     longHash = h.getHash();\n} catch(Exception e) {\n     e.printStackTrace();\n}\n\ntry {\n  int hash = Integer.parseInt(longHash.substring(0,9));\n} catch(Exception e) {\n  int hash = Integer.parseInt(longHash.substring(0,8));\n}\n</code></pre>\n<p><strong>3</strong>\nAnother alternative is a &quot;better hash&quot; with reduced collisions, at least with regards to dictionary words.</p>\n<pre><code>public static int hash(String s) {\n  int hash = 0;\n  for (int i = 0; i &lt; s.length(); i++) {\n      hash = 257*hash + s.charAt(i);\n  }\n  return h;\n}\n</code></pre>\n"}],"owner":{"account_id":8688425,"reputation":1127,"user_id":6502043,"display_name":"Dev. Joel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1373,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1470446890,"accepted_answer_id":38556967,"answer_count":1,"score":-4,"last_activity_date":1669839717,"creation_date":1469395024,"question_id":38556889,"body_markdown":"I need a hash function to return an int under the MAX_VALUE limit; as of now, I am receiving very large longs through the methods I have tried, given in the link below.\r\n[My current methods][1]\r\n\r\nThat was my question, since I implemented a hashtable with RandomAccesFile and need to get to position the whole seek to register or read\r\n\r\n\r\n  [1]: http://www.cse.yorku.ca/~oz/hash.html","title":"Java hashing function to return int that does not exceed Integer.MAX_VALUE","body":"<p>I need a hash function to return an int under the MAX_VALUE limit; as of now, I am receiving very large longs through the methods I have tried, given in the link below.\n<a href=\"http://www.cse.yorku.ca/~oz/hash.html\" rel=\"nofollow\">My current methods</a></p>\n\n<p>That was my question, since I implemented a hashtable with RandomAccesFile and need to get to position the whole seek to register or read</p>\n"},{"tags":["java","spring","api","rest","http"],"comments":[{"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"score":0,"creation_date":1669843343,"post_id":74633669,"comment_id":131738156,"body_markdown":"Which version of Spring Boot are you using? Can you share some code?","body":"Which version of Spring Boot are you using? Can you share some code?"},{"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"score":1,"creation_date":1669847415,"post_id":74633669,"comment_id":131739294,"body_markdown":"It&#39;s preferable to use default values for page-number, page-size, sort-by in your controller, if not specified use the default value.","body":"It&#39;s preferable to use default values for page-number, page-size, sort-by in your controller, if not specified use the default value."},{"owner":{"account_id":27103103,"reputation":1,"user_id":20649348,"display_name":"ggrigorov"},"score":0,"creation_date":1669888653,"post_id":74633669,"comment_id":131747106,"body_markdown":"I found answer to my question here: https://stackoverflow.com/questions/23751193/spring-data-jpa-limit-pagesize-how-to-set-to-maxsize","body":"I found answer to my question here: <a href=\"https://stackoverflow.com/questions/23751193/spring-data-jpa-limit-pagesize-how-to-set-to-maxsize\" title=\"spring data jpa limit pagesize how to set to maxsize\">stackoverflow.com/questions/23751193/&hellip;</a>"}],"owner":{"account_id":27103103,"reputation":1,"user_id":20649348,"display_name":"ggrigorov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669839391,"creation_date":1669839391,"question_id":74633669,"body_markdown":"I need some help. Colleague of mine said that I must not return all the entries in DB, when somebody makes getAll request without page and size specified, because that would cause backend crash after some requests at one time. What do you think, is that true and what are possible solutions? \r\n\r\nI&#39;ve searched for some property in application.yml file and also tried to make Pageable argument not null, but in both cases without success.","title":"Is it needed to limit the max size of entries that getAll request returns when I use Spring Pagination and the database is large","body":"<p>I need some help. Colleague of mine said that I must not return all the entries in DB, when somebody makes getAll request without page and size specified, because that would cause backend crash after some requests at one time. What do you think, is that true and what are possible solutions?</p>\n<p>I've searched for some property in application.yml file and also tried to make Pageable argument not null, but in both cases without success.</p>\n"},{"tags":["java","maven","java-10","java-11","module-info"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1532917760,"post_id":49398894,"comment_id":90137939,"body_markdown":"@MikhailKholodkov The bug has been resolved and one can now [make use of the `maven-compiler-plugin:3.8.0` to fix the above error](https://stackoverflow.com/a/51586202/1746118).","body":"@MikhailKholodkov The bug has been resolved and one can now <a href=\"https://stackoverflow.com/a/51586202/1746118\">make use of the <code>maven-compiler-plugin:3.8.0</code> to fix the above error</a>."}],"answers":[{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":2,"up_vote_count":146,"is_accepted":false,"score":144,"last_activity_date":1550094823,"creation_date":1521610765,"answer_id":49398936,"question_id":49398894,"body_markdown":"UPDATE\r\n------\r\n**The answer is now obsolete. See [this answer][1].**\r\n\r\n---\r\n\r\n`maven-compiler-plugin` depends on the old version of ASM which does not support Java 10 (and Java 11) yet. However, it is possible to explicitly specify the right version of ASM:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;release&gt;10&lt;/release&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.2&lt;/version&gt; &lt;!-- Use newer version of ASM --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nYou can find the latest at https://search.maven.org/search?q=g:org.ow2.asm%20AND%20a:asm&amp;core=gav\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51586202/706317","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<h2>UPDATE</h2>\n\n<p><strong>The answer is now obsolete. See <a href=\"https://stackoverflow.com/a/51586202/706317\">this answer</a>.</strong></p>\n\n<hr>\n\n<p><code>maven-compiler-plugin</code> depends on the old version of ASM which does not support Java 10 (and Java 11) yet. However, it is possible to explicitly specify the right version of ASM:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;10&lt;/release&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;version&gt;6.2&lt;/version&gt; &lt;!-- Use newer version of ASM --&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You can find the latest at <a href=\"https://search.maven.org/search?q=g:org.ow2.asm%20AND%20a:asm&amp;core=gav\" rel=\"noreferrer\">https://search.maven.org/search?q=g:org.ow2.asm%20AND%20a:asm&amp;core=gav</a></p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":2,"up_vote_count":266,"is_accepted":true,"score":264,"last_activity_date":1574866165,"creation_date":1532917093,"answer_id":51586202,"question_id":49398894,"body_markdown":"As of 30Jul, 2018 to fix the above issue, one can configure the java version used within maven to any up to JDK/11 and make use of the **[`maven-compiler-plugin:3.8.0`](https://maven.apache.org/plugins/maven-compiler-plugin/download.cgi)** to specify a release of either 9,10,11 *without any explicit dependencies*.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;release&gt;11&lt;/release&gt;  &lt;!--or &lt;release&gt;10&lt;/release&gt;--&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n***Note***:- The default value for source/target has been lifted from 1.5 to 1.6 with this version. -- [release notes.](https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317225&amp;version=12341563)\r\n\r\n\r\n----------\r\n\r\n\r\n***Edit [30.12.2018]***\r\n\r\nIn fact, you can make use of the same version of `maven-compiler-plugin` while compiling the code against JDK/12 as well. \r\n\r\nMore details and a sample configuration in how to https://stackoverflow.com/questions/52232681/compile-a-jdk12-preview-feature-with-maven.","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>As of 30Jul, 2018 to fix the above issue, one can configure the java version used within maven to any up to JDK/11 and make use of the <strong><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/download.cgi\" rel=\"noreferrer\"><code>maven-compiler-plugin:3.8.0</code></a></strong> to specify a release of either 9,10,11 <em>without any explicit dependencies</em>.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;11&lt;/release&gt;  &lt;!--or &lt;release&gt;10&lt;/release&gt;--&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong><em>Note</em></strong>:- The default value for source/target has been lifted from 1.5 to 1.6 with this version. -- <a href=\"https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317225&amp;version=12341563\" rel=\"noreferrer\">release notes.</a></p>\n\n<hr>\n\n<p><strong><em>Edit [30.12.2018]</em></strong></p>\n\n<p>In fact, you can make use of the same version of <code>maven-compiler-plugin</code> while compiling the code against JDK/12 as well. </p>\n\n<p>More details and a sample configuration in how to <a href=\"https://stackoverflow.com/questions/52232681/compile-a-jdk12-preview-feature-with-maven\">Compile and execute a JDK preview feature with Maven</a>.</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1617725749,"creation_date":1535912065,"answer_id":52139841,"question_id":49398894,"body_markdown":"Boosting your ```maven-compiler-plugin``` to ```3.8.0``` seems to be necessary but not sufficient. If you&#39;re still having problems, you should also make sure your ```JAVA_HOME``` environment variable is set to Java 10 (or 11) if you&#39;re running from the command line. (The error message you get won&#39;t tell you this.) Or if you&#39;re running from an IDE, you need to make sure it is set to run maven with your current JDK.","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>Boosting your <code>maven-compiler-plugin</code> to <code>3.8.0</code> seems to be necessary but not sufficient. If you're still having problems, you should also make sure your <code>JAVA_HOME</code> environment variable is set to Java 10 (or 11) if you're running from the command line. (The error message you get won't tell you this.) Or if you're running from an IDE, you need to make sure it is set to run maven with your current JDK.</p>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1588755169,"creation_date":1551726143,"answer_id":54989888,"question_id":49398894,"body_markdown":"Specify maven.compiler.source and target versions.\r\n\r\n1) Maven version which supports jdk you use. In my case JDK 11 and maven 3.6.0.\r\n\r\n2) pom.xml\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nAs an alternative, you can fully specify maven compiler plugin. See previous answers. It is shorter in my example :)\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n3) rebuild the project to avoid compile errors in your IDE.\r\n\r\n4) If it still does not work. In Intellij Idea I prefer using terminal instead of using terminal from OS. Then in Idea go to file -&gt; settings -&gt; build tools -&gt; maven. I work with maven I downloaded from apache (by default Idea uses bundled maven). Restart Idea then and run `mvn clean install` again. Also make sure you have correct **Path**, **MAVEN_HOME**, **JAVA_HOME** environment variables.\r\n\r\nI also saw this one-liner, but it does not work.\r\n\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\r\nI made some quick starter projects, which I re-use in other my projects, feel free to check:\r\n\r\n- https://github.com/yan-khonski-it/mvn-pmd-java11\r\n- https://github.com/yan-khonski-it/pmd-java-14","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>Specify maven.compiler.source and target versions.</p>\n\n<p>1) Maven version which supports jdk you use. In my case JDK 11 and maven 3.6.0.</p>\n\n<p>2) pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>As an alternative, you can fully specify maven compiler plugin. See previous answers. It is shorter in my example :)</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>3) rebuild the project to avoid compile errors in your IDE.</p>\n\n<p>4) If it still does not work. In Intellij Idea I prefer using terminal instead of using terminal from OS. Then in Idea go to file -> settings -> build tools -> maven. I work with maven I downloaded from apache (by default Idea uses bundled maven). Restart Idea then and run <code>mvn clean install</code> again. Also make sure you have correct <strong>Path</strong>, <strong>MAVEN_HOME</strong>, <strong>JAVA_HOME</strong> environment variables.</p>\n\n<p>I also saw this one-liner, but it does not work.</p>\n\n<pre><code>&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n</code></pre>\n\n<p>I made some quick starter projects, which I re-use in other my projects, feel free to check:</p>\n\n<ul>\n<li><a href=\"https://github.com/yan-khonski-it/mvn-pmd-java11\" rel=\"noreferrer\">https://github.com/yan-khonski-it/mvn-pmd-java11</a></li>\n<li><a href=\"https://github.com/yan-khonski-it/pmd-java-14\" rel=\"noreferrer\">https://github.com/yan-khonski-it/pmd-java-14</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1030890,"reputation":6354,"user_id":1039203,"accept_rate":86,"display_name":"KeyMaker00"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1566548634,"creation_date":1551971650,"answer_id":55047110,"question_id":49398894,"body_markdown":"It might not exactly be the same error, but I had a similar one.\r\n\r\n**Check Maven Java Version**\r\n\r\nSince Maven is also runnig with Java, check first with which version your Maven is running on:\r\n\r\n    mvn --version | grep -i java \r\nIt returns:\r\n&gt; Java version 1.8.0_151, vendor: Oracle\r\n&gt; Corporation, runtime: C:\\tools\\jdk\\openjdk1.8\r\n\r\n**Incompatible version**\r\n\r\nHere above my maven is running with `Java Version 1.8.0_151`.\r\nSo even if I specify maven to compile with `Java 11`:\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nIt will logically print out this error:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile\r\n&gt; (default-compile) on project efa-example-commons-task: Fatal error\r\n&gt; compiling: invalid target release: 11 -&gt; [Help 1]\r\n\r\n**How to set specific java version to Maven**\r\n\r\nThe logical thing to do is to set a higher Java Version to Maven (e.g. Java version 11 instead 1.8).\r\n\r\nMaven make use of the environment variable `JAVA_HOME` to find the Java Version to run. So change this variable to the JDK you want to compile against (e.g. OpenJDK 11).\r\n\r\n**Sanity check**\r\n\r\nThen run again `mvn --version` to make sure the configuration has been taken care of:\r\n\r\n    mvn --version | grep -i java\r\n\r\nyields\r\n&gt; Java version: 11.0.2, vendor: Oracle Corporation, runtime: C:\\tools\\jdk\\openjdk11\r\n\r\nWhich is much better and correct to compile code written with the Java 11 specifications.","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>It might not exactly be the same error, but I had a similar one.</p>\n\n<p><strong>Check Maven Java Version</strong></p>\n\n<p>Since Maven is also runnig with Java, check first with which version your Maven is running on:</p>\n\n<pre><code>mvn --version | grep -i java \n</code></pre>\n\n<p>It returns:</p>\n\n<blockquote>\n  <p>Java version 1.8.0_151, vendor: Oracle\n  Corporation, runtime: C:\\tools\\jdk\\openjdk1.8</p>\n</blockquote>\n\n<p><strong>Incompatible version</strong></p>\n\n<p>Here above my maven is running with <code>Java Version 1.8.0_151</code>.\nSo even if I specify maven to compile with <code>Java 11</code>:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>It will logically print out this error:</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal\n  org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile\n  (default-compile) on project efa-example-commons-task: Fatal error\n  compiling: invalid target release: 11 -> [Help 1]</p>\n</blockquote>\n\n<p><strong>How to set specific java version to Maven</strong></p>\n\n<p>The logical thing to do is to set a higher Java Version to Maven (e.g. Java version 11 instead 1.8).</p>\n\n<p>Maven make use of the environment variable <code>JAVA_HOME</code> to find the Java Version to run. So change this variable to the JDK you want to compile against (e.g. OpenJDK 11).</p>\n\n<p><strong>Sanity check</strong></p>\n\n<p>Then run again <code>mvn --version</code> to make sure the configuration has been taken care of:</p>\n\n<pre><code>mvn --version | grep -i java\n</code></pre>\n\n<p>yields</p>\n\n<blockquote>\n  <p>Java version: 11.0.2, vendor: Oracle Corporation, runtime: C:\\tools\\jdk\\openjdk11</p>\n</blockquote>\n\n<p>Which is much better and correct to compile code written with the Java 11 specifications.</p>\n"},{"tags":[],"owner":{"account_id":2477574,"reputation":1530,"user_id":2157870,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568246955,"creation_date":1568246955,"answer_id":57898162,"question_id":49398894,"body_markdown":"Alright so for me nothing worked.  \r\nI was using spring boot **with** hibernate. The spring boot version was ~2.0.1 and I would keep get this error and null pointer exception upon compilation. The issue was with hibernate that needed a version bump. But after that I had some other issues that seemed like the annotation processor was not recognised so I decided to just bump spring from 2.0.1 to 2.1.7-release and everything worked as expected.  \r\n\r\nYou still need to add the above plugin tough  \r\nHope it helps!","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>Alright so for me nothing worked.<br>\nI was using spring boot <strong>with</strong> hibernate. The spring boot version was ~2.0.1 and I would keep get this error and null pointer exception upon compilation. The issue was with hibernate that needed a version bump. But after that I had some other issues that seemed like the annotation processor was not recognised so I decided to just bump spring from 2.0.1 to 2.1.7-release and everything worked as expected.  </p>\n\n<p>You still need to add the above plugin tough<br>\nHope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1242750,"reputation":642,"user_id":1204940,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575429289,"creation_date":1572690987,"answer_id":58670270,"question_id":49398894,"body_markdown":"If you are using spring boot then add these tags in pom.xml.\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nand \r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t`&lt;maven.compiler.release&gt;`10&lt;/maven.compiler.release&gt;\r\n\t&lt;/properties&gt;\r\n\r\nYou can change java version to 11 or 13 as well in `&lt;maven.compiler.release&gt;` tag.\r\n\r\nJust add below tags in pom.xml\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\t&lt;/properties&gt;\r\n\r\nYou can change the 11 to 10, 13 as well to change java version. I am using java 13 which is latest. It works for me.","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>If you are using spring boot then add these tags in pom.xml.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    `&lt;maven.compiler.release&gt;`10&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>You can change java version to 11 or 13 as well in <code>&lt;maven.compiler.release&gt;</code> tag.</p>\n\n<p>Just add below tags in pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>You can change the 11 to 10, 13 as well to change java version. I am using java 13 which is latest. It works for me.</p>\n"},{"tags":[],"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617585028,"creation_date":1617585028,"answer_id":66947215,"question_id":49398894,"body_markdown":"In my case, I had to explicitly set **JAVA_HOME** to JDK-11 in my script though the terminal shows Java 11 version.\r\n\r\nThis was because, I&#39;m executing `mvn` through shell script and `mvn` was using default JDK of my machine which was JDK8.\r\n\r\nI confirmed which JDK version is being used by `mvn` in script &amp; set to JDK-11 as below:\r\n\r\n    #!/bin/bash\r\n    echo $(java -version)\r\n    echo $(mvn --version | grep -i java )\r\n\r\n    export JAVA_HOME=&quot;/opt/jdk11/&quot;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n    echo $(java -version)\r\n    echo $(mvn --version | grep -i java )\r\n\r\n","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>In my case, I had to explicitly set <strong>JAVA_HOME</strong> to JDK-11 in my script though the terminal shows Java 11 version.</p>\n<p>This was because, I'm executing <code>mvn</code> through shell script and <code>mvn</code> was using default JDK of my machine which was JDK8.</p>\n<p>I confirmed which JDK version is being used by <code>mvn</code> in script &amp; set to JDK-11 as below:</p>\n<pre><code>#!/bin/bash\necho $(java -version)\necho $(mvn --version | grep -i java )\n\nexport JAVA_HOME=&quot;/opt/jdk11/&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\n\necho $(java -version)\necho $(mvn --version | grep -i java )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946667,"reputation":6486,"user_id":973795,"accept_rate":54,"display_name":"JohnTortugo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634755966,"creation_date":1634755966,"answer_id":69651566,"question_id":49398894,"body_markdown":"If nothing else works and even after you set JAVA_HOME to a *correct* path, check if there is no override of the JAVA_HOME path in `&lt;user&gt;/.mavenrc`!","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>If nothing else works and even after you set JAVA_HOME to a <em>correct</em> path, check if there is no override of the JAVA_HOME path in <code>&lt;user&gt;/.mavenrc</code>!</p>\n"},{"tags":[],"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645082827,"creation_date":1645082827,"answer_id":71153994,"question_id":49398894,"body_markdown":"In my case, \r\n- &quot;echo $JAVA_HOME&quot; shows version 11\r\n- &quot;java -version&quot; shows version 11\r\n- However, &quot;mvn -version&quot; shows &quot;Java version&quot; is NOT 11\r\n\r\nI paste this on the top of .bash_profile and source it. It works.\r\n\r\n```\r\nexport JAVA_8_HOME=$(/usr/libexec/java_home -v1.8)\r\nexport JAVA_11_HOME=$(/usr/libexec/java_home -v11)\r\n\r\nalias java8=&#39;export JAVA_HOME=$JAVA_8_HOME;export PATH=$HOME/bin:$JAVA_HOME/bin:$PATH&#39;\r\nalias java11=&#39;export JAVA_HOME=$JAVA_11_HOME;export PATH=$HOME/bin:$JAVA_HOME/bin:$PATH&#39;\r\n\r\njava11\r\n\r\n","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>In my case,</p>\n<ul>\n<li>&quot;echo $JAVA_HOME&quot; shows version 11</li>\n<li>&quot;java -version&quot; shows version 11</li>\n<li>However, &quot;mvn -version&quot; shows &quot;Java version&quot; is NOT 11</li>\n</ul>\n<p>I paste this on the top of .bash_profile and source it. It works.</p>\n<pre><code>export JAVA_8_HOME=$(/usr/libexec/java_home -v1.8)\nexport JAVA_11_HOME=$(/usr/libexec/java_home -v11)\n\nalias java8='export JAVA_HOME=$JAVA_8_HOME;export PATH=$HOME/bin:$JAVA_HOME/bin:$PATH'\nalias java11='export JAVA_HOME=$JAVA_11_HOME;export PATH=$HOME/bin:$JAVA_HOME/bin:$PATH'\n\njava11\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2909719,"reputation":19935,"user_id":2494262,"accept_rate":64,"display_name":"MrE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669839211,"creation_date":1669839211,"answer_id":74633643,"question_id":49398894,"body_markdown":"`mvn` may be using `JAVA_HOME`, but if setting it doesn&#39;t work, there may be overrides in the actual mvn scripts\r\n\r\nFor example, on my system (mac), which mvn points to `/usr/local/bin/mvn`\r\nwhich actually points to `/usr/local/Cellar/maven/3.8.6/bin/mvn`, which is a bash script pointing to `/usr/local/Cellar/maven/3.8.6/libexec/bin/mvn` and that script reads like this at the top:\r\n\r\n```bash\r\nif [ -z &quot;$MAVEN_SKIP_RC&quot; ] ; then\r\n\r\n  if [ -f /usr/local/etc/mavenrc ] ; then\r\n    . /usr/local/etc/mavenrc\r\n  fi\r\n\r\n  if [ -f /etc/mavenrc ] ; then\r\n    . /etc/mavenrc\r\n  fi\r\n\r\n  if [ -f &quot;$HOME/.mavenrc&quot; ] ; then\r\n    . &quot;$HOME/.mavenrc&quot;\r\n  fi\r\n\r\nfi\r\n```\r\nSo it shows it&#39;s looking in 3 different places for env, unless `MAVEN_SKIP_RC` is set.\r\n\r\nIf I run `MAVEN_SKIP_RC=1 mvn -version`, now the JAVA_HOME is taken into account.\r\n\r\nbut the real fix is to find the culprit in the mavenrc files\r\n\r\nIn my case, the only file present was `/etc/mavenrc` and it read:\r\n```bash\r\nJAVA_HOME=$(/usr/libexec/java_home -v 1.8)\r\n```\r\nSo it was setting java 1.8 as the default, overriding the original JAVA_HOME.\r\n\r\nchange that to -v 11 and it works as expected.\r\nOr simply remove the /etc/mavenrc altogether to restore the default to the JAVA_HOME value.\r\n\r\n","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p><code>mvn</code> may be using <code>JAVA_HOME</code>, but if setting it doesn't work, there may be overrides in the actual mvn scripts</p>\n<p>For example, on my system (mac), which mvn points to <code>/usr/local/bin/mvn</code>\nwhich actually points to <code>/usr/local/Cellar/maven/3.8.6/bin/mvn</code>, which is a bash script pointing to <code>/usr/local/Cellar/maven/3.8.6/libexec/bin/mvn</code> and that script reads like this at the top:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>if [ -z &quot;$MAVEN_SKIP_RC&quot; ] ; then\n\n  if [ -f /usr/local/etc/mavenrc ] ; then\n    . /usr/local/etc/mavenrc\n  fi\n\n  if [ -f /etc/mavenrc ] ; then\n    . /etc/mavenrc\n  fi\n\n  if [ -f &quot;$HOME/.mavenrc&quot; ] ; then\n    . &quot;$HOME/.mavenrc&quot;\n  fi\n\nfi\n</code></pre>\n<p>So it shows it's looking in 3 different places for env, unless <code>MAVEN_SKIP_RC</code> is set.</p>\n<p>If I run <code>MAVEN_SKIP_RC=1 mvn -version</code>, now the JAVA_HOME is taken into account.</p>\n<p>but the real fix is to find the culprit in the mavenrc files</p>\n<p>In my case, the only file present was <code>/etc/mavenrc</code> and it read:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\n</code></pre>\n<p>So it was setting java 1.8 as the default, overriding the original JAVA_HOME.</p>\n<p>change that to -v 11 and it works as expected.\nOr simply remove the /etc/mavenrc altogether to restore the default to the JAVA_HOME value.</p>\n"}],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338352,"favorite_count":0,"down_vote_count":1,"up_vote_count":182,"accepted_answer_id":51586202,"answer_count":11,"score":181,"last_activity_date":1669839211,"creation_date":1521610512,"question_id":49398894,"body_markdown":"I have a trivial Maven project:\r\n\r\n    src\r\n    └── main\r\n        └── java\r\n            └── module-info.java\r\n    pom.xml\r\n\r\npom.xml:\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;example&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;example&lt;/name&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;10&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nWhen I build the project via `mvn -X install -DskipTests=true`, it fails:\r\n\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:testCompile (default-testCompile) on project example: Execution default-testCompile of goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:testCompile failed.\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-testCompile of goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:testCompile failed.\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:145)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n            ... 20 more\r\n    Caused by: java.lang.IllegalArgumentException\r\n            at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n            at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n            at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n            at org.codehaus.plexus.languages.java.jpms.AsmModuleInfoParser.parse(AsmModuleInfoParser.java:80)\r\n            at org.codehaus.plexus.languages.java.jpms.AsmModuleInfoParser.getModuleDescriptor(AsmModuleInfoParser.java:54)\r\n            at org.codehaus.plexus.languages.java.jpms.LocationManager.resolvePaths(LocationManager.java:83)\r\n            at org.apache.maven.plugin.compiler.TestCompilerMojo.preparePaths(TestCompilerMojo.java:281)\r\n            at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:762)\r\n            at org.apache.maven.plugin.compiler.TestCompilerMojo.execute(TestCompilerMojo.java:176)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n            ... 21 more\r\n\r\n\r\nIs there a way to fix this?","title":"Unable to compile simple Java 10 / Java 11 project with Maven","body":"<p>I have a trivial Maven project:</p>\n\n<pre><code>src\n└── main\n    └── java\n        └── module-info.java\npom.xml\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;example&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;example&lt;/name&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;10&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>When I build the project via <code>mvn -X install -DskipTests=true</code>, it fails:</p>\n\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:testCompile (default-testCompile) on project example: Execution default-testCompile of goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:testCompile failed.\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-testCompile of goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:testCompile failed.\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:145)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n        ... 20 more\nCaused by: java.lang.IllegalArgumentException\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n        at org.codehaus.plexus.languages.java.jpms.AsmModuleInfoParser.parse(AsmModuleInfoParser.java:80)\n        at org.codehaus.plexus.languages.java.jpms.AsmModuleInfoParser.getModuleDescriptor(AsmModuleInfoParser.java:54)\n        at org.codehaus.plexus.languages.java.jpms.LocationManager.resolvePaths(LocationManager.java:83)\n        at org.apache.maven.plugin.compiler.TestCompilerMojo.preparePaths(TestCompilerMojo.java:281)\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:762)\n        at org.apache.maven.plugin.compiler.TestCompilerMojo.execute(TestCompilerMojo.java:176)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n        ... 21 more\n</code></pre>\n\n<p>Is there a way to fix this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669839172,"creation_date":1669839172,"answer_id":74633640,"question_id":74628654,"body_markdown":"Your program does work—if you remember to press Enter after changing a cell’s value.\r\n\r\nThe problem is here:\r\n\r\n    temp.addActionListener(new SetAction(row, col, temp, board));\r\n\r\nThat line is correct, but it’s not enough.  A JTextField’s ActionListener is invoked when the user presses Enter in that JTextField.  If the user never presses Enter, the ActionListener is never called.\r\n\r\nYou can force it to be called by using [InputVerifier](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/InputVerifier.html):\r\n\r\n    SetAction setAction = new SetAction(row, col, temp, board);\r\n    temp.addActionListener(setAction);\r\n\r\n    temp.setInputVerifier(new InputVerifier() {\r\n        @Override\r\n        public boolean verify(JComponent component) {\r\n            setAction.actionPerformed(null);\r\n            return true;\r\n        }\r\n    });\r\n","title":"Having some issues implementing a ActionListener in a SudokuSolver program","body":"<p>Your program does work—if you remember to press Enter after changing a cell’s value.</p>\n<p>The problem is here:</p>\n<pre><code>temp.addActionListener(new SetAction(row, col, temp, board));\n</code></pre>\n<p>That line is correct, but it’s not enough.  A JTextField’s ActionListener is invoked when the user presses Enter in that JTextField.  If the user never presses Enter, the ActionListener is never called.</p>\n<p>You can force it to be called by using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/InputVerifier.html\" rel=\"nofollow noreferrer\">InputVerifier</a>:</p>\n<pre><code>SetAction setAction = new SetAction(row, col, temp, board);\ntemp.addActionListener(setAction);\n\ntemp.setInputVerifier(new InputVerifier() {\n    @Override\n    public boolean verify(JComponent component) {\n        setAction.actionPerformed(null);\n        return true;\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":27099185,"reputation":3,"user_id":20646018,"display_name":"Oskar Karlsson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74633640,"answer_count":1,"score":0,"last_activity_date":1669839172,"creation_date":1669815282,"question_id":74628654,"body_markdown":"`\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class UI {\r\n    SudokuBoard board;\r\n    JTextField[][] grid;\r\n    JFrame frame;\r\n\r\n    public UI(SudokuBoard board) {\r\n        this.board = board;\r\n        this.grid = new JTextField[9][9];\r\n        SwingUtilities.invokeLater(() -&gt; createWindow(&quot;SudokuGame&quot;, 1000, 1000));\r\n    }\r\n\r\n    private void createWindow(String title, int width, int height) {\r\n        // creating main window\r\n        this.frame = new JFrame(title);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Container pane = frame.getContentPane();\r\n        frame.setPreferredSize(new Dimension(width, height));\r\n\r\n        // creating buttons\r\n        JPanel buttonPanel = new JPanel();\r\n        JButton solve = new JButton(&quot;Solve&quot;);\r\n        JButton clear = new JButton(&quot;Clear&quot;);\r\n        buttonPanel.add(solve);\r\n        buttonPanel.add(clear);\r\n        pane.add(buttonPanel, BorderLayout.SOUTH);\r\n        solve.addActionListener(e -&gt; {\r\n            if (board.solve()) {\r\n                updateBoard();\r\n            } else {\r\n                JOptionPane.showMessageDialog(frame, &quot;Unsolvable Board&quot;);\r\n            }\r\n        });\r\n        clear.addActionListener(e -&gt; {\r\n            board.clear();\r\n            updateBoard();\r\n        });\r\n\r\n        // creating game grid\r\n        JPanel topPanel = new JPanel(new GridLayout(9, 9));\r\n        topPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n        Font font = new Font(&quot;Monospaced&quot;, Font.BOLD, 80);\r\n        for (int row = 0; row &lt; 9; row++) {\r\n            for (int col = 0; col &lt; 9; col++) {\r\n                JTextField temp = new JTextField(1);\r\n                temp.setBorder(BorderFactory.createLineBorder(Color.black, 3));\r\n                temp.setPreferredSize(new Dimension(100, 100));\r\n                temp.setHorizontalAlignment(JTextField.CENTER);\r\n                temp.setFont(font);\r\n                temp.addActionListener(new SetAction(row, col, temp, board));\r\n\r\n                if (((col &lt; 3 || col &gt; 5) &amp;&amp; (row &lt; 3 || row &gt; 5)) || col &gt; 2 &amp;&amp; col &lt; 6 &amp;&amp; row &gt; 2 &amp;&amp; row &lt; 6) {\r\n                    temp.setBackground(new Color(91, 166, 209));\r\n                } else {\r\n                    temp.setBackground(new Color(181, 197, 209));\r\n                }\r\n                grid[row][col] = temp;\r\n                topPanel.add(temp);\r\n            }\r\n        }\r\n        pane.add(topPanel);\r\n\r\n        frame.setResizable(false);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n\r\n        updateBoard();\r\n\r\n    }\r\n\r\n    private void updateBoard() {\r\n        int[][] temp = board.getMatrix();\r\n        for (int row = 0; row &lt; 9; row++) {\r\n            for (int col = 0; col &lt; 9; col++) {\r\n                if (temp[row][col] == 0) {\r\n                    grid[row][col].setText(&quot;&quot;);\r\n                } else {\r\n                    grid[row][col].setText(Integer.toString(temp[row][col]));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    class SetAction implements ActionListener {\r\n        private int row, col;\r\n        private SudokuBoard board;\r\n        private JTextField text;\r\n\r\n        public SetAction(int r, int c, JTextField text, SudokuBoard board) {\r\n            row = r;\r\n            col = c;\r\n            this.text = text;\r\n            this.board = board;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            String inp = text.getText();\r\n            board.set(row, col, Integer.parseInt(inp));     \r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\n`\r\n```\r\npublic class SudokuBoard implements SudokuSolver {\r\n    int[][] board;\r\n\r\n    public SudokuBoard() {\r\n        int[][] temp = {\r\n                { 7, 0, 2, 0, 5, 0, 6, 0, 0 },\r\n                { 0, 0, 0, 0, 0, 3, 0, 0, 0 },\r\n                { 1, 0, 0, 0, 0, 9, 5, 0, 0 },\r\n                { 8, 0, 0, 0, 0, 0, 0, 9, 0 },\r\n                { 0, 4, 3, 0, 0, 0, 7, 5, 0 },\r\n                { 0, 9, 0, 0, 0, 0, 0, 0, 8 },\r\n                { 0, 0, 9, 7, 0, 0, 0, 0, 5 },\r\n                { 0, 0, 0, 2, 0, 0, 0, 0, 0 },\r\n                { 0, 0, 7, 0, 4, 0, 2, 0, 3 } };\r\n        board = temp;\r\n    }\r\n\r\n    @Override\r\n    public void set(int row, int col, int digit) {\r\n        if (row &gt;= 0 &amp;&amp; row &lt; 9 &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; 9) {\r\n            board[row][col] = digit;\r\n        } else {\r\n            throw new IllegalArgumentException();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void remove(int row, int col) {\r\n        if (row &gt; 9 || col &gt; 9 || row &lt; 0 || col &lt; 0) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        board[row][col] = 0;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void clear() {\r\n        for (int i = 0; i &lt; board.length; i++) {\r\n            for (int j = 0; j &lt; board[i].length; j++) {\r\n                board[i][j] = 0;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void setMatrix(int[][] matrix) {\r\n        if (matrix.length != 9 || matrix[0].length != 9) {\r\n            throw new IllegalArgumentException();\r\n        } else {\r\n            board = matrix;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int[][] getMatrix() {\r\n        return board;\r\n    }\r\n\r\n    /**\r\n     * Method for printing the board\r\n     */\r\n    public void printBoard() {\r\n        for (int row = 0; row &lt; 9; row++) {\r\n            if (row % 3 == 0 &amp;&amp; row != 0) {\r\n                System.out.println(&quot;---------------------&quot;);\r\n            }\r\n            for (int column = 0; column &lt; 9; column++) {\r\n                if (column % 3 == 0 &amp;&amp; column != 0) {\r\n                    System.out.print(&quot;|&quot;);\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                System.out.print(board[row][column]);\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean legal(int digit, int row, int col) {\r\n        for (int i = 0; i &lt; board[row].length; i++) { // check if the number is in the row\r\n            if (board[row][i] == digit) {\r\n                return false;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; board.length; i++) {// check if the number is in the column\r\n            if (board[i][col] == digit) {\r\n                return false;\r\n            }\r\n        }\r\n        // For checking if the number is in the box\r\n        int boxRow = row - row % 3;\r\n        int boxCol = col - col % 3;\r\n        for (int i = boxRow; i &lt; boxRow + 3; i++) {\r\n            for (int j = boxCol; j &lt; boxCol + 3; j++) {\r\n                if (board[i][j] == digit) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean solve() {\r\n        for (int row = 0; row &lt; board.length; row++) {\r\n            for (int col = 0; col &lt; board[row].length; col++) {\r\n                if (board[row][col] == 0) { // check for &quot;empty&quot; spots\r\n                    for (int numberToTry = 1; numberToTry &lt;= 9; numberToTry++) {\r\n                        if (legal(numberToTry, row, col)) {\r\n                            set(row, col, numberToTry);\r\n                            if (solve()) { // recursive call of the solve method\r\n                                return true;\r\n                            } else {\r\n                                set(row, col, 0);\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nHi, so this is a project im doing in school and im pretty far from finished. However at the moment my solver seem to work pretty much as intended although i cant get the UI to work. It can display the sample sudoku i have in the constructor aswell as solve it, but i cant change the board by reading inputs from the ui.\r\n\r\nWhen i change something in the UI and the press the solve button it just changes everything back to how the sample board i started with would be solved.\r\nAny tips? My guess is that either the implementation of SetAction is wrong or the way i try to read the JTextFields is wrong?\r\n\r\nI tried all the functions of the SudokuBoard class in a main with the &quot;printboard&quot; function and it seems to be working there.\r\n\r\nEDIT : The interface SudokuSolver is from the assignment, it just contains the methods we gotta have in our solution","title":"Having some issues implementing a ActionListener in a SudokuSolver program","body":"<p>`</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class UI {\n    SudokuBoard board;\n    JTextField[][] grid;\n    JFrame frame;\n\n    public UI(SudokuBoard board) {\n        this.board = board;\n        this.grid = new JTextField[9][9];\n        SwingUtilities.invokeLater(() -&gt; createWindow(&quot;SudokuGame&quot;, 1000, 1000));\n    }\n\n    private void createWindow(String title, int width, int height) {\n        // creating main window\n        this.frame = new JFrame(title);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Container pane = frame.getContentPane();\n        frame.setPreferredSize(new Dimension(width, height));\n\n        // creating buttons\n        JPanel buttonPanel = new JPanel();\n        JButton solve = new JButton(&quot;Solve&quot;);\n        JButton clear = new JButton(&quot;Clear&quot;);\n        buttonPanel.add(solve);\n        buttonPanel.add(clear);\n        pane.add(buttonPanel, BorderLayout.SOUTH);\n        solve.addActionListener(e -&gt; {\n            if (board.solve()) {\n                updateBoard();\n            } else {\n                JOptionPane.showMessageDialog(frame, &quot;Unsolvable Board&quot;);\n            }\n        });\n        clear.addActionListener(e -&gt; {\n            board.clear();\n            updateBoard();\n        });\n\n        // creating game grid\n        JPanel topPanel = new JPanel(new GridLayout(9, 9));\n        topPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        Font font = new Font(&quot;Monospaced&quot;, Font.BOLD, 80);\n        for (int row = 0; row &lt; 9; row++) {\n            for (int col = 0; col &lt; 9; col++) {\n                JTextField temp = new JTextField(1);\n                temp.setBorder(BorderFactory.createLineBorder(Color.black, 3));\n                temp.setPreferredSize(new Dimension(100, 100));\n                temp.setHorizontalAlignment(JTextField.CENTER);\n                temp.setFont(font);\n                temp.addActionListener(new SetAction(row, col, temp, board));\n\n                if (((col &lt; 3 || col &gt; 5) &amp;&amp; (row &lt; 3 || row &gt; 5)) || col &gt; 2 &amp;&amp; col &lt; 6 &amp;&amp; row &gt; 2 &amp;&amp; row &lt; 6) {\n                    temp.setBackground(new Color(91, 166, 209));\n                } else {\n                    temp.setBackground(new Color(181, 197, 209));\n                }\n                grid[row][col] = temp;\n                topPanel.add(temp);\n            }\n        }\n        pane.add(topPanel);\n\n        frame.setResizable(false);\n        frame.pack();\n        frame.setVisible(true);\n\n        updateBoard();\n\n    }\n\n    private void updateBoard() {\n        int[][] temp = board.getMatrix();\n        for (int row = 0; row &lt; 9; row++) {\n            for (int col = 0; col &lt; 9; col++) {\n                if (temp[row][col] == 0) {\n                    grid[row][col].setText(&quot;&quot;);\n                } else {\n                    grid[row][col].setText(Integer.toString(temp[row][col]));\n                }\n            }\n        }\n    }\n\n    class SetAction implements ActionListener {\n        private int row, col;\n        private SudokuBoard board;\n        private JTextField text;\n\n        public SetAction(int r, int c, JTextField text, SudokuBoard board) {\n            row = r;\n            col = c;\n            this.text = text;\n            this.board = board;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            String inp = text.getText();\n            board.set(row, col, Integer.parseInt(inp));     \n        }\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>public class SudokuBoard implements SudokuSolver {\n    int[][] board;\n\n    public SudokuBoard() {\n        int[][] temp = {\n                { 7, 0, 2, 0, 5, 0, 6, 0, 0 },\n                { 0, 0, 0, 0, 0, 3, 0, 0, 0 },\n                { 1, 0, 0, 0, 0, 9, 5, 0, 0 },\n                { 8, 0, 0, 0, 0, 0, 0, 9, 0 },\n                { 0, 4, 3, 0, 0, 0, 7, 5, 0 },\n                { 0, 9, 0, 0, 0, 0, 0, 0, 8 },\n                { 0, 0, 9, 7, 0, 0, 0, 0, 5 },\n                { 0, 0, 0, 2, 0, 0, 0, 0, 0 },\n                { 0, 0, 7, 0, 4, 0, 2, 0, 3 } };\n        board = temp;\n    }\n\n    @Override\n    public void set(int row, int col, int digit) {\n        if (row &gt;= 0 &amp;&amp; row &lt; 9 &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; 9) {\n            board[row][col] = digit;\n        } else {\n            throw new IllegalArgumentException();\n        }\n    }\n\n    @Override\n    public void remove(int row, int col) {\n        if (row &gt; 9 || col &gt; 9 || row &lt; 0 || col &lt; 0) {\n            throw new IllegalArgumentException();\n        }\n        board[row][col] = 0;\n\n    }\n\n    @Override\n    public void clear() {\n        for (int i = 0; i &lt; board.length; i++) {\n            for (int j = 0; j &lt; board[i].length; j++) {\n                board[i][j] = 0;\n            }\n        }\n\n    }\n\n    @Override\n    public void setMatrix(int[][] matrix) {\n        if (matrix.length != 9 || matrix[0].length != 9) {\n            throw new IllegalArgumentException();\n        } else {\n            board = matrix;\n        }\n    }\n\n    @Override\n    public int[][] getMatrix() {\n        return board;\n    }\n\n    /**\n     * Method for printing the board\n     */\n    public void printBoard() {\n        for (int row = 0; row &lt; 9; row++) {\n            if (row % 3 == 0 &amp;&amp; row != 0) {\n                System.out.println(&quot;---------------------&quot;);\n            }\n            for (int column = 0; column &lt; 9; column++) {\n                if (column % 3 == 0 &amp;&amp; column != 0) {\n                    System.out.print(&quot;|&quot;);\n                    System.out.print(&quot; &quot;);\n                }\n                System.out.print(board[row][column]);\n                System.out.print(&quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    @Override\n    public boolean legal(int digit, int row, int col) {\n        for (int i = 0; i &lt; board[row].length; i++) { // check if the number is in the row\n            if (board[row][i] == digit) {\n                return false;\n            }\n        }\n        for (int i = 0; i &lt; board.length; i++) {// check if the number is in the column\n            if (board[i][col] == digit) {\n                return false;\n            }\n        }\n        // For checking if the number is in the box\n        int boxRow = row - row % 3;\n        int boxCol = col - col % 3;\n        for (int i = boxRow; i &lt; boxRow + 3; i++) {\n            for (int j = boxCol; j &lt; boxCol + 3; j++) {\n                if (board[i][j] == digit) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    @Override\n    public boolean solve() {\n        for (int row = 0; row &lt; board.length; row++) {\n            for (int col = 0; col &lt; board[row].length; col++) {\n                if (board[row][col] == 0) { // check for &quot;empty&quot; spots\n                    for (int numberToTry = 1; numberToTry &lt;= 9; numberToTry++) {\n                        if (legal(numberToTry, row, col)) {\n                            set(row, col, numberToTry);\n                            if (solve()) { // recursive call of the solve method\n                                return true;\n                            } else {\n                                set(row, col, 0);\n                            }\n                        }\n                    }\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<p>Hi, so this is a project im doing in school and im pretty far from finished. However at the moment my solver seem to work pretty much as intended although i cant get the UI to work. It can display the sample sudoku i have in the constructor aswell as solve it, but i cant change the board by reading inputs from the ui.</p>\n<p>When i change something in the UI and the press the solve button it just changes everything back to how the sample board i started with would be solved.\nAny tips? My guess is that either the implementation of SetAction is wrong or the way i try to read the JTextFields is wrong?</p>\n<p>I tried all the functions of the SudokuBoard class in a main with the &quot;printboard&quot; function and it seems to be working there.</p>\n<p>EDIT : The interface SudokuSolver is from the assignment, it just contains the methods we gotta have in our solution</p>\n"},{"tags":["java","spring","spring-boot","classpath"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1669855230,"post_id":74633628,"comment_id":131740659,"body_markdown":"Tried url-escaping / symbols?","body":"Tried url-escaping / symbols?"},{"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"score":0,"creation_date":1669855608,"post_id":74633628,"comment_id":131740721,"body_markdown":"Does this https://stackoverflow.com/a/62989084/12092416 address your problem?","body":"Does this <a href=\"https://stackoverflow.com/a/62989084/12092416\">stackoverflow.com/a/62989084/12092416</a> address your problem?"}],"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669839130,"creation_date":1669839130,"question_id":74633628,"body_markdown":"I have a spring boot project and it has `client.pem` file at resource folder `/src/main/resource/client.pem`\r\n\r\nI want to refer this file in application.properties and it works as below if I run my app in local\r\n\r\n    spring.datasource.url=jdbc:postgresql://*.*.*.*:5432/postgres?ssl=true&amp;sslmode=verify-ca&amp;sslcert=src/main/resources/client.pem\r\n\r\nThe same is not working when the app is deployed in Google kubernetes engine(GKE). I also tried refering it as `classpath:client.pem` or `/client.pem` but no luck. any help would be appreciated","title":"Referencing a file at resource folder in application.properties","body":"<p>I have a spring boot project and it has <code>client.pem</code> file at resource folder <code>/src/main/resource/client.pem</code></p>\n<p>I want to refer this file in application.properties and it works as below if I run my app in local</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://*.*.*.*:5432/postgres?ssl=true&amp;sslmode=verify-ca&amp;sslcert=src/main/resources/client.pem\n</code></pre>\n<p>The same is not working when the app is deployed in Google kubernetes engine(GKE). I also tried refering it as <code>classpath:client.pem</code> or <code>/client.pem</code> but no luck. any help would be appreciated</p>\n"},{"tags":["java","spring","spring-boot","jsp","tomcat"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669839361,"post_id":74633601,"comment_id":131737120,"body_markdown":"Now only missing link: where is the jsp? (In src/deployed)","body":"Now only missing link: where is the jsp? (In src/deployed)"},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1669839749,"post_id":74633601,"comment_id":131737222,"body_markdown":"@xerx593 it&#39;s in src/main/WEB-INF/jsp","body":"@xerx593 it&#39;s in src/main/WEB-INF/jsp"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669840764,"post_id":74633601,"comment_id":131737479,"body_markdown":"no, better: `src/main/resources/WEB-INF/jsp` (assuming maven|gradle defaults)","body":"no, better: <code>src&#47;main&#47;resources&#47;WEB-INF&#47;jsp</code> (assuming maven|gradle defaults)"},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1669841493,"post_id":74633601,"comment_id":131737685,"body_markdown":"@xerx593 unfortunately the rewrite still happens regardless of the jsp location","body":"@xerx593 unfortunately the rewrite still happens regardless of the jsp location"}],"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669839028,"creation_date":1669839028,"question_id":74633601,"body_markdown":"I&#39;m working on a Spring Boot 3 application and I have the following problem:\r\n\r\nWhen trying to access localhost:8080/event I get redirected to the actual path of the jsp like here: localhost:8080/WEB-INF/jsp/eventDetailPage.jsp?continue\r\n\r\nThis is my controller:\r\n\r\n    @Controller\r\n    public class EventController {\r\n     @GetMapping(path = &quot;/event&quot;)\r\n     public ModelAndView getEvent(Model model) {\r\n        return new ModelAndView(&quot;eventDetailPage&quot;);\r\n     }\r\n    }\r\n\r\nI debugged it and the `getEvent()` method gets executed. But after that I get redirected to the jsp location with a 404. And the redirect/rewrite happens only when I&#39;m not logged in however the controller also gets called when I&#39;m logged out since I whitelisted the url pattern in my WebSecurityConfig.\r\n\r\nI&#39;ve only worked with Spring Boot 1 &amp; 2 before, this must have something to do with changes in version 3.\r\n\r\nThese are the dependencies from my pom.xml:\r\n\r\n \t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nI also have the following application.properties: `spring.mvc.view.prefix=/WEB-INF/jsp/` &amp; \r\n`spring.mvc.view.suffix=.jsp` \r\n\r\n","title":"Spring Boot 3 application rewrites URL to actual jsp path","body":"<p>I'm working on a Spring Boot 3 application and I have the following problem:</p>\n<p>When trying to access localhost:8080/event I get redirected to the actual path of the jsp like here: localhost:8080/WEB-INF/jsp/eventDetailPage.jsp?continue</p>\n<p>This is my controller:</p>\n<pre><code>@Controller\npublic class EventController {\n @GetMapping(path = &quot;/event&quot;)\n public ModelAndView getEvent(Model model) {\n    return new ModelAndView(&quot;eventDetailPage&quot;);\n }\n}\n</code></pre>\n<p>I debugged it and the <code>getEvent()</code> method gets executed. But after that I get redirected to the jsp location with a 404. And the redirect/rewrite happens only when I'm not logged in however the controller also gets called when I'm logged out since I whitelisted the url pattern in my WebSecurityConfig.</p>\n<p>I've only worked with Spring Boot 1 &amp; 2 before, this must have something to do with changes in version 3.</p>\n<p>These are the dependencies from my pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I also have the following application.properties: <code>spring.mvc.view.prefix=/WEB-INF/jsp/</code> &amp;\n<code>spring.mvc.view.suffix=.jsp</code></p>\n"},{"tags":["java","eclipse","gradle","build"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1528229004,"post_id":50707992,"comment_id":88425196,"body_markdown":"Have you personally looked in this jar and made sure the class file is actually where it is supposed to be?","body":"Have you personally looked in this jar and made sure the class file is actually where it is supposed to be?"},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1528229221,"post_id":50707992,"comment_id":88425304,"body_markdown":"@nitind Yes I have extracted the jar and can see all the classes with right package names. I tried refresh,rebuild many time in eclipse.","body":"@nitind Yes I have extracted the jar and can see all the classes with right package names. I tried refresh,rebuild many time in eclipse."},{"owner":{"account_id":5923824,"reputation":429,"user_id":4660406,"accept_rate":82,"display_name":"Zannith"},"score":0,"creation_date":1528229586,"post_id":50707992,"comment_id":88425481,"body_markdown":"Didn&#39;t forget an import did you? XD","body":"Didn&#39;t forget an import did you? XD"},{"owner":{"account_id":3942245,"reputation":2183,"user_id":3256139,"accept_rate":75,"display_name":"cosmos"},"score":0,"creation_date":1528229682,"post_id":50707992,"comment_id":88425540,"body_markdown":"what happens when you build it through gradle? If it builds, sometime, deleting the project without deleting from actual disc and re-importing fixes this kind of issue.","body":"what happens when you build it through gradle? If it builds, sometime, deleting the project without deleting from actual disc and re-importing fixes this kind of issue."},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1528229852,"post_id":50707992,"comment_id":88425625,"body_markdown":"@Zannith It is not showing import aswell. It cannot resolve import. So both imports and classes have errors. Is it Ok to create jar with gradle and use it is as external jar?   (P.S: I have installed the jar and used mavenLocal() to import it, it works fine but I can&#39;t push the app to cloud as the jar oly available in maven local repo)","body":"@Zannith It is not showing import aswell. It cannot resolve import. So both imports and classes have errors. Is it Ok to create jar with gradle and use it is as external jar?   (P.S: I have installed the jar and used mavenLocal() to import it, it works fine but I can&#39;t push the app to cloud as the jar oly available in maven local repo)"},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1528229955,"post_id":50707992,"comment_id":88425674,"body_markdown":"@cosmos gradle build failed on second project with cannot resolve errors. I tried removing and importing project but that doesn&#39;t help","body":"@cosmos gradle build failed on second project with cannot resolve errors. I tried removing and importing project but that doesn&#39;t help"},{"owner":{"account_id":3942245,"reputation":2183,"user_id":3256139,"accept_rate":75,"display_name":"cosmos"},"score":0,"creation_date":1528230006,"post_id":50707992,"comment_id":88425701,"body_markdown":"@arjun see my answer below.","body":"@arjun see my answer below."},{"owner":{"account_id":5923824,"reputation":429,"user_id":4660406,"accept_rate":82,"display_name":"Zannith"},"score":0,"creation_date":1528230623,"post_id":50707992,"comment_id":88425988,"body_markdown":"Sometimes with eclipse it helps to project clean, exit, turn off your computer, buy a new motherboard, and rewire your house, then everything usually works for me","body":"Sometimes with eclipse it helps to project clean, exit, turn off your computer, buy a new motherboard, and rewire your house, then everything usually works for me"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1528238452,"post_id":50707992,"comment_id":88428832,"body_markdown":"Is the layout of the jar correct with the root of its package layout being in the root of the jar?","body":"Is the layout of the jar correct with the root of its package layout being in the root of the jar?"},{"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"score":0,"creation_date":1528262029,"post_id":50707992,"comment_id":88434147,"body_markdown":"Do one thing in the last tab of the project&#39;s Properties and order and export try to put your external jar on top.","body":"Do one thing in the last tab of the project&#39;s Properties and order and export try to put your external jar on top."},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1528287397,"post_id":50707992,"comment_id":88448781,"body_markdown":"Luck is with me this morning. This time I did a gradle install instead of gradle build and copied that jar and put it in the libs folder. See what  errors gone","body":"Luck is with me this morning. This time I did a gradle install instead of gradle build and copied that jar and put it in the libs folder. See what  errors gone"}],"answers":[{"tags":[],"owner":{"account_id":3942245,"reputation":2183,"user_id":3256139,"accept_rate":75,"display_name":"cosmos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528229861,"creation_date":1528229861,"answer_id":50708291,"question_id":50707992,"body_markdown":"Put the jar in some resource folder say `src/main/resources/lib`. In your `build.gradle` add following:\r\n\r\n    dependencies {\r\n    .\r\n    .\r\n    .\r\n        compile files(&#39;src/main/resources/lib/vadr-aps-client-0.0.1-SNAPSHOT.jar&#39;)\r\n    .\r\n    .\r\n    }","title":"Eclipse doesn&#39;t resolve classes from external jar","body":"<p>Put the jar in some resource folder say <code>src/main/resources/lib</code>. In your <code>build.gradle</code> add following:</p>\n\n<pre><code>dependencies {\n.\n.\n.\n    compile files('src/main/resources/lib/vadr-aps-client-0.0.1-SNAPSHOT.jar')\n.\n.\n}\n</code></pre>\n"}],"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669838572,"creation_date":1528228629,"question_id":50707992,"body_markdown":"I have a service project that I build and added the jar into my other projects libs folder.\r\n\r\n\r\nI have added the jar gradle.build \r\n\r\n    flatDir { dirs &#39;libs&#39; }\r\n    compile(&#39;com.proj:service-client:0.0.1-SNAPSHOT&#39;)\r\n\r\nThe jar added to class path and visible in Project and External dependencies folder\r\n\r\n\r\nBut still I cannot build the app and Eclipse also showing cannot be resolved to a type errors for the classes I have in external jar.\r\nExternel jar is build with gradle(gradlew build)","title":"Eclipse doesn&#39;t resolve classes from external jar","body":"<p>I have a service project that I build and added the jar into my other projects libs folder.</p>\n<p>I have added the jar gradle.build</p>\n<pre><code>flatDir { dirs 'libs' }\ncompile('com.proj:service-client:0.0.1-SNAPSHOT')\n</code></pre>\n<p>The jar added to class path and visible in Project and External dependencies folder</p>\n<p>But still I cannot build the app and Eclipse also showing cannot be resolved to a type errors for the classes I have in external jar.\nExternel jar is build with gradle(gradlew build)</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"score":0,"creation_date":1668775347,"post_id":74457996,"comment_id":131494112,"body_markdown":"I just updated IntelliJ IDEA to 2022.2.3, and repeated that example... not sure if I did something wrong with the 2021.3.2 version, but now it runs as seen in the YouTube video. Still I don&#39;t know how to modify it so it uses Gradle.","body":"I just updated IntelliJ IDEA to 2022.2.3, and repeated that example... not sure if I did something wrong with the 2021.3.2 version, but now it runs as seen in the YouTube video. Still I don&#39;t know how to modify it so it uses Gradle."}],"answers":[{"tags":[],"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669838451,"creation_date":1669838451,"answer_id":74633519,"question_id":74457996,"body_markdown":"As described in my comment it functions after the IntelliJ update.","title":"Java 9 Modules Example - Not function in newer IntelliJ, and how with Gradle","body":"<p>As described in my comment it functions after the IntelliJ update.</p>\n"}],"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74633519,"answer_count":1,"score":0,"last_activity_date":1669838451,"creation_date":1668590715,"question_id":74457996,"body_markdown":"I want to understand the modularization system which came with `Java 9`, I have to use now `Java 11`, some time later switch to `Java 17` or higher.\r\n\r\nI found this simple example https://www.youtube.com/watch?v=ZogBPXNy3uU which shows it in `IntelliJ`, but it&#39;s from 2017 and the `IntelliJ` version is older then mine (`2021.3.2`).\r\n\r\nI see some visual differences when creating that example in my `IntelliJ`... when opening the `Projects` sidebar I see also the project name (`java-modules` in my case I called the empty project), both modules from the example are listed below it, if this is a significant difference.\r\n\r\nIn `Project Structure &gt; Project Settings &gt; Modules` I see also the `java-modules` as a module besides the two seen in the example video.\r\n\r\nThe problem that I have now is, that I cannot run the `main()` method, the options `Run &#39;Component.main()&#39;` and `Debug &#39;Component.main()&#39;` are grayed out. \r\n\r\nMy questions: \\\r\nHow to fix this example to run it? \\\r\n\r\n\r\n","title":"Java 9 Modules Example - Not function in newer IntelliJ, and how with Gradle","body":"<p>I want to understand the modularization system which came with <code>Java 9</code>, I have to use now <code>Java 11</code>, some time later switch to <code>Java 17</code> or higher.</p>\n<p>I found this simple example <a href=\"https://www.youtube.com/watch?v=ZogBPXNy3uU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZogBPXNy3uU</a> which shows it in <code>IntelliJ</code>, but it's from 2017 and the <code>IntelliJ</code> version is older then mine (<code>2021.3.2</code>).</p>\n<p>I see some visual differences when creating that example in my <code>IntelliJ</code>... when opening the <code>Projects</code> sidebar I see also the project name (<code>java-modules</code> in my case I called the empty project), both modules from the example are listed below it, if this is a significant difference.</p>\n<p>In <code>Project Structure &gt; Project Settings &gt; Modules</code> I see also the <code>java-modules</code> as a module besides the two seen in the example video.</p>\n<p>The problem that I have now is, that I cannot run the <code>main()</code> method, the options <code>Run 'Component.main()'</code> and <code>Debug 'Component.main()'</code> are grayed out.</p>\n<p>My questions: <br />\nHow to fix this example to run it? \\</p>\n"},{"tags":["java","maven","continuous-integration","github-actions","github-packages"],"owner":{"account_id":18970921,"reputation":438,"user_id":13844398,"display_name":"get_php_workin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669838081,"creation_date":1669838081,"question_id":74633464,"body_markdown":"I am trying to setup a basic CI environement for a maven project.\r\n\r\nHere is the github action yml boilerplate I am using: \r\n\r\n```yml\r\nname: Java CI with Maven\r\n\r\non:\r\n  push:\r\n    branches: [ &quot;master&quot; ]\r\n  pull_request:\r\n    branches: [ &quot;master&quot; ]\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - uses: actions/checkout@v3\r\n    - name: Set up JDK 11\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        java-version: &#39;11&#39;\r\n        distribution: &#39;temurin&#39;\r\n        cache: maven\r\n    - name: Build with Maven\r\n      run: mvn -B package --file pom.xml\r\n```\r\n\r\nWhen executing the workflow, I get hit with this error:\r\n\r\n```\r\nError:  \r\nFailed to execute goal on project example: \r\nCould not resolve dependencies for project &lt;dependency&gt;: \r\nFailed to collect dependencies at &lt;dependency&gt;: \r\nFailed to read artifact descriptor for &lt;dependency&gt;: \r\nCould not transfer artifact &lt;dependency&gt; from/to github (https://maven.pkg.github.com/example/package/): \r\nauthentication failed for https://maven.pkg.github.com/example/package/.../&lt;dependency&gt;.pom, \r\nstatus: 401 Unauthorized -&gt; [Help 1]\r\n```\r\n\r\nI don&#39;t think there is anything inherently wrong with the workflow file however, my maven project uses a package which I deployed through github packages.\r\n\r\nTo my limited knowledge, I beleive that to import my deployed pacakge I need to have some credentials in `.m2/settings.xml`.\r\n\r\nThis works fine if I do it locally but how do I achieve this for a workflow?","title":"Github actions: authentication failed for &lt;package&gt; status: 401 Unauthorized -&gt; [Help 1]","body":"<p>I am trying to setup a basic CI environement for a maven project.</p>\n<p>Here is the github action yml boilerplate I am using:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Java CI with Maven\n\non:\n  push:\n    branches: [ &quot;master&quot; ]\n  pull_request:\n    branches: [ &quot;master&quot; ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v3\n    - name: Set up JDK 11\n      uses: actions/setup-java@v3\n      with:\n        java-version: '11'\n        distribution: 'temurin'\n        cache: maven\n    - name: Build with Maven\n      run: mvn -B package --file pom.xml\n</code></pre>\n<p>When executing the workflow, I get hit with this error:</p>\n<pre><code>Error:  \nFailed to execute goal on project example: \nCould not resolve dependencies for project &lt;dependency&gt;: \nFailed to collect dependencies at &lt;dependency&gt;: \nFailed to read artifact descriptor for &lt;dependency&gt;: \nCould not transfer artifact &lt;dependency&gt; from/to github (https://maven.pkg.github.com/example/package/): \nauthentication failed for https://maven.pkg.github.com/example/package/.../&lt;dependency&gt;.pom, \nstatus: 401 Unauthorized -&gt; [Help 1]\n</code></pre>\n<p>I don't think there is anything inherently wrong with the workflow file however, my maven project uses a package which I deployed through github packages.</p>\n<p>To my limited knowledge, I beleive that to import my deployed pacakge I need to have some credentials in <code>.m2/settings.xml</code>.</p>\n<p>This works fine if I do it locally but how do I achieve this for a workflow?</p>\n"},{"tags":["java","spring","command-line","executable-jar","application.properties"],"comments":[{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669825760,"post_id":74631074,"comment_id":131732688,"body_markdown":"maybe this answers your question? https://stackoverflow.com/questions/37052857/spring-overriding-one-application-property-from-command-line","body":"maybe this answers your question? <a href=\"https://stackoverflow.com/questions/37052857/spring-overriding-one-application-property-from-command-line\" title=\"spring overriding one application property from command line\">stackoverflow.com/questions/37052857/&hellip;</a>"},{"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"score":0,"creation_date":1669825816,"post_id":74631074,"comment_id":131732717,"body_markdown":"no it doesn&#39;t, i tried it","body":"no it doesn&#39;t, i tried it"},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669825890,"post_id":74631074,"comment_id":131732747,"body_markdown":"Can you share a minimal project repository that can produce the issue, so I could have a look?","body":"Can you share a minimal project repository that can produce the issue, so I could have a look?"},{"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"score":0,"creation_date":1669826216,"post_id":74631074,"comment_id":131732873,"body_markdown":"I&#39;m surprised actually this was working fine minute ago and suddenly it stopped working . It&#39;s just not overwriting the properties in my application.properties. Am i using the correct syntax ?? for my command?","body":"I&#39;m surprised actually this was working fine minute ago and suddenly it stopped working . It&#39;s just not overwriting the properties in my application.properties. Am i using the correct syntax ?? for my command?"},{"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"score":0,"creation_date":1669828888,"post_id":74631074,"comment_id":131733780,"body_markdown":"@YonatanKarp-Rudin\nAlso, my program works perfectly fine when i try to overwrite just one command line argument and its able to do so. But when i try to over write application.properties with multiple command line arguments , it fails.","body":"@YonatanKarp-Rudin Also, my program works perfectly fine when i try to overwrite just one command line argument and its able to do so. But when i try to over write application.properties with multiple command line arguments , it fails."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669829110,"post_id":74631074,"comment_id":131733848,"body_markdown":"I don&#39;t know if Spring works differently but that would normally be `-Dcom.records=10 -Dcom.count=10` etc.","body":"I don&#39;t know if Spring works differently but that would normally be <code>-Dcom.records=10 -Dcom.count=10</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669829465,"creation_date":1669829371,"answer_id":74631873,"question_id":74631074,"body_markdown":"I Was making a mistake with the syntax of commandline command , while passing command-line arguments, I was wrapping  multiple arguments between &quot; &quot; and this was the issue. I simply ran the same command having multiple arguments separated by a space without wraaping them between &quot;&quot; and it worked just fine.\r\n\r\n**Correct Command: java -jar myJar.jar --com.arg1=10 --com.arg2=1**\r\n\r\n**Incorrect Command: java -jar myJar.jar &quot;--com.arg1=10 --com.arg2=1&quot;**","title":"Application.properties values are not being overwritten by command line argument","body":"<p>I Was making a mistake with the syntax of commandline command , while passing command-line arguments, I was wrapping  multiple arguments between &quot; &quot; and this was the issue. I simply ran the same command having multiple arguments separated by a space without wraaping them between &quot;&quot; and it worked just fine.</p>\n<p><strong>Correct Command: java -jar myJar.jar --com.arg1=10 --com.arg2=1</strong></p>\n<p><strong>Incorrect Command: java -jar myJar.jar &quot;--com.arg1=10 --com.arg2=1&quot;</strong></p>\n"},{"tags":[],"owner":{"display_name":"user20638963"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669837726,"creation_date":1669837726,"answer_id":74633383,"question_id":74631074,"body_markdown":"Maybe the following format can helps you, i&#39;m doing like this and i get the right values:\r\n\r\n    java -Dcom.records=10 -Dcom.count=10 -jar myJarname.jar\r\n\r\nI just tried the next format and it works as well:\r\n\r\n    java -Dspring-boot.run.arguments=&quot;--com.records=10,--com.count=10&quot; -jar myJarname.jar\r\n\r\nI see that in both styles the parameters are before the `-jar`.\r\n\r\n","title":"Application.properties values are not being overwritten by command line argument","body":"<p>Maybe the following format can helps you, i'm doing like this and i get the right values:</p>\n<pre><code>java -Dcom.records=10 -Dcom.count=10 -jar myJarname.jar\n</code></pre>\n<p>I just tried the next format and it works as well:</p>\n<pre><code>java -Dspring-boot.run.arguments=&quot;--com.records=10,--com.count=10&quot; -jar myJarname.jar\n</code></pre>\n<p>I see that in both styles the parameters are before the <code>-jar</code>.</p>\n"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669837726,"creation_date":1669825627,"question_id":74631074,"body_markdown":"I have two properties in my application properties and trying to overwrite them from command line arguments , but its not overwriting, I have checked the variable name/etc .\r\nall is fine but still isn&#39;t being overwritten. Please note: it was being overwritten earlier suddenly it stopped.\r\n\r\n    application.properties:\r\n    com.records=default\r\n    com.count=default\r\n\r\nCommand used to run from command line is:\r\n    java -jar myJarname.jar &quot;--com.records=10 --com.count=10&quot;\r\n\r\nAlso, my program works perfectly fine when i try to overwrite just one command line argument and its able to do so. But when i try to over write application.properties with multiple command line arguments , it fails.","title":"Application.properties values are not being overwritten by command line argument","body":"<p>I have two properties in my application properties and trying to overwrite them from command line arguments , but its not overwriting, I have checked the variable name/etc .\nall is fine but still isn't being overwritten. Please note: it was being overwritten earlier suddenly it stopped.</p>\n<pre><code>application.properties:\ncom.records=default\ncom.count=default\n</code></pre>\n<p>Command used to run from command line is:\njava -jar myJarname.jar &quot;--com.records=10 --com.count=10&quot;</p>\n<p>Also, my program works perfectly fine when i try to overwrite just one command line argument and its able to do so. But when i try to over write application.properties with multiple command line arguments , it fails.</p>\n"},{"tags":["java","multithreading","connection-pooling","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1349863254,"creation_date":1349863254,"answer_id":12816675,"question_id":12780036,"body_markdown":"For that I would prefer [commons-pool][1]. ;) \r\n\r\n\r\n  [1]: http://commons.apache.org/pool/examples.html","title":"Using connection pool with JSch","body":"<p>For that I would prefer <a href=\"http://commons.apache.org/pool/examples.html\" rel=\"noreferrer\">commons-pool</a>. ;) </p>\n"},{"tags":[],"owner":{"account_id":227884,"reputation":1354,"user_id":489818,"accept_rate":62,"display_name":"Njax3SmmM2x2a0Zf7Hpd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1387250175,"creation_date":1387214454,"answer_id":20616793,"question_id":12780036,"body_markdown":"Here&#39;s an implementation of Ssh Connection pool\r\nhttp://www.javacodegeeks.com/2013/02/pool-of-ssh-connections-using-apache-keyedobjectpool.html\r\n\r\nyou can use grep4j to use this pool\r\nhttps://code.google.com/p/grep4j/source/browse/trunk/src/main/java/org/grep4j/core/command/linux/SessionFactory.java?r=354\r\n\r\nAlso make sure you can access the server from the execution machine. For instance if the target server is not in your reach. It&#39;ll throw connection timeout.","title":"Using connection pool with JSch","body":"<p>Here's an implementation of Ssh Connection pool\n<a href=\"http://www.javacodegeeks.com/2013/02/pool-of-ssh-connections-using-apache-keyedobjectpool.html\" rel=\"noreferrer\">http://www.javacodegeeks.com/2013/02/pool-of-ssh-connections-using-apache-keyedobjectpool.html</a></p>\n\n<p>you can use grep4j to use this pool\n<a href=\"https://code.google.com/p/grep4j/source/browse/trunk/src/main/java/org/grep4j/core/command/linux/SessionFactory.java?r=354\" rel=\"noreferrer\">https://code.google.com/p/grep4j/source/browse/trunk/src/main/java/org/grep4j/core/command/linux/SessionFactory.java?r=354</a></p>\n\n<p>Also make sure you can access the server from the execution machine. For instance if the target server is not in your reach. It'll throw connection timeout.</p>\n"},{"tags":[],"owner":{"account_id":4528607,"reputation":855,"user_id":3679752,"display_name":"dzenisiy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591785178,"creation_date":1541076024,"answer_id":53101465,"question_id":12780036,"body_markdown":"I wold like to share with you our implementation, We have used [Session Manager][1] of [jsch-extension library][2]\r\n\r\nFirst of all you need to implement pool object factory that is responsible for lifecycle of pooled objects:\r\n\r\n    public class ChannelSftpConnectionsFactory extends BasePooledObjectFactory&lt;ChannelSftp&gt; {\r\n        private SessionManager sessionManager;\r\n    \r\n        public ChannelSftpConnectionsFactory(final SessionManager sessionManager) {\r\n            this.sessionManager = sessionManager;\r\n        }\r\n    \r\n        //Create and open channel\r\n        @Override\r\n        public ChannelSftp create() throws JSchException {\r\n            ChannelSftp channelSftp = (ChannelSftp) sessionManager.getSession().openChannel(&quot;sftp&quot;);\r\n            channelSftp.connect();\r\n    \r\n            return channelSftp;\r\n        }\r\n    \r\n        //wrapping\r\n        @Override\r\n        public PooledObject&lt;ChannelSftp&gt; wrap(final ChannelSftp channelSftp) {\r\n            return new DefaultPooledObject&lt;&gt;(channelSftp);\r\n        }\r\n    \r\n        @Override\r\n        //disconnect channel on destroy\r\n        public void destroyObject(final PooledObject&lt;ChannelSftp&gt; pooledObject) {\r\n            ChannelSftp sftp = pooledObject.getObject();\r\n            disconnectChannel(sftp);\r\n        }\r\n    \r\n        void disconnectChannel(final ChannelSftp sftp) {\r\n            if (sftp.isConnected()) {\r\n                sftp.disconnect();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        //reset channel current folder to home if someone was walking on another folders\r\n        public void passivateObject(final PooledObject&lt;ChannelSftp&gt; p) {\r\n            ChannelSftp sftp = p.getObject();\r\n            try {\r\n                sftp.cd(sftp.getHome());\r\n            } catch (SftpException ex) {\r\n                log.error(&quot;Could not reset channel to home folder, closing it&quot;);\r\n                disconnectChannel(sftp);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        //validate object before it is borrowed from pool. If false object will be removed from pool\r\n        public boolean validateObject(final PooledObject&lt;ChannelSftp&gt; p) {\r\n            ChannelSftp sftp = p.getObject();\r\n            return sftp.isConnected() &amp;&amp; !sftp.isClosed();\r\n        }\r\n    }\r\n\r\nNow you could create pool using configured factory:\r\n\r\n    ObjectPool&lt;ChannelSftp&gt; createPool(final SessionManager sessionManager, final GenericObjectPoolConfig&lt;ChannelSftp&gt; poolConfig) {\r\n        return PoolUtils.synchronizedPool(new GenericObjectPool&lt;&gt;(buildFactory(sessionManager), poolConfig));\r\n    }\r\n    \r\n    \r\n    PooledObjectFactory&lt;ChannelSftp&gt; buildFactory(final SessionManager sessionManager) {\r\n        return PoolUtils.synchronizedPooledFactory(new ChannelSftpConnectionsFactory(sessionManager));\r\n    }\r\n\r\nThis java doc would help you to configure pool properly : https://commons.apache.org/proper/commons-pool/api-2.6.0/org/apache/commons/pool2/impl/BaseGenericObjectPool.html\r\n\r\nDo not forget about correct borrowing and returning of object into pool: https://commons.apache.org/proper/commons-pool/api-2.6.0/org/apache/commons/pool2/ObjectPool.html\r\n\r\n     Object obj = null;\r\n    \r\n     try {\r\n         obj = pool.borrowObject();\r\n         try {\r\n             //...use the object...\r\n         } catch(Exception e) {\r\n             // invalidate the object\r\n             pool.invalidateObject(obj);\r\n             // do not return the object to the pool twice\r\n             obj = null;\r\n         } finally {\r\n             // make sure the object is returned to the pool\r\n             if(null != obj) {\r\n                 pool.returnObject(obj);\r\n            }\r\n         }\r\n     } catch(Exception e) {\r\n           // failed to borrow an object\r\n     }\r\n\r\n  [1]: https://github.com/lucastheisen/jsch-extension/blob/master/src/main/java/com/pastdev/jsch/SessionManager.java\r\n  [2]: https://github.com/lucastheisen/jsch-extension","title":"Using connection pool with JSch","body":"<p>I wold like to share with you our implementation, We have used <a href=\"https://github.com/lucastheisen/jsch-extension/blob/master/src/main/java/com/pastdev/jsch/SessionManager.java\" rel=\"nofollow noreferrer\">Session Manager</a> of <a href=\"https://github.com/lucastheisen/jsch-extension\" rel=\"nofollow noreferrer\">jsch-extension library</a></p>\n\n<p>First of all you need to implement pool object factory that is responsible for lifecycle of pooled objects:</p>\n\n<pre><code>public class ChannelSftpConnectionsFactory extends BasePooledObjectFactory&lt;ChannelSftp&gt; {\n    private SessionManager sessionManager;\n\n    public ChannelSftpConnectionsFactory(final SessionManager sessionManager) {\n        this.sessionManager = sessionManager;\n    }\n\n    //Create and open channel\n    @Override\n    public ChannelSftp create() throws JSchException {\n        ChannelSftp channelSftp = (ChannelSftp) sessionManager.getSession().openChannel(\"sftp\");\n        channelSftp.connect();\n\n        return channelSftp;\n    }\n\n    //wrapping\n    @Override\n    public PooledObject&lt;ChannelSftp&gt; wrap(final ChannelSftp channelSftp) {\n        return new DefaultPooledObject&lt;&gt;(channelSftp);\n    }\n\n    @Override\n    //disconnect channel on destroy\n    public void destroyObject(final PooledObject&lt;ChannelSftp&gt; pooledObject) {\n        ChannelSftp sftp = pooledObject.getObject();\n        disconnectChannel(sftp);\n    }\n\n    void disconnectChannel(final ChannelSftp sftp) {\n        if (sftp.isConnected()) {\n            sftp.disconnect();\n        }\n    }\n\n    @Override\n    //reset channel current folder to home if someone was walking on another folders\n    public void passivateObject(final PooledObject&lt;ChannelSftp&gt; p) {\n        ChannelSftp sftp = p.getObject();\n        try {\n            sftp.cd(sftp.getHome());\n        } catch (SftpException ex) {\n            log.error(\"Could not reset channel to home folder, closing it\");\n            disconnectChannel(sftp);\n        }\n    }\n\n    @Override\n    //validate object before it is borrowed from pool. If false object will be removed from pool\n    public boolean validateObject(final PooledObject&lt;ChannelSftp&gt; p) {\n        ChannelSftp sftp = p.getObject();\n        return sftp.isConnected() &amp;&amp; !sftp.isClosed();\n    }\n}\n</code></pre>\n\n<p>Now you could create pool using configured factory:</p>\n\n<pre><code>ObjectPool&lt;ChannelSftp&gt; createPool(final SessionManager sessionManager, final GenericObjectPoolConfig&lt;ChannelSftp&gt; poolConfig) {\n    return PoolUtils.synchronizedPool(new GenericObjectPool&lt;&gt;(buildFactory(sessionManager), poolConfig));\n}\n\n\nPooledObjectFactory&lt;ChannelSftp&gt; buildFactory(final SessionManager sessionManager) {\n    return PoolUtils.synchronizedPooledFactory(new ChannelSftpConnectionsFactory(sessionManager));\n}\n</code></pre>\n\n<p>This java doc would help you to configure pool properly : <a href=\"https://commons.apache.org/proper/commons-pool/api-2.6.0/org/apache/commons/pool2/impl/BaseGenericObjectPool.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-pool/api-2.6.0/org/apache/commons/pool2/impl/BaseGenericObjectPool.html</a></p>\n\n<p>Do not forget about correct borrowing and returning of object into pool: <a href=\"https://commons.apache.org/proper/commons-pool/api-2.6.0/org/apache/commons/pool2/ObjectPool.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-pool/api-2.6.0/org/apache/commons/pool2/ObjectPool.html</a></p>\n\n<pre><code> Object obj = null;\n\n try {\n     obj = pool.borrowObject();\n     try {\n         //...use the object...\n     } catch(Exception e) {\n         // invalidate the object\n         pool.invalidateObject(obj);\n         // do not return the object to the pool twice\n         obj = null;\n     } finally {\n         // make sure the object is returned to the pool\n         if(null != obj) {\n             pool.returnObject(obj);\n        }\n     }\n } catch(Exception e) {\n       // failed to borrow an object\n }\n</code></pre>\n"}],"owner":{"account_id":1250160,"reputation":249,"user_id":1210711,"accept_rate":80,"display_name":"Daniel Lyam Montross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14661,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":12816675,"answer_count":3,"score":9,"last_activity_date":1669837568,"creation_date":1349692800,"question_id":12780036,"body_markdown":"I&#39;m using JSch for file upload over SFTP. In its current state each thread opens and closes connection when needed. \r\n\r\nIf it possible to use connection pooling with JSch in order to avoid overhead caused by large number of connection opening and closing?\r\n\r\nHere is a example of function called from inside of thread\r\n\r\n     public static void file_upload(String filename) throws IOException {\r\n        JSch jsch = new JSch();\r\n        Session session = null;\r\n        try {\r\n            session = jsch.getSession(&quot;user&quot;, &quot;server_name&quot;, 22);\r\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.setPassword(&quot;super_secre_password&quot;);\r\n            session.connect();\r\n\r\n            Channel channel = session.openChannel(&quot;sftp&quot;);\r\n            channel.connect();\r\n            ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n                 \r\n            FileInputStream inputSrr = new FileInputStream(filename);  \r\n            try {  \r\n                sftpChannel.put(inputSrr, &quot;/var/temp/&quot;+filename);  \r\n            } catch (SftpException e) {  \r\n                e.printStackTrace();  \r\n\r\n            } finally {  \r\n                if (inputSrr != null) {  \r\n                    inputSrr.close();  \r\n                }  \r\n            }  \r\n            \r\n            sftpChannel.exit();\r\n            session.disconnect();\r\n        } catch (JSchException e) {\r\n            e.printStackTrace();\r\n        } catch (SftpException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Using connection pool with JSch","body":"<p>I'm using JSch for file upload over SFTP. In its current state each thread opens and closes connection when needed.</p>\n<p>If it possible to use connection pooling with JSch in order to avoid overhead caused by large number of connection opening and closing?</p>\n<p>Here is a example of function called from inside of thread</p>\n<pre><code> public static void file_upload(String filename) throws IOException {\n    JSch jsch = new JSch();\n    Session session = null;\n    try {\n        session = jsch.getSession(&quot;user&quot;, &quot;server_name&quot;, 22);\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        session.setPassword(&quot;super_secre_password&quot;);\n        session.connect();\n\n        Channel channel = session.openChannel(&quot;sftp&quot;);\n        channel.connect();\n        ChannelSftp sftpChannel = (ChannelSftp) channel;\n             \n        FileInputStream inputSrr = new FileInputStream(filename);  \n        try {  \n            sftpChannel.put(inputSrr, &quot;/var/temp/&quot;+filename);  \n        } catch (SftpException e) {  \n            e.printStackTrace();  \n\n        } finally {  \n            if (inputSrr != null) {  \n                inputSrr.close();  \n            }  \n        }  \n        \n        sftpChannel.exit();\n        session.disconnect();\n    } catch (JSchException e) {\n        e.printStackTrace();\n    } catch (SftpException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","java-module"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669836703,"creation_date":1669836703,"answer_id":74633208,"question_id":74633025,"body_markdown":"Can you try with adding this as vm argument :\r\n\r\n    --add-modules java.xml,java.sql,java.prefs,java.desktop","title":"Java Modules - Simple Spring Boot application, create custom runtime","body":"<p>Can you try with adding this as vm argument :</p>\n<pre><code>--add-modules java.xml,java.sql,java.prefs,java.desktop\n</code></pre>\n"}],"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669836703,"creation_date":1669835446,"question_id":74633025,"body_markdown":"I created a simple `Spring Boot` application using `start.spring.io` with `Maven`, `Java 19`, `Spring Boot 3.0`\r\n\r\nI added just one additional dependency, `commons-lang3`\r\n\r\n    pom.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;19&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhen `NetBeans 15` builds the project, there is a `target` folder containing the jar file `demo-0.0.1-SNAPSHOT.jar`\r\n\r\nI can run that jar with \r\n\r\n    java -jar target/demo-0.0.1-SNAPSHOT.jar\r\n\r\nI can see my output and the `Spring Boot` logo and it terminates.\r\n\r\n    java -jar target/demo-0.0.1-SNAPSHOT.jar \r\n\r\n    MIX\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.0)\r\n    \r\n    2022-11-30T19:47:53.468+01:00  INFO 18179 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT using Java 19.0.1 with PID 18179 (/home/me/NetBeansProjects/demo/target/demo-0.0.1-SNAPSHOT.jar started by neblaz in /home/me/NetBeansProjects/demo)\r\n    2022-11-30T19:47:53.470+01:00  INFO 18179 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-11-30T19:47:54.131+01:00  INFO 18179 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.172 seconds (process running for 1.666)\r\n\r\nThe main class is simple \r\n\r\n    package com.example.demo;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n            String mix = &quot;MIX&quot;;\r\n            if (StringUtils.isNoneBlank(mix)) {\r\n                System.out.println(mix);\r\n            }\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nNow I want to create a minimized custom runtime image with `jlink` to run that jar file with it.\r\n\r\nI found this article https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4 but cannot figure it out.\r\n\r\nWith `jdeps` I get some not fully understandable output \r\n\r\n    jdeps target/demo-0.0.1-SNAPSHOT.jar\r\n    demo-0.0.1-SNAPSHOT.jar -&gt; java.base\r\n    demo-0.0.1-SNAPSHOT.jar -&gt; java.logging\r\n    demo-0.0.1-SNAPSHOT.jar -&gt; not found\r\n       com.example.demo                                   -&gt; java.io                                            java.base\r\n       com.example.demo                                   -&gt; java.lang                                          java.base\r\n       com.example.demo                                   -&gt; org.apache.commons.lang3                           not found\r\n       com.example.demo                                   -&gt; org.springframework.boot                           not found\r\n       com.example.demo                                   -&gt; org.springframework.boot.autoconfigure             not found\r\n       com.example.demo                                   -&gt; org.springframework.context                        not found\r\n       org.springframework.boot.loader                    -&gt; java.io                                            java.base\r\n       org.springframework.boot.loader                    -&gt; java.lang                                          java.base\r\n       org.springframework.boot.loader                    -&gt; java.lang.invoke                                   java.base\r\n       org.springframework.boot.loader                    -&gt; java.lang.reflect                                  java.base\r\n       org.springframework.boot.loader                    -&gt; java.net                                           java.base\r\n       org.springframework.boot.loader                    -&gt; java.nio.charset                                   java.base\r\n       org.springframework.boot.loader                    -&gt; java.security                                      java.base\r\n       org.springframework.boot.loader                    -&gt; java.util                                          java.base\r\n       org.springframework.boot.loader                    -&gt; java.util.function                                 java.base\r\n       org.springframework.boot.loader                    -&gt; java.util.jar                                      java.base\r\n       org.springframework.boot.loader                    -&gt; java.util.regex                                    java.base\r\n       org.springframework.boot.loader                    -&gt; java.util.stream                                   java.base\r\n       org.springframework.boot.loader                    -&gt; java.util.zip                                      java.base\r\n       org.springframework.boot.loader                    -&gt; org.springframework.boot.loader.archive            demo-0.0.1-SNAPSHOT.jar\r\n       org.springframework.boot.loader                    -&gt; org.springframework.boot.loader.jar                demo-0.0.1-SNAPSHOT.jar\r\n       org.springframework.boot.loader                    -&gt; org.springframework.boot.loader.util               demo-0.0.1-SNAPSHOT.jar\r\n       org.springframework.boot.loader.archive            -&gt; java.io                                            java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.lang                                          java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.lang.invoke                                   java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.net                                           java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.nio.file                                      java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.nio.file.attribute                            java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.util                                          java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.util.function                                 java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.util.jar                                      java.base\r\n       org.springframework.boot.loader.archive            -&gt; java.util.zip                                      java.base\r\n       org.springframework.boot.loader.archive            -&gt; org.springframework.boot.loader.jar                demo-0.0.1-SNAPSHOT.jar\r\n       org.springframework.boot.loader.data               -&gt; java.io                                            java.base\r\n       org.springframework.boot.loader.data               -&gt; java.lang                                          java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.io                                            java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.lang                                          java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.lang.invoke                                   java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.lang.ref                                      java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.lang.reflect                                  java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.net                                           java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.nio.charset                                   java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.security                                      java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.security.cert                                 java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.time                                          java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.time.temporal                                 java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.util                                          java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.util.concurrent                               java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.util.function                                 java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.util.jar                                      java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.util.logging                                  java.logging\r\n       org.springframework.boot.loader.jar                -&gt; java.util.regex                                    java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.util.stream                                   java.base\r\n       org.springframework.boot.loader.jar                -&gt; java.util.zip                                      java.base\r\n       org.springframework.boot.loader.jar                -&gt; org.springframework.boot.loader.data               demo-0.0.1-SNAPSHOT.jar\r\n       org.springframework.boot.loader.jarmode            -&gt; java.io                                            java.base\r\n       org.springframework.boot.loader.jarmode            -&gt; java.lang                                          java.base\r\n       org.springframework.boot.loader.jarmode            -&gt; java.lang.invoke                                   java.base\r\n       org.springframework.boot.loader.jarmode            -&gt; java.util                                          java.base\r\n       org.springframework.boot.loader.jarmode            -&gt; org.springframework.core.io.support                not found\r\n       org.springframework.boot.loader.jarmode            -&gt; org.springframework.util                           not found\r\n       org.springframework.boot.loader.util               -&gt; java.io                                            java.base\r\n       org.springframework.boot.loader.util               -&gt; java.lang                                          java.base\r\n       org.springframework.boot.loader.util               -&gt; java.lang.invoke                                   java.base\r\n       org.springframework.boot.loader.util               -&gt; java.util                                          java.base\r\n\r\nI understand that the application uses the Java modules `java.base` and `java.logging`, but sometimes `not found` and sometimes the jar file are give as modules.\r\n\r\nTrying `jlink` like  \r\n\r\n    jlink --module-path $JAVA_HOME/jmods --add-modules java.base,java.logging --output mycustomrt\r\n\r\ncreates the custom runtime image, but running it with \r\n\r\n    mycustomrt/bin/java -jar target/demo-0.0.1-SNAPSHOT.jar\r\n\r\nresults in\r\n\r\n    19:08:07.912 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    java.lang.NoClassDefFoundError: java/beans/PropertyEditorSupport\r\n            at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n            at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n            at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\r\n            at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\r\n            at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n            at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n            at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n            at org.springframework.boot.context.properties.bind.BindConverter$TypeConverterConverter.&lt;clinit&gt;(BindConverter.java:180)\r\n            at org.springframework.boot.context.properties.bind.BindConverter$TypeConverterConversionService.&lt;init&gt;(BindConverter.java:157)\r\n            at org.springframework.boot.context.properties.bind.BindConverter.&lt;init&gt;(BindConverter.java:63)\r\n            at org.springframework.boot.context.properties.bind.BindConverter.getSharedInstance(BindConverter.java:133)\r\n            at org.springframework.boot.context.properties.bind.BindConverter.get(BindConverter.java:126)\r\n            at org.springframework.boot.context.properties.bind.Binder.&lt;init&gt;(Binder.java:190)\r\n            at org.springframework.boot.context.properties.bind.Binder.&lt;init&gt;(Binder.java:160)\r\n            at org.springframework.boot.context.properties.bind.Binder.&lt;init&gt;(Binder.java:139)\r\n            at org.springframework.boot.context.properties.bind.Binder.get(Binder.java:531)\r\n            at org.springframework.boot.context.properties.bind.Binder.get(Binder.java:516)\r\n            at org.springframework.boot.context.config.ConfigDataEnvironment.&lt;init&gt;(ConfigDataEnvironment.java:141)\r\n            at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.getConfigDataEnvironment(ConfigDataEnvironmentPostProcessor.java:101)\r\n            at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:96)\r\n            at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:89)\r\n            at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\r\n            at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n            at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n            at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n            at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n            at java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n            at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n            at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n            at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n            at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n            at com.example.demo.DemoApplication.main(DemoApplication.java:18)\r\n            at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: java.lang.ClassNotFoundException: java.beans.PropertyEditorSupport\r\n            at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n            at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n            ... 49 common frames omitted\r\n\r\nThe `jlink` command seems not to be fully correct, don&#39;t know how to specify it correctly.\r\n\r\nLooking into the `demo-0.0.1-SNAPSHOT.jar` file I see that all necessary jars are  \r\n\r\n    BOOT-INF\r\n       classpath.idx\r\n       layers.idx\r\n       lib/commons-lang3-3.12.0.jar\r\n       lib/spring-boot-3.0.0.jar\r\n       lib/...\r\n\r\n\r\n","title":"Java Modules - Simple Spring Boot application, create custom runtime","body":"<p>I created a simple <code>Spring Boot</code> application using <code>start.spring.io</code> with <code>Maven</code>, <code>Java 19</code>, <code>Spring Boot 3.0</code></p>\n<p>I added just one additional dependency, <code>commons-lang3</code></p>\n<pre><code>pom.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When <code>NetBeans 15</code> builds the project, there is a <code>target</code> folder containing the jar file <code>demo-0.0.1-SNAPSHOT.jar</code></p>\n<p>I can run that jar with</p>\n<pre><code>java -jar target/demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>I can see my output and the <code>Spring Boot</code> logo and it terminates.</p>\n<pre><code>java -jar target/demo-0.0.1-SNAPSHOT.jar \n\nMIX\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.0)\n\n2022-11-30T19:47:53.468+01:00  INFO 18179 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT using Java 19.0.1 with PID 18179 (/home/me/NetBeansProjects/demo/target/demo-0.0.1-SNAPSHOT.jar started by neblaz in /home/me/NetBeansProjects/demo)\n2022-11-30T19:47:53.470+01:00  INFO 18179 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-11-30T19:47:54.131+01:00  INFO 18179 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.172 seconds (process running for 1.666)\n</code></pre>\n<p>The main class is simple</p>\n<pre><code>package com.example.demo;\n\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        String mix = &quot;MIX&quot;;\n        if (StringUtils.isNoneBlank(mix)) {\n            System.out.println(mix);\n        }\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Now I want to create a minimized custom runtime image with <code>jlink</code> to run that jar file with it.</p>\n<p>I found this article <a href=\"https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4\" rel=\"nofollow noreferrer\">https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4</a> but cannot figure it out.</p>\n<p>With <code>jdeps</code> I get some not fully understandable output</p>\n<pre><code>jdeps target/demo-0.0.1-SNAPSHOT.jar\ndemo-0.0.1-SNAPSHOT.jar -&gt; java.base\ndemo-0.0.1-SNAPSHOT.jar -&gt; java.logging\ndemo-0.0.1-SNAPSHOT.jar -&gt; not found\n   com.example.demo                                   -&gt; java.io                                            java.base\n   com.example.demo                                   -&gt; java.lang                                          java.base\n   com.example.demo                                   -&gt; org.apache.commons.lang3                           not found\n   com.example.demo                                   -&gt; org.springframework.boot                           not found\n   com.example.demo                                   -&gt; org.springframework.boot.autoconfigure             not found\n   com.example.demo                                   -&gt; org.springframework.context                        not found\n   org.springframework.boot.loader                    -&gt; java.io                                            java.base\n   org.springframework.boot.loader                    -&gt; java.lang                                          java.base\n   org.springframework.boot.loader                    -&gt; java.lang.invoke                                   java.base\n   org.springframework.boot.loader                    -&gt; java.lang.reflect                                  java.base\n   org.springframework.boot.loader                    -&gt; java.net                                           java.base\n   org.springframework.boot.loader                    -&gt; java.nio.charset                                   java.base\n   org.springframework.boot.loader                    -&gt; java.security                                      java.base\n   org.springframework.boot.loader                    -&gt; java.util                                          java.base\n   org.springframework.boot.loader                    -&gt; java.util.function                                 java.base\n   org.springframework.boot.loader                    -&gt; java.util.jar                                      java.base\n   org.springframework.boot.loader                    -&gt; java.util.regex                                    java.base\n   org.springframework.boot.loader                    -&gt; java.util.stream                                   java.base\n   org.springframework.boot.loader                    -&gt; java.util.zip                                      java.base\n   org.springframework.boot.loader                    -&gt; org.springframework.boot.loader.archive            demo-0.0.1-SNAPSHOT.jar\n   org.springframework.boot.loader                    -&gt; org.springframework.boot.loader.jar                demo-0.0.1-SNAPSHOT.jar\n   org.springframework.boot.loader                    -&gt; org.springframework.boot.loader.util               demo-0.0.1-SNAPSHOT.jar\n   org.springframework.boot.loader.archive            -&gt; java.io                                            java.base\n   org.springframework.boot.loader.archive            -&gt; java.lang                                          java.base\n   org.springframework.boot.loader.archive            -&gt; java.lang.invoke                                   java.base\n   org.springframework.boot.loader.archive            -&gt; java.net                                           java.base\n   org.springframework.boot.loader.archive            -&gt; java.nio.file                                      java.base\n   org.springframework.boot.loader.archive            -&gt; java.nio.file.attribute                            java.base\n   org.springframework.boot.loader.archive            -&gt; java.util                                          java.base\n   org.springframework.boot.loader.archive            -&gt; java.util.function                                 java.base\n   org.springframework.boot.loader.archive            -&gt; java.util.jar                                      java.base\n   org.springframework.boot.loader.archive            -&gt; java.util.zip                                      java.base\n   org.springframework.boot.loader.archive            -&gt; org.springframework.boot.loader.jar                demo-0.0.1-SNAPSHOT.jar\n   org.springframework.boot.loader.data               -&gt; java.io                                            java.base\n   org.springframework.boot.loader.data               -&gt; java.lang                                          java.base\n   org.springframework.boot.loader.jar                -&gt; java.io                                            java.base\n   org.springframework.boot.loader.jar                -&gt; java.lang                                          java.base\n   org.springframework.boot.loader.jar                -&gt; java.lang.invoke                                   java.base\n   org.springframework.boot.loader.jar                -&gt; java.lang.ref                                      java.base\n   org.springframework.boot.loader.jar                -&gt; java.lang.reflect                                  java.base\n   org.springframework.boot.loader.jar                -&gt; java.net                                           java.base\n   org.springframework.boot.loader.jar                -&gt; java.nio.charset                                   java.base\n   org.springframework.boot.loader.jar                -&gt; java.security                                      java.base\n   org.springframework.boot.loader.jar                -&gt; java.security.cert                                 java.base\n   org.springframework.boot.loader.jar                -&gt; java.time                                          java.base\n   org.springframework.boot.loader.jar                -&gt; java.time.temporal                                 java.base\n   org.springframework.boot.loader.jar                -&gt; java.util                                          java.base\n   org.springframework.boot.loader.jar                -&gt; java.util.concurrent                               java.base\n   org.springframework.boot.loader.jar                -&gt; java.util.function                                 java.base\n   org.springframework.boot.loader.jar                -&gt; java.util.jar                                      java.base\n   org.springframework.boot.loader.jar                -&gt; java.util.logging                                  java.logging\n   org.springframework.boot.loader.jar                -&gt; java.util.regex                                    java.base\n   org.springframework.boot.loader.jar                -&gt; java.util.stream                                   java.base\n   org.springframework.boot.loader.jar                -&gt; java.util.zip                                      java.base\n   org.springframework.boot.loader.jar                -&gt; org.springframework.boot.loader.data               demo-0.0.1-SNAPSHOT.jar\n   org.springframework.boot.loader.jarmode            -&gt; java.io                                            java.base\n   org.springframework.boot.loader.jarmode            -&gt; java.lang                                          java.base\n   org.springframework.boot.loader.jarmode            -&gt; java.lang.invoke                                   java.base\n   org.springframework.boot.loader.jarmode            -&gt; java.util                                          java.base\n   org.springframework.boot.loader.jarmode            -&gt; org.springframework.core.io.support                not found\n   org.springframework.boot.loader.jarmode            -&gt; org.springframework.util                           not found\n   org.springframework.boot.loader.util               -&gt; java.io                                            java.base\n   org.springframework.boot.loader.util               -&gt; java.lang                                          java.base\n   org.springframework.boot.loader.util               -&gt; java.lang.invoke                                   java.base\n   org.springframework.boot.loader.util               -&gt; java.util                                          java.base\n</code></pre>\n<p>I understand that the application uses the Java modules <code>java.base</code> and <code>java.logging</code>, but sometimes <code>not found</code> and sometimes the jar file are give as modules.</p>\n<p>Trying <code>jlink</code> like</p>\n<pre><code>jlink --module-path $JAVA_HOME/jmods --add-modules java.base,java.logging --output mycustomrt\n</code></pre>\n<p>creates the custom runtime image, but running it with</p>\n<pre><code>mycustomrt/bin/java -jar target/demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>results in</p>\n<pre><code>19:08:07.912 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.NoClassDefFoundError: java/beans/PropertyEditorSupport\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at org.springframework.boot.context.properties.bind.BindConverter$TypeConverterConverter.&lt;clinit&gt;(BindConverter.java:180)\n        at org.springframework.boot.context.properties.bind.BindConverter$TypeConverterConversionService.&lt;init&gt;(BindConverter.java:157)\n        at org.springframework.boot.context.properties.bind.BindConverter.&lt;init&gt;(BindConverter.java:63)\n        at org.springframework.boot.context.properties.bind.BindConverter.getSharedInstance(BindConverter.java:133)\n        at org.springframework.boot.context.properties.bind.BindConverter.get(BindConverter.java:126)\n        at org.springframework.boot.context.properties.bind.Binder.&lt;init&gt;(Binder.java:190)\n        at org.springframework.boot.context.properties.bind.Binder.&lt;init&gt;(Binder.java:160)\n        at org.springframework.boot.context.properties.bind.Binder.&lt;init&gt;(Binder.java:139)\n        at org.springframework.boot.context.properties.bind.Binder.get(Binder.java:531)\n        at org.springframework.boot.context.properties.bind.Binder.get(Binder.java:516)\n        at org.springframework.boot.context.config.ConfigDataEnvironment.&lt;init&gt;(ConfigDataEnvironment.java:141)\n        at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.getConfigDataEnvironment(ConfigDataEnvironmentPostProcessor.java:101)\n        at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:96)\n        at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:89)\n        at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\n        at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n        at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n        at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n        at com.example.demo.DemoApplication.main(DemoApplication.java:18)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.ClassNotFoundException: java.beans.PropertyEditorSupport\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 49 common frames omitted\n</code></pre>\n<p>The <code>jlink</code> command seems not to be fully correct, don't know how to specify it correctly.</p>\n<p>Looking into the <code>demo-0.0.1-SNAPSHOT.jar</code> file I see that all necessary jars are</p>\n<pre><code>BOOT-INF\n   classpath.idx\n   layers.idx\n   lib/commons-lang3-3.12.0.jar\n   lib/spring-boot-3.0.0.jar\n   lib/...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1669834426,"post_id":74632825,"comment_id":131735623,"body_markdown":"Use `.equals()` to compare strings.","body":"Use <code>.equals()</code> to compare strings."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1669834536,"post_id":74632825,"comment_id":131735653,"body_markdown":"Not sure if an exception is the best solution. Just print an error and re-ask until they enter the correct format.","body":"Not sure if an exception is the best solution. Just print an error and re-ask until they enter the correct format."},{"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"score":0,"creation_date":1669834555,"post_id":74632825,"comment_id":131735659,"body_markdown":"That&#39;s a good idea, how would it look like cause I can&#39;t think of a way to make it check for both parenthesis.","body":"That&#39;s a good idea, how would it look like cause I can&#39;t think of a way to make it check for both parenthesis."},{"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"score":0,"creation_date":1669834629,"post_id":74632825,"comment_id":131735691,"body_markdown":"Maybe you&#39;re right, I was trying to get all fancy. This part&#39;s not even required for the assignment, I&#39;m just doing it for fun and to learn more.","body":"Maybe you&#39;re right, I was trying to get all fancy. This part&#39;s not even required for the assignment, I&#39;m just doing it for fun and to learn more."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1669834752,"post_id":74632825,"comment_id":131735734,"body_markdown":"Regex is a good option, if you are familiar with it.","body":"Regex is a good option, if you are familiar with it."},{"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"score":0,"creation_date":1669834920,"post_id":74632825,"comment_id":131735791,"body_markdown":"I am not but I do some research on it. Thank you for sharing.","body":"I am not but I do some research on it. Thank you for sharing."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1669843610,"post_id":74632825,"comment_id":131738238,"body_markdown":"_&quot;throws the exception but doesn&#39;t crash the program and asks them to re-enter using the correct format&quot;_ - If you are being told to do that, find someone else to ask.  It is an [anti-pattern](https://en.wikipedia.org/wiki/Anti-pattern) to use exceptions for normal flow control.","body":"<i>&quot;throws the exception but doesn&#39;t crash the program and asks them to re-enter using the correct format&quot;</i> - If you are being told to do that, find someone else to ask.  It is an <a href=\"https://en.wikipedia.org/wiki/Anti-pattern\" rel=\"nofollow noreferrer\">anti-pattern</a> to use exceptions for normal flow control."}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669835358,"creation_date":1669835358,"answer_id":74633006,"question_id":74632825,"body_markdown":"No need to throw. Just keep asking in a loop.\r\n```\r\nString areaCode;\r\nString preFix;\r\nString lineNum;\r\n\r\nwhile (true) {\r\n    System.out.print(&quot;Enter a phone number in (123) 123-4567 format: &quot;);\r\n       \r\n    String inputNum = input.nextLine();\r\n    System.out.println();\r\n   \r\n    String [] token1 = inputNum.split(&quot; &quot;);\r\n    if (token1.length == 2 &amp;&amp; token1[0].length() == 5\r\n            &amp;&amp; token1[0].charAt(0) == &#39;(&#39; &amp;&amp; token1[0].charAt(4) == &#39;)&#39;) {\r\n        areaCode = token1[0].substring(1, 4);\r\n        String [] token2 = token1[1].split(&quot;-&quot;);\r\n        if (token2.length == 2 &amp;&amp; token2[0].length() == 3 &amp;&amp; token2[1].length() == 4) {\r\n            preFix = token2[0];\r\n            lineNum = token2[1];\r\n            // If we reach this line all is ok. Exit the loop.\r\n            break;\r\n        }\r\n    }\r\n}\r\nString fullNum = &quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + preFix + &quot;-&quot; + lineNum ;\r\nSystem.out.print(&quot;Area code: &quot; + areaCode + &quot;\\n&quot;);\r\nSystem.out.print(&quot;Prefix: &quot; + preFix + &quot;\\n&quot;);\r\nSystem.out.print(&quot;Line number: &quot; + lineNum + &quot;\\n&quot;);\r\nSystem.out.print(&quot;Full number: &quot; + fullNum);\r\n```","title":"How can I use throw exception in this context?","body":"<p>No need to throw. Just keep asking in a loop.</p>\n<pre><code>String areaCode;\nString preFix;\nString lineNum;\n\nwhile (true) {\n    System.out.print(&quot;Enter a phone number in (123) 123-4567 format: &quot;);\n       \n    String inputNum = input.nextLine();\n    System.out.println();\n   \n    String [] token1 = inputNum.split(&quot; &quot;);\n    if (token1.length == 2 &amp;&amp; token1[0].length() == 5\n            &amp;&amp; token1[0].charAt(0) == '(' &amp;&amp; token1[0].charAt(4) == ')') {\n        areaCode = token1[0].substring(1, 4);\n        String [] token2 = token1[1].split(&quot;-&quot;);\n        if (token2.length == 2 &amp;&amp; token2[0].length() == 3 &amp;&amp; token2[1].length() == 4) {\n            preFix = token2[0];\n            lineNum = token2[1];\n            // If we reach this line all is ok. Exit the loop.\n            break;\n        }\n    }\n}\nString fullNum = &quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + preFix + &quot;-&quot; + lineNum ;\nSystem.out.print(&quot;Area code: &quot; + areaCode + &quot;\\n&quot;);\nSystem.out.print(&quot;Prefix: &quot; + preFix + &quot;\\n&quot;);\nSystem.out.print(&quot;Line number: &quot; + lineNum + &quot;\\n&quot;);\nSystem.out.print(&quot;Full number: &quot; + fullNum);\n</code></pre>\n"}],"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669835358,"creation_date":1669834271,"question_id":74632825,"body_markdown":"So for this assignment, it asks the user to enter a phone number, then it splits the number up into a category of each set of integers. What I&#39;m attempting to do is to throw a simple exception that if they do not enter the parenthesis for the area code that it throws the exception but doesn&#39;t crash the program and asks them to re-enter using the correct format\r\n```\r\npublic class App{\r\n\r\npublic static void main(String[] args) throws Exception {\r\n       Scanner input = new Scanner(System.in);\r\n       \r\n       String inputNum;\r\n       String token1[];\r\n       String token2[];\r\n       String areaCode;\r\n       String preFix;\r\n       String lineNum;\r\n       String fullNum;\r\n       \r\n       System.out.print(&quot;Enter a phone number in (123) 123-4567 format: &quot;);\r\n       \r\n       inputNum = input.nextLine();\r\n       System.out.println();\r\n\r\n       \r\n       token1 = inputNum.split(&quot; &quot;);\r\n       areaCode = token1[0].substring(1, 4);\r\n       if (token1[0].substring(0, 3) != &quot;()&quot;){\r\n       throw new Exception(&quot;Enter a phone number in (123) 123-4567 format: &quot;);\r\n        }\r\n       \r\n       token2 = token1[1].split(&quot;-&quot;);\r\n       \r\n       preFix = token2[0];\r\n       \r\n       lineNum = token2[1];\r\n       fullNum = &quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + preFix + &quot;-&quot; + lineNum ;\r\n       \r\n       System.out.print(&quot;Area code: &quot; + areaCode + &quot;\\n&quot;);\r\n       System.out.print(&quot;Prefix: &quot; + preFix + &quot;\\n&quot;);\r\n       System.out.print(&quot;Line number: &quot; + lineNum + &quot;\\n&quot;);\r\n       System.out.print(&quot;Full number: &quot; + fullNum);\r\n    }\r\n}\r\n```","title":"How can I use throw exception in this context?","body":"<p>So for this assignment, it asks the user to enter a phone number, then it splits the number up into a category of each set of integers. What I'm attempting to do is to throw a simple exception that if they do not enter the parenthesis for the area code that it throws the exception but doesn't crash the program and asks them to re-enter using the correct format</p>\n<pre><code>public class App{\n\npublic static void main(String[] args) throws Exception {\n       Scanner input = new Scanner(System.in);\n       \n       String inputNum;\n       String token1[];\n       String token2[];\n       String areaCode;\n       String preFix;\n       String lineNum;\n       String fullNum;\n       \n       System.out.print(&quot;Enter a phone number in (123) 123-4567 format: &quot;);\n       \n       inputNum = input.nextLine();\n       System.out.println();\n\n       \n       token1 = inputNum.split(&quot; &quot;);\n       areaCode = token1[0].substring(1, 4);\n       if (token1[0].substring(0, 3) != &quot;()&quot;){\n       throw new Exception(&quot;Enter a phone number in (123) 123-4567 format: &quot;);\n        }\n       \n       token2 = token1[1].split(&quot;-&quot;);\n       \n       preFix = token2[0];\n       \n       lineNum = token2[1];\n       fullNum = &quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + preFix + &quot;-&quot; + lineNum ;\n       \n       System.out.print(&quot;Area code: &quot; + areaCode + &quot;\\n&quot;);\n       System.out.print(&quot;Prefix: &quot; + preFix + &quot;\\n&quot;);\n       System.out.print(&quot;Line number: &quot; + lineNum + &quot;\\n&quot;);\n       System.out.print(&quot;Full number: &quot; + fullNum);\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","datetime-format","iso8601","mongotemplate"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1669827807,"post_id":74631402,"comment_id":131733419,"body_markdown":"`LocalDate.parse(&quot;11/30/2022&quot;, DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;)).atStartOfDay(ZoneOffset.UTC).toOffsetDateTime()`","body":"<code>LocalDate.parse(&quot;11&#47;30&#47;2022&quot;, DateTimeFormatter.ofPattern(&quot;MM&#47;dd&#47;uuuu&quot;)).atStartOfDay(Zone&zwnj;&#8203;Offset.UTC).toOffset&zwnj;&#8203;DateTime()</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669829963,"post_id":74631402,"comment_id":131734100,"body_markdown":"@ArvindKumarAvinash If MongoDB doesn’t accept an `OffsetDateTime`, we may need to format it into a string without colon in the UTC offset.","body":"@ArvindKumarAvinash If MongoDB doesn’t accept an <code>OffsetDateTime</code>, we may need to format it into a string without colon in the UTC offset."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669830227,"post_id":74631402,"comment_id":131734202,"body_markdown":"Related (not the same, I think): [MongoDB ISODate field search using Java](https://stackoverflow.com/questions/41847667/mongodb-isodate-field-search-using-java). Also without knowing MongoDB, this seems mighty helpful in my eyes: [Using Dates in CRUD Operations in MongoDB](https://www.baeldung.com/mongodb-java-date-operations).","body":"Related (not the same, I think): <a href=\"https://stackoverflow.com/questions/41847667/mongodb-isodate-field-search-using-java\">MongoDB ISODate field search using Java</a>. Also without knowing MongoDB, this seems mighty helpful in my eyes: <a href=\"https://www.baeldung.com/mongodb-java-date-operations\" rel=\"nofollow noreferrer\">Using Dates in CRUD Operations in MongoDB</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1669831860,"post_id":74631402,"comment_id":131734765,"body_markdown":"[*Using OffsetDateTime with Spring Boot and MongoDB*](https://bootify.io/mongodb/offset-date-time-with-spring-boot-mongodb.html)","body":"<a href=\"https://bootify.io/mongodb/offset-date-time-with-spring-boot-mongodb.html\" rel=\"nofollow noreferrer\"><i>Using OffsetDateTime with Spring Boot and MongoDB</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669830801,"creation_date":1669830801,"answer_id":74632139,"question_id":74631402,"body_markdown":"Parse the given date string into a `LocalDate` and then use [`LocalDate#atStartOfDay(ZoneId zone)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-) with `ZoneOffset.UTC` to convert it into an `OffsetDateTime`. Subsequently, format the obtained `OffsetDateTime` into the desired string. \r\n\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;);\r\n            OffsetDateTime odt = LocalDate.parse(&quot;11/30/2022&quot;, parser).atStartOfDay(ZoneOffset.UTC).toOffsetDateTime();\r\n            System.out.println(odt);\r\n\r\n            // Custom format\r\n            String formatted = odt.format( DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSxx&quot;));\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-30T00:00Z\r\n    2022-11-30T00:00:00.000+0000\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. ","title":"Convert String Date(mm/dd/yyyy) to ISO format for MongoDB Query, Java","body":"<p>Parse the given date string into a <code>LocalDate</code> and then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>LocalDate#atStartOfDay(ZoneId zone)</code></a> with <code>ZoneOffset.UTC</code> to convert it into an <code>OffsetDateTime</code>. Subsequently, format the obtained <code>OffsetDateTime</code> into the desired string.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;);\n        OffsetDateTime odt = LocalDate.parse(&quot;11/30/2022&quot;, parser).atStartOfDay(ZoneOffset.UTC).toOffsetDateTime();\n        System.out.println(odt);\n\n        // Custom format\n        String formatted = odt.format( DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSxx&quot;));\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-30T00:00Z\n2022-11-30T00:00:00.000+0000\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":14947181,"reputation":145,"user_id":10792093,"display_name":"Karthik"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":5,"up_vote_count":4,"closed_date":1669944884,"answer_count":1,"score":-1,"last_activity_date":1669835278,"creation_date":1669827173,"question_id":74631402,"body_markdown":"how can we convert string with format mm/dd/yyyy to Date ISO format, which can be passed as an input to mongo db Query using java ?\r\n\r\neg: Input format for string is 11/30/2022 which needs to converted into ISODate(&quot;2022-11-30T00:00:00.000+0000&quot;)\r\n\r\n\r\n**Update:**\r\n\r\nAdded the below code snippet which generated the date and passed to the query as shown in the below image and i&#39;m using mongoTemplate to execute the query.\r\n\r\n `mongoTemplate.find(query, Packet.class);`\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen the codeis  executed it returns empty even though there is a record for the given input.\r\n\r\nRan this directly in mongodb client and it doesn&#39;t return anything.\r\n[![enter image description here][2]][2]\r\n\r\nBut when I update the query to in mongodb client, by adding ISODate() it returns the correct response.\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSo wondering where i&#39;m making a mistake!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WlFUV.png\r\n  [2]: https://i.stack.imgur.com/UMJ6t.png\r\n  [3]: https://i.stack.imgur.com/G5EyP.png","title":"Convert String Date(mm/dd/yyyy) to ISO format for MongoDB Query, Java","body":"<p>how can we convert string with format mm/dd/yyyy to Date ISO format, which can be passed as an input to mongo db Query using java ?</p>\n<p>eg: Input format for string is 11/30/2022 which needs to converted into ISODate(&quot;2022-11-30T00:00:00.000+0000&quot;)</p>\n<p><strong>Update:</strong></p>\n<p>Added the below code snippet which generated the date and passed to the query as shown in the below image and i'm using mongoTemplate to execute the query.</p>\n<p><code>mongoTemplate.find(query, Packet.class);</code>\n<a href=\"https://i.stack.imgur.com/WlFUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WlFUV.png\" alt=\"enter image description here\" /></a></p>\n<p>When the codeis  executed it returns empty even though there is a record for the given input.</p>\n<p>Ran this directly in mongodb client and it doesn't return anything.\n<a href=\"https://i.stack.imgur.com/UMJ6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UMJ6t.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I update the query to in mongodb client, by adding ISODate() it returns the correct response.\n<a href=\"https://i.stack.imgur.com/G5EyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5EyP.png\" alt=\"enter image description here\" /></a></p>\n<p>So wondering where i'm making a mistake!!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669834857,"creation_date":1669834857,"answer_id":74632917,"question_id":74632859,"body_markdown":"Your getters shouldn&#39;t have arguments: e.g.\r\n\r\n```\r\npublic String getName(String name){\r\n return name; \r\n}\r\n```\r\n\r\nshould just be\r\n\r\n```\r\npublic String getName() {\r\n  return name; \r\n}\r\n```\r\n\r\nand the same for your other `get` methods.","title":"Having errors when trying to extend a class","body":"<p>Your getters shouldn't have arguments: e.g.</p>\n<pre><code>public String getName(String name){\n return name; \n}\n</code></pre>\n<p>should just be</p>\n<pre><code>public String getName() {\n  return name; \n}\n</code></pre>\n<p>and the same for your other <code>get</code> methods.</p>\n"}],"owner":{"account_id":26675869,"reputation":1,"user_id":20286606,"display_name":"Elexis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669834857,"creation_date":1669834473,"question_id":74632859,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n  Alice alice = new Alice( &quot;Alice&quot;,&quot; The Red Queen&quot;, 180);\r\n  Chesire chesire = new Chesire( &quot;Chesire&quot;,&quot; Jabberwocky&quot;, 150, true);\r\n  Hatter hatter = new Hatter( &quot;Hatter&quot;,&quot; Jabberwocky&quot;, 200);\r\n\r\n  ArrayList&lt;String&gt; cookies = new ArrayList&lt;&gt;();\r\n      cookies=cookies;\r\n      cookies.add(&quot;Eat me&quot;);\r\n      cookies.add(&quot;Try me&quot;);\r\n\r\n      try{\r\n        int x = 0;\r\n        int y = 10;\r\n        int z = y/x;\r\n      }catch(Exception ex){\r\n        System.out.println(&quot;Example of exception&quot;);\r\n      }\r\n      finally{\r\n        System.out.println(&quot;Who will win the battle? The white queen or the red! Lets play shall we?&quot;);\r\n      }\r\n\r\n      Scanner choice = new Scanner(System.in);\r\n      System.out.println(&quot;Choose a number, has to be between 1-7. Whoever is strong enough to make it to the end wins the war!&quot;);\r\n\r\n      int aliceInWonderland = choice.nextInt();\r\n      while(aliceInWonderland != 0){\r\n\r\n        switch(aliceInWonderland) {\r\n          case 1: alice.hitByRedqueen();\r\n            break;\r\n          case 2: hatter.hitByJabberwocky();\r\n            break;\r\n          case 3: chesire.hitByJabberwocky();\r\n            break;\r\n          case 4: chesire.heal();\r\n            break;\r\n          case 5: hatter.heal();\r\n            break;\r\n          case 6: alice.heal();\r\n           break;\r\n          case 7: alice.eatCookies();\r\n            break;\r\n          default: System.out.println(&quot;To begin you have to select between 1-7&quot;);\r\n            \r\n        }\r\n        System.out.println(&quot;Want to play again? Just pick a number between 1-7 again!&quot;);\r\n      }\r\n    }\r\n}\r\n```\r\nHaving errors trying to extend a class in one of my seperate classes. I need to be able to extend a class as part of the project and I thought I&#39;ve done it correctly but i keep getting errors.\r\n\r\nAlice Class\r\n\r\n```\r\nimport java.util.*;\r\npublic class Alice implements Heal{\r\n\r\n  private int health;\r\n  private String name;\r\n  private String weapon;\r\n  private ArrayList&lt;String&gt; cookies = new ArrayList&lt;&gt;();\r\n  \r\n  public Alice(String name,String weapon, int health){\r\n    this.name=name;\r\n    this.weapon=weapon;\r\n    this.health=health;\r\n    this.cookies=cookies;\r\n\r\n    cookies.add(&quot;Eat me&quot;);\r\n    cookies.add(&quot;Try me&quot;);\r\n  }\r\n\r\n  Scanner a = new Scanner(System.in);\r\n  public void eatCookie(ArrayList&lt;String&gt; cookies){\r\n    System.out.println(&quot;Alice has a choice between two cookies! Which cookie should she try 1 or 2?&quot;);\r\n    int choiceCookie = a.nextInt();\r\n  switch(choiceCookie){\r\n    case 1: System.out.println(&quot; Wow you made a good call! The eat me cookie made you grow into a GIANT. This will definetly help in your fight against the red queen. Health goes up by 50! New Status:&quot; + (this.health+=50));\r\n      break;\r\n    case 2: System.out.println(&quot;OH NO! The try me cookie was a mistake, it made you shrink almost rendering you useless for battle! Health goes down 60 points. New Status: &quot; + (this.health-=80));\r\n     break;\r\n      default: System.out.println(&quot;We only have two cookies to choose from, make a good choice!&quot;);\r\n  }\r\n  }\r\n  public void hitByRedqueen(){\r\n    this.health-=20;\r\n    if(this.health&lt;=0){\r\n      this.health=0;\r\n    }\r\n    System.out.println(&quot;Oh man! + getName() +  got hit by the  the Red Queen and loses 30 points from health. New status:&quot; + this.health);\r\n    if(this.health==0){\r\n      System.out.println(getName() + &quot;is too weak to keep fighting, without her the fight against the red queen is over. THE BLOODY RED QUEEN HAS WON!&quot;);\r\n    }\r\n    \r\n  }\r\n  public String getName(){\r\n    return name;\r\n  }\r\n  public void setName(String name){\r\n    this.name = name;\r\n  }\r\n  public String getWeapon(String weapon){\r\n    return weapon;\r\n  }\r\n  public void setWeapon(String weapon){\r\n    this.weapon=weapon;\r\n  }\r\n  public int getHealth(int health){\r\n    return health;\r\n  }\r\n  public int setHealth(int health){\r\n    return this.health = health;\r\n  }  \r\n  @Override\r\n  public void heal(){\r\n    this.health+=100;\r\n    System.out.println(getName() + &quot; realized her courage and imagination are in her favor against the queen! New status: &quot; + this.health);\r\n  }\r\npublic void eatCookies() {\r\n}\r\n}\r\n\r\n\r\n```\r\nChesire Class\r\n\r\n```\r\nimport java.util.*;\r\npublic class Chesire extends Hatter implements Heal {\r\n  private int health;\r\n  private boolean vanishing;\r\n\r\n  public Chesire(String name, String weapon, int health, boolean vanishing){\r\n\r\n    super(name,weapon,health);\r\n    this.vanishing = vanishing;\r\n    this.health = health;\r\n  }\r\n  @Override\r\n  public void hitByJabberwocky(){\r\n    if(vanishing){\r\n      this.health-=20;\r\n    if(this.health&lt;=0) this.health=0;\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n    }\r\n\r\n   if(!vanishing){\r\n     this.health-=50;\r\n     if(this.health&lt;=0) this.health=0;\r\n     System.out.println(getName() + &quot;was too weak to vanish before the next attack of the &quot; + getWeapon() + &quot;. Health went down by 50!&quot; + this.health);\r\n   }\r\n    if(health==0){\r\n      System.out.println(getName() + &quot;is no longer in the fight against the red queen...&quot;);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nHatter Class\r\n\r\n```\r\npublic class Hatter implements Heal {\r\n  private String name;\r\n  private String weapon;\r\n  private int health;\r\n\r\n  public Hatter(String name, String weapon, int health){\r\n    this.name = name;\r\n    this.weapon = weapon;\r\n    this.health = health;\r\n  }\r\n  public void hitByJabberwocky(){\r\n    this.health-=25;\r\n    if(this.health&lt;=0){\r\n      this.health=0;\r\n    }\r\n    System.out.println(&quot;OH NO, &quot; + getName(name) +&quot;got hurt by a &quot; + getWeapon(weapon) + &quot;. Health has lowered by 25. New status: &quot; + this.health );\r\n    if(this.health==0){\r\n      System.out.println(getName(name) + &quot; is no longer in the fight against the bloody red queen...&quot;);\r\n  }\r\n  }\r\n    public String getName(String name){\r\n      return name; \r\n    }\r\n    public void setName(String name){\r\n      this.name = name;\r\n    }\r\n    public String getWeapon(String weapon){\r\n      return weapon;\r\n    }\r\n    public void setWeapon(String weapon){\r\n      this.weapon = weapon;\r\n    }\r\n  public int getHealth(int health){\r\n    return health;\r\n    }\r\n   public void setHealth(int health){\r\n     this.health = health;\r\n   }\r\n\r\n  @Override\r\n  public void heal(){\r\n    this.health+=100;\r\n    System.out.println(getName(name) + &quot;found strength from Alice! New status: &quot; + this.health);\r\n  }\r\n}\r\n    \r\n\r\n```\r\n\r\n\r\nI was expecting the class Chesire to implement the Hatter class, and it does to a certain extent I believe but I am getting these errors which in turn isn&#39;t allowing me to run the code.\r\n```\r\n javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\r\nChesire.java:17: error: method getName in class Hatter cannot be applied to given types;\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                         ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\nChesire.java:17: error: method getWeapon in class Hatter cannot be applied to given types;\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                                                                                                                      ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\n javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\r\nChesire.java:17: error: method getName in class Hatter cannot be applied to given types;\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                         ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\nChesire.java:17: error: method getWeapon in class Hatter cannot be applied to given types;\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                                                                                                                      ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\n javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\r\nChesire.java:2: error: Chesire is not abstract and does not override abstract method heal() in Heal\r\npublic class Chesire implements Heal {\r\n       ^\r\nChesire.java:8: error: constructor Object in class Object cannot be applied to given types;\r\n    super(name,weapon,health);\r\n    ^\r\n  required: no arguments\r\n  found: String,String,int\r\n  reason: actual and formal argument lists differ in length\r\nChesire.java:12: error: method does not override or implement a method from a supertype\r\n  @Override\r\n  ^\r\nChesire.java:17: error: cannot find symbol\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                         ^\r\n  symbol:   method getName()\r\n  location: class Chesire\r\nChesire.java:17: error: cannot find symbol\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                                                    \r\n javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\r\nChesire.java:17: error: method getName in class Hatter cannot be applied to given types;\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                         ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\nChesire.java:17: error: method getWeapon in class Hatter cannot be applied to given types;\r\n      System.out.println(getName()+ &quot;tried to vanish, but wasn&#39;t quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\r\n                                                                                                                      ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\nChesire.java:23: error: method getName in class Hatter cannot be applied to given types;\r\n     System.out.println(getName() + &quot;was too weak to vanish before the next attack of the &quot; + getWeapon() + &quot;. Health went down by 50!&quot; + this.health);\r\n                        ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\nChesire.java:23: error: method getWeapon in class Hatter cannot be applied to given types;\r\n     System.out.println(getName() + &quot;was too weak to vanish before the next attack of the &quot; + getWeapon() + &quot;. Health went down by 50!&quot; + this.health);\r\n                                                                                              ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\nChesire.java:26: error: method getName in class Hatter cannot be applied to given types;\r\n      System.out.println(getName() + &quot;is no longer in the fight against the red queen...&quot;);\r\n                         ^\r\n  required: String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\n5 errors\r\nexit status 1\r\n \r\n```\r\n","title":"Having errors when trying to extend a class","body":"<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n  Alice alice = new Alice( &quot;Alice&quot;,&quot; The Red Queen&quot;, 180);\n  Chesire chesire = new Chesire( &quot;Chesire&quot;,&quot; Jabberwocky&quot;, 150, true);\n  Hatter hatter = new Hatter( &quot;Hatter&quot;,&quot; Jabberwocky&quot;, 200);\n\n  ArrayList&lt;String&gt; cookies = new ArrayList&lt;&gt;();\n      cookies=cookies;\n      cookies.add(&quot;Eat me&quot;);\n      cookies.add(&quot;Try me&quot;);\n\n      try{\n        int x = 0;\n        int y = 10;\n        int z = y/x;\n      }catch(Exception ex){\n        System.out.println(&quot;Example of exception&quot;);\n      }\n      finally{\n        System.out.println(&quot;Who will win the battle? The white queen or the red! Lets play shall we?&quot;);\n      }\n\n      Scanner choice = new Scanner(System.in);\n      System.out.println(&quot;Choose a number, has to be between 1-7. Whoever is strong enough to make it to the end wins the war!&quot;);\n\n      int aliceInWonderland = choice.nextInt();\n      while(aliceInWonderland != 0){\n\n        switch(aliceInWonderland) {\n          case 1: alice.hitByRedqueen();\n            break;\n          case 2: hatter.hitByJabberwocky();\n            break;\n          case 3: chesire.hitByJabberwocky();\n            break;\n          case 4: chesire.heal();\n            break;\n          case 5: hatter.heal();\n            break;\n          case 6: alice.heal();\n           break;\n          case 7: alice.eatCookies();\n            break;\n          default: System.out.println(&quot;To begin you have to select between 1-7&quot;);\n            \n        }\n        System.out.println(&quot;Want to play again? Just pick a number between 1-7 again!&quot;);\n      }\n    }\n}\n</code></pre>\n<p>Having errors trying to extend a class in one of my seperate classes. I need to be able to extend a class as part of the project and I thought I've done it correctly but i keep getting errors.</p>\n<p>Alice Class</p>\n<pre><code>import java.util.*;\npublic class Alice implements Heal{\n\n  private int health;\n  private String name;\n  private String weapon;\n  private ArrayList&lt;String&gt; cookies = new ArrayList&lt;&gt;();\n  \n  public Alice(String name,String weapon, int health){\n    this.name=name;\n    this.weapon=weapon;\n    this.health=health;\n    this.cookies=cookies;\n\n    cookies.add(&quot;Eat me&quot;);\n    cookies.add(&quot;Try me&quot;);\n  }\n\n  Scanner a = new Scanner(System.in);\n  public void eatCookie(ArrayList&lt;String&gt; cookies){\n    System.out.println(&quot;Alice has a choice between two cookies! Which cookie should she try 1 or 2?&quot;);\n    int choiceCookie = a.nextInt();\n  switch(choiceCookie){\n    case 1: System.out.println(&quot; Wow you made a good call! The eat me cookie made you grow into a GIANT. This will definetly help in your fight against the red queen. Health goes up by 50! New Status:&quot; + (this.health+=50));\n      break;\n    case 2: System.out.println(&quot;OH NO! The try me cookie was a mistake, it made you shrink almost rendering you useless for battle! Health goes down 60 points. New Status: &quot; + (this.health-=80));\n     break;\n      default: System.out.println(&quot;We only have two cookies to choose from, make a good choice!&quot;);\n  }\n  }\n  public void hitByRedqueen(){\n    this.health-=20;\n    if(this.health&lt;=0){\n      this.health=0;\n    }\n    System.out.println(&quot;Oh man! + getName() +  got hit by the  the Red Queen and loses 30 points from health. New status:&quot; + this.health);\n    if(this.health==0){\n      System.out.println(getName() + &quot;is too weak to keep fighting, without her the fight against the red queen is over. THE BLOODY RED QUEEN HAS WON!&quot;);\n    }\n    \n  }\n  public String getName(){\n    return name;\n  }\n  public void setName(String name){\n    this.name = name;\n  }\n  public String getWeapon(String weapon){\n    return weapon;\n  }\n  public void setWeapon(String weapon){\n    this.weapon=weapon;\n  }\n  public int getHealth(int health){\n    return health;\n  }\n  public int setHealth(int health){\n    return this.health = health;\n  }  \n  @Override\n  public void heal(){\n    this.health+=100;\n    System.out.println(getName() + &quot; realized her courage and imagination are in her favor against the queen! New status: &quot; + this.health);\n  }\npublic void eatCookies() {\n}\n}\n\n\n</code></pre>\n<p>Chesire Class</p>\n<pre><code>import java.util.*;\npublic class Chesire extends Hatter implements Heal {\n  private int health;\n  private boolean vanishing;\n\n  public Chesire(String name, String weapon, int health, boolean vanishing){\n\n    super(name,weapon,health);\n    this.vanishing = vanishing;\n    this.health = health;\n  }\n  @Override\n  public void hitByJabberwocky(){\n    if(vanishing){\n      this.health-=20;\n    if(this.health&lt;=0) this.health=0;\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n    }\n\n   if(!vanishing){\n     this.health-=50;\n     if(this.health&lt;=0) this.health=0;\n     System.out.println(getName() + &quot;was too weak to vanish before the next attack of the &quot; + getWeapon() + &quot;. Health went down by 50!&quot; + this.health);\n   }\n    if(health==0){\n      System.out.println(getName() + &quot;is no longer in the fight against the red queen...&quot;);\n    }\n  }\n}\n\n</code></pre>\n<p>Hatter Class</p>\n<pre><code>public class Hatter implements Heal {\n  private String name;\n  private String weapon;\n  private int health;\n\n  public Hatter(String name, String weapon, int health){\n    this.name = name;\n    this.weapon = weapon;\n    this.health = health;\n  }\n  public void hitByJabberwocky(){\n    this.health-=25;\n    if(this.health&lt;=0){\n      this.health=0;\n    }\n    System.out.println(&quot;OH NO, &quot; + getName(name) +&quot;got hurt by a &quot; + getWeapon(weapon) + &quot;. Health has lowered by 25. New status: &quot; + this.health );\n    if(this.health==0){\n      System.out.println(getName(name) + &quot; is no longer in the fight against the bloody red queen...&quot;);\n  }\n  }\n    public String getName(String name){\n      return name; \n    }\n    public void setName(String name){\n      this.name = name;\n    }\n    public String getWeapon(String weapon){\n      return weapon;\n    }\n    public void setWeapon(String weapon){\n      this.weapon = weapon;\n    }\n  public int getHealth(int health){\n    return health;\n    }\n   public void setHealth(int health){\n     this.health = health;\n   }\n\n  @Override\n  public void heal(){\n    this.health+=100;\n    System.out.println(getName(name) + &quot;found strength from Alice! New status: &quot; + this.health);\n  }\n}\n    \n\n</code></pre>\n<p>I was expecting the class Chesire to implement the Hatter class, and it does to a certain extent I believe but I am getting these errors which in turn isn't allowing me to run the code.</p>\n<pre><code> javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\nChesire.java:17: error: method getName in class Hatter cannot be applied to given types;\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                         ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\nChesire.java:17: error: method getWeapon in class Hatter cannot be applied to given types;\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                                                                                                                      ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\n javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\nChesire.java:17: error: method getName in class Hatter cannot be applied to given types;\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                         ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\nChesire.java:17: error: method getWeapon in class Hatter cannot be applied to given types;\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                                                                                                                      ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\n javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\nChesire.java:2: error: Chesire is not abstract and does not override abstract method heal() in Heal\npublic class Chesire implements Heal {\n       ^\nChesire.java:8: error: constructor Object in class Object cannot be applied to given types;\n    super(name,weapon,health);\n    ^\n  required: no arguments\n  found: String,String,int\n  reason: actual and formal argument lists differ in length\nChesire.java:12: error: method does not override or implement a method from a supertype\n  @Override\n  ^\nChesire.java:17: error: cannot find symbol\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                         ^\n  symbol:   method getName()\n  location: class Chesire\nChesire.java:17: error: cannot find symbol\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                                                    \n javac -classpath .:/run_dir/junit-4.12.jar:target/dependency/* -d . Alice.java Chesire.java Hatter.java Heal.java Main.java\nChesire.java:17: error: method getName in class Hatter cannot be applied to given types;\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                         ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\nChesire.java:17: error: method getWeapon in class Hatter cannot be applied to given types;\n      System.out.println(getName()+ &quot;tried to vanish, but wasn't quite quick enough to miss the full swing of the &quot; + getWeapon() + &quot;! Health went down by 20! Status update: &quot; + this.health);\n                                                                                                                      ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\nChesire.java:23: error: method getName in class Hatter cannot be applied to given types;\n     System.out.println(getName() + &quot;was too weak to vanish before the next attack of the &quot; + getWeapon() + &quot;. Health went down by 50!&quot; + this.health);\n                        ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\nChesire.java:23: error: method getWeapon in class Hatter cannot be applied to given types;\n     System.out.println(getName() + &quot;was too weak to vanish before the next attack of the &quot; + getWeapon() + &quot;. Health went down by 50!&quot; + this.health);\n                                                                                              ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\nChesire.java:26: error: method getName in class Hatter cannot be applied to given types;\n      System.out.println(getName() + &quot;is no longer in the fight against the red queen...&quot;);\n                         ^\n  required: String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\n5 errors\nexit status 1\n \n</code></pre>\n"},{"tags":["java","debugging","reflection"],"comments":[{"owner":{"account_id":6746752,"reputation":298,"user_id":5198144,"display_name":"Pekinek"},"score":3,"creation_date":1669800794,"post_id":74625419,"comment_id":131723356,"body_markdown":"Have you tried using thread dump? It should be easy to find this endless loop with it. More details: https://www.baeldung.com/java-thread-dump","body":"Have you tried using thread dump? It should be easy to find this endless loop with it. More details: <a href=\"https://www.baeldung.com/java-thread-dump\" rel=\"nofollow noreferrer\">baeldung.com/java-thread-dump</a>"},{"owner":{"account_id":1796338,"reputation":624,"user_id":1635669,"display_name":"BennyBarns"},"score":0,"creation_date":1669802451,"post_id":74625419,"comment_id":131723897,"body_markdown":"This looks rather promising, had never heard of it for Java!!!","body":"This looks rather promising, had never heard of it for Java!!!"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669819155,"post_id":74625419,"comment_id":131729953,"body_markdown":"`jcmd &lt;pid&gt; Thread.print`","body":"<code>jcmd &lt;pid&gt; Thread.print</code>"}],"owner":{"account_id":1796338,"reputation":624,"user_id":1635669,"display_name":"BennyBarns"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669834761,"creation_date":1669800450,"question_id":74625419,"body_markdown":"My Java code interprets some other code, and while processing a high-level representation of that code, it seems stuck in an endless loop. Usually, I would (if I couldn&#39;t simply find the loop by looking sharply at the code) activate debugging mode and then search for a hook into the endless loop by adding some breakpoints at runtime. However, the runtime for the program to get to that point is ~1h in standard execution mode and several hours when started in debug mode. Ideally, I would like to let the program run in standard mode (to have the speed) and then, when it reaches the endless loop, attach a debugger, which is impossible.\r\n\r\nI have unsuccessfully tried to reproduce the problem in a smaller test. So I was thinking of adding my very own debugging method by creating a GUI and using reflection; here is the idea:\r\n\r\nAdding a JFrame instance that is statically available to all classes in the project, that JFrame could have a method, e.g., ```public void debugMe()``` , that will be called from points in my code that I suspect to be part of the problem. \r\n\r\n```debugMe()``` would not do anything unless a button was pressed or similar, so I could have the speed of standard execution but still be able to inspect the app at some predefined points. ```debugMe()``` could use the StackWalker to identify the caller and then reflect to get and display the variables within the caller. That (especially a proper view of the variables) would be a lot of work, so I would appreciate your comments on the feasibility of this approach or any other suggestions you might have.","title":"Debugging long running Java App with endless loop","body":"<p>My Java code interprets some other code, and while processing a high-level representation of that code, it seems stuck in an endless loop. Usually, I would (if I couldn't simply find the loop by looking sharply at the code) activate debugging mode and then search for a hook into the endless loop by adding some breakpoints at runtime. However, the runtime for the program to get to that point is ~1h in standard execution mode and several hours when started in debug mode. Ideally, I would like to let the program run in standard mode (to have the speed) and then, when it reaches the endless loop, attach a debugger, which is impossible.</p>\n<p>I have unsuccessfully tried to reproduce the problem in a smaller test. So I was thinking of adding my very own debugging method by creating a GUI and using reflection; here is the idea:</p>\n<p>Adding a JFrame instance that is statically available to all classes in the project, that JFrame could have a method, e.g., <code>public void debugMe()</code> , that will be called from points in my code that I suspect to be part of the problem.</p>\n<p><code>debugMe()</code> would not do anything unless a button was pressed or similar, so I could have the speed of standard execution but still be able to inspect the app at some predefined points. <code>debugMe()</code> could use the StackWalker to identify the caller and then reflect to get and display the variables within the caller. That (especially a proper view of the variables) would be a lot of work, so I would appreciate your comments on the feasibility of this approach or any other suggestions you might have.</p>\n"},{"tags":["java","sharepoint","microsoft-graph-api","microsoft-graph-sdks","sharepoint-api"],"comments":[{"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"score":1,"creation_date":1686683827,"post_id":74632858,"comment_id":134832326,"body_markdown":"where you ever able to solve this?\nI also need to add metadata tags to a file to use in search, any tips","body":"where you ever able to solve this? I also need to add metadata tags to a file to use in search, any tips"},{"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"score":0,"creation_date":1686749318,"post_id":74632858,"comment_id":134841906,"body_markdown":"Nope. Instead we are putting this information in our database instead.","body":"Nope. Instead we are putting this information in our database instead."}],"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669834468,"creation_date":1669834468,"question_id":74632858,"body_markdown":"Here is the calling code. Followed by the method that is supposed to add MetaData to the file I just uploaded through Sharepoint within our code.\r\n\r\n        Map&lt;String, String&gt; metaDataValues = new HashMap&lt;&gt;()\r\n        metaDataValues.put(&quot;DocumentType&quot;, &quot;Contract&quot;)\r\n        metaDataValues.put(&quot;User&quot;, oidcUser.userEntity.id)\r\n        addMetadataToFile(oidcUser, file.id, metaDataValues)\r\n\r\nThis is the method it calls and when I PUT or PATCH it returns Invalid Request and I have no idea why.\r\n\r\n \r\n\r\n    private addMetadataToFile(OidcUser oidcUser, String itemId, Map&lt;String, String&gt; metaData) {\r\n        FieldValueSet fieldValueSet = new FieldValueSet()\r\n        metaData.each {data -&gt; {\r\n            fieldValueSet.additionalDataManager().put(data.key, new JsonPrimitive(data.value))\r\n        }}\r\n\r\n        FieldValueSet getting = graphServiceClient.groups(oidcUser.defaultGroupId)\r\n                .drive()\r\n                .items(itemId)\r\n                .listItem()\r\n                .fields()\r\n                .buildRequest()\r\n        .get()\r\n\r\n        // If you can get, then the following should work to update.\r\n\r\n        graphServiceClient.groups(oidcUser.defaultGroupId)\r\n                .drive()\r\n                .items(itemId)\r\n                .listItem()\r\n                .fields()\r\n                .buildRequest()\r\n                .put(fieldValueSet)\r\n    }\r\n\r\nI have spent too many hours trying any combination and nothing ever seems to work. I am exhausted. Any help to find out why it fails?","title":"Adding Metadata to Sharepoint File Graph-API Java SDK- Invalid Request. But GET() works, PUT/PATCH() does not","body":"<p>Here is the calling code. Followed by the method that is supposed to add MetaData to the file I just uploaded through Sharepoint within our code.</p>\n<pre><code>    Map&lt;String, String&gt; metaDataValues = new HashMap&lt;&gt;()\n    metaDataValues.put(&quot;DocumentType&quot;, &quot;Contract&quot;)\n    metaDataValues.put(&quot;User&quot;, oidcUser.userEntity.id)\n    addMetadataToFile(oidcUser, file.id, metaDataValues)\n</code></pre>\n<p>This is the method it calls and when I PUT or PATCH it returns Invalid Request and I have no idea why.</p>\n<pre><code>private addMetadataToFile(OidcUser oidcUser, String itemId, Map&lt;String, String&gt; metaData) {\n    FieldValueSet fieldValueSet = new FieldValueSet()\n    metaData.each {data -&gt; {\n        fieldValueSet.additionalDataManager().put(data.key, new JsonPrimitive(data.value))\n    }}\n\n    FieldValueSet getting = graphServiceClient.groups(oidcUser.defaultGroupId)\n            .drive()\n            .items(itemId)\n            .listItem()\n            .fields()\n            .buildRequest()\n    .get()\n\n    // If you can get, then the following should work to update.\n\n    graphServiceClient.groups(oidcUser.defaultGroupId)\n            .drive()\n            .items(itemId)\n            .listItem()\n            .fields()\n            .buildRequest()\n            .put(fieldValueSet)\n}\n</code></pre>\n<p>I have spent too many hours trying any combination and nothing ever seems to work. I am exhausted. Any help to find out why it fails?</p>\n"},{"tags":["java","bouncycastle","gnupg"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669834416,"creation_date":1669834416,"answer_id":74632848,"question_id":74616400,"body_markdown":"[Yes that class supports only secret key &#39;rings&#39;](https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/PGPSecretKeyRingCollection.java#L47) (note what Bouncy calls a &#39;keyring&#39; is what GnuPG just calls a key, and what GnuPg calls a keyring is what Bouncy calls a &#39;collection&#39;).\r\n\r\nI think the best way is indeed to fix the file. That file name `secring.gpg` was used by older versions of GnuPG for a file in OpenPGP format that contained only secret keys, not public, so whoever created that file either did something really weird and wrong or was trying to mislead and harm people. I don&#39;t think there ever was a command that could fix a public key in secring because that wasn&#39;t supposed to happen in the first place. In any case modern GnuPG no longer uses that file; it now uses a _directory_ containing separate files in a libgcrypt-based format. \r\n\r\nWhat you could do is use GnuPG to `--import` this file (import can handle both secret and public keys, because _interchange_ can in various cases use either) and then `--export-secret-keys` the desired ones. If you set env var GNUPGHOME to a new (empty) directory and import to that, you can simply export everything valid from that directory and then delete it. \r\n\r\nAlternatively you could write your own class which is _like_ `PGPSecretKeyRingCollection` but ignores (skips) any `PGPPublicKeyRing` object(s). If the rest of your code, or any code you call to use this data, only uses the behavior of `PGPSecretKeyRingCollection` and doesn&#39;t depend on internals or exact identity -- which by OO doctrine it shouldn&#39;t -- you can just substitute your object. In older Java you can even `extends` the real class, so that it can be stored in variables etc. declared with the real type, but with recent Java (9 up) I think subclassing across modules is restricted and this may require `--add-opens` or somesuch -- I haven&#39;t looked into that area yet. \r\n\r\nMore ambitiously, Bouncy is opensource, so you could fork it and make this change, and any others you want. Of course you would need to set up a complete build environment for it, and periodically take at least the upstream changes that either provide new features you need or want or are security fixes -- in practice it&#39;s almost certainly easier to take all changes, and if something conflicts cross that bridge when you get to it.\r\n\r\n","title":"bouncycastle throws exception when file contains a mix of secret and public keys","body":"<p><a href=\"https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/PGPSecretKeyRingCollection.java#L47\" rel=\"nofollow noreferrer\">Yes that class supports only secret key 'rings'</a> (note what Bouncy calls a 'keyring' is what GnuPG just calls a key, and what GnuPg calls a keyring is what Bouncy calls a 'collection').</p>\n<p>I think the best way is indeed to fix the file. That file name <code>secring.gpg</code> was used by older versions of GnuPG for a file in OpenPGP format that contained only secret keys, not public, so whoever created that file either did something really weird and wrong or was trying to mislead and harm people. I don't think there ever was a command that could fix a public key in secring because that wasn't supposed to happen in the first place. In any case modern GnuPG no longer uses that file; it now uses a <em>directory</em> containing separate files in a libgcrypt-based format.</p>\n<p>What you could do is use GnuPG to <code>--import</code> this file (import can handle both secret and public keys, because <em>interchange</em> can in various cases use either) and then <code>--export-secret-keys</code> the desired ones. If you set env var GNUPGHOME to a new (empty) directory and import to that, you can simply export everything valid from that directory and then delete it.</p>\n<p>Alternatively you could write your own class which is <em>like</em> <code>PGPSecretKeyRingCollection</code> but ignores (skips) any <code>PGPPublicKeyRing</code> object(s). If the rest of your code, or any code you call to use this data, only uses the behavior of <code>PGPSecretKeyRingCollection</code> and doesn't depend on internals or exact identity -- which by OO doctrine it shouldn't -- you can just substitute your object. In older Java you can even <code>extends</code> the real class, so that it can be stored in variables etc. declared with the real type, but with recent Java (9 up) I think subclassing across modules is restricted and this may require <code>--add-opens</code> or somesuch -- I haven't looked into that area yet.</p>\n<p>More ambitiously, Bouncy is opensource, so you could fork it and make this change, and any others you want. Of course you would need to set up a complete build environment for it, and periodically take at least the upstream changes that either provide new features you need or want or are security fixes -- in practice it's almost certainly easier to take all changes, and if something conflicts cross that bridge when you get to it.</p>\n"}],"owner":{"account_id":346370,"reputation":1596,"user_id":679857,"accept_rate":54,"display_name":"Manolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669834416,"creation_date":1669735574,"question_id":74616400,"body_markdown":"I am running this code:\r\n\r\n    public static void main(String[] args) throws IOException, PGPException {\r\n        InputStream privateKeyRings = new FileInputStream(&quot;/path/to/file/secring.gpg&quot;);\r\n        PGPSecretKeyRingCollection pgpSecretKeyRings =\r\n            new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(privateKeyRings),  new JcaKeyFingerprintCalculator());\r\n    }\r\n\r\nAnd I get this error:\r\n\r\n    Exception in thread &quot;main&quot; org.bouncycastle.openpgp.PGPException: org.bouncycastle.openpgp.PGPPublicKeyRing found where PGPSecretKeyRing expected\r\n    \tat org.bouncycastle.openpgp.PGPSecretKeyRingCollection.&lt;init&gt;(Unknown Source)\r\n    \tat test.main(test.java:36)\r\n\r\nTherefor I inspected the file secring.gpg by running \r\n\r\n    gpg --show-keys --no-default-keyring secring.gpg\r\nWhich gives me a list of keys\r\n\r\n    sec#  rsa4096 2013-02-21 [SC]\r\n          37B...\r\n    uid                      xyz &lt;xyz@xyz.com&gt;\r\n    ssb#  rsa4096 2013-02-21 [E]\r\n    \r\n    sec#  rsa4096 2013-02-14 [SC]\r\n          22C...\r\n    uid                      abc &lt;abc@abc.com&gt;\r\n    ssb#  rsa4096 2013-02-14 [E]\r\n    \r\n    pub   rsa4096 2013-04-19 [SC]\r\n          5A1...\r\n    uid                      def &lt;def@def.com&gt;\r\n    sub   rsa4096 2013-04-19 [E]\r\n\r\nSo as far as I can tell, the file contains secret keys, except for the last entry which seems to be a public key.\r\n\r\nSo my guess is that this is causing the error.\r\n\r\nWhat is the best way to avoid the error?\r\n\r\nDo I need to remove the public key from the file secring.gpg? If so, what is the command for this?\r\n\r\nAnd is there another way to handle this scenario in the java code?\r\n\r\n\r\n","title":"bouncycastle throws exception when file contains a mix of secret and public keys","body":"<p>I am running this code:</p>\n<pre><code>public static void main(String[] args) throws IOException, PGPException {\n    InputStream privateKeyRings = new FileInputStream(&quot;/path/to/file/secring.gpg&quot;);\n    PGPSecretKeyRingCollection pgpSecretKeyRings =\n        new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(privateKeyRings),  new JcaKeyFingerprintCalculator());\n}\n</code></pre>\n<p>And I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.bouncycastle.openpgp.PGPException: org.bouncycastle.openpgp.PGPPublicKeyRing found where PGPSecretKeyRing expected\n    at org.bouncycastle.openpgp.PGPSecretKeyRingCollection.&lt;init&gt;(Unknown Source)\n    at test.main(test.java:36)\n</code></pre>\n<p>Therefor I inspected the file secring.gpg by running</p>\n<pre><code>gpg --show-keys --no-default-keyring secring.gpg\n</code></pre>\n<p>Which gives me a list of keys</p>\n<pre><code>sec#  rsa4096 2013-02-21 [SC]\n      37B...\nuid                      xyz &lt;xyz@xyz.com&gt;\nssb#  rsa4096 2013-02-21 [E]\n\nsec#  rsa4096 2013-02-14 [SC]\n      22C...\nuid                      abc &lt;abc@abc.com&gt;\nssb#  rsa4096 2013-02-14 [E]\n\npub   rsa4096 2013-04-19 [SC]\n      5A1...\nuid                      def &lt;def@def.com&gt;\nsub   rsa4096 2013-04-19 [E]\n</code></pre>\n<p>So as far as I can tell, the file contains secret keys, except for the last entry which seems to be a public key.</p>\n<p>So my guess is that this is causing the error.</p>\n<p>What is the best way to avoid the error?</p>\n<p>Do I need to remove the public key from the file secring.gpg? If so, what is the command for this?</p>\n<p>And is there another way to handle this scenario in the java code?</p>\n"},{"tags":["java","string","sorting","arraylist","replaceall"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1669315823,"post_id":74565122,"comment_id":131621740,"body_markdown":"because the `0` comes before the `g` when alphabetically comparing `&quot;10q&quot;` and `&quot;1g&quot;`.","body":"because the <code>0</code> comes before the <code>g</code> when alphabetically comparing <code>&quot;10q&quot;</code> and <code>&quot;1g&quot;</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669319883,"post_id":74565122,"comment_id":131622698,"body_markdown":"For Strings, their natural order is lexicographical, so just like in most dictionaries `aa` comes before `b`, the `10` comes before `2` `3` .. `9`.","body":"For Strings, their natural order is lexicographical, so just like in most dictionaries <code>aa</code> comes before <code>b</code>, the <code>10</code> comes before <code>2</code> <code>3</code> .. <code>9</code>."}],"answers":[{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669834221,"creation_date":1669317182,"answer_id":74565350,"question_id":74565122,"body_markdown":"  This works\r\n\r\n    list.sort((a, b) -&gt; Integer.parseInt(a.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;)) - Integer.parseInt(b.replaceAll(&quot;[a-zA-z]&quot;, &quot;&quot;)));  \r\n\r\nThis is the same has the above but with the Comparator\r\n\r\n    list.sort(Comparator.comparingInt(a -&gt; Integer.parseInt(a.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;))));","title":"Why 10 is in the beginning of an ArrayList after Sort() ? How to place 10 after 9?","body":"<p>This works</p>\n<pre><code>list.sort((a, b) -&gt; Integer.parseInt(a.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;)) - Integer.parseInt(b.replaceAll(&quot;[a-zA-z]&quot;, &quot;&quot;)));  \n</code></pre>\n<p>This is the same has the above but with the Comparator</p>\n<pre><code>list.sort(Comparator.comparingInt(a -&gt; Integer.parseInt(a.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669317190,"creation_date":1669317190,"answer_id":74565352,"question_id":74565122,"body_markdown":"You need to use custom comparator which parses the integer value of the index:\r\n```java\r\nCollections.sort(list, Comparator.comparingInt(\r\n    c -&gt; Integer.parseInt(c.substring(0, c.length() - 1))\r\n));\r\n// ...\r\n```\r\nThen the output is as follows:\r\n```\r\n[0q, 1g, 2d, 3x, 4e, 5t, 6w, 7c, 8t, 9v, 10q]\r\nqgdxetwctvq\r\n```","title":"Why 10 is in the beginning of an ArrayList after Sort() ? How to place 10 after 9?","body":"<p>You need to use custom comparator which parses the integer value of the index:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(list, Comparator.comparingInt(\n    c -&gt; Integer.parseInt(c.substring(0, c.length() - 1))\n));\n// ...\n</code></pre>\n<p>Then the output is as follows:</p>\n<pre><code>[0q, 1g, 2d, 3x, 4e, 5t, 6w, 7c, 8t, 9v, 10q]\nqgdxetwctvq\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669318858,"creation_date":1669318858,"answer_id":74565575,"question_id":74565122,"body_markdown":"You should create the list after sorting.\r\nIt is inefficient to convert strings to integers every time you compare them.\r\n\r\n    ArrayList&lt;String&gt; list = IntStream.range(0, ch.length)\r\n        .boxed()\r\n        .sorted(Comparator.comparing(i -&gt; indices[i]))\r\n        .map(i -&gt; indices[i] + &quot;&quot; + ch[i])\r\n        .collect(Collectors.toCollection(ArrayList::new));\r\n    System.out.println(list);\r\n\r\noutput\r\n\r\n    [0q, 1g, 2d, 3x, 4e, 5t, 6w, 7c, 8t, 9v, 10q]\r\n","title":"Why 10 is in the beginning of an ArrayList after Sort() ? How to place 10 after 9?","body":"<p>You should create the list after sorting.\nIt is inefficient to convert strings to integers every time you compare them.</p>\n<pre><code>ArrayList&lt;String&gt; list = IntStream.range(0, ch.length)\n    .boxed()\n    .sorted(Comparator.comparing(i -&gt; indices[i]))\n    .map(i -&gt; indices[i] + &quot;&quot; + ch[i])\n    .collect(Collectors.toCollection(ArrayList::new));\nSystem.out.println(list);\n</code></pre>\n<p>output</p>\n<pre><code>[0q, 1g, 2d, 3x, 4e, 5t, 6w, 7c, 8t, 9v, 10q]\n</code></pre>\n"}],"owner":{"account_id":27038183,"reputation":3,"user_id":20593457,"display_name":"sharforaz rahman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74565350,"answer_count":3,"score":-3,"last_activity_date":1669834221,"creation_date":1669315714,"question_id":74565122,"body_markdown":"```\r\nString s = &quot;vttqexwqgdc&quot;;\r\nchar[] ch = s.toCharArray();\r\nint[] indices = {9, 5, 8, 0, 4, 3, 6, 10, 1, 2, 7};\r\nArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nfor (int i = 0, j = 0; i &lt; ch.length; i++, j++) {\r\n    list.add((indices[j] + &quot;&quot; + ch[i]));\r\n}\r\nCollections.sort(list);\r\nSystem.out.println(list); // **[0q, 10q, 1g, 2d, 3x, 4e, 5t, 6w, 7c, 8t, 9v], Here the 10q should be after 9\r\n**String str = &quot;&quot;;\r\nfor (String value : list) {\r\n    str = str + value;\r\n}\r\nstr = str.replaceAll(&quot;\\\\d&quot;, &quot;&quot;);\r\nSystem.out.println(str);\r\n```\r\n\r\n\r\nplease help me how can i sort it, where i can place 10q after 9v.\r\n\r\nThank you Everyone\r\n\r\nsorting the answer       ,","title":"Why 10 is in the beginning of an ArrayList after Sort() ? How to place 10 after 9?","body":"<pre><code>String s = &quot;vttqexwqgdc&quot;;\nchar[] ch = s.toCharArray();\nint[] indices = {9, 5, 8, 0, 4, 3, 6, 10, 1, 2, 7};\nArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (int i = 0, j = 0; i &lt; ch.length; i++, j++) {\n    list.add((indices[j] + &quot;&quot; + ch[i]));\n}\nCollections.sort(list);\nSystem.out.println(list); // **[0q, 10q, 1g, 2d, 3x, 4e, 5t, 6w, 7c, 8t, 9v], Here the 10q should be after 9\n**String str = &quot;&quot;;\nfor (String value : list) {\n    str = str + value;\n}\nstr = str.replaceAll(&quot;\\\\d&quot;, &quot;&quot;);\nSystem.out.println(str);\n</code></pre>\n<p>please help me how can i sort it, where i can place 10q after 9v.</p>\n<p>Thank you Everyone</p>\n<p>sorting the answer       ,</p>\n"},{"tags":["java","android","kotlin","android-instant-apps"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1669834127,"post_id":74632751,"comment_id":131735504,"body_markdown":"&quot;The app, should not let any trail of it after the victim has closed the app&quot; -- then IMHO this should be a Web app accessed through a browser&#39;s incognito mode, rather than be a native Android app (instant or otherwise).","body":"&quot;The app, should not let any trail of it after the victim has closed the app&quot; -- then IMHO this should be a Web app accessed through a browser&#39;s incognito mode, rather than be a native Android app (instant or otherwise)."}],"owner":{"account_id":7209234,"reputation":1000,"user_id":5503898,"accept_rate":82,"display_name":"Ravers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669833813,"creation_date":1669833813,"question_id":74632751,"body_markdown":"We are developing an app to help domestic violence victims. The goal of the app is to let the victim hop into a quick chat with the entities responsible to protect those victims.\r\n\r\nHowever, there is a gimmick. The app, should not let any trail of it after the victim has closed the app. This is to avoid making the situation uglier between the abuser and the victim, in case the abuser gets the victim&#39;s phone.\r\n\r\nNow, I have been testing instant apps for this, and it seems really promising. The app runs, but on closing it, there is no app in the drawer. But digging a bit further, getting to the phone settings and checking the app list, I can see that the app is there. If I click the app (from the apps list), and &quot;Clear app&quot;, then the app is removed. But that is not ideal for victims.\r\n\r\nI have tried to [clearApplicationUserData()][1] on the activity destroy method, but no joy.\r\n\r\nIs there any way to avoid this? Also, I am open to other approaches that would suit this project better.\r\n\r\n  [1]: https://developer.android.com/reference/android/app/ActivityManager#clearApplicationUserData()","title":"How to clear the app from the recent app list","body":"<p>We are developing an app to help domestic violence victims. The goal of the app is to let the victim hop into a quick chat with the entities responsible to protect those victims.</p>\n<p>However, there is a gimmick. The app, should not let any trail of it after the victim has closed the app. This is to avoid making the situation uglier between the abuser and the victim, in case the abuser gets the victim's phone.</p>\n<p>Now, I have been testing instant apps for this, and it seems really promising. The app runs, but on closing it, there is no app in the drawer. But digging a bit further, getting to the phone settings and checking the app list, I can see that the app is there. If I click the app (from the apps list), and &quot;Clear app&quot;, then the app is removed. But that is not ideal for victims.</p>\n<p>I have tried to <a href=\"https://developer.android.com/reference/android/app/ActivityManager#clearApplicationUserData()\" rel=\"nofollow noreferrer\">clearApplicationUserData()</a> on the activity destroy method, but no joy.</p>\n<p>Is there any way to avoid this? Also, I am open to other approaches that would suit this project better.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1661244857,"post_id":73455497,"comment_id":129719423,"body_markdown":"Any exceptions in the logs? https://github.com/redhat-developer/vscode-java/wiki/Troubleshooting#enable-logging","body":"Any exceptions in the logs? <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Troubleshooting#enable-logging\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/wiki/&hellip;</a>"},{"owner":{"account_id":19368261,"reputation":71,"user_id":14162057,"display_name":"Keetz"},"score":0,"creation_date":1661245873,"post_id":73455497,"comment_id":129719831,"body_markdown":"@ShengChen there is this in the vscode developer console: https://pastebin.com/3FNhGanz\n\nThe java language server log has a &quot;container creation failed&quot;, but I guess that is expected as it looks for a pom in a single project that isn&#39;t there, but that shouldn&#39;t stop all projects from being recognized.","body":"@ShengChen there is this in the vscode developer console: <a href=\"https://pastebin.com/3FNhGanz\" rel=\"nofollow noreferrer\">pastebin.com/3FNhGanz</a>  The java language server log has a &quot;container creation failed&quot;, but I guess that is expected as it looks for a pom in a single project that isn&#39;t there, but that shouldn&#39;t stop all projects from being recognized."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1661304822,"post_id":73455497,"comment_id":129738249,"body_markdown":"If you try to open only one of the projects, will vscode recognize it as a Java project?","body":"If you try to open only one of the projects, will vscode recognize it as a Java project?"},{"owner":{"account_id":19368261,"reputation":71,"user_id":14162057,"display_name":"Keetz"},"score":0,"creation_date":1661327266,"post_id":73455497,"comment_id":129742457,"body_markdown":"@JialeDu no, it does not recognize. The only thing I can get working is if I create a new project with the &quot;command:java.project.create&quot; for example.","body":"@JialeDu no, it does not recognize. The only thing I can get working is if I create a new project with the &quot;command:java.project.create&quot; for example."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661318364,"creation_date":1661318364,"answer_id":73467767,"question_id":73455497,"body_markdown":"***Possible workarounds***\r\n\r\nAdd the following configuration to the **settings.json** file\r\n\r\n```json\r\n    &quot;java.jdt.ls.vmargs&quot;: &quot;-Xlog:jni+resolve=off&quot;,\r\n```","title":"VSCode Java 17 cannot find projects","body":"<p><em><strong>Possible workarounds</strong></em></p>\n<p>Add the following configuration to the <strong>settings.json</strong> file</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;java.jdt.ls.vmargs&quot;: &quot;-Xlog:jni+resolve=off&quot;,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19368261,"reputation":71,"user_id":14162057,"display_name":"Keetz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661334527,"creation_date":1661329433,"answer_id":73469793,"question_id":73455497,"body_markdown":"Setting the the maven.userSettings in settings.json did the trick!\r\n\r\n    &quot;java.configuration.maven.userSettings&quot;: &quot;.mvn/settings.xml&quot;,\r\n\r\nFor some reason this wasn&#39;t needed when I used Java 11, but now with Java 17 it apparently doesn&#39;t find it automatically.\r\n\r\nEDIT:\r\nMy mistake, it can find it, I was missing the settings file in my .m2 folder, after putting it there, I don&#39;t need to set the path as above.\r\n\r\nSo yea, either put the settings file in  the home/.m2 folder or set the  `java.configuration.maven.userSettings`","title":"VSCode Java 17 cannot find projects","body":"<p>Setting the the maven.userSettings in settings.json did the trick!</p>\n<pre><code>&quot;java.configuration.maven.userSettings&quot;: &quot;.mvn/settings.xml&quot;,\n</code></pre>\n<p>For some reason this wasn't needed when I used Java 11, but now with Java 17 it apparently doesn't find it automatically.</p>\n<p>EDIT:\nMy mistake, it can find it, I was missing the settings file in my .m2 folder, after putting it there, I don't need to set the path as above.</p>\n<p>So yea, either put the settings file in  the home/.m2 folder or set the  <code>java.configuration.maven.userSettings</code></p>\n"},{"tags":[],"owner":{"account_id":2909719,"reputation":19935,"user_id":2494262,"accept_rate":64,"display_name":"MrE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669833703,"creation_date":1669833703,"answer_id":74632724,"question_id":73455497,"body_markdown":"In my case i found that the `.project` file was missing the following:\r\n\r\n```yaml\r\n&lt;buildSpec&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n```\r\nand \r\n```yaml\r\n&lt;natures&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n```\r\n\r\nI came to this conclusion after creating a new project in the Java Project area, and comparing the files.\r\n\r\nThere were also entries missing in the `.settings/org.eclipse.jdt.core.prefs` file, but adding them didn&#39;t fix the problem until I added the above.","title":"VSCode Java 17 cannot find projects","body":"<p>In my case i found that the <code>.project</code> file was missing the following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>&lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n</code></pre>\n<p>and</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>&lt;natures&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n</code></pre>\n<p>I came to this conclusion after creating a new project in the Java Project area, and comparing the files.</p>\n<p>There were also entries missing in the <code>.settings/org.eclipse.jdt.core.prefs</code> file, but adding them didn't fix the problem until I added the above.</p>\n"}],"owner":{"account_id":19368261,"reputation":71,"user_id":14162057,"display_name":"Keetz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73469793,"answer_count":3,"score":1,"last_activity_date":1669833703,"creation_date":1661243620,"question_id":73455497,"body_markdown":"After I upgraded to Java 17 (from 11), VSCode, with the java [pack][1], will no longer recognize java projects.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt is a maven project, with a pom file in the root folder and then multiple projects below, like the three shown in the picture above.\r\n\r\nIt recognizes the maven part just fine, but no java projects.\r\n\r\nI tried:\r\n\r\n - Setting the JAVA_HOME variable\r\n - Setting the &quot;java.jdt.ls.java.home&quot;\r\n - Setting a config in &quot;java.configuration.runtimes&quot; \r\n\r\nWhat can I do to make VSCode recognize my java projects?\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://i.stack.imgur.com/J9aSW.png","title":"VSCode Java 17 cannot find projects","body":"<p>After I upgraded to Java 17 (from 11), VSCode, with the java <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">pack</a>, will no longer recognize java projects.</p>\n<p><a href=\"https://i.stack.imgur.com/J9aSW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J9aSW.png\" alt=\"enter image description here\" /></a></p>\n<p>It is a maven project, with a pom file in the root folder and then multiple projects below, like the three shown in the picture above.</p>\n<p>It recognizes the maven part just fine, but no java projects.</p>\n<p>I tried:</p>\n<ul>\n<li>Setting the JAVA_HOME variable</li>\n<li>Setting the &quot;java.jdt.ls.java.home&quot;</li>\n<li>Setting a config in &quot;java.configuration.runtimes&quot;</li>\n</ul>\n<p>What can I do to make VSCode recognize my java projects?</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks","microsoft-graph-files"],"answers":[{"tags":[],"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669833535,"creation_date":1669829428,"answer_id":74631884,"question_id":74540202,"body_markdown":"Found the answer here.\r\n\r\nhttps://stackoverflow.com/questions/47050597/updateaysnc-throws-field-id-is-not-recognied-error\r\n\r\nBasically, you send just the new metadata values, not the entire already existing FieldList, because id is read-only there.\r\n\r\nBut now I get an invalid request, even though it is valid, as the GET with the exact same code works, but the PUT/PATCH doesn&#39;t","title":"Adding Metadata to Sharepoint File with ListItem and FieldValueSet","body":"<p>Found the answer here.</p>\n<p><a href=\"https://stackoverflow.com/questions/47050597/updateaysnc-throws-field-id-is-not-recognied-error\">UpdateAysnc throws &quot;Field &#39;id&#39; is not recognied&quot; error</a></p>\n<p>Basically, you send just the new metadata values, not the entire already existing FieldList, because id is read-only there.</p>\n<p>But now I get an invalid request, even though it is valid, as the GET with the exact same code works, but the PUT/PATCH doesn't</p>\n"}],"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74631884,"answer_count":1,"score":0,"last_activity_date":1669833535,"creation_date":1669160324,"question_id":74540202,"body_markdown":"I am trying to add some metadata to my file I uploaded into Sharepoint. In Sharepoint I added &quot;columns&quot; for &quot;DocumentType&quot; and &quot;User&quot;. But when I run my code to add the values to the file that was uploaded I get an error saying \r\n\r\ncom.microsoft.graph.http.GraphServiceException: Error code: invalidRequest\r\nError message: Invalid request\r\n\r\nor when I was using patch() I get\r\n\r\ncom.microsoft.graph.http.GraphServiceException: Error code: invalidRequest\r\nError message: Field &#39;id&#39; is not recognized\r\n\r\nI am not ever adding an &#39;id&#39; field, and I don&#39;t see one already in the FieldValueSet.\r\n\r\n    private addMetadataToFile(PlatformOidcUser platformOidcUser, ListItem file, String itemPath, Map&lt;String, String&gt; metaData) {\r\n        FieldValueSet fieldValueSet = file.fields\r\n        metaData.each {data -&gt; {\r\n            fieldValueSet.additionalDataManager().put(data.key, new JsonPrimitive(data.value))\r\n        }}\r\n\r\n        graphServiceClient.groups(platformOidcUser.defaultGroupId)\r\n                .drive()\r\n                .root()\r\n                .itemWithPath(itemPath)\r\n                .listItem()\r\n                .fields()\r\n                .buildRequest()\r\n                .put(fieldValueSet)\r\n    }\r\n\r\nI&#39;ve also tried calling patch(fieldValueSet). Also with no values in the map to add, such that the fieldValueSet has all the values the ListItem had when I retrieved it from the Graph API with the following code.\r\n\r\n    private ListItem retrieveListItemFromFile(PlatformOidcUser platformOidcUser, String itemPath) {\r\n        return graphServiceClient.groups(platformOidcUser.defaultGroupId)\r\n                .drive()\r\n                .root()\r\n                .itemWithPath(itemPath).listItem()\r\n                .buildRequest().get()\r\n    }\r\n\r\nI can&#39;t figure out what is wrong, why it doesn&#39;t work. I have spent over 6 hours on this one thing. And I have lost all my hair now. ;)","title":"Adding Metadata to Sharepoint File with ListItem and FieldValueSet","body":"<p>I am trying to add some metadata to my file I uploaded into Sharepoint. In Sharepoint I added &quot;columns&quot; for &quot;DocumentType&quot; and &quot;User&quot;. But when I run my code to add the values to the file that was uploaded I get an error saying</p>\n<p>com.microsoft.graph.http.GraphServiceException: Error code: invalidRequest\nError message: Invalid request</p>\n<p>or when I was using patch() I get</p>\n<p>com.microsoft.graph.http.GraphServiceException: Error code: invalidRequest\nError message: Field 'id' is not recognized</p>\n<p>I am not ever adding an 'id' field, and I don't see one already in the FieldValueSet.</p>\n<pre><code>private addMetadataToFile(PlatformOidcUser platformOidcUser, ListItem file, String itemPath, Map&lt;String, String&gt; metaData) {\n    FieldValueSet fieldValueSet = file.fields\n    metaData.each {data -&gt; {\n        fieldValueSet.additionalDataManager().put(data.key, new JsonPrimitive(data.value))\n    }}\n\n    graphServiceClient.groups(platformOidcUser.defaultGroupId)\n            .drive()\n            .root()\n            .itemWithPath(itemPath)\n            .listItem()\n            .fields()\n            .buildRequest()\n            .put(fieldValueSet)\n}\n</code></pre>\n<p>I've also tried calling patch(fieldValueSet). Also with no values in the map to add, such that the fieldValueSet has all the values the ListItem had when I retrieved it from the Graph API with the following code.</p>\n<pre><code>private ListItem retrieveListItemFromFile(PlatformOidcUser platformOidcUser, String itemPath) {\n    return graphServiceClient.groups(platformOidcUser.defaultGroupId)\n            .drive()\n            .root()\n            .itemWithPath(itemPath).listItem()\n            .buildRequest().get()\n}\n</code></pre>\n<p>I can't figure out what is wrong, why it doesn't work. I have spent over 6 hours on this one thing. And I have lost all my hair now. ;)</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":1,"creation_date":1634818467,"post_id":69661662,"comment_id":123131909,"body_markdown":"Could you provide some of your code? Also does connecting to SQL Server via SQL Server Management Studio work that way?","body":"Could you provide some of your code? Also does connecting to SQL Server via SQL Server Management Studio work that way?"},{"owner":{"account_id":19843337,"reputation":4752,"user_id":14535517,"display_name":"Sergey"},"score":0,"creation_date":1634820799,"post_id":69661662,"comment_id":123133013,"body_markdown":"I would suggest to upgrade back to Enterprise","body":"I would suggest to upgrade back to Enterprise"},{"owner":{"account_id":11485339,"reputation":21,"user_id":8418178,"display_name":"Aindriya Barua"},"score":0,"creation_date":1634821320,"post_id":69661662,"comment_id":123133278,"body_markdown":"Yes we are able to connect with SQL Server Management Studio","body":"Yes we are able to connect with SQL Server Management Studio"}],"owner":{"account_id":11485339,"reputation":21,"user_id":8418178,"display_name":"Aindriya Barua"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669833127,"creation_date":1634817842,"question_id":69661662,"body_markdown":"We are using JDK 1.8.0_131, and JDBC 4.2, we have all TLSv1.0, 1.1 and 1.2 enabled, the issue started appearing after we **downgraded DB from Enterprise to Standard**. Ping to the Db works, and we can also connect to it with MS SQL Server Management Studio.\r\n\r\n```\r\njava.sql.SQLException: Cannot create PoolableConnectionFactory\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed.&quot;.\r\n```\r\nWe have tried the following solutions from other posts:\r\n\r\n1. https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\r\nIt mentions, passing TLSV1 as a parameter, we tried that and it didn&#39;t work. Another answer mentions using JDBC 4.2, which we already do. \r\n\r\n2. https://techcommunity.microsoft.com/t5/sql-server/the-driver-could-not-establish-a-secure-connection-to-sql-server/ba-p/383477\r\nFrom here, checked that “security.provider.1=sun.security.provider.Sun” is present in the  jre\\lib\\security\\java.security file, which is present. Also checked that jre\\lib has jsse.jar in it.\r\n\r\n3. https://stackoverflow.com/questions/53152863/error-sql-server-did-not-return-a-response-the-connection-has-been-closed\r\nFind jdk.tls.disabledAlgorithms=\r\nRemove 3DES_EDE_CBC\r\nThis is already not there.\r\n","title":"Error: &quot;SQL Server did not return a response. The connection has been closed.&quot;, after downgrading Db from Enterprise to Standard","body":"<p>We are using JDK 1.8.0_131, and JDBC 4.2, we have all TLSv1.0, 1.1 and 1.2 enabled, the issue started appearing after we <strong>downgraded DB from Enterprise to Standard</strong>. Ping to the Db works, and we can also connect to it with MS SQL Server Management Studio.</p>\n<pre><code>java.sql.SQLException: Cannot create PoolableConnectionFactory\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed.&quot;.\n</code></pre>\n<p>We have tried the following solutions from other posts:</p>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\">SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption</a>\nIt mentions, passing TLSV1 as a parameter, we tried that and it didn't work. Another answer mentions using JDBC 4.2, which we already do.</p>\n</li>\n<li><p><a href=\"https://techcommunity.microsoft.com/t5/sql-server/the-driver-could-not-establish-a-secure-connection-to-sql-server/ba-p/383477\" rel=\"nofollow noreferrer\">https://techcommunity.microsoft.com/t5/sql-server/the-driver-could-not-establish-a-secure-connection-to-sql-server/ba-p/383477</a>\nFrom here, checked that “security.provider.1=sun.security.provider.Sun” is present in the  jre\\lib\\security\\java.security file, which is present. Also checked that jre\\lib has jsse.jar in it.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/53152863/error-sql-server-did-not-return-a-response-the-connection-has-been-closed\">Error: &quot;SQL Server did not return a response. The connection has been closed.&quot;</a>\nFind jdk.tls.disabledAlgorithms=\nRemove 3DES_EDE_CBC\nThis is already not there.</p>\n</li>\n</ol>\n"},{"tags":["java","scala","groovy","bytecode"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":2,"creation_date":1269702354,"post_id":2529736,"comment_id":2528430,"body_markdown":"@Jack: Scala is much faster then Groovy but it&#39;s still dog slow compared to Java. It&#39;s much easier to shoot yourself in the foot when programming with Scala than it is when programming in Java (knowing exactly when arrays of primitives will be used or not &#39;under the hood&#39; in Scala can *kill* the perfs of your app). If you want a funny (?) read then you should read about the Scala/Java use at Twitter. Basically in every single spot where they needed good perfs, they had to fall back to Java. Java has become as fast and in some case, thanks to JIT, faster than C. Kinda hard to beat ;)","body":"@Jack: Scala is much faster then Groovy but it&#39;s still dog slow compared to Java. It&#39;s much easier to shoot yourself in the foot when programming with Scala than it is when programming in Java (knowing exactly when arrays of primitives will be used or not &#39;under the hood&#39; in Scala can <i>kill</i> the perfs of your app). If you want a funny (?) read then you should read about the Scala/Java use at Twitter. Basically in every single spot where they needed good perfs, they had to fall back to Java. Java has become as fast and in some case, thanks to JIT, faster than C. Kinda hard to beat ;)"},{"owner":{"account_id":68643,"reputation":26430,"user_id":200166,"accept_rate":40,"display_name":"Randall Schulz"},"score":12,"creation_date":1269704868,"post_id":2529736,"comment_id":2528583,"body_markdown":"&quot;Dog slow compared to Java&quot; ?? I disagree. In Scala 2.8 arrays are JVM native arrays, not boxed arrays. For hot spots in your code, you can always write loops that do not use function literals / closures. Basically, a modicum of knowledge and the usual good practices for producing efficient code are sufficient to reduce the gap between Scala and Java to a negligible amount in the large majority of cases.","body":"&quot;Dog slow compared to Java&quot; ?? I disagree. In Scala 2.8 arrays are JVM native arrays, not boxed arrays. For hot spots in your code, you can always write loops that do not use function literals / closures. Basically, a modicum of knowledge and the usual good practices for producing efficient code are sufficient to reduce the gap between Scala and Java to a negligible amount in the large majority of cases."},{"owner":{"account_id":89797,"reputation":167211,"user_id":247533,"accept_rate":83,"display_name":"Rex Kerr"},"score":5,"creation_date":1269715343,"post_id":2529736,"comment_id":2529365,"body_markdown":"@Wizard: Take a look at the benchmarks at shootout.alioth.debian.org.  Would you then like to venture a guess as to whether the Twitter folks were simply not very good with Scala instead of it being some intrinsic limitation of the language?","body":"@Wizard: Take a look at the benchmarks at shootout.alioth.debian.org.  Would you then like to venture a guess as to whether the Twitter folks were simply not very good with Scala instead of it being some intrinsic limitation of the language?"},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":3,"creation_date":1269734262,"post_id":2529736,"comment_id":2530395,"body_markdown":"@WizardOfOdds do you have a reference about that twitter thing? I had never heard it before, and there are some twitter people in the Scala community.","body":"@WizardOfOdds do you have a reference about that twitter thing? I had never heard it before, and there are some twitter people in the Scala community."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1269771078,"post_id":2529736,"comment_id":2531663,"body_markdown":"@Daniel: I don&#39;t find back *the* link I had in mind but here they explain why Scala&#39;s concurrency wasn&#39;t matching Java: http://www.artima.com/scalazine/articles/twitter_on_scala.html *&quot;we’ve just gone back to a traditional Java threading model&quot;*","body":"@Daniel: I don&#39;t find back <i>the</i> link I had in mind but here they explain why Scala&#39;s concurrency wasn&#39;t matching Java: <a href=\"http://www.artima.com/scalazine/articles/twitter_on_scala.html\" rel=\"nofollow noreferrer\">artima.com/scalazine/articles/twitter_on_scala.html</a> <i>&quot;we’ve just gone back to a traditional Java threading model&quot;</i>"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1269771199,"post_id":2529736,"comment_id":2531672,"body_markdown":"@Rex Kerr: but that&#39;s exactly my point: if you *must* be &quot;good in Scala&quot; to know when you&#39;ll default to a blazing fast long[] under the hood, then there&#39;s a very serious Scala issue.  In addition to that, Actor look sexy, but they&#39;re slow and unpredictable.  Which is why it was a no-no for the Twitter dudes (who know what perfs and scaling means).  All I&#39;m saying is: Scala is a fine language, but when you need low-level C-like bit shift hackery over gigantic primitives arrays and fast concurrency, you ain&#39;t beating Java.","body":"@Rex Kerr: but that&#39;s exactly my point: if you <i>must</i> be &quot;good in Scala&quot; to know when you&#39;ll default to a blazing fast long[] under the hood, then there&#39;s a very serious Scala issue.  In addition to that, Actor look sexy, but they&#39;re slow and unpredictable.  Which is why it was a no-no for the Twitter dudes (who know what perfs and scaling means).  All I&#39;m saying is: Scala is a fine language, but when you need low-level C-like bit shift hackery over gigantic primitives arrays and fast concurrency, you ain&#39;t beating Java."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1269771348,"post_id":2529736,"comment_id":2531679,"body_markdown":"@Rex Kerr: Look at David Crawshaw&#39;s answer: *&quot;sometimes it hurts performances, but most of the time it doesn&#39;t&quot;*.  I was referring to these *&quot;sometimes it hurts perfs&quot;*.  Unless Scala improves on this, you&#39;ll be stuck with a Java/Scala mix when perfs are needed.","body":"@Rex Kerr: Look at David Crawshaw&#39;s answer: <i>&quot;sometimes it hurts performances, but most of the time it doesn&#39;t&quot;</i>.  I was referring to these <i>&quot;sometimes it hurts perfs&quot;</i>.  Unless Scala improves on this, you&#39;ll be stuck with a Java/Scala mix when perfs are needed."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1269771475,"post_id":2529736,"comment_id":2531684,"body_markdown":"@Jack: that&#39;s not exactly what my comment was telling... It&#39;s specifically a Scala issue, that wanted to abstract &quot;everything is an object&quot;, which mean you simply do *not* know anymore what shall be optimized or not under the hood to real fast primitives arrays and whatnots.  Java, being hybrid object/primitive, can actually be used in a very low-level way (I know what I&#39;m talking about, I&#39;m hacking with long[] being hundreds of megabytes big ;)  But you could very well imagine a less dogmatic Scala-like language allowing more expressive use of primitive/close-to-the-metal instructions.","body":"@Jack: that&#39;s not exactly what my comment was telling... It&#39;s specifically a Scala issue, that wanted to abstract &quot;everything is an object&quot;, which mean you simply do <i>not</i> know anymore what shall be optimized or not under the hood to real fast primitives arrays and whatnots.  Java, being hybrid object/primitive, can actually be used in a very low-level way (I know what I&#39;m talking about, I&#39;m hacking with long[] being hundreds of megabytes big ;)  But you could very well imagine a less dogmatic Scala-like language allowing more expressive use of primitive/close-to-the-metal instructions."},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":0,"creation_date":1269786276,"post_id":2529736,"comment_id":2532518,"body_markdown":"@WizardOfOdds They do not claim not to use Scala, only that they do not use the Actors concurrency model in all cases. That&#39;s another thing altogether. High performance requires care in Scala, but so it does in any other language, even Java. Even C.","body":"@WizardOfOdds They do not claim not to use Scala, only that they do not use the Actors concurrency model in all cases. That&#39;s another thing altogether. High performance requires care in Scala, but so it does in any other language, even Java. Even C."},{"owner":{"account_id":89797,"reputation":167211,"user_id":247533,"accept_rate":83,"display_name":"Rex Kerr"},"score":4,"creation_date":1269789038,"post_id":2529736,"comment_id":2532693,"body_markdown":"@WizardOfOdds: If you know what you&#39;re talking about because your `long[]` is hundreds of MB, then I must know what I&#39;m talking about because my `Array[Float]` is hundreds of MB and giving Java-level performance.  Seriously, though, if you want to take a simple approach to high-performance Scala and you know high-performance Java, use the subset of Scala that works just like Java (primitive types, Array[Primitive], and while loop) and you&#39;ll go just as fast.  Autoboxing of primitives in Scala is rarely more confusing than in Java, except that you&#39;re motivated to do it more often in Scala.","body":"@WizardOfOdds: If you know what you&#39;re talking about because your <code>long[]</code> is hundreds of MB, then I must know what I&#39;m talking about because my <code>Array[Float]</code> is hundreds of MB and giving Java-level performance.  Seriously, though, if you want to take a simple approach to high-performance Scala and you know high-performance Java, use the subset of Scala that works just like Java (primitive types, Array[Primitive], and while loop) and you&#39;ll go just as fast.  Autoboxing of primitives in Scala is rarely more confusing than in Java, except that you&#39;re motivated to do it more often in Scala."}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1269702577,"creation_date":1269702577,"answer_id":2529761,"question_id":2529736,"body_markdown":"One thing to be aware of: Java 7 will introduce a new [invokedynamic][1] bytecode for the JVM, which will make a lot of Groovy&#39;s &quot;metaclass magic&quot; unnecessary and should drastically speed up dynamic language implementations on the JVM.\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=292","title":"Groovy, Scala, and Java under the hood","body":"<p>One thing to be aware of: Java 7 will introduce a new <a href=\"http://jcp.org/en/jsr/detail?id=292\" rel=\"nofollow noreferrer\">invokedynamic</a> bytecode for the JVM, which will make a lot of Groovy's \"metaclass magic\" unnecessary and should drastically speed up dynamic language implementations on the JVM.</p>\n"},{"tags":[],"owner":{"account_id":53637,"reputation":54848,"user_id":160378,"accept_rate":80,"display_name":"retronym"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1269794126,"creation_date":1269712309,"answer_id":2530284,"question_id":2529736,"body_markdown":"Scala is doing an increasing good job of reducing the cost of abstraction.\r\n\r\nIn the comments inline in the code, I explain the performance characteristics of Array access, pimped types, Structural Types, and abstracting over primitives and objects.\r\n\r\n&lt;h1&gt; Arrays &lt;/h1&gt;\r\n\r\n    object test {\r\n      /**\r\n       * From the perspective of the Scala Language, there isn&#39;t a distinction between\r\n       * objects, primitives, and arrays. They are all unified under a single type system,\r\n       * with Any as the top type.\r\n       *\r\n       * Array access, from a language perspective, looks like a.apply(0), or a.update(0, 1)\r\n       * But this is compiled to efficient bytecode without method calls. \r\n       */\r\n      def accessPrimitiveArray {\r\n        val a = Array.fill[Int](2, 2)(1)\r\n        a(0)(1) = a(1)(0)        \r\n      }\r\n      // 0: getstatic #62; //Field scala/Array$.MODULE$:Lscala/Array$;\r\n      // 3: iconst_2\r\n      // 4: iconst_2\r\n      // 5: new #64; //class test$$anonfun$1\r\n      // 8: dup\r\n      // 9: invokespecial #65; //Method test$$anonfun$1.&quot;&lt;init&gt;&quot;:()V\r\n      // 12:  getstatic #70; //Field scala/reflect/Manifest$.MODULE$:Lscala/reflect/Manifest$;\r\n      // 15:  invokevirtual #74; //Method scala/reflect/Manifest$.Int:()Lscala/reflect/AnyValManifest;\r\n      // 18:  invokevirtual #78; //Method scala/Array$.fill:(IILscala/Function0;Lscala/reflect/ClassManifest;)[Ljava/lang/Object;\r\n      // 21:  checkcast #80; //class &quot;[[I&quot;\r\n      // 24:  astore_1\r\n      // 25:  aload_1\r\n      // 26:  iconst_0\r\n      // 27:  aaload\r\n      // 28:  iconst_1\r\n      // 29:  aload_1\r\n      // 30:  iconst_1\r\n      // 31:  aaload\r\n      // 32:  iconst_0\r\n      // 33:  iaload\r\n      // 34:  iastore\r\n      // 35:  return\r\n \r\n&lt;h1&gt; Pimp My Library &lt;/h1&gt;    \r\n      \r\n      /**\r\n       * Rather than dynamically adding methods to a meta-class, Scala\r\n       * allows values to be implicity converted. The conversion is\r\n       * fixed at compilation time. At runtime, there is an overhead to\r\n       * instantiate RichAny before foo is called. HotSpot may be able to\r\n       * eliminate this overhead, and future versions of Scala may do so\r\n       * in the compiler.\r\n       */\r\n      def callPimpedMethod {    \r\n        class RichAny(a: Any) {\r\n          def foo = 0\r\n        }\r\n        implicit def ToRichAny(a: Any) = new RichAny(a)\r\n        new {}.foo\r\n      }\r\n      // 0: aload_0\r\n      //   1: new #85; //class test$$anon$1\r\n      //   4: dup\r\n      //   5: invokespecial #86; //Method test$$anon$1.&quot;&lt;init&gt;&quot;:()V\r\n      //   8: invokespecial #90; //Method ToRichAny$1:(Ljava/lang/Object;)Ltest$RichAny$1;\r\n      //   11:  invokevirtual #96; //Method test$RichAny$1.foo:()I\r\n      //   14:  pop\r\n      //   15:  return\r\n      \r\n&lt;h1&gt; Structural Types (aka Duck Typing) &lt;/h1&gt;      \r\n\r\n      /**\r\n       * Scala allows &#39;Structural Types&#39;, which let you have a compiler-checked version\r\n       * of &#39;Duck Typing&#39;. In Scala 2.7, the invocation of .size was done with reflection.\r\n       * In 2.8, the Method object is looked up on first invocation, and cached for later\r\n       * invocations..\r\n       */\r\n      def duckType {\r\n        val al = new java.util.ArrayList[AnyRef]\r\n        (al: { def size(): Int }).size()\r\n      }\r\n      // [snip]\r\n      // 13:  invokevirtual #106; //Method java/lang/Object.getClass:()Ljava/lang/Class;\r\n      // 16:  invokestatic  #108; //Method reflMethod$Method1:(Ljava/lang/Class;)Ljava/lang/reflect/Method;\r\n      // 19:  aload_2\r\n      // 20:  iconst_0\r\n      // 21:  anewarray #102; //class java/lang/Object\r\n      // 24:  invokevirtual #114; //Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;\r\n      // 27:  astore_3\r\n      // 28:  aload_3\r\n      // 29:  checkcast #116; //class java/lang/Integer\r\n      \r\n&lt;h1&gt;Specialisation&lt;/h1&gt;      \r\n      /**\r\n       * Scala 2.8 introduces annotation driven specialization of methods and classes. This avoids\r\n       * boxing of primitives, at the cost of increased code size. It is planned to specialize some classes\r\n       * in the standard library, notable Function1.\r\n       *\r\n       * The type parameter T in echoSpecialized is annotated to instruct the compiler to generated a specialized version\r\n       * for T = Int.\r\n       */\r\n      def callEcho {    \r\n        echo(1)\r\n        echoSpecialized(1)\r\n      }\r\n      // public void callEcho();\r\n      //   Code:\r\n      //    Stack=2, Locals=1, Args_size=1\r\n      //    0:   aload_0\r\n      //    1:   iconst_1\r\n      //    2:   invokestatic    #134; //Method scala/runtime/BoxesRunTime.boxToInteger:(I)Ljava/lang/Integer;\r\n      //    5:   invokevirtual   #138; //Method echo:(Ljava/lang/Object;)Ljava/lang/Object;\r\n      //    8:   pop\r\n      //    9:   aload_0\r\n      //    10:  iconst_1\r\n      //    11:  invokevirtual   #142; //Method echoSpecialized$mIc$sp:(I)I\r\n      //    14:  pop\r\n      //    15:  return\r\n      \r\n      \r\n      def echo[T](t: T): T = t\r\n      def echoSpecialized[@specialized(&quot;Int&quot;) T](t: T): T = t\r\n    }\r\n\r\n&lt;h1&gt;Closures and For Comprehensions&lt;/h1&gt;\r\nIn Scala `for` is translated to a chain of calls to higher order functions: `foreach`, `map`, `flatMap` and `withFilter`. This is really powerful, but you need to be aware that the following code isn&#39;t nearly as efficient as a similar looking construct in Java. Scala 2.8 will @specialize Function1 for at least `Double` and `Int`, and hopefully will also @specialize `Traversable#foreach`, which will at least remove the boxing cost.\r\n\r\nThe body of the for-comprehension is passed as a closure, which is compiled to an anonymous inner class.\r\n\r\n    def simpleForLoop {\r\n      var x = 0\r\n      for (i &lt;- 0 until 10) x + i\r\n    }\r\n    // public final int apply(int);   \r\n    // 0:\taload_0\r\n    // 1:\tgetfield\t#18; //Field x$1:Lscala/runtime/IntRef;\r\n    // 4:\tgetfield\t#24; //Field scala/runtime/IntRef.elem:I\r\n    // 7:\tiload_1\r\n    // 8:\tiadd\r\n    // 9:\tireturn\r\n\r\n\r\n    // public final java.lang.Object apply(java.lang.Object);\r\n  \r\n    // 0:\taload_0\r\n    // 1:\taload_1\r\n    // 2:\tinvokestatic\t#35; //Method scala/runtime/BoxesRunTime.unboxToInt:(Ljava/lang/Object;)I\r\n    // 5:\tinvokevirtual\t#37; //Method apply:(I)I\r\n    // 8:\tinvokestatic\t#41; //Method scala/runtime/BoxesRunTime.boxToInteger:(I)Ljava/lang/Integer;\r\n    // 11:\tareturn\r\n  \r\n    // public test$$anonfun$simpleForLoop$1(scala.runtime.IntRef);\r\n    // 0:\taload_0\r\n    // 1:\taload_1\r\n    // 2:\tputfield\t#18; //Field x$1:Lscala/runtime/IntRef;\r\n    // 5:\taload_0\r\n    // 6:\tinvokespecial\t#49; //Method scala/runtime/AbstractFunction1.&quot;&lt;init&gt;&quot;:()V\r\n    // 9:\treturn\r\n  LineNumberTable: \r\n   line 4: 0\r\n\r\n\r\n    // 0:\tnew\t#16; //class scala/runtime/IntRef\r\n    // 3:\tdup\r\n    // 4:\ticonst_0\r\n    // 5:\tinvokespecial\t#20; //Method scala/runtime/IntRef.&quot;&lt;init&gt;&quot;:(I)V\r\n    // 8:\tastore_1\r\n    // 9:\tgetstatic\t#25; //Field scala/Predef$.MODULE$:Lscala/Predef$;\r\n    // 12:\ticonst_0\r\n    // 13:\tinvokevirtual\t#29; //Method scala/Predef$.intWrapper:(I)Lscala/runtime/RichInt;\r\n    // 16:\tldc\t#30; //int 10\r\n    // 18:\tinvokevirtual\t#36; //Method scala/runtime/RichInt.until:(I)Lscala/collection/immutable/Range$ByOne;\r\n    // 21:\tnew\t#38; //class test$$anonfun$simpleForLoop$1\r\n    // 24:\tdup\r\n    // 25:\taload_1\r\n    // 26:\tinvokespecial\t#41; //Method test$$anonfun$simpleForLoop$1.&quot;&lt;init&gt;&quot;:(Lscala/runtime/IntRef;)V\r\n    // 29:\tinvokeinterface\t#47,  2; //InterfaceMethod scala/collection/immutable/Range$ByOne.foreach:(Lscala/Function1;)V\r\n    // 34:\treturn\r\n","title":"Groovy, Scala, and Java under the hood","body":"<p>Scala is doing an increasing good job of reducing the cost of abstraction.</p>\n\n<p>In the comments inline in the code, I explain the performance characteristics of Array access, pimped types, Structural Types, and abstracting over primitives and objects.</p>\n\n<h1> Arrays </h1>\n\n<pre><code>object test {\n  /**\n   * From the perspective of the Scala Language, there isn't a distinction between\n   * objects, primitives, and arrays. They are all unified under a single type system,\n   * with Any as the top type.\n   *\n   * Array access, from a language perspective, looks like a.apply(0), or a.update(0, 1)\n   * But this is compiled to efficient bytecode without method calls. \n   */\n  def accessPrimitiveArray {\n    val a = Array.fill[Int](2, 2)(1)\n    a(0)(1) = a(1)(0)        \n  }\n  // 0: getstatic #62; //Field scala/Array$.MODULE$:Lscala/Array$;\n  // 3: iconst_2\n  // 4: iconst_2\n  // 5: new #64; //class test$$anonfun$1\n  // 8: dup\n  // 9: invokespecial #65; //Method test$$anonfun$1.\"&lt;init&gt;\":()V\n  // 12:  getstatic #70; //Field scala/reflect/Manifest$.MODULE$:Lscala/reflect/Manifest$;\n  // 15:  invokevirtual #74; //Method scala/reflect/Manifest$.Int:()Lscala/reflect/AnyValManifest;\n  // 18:  invokevirtual #78; //Method scala/Array$.fill:(IILscala/Function0;Lscala/reflect/ClassManifest;)[Ljava/lang/Object;\n  // 21:  checkcast #80; //class \"[[I\"\n  // 24:  astore_1\n  // 25:  aload_1\n  // 26:  iconst_0\n  // 27:  aaload\n  // 28:  iconst_1\n  // 29:  aload_1\n  // 30:  iconst_1\n  // 31:  aaload\n  // 32:  iconst_0\n  // 33:  iaload\n  // 34:  iastore\n  // 35:  return\n</code></pre>\n\n<h1> Pimp My Library </h1>    \n\n<pre><code>  /**\n   * Rather than dynamically adding methods to a meta-class, Scala\n   * allows values to be implicity converted. The conversion is\n   * fixed at compilation time. At runtime, there is an overhead to\n   * instantiate RichAny before foo is called. HotSpot may be able to\n   * eliminate this overhead, and future versions of Scala may do so\n   * in the compiler.\n   */\n  def callPimpedMethod {    \n    class RichAny(a: Any) {\n      def foo = 0\n    }\n    implicit def ToRichAny(a: Any) = new RichAny(a)\n    new {}.foo\n  }\n  // 0: aload_0\n  //   1: new #85; //class test$$anon$1\n  //   4: dup\n  //   5: invokespecial #86; //Method test$$anon$1.\"&lt;init&gt;\":()V\n  //   8: invokespecial #90; //Method ToRichAny$1:(Ljava/lang/Object;)Ltest$RichAny$1;\n  //   11:  invokevirtual #96; //Method test$RichAny$1.foo:()I\n  //   14:  pop\n  //   15:  return\n</code></pre>\n\n<h1> Structural Types (aka Duck Typing) </h1>      \n\n<pre><code>  /**\n   * Scala allows 'Structural Types', which let you have a compiler-checked version\n   * of 'Duck Typing'. In Scala 2.7, the invocation of .size was done with reflection.\n   * In 2.8, the Method object is looked up on first invocation, and cached for later\n   * invocations..\n   */\n  def duckType {\n    val al = new java.util.ArrayList[AnyRef]\n    (al: { def size(): Int }).size()\n  }\n  // [snip]\n  // 13:  invokevirtual #106; //Method java/lang/Object.getClass:()Ljava/lang/Class;\n  // 16:  invokestatic  #108; //Method reflMethod$Method1:(Ljava/lang/Class;)Ljava/lang/reflect/Method;\n  // 19:  aload_2\n  // 20:  iconst_0\n  // 21:  anewarray #102; //class java/lang/Object\n  // 24:  invokevirtual #114; //Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;\n  // 27:  astore_3\n  // 28:  aload_3\n  // 29:  checkcast #116; //class java/lang/Integer\n</code></pre>\n\n<h1>Specialisation</h1>      \n\n<pre><code>  /**\n   * Scala 2.8 introduces annotation driven specialization of methods and classes. This avoids\n   * boxing of primitives, at the cost of increased code size. It is planned to specialize some classes\n   * in the standard library, notable Function1.\n   *\n   * The type parameter T in echoSpecialized is annotated to instruct the compiler to generated a specialized version\n   * for T = Int.\n   */\n  def callEcho {    \n    echo(1)\n    echoSpecialized(1)\n  }\n  // public void callEcho();\n  //   Code:\n  //    Stack=2, Locals=1, Args_size=1\n  //    0:   aload_0\n  //    1:   iconst_1\n  //    2:   invokestatic    #134; //Method scala/runtime/BoxesRunTime.boxToInteger:(I)Ljava/lang/Integer;\n  //    5:   invokevirtual   #138; //Method echo:(Ljava/lang/Object;)Ljava/lang/Object;\n  //    8:   pop\n  //    9:   aload_0\n  //    10:  iconst_1\n  //    11:  invokevirtual   #142; //Method echoSpecialized$mIc$sp:(I)I\n  //    14:  pop\n  //    15:  return\n\n\n  def echo[T](t: T): T = t\n  def echoSpecialized[@specialized(\"Int\") T](t: T): T = t\n}\n</code></pre>\n\n<h1>Closures and For Comprehensions</h1>\n\n<p>In Scala <code>for</code> is translated to a chain of calls to higher order functions: <code>foreach</code>, <code>map</code>, <code>flatMap</code> and <code>withFilter</code>. This is really powerful, but you need to be aware that the following code isn't nearly as efficient as a similar looking construct in Java. Scala 2.8 will @specialize Function1 for at least <code>Double</code> and <code>Int</code>, and hopefully will also @specialize <code>Traversable#foreach</code>, which will at least remove the boxing cost.</p>\n\n<p>The body of the for-comprehension is passed as a closure, which is compiled to an anonymous inner class.</p>\n\n<pre><code>def simpleForLoop {\n  var x = 0\n  for (i &lt;- 0 until 10) x + i\n}\n// public final int apply(int);   \n// 0:   aload_0\n// 1:   getfield    #18; //Field x$1:Lscala/runtime/IntRef;\n// 4:   getfield    #24; //Field scala/runtime/IntRef.elem:I\n// 7:   iload_1\n// 8:   iadd\n// 9:   ireturn\n\n\n// public final java.lang.Object apply(java.lang.Object);\n\n// 0:   aload_0\n// 1:   aload_1\n// 2:   invokestatic    #35; //Method scala/runtime/BoxesRunTime.unboxToInt:(Ljava/lang/Object;)I\n// 5:   invokevirtual   #37; //Method apply:(I)I\n// 8:   invokestatic    #41; //Method scala/runtime/BoxesRunTime.boxToInteger:(I)Ljava/lang/Integer;\n// 11:  areturn\n\n// public test$$anonfun$simpleForLoop$1(scala.runtime.IntRef);\n// 0:   aload_0\n// 1:   aload_1\n// 2:   putfield    #18; //Field x$1:Lscala/runtime/IntRef;\n// 5:   aload_0\n// 6:   invokespecial   #49; //Method scala/runtime/AbstractFunction1.\"&lt;init&gt;\":()V\n// 9:   return\n</code></pre>\n\n<p>LineNumberTable: \n   line 4: 0</p>\n\n<pre><code>// 0:   new #16; //class scala/runtime/IntRef\n// 3:   dup\n// 4:   iconst_0\n// 5:   invokespecial   #20; //Method scala/runtime/IntRef.\"&lt;init&gt;\":(I)V\n// 8:   astore_1\n// 9:   getstatic   #25; //Field scala/Predef$.MODULE$:Lscala/Predef$;\n// 12:  iconst_0\n// 13:  invokevirtual   #29; //Method scala/Predef$.intWrapper:(I)Lscala/runtime/RichInt;\n// 16:  ldc #30; //int 10\n// 18:  invokevirtual   #36; //Method scala/runtime/RichInt.until:(I)Lscala/collection/immutable/Range$ByOne;\n// 21:  new #38; //class test$$anonfun$simpleForLoop$1\n// 24:  dup\n// 25:  aload_1\n// 26:  invokespecial   #41; //Method test$$anonfun$simpleForLoop$1.\"&lt;init&gt;\":(Lscala/runtime/IntRef;)V\n// 29:  invokeinterface #47,  2; //InterfaceMethod scala/collection/immutable/Range$ByOne.foreach:(Lscala/Function1;)V\n// 34:  return\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56574,"reputation":10477,"user_id":169484,"accept_rate":100,"display_name":"David Crawshaw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1269713423,"creation_date":1269713423,"answer_id":2530361,"question_id":2529736,"body_markdown":"You can transliterate Java into Scala and end up with bytecode that is almost exactly the same. So Scala is perfectly capable of being as fast as Java.\r\n\r\nThat said, there are lots of ways to write slower, more memory intensive Scala code that are shorter and more readable than the Java equivalent. And that&#39;s good! We use Java, not C, because memory protection improves our code. Scala&#39;s extra expressiveness means you can write programs that are shorter, than thus less buggier than in Java. Sometimes that hurts performance, but most of the time it doesn&#39;t.","title":"Groovy, Scala, and Java under the hood","body":"<p>You can transliterate Java into Scala and end up with bytecode that is almost exactly the same. So Scala is perfectly capable of being as fast as Java.</p>\n\n<p>That said, there are lots of ways to write slower, more memory intensive Scala code that are shorter and more readable than the Java equivalent. And that's good! We use Java, not C, because memory protection improves our code. Scala's extra expressiveness means you can write programs that are shorter, than thus less buggier than in Java. Sometimes that hurts performance, but most of the time it doesn't.</p>\n"},{"tags":[],"owner":{"account_id":89797,"reputation":167211,"user_id":247533,"accept_rate":83,"display_name":"Rex Kerr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1269716195,"creation_date":1269716195,"answer_id":2530530,"question_id":2529736,"body_markdown":"retronym and David have covered the main points regarding Scala: it is essentially as fast as Java, and it is that way because it is statically typed (thus requiring no extra runtime checks) and uses lightweight wrappers that the JVM can usually remove entirely.\r\n\r\nScala does make it very easy to use powerful generic library features.  As with any powerful generic library in Java, that has some performance penalty associated with it.  For example, using a java.util.HashMap to implement a map between bytes and bytes is going to be painfully slow in Java (compared to a primitive array lookup table), and it will be equally slow in Scala.  But Scala gives you many more features of this sort, and makes it amazingly easy to invoke them, to the point where you can really ask for an amazing amount of work to be done in very little code.  As always, when you make it easy to ask for a lot, people sometimes will ask for a lot, and then wonder why it takes so long.  (And the ease of asking makes it all the more surprising when one learns (or thinks carefully about) what must happen behind the scenes.)\r\n\r\nThe only legitimate criticism one might raise is that Scala does not make it as easy as it possibly could to write high-performance code; most of the ease-of-use features are directed towards generic functional programming, which still is pretty fast, but not as fast as direct access to primitive types.  For example, Scala has an incredibly powerful `for` loop, but it uses generic types, so primitives must be boxed, and hence you can&#39;t use it effectively for iterating over primitive arrays; you have to use a `while` loop instead.  (The performance differential is likely to decrease in 2.8 with specializations as retronym mentioned.)","title":"Groovy, Scala, and Java under the hood","body":"<p>retronym and David have covered the main points regarding Scala: it is essentially as fast as Java, and it is that way because it is statically typed (thus requiring no extra runtime checks) and uses lightweight wrappers that the JVM can usually remove entirely.</p>\n\n<p>Scala does make it very easy to use powerful generic library features.  As with any powerful generic library in Java, that has some performance penalty associated with it.  For example, using a java.util.HashMap to implement a map between bytes and bytes is going to be painfully slow in Java (compared to a primitive array lookup table), and it will be equally slow in Scala.  But Scala gives you many more features of this sort, and makes it amazingly easy to invoke them, to the point where you can really ask for an amazing amount of work to be done in very little code.  As always, when you make it easy to ask for a lot, people sometimes will ask for a lot, and then wonder why it takes so long.  (And the ease of asking makes it all the more surprising when one learns (or thinks carefully about) what must happen behind the scenes.)</p>\n\n<p>The only legitimate criticism one might raise is that Scala does not make it as easy as it possibly could to write high-performance code; most of the ease-of-use features are directed towards generic functional programming, which still is pretty fast, but not as fast as direct access to primitive types.  For example, Scala has an incredibly powerful <code>for</code> loop, but it uses generic types, so primitives must be boxed, and hence you can't use it effectively for iterating over primitive arrays; you have to use a <code>while</code> loop instead.  (The performance differential is likely to decrease in 2.8 with specializations as retronym mentioned.)</p>\n"},{"tags":[],"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1269786516,"creation_date":1269736366,"answer_id":2531471,"question_id":2529736,"body_markdown":"Lots of good answers, I&#39;ll try to add something else I got from your question. There is *no* wrapping of Scala objects. For instance, the following two classes, in Scala and Java respectively, generate exactly the same bytecode:\r\n\r\n    // This is Scala\r\n    class Counter {\r\n      private var x = 0\r\n      def getCount() = {\r\n        val y = x\r\n        x += 1\r\n        y\r\n      }\r\n    }\r\n    \r\n    // This is Java\r\n    class Counter {\r\n      private int x = 0;\r\n      \r\n      private int x() {\r\n        return x;\r\n      }\r\n      \r\n      private void x_$eq(int x) {\r\n        this.x = x;\r\n      }\r\n      \r\n      public int getCounter() {\r\n        int y = x();\r\n        x_$eq(x() + 1);\r\n        return y;\r\n      }\r\n    }\r\n\r\nOf particular notice is the fact that Scala always go to the fields through getters and setters, even on other methods of the same class. The point, however, is that there is absolutely no class wrapping going on here. It&#39;s the same thing whether it is compiled in Java or Scala.\r\n\r\nNow, Scala makes it _easier_ to write slower code. Some examples of it are:\r\n\r\n * Scala&#39;s `for` are notably slower than Java when just incrementing indices -- the solution, so far, is to use `while` loops instead, though someone wrote a compiler plugin that does that conversion automatically. Sooner or later such an optimization will be added.\r\n\r\n * It&#39;s very easy to write closures and pass functions around in Scala. It makes the code much more readable, but it is notably slower than _not_ doing it in tight loops.\r\n\r\n * It&#39;s also easy to parameterize functions so that one can pass `Int`, which can cause bad performance if you are handling primitives (in Scala, `AnyVal` subclasses).\r\n\r\nHere is an example of a class written in Scala in two different ways, where the more compact one is about twice as slow:\r\n\r\n    class Hamming extends Iterator[BigInt] {\r\n      import scala.collection.mutable.Queue\r\n      val qs = Seq.fill(3)(new Queue[BigInt])\r\n      def enqueue(n: BigInt) = qs zip Seq(2, 3, 5) foreach { case (q, m) =&gt; q enqueue n * m }\r\n      def next = {\r\n        val n = qs map (_.head) min;\r\n        qs foreach { q =&gt; if (q.head == n) q.dequeue }\r\n        enqueue(n)\r\n        n\r\n      }\r\n      def hasNext = true\r\n      qs foreach (_ enqueue 1)\r\n    }\r\n\r\n    class Hamming extends Iterator[BigInt] {\r\n      import scala.collection.mutable.Queue\r\n      val q2 = new Queue[BigInt]\r\n      val q3 = new Queue[BigInt]\r\n      val q5 = new Queue[BigInt]\r\n      def enqueue(n: BigInt) = {\r\n        q2 enqueue n * 2\r\n        q3 enqueue n * 3\r\n        q5 enqueue n * 5\r\n      }\r\n      def next = {\r\n        val n = q2.head min q3.head min q5.head\r\n        if (q2.head == n) q2.dequeue\r\n        if (q3.head == n) q3.dequeue\r\n        if (q5.head == n) q5.dequeue\r\n        enqueue(n)\r\n        n\r\n      }\r\n      def hasNext = true\r\n      List(q2, q3, q5) foreach (_ enqueue 1)\r\n    }\r\n\r\nThis is also a good example of how it is perfectly possible to balance out performance when required. The faster version uses `foreach` in the constructor, for instance, where it won&#39;t cause performance problems.\r\n\r\nIn the end, it&#39;s all a matter of perspective. Calling methods on objects is slower than calling functions and procedures directly, and that was a major objection to object oriented programming, but it turned out not to be much of a problem most of the time.\r\n\r\n","title":"Groovy, Scala, and Java under the hood","body":"<p>Lots of good answers, I'll try to add something else I got from your question. There is <em>no</em> wrapping of Scala objects. For instance, the following two classes, in Scala and Java respectively, generate exactly the same bytecode:</p>\n\n<pre><code>// This is Scala\nclass Counter {\n  private var x = 0\n  def getCount() = {\n    val y = x\n    x += 1\n    y\n  }\n}\n\n// This is Java\nclass Counter {\n  private int x = 0;\n\n  private int x() {\n    return x;\n  }\n\n  private void x_$eq(int x) {\n    this.x = x;\n  }\n\n  public int getCounter() {\n    int y = x();\n    x_$eq(x() + 1);\n    return y;\n  }\n}\n</code></pre>\n\n<p>Of particular notice is the fact that Scala always go to the fields through getters and setters, even on other methods of the same class. The point, however, is that there is absolutely no class wrapping going on here. It's the same thing whether it is compiled in Java or Scala.</p>\n\n<p>Now, Scala makes it <em>easier</em> to write slower code. Some examples of it are:</p>\n\n<ul>\n<li><p>Scala's <code>for</code> are notably slower than Java when just incrementing indices -- the solution, so far, is to use <code>while</code> loops instead, though someone wrote a compiler plugin that does that conversion automatically. Sooner or later such an optimization will be added.</p></li>\n<li><p>It's very easy to write closures and pass functions around in Scala. It makes the code much more readable, but it is notably slower than <em>not</em> doing it in tight loops.</p></li>\n<li><p>It's also easy to parameterize functions so that one can pass <code>Int</code>, which can cause bad performance if you are handling primitives (in Scala, <code>AnyVal</code> subclasses).</p></li>\n</ul>\n\n<p>Here is an example of a class written in Scala in two different ways, where the more compact one is about twice as slow:</p>\n\n<pre><code>class Hamming extends Iterator[BigInt] {\n  import scala.collection.mutable.Queue\n  val qs = Seq.fill(3)(new Queue[BigInt])\n  def enqueue(n: BigInt) = qs zip Seq(2, 3, 5) foreach { case (q, m) =&gt; q enqueue n * m }\n  def next = {\n    val n = qs map (_.head) min;\n    qs foreach { q =&gt; if (q.head == n) q.dequeue }\n    enqueue(n)\n    n\n  }\n  def hasNext = true\n  qs foreach (_ enqueue 1)\n}\n\nclass Hamming extends Iterator[BigInt] {\n  import scala.collection.mutable.Queue\n  val q2 = new Queue[BigInt]\n  val q3 = new Queue[BigInt]\n  val q5 = new Queue[BigInt]\n  def enqueue(n: BigInt) = {\n    q2 enqueue n * 2\n    q3 enqueue n * 3\n    q5 enqueue n * 5\n  }\n  def next = {\n    val n = q2.head min q3.head min q5.head\n    if (q2.head == n) q2.dequeue\n    if (q3.head == n) q3.dequeue\n    if (q5.head == n) q5.dequeue\n    enqueue(n)\n    n\n  }\n  def hasNext = true\n  List(q2, q3, q5) foreach (_ enqueue 1)\n}\n</code></pre>\n\n<p>This is also a good example of how it is perfectly possible to balance out performance when required. The faster version uses <code>foreach</code> in the constructor, for instance, where it won't cause performance problems.</p>\n\n<p>In the end, it's all a matter of perspective. Calling methods on objects is slower than calling functions and procedures directly, and that was a major objection to object oriented programming, but it turned out not to be much of a problem most of the time.</p>\n"},{"tags":[],"owner":{"account_id":2892,"reputation":4918,"user_id":4100,"display_name":"Paul de Vrieze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669828940,"creation_date":1271257567,"answer_id":2638504,"question_id":2529736,"body_markdown":"The other answers focus on the specifics of Scala. I&#39;d like to add some points for the generic case. First of all, it is quite doable to write a bytecode generator that produces *[javac][1]*-like code, but from a language that is not Java. This gets harder as the language semantics differ from Java&#39;s semantics. Explicit typing however is not a part of the semantics, only of the syntax (and it has error detection properties).\r\n\r\nPerformance gets lower in the case that types cannot be statically (at compile time) determined, or if the language is dynamic by nature (typing is dynamic like in many scripting languages like [JavaScript][2], [Jython][3], [JRuby][4], etc.). In those cases with the 1.6 JDK you need to do some reflection based dispatching. This is obviously slower and cannot be easily optimized by hotspot / the virtual machine. JDK 1.7 extends invokedynamic, so that it can actually be used to call a function in a dynamic way as supported by scripting languages.\r\n\r\nThe *javac* compiler does not do all that many optimizations (the [JVM][5] does them at runtime), so the Java language maps rather straightforward into Java bytecode. That means that languages with the same semantics have an advantage compared to languages with different semantics. This is a disadvantage of the JVM and a place where the CLR ([.NET][6] runtime) and [LLVM][7] have clear advantages.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Javac\r\n  [2]: https://en.wikipedia.org/wiki/JavaScript\r\n  [3]: https://en.wikipedia.org/wiki/Jython\r\n  [4]: https://en.wikipedia.org/wiki/JRuby\r\n  [5]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [6]: https://en.wikipedia.org/wiki/.NET_Framework\r\n  [7]: https://en.wikipedia.org/wiki/LLVM\r\n\r\n\r\n","title":"Groovy, Scala, and Java under the hood","body":"<p>The other answers focus on the specifics of Scala. I'd like to add some points for the generic case. First of all, it is quite doable to write a bytecode generator that produces <em><a href=\"https://en.wikipedia.org/wiki/Javac\" rel=\"nofollow noreferrer\">javac</a></em>-like code, but from a language that is not Java. This gets harder as the language semantics differ from Java's semantics. Explicit typing however is not a part of the semantics, only of the syntax (and it has error detection properties).</p>\n<p>Performance gets lower in the case that types cannot be statically (at compile time) determined, or if the language is dynamic by nature (typing is dynamic like in many scripting languages like <a href=\"https://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow noreferrer\">JavaScript</a>, <a href=\"https://en.wikipedia.org/wiki/Jython\" rel=\"nofollow noreferrer\">Jython</a>, <a href=\"https://en.wikipedia.org/wiki/JRuby\" rel=\"nofollow noreferrer\">JRuby</a>, etc.). In those cases with the 1.6 JDK you need to do some reflection based dispatching. This is obviously slower and cannot be easily optimized by hotspot / the virtual machine. JDK 1.7 extends invokedynamic, so that it can actually be used to call a function in a dynamic way as supported by scripting languages.</p>\n<p>The <em>javac</em> compiler does not do all that many optimizations (the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> does them at runtime), so the Java language maps rather straightforward into Java bytecode. That means that languages with the same semantics have an advantage compared to languages with different semantics. This is a disadvantage of the JVM and a place where the CLR (<a href=\"https://en.wikipedia.org/wiki/.NET_Framework\" rel=\"nofollow noreferrer\">.NET</a> runtime) and <a href=\"https://en.wikipedia.org/wiki/LLVM\" rel=\"nofollow noreferrer\">LLVM</a> have clear advantages.</p>\n"}],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3477,"favorite_count":0,"down_vote_count":6,"up_vote_count":10,"closed_date":1669787365,"accepted_answer_id":2530284,"answer_count":6,"score":4,"last_activity_date":1669832936,"creation_date":1269702138,"question_id":2529736,"body_markdown":"I used __Java__ for like 6-7 years, but then some months ago I discovered __Groovy__ and started to save a lot of typing... Then I wondered how certain things worked under the hood (because groovy performance is really poor) and understood that to give you _dynamic typing_ every __Groovy__ object is a `MetaClass` object that handles all the things that the JVM couldn&#39;t handle by itself. Of course this introduces a layer in the middle between what you write and what you execute that slows down everything.\r\n\r\nThen some days ago I started getting some information about __Scala__. How do these two languages compare in their byte code translations? How many things do they add to the normal structure that it would be obtained by plain Java code?\r\n\r\nI mean, __Scala__ is _static typed_, so a wrapper of __Java__ classes should be lighter, since many things are checked during compile time, but I&#39;m not sure about the real differences of what&#39;s going inside.\r\n(I&#39;m not talking about the functional aspect of __Scala__ compared to the other ones, that&#39;s a different thing)\r\n\r\nCan someone enlighten me?\r\n\r\nFrom [SyntaxT3rr0r&#39;s comments][1], it seems like that the only way to get less typing and the same performance would be to write an intermediate translator that translates something in __Java__ code (letting *javac* compile it) without altering how things are executed, just adding syntactic sugar without caring about other fallbacks of the language itself.\r\n\r\n  [1]: https://stackoverflow.com/questions/2529736/groovy-scala-java-under-the-hood#comment2528430_2529736\r\n\r\n","title":"Groovy, Scala, and Java under the hood","body":"<p>I used <strong>Java</strong> for like 6-7 years, but then some months ago I discovered <strong>Groovy</strong> and started to save a lot of typing... Then I wondered how certain things worked under the hood (because groovy performance is really poor) and understood that to give you <em>dynamic typing</em> every <strong>Groovy</strong> object is a <code>MetaClass</code> object that handles all the things that the JVM couldn't handle by itself. Of course this introduces a layer in the middle between what you write and what you execute that slows down everything.</p>\n<p>Then some days ago I started getting some information about <strong>Scala</strong>. How do these two languages compare in their byte code translations? How many things do they add to the normal structure that it would be obtained by plain Java code?</p>\n<p>I mean, <strong>Scala</strong> is <em>static typed</em>, so a wrapper of <strong>Java</strong> classes should be lighter, since many things are checked during compile time, but I'm not sure about the real differences of what's going inside.\n(I'm not talking about the functional aspect of <strong>Scala</strong> compared to the other ones, that's a different thing)</p>\n<p>Can someone enlighten me?</p>\n<p>From <a href=\"https://stackoverflow.com/questions/2529736/groovy-scala-java-under-the-hood#comment2528430_2529736\">SyntaxT3rr0r's comments</a>, it seems like that the only way to get less typing and the same performance would be to write an intermediate translator that translates something in <strong>Java</strong> code (letting <em>javac</em> compile it) without altering how things are executed, just adding syntactic sugar without caring about other fallbacks of the language itself.</p>\n"},{"tags":["java","jenkins","build"],"comments":[{"owner":{"account_id":14443980,"reputation":1626,"user_id":10433739,"display_name":"Benjamin Urquhart"},"score":0,"creation_date":1556217257,"post_id":55855589,"comment_id":98372676,"body_markdown":"Possible duplicate of [Failing a jenkins job](https://stackoverflow.com/questions/15650265/failing-a-jenkins-job) ([First answer](https://stackoverflow.com/a/15650672/10433739)) - basically just call `System.exit(anything but zero)`","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/15650265/failing-a-jenkins-job\">Failing a jenkins job</a> (<a href=\"https://stackoverflow.com/a/15650672/10433739\">First answer</a>) - basically just call <code>System.exit(anything but zero)</code>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1556217462,"post_id":55855589,"comment_id":98372759,"body_markdown":"It looks like these are *inside your code being built*, not the control script for the build (which is what you&#39;re linking to). Generally, you set Jenkins builds to fail if any of the tests fail, so just fail your test.","body":"It looks like these are <i>inside your code being built</i>, not the control script for the build (which is what you&#39;re linking to). Generally, you set Jenkins builds to fail if any of the tests fail, so just fail your test."},{"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"score":0,"creation_date":1556217724,"post_id":55855589,"comment_id":98372867,"body_markdown":"@BenjaminUrquhart I wonder if it was this easy `Sytem.exit(-1)` then what these people discussing in these SO posts? PS: I will try your suggestion and accept `That solved my problem`","body":"@BenjaminUrquhart I wonder if it was this easy <code>Sytem.exit(-1)</code> then what these people discussing in these SO posts? PS: I will try your suggestion and accept <code>That solved my problem</code>"}],"answers":[{"tags":[],"owner":{"account_id":15539369,"reputation":240,"user_id":11210661,"display_name":"veekaly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556237389,"creation_date":1556237389,"answer_id":55859134,"question_id":55855589,"body_markdown":"You can use try-catch and throw error at catch to fail the build when there is an error.\r\n\r\n    try {\r\n         // To Do\r\n    } catch(Exception e) {\r\n    \tthrow e\r\n    }\r\n\r\n","title":"Java: how to fail a Jenkins build deliberately?","body":"<p>You can use try-catch and throw error at catch to fail the build when there is an error.</p>\n\n<pre><code>try {\n     // To Do\n} catch(Exception e) {\n    throw e\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1821904,"reputation":730,"user_id":1655780,"display_name":"Steven the Easily Amused"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669832409,"creation_date":1669832409,"answer_id":74632470,"question_id":55855589,"body_markdown":"This is what the &quot;[error](https://www.jenkins.io/doc/pipeline/steps/workflow-basic-steps/#error-error-signal)&quot; step is used for. It can send a message AND it also fails the build. It can be used ANYWHERE, not just in an exception. \r\n\r\nIn fact, if you do not CATCH an exception it should also fail the build.\r\n\r\n```\r\n   try {\r\n        // Your test here \r\n   } catch (Exception e) {\r\n        error(&quot;Something bad happened. Failing this build.&quot;)\r\n   }\r\n```\r\n\r\nWarning: Catching ALL exceptions can cause unexpected behavior. For example catching a user abort exception and NOT rethrowing an exception (or using error) may prevent you from aborting a build.\r\n","title":"Java: how to fail a Jenkins build deliberately?","body":"<p>This is what the &quot;<a href=\"https://www.jenkins.io/doc/pipeline/steps/workflow-basic-steps/#error-error-signal\" rel=\"nofollow noreferrer\">error</a>&quot; step is used for. It can send a message AND it also fails the build. It can be used ANYWHERE, not just in an exception.</p>\n<p>In fact, if you do not CATCH an exception it should also fail the build.</p>\n<pre><code>   try {\n        // Your test here \n   } catch (Exception e) {\n        error(&quot;Something bad happened. Failing this build.&quot;)\n   }\n</code></pre>\n<p>Warning: Catching ALL exceptions can cause unexpected behavior. For example catching a user abort exception and NOT rethrowing an exception (or using error) may prevent you from aborting a build.</p>\n"}],"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669832409,"creation_date":1556217069,"question_id":55855589,"body_markdown":"My test automation scripts have `setup()` and `tearDown()` methods. In my `setup()`, I have few pre-requisites specified which will require by rest of the tests.\r\n\r\nNow, in my `setup()` method I want to specify a function, which will fail the build if condition is not meeting.\r\nE.g. \r\n        \r\n       try {\r\n\t\t\t// To do \r\n\t\t} catch (Exception e) {\r\n              failJenkinsBuild();\r\n\t\t}\r\n\r\nI have gone through couple of solution but none specifies how to do it in Java?\r\n\r\n 1. https://stackoverflow.com/questions/43399899/fail-a-jenkins-build-from-groovy-script\r\n 2. https://stackoverflow.com/questions/42667600/abort-current-build-from-pipeline-in-jenkins\r\n\r\n","title":"Java: how to fail a Jenkins build deliberately?","body":"<p>My test automation scripts have <code>setup()</code> and <code>tearDown()</code> methods. In my <code>setup()</code>, I have few pre-requisites specified which will require by rest of the tests.</p>\n\n<p>Now, in my <code>setup()</code> method I want to specify a function, which will fail the build if condition is not meeting.\nE.g. </p>\n\n<pre><code>   try {\n        // To do \n    } catch (Exception e) {\n          failJenkinsBuild();\n    }\n</code></pre>\n\n<p>I have gone through couple of solution but none specifies how to do it in Java?</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/43399899/fail-a-jenkins-build-from-groovy-script\">Fail a Jenkins build from groovy script</a></li>\n<li><a href=\"https://stackoverflow.com/questions/42667600/abort-current-build-from-pipeline-in-jenkins\">Abort current build from pipeline in Jenkins</a></li>\n</ol>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1547493983,"post_id":54187896,"comment_id":95203932,"body_markdown":"given the arr[i]&lt;arr[j] condition, why are you setting `j=1` each time you run the inner loop, instead of `j=i+1`?","body":"given the arr[i]&lt;arr[j] condition, why are you setting <code>j=1</code> each time you run the inner loop, instead of <code>j=i+1</code>?"},{"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"score":0,"creation_date":1547494062,"post_id":54187896,"comment_id":95203963,"body_markdown":"Isn&#39;t it same as `j=1`, and `i=0`, cos anyhow it will be ahead of the `i`, right @Mike&#39;Pomax&#39;Kamermans?","body":"Isn&#39;t it same as <code>j=1</code>, and <code>i=0</code>, cos anyhow it will be ahead of the <code>i</code>, right @Mike&#39;Pomax&#39;Kamermans?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1547494186,"post_id":54187896,"comment_id":95204024,"body_markdown":"Very much not, and you can verify this by writing out what the following code does, by hand, on some paper or in a text editor or something: `for (i=0; i&lt;3; i++) { for (j=1; j&lt;3; j++)  { print i + &quot;/&quot; + j; }}`. Start with `i=0`, which pairs will you see printed? Then `i` increments, now which pairs will you see printed?","body":"Very much not, and you can verify this by writing out what the following code does, by hand, on some paper or in a text editor or something: <code>for (i=0; i&lt;3; i++) { for (j=1; j&lt;3; j++)  { print i + &quot;&#47;&quot; + j; }}</code>. Start with <code>i=0</code>, which pairs will you see printed? Then <code>i</code> increments, now which pairs will you see printed?"},{"owner":{"account_id":7690023,"reputation":744,"user_id":5826609,"accept_rate":20,"display_name":"Trunk"},"score":1,"creation_date":1547494774,"post_id":54187896,"comment_id":95204280,"body_markdown":"Correction to problem:  . . . find the number of pairs whose sum is divisible by the given number k . . .","body":"Correction to problem:  . . . find the number of pairs whose sum is divisible by the given number k . . ."}],"answers":[{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1547546277,"creation_date":1547494371,"answer_id":54188006,"question_id":54187896,"body_markdown":"I just checked your link and the condition given in the question statement is \r\n\r\n&gt; Find and print the number of (i,j) pairs where i &lt; j  and ar[i] + ar[j] is divisible by k.\r\n\r\nWhich is simply the number of [unordered pairs][1] of elements for which the sum is divisible by k.\r\n\r\nHowever you wrote\r\n\r\n&gt; there is one more condition to it, which is : the **arr[i] &lt; arr[j]** from\r\n&gt; those pairs.\r\n\r\nI seems like you have misread the question. And it explains why the `i&lt;j` condition works whereas `arr[i] &lt; arr[j]` doesn&#39;t.\r\n\r\n---\r\n\r\nNow that you know that you only need the unordered pairs, no need to iterate `j` from `1` to `ar.length`. Since you need `j &gt; i`, every `j` between `1` and `i` (inclusive) is useless. You can simplify your code to:\r\n\r\n    static int divisibleSumPairs(int n, int k, int[] ar) {\r\n        int count = 0;\r\n        for(int i=0; i&lt;ar.length-1; i++){\r\n          for(int j=i+1; j&lt;ar.length; j++){\r\n                if(((ar[i]+ar[j])%k)==0){\r\n                       count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unordered_pair\r\n","title":"Divisible Sum Pairs","body":"<p>I just checked your link and the condition given in the question statement is </p>\n\n<blockquote>\n  <p>Find and print the number of (i,j) pairs where i &lt; j  and ar[i] + ar[j] is divisible by k.</p>\n</blockquote>\n\n<p>Which is simply the number of <a href=\"https://en.wikipedia.org/wiki/Unordered_pair\" rel=\"nofollow noreferrer\">unordered pairs</a> of elements for which the sum is divisible by k.</p>\n\n<p>However you wrote</p>\n\n<blockquote>\n  <p>there is one more condition to it, which is : the <strong>arr[i] &lt; arr[j]</strong> from\n  those pairs.</p>\n</blockquote>\n\n<p>I seems like you have misread the question. And it explains why the <code>i&lt;j</code> condition works whereas <code>arr[i] &lt; arr[j]</code> doesn't.</p>\n\n<hr>\n\n<p>Now that you know that you only need the unordered pairs, no need to iterate <code>j</code> from <code>1</code> to <code>ar.length</code>. Since you need <code>j &gt; i</code>, every <code>j</code> between <code>1</code> and <code>i</code> (inclusive) is useless. You can simplify your code to:</p>\n\n<pre><code>static int divisibleSumPairs(int n, int k, int[] ar) {\n    int count = 0;\n    for(int i=0; i&lt;ar.length-1; i++){\n      for(int j=i+1; j&lt;ar.length; j++){\n            if(((ar[i]+ar[j])%k)==0){\n                   count++;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547553444,"creation_date":1547494865,"answer_id":54188095,"question_id":54187896,"body_markdown":"Wen you do `i = {0 ... 10}` and `j = {1 ... 10}`, then there are (about) 100 cmobinations (of i and j), (about) 50, where i &lt; j and the rest vice versa. So your assumption is wrong, that:\r\n\r\n&gt; it is supposedly giving me a wrong answer\r\n\r\n...it gives you correctly the wrong answer!  ...since when `a[i] + a[j] % k == 0`, then `a[j] + a[i] % k == 0` also!\r\n\r\nIf you don&#39;t include the `if(i &lt; j)`, you count (the occurrence of pairs ..exactly) doubly.\r\n\r\nAn (implementation) alternative would be:\r\n\r\n    for (int i = 0; i &lt; ar.length; i++) {\r\n      // ensure i &lt; j via initialization ;)\r\n      for (int j = i + 1; j &lt; ar.length; j++) {\r\n        if (((ar[i]+ar[j]) % k) == 0) {\r\n          counter++;\r\n        }\r\n      }\r\n    }\r\n\r\n...to initialize the inner loop with `i + 1` instead of `1`.\r\n\r\n\r\n----------\r\nEDIT:(after getting the question better)\r\n\r\nYour assumption, that `a[i] &gt; a[j]` is equivalent with `i &gt; j` OR `j &lt; i`(but not both), is almost correct: except when `a[i] == a[j]`.\r\n\r\n\r\n","title":"Divisible Sum Pairs","body":"<p>Wen you do <code>i = {0 ... 10}</code> and <code>j = {1 ... 10}</code>, then there are (about) 100 cmobinations (of i and j), (about) 50, where i &lt; j and the rest vice versa. So your assumption is wrong, that:</p>\n\n<blockquote>\n  <p>it is supposedly giving me a wrong answer</p>\n</blockquote>\n\n<p>...it gives you correctly the wrong answer!  ...since when <code>a[i] + a[j] % k == 0</code>, then <code>a[j] + a[i] % k == 0</code> also!</p>\n\n<p>If you don't include the <code>if(i &lt; j)</code>, you count (the occurrence of pairs ..exactly) doubly.</p>\n\n<p>An (implementation) alternative would be:</p>\n\n<pre><code>for (int i = 0; i &lt; ar.length; i++) {\n  // ensure i &lt; j via initialization ;)\n  for (int j = i + 1; j &lt; ar.length; j++) {\n    if (((ar[i]+ar[j]) % k) == 0) {\n      counter++;\n    }\n  }\n}\n</code></pre>\n\n<p>...to initialize the inner loop with <code>i + 1</code> instead of <code>1</code>.</p>\n\n<hr>\n\n<p>EDIT:(after getting the question better)</p>\n\n<p>Your assumption, that <code>a[i] &gt; a[j]</code> is equivalent with <code>i &gt; j</code> OR <code>j &lt; i</code>(but not both), is almost correct: except when <code>a[i] == a[j]</code>.</p>\n"},{"tags":[],"owner":{"account_id":15600577,"reputation":97,"user_id":11254826,"display_name":"ALOK VERMA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554536395,"creation_date":1554535196,"answer_id":55546779,"question_id":54187896,"body_markdown":"This solution is using javaScript : \r\n\r\n     divisibleSumPairs (n, k, ar) =&gt; {\r\n      let count = 0;\r\n      ar = ar.map((value, index, arr) =&gt; {\r\n        for (let i = index + 1; i &lt;= arr.length; i++) {\r\n          if ((value + arr[i]) % k === 0) {\r\n            count++;\r\n          }\r\n        }\r\n      });\r\n      return count\r\n    }","title":"Divisible Sum Pairs","body":"<p>This solution is using javaScript : </p>\n\n<pre><code> divisibleSumPairs (n, k, ar) =&gt; {\n  let count = 0;\n  ar = ar.map((value, index, arr) =&gt; {\n    for (let i = index + 1; i &lt;= arr.length; i++) {\n      if ((value + arr[i]) % k === 0) {\n        count++;\n      }\n    }\n  });\n  return count\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16565662,"reputation":1,"user_id":11970322,"display_name":"Neelesh Karthikeyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594563846,"creation_date":1594563846,"answer_id":62862247,"question_id":54187896,"body_markdown":"A solution in Python 3 (Passed all test-cases):\r\n\r\nThe itertools.combinations(arr,r) returns the r length subsequences of elements from the input iterable. Combinations are emitted in lexicographic sort order. So, if the input iterable is sorted, the combination tuples will be produced in sorted order.\r\n\r\n    from itertools import combinations\r\n    \r\n    def divisibleSumPairs(n,ar,k):\r\n        pairs = []\r\n        for com in combinations(ar,2): \r\n            if sum(com) % k == 0:\r\n                pairs.append(com)\r\n        return len(pairs)\r\n    \r\n    \r\n    nk = input().split()\r\n    n = int(nk[0])\r\n    k = int(nk[1])            \r\n    ar = list(map(int, input().rstrip().split()))\r\n    print(divisibleSumPairs(n,ar,k))","title":"Divisible Sum Pairs","body":"<p>A solution in Python 3 (Passed all test-cases):</p>\n<p>The itertools.combinations(arr,r) returns the r length subsequences of elements from the input iterable. Combinations are emitted in lexicographic sort order. So, if the input iterable is sorted, the combination tuples will be produced in sorted order.</p>\n<pre><code>from itertools import combinations\n\ndef divisibleSumPairs(n,ar,k):\n    pairs = []\n    for com in combinations(ar,2): \n        if sum(com) % k == 0:\n            pairs.append(com)\n    return len(pairs)\n\n\nnk = input().split()\nn = int(nk[0])\nk = int(nk[1])            \nar = list(map(int, input().rstrip().split()))\nprint(divisibleSumPairs(n,ar,k))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19914925,"reputation":48,"user_id":14592146,"display_name":"yetgins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604941730,"creation_date":1604941730,"answer_id":64756065,"question_id":54187896,"body_markdown":"That&#39;s my solution in javaScript (Passed all test-cases):\r\n\r\n```\r\nfunction divisibleSumPairs(n, k, ar) {\r\n    let count=0;\r\n    \r\n    for(let i=0; i&lt;n; i++){\r\n        for(let j=0; j&lt;n; j++){\r\n            if(i&lt;j){\r\n              if((ar[i]+ar[j])%k===0) count++; \r\n            }\r\n        }\r\n    }\r\n    return count;\r\n}\r\n```","title":"Divisible Sum Pairs","body":"<p>That's my solution in javaScript (Passed all test-cases):</p>\n<pre><code>function divisibleSumPairs(n, k, ar) {\n    let count=0;\n    \n    for(let i=0; i&lt;n; i++){\n        for(let j=0; j&lt;n; j++){\n            if(i&lt;j){\n              if((ar[i]+ar[j])%k===0) count++; \n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1991742,"reputation":73,"user_id":1785617,"display_name":"lukin155"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665530337,"creation_date":1665530337,"answer_id":74034961,"question_id":54187896,"body_markdown":"If anyone is interested in an O(n) solution, here is my C# solution.\r\n\r\n```cs\r\npublic static int divisibleSumPairs(int n, int k, List&lt;int&gt; ar)\r\n{\r\n\tDictionary&lt;int, int&gt; map = new Dictionary&lt;int, int&gt;();\r\n\tint cnt = 0;\r\n\t\r\n\tforeach (int elem in ar)\r\n\t{\r\n\t\tint modulo = elem % k;\r\n\t\tint complement = modulo == 0 ? 0 : k - modulo;\r\n\t\t\r\n\t\tif (map.ContainsKey(complement))\r\n\t\t{\r\n\t\t\tcnt += map[complement];\r\n\t\t}\r\n\t\t\r\n\t\tif (map.ContainsKey(modulo))\r\n\t\t{\r\n\t\t\t++map[modulo];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tmap.Add(modulo, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn cnt;\r\n}\r\n```","title":"Divisible Sum Pairs","body":"<p>If anyone is interested in an O(n) solution, here is my C# solution.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public static int divisibleSumPairs(int n, int k, List&lt;int&gt; ar)\n{\n    Dictionary&lt;int, int&gt; map = new Dictionary&lt;int, int&gt;();\n    int cnt = 0;\n    \n    foreach (int elem in ar)\n    {\n        int modulo = elem % k;\n        int complement = modulo == 0 ? 0 : k - modulo;\n        \n        if (map.ContainsKey(complement))\n        {\n            cnt += map[complement];\n        }\n        \n        if (map.ContainsKey(modulo))\n        {\n            ++map[modulo];\n        }\n        else\n        {\n            map.Add(modulo, 1);\n        }\n    }\n    \n    return cnt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257657,"reputation":1425,"user_id":539251,"accept_rate":95,"display_name":"BigChief"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667475096,"creation_date":1667475096,"answer_id":74302377,"question_id":54187896,"body_markdown":"    def divisibleSumPairs(n, k, ar):\r\n        result = 0\r\n        d = {}\r\n    \r\n        for i in range(n):\r\n            mod = ar[i] % k\r\n            result += d.get(( k - mod ) % k, 0)\r\n            d[mod] = d.get(mod, 0) + 1\r\n\r\n        return result\r\n\r\nsolution in O(n)","title":"Divisible Sum Pairs","body":"<pre><code>def divisibleSumPairs(n, k, ar):\n    result = 0\n    d = {}\n\n    for i in range(n):\n        mod = ar[i] % k\n        result += d.get(( k - mod ) % k, 0)\n        d[mod] = d.get(mod, 0) + 1\n\n    return result\n</code></pre>\n<p>solution in O(n)</p>\n"},{"tags":[],"owner":{"account_id":25419628,"reputation":357,"user_id":19225883,"display_name":"mohammed gamal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669832197,"creation_date":1669542285,"answer_id":74588960,"question_id":54187896,"body_markdown":"\r\n&gt; **Dart Solution**\r\n\r\n    n = arr.length;\r\n    int numberOfDivisiblePairs = 0;\r\n    for (int i = 0; i &lt; n; i++) {\r\n      for (int j = i + 1; j &lt; n; j++) {\r\n        if ((arr[i] + arr[j]) % k == 0) {\r\n          numberOfDivisiblePairs++;\r\n        }\r\n      }\r\n    }\r\n    return numberOfDivisiblePairs;","title":"Divisible Sum Pairs","body":"<blockquote>\n<p><strong>Dart Solution</strong></p>\n</blockquote>\n<pre><code>n = arr.length;\nint numberOfDivisiblePairs = 0;\nfor (int i = 0; i &lt; n; i++) {\n  for (int j = i + 1; j &lt; n; j++) {\n    if ((arr[i] + arr[j]) % k == 0) {\n      numberOfDivisiblePairs++;\n    }\n  }\n}\nreturn numberOfDivisiblePairs;\n</code></pre>\n"}],"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7033,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":54188006,"answer_count":8,"score":3,"last_activity_date":1669832197,"creation_date":1547493848,"question_id":54187896,"body_markdown":"Though it will be weird to see this question I really need to understand some core concepts while I continue my journey of coding. I have a problem which is on Hackerrank it goes like [DIVISIBLE SUM PAIRS][1]\r\n\r\nI will anyhow give the problem statement here: \r\n\r\n**Problem Statement**\r\n\r\nGiven an array, where we have to find the number of pairs divisible by the given number **k**, and there is one more condition to it, which is : \r\n**the arr[i] &lt; arr[j]** from those pairs. \r\n\r\n**Example**\r\n\r\nFor example,  `ar=[1,2,3,4,5,6]` and `k=5`. Our three pairs meeting the criteria are  `[1,4] [2,3]` and `[4,6]`.\r\n\r\n**Code** \r\n\r\nBefore I publish my code, I would like to tell you that my code has passed all the test cases, and it is accepted to move ahead to the next challenge, but there is a glitch that I&#39;m trying to figure out, which is there in the code. \r\n\r\n    static int divisibleSumPairs(int n, int k, int[] ar) {\r\n        int count = 0;\r\n        for(int i=0; i&lt;ar.length; i++){\r\n          for(int j=i+1; j&lt;ar.length; j++){\r\n                if(((ar[i]+ar[j])%k)==0){\r\n                    if(i &lt; j)\r\n                       count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\nHere when I do this `if(i &lt; j) count++`, it gives me the correct result, but as soon as I do this `if(ar[i] &lt; a[j]) count++`, it supposedly gives me a wrong answer. \r\n\r\nCan anybody help me clear this out, like what is left? Since I know the check `arr[i] &lt; arr[j]` should give the correct result. I don&#39;t want to proceed with the wrong knowledge.\r\n\r\n**EDITS**\r\n\r\nSince I have understood what I was doing wrong. And I have one edit in my code that is **not starting the inner loop with 1**, since it will start off with 1 every time the inner loop finishes, and again runs. I thank everyone who helped me clear this and made my concepts strong enough to deal with the questions like this. \r\n\r\nI personally thank [Mike &#39;Pomax&#39; Kamermans][2], [Ricola][3], and [xerx593][4] for clearing out my doubts and giving me the core concepts of looping through the elements. It will help me in the future, and I won&#39;t repeat that thing again. :)\r\n\r\n\r\n  [1]: https://www.hackerrank.com/challenges/divisible-sum-pairs/problem\r\n  [2]: https://stackoverflow.com/users/740553/mike-pomax-kamermans\r\n  [3]: https://stackoverflow.com/users/7424948/ricola\r\n  [4]: https://stackoverflow.com/users/592355/xerx593","title":"Divisible Sum Pairs","body":"<p>Though it will be weird to see this question I really need to understand some core concepts while I continue my journey of coding. I have a problem which is on Hackerrank it goes like <a href=\"https://www.hackerrank.com/challenges/divisible-sum-pairs/problem\" rel=\"nofollow noreferrer\">DIVISIBLE SUM PAIRS</a></p>\n<p>I will anyhow give the problem statement here:</p>\n<p><strong>Problem Statement</strong></p>\n<p>Given an array, where we have to find the number of pairs divisible by the given number <strong>k</strong>, and there is one more condition to it, which is :\n<strong>the arr[i] &lt; arr[j]</strong> from those pairs.</p>\n<p><strong>Example</strong></p>\n<p>For example,  <code>ar=[1,2,3,4,5,6]</code> and <code>k=5</code>. Our three pairs meeting the criteria are  <code>[1,4] [2,3]</code> and <code>[4,6]</code>.</p>\n<p><strong>Code</strong></p>\n<p>Before I publish my code, I would like to tell you that my code has passed all the test cases, and it is accepted to move ahead to the next challenge, but there is a glitch that I'm trying to figure out, which is there in the code.</p>\n<pre><code>static int divisibleSumPairs(int n, int k, int[] ar) {\n    int count = 0;\n    for(int i=0; i&lt;ar.length; i++){\n      for(int j=i+1; j&lt;ar.length; j++){\n            if(((ar[i]+ar[j])%k)==0){\n                if(i &lt; j)\n                   count++;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Here when I do this <code>if(i &lt; j) count++</code>, it gives me the correct result, but as soon as I do this <code>if(ar[i] &lt; a[j]) count++</code>, it supposedly gives me a wrong answer.</p>\n<p>Can anybody help me clear this out, like what is left? Since I know the check <code>arr[i] &lt; arr[j]</code> should give the correct result. I don't want to proceed with the wrong knowledge.</p>\n<p><strong>EDITS</strong></p>\n<p>Since I have understood what I was doing wrong. And I have one edit in my code that is <strong>not starting the inner loop with 1</strong>, since it will start off with 1 every time the inner loop finishes, and again runs. I thank everyone who helped me clear this and made my concepts strong enough to deal with the questions like this.</p>\n<p>I personally thank <a href=\"https://stackoverflow.com/users/740553/mike-pomax-kamermans\">Mike 'Pomax' Kamermans</a>, <a href=\"https://stackoverflow.com/users/7424948/ricola\">Ricola</a>, and <a href=\"https://stackoverflow.com/users/592355/xerx593\">xerx593</a> for clearing out my doubts and giving me the core concepts of looping through the elements. It will help me in the future, and I won't repeat that thing again. :)</p>\n"},{"tags":["java","junit","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1669831785,"post_id":74632252,"comment_id":131734739,"body_markdown":"Try `assertEquals(&quot;2022-11-30&quot;, getReformatDateMethod().invoke(myService, testDate));`","body":"Try <code>assertEquals(&quot;2022-11-30&quot;, getReformatDateMethod().invoke(myService, testDate));</code>"}],"answers":[{"tags":[],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669832050,"creation_date":1669832050,"answer_id":74632413,"question_id":74632252,"body_markdown":"As per suggestion from Mr. Kuhn, this works:\r\n\r\nassertEquals(&quot;2022-11-30&quot;, getReformatDateMethod().invoke(myService, testDate));","title":"Exception When Invoking Private Method Using Reflection in Junit","body":"<p>As per suggestion from Mr. Kuhn, this works:</p>\n<p>assertEquals(&quot;2022-11-30&quot;, getReformatDateMethod().invoke(myService, testDate));</p>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74632413,"answer_count":1,"score":0,"last_activity_date":1669832050,"creation_date":1669831348,"question_id":74632252,"body_markdown":"I have something like the following class:\r\n\r\n        public class MyService {\r\n\r\n        private static DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&quot;);\r\n\r\n\r\n        private String reformatDate(String date) {\r\n            String localDate = date;\r\n\r\n            if(localDate != null)\r\n                localDate = outputFormatter.format(ZonedDateTime.parse(localDate));\r\n\r\n            return localDate;\r\n        }\r\n\r\n    }\r\n\r\n,and this junit:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    Class MyServiceTest {\r\n\r\n        private static MyService myService = new MyService();\r\n\r\n\r\n        @Test\r\n        void testReformatDate() throws NoSuchMethodException, IllegalAccessException, InvocationTargetException {\r\n            String testDate = &quot;2022-11-30T14:16:19.449Z&quot;;\r\n            assertEquals(&quot;2022-11-30&quot;, getReformatDateMethod().invoke(testDate));\r\n\r\n        }\r\n\r\n        private Method getReformatDateMethod() throws NoSuchMethodException {\r\n            Class[] cArg = new Class[1];\r\n            cArg[0] = String.class;\r\n\r\n            Method method = myService.getClass().getDeclaredMethod(&quot;reformatDate&quot;, cArg);\r\n            method.setAccessible(true);\r\n\r\n            return method;\r\n        }\r\n   }\r\n\r\nWhen the invoke is called, I get this exception:\r\n\r\n    java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat blah.MyServiceTest.testReformatDate(MyServiceTest.java:14)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)","title":"Exception When Invoking Private Method Using Reflection in Junit","body":"<p>I have something like the following class:</p>\n<pre><code>    public class MyService {\n\n    private static DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&quot;);\n\n\n    private String reformatDate(String date) {\n        String localDate = date;\n\n        if(localDate != null)\n            localDate = outputFormatter.format(ZonedDateTime.parse(localDate));\n\n        return localDate;\n    }\n\n}\n</code></pre>\n<p>,and this junit:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport static org.junit.Assert.assertEquals;\n\nClass MyServiceTest {\n\n    private static MyService myService = new MyService();\n\n\n    @Test\n    void testReformatDate() throws NoSuchMethodException, IllegalAccessException, InvocationTargetException {\n        String testDate = &quot;2022-11-30T14:16:19.449Z&quot;;\n        assertEquals(&quot;2022-11-30&quot;, getReformatDateMethod().invoke(testDate));\n\n    }\n\n    private Method getReformatDateMethod() throws NoSuchMethodException {\n        Class[] cArg = new Class[1];\n        cArg[0] = String.class;\n\n        Method method = myService.getClass().getDeclaredMethod(&quot;reformatDate&quot;, cArg);\n        method.setAccessible(true);\n\n        return method;\n    }\n</code></pre>\n<p>}</p>\n<p>When the invoke is called, I get this exception:</p>\n<pre><code>java.lang.IllegalArgumentException: object is not an instance of declaring class\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat blah.MyServiceTest.testReformatDate(MyServiceTest.java:14)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"},{"tags":["java","bouncycastle","public-key"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563345791,"creation_date":1563345791,"answer_id":57069951,"question_id":57043669,"body_markdown":"The simplest way, although it feels rather ugly to me, is to convert the private key &#39;back&#39; to one of OpenSSL&#39;s &#39;legacy&#39; forms, which `PEMParser` is then able to turn into a `PEMKeyPair` with both halves, from which the public can be selected. Otherwise, the method must be tailored depending on the key algorithm aka type, but can be more efficient which I like better. Here are both options for your consideration:\r\n\r\n\r\n\r\n\tpublic static void SO57043669PKCS8_Public_BC (String[] args) throws Exception {\r\n\t\tObject p8e = new PEMParser (new FileReader (args[0])).readObject();\r\n\t\t// for PKCS8-encrypted result is org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo \r\n\t\tPrivateKeyInfo p8i = ((PKCS8EncryptedPrivateKeyInfo)p8e).decryptPrivateKeyInfo(\r\n\t\t\t\tnew JceOpenSSLPKCS8DecryptorProviderBuilder().build(args[1].toCharArray()) );\r\n\t\t// or get org.bouncycastle.asn1.pkcs.PrivateKeyInfo directly from PEMParser for PKCS8-clear\r\n\t\tPublicKey pub = null;\r\n\t\tif( args.length&gt;=3 ){ // the simple way:\r\n\t\t\tPrivateKey prv = new JcaPEMKeyConverter().getPrivateKey(p8i);\r\n\t\t\tPemObject old = new JcaMiscPEMGenerator (prv,null).generate();\r\n\t\t\tStringWriter w1 = new StringWriter(); \r\n\t\t\tPemWriter w2 = new PemWriter(w1);\r\n\t\t\tw2.writeObject(old); w2.close();\r\n\t\t\tObject pair = new PEMParser(new StringReader(w1.toString())).readObject();\r\n\t\t\tpub = new JcaPEMKeyConverter().getKeyPair((PEMKeyPair)pair).getPublic();\r\n\t\t}else{\r\n\t\t\tASN1ObjectIdentifier id = p8i.getPrivateKeyAlgorithm().getAlgorithm();\r\n\t\t\tPKCS8EncodedKeySpec p8s = new PKCS8EncodedKeySpec (p8i.getEncoded());\r\n\t\t\tif( id.equals(PKCSObjectIdentifiers.rsaEncryption) ){\r\n\t\t\t\t// the standard PKCS1 private key format for RSA redundantly includes e\r\n\t\t\t\tKeyFactory rfact = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t\t\t\tRSAPrivateCrtKey rprv = (RSAPrivateCrtKey) rfact.generatePrivate(p8s);\r\n\t\t\t\t// or JcaPEMKeyConverter.getPrivateKey does the same thing\r\n\t\t\t\tpub = /*(RSAPublicKey)*/ rfact.generatePublic(\r\n\t\t\t\t\t\tnew RSAPublicKeySpec (rprv.getModulus(), rprv.getPublicExponent()));\r\n\t\t\t}else if( id.equals(X9ObjectIdentifiers.id_dsa) ){\r\n\t\t\t\t// the apparently ad-hoc format OpenSSL uses for DSA does not include y but it can be computed\r\n\t\t\t\tKeyFactory dfact = KeyFactory.getInstance(&quot;DSA&quot;);\r\n\t\t\t\tDSAPrivateKey dprv = (DSAPrivateKey) dfact.generatePrivate(p8s);\r\n\t\t\t\t// or JcaPEMKeyConverter.getPrivateKey does the same thing\r\n\t\t\t\tBigInteger p = dprv.getParams().getP(), q = dprv.getParams().getQ(), g = dprv.getParams().getG();\r\n\t\t\t\tpub = /*(DSAPublicKey)*/ dfact.generatePublic (\r\n\t\t\t\t\t\tnew DSAPublicKeySpec(g.modPow(dprv.getX(),p), p, q, g) );\r\n\t\t\t\t// warning: naive computation probably vulnerable to sidechannel attack if any  \r\n\t\t\t}else if( id.equals(X9ObjectIdentifiers.id_ecPublicKey) ){\r\n\t\t\t\t// the SECG SEC1 format for EC private key _in PKCS8 by OpenSSL_ \r\n\t\t\t\t// includes []] BITSTR(Q) (but not [0] params which is already in the PKCS8 algid)\r\n\t\t\t\torg.bouncycastle.asn1.sec.ECPrivateKey eprv = org.bouncycastle.asn1.sec.ECPrivateKey.getInstance(p8i.parsePrivateKey());\r\n\t\t\t\tbyte[] eenc = new SubjectPublicKeyInfo (p8i.getPrivateKeyAlgorithm(), eprv.getPublicKey().getOctets()).getEncoded(); \r\n\t\t\t\tKeyFactory efact = KeyFactory.getInstance(&quot;EC&quot;);\r\n\t\t\t\tpub = /*(ECPublicKey)*/ KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new X509EncodedKeySpec(eenc));\r\n\t\t\t\t//}else if maybe others ...\r\n\t\t\t}else throw new Exception (&quot;unknown private key OID &quot; + id);\r\n\t\t}\r\n\t\tSystem.out.println (pub.getAlgorithm() + &quot; &quot; + pub.getClass().getName());\r\n\t}\r\n","title":"Bouncy Castle - how to get Public Key Info from JceOpenSSLPKCS8DecryptorProviderBuilder","body":"<p>The simplest way, although it feels rather ugly to me, is to convert the private key 'back' to one of OpenSSL's 'legacy' forms, which <code>PEMParser</code> is then able to turn into a <code>PEMKeyPair</code> with both halves, from which the public can be selected. Otherwise, the method must be tailored depending on the key algorithm aka type, but can be more efficient which I like better. Here are both options for your consideration:</p>\n\n<pre><code>public static void SO57043669PKCS8_Public_BC (String[] args) throws Exception {\n    Object p8e = new PEMParser (new FileReader (args[0])).readObject();\n    // for PKCS8-encrypted result is org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo \n    PrivateKeyInfo p8i = ((PKCS8EncryptedPrivateKeyInfo)p8e).decryptPrivateKeyInfo(\n            new JceOpenSSLPKCS8DecryptorProviderBuilder().build(args[1].toCharArray()) );\n    // or get org.bouncycastle.asn1.pkcs.PrivateKeyInfo directly from PEMParser for PKCS8-clear\n    PublicKey pub = null;\n    if( args.length&gt;=3 ){ // the simple way:\n        PrivateKey prv = new JcaPEMKeyConverter().getPrivateKey(p8i);\n        PemObject old = new JcaMiscPEMGenerator (prv,null).generate();\n        StringWriter w1 = new StringWriter(); \n        PemWriter w2 = new PemWriter(w1);\n        w2.writeObject(old); w2.close();\n        Object pair = new PEMParser(new StringReader(w1.toString())).readObject();\n        pub = new JcaPEMKeyConverter().getKeyPair((PEMKeyPair)pair).getPublic();\n    }else{\n        ASN1ObjectIdentifier id = p8i.getPrivateKeyAlgorithm().getAlgorithm();\n        PKCS8EncodedKeySpec p8s = new PKCS8EncodedKeySpec (p8i.getEncoded());\n        if( id.equals(PKCSObjectIdentifiers.rsaEncryption) ){\n            // the standard PKCS1 private key format for RSA redundantly includes e\n            KeyFactory rfact = KeyFactory.getInstance(\"RSA\");\n            RSAPrivateCrtKey rprv = (RSAPrivateCrtKey) rfact.generatePrivate(p8s);\n            // or JcaPEMKeyConverter.getPrivateKey does the same thing\n            pub = /*(RSAPublicKey)*/ rfact.generatePublic(\n                    new RSAPublicKeySpec (rprv.getModulus(), rprv.getPublicExponent()));\n        }else if( id.equals(X9ObjectIdentifiers.id_dsa) ){\n            // the apparently ad-hoc format OpenSSL uses for DSA does not include y but it can be computed\n            KeyFactory dfact = KeyFactory.getInstance(\"DSA\");\n            DSAPrivateKey dprv = (DSAPrivateKey) dfact.generatePrivate(p8s);\n            // or JcaPEMKeyConverter.getPrivateKey does the same thing\n            BigInteger p = dprv.getParams().getP(), q = dprv.getParams().getQ(), g = dprv.getParams().getG();\n            pub = /*(DSAPublicKey)*/ dfact.generatePublic (\n                    new DSAPublicKeySpec(g.modPow(dprv.getX(),p), p, q, g) );\n            // warning: naive computation probably vulnerable to sidechannel attack if any  \n        }else if( id.equals(X9ObjectIdentifiers.id_ecPublicKey) ){\n            // the SECG SEC1 format for EC private key _in PKCS8 by OpenSSL_ \n            // includes []] BITSTR(Q) (but not [0] params which is already in the PKCS8 algid)\n            org.bouncycastle.asn1.sec.ECPrivateKey eprv = org.bouncycastle.asn1.sec.ECPrivateKey.getInstance(p8i.parsePrivateKey());\n            byte[] eenc = new SubjectPublicKeyInfo (p8i.getPrivateKeyAlgorithm(), eprv.getPublicKey().getOctets()).getEncoded(); \n            KeyFactory efact = KeyFactory.getInstance(\"EC\");\n            pub = /*(ECPublicKey)*/ KeyFactory.getInstance(\"EC\").generatePublic(new X509EncodedKeySpec(eenc));\n            //}else if maybe others ...\n        }else throw new Exception (\"unknown private key OID \" + id);\n    }\n    System.out.println (pub.getAlgorithm() + \" \" + pub.getClass().getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":531541,"reputation":5194,"user_id":1449683,"accept_rate":44,"display_name":"squirrel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669831747,"creation_date":1602408027,"answer_id":64302425,"question_id":57043669,"body_markdown":"In addition to the other answer, here&#39;s a way to convert Ed25519 private keys to public keys. \r\n\r\nEdit: As @tytk notes in the comments, given a `BCEdDSAPrivateKey`, you can just call `getPublicKey()`. I am not entirely sure if it&#39;s possible to obtain a private `EdDSAKey` that wouldn&#39;t be `BCEdDSAPrivateKey`, using BC or otherwise, but just in case I&#39;m leaving an alternative codepath that works.\r\n\r\n```kotlin\r\nprivate val bouncyCastleProvider = BouncyCastleProvider()\r\nprivate val pkcs8pemKeyConverter = JcaPEMKeyConverter().setProvider(bouncyCastleProvider)\r\n\r\nfun makeKeyPair(keyReader: Reader, passphrase: CharArray): KeyPair {\r\n    var obj = PEMParser(keyReader).readObject()\r\n    ...\r\n    if (obj is PrivateKeyInfo) {\r\n        val privateKey = pkcs8pemKeyConverter.getPrivateKey(obj)\r\n\r\n        when (privateKey) {\r\n            is BCEdDSAPrivateKey -&gt; return KeyPair(privateKey.publicKey, privateKey)\r\n            is EdDSAKey -&gt; return KeyPair(genEd25519publicKey(privateKey, obj), privateKey)\r\n        }\r\n        ...\r\n    }\r\n    ...\r\n}\r\n\r\nprivate fun genEd25519publicKey(privateKey: EdDSAKey, privateKeyInfo: PrivateKeyInfo): PublicKey {\r\n    val privateKeyRaw = ASN1OctetString.getInstance(privateKeyInfo.parsePrivateKey()).octets\r\n    val privateKeyParameters = Ed25519PrivateKeyParameters(privateKeyRaw)\r\n    val publicKeyParameters = privateKeyParameters.generatePublicKey()\r\n    val spi = SubjectPublicKeyInfo(privateKeyInfo.privateKeyAlgorithm, publicKeyParameters.encoded)\r\n    val factory = KeyFactory.getInstance(privateKey.algorithm, bouncyCastleProvider)\r\n    return factory.generatePublic(X509EncodedKeySpec(spi.encoded))\r\n}\r\n\r\n```","title":"Bouncy Castle - how to get Public Key Info from JceOpenSSLPKCS8DecryptorProviderBuilder","body":"<p>In addition to the other answer, here's a way to convert Ed25519 private keys to public keys.</p>\n<p>Edit: As @tytk notes in the comments, given a <code>BCEdDSAPrivateKey</code>, you can just call <code>getPublicKey()</code>. I am not entirely sure if it's possible to obtain a private <code>EdDSAKey</code> that wouldn't be <code>BCEdDSAPrivateKey</code>, using BC or otherwise, but just in case I'm leaving an alternative codepath that works.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val bouncyCastleProvider = BouncyCastleProvider()\nprivate val pkcs8pemKeyConverter = JcaPEMKeyConverter().setProvider(bouncyCastleProvider)\n\nfun makeKeyPair(keyReader: Reader, passphrase: CharArray): KeyPair {\n    var obj = PEMParser(keyReader).readObject()\n    ...\n    if (obj is PrivateKeyInfo) {\n        val privateKey = pkcs8pemKeyConverter.getPrivateKey(obj)\n\n        when (privateKey) {\n            is BCEdDSAPrivateKey -&gt; return KeyPair(privateKey.publicKey, privateKey)\n            is EdDSAKey -&gt; return KeyPair(genEd25519publicKey(privateKey, obj), privateKey)\n        }\n        ...\n    }\n    ...\n}\n\nprivate fun genEd25519publicKey(privateKey: EdDSAKey, privateKeyInfo: PrivateKeyInfo): PublicKey {\n    val privateKeyRaw = ASN1OctetString.getInstance(privateKeyInfo.parsePrivateKey()).octets\n    val privateKeyParameters = Ed25519PrivateKeyParameters(privateKeyRaw)\n    val publicKeyParameters = privateKeyParameters.generatePublicKey()\n    val spi = SubjectPublicKeyInfo(privateKeyInfo.privateKeyAlgorithm, publicKeyParameters.encoded)\n    val factory = KeyFactory.getInstance(privateKey.algorithm, bouncyCastleProvider)\n    return factory.generatePublic(X509EncodedKeySpec(spi.encoded))\n}\n\n</code></pre>\n"}],"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1669831747,"creation_date":1563207436,"question_id":57043669,"body_markdown":"\r\nI have the following code to extract Private Key\r\n\r\n        PEMParser parser = new PEMParser(new InputStreamReader(new ByteArrayInputStream(decoded)));\r\n        Object object = parser.readObject();\r\n        PEMDecryptorProvider provider = new JcePEMDecryptorProviderBuilder()\r\n                .build(props.getProperty(KeytoolFlags.KEYPASS.name()).toCharArray());\r\n\r\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n        if (object instanceof PEMEncryptedKeyPair) {\r\n            KeyPair pair = converter.getKeyPair(((PEMEncryptedKeyPair) object).decryptKeyPair(provider));\r\n            return loadPublic ? pair.getPublic() : pair.getPrivate();\r\n        } else if (object instanceof PEMKeyPair) {\r\n            return loadPublic ? converter.getPublicKey(((PEMKeyPair) (object)).getPublicKeyInfo())\r\n                    : converter.getPrivateKey(((PEMKeyPair) (object)).getPrivateKeyInfo());\r\n        } else {\r\n            InputDecryptorProvider p2 = new JceOpenSSLPKCS8DecryptorProviderBuilder()\r\n                    .setProvider(BouncyCastleProvider.PROVIDER_NAME)\r\n                    .build(props.getProperty(KeytoolFlags.KEYPASS.name()).toCharArray());\r\n            return converter.getPrivateKey(((PKCS8EncryptedPrivateKeyInfo) object).decryptPrivateKeyInfo(p2));\r\n        }\r\n\r\nI would like to get the Public Key from converter when it&#39;s `JceOpenSSLPKCS8DecryptorProviderBuilder`. Is there any way?\r\n\r\nThanks,\r\n","title":"Bouncy Castle - how to get Public Key Info from JceOpenSSLPKCS8DecryptorProviderBuilder","body":"<p>I have the following code to extract Private Key</p>\n\n<pre><code>    PEMParser parser = new PEMParser(new InputStreamReader(new ByteArrayInputStream(decoded)));\n    Object object = parser.readObject();\n    PEMDecryptorProvider provider = new JcePEMDecryptorProviderBuilder()\n            .build(props.getProperty(KeytoolFlags.KEYPASS.name()).toCharArray());\n\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(BouncyCastleProvider.PROVIDER_NAME);\n    if (object instanceof PEMEncryptedKeyPair) {\n        KeyPair pair = converter.getKeyPair(((PEMEncryptedKeyPair) object).decryptKeyPair(provider));\n        return loadPublic ? pair.getPublic() : pair.getPrivate();\n    } else if (object instanceof PEMKeyPair) {\n        return loadPublic ? converter.getPublicKey(((PEMKeyPair) (object)).getPublicKeyInfo())\n                : converter.getPrivateKey(((PEMKeyPair) (object)).getPrivateKeyInfo());\n    } else {\n        InputDecryptorProvider p2 = new JceOpenSSLPKCS8DecryptorProviderBuilder()\n                .setProvider(BouncyCastleProvider.PROVIDER_NAME)\n                .build(props.getProperty(KeytoolFlags.KEYPASS.name()).toCharArray());\n        return converter.getPrivateKey(((PKCS8EncryptedPrivateKeyInfo) object).decryptPrivateKeyInfo(p2));\n    }\n</code></pre>\n\n<p>I would like to get the Public Key from converter when it's <code>JceOpenSSLPKCS8DecryptorProviderBuilder</code>. Is there any way?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","server","udp","netty"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668529704,"post_id":74447677,"comment_id":131425345,"body_markdown":"Read the Help pages before posting here. Your Question is explicitly off-topic.","body":"Read the Help pages before posting here. Your Question is explicitly off-topic."},{"owner":{"account_id":6372433,"reputation":194,"user_id":4944495,"display_name":"Nikita"},"score":0,"creation_date":1669471841,"post_id":74447677,"comment_id":131650331,"body_markdown":"I&#39;ve read some examples in the book &quot;Netty in actions&quot; regarding UDP. BTW, I&#39;m going to build the small game on the same technologies (libgdx and Netty) :) But maybe I will take golang instead of Netty (I use Netty at my work), idk.","body":"I&#39;ve read some examples in the book &quot;Netty in actions&quot; regarding UDP. BTW, I&#39;m going to build the small game on the same technologies (libgdx and Netty) :) But maybe I will take golang instead of Netty (I use Netty at my work), idk."},{"owner":{"account_id":6372433,"reputation":194,"user_id":4944495,"display_name":"Nikita"},"score":0,"creation_date":1669472169,"post_id":74447677,"comment_id":131650383,"body_markdown":"And, as far as I know, you have to use the same Netty API (for UDP, TCP or even synchronious TCP - it doesn&#39;t matter), so basically you have to change server&#39;s channel type only (in Bootstrap) from `.channel(NioServerSocketChannel.class)` to `NioDatagramChannel`, maybe Netty API will a little bit different (but not much).","body":"And, as far as I know, you have to use the same Netty API (for UDP, TCP or even synchronious TCP - it doesn&#39;t matter), so basically you have to change server&#39;s channel type only (in Bootstrap) from <code>.channel(NioServerSocketChannel.class)</code> to <code>NioDatagramChannel</code>, maybe Netty API will a little bit different (but not much)."}],"answers":[{"tags":[],"owner":{"account_id":5962218,"reputation":91,"user_id":4687036,"display_name":"Ilker Ike kucuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669831745,"creation_date":1669831745,"answer_id":74632339,"question_id":74447677,"body_markdown":"I recommend using a higher level framework for your project, such as Vert.X, Micronout, Quarkus, gRPC Java etc. These frameworks are implemented on top of Netty and makes it easier to use Netty. I also recommend you to keep it simple, go with TPC if that is easier. Choose simplicity and implementation speed over performance at the early stages of these kinds of projects. ","title":"are there any good tutorials/guides for UDP servers with netty?","body":"<p>I recommend using a higher level framework for your project, such as Vert.X, Micronout, Quarkus, gRPC Java etc. These frameworks are implemented on top of Netty and makes it easier to use Netty. I also recommend you to keep it simple, go with TPC if that is easier. Choose simplicity and implementation speed over performance at the early stages of these kinds of projects.</p>\n"}],"owner":{"account_id":16783330,"reputation":15,"user_id":12132971,"display_name":"TraversingOnTarget"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74632339,"answer_count":1,"score":0,"last_activity_date":1669831745,"creation_date":1668524012,"question_id":74447677,"body_markdown":"I am trying to implement a Gameserver for my libgdx (java) game. I decided to go for UDP because it might not matter if a keystroke packet gets lost when there are 60 send per second. I read through the guide on the netty page but to me it seems like a TCP guide. So is there any guide for a UDP server? I would identify the sender by a UUID, so I don&#39;t need a channel context (TCP) I guess?! Is this the way to go? Thx in advance","title":"are there any good tutorials/guides for UDP servers with netty?","body":"<p>I am trying to implement a Gameserver for my libgdx (java) game. I decided to go for UDP because it might not matter if a keystroke packet gets lost when there are 60 send per second. I read through the guide on the netty page but to me it seems like a TCP guide. So is there any guide for a UDP server? I would identify the sender by a UUID, so I don't need a channel context (TCP) I guess?! Is this the way to go? Thx in advance</p>\n"},{"tags":["java","spring","spring-boot","api","csv"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669831533,"post_id":74632240,"comment_id":131734654,"body_markdown":"Post text, not images.","body":"Post text, not images."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669831407,"creation_date":1669831407,"answer_id":74632264,"question_id":74632240,"body_markdown":"As the exception says:\r\n\r\nThere is no enum value &quot;backoffice&quot; in `EOrganiacao`","title":"Whenever I try to generate a CSV I get a &quot;No enum constant&quot; exception, does anyone have an idea what it could be?","body":"<p>As the exception says:</p>\n<p>There is no enum value &quot;backoffice&quot; in <code>EOrganiacao</code></p>\n"}],"owner":{"account_id":24548379,"reputation":11,"user_id":18457853,"display_name":"Marcos Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74632264,"answer_count":1,"score":0,"last_activity_date":1669831407,"creation_date":1669831271,"question_id":74632240,"body_markdown":"Error that appears in the picture:[![enter image description here](https://i.stack.imgur.com/BPK95.jpg)](https://i.stack.imgur.com/BPK95.jpg)\r\n\r\nFrom what I noticed the error seems to be in the &quot;toCsv&quot; method.\r\nwhenever I use debug it stops at &quot;obterCsv&quot;, but I&#39;m not sure why it throws an exception.\r\n\r\nMy code:\r\n- Controller:\r\n`\r\n```\r\n@GetMapping(&quot;exportar-csv&quot;)\r\npublic void exportCsv(@Validated TratativaFiltros filtros, HttpServletResponse response) {\r\n    service.exportarCsv(response, filtros);\r\n}\r\n```\r\n`\r\n\r\n- Service:\r\n`\r\n```\r\nprivate List&lt;TratativaResponse&gt; searchForFiltroAndOrder(TratativaFiltros filtros) {\r\n    var sort = SortBuilders.fieldSort(&quot;protocolo&quot;).order(SortOrder.DESC);\r\n    var predicate = filtros.toElasticPredicate();\r\n    filtrarPorNivelPermissao(predicate, filtros);\r\n    var tratativas = repository.findAll(sort, predicate.build());\r\n\r\n    return tratativas.stream()\r\n        .map(tratativa -&gt; TratativaResponse.of(tratativa))\r\n        .collect(Collectors.toList());\r\n}\r\n\r\npublic void exportarCsv(HttpServletResponse response, TratativaFiltros filtros) {\r\n\r\n    CsvUtils.setCsvNoHttpResponse(\r\n        TratativaResponseCsv.getCsv(searchForFiltroAndOrder(filtros)),\r\n        CsvUtils.createFileName(&quot;TRATATIVAS&quot;),\r\n        response);\r\n}\r\n```\r\n`\r\n\r\n- Response:\r\n`\r\n```\r\npublic static String getCsv(List&lt;TratativaResponse&gt; tratativa) {\r\n    return getCabecalhoCsv()\r\n        .concat(getLinhasCsv(tratativa));\r\n}\r\n```\r\n```\r\n@JsonIgnore\r\npublic static String getCabecalhoCsv() {\r\n    return &quot;\\uFEFF&quot;\r\n        .concat(&quot;PROTOCOLO;&quot;)\r\n        .concat(&quot;\\r\\n&quot;);\r\n}\r\n```\r\n\r\n```\r\n@JsonIgnore\r\nprivate static String getLinhasCsv(List&lt;TratativaResponse&gt; tratativa) {\r\n    return !CollectionUtils.isEmpty(tratativa)\r\n        ? tratativa.stream()\r\n        .map(TratativaResponseCsv::of)\r\n        .map(TratativaResponseCsv::obterCsv)\r\n        .collect(Collectors.joining(&quot;\\n&quot;))\r\n        : &quot;Registros n&#227;o encontrados.\\n&quot;;\r\n}\r\n```\r\n\r\n```\r\npublic static TratativaResponseCsv of(TratativaResponse response) {\r\n    var responseCsv = new TratativaResponseCsv();\r\n    BeanUtils.copyProperties(response, responseCsv);\r\n    return responseCsv;\r\n}\r\n```\r\n\r\n```\r\n@JsonIgnore\r\npublic String[] toCsv() {\r\n    return Stream.of(\r\n        protocolo)\r\n        .map(CsvUtils::replaceCaracteres)\r\n        .toArray(String[]::new);\r\n}\r\n```\r\n\r\n```\r\n@JsonIgnore\r\npublic String obterCsv() {\r\n    return Arrays.stream(toCsv()).collect(Collectors.joining(&quot;;&quot;));\r\n}\r\n```\r\n`","title":"Whenever I try to generate a CSV I get a &quot;No enum constant&quot; exception, does anyone have an idea what it could be?","body":"<p>Error that appears in the picture:<a href=\"https://i.stack.imgur.com/BPK95.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPK95.jpg\" alt=\"enter image description here\" /></a></p>\n<p>From what I noticed the error seems to be in the &quot;toCsv&quot; method.\nwhenever I use debug it stops at &quot;obterCsv&quot;, but I'm not sure why it throws an exception.</p>\n<p>My code:</p>\n<ul>\n<li>Controller:\n`</li>\n</ul>\n<pre><code>@GetMapping(&quot;exportar-csv&quot;)\npublic void exportCsv(@Validated TratativaFiltros filtros, HttpServletResponse response) {\n    service.exportarCsv(response, filtros);\n}\n</code></pre>\n<p>`</p>\n<ul>\n<li>Service:\n`</li>\n</ul>\n<pre><code>private List&lt;TratativaResponse&gt; searchForFiltroAndOrder(TratativaFiltros filtros) {\n    var sort = SortBuilders.fieldSort(&quot;protocolo&quot;).order(SortOrder.DESC);\n    var predicate = filtros.toElasticPredicate();\n    filtrarPorNivelPermissao(predicate, filtros);\n    var tratativas = repository.findAll(sort, predicate.build());\n\n    return tratativas.stream()\n        .map(tratativa -&gt; TratativaResponse.of(tratativa))\n        .collect(Collectors.toList());\n}\n\npublic void exportarCsv(HttpServletResponse response, TratativaFiltros filtros) {\n\n    CsvUtils.setCsvNoHttpResponse(\n        TratativaResponseCsv.getCsv(searchForFiltroAndOrder(filtros)),\n        CsvUtils.createFileName(&quot;TRATATIVAS&quot;),\n        response);\n}\n</code></pre>\n<p>`</p>\n<ul>\n<li>Response:\n`</li>\n</ul>\n<pre><code>public static String getCsv(List&lt;TratativaResponse&gt; tratativa) {\n    return getCabecalhoCsv()\n        .concat(getLinhasCsv(tratativa));\n}\n</code></pre>\n<pre><code>@JsonIgnore\npublic static String getCabecalhoCsv() {\n    return &quot;\\uFEFF&quot;\n        .concat(&quot;PROTOCOLO;&quot;)\n        .concat(&quot;\\r\\n&quot;);\n}\n</code></pre>\n<pre><code>@JsonIgnore\nprivate static String getLinhasCsv(List&lt;TratativaResponse&gt; tratativa) {\n    return !CollectionUtils.isEmpty(tratativa)\n        ? tratativa.stream()\n        .map(TratativaResponseCsv::of)\n        .map(TratativaResponseCsv::obterCsv)\n        .collect(Collectors.joining(&quot;\\n&quot;))\n        : &quot;Registros não encontrados.\\n&quot;;\n}\n</code></pre>\n<pre><code>public static TratativaResponseCsv of(TratativaResponse response) {\n    var responseCsv = new TratativaResponseCsv();\n    BeanUtils.copyProperties(response, responseCsv);\n    return responseCsv;\n}\n</code></pre>\n<pre><code>@JsonIgnore\npublic String[] toCsv() {\n    return Stream.of(\n        protocolo)\n        .map(CsvUtils::replaceCaracteres)\n        .toArray(String[]::new);\n}\n</code></pre>\n<pre><code>@JsonIgnore\npublic String obterCsv() {\n    return Arrays.stream(toCsv()).collect(Collectors.joining(&quot;;&quot;));\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","servlets","open-liberty"],"comments":[{"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"score":0,"creation_date":1669818995,"post_id":74626682,"comment_id":131729884,"body_markdown":"@ScottKurz basically (and maybe this is my mistake) I am going through a series of tutorials on openLiberty. And this is like my 7th. Hence yes, in other packages i do have and use RESTful and `jakarta.ws.rs.core.Application`. The tutorial also has REST and the servlet..see for example `@ApplicationPath(&quot;/&quot;)\npublic class CarApplication extends Application {}`.","body":"@ScottKurz basically (and maybe this is my mistake) I am going through a series of tutorials on openLiberty. And this is like my 7th. Hence yes, in other packages i do have and use RESTful and <code>jakarta.ws.rs.core.Application</code>. The tutorial also has REST and the servlet..see for example <code>@ApplicationPath(&quot;&#47;&quot;) public class CarApplication extends Application {}</code>."},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1669826886,"post_id":74626682,"comment_id":131733096,"body_markdown":"I deleted my comment ... I was looking at the wrong sample/guide.   I actually see a different problem with the sample you mentioned... I get an empty page in the browser, but no error.","body":"I deleted my comment ... I was looking at the wrong sample/guide.   I actually see a different problem with the sample you mentioned... I get an empty page in the browser, but no error."}],"answers":[{"tags":[],"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669828656,"creation_date":1669828656,"answer_id":74631731,"question_id":74626682,"body_markdown":"So I tried Scott&#39;s idea, and commented out all @ApplicationPath annotations that I had in my codebase, with the exception of 1, which was needed, because the js part of the example needed to access an endpoint for data. After doing these changes all seems to be ok. \r\n\r\nBottom line is be careful not to have more than 1 @ApplicationPath in your codebase when using servlets ?","title":"Servlet code is reached but does not find the html file","body":"<p>So I tried Scott's idea, and commented out all @ApplicationPath annotations that I had in my codebase, with the exception of 1, which was needed, because the js part of the example needed to access an endpoint for data. After doing these changes all seems to be ok.</p>\n<p>Bottom line is be careful not to have more than 1 @ApplicationPath in your codebase when using servlets ?</p>\n"},{"tags":[],"owner":{"account_id":6520758,"reputation":156,"user_id":5045086,"display_name":"pmdinh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669831251,"creation_date":1669831251,"answer_id":74632236,"question_id":74626682,"body_markdown":"I tried this from the pure servlet perspective to see if it work.\r\n\r\nA simple JSP_Forward starting page to a static file (should be the same as your servlet landing page).  \r\n\r\nstarting page is at the root of the application (/). \r\nindex.html is also at the root\r\n/html/500.html is a sub folder with 500.html \r\n\r\nrequest.getRequestDispatcher(&quot;/index.html&quot;).forward(request,response);\r\nrequest.getRequestDispatcher(&quot;index.html&quot;).forward(request,response);\r\n\r\nrequest.getRequestDispatcher(&quot;/html/500.html&quot;).forward(request,response);\r\n\r\nI get 200 with the correct content for all the above request.\r\n\r\nCan you directly request to /carInventory.html or any static file in your app? If you get 404 for the static request, verify that file-serving-enable configure is allowed.\r\n\r\n","title":"Servlet code is reached but does not find the html file","body":"<p>I tried this from the pure servlet perspective to see if it work.</p>\n<p>A simple JSP_Forward starting page to a static file (should be the same as your servlet landing page).</p>\n<p>starting page is at the root of the application (/).\nindex.html is also at the root\n/html/500.html is a sub folder with 500.html</p>\n<p>request.getRequestDispatcher(&quot;/index.html&quot;).forward(request,response);\nrequest.getRequestDispatcher(&quot;index.html&quot;).forward(request,response);</p>\n<p>request.getRequestDispatcher(&quot;/html/500.html&quot;).forward(request,response);</p>\n<p>I get 200 with the correct content for all the above request.</p>\n<p>Can you directly request to /carInventory.html or any static file in your app? If you get 404 for the static request, verify that file-serving-enable configure is allowed.</p>\n"}],"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74631731,"answer_count":2,"score":1,"last_activity_date":1669831251,"creation_date":1669806014,"question_id":74626682,"body_markdown":"I am following this tutorial:\r\nhttps://openliberty.io/guides/microprofile-config-intro.html\r\n\r\nI have the following servlet :\r\n\r\n    import jakarta.servlet.RequestDispatcher;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @WebServlet(urlPatterns=&quot;/car-types&quot;)\r\n    public class InventoryServlet extends HttpServlet {\r\n    \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\r\n        {\r\n            System.out.println(&quot;Inside the /cat-types servlet preparing to respond with carInventory.html&quot;);\r\n            RequestDispatcher view = request.getRequestDispatcher(&quot;carInventory.html&quot;);\r\n            view.forward(request, response);\r\n        }\r\n    \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            doGet(request, response);\r\n        }\r\n    }\r\n\r\nMy webapp folder contains inside the file carInventory.html, however when I access in the browser the link I get the following message: `RESTEASY003210: Could not find resource for full path: http://localhost:9080/OpenLibertyExperiments/carInventory.html`\r\n\r\nThe system.out message from the doGet message is seen in the server logs, so the servlet is reached corectly, but the html file is not found...this is what I understand from the error.\r\n\r\nThis is what features i defined to use:\r\n  \r\n\r\n      &lt;featureManager&gt;\r\n            &lt;feature&gt;servlet-5.0&lt;/feature&gt;\r\n            &lt;feature&gt;restfulWS-3.0&lt;/feature&gt;\r\n            &lt;feature&gt;jsonp-2.0&lt;/feature&gt;\r\n            &lt;feature&gt;jsonb-2.0&lt;/feature&gt;\r\n            &lt;feature&gt;cdi-3.0&lt;/feature&gt;\r\n    \r\n            &lt;feature&gt;mpConfig-3.0&lt;/feature&gt;\r\n            &lt;feature&gt;mpRestClient-3.0&lt;/feature&gt;\r\n    \r\n            &lt;feature&gt;mpOpenAPI-3.0&lt;/feature&gt;\r\n        &lt;/featureManager&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YeqnP.png\r\n\r\n\r\nAny ideas on what could it be ? ","title":"Servlet code is reached but does not find the html file","body":"<p>I am following this tutorial:\n<a href=\"https://openliberty.io/guides/microprofile-config-intro.html\" rel=\"nofollow noreferrer\">https://openliberty.io/guides/microprofile-config-intro.html</a></p>\n<p>I have the following servlet :</p>\n<pre><code>import jakarta.servlet.RequestDispatcher;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\n\n@WebServlet(urlPatterns=&quot;/car-types&quot;)\npublic class InventoryServlet extends HttpServlet {\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n    {\n        System.out.println(&quot;Inside the /cat-types servlet preparing to respond with carInventory.html&quot;);\n        RequestDispatcher view = request.getRequestDispatcher(&quot;carInventory.html&quot;);\n        view.forward(request, response);\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doGet(request, response);\n    }\n}\n</code></pre>\n<p>My webapp folder contains inside the file carInventory.html, however when I access in the browser the link I get the following message: <code>RESTEASY003210: Could not find resource for full path: http://localhost:9080/OpenLibertyExperiments/carInventory.html</code></p>\n<p>The system.out message from the doGet message is seen in the server logs, so the servlet is reached corectly, but the html file is not found...this is what I understand from the error.</p>\n<p>This is what features i defined to use:</p>\n<pre><code>  &lt;featureManager&gt;\n        &lt;feature&gt;servlet-5.0&lt;/feature&gt;\n        &lt;feature&gt;restfulWS-3.0&lt;/feature&gt;\n        &lt;feature&gt;jsonp-2.0&lt;/feature&gt;\n        &lt;feature&gt;jsonb-2.0&lt;/feature&gt;\n        &lt;feature&gt;cdi-3.0&lt;/feature&gt;\n\n        &lt;feature&gt;mpConfig-3.0&lt;/feature&gt;\n        &lt;feature&gt;mpRestClient-3.0&lt;/feature&gt;\n\n        &lt;feature&gt;mpOpenAPI-3.0&lt;/feature&gt;\n    &lt;/featureManager&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YeqnP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YeqnP.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas on what could it be ?</p>\n"},{"tags":["java","timer","jframe","jlabel"],"comments":[{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":1,"creation_date":1669817457,"post_id":74628989,"comment_id":131729172,"body_markdown":"what does `it kinda starts acting weirdly` means?","body":"what does <code>it kinda starts acting weirdly</code> means?"},{"owner":{"account_id":25644711,"reputation":11,"user_id":19412969,"display_name":"CODERZ"},"score":0,"creation_date":1669817609,"post_id":74628989,"comment_id":131729251,"body_markdown":"the timer doesn&#39;t work properly like working for less period of time","body":"the timer doesn&#39;t work properly like working for less period of time"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669819617,"post_id":74628989,"comment_id":131730140,"body_markdown":"“doesn’t work properly” is not information we can use.  What behavior, exactly, are you seeing?","body":"“doesn’t work properly” is not information we can use.  What behavior, exactly, are you seeing?"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669831002,"creation_date":1669830600,"answer_id":74632093,"question_id":74628989,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) section.\r\n\r\nWe don&#39;t make a `JLabel` disappear.  We change the text of the `JLabel` to blank.\r\n\r\nI created a simple GUI to demonstrate how to use Swing `Timers`.  \r\n\r\n[![Start][1]][1]\r\n\r\nAfter you press the &quot;Display&quot; `JButton`, the following text is displayed.\r\n\r\n[![See][2]][2]\r\n\r\nAfter 2.5 seconds, the following text is displayed.\r\n\r\n[![Don&#39;t][3]][3]\r\n\r\nAfter 2.5 seconds, the text is cleared.\r\n\r\nThe &quot;trick&quot; is setting a `boolean` in the original `ButtonListener` that causes the `actionPerformed` method to ignore repeated `JButton` presses.  The entire process runs from start to finish no matter how many times you press the `JButton` while the process is running.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional class an inner class so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class DisappearingJLabelGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new DisappearingJLabelGUI());\r\n    \t}\r\n    \r\n    \tprivate JLabel textLabel;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Disappearing JLabel GUI&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\ttextLabel = new JLabel(&quot; &quot;);\r\n    \t\tpanel.add(textLabel);\r\n    \r\n    \t\tJButton button = new JButton(&quot;Display&quot;);\r\n    \t\tbutton.addActionListener(new ButtonListener());\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tpublic class ButtonListener implements ActionListener {\r\n    \r\n    \t\tprivate boolean isRunning;\r\n    \r\n    \t\tpublic ButtonListener() {\r\n    \t\t\tthis.isRunning = false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tif (!isRunning) {\r\n    \t\t\t\tisRunning = true;\r\n    \t\t\t\ttextLabel.setText(&quot;Now, you see it.&quot;);\r\n    \t\t\t\tTimer timer = new Timer(2500, new ActionListener() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\t\tTimer timer = (Timer) event.getSource();\r\n    \t\t\t\t\t\ttimer.stop();\r\n    \t\t\t\t\t\ttextLabel.setText(&quot;Now, you don&#39;t.&quot;);\r\n    \t\t\t\t\t\ttimer = new Timer(2500, new ActionListener() {\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\t\t\t\tTimer timer = (Timer) event.getSource();\r\n    \t\t\t\t\t\t\t\ttimer.stop();\r\n    \t\t\t\t\t\t\t\ttextLabel.setText(&quot; &quot;);\r\n    \t\t\t\t\t\t\t\tisRunning = false;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t});\r\n    \t\t\t\t\t\ttimer.start();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\ttimer.start();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/81DqF.png\r\n  [2]: https://i.stack.imgur.com/imCcU.png\r\n  [3]: https://i.stack.imgur.com/TNcME.png\r\n\r\n","title":"Make a JLabel disappear after a few seconds in java","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> section.</p>\n<p>We don't make a <code>JLabel</code> disappear.  We change the text of the <code>JLabel</code> to blank.</p>\n<p>I created a simple GUI to demonstrate how to use Swing <code>Timers</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/81DqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81DqF.png\" alt=\"Start\" /></a></p>\n<p>After you press the &quot;Display&quot; <code>JButton</code>, the following text is displayed.</p>\n<p><a href=\"https://i.stack.imgur.com/imCcU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/imCcU.png\" alt=\"See\" /></a></p>\n<p>After 2.5 seconds, the following text is displayed.</p>\n<p><a href=\"https://i.stack.imgur.com/TNcME.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNcME.png\" alt=\"Don't\" /></a></p>\n<p>After 2.5 seconds, the text is cleared.</p>\n<p>The &quot;trick&quot; is setting a <code>boolean</code> in the original <code>ButtonListener</code> that causes the <code>actionPerformed</code> method to ignore repeated <code>JButton</code> presses.  The entire process runs from start to finish no matter how many times you press the <code>JButton</code> while the process is running.</p>\n<p>Here's the complete runnable code.  I made the additional class an inner class so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class DisappearingJLabelGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new DisappearingJLabelGUI());\n    }\n\n    private JLabel textLabel;\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Disappearing JLabel GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        textLabel = new JLabel(&quot; &quot;);\n        panel.add(textLabel);\n\n        JButton button = new JButton(&quot;Display&quot;);\n        button.addActionListener(new ButtonListener());\n        panel.add(button);\n\n        return panel;\n    }\n\n    public class ButtonListener implements ActionListener {\n\n        private boolean isRunning;\n\n        public ButtonListener() {\n            this.isRunning = false;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            if (!isRunning) {\n                isRunning = true;\n                textLabel.setText(&quot;Now, you see it.&quot;);\n                Timer timer = new Timer(2500, new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent event) {\n                        Timer timer = (Timer) event.getSource();\n                        timer.stop();\n                        textLabel.setText(&quot;Now, you don't.&quot;);\n                        timer = new Timer(2500, new ActionListener() {\n                            @Override\n                            public void actionPerformed(ActionEvent event) {\n                                Timer timer = (Timer) event.getSource();\n                                timer.stop();\n                                textLabel.setText(&quot; &quot;);\n                                isRunning = false;\n                            }\n                        });\n                        timer.start();\n                    }\n                });\n                timer.start();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25644711,"reputation":11,"user_id":19412969,"display_name":"CODERZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669831002,"creation_date":1669816702,"question_id":74628989,"body_markdown":"So I want to make some kind of a JLabel that will appear and disappear after a few seconds once certain components are clicked. I used Swing Timer.\r\nHere is my method which is handling this JLabel\r\n`\r\n```\r\npublic void Clicked(String dialog) {\r\n\t\tif(isStarted == true) { //Checking if any other component is clicked\r\n\t\t\tdialogue.setText(dialog);// setting text to the label which is the method argument\r\n\t\t}\r\n\t\tisStarted = false;\r\n\t     t = new Timer(2500,new ActionListener() {\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tdialogue.setText(&quot;&quot;);// disappearing the label after 2.5 seconds\r\n\t\t}\r\n\t\t\r\n\t});\r\n\t     t.start();\r\n\t     t.setRepeats(false);\r\n\tisStarted = true;\r\n\t}\r\n```\r\n` \r\n\r\nIt actually works fine but when I click 2 components at once, it kinda starts acting weirdly.","title":"Make a JLabel disappear after a few seconds in java","body":"<p>So I want to make some kind of a JLabel that will appear and disappear after a few seconds once certain components are clicked. I used Swing Timer.\nHere is my method which is handling this JLabel\n`</p>\n<pre><code>public void Clicked(String dialog) {\n        if(isStarted == true) { //Checking if any other component is clicked\n            dialogue.setText(dialog);// setting text to the label which is the method argument\n        }\n        isStarted = false;\n         t = new Timer(2500,new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n                dialogue.setText(&quot;&quot;);// disappearing the label after 2.5 seconds\n        }\n        \n    });\n         t.start();\n         t.setRepeats(false);\n    isStarted = true;\n    }\n</code></pre>\n<p>`</p>\n<p>It actually works fine but when I click 2 components at once, it kinda starts acting weirdly.</p>\n"},{"tags":["java","android","splash-screen"],"comments":[{"owner":{"account_id":10371,"reputation":2966,"user_id":19547,"display_name":"keno"},"score":0,"creation_date":1445278213,"post_id":33220608,"comment_id":54246530,"body_markdown":"You can think about this a little differently. In your check for their logged in state, if they are logged in, show/hide your desired layout elements that would give the splash effect and keep your Handler as is. If they are not logged in, then launch the next Activity in your flow and `finish()` the current activity to dismiss it.","body":"You can think about this a little differently. In your check for their logged in state, if they are logged in, show/hide your desired layout elements that would give the splash effect and keep your Handler as is. If they are not logged in, then launch the next Activity in your flow and <code>finish()</code> the current activity to dismiss it."}],"answers":[{"tags":[],"owner":{"account_id":4242865,"reputation":1667,"user_id":3472305,"accept_rate":53,"display_name":"JonathanNet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445284411,"creation_date":1445284411,"answer_id":33222758,"question_id":33220608,"body_markdown":"I Fixed it my self this this code here:\r\n\r\n    public class SplashScreen extends Activity {\r\n\r\n    // Splash screen timer\r\n    private static int SPLASH_TIME_OUT = 3000;\r\n    private SessionManager session;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        // Session manager\r\n        session = new SessionManager(getApplicationContext());\r\n\r\n        // Check if user is already logged in or not\r\n        if (session.isLoggedIn()) {\r\n            // User is already logged in. Take him to main activity\r\n\r\n            Intent i = new Intent(SplashScreen.this, MainActivity.class);\r\n            startActivity(i);\r\n\r\n            // close this activity\r\n            finish();\r\n\r\n        } else {\r\n\r\n            setContentView(R.layout.splash_screen);\r\n            new Handler().postDelayed(new Runnable() {\r\n\r\n\t\t\t/*\r\n\t\t\t * Showing splash screen with a timer. This will be useful when you\r\n\t\t\t * want to show case your app logo / company\r\n\t\t\t */\r\n\r\n                @Override\r\n                public void run() {\r\n\r\n                    Intent i = new Intent(SplashScreen.this, LoginActivity.class);\r\n                    startActivity(i);\r\n\r\n                    // close this activity\r\n                    finish();\r\n                }\r\n            }, SPLASH_TIME_OUT);\r\n        }\r\n    }\r\n    }","title":"android splash screen timer plugin","body":"<p>I Fixed it my self this this code here:</p>\n\n<pre><code>public class SplashScreen extends Activity {\n\n// Splash screen timer\nprivate static int SPLASH_TIME_OUT = 3000;\nprivate SessionManager session;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // Session manager\n    session = new SessionManager(getApplicationContext());\n\n    // Check if user is already logged in or not\n    if (session.isLoggedIn()) {\n        // User is already logged in. Take him to main activity\n\n        Intent i = new Intent(SplashScreen.this, MainActivity.class);\n        startActivity(i);\n\n        // close this activity\n        finish();\n\n    } else {\n\n        setContentView(R.layout.splash_screen);\n        new Handler().postDelayed(new Runnable() {\n\n        /*\n         * Showing splash screen with a timer. This will be useful when you\n         * want to show case your app logo / company\n         */\n\n            @Override\n            public void run() {\n\n                Intent i = new Intent(SplashScreen.this, LoginActivity.class);\n                startActivity(i);\n\n                // close this activity\n                finish();\n            }\n        }, SPLASH_TIME_OUT);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":4242865,"reputation":1667,"user_id":3472305,"accept_rate":53,"display_name":"JonathanNet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":33222758,"answer_count":1,"score":-4,"last_activity_date":1669829981,"creation_date":1445276343,"question_id":33220608,"body_markdown":"I am new into developing android app, and I am trying to check if session is logged in, If the user is loggedin, It should not show the splash screen, but it the user is not loggedin, it should show the splash screen for 3 seconds. (Using code from http://web.archive.org/web/20130712051340/http://www.androidhive.info/2013/07/how-to-implement-android-splash-screen-2/)\r\n\r\nBut the Splash screen is showing all the time, so I think I done it wrong with the If/Else thing, hope someone can help me with that :)\r\n\r\n\r\n    public class SplashScreen extends Activity {\r\n    \r\n        // Splash screen timer\r\n        private static int SPLASH_TIME_OUT = 3000;\r\n        private SessionManager session;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            // Session manager\r\n            session = new SessionManager(getApplicationContext());\r\n    \r\n            // Check if user is already logged in or not\r\n            if (session.isLoggedIn()) {\r\n                // User is already logged in. Take him to main activity\r\n                new Handler().postDelayed(new Runnable() {\r\n    \r\n    \t\t\t/*\r\n    \t\t\t * Showing splash screen with a timer. This will be useful when you\r\n    \t\t\t * want to show case your app logo / company\r\n    \t\t\t */\r\n    \r\n                    @Override\r\n                    public void run() {\r\n                        // This method will be executed once the timer is over\r\n                        // Start your app login activity\r\n                        Intent i = new Intent(SplashScreen.this, LoginActivity.class);\r\n                        startActivity(i);\r\n    \r\n                        // close this activity\r\n                        finish();\r\n                    }\r\n                }, SPLASH_TIME_OUT); } else {\r\n                setContentView(R.layout.splash_screen);\r\n            }\r\n    \r\n        }\r\n    }","title":"android splash screen timer plugin","body":"<p>I am new into developing android app, and I am trying to check if session is logged in, If the user is loggedin, It should not show the splash screen, but it the user is not loggedin, it should show the splash screen for 3 seconds. (Using code from <a href=\"http://web.archive.org/web/20130712051340/http://www.androidhive.info/2013/07/how-to-implement-android-splash-screen-2/\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20130712051340/http://www.androidhive.info/2013/07/how-to-implement-android-splash-screen-2/</a>)</p>\n<p>But the Splash screen is showing all the time, so I think I done it wrong with the If/Else thing, hope someone can help me with that :)</p>\n<pre><code>public class SplashScreen extends Activity {\n\n    // Splash screen timer\n    private static int SPLASH_TIME_OUT = 3000;\n    private SessionManager session;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Session manager\n        session = new SessionManager(getApplicationContext());\n\n        // Check if user is already logged in or not\n        if (session.isLoggedIn()) {\n            // User is already logged in. Take him to main activity\n            new Handler().postDelayed(new Runnable() {\n\n            /*\n             * Showing splash screen with a timer. This will be useful when you\n             * want to show case your app logo / company\n             */\n\n                @Override\n                public void run() {\n                    // This method will be executed once the timer is over\n                    // Start your app login activity\n                    Intent i = new Intent(SplashScreen.this, LoginActivity.class);\n                    startActivity(i);\n\n                    // close this activity\n                    finish();\n                }\n            }, SPLASH_TIME_OUT); } else {\n            setContentView(R.layout.splash_screen);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous","completable-future","openfeign"],"answers":[{"tags":[],"owner":{"account_id":3319229,"reputation":445,"user_id":2790801,"accept_rate":76,"display_name":"b.lopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669829892,"creation_date":1669829892,"answer_id":74631963,"question_id":74616003,"body_markdown":"Managed to solve it like this:\r\n\r\n     @Async\r\n    public CompletableFuture&lt;UserAccountInfo&gt; getAccountInfo(String token)   {\r\n        try {\r\n            System.out.println(\r\n                    &quot;Current Thread account Name: &quot;\r\n                            + Thread.currentThread().getName());\r\n            Thread.currentThread().sleep(3000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return    CompletableFuture.completedFuture(accountClient.findAccountInfo(token).getBody());\r\n    }\r\n\r\nThe same for the userInfo service. Then on the controller:\r\n\r\n    CompletableFuture&lt;UserAccountInfo&gt; userAccountInfo = accountService.getAccountInfo(token);\r\n           CompletableFuture&lt;UserInfo&gt; userInfo = userService.getUserInfo(token);\r\n\r\n           Optional&lt;UserAccountResponse&gt; userAccountResponse = userAccountService.getAccountInfo(\r\n                   userAccountInfo.get(),userInfo.get()\r\n           );\r\n\r\nSo that means both services will start running each in a new thread while the main thread continues ran until find the first .get().\r\n\r\nBy doing it like that the maximum waiting time to finish is the time of the thread that takes more time and not the sum of both as it happens if it is a synchronous.\r\n\r\nThanks! \r\n","title":"Async call of a FeignClient Springboot with CompletableFuture","body":"<p>Managed to solve it like this:</p>\n<pre><code> @Async\npublic CompletableFuture&lt;UserAccountInfo&gt; getAccountInfo(String token)   {\n    try {\n        System.out.println(\n                &quot;Current Thread account Name: &quot;\n                        + Thread.currentThread().getName());\n        Thread.currentThread().sleep(3000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    return    CompletableFuture.completedFuture(accountClient.findAccountInfo(token).getBody());\n}\n</code></pre>\n<p>The same for the userInfo service. Then on the controller:</p>\n<pre><code>CompletableFuture&lt;UserAccountInfo&gt; userAccountInfo = accountService.getAccountInfo(token);\n       CompletableFuture&lt;UserInfo&gt; userInfo = userService.getUserInfo(token);\n\n       Optional&lt;UserAccountResponse&gt; userAccountResponse = userAccountService.getAccountInfo(\n               userAccountInfo.get(),userInfo.get()\n       );\n</code></pre>\n<p>So that means both services will start running each in a new thread while the main thread continues ran until find the first .get().</p>\n<p>By doing it like that the maximum waiting time to finish is the time of the thread that takes more time and not the sum of both as it happens if it is a synchronous.</p>\n<p>Thanks!</p>\n"}],"owner":{"account_id":3319229,"reputation":445,"user_id":2790801,"accept_rate":76,"display_name":"b.lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3826,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669829892,"creation_date":1669733877,"question_id":74616003,"body_markdown":"I want to call async rest endpoints with Feign client and have done the below changes.\r\n\r\nWhen calling it the CompletableFuture.get() doesn&#39;t complete.\r\n\r\nThe while keeps looping...\r\n\r\n    while(!combinedFuture.isDone()) { log.info(&quot;useraccount - waiting for combinedFuture 2: &quot; + request.toString()); }\r\n\r\nInterface to call the API:\r\n\r\n    @FeignClient(value = &quot;clientUser&quot;, url = &quot;http://localhost:8898/springboot&quot;, fallback = UserFallback.class)\r\n    public interface User {\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/user/&quot;, produces = &quot;application/json&quot;)\r\n    @Async\r\n    CompletableFuture&lt;UserInfo&gt; findUserInfo(@RequestHeader(value = &quot;Authorization&quot;, required = true) String authorizationHeader);\r\n    }\r\n\r\nController method:\r\n\r\n    @PostMapping(value = &quot;/springboot/useraccount/&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; userAccount(@requestbody @Valid AuthRequest request) {\r\n    log.info(&quot;useraccount - request received with request body: &quot; + request.toString());\r\n    try {\r\n\r\n       if (Strings.isBlank(request.getUsername()) || Strings.isBlank(request.getPassword())) {\r\n           throw new BadRequestException(&quot;invalid username or password&quot;);\r\n       }\r\n\r\n       String token = authorisationService.obtainAuthToken(request.getUsername(), request.getPassword());\r\n\r\n       CompletableFuture&lt;UserInfo&gt; userInfo = clientUser.findUserInfo(token);\r\n\r\n       CompletableFuture&lt;UserAccountInfo&gt; userAccountInfo = clientAccount.findAccountInfo(token);\r\n\r\n       CompletableFuture&lt;Void&gt; combinedFuture\r\n               = CompletableFuture.allOf(userInfo, userAccountInfo);\r\n\r\n       while(!combinedFuture.isDone()) {\r\n           log.info(&quot;useraccount - waiting for combinedFuture 2: &quot; + request.toString());\r\n       }\r\n       Optional&lt;UserAccountResponse&gt; userAccountResponse = userAccountService.getAccountInfo(\r\n               userAccountInfo.get(), userInfo.get()\r\n       );\r\n\r\n\r\n       if (userAccountResponse.isEmpty()) {\r\n           throw new BadCredentialsException(&quot;Bad Credentials&quot;);\r\n       }\r\n\r\n       return ResponseEntity.ok().body(userAccountResponse);\r\n       } catch (BadCredentialsException | UnAuthorizedException ex) {\r\n       return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n       } catch (BadRequestException ex) {\r\n       return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n       } catch (ExecutionException e) {\r\n       return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n       } catch (InterruptedException e) {\r\n       return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n       }\r\n    }\r\n\r\n(update) Have changed a bit to use CompletableFuture.supplyAsync\r\n\r\nbut now the object is always null...\r\n\r\n[![using CompletableFuture.supplyAsync][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mchpV.png\r\n\r\n\r\n    @Service\r\n    public class AccountService {\r\n\r\n    @Autowired\r\n    Account accountClient;\r\n\r\n    @Async\r\n    public Optional&lt;UserAccountInfo&gt; getAccountInfo(String token) {\r\n        return Optional.of(accountClient.findAccountInfo(token));\r\n    }\r\n\r\n    }","title":"Async call of a FeignClient Springboot with CompletableFuture","body":"<p>I want to call async rest endpoints with Feign client and have done the below changes.</p>\n<p>When calling it the CompletableFuture.get() doesn't complete.</p>\n<p>The while keeps looping...</p>\n<pre><code>while(!combinedFuture.isDone()) { log.info(&quot;useraccount - waiting for combinedFuture 2: &quot; + request.toString()); }\n</code></pre>\n<p>Interface to call the API:</p>\n<pre><code>@FeignClient(value = &quot;clientUser&quot;, url = &quot;http://localhost:8898/springboot&quot;, fallback = UserFallback.class)\npublic interface User {\n\n@RequestMapping(method = RequestMethod.GET, value = &quot;/user/&quot;, produces = &quot;application/json&quot;)\n@Async\nCompletableFuture&lt;UserInfo&gt; findUserInfo(@RequestHeader(value = &quot;Authorization&quot;, required = true) String authorizationHeader);\n}\n</code></pre>\n<p>Controller method:</p>\n<pre><code>@PostMapping(value = &quot;/springboot/useraccount/&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;?&gt; userAccount(@requestbody @Valid AuthRequest request) {\nlog.info(&quot;useraccount - request received with request body: &quot; + request.toString());\ntry {\n\n   if (Strings.isBlank(request.getUsername()) || Strings.isBlank(request.getPassword())) {\n       throw new BadRequestException(&quot;invalid username or password&quot;);\n   }\n\n   String token = authorisationService.obtainAuthToken(request.getUsername(), request.getPassword());\n\n   CompletableFuture&lt;UserInfo&gt; userInfo = clientUser.findUserInfo(token);\n\n   CompletableFuture&lt;UserAccountInfo&gt; userAccountInfo = clientAccount.findAccountInfo(token);\n\n   CompletableFuture&lt;Void&gt; combinedFuture\n           = CompletableFuture.allOf(userInfo, userAccountInfo);\n\n   while(!combinedFuture.isDone()) {\n       log.info(&quot;useraccount - waiting for combinedFuture 2: &quot; + request.toString());\n   }\n   Optional&lt;UserAccountResponse&gt; userAccountResponse = userAccountService.getAccountInfo(\n           userAccountInfo.get(), userInfo.get()\n   );\n\n\n   if (userAccountResponse.isEmpty()) {\n       throw new BadCredentialsException(&quot;Bad Credentials&quot;);\n   }\n\n   return ResponseEntity.ok().body(userAccountResponse);\n   } catch (BadCredentialsException | UnAuthorizedException ex) {\n   return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n   } catch (BadRequestException ex) {\n   return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n   } catch (ExecutionException e) {\n   return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n   } catch (InterruptedException e) {\n   return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n   }\n}\n</code></pre>\n<p>(update) Have changed a bit to use CompletableFuture.supplyAsync</p>\n<p>but now the object is always null...</p>\n<p><a href=\"https://i.stack.imgur.com/mchpV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mchpV.png\" alt=\"using CompletableFuture.supplyAsync\" /></a></p>\n<pre><code>@Service\npublic class AccountService {\n\n@Autowired\nAccount accountClient;\n\n@Async\npublic Optional&lt;UserAccountInfo&gt; getAccountInfo(String token) {\n    return Optional.of(accountClient.findAccountInfo(token));\n}\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":203,"is_accepted":true,"score":203,"last_activity_date":1592308514,"creation_date":1462457854,"answer_id":37053004,"question_id":37052857,"body_markdown":"You can pass in individual properties as command-line arguments. For example, if you wanted to set `server.port`, you could do the following when launching an executable jar:\r\n\r\n    java -jar your-app.jar --server.port=8081\r\n\r\nAlternatively, if you&#39;re using `mvn spring-boot:run` with Spring boot 2.x:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8081&quot;\r\n\r\nOr, if you&#39;re using Spring Boot 1.x:\r\n\r\n    mvn spring-boot:run -Drun.arguments=&quot;--server.port=8081&quot;\r\n\r\nYou can also configure the arguments for `spring-boot:run` in your application&#39;s `pom.xml` so they don&#39;t have to be specified on the command line every time:\r\n\r\n   \t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t\t&lt;argument&gt;--server.port=8085&lt;/argument&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"Spring: overriding one application.property from command line","body":"<p>You can pass in individual properties as command-line arguments. For example, if you wanted to set <code>server.port</code>, you could do the following when launching an executable jar:</p>\n\n<pre><code>java -jar your-app.jar --server.port=8081\n</code></pre>\n\n<p>Alternatively, if you're using <code>mvn spring-boot:run</code> with Spring boot 2.x:</p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.arguments=\"--server.port=8081\"\n</code></pre>\n\n<p>Or, if you're using Spring Boot 1.x:</p>\n\n<pre><code>mvn spring-boot:run -Drun.arguments=\"--server.port=8081\"\n</code></pre>\n\n<p>You can also configure the arguments for <code>spring-boot:run</code> in your application's <code>pom.xml</code> so they don't have to be specified on the command line every time:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;arguments&gt;\n            &lt;argument&gt;--server.port=8085&lt;/argument&gt;\n        &lt;/arguments&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1566495101,"creation_date":1566495101,"answer_id":57614423,"question_id":37052857,"body_markdown":"To update a little things, the Spring boot 1.X Maven plugin relies on the `--Drun.arguments` Maven user property but the Spring Boot 2.X Maven plugin relies on the `-Dspring-boot.run.arguments` Maven user property.   \r\n\r\nSo for Spring 2, you need to do : \r\n\r\n    mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8081&quot;\r\n\r\nAnd if you need to pass multiple arguments, you have to use `,` as separator and never use whitespace between arguments : \r\n\r\n    mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8081,--foo=bar&quot;\r\n\r\nAbout the the maven plugin configuration and the way of passing the argument from a fat jar, it didn&#39;t change.  \r\nSo the very good Andy Wilkinson answer is still right.  \r\n","title":"Spring: overriding one application.property from command line","body":"<p>To update a little things, the Spring boot 1.X Maven plugin relies on the <code>--Drun.arguments</code> Maven user property but the Spring Boot 2.X Maven plugin relies on the <code>-Dspring-boot.run.arguments</code> Maven user property.   </p>\n\n<p>So for Spring 2, you need to do : </p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.arguments=\"--server.port=8081\"\n</code></pre>\n\n<p>And if you need to pass multiple arguments, you have to use <code>,</code> as separator and never use whitespace between arguments : </p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.arguments=\"--server.port=8081,--foo=bar\"\n</code></pre>\n\n<p>About the the maven plugin configuration and the way of passing the argument from a fat jar, it didn't change.<br>\nSo the very good Andy Wilkinson answer is still right.  </p>\n"},{"tags":[],"owner":{"account_id":17743531,"reputation":11,"user_id":12883276,"display_name":"Durgesh Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581490809,"creation_date":1581485999,"answer_id":60181819,"question_id":37052857,"body_markdown":"In Spring Boot we have provision to override properties as below\r\n\r\n```mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8082```","title":"Spring: overriding one application.property from command line","body":"<p>In Spring Boot we have provision to override properties as below</p>\n\n<p><code>mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8082</code></p>\n"},{"tags":[],"owner":{"account_id":18835265,"reputation":177,"user_id":13738076,"display_name":"Vielen Danke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1592111553,"creation_date":1592111553,"answer_id":62368593,"question_id":37052857,"body_markdown":"If not working with comma, to override some custom properties or spring boot properties in multiple mode, use whitespace instead of comma, like this code bellow:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8899 --your.custom.property=custom&quot;\r\n\r\n","title":"Spring: overriding one application.property from command line","body":"<p>If not working with comma, to override some custom properties or spring boot properties in multiple mode, use whitespace instead of comma, like this code bellow:</p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.arguments=\"--server.port=8899 --your.custom.property=custom\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1592308623,"creation_date":1592308623,"answer_id":62407880,"question_id":37052857,"body_markdown":"Quick update:\r\n\r\nif you are  using the  latest versions of  spring-boot 2.X  and maven 3.X, the below  command  line will override  your server port:\r\n\r\n    java -jar -Dserver.port=9999   your_jar_file.jar\r\n\r\n\r\n","title":"Spring: overriding one application.property from command line","body":"<p>Quick update:</p>\n\n<p>if you are  using the  latest versions of  spring-boot 2.X  and maven 3.X, the below  command  line will override  your server port:</p>\n\n<pre><code>java -jar -Dserver.port=9999   your_jar_file.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1602904115,"creation_date":1602904115,"answer_id":64398635,"question_id":37052857,"body_markdown":"You can set an environment variable to orverride the properties. For example, you have an property name `test.props=1` . If you have an environment variable `TEST_PROPS` spring boot will automatically override it.\r\n```\r\nexport TEST_PROPS=2\r\nmvn spring-boot:run\r\n```\r\n\r\nYou can also create a json string with all the properties you need to override and pass it with `-Dspring.application.json` or export the json with `SPRING_APPLICATION_JSON`.\r\n```\r\nmvn spring-boot:run -Dspring.application.json=&#39;{&quot;test.props&quot;:&quot;2&quot;}&#39;\r\n```\r\n\r\nOr just pass the properties with -Dtest.props=2\r\n```\r\nmvn spring-boot:run -Dtest.props=2\r\n```\r\nTested on spring boot `2.1.17` and maven `3.6.3`","title":"Spring: overriding one application.property from command line","body":"<p>You can set an environment variable to orverride the properties. For example, you have an property name <code>test.props=1</code> . If you have an environment variable <code>TEST_PROPS</code> spring boot will automatically override it.</p>\n<pre><code>export TEST_PROPS=2\nmvn spring-boot:run\n</code></pre>\n<p>You can also create a json string with all the properties you need to override and pass it with <code>-Dspring.application.json</code> or export the json with <code>SPRING_APPLICATION_JSON</code>.</p>\n<pre><code>mvn spring-boot:run -Dspring.application.json='{&quot;test.props&quot;:&quot;2&quot;}'\n</code></pre>\n<p>Or just pass the properties with -Dtest.props=2</p>\n<pre><code>mvn spring-boot:run -Dtest.props=2\n</code></pre>\n<p>Tested on spring boot <code>2.1.17</code> and maven <code>3.6.3</code></p>\n"},{"tags":[],"owner":{"account_id":20506220,"reputation":1455,"user_id":15048947,"display_name":"Md. Shahariar Hossen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647931924,"creation_date":1647931924,"answer_id":71567944,"question_id":37052857,"body_markdown":"**Running by Gradle:**\r\n - **Run in default port(8080):** `./gradlew bootRun`\r\n - **Run in provided port(8888):** `./gradlew bootRun --args=&#39;--server.port=8888&#39;`\r\n - If we have any variable in the `application.properties` file named `PORT`, run this: `PORT=8888 ./gradlew bootRun`\r\n \r\n\r\n**Running by Maven:**\r\n - **Run in default port(8080):** `mvnw spring-boot:run`\r\n - **Run in provided port(8888):** `mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&#39;-Dserver.port=8085&#39;`\r\n - **Run in provided port(8888):** `mvn spring-boot:run -Dspring-boot.run.arguments=&#39;--server.port=8085&#39;`\r\n - **Run in provided port(8888) with other custom property:** `mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8899 --your.custom.property=custom&quot;`\r\n - If we have any variable in the `application.properties` file named `PORT`, run this: `SERVER_PORT=9093 mvn spring-boot:run`\r\n \r\n\r\n\r\n**Using `java -jar`:**\r\n- **Create the .jar file:**\r\n\t- For Gradle: `./gradlew clean build`. We will find the jar file inside: `build/libs/` folder.\r\n\t- For Maven: `mvn clean install`. We will find the jar file inside:`target` folder.\r\n- **Run in default port(8080):** `java -jar myApplication. jar`\r\n- **Run in provided port(8888):** `java -jar myApplication.jar --port=8888`\r\n- **Run in provided port(8888):** `java -jar -Dserver.port=8888  myApplication.jar`\r\n- **Run in provided port(8888) having variable `SERVER_PORT` in application.properties file:** `SERVER_PORT=8888 java -jar target/myApplication.jar`\r\n","title":"Spring: overriding one application.property from command line","body":"<p><strong>Running by Gradle:</strong></p>\n<ul>\n<li><strong>Run in default port(8080):</strong> <code>./gradlew bootRun</code></li>\n<li><strong>Run in provided port(8888):</strong> <code>./gradlew bootRun --args='--server.port=8888'</code></li>\n<li>If we have any variable in the <code>application.properties</code> file named <code>PORT</code>, run this: <code>PORT=8888 ./gradlew bootRun</code></li>\n</ul>\n<p><strong>Running by Maven:</strong></p>\n<ul>\n<li><strong>Run in default port(8080):</strong> <code>mvnw spring-boot:run</code></li>\n<li><strong>Run in provided port(8888):</strong> <code>mvnw spring-boot:run -Dspring-boot.run.jvmArguments='-Dserver.port=8085'</code></li>\n<li><strong>Run in provided port(8888):</strong> <code>mvn spring-boot:run -Dspring-boot.run.arguments='--server.port=8085'</code></li>\n<li><strong>Run in provided port(8888) with other custom property:</strong> <code>mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8899 --your.custom.property=custom&quot;</code></li>\n<li>If we have any variable in the <code>application.properties</code> file named <code>PORT</code>, run this: <code>SERVER_PORT=9093 mvn spring-boot:run</code></li>\n</ul>\n<p><strong>Using <code>java -jar</code>:</strong></p>\n<ul>\n<li><strong>Create the .jar file:</strong>\n<ul>\n<li>For Gradle: <code>./gradlew clean build</code>. We will find the jar file inside: <code>build/libs/</code> folder.</li>\n<li>For Maven: <code>mvn clean install</code>. We will find the jar file inside:<code>target</code> folder.</li>\n</ul>\n</li>\n<li><strong>Run in default port(8080):</strong> <code>java -jar myApplication. jar</code></li>\n<li><strong>Run in provided port(8888):</strong> <code>java -jar myApplication.jar --port=8888</code></li>\n<li><strong>Run in provided port(8888):</strong> <code>java -jar -Dserver.port=8888  myApplication.jar</code></li>\n<li><strong>Run in provided port(8888) having variable <code>SERVER_PORT</code> in application.properties file:</strong> <code>SERVER_PORT=8888 java -jar target/myApplication.jar</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26132574,"reputation":21,"user_id":19823079,"display_name":"Carlos Ruiz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661907267,"creation_date":1661452831,"answer_id":73492331,"question_id":37052857,"body_markdown":"If you have the jar file after doing mvn clean install, you can override any property that you have in your application.yml using the double -, like this:\r\n```\r\njava -jar name_of_your_jar_file.jar --parameter=value\r\n```\r\nFor example, if you need to change your server port when starting you server, you can write the following:\r\n```\r\njava -jar name_of_your_jar_file.jar --server.port=8888\r\n```\r\n","title":"Spring: overriding one application.property from command line","body":"<p>If you have the jar file after doing mvn clean install, you can override any property that you have in your application.yml using the double -, like this:</p>\n<pre><code>java -jar name_of_your_jar_file.jar --parameter=value\n</code></pre>\n<p>For example, if you need to change your server port when starting you server, you can write the following:</p>\n<pre><code>java -jar name_of_your_jar_file.jar --server.port=8888\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669829718,"creation_date":1669829580,"answer_id":74631915,"question_id":37052857,"body_markdown":"I Was making a mistake with the syntax of commandline command , while passing command-line arguments, I was wrapping multiple arguments between &quot; &quot; and this was the issue. I simply ran the same command having multiple arguments separated by a space without wraaping them between &quot;&quot; and it worked just fine.\r\n\r\n*Please note this answer is for cases where we are trying to run this scenario from a jar file(not using mvn).* \r\n\r\n**Correct Command: java -jar myJar.jar --com.arg1=10 --com.arg2=1**\r\n\r\n**Incorrect Command: java -jar myJar.jar &quot;--com.arg1=10 --com.arg2=1&quot;**","title":"Spring: overriding one application.property from command line","body":"<p>I Was making a mistake with the syntax of commandline command , while passing command-line arguments, I was wrapping multiple arguments between &quot; &quot; and this was the issue. I simply ran the same command having multiple arguments separated by a space without wraaping them between &quot;&quot; and it worked just fine.</p>\n<p><em>Please note this answer is for cases where we are trying to run this scenario from a jar file(not using mvn).</em></p>\n<p><strong>Correct Command: java -jar myJar.jar --com.arg1=10 --com.arg2=1</strong></p>\n<p><strong>Incorrect Command: java -jar myJar.jar &quot;--com.arg1=10 --com.arg2=1&quot;</strong></p>\n"}],"owner":{"account_id":4979979,"reputation":1311,"user_id":4005260,"accept_rate":80,"display_name":"clueless user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129493,"favorite_count":0,"down_vote_count":1,"up_vote_count":119,"accepted_answer_id":37053004,"answer_count":9,"score":118,"last_activity_date":1669829718,"creation_date":1462457425,"question_id":37052857,"body_markdown":"I have an application.properties file with default variable values. I want to be able to change ONE of them upon running with `mvn spring-boot:run`. I found how to change the whole file, but I only want to change one or two of these properties. ","title":"Spring: overriding one application.property from command line","body":"<p>I have an application.properties file with default variable values. I want to be able to change ONE of them upon running with <code>mvn spring-boot:run</code>. I found how to change the whole file, but I only want to change one or two of these properties. </p>\n"},{"tags":["java","filter","vaadin"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669829261,"creation_date":1669829261,"answer_id":74631853,"question_id":74631546,"body_markdown":"Here you see an example of how you can create a TextField filter. \r\n\r\nSetting ValueChangeMode.EAGER will allow filtering whenever the user presses a key in the TextField.\r\n\r\n    @Route(value = &quot;customer-revenue-jpa-records&quot;, layout = ApplicationLayout.class)\r\n    @PageTitle(&quot;Customer Revenue JPA Records&quot;)\r\n    public class CustomerRevenueV20JpaRecordView extends VerticalLayout {\r\n    \r\n        private final CustomerRepository customerRepository;\r\n        private final Grid&lt;CustomerInfo&gt; grid;\r\n    \r\n        public CustomerRevenueV20JpaRecordView(CustomerRepository customerRepository) {\r\n            this.customerRepository = customerRepository;\r\n    \r\n            setHeightFull();\r\n    \r\n            TextField filter = new TextField();\r\n            filter.setValueChangeMode(ValueChangeMode.EAGER);\r\n            filter.addValueChangeListener(event -&gt; loadData(event.getValue()));\r\n            filter.setPlaceholder(&quot;Search&quot;);\r\n    \r\n            add(filter);\r\n    \r\n            grid = new Grid&lt;&gt;();\r\n            grid.addColumn(CustomerInfo::id).setHeader(&quot;ID&quot;).setSortable(true).setSortProperty(&quot;id&quot;);\r\n            grid.addColumn(CustomerInfo::firstname).setHeader(&quot;First Name&quot;).setSortable(true).setSortProperty(&quot;firstname&quot;);\r\n            grid.addColumn(CustomerInfo::lastname).setHeader(&quot;Last Name&quot;).setSortable(true).setSortProperty(&quot;lastname&quot;);\r\n            grid.addColumn(CustomerInfo::revenue).setHeader(&quot;Revenue&quot;);\r\n    \r\n            loadData(&quot;&quot;);\r\n    \r\n            grid.setHeightFull();\r\n    \r\n            add(grid);\r\n        }\r\n    \r\n        private void loadData(String name) {\r\n            grid.setItems(\r\n                    query -&gt; customerRepository.findAllCustomersWithRevenue(\r\n                            PageRequest.of(query.getPage(), query.getPageSize(), toSpringDataSort(query)), name).stream(),\r\n                    query -&gt; customerRepository.countCustomersWithRevenue(name)\r\n            );\r\n        }\r\n    }\r\n\r\n","title":"Creating Filter fields outside of a Grid in Vaadin","body":"<p>Here you see an example of how you can create a TextField filter.</p>\n<p>Setting ValueChangeMode.EAGER will allow filtering whenever the user presses a key in the TextField.</p>\n<pre><code>@Route(value = &quot;customer-revenue-jpa-records&quot;, layout = ApplicationLayout.class)\n@PageTitle(&quot;Customer Revenue JPA Records&quot;)\npublic class CustomerRevenueV20JpaRecordView extends VerticalLayout {\n\n    private final CustomerRepository customerRepository;\n    private final Grid&lt;CustomerInfo&gt; grid;\n\n    public CustomerRevenueV20JpaRecordView(CustomerRepository customerRepository) {\n        this.customerRepository = customerRepository;\n\n        setHeightFull();\n\n        TextField filter = new TextField();\n        filter.setValueChangeMode(ValueChangeMode.EAGER);\n        filter.addValueChangeListener(event -&gt; loadData(event.getValue()));\n        filter.setPlaceholder(&quot;Search&quot;);\n\n        add(filter);\n\n        grid = new Grid&lt;&gt;();\n        grid.addColumn(CustomerInfo::id).setHeader(&quot;ID&quot;).setSortable(true).setSortProperty(&quot;id&quot;);\n        grid.addColumn(CustomerInfo::firstname).setHeader(&quot;First Name&quot;).setSortable(true).setSortProperty(&quot;firstname&quot;);\n        grid.addColumn(CustomerInfo::lastname).setHeader(&quot;Last Name&quot;).setSortable(true).setSortProperty(&quot;lastname&quot;);\n        grid.addColumn(CustomerInfo::revenue).setHeader(&quot;Revenue&quot;);\n\n        loadData(&quot;&quot;);\n\n        grid.setHeightFull();\n\n        add(grid);\n    }\n\n    private void loadData(String name) {\n        grid.setItems(\n                query -&gt; customerRepository.findAllCustomersWithRevenue(\n                        PageRequest.of(query.getPage(), query.getPageSize(), toSpringDataSort(query)), name).stream(),\n                query -&gt; customerRepository.countCustomersWithRevenue(name)\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16883180,"reputation":13,"user_id":12208655,"display_name":"cave lupum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74631853,"answer_count":1,"score":1,"last_activity_date":1669829261,"creation_date":1669827760,"question_id":74631546,"body_markdown":"I&#39;m trying to create some filters for a Grid in Vaadin (Java) and I don&#39;t want to use the GridCellFilter.\r\n \r\nI want to reach this goal by creating a TextField and a ComboBox and I should be able to filter elements inside the grid when I write in the TextField AND when I select an element of the ComboBox (separately or at the same time).\r\n\r\nCan you please provide me some example of how to do it?\r\n\r\nI am new in Vaadin. \r\nThanks!    ","title":"Creating Filter fields outside of a Grid in Vaadin","body":"<p>I'm trying to create some filters for a Grid in Vaadin (Java) and I don't want to use the GridCellFilter.</p>\n<p>I want to reach this goal by creating a TextField and a ComboBox and I should be able to filter elements inside the grid when I write in the TextField AND when I select an element of the ComboBox (separately or at the same time).</p>\n<p>Can you please provide me some example of how to do it?</p>\n<p>I am new in Vaadin.\nThanks!</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":4181225,"reputation":708,"user_id":3427316,"display_name":"Donald Wu"},"score":0,"creation_date":1585040327,"post_id":60827661,"comment_id":107620092,"body_markdown":"pass `showCountTextView` to `countMe` func","body":"pass <code>showCountTextView</code> to <code>countMe</code> func"}],"answers":[{"tags":[],"owner":{"account_id":4181225,"reputation":708,"user_id":3427316,"display_name":"Donald Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585041655,"creation_date":1585040467,"answer_id":60827796,"question_id":60827661,"body_markdown":"`fragment`: all element need to get via `view`\r\n```\r\nView yourView = view.findViewById(R.id.text_first);\r\n```\r\n\r\n`activity`: can directly access the element\r\n```\r\nView yourView = findViewById(R.id.text_first);\r\n```\r\n\r\nYour case is `fragment`, so there are two ways to do it\r\n\r\n\r\n```\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                         Bundle savedInstanceState) {\r\n    View view = inflater.inflate(R.layout.fragment_first, container, false);\r\n\r\n    View showCountTextView = view.findViewById(R.id.text_first);\r\n    Button button = view.findViewById(R.id.count_button);\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            countMe(view, showCountTextView); // 1\r\n            countMe(view); // 2\r\n        }\r\n    });\r\n    return view;\r\n}\r\n```\r\n\r\n1. pass `showCountTextView` to `countMe` func\r\n\r\n```\r\nprivate void countMe(View view, View showCountTextView) {\r\n    String countString = showCountTextView.getText().toString();\r\n    Integer count = Integer.parseInt(countString);\r\n    count++;\r\n\r\n    showCountTextView.setText(count.toString());\r\n}\r\n```\r\n\r\nor get the `TextView` by `view`\r\n\r\n2. get `showCountTextView` from `view` \r\n```\r\nprivate void countMe(View view) {\r\n    View showCountTextView = view.findViewById(R.id.text_first);\r\n\r\n    String countString = showCountTextView.getText().toString();\r\n    Integer count = Integer.parseInt(countString);\r\n    count++;\r\n    \r\n    showCountTextView.setText(count.toString());\r\n}\r\n```","title":"Increment number in each click of button in android studio","body":"<p><code>fragment</code>: all element need to get via <code>view</code></p>\n\n<pre><code>View yourView = view.findViewById(R.id.text_first);\n</code></pre>\n\n<p><code>activity</code>: can directly access the element</p>\n\n<pre><code>View yourView = findViewById(R.id.text_first);\n</code></pre>\n\n<p>Your case is <code>fragment</code>, so there are two ways to do it</p>\n\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_first, container, false);\n\n    View showCountTextView = view.findViewById(R.id.text_first);\n    Button button = view.findViewById(R.id.count_button);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            countMe(view, showCountTextView); // 1\n            countMe(view); // 2\n        }\n    });\n    return view;\n}\n</code></pre>\n\n<ol>\n<li>pass <code>showCountTextView</code> to <code>countMe</code> func</li>\n</ol>\n\n<pre><code>private void countMe(View view, View showCountTextView) {\n    String countString = showCountTextView.getText().toString();\n    Integer count = Integer.parseInt(countString);\n    count++;\n\n    showCountTextView.setText(count.toString());\n}\n</code></pre>\n\n<p>or get the <code>TextView</code> by <code>view</code></p>\n\n<ol start=\"2\">\n<li>get <code>showCountTextView</code> from <code>view</code> </li>\n</ol>\n\n<pre><code>private void countMe(View view) {\n    View showCountTextView = view.findViewById(R.id.text_first);\n\n    String countString = showCountTextView.getText().toString();\n    Integer count = Integer.parseInt(countString);\n    count++;\n\n    showCountTextView.setText(count.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1384933,"reputation":31,"user_id":1317165,"display_name":"Niazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585041328,"creation_date":1585041064,"answer_id":60827941,"question_id":60827661,"body_markdown":"Two possible cases here.\r\n\r\nIt seems, *view* and *fragmentFirstLayout* are over one another on z-axis.\r\nSo when you are clicking *fragmentFirstLayout* will be clicked not the *view*.\r\n\r\nOR\r\n\r\n*View* is not infalted as fragment view at all.","title":"Increment number in each click of button in android studio","body":"<p>Two possible cases here.</p>\n\n<p>It seems, <em>view</em> and <em>fragmentFirstLayout</em> are over one another on z-axis.\nSo when you are clicking <em>fragmentFirstLayout</em> will be clicked not the <em>view</em>.</p>\n\n<p>OR</p>\n\n<p><em>View</em> is not infalted as fragment view at all.</p>\n"},{"tags":[],"owner":{"account_id":19994462,"reputation":72,"user_id":14654835,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669829177,"creation_date":1669829177,"answer_id":74631830,"question_id":60827661,"body_markdown":"You should just continue with the tutorial. They solve the problem in step 4. If you still have problems here is FirstFragment.java file, works for me.\r\n\r\n\r\n    package com.example.DTPM;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.navigation.fragment.NavHostFragment;\r\n    \r\n    import com.example.DTPM.databinding.FragmentFirstBinding;\r\n    \r\n    public class FirstFragment extends Fragment {\r\n\r\n    private FragmentFirstBinding binding;\r\n\r\n    TextView showCountTextView;\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n\r\n        // Inflate the layout for this fragment\r\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n        // Get the count text view\r\n        showCountTextView = fragmentFirstLayout.findViewById(R.id.textview_first);\r\n\r\n        return fragmentFirstLayout;\r\n\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n    //        binding.buttonFirst.setOnClickListener(new View.OnClickListener() {\r\n    //            @Override\r\n    //            public void onClick(View view) {\r\n    //                NavHostFragment.findNavController(FirstFragment.this)\r\n    //                        .navigate(R.id.action_FirstFragment_to_SecondFragment);\r\n    //            }\r\n    //        });\r\n            view.findViewById(R.id.toast_button).setOnClickListener(new View.OnClickListener(){\r\n                @Override\r\n                public void onClick(View view){\r\n                    Toast myToast = Toast.makeText(getActivity(), &quot;Hello toast!&quot;, Toast.LENGTH_SHORT);\r\n                    myToast.show();\r\n                }\r\n            });\r\n            view.findViewById(R.id.count_button).setOnClickListener(new View.OnClickListener(){\r\n                @Override\r\n                public void onClick(View view){\r\n                    countMe(view);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void countMe(View view){\r\n\r\n        //View showCountTextView = view.findViewById(R.id.textview_first)\r\n        // Get the value of the text view\r\n        String countString = showCountTextView.getText().toString();\r\n        // Convert value to a number and increment it\r\n        Integer count = Integer.parseInt(countString);\r\n        count++;\r\n        // Display the new value in the text view.\r\n        showCountTextView.setText(count.toString());\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n}","title":"Increment number in each click of button in android studio","body":"<p>You should just continue with the tutorial. They solve the problem in step 4. If you still have problems here is FirstFragment.java file, works for me.</p>\n<pre><code>package com.example.DTPM;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.fragment.NavHostFragment;\n\nimport com.example.DTPM.databinding.FragmentFirstBinding;\n\npublic class FirstFragment extends Fragment {\n\nprivate FragmentFirstBinding binding;\n\nTextView showCountTextView;\n\n@Override\npublic View onCreateView(\n        LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState\n) {\n\n    // Inflate the layout for this fragment\n    View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n    // Get the count text view\n    showCountTextView = fragmentFirstLayout.findViewById(R.id.textview_first);\n\n    return fragmentFirstLayout;\n\n}\n\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n//        binding.buttonFirst.setOnClickListener(new View.OnClickListener() {\n//            @Override\n//            public void onClick(View view) {\n//                NavHostFragment.findNavController(FirstFragment.this)\n//                        .navigate(R.id.action_FirstFragment_to_SecondFragment);\n//            }\n//        });\n        view.findViewById(R.id.toast_button).setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view){\n                Toast myToast = Toast.makeText(getActivity(), &quot;Hello toast!&quot;, Toast.LENGTH_SHORT);\n                myToast.show();\n            }\n        });\n        view.findViewById(R.id.count_button).setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view){\n                countMe(view);\n            }\n        });\n    }\n\n    private void countMe(View view){\n\n    //View showCountTextView = view.findViewById(R.id.textview_first)\n    // Get the value of the text view\n    String countString = showCountTextView.getText().toString();\n    // Convert value to a number and increment it\n    Integer count = Integer.parseInt(countString);\n    count++;\n    // Display the new value in the text view.\n    showCountTextView.setText(count.toString());\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n    binding = null;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16271218,"reputation":67,"user_id":11749732,"display_name":"Jalloh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60827796,"answer_count":3,"score":0,"last_activity_date":1669829177,"creation_date":1585039995,"question_id":60827661,"body_markdown":"Hi I am trying to a set a counter for each click to increment by one but it is not responding. This is my code. I am following this tutorial https://codelabs.developers.google.com/codelabs/build-your-first-android-app/#7\r\n\r\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_first, container, false);\r\n       // View view1 = inflater.inflate(R.layout.fragment_first, container, false);\r\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n        showCountTextView = fragmentFirstLayout.findViewById(R.id.text_first);\r\n       // button = view.findViewById(R.id.toast_button);\r\n        button = view.findViewById(R.id.count_button);\r\n\r\n      \r\n        view.findViewById(R.id.count_button).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                countMe(view);\r\n            }\r\n        });\r\n        return  fragmentFirstLayout; //view;\r\n    }\r\n    private void countMe(View view) {\r\n        // Get the value of the text view\r\n        String countString = showCountTextView.getText().toString();\r\n        // Convert value to a number and increment it\r\n        Integer count = Integer.parseInt(countString);\r\n        count++;\r\n        // Display the new value in the text view.\r\n        showCountTextView.setText(count.toString());\r\n    }","title":"Increment number in each click of button in android studio","body":"<p>Hi I am trying to a set a counter for each click to increment by one but it is not responding. This is my code. I am following this tutorial <a href=\"https://codelabs.developers.google.com/codelabs/build-your-first-android-app/#7\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/build-your-first-android-app/#7</a></p>\n\n<pre><code> public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View view = inflater.inflate(R.layout.fragment_first, container, false);\n   // View view1 = inflater.inflate(R.layout.fragment_first, container, false);\n    View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n    showCountTextView = fragmentFirstLayout.findViewById(R.id.text_first);\n   // button = view.findViewById(R.id.toast_button);\n    button = view.findViewById(R.id.count_button);\n\n\n    view.findViewById(R.id.count_button).setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            countMe(view);\n        }\n    });\n    return  fragmentFirstLayout; //view;\n}\nprivate void countMe(View view) {\n    // Get the value of the text view\n    String countString = showCountTextView.getText().toString();\n    // Convert value to a number and increment it\n    Integer count = Integer.parseInt(countString);\n    count++;\n    // Display the new value in the text view.\n    showCountTextView.setText(count.toString());\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":1,"creation_date":1542040320,"post_id":53266178,"comment_id":93416745,"body_markdown":"have you checked the database for the column? Is it exactly as query expects? The name `idCompte_Test` is a bit unusual name and Hibernate by default seems to prefix capital-camel-case with `_` also so this miight be the problem.","body":"have you checked the database for the column? Is it exactly as query expects? The name <code>idCompte_Test</code> is a bit unusual name and Hibernate by default seems to prefix capital-camel-case with <code>_</code> also so this miight be the problem."},{"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"score":0,"creation_date":1542095387,"post_id":53266178,"comment_id":93434453,"body_markdown":"thanks @pirho for your time, I have changed the name of the id whithout the underscore but that changed nothing","body":"thanks @pirho for your time, I have changed the name of the id whithout the underscore but that changed nothing"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1542095905,"post_id":53266178,"comment_id":93434673,"body_markdown":"Ok but what is the field in db? is it exactly `id_compte_test`?","body":"Ok but what is the field in db? is it exactly <code>id_compte_test</code>?"},{"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"score":0,"creation_date":1542096062,"post_id":53266178,"comment_id":93434719,"body_markdown":"the table isn&#39;t even created in the db","body":"the table isn&#39;t even created in the db"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1542100567,"post_id":53266178,"comment_id":93437060,"body_markdown":"Well, that is a bigger problem then. About the subselect, do you think you could achieve the same result by other means, like my answer to [this  quiestion](https://stackoverflow.com/q/53239376/6413377) suggests?","body":"Well, that is a bigger problem then. About the subselect, do you think you could achieve the same result by other means, like my answer to <a href=\"https://stackoverflow.com/q/53239376/6413377\">this  quiestion</a> suggests?"}],"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2832,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669828270,"creation_date":1542039611,"question_id":53266178,"body_markdown":"I want to create a view from two tables using annotations in java/JEE,\r\nso after some researching I found that the only way to do it is using **@Subselect**annotation so I created 3 entities\r\n\r\nthe test entity:   \r\n\r\n     @Table\r\n        @Entity\r\n        public class Test {\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private long id;\r\n            @Column\r\n            private String nom;\r\n            @Column\r\n            private String prenom;\r\n            @Column\r\n            private int age;\r\n            @Column\r\n            private String adresse;\r\n            @Column\r\n            private Date dateNaissance;\r\n        // getters and setters\r\n        }\r\n\r\nThe compte entity:   \r\n\r\n     @Entity\r\n        public class Compte {\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private long id;\r\n            @Column\r\n            private long solde;\r\n            @Column\r\n            private long numero;\r\n            @Column\r\n            private String description;\r\n        // getters and setters\r\n        }\r\n\r\nand the entity Compte_Test which has the same role as a view\r\n\r\n    @Entity\r\n    @Subselect(&quot;SELECT c2.id as idTest,c1.id as id,c1.solde as solde,c1.numero as numero, c2.nom as nom, c2.prenom as prenom FROM Compte c1 INNER JOIN Test c2 ON c1.id_test= c2.id&quot;)\r\n    @Synchronize({ &quot;compte&quot;, &quot;test&quot; })\r\n    public class Compte_Test {\r\n    \r\n        @Id\r\n        private long idCompte_Test;\r\n        @Column\r\n        private long idTest;\r\n        @Column\r\n        private long id;\r\n        @Column\r\n        private long solde;\r\n        @Column\r\n        private long numero;\r\n        @Column\r\n        private String nom;\r\n        @Column\r\n        private String prenom;\r\n\r\n     // getters and setters\r\n        }\r\nI&#39;m using spring data **@Query** annotation to get data from Compte_Test entity\r\n\r\n    @Query(value = &quot;SELECT c from Compte_Test c &quot;)\r\n    List&lt;Compte_Test&gt; fullTextSearch(Pageable pageable);\r\n\r\nThe problem is that it generates for me an error \r\n\r\n    org.postgresql.util.PSQLException: ERROR: column compte_tes0_.id_compte_test does not exist\r\n      Position&#160;: 8\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]\r\n\r\n","title":"Using the subselect hibernate annotation with entity","body":"<p>I want to create a view from two tables using annotations in java/JEE,\nso after some researching I found that the only way to do it is using <strong>@Subselect</strong>annotation so I created 3 entities</p>\n<p>the test entity:</p>\n<pre><code> @Table\n    @Entity\n    public class Test {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private long id;\n        @Column\n        private String nom;\n        @Column\n        private String prenom;\n        @Column\n        private int age;\n        @Column\n        private String adresse;\n        @Column\n        private Date dateNaissance;\n    // getters and setters\n    }\n</code></pre>\n<p>The compte entity:</p>\n<pre><code> @Entity\n    public class Compte {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private long id;\n        @Column\n        private long solde;\n        @Column\n        private long numero;\n        @Column\n        private String description;\n    // getters and setters\n    }\n</code></pre>\n<p>and the entity Compte_Test which has the same role as a view</p>\n<pre><code>@Entity\n@Subselect(&quot;SELECT c2.id as idTest,c1.id as id,c1.solde as solde,c1.numero as numero, c2.nom as nom, c2.prenom as prenom FROM Compte c1 INNER JOIN Test c2 ON c1.id_test= c2.id&quot;)\n@Synchronize({ &quot;compte&quot;, &quot;test&quot; })\npublic class Compte_Test {\n\n    @Id\n    private long idCompte_Test;\n    @Column\n    private long idTest;\n    @Column\n    private long id;\n    @Column\n    private long solde;\n    @Column\n    private long numero;\n    @Column\n    private String nom;\n    @Column\n    private String prenom;\n\n // getters and setters\n    }\n</code></pre>\n<p>I'm using spring data <strong>@Query</strong> annotation to get data from Compte_Test entity</p>\n<pre><code>@Query(value = &quot;SELECT c from Compte_Test c &quot;)\nList&lt;Compte_Test&gt; fullTextSearch(Pageable pageable);\n</code></pre>\n<p>The problem is that it generates for me an error</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column compte_tes0_.id_compte_test does not exist\n  Position : 8\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25721575,"reputation":105,"user_id":19478517,"display_name":"Christoph Fischer"},"score":0,"creation_date":1669803540,"post_id":74626025,"comment_id":131724262,"body_markdown":"You could load all files into an array and then run a for loop over them to zip them individually.","body":"You could load all files into an array and then run a for loop over them to zip them individually."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669828163,"post_id":74626025,"comment_id":131733529,"body_markdown":"Are you aware that Java has built-in features to generate zip files?","body":"Are you aware that Java has built-in features to generate zip files?"}],"answers":[{"tags":[],"owner":{"account_id":16629324,"reputation":775,"user_id":12017533,"display_name":"Jiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669828173,"creation_date":1669803875,"answer_id":74626184,"question_id":74626025,"body_markdown":"This works fine.\r\n\r\n    File[] files = new File(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\test&quot;).listFiles();\r\n    for (File file : files) {\r\n        if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.txt&quot;)) {\r\n            String[] command = {&quot;C:\\\\Program Files\\\\WinZip\\\\winzip64&quot;,&quot;-a&quot;,&quot;-r&quot;,&quot;-en&quot;,file.getName() + &quot;.zip&quot;, file.getName() };\r\n            rt.exec(command);\r\n        }\r\n    }","title":"How to zip each text files individually","body":"<p>This works fine.</p>\n<pre><code>File[] files = new File(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\test&quot;).listFiles();\nfor (File file : files) {\n    if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.txt&quot;)) {\n        String[] command = {&quot;C:\\\\Program Files\\\\WinZip\\\\winzip64&quot;,&quot;-a&quot;,&quot;-r&quot;,&quot;-en&quot;,file.getName() + &quot;.zip&quot;, file.getName() };\n        rt.exec(command);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669827612,"creation_date":1669805803,"answer_id":74626625,"question_id":74626025,"body_markdown":"I wanted to mention a variation:\r\n\r\nWhen wanting each file compressed separately - as a separate new file -, then **gzip** is usual, at least under Unix/Linux.\r\n\r\nSo `README.txt` will produce `README.txt.gz`. WinZip or 7Zip will handle those files too.\r\n\r\nAs java already has the means to compress, here an immediate version:\r\n\r\n    private static void main(String[] args) throws IOException {\r\n        Path dir = Paths.get(&quot;C:/Users/.../Documents&quot;);\r\n        Path gzDir = Paths.get(&quot;C:/Users/.../Documents/gz&quot;);\r\n        Files.createDirectories(gzDir);\r\n        Files.list(dir)\r\n                .filter(f -&gt; f.getFileName().toString().endsWith(&quot;.txt&quot;))\r\n                .forEach(f -&gt; gzCompress(f, gzDir));\r\n    }\r\n\r\n    private static void gzCompress(Path file, Path gzDir) {\r\n        Path gzFile = gzDir.resolve(file.getFileName().toString() + &quot;.gz&quot;);\r\n        try (FileInputStream fis = new FileInputStream(file.toFile());\r\n                FileOutputStream fos = new FileOutputStream(gzFile.toFile());\r\n                GZIPOutputStream gzos = new GZIPOutputStream(fos)) {\r\n            fis.transferTo(gzos);\r\n        } catch (IOException e) {\r\n            System.getLogger(App.class.getName()).log(System.Logger.Level.ALL, e);\r\n        }        \r\n    }\r\n","title":"How to zip each text files individually","body":"<p>I wanted to mention a variation:</p>\n<p>When wanting each file compressed separately - as a separate new file -, then <strong>gzip</strong> is usual, at least under Unix/Linux.</p>\n<p>So <code>README.txt</code> will produce <code>README.txt.gz</code>. WinZip or 7Zip will handle those files too.</p>\n<p>As java already has the means to compress, here an immediate version:</p>\n<pre><code>private static void main(String[] args) throws IOException {\n    Path dir = Paths.get(&quot;C:/Users/.../Documents&quot;);\n    Path gzDir = Paths.get(&quot;C:/Users/.../Documents/gz&quot;);\n    Files.createDirectories(gzDir);\n    Files.list(dir)\n            .filter(f -&gt; f.getFileName().toString().endsWith(&quot;.txt&quot;))\n            .forEach(f -&gt; gzCompress(f, gzDir));\n}\n\nprivate static void gzCompress(Path file, Path gzDir) {\n    Path gzFile = gzDir.resolve(file.getFileName().toString() + &quot;.gz&quot;);\n    try (FileInputStream fis = new FileInputStream(file.toFile());\n            FileOutputStream fos = new FileOutputStream(gzFile.toFile());\n            GZIPOutputStream gzos = new GZIPOutputStream(fos)) {\n        fis.transferTo(gzos);\n    } catch (IOException e) {\n        System.getLogger(App.class.getName()).log(System.Logger.Level.ALL, e);\n    }        \n}\n</code></pre>\n"}],"owner":{"account_id":26656204,"reputation":1,"user_id":20269700,"display_name":"Akshatha S M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669828173,"creation_date":1669803233,"question_id":74626025,"body_markdown":"This code is to zip all text files into one zip folder. I want to zip each text files in a separate zip using WinZip commands in my Java code. How can I do that?\r\n\r\n```\r\nRuntime rt = Runtime.getRuntime();\r\n//updateEnv();\r\nSystem.out.println(&quot;Zipping file&quot;);\r\nString[] command = {&quot;C:\\\\Program Files\\\\WinZip\\\\winzip64&quot;,&quot;-a&quot;,&quot;-r&quot;,&quot;-en&quot;,&quot;zippedfile.zip&quot;, &quot;*.txt&quot; };\r\ntry {\r\n    rt.exec(command);\r\n    System.out.println(&quot;Zipped file&quot;);\r\n} catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n\r\n","title":"How to zip each text files individually","body":"<p>This code is to zip all text files into one zip folder. I want to zip each text files in a separate zip using WinZip commands in my Java code. How can I do that?</p>\n<pre><code>Runtime rt = Runtime.getRuntime();\n//updateEnv();\nSystem.out.println(&quot;Zipping file&quot;);\nString[] command = {&quot;C:\\\\Program Files\\\\WinZip\\\\winzip64&quot;,&quot;-a&quot;,&quot;-r&quot;,&quot;-en&quot;,&quot;zippedfile.zip&quot;, &quot;*.txt&quot; };\ntry {\n    rt.exec(command);\n    System.out.println(&quot;Zipped file&quot;);\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","android","uri","securityexception","android-securityexception"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669828072,"creation_date":1669828072,"answer_id":74631611,"question_id":74630043,"body_markdown":"&gt; As you can see, this not only shows the image that users pick, but also stores the uri string into a file for later use\r\n\r\nThat will not work with `ACTION_PICK`.\r\n\r\n&gt; But when I change to ThirdActivity, there is always a SecurityException stop me.\r\n\r\nFor the purposes of using the `Uri` in the same process invocation as when you got it, you can pass the `Uri` along in the `Intent`:\r\n\r\n```java\r\nIntent thirdActivity = new Intent(SecondActivity.this, ThirdActivity.class);\r\nthirdActivity.setData(theImageUriThatWeAreTalkingAbout);\r\nthirdActivity.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\nstartActivity(thirdActivity);\r\n```\r\n\r\nHowever, that will not help for durable access via your persisted `Uri` value. Either get rid of that, or:\r\n\r\n- Switch to `ACTION_OPEN_DOCUMENT` instead of `ACTION_PICK`, and\r\n- Call `takePersistableUriPermission()` on a `ContentResolver` when you get the image `Uri` value\r\n\r\nSee [this blog post](https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html) for more.","title":"Stored image URI for later use, but it throws SecurityException","body":"<blockquote>\n<p>As you can see, this not only shows the image that users pick, but also stores the uri string into a file for later use</p>\n</blockquote>\n<p>That will not work with <code>ACTION_PICK</code>.</p>\n<blockquote>\n<p>But when I change to ThirdActivity, there is always a SecurityException stop me.</p>\n</blockquote>\n<p>For the purposes of using the <code>Uri</code> in the same process invocation as when you got it, you can pass the <code>Uri</code> along in the <code>Intent</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent thirdActivity = new Intent(SecondActivity.this, ThirdActivity.class);\nthirdActivity.setData(theImageUriThatWeAreTalkingAbout);\nthirdActivity.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nstartActivity(thirdActivity);\n</code></pre>\n<p>However, that will not help for durable access via your persisted <code>Uri</code> value. Either get rid of that, or:</p>\n<ul>\n<li>Switch to <code>ACTION_OPEN_DOCUMENT</code> instead of <code>ACTION_PICK</code>, and</li>\n<li>Call <code>takePersistableUriPermission()</code> on a <code>ContentResolver</code> when you get the image <code>Uri</code> value</li>\n</ul>\n<p>See <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">this blog post</a> for more.</p>\n"}],"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669828072,"creation_date":1669821138,"question_id":74630043,"body_markdown":"In the `SecondActivity`, it has an `ImageView`and a `Button`\r\n```java\r\npublic class SecondActivity extends AppCompatActivity\r\n{\r\n    private ImageView galleryImage;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_second);\r\n        galleryImage = findViewById(R.id.galleryImage);\r\n        Button openGalleryButton = findViewById(R.id.openGalleryButton);\r\n        openGalleryButton.setOnClickListener(view -&gt;\r\n        {\r\n            Intent intent = new Intent(Intent.ACTION_PICK);\r\n            intent.setData(MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            activityResultLauncher.launch(intent);\r\n        });\r\n        /*...*/\r\n    }\r\n}\r\n```\r\nfor the `activityResultLauncher`, it is an `ActivityResultLauncher` that I used to open gallery and pick an Image.\r\n```java\r\nActivityResultLauncher&lt;Intent&gt; activityResultLauncher =\r\n    registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n    result -&gt;\r\n    {\r\n        if (result.getResultCode() == Activity.RESULT_OK)\r\n        {\r\n            Intent data = result.getData();\r\n            if (data != null)\r\n            {\r\n                galleryImage.setImageURI(data.getData());\r\n                try\r\n                {\r\n                    openFileOutput(&quot;uri&quot;, MODE_PRIVATE).write((data.getData() + &quot;\\n&quot;).getBytes());\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    });\r\n```\r\nAs you can see, this not only shows the image that users pick, but also stores the uri string into a file for later use. But when I change to `ThirdActivity`, there is always a SecurityException stop me.\r\n```java\r\n/*SecondActivity.java*/\r\nButton showPickedButton = findViewById(R.id.showPickedButton);\r\nshowPickedButton.setOnClickListener(view -&gt;\r\n{\r\n    Intent thirdActivity = new Intent(SecondActivity.this, ThirdActivity.class);\r\n    thirdActivity.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    startActivity(thirdActivity);\r\n});\r\n\r\n/*ThirdActivity.java*/\r\npublic class ThirdActivity extends AppCompatActivity\r\n{\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_third);\r\n\r\n        LinkedList&lt;String&gt; uriStrings = new LinkedList&lt;&gt;();\r\n        String readImageURI;\r\n        try\r\n        {\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(openFileInput(&quot;uri&quot;), StandardCharsets.UTF_8));\r\n            while (true)\r\n            {\r\n                readImageURI = bufferedReader.readLine();\r\n                if (readImageURI != null)\r\n                    uriStrings.add(readImageURI);\r\n                else\r\n                    break;\r\n            }\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        LinearLayout imagesList = findViewById(R.id.imagesList);\r\n        uriStrings.forEach(imageURIString -&gt;\r\n        {\r\n            ImageView imageView = new ImageView(this);\r\n            imageView.setImageURI(Uri.parse(imageURIString));\r\n            imageView.setAdjustViewBounds(true);\r\n            imageView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT));\r\n            imagesList.addView(imageView);\r\n        });\r\n    }\r\n}\r\n```\r\nThe exception message: [![exception message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrBZB.png","title":"Stored image URI for later use, but it throws SecurityException","body":"<p>In the <code>SecondActivity</code>, it has an <code>ImageView</code>and a <code>Button</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecondActivity extends AppCompatActivity\n{\n    private ImageView galleryImage;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_second);\n        galleryImage = findViewById(R.id.galleryImage);\n        Button openGalleryButton = findViewById(R.id.openGalleryButton);\n        openGalleryButton.setOnClickListener(view -&gt;\n        {\n            Intent intent = new Intent(Intent.ACTION_PICK);\n            intent.setData(MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            activityResultLauncher.launch(intent);\n        });\n        /*...*/\n    }\n}\n</code></pre>\n<p>for the <code>activityResultLauncher</code>, it is an <code>ActivityResultLauncher</code> that I used to open gallery and pick an Image.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActivityResultLauncher&lt;Intent&gt; activityResultLauncher =\n    registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n    result -&gt;\n    {\n        if (result.getResultCode() == Activity.RESULT_OK)\n        {\n            Intent data = result.getData();\n            if (data != null)\n            {\n                galleryImage.setImageURI(data.getData());\n                try\n                {\n                    openFileOutput(&quot;uri&quot;, MODE_PRIVATE).write((data.getData() + &quot;\\n&quot;).getBytes());\n                }\n                catch (IOException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n</code></pre>\n<p>As you can see, this not only shows the image that users pick, but also stores the uri string into a file for later use. But when I change to <code>ThirdActivity</code>, there is always a SecurityException stop me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*SecondActivity.java*/\nButton showPickedButton = findViewById(R.id.showPickedButton);\nshowPickedButton.setOnClickListener(view -&gt;\n{\n    Intent thirdActivity = new Intent(SecondActivity.this, ThirdActivity.class);\n    thirdActivity.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    startActivity(thirdActivity);\n});\n\n/*ThirdActivity.java*/\npublic class ThirdActivity extends AppCompatActivity\n{\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_third);\n\n        LinkedList&lt;String&gt; uriStrings = new LinkedList&lt;&gt;();\n        String readImageURI;\n        try\n        {\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(openFileInput(&quot;uri&quot;), StandardCharsets.UTF_8));\n            while (true)\n            {\n                readImageURI = bufferedReader.readLine();\n                if (readImageURI != null)\n                    uriStrings.add(readImageURI);\n                else\n                    break;\n            }\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n\n        LinearLayout imagesList = findViewById(R.id.imagesList);\n        uriStrings.forEach(imageURIString -&gt;\n        {\n            ImageView imageView = new ImageView(this);\n            imageView.setImageURI(Uri.parse(imageURIString));\n            imageView.setAdjustViewBounds(true);\n            imageView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT));\n            imagesList.addView(imageView);\n        });\n    }\n}\n</code></pre>\n<p>The exception message: <a href=\"https://i.stack.imgur.com/hrBZB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrBZB.png\" alt=\"exception message\" /></a></p>\n"},{"tags":["java","list","set"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1669827392,"post_id":74631443,"comment_id":131733279,"body_markdown":"Please define _simpler way_.","body":"Please define <i>simpler way</i>."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1669827730,"post_id":74631443,"comment_id":131733392,"body_markdown":"I guess you are hunting for some shorter code, such as `return myList.stream().anyMatch(obj -&gt; names.contains(obj.getName()))`?","body":"I guess you are hunting for some shorter code, such as <code>return myList.stream().anyMatch(obj -&gt; names.contains(obj.getName()))</code>?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1669828439,"post_id":74631443,"comment_id":131733623,"body_markdown":"Sidenote: Types in Java should be declared with an uppercase letter. So, it should be `MyObject`, not `myObject`.","body":"Sidenote: Types in Java should be declared with an uppercase letter. So, it should be <code>MyObject</code>, not <code>myObject</code>."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669827946,"creation_date":1669827946,"answer_id":74631586,"question_id":74631443,"body_markdown":"    return myList.stream()            // Stream&lt;myObject&gt;\r\n        .map(myOject::getName)        // Stream&lt;String&gt;\r\n        .anyMatch(names::contains);   // boolean\r\n\r\nThat is a Stream solution, though not necessarily faster.","title":"validate if a list contains at least one value from a set","body":"<pre><code>return myList.stream()            // Stream&lt;myObject&gt;\n    .map(myOject::getName)        // Stream&lt;String&gt;\n    .anyMatch(names::contains);   // boolean\n</code></pre>\n<p>That is a Stream solution, though not necessarily faster.</p>\n"}],"owner":{"account_id":15341535,"reputation":2181,"user_id":11068392,"display_name":"myTest532 myTest532"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669828997,"accepted_answer_id":74631586,"answer_count":1,"score":-2,"last_activity_date":1669827946,"creation_date":1669827343,"question_id":74631443,"body_markdown":"I&#39;m trying to verify if my list `myList` getName() contains at least one value of a set `names`. \r\nI created a method for it, but I&#39;m wondering if there is a simpler way in Java.\r\n\r\n```\r\nprivate boolean validateMyList(List&lt;myObject&gt; myList, Set&lt;String&gt; names) {\r\n   for(myObject obj : myList) {\r\n      if(names.contains(obj.getName())) {\r\n         return true;\r\n      }\r\n   }\r\n   return false;\r\n}\r\n```","title":"validate if a list contains at least one value from a set","body":"<p>I'm trying to verify if my list <code>myList</code> getName() contains at least one value of a set <code>names</code>.\nI created a method for it, but I'm wondering if there is a simpler way in Java.</p>\n<pre><code>private boolean validateMyList(List&lt;myObject&gt; myList, Set&lt;String&gt; names) {\n   for(myObject obj : myList) {\n      if(names.contains(obj.getName())) {\n         return true;\n      }\n   }\n   return false;\n}\n</code></pre>\n"},{"tags":["java","google-cloud-platform","logback","google-logging"],"comments":[{"owner":{"account_id":6275313,"reputation":357,"user_id":4878144,"display_name":"Dirk R"},"score":0,"creation_date":1668588419,"post_id":74432806,"comment_id":131439371,"body_markdown":"Created an issue for the maintainer, in case it is a real bug: https://github.com/googleapis/java-logging-logback/issues/930","body":"Created an issue for the maintainer, in case it is a real bug: <a href=\"https://github.com/googleapis/java-logging-logback/issues/930\" rel=\"nofollow noreferrer\">github.com/googleapis/java-logging-logback/issues/930</a>"}],"answers":[{"tags":[],"owner":{"account_id":6275313,"reputation":357,"user_id":4878144,"display_name":"Dirk R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669827697,"creation_date":1669827697,"answer_id":74631533,"question_id":74432806,"body_markdown":"The linked github issue was accepted and confirmed by a contributor. You can work around by setting an arbitrary project ID, i.e. by setting `logDestinationProjectId`:\r\n```\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\r\n        &lt;redirectToStdout&gt;true&lt;/redirectToStdout&gt;\r\n        &lt;logDestinationProjectId&gt;TEST&lt;/logDestinationProjectId&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root&gt;\r\n        &lt;level value=&quot;info&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n```","title":"Google LoggingAppender and stdout","body":"<p>The linked github issue was accepted and confirmed by a contributor. You can work around by setting an arbitrary project ID, i.e. by setting <code>logDestinationProjectId</code>:</p>\n<pre><code>    &lt;appender name=&quot;CONSOLE&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\n        &lt;redirectToStdout&gt;true&lt;/redirectToStdout&gt;\n        &lt;logDestinationProjectId&gt;TEST&lt;/logDestinationProjectId&gt;\n    &lt;/appender&gt;\n    &lt;root&gt;\n        &lt;level value=&quot;info&quot; /&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":6275313,"reputation":357,"user_id":4878144,"display_name":"Dirk R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74631533,"answer_count":1,"score":1,"last_activity_date":1669827697,"creation_date":1668434244,"question_id":74432806,"body_markdown":"For debugging/testing purposes, I would like Google&#39;s Logback LoggingAppender to write to STDOUT instead to connect to Google&#39;s Logging API. According to https://github.com/googleapis/java-logging-logback, this should be possible by using `redirectToStdout`.\r\n\r\nMy logback.xml:\r\n```\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\r\n        &lt;redirectToStdout&gt;true&lt;/redirectToStdout&gt;\r\n    &lt;/appender&gt;\r\n\t&lt;root&gt;\r\n        &lt;level value=&quot;info&quot; /&gt;\r\n   \t\t&lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n```\r\n\r\nHowever, I get an error that no project was set. The error message:\r\n```\r\n14:48:36,515 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [com.google.cloud.logging.logback.LoggingAppender]\r\n14:48:36,534 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [CONSOLE]\r\n14:48:36,970 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@28:16 - RuntimeException in Action for tag [appender] java.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment.  Please set a project ID using the builder.\r\n\tat java.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment.  Please set a project ID using the builder.\r\n\tat \tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:142)\r\n    ...\r\n```\r\n\r\nAlthough that should not be necessary according to the documentation cited above, I also tried setting `logDestinationProjectId`. Note, that doesn&#39;t make sense in my case, as I want to run this configuration on my local machine for debug/test purposes. Also, that produced a different error (although that should be ignored according to the documentation).\r\n\r\nAny hints what I am missing? Is my use case even supported? If not, how do you test a configuration change for your LoggingAppender before deploying it to Google Cloud?\r\n","title":"Google LoggingAppender and stdout","body":"<p>For debugging/testing purposes, I would like Google's Logback LoggingAppender to write to STDOUT instead to connect to Google's Logging API. According to <a href=\"https://github.com/googleapis/java-logging-logback\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-logging-logback</a>, this should be possible by using <code>redirectToStdout</code>.</p>\n<p>My logback.xml:</p>\n<pre><code>    &lt;appender name=&quot;CONSOLE&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\n        &lt;redirectToStdout&gt;true&lt;/redirectToStdout&gt;\n    &lt;/appender&gt;\n    &lt;root&gt;\n        &lt;level value=&quot;info&quot; /&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n</code></pre>\n<p>However, I get an error that no project was set. The error message:</p>\n<pre><code>14:48:36,515 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [com.google.cloud.logging.logback.LoggingAppender]\n14:48:36,534 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [CONSOLE]\n14:48:36,970 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@28:16 - RuntimeException in Action for tag [appender] java.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment.  Please set a project ID using the builder.\n    at java.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment.  Please set a project ID using the builder.\n    at  at com.google.common.base.Preconditions.checkArgument(Preconditions.java:142)\n    ...\n</code></pre>\n<p>Although that should not be necessary according to the documentation cited above, I also tried setting <code>logDestinationProjectId</code>. Note, that doesn't make sense in my case, as I want to run this configuration on my local machine for debug/test purposes. Also, that produced a different error (although that should be ignored according to the documentation).</p>\n<p>Any hints what I am missing? Is my use case even supported? If not, how do you test a configuration change for your LoggingAppender before deploying it to Google Cloud?</p>\n"},{"tags":["java","android","push-notification","notifications","android-workmanager"],"answers":[{"tags":[],"owner":{"account_id":21178348,"reputation":172,"user_id":15573213,"display_name":"shybaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669827572,"creation_date":1669827572,"answer_id":74631496,"question_id":74625237,"body_markdown":"You are sending the notifications with always the same ID, it means always the same notification, change notification_id for each notification and it will work","title":"WorkManager OneTimeWorkRequest shows only the last notification","body":"<p>You are sending the notifications with always the same ID, it means always the same notification, change notification_id for each notification and it will work</p>\n"}],"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74631496,"answer_count":1,"score":1,"last_activity_date":1669827572,"creation_date":1669799400,"question_id":74625237,"body_markdown":"my app tracks the movie release dates, notifying the user the day of the release date. It could happen that two or more elements have the same release date and then, at midnight on that day, more notifications must be sent. The problem is that the notifications instead of accumulating replace each other, only showing the latest one.\r\n\r\nMainAcitvity:\r\n\r\n    createWorkRequest(element.getName(), notification_delay_in_seconds);\r\n    private void createWorkRequest(String message, long timeDelayInSeconds) {\r\n        OneTimeWorkRequest temp = new OneTimeWorkRequest.Builder(ReminderWorker.class)\r\n                .setInitialDelay(timeDelayInSeconds, TimeUnit.SECONDS)\r\n                .setInputData(new Data.Builder()\r\n                        .putString(&quot;title&quot;, message)\r\n                        .build()\r\n                )\r\n                .build();\r\n\r\n        WorkManager.getInstance(this).enqueue(temp);\r\n    }\r\n\r\nNotificationHelper:\r\n\r\n    public final class NotificationHelper {\r\n    private final String CHANNEL_ID = &quot;reminder_channel_id&quot;;\r\n    private final int NOTIFICATION_ID = 1;\r\n    private final Context context;\r\n\r\n    public NotificationHelper(@NotNull Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public void createNotification(@NotNull String title, @NotNull String message) {\r\n        createNotificationChannel();\r\n        Intent intent = new Intent(context, AnimeActivity.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK|Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        Notification notification = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n                .setSmallIcon(R.drawable.xxx)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setContentIntent(pendingIntent)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                .build();\r\n        NotificationManagerCompat.from(context).notify(NOTIFICATION_ID, notification);\r\n    }\r\n\r\n    private final void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= 26) {\r\n            NotificationChannel channel = new NotificationChannel(this.CHANNEL_ID, this.CHANNEL_ID, NotificationManager.IMPORTANCE_DEFAULT);\r\n            channel.setDescription(&quot;Reminder Channel Description&quot;);\r\n            NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    @NotNull\r\n    public final Context getContext() {\r\n        return this.context;\r\n    }\r\n}\r\n\r\nReminderWork:\r\n\r\n    public final class ReminderWorker extends Worker {\r\n    @NotNull\r\n    private final Context context;\r\n    @NotNull\r\n    private final WorkerParameters params;\r\n\r\n    @NotNull\r\n    public Result doWork() {\r\n        new NotificationHelper(this.context).createNotification(String.valueOf(this.getInputData().getString(&quot;title&quot;)), &quot;test&quot;);\r\n        return Result.success();\r\n    }\r\n\r\n    public ReminderWorker(@NotNull Context context, @NotNull WorkerParameters params) {\r\n        super(context, params);\r\n        this.context = context;\r\n        this.params = params;\r\n    }\r\n\r\n    @NotNull\r\n    public final Context getContext() {\r\n        return this.context;\r\n    }\r\n\r\n    @NotNull\r\n    public final WorkerParameters getParams() {\r\n        return this.params;\r\n    }\r\n\r\n}\r\n\r\nI tried also to delay each notification by 5 seconds to test if the problema was show 2 or more notification in the exact same time, but not working anyway, the first one is shown and then it is replaced with the last one, but I would like notifications would pile up instead of replace each other","title":"WorkManager OneTimeWorkRequest shows only the last notification","body":"<p>my app tracks the movie release dates, notifying the user the day of the release date. It could happen that two or more elements have the same release date and then, at midnight on that day, more notifications must be sent. The problem is that the notifications instead of accumulating replace each other, only showing the latest one.</p>\n<p>MainAcitvity:</p>\n<pre><code>createWorkRequest(element.getName(), notification_delay_in_seconds);\nprivate void createWorkRequest(String message, long timeDelayInSeconds) {\n    OneTimeWorkRequest temp = new OneTimeWorkRequest.Builder(ReminderWorker.class)\n            .setInitialDelay(timeDelayInSeconds, TimeUnit.SECONDS)\n            .setInputData(new Data.Builder()\n                    .putString(&quot;title&quot;, message)\n                    .build()\n            )\n            .build();\n\n    WorkManager.getInstance(this).enqueue(temp);\n}\n</code></pre>\n<p>NotificationHelper:</p>\n<pre><code>public final class NotificationHelper {\nprivate final String CHANNEL_ID = &quot;reminder_channel_id&quot;;\nprivate final int NOTIFICATION_ID = 1;\nprivate final Context context;\n\npublic NotificationHelper(@NotNull Context context) {\n    this.context = context;\n}\n\npublic void createNotification(@NotNull String title, @NotNull String message) {\n    createNotificationChannel();\n    Intent intent = new Intent(context, AnimeActivity.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK|Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n    Notification notification = new NotificationCompat.Builder(context, CHANNEL_ID)\n            .setSmallIcon(R.drawable.xxx)\n            .setContentTitle(title)\n            .setContentText(message)\n            .setContentIntent(pendingIntent)\n            .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n            .build();\n    NotificationManagerCompat.from(context).notify(NOTIFICATION_ID, notification);\n}\n\nprivate final void createNotificationChannel() {\n    if (Build.VERSION.SDK_INT &gt;= 26) {\n        NotificationChannel channel = new NotificationChannel(this.CHANNEL_ID, this.CHANNEL_ID, NotificationManager.IMPORTANCE_DEFAULT);\n        channel.setDescription(&quot;Reminder Channel Description&quot;);\n        NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.createNotificationChannel(channel);\n    }\n}\n\n@NotNull\npublic final Context getContext() {\n    return this.context;\n}\n</code></pre>\n<p>}</p>\n<p>ReminderWork:</p>\n<pre><code>public final class ReminderWorker extends Worker {\n@NotNull\nprivate final Context context;\n@NotNull\nprivate final WorkerParameters params;\n\n@NotNull\npublic Result doWork() {\n    new NotificationHelper(this.context).createNotification(String.valueOf(this.getInputData().getString(&quot;title&quot;)), &quot;test&quot;);\n    return Result.success();\n}\n\npublic ReminderWorker(@NotNull Context context, @NotNull WorkerParameters params) {\n    super(context, params);\n    this.context = context;\n    this.params = params;\n}\n\n@NotNull\npublic final Context getContext() {\n    return this.context;\n}\n\n@NotNull\npublic final WorkerParameters getParams() {\n    return this.params;\n}\n</code></pre>\n<p>}</p>\n<p>I tried also to delay each notification by 5 seconds to test if the problema was show 2 or more notification in the exact same time, but not working anyway, the first one is shown and then it is replaced with the last one, but I would like notifications would pile up instead of replace each other</p>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1669371587,"post_id":74571064,"comment_id":131631776,"body_markdown":"The content of the file should be the name of _your_ processor, not `javax.annotation.processing.Processor`. That should be the name of the file, but you already have that.","body":"The content of the file should be the name of <i>your</i> processor, not <code>javax.annotation.processing.Processor</code>. That should be the name of the file, but you already have that."},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1669372059,"post_id":74571064,"comment_id":131631912,"body_markdown":"What tutorial? What do you expect? What do is actual happening? And how do you execute your code above to get the result you expect?","body":"What tutorial? What do you expect? What do is actual happening? And how do you execute your code above to get the result you expect?"},{"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"score":0,"creation_date":1669373269,"post_id":74571064,"comment_id":131632255,"body_markdown":"jmizv, all tutorials are almost same i tried this: https://www.baeldung.com/java-annotation-processing-builder. result i excpect is to print every annotated method to system.out","body":"jmizv, all tutorials are almost same i tried this: <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung.com/java-annotation-processing-builder</a>. result i excpect is to print every annotated method to system.out"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669376310,"post_id":74571064,"comment_id":131633165,"body_markdown":"Looking at that link, it seems you are at least missing the `@SupportedSourceVersion` annotation. Also, please provide a [mre].","body":"Looking at that link, it seems you are at least missing the <code>@SupportedSourceVersion</code> annotation. Also, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":1,"creation_date":1669418523,"post_id":74571064,"comment_id":131643719,"body_markdown":"`System.out` doesn&#39;t always behave as you might expect, instead use the Messager class.","body":"<code>System.out</code> doesn&#39;t always behave as you might expect, instead use the Messager class."},{"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"score":0,"creation_date":1669619834,"post_id":74571064,"comment_id":131674532,"body_markdown":"Mark, here is example: https://github.com/Blu3cr0ss/JAPIssue\n@SupportedSourceVersion dont help","body":"Mark, here is example: <a href=\"https://github.com/Blu3cr0ss/JAPIssue\" rel=\"nofollow noreferrer\">github.com/Blu3cr0ss/JAPIssue</a> @SupportedSourceVersion dont help"},{"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"score":0,"creation_date":1669619869,"post_id":74571064,"comment_id":131674547,"body_markdown":"Colin, how should i use it? Its an interface","body":"Colin, how should i use it? Its an interface"},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1669696273,"post_id":74571064,"comment_id":131695466,"body_markdown":"This question lacks too much information to be adequately answered. &quot;It seems like everything is OK, but it isn&#39;t&quot; — very poor problem statement. Have you tried running your processor with javac (e.g without Gradle)? Did you use `annotationProcessor` dependency to add it to one of your projects? What is the actual issue you are facing? Can you attach logs? Btw, using `System.out` does not guarantee that you will see output in Gradle console, at least use System.err for that: https://stackoverflow.com/q/29470860/1643723","body":"This question lacks too much information to be adequately answered. &quot;It seems like everything is OK, but it isn&#39;t&quot; — very poor problem statement. Have you tried running your processor with javac (e.g without Gradle)? Did you use <code>annotationProcessor</code> dependency to add it to one of your projects? What is the actual issue you are facing? Can you attach logs? Btw, using <code>System.out</code> does not guarantee that you will see output in Gradle console, at least use System.err for that: <a href=\"https://stackoverflow.com/q/29470860/1643723\">stackoverflow.com/q/29470860/1643723</a>"},{"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"score":0,"creation_date":1669700407,"post_id":74571064,"comment_id":131696104,"body_markdown":"user1643723, i edited my question, i think now its better.I also tried Messager(as Colin said) but its dont work too.also, can you tell me more about `annotationProcessor` in gradle?","body":"user1643723, i edited my question, i think now its better.I also tried Messager(as Colin said) but its dont work too.also, can you tell me more about <code>annotationProcessor</code> in gradle?"},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1669704303,"post_id":74571064,"comment_id":131696848,"body_markdown":"By default java compiler runs all processors specified in the jar files on compilation classpath. This used to be very convenient. Unfortunately, Gradle developers, in their quest for faster incremental compilation, diverged from that behavior. When you build a project with Gradle, you need to specify all processors in special way: https://docs.gradle.org/4.6/release-notes.html#convenient-declaration-of-annotation-processor-dependencies","body":"By default java compiler runs all processors specified in the jar files on compilation classpath. This used to be very convenient. Unfortunately, Gradle developers, in their quest for faster incremental compilation, diverged from that behavior. When you build a project with Gradle, you need to specify all processors in special way: <a href=\"https://docs.gradle.org/4.6/release-notes.html#convenient-declaration-of-annotation-processor-dependencies\" rel=\"nofollow noreferrer\">docs.gradle.org/4.6/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669827029,"creation_date":1669827029,"answer_id":74631378,"question_id":74571064,"body_markdown":"i fixed my issue and decided to make a little step-by-step tutorial to create simple JAP:\r\n\r\n# Java-Annotation-Processor-guide\r\nThis is guide for annotation processing using gradle\r\n\r\nI spent 3 days trying to deal with it, but with this little tutorial you will made JAP in 5 minutes.\r\n\r\nsorry for bad english :)\r\n\r\n# So, first you should do is create gradle subproject for your project: \r\n  1) create project itself with `gradle init` or intellij\r\n  2) add to your main project&#39;s `settings.gradle` file this line `include &quot;*your subproject name, lets say:*annotation-processor&quot;`\r\n# Congrats, now let go to the processor itself\r\n  1) here is so much tutorials on the web about this part, so you can read something like this https://www.baeldung.com/java-annotation-processing-builde,&lt;br/&gt;\r\n  or this (Если ты русский): https://habr.com/ru/company/e-legion/blog/206208/\r\n# Final step is very easy - you will add your annotation processor to main project.\r\n  !!! instead of `annotation-processor` you should use your subproject name !!! &lt;br/&gt;\r\n  \r\n  kotlin (or java + kotlin) -&gt; {&lt;br/&gt;\r\n    add this plugin to your plugins: `id &quot;org.jetbrains.kotlin.kapt&quot; version &quot;1.7.21&quot;`&lt;br/&gt;\r\n    add this to your dependencies:&lt;br/&gt;\r\n    `kapt project(&#39;annotation-processor&#39;)`&lt;br/&gt;\r\n    `compileOnly project(&#39;annotation-processor&#39;)`&lt;br/&gt;\r\n  }&lt;br/&gt;\r\n  java -&gt; {&lt;br/&gt;\r\n    add this to your dependencies:&lt;br/&gt;\r\n    `annotationProcessor project(&#39;annotation-processor&#39;)`&lt;br/&gt;\r\n    `compileOnly project(&#39;annotation-processor&#39;)`&lt;br/&gt;\r\n  }&lt;br/&gt;\r\n(or you can read this on github: https://github.com/Blu3cr0ss/Java-Annotation-Processor-guide)","title":"can&#39;t figure out the java annotation processor","body":"<p>i fixed my issue and decided to make a little step-by-step tutorial to create simple JAP:</p>\n<h1>Java-Annotation-Processor-guide</h1>\n<p>This is guide for annotation processing using gradle</p>\n<p>I spent 3 days trying to deal with it, but with this little tutorial you will made JAP in 5 minutes.</p>\n<p>sorry for bad english :)</p>\n<h1>So, first you should do is create gradle subproject for your project:</h1>\n<ol>\n<li>create project itself with <code>gradle init</code> or intellij</li>\n<li>add to your main project's <code>settings.gradle</code> file this line <code>include &quot;*your subproject name, lets say:*annotation-processor&quot;</code></li>\n</ol>\n<h1>Congrats, now let go to the processor itself</h1>\n<ol>\n<li>here is so much tutorials on the web about this part, so you can read something like this <a href=\"https://www.baeldung.com/java-annotation-processing-builde\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-annotation-processing-builde</a>,<br/>\nor this (Если ты русский): <a href=\"https://habr.com/ru/company/e-legion/blog/206208/\" rel=\"nofollow noreferrer\">https://habr.com/ru/company/e-legion/blog/206208/</a></li>\n</ol>\n<h1>Final step is very easy - you will add your annotation processor to main project.</h1>\n<p>!!! instead of <code>annotation-processor</code> you should use your subproject name !!! <br/></p>\n<p>kotlin (or java + kotlin) -&gt; {<br/>\nadd this plugin to your plugins: <code>id &quot;org.jetbrains.kotlin.kapt&quot; version &quot;1.7.21&quot;</code><br/>\nadd this to your dependencies:<br/>\n<code>kapt project('annotation-processor')</code><br/>\n<code>compileOnly project('annotation-processor')</code><br/>\n}<br/>\njava -&gt; {<br/>\nadd this to your dependencies:<br/>\n<code>annotationProcessor project('annotation-processor')</code><br/>\n<code>compileOnly project('annotation-processor')</code><br/>\n}<br/>\n(or you can read this on github: <a href=\"https://github.com/Blu3cr0ss/Java-Annotation-Processor-guide\" rel=\"nofollow noreferrer\">https://github.com/Blu3cr0ss/Java-Annotation-Processor-guide</a>)</p>\n"}],"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74631378,"answer_count":1,"score":0,"last_activity_date":1669827029,"creation_date":1669370543,"question_id":74571064,"body_markdown":"I&#39;m trying to deal with annotation processors. I followed tutorials. Here is my code:\r\n```java\r\n@ExampleAnnotation\r\nprivate void someMethod(){\r\n    System.out.println(&quot;hi&quot;);\r\n}\r\n```\r\n```java\r\n@Retention(RetentionPolicy.SOURCE)\r\n@Target(ElementType.METHOD)\r\npublic @interface ExampleAnnotation {\r\n\r\n}\r\n```\r\n```java\r\n@SupportedAnnotationTypes(&quot;org.example.ExampleAnnotation&quot;)\r\npublic class Processor extends AbstractProcessor {\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; anots, RoundEnvironment roundEnvironment) {\r\n        anots.forEach(System.out::println);\r\n        return true;\r\n    }\r\n}\r\n```\r\nI created `META-INF/SERVICES/javax.annotation.processing.Processor`\r\nand registered my processor: ```org.example.Processor```. It seems like everything is OK, but block of code in the processor just dont start. I have no idea what is wrong. P.S.: I use Gradle and Java 11.","title":"can&#39;t figure out the java annotation processor","body":"<p>I'm trying to deal with annotation processors. I followed tutorials. Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExampleAnnotation\nprivate void someMethod(){\n    System.out.println(&quot;hi&quot;);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.SOURCE)\n@Target(ElementType.METHOD)\npublic @interface ExampleAnnotation {\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SupportedAnnotationTypes(&quot;org.example.ExampleAnnotation&quot;)\npublic class Processor extends AbstractProcessor {\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; anots, RoundEnvironment roundEnvironment) {\n        anots.forEach(System.out::println);\n        return true;\n    }\n}\n</code></pre>\n<p>I created <code>META-INF/SERVICES/javax.annotation.processing.Processor</code>\nand registered my processor: <code>org.example.Processor</code>. It seems like everything is OK, but block of code in the processor just dont start. I have no idea what is wrong. P.S.: I use Gradle and Java 11.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":10214190,"reputation":2729,"user_id":7540393,"accept_rate":73,"display_name":"Arthur Attout"},"score":0,"creation_date":1669824638,"post_id":74630798,"comment_id":131732277,"body_markdown":"I&#39;m confused regarding what is your underlying need. But I sense **interfaces** (or abstraction mechanism) is what you need.","body":"I&#39;m confused regarding what is your underlying need. But I sense <b>interfaces</b> (or abstraction mechanism) is what you need."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1669824888,"post_id":74630798,"comment_id":131732379,"body_markdown":"@kleopatra I don&#39;t think it is unrelated. `Thing1.getStuff()` looks like a static method and they say `Thing1` and `Thing2` are types. So they&#39;re lacking details, that naming conventions could help clarify","body":"@kleopatra I don&#39;t think it is unrelated. <code>Thing1.getStuff()</code> looks like a static method and they say <code>Thing1</code> and <code>Thing2</code> are types. So they&#39;re lacking details, that naming conventions could help clarify"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1669825175,"post_id":74630798,"comment_id":131732490,"body_markdown":"@matt true (read: I fully agree :), though we can&#39;t really know whether getStuff is static or just sloppy snippets, but we do know the `class doStuff` and `void DoThis` are indeed naming violations :)","body":"@matt true (read: I fully agree :), though we can&#39;t really know whether getStuff is static or just sloppy snippets, but we do know the <code>class doStuff</code> and <code>void DoThis</code> are indeed naming violations :)"},{"owner":{"account_id":236848,"reputation":1659,"user_id":504617,"accept_rate":73,"display_name":"stevenmc"},"score":0,"creation_date":1669826014,"post_id":74630798,"comment_id":131732788,"body_markdown":"@matt Thank you. getStuff is a static method that I have no control over. You can call it a sloppy snippet, for sure, but the idea is to suggest that I do need the ability to call methods on Thing1/Thing2 etc. I&#39;m trying to keep the focus on what I see as important. Sorry if I left detail out.\nAbout naming conventions, yes, I&#39;m paraphrasing everything here. My code looks different, I&#39;m just trying to get the point of the logic here. But thank you.","body":"@matt Thank you. getStuff is a static method that I have no control over. You can call it a sloppy snippet, for sure, but the idea is to suggest that I do need the ability to call methods on Thing1/Thing2 etc. I&#39;m trying to keep the focus on what I see as important. Sorry if I left detail out. About naming conventions, yes, I&#39;m paraphrasing everything here. My code looks different, I&#39;m just trying to get the point of the logic here. But thank you."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669826584,"post_id":74630798,"comment_id":131732996,"body_markdown":"If you&#39;re paraphrasing, then absolutely make sure you&#39;re using naming conventions. Please switch the name of your interface to DoStuff and your method to doThis. It doesn&#39;t change the effects of the code, but it helps us understand. I have trouble thinking of an example where a static method `Thing1.getStuff()` needs to be followed by `instanceof`. Is `getStuff` going to change during runtime?","body":"If you&#39;re paraphrasing, then absolutely make sure you&#39;re using naming conventions. Please switch the name of your interface to DoStuff and your method to doThis. It doesn&#39;t change the effects of the code, but it helps us understand. I have trouble thinking of an example where a static method <code>Thing1.getStuff()</code> needs to be followed by <code>instanceof</code>. Is <code>getStuff</code> going to change during runtime?"},{"owner":{"account_id":236848,"reputation":1659,"user_id":504617,"accept_rate":73,"display_name":"stevenmc"},"score":0,"creation_date":1669827062,"post_id":74630798,"comment_id":131733163,"body_markdown":"@matt I&#39;ve changed that, thank you. Yes, it can change during runtime. Not my code, and I&#39;m only able to affect some of it. I have no ability to edit Thing1/Thing2 either, which makes things tricky.","body":"@matt I&#39;ve changed that, thank you. Yes, it can change during runtime. Not my code, and I&#39;m only able to affect some of it. I have no ability to edit Thing1/Thing2 either, which makes things tricky."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669886690,"post_id":74630798,"comment_id":131746427,"body_markdown":"Does input have to be Thing1, Thing2 etc? In that case you cannot really do anything because you want to access the static methods. You could take `String doThis(Object input)` where input is the result of `ThingX.getStuff()`. That would help you consolidate the logic.","body":"Does input have to be Thing1, Thing2 etc? In that case you cannot really do anything because you want to access the static methods. You could take <code>String doThis(Object input)</code> where input is the result of <code>ThingX.getStuff()</code>. That would help you consolidate the logic."},{"owner":{"account_id":236848,"reputation":1659,"user_id":504617,"accept_rate":73,"display_name":"stevenmc"},"score":0,"creation_date":1669892741,"post_id":74630798,"comment_id":131748471,"body_markdown":"Thank you! It seems that what I&#39;m hoping for is unrealistic due to these restrictions and this repeating code is inevitable.","body":"Thank you! It seems that what I&#39;m hoping for is unrealistic due to these restrictions and this repeating code is inevitable."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669824733,"creation_date":1669824733,"answer_id":74630877,"question_id":74630798,"body_markdown":"You need your `Thing` classes to implement a common interface such as\r\n\r\n    public interface Thing {\r\n      public String myMethod();\r\n    }\r\n\r\n    public class Thing1 implements Thing {\r\n      ...\r\n    }\r\n\r\nIf they don&#39;t have a common supertype, then the two `myMethod` methods are *unrelated*. The fact that they have the same name is irrelevant to Java; they&#39;re distinct methods defined in distinct classes. You *can* access them with reflection shenanigans, but then you&#39;re giving up a lot of type safety (at that point, you would just take an `Object` and trust the user to provide a value of the correct type; it&#39;s ugly and messy and I don&#39;t recommend it).\r\n\r\nIf the classes in question are third-party classes (i.e. that you don&#39;t control) and don&#39;t implement a common interface, then you need the [adapter pattern](https://en.wikipedia.org/wiki/Adapter_pattern). Basically, you define a new class that *does* implement the interface and wraps an instance of the original.\r\n\r\n    public class Thing1Adapter implements Thing {\r\n      private Thing1 impl;\r\n\r\n      public Thing1Adapter(Thing1 impl) {\r\n        this.impl = impl;\r\n      }\r\n\r\n      @Override\r\n      public String myMethod() {\r\n        return this.impl.myMethod();\r\n      }\r\n\r\n    }\r\n\r\n    ...\r\n\r\n    DoThis(new Thing1Adapter(myThing1));","title":"Java method with unknown parameter type","body":"<p>You need your <code>Thing</code> classes to implement a common interface such as</p>\n<pre><code>public interface Thing {\n  public String myMethod();\n}\n\npublic class Thing1 implements Thing {\n  ...\n}\n</code></pre>\n<p>If they don't have a common supertype, then the two <code>myMethod</code> methods are <em>unrelated</em>. The fact that they have the same name is irrelevant to Java; they're distinct methods defined in distinct classes. You <em>can</em> access them with reflection shenanigans, but then you're giving up a lot of type safety (at that point, you would just take an <code>Object</code> and trust the user to provide a value of the correct type; it's ugly and messy and I don't recommend it).</p>\n<p>If the classes in question are third-party classes (i.e. that you don't control) and don't implement a common interface, then you need the <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">adapter pattern</a>. Basically, you define a new class that <em>does</em> implement the interface and wraps an instance of the original.</p>\n<pre><code>public class Thing1Adapter implements Thing {\n  private Thing1 impl;\n\n  public Thing1Adapter(Thing1 impl) {\n    this.impl = impl;\n  }\n\n  @Override\n  public String myMethod() {\n    return this.impl.myMethod();\n  }\n\n}\n\n...\n\nDoThis(new Thing1Adapter(myThing1));\n</code></pre>\n"}],"owner":{"account_id":236848,"reputation":1659,"user_id":504617,"accept_rate":73,"display_name":"stevenmc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669826957,"creation_date":1669824358,"question_id":74630798,"body_markdown":"I&#39;m new to Java.\r\n\r\nThere is repeating code in multiple files in a project I&#39;m working on.\r\nObject types can be Thing1, Thing2, Thing3 etc.\r\nSo the code looks like:\r\n\r\n    if (Thing1.getStuff() instanceof String) {\r\n      myObj.setString(&quot;Hello&quot;);\r\n    } else {\r\n      myObj.setString(&quot;World&quot;);\r\n    }\r\n\r\nI want to extend myObj with a class and method to handle this, as such:\r\n\r\n    public class myObj extends DoStuff {...}\r\n--\r\n\r\n    class DoStuff {\r\n        public String doThis(*WHAT_TYPE_TO_USE* input) {\r\n            var String = input.myMethod(); // I need to call method.\r\n            return &quot;String after some logic&quot;;\r\n        }\r\n    }\r\n\r\nWhich should allow me to run:\r\n\r\n     myObj.doThis(&quot;Something&quot;);\r\n\r\nHowever, I can&#39;t specify input to be a specific type in the method as it could be Thing1, Thing2 etc. Also, Thing1 and Thing2 can&#39;t be dynamically imported, can they? How can I run myMethod (which exists in Thing1 and Thing2)?\r\n\r\nAny advice is appreciated.","title":"Java method with unknown parameter type","body":"<p>I'm new to Java.</p>\n<p>There is repeating code in multiple files in a project I'm working on.\nObject types can be Thing1, Thing2, Thing3 etc.\nSo the code looks like:</p>\n<pre><code>if (Thing1.getStuff() instanceof String) {\n  myObj.setString(&quot;Hello&quot;);\n} else {\n  myObj.setString(&quot;World&quot;);\n}\n</code></pre>\n<p>I want to extend myObj with a class and method to handle this, as such:</p>\n<pre><code>public class myObj extends DoStuff {...}\n</code></pre>\n<p>--</p>\n<pre><code>class DoStuff {\n    public String doThis(*WHAT_TYPE_TO_USE* input) {\n        var String = input.myMethod(); // I need to call method.\n        return &quot;String after some logic&quot;;\n    }\n}\n</code></pre>\n<p>Which should allow me to run:</p>\n<pre><code> myObj.doThis(&quot;Something&quot;);\n</code></pre>\n<p>However, I can't specify input to be a specific type in the method as it could be Thing1, Thing2 etc. Also, Thing1 and Thing2 can't be dynamically imported, can they? How can I run myMethod (which exists in Thing1 and Thing2)?</p>\n<p>Any advice is appreciated.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":22270575,"reputation":931,"user_id":16500604,"display_name":"Jonas Weinhardt"},"score":0,"creation_date":1669805742,"post_id":74626580,"comment_id":131725055,"body_markdown":"You cant do this on a non rooted device afaik","body":"You cant do this on a non rooted device afaik"}],"answers":[{"tags":[],"owner":{"account_id":21708913,"reputation":355,"user_id":16020851,"display_name":"ToxicFlame427"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669826916,"creation_date":1669826916,"answer_id":74631341,"question_id":74626580,"body_markdown":"This is not possible as Android can manipulate these variables only. This is why applications would ask for you to tun on your location instead of the app just doing it.","title":"Mode change programmatically","body":"<p>This is not possible as Android can manipulate these variables only. This is why applications would ask for you to tun on your location instead of the app just doing it.</p>\n"}],"owner":{"account_id":14425877,"reputation":1,"user_id":10420658,"display_name":"Rishat Amin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669826916,"creation_date":1669805620,"question_id":74626580,"body_markdown":"Is it possible to change phone mode programmatically, i.e., turn on or off Airplane mode programmatically? If so, could you please provide some resources to get a clearer concept of it?\r\n\r\nas it is not possible on wear Os, so qurious mind wants to know is it possible in mobile phone or not ?","title":"Mode change programmatically","body":"<p>Is it possible to change phone mode programmatically, i.e., turn on or off Airplane mode programmatically? If so, could you please provide some resources to get a clearer concept of it?</p>\n<p>as it is not possible on wear Os, so qurious mind wants to know is it possible in mobile phone or not ?</p>\n"},{"tags":["java","yaml"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1669768986,"post_id":74621712,"comment_id":131717034,"body_markdown":"_&quot;but the compile says no&quot;_ - Compilers don&#39;t say &quot;no&quot;.  [Edit] your question and include the complete error message or stack trace.","body":"<i>&quot;but the compile says no&quot;</i> - Compilers don&#39;t say &quot;no&quot;.  <a href=\"https://stackoverflow.com/posts/74621712/edit\">Edit</a> your question and include the complete error message or stack trace."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669769042,"post_id":74621712,"comment_id":131717041,"body_markdown":"And show how you tried casting.","body":"And show how you tried casting."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669769500,"post_id":74621712,"comment_id":131717110,"body_markdown":"`buildRpmPath = ((Map)yamlMaps.get(&quot;app&quot;)).get(&quot;buildRpmPath&quot;).toString();` would seem more promising","body":"<code>buildRpmPath = ((Map)yamlMaps.get(&quot;app&quot;)).get(&quot;buildRpmPath&quot;).toString();</code> would seem more promising"}],"answers":[{"tags":[],"owner":{"account_id":26681786,"reputation":1,"user_id":20291626,"display_name":"John kerich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669826913,"creation_date":1669826913,"answer_id":74631338,"question_id":74621712,"body_markdown":"I have switched to jackson-dataformat-yaml and by building classes to hold the fields was able to finally read in the yaml file based on the https://www.w3schools.io/file/yaml-java-read-write/ YAML Tutorials.\r\n\r\nThe one thing the tutorial did not make clear is the YAMLFactory is calling the classes setters which was based on the key name (i.e. app: is setApp()) and I was trying to use the setAppconfig for the AppConfig.java vs. setDatabase (for DatabaseConfig.java) when I started to modify their example causing a not found exception.","title":"How to get values from Map where Object is a list of key pairs?","body":"<p>I have switched to jackson-dataformat-yaml and by building classes to hold the fields was able to finally read in the yaml file based on the <a href=\"https://www.w3schools.io/file/yaml-java-read-write/\" rel=\"nofollow noreferrer\">https://www.w3schools.io/file/yaml-java-read-write/</a> YAML Tutorials.</p>\n<p>The one thing the tutorial did not make clear is the YAMLFactory is calling the classes setters which was based on the key name (i.e. app: is setApp()) and I was trying to use the setAppconfig for the AppConfig.java vs. setDatabase (for DatabaseConfig.java) when I started to modify their example causing a not found exception.</p>\n"}],"owner":{"account_id":26681786,"reputation":1,"user_id":20291626,"display_name":"John kerich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669826913,"creation_date":1669768593,"question_id":74621712,"body_markdown":"I have been searching for hours trying to find how to read in this yaml file where app is a directory of key/values.  But I can&#39;t find anyway to access the app list of pairs.  I tried to first get the &quot;app&quot; value with get and then do a second get to  the the value for &quot;buildRpmPath&quot; but the compile says no.  I can see the Object is a LinkedHashMap but I can&#39;t do anything with it.   How do you code this?\r\n\r\nYaml input file:\r\n\r\n    # Servlet MCD configuration file\r\n    app:\r\n      buildRpmPath: /home/jkerich/Software/buildrpm/\r\n      rootConfigurationPath: /home/jkerich/Software/RTConfigurationFiles/`\r\n\r\nJava code that is trying to get buildRpmPath value.\r\n\r\n    inputStream = new FileInputStream(defaultPath);\r\n    \t\t\t\t\r\n    Map&lt;String, Object&gt; yamlMaps = yaml.load(inputStream);\r\n    System.out.println(yamlMaps);\r\n    {app={buildRpmPath=/home/jkerich/Software/buildrpm/, rootConfigurationPath=/home/jkerich/Software/RTConfigurationFiles/}}\r\n    \r\n    buildRpmPath = yamlMaps.get(&quot;app&quot;).get(&quot;buildRpmPath&quot;).toString();`\r\n\r\nI have search on Map and LinkedHashMap and found nothing on how to get into the pair list.  I have tried casting, loading Object into Map or LinkedHashMap but again the compiler says no.  I have looked for a way to set Map with the Object returning a as a String.  Nothing I can think of works.  I just can&#39;t access/convert the Object into a Map.  I can see them in the debugger, but there is are methods that seem to work.\r\n\r\n\r\n\r\n","title":"How to get values from Map where Object is a list of key pairs?","body":"<p>I have been searching for hours trying to find how to read in this yaml file where app is a directory of key/values.  But I can't find anyway to access the app list of pairs.  I tried to first get the &quot;app&quot; value with get and then do a second get to  the the value for &quot;buildRpmPath&quot; but the compile says no.  I can see the Object is a LinkedHashMap but I can't do anything with it.   How do you code this?</p>\n<p>Yaml input file:</p>\n<pre><code># Servlet MCD configuration file\napp:\n  buildRpmPath: /home/jkerich/Software/buildrpm/\n  rootConfigurationPath: /home/jkerich/Software/RTConfigurationFiles/`\n</code></pre>\n<p>Java code that is trying to get buildRpmPath value.</p>\n<pre><code>inputStream = new FileInputStream(defaultPath);\n                \nMap&lt;String, Object&gt; yamlMaps = yaml.load(inputStream);\nSystem.out.println(yamlMaps);\n{app={buildRpmPath=/home/jkerich/Software/buildrpm/, rootConfigurationPath=/home/jkerich/Software/RTConfigurationFiles/}}\n\nbuildRpmPath = yamlMaps.get(&quot;app&quot;).get(&quot;buildRpmPath&quot;).toString();`\n</code></pre>\n<p>I have search on Map and LinkedHashMap and found nothing on how to get into the pair list.  I have tried casting, loading Object into Map or LinkedHashMap but again the compiler says no.  I have looked for a way to set Map with the Object returning a as a String.  Nothing I can think of works.  I just can't access/convert the Object into a Map.  I can see them in the debugger, but there is are methods that seem to work.</p>\n"},{"tags":["java","android","android-layout","android-fragments","android-lifecycle"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1669829121,"post_id":74631336,"comment_id":131733851,"body_markdown":"Does this answer your question:\nhttps://stackoverflow.com/questions/9245408/best-practice-for-instantiating-a-new-android-fragment","body":"Does this answer your question: <a href=\"https://stackoverflow.com/questions/9245408/best-practice-for-instantiating-a-new-android-fragment\" title=\"best practice for instantiating a new android fragment\">stackoverflow.com/questions/9245408/&hellip;</a>"},{"owner":{"account_id":17000604,"reputation":26,"user_id":12298092,"display_name":"Mohammed Abdalmonim"},"score":0,"creation_date":1669831768,"post_id":74631336,"comment_id":131734732,"body_markdown":"@dominicoder helpful, it gives me the start of the road.","body":"@dominicoder helpful, it gives me the start of the road."}],"owner":{"account_id":17000604,"reputation":26,"user_id":12298092,"display_name":"Mohammed Abdalmonim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669826879,"creation_date":1669826879,"question_id":74631336,"body_markdown":"I have added a fragment in another fragment \r\nin this way \r\n\r\n```\r\nSecondfragment secondFragment=new SecondFragment(parmater);\r\n\r\nfragmentManager.beginTransaction()\r\n        .replace(fragmentContainerView.getId(),\r\n                secondFragment, null)\r\n        .setReorderingAllowed(true)\r\n        .commit();\r\n```\r\nthe firstFragment is containing the fragmentContainerView and it&#39;s inside a ViewPager2 with other fragments \r\nafter changing the page and return to it again the app is crashes and give me the error \r\nUnable to instantiate fragment , as I mentioned this because the firstFragment have a parameter in constructor .\r\nI use this way in multiple places . \r\n\r\n\r\n\r\nafter changing the page the first fragment is been in the onPause state and after I go to the first fragment again its recreate the views and the proplen happen here , it cannot instantiate the second fragment.\r\n \r\nI want a way to let it instantiate it again ,or any better idea and thank you in advance .","title":"how to let android framework to instantiate a fragment that have a constructor parameter in save instance state","body":"<p>I have added a fragment in another fragment\nin this way</p>\n<pre><code>Secondfragment secondFragment=new SecondFragment(parmater);\n\nfragmentManager.beginTransaction()\n        .replace(fragmentContainerView.getId(),\n                secondFragment, null)\n        .setReorderingAllowed(true)\n        .commit();\n</code></pre>\n<p>the firstFragment is containing the fragmentContainerView and it's inside a ViewPager2 with other fragments\nafter changing the page and return to it again the app is crashes and give me the error\nUnable to instantiate fragment , as I mentioned this because the firstFragment have a parameter in constructor .\nI use this way in multiple places .</p>\n<p>after changing the page the first fragment is been in the onPause state and after I go to the first fragment again its recreate the views and the proplen happen here , it cannot instantiate the second fragment.</p>\n<p>I want a way to let it instantiate it again ,or any better idea and thank you in advance .</p>\n"},{"tags":["java","eclipse","maven","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":5347555,"reputation":51,"user_id":4262667,"display_name":"Suman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1416255786,"creation_date":1416252992,"answer_id":26980541,"question_id":26698239,"body_markdown":"Add Remote Archetype in your eclipse it will show you that option. Following are the steps:\r\n\r\n1. File---&gt;New---&gt; Maven Project----&gt;Next---&gt;Click on tab Configure\r\n\r\n2. Separate window will open... Maven--&gt;Archetypes--&gt;Click on Add Remote Catalog--&gt; In Catalog File type &quot;http://repo1.maven.org/maven2/archetype-catalog.xml&quot; and click on Apply and then Ok\r\n\r\n3. Now in new Maven Project select Remote Archetype from Catalog and you will find webapp-j2ee14 option there.\r\n\r\n","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>Add Remote Archetype in your eclipse it will show you that option. Following are the steps:</p>\n\n<ol>\n<li><p>File--->New---> Maven Project---->Next--->Click on tab Configure</p></li>\n<li><p>Separate window will open... Maven-->Archetypes-->Click on Add Remote Catalog--> In Catalog File type \"<a href=\"http://repo1.maven.org/maven2/archetype-catalog.xml\" rel=\"noreferrer\">http://repo1.maven.org/maven2/archetype-catalog.xml</a>\" and click on Apply and then Ok</p></li>\n<li><p>Now in new Maven Project select Remote Archetype from Catalog and you will find webapp-j2ee14 option there.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8650130,"reputation":1,"user_id":6476117,"display_name":"Shivdas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482654415,"creation_date":1482654415,"answer_id":41319718,"question_id":26698239,"body_markdown":"I got same issue, I have solved by manually removing unused **pom.xml** file  at the working workspace or root of workspace directory.","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>I got same issue, I have solved by manually removing unused <strong>pom.xml</strong> file  at the working workspace or root of workspace directory.</p>\n"},{"tags":[],"owner":{"account_id":6614087,"reputation":9,"user_id":5108026,"display_name":"Harpreet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511148578,"creation_date":1511148578,"answer_id":47384685,"question_id":26698239,"body_markdown":"I got the same problem and i was creating a simple Web App. I created the MAVEN project first then i deleted it and again when i created it i got this error. So i changed the version of archetype. I was using 2.16 version of the archetype that i was adding to my MAVEN project, changed it to latest 2.26 and it worked for me.\r\nYou can check the latest version from http://repo1.maven.org/maven2/archetype-catalog.xml","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>I got the same problem and i was creating a simple Web App. I created the MAVEN project first then i deleted it and again when i created it i got this error. So i changed the version of archetype. I was using 2.16 version of the archetype that i was adding to my MAVEN project, changed it to latest 2.26 and it worked for me.\nYou can check the latest version from <a href=\"http://repo1.maven.org/maven2/archetype-catalog.xml\" rel=\"nofollow noreferrer\">http://repo1.maven.org/maven2/archetype-catalog.xml</a></p>\n"},{"tags":[],"owner":{"account_id":5811438,"reputation":1501,"user_id":4582350,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534503036,"creation_date":1534502604,"answer_id":51893675,"question_id":26698239,"body_markdown":"I think the work space has messed up of some reason. These steps below may help\r\n\r\n  1. Close eclipse\r\n  2. delete the `.metadata` directory\r\n  3. Restart the eclipse, pointing to same workspace and try the process to create new maven project\r\n\r\nor if this approach didn&#39;t work\r\n\r\n 1. switch to a fresh new workspace and try the same process to create your maven project\r\n\r\nThis is worked for me!","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>I think the work space has messed up of some reason. These steps below may help</p>\n\n<ol>\n<li>Close eclipse</li>\n<li>delete the <code>.metadata</code> directory</li>\n<li>Restart the eclipse, pointing to same workspace and try the process to create new maven project</li>\n</ol>\n\n<p>or if this approach didn't work</p>\n\n<ol>\n<li>switch to a fresh new workspace and try the same process to create your maven project</li>\n</ol>\n\n<p>This is worked for me!</p>\n"},{"tags":[],"owner":{"account_id":14214278,"reputation":31,"user_id":10718548,"display_name":"Mohan Tenneti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572712612,"creation_date":1572712612,"answer_id":58673081,"question_id":26698239,"body_markdown":"I got this problem as I have deleted a previously created project from Eclipse.\r\nLater, I deleted the .metadata file and the project from workspace. Then this problem was resolved.","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>I got this problem as I have deleted a previously created project from Eclipse.\nLater, I deleted the .metadata file and the project from workspace. Then this problem was resolved.</p>\n"},{"tags":[],"owner":{"account_id":20791455,"reputation":1,"user_id":15269531,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614423539,"creation_date":1614423539,"answer_id":66398097,"question_id":26698239,"body_markdown":"After working whole day, finally I found the solution. I just went to Eclipse marketlace(help-Eclipse marketplace) and updated maven from there. Now it works wonders. Earlier I was unable to install TestNG plugin from Eclipse marketplace, but now after updating maven from there, Testng plugin successfully installed in my eclipse luna.","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>After working whole day, finally I found the solution. I just went to Eclipse marketlace(help-Eclipse marketplace) and updated maven from there. Now it works wonders. Earlier I was unable to install TestNG plugin from Eclipse marketplace, but now after updating maven from there, Testng plugin successfully installed in my eclipse luna.</p>\n"},{"tags":[],"owner":{"account_id":11139153,"reputation":59,"user_id":8176437,"display_name":"Aditya Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669826728,"creation_date":1669826728,"answer_id":74631303,"question_id":26698239,"body_markdown":"I was trying to create a **maven archetype quickstart** and faced this issue, I have never created any maven project before so for those below is the steps you need to follow -\r\n\r\n1. Go to to **Run -&gt; Run As -&gt; Maven Install** \r\n2. In the project explorer right click on **pom.xml file -&gt; Maven -&gt; Update project.**\r\n\r\nThis will for sure resolve the issue.\r\n\r\nEclipse version I am using : 2021-09 (4.21.0)","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>I was trying to create a <strong>maven archetype quickstart</strong> and faced this issue, I have never created any maven project before so for those below is the steps you need to follow -</p>\n<ol>\n<li>Go to to <strong>Run -&gt; Run As -&gt; Maven Install</strong></li>\n<li>In the project explorer right click on <strong>pom.xml file -&gt; Maven -&gt; Update project.</strong></li>\n</ol>\n<p>This will for sure resolve the issue.</p>\n<p>Eclipse version I am using : 2021-09 (4.21.0)</p>\n"}],"owner":{"account_id":2196615,"reputation":853,"user_id":1942080,"accept_rate":84,"display_name":"Siddharth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19387,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":7,"score":3,"last_activity_date":1669826728,"creation_date":1414923478,"question_id":26698239,"body_markdown":"I am trying to create a simple Maven project in Eclipse Luna. As this is my first maven project so I am starting with a simple one. I am trying to crate a simple web project using the **webapp-j2ee14** archetype.\r\n\r\nWhile creating I found that this archetype is not present in archetype list. So I tried with **Add Archetype** option and Provided the following archetype options.\r\n\r\n    &lt;archetype&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo.archetypes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webapp-j2ee14&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n      &lt;repository&gt;http://repo1.maven.org/maven2/org/codehaus/mojo/archetypes/webapp-j2ee14/1.3/&lt;/repository&gt;\r\n    &lt;/archetype&gt;\r\n\r\nThe above code snippet is basically from **archetype-catalog.xml** file in **.m2** directory in my system, but I actually entered them from eclipse UI.\r\n\r\nNow, when I am clicking finish it&#39;s giving me the following error...\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kZ8L0.jpg\r\n\r\n\r\n\r\nI tried with few other repo url after searching google but getting the same error. Where can I get the correct repo url for this archetype??\r\n\r\nThanks in advance...","title":"Unable to create project from archetype in Eclipse Luna","body":"<p>I am trying to create a simple Maven project in Eclipse Luna. As this is my first maven project so I am starting with a simple one. I am trying to crate a simple web project using the <strong>webapp-j2ee14</strong> archetype.</p>\n\n<p>While creating I found that this archetype is not present in archetype list. So I tried with <strong>Add Archetype</strong> option and Provided the following archetype options.</p>\n\n<pre><code>&lt;archetype&gt;\n  &lt;groupId&gt;org.codehaus.mojo.archetypes&lt;/groupId&gt;\n  &lt;artifactId&gt;webapp-j2ee14&lt;/artifactId&gt;\n  &lt;version&gt;1.3&lt;/version&gt;\n  &lt;repository&gt;http://repo1.maven.org/maven2/org/codehaus/mojo/archetypes/webapp-j2ee14/1.3/&lt;/repository&gt;\n&lt;/archetype&gt;\n</code></pre>\n\n<p>The above code snippet is basically from <strong>archetype-catalog.xml</strong> file in <strong>.m2</strong> directory in my system, but I actually entered them from eclipse UI.</p>\n\n<p>Now, when I am clicking finish it's giving me the following error...</p>\n\n<p><img src=\"https://i.stack.imgur.com/kZ8L0.jpg\" alt=\"enter image description here\"></p>\n\n<p>I tried with few other repo url after searching google but getting the same error. Where can I get the correct repo url for this archetype??</p>\n\n<p>Thanks in advance...</p>\n"},{"tags":["java","amazon-s3","aws-sdk-java","amazon-s3-access-points"],"answers":[{"tags":[],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669826609,"creation_date":1669826609,"answer_id":74631279,"question_id":74613615,"body_markdown":"`pom.xml` has another transitive dependency `com.amazonaws:aws-java-sdk-bundle:jar:1.11.375:compile` coming from following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\r\n      &lt;version&gt;${hadoop.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`aws-java-sdk-bundle` was overriding most of the classes from the original `aws-java-sdk-s3`.\r\n\r\nSwapping the position with `hadoop-aws` and `aws-java-sdk-s3` resolved the issue! (pushing dependency `aws-java-sdk-s3` before `hadoop-aws`)","title":"InvalidBucketName with Java AWS SDK 1.x using S3 Access points","body":"<p><code>pom.xml</code> has another transitive dependency <code>com.amazonaws:aws-java-sdk-bundle:jar:1.11.375:compile</code> coming from following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n  &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\n  &lt;version&gt;${hadoop.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>aws-java-sdk-bundle</code> was overriding most of the classes from the original <code>aws-java-sdk-s3</code>.</p>\n<p>Swapping the position with <code>hadoop-aws</code> and <code>aws-java-sdk-s3</code> resolved the issue! (pushing dependency <code>aws-java-sdk-s3</code> before <code>hadoop-aws</code>)</p>\n"}],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74631279,"answer_count":1,"score":0,"last_activity_date":1669826609,"creation_date":1669722444,"question_id":74613615,"body_markdown":"I am trying to perform `GetObject` operation on a bucket via configured `accesspoint` through AWS SDK version 1.x (tried with 1.12.348 and 1.11.1004):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n      &lt;version&gt;1.12.348&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have following code to execute the `GetObject` operation:\r\n\r\n    AmazonS3 amazonS3 = AmazonS3ClientBuilder.standard().withRegion(awsRegion).build();\r\n\r\n    String bucketName= &quot;arn:aws:s3:&lt;bucket-region&gt;:&lt;accountNumber&gt;:accesspoint:&lt;access-point-name&gt;&quot;;\r\n    String key = &quot;bucket/path/filename.txt&quot;;\r\n    File to = // a file;\r\n\r\n    amazonS3.getObject(new GetObjectRequest(bucketName, key), to);\r\n\r\nAccording to the documentation bucketName can be:\r\n\r\n&gt; The name of the bucket, or access point ARN, containing the desired object.\r\n\r\nAnd..\r\n&gt; When using this operation using an access point through the Amazon Web Services SDKs, you provide the access point ARN in place of the bucket name. For more information about access point ARNs, see Using access points in the Amazon Simple Storage Service Developer Guide.\r\n\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html\r\n\r\nHowever this is throwing an error:\r\n\r\n    &lt;Error&gt;&lt;Code&gt;InvalidBucketName&lt;/Code&gt;&lt;Message&gt;The specified bucket is not valid.&lt;/Message&gt;&lt;BucketName&gt;arn:aws:s3:&lt;bucket-region&gt;:&lt;accountNumber&gt;:accesspoint:&lt;access-point-name&gt;&lt;/BucketName&gt;&lt;RequestId&gt;**********&lt;/RequestId&gt;&lt;HostId&gt;*******************&lt;/HostId&gt;&lt;/Error&gt;\r\n\r\nWith the error it looks like it doesn&#39;t support the ARN formatted bucket name and complaining about special characters within the ARN accesspoint name.\r\n\r\nPS: Within accesspoint value `arn:aws:s3:&lt;bucket-region&gt;:&lt;accountNumber&gt;:accesspoint:&lt;access-point-name&gt;`, actual values are replaces with placeholders between &lt;&gt;, so the error won&#39;t be related to these characters. This are presented here with placeholders for data protection purposes.\r\n\r\n\r\n","title":"InvalidBucketName with Java AWS SDK 1.x using S3 Access points","body":"<p>I am trying to perform <code>GetObject</code> operation on a bucket via configured <code>accesspoint</code> through AWS SDK version 1.x (tried with 1.12.348 and 1.11.1004):</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n  &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n  &lt;version&gt;1.12.348&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have following code to execute the <code>GetObject</code> operation:</p>\n<pre><code>AmazonS3 amazonS3 = AmazonS3ClientBuilder.standard().withRegion(awsRegion).build();\n\nString bucketName= &quot;arn:aws:s3:&lt;bucket-region&gt;:&lt;accountNumber&gt;:accesspoint:&lt;access-point-name&gt;&quot;;\nString key = &quot;bucket/path/filename.txt&quot;;\nFile to = // a file;\n\namazonS3.getObject(new GetObjectRequest(bucketName, key), to);\n</code></pre>\n<p>According to the documentation bucketName can be:</p>\n<blockquote>\n<p>The name of the bucket, or access point ARN, containing the desired object.</p>\n</blockquote>\n<p>And..</p>\n<blockquote>\n<p>When using this operation using an access point through the Amazon Web Services SDKs, you provide the access point ARN in place of the bucket name. For more information about access point ARNs, see Using access points in the Amazon Simple Storage Service Developer Guide.</p>\n</blockquote>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html</a></p>\n<p>However this is throwing an error:</p>\n<pre><code>&lt;Error&gt;&lt;Code&gt;InvalidBucketName&lt;/Code&gt;&lt;Message&gt;The specified bucket is not valid.&lt;/Message&gt;&lt;BucketName&gt;arn:aws:s3:&lt;bucket-region&gt;:&lt;accountNumber&gt;:accesspoint:&lt;access-point-name&gt;&lt;/BucketName&gt;&lt;RequestId&gt;**********&lt;/RequestId&gt;&lt;HostId&gt;*******************&lt;/HostId&gt;&lt;/Error&gt;\n</code></pre>\n<p>With the error it looks like it doesn't support the ARN formatted bucket name and complaining about special characters within the ARN accesspoint name.</p>\n<p>PS: Within accesspoint value <code>arn:aws:s3:&lt;bucket-region&gt;:&lt;accountNumber&gt;:accesspoint:&lt;access-point-name&gt;</code>, actual values are replaces with placeholders between &lt;&gt;, so the error won't be related to these characters. This are presented here with placeholders for data protection purposes.</p>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669799672,"creation_date":1669799365,"answer_id":74625227,"question_id":74624629,"body_markdown":"Create a method that returns the decimal part according to the `scale` of the given number  \r\n(e.g. calling it with `3.10` will return `10`):\r\n````\r\nprivate static BigDecimal decimalPart(BigDecimal num) {\r\n    var dec = num.remainder(BigDecimal.ONE);    // decimal part (e.g. 0.10)\r\n    var adj = dec.movePointRight(dec.scale());\r\n    return adj;\r\n}\r\n````\r\n\r\nthen use that to create a `Comparator` used for sorting:\r\n````\r\nvar byDecimalPart = Comparator.comparing(SortedDecimal::decimalPart);\r\nvar sorted = input\r\n    .stream()\r\n    .sorted(byDecimalPart)\r\n    .toList();    // or .collect(...) or .forEach(...)\r\n````\r\n\r\n&lt;sub&gt;probably not correct for negative numbers (missing specification)&lt;/sub&gt;\r\n","title":"How to sort sequential decimal values in java","body":"<p>Create a method that returns the decimal part according to the <code>scale</code> of the given number<br />\n(e.g. calling it with <code>3.10</code> will return <code>10</code>):</p>\n<pre><code>private static BigDecimal decimalPart(BigDecimal num) {\n    var dec = num.remainder(BigDecimal.ONE);    // decimal part (e.g. 0.10)\n    var adj = dec.movePointRight(dec.scale());\n    return adj;\n}\n</code></pre>\n<p>then use that to create a <code>Comparator</code> used for sorting:</p>\n<pre><code>var byDecimalPart = Comparator.comparing(SortedDecimal::decimalPart);\nvar sorted = input\n    .stream()\n    .sorted(byDecimalPart)\n    .toList();    // or .collect(...) or .forEach(...)\n</code></pre>\n<p><sub>probably not correct for negative numbers (missing specification)</sub></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669826540,"creation_date":1669826540,"answer_id":74631269,"question_id":74624629,"body_markdown":"It seems you actually want to process version numbers, so I strongly discourage from abusing `BigDecimal` for that purpose. It’s too easy to accidentally confuse your logic with `BigDecimal`’s original numeric semantics.\r\n\r\nCreate your own class reflecting the actual purpose, e.g.\r\n\r\n```java\r\npublic record Version(int major, int minor) implements Comparable&lt;Version&gt; {\r\n    public static Version parse(String s) {\r\n        int dot = s.indexOf(&#39;.&#39;);\r\n        return dot &lt; 0? new Version(Integer.parseInt(s), 0):\r\n            new Version(Integer.parseInt(s, 0, dot, 10),\r\n                        Integer.parseInt(s, dot + 1, s.length(), 10));\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Version v) {\r\n        return major != v.major?\r\n            Integer.compare(major, v.major): Integer.compare(minor, v.minor);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return major + &quot;.&quot; + minor;\r\n    }\r\n}\r\n```\r\n\r\nWith such a class, you’ll never run into the problem of contradicting semantics.\r\n\r\nWhen you use it with ,e.g.\r\n\r\n```java\r\nStream.of(&quot;3.2&quot;,&quot;3.10&quot;,&quot;3.12&quot;,&quot;3.17&quot;,&quot;3.9&quot;).map(Version::parse)\r\n    .sorted().forEachOrdered(System.out::println);\r\n```\r\n\r\nIt will print\r\n\r\n```none\r\n3.2\r\n3.9\r\n3.10\r\n3.12\r\n3.17\r\n```","title":"How to sort sequential decimal values in java","body":"<p>It seems you actually want to process version numbers, so I strongly discourage from abusing <code>BigDecimal</code> for that purpose. It’s too easy to accidentally confuse your logic with <code>BigDecimal</code>’s original numeric semantics.</p>\n<p>Create your own class reflecting the actual purpose, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Version(int major, int minor) implements Comparable&lt;Version&gt; {\n    public static Version parse(String s) {\n        int dot = s.indexOf('.');\n        return dot &lt; 0? new Version(Integer.parseInt(s), 0):\n            new Version(Integer.parseInt(s, 0, dot, 10),\n                        Integer.parseInt(s, dot + 1, s.length(), 10));\n    }\n\n    @Override\n    public int compareTo(Version v) {\n        return major != v.major?\n            Integer.compare(major, v.major): Integer.compare(minor, v.minor);\n    }\n\n    @Override\n    public String toString() {\n        return major + &quot;.&quot; + minor;\n    }\n}\n</code></pre>\n<p>With such a class, you’ll never run into the problem of contradicting semantics.</p>\n<p>When you use it with ,e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(&quot;3.2&quot;,&quot;3.10&quot;,&quot;3.12&quot;,&quot;3.17&quot;,&quot;3.9&quot;).map(Version::parse)\n    .sorted().forEachOrdered(System.out::println);\n</code></pre>\n<p>It will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>3.2\n3.9\n3.10\n3.12\n3.17\n</code></pre>\n"}],"owner":{"account_id":4437945,"reputation":3,"user_id":5741251,"display_name":"karthik patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669826540,"creation_date":1669795882,"question_id":74624629,"body_markdown":"Basically, I have a set of BigDecimal values for example\r\n**[3.2,3.10,3.12,3.17,3.9].**\r\n\r\nI want to sort them based on the values after the dot using java.\r\nThe expected output should be like **[3.2,3.9,3.10,3.12,3.17]**.\r\nhow do I write a code for this can you please help?","title":"How to sort sequential decimal values in java","body":"<p>Basically, I have a set of BigDecimal values for example\n<strong>[3.2,3.10,3.12,3.17,3.9].</strong></p>\n<p>I want to sort them based on the values after the dot using java.\nThe expected output should be like <strong>[3.2,3.9,3.10,3.12,3.17]</strong>.\nhow do I write a code for this can you please help?</p>\n"},{"tags":["java","html","jsf","markdown","flexmark"],"comments":[{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1669204704,"post_id":74546161,"comment_id":131590470,"body_markdown":"You could use https://www.primefaces.org/showcase-ext/views/localized.jsf which supports Markdown","body":"You could use <a href=\"https://www.primefaces.org/showcase-ext/views/localized.jsf\" rel=\"nofollow noreferrer\">primefaces.org/showcase-ext/views/localized.jsf</a> which supports Markdown"},{"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"score":0,"creation_date":1669205986,"post_id":74546161,"comment_id":131590900,"body_markdown":"Interesting. But the focus of localized is the localization. I&#39;m unsure, if links would work in this solution different/better than e. g. flexmark.","body":"Interesting. But the focus of localized is the localization. I&#39;m unsure, if links would work in this solution different/better than e. g. flexmark."},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1669206973,"post_id":74546161,"comment_id":131591220,"body_markdown":"The big win is that you can use this as a tag within your JSF pages. No third party transformation is required. So links will work.","body":"The big win is that you can use this as a tag within your JSF pages. No third party transformation is required. So links will work."}],"answers":[{"tags":[],"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669826497,"creation_date":1669826497,"answer_id":74631258,"question_id":74546161,"body_markdown":"Ok, no other answers, so I answer on my own.\r\nThe comment about primefaces extension with localized is interesting, but too far away from my focus and some features did not really match to my requirements.\r\n\r\nTherefore I stayed with a pure markdown library and made the rest on my own.\r\nWith the links it was much more easy than expected! Within JavaScript you can very easily detect all links of the page (`document.links`), iterate over them and just set an onclick function (see [here][1]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/688196/how-to-use-a-link-to-call-javascript/688228#688228","title":"How to use Markdown with links in JSF?","body":"<p>Ok, no other answers, so I answer on my own.\nThe comment about primefaces extension with localized is interesting, but too far away from my focus and some features did not really match to my requirements.</p>\n<p>Therefore I stayed with a pure markdown library and made the rest on my own.\nWith the links it was much more easy than expected! Within JavaScript you can very easily detect all links of the page (<code>document.links</code>), iterate over them and just set an onclick function (see <a href=\"https://stackoverflow.com/questions/688196/how-to-use-a-link-to-call-javascript/688228#688228\">here</a>).</p>\n"}],"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74631258,"answer_count":1,"score":0,"last_activity_date":1669826497,"creation_date":1669203337,"question_id":74546161,"body_markdown":"I am developing an JSF web application and would like to introduce a lot of documentation to be visible directly in the web application. Technically I would like to use Markdown language and made already first experimence with.\r\nI am currently playing around with flexmark Java library to render e. g. HTML strings from a markdown document. Also this seems to work fine. But what to do with links to other md files?\r\n\r\nIf I do have my markdown part: `See also [here](Background.md)`\r\nThen this will be rendered correct to HTML with a link like: `See also &lt;a href=&quot;Background.md&quot;&gt;here&lt;/a&gt;`.\r\n\r\nBut how should I tell my web server to react on this link and update the document part of the page with the rendered md file?\r\n\r\nI would need to manually find such links in the generated HTML and change them to a kind of JavaScript call, telling my server to render the panel using the other md file.\r\n\r\nOr should I create an IFrame so that within this frame, I could follow the link to e. g. a web servlet, rendering the md files to new HTML?\r\n\r\nBut this all feels a bit clumbsy to me. Am I missing a more easy solution?","title":"How to use Markdown with links in JSF?","body":"<p>I am developing an JSF web application and would like to introduce a lot of documentation to be visible directly in the web application. Technically I would like to use Markdown language and made already first experimence with.\nI am currently playing around with flexmark Java library to render e. g. HTML strings from a markdown document. Also this seems to work fine. But what to do with links to other md files?</p>\n<p>If I do have my markdown part: <code>See also [here](Background.md)</code>\nThen this will be rendered correct to HTML with a link like: <code>See also &lt;a href=&quot;Background.md&quot;&gt;here&lt;/a&gt;</code>.</p>\n<p>But how should I tell my web server to react on this link and update the document part of the page with the rendered md file?</p>\n<p>I would need to manually find such links in the generated HTML and change them to a kind of JavaScript call, telling my server to render the panel using the other md file.</p>\n<p>Or should I create an IFrame so that within this frame, I could follow the link to e. g. a web servlet, rendering the md files to new HTML?</p>\n<p>But this all feels a bit clumbsy to me. Am I missing a more easy solution?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669826396,"creation_date":1669825384,"answer_id":74631016,"question_id":74630943,"body_markdown":"You can simply achieve this by adding a new line to your print statement as follow:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 14; i++) {\r\n            for (int j = 1; j &lt;= i; j++) {\r\n                System.out.print(6 * j + &quot; &quot;);\r\n            }\r\n            System.out.println(System.lineSeparator());\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;ve used the `System.lineSeparator()` to ensure that we will break the line independently on the operation system we&#39;re running - so for Linux for example it would be `\\n` while on windows it would be `\\r\\n`\r\n\r\nAlternatively, you can simply call the `System.out.println()` twice, and it will do the same...\r\n\r\nYou can see that running this code will result in the following output as expected:\r\n\r\n```text\r\n6 \r\n\r\n6 12 \r\n\r\n6 12 18 \r\n\r\n6 12 18 24 \r\n\r\n6 12 18 24 30 \r\n\r\n6 12 18 24 30 36 \r\n\r\n6 12 18 24 30 36 42 \r\n\r\n6 12 18 24 30 36 42 48 \r\n\r\n6 12 18 24 30 36 42 48 54 \r\n\r\n6 12 18 24 30 36 42 48 54 60 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 78 \r\n\r\n```\r\n\r\nIf it&#39;s important to you to avoid the last empty line you can add an if-statement to the outer loop and check the index","title":"How do i add if else with break and continue in nested for loop, the outcome should be that there are spaces between rows","body":"<p>You can simply achieve this by adding a new line to your print statement as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        for (int i = 1; i &lt; 14; i++) {\n            for (int j = 1; j &lt;= i; j++) {\n                System.out.print(6 * j + &quot; &quot;);\n            }\n            System.out.println(System.lineSeparator());\n        }\n    }\n</code></pre>\n<p>I've used the <code>System.lineSeparator()</code> to ensure that we will break the line independently on the operation system we're running - so for Linux for example it would be <code>\\n</code> while on windows it would be <code>\\r\\n</code></p>\n<p>Alternatively, you can simply call the <code>System.out.println()</code> twice, and it will do the same...</p>\n<p>You can see that running this code will result in the following output as expected:</p>\n<pre><code>6 \n\n6 12 \n\n6 12 18 \n\n6 12 18 24 \n\n6 12 18 24 30 \n\n6 12 18 24 30 36 \n\n6 12 18 24 30 36 42 \n\n6 12 18 24 30 36 42 48 \n\n6 12 18 24 30 36 42 48 54 \n\n6 12 18 24 30 36 42 48 54 60 \n\n6 12 18 24 30 36 42 48 54 60 66 \n\n6 12 18 24 30 36 42 48 54 60 66 72 \n\n6 12 18 24 30 36 42 48 54 60 66 72 78 \n\n</code></pre>\n<p>If it's important to you to avoid the last empty line you can add an if-statement to the outer loop and check the index</p>\n"}],"owner":{"account_id":27100917,"reputation":1,"user_id":20647493,"display_name":"Jason Thorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669826396,"creation_date":1669825054,"question_id":74630943,"body_markdown":"```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    for (int i = 1;i&lt;14;i++){\r\n     for (int j=1;j&lt;=i;j++){\r\n      System.out.print(6 *j+&quot; &quot;);\r\n    }\r\n    System.out.println();\r\n   }\r\n  }\r\n```\r\n\r\nThis is the code that i need to add break and continue on.\r\n\r\n```\r\n6 \r\n\r\n6 12 \r\n\r\n6 12 18 \r\n\r\n6 12 18 24 \r\n\r\n6 12 18 24 30 \r\n\r\n6 12 18 24 30 36 \r\n\r\n6 12 18 24 30 36 42 \r\n\r\n6 12 18 24 30 36 42 48 \r\n\r\n6 12 18 24 30 36 42 48 54 \r\n\r\n6 12 18 24 30 36 42 48 54 60 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 78 \r\n```\r\n\r\nThe outcome should be like this, Im just starting java so simplifiying helps and im still learning ","title":"How do i add if else with break and continue in nested for loop, the outcome should be that there are spaces between rows","body":"<pre><code>public class Main {\n  public static void main(String[] args) {\n    for (int i = 1;i&lt;14;i++){\n     for (int j=1;j&lt;=i;j++){\n      System.out.print(6 *j+&quot; &quot;);\n    }\n    System.out.println();\n   }\n  }\n</code></pre>\n<p>This is the code that i need to add break and continue on.</p>\n<pre><code>6 \n\n6 12 \n\n6 12 18 \n\n6 12 18 24 \n\n6 12 18 24 30 \n\n6 12 18 24 30 36 \n\n6 12 18 24 30 36 42 \n\n6 12 18 24 30 36 42 48 \n\n6 12 18 24 30 36 42 48 54 \n\n6 12 18 24 30 36 42 48 54 60 \n\n6 12 18 24 30 36 42 48 54 60 66 \n\n6 12 18 24 30 36 42 48 54 60 66 72 \n\n6 12 18 24 30 36 42 48 54 60 66 72 78 \n</code></pre>\n<p>The outcome should be like this, Im just starting java so simplifiying helps and im still learning</p>\n"},{"tags":["java","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":13428419,"reputation":11,"user_id":9688949,"display_name":"Sandy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669826213,"creation_date":1669826213,"answer_id":74631209,"question_id":74631010,"body_markdown":"Are you annotating your service class?\r\nSpring uses component scanning to find the classes that it needs to auto-wire and insert into classes for IoC. Basically, Spring is going to scan the project&#39;s classpath (or paths you specified), find all of the @Component classes and make them available for auto-wiring. So if you forget to annotate a class it will not be auto-wired and when you try and use it you will get a null and a NullPointerException.\r\n\r\n@Service, @Repository and @Controller are all specializations of @Component, so any class you want to auto-wire needs to be annotated with one of them.","title":"Null pointer exception thrown in Autowired service class when I used JWT Authentication","body":"<p>Are you annotating your service class?\nSpring uses component scanning to find the classes that it needs to auto-wire and insert into classes for IoC. Basically, Spring is going to scan the project's classpath (or paths you specified), find all of the @Component classes and make them available for auto-wiring. So if you forget to annotate a class it will not be auto-wired and when you try and use it you will get a null and a NullPointerException.</p>\n<p>@Service, @Repository and @Controller are all specializations of @Component, so any class you want to auto-wire needs to be annotated with one of them.</p>\n"}],"owner":{"account_id":25986767,"reputation":1,"user_id":19699631,"display_name":"Shashank Trivedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669826213,"creation_date":1669825361,"question_id":74631010,"body_markdown":"I am creating the jwt authentication for a different role than here showing a null pointer exception. but when this URL I paste on the web security configuration class with the antmatcher method the API works fine but it shows an error in pre-authorize when I used it.\r\n\r\n# **This is the Controller class**  \r\n\r\n[Controller Class Image](https://i.stack.imgur.com/9oDOX.png)\r\n\r\n```\r\npackage com.shashank.controller;\r\n.........\r\n@RestController\r\n@CrossOrigin\r\npublic class StudentController {\r\n    @Autowired\r\n    StudentService studentService;\r\n\r\n        @GetMapping(&quot;/api/student/stu&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;User&#39;)&quot;)\r\n        private List&lt;Student&gt; getAllUStudent(){\r\n            System.out.println(&quot;Get Call&quot;);\r\n            return studentService.getAllStudent();\r\n        }\r\n```\r\n\r\n# **This is the Error in console**\r\n\r\n[Error showing in Postman](https://i.stack.imgur.com/j253u.png)\r\n\r\n```\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;com.shashank.service.StudentService.getAllStudent()&quot; because &quot;this.studentService&quot; is null\r\n\tat com.shashank.controller.StudentController.getAllUStudent(StudentController.java:28) ~[classes/:na]\r\n```","title":"Null pointer exception thrown in Autowired service class when I used JWT Authentication","body":"<p>I am creating the jwt authentication for a different role than here showing a null pointer exception. but when this URL I paste on the web security configuration class with the antmatcher method the API works fine but it shows an error in pre-authorize when I used it.</p>\n<h1><strong>This is the Controller class</strong></h1>\n<p><a href=\"https://i.stack.imgur.com/9oDOX.png\" rel=\"nofollow noreferrer\">Controller Class Image</a></p>\n<pre><code>package com.shashank.controller;\n.........\n@RestController\n@CrossOrigin\npublic class StudentController {\n    @Autowired\n    StudentService studentService;\n\n        @GetMapping(&quot;/api/student/stu&quot;)\n        @PreAuthorize(&quot;hasRole('User')&quot;)\n        private List&lt;Student&gt; getAllUStudent(){\n            System.out.println(&quot;Get Call&quot;);\n            return studentService.getAllStudent();\n        }\n</code></pre>\n<h1><strong>This is the Error in console</strong></h1>\n<p><a href=\"https://i.stack.imgur.com/j253u.png\" rel=\"nofollow noreferrer\">Error showing in Postman</a></p>\n<pre><code>\njava.lang.NullPointerException: Cannot invoke &quot;com.shashank.service.StudentService.getAllStudent()&quot; because &quot;this.studentService&quot; is null\n    at com.shashank.controller.StudentController.getAllUStudent(StudentController.java:28) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1669815724,"post_id":74628497,"comment_id":131728542,"body_markdown":"weakKeys are identity based (==, same reference), so an auto-boxed long wouldn’t map to the same entry. And weakValues means it will evict if no strong references exist. You can use a listener to log evictions to debug with as you familiarize yourself with the cache.","body":"weakKeys are identity based (==, same reference), so an auto-boxed long wouldn’t map to the same entry. And weakValues means it will evict if no strong references exist. You can use a listener to log evictions to debug with as you familiarize yourself with the cache."}],"answers":[{"tags":[],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669826201,"creation_date":1669826201,"answer_id":74631204,"question_id":74628497,"body_markdown":"I solve it next way: make field `static final` and remove weakKeya(), weakValues()","title":"How to solve problem with Caffeine storing values","body":"<p>I solve it next way: make field <code>static final</code> and remove weakKeya(), weakValues()</p>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669826201,"creation_date":1669814482,"question_id":74628497,"body_markdown":"I create cache for manual storing values:\r\n\r\n    private Cache&lt;Long, SmsData&gt; codeCache = Caffeine.newBuilder()\r\n    \t\t.expireAfterWrite(24, TimeUnit.HOURS)\r\n    \t\t.weakKeys()\r\n    \t\t.weakValues()\r\n    \t\t.build();\r\n\r\nIn public method after some calcultion I try to store value:\r\n\r\n    SmsData data = SopdSmsData();\r\n    data.setSendCount(++currentSendCount);\r\n    data.setCheckCount(0);\r\n    codeCache.put(id, data);\r\n\r\nAfter that I want to get value, but its null:\r\n\r\n    SmsData data = codeCache.getIfPresent(id);\r\n\r\nWhat I missed?\r\nThanks in advance.","title":"How to solve problem with Caffeine storing values","body":"<p>I create cache for manual storing values:</p>\n<pre><code>private Cache&lt;Long, SmsData&gt; codeCache = Caffeine.newBuilder()\n        .expireAfterWrite(24, TimeUnit.HOURS)\n        .weakKeys()\n        .weakValues()\n        .build();\n</code></pre>\n<p>In public method after some calcultion I try to store value:</p>\n<pre><code>SmsData data = SopdSmsData();\ndata.setSendCount(++currentSendCount);\ndata.setCheckCount(0);\ncodeCache.put(id, data);\n</code></pre>\n<p>After that I want to get value, but its null:</p>\n<pre><code>SmsData data = codeCache.getIfPresent(id);\n</code></pre>\n<p>What I missed?\nThanks in advance.</p>\n"},{"tags":["java","design-patterns","reflection","functional-programming","hashmap"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1669824895,"post_id":74630807,"comment_id":131732380,"body_markdown":"As for the extra tip: Java kind of mixes imperative and functional styles so I&#39;d suggest trying to learn functional programming using a purely functional language, e.g. Clojure (because it&#39;s on the JVM), and functional concepts. Once you have a good grasp of FP then apply your knowledge to what Java supports :)","body":"As for the extra tip: Java kind of mixes imperative and functional styles so I&#39;d suggest trying to learn functional programming using a purely functional language, e.g. Clojure (because it&#39;s on the JVM), and functional concepts. Once you have a good grasp of FP then apply your knowledge to what Java supports :)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1669825225,"post_id":74630807,"comment_id":131732504,"body_markdown":"Why wouldn&#39;t you just create a factory producing WebDriver&#39;s so you would create driver for your first time and you would use the same factory for re-creating driver?","body":"Why wouldn&#39;t you just create a factory producing WebDriver&#39;s so you would create driver for your first time and you would use the same factory for re-creating driver?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1669825375,"post_id":74630807,"comment_id":131732558,"body_markdown":"Why are you trying to call [Function.identity](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#identity--) from the instance (it&#39;s static a method, creating new function)? What exactly are you trying to achieve here?","body":"Why are you trying to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#identity--\" rel=\"nofollow noreferrer\">Function.identity</a> from the instance (it&#39;s static a method, creating new function)? What exactly are you trying to achieve here?"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669826172,"creation_date":1669825203,"answer_id":74630979,"question_id":74630807,"body_markdown":"Since `getFunction(Class)` returns a `Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt;` you&#39;d need to call it like `e.getValue().apply(driver.getClass())`. However, `Supplier&lt;RemoteWebDriver&gt;` seems to be more appropriate:\r\n\r\n    @SneakyThrows\r\n    static Supplier&lt;RemoteWebDriver&gt; getSupplier(Class&lt;? extends RemoteWebDriver&gt; driverClass){\r\n      return () -&gt; {\r\n            try {\r\n               return driverClass.getConstructor().newInstance();\r\n            } catch (IllegalAccessException | InstantiationException e) {\r\n               throw new RuntimeException(e);\r\n            }\r\n         };\r\n    }\r\n\r\nThen use it like `....map((e)-&gt;e.getValue().get())`.\r\n\r\nWhat did I change appart from the method name?\r\n- return a `Supplier&lt;RemoveWebDriver&gt;` which has the `get()` method to execute it and return the result\r\n- since suppliers don&#39;t take arguments the lambda changes from `c -&gt; { ... }` to `() -&gt; { ... }`.\r\n- `c` is not available anymore but you&#39;d want to &quot;bind&quot; the argument to `getSupplier()` to the lambda anyway which is possible since it&#39;s &quot;effectively final&quot;. That means instead of `c.getConstructor()` you can use `driverClass.getConstructor()` \r\n\r\nHowever, all that complexity isn&#39;t needed - you can just put the suppliers directly into the map:\r\n\r\n    //the &lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt; is needed to help the compiler infer the generic types\r\n    Map.&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;of(ChromeDriver.class, ChromeDriver::new, \r\n            EdgeDriver.class, EdgeDriver::new,\r\n            FirefoxDriver.class, FirefoxDriver::new,\r\n            OperaDriver.class, OperaDriver::new)\r\n            ...\r\n\r\nIf you don&#39;t like this `&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;` you could help the compiler with a small method that has the type &quot;baked in&quot;:\r\n\r\n    static Supplier&lt;? extends RemoteWebDriver&gt; supply(Supplier&lt;? extends I&gt; s) { return s ; }\r\n\r\n    Map.of(ChromeDriver.class, supply(ChromeDriver::new), \r\n            EdgeDriver.class, supply(EdgeDriver::new),\r\n            FirefoxDriver.class, supply(FirefoxDriver::new),\r\n            OperaDriver.class, supply(OperaDriver::new))\r\n            ...","title":"How to call a function that will create an object of a class if required?","body":"<p>Since <code>getFunction(Class)</code> returns a <code>Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt;</code> you'd need to call it like <code>e.getValue().apply(driver.getClass())</code>. However, <code>Supplier&lt;RemoteWebDriver&gt;</code> seems to be more appropriate:</p>\n<pre><code>@SneakyThrows\nstatic Supplier&lt;RemoteWebDriver&gt; getSupplier(Class&lt;? extends RemoteWebDriver&gt; driverClass){\n  return () -&gt; {\n        try {\n           return driverClass.getConstructor().newInstance();\n        } catch (IllegalAccessException | InstantiationException e) {\n           throw new RuntimeException(e);\n        }\n     };\n}\n</code></pre>\n<p>Then use it like <code>....map((e)-&gt;e.getValue().get())</code>.</p>\n<p>What did I change appart from the method name?</p>\n<ul>\n<li>return a <code>Supplier&lt;RemoveWebDriver&gt;</code> which has the <code>get()</code> method to execute it and return the result</li>\n<li>since suppliers don't take arguments the lambda changes from <code>c -&gt; { ... }</code> to <code>() -&gt; { ... }</code>.</li>\n<li><code>c</code> is not available anymore but you'd want to &quot;bind&quot; the argument to <code>getSupplier()</code> to the lambda anyway which is possible since it's &quot;effectively final&quot;. That means instead of <code>c.getConstructor()</code> you can use <code>driverClass.getConstructor()</code></li>\n</ul>\n<p>However, all that complexity isn't needed - you can just put the suppliers directly into the map:</p>\n<pre><code>//the &lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt; is needed to help the compiler infer the generic types\nMap.&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;of(ChromeDriver.class, ChromeDriver::new, \n        EdgeDriver.class, EdgeDriver::new,\n        FirefoxDriver.class, FirefoxDriver::new,\n        OperaDriver.class, OperaDriver::new)\n        ...\n</code></pre>\n<p>If you don't like this <code>&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;</code> you could help the compiler with a small method that has the type &quot;baked in&quot;:</p>\n<pre><code>static Supplier&lt;? extends RemoteWebDriver&gt; supply(Supplier&lt;? extends I&gt; s) { return s ; }\n\nMap.of(ChromeDriver.class, supply(ChromeDriver::new), \n        EdgeDriver.class, supply(EdgeDriver::new),\n        FirefoxDriver.class, supply(FirefoxDriver::new),\n        OperaDriver.class, supply(OperaDriver::new))\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669825698,"creation_date":1669825368,"answer_id":74631012,"question_id":74630807,"body_markdown":"You can access stored as a *Value* using method reference `Map.Entry::getValue` but it wouldn&#39;t be applicable.\r\n\r\nBecause in the `map()` you need a provide a *Function* that can dial with a `Map.Entry`, but your Function expects `Class` instance as an argument as an argument (i.e. the expected argument doesn&#39;t match).\r\n\r\nSo the correct function can be written as the following lambda expression:\r\n\r\n```\r\ne -&gt; e.getValue().apply(e.getKey())\r\n```\r\n\r\n*Example:*\r\n\r\n```\r\nRemoteWebDriver target = // initializing the target driver\r\n    \r\nRemoteWebDriver driver = Map.of(\r\n        ChromeDriver.class, getFunction(ChromeDriver.class),\r\n        EdgeDriver.class, getFunction(EdgeDriver.class),\r\n        FirefoxDriver.class, getFunction(FirefoxDriver.class),\r\n        OperaDriver.class, getFunction(OperaDriver.class)\r\n    )\r\n    .entrySet().stream()\r\n    .filter(e -&gt; e.getKey().isInstance(target))\r\n    .map(e -&gt; e.getValue().apply(e.getKey()))\r\n    .findFirst()\r\n    .orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\r\n```","title":"How to call a function that will create an object of a class if required?","body":"<p>You can access stored as a <em>Value</em> using method reference <code>Map.Entry::getValue</code> but it wouldn't be applicable.</p>\n<p>Because in the <code>map()</code> you need a provide a <em>Function</em> that can dial with a <code>Map.Entry</code>, but your Function expects <code>Class</code> instance as an argument as an argument (i.e. the expected argument doesn't match).</p>\n<p>So the correct function can be written as the following lambda expression:</p>\n<pre><code>e -&gt; e.getValue().apply(e.getKey())\n</code></pre>\n<p><em>Example:</em></p>\n<pre><code>RemoteWebDriver target = // initializing the target driver\n    \nRemoteWebDriver driver = Map.of(\n        ChromeDriver.class, getFunction(ChromeDriver.class),\n        EdgeDriver.class, getFunction(EdgeDriver.class),\n        FirefoxDriver.class, getFunction(FirefoxDriver.class),\n        OperaDriver.class, getFunction(OperaDriver.class)\n    )\n    .entrySet().stream()\n    .filter(e -&gt; e.getKey().isInstance(target))\n    .map(e -&gt; e.getValue().apply(e.getKey()))\n    .findFirst()\n    .orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\n</code></pre>\n"}],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74630979,"answer_count":2,"score":0,"last_activity_date":1669826172,"creation_date":1669824400,"question_id":74630807,"body_markdown":"Context:\r\n\r\n*I&#39;ve found a bug in a selenium framework I&#39;m working on, in which the Web Browser (at least Chrome) crashes unexpectedly with no notification.  \r\nAs a patch, I&#39;m reinitializing the WebDriver so it keeps working, but right now I&#39;m creating a new EdgeDriver and I want to create a new WebDriver of the **same type** it was before (the one that crashed).*\r\n\r\nI came up with this approach:\r\n\r\n```\r\ndriver = Map.of(\r\n            ChromeDriver.class, getFunction(ChromeDriver.class),\r\n            EdgeDriver.class, getFunction(EdgeDriver.class),\r\n            FirefoxDriver.class, getFunction(FirefoxDriver.class),\r\n            OperaDriver.class, getFunction(OperaDriver.class)\r\n      ).entrySet().stream().filter((e) -&gt; e.getKey().isInstance(driver))\r\n      .map((e)-&gt;e.getValue().identity()).findFirst().orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\r\n```\r\n\r\n...\r\n\r\n```\r\n@SneakyThrows\r\nstatic Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt; getFunction(Class&lt;? extends RemoteWebDriver&gt; driverClass){\r\n   return c -&gt; {\r\n            try {\r\n               return c.getConstructor().newInstance();\r\n            } catch (IllegalAccessException | InstantiationException e) {\r\n               throw new RuntimeException(e);\r\n            }\r\n         };\r\n}\r\n```\r\n\r\nThe problem is that I can&#39;t use this type of call\r\n\r\n```\r\ne.getValue().identity()\r\n```\r\n\r\nDo you know how can I achieve this?\r\n\r\nI&#39;m using the **Map** approach so I don&#39;t have to specify a bunch of `if`&#39;s with all the code inside.  \r\nAnd I&#39;m using a separate method returning a **Function** so I don&#39;t have to spend resources in creating the instances before (and if they) are required.\r\n\r\nI have faced this problem before and I&#39;m pretty sure I&#39;m going to keep facing it, I have almost no idea what I&#39;m writing in the functional programming section because I&#39;m very new to it. I hope I&#39;m on the right track but honestly, I doubt it.\r\n\r\n*As an extra tip if you can provide a way to become an expert in functional programming in Java will be great because I&#39;ve been looking for a course or any resources deep enough and I have not been able to find anything so far. Not only will solve this problem but it will help me to solve any future problems like this.*","title":"How to call a function that will create an object of a class if required?","body":"<p>Context:</p>\n<p><em>I've found a bug in a selenium framework I'm working on, in which the Web Browser (at least Chrome) crashes unexpectedly with no notification.<br />\nAs a patch, I'm reinitializing the WebDriver so it keeps working, but right now I'm creating a new EdgeDriver and I want to create a new WebDriver of the <strong>same type</strong> it was before (the one that crashed).</em></p>\n<p>I came up with this approach:</p>\n<pre><code>driver = Map.of(\n            ChromeDriver.class, getFunction(ChromeDriver.class),\n            EdgeDriver.class, getFunction(EdgeDriver.class),\n            FirefoxDriver.class, getFunction(FirefoxDriver.class),\n            OperaDriver.class, getFunction(OperaDriver.class)\n      ).entrySet().stream().filter((e) -&gt; e.getKey().isInstance(driver))\n      .map((e)-&gt;e.getValue().identity()).findFirst().orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\n</code></pre>\n<p>...</p>\n<pre><code>@SneakyThrows\nstatic Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt; getFunction(Class&lt;? extends RemoteWebDriver&gt; driverClass){\n   return c -&gt; {\n            try {\n               return c.getConstructor().newInstance();\n            } catch (IllegalAccessException | InstantiationException e) {\n               throw new RuntimeException(e);\n            }\n         };\n}\n</code></pre>\n<p>The problem is that I can't use this type of call</p>\n<pre><code>e.getValue().identity()\n</code></pre>\n<p>Do you know how can I achieve this?</p>\n<p>I'm using the <strong>Map</strong> approach so I don't have to specify a bunch of <code>if</code>'s with all the code inside.<br />\nAnd I'm using a separate method returning a <strong>Function</strong> so I don't have to spend resources in creating the instances before (and if they) are required.</p>\n<p>I have faced this problem before and I'm pretty sure I'm going to keep facing it, I have almost no idea what I'm writing in the functional programming section because I'm very new to it. I hope I'm on the right track but honestly, I doubt it.</p>\n<p><em>As an extra tip if you can provide a way to become an expert in functional programming in Java will be great because I've been looking for a course or any resources deep enough and I have not been able to find anything so far. Not only will solve this problem but it will help me to solve any future problems like this.</em></p>\n"},{"tags":["java","multithreading","performance","mutex","semaphore"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669825013,"post_id":74630536,"comment_id":131732423,"body_markdown":"Point of style: Your class has members named `sem1` and `sem2`. Your `main()` method, _in_ that same class has local variables with the same names, but different types. That&#39;s confusing. You might think that it&#39;s _only_ a point of style, but bad style makes your code harder for other people to read. It makes them less likely to want to collaborate with you or, in this case, to help you debug your code. I have taken the liberty to re-name your class and the local variables in its `main()` function.","body":"Point of style: Your class has members named <code>sem1</code> and <code>sem2</code>. Your <code>main()</code> method, <i>in</i> that same class has local variables with the same names, but different types. That&#39;s confusing. You might think that it&#39;s <i>only</i> a point of style, but bad style makes your code harder for other people to read. It makes them less likely to want to collaborate with you or, in this case, to help you debug your code. I have taken the liberty to re-name your class and the local variables in its <code>main()</code> function."}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669825106,"creation_date":1669825106,"answer_id":74630959,"question_id":74630536,"body_markdown":"I am not sure this is the right way to fix things, but I moved some code around and removed confusion around the `sem1` and `sem2` variable names.\r\n\r\n```\r\npackage semaphore;\r\n\r\nimport java.util.concurrent.Semaphore;\r\n\r\npublic class MySemaphore {\r\n\r\n    public static void main(String args[]) {\r\n\r\n        Semaphore sem1 = new Semaphore(1);\r\n        Semaphore sem2 = new Semaphore(0);\r\n\r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    numb1();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n            private void numb1()\r\n            {\r\n                while (true) {\r\n                    try {\r\n                        sem1.acquire();\r\n                        System.out.println(&quot; 1&quot;);\r\n                        sem2.release();\r\n\r\n                        Thread.sleep(1000);\r\n                    }\r\n                    catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n            }\r\n        }.start();\r\n\r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    numb2();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n            private void numb2()\r\n            {\r\n                while (true) {\r\n                    try {\r\n                        sem2.acquire();\r\n                        System.out.println(&quot; 2&quot;);\r\n                        sem1.release();\r\n                        Thread.sleep(1000);\r\n                    }\r\n\r\n                    catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n}\r\n```\r\n\r\nThe correct output seems to be given:\r\n```\r\n 1\r\n 2\r\n 1\r\n 2\r\n 1\r\n 2\r\n 1\r\n 2\r\n...\r\n```","title":"Java 2 Threads exclusion concurrently work on different methods","body":"<p>I am not sure this is the right way to fix things, but I moved some code around and removed confusion around the <code>sem1</code> and <code>sem2</code> variable names.</p>\n<pre><code>package semaphore;\n\nimport java.util.concurrent.Semaphore;\n\npublic class MySemaphore {\n\n    public static void main(String args[]) {\n\n        Semaphore sem1 = new Semaphore(1);\n        Semaphore sem2 = new Semaphore(0);\n\n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    numb1();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            private void numb1()\n            {\n                while (true) {\n                    try {\n                        sem1.acquire();\n                        System.out.println(&quot; 1&quot;);\n                        sem2.release();\n\n                        Thread.sleep(1000);\n                    }\n                    catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n        }.start();\n\n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    numb2();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            private void numb2()\n            {\n                while (true) {\n                    try {\n                        sem2.acquire();\n                        System.out.println(&quot; 2&quot;);\n                        sem1.release();\n                        Thread.sleep(1000);\n                    }\n\n                    catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }.start();\n    }\n}\n</code></pre>\n<p>The correct output seems to be given:</p>\n<pre><code> 1\n 2\n 1\n 2\n 1\n 2\n 1\n 2\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669825468,"creation_date":1669825468,"answer_id":74631033,"question_id":74630536,"body_markdown":"The problem is, your program creates two instances of the `SemTest` (as I renamed it) class. Each instance has its own distinct `sem1` and `sem2` fields. Each of your two threads operates on a different instance of the class with its own semaphores, so they do not interact with each other at all.\r\n\r\n@hooknc showed you one way to fix it. In that answer, the `sem1` and `sem2` semaphores are moved into the `main()` method, and they are [_captured_](https://en.wikipedia.org/wiki/Closure_(computer_programming)) by your two anonymous `Runnable` objects. Since both Runnables captured the same two Semaphores, the two threads are now able to interact with each other.","title":"Java 2 Threads exclusion concurrently work on different methods","body":"<p>The problem is, your program creates two instances of the <code>SemTest</code> (as I renamed it) class. Each instance has its own distinct <code>sem1</code> and <code>sem2</code> fields. Each of your two threads operates on a different instance of the class with its own semaphores, so they do not interact with each other at all.</p>\n<p>@hooknc showed you one way to fix it. In that answer, the <code>sem1</code> and <code>sem2</code> semaphores are moved into the <code>main()</code> method, and they are <a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\"><em>captured</em></a> by your two anonymous <code>Runnable</code> objects. Since both Runnables captured the same two Semaphores, the two threads are now able to interact with each other.</p>\n"}],"owner":{"account_id":26838015,"reputation":23,"user_id":20424991,"display_name":"T_MAC_1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669825468,"creation_date":1669823334,"question_id":74630536,"body_markdown":"I have to use Semaphore to work on two different processes at the same time. \r\nBut they work in a specific sequence and have to exclude each other. \r\n\r\nProcess 1 &quot;p1&quot; has to print out first number &quot;1&quot; and after p1 is ready, p2 is allowed to work and print out the number 2. After p2 has finished, p1 should be allowed to work again on p1 and after p2 and so on..\r\nThe output shoult be 12121212....121212.\r\nMy solution has somewhere an error and I am not able to see where it is.\r\nUnfortunately I need to solve this problem with a Semaphore. I think the problem could also be solved with mutex.\r\n\r\nHow would the solution look like for:\r\nSemaphore?\r\nMutex?\r\n\r\n\r\n\r\nI initialized two Semaphores sem1 and sem2. Sem1 has a permit of 1 and sem2 starts with a permit of 0.\r\n\r\nBoth threads start simultaneously but since sem2 doesn&#39;t have a permit, sem1 enters the critical area with the acquire(); method. There it prints out &quot;1&quot; and after it&#39;s done, it will release a permit for sem2. \r\n\r\nsem2 is now allowed to enter its process with acquire(); and prints out &quot;2&quot;, when it is finished it releases a permit for sem1. \r\n\r\nThe algorithm should continue this way, but somewhere is a lock and the program stops after printing 1\r\n\r\n\r\n```\r\nimport java.util.concurrent.Semaphore;\r\n\r\npublic class SemTest {\r\n    Semaphore sem1 = new Semaphore(1);\r\n    Semaphore sem2 = new Semaphore(0);\r\n\r\n    public static void main(String args[])\r\n    {\r\n\r\n        final SemTest semTest1 = new SemTest();\r\n        final SemTest semTest2 = new SemTest();\r\n\r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    semTest1.numb1();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }.start();\r\n        \r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    semTest2.numb2();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void numb1()\r\n    {\r\n        while (true) {\r\n            try {\r\n                sem1.acquire();\r\n                System.out.println(&quot; 1&quot;);\r\n                sem2.release();\r\n\r\n                Thread.sleep(1000);\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n    private void numb2()\r\n    {\r\n        while (true) {\r\n            try {\r\n                sem2.acquire();\r\n                System.out.println(&quot; 2&quot;);\r\n                sem1.release();\r\n                Thread.sleep(1000);\r\n            }\r\n\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java 2 Threads exclusion concurrently work on different methods","body":"<p>I have to use Semaphore to work on two different processes at the same time.\nBut they work in a specific sequence and have to exclude each other.</p>\n<p>Process 1 &quot;p1&quot; has to print out first number &quot;1&quot; and after p1 is ready, p2 is allowed to work and print out the number 2. After p2 has finished, p1 should be allowed to work again on p1 and after p2 and so on..\nThe output shoult be 12121212....121212.\nMy solution has somewhere an error and I am not able to see where it is.\nUnfortunately I need to solve this problem with a Semaphore. I think the problem could also be solved with mutex.</p>\n<p>How would the solution look like for:\nSemaphore?\nMutex?</p>\n<p>I initialized two Semaphores sem1 and sem2. Sem1 has a permit of 1 and sem2 starts with a permit of 0.</p>\n<p>Both threads start simultaneously but since sem2 doesn't have a permit, sem1 enters the critical area with the acquire(); method. There it prints out &quot;1&quot; and after it's done, it will release a permit for sem2.</p>\n<p>sem2 is now allowed to enter its process with acquire(); and prints out &quot;2&quot;, when it is finished it releases a permit for sem1.</p>\n<p>The algorithm should continue this way, but somewhere is a lock and the program stops after printing 1</p>\n<pre><code>import java.util.concurrent.Semaphore;\n\npublic class SemTest {\n    Semaphore sem1 = new Semaphore(1);\n    Semaphore sem2 = new Semaphore(0);\n\n    public static void main(String args[])\n    {\n\n        final SemTest semTest1 = new SemTest();\n        final SemTest semTest2 = new SemTest();\n\n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    semTest1.numb1();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }.start();\n        \n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    semTest2.numb2();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }.start();\n    }\n\n    private void numb1()\n    {\n        while (true) {\n            try {\n                sem1.acquire();\n                System.out.println(&quot; 1&quot;);\n                sem2.release();\n\n                Thread.sleep(1000);\n            }\n            catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n    private void numb2()\n    {\n        while (true) {\n            try {\n                sem2.acquire();\n                System.out.println(&quot; 2&quot;);\n                sem1.release();\n                Thread.sleep(1000);\n            }\n\n            catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":873441,"reputation":1033,"user_id":926251,"display_name":"pooya72"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1669825446,"creation_date":1669825446,"answer_id":74631031,"question_id":74628063,"body_markdown":"I figured it out. You need to use an exchange filter. I implemented a similiar solution for a different problem: https://stackoverflow.com/questions/50752021/adding-a-retry-all-requests-of-webclient\r\n\r\n     @Bean\r\n      TodoClient todoClient() {\r\n        WebClient webClient =\r\n            WebClient.builder()\r\n                .baseUrl(&quot;sampleUrl&quot;)\r\n                .filter(retryFilter())\r\n                .build();\r\n        HttpServiceProxyFactory factory =\r\n            HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\r\n        return factory.createClient(TodoClient.class);\r\n      }\r\n    \r\n      \r\n    private ExchangeFilterFunction retryFilter() {\r\n         return (request, next) -&gt;\r\n             next.exchange(request)\r\n                 .retryWhen(\r\n                             Retry.fixedDelay(3, Duration.ofSeconds(30))\r\n                 .doAfterRetry(retrySignal -&gt; log.warn(&quot;Retrying&quot;));\r\n          };\r\n      }","title":"How to retry in the new HTTP interface in Spring 6 and Spring Boot 3","body":"<p>I figured it out. You need to use an exchange filter. I implemented a similiar solution for a different problem: <a href=\"https://stackoverflow.com/questions/50752021/adding-a-retry-all-requests-of-webclient\">Adding a retry all requests of WebClient</a></p>\n<pre><code> @Bean\n  TodoClient todoClient() {\n    WebClient webClient =\n        WebClient.builder()\n            .baseUrl(&quot;sampleUrl&quot;)\n            .filter(retryFilter())\n            .build();\n    HttpServiceProxyFactory factory =\n        HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\n    return factory.createClient(TodoClient.class);\n  }\n\n  \nprivate ExchangeFilterFunction retryFilter() {\n     return (request, next) -&gt;\n         next.exchange(request)\n             .retryWhen(\n                         Retry.fixedDelay(3, Duration.ofSeconds(30))\n             .doAfterRetry(retrySignal -&gt; log.warn(&quot;Retrying&quot;));\n      };\n  }\n</code></pre>\n"}],"owner":{"account_id":873441,"reputation":1033,"user_id":926251,"display_name":"pooya72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74631031,"answer_count":1,"score":1,"last_activity_date":1669825446,"creation_date":1669812566,"question_id":74628063,"body_markdown":"Spring has introduced the new HTTP interface. For exception handling [the documentation][1] states to register a response status handler that applies to all responses performed through the client:\r\n\r\n    WebClient webClient = WebClient.builder()\r\n        .defaultStatusHandler(HttpStatusCode::isError, resp -&gt; ...)\r\n        .build();\r\n\r\nHowever, it&#39;s not clear how to handle retries. \r\n\r\nIn WebClient you could simple use retryWhen():\r\n\r\n    public Mono&lt;String&gt; getData(String stockId) {\r\n    return webClient.get()\r\n      .uri(PATH_BY_ID, stockId)\r\n      .retrieve()\r\n      .bodyToMono(String.class)\r\n      .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)));\r\n    }\r\n\r\nI&#39;m not sure how to incorporate retries with the Http interfaces.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.0-SNAPSHOT/reference/html/integration.html#rest-http-interface-exceptions","title":"How to retry in the new HTTP interface in Spring 6 and Spring Boot 3","body":"<p>Spring has introduced the new HTTP interface. For exception handling <a href=\"https://docs.spring.io/spring-framework/docs/6.0.0-SNAPSHOT/reference/html/integration.html#rest-http-interface-exceptions\" rel=\"nofollow noreferrer\">the documentation</a> states to register a response status handler that applies to all responses performed through the client:</p>\n<pre><code>WebClient webClient = WebClient.builder()\n    .defaultStatusHandler(HttpStatusCode::isError, resp -&gt; ...)\n    .build();\n</code></pre>\n<p>However, it's not clear how to handle retries.</p>\n<p>In WebClient you could simple use retryWhen():</p>\n<pre><code>public Mono&lt;String&gt; getData(String stockId) {\nreturn webClient.get()\n  .uri(PATH_BY_ID, stockId)\n  .retrieve()\n  .bodyToMono(String.class)\n  .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)));\n}\n</code></pre>\n<p>I'm not sure how to incorporate retries with the Http interfaces.</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669659609,"creation_date":1669658969,"answer_id":74604800,"question_id":74604742,"body_markdown":"This is just a variant of the [0/1 knapsack problem][1].\r\n\r\n- The cost of each item is the &quot;weight&quot;\r\n- The budget becomes the &quot;total weight&quot;\r\n- The number of items you can collect becomes the &quot;value&quot; for that item\r\n\r\n**Edit**\r\n\r\nIf the total weight is large and the traditional dynamic programming approach can&#39;t be used, you can redefine the states to get a solution, as demonstrated [here][2].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/0-1-knapsack-problem-dp-10/\r\n  [2]: https://www.geeksforgeeks.org/knapsack-with-large-weights/","title":"Maximize the result for given array of values","body":"<p>This is just a variant of the <a href=\"https://www.geeksforgeeks.org/0-1-knapsack-problem-dp-10/\" rel=\"nofollow noreferrer\">0/1 knapsack problem</a>.</p>\n<ul>\n<li>The cost of each item is the &quot;weight&quot;</li>\n<li>The budget becomes the &quot;total weight&quot;</li>\n<li>The number of items you can collect becomes the &quot;value&quot; for that item</li>\n</ul>\n<p><strong>Edit</strong></p>\n<p>If the total weight is large and the traditional dynamic programming approach can't be used, you can redefine the states to get a solution, as demonstrated <a href=\"https://www.geeksforgeeks.org/knapsack-with-large-weights/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74604800,"answer_count":1,"score":2,"last_activity_date":1669825187,"creation_date":1669658663,"question_id":74604742,"body_markdown":"I have an array of values example:\r\n\r\n`[[x,y], [x1,y1]]` each element holds two values, the `amount` we need to pay at 0th index and `items` we can collect at 1st index. Also, I have a `budget` of z. \r\n\r\nI want to find the maximum number of items I can collect using this budget.\r\n\r\nHere is my program:\r\n\r\n    public static long solve(List&lt;List&lt;Long&gt;&gt; arr, long z) {\r\n    \tarr.sort((a, b) -&gt; {\r\n    \t\tint z1 = Long.compare(a.get(0) , b.get(0));\r\n    \t\tif(z1 == 0) {\r\n    \t\t\tz1 = Long.compare(b.get(1) , a.get(1));\r\n    \t\t}\r\n    \t\treturn z1;\r\n    \t});\r\n    \t\r\n    \tlong total = 0;\r\n    \tlong result = 0;\r\n    \tfor(List&lt;Long&gt; list : arr) {\r\n    \t\tif(total + list.get(0) &lt;= z) {\r\n    \t\t\ttotal += list.get(0);\r\n    \t\t\tresult += list.get(1);\r\n    \t\t} else {\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhat is the correct approach for this problem?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maximize the result for given array of values","body":"<p>I have an array of values example:</p>\n<p><code>[[x,y], [x1,y1]]</code> each element holds two values, the <code>amount</code> we need to pay at 0th index and <code>items</code> we can collect at 1st index. Also, I have a <code>budget</code> of z.</p>\n<p>I want to find the maximum number of items I can collect using this budget.</p>\n<p>Here is my program:</p>\n<pre><code>public static long solve(List&lt;List&lt;Long&gt;&gt; arr, long z) {\n    arr.sort((a, b) -&gt; {\n        int z1 = Long.compare(a.get(0) , b.get(0));\n        if(z1 == 0) {\n            z1 = Long.compare(b.get(1) , a.get(1));\n        }\n        return z1;\n    });\n    \n    long total = 0;\n    long result = 0;\n    for(List&lt;Long&gt; list : arr) {\n        if(total + list.get(0) &lt;= z) {\n            total += list.get(0);\n            result += list.get(1);\n        } else {\n            break;\n        }\n    }\n}\n</code></pre>\n<p>What is the correct approach for this problem?</p>\n"},{"tags":["java","hibernate","jdbc","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1651135338,"post_id":72039776,"comment_id":127292719,"body_markdown":"Please show a code where you create entities , set fields and save it","body":"Please show a code where you create entities , set fields and save it"}],"answers":[{"tags":[],"owner":{"account_id":21713771,"reputation":1,"user_id":16246744,"display_name":"Eric BASCLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669824747,"creation_date":1669823857,"answer_id":74630673,"question_id":72039776,"body_markdown":"I encountered the same problem, in my case I have an application with:\r\n\r\n     public class Claim extends BaseEntity&lt;Integer&gt; implements Serializable {\r\n          \r\n          @OneToOne(cascade = CascadeType.ALL)\r\n          @JoinColumn(name = &quot;claimdetailsid&quot;, referencedColumnName = &quot;id&quot;)\r\n          private ClaimDetails claimDetails;\r\n        \r\n          @OneToOne(cascade = CascadeType.PERSIST)\r\n          @JoinColumn(name = &quot;beneficiaryid&quot;, referencedColumnName = &quot;id&quot;)\r\n          private Beneficiary beneficiary;\r\n    \r\n          ....\r\n    }\r\n\r\n\r\nWhen I saved the Claim entity, the Claim and ClaimDetails objects were inserted correctly. The other entities had all the fields null, except the id and the creation date.\r\n\r\nI tried changing CascadeType.PERSIST to CascadeType.ALL, that solved my insert problem.\r\n\r\nBut the delete cascade doesn&#39;t work now.\r\n\r\n\r\n\r\n","title":"Hibernate inserts null even when field is not null in the object being saved","body":"<p>I encountered the same problem, in my case I have an application with:</p>\n<pre><code> public class Claim extends BaseEntity&lt;Integer&gt; implements Serializable {\n      \n      @OneToOne(cascade = CascadeType.ALL)\n      @JoinColumn(name = &quot;claimdetailsid&quot;, referencedColumnName = &quot;id&quot;)\n      private ClaimDetails claimDetails;\n    \n      @OneToOne(cascade = CascadeType.PERSIST)\n      @JoinColumn(name = &quot;beneficiaryid&quot;, referencedColumnName = &quot;id&quot;)\n      private Beneficiary beneficiary;\n\n      ....\n}\n</code></pre>\n<p>When I saved the Claim entity, the Claim and ClaimDetails objects were inserted correctly. The other entities had all the fields null, except the id and the creation date.</p>\n<p>I tried changing CascadeType.PERSIST to CascadeType.ALL, that solved my insert problem.</p>\n<p>But the delete cascade doesn't work now.</p>\n"}],"owner":{"account_id":8565296,"reputation":109,"user_id":6417952,"display_name":"rupesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669824747,"creation_date":1651131590,"question_id":72039776,"body_markdown":"I am facing a weird issue where even though all fields are set in the java object, when I save the object hibernate tries to insert null values in the fields.\r\n\r\nWhen I further debugged, I saw that while merging the new entity at [this][1] line hibernate generates an empty object and sets to the target instead of setting given entity to the target. This results in insert query with null values.\r\n\r\nAm I missing some configuration here? Below are the example entities having associations similar to my case.\r\n\r\n```\r\nclass Vehicle {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    @EqualsAndHashCode.Include\r\n    private VehicleType vehicleType;\r\n\r\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\r\n    private Car car;\r\n\r\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\r\n    private Truck truck;\r\n}\r\n\r\nclass Car {\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @OneToOne(fetch = FetchType.LAZY, optional = false)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;vehicle_id&quot;)\r\n    private Vehicle vehicle;\r\n\r\n    ...\r\n}\r\n\r\nclass Truck {\r\n\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @OneToOne(fetch = FetchType.LAZY, optional = false)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;vehicle_id&quot;)\r\n    private Vehicle vehicle;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/type/EntityType.java#L294","title":"Hibernate inserts null even when field is not null in the object being saved","body":"<p>I am facing a weird issue where even though all fields are set in the java object, when I save the object hibernate tries to insert null values in the fields.</p>\n<p>When I further debugged, I saw that while merging the new entity at <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/type/EntityType.java#L294\" rel=\"nofollow noreferrer\">this</a> line hibernate generates an empty object and sets to the target instead of setting given entity to the target. This results in insert query with null values.</p>\n<p>Am I missing some configuration here? Below are the example entities having associations similar to my case.</p>\n<pre><code>class Vehicle {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    @EqualsAndHashCode.Include\n    private VehicleType vehicleType;\n\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\n    private Car car;\n\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\n    private Truck truck;\n}\n\nclass Car {\n    @Id\n    private Integer id;\n    \n    @OneToOne(fetch = FetchType.LAZY, optional = false)\n    @MapsId\n    @JoinColumn(name = &quot;vehicle_id&quot;)\n    private Vehicle vehicle;\n\n    ...\n}\n\nclass Truck {\n\n    @Id\n    private Integer id;\n    \n    @OneToOne(fetch = FetchType.LAZY, optional = false)\n    @MapsId\n    @JoinColumn(name = &quot;vehicle_id&quot;)\n    private Vehicle vehicle;\n\n    ...\n}\n</code></pre>\n"},{"tags":["java","database","hibernate","postgresql","blob"],"comments":[{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":0,"creation_date":1285004363,"post_id":3677380,"comment_id":3969538,"body_markdown":"This seems to have been fixed in 3.6, not sure about 3.5.6; the MaterializedBlobType class was totally re-written from 3.5.5 &gt; 3.6.  The OID type now works since they changed implementation.","body":"This seems to have been fixed in 3.6, not sure about 3.5.6; the MaterializedBlobType class was totally re-written from 3.5.5 &gt; 3.6.  The OID type now works since they changed implementation."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1285006474,"post_id":3677380,"comment_id":3969867,"body_markdown":"Nice! I wonder what Jira issue is tracking this rewrite, if any (maybe the rewrite is a consequence of a deeper change). It would be nice to backport the changes in 3.5, if possible. Bad news if it&#39;s not possible.","body":"Nice! I wonder what Jira issue is tracking this rewrite, if any (maybe the rewrite is a consequence of a deeper change). It would be nice to backport the changes in 3.5, if possible. Bad news if it&#39;s not possible."},{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":0,"creation_date":1285016982,"post_id":3677380,"comment_id":3971567,"body_markdown":"Actually my test gave me a false positive the first time around (knew I should have waited!) -- its still not fixed, the bug has just moved to BlobTypeDescriptor.","body":"Actually my test gave me a false positive the first time around (knew I should have waited!) -- its still not fixed, the bug has just moved to BlobTypeDescriptor."},{"owner":{"account_id":4746687,"reputation":164,"user_id":4194335,"display_name":"jmoran"},"score":0,"creation_date":1544336666,"post_id":3677380,"comment_id":94236038,"body_markdown":"Thanks. @Type(type=&quot;org.hibernate.type.BinaryType&quot;) worked for me for a table that storage PDF files. I migrated a database from Oracle to Postgres using Oracle-To-PostgreSQL from Intelligent Converters, and it automatically converted and inserted from BLOB to BYTEA but BlobType didn&#39;t worked for me.","body":"Thanks. @Type(type=&quot;org.hibernate.type.BinaryType&quot;) worked for me for a table that storage PDF files. I migrated a database from Oracle to Postgres using Oracle-To-PostgreSQL from Intelligent Converters, and it automatically converted and inserted from BLOB to BYTEA but BlobType didn&#39;t worked for me."},{"owner":{"account_id":1005774,"reputation":351,"user_id":1019602,"display_name":"Gwaptiva"},"score":0,"creation_date":1683210038,"post_id":3677380,"comment_id":134334450,"body_markdown":"No fun for us that need a generic mapping to use for multiple RDBMSs... I cannot have one type mapped for SQLServer and one for PostgrSQL","body":"No fun for us that need a generic mapping to use for multiple RDBMSs... I cannot have one type mapped for SQLServer and one for PostgrSQL"}],"answers":[{"tags":[],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1285095561,"creation_date":1284740737,"answer_id":3737149,"question_id":3677380,"body_markdown":"I have finally got this working.  It expands on the solution from A. Garcia, however, since the problem lies in the hibernate type MaterializedBlob type just mapping Blob &gt; bytea is not sufficient, we need a replacement for MaterializedBlobType which works with hibernates broken blob support.  This implementation only works with bytea, but maybe the guy from the JIRA issue who wanted OID could contribute an OID implementation.\r\n\r\nSadly replacing these types at runtime is a pain, since they should be part of the Dialect.\r\nIf only [this JIRA enhanement][1] gets into 3.6 it would be possible.\r\n\r\n    public class PostgresqlMateralizedBlobType extends AbstractSingleColumnStandardBasicType&lt;byte[]&gt; {\r\n     public static final PostgresqlMateralizedBlobType INSTANCE = new PostgresqlMateralizedBlobType();\r\n    \t\r\n     public PostgresqlMateralizedBlobType() {\r\n      super( PostgresqlBlobTypeDescriptor.INSTANCE, PrimitiveByteArrayTypeDescriptor.INSTANCE );\r\n     }\r\n    \t\r\n      public String getName() {\r\n       return &quot;materialized_blob&quot;;\r\n      }\r\n    }\r\n\r\nMuch of this could probably be static (does getBinder() really need a new instance?), but I don&#39;t really understand the hibernate internal so this is mostly copy + paste + modify.\r\n\r\n    public class PostgresqlBlobTypeDescriptor extends BlobTypeDescriptor implements SqlTypeDescriptor {\r\n      public static final BlobTypeDescriptor INSTANCE = new PostgresqlBlobTypeDescriptor();\r\n      \t\r\n      public &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n       return new PostgresqlBlobBinder&lt;X&gt;(javaTypeDescriptor, this);\r\n      }\r\n      public &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n       return new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\r\n        protected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException { \r\n          return (X)rs.getBytes(name);\r\n        }\r\n       };\r\n      }\r\n    }\r\n\r\n    public class PostgresqlBlobBinder&lt;J&gt; implements ValueBinder&lt;J&gt; {\r\n     private final JavaTypeDescriptor&lt;J&gt; javaDescriptor;\r\n     private final SqlTypeDescriptor sqlDescriptor;\r\n    \r\n     public PostgresqlBlobBinder(JavaTypeDescriptor&lt;J&gt; javaDescriptor, SqlTypeDescriptor sqlDescriptor) { \r\n      this.javaDescriptor = javaDescriptor; this.sqlDescriptor = sqlDescriptor;\r\n     }\t\r\n     ...\r\n     public final void bind(PreparedStatement st, J value, int index, WrapperOptions options) \r\n     throws SQLException {\r\n      st.setBytes(index, (byte[])value);\r\n     }\r\n    }\r\n\r\n\r\n  [1]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-5584","title":"proper hibernate annotation for byte[]","body":"<p>I have finally got this working.  It expands on the solution from A. Garcia, however, since the problem lies in the hibernate type MaterializedBlob type just mapping Blob > bytea is not sufficient, we need a replacement for MaterializedBlobType which works with hibernates broken blob support.  This implementation only works with bytea, but maybe the guy from the JIRA issue who wanted OID could contribute an OID implementation.</p>\n\n<p>Sadly replacing these types at runtime is a pain, since they should be part of the Dialect.\nIf only <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-5584\" rel=\"noreferrer\">this JIRA enhanement</a> gets into 3.6 it would be possible.</p>\n\n<pre><code>public class PostgresqlMateralizedBlobType extends AbstractSingleColumnStandardBasicType&lt;byte[]&gt; {\n public static final PostgresqlMateralizedBlobType INSTANCE = new PostgresqlMateralizedBlobType();\n\n public PostgresqlMateralizedBlobType() {\n  super( PostgresqlBlobTypeDescriptor.INSTANCE, PrimitiveByteArrayTypeDescriptor.INSTANCE );\n }\n\n  public String getName() {\n   return \"materialized_blob\";\n  }\n}\n</code></pre>\n\n<p>Much of this could probably be static (does getBinder() really need a new instance?), but I don't really understand the hibernate internal so this is mostly copy + paste + modify.</p>\n\n<pre><code>public class PostgresqlBlobTypeDescriptor extends BlobTypeDescriptor implements SqlTypeDescriptor {\n  public static final BlobTypeDescriptor INSTANCE = new PostgresqlBlobTypeDescriptor();\n\n  public &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n   return new PostgresqlBlobBinder&lt;X&gt;(javaTypeDescriptor, this);\n  }\n  public &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n   return new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\n    protected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException { \n      return (X)rs.getBytes(name);\n    }\n   };\n  }\n}\n\npublic class PostgresqlBlobBinder&lt;J&gt; implements ValueBinder&lt;J&gt; {\n private final JavaTypeDescriptor&lt;J&gt; javaDescriptor;\n private final SqlTypeDescriptor sqlDescriptor;\n\n public PostgresqlBlobBinder(JavaTypeDescriptor&lt;J&gt; javaDescriptor, SqlTypeDescriptor sqlDescriptor) { \n  this.javaDescriptor = javaDescriptor; this.sqlDescriptor = sqlDescriptor;\n }  \n ...\n public final void bind(PreparedStatement st, J value, int index, WrapperOptions options) \n throws SQLException {\n  st.setBytes(index, (byte[])value);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43546,"reputation":33497,"user_id":127359,"accept_rate":85,"display_name":"Arthur Ronald"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1438887173,"creation_date":1284746511,"answer_id":3737774,"question_id":3677380,"body_markdown":"Here goes what O&#39;reilly Enterprise JavaBeans, 3.0 says\r\n\r\n&gt; JDBC has special types for these very large objects. **The java.sql.Blob type represents binary data**, and java.sql.Clob represents character data.\r\n\r\nHere goes PostgreSQLDialect source code\r\n\r\n    public PostgreSQLDialect() {\r\n        super();\r\n        ...\r\n        registerColumnType(Types.VARBINARY, &quot;bytea&quot;);\r\n        /**\r\n          * Notice it maps java.sql.Types.BLOB as oid\r\n          */\r\n        registerColumnType(Types.BLOB, &quot;oid&quot;);\r\n    }\r\n\r\nSo what you can do\r\n\r\nOverride PostgreSQLDialect as follows\r\n\r\n    public class CustomPostgreSQLDialect extends PostgreSQLDialect {\r\n        \r\n        public CustomPostgreSQLDialect() {\r\n            super();\r\n            \r\n            registerColumnType(Types.BLOB, &quot;bytea&quot;);\r\n        }\r\n    }\r\n\r\nNow just define your custom dialect\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;br.com.ar.dialect.CustomPostgreSQLDialect&quot;/&gt;\r\n\r\nAnd use your portable JPA @Lob annotation\r\n\r\n    @Lob\r\n    public byte[] getValueBuffer() {\r\n\r\n**UPDATE**\r\n\r\nHere has been extracted [here][1]\r\n\r\n&gt; I have an application running in *hibernate 3.3.2 and the applications works fine*, with all blob fields using oid (byte[] in java)\r\n\r\n... \r\n\r\n&gt; Migrating to *hibernate 3.5 all blob fields not work anymore*, and the server log shows: ERROR org.hibernate.util.JDBCExceptionReporter - ERROR: column is of type oid but expression is of type bytea\r\n\r\n**which can be explained** [here][2]\r\n\r\n&gt; This generaly *is not bug in PG JDBC*, **but change of default implementation of Hibernate in 3.5 version**. In my situation **setting compatible property on connection\r\ndid not helped**. \r\n\r\n...\r\n\r\n&gt; Much more this what I saw in 3.5 - beta 2, and i do not know if this was fixed is Hibernate - without @Type annotation - **will auto-create column of type oid, but will try to read this as bytea** \r\n\r\nInteresting is because when he maps Types.BOLB as bytea (See CustomPostgreSQLDialect) He get\r\n\r\n&gt; Could not execute JDBC batch update \r\n\r\nwhen inserting or updating\r\n\r\n  [1]: http://www.postgresql.org/message-id/4BBF38F9.3080708@serhmatica.com.br\r\n  [2]: http://www.postgresql.org/message-id/201004121828.52833.rsmogura@softperience.eu","title":"proper hibernate annotation for byte[]","body":"<p>Here goes what O'reilly Enterprise JavaBeans, 3.0 says</p>\n\n<blockquote>\n  <p>JDBC has special types for these very large objects. <strong>The java.sql.Blob type represents binary data</strong>, and java.sql.Clob represents character data.</p>\n</blockquote>\n\n<p>Here goes PostgreSQLDialect source code</p>\n\n<pre><code>public PostgreSQLDialect() {\n    super();\n    ...\n    registerColumnType(Types.VARBINARY, \"bytea\");\n    /**\n      * Notice it maps java.sql.Types.BLOB as oid\n      */\n    registerColumnType(Types.BLOB, \"oid\");\n}\n</code></pre>\n\n<p>So what you can do</p>\n\n<p>Override PostgreSQLDialect as follows</p>\n\n<pre><code>public class CustomPostgreSQLDialect extends PostgreSQLDialect {\n\n    public CustomPostgreSQLDialect() {\n        super();\n\n        registerColumnType(Types.BLOB, \"bytea\");\n    }\n}\n</code></pre>\n\n<p>Now just define your custom dialect</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\" value=\"br.com.ar.dialect.CustomPostgreSQLDialect\"/&gt;\n</code></pre>\n\n<p>And use your portable JPA @Lob annotation</p>\n\n<pre><code>@Lob\npublic byte[] getValueBuffer() {\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here has been extracted <a href=\"http://www.postgresql.org/message-id/4BBF38F9.3080708@serhmatica.com.br\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>I have an application running in <em>hibernate 3.3.2 and the applications works fine</em>, with all blob fields using oid (byte[] in java)</p>\n</blockquote>\n\n<p>... </p>\n\n<blockquote>\n  <p>Migrating to <em>hibernate 3.5 all blob fields not work anymore</em>, and the server log shows: ERROR org.hibernate.util.JDBCExceptionReporter - ERROR: column is of type oid but expression is of type bytea</p>\n</blockquote>\n\n<p><strong>which can be explained</strong> <a href=\"http://www.postgresql.org/message-id/201004121828.52833.rsmogura@softperience.eu\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>This generaly <em>is not bug in PG JDBC</em>, <strong>but change of default implementation of Hibernate in 3.5 version</strong>. In my situation <strong>setting compatible property on connection\n  did not helped</strong>. </p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Much more this what I saw in 3.5 - beta 2, and i do not know if this was fixed is Hibernate - without @Type annotation - <strong>will auto-create column of type oid, but will try to read this as bytea</strong> </p>\n</blockquote>\n\n<p>Interesting is because when he maps Types.BOLB as bytea (See CustomPostgreSQLDialect) He get</p>\n\n<blockquote>\n  <p>Could not execute JDBC batch update </p>\n</blockquote>\n\n<p>when inserting or updating</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1285012238,"creation_date":1284757771,"answer_id":3739047,"question_id":3677380,"body_markdown":"&gt; What is the portable way to annotate a byte[] property?\r\n\r\nIt depends on what you want. JPA can persist a non annotated `byte[]`. From the JPA 2.0 spec: \r\n\r\n&gt; ### 11.1.6 Basic Annotation\r\n&gt; \r\n&gt; The `Basic` annotation is the simplest\r\n&gt; type of mapping to a database column.\r\n&gt; The `Basic` annotation can be applied\r\n&gt; to a persistent property or instance\r\n&gt; variable of any of the following\r\n&gt; types: Java primitive, types, wrappers\r\n&gt; of the primitive types,\r\n&gt; `java.lang.String`,\r\n&gt; `java.math.BigInteger`,\r\n&gt; `java.math.BigDecimal`,\r\n&gt; `java.util.Date`,\r\n&gt; `java.util.Calendar`, `java.sql.Date`,\r\n&gt; `java.sql.Time`, `java.sql.Timestamp`,\r\n&gt; **`byte[]`, `Byte[]`**, `char[]`, `Character[]`, enums, and any other\r\n&gt; type that implements `Serializable`.\r\n&gt; As described in Section 2.8, the use\r\n&gt; of the `Basic` annotation is optional\r\n&gt; for persistent fields and properties\r\n&gt; of these types. If the Basic\r\n&gt; annotation is not specified for such a\r\n&gt; field or property, the default values\r\n&gt; of the Basic annotation will apply.\r\n\r\nAnd Hibernate will map a it &quot;by default&quot; to a SQL `VARBINARY` (or a SQL `LONGVARBINARY` depending on the `Column` size?) that PostgreSQL handles with a `bytea`.\r\n\r\nBut if you want the `byte[]` to be stored in a Large Object, you should use a `@Lob`. From the spec:\r\n\r\n&gt; ### 11.1.24 Lob Annotation\r\n&gt; \r\n&gt; A `Lob` annotation specifies that a\r\n&gt; persistent property or field should be\r\n&gt; persisted as a large object to a\r\n&gt; database-supported large object type.\r\n&gt; Portable applications should use the\r\n&gt; `Lob` annotation when mapping to a\r\n&gt; database `Lob` type. The `Lob` annotation\r\n&gt; may be used in conjunction with the\r\n&gt; Basic annotation or with the\r\n&gt; `ElementCollection` annotation when the\r\n&gt; element collection value is of basic\r\n&gt; type. A `Lob` may be either a binary or\r\n&gt; character type. The `Lob` type is\r\n&gt; inferred from the type of the\r\n&gt; persistent field or property and,\r\n&gt; except for string and character types,\r\n&gt; defaults to Blob.\r\n\r\nAnd Hibernate will map it to a SQL `BLOB` that PostgreSQL handles with a `oid`\r\n.\r\n&gt; Is this fixed in some recent version of hibernate?\r\n\r\nWell, the problem is that I don&#39;t know what the problem is exactly. But I can at least say that nothing has changed since 3.5.0-Beta-2 (which is where a changed has been introduced)in the 3.5.x branch.\r\n\r\nBut my understanding of issues like [HHH-4876][1], [HHH-4617][2] and of [PostgreSQL and BLOBs][3] (mentioned in the javadoc of the  `PostgreSQLDialect`) is that you are supposed to set the following property\r\n\r\n    hibernate.jdbc.use_streams_for_binary=false\r\n\r\nif you want to use `oid` i.e. `byte[]` with `@Lob` (which is my understanding since `VARBINARY` is not what you want with Oracle). Did you try this?\r\n\r\nAs an alternative, [HHH-4876][1] suggests using the deprecated `PrimitiveByteArrayBlobType` to get the old behavior (pre Hibernate 3.5).\r\n\r\n### References \r\n\r\n- JPA 2.0 Specification\r\n - Section 2.8 &quot;Mapping Defaults for Non-Relationship Fields or Properties&quot;\r\n - Section 11.1.6 &quot;Basic Annotation&quot;\r\n - Section 11.1.24 &quot;Lob Annotation&quot;\r\n\r\n### Resources\r\n\r\n- http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\r\n- http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\r\n- http://relation.to/Bloggers/PostgreSQLAndBLOBs\r\n\r\n  [1]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\r\n  [2]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\r\n  [3]: http://relation.to/Bloggers/PostgreSQLAndBLOBs","title":"proper hibernate annotation for byte[]","body":"<blockquote>\n  <p>What is the portable way to annotate a byte[] property?</p>\n</blockquote>\n\n<p>It depends on what you want. JPA can persist a non annotated <code>byte[]</code>. From the JPA 2.0 spec: </p>\n\n<blockquote>\n  <h3>11.1.6 Basic Annotation</h3>\n  \n  <p>The <code>Basic</code> annotation is the simplest\n  type of mapping to a database column.\n  The <code>Basic</code> annotation can be applied\n  to a persistent property or instance\n  variable of any of the following\n  types: Java primitive, types, wrappers\n  of the primitive types,\n  <code>java.lang.String</code>,\n  <code>java.math.BigInteger</code>,\n  <code>java.math.BigDecimal</code>,\n  <code>java.util.Date</code>,\n  <code>java.util.Calendar</code>, <code>java.sql.Date</code>,\n  <code>java.sql.Time</code>, <code>java.sql.Timestamp</code>,\n  <strong><code>byte[]</code>, <code>Byte[]</code></strong>, <code>char[]</code>, <code>Character[]</code>, enums, and any other\n  type that implements <code>Serializable</code>.\n  As described in Section 2.8, the use\n  of the <code>Basic</code> annotation is optional\n  for persistent fields and properties\n  of these types. If the Basic\n  annotation is not specified for such a\n  field or property, the default values\n  of the Basic annotation will apply.</p>\n</blockquote>\n\n<p>And Hibernate will map a it \"by default\" to a SQL <code>VARBINARY</code> (or a SQL <code>LONGVARBINARY</code> depending on the <code>Column</code> size?) that PostgreSQL handles with a <code>bytea</code>.</p>\n\n<p>But if you want the <code>byte[]</code> to be stored in a Large Object, you should use a <code>@Lob</code>. From the spec:</p>\n\n<blockquote>\n  <h3>11.1.24 Lob Annotation</h3>\n  \n  <p>A <code>Lob</code> annotation specifies that a\n  persistent property or field should be\n  persisted as a large object to a\n  database-supported large object type.\n  Portable applications should use the\n  <code>Lob</code> annotation when mapping to a\n  database <code>Lob</code> type. The <code>Lob</code> annotation\n  may be used in conjunction with the\n  Basic annotation or with the\n  <code>ElementCollection</code> annotation when the\n  element collection value is of basic\n  type. A <code>Lob</code> may be either a binary or\n  character type. The <code>Lob</code> type is\n  inferred from the type of the\n  persistent field or property and,\n  except for string and character types,\n  defaults to Blob.</p>\n</blockquote>\n\n<p>And Hibernate will map it to a SQL <code>BLOB</code> that PostgreSQL handles with a <code>oid</code>\n.</p>\n\n<blockquote>\n  <p>Is this fixed in some recent version of hibernate?</p>\n</blockquote>\n\n<p>Well, the problem is that I don't know what the problem is exactly. But I can at least say that nothing has changed since 3.5.0-Beta-2 (which is where a changed has been introduced)in the 3.5.x branch.</p>\n\n<p>But my understanding of issues like <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\" rel=\"noreferrer\">HHH-4876</a>, <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\" rel=\"noreferrer\">HHH-4617</a> and of <a href=\"http://relation.to/Bloggers/PostgreSQLAndBLOBs\" rel=\"noreferrer\">PostgreSQL and BLOBs</a> (mentioned in the javadoc of the  <code>PostgreSQLDialect</code>) is that you are supposed to set the following property</p>\n\n<pre><code>hibernate.jdbc.use_streams_for_binary=false\n</code></pre>\n\n<p>if you want to use <code>oid</code> i.e. <code>byte[]</code> with <code>@Lob</code> (which is my understanding since <code>VARBINARY</code> is not what you want with Oracle). Did you try this?</p>\n\n<p>As an alternative, <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\" rel=\"noreferrer\">HHH-4876</a> suggests using the deprecated <code>PrimitiveByteArrayBlobType</code> to get the old behavior (pre Hibernate 3.5).</p>\n\n<h3>References</h3>\n\n<ul>\n<li>JPA 2.0 Specification\n\n<ul>\n<li>Section 2.8 \"Mapping Defaults for Non-Relationship Fields or Properties\"</li>\n<li>Section 11.1.6 \"Basic Annotation\"</li>\n<li>Section 11.1.24 \"Lob Annotation\"</li>\n</ul></li>\n</ul>\n\n<h3>Resources</h3>\n\n<ul>\n<li><a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\" rel=\"noreferrer\">http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876</a></li>\n<li><a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\" rel=\"noreferrer\">http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617</a></li>\n<li><a href=\"http://relation.to/Bloggers/PostgreSQLAndBLOBs\" rel=\"noreferrer\">http://relation.to/Bloggers/PostgreSQLAndBLOBs</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":453237,"reputation":161,"user_id":850128,"display_name":"Vinh Vo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369084381,"creation_date":1369084381,"answer_id":16658512,"question_id":3677380,"body_markdown":"I got it work by overriding annotation with XML file for Postgres. Annotation is kept for Oracle. In my opinion, in this case it would be best we override the mapping of this trouble-some enity with xml mapping. We can override single / multiple entities with xml mapping. So we would use annotation for our mainly-supported database, and a xml file for each other database.\r\n\r\nNote: we just need to override one single class , so it is not a big deal.\r\nRead more from my example \r\n[Example to override annotation with XML][1]\r\n\r\n\r\n  [1]: http://goo.gl/GKy3x","title":"proper hibernate annotation for byte[]","body":"<p>I got it work by overriding annotation with XML file for Postgres. Annotation is kept for Oracle. In my opinion, in this case it would be best we override the mapping of this trouble-some enity with xml mapping. We can override single / multiple entities with xml mapping. So we would use annotation for our mainly-supported database, and a xml file for each other database.</p>\n\n<p>Note: we just need to override one single class , so it is not a big deal.\nRead more from my example \n<a href=\"http://goo.gl/GKy3x\" rel=\"nofollow\">Example to override annotation with XML</a></p>\n"},{"tags":[],"owner":{"account_id":1726548,"reputation":11349,"user_id":1581069,"accept_rate":85,"display_name":"Peter Butkovic"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1393966692,"creation_date":1393966692,"answer_id":22182893,"question_id":3677380,"body_markdown":"I&#39;m using the Hibernate 4.2.7.SP1 with Postgres 9.3 and following works for me:\r\n\r\n    @Entity\r\n    public class ConfigAttribute {\r\n      @Lob\r\n      public byte[] getValueBuffer() {\r\n        return m_valueBuffer;\r\n      }\r\n    }\r\n\r\nas Oracle has no trouble with that, and for Postgres I&#39;m using custom dialect:\r\n\r\n\tpublic class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\r\n\t    \r\n\t    @Override\r\n\t    public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\r\n\t    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\r\n\t      return BinaryTypeDescriptor.INSTANCE;\r\n\t    }\r\n\t    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n\t  }\r\n\t}\r\n\r\nthe advantage of this solution I consider, that I can keep hibernate jars untouched.\r\n\r\nFor more Postgres/Oracle compatibility issues with Hibernate, see my [blog post][1].\r\n\r\n\r\n  [1]: http://peter-butkovic.blogspot.de/2014/03/postgres-and-oracle-compatibility-with_4.html","title":"proper hibernate annotation for byte[]","body":"<p>I'm using the Hibernate 4.2.7.SP1 with Postgres 9.3 and following works for me:</p>\n\n<pre><code>@Entity\npublic class ConfigAttribute {\n  @Lob\n  public byte[] getValueBuffer() {\n    return m_valueBuffer;\n  }\n}\n</code></pre>\n\n<p>as Oracle has no trouble with that, and for Postgres I'm using custom dialect:</p>\n\n<pre><code>public class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\n\n    @Override\n    public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\n    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\n      return BinaryTypeDescriptor.INSTANCE;\n    }\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n  }\n}\n</code></pre>\n\n<p>the advantage of this solution I consider, that I can keep hibernate jars untouched.</p>\n\n<p>For more Postgres/Oracle compatibility issues with Hibernate, see my <a href=\"http://peter-butkovic.blogspot.de/2014/03/postgres-and-oracle-compatibility-with_4.html\" rel=\"noreferrer\">blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":3368180,"reputation":908,"user_id":2828177,"display_name":"Gajendra Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499942113,"creation_date":1499942113,"answer_id":45078162,"question_id":3677380,"body_markdown":"On Postgres @Lob is breaking for byte[] as it tries to save it as oid, and for String also same problem occurs. Below code is breaking on postgres which is working fine on oracle.\r\n\r\n    @Lob\r\n    private String stringField;\r\n\r\nand \r\n\r\n    @Lob\r\n    private byte[]   someByteStream;\r\n\r\n\r\nIn order to fix above on postgres have written below custom hibernate.dialect \r\n\r\n    public class PostgreSQLDialectCustom extends PostgreSQL82Dialect{\r\n\t\r\n\tpublic PostgreSQLDialectCustom()\r\n\t{\r\n\t\tsuper();\r\n\t\tregisterColumnType(Types.BLOB, &quot;bytea&quot;);\r\n\t}\r\n\r\n\t @Override\r\n\t public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\r\n\t    if (Types.CLOB == sqlTypeDescriptor.getSqlType()) {\r\n\t      return LongVarcharTypeDescriptor.INSTANCE;\r\n\t    }\r\n\t    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n\t  }\r\n    }\r\n\r\n\r\nNow configure custom dialect in hibernate \r\n\r\n    hibernate.dialect=X.Y.Z.PostgreSQLDialectCustom   \r\nX.Y.Z is package name. \r\n\r\nNow it working fine. \r\nNOTE- My Hibernate version - 5.2.8.Final \r\n      Postgres version- 9.6.3\r\n","title":"proper hibernate annotation for byte[]","body":"<p>On Postgres @Lob is breaking for byte[] as it tries to save it as oid, and for String also same problem occurs. Below code is breaking on postgres which is working fine on oracle.</p>\n\n<pre><code>@Lob\nprivate String stringField;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Lob\nprivate byte[]   someByteStream;\n</code></pre>\n\n<p>In order to fix above on postgres have written below custom hibernate.dialect </p>\n\n<pre><code>public class PostgreSQLDialectCustom extends PostgreSQL82Dialect{\n\npublic PostgreSQLDialectCustom()\n{\n    super();\n    registerColumnType(Types.BLOB, \"bytea\");\n}\n\n @Override\n public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\n    if (Types.CLOB == sqlTypeDescriptor.getSqlType()) {\n      return LongVarcharTypeDescriptor.INSTANCE;\n    }\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n  }\n}\n</code></pre>\n\n<p>Now configure custom dialect in hibernate </p>\n\n<pre><code>hibernate.dialect=X.Y.Z.PostgreSQLDialectCustom   \n</code></pre>\n\n<p>X.Y.Z is package name. </p>\n\n<p>Now it working fine. \nNOTE- My Hibernate version - 5.2.8.Final \n      Postgres version- 9.6.3</p>\n"},{"tags":[],"owner":{"account_id":7312344,"reputation":375,"user_id":5571092,"display_name":"El Ghandor Yasser"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510228566,"creation_date":1510228566,"answer_id":47201224,"question_id":3677380,"body_markdown":"i fixed My issue by adding the annotation of @Lob which will create the byte[] in oracle as blob , but this annotation will create the field as oid which not work properly , To make byte[] created as bytea i made customer Dialect for postgres as below \r\n\r\n\r\n    Public class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\r\n\t    public PostgreSQLDialectCustom() {\r\n\t\t    System.out.println(&quot;Init PostgreSQLDialectCustom&quot;);\r\n\t\t    registerColumnType( Types.BLOB, &quot;bytea&quot; );\r\n\r\n\t      }\r\n\r\n    \t@Override\r\n        public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\r\n        if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\r\n          return BinaryTypeDescriptor.INSTANCE;\r\n        }\r\n        return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n      }\r\n     }\r\n \r\n\r\nAlso need to override parameter for the Dialect\r\n\r\nspring.jpa.properties.hibernate.dialect=com.ntg.common.DBCompatibilityHelper.PostgreSQLDialectCustom\r\n\r\nmore hint can be found her : [https://dzone.com/articles/postgres-and-oracle][1]\r\n \r\n\r\n\r\n  [1]: https://dzone.com/articles/postgres-and-oracle","title":"proper hibernate annotation for byte[]","body":"<p>i fixed My issue by adding the annotation of @Lob which will create the byte[] in oracle as blob , but this annotation will create the field as oid which not work properly , To make byte[] created as bytea i made customer Dialect for postgres as below </p>\n\n<pre><code>Public class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\n    public PostgreSQLDialectCustom() {\n        System.out.println(\"Init PostgreSQLDialectCustom\");\n        registerColumnType( Types.BLOB, \"bytea\" );\n\n      }\n\n    @Override\n    public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\n    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\n      return BinaryTypeDescriptor.INSTANCE;\n    }\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n  }\n }\n</code></pre>\n\n<p>Also need to override parameter for the Dialect</p>\n\n<p>spring.jpa.properties.hibernate.dialect=com.ntg.common.DBCompatibilityHelper.PostgreSQLDialectCustom</p>\n\n<p>more hint can be found her : <a href=\"https://dzone.com/articles/postgres-and-oracle\" rel=\"noreferrer\">https://dzone.com/articles/postgres-and-oracle</a></p>\n"},{"tags":[],"owner":{"account_id":2781112,"reputation":291,"user_id":2393658,"display_name":"Nibin Jacob Panicker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522309114,"creation_date":1522301511,"answer_id":49548704,"question_id":3677380,"body_markdown":"Thanks Justin, Pascal for guiding me to the right direction. I was also facing the same issue with Hibernate 3.5.3. Your research and pointers to the right classes had helped me identify the issue and do a fix.\r\n\r\nFor the benefit for those who are still stuck with Hibernate 3.5 and using oid + byte[] + @LoB combination, following is what I have done to fix the issue.\r\n\r\n1. I created a custom BlobType extending MaterializedBlobType and overriding the set and the get methods with the oid style access.\r\n\r\n        public class CustomBlobType extends MaterializedBlobType {\r\n    \r\n        private static final String POSTGRESQL_DIALECT = PostgreSQLDialect.class.getName();\r\n    \r\n        /**\r\n         * Currently set dialect.\r\n         */\r\n        private String dialect = hibernateConfiguration.getProperty(Environment.DIALECT);\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.hibernate.type.AbstractBynaryType#set(java.sql.PreparedStatement, java.lang.Object, int)\r\n         */\r\n        @Override\r\n        public void set(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\r\n            byte[] internalValue = toInternalFormat(value);\r\n    \r\n            if (POSTGRESQL_DIALECT.equals(dialect)) {\r\n                try {\r\n    \r\n        //I had access to sessionFactory through a custom sessionFactory wrapper.\r\n        st.setBlob(index, Hibernate.createBlob(internalValue, sessionFactory.getCurrentSession()));\r\n                    } catch (SystemException e) {\r\n                        throw new HibernateException(e);\r\n                    }\r\n                } else {\r\n                    st.setBytes(index, internalValue);\r\n                }\r\n            }\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.hibernate.type.AbstractBynaryType#get(java.sql.ResultSet, java.lang.String)\r\n         */\r\n        @Override\r\n        public Object get(ResultSet rs, String name) throws HibernateException, SQLException {\r\n            Blob blob = rs.getBlob(name);\r\n            if (rs.wasNull()) {\r\n                return null;\r\n            }\r\n            int length = (int) blob.length();\r\n            return toExternalFormat(blob.getBytes(1, length));\r\n          }\r\n        }\r\n\r\n 2. Register the CustomBlobType with Hibernate. Following is what i did to achieve that.\r\n\r\n            hibernateConfiguration= new AnnotationConfiguration();\r\n            Mappings mappings = hibernateConfiguration.createMappings();\r\n            mappings.addTypeDef(&quot;materialized_blob&quot;, &quot;x.y.z.BlobType&quot;, null);\r\n\r\n","title":"proper hibernate annotation for byte[]","body":"<p>Thanks Justin, Pascal for guiding me to the right direction. I was also facing the same issue with Hibernate 3.5.3. Your research and pointers to the right classes had helped me identify the issue and do a fix.</p>\n\n<p>For the benefit for those who are still stuck with Hibernate 3.5 and using oid + byte[] + @LoB combination, following is what I have done to fix the issue.</p>\n\n<ol>\n<li><p>I created a custom BlobType extending MaterializedBlobType and overriding the set and the get methods with the oid style access.</p>\n\n<pre><code>public class CustomBlobType extends MaterializedBlobType {\n\nprivate static final String POSTGRESQL_DIALECT = PostgreSQLDialect.class.getName();\n\n/**\n * Currently set dialect.\n */\nprivate String dialect = hibernateConfiguration.getProperty(Environment.DIALECT);\n\n/*\n * (non-Javadoc)\n * @see org.hibernate.type.AbstractBynaryType#set(java.sql.PreparedStatement, java.lang.Object, int)\n */\n@Override\npublic void set(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\n    byte[] internalValue = toInternalFormat(value);\n\n    if (POSTGRESQL_DIALECT.equals(dialect)) {\n        try {\n\n//I had access to sessionFactory through a custom sessionFactory wrapper.\nst.setBlob(index, Hibernate.createBlob(internalValue, sessionFactory.getCurrentSession()));\n            } catch (SystemException e) {\n                throw new HibernateException(e);\n            }\n        } else {\n            st.setBytes(index, internalValue);\n        }\n    }\n\n/*\n * (non-Javadoc)\n * @see org.hibernate.type.AbstractBynaryType#get(java.sql.ResultSet, java.lang.String)\n */\n@Override\npublic Object get(ResultSet rs, String name) throws HibernateException, SQLException {\n    Blob blob = rs.getBlob(name);\n    if (rs.wasNull()) {\n        return null;\n    }\n    int length = (int) blob.length();\n    return toExternalFormat(blob.getBytes(1, length));\n  }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Register the CustomBlobType with Hibernate. Following is what i did to achieve that.</p>\n\n<pre><code>hibernateConfiguration= new AnnotationConfiguration();\nMappings mappings = hibernateConfiguration.createMappings();\nmappings.addTypeDef(\"materialized_blob\", \"x.y.z.BlobType\", null);\n</code></pre></li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16317426,"reputation":1,"user_id":11784108,"display_name":"miche d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630347616,"creation_date":1630337841,"answer_id":68986718,"question_id":3677380,"body_markdown":"1. You can use in the entity\r\n\r\n```java\r\n@Lob\r\n@Type(type = &quot;org.hibernate.type.BinaryType&quot;)\r\n@Column(name = &quot;stringField&quot;)\r\nprivate byte[] stringField;\r\n```","title":"proper hibernate annotation for byte[]","body":"<ol>\n<li>You can use in the entity</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Lob\n@Type(type = &quot;org.hibernate.type.BinaryType&quot;)\n@Column(name = &quot;stringField&quot;)\nprivate byte[] stringField;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2683188,"reputation":135,"user_id":2318089,"display_name":"Arun VC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669824442,"creation_date":1669824442,"answer_id":74630819,"question_id":3677380,"body_markdown":"Hibernate 6+, javaee 9+\r\n\r\n      @Lob\r\n      @JdbcTypeCode(Types.BINARY)\r\n      public byte[] getValueBuffer() {\r\n        return m_valueBuffer;\r\n      }","title":"proper hibernate annotation for byte[]","body":"<p>Hibernate 6+, javaee 9+</p>\n<pre><code>  @Lob\n  @JdbcTypeCode(Types.BINARY)\n  public byte[] getValueBuffer() {\n    return m_valueBuffer;\n  }\n</code></pre>\n"}],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130295,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":3739047,"answer_count":10,"score":140,"last_activity_date":1669824442,"creation_date":1284041442,"question_id":3677380,"body_markdown":"I have an application using hibernate 3.1 and JPA annotations.  It has a few objects with byte[] attributes (1k - 200k in size).  It uses the JPA @Lob annotation, and hibernate 3.1 can read these just fine on all major databases -- it seems to hide the JDBC Blob vendor peculiarities (as it should do).\r\n\r\n    @Entity\r\n    public class ConfigAttribute {\r\n      @Lob\r\n      public byte[] getValueBuffer() {\r\n        return m_valueBuffer;\r\n      }\r\n    }\r\n\r\nWe had to upgrade to 3.5, when we discovered that hibernate 3.5  [breaks (and won&#39;t fix)][1] this annotation combination in postgresql (with no workaround).  I have not found a clear fix so far, but I did notice that if I just remove the @Lob, it uses the postgresql type bytea (which works, but only on postgres).\r\n\r\n    annotation                   postgres     oracle      works on\r\n    -------------------------------------------------------------\r\n    byte[] + @Lob                oid          blob        oracle\r\n    byte[]                       bytea        raw(255)    postgresql\r\n    byte[] + @Type(PBA)          oid          blob        oracle\r\n    byte[] + @Type(BT)           bytea        blob        postgresql\r\n    \r\n    once you use @Type, @Lob seems to not be relevant\r\n    note: oracle seems to have deprecated the &quot;raw&quot; type since 8i.\r\n\r\nI am looking for a way to have a single annotated class (with a blob property) which is portable across major databases.\r\n\r\n - What is the portable way to annotate a byte[] property?\r\n - Is this fixed in some recent version of hibernate?\r\n\r\n**Update:**\r\nAfter reading [this blog][2] I have finally figured out what the original workaround in the JIRA issue was: Apparently you are supposed to drop @Lob and annotate the property as:\r\n\r\n    @Type(type=&quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot;) \r\n    byte[] getValueBuffer() {...\r\n\r\nHowever, this does not work _for me_ -- I still get OIDs instead of bytea; it did however work for the author of the JIRA issue, who seemed to want oid.\r\n\r\nAfter the answer from A. Garcia, I then tried this combo, which actually does work on postgresql, but not on oracle.\r\n\r\n    @Type(type=&quot;org.hibernate.type.BinaryType&quot;) \r\n    byte[] getValueBuffer() {...\r\n\r\nWhat I really need to do is control which @org.hibernate.annotations.Type the combination (@Lob + byte[] gets mapped) to (on postgresql).\r\n\r\n----------\r\n\r\nHere is the snippet from 3.5.5.Final from MaterializedBlobType (sql type Blob).  According to Steve&#39;s blog, postgresql wants you to use Streams for bytea (don&#39;t ask me why) and postgresql&#39;s custom Blob type for oids.  Note also that using setBytes() on JDBC is also for bytea (from past experience).  So this explains why use-streams has no affect they both assume &#39;bytea&#39;.\r\n\r\n    public void set(PreparedStatement st, Object value, int index) {\r\n     byte[] internalValue = toInternalFormat( value );\r\n     if ( Environment.useStreamsForBinary() ) {\r\n      // use streams = true\r\n       st.setBinaryStream( index, \r\n        new ByteArrayInputStream( internalValue ), internalValue.length );\r\n     }\r\n     else {\r\n      // use streams = false\r\n      st.setBytes( index, internalValue );\r\n     }\r\n    }\r\n\r\nThis results in:\r\n\r\n    ERROR: column &quot;signature&quot; is of type oid but expression is of type bytea\r\n\r\n**Update**\r\nThe next logical question is: &quot;why not just change the table definitions manually to bytea&quot; and keep the (@Lob + byte[])?  This _does_ work, **UNTIL** you try to store a null byte[].  Which the postgreSQL driver thinks is an OID type expression and the column type is bytea -- this is because hibernate (rightly) calls JDBC.setNull() instead of JDBC.setBytes(null) which PG driver expects. \r\n\r\n    ERROR: column &quot;signature&quot; is of type bytea but expression is of type oid\r\n\r\nThe type system in hibernate is currently a &#39;work in progress&#39; (according to 3.5.5 deprecation comment).  In fact so much of the 3.5.5 code is deprecated, it is hard to know what to look at when sub-classing the PostgreSQLDialect).  \r\n\r\nAFAKT, Types.BLOB/&#39;oid&#39; on postgresql should be mapped to some custom type which uses OID style JDBC access (i.e. PostgresqlBlobType object and NOT MaterializedBlobType).  I&#39;ve never actually successfully used Blobs with postgresql, but I do know that bytea just simply works as one / I would expect.\r\n\r\nI am currently looking at the BatchUpdateException -- its possible that the driver doesn&#39;t support batching.  \r\n\r\n----------\r\nGreat quote from 2004:\r\n &quot;To sum up my ramblings, I&#39;d say they we should wait for the JDBC driver to do LOBs properly before changing Hibernate.&quot;\r\n\r\n\r\n**References:**\r\n\r\n - https://forum.hibernate.org/viewtopic.php?p=2393203\r\n - https://forum.hibernate.org/viewtopic.php?p=2435174\r\n - http://hibernate.atlassian.net/browse/HHH-4617\r\n - http://postgresql.1045698.n5.nabble.com/Migration-to-Hibernate-3-5-final-td2175339.html\r\n - https://jira.springframework.org/browse/SPR-2318\r\n - https://forums.hibernate.org/viewtopic.php?p=2203382&amp;sid=b526a17d9cf60a80f13d40cf8082aafd\r\n - http://virgo47.wordpress.com/2008/06/13/jpa-postgresql-and-bytea-vs-oid-type/\r\n\r\n  [1]: http://hibernate.atlassian.net/browse/HHH-4876\r\n  [2]: http://in.relation.to/Bloggers/PostgreSQLAndBLOBs#comment15505\r\n\r\n","title":"proper hibernate annotation for byte[]","body":"<p>I have an application using hibernate 3.1 and JPA annotations.  It has a few objects with byte[] attributes (1k - 200k in size).  It uses the JPA @Lob annotation, and hibernate 3.1 can read these just fine on all major databases -- it seems to hide the JDBC Blob vendor peculiarities (as it should do).</p>\n\n<pre><code>@Entity\npublic class ConfigAttribute {\n  @Lob\n  public byte[] getValueBuffer() {\n    return m_valueBuffer;\n  }\n}\n</code></pre>\n\n<p>We had to upgrade to 3.5, when we discovered that hibernate 3.5  <a href=\"http://hibernate.atlassian.net/browse/HHH-4876\" rel=\"noreferrer\">breaks (and won't fix)</a> this annotation combination in postgresql (with no workaround).  I have not found a clear fix so far, but I did notice that if I just remove the @Lob, it uses the postgresql type bytea (which works, but only on postgres).</p>\n\n<pre><code>annotation                   postgres     oracle      works on\n-------------------------------------------------------------\nbyte[] + @Lob                oid          blob        oracle\nbyte[]                       bytea        raw(255)    postgresql\nbyte[] + @Type(PBA)          oid          blob        oracle\nbyte[] + @Type(BT)           bytea        blob        postgresql\n\nonce you use @Type, @Lob seems to not be relevant\nnote: oracle seems to have deprecated the \"raw\" type since 8i.\n</code></pre>\n\n<p>I am looking for a way to have a single annotated class (with a blob property) which is portable across major databases.</p>\n\n<ul>\n<li>What is the portable way to annotate a byte[] property?</li>\n<li>Is this fixed in some recent version of hibernate?</li>\n</ul>\n\n<p><strong>Update:</strong>\nAfter reading <a href=\"http://in.relation.to/Bloggers/PostgreSQLAndBLOBs#comment15505\" rel=\"noreferrer\">this blog</a> I have finally figured out what the original workaround in the JIRA issue was: Apparently you are supposed to drop @Lob and annotate the property as:</p>\n\n<pre><code>@Type(type=\"org.hibernate.type.PrimitiveByteArrayBlobType\") \nbyte[] getValueBuffer() {...\n</code></pre>\n\n<p>However, this does not work <em>for me</em> -- I still get OIDs instead of bytea; it did however work for the author of the JIRA issue, who seemed to want oid.</p>\n\n<p>After the answer from A. Garcia, I then tried this combo, which actually does work on postgresql, but not on oracle.</p>\n\n<pre><code>@Type(type=\"org.hibernate.type.BinaryType\") \nbyte[] getValueBuffer() {...\n</code></pre>\n\n<p>What I really need to do is control which @org.hibernate.annotations.Type the combination (@Lob + byte[] gets mapped) to (on postgresql).</p>\n\n<hr>\n\n<p>Here is the snippet from 3.5.5.Final from MaterializedBlobType (sql type Blob).  According to Steve's blog, postgresql wants you to use Streams for bytea (don't ask me why) and postgresql's custom Blob type for oids.  Note also that using setBytes() on JDBC is also for bytea (from past experience).  So this explains why use-streams has no affect they both assume 'bytea'.</p>\n\n<pre><code>public void set(PreparedStatement st, Object value, int index) {\n byte[] internalValue = toInternalFormat( value );\n if ( Environment.useStreamsForBinary() ) {\n  // use streams = true\n   st.setBinaryStream( index, \n    new ByteArrayInputStream( internalValue ), internalValue.length );\n }\n else {\n  // use streams = false\n  st.setBytes( index, internalValue );\n }\n}\n</code></pre>\n\n<p>This results in:</p>\n\n<pre><code>ERROR: column \"signature\" is of type oid but expression is of type bytea\n</code></pre>\n\n<p><strong>Update</strong>\nThe next logical question is: \"why not just change the table definitions manually to bytea\" and keep the (@Lob + byte[])?  This <em>does</em> work, <strong>UNTIL</strong> you try to store a null byte[].  Which the postgreSQL driver thinks is an OID type expression and the column type is bytea -- this is because hibernate (rightly) calls JDBC.setNull() instead of JDBC.setBytes(null) which PG driver expects. </p>\n\n<pre><code>ERROR: column \"signature\" is of type bytea but expression is of type oid\n</code></pre>\n\n<p>The type system in hibernate is currently a 'work in progress' (according to 3.5.5 deprecation comment).  In fact so much of the 3.5.5 code is deprecated, it is hard to know what to look at when sub-classing the PostgreSQLDialect).  </p>\n\n<p>AFAKT, Types.BLOB/'oid' on postgresql should be mapped to some custom type which uses OID style JDBC access (i.e. PostgresqlBlobType object and NOT MaterializedBlobType).  I've never actually successfully used Blobs with postgresql, but I do know that bytea just simply works as one / I would expect.</p>\n\n<p>I am currently looking at the BatchUpdateException -- its possible that the driver doesn't support batching.  </p>\n\n<hr>\n\n<p>Great quote from 2004:\n \"To sum up my ramblings, I'd say they we should wait for the JDBC driver to do LOBs properly before changing Hibernate.\"</p>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><a href=\"https://forum.hibernate.org/viewtopic.php?p=2393203\" rel=\"noreferrer\">https://forum.hibernate.org/viewtopic.php?p=2393203</a></li>\n<li><a href=\"https://forum.hibernate.org/viewtopic.php?p=2435174\" rel=\"noreferrer\">https://forum.hibernate.org/viewtopic.php?p=2435174</a></li>\n<li><a href=\"http://hibernate.atlassian.net/browse/HHH-4617\" rel=\"noreferrer\">http://hibernate.atlassian.net/browse/HHH-4617</a></li>\n<li><a href=\"http://postgresql.1045698.n5.nabble.com/Migration-to-Hibernate-3-5-final-td2175339.html\" rel=\"noreferrer\">http://postgresql.1045698.n5.nabble.com/Migration-to-Hibernate-3-5-final-td2175339.html</a></li>\n<li><a href=\"https://jira.springframework.org/browse/SPR-2318\" rel=\"noreferrer\">https://jira.springframework.org/browse/SPR-2318</a></li>\n<li><a href=\"https://forums.hibernate.org/viewtopic.php?p=2203382&amp;sid=b526a17d9cf60a80f13d40cf8082aafd\" rel=\"noreferrer\">https://forums.hibernate.org/viewtopic.php?p=2203382&amp;sid=b526a17d9cf60a80f13d40cf8082aafd</a></li>\n<li><a href=\"http://virgo47.wordpress.com/2008/06/13/jpa-postgresql-and-bytea-vs-oid-type/\" rel=\"noreferrer\">http://virgo47.wordpress.com/2008/06/13/jpa-postgresql-and-bytea-vs-oid-type/</a></li>\n</ul>\n"},{"tags":["java","android","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":43035,"reputation":2835,"user_id":125615,"accept_rate":80,"display_name":"nickfox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1309799512,"creation_date":1309799512,"answer_id":6574324,"question_id":6574303,"body_markdown":"I started 2 emulator instances and was able to send an SMS from instance to the other, but... I had a problem where it would only send from the second instance I started. Look at this post: \r\n\r\n[Sending sms text message from android emulator to second emulator instance][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6521349/sending-sms-text-message-from-android-emulator-to-second-emulator-instance","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>I started 2 emulator instances and was able to send an SMS from instance to the other, but... I had a problem where it would only send from the second instance I started. Look at this post: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/6521349/sending-sms-text-message-from-android-emulator-to-second-emulator-instance\">Sending sms text message from android emulator to second emulator instance</a></p>\n"},{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1309807977,"creation_date":1309807977,"answer_id":6575411,"question_id":6574303,"body_markdown":"Use something like from the host computer\r\n\r\n    $ adb emu sms send 5551234 Hello Android\r\n","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>Use something like from the host computer</p>\n\n<pre><code>$ adb emu sms send 5551234 Hello Android\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2805485,"reputation":10437,"user_id":2412816,"accept_rate":63,"display_name":"dsharew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457165191,"creation_date":1457165191,"answer_id":35811718,"question_id":6574303,"body_markdown":"To send SMS to a specific emulator: \r\n\r\n    $ adb -s emulator-5554 emu sms send 5551234 Hello Android\r\n\r\n","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>To send SMS to a specific emulator: </p>\n\n<pre><code>$ adb -s emulator-5554 emu sms send 5551234 Hello Android\n</code></pre>\n"}],"owner":{"account_id":403927,"reputation":5389,"user_id":771964,"accept_rate":88,"display_name":"Sergii Zagriichuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4998,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6574324,"answer_count":3,"score":3,"last_activity_date":1669824364,"creation_date":1309799281,"question_id":6574303,"body_markdown":"I have received some code from another team and started to simple improvement and re-factoring.\r\nThe first phase is adding unit test to the project. I need to test functionality of parsing input sms.\r\nRelated to above information my question is:\r\n - Can I send sms to the emulator port from test method? \r\nI have writen next code but have no received anything ...\r\n \r\n\r\n    @Test\r\n    public void sendSmsTest() {\r\n        SmsManager smsManager = SmsManager.getDefault();\r\n        smsManager.sendTextMessage(&quot;5554&quot;, null, getSms(&quot;sms1&quot;), null, null);\r\n    }\r\n\r\n    private String getSms(String smsKey) {\r\n        return (String) smsMessages.get(smsKey);\r\n    }\r\nThanks.\r\n\r\n\r\n----------\r\nAfter restarting emulators and IDE I have received next error in console:\r\n\r\n&gt; Test running failed: Exception thrown\r\n&gt; in onCreate() of\r\n&gt; ComponentInfo{com.example/android.test.InstrumentationTestRunner}:\r\n&gt; java.lang.NullPointerException","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>I have received some code from another team and started to simple improvement and re-factoring.\nThe first phase is adding unit test to the project. I need to test functionality of parsing input sms.\nRelated to above information my question is:\n - Can I send sms to the emulator port from test method? \nI have writen next code but have no received anything ...</p>\n\n<pre><code>@Test\npublic void sendSmsTest() {\n    SmsManager smsManager = SmsManager.getDefault();\n    smsManager.sendTextMessage(\"5554\", null, getSms(\"sms1\"), null, null);\n}\n\nprivate String getSms(String smsKey) {\n    return (String) smsMessages.get(smsKey);\n}\n</code></pre>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p>After restarting emulators and IDE I have received next error in console:</p>\n\n<blockquote>\n  <p>Test running failed: Exception thrown\n  in onCreate() of\n  ComponentInfo{com.example/android.test.InstrumentationTestRunner}:\n  java.lang.NullPointerException</p>\n</blockquote>\n"},{"tags":["java","xml","web-services","soap","wsdl"],"comments":[{"owner":{"account_id":3760744,"reputation":217,"user_id":3125814,"display_name":"Sambhav"},"score":1,"creation_date":1397039985,"post_id":22959314,"comment_id":35055330,"body_markdown":"Use a SOAPUI tool.... it will help you...http://www.soapui.org/","body":"Use a SOAPUI tool.... it will help you...<a href=\"http://www.soapui.org/\" rel=\"nofollow noreferrer\">soapui.org</a>"},{"owner":{"account_id":4099047,"reputation":723,"user_id":3365075,"accept_rate":33,"display_name":"user3365075"},"score":0,"creation_date":1397042317,"post_id":22959314,"comment_id":35056928,"body_markdown":"Thanks for the reply, but SoapUI will be a manual task. I have write code to extract Soap request xml from wsdl. Could you please tell how can I achieve that.","body":"Thanks for the reply, but SoapUI will be a manual task. I have write code to extract Soap request xml from wsdl. Could you please tell how can I achieve that."},{"owner":{"account_id":4099047,"reputation":723,"user_id":3365075,"accept_rate":33,"display_name":"user3365075"},"score":0,"creation_date":1397042616,"post_id":22959314,"comment_id":35057134,"body_markdown":"I was using below code\n\nWsdlProject project = new WsdlProject;\nWsdlInterface[] wsdls = WsdlImporter.importWsdl(project, &quot;&lt;wsdl url&gt;&quot;);\nWsdlInterface wsdl = wsdls[0];\n       for (com.eviware.soapui.model.iface.Operation operation : wsdl.getOperationList()) {\n        WsdlOperation wsdlOperation = (WsdlOperation) operation;\n        System.out.println(&quot;OP:&quot;+wsdlOperation.getName());\n        System.out.println(&quot;Request:&quot;);\n        System.out.println(wsdlOperation.createRequest(true));\n        System.out.println(&quot;Response:&quot;);\n        System.out.println(wsdlOperation.createResponse(true));\n}\n}","body":"I was using below code  WsdlProject project = new WsdlProject; WsdlInterface[] wsdls = WsdlImporter.importWsdl(project, &quot;&lt;wsdl url&gt;&quot;); WsdlInterface wsdl = wsdls[0];        for (com.eviware.soapui.model.iface.Operation operation : wsdl.getOperationList()) {         WsdlOperation wsdlOperation = (WsdlOperation) operation;         System.out.println(&quot;OP:&quot;+wsdlOperation.getName());         System.out.println(&quot;Request:&quot;);         System.out.println(wsdlOperation.createRequest(true));         System.out.println(&quot;Response:&quot;);         System.out.println(wsdlOperation.createResponse(true)); } }"}],"answers":[{"tags":[],"owner":{"account_id":3760744,"reputation":217,"user_id":3125814,"display_name":"Sambhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397045510,"creation_date":1397045510,"answer_id":22962144,"question_id":22959314,"body_markdown":"\r\n\r\n    1. Create a Java Project: File-&gt;New-&gt;Other-&gt;Java Project. (TestWSDL)\r\n    2. Create a WSDL File: File-&gt;New-&gt;Other-&gt;Web Services-&gt;WSDL File-&gt; Name the file-&gt;Next-&gt;finish. (NewWSDLFile.wsdl)\r\n    3. Modify the WSDL File: Open NewWSDLFile.wsdl and replace all its content by your desired WSDL file.Save it. (Suppose I have saved my desired wsdl file at D:\\sampleWSDL.xml, which i want to convert. Open this xml file using Notepad++,copy all its content and paste it to NewWSDLFile.wsdl)\r\n    4. Create Web Service Client: File-&gt;New-&gt;Other-&gt;Web Services-&gt;Web Service Client-&gt;Next-&gt;Browse Service definition and show the path of the NewWSDLFile.wsdl file we created at step 2 -&gt;OK-&gt; 5. Click Client Project(blue colored link at right) and set it to the project we created at step\r\n    6. Press Next -&gt; Set Output Folder-&gt;Finish.\r\n    7. You will have all the converted Java files at the folder you set at step 5.","title":"Creating SOAP request from wsdl","body":"<pre><code>1. Create a Java Project: File-&gt;New-&gt;Other-&gt;Java Project. (TestWSDL)\n2. Create a WSDL File: File-&gt;New-&gt;Other-&gt;Web Services-&gt;WSDL File-&gt; Name the file-&gt;Next-&gt;finish. (NewWSDLFile.wsdl)\n3. Modify the WSDL File: Open NewWSDLFile.wsdl and replace all its content by your desired WSDL file.Save it. (Suppose I have saved my desired wsdl file at D:\\sampleWSDL.xml, which i want to convert. Open this xml file using Notepad++,copy all its content and paste it to NewWSDLFile.wsdl)\n4. Create Web Service Client: File-&gt;New-&gt;Other-&gt;Web Services-&gt;Web Service Client-&gt;Next-&gt;Browse Service definition and show the path of the NewWSDLFile.wsdl file we created at step 2 -&gt;OK-&gt; 5. Click Client Project(blue colored link at right) and set it to the project we created at step\n6. Press Next -&gt; Set Output Folder-&gt;Finish.\n7. You will have all the converted Java files at the folder you set at step 5.\n</code></pre>\n"}],"owner":{"account_id":4099047,"reputation":723,"user_id":3365075,"accept_rate":33,"display_name":"user3365075"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7850,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669824340,"creation_date":1397038178,"question_id":22959314,"body_markdown":"I have a requirement of creating SOAP request xml for one operation from wsdl. I researched and tried the solution of the blog &quot;https://stackoverflow.com/questions/20486743/java-get-sample-request-xml-from-wsdl/22958611#22958611&quot; , but I was getting exception &quot;java.lang.NoClassDefFoundError: org/fife/ui/rtextarea/RTextArea&quot; in line &quot;WsdlProject project = new WsdlProject();&quot;\r\n\r\nI imported latest jars (soapui-xmlbeans-4.5.0,wsdl-xmlbeans-1.1,soapui-4.5.0) but still throwing exception. Could anybody&quot;http://www.soapui.org/repository/eviware/&quot; please suggest how can I rectify it. Is there any other approach which I can take apart from this?\r\n\r\nThanks in advance !! ","title":"Creating SOAP request from wsdl","body":"<p>I have a requirement of creating SOAP request xml for one operation from wsdl. I researched and tried the solution of the blog \"<a href=\"https://stackoverflow.com/questions/20486743/java-get-sample-request-xml-from-wsdl/22958611#22958611\">Java: Get Sample Request XML from wsdl</a>\" , but I was getting exception \"java.lang.NoClassDefFoundError: org/fife/ui/rtextarea/RTextArea\" in line \"WsdlProject project = new WsdlProject();\"</p>\n\n<p>I imported latest jars (soapui-xmlbeans-4.5.0,wsdl-xmlbeans-1.1,soapui-4.5.0) but still throwing exception. Could anybody\"<a href=\"http://www.soapui.org/repository/eviware/\" rel=\"nofollow noreferrer\">http://www.soapui.org/repository/eviware/</a>\" please suggest how can I rectify it. Is there any other approach which I can take apart from this?</p>\n\n<p>Thanks in advance !! </p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":7061392,"reputation":25,"user_id":5406485,"display_name":"Kjempen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669824333,"creation_date":1669824333,"answer_id":74630792,"question_id":74574268,"body_markdown":"Update:\r\n\r\nIt seems to be Confluent&#39;s encryption libraries that causes these issues. I&#39;ve done quite an extensive A/B test, and every time it occurs is with Confluent encryption. Without I never experience this issue.","title":"stateStore.delete(key) in Kafka is not working","body":"<p>Update:</p>\n<p>It seems to be Confluent's encryption libraries that causes these issues. I've done quite an extensive A/B test, and every time it occurs is with Confluent encryption. Without I never experience this issue.</p>\n"}],"owner":{"account_id":7061392,"reputation":25,"user_id":5406485,"display_name":"Kjempen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74630792,"answer_count":1,"score":0,"last_activity_date":1669824333,"creation_date":1669386583,"question_id":74574268,"body_markdown":"I have what it thought would be a simple statestore use case. We loop through a state store every 10s and try to send to a partner, if we receive 404, we try again next intervall.\r\nIf we receive 200, we delete the entry from the state store.\r\n\r\nIn my test (1 entry in statestore) I first let it run a few loops, where we receive 404, just to test that the retry works. When I switch my mock endpoint to return 200, I can see through the logs that both:\r\nstateStore.delete(key) and stateStore.flush() is called. I even confirm after stateStore.delete(key) that stateStore.get(key) returns a null value (tombstone).\r\n\r\nHowever, the next time the punctuator runs (10s), the object is still in the state store and the entire block is called again. it keeps looping like this, without ever deleting the entry in the statestore\r\n\r\n```\r\n@Override\r\npublic void punctuate(long l) {\r\n\tlog.info(&quot;PeriodicRetryPunctuator started: &quot; + l);\r\n\r\n\ttry(KeyValueIterator&lt;String, TestEventObject&gt; iter = stateStore.all()) {\r\n\t\twhile(iter.hasNext()) {\r\n\t\t\tKeyValue&lt;String, TestEventObject&gt; keyValue = iter.next();\r\n\t\t\tString key = keyValue.key;\r\n\t\t\tTestEventObject event = keyValue.value;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tlog.info(&quot;Event: &quot; + event);\r\n\t\t\t\t// Sends event over HTTP. Will throw HttpResponseException if 404 is received\r\n\t\t\t\teventService.processEvent(event);\r\n\t\t\t\t\r\n\t\t\t\tstateStore.delete(key);\r\n\t\t\t\tstateStore.flush();\r\n\t\t\t\t\r\n\t\t\t\t// Check that statestore returns null\r\n\t\t\t\tlog.info(&quot;Check: &quot; + stateStore.get(key));\r\n\t\t\t} catch (HttpResponseException hre) {\r\n\t\t\t\tlog.info(&quot;Periodic retry received 404. Retrying at next interval&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tlog.error(&quot;Exception with periodic retry: {}&quot;, e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"stateStore.delete(key) in Kafka is not working","body":"<p>I have what it thought would be a simple statestore use case. We loop through a state store every 10s and try to send to a partner, if we receive 404, we try again next intervall.\nIf we receive 200, we delete the entry from the state store.</p>\n<p>In my test (1 entry in statestore) I first let it run a few loops, where we receive 404, just to test that the retry works. When I switch my mock endpoint to return 200, I can see through the logs that both:\nstateStore.delete(key) and stateStore.flush() is called. I even confirm after stateStore.delete(key) that stateStore.get(key) returns a null value (tombstone).</p>\n<p>However, the next time the punctuator runs (10s), the object is still in the state store and the entire block is called again. it keeps looping like this, without ever deleting the entry in the statestore</p>\n<pre><code>@Override\npublic void punctuate(long l) {\n    log.info(&quot;PeriodicRetryPunctuator started: &quot; + l);\n\n    try(KeyValueIterator&lt;String, TestEventObject&gt; iter = stateStore.all()) {\n        while(iter.hasNext()) {\n            KeyValue&lt;String, TestEventObject&gt; keyValue = iter.next();\n            String key = keyValue.key;\n            TestEventObject event = keyValue.value;\n            \n            try {\n                log.info(&quot;Event: &quot; + event);\n                // Sends event over HTTP. Will throw HttpResponseException if 404 is received\n                eventService.processEvent(event);\n                \n                stateStore.delete(key);\n                stateStore.flush();\n                \n                // Check that statestore returns null\n                log.info(&quot;Check: &quot; + stateStore.get(key));\n            } catch (HttpResponseException hre) {\n                log.info(&quot;Periodic retry received 404. Retrying at next interval&quot;);\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n                log.error(&quot;Exception with periodic retry: {}&quot;, e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1669824213,"post_id":74630697,"comment_id":131732091,"body_markdown":"https://stackoverflow.com/a/72103741/3426309","body":"<a href=\"https://stackoverflow.com/a/72103741/3426309\">stackoverflow.com/a/72103741/3426309</a>"}],"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669823951,"creation_date":1669823951,"question_id":74630697,"body_markdown":"I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service interacting with the database backwards compatible with the older version of the database without the new column. The Springboot service would be upgraded to have the new column in the Entity but I would like it to interact with either version of the database. Is there a way to prevent the service from failing if the new column in the Entity does not exist in the database?\r\n\r\nI researched around and was not able to find a viable solution as of yet.","title":"Spring Data JPA/Hibernate - is it possible to have a column that optionally exists in the database?","body":"<p>I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service interacting with the database backwards compatible with the older version of the database without the new column. The Springboot service would be upgraded to have the new column in the Entity but I would like it to interact with either version of the database. Is there a way to prevent the service from failing if the new column in the Entity does not exist in the database?</p>\n<p>I researched around and was not able to find a viable solution as of yet.</p>\n"},{"tags":["java","android","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":13455966,"reputation":786,"user_id":9709533,"display_name":"CPI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669823939,"creation_date":1669823939,"answer_id":74630692,"question_id":73992799,"body_markdown":"Did you define the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON?\r\n\r\nAccording to the [AccessibilityServiceInfo documentation][1], the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON must be defined in accessibilityFlags of the metadata of the service if targeting APIs greater than API 29\r\n\r\n    &lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:description=&quot;@string/accessibility_service_description&quot;\r\n    android:accessibilityEventTypes=&quot;typeAllMask&quot;\r\n    android:accessibilityFlags=&quot;flagDefault|flagReportViewIds|flagRetrieveInteractiveWindows|flagRequestAccessibilityButton&quot;\r\n    android:accessibilityFeedbackType=&quot;feedbackVisual&quot;\r\n    android:notificationTimeout=&quot;100&quot;\r\n    android:canRetrieveWindowContent=&quot;true&quot;\r\n    android:settingsActivity=&quot;com.example.android.accessibility.ServiceSettingsActivity&quot;/&gt;\r\n\r\n  [1]: https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo#FLAG_REQUEST_ACCESSIBILITY_BUTTON","title":"android accessibility service accessibility button not working","body":"<p>Did you define the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON?</p>\n<p>According to the <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo#FLAG_REQUEST_ACCESSIBILITY_BUTTON\" rel=\"nofollow noreferrer\">AccessibilityServiceInfo documentation</a>, the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON must be defined in accessibilityFlags of the metadata of the service if targeting APIs greater than API 29</p>\n<pre><code>&lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:description=&quot;@string/accessibility_service_description&quot;\nandroid:accessibilityEventTypes=&quot;typeAllMask&quot;\nandroid:accessibilityFlags=&quot;flagDefault|flagReportViewIds|flagRetrieveInteractiveWindows|flagRequestAccessibilityButton&quot;\nandroid:accessibilityFeedbackType=&quot;feedbackVisual&quot;\nandroid:notificationTimeout=&quot;100&quot;\nandroid:canRetrieveWindowContent=&quot;true&quot;\nandroid:settingsActivity=&quot;com.example.android.accessibility.ServiceSettingsActivity&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":22293228,"reputation":31,"user_id":16519691,"display_name":"job bot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669823939,"creation_date":1665178639,"question_id":73992799,"body_markdown":"I am attempting create an android accessibility service that uses the on screen accessibility button function as described here https://developer.android.com/guide/topics/ui/accessibility/service#button when the code from this article is ran on my test device (moto z4) running android 10. The function ``` accessibilityButtonController.isAccessibilityButtonAvailable(); ``` returns false. although according to the link provided above the only reason that this function should return false is on a device without software rendered navigation which my test device has. This is the sample I am using:\r\n``` \r\n\r\nimport android.accessibilityservice.AccessibilityButtonController;\r\nimport android.accessibilityservice.AccessibilityService;\r\nimport android.accessibilityservice.AccessibilityServiceInfo;\r\nimport android.util.Log;\r\nimport android.view.accessibility.AccessibilityEvent;\r\n\r\npublic class MyAccessibilityService extends AccessibilityService {\r\n    private AccessibilityButtonController accessibilityButtonController;\r\n    private AccessibilityButtonController\r\n            .AccessibilityButtonCallback accessibilityButtonCallback;\r\n    private boolean mIsAccessibilityButtonAvailable;\r\n\r\n    @Override\r\n    protected void onServiceConnected() {\r\n        Log.d(&quot;info&quot;, &quot;connect&quot;);\r\n        accessibilityButtonController = getAccessibilityButtonController();\r\n        mIsAccessibilityButtonAvailable =\r\n                accessibilityButtonController.isAccessibilityButtonAvailable();\r\n\r\n        if (!mIsAccessibilityButtonAvailable) {\r\n            Log.d(&quot;info&quot;, &quot;not supported&quot;);\r\n            return;\r\n        }\r\n\r\n        AccessibilityServiceInfo serviceInfo = getServiceInfo();\r\n        serviceInfo.flags\r\n                |= AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON;\r\n        setServiceInfo(serviceInfo);\r\n\r\n        accessibilityButtonCallback =\r\n                new AccessibilityButtonController.AccessibilityButtonCallback() {\r\n                    @Override\r\n                    public void onClicked(AccessibilityButtonController controller) {\r\n                        Log.d(&quot;MY_APP_TAG&quot;, &quot;Accessibility button pressed!&quot;);\r\n\r\n                        // Add custom logic for a service to react to the\r\n                        // accessibility button being pressed.\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAvailabilityChanged(\r\n                            AccessibilityButtonController controller, boolean available) {\r\n                        if (controller.equals(accessibilityButtonController)) {\r\n                            mIsAccessibilityButtonAvailable = available;\r\n                        }\r\n                    }\r\n                };\r\n\r\n        if (accessibilityButtonCallback != null) {\r\n            accessibilityButtonController.registerAccessibilityButtonCallback(\r\n                    accessibilityButtonCallback, null);\r\n        }\r\n    }\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n    }\r\n\r\n    @Override\r\n    public void onInterrupt() {\r\n    }\r\n\r\n\r\n}\r\n```","title":"android accessibility service accessibility button not working","body":"<p>I am attempting create an android accessibility service that uses the on screen accessibility button function as described here <a href=\"https://developer.android.com/guide/topics/ui/accessibility/service#button\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/accessibility/service#button</a> when the code from this article is ran on my test device (moto z4) running android 10. The function <code>accessibilityButtonController.isAccessibilityButtonAvailable();</code> returns false. although according to the link provided above the only reason that this function should return false is on a device without software rendered navigation which my test device has. This is the sample I am using:</p>\n<pre><code>\nimport android.accessibilityservice.AccessibilityButtonController;\nimport android.accessibilityservice.AccessibilityService;\nimport android.accessibilityservice.AccessibilityServiceInfo;\nimport android.util.Log;\nimport android.view.accessibility.AccessibilityEvent;\n\npublic class MyAccessibilityService extends AccessibilityService {\n    private AccessibilityButtonController accessibilityButtonController;\n    private AccessibilityButtonController\n            .AccessibilityButtonCallback accessibilityButtonCallback;\n    private boolean mIsAccessibilityButtonAvailable;\n\n    @Override\n    protected void onServiceConnected() {\n        Log.d(&quot;info&quot;, &quot;connect&quot;);\n        accessibilityButtonController = getAccessibilityButtonController();\n        mIsAccessibilityButtonAvailable =\n                accessibilityButtonController.isAccessibilityButtonAvailable();\n\n        if (!mIsAccessibilityButtonAvailable) {\n            Log.d(&quot;info&quot;, &quot;not supported&quot;);\n            return;\n        }\n\n        AccessibilityServiceInfo serviceInfo = getServiceInfo();\n        serviceInfo.flags\n                |= AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON;\n        setServiceInfo(serviceInfo);\n\n        accessibilityButtonCallback =\n                new AccessibilityButtonController.AccessibilityButtonCallback() {\n                    @Override\n                    public void onClicked(AccessibilityButtonController controller) {\n                        Log.d(&quot;MY_APP_TAG&quot;, &quot;Accessibility button pressed!&quot;);\n\n                        // Add custom logic for a service to react to the\n                        // accessibility button being pressed.\n                    }\n\n                    @Override\n                    public void onAvailabilityChanged(\n                            AccessibilityButtonController controller, boolean available) {\n                        if (controller.equals(accessibilityButtonController)) {\n                            mIsAccessibilityButtonAvailable = available;\n                        }\n                    }\n                };\n\n        if (accessibilityButtonCallback != null) {\n            accessibilityButtonController.registerAccessibilityButtonCallback(\n                    accessibilityButtonCallback, null);\n        }\n    }\n    @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n    }\n\n    @Override\n    public void onInterrupt() {\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","linux","installation","wget"],"answers":[{"tags":[],"owner":{"account_id":444156,"reputation":9359,"user_id":835806,"accept_rate":94,"display_name":"thejartender"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1362249613,"creation_date":1335103448,"answer_id":10268587,"question_id":10268583,"body_markdown":"Oracle has put a prevention cookie on the download link to force you to agree to the terms even though the license agreement to use Java clearly states that merely by using Java you &#39;agree&#39; to the license..\r\n\r\n\r\n   \r\nThe method that Oracle wants is you to download it with an agreement. After that, this script cn be modified for your  specific Linux\r\n\r\n    #!/bin/bash\r\n    #Author: Yucca Nel http://thejarbar.org\r\n    #Will restart system\r\n    #Modify these variables as needed...\r\n    tempWork=/tmp/work\r\n    locBin=/usr/local/bin\r\n    javaUsrLib=/usr/lib/jvm\r\n    \r\n    sudo mkdir -p $javaUsrLib\r\n    mkdir -p $tempWork\r\n    cd $tempWork\r\n    \r\n    #Extract the download\r\n    tar -zxvf $downloadDir/jdk*tar.gz\r\n    \r\n    #Move it to where it can be found...\r\n    \r\n    sudo mv -f $tempWork/jdk* $javaUsrLib/\r\n    \r\n    sudo ln -f -s $javaUsrLib/jdk1/bin/* /usr/bin/\r\n    \r\n    #Update this line to reflect versions of JDK...\r\n    export JAVA_HOME=&quot;$javaUsrLib/jdk1.7.0_03&quot;\r\n    #Extract the download\r\n    tar -zxvf $tempWork/*\r\n    \r\n    #Move it to where it can be found...\r\n    \r\n    sudo mv -f $tempWork/jdk1* $javaUsrLib/\r\n    \r\n    sudo ln -f -s $javaUsrLib/jdk1*/bin/* /usr/bin/\r\n    sudo rm -rf $tempWork\r\n    #Update this line to reflect newer versions of JDK...\r\n    export JAVA_HOME=&quot;$javaUsrLib/jdk1.7.0_03&quot;\r\n    \r\n    if ! grep &quot;JAVA_HOME=$javaUsrLib/jdk1.7.0_03&quot; /etc/environment\r\n    then\r\n        echo &quot;JAVA_HOME=$javaUsrLib/jdk1.7.0_03&quot;| sudo tee -a /etc/environment\r\n    fi\r\n    \r\n    \r\n    exit 0","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Oracle has put a prevention cookie on the download link to force you to agree to the terms even though the license agreement to use Java clearly states that merely by using Java you 'agree' to the license..</p>\n\n<p>The method that Oracle wants is you to download it with an agreement. After that, this script cn be modified for your  specific Linux</p>\n\n<pre><code>#!/bin/bash\n#Author: Yucca Nel http://thejarbar.org\n#Will restart system\n#Modify these variables as needed...\ntempWork=/tmp/work\nlocBin=/usr/local/bin\njavaUsrLib=/usr/lib/jvm\n\nsudo mkdir -p $javaUsrLib\nmkdir -p $tempWork\ncd $tempWork\n\n#Extract the download\ntar -zxvf $downloadDir/jdk*tar.gz\n\n#Move it to where it can be found...\n\nsudo mv -f $tempWork/jdk* $javaUsrLib/\n\nsudo ln -f -s $javaUsrLib/jdk1/bin/* /usr/bin/\n\n#Update this line to reflect versions of JDK...\nexport JAVA_HOME=\"$javaUsrLib/jdk1.7.0_03\"\n#Extract the download\ntar -zxvf $tempWork/*\n\n#Move it to where it can be found...\n\nsudo mv -f $tempWork/jdk1* $javaUsrLib/\n\nsudo ln -f -s $javaUsrLib/jdk1*/bin/* /usr/bin/\nsudo rm -rf $tempWork\n#Update this line to reflect newer versions of JDK...\nexport JAVA_HOME=\"$javaUsrLib/jdk1.7.0_03\"\n\nif ! grep \"JAVA_HOME=$javaUsrLib/jdk1.7.0_03\" /etc/environment\nthen\n    echo \"JAVA_HOME=$javaUsrLib/jdk1.7.0_03\"| sudo tee -a /etc/environment\nfi\n\n\nexit 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1488689,"reputation":17707,"user_id":1396340,"display_name":"Eric Kamara"},"down_vote_count":8,"up_vote_count":1729,"is_accepted":true,"score":1721,"last_activity_date":1640314065,"creation_date":1339233716,"answer_id":10959815,"question_id":10268583,"body_markdown":"\r\n**Works as of December 23rd, 2021 for JDK 17**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-x64_bin.rpm\r\n\r\n\r\n**Works as of July 27th, 2021 for JDK 16**\r\n```\r\nwget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/16.0.2%2B7/d4a915d82b4c4fbb9bde534da945d746/jdk-16.0.2_linux-x64_bin.rpm\r\n```\r\n\r\n**Works as of November 5th, 2020 for JDK 15**\r\n```\r\nwget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/15.0.1+9/51f4f36ad4ef43e39d0dfdbaf6549e32/jdk-15.0.1_linux-x64_bin.rpm\r\n```\r\n\r\n**Works as of 07-11-2020 for JDK 14**\r\n```\r\nwget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/14.0.1+7/664493ef4a6946b186ff29eb326336a2/jdk-14.0.1_linux-x64_bin.rpm -O ~/Downloads/jdk-14.0.1_linux-x64_bin.rpm\r\n```\r\nPS: Alf added this ( me ) :-) this, I couldn&#39;t figured out how to just commented at the end... Enjoy it.\r\n\r\n\r\n**UPDATED FOR Oracle JDK 11**\r\n\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/11+28/55eed80b163941c8885ad9298e6d786a/jdk-11_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 10.0.2**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.2+13/19aef61b38124481863b1413dce1855f/jdk-10.0.2_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 10.0.1**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 9**\r\nit looks like you can download it now directly from java.net without sending a header \r\n  \r\n    wget http://download.java.net/java/GA/jdk9/9/binaries/jdk-9+181_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 8u191**\r\n\r\nTAR GZ:\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz&quot;\r\n\r\nRPM:\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.rpm&quot;\r\n\r\n**UPDATED FOR JDK 8u131**\r\n\r\nRPM:\r\n\r\n      wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\r\n\r\nTAR GZ: \r\n\r\n     wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\r\n\r\nRPM using curl:\r\n\r\n     curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm &gt; jdk-8u112-linux-x64.rpm\r\n\r\nIn all cases above, subst &#39;i586&#39; for &#39;x64&#39; to download the 32-bit build.\r\n\r\n   - **-j** -&gt; junk cookies\r\n   - **-k** -&gt; ignore certificates\r\n   - **-L** -&gt; follow redirects\r\n   - **-H [arg]** -&gt; headers\r\n\r\n`curl` can be used in place of `wget`.\r\n\r\n**UPDATE FOR JDK 7u79**\r\n\r\nTAR GZ:  \r\n\r\n    wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.tar.gz\r\n\r\nRPM using curl:\r\n\r\n    curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.rpm &gt; jdk-7u79-linux-x64.rpm\r\n\r\nOnce again, make sure you specify the correct URL for the version you are downloading. You can find the URL here: [Oracle JDK download site][1]\r\n\r\n**ORIGINAL ANSWER FROM 9th June 2012**\r\n\r\nIf you are looking to download the Oracle JDK from the command line using `wget`, there is a workaround. Run the `wget` command as follows:\r\n\r\n    wget --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-linux-x64.tar.gz&quot;\r\n\r\nBe sure to replace the download link with the correct one for the version you are downloading.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\r\n\r\n\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>Works as of December 23rd, 2021 for JDK 17</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-x64_bin.rpm\n</code></pre>\n<p><strong>Works as of July 27th, 2021 for JDK 16</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/16.0.2%2B7/d4a915d82b4c4fbb9bde534da945d746/jdk-16.0.2_linux-x64_bin.rpm\n</code></pre>\n<p><strong>Works as of November 5th, 2020 for JDK 15</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/15.0.1+9/51f4f36ad4ef43e39d0dfdbaf6549e32/jdk-15.0.1_linux-x64_bin.rpm\n</code></pre>\n<p><strong>Works as of 07-11-2020 for JDK 14</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/14.0.1+7/664493ef4a6946b186ff29eb326336a2/jdk-14.0.1_linux-x64_bin.rpm -O ~/Downloads/jdk-14.0.1_linux-x64_bin.rpm\n</code></pre>\n<p>PS: Alf added this ( me ) :-) this, I couldn't figured out how to just commented at the end... Enjoy it.</p>\n<p><strong>UPDATED FOR Oracle JDK 11</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/11+28/55eed80b163941c8885ad9298e6d786a/jdk-11_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 10.0.2</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.2+13/19aef61b38124481863b1413dce1855f/jdk-10.0.2_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 10.0.1</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 9</strong>\nit looks like you can download it now directly from java.net without sending a header</p>\n<pre><code>wget http://download.java.net/java/GA/jdk9/9/binaries/jdk-9+181_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 8u191</strong></p>\n<p>TAR GZ:</p>\n<pre><code>wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz&quot;\n</code></pre>\n<p>RPM:</p>\n<pre><code>wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.rpm&quot;\n</code></pre>\n<p><strong>UPDATED FOR JDK 8u131</strong></p>\n<p>RPM:</p>\n<pre><code>  wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\n</code></pre>\n<p>TAR GZ:</p>\n<pre><code> wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\n</code></pre>\n<p>RPM using curl:</p>\n<pre><code> curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm &gt; jdk-8u112-linux-x64.rpm\n</code></pre>\n<p>In all cases above, subst 'i586' for 'x64' to download the 32-bit build.</p>\n<ul>\n<li><strong>-j</strong> -&gt; junk cookies</li>\n<li><strong>-k</strong> -&gt; ignore certificates</li>\n<li><strong>-L</strong> -&gt; follow redirects</li>\n<li><strong>-H [arg]</strong> -&gt; headers</li>\n</ul>\n<p><code>curl</code> can be used in place of <code>wget</code>.</p>\n<p><strong>UPDATE FOR JDK 7u79</strong></p>\n<p>TAR GZ:</p>\n<pre><code>wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.tar.gz\n</code></pre>\n<p>RPM using curl:</p>\n<pre><code>curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.rpm &gt; jdk-7u79-linux-x64.rpm\n</code></pre>\n<p>Once again, make sure you specify the correct URL for the version you are downloading. You can find the URL here: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"noreferrer\">Oracle JDK download site</a></p>\n<p><strong>ORIGINAL ANSWER FROM 9th June 2012</strong></p>\n<p>If you are looking to download the Oracle JDK from the command line using <code>wget</code>, there is a workaround. Run the <code>wget</code> command as follows:</p>\n<pre><code>wget --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-linux-x64.tar.gz&quot;\n</code></pre>\n<p>Be sure to replace the download link with the correct one for the version you are downloading.</p>\n"},{"tags":[],"owner":{"account_id":36036,"reputation":5314,"user_id":102483,"accept_rate":100,"display_name":"Hiro2k"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346273355,"creation_date":1339594230,"answer_id":11015931,"question_id":10268583,"body_markdown":"This works for the JDK 6, you just need to replace the download url with the latest version.\r\n\r\n    wget --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6-downloads-1637591.html;&quot; http://download.oracle.com/otn-pub/java/jdk/6u33-b03/jdk-6u33-linux-x64.bin","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>This works for the JDK 6, you just need to replace the download url with the latest version.</p>\n\n<pre><code>wget --no-cookies --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6-downloads-1637591.html;\" http://download.oracle.com/otn-pub/java/jdk/6u33-b03/jdk-6u33-linux-x64.bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48890,"reputation":1786,"user_id":145395,"accept_rate":0,"display_name":"Andrew Gilmartin"},"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1340722046,"creation_date":1340722046,"answer_id":11209953,"question_id":10268583,"body_markdown":"Downloading Java from the command line has always been troublesome. What I have been doing reciently is to use FireFox (other browsers might work) to get a download started on my laptop, pause it (within the Downloads windows), use the &quot;Copy Download Link&quot; menu item of the context menu displayed for the downloading file. This URL can then be used on the Linux box to download the same file. I expect the URL has a short time to live. Ugly, but generally successful.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Downloading Java from the command line has always been troublesome. What I have been doing reciently is to use FireFox (other browsers might work) to get a download started on my laptop, pause it (within the Downloads windows), use the \"Copy Download Link\" menu item of the context menu displayed for the downloading file. This URL can then be used on the Linux box to download the same file. I expect the URL has a short time to live. Ugly, but generally successful.</p>\n"},{"tags":[],"owner":{"account_id":35261,"reputation":163460,"user_id":99834,"accept_rate":46,"display_name":"sorin"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1383492615,"creation_date":1352736256,"answer_id":13347087,"question_id":10268583,"body_markdown":"I know that Oracle made everything possible to make their Java Runtime and Java SDK as hard as possible.\r\n\r\nHere are some guides for command line lovers.\r\n\r\nFor Debian like systems (tested on `Debian` squeeze and `Ubuntu` 12.x+)\r\n\r\n    su -\r\n    echo &quot;deb http://ppa.launchpad.net/webupd8team/java/ubuntu precise main&quot; | tee -a /etc/apt/sources.list\r\n    echo &quot;deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu precise main&quot; | tee -a /etc/apt/sources.list\r\n    apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\r\n    apt-get update\r\n    apt-get install --yes oracle-java7-installer\r\n    exit\r\n\r\nNote: if you know a better or easier way add a comment, I will update the guide.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>I know that Oracle made everything possible to make their Java Runtime and Java SDK as hard as possible.</p>\n\n<p>Here are some guides for command line lovers.</p>\n\n<p>For Debian like systems (tested on <code>Debian</code> squeeze and <code>Ubuntu</code> 12.x+)</p>\n\n<pre><code>su -\necho \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu precise main\" | tee -a /etc/apt/sources.list\necho \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu precise main\" | tee -a /etc/apt/sources.list\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\napt-get update\napt-get install --yes oracle-java7-installer\nexit\n</code></pre>\n\n<p>Note: if you know a better or easier way add a comment, I will update the guide.</p>\n"},{"tags":[],"owner":{"account_id":142944,"reputation":2923,"user_id":1682262,"accept_rate":71,"display_name":"Jason Xu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372143336,"creation_date":1372143336,"answer_id":17290992,"question_id":10268583,"body_markdown":"latest tested,\r\n\r\n&gt; wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;https://edelivery.oracle.com/otn-pub/java/jdk/7u25-b15/jdk-7u25-linux-x64.tar.gz&quot;\r\n\r\nBe aware that certificate check is disabled if you care about absolute security. : )","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>latest tested,</p>\n\n<blockquote>\n  <p>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com\" \"<a href=\"https://edelivery.oracle.com/otn-pub/java/jdk/7u25-b15/jdk-7u25-linux-x64.tar.gz\" rel=\"noreferrer\">https://edelivery.oracle.com/otn-pub/java/jdk/7u25-b15/jdk-7u25-linux-x64.tar.gz</a>\"</p>\n</blockquote>\n\n<p>Be aware that certificate check is disabled if you care about absolute security. : )</p>\n"},{"tags":[],"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1381160094,"creation_date":1380225231,"answer_id":19037455,"question_id":10268583,"body_markdown":"Why not click to download from your browser then copy &amp; paste the exact link where it was downloaded, for example: \r\n\r\n    wget http://download.oracle.com/otn-pub/java/jdk/7u40-b43/jdk-7u40-linux-x64.tar.gz?AuthParam=1380225131_dd70d2038c57a4729d8c0226684xxxx\r\n\r\nYou can find out the link by looking at the network tab of your browser after accepting terms in oracle and clicking to download. F12 in Chrome. Firebug in Firefox.\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Why not click to download from your browser then copy &amp; paste the exact link where it was downloaded, for example: </p>\n\n<pre><code>wget http://download.oracle.com/otn-pub/java/jdk/7u40-b43/jdk-7u40-linux-x64.tar.gz?AuthParam=1380225131_dd70d2038c57a4729d8c0226684xxxx\n</code></pre>\n\n<p>You can find out the link by looking at the network tab of your browser after accepting terms in oracle and clicking to download. F12 in Chrome. Firebug in Firefox.</p>\n"},{"tags":[],"owner":{"account_id":1287092,"reputation":115,"user_id":1239963,"display_name":"nmeegama"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1386335639,"creation_date":1386335639,"answer_id":20424827,"question_id":10268583,"body_markdown":"    sudo wget --no-check-certificate --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/7u45-b18/jdk-7u45-linux-x64.rpm&quot;","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<pre><code>sudo wget --no-check-certificate --no-cookies --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com\" \"http://download.oracle.com/otn-pub/java/jdk/7u45-b18/jdk-7u45-linux-x64.rpm\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3756935,"reputation":31,"user_id":3123092,"display_name":"tfewster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389608430,"creation_date":1387550069,"answer_id":20705933,"question_id":10268583,"body_markdown":"All of the above seem to assume you know the URL for the latest Java RPM...\r\n\r\nOracle provide persistent links to the *latest* updates of each Java version as documented at\r\nhttps://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=397248601136938&amp;id=1414485.1 - though you need to create/log in to an Oracle Support account. *Otherwise you can only access the last &quot;public&quot; update of each Java version, e.g. 1.6_u45 (Mar 2013; Latest update is u65, Oct 2013)*\r\n\r\nOnce you **know** the persistent link, you should be able to resolve it to the real download;\r\nThe following works for me, though I don&#39;t yet know if the &quot;aru&quot; reference changes.\r\n\r\n    ME=&lt;myOracleID&gt;\r\n    PW=&lt;myOraclePW&gt;\r\n    PATCH_FILE=p13079846_17000_Linux-x86-64.zip\r\n\r\n    echo &quot;Get real URL from the persistent link&quot;\r\n\r\n    wget -o getrealurl.out --no-cookies --no-check-certificate --user=$ME \\\r\n    --password=$PW --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; \\\r\n    https://updates.oracle.com/Orion/Services/download/$PATCH_FILE?aru=16884382&amp;\\\r\n    patch_file=$PATCH_FILE\r\n\r\n    wait    # wget appears to go into background, so &quot;wait&quot; waits \r\n            # until all background processes complete\r\n\r\n    REALURL=`grep &quot;^--&quot; getrealurl.out |tail -1 |sed -e &#39;s/.*http/http/&#39;`\r\n    wget -O $PATCH_FILE $REALURL\r\n    #These last steps must be done quickly, as the REALURL seems to have a short-lived \r\n    #cookie on it and I&#39;ve had no success with  --keep-session-cookies etc.\r\n\r\n\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>All of the above seem to assume you know the URL for the latest Java RPM...</p>\n\n<p>Oracle provide persistent links to the <em>latest</em> updates of each Java version as documented at\n<a href=\"https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=397248601136938&amp;id=1414485.1\" rel=\"nofollow\">https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=397248601136938&amp;id=1414485.1</a> - though you need to create/log in to an Oracle Support account. *Otherwise you can only access the last \"public\" update of each Java version, e.g. 1.6_u45 (Mar 2013; Latest update is u65, Oct 2013)*</p>\n\n<p>Once you <strong>know</strong> the persistent link, you should be able to resolve it to the real download;\nThe following works for me, though I don't yet know if the \"aru\" reference changes.</p>\n\n<pre><code>ME=&lt;myOracleID&gt;\nPW=&lt;myOraclePW&gt;\nPATCH_FILE=p13079846_17000_Linux-x86-64.zip\n\necho \"Get real URL from the persistent link\"\n\nwget -o getrealurl.out --no-cookies --no-check-certificate --user=$ME \\\n--password=$PW --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com\" \\\nhttps://updates.oracle.com/Orion/Services/download/$PATCH_FILE?aru=16884382&amp;\\\npatch_file=$PATCH_FILE\n\nwait    # wget appears to go into background, so \"wait\" waits \n        # until all background processes complete\n\nREALURL=`grep \"^--\" getrealurl.out |tail -1 |sed -e 's/.*http/http/'`\nwget -O $PATCH_FILE $REALURL\n#These last steps must be done quickly, as the REALURL seems to have a short-lived \n#cookie on it and I've had no success with  --keep-session-cookies etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1112426,"reputation":5231,"user_id":1102648,"accept_rate":71,"display_name":"ssgao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391905941,"creation_date":1391905941,"answer_id":21653625,"question_id":10268583,"body_markdown":"Try \r\n\r\n    wget --no-cookies --header &quot;Cookie: s_nr=1359635827494; s_cc=true; gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6downloads-1902814.html; s_sq=%5B%5BB%5D%5D; gpv_p24=no%20value&quot; http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64-rpm.bin --no-check-certificate -O ./jdk-6u45-linux-x64-rpm.bin\r\n\r\nif you are like me trying to get Oracle JDK 6. \r\n\r\nsource: [Oracle JVM download using curl/wget][1]\r\n\r\n\r\n  [1]: https://gist.github.com/hgomez/4697585","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Try </p>\n\n<pre><code>wget --no-cookies --header \"Cookie: s_nr=1359635827494; s_cc=true; gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6downloads-1902814.html; s_sq=%5B%5BB%5D%5D; gpv_p24=no%20value\" http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64-rpm.bin --no-check-certificate -O ./jdk-6u45-linux-x64-rpm.bin\n</code></pre>\n\n<p>if you are like me trying to get Oracle JDK 6. </p>\n\n<p>source: <a href=\"https://gist.github.com/hgomez/4697585\" rel=\"nofollow\">Oracle JVM download using curl/wget</a></p>\n"},{"tags":[],"owner":{"account_id":2040128,"reputation":3660,"user_id":1821548,"accept_rate":91,"display_name":"Det"},"down_vote_count":0,"up_vote_count":256,"is_accepted":false,"score":256,"last_activity_date":1640693606,"creation_date":1395094114,"answer_id":22466509,"question_id":10268583,"body_markdown":"(*[Irani][1] updated to my answer, but here&#39;s to clarify it all.*)\r\n\r\n### Edit: Updated for [Java 17.0.1][2], released in [19th October, 2021][3]\r\n\r\n## Wget\r\n\r\n    wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n\r\n*See the downloads in [oracle.com][4] for more.*&lt;br&gt;\r\n\r\n - **`-c / --continue`**\r\n\r\n Allows continuing an unfinished download.\r\n\r\n - **`--header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;`**\r\n\r\n Since *15th March 2014* this cookie is provided to the user after accepting the [License Agreement][6] and is necessary for accessing the Java packages in *download.oracle.com*. The previous (and first) implementation in *27th March 2012* made use of the cookie `gpw_e24=http%3A%2F%2Fwww.oracle.com[...]`. Both cases remain unannounced to the public.\r\n\r\n *The value doesn&#39;t have to be &quot;`accept-securebackup-cookie`&quot;.*\r\n\r\n### Not required\r\n\r\n - **`--no-cookies`**\r\n\r\n The combination `--no-cookies --header &quot;Cookie: name=value&quot;` is mentioned as the &quot;[official][7]&quot; cookie support, but not strictly required here.\r\n\r\n## cURL\r\n\r\n    curl -L -C - -b &quot;oraclelicense=accept-securebackup-cookie&quot; -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n\r\n - **`-L / --location`**\r\n\r\n Required for *cURL* to redirect through all the mirrors.\r\n\r\n - **`-C / --continue-at -`**\r\n\r\n *See above. cURL requires the dash (`-`) in the end.*\r\n\r\n - **`-b / --cookie &quot;oraclelicense=accept-securebackup-cookie&quot;`**\r\n\r\n *Same as `-H / --header &quot;Cookie: ...&quot;`, but accepts files too.*\r\n\r\n - **`-O`**\r\n\r\n Required for *cURL* to save files (see [author&#39;s comparison][8] for more differences).\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/10268583/1821548\r\n  [2]: https://www.oracle.com/java/technologies/javase/17u-relnotes.html\r\n  [3]: https://blogs.oracle.com/java/post/jdk-1701-11013-8u311-and-7u321-have-been-released\r\n  [4]: https://www.oracle.com/java/technologies/javase-downloads.html\r\n  [5]: http://www.oracle.com/technetwork/java/javase/terms/license/index.html\r\n  [6]: https://www.gnu.org/software/wget/manual/wget.html#HTTP-Options\r\n  [7]: https://daniel.haxx.se/docs/curl-vs-wget.html\r\n  ","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>(<em><a href=\"https://stackoverflow.com/q/10268583/1821548\">Irani</a> updated to my answer, but here's to clarify it all.</em>)</p>\n<h3>Edit: Updated for <a href=\"https://www.oracle.com/java/technologies/javase/17u-relnotes.html\" rel=\"nofollow noreferrer\">Java 17.0.1</a>, released in <a href=\"https://blogs.oracle.com/java/post/jdk-1701-11013-8u311-and-7u321-have-been-released\" rel=\"nofollow noreferrer\">19th October, 2021</a></h3>\n<h2>Wget</h2>\n<pre><code>wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\n</code></pre>\n<p><em>See the downloads in <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">oracle.com</a> for more.</em><br></p>\n<ul>\n<li><strong><code>-c / --continue</code></strong></li>\n</ul>\n<p>Allows continuing an unfinished download.</p>\n<ul>\n<li><strong><code>--header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;</code></strong></li>\n</ul>\n<p>Since <em>15th March 2014</em> this cookie is provided to the user after accepting the <a href=\"https://www.gnu.org/software/wget/manual/wget.html#HTTP-Options\" rel=\"nofollow noreferrer\">License Agreement</a> and is necessary for accessing the Java packages in <em>download.oracle.com</em>. The previous (and first) implementation in <em>27th March 2012</em> made use of the cookie <code>gpw_e24=http%3A%2F%2Fwww.oracle.com[...]</code>. Both cases remain unannounced to the public.</p>\n<p><em>The value doesn't have to be &quot;<code>accept-securebackup-cookie</code>&quot;.</em></p>\n<h3>Not required</h3>\n<ul>\n<li><strong><code>--no-cookies</code></strong></li>\n</ul>\n<p>The combination <code>--no-cookies --header &quot;Cookie: name=value&quot;</code> is mentioned as the &quot;<a href=\"https://daniel.haxx.se/docs/curl-vs-wget.html\" rel=\"nofollow noreferrer\">official</a>&quot; cookie support, but not strictly required here.</p>\n<h2>cURL</h2>\n<pre><code>curl -L -C - -b &quot;oraclelicense=accept-securebackup-cookie&quot; -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\n</code></pre>\n<ul>\n<li><strong><code>-L / --location</code></strong></li>\n</ul>\n<p>Required for <em>cURL</em> to redirect through all the mirrors.</p>\n<ul>\n<li><strong><code>-C / --continue-at -</code></strong></li>\n</ul>\n<p><em>See above. cURL requires the dash (<code>-</code>) in the end.</em></p>\n<ul>\n<li><strong><code>-b / --cookie &quot;oraclelicense=accept-securebackup-cookie&quot;</code></strong></li>\n</ul>\n<p><em>Same as <code>-H / --header &quot;Cookie: ...&quot;</code>, but accepts files too.</em></p>\n<ul>\n<li><strong><code>-O</code></strong></li>\n</ul>\n<p>Required for <em>cURL</em> to save files (see [author's comparison][8] for more differences).</p>\n"},{"tags":[],"owner":{"account_id":134731,"reputation":4031,"user_id":337079,"display_name":"mogsie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398160309,"creation_date":1398160309,"answer_id":23216090,"question_id":10268583,"body_markdown":"I solve this (for Debian based Linux distros) by making packages using `java-package` a few times (for various architectures), then distributing them internally.\r\n\r\nThe big plus side is that this method always works; no matter how crazy Oracle&#39;s web pages become.  Oracle can no longer break my build!\r\n\r\nThe downside is that it&#39;s a bit more work to set up initially.\r\n\r\n - Download the tar.gz files manually in a browser (thus &quot;accepting&quot; their terms)\r\n - Run `make-jpkg jdk-7u51-linux-x64.tar.gz`. This creates `oracle-java8-jdk_8_amd64.deb`\r\n - Distribute it within your organization\r\n\r\nFor distribution over the Internet, I suggest using a password protected apt repository or provide raw packages using symmetric encryption:\r\n\r\n    passphrase=&quot;Hard to crack string. Use /dev/urandom for inspiration.&quot;\r\n    gpg --batch --symmetric --force-mdc --passphrase-fd 0 \\\r\n       oracle-java8-jdk_8_amd64.deb &lt;&lt;&lt; &quot;$passphrase&quot;\r\n\r\nOf course providing (unencrypted) .deb packages on the internet is *probably* a violation of your license agreement with Oracle, which states:\r\n&gt; ... Oracle grants you a ... license ... to reproduce and use internally the Software complete and unmodified for the sole purpose of running Programs&quot;\r\n\r\nOn the receiving end, if you have a password protected apt repo, all you need to do is `apt-get install` it. If you have raw packages, download, decrypt and `dpkg -i` them.  Works like a charm!\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>I solve this (for Debian based Linux distros) by making packages using <code>java-package</code> a few times (for various architectures), then distributing them internally.</p>\n\n<p>The big plus side is that this method always works; no matter how crazy Oracle's web pages become.  Oracle can no longer break my build!</p>\n\n<p>The downside is that it's a bit more work to set up initially.</p>\n\n<ul>\n<li>Download the tar.gz files manually in a browser (thus \"accepting\" their terms)</li>\n<li>Run <code>make-jpkg jdk-7u51-linux-x64.tar.gz</code>. This creates <code>oracle-java8-jdk_8_amd64.deb</code></li>\n<li>Distribute it within your organization</li>\n</ul>\n\n<p>For distribution over the Internet, I suggest using a password protected apt repository or provide raw packages using symmetric encryption:</p>\n\n<pre><code>passphrase=\"Hard to crack string. Use /dev/urandom for inspiration.\"\ngpg --batch --symmetric --force-mdc --passphrase-fd 0 \\\n   oracle-java8-jdk_8_amd64.deb &lt;&lt;&lt; \"$passphrase\"\n</code></pre>\n\n<p>Of course providing (unencrypted) .deb packages on the internet is <em>probably</em> a violation of your license agreement with Oracle, which states:</p>\n\n<blockquote>\n  <p>... Oracle grants you a ... license ... to reproduce and use internally the Software complete and unmodified for the sole purpose of running Programs\"</p>\n</blockquote>\n\n<p>On the receiving end, if you have a password protected apt repo, all you need to do is <code>apt-get install</code> it. If you have raw packages, download, decrypt and <code>dpkg -i</code> them.  Works like a charm!</p>\n"},{"tags":[],"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432036524,"creation_date":1432036524,"answer_id":30324941,"question_id":10268583,"body_markdown":"I&#39;ve made a jdk-download script (specific for the tar.gz) for my gentoo boxes. Doesn&#39;t need to be updated like other similar scripts, trying to &quot;brute-force&quot; download the latest build for whatever version you want.\r\n\r\n**USAGE**\r\n\r\n    jdk-download&lt; &lt;version&gt; &lt;platform&gt; [&lt;build&gt;]\r\n    \r\n    * &lt;version&gt; - Something like &quot;8u40&quot;\r\n    * &lt;platform&gt; - Usually i586 or x64\r\n    * &lt;build&gt; - The internal build number used by oracle, to avoid guessing and trying to download starting from 99 to 1 (build 0, really?!!)\r\n\r\n[Blog post][1]\r\n\r\n[Source on bitbucket][2]\r\n\r\n\r\n  [1]: http://bonfab.io/?p=10\r\n  [2]: https://bitbucket.org/bfx/jdk-download/src/2b32dbe6775ce6008b84bf3dc1d9329708f88774/jdk-download?at=default","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>I've made a jdk-download script (specific for the tar.gz) for my gentoo boxes. Doesn't need to be updated like other similar scripts, trying to \"brute-force\" download the latest build for whatever version you want.</p>\n\n<p><strong>USAGE</strong></p>\n\n<pre><code>jdk-download&lt; &lt;version&gt; &lt;platform&gt; [&lt;build&gt;]\n\n* &lt;version&gt; - Something like \"8u40\"\n* &lt;platform&gt; - Usually i586 or x64\n* &lt;build&gt; - The internal build number used by oracle, to avoid guessing and trying to download starting from 99 to 1 (build 0, really?!!)\n</code></pre>\n\n<p><a href=\"http://bonfab.io/?p=10\" rel=\"nofollow\">Blog post</a></p>\n\n<p><a href=\"https://bitbucket.org/bfx/jdk-download/src/2b32dbe6775ce6008b84bf3dc1d9329708f88774/jdk-download?at=default\" rel=\"nofollow\">Source on bitbucket</a></p>\n"},{"tags":[],"owner":{"account_id":84536,"reputation":2437,"user_id":236241,"display_name":"Cole Stanfield"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1435852814,"creation_date":1435852814,"answer_id":31189401,"question_id":10268583,"body_markdown":"For those needing JCE8 as well, you can download that also.\r\n\r\n    curl -L -C - -b &quot;oraclelicense=accept-securebackup-cookie&quot; -O http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\r\n\r\nOr\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>For those needing JCE8 as well, you can download that also.</p>\n\n<pre><code>curl -L -C - -b \"oraclelicense=accept-securebackup-cookie\" -O http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5500797,"reputation":134,"user_id":4370196,"display_name":"Benjen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484744394,"creation_date":1484744394,"answer_id":41720110,"question_id":10268583,"body_markdown":"As already posted here:\r\nhttps://stackoverflow.com/a/41718895/4370196\r\n\r\n# Update for JDK 8 Update 121 #\r\n\r\nSince Oracle inserted some md5hash in their download links, one cannot automatically assemble a download link for command line.\r\n\r\nSo I tinkered some nasty bash command line to get the latest jdk download link, download it and directly install via rpm.\r\nFor all who are interested:\r\n\r\n&gt; wget -q http://www.oracle.com/technetwork/java/javase/downloads/index.html -O ./index.html &amp;&amp; grep -Eoi &#39;&lt;a [^&gt;]+&gt;&#39; index.html | grep -Eoi &#39;/technetwork/java/javase/downloads/jdk8-downloads-[0-9]+.html&#39; | (head -n 1) | awk &#39;{print &quot;http://www.oracle.com&quot;$1}&#39; | xargs wget --no-cookies --header &quot;Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;&quot; -O index.html -q &amp;&amp; grep -Eoi &#39;&quot;filepath&quot;:&quot;[^&quot;]+jdk-8u[0-9]+-**linux-x64.rpm**&quot;&#39; index.html | grep -Eoi &#39;http:[^&quot;]+&#39; | xargs wget --no-cookies --header &quot;Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;&quot; -q -O ./jdk8.rpm &amp;&amp; sudo rpm -i ./jdk8.rpm\r\n\r\nThe **bold part** should be replaced by the package of your liking.\r\n\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>As already posted here:\n<a href=\"https://stackoverflow.com/a/41718895/4370196\">https://stackoverflow.com/a/41718895/4370196</a></p>\n\n<h1>Update for JDK 8 Update 121</h1>\n\n<p>Since Oracle inserted some md5hash in their download links, one cannot automatically assemble a download link for command line.</p>\n\n<p>So I tinkered some nasty bash command line to get the latest jdk download link, download it and directly install via rpm.\nFor all who are interested:</p>\n\n<blockquote>\n  <p>wget -q <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a> -O ./index.html &amp;&amp; grep -Eoi ']+>' index.html | grep -Eoi '/technetwork/java/javase/downloads/jdk8-downloads-[0-9]+.html' | (head -n 1) | awk '{print \"<a href=\"http://www.oracle.com\" rel=\"nofollow noreferrer\">http://www.oracle.com</a>\"$1}' | xargs wget --no-cookies --header \"Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;\" -O index.html -q &amp;&amp; grep -Eoi '\"filepath\":\"[^\"]+jdk-8u[0-9]+-<strong>linux-x64.rpm</strong>\"' index.html | grep -Eoi 'http:[^\"]+' | xargs wget --no-cookies --header \"Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;\" -q -O ./jdk8.rpm &amp;&amp; sudo rpm -i ./jdk8.rpm</p>\n</blockquote>\n\n<p>The <strong>bold part</strong> should be replaced by the package of your liking.</p>\n"},{"tags":[],"owner":{"account_id":1398258,"reputation":386,"user_id":1327583,"display_name":"jdrews"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1524076670,"creation_date":1491938168,"answer_id":43354450,"question_id":10268583,"body_markdown":"**Updated for JDK 8u171 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-linux-x64.rpm\r\n\r\n\r\n----------\r\n\r\n\r\n*Outdated links below*\r\n\r\n&lt;s&gt; **Updated for JDK 8u161 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm\r\n  \r\n\r\n**Updated for JDK 8u152 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u152-b16/aa0333dd3019491ca4f6ddbe78cdb6d0/jdk-8u152-linux-x64.rpm\r\n\r\n**Updated for JDK 8u144 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.rpm\r\n\r\n**Updated for JDK 8u131 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\r\n\r\n**Updated for JDK 8u121 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u121-b13/e9e7ea248e2c4826b92b3f075a80e441/jdk-8u121-linux-x64.rpm\r\n\r\n&lt;/s&gt;","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>Updated for JDK 8u171 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-linux-x64.rpm\n</code></pre>\n\n<hr>\n\n<p><em>Outdated links below</em></p>\n\n<p><s> <strong>Updated for JDK 8u161 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u152 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u152-b16/aa0333dd3019491ca4f6ddbe78cdb6d0/jdk-8u152-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u144 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u131 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u121 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u121-b13/e9e7ea248e2c4826b92b3f075a80e441/jdk-8u121-linux-x64.rpm\n</code></pre>\n\n<p></s></p>\n"},{"tags":[],"owner":{"account_id":2033634,"reputation":1432,"user_id":1980619,"accept_rate":75,"display_name":"ILMostro_7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507749851,"creation_date":1493150440,"answer_id":43619926,"question_id":10268583,"body_markdown":"The accepted answer was not working for me, as of 2017-04-25.  However, the simple solution was using the `-b` flag instead of the `--header` option.\r\n\r\nFor example, to get jdk-1.8_131:\r\n\r\n\r\n    version=&#39;8u131&#39;; wget -H -O jdk-$version-linux-x64.tar.gz --no-check-certificate --no-cookies -b &quot;oraclelicense=a&quot; http://download.oracle.com/otn-pub/java/jdk/$version-b11/jdk-$version-linux-x64.tar.gz\r\n\r\n\r\nThat will execute in the background, writing output to `wget-log`.\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>The accepted answer was not working for me, as of 2017-04-25.  However, the simple solution was using the <code>-b</code> flag instead of the <code>--header</code> option.</p>\n\n<p>For example, to get jdk-1.8_131:</p>\n\n<pre><code>version='8u131'; wget -H -O jdk-$version-linux-x64.tar.gz --no-check-certificate --no-cookies -b \"oraclelicense=a\" http://download.oracle.com/otn-pub/java/jdk/$version-b11/jdk-$version-linux-x64.tar.gz\n</code></pre>\n\n<p>That will execute in the background, writing output to <code>wget-log</code>.</p>\n"},{"tags":[],"owner":{"account_id":6786775,"reputation":657,"user_id":5225255,"display_name":"vvardhanz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506267181,"creation_date":1506267181,"answer_id":46391763,"question_id":10268583,"body_markdown":"**wget** This Worked for me JDK8\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2F%www.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm&quot;\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>wget</strong> This Worked for me JDK8</p>\n\n<pre><code>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2F%www.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509496137,"creation_date":1509496137,"answer_id":47046488,"question_id":10268583,"body_markdown":"[oracle-java-download][1] is a project on GitHub that allows you to create download links for JDK 8 and JDK 9 which you can use for further processing e.g in automated build or deployment processes.\r\n\r\nIt requires Linux, Docker and a JDK &gt;= 8 to run.\r\n\r\n  [1]: https://github.com/veita/oracle-java-download","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><a href=\"https://github.com/veita/oracle-java-download\" rel=\"nofollow noreferrer\">oracle-java-download</a> is a project on GitHub that allows you to create download links for JDK 8 and JDK 9 which you can use for further processing e.g in automated build or deployment processes.</p>\n\n<p>It requires Linux, Docker and a JDK >= 8 to run.</p>\n"},{"tags":[],"owner":{"account_id":10935039,"reputation":37,"user_id":8037053,"display_name":"Роман В"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516282559,"creation_date":1516282559,"answer_id":48322664,"question_id":10268583,"body_markdown":"wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm?AuthParam=1516282527_40effcfefd78d78bce12c0a4030a1b05&quot;","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"<a href=\"http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm?AuthParam=1516282527_40effcfefd78d78bce12c0a4030a1b05\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm?AuthParam=1516282527_40effcfefd78d78bce12c0a4030a1b05</a>\"</p>\n"},{"tags":[],"owner":{"account_id":4583611,"reputation":406,"user_id":3813621,"display_name":"Stats_Lover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518011121,"creation_date":1518011121,"answer_id":48665419,"question_id":10268583,"body_markdown":"**Context**\r\n\r\nI recently faced the same problem and although the comments on this page and some \r\nothers provided helpful hints - I thought it would be good to document the steps I took to fix the problem for folks who may be in need of further help.\r\n\r\n**System Details**\r\n\r\nI am following the PNDA set up on AWS by following the step by step pnda installation guide at: \r\n\r\n    https://github.com/pndaproject/pnda-guide/blob/develop/provisioning/aws/PREPARE.md\r\n\r\nI am using ubuntu 14.04 [free tier eligible] on AWS cloud, and am running the code from 64 bit windows8.1 laptop. I am using PUTTY to connect to the server instance. I git cloned the pnda code from https://github.com/pndaproject/pnda to the ubuntu instance. \r\n\r\n**Important Note**\r\nPlease note that if you plan to use Ubuntu instance on AWS make sure it&#39;s 14.04 only. If you use version 16, it does not work. I learnt it the hard way!\r\n\r\n**Resolution Steps**\r\n\r\nAs those who have gone as far as to have encountered the error being discussed here would know - the mirror creation file involves the following steps - \r\n\r\n1) Run the script create_mirror.sh `[ sudo su -s ./create_mirror.sh ]` to run the full mirror creation process\r\n\r\n2) This script in turn calls various other scripts - one of them being **create_mirror_misc.sh**; this script refers to `pnda-static-file-dependencies.txt` which has a list of files to be downloaded.\r\n\r\n3) On the very first line of the pnda-static-file-dependencies.txt is a reference to download the jdk-8u131-linux-x64.tar.gz file from  `http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz oraclelicense=accept-securebackup-cookie`; It is at this point that my script was failing with the message `Failed to download http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz after 3 retries`\r\n\r\n4) I browsed to the page `http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz` and found the following error message displayed `**In order to download products from Oracle Technology Network you must agree to the OTN license terms**` \r\n\r\n5) To resolve this problem I made the following change to the `pnda-static-file-dependencies.txt`; I added --no-check-certificate --no-cookies to bypass the license term agreement condition  \r\n\r\n6) So the revised code looks like - `http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz --no-check-certificate --no-cookies oraclelicense=accept-securebackup-cookie`\r\n\r\n\r\n\r\nI hope this is helpful.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>Context</strong></p>\n\n<p>I recently faced the same problem and although the comments on this page and some \nothers provided helpful hints - I thought it would be good to document the steps I took to fix the problem for folks who may be in need of further help.</p>\n\n<p><strong>System Details</strong></p>\n\n<p>I am following the PNDA set up on AWS by following the step by step pnda installation guide at: </p>\n\n<pre><code>https://github.com/pndaproject/pnda-guide/blob/develop/provisioning/aws/PREPARE.md\n</code></pre>\n\n<p>I am using ubuntu 14.04 [free tier eligible] on AWS cloud, and am running the code from 64 bit windows8.1 laptop. I am using PUTTY to connect to the server instance. I git cloned the pnda code from <a href=\"https://github.com/pndaproject/pnda\" rel=\"nofollow noreferrer\">https://github.com/pndaproject/pnda</a> to the ubuntu instance. </p>\n\n<p><strong>Important Note</strong>\nPlease note that if you plan to use Ubuntu instance on AWS make sure it's 14.04 only. If you use version 16, it does not work. I learnt it the hard way!</p>\n\n<p><strong>Resolution Steps</strong></p>\n\n<p>As those who have gone as far as to have encountered the error being discussed here would know - the mirror creation file involves the following steps - </p>\n\n<p>1) Run the script create_mirror.sh <code>[ sudo su -s ./create_mirror.sh ]</code> to run the full mirror creation process</p>\n\n<p>2) This script in turn calls various other scripts - one of them being <strong>create_mirror_misc.sh</strong>; this script refers to <code>pnda-static-file-dependencies.txt</code> which has a list of files to be downloaded.</p>\n\n<p>3) On the very first line of the pnda-static-file-dependencies.txt is a reference to download the jdk-8u131-linux-x64.tar.gz file from  <code>http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz oraclelicense=accept-securebackup-cookie</code>; It is at this point that my script was failing with the message <code>Failed to download http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz after 3 retries</code></p>\n\n<p>4) I browsed to the page <code>http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz</code> and found the following error message displayed <code>**In order to download products from Oracle Technology Network you must agree to the OTN license terms**</code> </p>\n\n<p>5) To resolve this problem I made the following change to the <code>pnda-static-file-dependencies.txt</code>; I added --no-check-certificate --no-cookies to bypass the license term agreement condition  </p>\n\n<p>6) So the revised code looks like - <code>http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz --no-check-certificate --no-cookies oraclelicense=accept-securebackup-cookie</code></p>\n\n<p>I hope this is helpful.</p>\n"},{"tags":[],"owner":{"account_id":9097660,"reputation":9383,"user_id":6771046,"display_name":"U880D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525117964,"creation_date":1523464152,"answer_id":49780226,"question_id":10268583,"body_markdown":"Instead of using for every new Java version a new link or changing existing scripts, I was looking for a more generic way to automate the download of the required Java packages and later installation via `yum localinstall ${JAVA_ENVIRONMENT}-${JAVA_VERSION}-linux-x64.rpm`. \r\n\r\nI&#39;ve used a somehow trivial approach similar to manual/user action to find the package and to download it. I am also pretty sure that one will find a more elegant way to do it by using other tools like `egrep`, `awk`, etc.., so leave it as an example here: \r\n\r\n    #!/bin/bash\r\n\r\n    ### Proxy settings\r\n    # If there is a company proxy \r\n    \r\n    PROXY=&quot;my.proxy.local:8080&quot;\r\n    PROXY_TYPE=&quot;--proxy-ntlm&quot; # or leave empty with &quot;&quot;\r\n    USER=&quot;user&quot;\r\n    PASS=&#39;pass&#39;\r\n    \r\n    ### Find out the links to JRE and JDK \r\n    # To do so, got to the page http://www.oracle.com/technetwork/java/javase/downloads/\r\n    \r\n    BASE_URL=&quot;technetwork/java/javase/downloads&quot;\r\n    \r\n    # Put the whole page into a single string/line\r\n    \r\n    BASE_URL_OUTPUT=&quot;$(curl -s -k ${PROXY_TYPE} -x &quot;http://${USER}:${PASS}@${PROXY}&quot; -L0 http://www.oracle.com/${BASE_URL}/)&quot;\r\n    \r\n    # Define the environments to download \r\n    \r\n    JAVA_ENVIRONMENTS=(&quot;JRE&quot; &quot;JDK&quot;) # ! yet &quot;SERVER-JRE&quot;\r\n    \r\n    for JAVA_ENVIRONMENT in &quot;${JAVA_ENVIRONMENTS[@]}&quot;\r\n    do\r\n    \r\n    echo\r\n    echo &quot;JAVA_ENVIRONMENT=&quot;$JAVA_ENVIRONMENT\r\n    echo\r\n    \r\n    for (( JAVA_BASE_VERSION = 8; JAVA_BASE_VERSION &lt;= 10; JAVA_BASE_VERSION += 2 ))  \r\n    do\r\n    \r\n    echo &quot;JAVA_BASE_VERSION=&quot;$JAVA_BASE_VERSION\r\n    \r\n    ### &quot;Read the page&quot;\r\n    # and follow the links for the package interested in \r\n    \r\n    DOWNLOAD_SITE=&quot;$(echo $BASE_URL_OUTPUT | grep -m 1 -io &quot;${JAVA_ENVIRONMENT}${JAVA_BASE_VERSION}-downloads-[0-9]*.html&quot; -- | tail -1)&quot;\r\n    echo &quot;DOWNLOAD_SITE=&quot;$DOWNLOAD_SITE\r\n    \r\n    ### Gather the necessary download links\r\n    # To do so, following the link to the download site\r\n    # reading and accept the license \r\n    # \r\n    # ... the greedy regular expression is to address the different syntax of the links\r\n    # and already prepared for OR .gz files \r\n    \r\n    DOWNLOAD_LINK_OUTPUT=&quot;$(curl -s -k ${PROXY_TYPE} -x &quot;http://${USER}:${PASS}@${PROXY}&quot; -L -j -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://www.oracle.com/${BASE_URL}/${DOWNLOAD_SITE} |  grep -io &quot;filepath.*${JAVA_ENVIRONMENT}-[${JAVA_BASE_VERSION}].*linux[-_]x64[._].*\\(rpm\\)&quot; -- | cut -d &#39;&quot;&#39; -f 3 | tail -1)&quot;\r\n    \r\n    # and echo out the link\r\n    \r\n    echo &quot;DOWNLOAD_LINK_OUTPUT=&quot;$DOWNLOAD_LINK_OUTPUT\r\n    \r\n    done\r\n    \r\n    done\r\n\r\nSince the download links are available now, one may proceed further with `wget` or `curl`. ","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Instead of using for every new Java version a new link or changing existing scripts, I was looking for a more generic way to automate the download of the required Java packages and later installation via <code>yum localinstall ${JAVA_ENVIRONMENT}-${JAVA_VERSION}-linux-x64.rpm</code>. </p>\n\n<p>I've used a somehow trivial approach similar to manual/user action to find the package and to download it. I am also pretty sure that one will find a more elegant way to do it by using other tools like <code>egrep</code>, <code>awk</code>, etc.., so leave it as an example here: </p>\n\n<pre><code>#!/bin/bash\n\n### Proxy settings\n# If there is a company proxy \n\nPROXY=\"my.proxy.local:8080\"\nPROXY_TYPE=\"--proxy-ntlm\" # or leave empty with \"\"\nUSER=\"user\"\nPASS='pass'\n\n### Find out the links to JRE and JDK \n# To do so, got to the page http://www.oracle.com/technetwork/java/javase/downloads/\n\nBASE_URL=\"technetwork/java/javase/downloads\"\n\n# Put the whole page into a single string/line\n\nBASE_URL_OUTPUT=\"$(curl -s -k ${PROXY_TYPE} -x \"http://${USER}:${PASS}@${PROXY}\" -L0 http://www.oracle.com/${BASE_URL}/)\"\n\n# Define the environments to download \n\nJAVA_ENVIRONMENTS=(\"JRE\" \"JDK\") # ! yet \"SERVER-JRE\"\n\nfor JAVA_ENVIRONMENT in \"${JAVA_ENVIRONMENTS[@]}\"\ndo\n\necho\necho \"JAVA_ENVIRONMENT=\"$JAVA_ENVIRONMENT\necho\n\nfor (( JAVA_BASE_VERSION = 8; JAVA_BASE_VERSION &lt;= 10; JAVA_BASE_VERSION += 2 ))  \ndo\n\necho \"JAVA_BASE_VERSION=\"$JAVA_BASE_VERSION\n\n### \"Read the page\"\n# and follow the links for the package interested in \n\nDOWNLOAD_SITE=\"$(echo $BASE_URL_OUTPUT | grep -m 1 -io \"${JAVA_ENVIRONMENT}${JAVA_BASE_VERSION}-downloads-[0-9]*.html\" -- | tail -1)\"\necho \"DOWNLOAD_SITE=\"$DOWNLOAD_SITE\n\n### Gather the necessary download links\n# To do so, following the link to the download site\n# reading and accept the license \n# \n# ... the greedy regular expression is to address the different syntax of the links\n# and already prepared for OR .gz files \n\nDOWNLOAD_LINK_OUTPUT=\"$(curl -s -k ${PROXY_TYPE} -x \"http://${USER}:${PASS}@${PROXY}\" -L -j -H \"Cookie: oraclelicense=accept-securebackup-cookie\" http://www.oracle.com/${BASE_URL}/${DOWNLOAD_SITE} |  grep -io \"filepath.*${JAVA_ENVIRONMENT}-[${JAVA_BASE_VERSION}].*linux[-_]x64[._].*\\(rpm\\)\" -- | cut -d '\"' -f 3 | tail -1)\"\n\n# and echo out the link\n\necho \"DOWNLOAD_LINK_OUTPUT=\"$DOWNLOAD_LINK_OUTPUT\n\ndone\n\ndone\n</code></pre>\n\n<p>Since the download links are available now, one may proceed further with <code>wget</code> or <code>curl</code>. </p>\n"},{"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528878389,"creation_date":1528878389,"answer_id":50832483,"question_id":10268583,"body_markdown":"you should try:\r\n\r\n    wget \\\r\n        \t--no-cookies \\\r\n        \t--header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\r\n        \thttp://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz \\\r\n        \t-O java.tar.gz","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>you should try:</p>\n\n<pre><code>wget \\\n        --no-cookies \\\n        --header \"Cookie: oraclelicense=accept-securebackup-cookie\" \\\n        http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz \\\n        -O java.tar.gz\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1669823713,"creation_date":1533587149,"answer_id":51715155,"question_id":10268583,"body_markdown":"There is a good alternative for installing different JDK from the command line ... using https://sdkman.io/ there are plenty of vendedors\r\n\r\n    sdk install java 19.0.1-oracle","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>There is a good alternative for installing different JDK from the command line ... using <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a> there are plenty of vendedors</p>\n<pre><code>sdk install java 19.0.1-oracle\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7501711,"reputation":709,"user_id":5699784,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1536228077,"creation_date":1536228077,"answer_id":52201546,"question_id":10268583,"body_markdown":"this command can download jdk8 tgz package at now (2018-09-06), good luck !\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz&quot;\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>this command can download jdk8 tgz package at now (2018-09-06), good luck !</p>\n\n<pre><code>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9412854,"reputation":129,"user_id":7001350,"display_name":"AnJia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568860057,"creation_date":1568860057,"answer_id":58002894,"question_id":10268583,"body_markdown":"download jdk 8u221\r\n\r\n```\r\n$ wget -c --content-disposition &quot;https://javadl.oracle.com/webapps/download/AutoDL?BundleId=239835_230deb18db3e4014bb8e3e8324f81b43&quot;\r\n$ old=$(ls -hat | grep jre | head -n1)\r\n$ mv $old $(echo $old | awk -F&quot;?&quot; &#39;{print $1}&#39;)\r\n```\r\nmy blog [044-wget下载jdk8u221][1]\r\n\r\n\r\n  [1]: https://anjia0532.github.io/2019/09/18/wget-jdk-8u221","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>download jdk 8u221</p>\n\n<pre><code>$ wget -c --content-disposition \"https://javadl.oracle.com/webapps/download/AutoDL?BundleId=239835_230deb18db3e4014bb8e3e8324f81b43\"\n$ old=$(ls -hat | grep jre | head -n1)\n$ mv $old $(echo $old | awk -F\"?\" '{print $1}')\n</code></pre>\n\n<p>my blog <a href=\"https://anjia0532.github.io/2019/09/18/wget-jdk-8u221\" rel=\"nofollow noreferrer\">044-wget下载jdk8u221</a></p>\n"},{"tags":[],"owner":{"account_id":9545664,"reputation":1242,"user_id":7091867,"display_name":"krishnakeshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570549715,"creation_date":1570549715,"answer_id":58289860,"question_id":10268583,"body_markdown":"This happens because when you click the &quot;Accept&quot; button on the download page in your browser, the webpage saves a cookie that it uses to check your agreement before letting you download the file. The problem occurs when trying to download from the command line using wget and it&#39;s because there&#39;s no cookie information sent with the wget request for downloading the file so from the file server&#39;s perspective, you&#39;re a completely new user who hasn&#39;t accepted the license agreement.\r\n\r\nOne solution is to send cookie information using the --header option of the wget utility (as shown above in other answers). Ideally if some content is protected, you&#39;d use the various session management options available with wget. For this particular problem however, it&#39;s solved (currently) by sending the `Cookie` header with the download request.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>This happens because when you click the \"Accept\" button on the download page in your browser, the webpage saves a cookie that it uses to check your agreement before letting you download the file. The problem occurs when trying to download from the command line using wget and it's because there's no cookie information sent with the wget request for downloading the file so from the file server's perspective, you're a completely new user who hasn't accepted the license agreement.</p>\n\n<p>One solution is to send cookie information using the --header option of the wget utility (as shown above in other answers). Ideally if some content is protected, you'd use the various session management options available with wget. For this particular problem however, it's solved (currently) by sending the <code>Cookie</code> header with the download request.</p>\n"},{"tags":[],"owner":{"account_id":3166084,"reputation":908,"user_id":2676075,"display_name":"EvilKittenLord"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584374994,"creation_date":1584374994,"answer_id":60709417,"question_id":10268583,"body_markdown":"Here&#39;s how to get the command yourself.\r\nThis works for any version:\r\n\r\n 1. Access packages page here: https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\r\n 2. Click the download link for your desired package\r\n 3. Check the box indicating that you have &quot;reviewed and accept...&quot;\r\n 4. Right-click &amp; Copy the link address from the button\r\n 5. Paste into a text editor and then copy everything AFTER &#39;nexturl=&#39;, beginning with &#39;https://&#39;\r\n 6. Update the download URL in this command and you should be good to go:\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn/java/jdk/11.0.6+8/90eb79fb590d45c8971362673c5ab495/jdk-11.0.6_linux-x64_bin.tar.gz\r\n\r\nTo further explain the wget, the --no-check-certificate should be clear enough, but the header content (for any call) is discoverable by using the Developer Tools Network Tab in your browser. The developer tools are powerful and are well worth the time to learn.\r\nEnjoy.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Here's how to get the command yourself.\nThis works for any version:</p>\n\n<ol>\n<li>Access packages page here: <a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-jdk11-downloads.html</a></li>\n<li>Click the download link for your desired package</li>\n<li>Check the box indicating that you have \"reviewed and accept...\"</li>\n<li>Right-click &amp; Copy the link address from the button</li>\n<li>Paste into a text editor and then copy everything AFTER 'nexturl=', beginning with 'https://'</li>\n<li><p>Update the download URL in this command and you should be good to go:</p>\n\n<p>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" <a href=\"https://download.oracle.com/otn/java/jdk/11.0.6+8/90eb79fb590d45c8971362673c5ab495/jdk-11.0.6_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn/java/jdk/11.0.6+8/90eb79fb590d45c8971362673c5ab495/jdk-11.0.6_linux-x64_bin.tar.gz</a></p></li>\n</ol>\n\n<p>To further explain the wget, the --no-check-certificate should be clear enough, but the header content (for any call) is discoverable by using the Developer Tools Network Tab in your browser. The developer tools are powerful and are well worth the time to learn.\nEnjoy.</p>\n"},{"tags":[],"owner":{"account_id":3443585,"reputation":3422,"user_id":2884893,"display_name":"The Billionaire Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585503549,"creation_date":1585503549,"answer_id":60918268,"question_id":10268583,"body_markdown":"@eric answer did the trick for me, you need to accept terms in the command you are setting\r\ni.e\r\n\r\n    &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;\r\n\r\nso your final command looks thus\r\n\r\n    wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\r\n\r\nYou can decide to update the version by changing `8u131` to `8uXXX`. so long it is available in the repo.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>@eric answer did the trick for me, you need to accept terms in the command you are setting\ni.e</p>\n\n<pre><code>\"Cookie: oraclelicense=accept-securebackup-cookie\"\n</code></pre>\n\n<p>so your final command looks thus</p>\n\n<pre><code>wget -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\n</code></pre>\n\n<p>You can decide to update the version by changing <code>8u131</code> to <code>8uXXX</code>. so long it is available in the repo.</p>\n"},{"tags":[],"owner":{"account_id":3673356,"reputation":64,"user_id":3059977,"display_name":"HereToLearn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632742248,"creation_date":1632742248,"answer_id":69345833,"question_id":10268583,"body_markdown":"This problem will be solved from Oracle JDK 17 onwards -\r\n\r\nhttps://www.oracle.com/java/technologies/jdk-script-friendly-urls/\r\n\r\nThe latest version of Oracle JDK 17 can be downloaded from a command line, or automatically in scripts and dockerfiles by using download URLs which will deliver the then current update release.\r\n\r\nOne can use -\r\n```\r\nwget https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n```\r\nformat to get the latest 17 release","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>This problem will be solved from Oracle JDK 17 onwards -</p>\n<p><a href=\"https://www.oracle.com/java/technologies/jdk-script-friendly-urls/\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/jdk-script-friendly-urls/</a></p>\n<p>The latest version of Oracle JDK 17 can be downloaded from a command line, or automatically in scripts and dockerfiles by using download URLs which will deliver the then current update release.</p>\n<p>One can use -</p>\n<pre><code>wget https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\n</code></pre>\n<p>format to get the latest 17 release</p>\n"}],"owner":{"account_id":444156,"reputation":9359,"user_id":835806,"accept_rate":94,"display_name":"thejartender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544374,"favorite_count":0,"down_vote_count":4,"up_vote_count":650,"accepted_answer_id":10959815,"answer_count":30,"score":646,"last_activity_date":1669823713,"creation_date":1335103390,"question_id":10268583,"body_markdown":"When I try to download Java from Oracle I instead end up downloading a page telling me that I need agree to the OTN license terms.\r\n\r\n&gt; # Sorry!\r\n&gt; \r\n&gt; In order to download products from Oracle Technology Network you must agree to the OTN license terms.\r\n&gt; \r\n&gt; Be sure that...\r\n&gt; \r\n&gt; - Your browser has &quot;cookies&quot; and JavaScript enabled.\r\n&gt; - You clicked on &quot;Accept License&quot; for the product you wish to download.\r\n&gt; - You attempt the download within 30 minutes of accepting the license.\r\n\r\nHow can I download and install Java?","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>When I try to download Java from Oracle I instead end up downloading a page telling me that I need agree to the OTN license terms.</p>\n\n<blockquote>\n  <h1>Sorry!</h1>\n  \n  <p>In order to download products from Oracle Technology Network you must agree to the OTN license terms.</p>\n  \n  <p>Be sure that...</p>\n  \n  <ul>\n  <li>Your browser has \"cookies\" and JavaScript enabled.</li>\n  <li>You clicked on \"Accept License\" for the product you wish to download.</li>\n  <li>You attempt the download within 30 minutes of accepting the license.</li>\n  </ul>\n</blockquote>\n\n<p>How can I download and install Java?</p>\n"},{"tags":["java","list","hashmap","treemap"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1669823334,"post_id":74630409,"comment_id":131731752,"body_markdown":"`sublist.add(submap);` -&gt; `submap.clear();` You use the same instance, and then clear it. Add new instances of submap.","body":"<code>sublist.add(submap);</code> -&gt; <code>submap.clear();</code> You use the same instance, and then clear it. Add new instances of submap."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669823565,"creation_date":1669823214,"answer_id":74630504,"question_id":74630409,"body_markdown":"You need to generate a **new** sub-Map when the desired size is reached, instead of cleaning the same sub-Map and placing it into the resulting list multiple times.\r\n\r\n```\r\nList&lt;NavigableMap&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\r\n        \r\nNavigableMap&lt;String, List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\r\nfinal int limit = 200;\r\n        \r\nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n    submap.put(entry.getKey(), entry.getValue());\r\n    if (submap.size() == limit) {\r\n        list.add(submap);\r\n        submap = new TreeMap&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\n***Sidenote:** it&#39;s more beneficial to use* [`NavigableMap`][navMap] *interface while working with a* `TreeMap` *because it offers many methods* `firtKey()`, `higherKey()`*, etc. that are not defined in the* `Map` *interface.*\r\n\r\n\r\n\r\n   [navMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html","title":"Split a map into submaps Java","body":"<p>You need to generate a <strong>new</strong> sub-Map when the desired size is reached, instead of cleaning the same sub-Map and placing it into the resulting list multiple times.</p>\n<pre><code>List&lt;NavigableMap&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\n        \nNavigableMap&lt;String, List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\nfinal int limit = 200;\n        \nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\n    submap.put(entry.getKey(), entry.getValue());\n    if (submap.size() == limit) {\n        list.add(submap);\n        submap = new TreeMap&lt;&gt;();\n    }\n}\n</code></pre>\n<p><em><strong>Sidenote:</strong> it's more beneficial to use</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> <em>interface while working with a</em> <code>TreeMap</code> <em>because it offers many methods</em> <code>firtKey()</code>, <code>higherKey()</code><em>, etc. that are not defined in the</em> <code>Map</code> <em>interface.</em></p>\n"}],"owner":{"account_id":23977479,"reputation":21,"user_id":17965389,"display_name":"M. Todoroff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669823620,"creation_date":1669822778,"question_id":74630409,"body_markdown":"I have a map with 10 000 keys and it looks like this:\r\n\r\n`Map&lt;String, List&lt;Integer&gt;&gt;`. I want to make a list of `Map&lt;String, List&lt;Integer&gt;&gt;` which will contains 50 submaps X 200 elements.\r\n\r\nThis is the code:\r\n\r\n```\r\nMap&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; 10000; i++) {\r\n    map.put(String.valueOf(i),new ArrayList&lt;&gt;(Arrays.asList(new Random().nextInt(100),new Random().nextInt(200),new Random().nextInt(300)\r\n    ,new Random().nextInt(400))));\r\n}\r\n\r\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\nMap&lt;String,List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\r\n\r\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; sublist = new ArrayList&lt;&gt;();\r\n\r\nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; stringListEntry : map.entrySet()) {\r\n    submap.put(stringListEntry.getKey(),stringListEntry.getValue());\r\n    if (submap.size() == 200){\r\n        sublist.add(submap);\r\n        list.addAll(sublist);\r\n        sublist.clear();\r\n        submap.clear();\r\n    }\r\n}\r\n\r\nSystem.out.println(list);\r\n```\r\n\r\nbut the list by the end is empty.\r\n\r\nWhy does this happen?","title":"Split a map into submaps Java","body":"<p>I have a map with 10 000 keys and it looks like this:</p>\n<p><code>Map&lt;String, List&lt;Integer&gt;&gt;</code>. I want to make a list of <code>Map&lt;String, List&lt;Integer&gt;&gt;</code> which will contains 50 submaps X 200 elements.</p>\n<p>This is the code:</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n\nfor (int i = 0; i &lt; 10000; i++) {\n    map.put(String.valueOf(i),new ArrayList&lt;&gt;(Arrays.asList(new Random().nextInt(100),new Random().nextInt(200),new Random().nextInt(300)\n    ,new Random().nextInt(400))));\n}\n\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\n\nMap&lt;String,List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\n\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; sublist = new ArrayList&lt;&gt;();\n\nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; stringListEntry : map.entrySet()) {\n    submap.put(stringListEntry.getKey(),stringListEntry.getValue());\n    if (submap.size() == 200){\n        sublist.add(submap);\n        list.addAll(sublist);\n        sublist.clear();\n        submap.clear();\n    }\n}\n\nSystem.out.println(list);\n</code></pre>\n<p>but the list by the end is empty.</p>\n<p>Why does this happen?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4473563,"reputation":1021,"user_id":3639208,"display_name":"Doug Simonton"},"score":0,"creation_date":1497740532,"post_id":44609531,"comment_id":76207056,"body_markdown":"Is there anything helpful in the IDE logs  (click Show Log)?  What does your gradle.properties look like?  Have you tried all of the suggestions in this related question: https://stackoverflow.com/questions/25009717/android-studio-gradle-project-unable-to-start-the-daemon-process-initializatio ?","body":"Is there anything helpful in the IDE logs  (click Show Log)?  What does your gradle.properties look like?  Have you tried all of the suggestions in this related question: <a href=\"https://stackoverflow.com/questions/25009717/android-studio-gradle-project-unable-to-start-the-daemon-process-initializatio\" title=\"android studio gradle project unable to start the daemon process initializatio\">stackoverflow.com/questions/25009717/&hellip;</a> ?"},{"owner":{"account_id":11140212,"reputation":21,"user_id":8177096,"display_name":"SheffSlacker"},"score":0,"creation_date":1497780166,"post_id":44609531,"comment_id":76214028,"body_markdown":"@DougSimonton Thank you for your link.  I went through all the solutions again one by one as I had tried so many things with different suggested variables it was hard to remember what I had tried.  I have now found that although I had made sure Android Studio and the JDK are allowed through my firewall, if I turn off the firewall, it works!.  I cant however see any entry in the firewall rules to permit or block gradle.  Any suggestions on how to get Android Studio to work with the firewall on would be greatly appreciated.  I use Bullguard Internet Security.","body":"@DougSimonton Thank you for your link.  I went through all the solutions again one by one as I had tried so many things with different suggested variables it was hard to remember what I had tried.  I have now found that although I had made sure Android Studio and the JDK are allowed through my firewall, if I turn off the firewall, it works!.  I cant however see any entry in the firewall rules to permit or block gradle.  Any suggestions on how to get Android Studio to work with the firewall on would be greatly appreciated.  I use Bullguard Internet Security."},{"owner":{"account_id":4473563,"reputation":1021,"user_id":3639208,"display_name":"Doug Simonton"},"score":0,"creation_date":1498399454,"post_id":44609531,"comment_id":76475066,"body_markdown":"Apparently Gradle only accepts connections from the loopback interfaces.  There are some suggested solutions starting here: https://stackoverflow.com/a/32777685/982303","body":"Apparently Gradle only accepts connections from the loopback interfaces.  There are some suggested solutions starting here: <a href=\"https://stackoverflow.com/a/32777685/982303\">stackoverflow.com/a/32777685/982303</a>"},{"owner":{"account_id":2251572,"reputation":975,"user_id":4965381,"accept_rate":83,"display_name":"voiDnyx"},"score":0,"creation_date":1498662036,"post_id":44609531,"comment_id":76592223,"body_markdown":"I have a similar (maybe same) problem, also android studio 2.3.3 and JDK1.8.0_131, windows10 and bullguard AV, do you by any chance have solved yours? The log file in my daemon folder says `java.net.SocketException: Permission denied: listen` as cause for the error.","body":"I have a similar (maybe same) problem, also android studio 2.3.3 and JDK1.8.0_131, windows10 and bullguard AV, do you by any chance have solved yours? The log file in my daemon folder says <code>java.net.SocketException: Permission denied: listen</code> as cause for the error."},{"owner":{"account_id":11140212,"reputation":21,"user_id":8177096,"display_name":"SheffSlacker"},"score":0,"creation_date":1501104070,"post_id":44609531,"comment_id":77637313,"body_markdown":"@voiDnyx I also use Bullguard and as mentioned above found that it was their firewall causing my issue.  Turned off the firewall and it worked fine.  Unfortunately I have not been able to find out what settings to adjust or exceptions to create in Bullguard to allow Android Studio to work properly but have been able to overcome the problem by disabling any network connections, then turning off Bullguard Firewall and then running AS.  Then once running, turn the firewall back on and re-enable the network adapter.  Its low tech but works for me!.","body":"@voiDnyx I also use Bullguard and as mentioned above found that it was their firewall causing my issue.  Turned off the firewall and it worked fine.  Unfortunately I have not been able to find out what settings to adjust or exceptions to create in Bullguard to allow Android Studio to work properly but have been able to overcome the problem by disabling any network connections, then turning off Bullguard Firewall and then running AS.  Then once running, turn the firewall back on and re-enable the network adapter.  Its low tech but works for me!."},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1683106835,"post_id":44609531,"comment_id":134314456,"body_markdown":"[This answer](https://stackoverflow.com/a/69630720/2289835) was useful for me.","body":"<a href=\"https://stackoverflow.com/a/69630720/2289835\">This answer</a> was useful for me."}],"answers":[{"tags":[],"owner":{"account_id":11094140,"reputation":1,"user_id":8144932,"display_name":"user8144932"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497735631,"creation_date":1497735631,"answer_id":44609626,"question_id":44609531,"body_markdown":"Sheff Do Following steps:\n\n1.Start Android Studio.\n\n2.Close any open project.Go to File &gt; Close\n\n 3.Project.(Welcome window will open)\nGo to Configure &gt; Settings.\n\nOn Settings dialog,select Compiler (Gradle-based Android Projects) \n\nfrom left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.\n\n                         O&#174;\n\nThe Solution Worked for me\n\n1.Open the projects gradle.properties file in android studio\n\n\n2.Added this line at end of file org.gradle.jvmargs=-Xmx1024m &amp; Save the file\n\n3.Close &amp; reopen the project\n\nBoth method is same but  you said  new to Android studio so I give both suggestions..if any doubt  text me","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>Sheff Do Following steps:</p>\n\n<p>1.Start Android Studio.</p>\n\n<p>2.Close any open project.Go to File > Close</p>\n\n<p>3.Project.(Welcome window will open)\nGo to Configure > Settings.</p>\n\n<p>On Settings dialog,select Compiler (Gradle-based Android Projects) </p>\n\n<p>from left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.</p>\n\n<pre><code>                     O®\n</code></pre>\n\n<p>The Solution Worked for me</p>\n\n<p>1.Open the projects gradle.properties file in android studio</p>\n\n<p>2.Added this line at end of file org.gradle.jvmargs=-Xmx1024m &amp; Save the file</p>\n\n<p>3.Close &amp; reopen the project</p>\n\n<p>Both method is same but  you said  new to Android studio so I give both suggestions..if any doubt  text me</p>\n"},{"tags":[],"owner":{"account_id":3428224,"reputation":154,"user_id":2873396,"accept_rate":75,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532598152,"creation_date":1532598152,"answer_id":51535780,"question_id":44609531,"body_markdown":"Strangely, restarting the computer worked for every single time in my case.","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>Strangely, restarting the computer worked for every single time in my case.</p>\n"},{"tags":[],"owner":{"account_id":185975,"reputation":4542,"user_id":423033,"display_name":"Iain Ballard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669823517,"creation_date":1669823517,"answer_id":74630577,"question_id":44609531,"body_markdown":"If this affects a single project, it can be due to a missing `gradle.properties` or `gradle-wrapper.properties` file.\r\n\r\nTry these defaults in the project directory\r\n\r\n`gradle.properties`\r\n\r\n```\r\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\nandroid.useAndroidX=false\r\nandroid.nonTransitiveRClass=true\r\nandroid.enableR8.fullMode=true\r\nandroid.buildTypes.release.ndk.debugSymbolLevel = SYMBOL_TABLE\r\n```\r\n\r\nand \r\n\r\n`gradle-wrapper.properties`\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n```\r\n","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>If this affects a single project, it can be due to a missing <code>gradle.properties</code> or <code>gradle-wrapper.properties</code> file.</p>\n<p>Try these defaults in the project directory</p>\n<p><code>gradle.properties</code></p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\nandroid.useAndroidX=false\nandroid.nonTransitiveRClass=true\nandroid.enableR8.fullMode=true\nandroid.buildTypes.release.ndk.debugSymbolLevel = SYMBOL_TABLE\n</code></pre>\n<p>and</p>\n<p><code>gradle-wrapper.properties</code></p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n"}],"owner":{"account_id":11140212,"reputation":21,"user_id":8177096,"display_name":"SheffSlacker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7487,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1669823517,"creation_date":1497734878,"question_id":44609531,"body_markdown":"I am new to Android development and Java but after successfully installing Android Studio and the JDK, managing to create my first app and test it both in the emulator and on a phone now whenever I open Android Studio I get the following Message:\r\n\r\n    Gradle sync failed: Unable to start the daemon process.\r\n\t\t\tThis problem might be caused by incorrect configuration of the daemon.\r\n\t\t\tFor example, an unrecognized jvm option is used.\r\n\t\t\tPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/3.3/userguide/gradle_daemon.html\r\n\t\t\tPlease read the following process output to find out more:\r\n\t\t\t-----------------------\r\n\t\t\tConsult IDE log for more details (Help | Show Log)\r\n\r\nI have searched this site and extensively on Google and so far all suggested solutions I have found have failed.\r\n\r\nI am using Android Studio 2.3.3 and JDK 1.8.0_131.\r\n\r\nSo far I have tried:-\r\nUninstalling both Android Studio and the JDK, deleting any folders left behind and then re-installing both.\r\n\r\n 1. Deleting the .gradle folder from C:\\Users\\$username$.\r\n 2. Changing the Build Process Heap Size to 1024.  \r\n 3. Invalidating all caches and restarting multiple times.  \r\n 4. Double checking and even Triple checking the paths to the JDK and Android SDK.  \r\n 5. Ensuring that I have no extra open programs/windows and background apps in case it was a memory shortage issue suggested in some posts.\r\n\r\nI am still at a loss as to how to fix this problem and open to any suggestions.\r\nThank you.\r\n\r\n\r\n","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>I am new to Android development and Java but after successfully installing Android Studio and the JDK, managing to create my first app and test it both in the emulator and on a phone now whenever I open Android Studio I get the following Message:</p>\n\n<pre><code>Gradle sync failed: Unable to start the daemon process.\n        This problem might be caused by incorrect configuration of the daemon.\n        For example, an unrecognized jvm option is used.\n        Please refer to the user guide chapter on the daemon at https://docs.gradle.org/3.3/userguide/gradle_daemon.html\n        Please read the following process output to find out more:\n        -----------------------\n        Consult IDE log for more details (Help | Show Log)\n</code></pre>\n\n<p>I have searched this site and extensively on Google and so far all suggested solutions I have found have failed.</p>\n\n<p>I am using Android Studio 2.3.3 and JDK 1.8.0_131.</p>\n\n<p>So far I have tried:-\nUninstalling both Android Studio and the JDK, deleting any folders left behind and then re-installing both.</p>\n\n<ol>\n<li>Deleting the .gradle folder from C:\\Users\\$username$.</li>\n<li>Changing the Build Process Heap Size to 1024.  </li>\n<li>Invalidating all caches and restarting multiple times.  </li>\n<li>Double checking and even Triple checking the paths to the JDK and Android SDK.  </li>\n<li>Ensuring that I have no extra open programs/windows and background apps in case it was a memory shortage issue suggested in some posts.</li>\n</ol>\n\n<p>I am still at a loss as to how to fix this problem and open to any suggestions.\nThank you.</p>\n"},{"tags":["java","arrays","itext"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1637323929,"post_id":70034569,"comment_id":123802039,"body_markdown":"The error message suggests that whatever is in `userSign` doesn&#39;t represent an image (or uses an image format that the `Image` class doesn&#39;t support). Can you dump the first few bytes (like 10-20) and [edit] your question to include them? Then we could take a look if it looks like a common image format. Alternatively try to write it to a file and see if that opens in the image viewer of your choice.","body":"The error message suggests that whatever is in <code>userSign</code> doesn&#39;t represent an image (or uses an image format that the <code>Image</code> class doesn&#39;t support). Can you dump the first few bytes (like 10-20) and <a href=\"https://stackoverflow.com/posts/70034569/edit\">edit</a> your question to include them? Then we could take a look if it looks like a common image format. Alternatively try to write it to a file and see if that opens in the image viewer of your choice."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1637325028,"post_id":70034569,"comment_id":123802401,"body_markdown":"Maybe Joachim guessed right. Could you also state at which line the IOException is thrown?","body":"Maybe Joachim guessed right. Could you also state at which line the IOException is thrown?"},{"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"score":0,"creation_date":1637326613,"post_id":70034569,"comment_id":123802945,"body_markdown":"@HiranChaudhuri Exception Thrown at this line ----&gt; Image signpr = Image.getInstance(userSign);","body":"@HiranChaudhuri Exception Thrown at this line ----&gt; Image signpr = Image.getInstance(userSign);"},{"owner":{"account_id":20878403,"reputation":103,"user_id":15336730,"display_name":"kHLVT"},"score":0,"creation_date":1638195222,"post_id":70034569,"comment_id":124016209,"body_markdown":"Have you checked if the image type you are using is supported in iText? iText supports JPEG, JPEG2000, GIF, PNG, SVG, BMP, WMF, TIFF, CCITT and JBIG2 images\nhttps://kb.itextpdf.com/home/it7kb/faq/which-image-types-are-supported-by-itext","body":"Have you checked if the image type you are using is supported in iText? iText supports JPEG, JPEG2000, GIF, PNG, SVG, BMP, WMF, TIFF, CCITT and JBIG2 images <a href=\"https://kb.itextpdf.com/home/it7kb/faq/which-image-types-are-supported-by-itext\" rel=\"nofollow noreferrer\">kb.itextpdf.com/home/it7kb/faq/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14946559,"reputation":1,"user_id":10791657,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669823078,"creation_date":1669823078,"answer_id":74630478,"question_id":70034569,"body_markdown":"ALTER DATABASE your_db SET bytea_output TO &#39;escape&#39;;","title":"Couldn&#39;t retrieve signature from database got this error java.io.IOException: The byte array is not a recognized imageformat","body":"<p>ALTER DATABASE your_db SET bytea_output TO 'escape';</p>\n"}],"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669823078,"creation_date":1637323416,"question_id":70034569,"body_markdown":"I am successfully stored user signatures into database. but, when I try to retrieve list of user signatures in a loop into pdf document, I got this java.io.IOException thrown at the line `Image signpr = Image.getInstance(userSign);`: as The byte array is not a recognized imageformat. Can anyone please tell me how to resolve this issue.\r\n\r\nBelow is my code\r\n\r\n    PdfPTable userTable = new PdfPTable(1);\r\n\tif (user.size() != 0) {\r\n\r\n\t\tuserTable .setWidthPercentage(100.0f);\r\n\t\tuserTable .setWidths(new float[] { 6.5f });\r\n\t\r\n\t\tfor (int i = 0; i &lt; user.size(); i++) {\r\n\t\t\tfor (User e : user) {\r\n\t\t\t\t\r\n\t\t\t\tbyte[] userSign = e.getuserSigns().getBytes(); \r\n\t\t\t\tif(userSign!=null) {\r\n\t\t\t\t\tImage signpr = Image.getInstance(userSign); //sign\r\n\t\t\t\t\tsignpr.scaleToFit(100,80);\r\n\t\t\t\t\tsignpr.setAbsolutePosition(450, 80); \r\n\t\t\t\t\tdoc.add(signpr);\r\n\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\tPdfPCell userName = new PdfPCell(new Phrase(e.getuserNames()));\r\n\t\t\t\tuserName.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n\t\t\t\tuserTable .addCell(userName);\r\n\t\t\t\t\r\n\t\t\t\tuserName.setBorder(Rectangle.NO_BORDER);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tdoc.add(userTable);","title":"Couldn&#39;t retrieve signature from database got this error java.io.IOException: The byte array is not a recognized imageformat","body":"<p>I am successfully stored user signatures into database. but, when I try to retrieve list of user signatures in a loop into pdf document, I got this java.io.IOException thrown at the line <code>Image signpr = Image.getInstance(userSign);</code>: as The byte array is not a recognized imageformat. Can anyone please tell me how to resolve this issue.</p>\n<p>Below is my code</p>\n<pre><code>PdfPTable userTable = new PdfPTable(1);\nif (user.size() != 0) {\n\n    userTable .setWidthPercentage(100.0f);\n    userTable .setWidths(new float[] { 6.5f });\n\n    for (int i = 0; i &lt; user.size(); i++) {\n        for (User e : user) {\n            \n            byte[] userSign = e.getuserSigns().getBytes(); \n            if(userSign!=null) {\n                Image signpr = Image.getInstance(userSign); //sign\n                signpr.scaleToFit(100,80);\n                signpr.setAbsolutePosition(450, 80); \n                doc.add(signpr);\n            }                           \n            PdfPCell userName = new PdfPCell(new Phrase(e.getuserNames()));\n            userName.setHorizontalAlignment(Element.ALIGN_CENTER);\n            userTable .addCell(userName);\n            \n            userName.setBorder(Rectangle.NO_BORDER);\n        }\n    }\n}\ndoc.add(userTable);\n</code></pre>\n"},{"tags":["java","intellij-idea","java-8","apple-m1"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1669822999,"post_id":74630246,"comment_id":131731628,"body_markdown":"You can simply start a x86 shell using `arch -x86_64 /bin/zsh --login`.","body":"You can simply start a x86 shell using <code>arch -x86_64 &#47;bin&#47;zsh --login</code>."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669823027,"creation_date":1669823027,"answer_id":74630470,"question_id":74630246,"body_markdown":"Per [this discussion](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360010485779-is-it-possible-to-run-the-terminal-through-rosetta-for-arm-), use the following as the Terminal shell path:\r\n\r\n```\r\nenv /usr/bin/arch -x86_64 /bin/zsh\r\n```","title":"How to access Terminal Rosetta as a terminal in Intellij IDEA CE on M1 Mac?","body":"<p>Per <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360010485779-is-it-possible-to-run-the-terminal-through-rosetta-for-arm-\" rel=\"nofollow noreferrer\">this discussion</a>, use the following as the Terminal shell path:</p>\n<pre><code>env /usr/bin/arch -x86_64 /bin/zsh\n</code></pre>\n"}],"owner":{"account_id":19498036,"reputation":379,"user_id":14264760,"display_name":"Ayush Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74630470,"answer_count":1,"score":1,"last_activity_date":1669823027,"creation_date":1669822053,"question_id":74630246,"body_markdown":"I&#39;m working on a codebase that require openjadk@8 specifically. I&#39;ve a M1 Mac chip while openjdk8 is for intel chips and not for for m1 chips. \r\n[![enter image description here](https://i.stack.imgur.com/vNPEF.png)](https://i.stack.imgur.com/vNPEF.png)\r\nSo I&#39;ve configured Rosetta terminal on, which is an Apple built emulator  translates layer for running Intel-based apps on Apple Silicon Macs. \r\nRosetta 2 terminal: https://www.courier.com/blog/tips-and-tricks-to-setup-your-apple-m1-for-development/\r\n\r\n\r\nI&#39;m unable to get this rosetta based terminal on Intellij IDEA CE.\r\n[![enter image description here][1]][1]\r\n[![enter image description here](https://i.stack.imgur.com/ty2I5.png)]\r\n\r\nI&#39;m able to open default terminal and the one with rosetta outside the intellij idea ce.\r\n[![enter image description here](https://i.stack.imgur.com/6V8Yn.png)](https://i.stack.imgur.com/6V8Yn.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mvS9g.png\r\n\r\n\r\nNow, please help to use to use terminal with rosetta inside intellij idea.","title":"How to access Terminal Rosetta as a terminal in Intellij IDEA CE on M1 Mac?","body":"<p>I'm working on a codebase that require openjadk@8 specifically. I've a M1 Mac chip while openjdk8 is for intel chips and not for for m1 chips.\n<a href=\"https://i.stack.imgur.com/vNPEF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vNPEF.png\" alt=\"enter image description here\" /></a>\nSo I've configured Rosetta terminal on, which is an Apple built emulator  translates layer for running Intel-based apps on Apple Silicon Macs.\nRosetta 2 terminal: <a href=\"https://www.courier.com/blog/tips-and-tricks-to-setup-your-apple-m1-for-development/\" rel=\"nofollow noreferrer\">https://www.courier.com/blog/tips-and-tricks-to-setup-your-apple-m1-for-development/</a></p>\n<p>I'm unable to get this rosetta based terminal on Intellij IDEA CE.\n<a href=\"https://i.stack.imgur.com/mvS9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mvS9g.png\" alt=\"enter image description here\" /></a>\n[<img src=\"https://i.stack.imgur.com/ty2I5.png\" alt=\"enter image description here\" />]</p>\n<p>I'm able to open default terminal and the one with rosetta outside the intellij idea ce.\n<a href=\"https://i.stack.imgur.com/6V8Yn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6V8Yn.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, please help to use to use terminal with rosetta inside intellij idea.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646354609,"post_id":71342749,"comment_id":126108823,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":10782763,"reputation":85,"user_id":7932777,"display_name":"Syed Muzamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669822845,"creation_date":1669822845,"answer_id":74630425,"question_id":71342749,"body_markdown":"This can be because of following reasons:\r\n\r\n 1. The incorrect or failed installation of application that may have left invalid entries in your Windows registry;\r\n 2. The virus or malware attack;\r\n 3. The improper system shutdown;\r\n 4. Corrupted or deleted system files.\r\n\r\nYou need to either restart the program or shutdown the system once and try to start the program again.\r\nIf that doesn&#39;t help re-install the application again.","title":"Process finished with exit code -1073740791 (0xC0000409) error shown in IntelliJ","body":"<p>This can be because of following reasons:</p>\n<ol>\n<li>The incorrect or failed installation of application that may have left invalid entries in your Windows registry;</li>\n<li>The virus or malware attack;</li>\n<li>The improper system shutdown;</li>\n<li>Corrupted or deleted system files.</li>\n</ol>\n<p>You need to either restart the program or shutdown the system once and try to start the program again.\nIf that doesn't help re-install the application again.</p>\n"}],"owner":{"account_id":10782763,"reputation":85,"user_id":7932777,"display_name":"Syed Muzamil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669822845,"creation_date":1646335800,"question_id":71342749,"body_markdown":"While running a program in IntelliJ which was running earlier but now this error pops up:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\nand this error is shown\r\n\r\nProcess finished with exit code -1073740791 (0xC0000409)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXEPB.png","title":"Process finished with exit code -1073740791 (0xC0000409) error shown in IntelliJ","body":"<p>While running a program in IntelliJ which was running earlier but now this error pops up:</p>\n<p><a href=\"https://i.stack.imgur.com/sXEPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXEPB.png\" alt=\"enter image description here\" /></a></p>\n<p>and this error is shown</p>\n<p>Process finished with exit code -1073740791 (0xC0000409)</p>\n"},{"tags":["java","model-view-controller","design-patterns","jsf"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1298550225,"creation_date":1298547887,"answer_id":5104176,"question_id":5104094,"body_markdown":"**M** odel would be your `ManagedBean`\r\n\r\n**V** iew would be `jsp`,`XHTML` (well you can accommodate various views here )\r\n\r\n**C** ontroller will be `FacesServlet` \r\n\r\nUpdate, hope this picture helps more\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ck46r.png","title":"What components are MVC in JSF MVC framework?","body":"<p><strong>M</strong> odel would be your <code>ManagedBean</code></p>\n\n<p><strong>V</strong> iew would be <code>jsp</code>,<code>XHTML</code> (well you can accommodate various views here )</p>\n\n<p><strong>C</strong> ontroller will be <code>FacesServlet</code> </p>\n\n<p>Update, hope this picture helps more</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ck46r.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":158,"is_accepted":true,"score":158,"last_activity_date":1669822462,"creation_date":1298550233,"answer_id":5104604,"question_id":5104094,"body_markdown":"This depends on the point of view (pun intented).\r\n\r\nIn the big architectural picture, your own JSF code is the **V**:\r\n\r\n**M** - Business domain/Service layer (e.g. EJB/JPA/DAO)   \r\n**V** - Your JSF code  \r\n**C** - FacesServlet  \r\n\r\nIn the developer picture, the architectural **V** is in turn dividable as below:\r\n\r\n**M** - Entity  \r\n**V** - Facelets/JSP page  \r\n**C** - Managed bean  \r\n\r\nIn the smaller client picture, the developer **V** is in turn dividable as below:\r\n\r\n**M** - JSF component tree  \r\n**V** - Rendered HTML output  \r\n**C** - Client (webbrowser)\r\n\r\nIn the yet smaller JavaScript picture, the client **V** is in turn dividable as below:\r\n\r\n**M** - HTML DOM tree  \r\n**V** - Visual presentation  \r\n**C** - Event listener functions (enduser interaction and Ajax)\r\n\r\nSo it&#39;s basically a M(M(M(MVC)C)C)C ;)\r\n\r\nNote that some starters and even some &amp;mdash;very basic&amp;mdash; tutorials mingle/copy/flatten the entity&#39;s properties in the managed bean, which would effectively make the controller a model. Needless to say that this is poor design (i.e. not a clean MVC design).\r\n\r\nThe code snippets in the following answers illustrate the right MVC approach:\r\n\r\n- https://stackoverflow.com/questions/30639785/jsf-controller-service-and-dao\r\n- https://stackoverflow.com/questions/8459903/creating-master-detail-pages-for-entities-how-to-link-them-and-which-bean-scope\r\n- https://stackoverflow.com/questions/9246141/passing-a-jsf2-managed-pojo-bean-into-ejb-or-putting-what-is-required-into-a-tra/9249012#9249012\r\n- https://stackoverflow.com/questions/7934447/filter-do-not-initialize-entitymanager/7934604#7934604\r\n- https://stackoverflow.com/questions/16526267/javax-persistence-transactionrequiredexception-in-small-facelet-application/16542568#16542568\r\n\r\nIn the books [The Definitive Guide to JSF in Java EE 8][1], chapter 8 &quot;Backing beans&quot;, page 276, and [The Definitive Guide to Jakarta Faces in Jakarta EE 10][2], chapter 8 &quot;Backing Beans&quot;, page 288, the below Venn diagram is used to illustrate the position of the backing bean in the MVC paradigm within the context relevant to the JSF developer. Copyright disclaimer: aforementioned books are written by me and the picture is created by me.\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.amazon.com/dp/1484233867\r\n  [2]: https://www.amazon.com/dp/B09VNVZYP6\r\n  [3]: https://i.stack.imgur.com/A3Ki3.png","title":"What components are MVC in JSF MVC framework?","body":"<p>This depends on the point of view (pun intented).</p>\n<p>In the big architectural picture, your own JSF code is the <strong>V</strong>:</p>\n<p><strong>M</strong> - Business domain/Service layer (e.g. EJB/JPA/DAO)<br />\n<strong>V</strong> - Your JSF code<br />\n<strong>C</strong> - FacesServlet</p>\n<p>In the developer picture, the architectural <strong>V</strong> is in turn dividable as below:</p>\n<p><strong>M</strong> - Entity<br />\n<strong>V</strong> - Facelets/JSP page<br />\n<strong>C</strong> - Managed bean</p>\n<p>In the smaller client picture, the developer <strong>V</strong> is in turn dividable as below:</p>\n<p><strong>M</strong> - JSF component tree<br />\n<strong>V</strong> - Rendered HTML output<br />\n<strong>C</strong> - Client (webbrowser)</p>\n<p>In the yet smaller JavaScript picture, the client <strong>V</strong> is in turn dividable as below:</p>\n<p><strong>M</strong> - HTML DOM tree<br />\n<strong>V</strong> - Visual presentation<br />\n<strong>C</strong> - Event listener functions (enduser interaction and Ajax)</p>\n<p>So it's basically a M(M(M(MVC)C)C)C ;)</p>\n<p>Note that some starters and even some —very basic— tutorials mingle/copy/flatten the entity's properties in the managed bean, which would effectively make the controller a model. Needless to say that this is poor design (i.e. not a clean MVC design).</p>\n<p>The code snippets in the following answers illustrate the right MVC approach:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30639785/jsf-controller-service-and-dao\">JSF Controller, Service and DAO</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8459903/creating-master-detail-pages-for-entities-how-to-link-them-and-which-bean-scope\">Creating master-detail pages for entities, how to link them and which bean scope to choose</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9246141/passing-a-jsf2-managed-pojo-bean-into-ejb-or-putting-what-is-required-into-a-tra/9249012#9249012\">Passing a JSF2 managed pojo bean into EJB or putting what is required into a transfer object</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7934447/filter-do-not-initialize-entitymanager/7934604#7934604\">Filter do not initialize EntityManager</a></li>\n<li><a href=\"https://stackoverflow.com/questions/16526267/javax-persistence-transactionrequiredexception-in-small-facelet-application/16542568#16542568\">javax.persistence.TransactionRequiredException in small facelet application</a></li>\n</ul>\n<p>In the books <a href=\"https://rads.stackoverflow.com/amzn/click/com/1484233867\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">The Definitive Guide to JSF in Java EE 8</a>, chapter 8 &quot;Backing beans&quot;, page 276, and <a href=\"https://rads.stackoverflow.com/amzn/click/com/B09VNVZYP6\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">The Definitive Guide to Jakarta Faces in Jakarta EE 10</a>, chapter 8 &quot;Backing Beans&quot;, page 288, the below Venn diagram is used to illustrate the position of the backing bean in the MVC paradigm within the context relevant to the JSF developer. Copyright disclaimer: aforementioned books are written by me and the picture is created by me.</p>\n<p><a href=\"https://i.stack.imgur.com/A3Ki3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3Ki3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2095840,"reputation":124,"user_id":1864637,"display_name":"Don"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1354225735,"creation_date":1354225735,"answer_id":13635364,"question_id":5104094,"body_markdown":"The faces servlet manages the faces lifecycle so in that sense it is the controller combined with your own code that may get called during each lifecycle phase\r\n\r\n[http://www.java-samples.com/images/jsf-lifecycle.gif][1]\r\n\r\n\r\n  [1]: http://www.java-samples.com/images/jsf-lifecycle.gif","title":"What components are MVC in JSF MVC framework?","body":"<p>The faces servlet manages the faces lifecycle so in that sense it is the controller combined with your own code that may get called during each lifecycle phase</p>\n\n<p><a href=\"http://www.java-samples.com/images/jsf-lifecycle.gif\" rel=\"nofollow\">http://www.java-samples.com/images/jsf-lifecycle.gif</a></p>\n"},{"tags":[],"owner":{"account_id":11205809,"reputation":1433,"user_id":8221470,"display_name":"Hetal Rachh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549175116,"creation_date":1547138150,"answer_id":54133155,"question_id":5104094,"body_markdown":"Java Server Faces is an MVC web framework where the MVC components are as follows,\r\n\r\n1. **Model** - It is the managed bean class annotated with @ManagedBean, which has properties to hold the data and respective getters and setters. The managed bean class can also contain the business logic.These are also known as backing beans which can have different scopes like request, session, application.\r\n\r\n2. **View** - The user interface shown to the client i.e. .xhtml files. It gets the data from the managed beans and it is rendered as the response.\r\n\r\n3. **Controller** - javax.servlet.webapp.FacesServlet is the centralized controller class which is basically a servlet. Any request that comes to the JSF first goes to the FacesServlet controller. Unlike the JSP in which we write our own controller class, in JSF the controller servlet is a fixed part of the framework and we do not write it.\r\n\r\nMVC flow-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AqfdP.jpg","title":"What components are MVC in JSF MVC framework?","body":"<p>Java Server Faces is an MVC web framework where the MVC components are as follows,</p>\n\n<ol>\n<li><p><strong>Model</strong> - It is the managed bean class annotated with @ManagedBean, which has properties to hold the data and respective getters and setters. The managed bean class can also contain the business logic.These are also known as backing beans which can have different scopes like request, session, application.</p></li>\n<li><p><strong>View</strong> - The user interface shown to the client i.e. .xhtml files. It gets the data from the managed beans and it is rendered as the response.</p></li>\n<li><p><strong>Controller</strong> - javax.servlet.webapp.FacesServlet is the centralized controller class which is basically a servlet. Any request that comes to the JSF first goes to the FacesServlet controller. Unlike the JSP in which we write our own controller class, in JSF the controller servlet is a fixed part of the framework and we do not write it.</p></li>\n</ol>\n\n<p>MVC flow-</p>\n\n<p><a href=\"https://i.stack.imgur.com/AqfdP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AqfdP.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43419,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":5104604,"answer_count":4,"score":101,"last_activity_date":1669822462,"creation_date":1298547414,"question_id":5104094,"body_markdown":"In JSF MVC framework who is Model, View, and Controller?","title":"What components are MVC in JSF MVC framework?","body":"<p>In JSF MVC framework who is Model, View, and Controller?</p>\n"},{"tags":["java","database","calendar","timestamp","simpledateformat"],"answers":[{"tags":[],"owner":{"account_id":4651861,"reputation":592,"user_id":3768529,"accept_rate":44,"display_name":"June"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413218690,"creation_date":1413218690,"answer_id":26344917,"question_id":26344819,"body_markdown":"The problem is in your SimpleDateFormat instantiation. You&#39;re using this pattern: &quot;yyyy-mm-dd hh:mm:ss a z&quot;\r\n\r\nThe issue is in the month. It should be &quot;MM&quot; instead of &quot;mm&quot;. &quot;mm&quot; is for &quot;minute in the hour&quot;.\r\n\r\nReference: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<p>The problem is in your SimpleDateFormat instantiation. You're using this pattern: \"yyyy-mm-dd hh:mm:ss a z\"</p>\n\n<p>The issue is in the month. It should be \"MM\" instead of \"mm\". \"mm\" is for \"minute in the hour\".</p>\n\n<p>Reference: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>\n"},{"tags":[],"owner":{"account_id":2637065,"reputation":7621,"user_id":2281472,"accept_rate":71,"display_name":"Develop4Life"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499331516,"creation_date":1499331516,"answer_id":44944234,"question_id":26344819,"body_markdown":"check if there is **incompatible setter or getter** , either form your database model side , view pages , beans to xhtml mapping. I found date value for float and fixed it.","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<p>check if there is <strong>incompatible setter or getter</strong> , either form your database model side , view pages , beans to xhtml mapping. I found date value for float and fixed it.</p>\n"},{"tags":[],"owner":{"account_id":13597017,"reputation":51,"user_id":9808767,"display_name":"Ayman.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669657731,"creation_date":1669657731,"answer_id":74604588,"question_id":26344819,"body_markdown":"here is my working successful code :\r\n\r\n    com.google.firebase.Timestamp currentTimeStamp = com.google.firebase.Timestamp.now();\r\n    Date ServDate = currentTimeStamp.toDate();\r\n    String currentDateStringFormated = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(ServDate);\r\n\r\n","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<p>here is my working successful code :</p>\n<pre><code>com.google.firebase.Timestamp currentTimeStamp = com.google.firebase.Timestamp.now();\nDate ServDate = currentTimeStamp.toDate();\nString currentDateStringFormated = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(ServDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669822329,"creation_date":1669822010,"answer_id":74630236,"question_id":26344819,"body_markdown":"What went wrong with your code\r\n--\r\n [`Timestamp#valueOf`](https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#valueOf-java.lang.String-) accepts the timestamp string in the format yyyy-[m]m-[d]d hh:mm:ss[.f...] while your timestamp string, `DateToStoreInDataBase` has the value 2014-19-13 12:19:59 PM EDT i.e. it has two other things `PM` (AM/PM marker) and `EDT` (time zone) - none of which are supported by this parameter.\r\n\r\njava.time\r\n--\r\n\r\nThe `java.time` API, released with Java-8 in March 2014, supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, using this modern date-time API has been strongly recommended. Note that the class, `java.sql.Timestamp`, not only inherited those problems from its parent,  `java.util.Date` but also introduced many awful hacks.\r\n\r\nSolution using java.time API\r\n--\r\n\r\nIf you scroll down to the bottom of [this page](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) (the same link shared above), you will find the support for `java.time` API in JDBC. \r\n\r\nAssuming your database column is of type, `TIMESTAMP WITH TIMEZONE`,  the solution would be\r\n\r\n    OffsetDateTime odt = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;))\r\n                                      .toOffsetDateTime();\r\n    preparedStatement.setObject(72, odt);\r\n\r\nIf the column is of type, `TIMESTAMP`, the solution would be \r\n\r\n    LocalDateTime ldt = LocalDateTime.now(ZoneId.of(&quot;America/New_York&quot;));\r\n    preparedStatement.setObject(72, ldt);\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. ","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<h2>What went wrong with your code</h2>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#valueOf-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Timestamp#valueOf</code></a> accepts the timestamp string in the format yyyy-[m]m-[d]d hh:mm:ss[.f...] while your timestamp string, <code>DateToStoreInDataBase</code> has the value 2014-19-13 12:19:59 PM EDT i.e. it has two other things <code>PM</code> (AM/PM marker) and <code>EDT</code> (time zone) - none of which are supported by this parameter.</p>\n<h2>java.time</h2>\n<p>The <code>java.time</code> API, released with Java-8 in March 2014, supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, using this modern date-time API has been strongly recommended. Note that the class, <code>java.sql.Timestamp</code>, not only inherited those problems from its parent,  <code>java.util.Date</code> but also introduced many awful hacks.</p>\n<h2>Solution using java.time API</h2>\n<p>If you scroll down to the bottom of <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">this page</a> (the same link shared above), you will find the support for <code>java.time</code> API in JDBC.</p>\n<p>Assuming your database column is of type, <code>TIMESTAMP WITH TIMEZONE</code>,  the solution would be</p>\n<pre><code>OffsetDateTime odt = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;))\n                                  .toOffsetDateTime();\npreparedStatement.setObject(72, odt);\n</code></pre>\n<p>If the column is of type, <code>TIMESTAMP</code>, the solution would be</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.now(ZoneId.of(&quot;America/New_York&quot;));\npreparedStatement.setObject(72, ldt);\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":2794423,"reputation":5214,"user_id":2403913,"accept_rate":63,"display_name":"tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54384,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1669822329,"creation_date":1413218286,"question_id":26344819,"body_markdown":"    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss a z&quot;);\r\n\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;US/Eastern&quot;));\r\n\tString DateToStoreInDataBase= sdf.format(obj1.getSomeDate().toGregorianCalendar().getTime());\r\n\tSystem.out.println(emprSubDte);\r\n\t \r\n\tTimestamp ts = Timestamp.valueOf(emprSubDte);\r\n\t\r\n\tpreparedStatement.setTimestamp(72,ts);\r\n\r\nsysout of DateToStoreInDataBase is = &quot; 2014-19-13 12:19:59 PM EDT&quot; when i am trying to save this result into database in am getting error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff].\r\n\r\nI have the same format but still i am reciving the error.\r\n","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-mm-dd hh:mm:ss a z\");\nsdf.setTimeZone(TimeZone.getTimeZone(\"US/Eastern\"));\nString DateToStoreInDataBase= sdf.format(obj1.getSomeDate().toGregorianCalendar().getTime());\nSystem.out.println(emprSubDte);\n\nTimestamp ts = Timestamp.valueOf(emprSubDte);\n\npreparedStatement.setTimestamp(72,ts);\n</code></pre>\n\n<p>sysout of DateToStoreInDataBase is = \" 2014-19-13 12:19:59 PM EDT\" when i am trying to save this result into database in am getting error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff].</p>\n\n<p>I have the same format but still i am reciving the error.</p>\n"},{"tags":["java","regex","format"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669822424,"post_id":74630241,"comment_id":131731417,"body_markdown":"What should happen in situation when after last word there are also spaces like `&quot;foo  bar  &quot;` (there are two spaces after each word). What should be result here?","body":"What should happen in situation when after last word there are also spaces like <code>&quot;foo  bar  &quot;</code> (there are two spaces after each word). What should be result here?"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669822122,"creation_date":1669822122,"answer_id":74630265,"question_id":74630241,"body_markdown":"You can use\r\n```java\r\nString[] parts = sentence.split(&quot;\\\\s(?=\\\\S)&quot;);\r\n```\r\nThat will split with a whitespace char that is immediately followed with a non-whitespace char.\r\n\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `\\s` - a whitespace char\r\n - `(?=\\S)` - a positive lookahead that requires a non-whitespace char to appear immediately to the right of the current location.\r\n\r\nTo make it fully Unicode-aware in Java, add the `(?U)` (`Pattern.UNICODE_CHARACTER_CLASS` option equivalent) embedded flag option: `.split(&quot;(?U)\\\\s(?=\\\\S)&quot;)`.\r\n\r\n  [1]: https://regex101.com/r/38pHij/1","title":"Java regex splitting, but only removing one whitespace","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] parts = sentence.split(&quot;\\\\s(?=\\\\S)&quot;);\n</code></pre>\n<p>That will split with a whitespace char that is immediately followed with a non-whitespace char.</p>\n<p>See the <a href=\"https://regex101.com/r/38pHij/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>\\s</code> - a whitespace char</li>\n<li><code>(?=\\S)</code> - a positive lookahead that requires a non-whitespace char to appear immediately to the right of the current location.</li>\n</ul>\n<p>To make it fully Unicode-aware in Java, add the <code>(?U)</code> (<code>Pattern.UNICODE_CHARACTER_CLASS</code> option equivalent) embedded flag option: <code>.split(&quot;(?U)\\\\s(?=\\\\S)&quot;)</code>.</p>\n"}],"owner":{"account_id":23863685,"reputation":13,"user_id":20647130,"display_name":"stneric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74630265,"answer_count":1,"score":1,"last_activity_date":1669822157,"creation_date":1669822021,"question_id":74630241,"body_markdown":"I have this code:\r\n\r\n```\r\nString[] parts = sentence.split(&quot;\\\\s&quot;);\r\n```\r\n\r\nand a sentence like: `&quot;this is a whitespace   and I want to split it&quot;` (note there are 3 whitespaces after &quot;whitespace&quot;)\r\n\r\nI want to split it in a way, where only the last whitespace will be removed, keeping the original message intact. The output should be \r\n\r\n`&quot;[this], [is], [a], [whitespace  ], [and], [I], [want], [to], [split], [it]&quot;` \r\n(two whitespaces after the word &quot;whitespace&quot;)\r\n\r\nCan I do this with regex and if not, is there even a way?\r\n\r\nI removed the `+` from `\\\\s+` to only remove one whitespace","title":"Java regex splitting, but only removing one whitespace","body":"<p>I have this code:</p>\n<pre><code>String[] parts = sentence.split(&quot;\\\\s&quot;);\n</code></pre>\n<p>and a sentence like: <code>&quot;this is a whitespace   and I want to split it&quot;</code> (note there are 3 whitespaces after &quot;whitespace&quot;)</p>\n<p>I want to split it in a way, where only the last whitespace will be removed, keeping the original message intact. The output should be</p>\n<p><code>&quot;[this], [is], [a], [whitespace  ], [and], [I], [want], [to], [split], [it]&quot;</code>\n(two whitespaces after the word &quot;whitespace&quot;)</p>\n<p>Can I do this with regex and if not, is there even a way?</p>\n<p>I removed the <code>+</code> from <code>\\\\s+</code> to only remove one whitespace</p>\n"},{"tags":["java","refactoring"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669820920,"post_id":74629950,"comment_id":131730745,"body_markdown":"Create an Interface that contains the common methods (`getValue()` by the looks of it) of those 3 classes. Have your 3 classes implement that Interface and then you only need one single method that accepts an argument of that Interface.","body":"Create an Interface that contains the common methods (<code>getValue()</code> by the looks of it) of those 3 classes. Have your 3 classes implement that Interface and then you only need one single method that accepts an argument of that Interface."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1669820932,"post_id":74629950,"comment_id":131730752,"body_markdown":"Looking at your amount of points I assume that you can&#39;t change these types to implement an interface where you could just override some methods?","body":"Looking at your amount of points I assume that you can&#39;t change these types to implement an interface where you could just override some methods?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669821030,"post_id":74629950,"comment_id":131730798,"body_markdown":"Another option would be to use an abstract class with the common logic","body":"Another option would be to use an abstract class with the common logic"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1669821047,"post_id":74629950,"comment_id":131730807,"body_markdown":"or reflection but it&#39;s not recommended","body":"or reflection but it&#39;s not recommended"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1669821092,"post_id":74629950,"comment_id":131730830,"body_markdown":"I second the notion of trying to introduce an interface if possible. If it isn&#39;t possible, it seems you might be able to create a common method that just takes the return value of `getValue()` (assuming it&#39;s the same type in each case) and the 3 original methods just call `getValue()` and pass that to the common method.","body":"I second the notion of trying to introduce an interface if possible. If it isn&#39;t possible, it seems you might be able to create a common method that just takes the return value of <code>getValue()</code> (assuming it&#39;s the same type in each case) and the 3 original methods just call <code>getValue()</code> and pass that to the common method."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1669823962,"post_id":74629950,"comment_id":131732002,"body_markdown":"Are you able to modify the 3 classes? What type does their `getValue()` return?","body":"Are you able to modify the 3 classes? What type does their <code>getValue()</code> return?"},{"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"score":0,"creation_date":1669887590,"post_id":74629950,"comment_id":131746716,"body_markdown":"Yes, I can modify the classes. `getValue()` returns a `Value` type","body":"Yes, I can modify the classes. <code>getValue()</code> returns a <code>Value</code> type"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1669912328,"post_id":74629950,"comment_id":131755736,"body_markdown":"The first option of Thomas&#39;s answer &quot;Introduce an interface&quot; is the best way then.","body":"The first option of Thomas&#39;s answer &quot;Introduce an interface&quot; is the best way then."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669822117,"creation_date":1669821438,"answer_id":74630120,"question_id":74629950,"body_markdown":"Expanding on my comment, I&#39;d suggest the following options:\r\n\r\n**Introduce an interface**\r\n\r\nThis allows you to write code which knows that whatever you pass is of type `HasValue` and thus has a `getValue()` method. \r\n\r\n    interface HasValue {\r\n      ValueType getValue();\r\n    }\r\n\r\n    class QRequest implements HasValue { ... }\r\n    class CState implements HasValue { ... }\r\n    class RState implements HasValue { ... }\r\n\r\n    public static String calculateAmount(HasValue hasValue) {\r\n      ValueType value = hasValue.getValue();\r\n      if ( value  == null) {\r\n        return 300_VALUE;\r\n      }\r\n\r\n      if ( value.getOptionalCodes().contains(125_CODE)\r\n        &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\r\n        throw new ServiceException(&quot;Multiple options received&quot;);\r\n      }\r\n\r\n      if (value.getOptionalCodes().contains(125_CODE)) {\r\n        return 125_VALUE;\r\n      } else if (value.getOptionalCodes().contains(600_CODE)) {\r\n        return 600_VALUE;\r\n      } else {\r\n        return 300_VALUE;\r\n      }\r\n    }\r\n\r\n**Introduce a helper method**\r\n\r\nIf you can&#39;t introduce a common interface for some reason you need to provide the overloads for each type. However, if their `getValue()` methods all return the same type (`ValueType` is a placeholder for it) then a helper method that just gets the value and operates on that.\r\n\r\n    public static String calculateAmount(QRequest qRequest) {\r\n      return calculateAmountHelper(qRequest.getValue());\r\n    }\r\n\r\n    public static String calculateAmount(CState cState) {\r\n      return calculateAmountHelper(cState.getValue());\r\n    }\r\n\r\n    public static String calculateAmount(RState rState) {\r\n      return calculateAmountHelper(rState.getValue());\r\n    }\r\n\r\n    //or make it public and call this instead of the other 3 methods\r\n    private static String calculateAmountHelper(ValueType value) {\r\n      if ( value  == null) {\r\n        return 300_VALUE;\r\n      }\r\n\r\n      if ( value.getOptionalCodes().contains(125_CODE)\r\n        &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\r\n        throw new ServiceException(&quot;Multiple options received&quot;);\r\n      }\r\n\r\n      if (value.getOptionalCodes().contains(125_CODE)) {\r\n        return 125_VALUE;\r\n      } else if (value.getOptionalCodes().contains(600_CODE)) {\r\n        return 600_VALUE;\r\n      } else {\r\n        return 300_VALUE;\r\n      }\r\n    }\r\n","title":"Refactor 3 methods to one which takes various arguments into one method","body":"<p>Expanding on my comment, I'd suggest the following options:</p>\n<p><strong>Introduce an interface</strong></p>\n<p>This allows you to write code which knows that whatever you pass is of type <code>HasValue</code> and thus has a <code>getValue()</code> method.</p>\n<pre><code>interface HasValue {\n  ValueType getValue();\n}\n\nclass QRequest implements HasValue { ... }\nclass CState implements HasValue { ... }\nclass RState implements HasValue { ... }\n\npublic static String calculateAmount(HasValue hasValue) {\n  ValueType value = hasValue.getValue();\n  if ( value  == null) {\n    return 300_VALUE;\n  }\n\n  if ( value.getOptionalCodes().contains(125_CODE)\n    &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (value.getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (value.getOptionalCodes().contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n</code></pre>\n<p><strong>Introduce a helper method</strong></p>\n<p>If you can't introduce a common interface for some reason you need to provide the overloads for each type. However, if their <code>getValue()</code> methods all return the same type (<code>ValueType</code> is a placeholder for it) then a helper method that just gets the value and operates on that.</p>\n<pre><code>public static String calculateAmount(QRequest qRequest) {\n  return calculateAmountHelper(qRequest.getValue());\n}\n\npublic static String calculateAmount(CState cState) {\n  return calculateAmountHelper(cState.getValue());\n}\n\npublic static String calculateAmount(RState rState) {\n  return calculateAmountHelper(rState.getValue());\n}\n\n//or make it public and call this instead of the other 3 methods\nprivate static String calculateAmountHelper(ValueType value) {\n  if ( value  == null) {\n    return 300_VALUE;\n  }\n\n  if ( value.getOptionalCodes().contains(125_CODE)\n    &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (value.getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (value.getOptionalCodes().contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669822117,"creation_date":1669820753,"question_id":74629950,"body_markdown":"I have these 3 methods which all have the same logic. The only difference is that a different parameter type is passed in:\r\n\r\n```Java\r\npublic static String calculateAmount(QRequest qRequest) {\r\n\r\n  if (qRequest.getValue() == null) {\r\n    return 300_VALUE;\r\n  }\r\n\r\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)\r\n      &amp;&amp; qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\r\n    throw new ServiceException(&quot;Multiple options received&quot;);\r\n  }\r\n\r\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)) {\r\n    return 125_VALUE;\r\n  } else if (qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\r\n    return 600_VALUE;\r\n  } else {\r\n    return 300_VALUE;\r\n  }\r\n}\r\n\r\npublic static String calculateAmount(CState cState) {\r\n\r\n  if (cState.getValue() == null) {\r\n    return 300_VALUE;\r\n  }\r\n\r\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)\r\n      &amp;&amp; cState\r\n          .getValue()\r\n          .getOptionalCodes()\r\n          .contains(600_CODE)) {\r\n    throw new ServiceException(&quot;Multiple options received&quot;);\r\n  }\r\n\r\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)) {\r\n    return 125_VALUE;\r\n  } else if (cState\r\n      .getValue()\r\n      .getOptionalCodes()\r\n      .contains(600_CODE)) {\r\n    return 600_VALUE;\r\n  } else {\r\n    return 300_VALUE;\r\n  }\r\n}\r\n\r\npublic static String calculateAmount(RState rState) {\r\n\r\n  if (rState.getValue() == null) {\r\n    return EXCESS_300_VALUE;\r\n  }\r\n\r\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)\r\n      &amp;&amp; rState\r\n          .getValue()\r\n          .getOptionalCodes()\r\n          .contains(600_CODE)) {\r\n    throw new ServiceException(&quot;Multiple options received&quot;);\r\n  }\r\n\r\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)) {\r\n    return 125_VALUE;\r\n  } else if (rState\r\n      .getValue()\r\n      .getOptionalCodes()\r\n      .contains(600_CODE)) {\r\n    return 600_VALUE;\r\n  } else {\r\n    return 300_VALUE;\r\n  }\r\n}\r\n```\r\n\r\nI thought I might be able to refactor it to something like `public static String calculateAmount(QRequest ... qRequest, CState ... cState, RState ... rState) {` then add some logic to the method to work out which type it is and proceed from there but that doesn&#39;t work.\r\n\r\nAn option which would work would be to refactor my `calculateAmount()` to accept a `Value` object and have 3 new methods, one which will accept each parameter type and extract the `Value` object.\r\n\r\n\r\nIs it possible to refactor this so there&#39;s only one method which will accept any one of the 3 parameter types?","title":"Refactor 3 methods to one which takes various arguments into one method","body":"<p>I have these 3 methods which all have the same logic. The only difference is that a different parameter type is passed in:</p>\n<pre><code>public static String calculateAmount(QRequest qRequest) {\n\n  if (qRequest.getValue() == null) {\n    return 300_VALUE;\n  }\n\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)\n      &amp;&amp; qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n\npublic static String calculateAmount(CState cState) {\n\n  if (cState.getValue() == null) {\n    return 300_VALUE;\n  }\n\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)\n      &amp;&amp; cState\n          .getValue()\n          .getOptionalCodes()\n          .contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (cState\n      .getValue()\n      .getOptionalCodes()\n      .contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n\npublic static String calculateAmount(RState rState) {\n\n  if (rState.getValue() == null) {\n    return EXCESS_300_VALUE;\n  }\n\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)\n      &amp;&amp; rState\n          .getValue()\n          .getOptionalCodes()\n          .contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (rState\n      .getValue()\n      .getOptionalCodes()\n      .contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n</code></pre>\n<p>I thought I might be able to refactor it to something like <code>public static String calculateAmount(QRequest ... qRequest, CState ... cState, RState ... rState) {</code> then add some logic to the method to work out which type it is and proceed from there but that doesn't work.</p>\n<p>An option which would work would be to refactor my <code>calculateAmount()</code> to accept a <code>Value</code> object and have 3 new methods, one which will accept each parameter type and extract the <code>Value</code> object.</p>\n<p>Is it possible to refactor this so there's only one method which will accept any one of the 3 parameter types?</p>\n"},{"tags":["java","spring-boot","grpc","grpc-java","proto"],"comments":[{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1652461978,"post_id":72233169,"comment_id":127620427,"body_markdown":"Does this answer your question? [How to convert Google proto timestamp to Java LocalDate?](https://stackoverflow.com/questions/52645487/how-to-convert-google-proto-timestamp-to-java-localdate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52645487/how-to-convert-google-proto-timestamp-to-java-localdate\">How to convert Google proto timestamp to Java LocalDate?</a>"},{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1652462631,"post_id":72233169,"comment_id":127620604,"body_markdown":"Google Protocol Buffer does not have a Date type. See also: https://stackoverflow.com/questions/72231236/how-to-convert-grpc-java-proto-timestamp-to-date You can always declare a field of type String and do with it whatever you want, i.e. let it contain a date.","body":"Google Protocol Buffer does not have a Date type. See also: <a href=\"https://stackoverflow.com/questions/72231236/how-to-convert-grpc-java-proto-timestamp-to-date\" title=\"how to convert grpc java proto timestamp to date\">stackoverflow.com/questions/72231236/&hellip;</a> You can always declare a field of type String and do with it whatever you want, i.e. let it contain a date."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1652463376,"post_id":72233169,"comment_id":127620807,"body_markdown":"I think you are right @Franck i will make the proto as &quot;String&quot; then convert it to &quot;Date&quot; and lastly make a validation for Date.","body":"I think you are right @Franck i will make the proto as &quot;String&quot; then convert it to &quot;Date&quot; and lastly make a validation for Date."},{"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"score":0,"creation_date":1652488904,"post_id":72233169,"comment_id":127626018,"body_markdown":"should we assume you can&#39;t change the proto file ?","body":"should we assume you can&#39;t change the proto file ?"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1652490915,"post_id":72233169,"comment_id":127626179,"body_markdown":"I change the proto file as String instead of timestamp, its already working @Cl&#233;mentJean","body":"I change the proto file as String instead of timestamp, its already working @Cl&#233;mentJean"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1652491369,"post_id":72233169,"comment_id":127626226,"body_markdown":"The reason for this is, its connected to a sepearated file &quot;Grpc client&quot;  with rest api, i cannot have just seconds and nano @Cl&#233;mentJean","body":"The reason for this is, its connected to a sepearated file &quot;Grpc client&quot;  with rest api, i cannot have just seconds and nano @Cl&#233;mentJean"},{"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"score":0,"creation_date":1652494047,"post_id":72233169,"comment_id":127626459,"body_markdown":"My question was more related to the fact that you could define your own date format that is serialised more efficiently than a string and more idiomatic. If you are interested let me know.","body":"My question was more related to the fact that you could define your own date format that is serialised more efficiently than a string and more idiomatic. If you are interested let me know."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":1,"creation_date":1652502948,"post_id":72233169,"comment_id":127627225,"body_markdown":"I see, i will try that @Cl&#233;mentJean i think that is much better","body":"I see, i will try that @Cl&#233;mentJean i think that is much better"}],"answers":[{"tags":[],"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654933500,"creation_date":1652506963,"answer_id":72237651,"question_id":72233169,"body_markdown":"In order to get more efficient serialization and more descriptive code than just having a string you could do copy the implementation of [Date](https://github.com/googleapis/googleapis/blob/master/google/type/date.proto) from the Google API repo. If you are working only with Java you will only need to copy this:\r\n\r\n```proto3\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage google.type;\r\n\r\noption java_multiple_files = true;\r\noption java_outer_classname = &quot;DateProto&quot;;\r\noption java_package = &quot;com.google.type&quot;;\r\n\r\nmessage Date {\r\n  int32 year = 1;\r\n  int32 month = 2;\r\n  int32 day = 3;\r\n}\r\n```\r\n\r\nand then you will be able to import with:\r\n\r\n```java\r\nimport com.google.type.Date;\r\n```\r\n\r\nAnd obviously you can personalise the `package` and `java_package` if needed. After that, this is pretty simple, you just set the year, month and date.","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>In order to get more efficient serialization and more descriptive code than just having a string you could do copy the implementation of <a href=\"https://github.com/googleapis/googleapis/blob/master/google/type/date.proto\" rel=\"nofollow noreferrer\">Date</a> from the Google API repo. If you are working only with Java you will only need to copy this:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage google.type;\n\noption java_multiple_files = true;\noption java_outer_classname = &quot;DateProto&quot;;\noption java_package = &quot;com.google.type&quot;;\n\nmessage Date {\n  int32 year = 1;\n  int32 month = 2;\n  int32 day = 3;\n}\n</code></pre>\n<p>and then you will be able to import with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.type.Date;\n</code></pre>\n<p>And obviously you can personalise the <code>package</code> and <code>java_package</code> if needed. After that, this is pretty simple, you just set the year, month and date.</p>\n"},{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652630439,"creation_date":1652518419,"answer_id":72238699,"question_id":72233169,"body_markdown":"Thanks here what i did. I imported the date.proto to other proto file and change the &quot;String&quot; to Date from date.proto @Cl&#233;mentJean \r\n[here is photo update][1]\r\n\r\n\r\n```proto\r\nimport &quot;date.proto&quot;;\r\n\r\n......\r\n\r\nmessage Product {\r\n\tint32 purchase_item = 1;\r\n    string productname = 2;\r\n    string productbrand = 3;\r\n    double productprice = 4;\r\n    string productdescription = 5;\r\n    int32 productquantity = 6;\r\n    .google.type.Date productexpirationdate = 7;\r\n}\r\n```\r\n\r\n```java\r\n//convert to Date to make it compatible to a Entity Date\r\n@GrpcService\r\npublic class ProductGRPCserver  extends ProductServiceImplBase{\r\n\t\r\n\t@Autowired\r\n\tprivate ProductServiceImpl productServiceImpl;\r\n\t\r\n//convert Date from date.proto to Java &quot;Date&quot;.\r\n\tpublic static Date getDateFromDateProto(com.google.type.Date date) {\r\n\t\tInteger year = date.getYear();\r\n\t\tInteger month = date.getMonth();\r\n\t\tInteger days = date.getDay();\r\n\t\t\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.clear();\r\n\t\tcalendar.set(Calendar.YEAR, year);\r\n\t\tcalendar.set(Calendar.MONTH, month);\r\n\t\tcalendar.set(Calendar.DATE, days);\r\n\t\tDate datess = calendar.getTime();\r\n\t\t\r\n        return datess;\r\n    }\r\n\t@Override\r\n\tpublic void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\r\n\t    ProductEntity productEntity = new ProductEntity();\r\n\r\n\t    productEntity.setPurchase_item(request.getPurchaseItem());\r\n\t    productEntity.setProductname(request.getProductname());\r\n\t    productEntity.setProductbrand(request.getProductbrand());\r\n\t    productEntity.setProductprice(request.getProductprice());\r\n\t    productEntity.setProductdescription(request.getProductdescription());\r\n\t    productEntity.setProductquantity(request.getProductquantity());\r\n\r\n        //setProductexpirationdate is Date and getProductexpirationdate is customize Date proto to make is compatible. convert it\r\n\t    productEntity.setProductexpirationdate(getDateFromDateProto(request.getProductexpirationdate()));\r\n\t\r\n\t    productServiceImpl.saveDataFromDTO(productEntity);\r\n\t    APIResponse.Builder  responce = APIResponse.newBuilder();\r\n\t    responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\r\n\t\r\n\t    responseObserver.onNext(responce.build());\r\n\t    responseObserver.onCompleted();\t\r\n    }\r\n}\r\n```\r\nThe Code above is sending data with converted Date.\r\nNow for retrieving Data is opposite code above as shown below.\r\n\r\nLets just say that im calling the ProductEntity.class method &quot;toProduct&quot; with converted &quot;Java Date&quot; to &quot;proto Date&quot; thats means its opposite to sending data. You can also use the method &quot;getDateFromDateProto&quot; to get Data for 1 row in database like findbyid and get data in 1 row [this picture is retrieve data &quot;List&quot;][2]\r\n\r\n```\r\n\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\nimport com.grpcserver.product.ProductServer.Product;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ProductEntity {\r\n\t\r\n\tprivate Integer purchase_item;\r\n    private String productname;\r\n    private String productbrand;\r\n    private Double productprice;\r\n    private String productdescription;\r\n    private Integer productquantity;\r\n    private Date  productexpirationdate;\r\n    \r\n    public Product toProduct(){\r\n\r\n    \treturn Product.newBuilder()\r\n    \t\t\t.setPurchaseItem(getPurchase_item())\r\n    \t\t\t.setProductname(getProductbrand())\r\n    \t\t\t.setProductbrand(getProductbrand())\r\n    \t\t\t.setProductprice(getProductprice())\r\n    \t\t\t.setProductdescription(getProductdescription())\r\n    \t\t\t.setProductquantity(getProductquantity())\r\n    \t\t\t.setProductexpirationdate(getDateFromDateProto(getProductexpirationdate()))\r\n    \t\t\t.build();\r\n    }\r\n    \r\n\tpublic static com.google.type.Date getDateFromDateProto(Date date) {\r\n\t\t\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTime(date);\r\n\t\tint year = calendar.get(Calendar.YEAR);\r\n\t\tint month = calendar.get(Calendar.MONTH);\r\n\t\tint day = calendar.get(Calendar.DAY_OF_MONTH);\r\n\t\t\r\n\t\tcom.google.type.Date datess = com.google.type.Date.newBuilder().setYear(year).setMonth(month).setDay(day).build();\r\n\t\t\r\n        return datess ;\r\n    }\r\n    \r\n\r\n    \r\n\r\n}\r\n\r\n```\r\n```\r\n//get list\r\n//&quot;toProduct&quot;\r\n\t@Override\r\n\tpublic void findAllRepeated(Product request, StreamObserver&lt;ProductList&gt; responseObserver) {\r\n\t\r\n\t\tList&lt;ProductDTO&gt; list = productServiceImpl.getAllPpoduct();\r\n\t\t\r\n\t\tList&lt;Product&gt; products = list.stream().map(ProductDTO::toProduct).collect(Collectors.toList());\r\n\t\tProductList productList = ProductList.newBuilder().addAllProduct(products)\r\n\t\t\t\t.setResultCount(Int64Value.newBuilder().setValue(list.size()).build()).build();\r\n\t\tresponseObserver.onNext(productList);\r\n        responseObserver.onCompleted();\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nfor Rest Api output [postman output via rest api][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ay19.png\r\n  [2]: https://i.stack.imgur.com/nrTNx.png\r\n  [3]: https://i.stack.imgur.com/yeVfO.png","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>Thanks here what i did. I imported the date.proto to other proto file and change the &quot;String&quot; to Date from date.proto @ClémentJean\n<a href=\"https://i.stack.imgur.com/2ay19.png\" rel=\"nofollow noreferrer\">here is photo update</a></p>\n<pre><code>import &quot;date.proto&quot;;\n\n......\n\nmessage Product {\n    int32 purchase_item = 1;\n    string productname = 2;\n    string productbrand = 3;\n    double productprice = 4;\n    string productdescription = 5;\n    int32 productquantity = 6;\n    .google.type.Date productexpirationdate = 7;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//convert to Date to make it compatible to a Entity Date\n@GrpcService\npublic class ProductGRPCserver  extends ProductServiceImplBase{\n    \n    @Autowired\n    private ProductServiceImpl productServiceImpl;\n    \n//convert Date from date.proto to Java &quot;Date&quot;.\n    public static Date getDateFromDateProto(com.google.type.Date date) {\n        Integer year = date.getYear();\n        Integer month = date.getMonth();\n        Integer days = date.getDay();\n        \n        Calendar calendar = Calendar.getInstance();\n        calendar.clear();\n        calendar.set(Calendar.YEAR, year);\n        calendar.set(Calendar.MONTH, month);\n        calendar.set(Calendar.DATE, days);\n        Date datess = calendar.getTime();\n        \n        return datess;\n    }\n    @Override\n    public void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\n        ProductEntity productEntity = new ProductEntity();\n\n        productEntity.setPurchase_item(request.getPurchaseItem());\n        productEntity.setProductname(request.getProductname());\n        productEntity.setProductbrand(request.getProductbrand());\n        productEntity.setProductprice(request.getProductprice());\n        productEntity.setProductdescription(request.getProductdescription());\n        productEntity.setProductquantity(request.getProductquantity());\n\n        //setProductexpirationdate is Date and getProductexpirationdate is customize Date proto to make is compatible. convert it\n        productEntity.setProductexpirationdate(getDateFromDateProto(request.getProductexpirationdate()));\n    \n        productServiceImpl.saveDataFromDTO(productEntity);\n        APIResponse.Builder  responce = APIResponse.newBuilder();\n        responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\n    \n        responseObserver.onNext(responce.build());\n        responseObserver.onCompleted(); \n    }\n}\n</code></pre>\n<p>The Code above is sending data with converted Date.\nNow for retrieving Data is opposite code above as shown below.</p>\n<p>Lets just say that im calling the ProductEntity.class method &quot;toProduct&quot; with converted &quot;Java Date&quot; to &quot;proto Date&quot; thats means its opposite to sending data. You can also use the method &quot;getDateFromDateProto&quot; to get Data for 1 row in database like findbyid and get data in 1 row <a href=\"https://i.stack.imgur.com/nrTNx.png\" rel=\"nofollow noreferrer\">this picture is retrieve data &quot;List&quot;</a></p>\n<pre><code>\n\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport com.grpcserver.product.ProductServer.Product;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ProductEntity {\n    \n    private Integer purchase_item;\n    private String productname;\n    private String productbrand;\n    private Double productprice;\n    private String productdescription;\n    private Integer productquantity;\n    private Date  productexpirationdate;\n    \n    public Product toProduct(){\n\n        return Product.newBuilder()\n                .setPurchaseItem(getPurchase_item())\n                .setProductname(getProductbrand())\n                .setProductbrand(getProductbrand())\n                .setProductprice(getProductprice())\n                .setProductdescription(getProductdescription())\n                .setProductquantity(getProductquantity())\n                .setProductexpirationdate(getDateFromDateProto(getProductexpirationdate()))\n                .build();\n    }\n    \n    public static com.google.type.Date getDateFromDateProto(Date date) {\n        \n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(date);\n        int year = calendar.get(Calendar.YEAR);\n        int month = calendar.get(Calendar.MONTH);\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\n        \n        com.google.type.Date datess = com.google.type.Date.newBuilder().setYear(year).setMonth(month).setDay(day).build();\n        \n        return datess ;\n    }\n    \n\n    \n\n}\n\n</code></pre>\n<pre><code>//get list\n//&quot;toProduct&quot;\n    @Override\n    public void findAllRepeated(Product request, StreamObserver&lt;ProductList&gt; responseObserver) {\n    \n        List&lt;ProductDTO&gt; list = productServiceImpl.getAllPpoduct();\n        \n        List&lt;Product&gt; products = list.stream().map(ProductDTO::toProduct).collect(Collectors.toList());\n        ProductList productList = ProductList.newBuilder().addAllProduct(products)\n                .setResultCount(Int64Value.newBuilder().setValue(list.size()).build()).build();\n        responseObserver.onNext(productList);\n        responseObserver.onCompleted();\n        \n    }\n\n</code></pre>\n<p>for Rest Api output <a href=\"https://i.stack.imgur.com/yeVfO.png\" rel=\"nofollow noreferrer\">postman output via rest api</a></p>\n"},{"tags":[],"owner":{"account_id":24741081,"reputation":169,"user_id":18627817,"display_name":"Christian Chiama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669821874,"creation_date":1669821874,"answer_id":74630212,"question_id":72233169,"body_markdown":"Put this in your proto file:\r\n\r\n  \r\n\r\n    message Date {\r\n      int32 year = 1;\r\n      int32 month = 2;\r\n      int32 day = 3;\r\n    }\r\n\r\nand then you can use Date in your proto file, for instance: \r\n\r\n    message Customer {\r\n      string name = 1;\r\n      string address = 2;\r\n      Date birthDate = 3;\r\n    }","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>Put this in your proto file:</p>\n<pre><code>message Date {\n  int32 year = 1;\n  int32 month = 2;\n  int32 day = 3;\n}\n</code></pre>\n<p>and then you can use Date in your proto file, for instance:</p>\n<pre><code>message Customer {\n  string name = 1;\n  string address = 2;\n  Date birthDate = 3;\n}\n</code></pre>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72237651,"answer_count":3,"score":0,"last_activity_date":1669821874,"creation_date":1652461649,"question_id":72233169,"body_markdown":"I want to make timestamp to convert to `Date` but  I was expecting to input `Date` format ,&quot;NOT&quot; seconds and nano.  How do change it to date format input?\r\n\r\n![This is the insert data picture ][1]\r\n\r\n\r\n```java\r\n@GrpcService\r\npublic class ProductGRPCserver extends ProductServiceImplBase {\r\n\r\n\t@Autowired\r\n\tprivate ProductServiceImpl productServiceImpl;\r\n\r\n\tpublic static Date getDateFromTimestamp(Timestamp timestamp) {\r\n\t\treturn new Date(Timestamps.toMillis(timestamp));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\r\n\t\tProductEntity productEntity = new ProductEntity();\r\n\r\n\t\tDate date = getDateFromTimestamp(request.getProductexpirationdate());\r\n\r\n\t\tproductEntity.setPurchase_item(request.getPurchaseItem());\r\n\t\tproductEntity.setProductname(request.getProductname());\r\n\t\tproductEntity.setProductbrand(request.getProductbrand());\r\n\t\tproductEntity.setProductprice(request.getProductprice());\r\n\t\tproductEntity.setProductdescription(request.getProductdescription());\r\n\t\tproductEntity.setProductquantity(request.getProductquantity());\r\n\t\tproductEntity.setProductexpirationdate(date);\r\n\t\tSystem.out.println(date);\r\n\t\tproductServiceImpl.saveDataFromDTO(productEntity);\r\n\r\n\t\tAPIResponse.Builder responce = APIResponse.newBuilder();\r\n\t\tresponce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; + productEntity);\r\n\r\n\t\tresponseObserver.onNext(responce.build());\r\n\t\tresponseObserver.onCompleted();\r\n\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ufXQ.png","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>I want to make timestamp to convert to <code>Date</code> but  I was expecting to input <code>Date</code> format ,&quot;NOT&quot; seconds and nano.  How do change it to date format input?</p>\n<p><img src=\"https://i.stack.imgur.com/2ufXQ.png\" alt=\"This is the insert data picture \" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GrpcService\npublic class ProductGRPCserver extends ProductServiceImplBase {\n\n    @Autowired\n    private ProductServiceImpl productServiceImpl;\n\n    public static Date getDateFromTimestamp(Timestamp timestamp) {\n        return new Date(Timestamps.toMillis(timestamp));\n    }\n\n    @Override\n    public void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\n        ProductEntity productEntity = new ProductEntity();\n\n        Date date = getDateFromTimestamp(request.getProductexpirationdate());\n\n        productEntity.setPurchase_item(request.getPurchaseItem());\n        productEntity.setProductname(request.getProductname());\n        productEntity.setProductbrand(request.getProductbrand());\n        productEntity.setProductprice(request.getProductprice());\n        productEntity.setProductdescription(request.getProductdescription());\n        productEntity.setProductquantity(request.getProductquantity());\n        productEntity.setProductexpirationdate(date);\n        System.out.println(date);\n        productServiceImpl.saveDataFromDTO(productEntity);\n\n        APIResponse.Builder responce = APIResponse.newBuilder();\n        responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; + productEntity);\n\n        responseObserver.onNext(responce.build());\n        responseObserver.onCompleted();\n\n    }\n</code></pre>\n"},{"tags":["java","loops","skip"],"comments":[{"owner":{"account_id":13900216,"reputation":178822,"user_id":10035985,"display_name":"Andrej Kesely"},"score":0,"creation_date":1669654959,"post_id":74601271,"comment_id":131686442,"body_markdown":"What language are you using?","body":"What language are you using?"},{"owner":{"account_id":27043461,"reputation":1,"user_id":20597979,"display_name":"DarkDimensionZ"},"score":0,"creation_date":1669690123,"post_id":74601271,"comment_id":131694648,"body_markdown":"java my bad i havent included it","body":"java my bad i havent included it"}],"answers":[{"tags":[],"owner":{"account_id":1891511,"reputation":381,"user_id":1709454,"display_name":"Abbas Dehghan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669821699,"creation_date":1669717259,"answer_id":74612493,"question_id":74601271,"body_markdown":"you can do something like this:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class test {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            int num = sc.nextInt();\r\n            int count = 0;\r\n            for (int i = 1; count &lt; num; i++) {\r\n                if (String.valueOf(i).contains(&quot;1&quot;)) {\r\n                    continue;\r\n                }\r\n                System.out.println(i);\r\n                count++;\r\n            }\r\n            sc.close();\r\n        }\r\n    }\r\n\r\n\r\n**Update:**\r\n\r\nIf you do not want to use String.valueOf() you can go like this:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class test {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            int num = sc.nextInt();\r\n            int count = 0;\r\n            for (int i = 1; count &lt; num; i++) {\r\n                int val = i;\r\n                boolean hasOne = false;\r\n                while (val &gt; 0) {\r\n                    if (val % 10 == 1) {\r\n                        hasOne = true;\r\n                        break;\r\n                    }\r\n                    val = val / 10;\r\n                }\r\n                if (hasOne) {\r\n                    continue;\r\n                }\r\n                System.out.println(i);\r\n                count++;\r\n            }\r\n            sc.close();\r\n        }\r\n    }","title":"How to exclude every number that has 1 and print the rest that the user has inputted and match the inputted number with printed numbers?","body":"<p>you can do something like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a number: &quot;);\n        int num = sc.nextInt();\n        int count = 0;\n        for (int i = 1; count &lt; num; i++) {\n            if (String.valueOf(i).contains(&quot;1&quot;)) {\n                continue;\n            }\n            System.out.println(i);\n            count++;\n        }\n        sc.close();\n    }\n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>If you do not want to use String.valueOf() you can go like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a number: &quot;);\n        int num = sc.nextInt();\n        int count = 0;\n        for (int i = 1; count &lt; num; i++) {\n            int val = i;\n            boolean hasOne = false;\n            while (val &gt; 0) {\n                if (val % 10 == 1) {\n                    hasOne = true;\n                    break;\n                }\n                val = val / 10;\n            }\n            if (hasOne) {\n                continue;\n            }\n            System.out.println(i);\n            count++;\n        }\n        sc.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27043461,"reputation":1,"user_id":20597979,"display_name":"DarkDimensionZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74612493,"answer_count":1,"score":-1,"last_activity_date":1669821699,"creation_date":1669641896,"question_id":74601271,"body_markdown":"I&#39;m having trouble coding this program in JAVA\r\n\r\nAsk the user an integer number then print 1 to n where is input number. if the number have a 1 skip that number and make sure match the length of n number to the output.\r\n\r\nExample:\r\n\r\ninput: 22\r\n\r\noutput 2 3 4 5 6 7 8 9 20 22 23 24 25 26 27 28 29 30 32 33 34 35 - Total of 22 numbers\r\n\r\nskipped all numbers with 1 and matched the length of the inputted numbers\r\n\r\nI tried doing conditional statements, nested ifs and for loop but i failed and i badly need some lessons so i can understand the logic","title":"How to exclude every number that has 1 and print the rest that the user has inputted and match the inputted number with printed numbers?","body":"<p>I'm having trouble coding this program in JAVA</p>\n<p>Ask the user an integer number then print 1 to n where is input number. if the number have a 1 skip that number and make sure match the length of n number to the output.</p>\n<p>Example:</p>\n<p>input: 22</p>\n<p>output 2 3 4 5 6 7 8 9 20 22 23 24 25 26 27 28 29 30 32 33 34 35 - Total of 22 numbers</p>\n<p>skipped all numbers with 1 and matched the length of the inputted numbers</p>\n<p>I tried doing conditional statements, nested ifs and for loop but i failed and i badly need some lessons so i can understand the logic</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1440625145,"creation_date":1440625145,"answer_id":32237145,"question_id":32235993,"body_markdown":"You can use Jackson [@JsonAnySetter and @JsonAnyGetter annotations][1]. \r\n\r\nHere is a complete example:\r\n\r\n    public class JacksonAnyGetter {\r\n    \r\n        static final String JSON = &quot;{&quot;\r\n                + &quot;  \\&quot;id\\&quot;: 123,&quot;\r\n                + &quot;  \\&quot;name\\&quot;: \\&quot;some name\\&quot;,&quot;\r\n                + &quot;  \\&quot;custom_name\\&quot;: \\&quot;Some value\\&quot;,&quot;\r\n                + &quot;  \\&quot;some_other_custom_name\\&quot;: \\&quot;Some other value\\&quot;&quot;\r\n                + &quot;}&quot;;\r\n    \r\n        static class Bean {\r\n            public int id;\r\n            public String name;\r\n            private Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    \r\n            @JsonAnySetter\r\n            public void add(String key, String value) {\r\n                properties.put(key, value);\r\n            }\r\n    \r\n            @JsonAnyGetter\r\n            public Map&lt;String, Object&gt; getProperties() {\r\n                return properties;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Bean{&quot; +\r\n                        &quot;id=&quot; + id +\r\n                        &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                        &quot;, properties=&quot; + properties +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            final Bean bean = mapper.readValue(JSON, Bean.class);\r\n            System.out.println(bean);\r\n            final String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(bean);\r\n            System.out.println(json);\r\n        }\r\n    }\r\n\r\nOutput: \r\n\r\n    Bean{id=123, name=&#39;some name&#39;, properties={custom_name=Some value, some_other_custom_name=Some other value}}\r\n\r\n    {\r\n      &quot;id&quot; : 123,\r\n      &quot;name&quot; : &quot;some name&quot;,\r\n      &quot;custom_name&quot; : &quot;Some value&quot;,\r\n      &quot;some_other_custom_name&quot; : &quot;Some other value&quot;\r\n    }\r\n\r\n\r\n  [1]: http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html","title":"Mix of standard and dynamic properties in Jackson mapping","body":"<p>You can use Jackson <a href=\"http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html\" rel=\"noreferrer\">@JsonAnySetter and @JsonAnyGetter annotations</a>. </p>\n\n<p>Here is a complete example:</p>\n\n<pre><code>public class JacksonAnyGetter {\n\n    static final String JSON = \"{\"\n            + \"  \\\"id\\\": 123,\"\n            + \"  \\\"name\\\": \\\"some name\\\",\"\n            + \"  \\\"custom_name\\\": \\\"Some value\\\",\"\n            + \"  \\\"some_other_custom_name\\\": \\\"Some other value\\\"\"\n            + \"}\";\n\n    static class Bean {\n        public int id;\n        public String name;\n        private Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n\n        @JsonAnySetter\n        public void add(String key, String value) {\n            properties.put(key, value);\n        }\n\n        @JsonAnyGetter\n        public Map&lt;String, Object&gt; getProperties() {\n            return properties;\n        }\n\n        @Override\n        public String toString() {\n            return \"Bean{\" +\n                    \"id=\" + id +\n                    \", name='\" + name + '\\'' +\n                    \", properties=\" + properties +\n                    '}';\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        final ObjectMapper mapper = new ObjectMapper();\n        final Bean bean = mapper.readValue(JSON, Bean.class);\n        System.out.println(bean);\n        final String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(bean);\n        System.out.println(json);\n    }\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>Bean{id=123, name='some name', properties={custom_name=Some value, some_other_custom_name=Some other value}}\n\n{\n  \"id\" : 123,\n  \"name\" : \"some name\",\n  \"custom_name\" : \"Some value\",\n  \"some_other_custom_name\" : \"Some other value\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669821506,"creation_date":1669821506,"answer_id":74630129,"question_id":32235993,"body_markdown":"Problem with dynamic properties (e.g. in Spring 3.0 `ProblemDetail`) and Jackson field type serialization: props duplicate in answer\r\n```\r\n{\r\n  &quot;type&quot;: &quot;about:blank&quot;,\r\n  &quot;title&quot;: null,\r\n  &quot;status&quot;: 400,\r\n  &quot;detail&quot;: &quot;Invalid request content.&quot;,\r\n  &quot;instance&quot;: &quot;/api/register&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\r\n  },\r\n  &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\r\n}\r\n```\r\n\r\n`@JsonIgnoreProperties({&quot;properties&quot;})` remove `email` everywhere.\r\n\r\nFound fix:\r\n```\r\n    @JsonAutoDetect(fieldVisibility = NONE, getterVisibility = ANY)\r\n    interface MixIn {\r\n        @JsonAnyGetter\r\n        Map&lt;String, Object&gt; getProperties();\r\n    }\r\n\r\n    @Autowired\r\n    void configureAndStoreObjectMapper(ObjectMapper objectMapper) {\r\n        // https://stackoverflow.com/questions/7421474/548473\r\n        objectMapper.addMixIn(ProblemDetail.class, MixIn.class);\r\n    }\r\n```","title":"Mix of standard and dynamic properties in Jackson mapping","body":"<p>Problem with dynamic properties (e.g. in Spring 3.0 <code>ProblemDetail</code>) and Jackson field type serialization: props duplicate in answer</p>\n<pre><code>{\n  &quot;type&quot;: &quot;about:blank&quot;,\n  &quot;title&quot;: null,\n  &quot;status&quot;: 400,\n  &quot;detail&quot;: &quot;Invalid request content.&quot;,\n  &quot;instance&quot;: &quot;/api/register&quot;,\n  &quot;properties&quot;: {\n    &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\n  },\n  &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\n}\n</code></pre>\n<p><code>@JsonIgnoreProperties({&quot;properties&quot;})</code> remove <code>email</code> everywhere.</p>\n<p>Found fix:</p>\n<pre><code>    @JsonAutoDetect(fieldVisibility = NONE, getterVisibility = ANY)\n    interface MixIn {\n        @JsonAnyGetter\n        Map&lt;String, Object&gt; getProperties();\n    }\n\n    @Autowired\n    void configureAndStoreObjectMapper(ObjectMapper objectMapper) {\n        // https://stackoverflow.com/questions/7421474/548473\n        objectMapper.addMixIn(ProblemDetail.class, MixIn.class);\n    }\n</code></pre>\n"}],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2639,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32237145,"answer_count":2,"score":4,"last_activity_date":1669821506,"creation_date":1440620408,"question_id":32235993,"body_markdown":"We are working with a REST service that provides json that will consist of some standard properties, as well as a number of dynamic properties.\r\n\r\nFor example:\r\n\r\n    {\r\n      id: 123,\r\n      name: &quot;some name&quot;,\r\n      custom_name: &quot;Some value&quot;,\r\n      some_other_custom_name: &quot;Some other value&quot;,\r\n    }\r\n\r\n\r\nIdeally, I&#39;d like to have the class designed as follows:\r\n\r\n    public class MyObject{\r\n      @JsonProperty int id;\r\n      @JsonProperty String name;\r\n      private Map&lt;String, String&gt; customVals;\r\n    \r\n      public int getId(){\r\n        return id;\r\n      }\r\n    \r\n      public String getName(){\r\n        return name;\r\n      }\r\n    \r\n      public String getCustomVal(String key){\r\n        return customVals.get(key);\r\n      }\r\n    }\r\n\r\n\r\nIs there any way to convince Jackson to push the custom values into the Map (or achieve equivalent functionality)?\r\n\r\nRight now, I&#39;m just deserializing the whole object into a Map, and wrapping that in my business object, but it&#39;s not nearly as elegant as it would be if the deserialization would take care of it.","title":"Mix of standard and dynamic properties in Jackson mapping","body":"<p>We are working with a REST service that provides json that will consist of some standard properties, as well as a number of dynamic properties.</p>\n\n<p>For example:</p>\n\n<pre><code>{\n  id: 123,\n  name: \"some name\",\n  custom_name: \"Some value\",\n  some_other_custom_name: \"Some other value\",\n}\n</code></pre>\n\n<p>Ideally, I'd like to have the class designed as follows:</p>\n\n<pre><code>public class MyObject{\n  @JsonProperty int id;\n  @JsonProperty String name;\n  private Map&lt;String, String&gt; customVals;\n\n  public int getId(){\n    return id;\n  }\n\n  public String getName(){\n    return name;\n  }\n\n  public String getCustomVal(String key){\n    return customVals.get(key);\n  }\n}\n</code></pre>\n\n<p>Is there any way to convince Jackson to push the custom values into the Map (or achieve equivalent functionality)?</p>\n\n<p>Right now, I'm just deserializing the whole object into a Map, and wrapping that in my business object, but it's not nearly as elegant as it would be if the deserialization would take care of it.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669819516,"creation_date":1669819516,"answer_id":74629647,"question_id":74628826,"body_markdown":"Two changes are needed.\r\n\r\n*First change:*\r\n\r\nThe entry in the config file needs to be adjusted. SpEL uses a `{key:value}` notation ([reference](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps)), where the `key` should not be enclosed in quotes.\r\n\r\nSo, use this:\r\n\r\n    ordering = {SOMEVALUE : {&#39;ONE&#39;, &#39;THREE&#39;, &#39;TWO&#39;}, OTHERVALUE : {&#39;THREE&#39;, &#39;ONE&#39;, &#39;TWO&#39;}}\r\n\r\n*Second change:*\r\n\r\nNow you can refer to this as follows in your Java:\r\n\r\n```java\r\n@Value(&quot;#{${ordering}}&quot;)\r\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\r\n```\r\n\r\nAnd if you want to provide a default empty map, you can use `{:}` as follows:\r\n\r\n```java\r\n@Value(&quot;#{${ordering_MISSING : {:} }}&quot;)\r\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering2;\r\n```\r\n\r\nBecause there is no property called `ordering_MISSING`, the default will be used.\r\n\r\nReference: [inline maps](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps)\r\n\r\n&gt; `{:}` by itself means an empty map.\r\n\r\n---\r\n\r\n&quot;_is there an online tool for parsing SpEL?_&quot; - I am not aware of one. Someone else may know of one.","title":"How do I make a Map&lt;String, List&lt;String&gt;&gt; with SpEL?","body":"<p>Two changes are needed.</p>\n<p><em>First change:</em></p>\n<p>The entry in the config file needs to be adjusted. SpEL uses a <code>{key:value}</code> notation (<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps\" rel=\"nofollow noreferrer\">reference</a>), where the <code>key</code> should not be enclosed in quotes.</p>\n<p>So, use this:</p>\n<pre><code>ordering = {SOMEVALUE : {'ONE', 'THREE', 'TWO'}, OTHERVALUE : {'THREE', 'ONE', 'TWO'}}\n</code></pre>\n<p><em>Second change:</em></p>\n<p>Now you can refer to this as follows in your Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#{${ordering}}&quot;)\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\n</code></pre>\n<p>And if you want to provide a default empty map, you can use <code>{:}</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#{${ordering_MISSING : {:} }}&quot;)\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering2;\n</code></pre>\n<p>Because there is no property called <code>ordering_MISSING</code>, the default will be used.</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps\" rel=\"nofollow noreferrer\">inline maps</a></p>\n<blockquote>\n<p><code>{:}</code> by itself means an empty map.</p>\n</blockquote>\n<hr />\n<p>&quot;<em>is there an online tool for parsing SpEL?</em>&quot; - I am not aware of one. Someone else may know of one.</p>\n"},{"tags":[],"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669820712,"creation_date":1669820712,"answer_id":74629947,"question_id":74628826,"body_markdown":"I think I figured out what I was doing wrong: My actual SpEL might have been correct at some point, but I&#39;m parsing the data read from that and storing it in another variable, at which point `ordering` was `null`. What I forgot to consider is that the other field I&#39;m parsing `ordering` into might (and does) get evaluated first.","title":"How do I make a Map&lt;String, List&lt;String&gt;&gt; with SpEL?","body":"<p>I think I figured out what I was doing wrong: My actual SpEL might have been correct at some point, but I'm parsing the data read from that and storing it in another variable, at which point <code>ordering</code> was <code>null</code>. What I forgot to consider is that the other field I'm parsing <code>ordering</code> into might (and does) get evaluated first.</p>\n"}],"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74629947,"answer_count":2,"score":1,"last_activity_date":1669820712,"creation_date":1669816009,"question_id":74628826,"body_markdown":"I&#39;m making a config in my Spring application and I want to define a map:   \r\n\r\n```java\r\n@Value(&quot;${ordering:#{{:}}&quot;)\r\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\r\n```  \r\nHere&#39;s what&#39;s in my config:\r\n```\r\nordering = {&#39;SOMEVALUE&#39; : {&#39;ONE&#39;, &#39;THREE&#39;, &#39;TWO&#39;}, &#39;OTHERVALUE&#39; : {&#39;THREE&#39;, &#39;ONE&#39;, &#39;TWO&#39;}}\r\n```  \r\nBut this always gets read as null (so I assume invalid SpEL).  \r\nThe name of the variable and config value aren&#39;t misspelled and other values are loaded from the same config, so those parts are set up properly.  \r\nHow should such a map be defined, what am I screwing up? Is there an online tool for parsing SpEL?\r\n\r\nI tried several things: adding and removing the single ticks, same for double ticks and wrapping the lists in an extra {}, but none of these helped and the value is still set to null.  \r\nI also tried modifying the annotation, to no avail:  \r\n```\r\n@Value(&quot;#{${ordering:#{{:}}}&quot;)\r\n```\r\n","title":"How do I make a Map&lt;String, List&lt;String&gt;&gt; with SpEL?","body":"<p>I'm making a config in my Spring application and I want to define a map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${ordering:#{{:}}&quot;)\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\n</code></pre>\n<p>Here's what's in my config:</p>\n<pre><code>ordering = {'SOMEVALUE' : {'ONE', 'THREE', 'TWO'}, 'OTHERVALUE' : {'THREE', 'ONE', 'TWO'}}\n</code></pre>\n<p>But this always gets read as null (so I assume invalid SpEL).<br />\nThe name of the variable and config value aren't misspelled and other values are loaded from the same config, so those parts are set up properly.<br />\nHow should such a map be defined, what am I screwing up? Is there an online tool for parsing SpEL?</p>\n<p>I tried several things: adding and removing the single ticks, same for double ticks and wrapping the lists in an extra {}, but none of these helped and the value is still set to null.<br />\nI also tried modifying the annotation, to no avail:</p>\n<pre><code>@Value(&quot;#{${ordering:#{{:}}}&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1669818541,"post_id":74629382,"comment_id":131729685,"body_markdown":"Mocking cannot mock local variable from inside a method. You need to extract the RestTemplate to a Bean that is autowired.","body":"Mocking cannot mock local variable from inside a method. You need to extract the RestTemplate to a Bean that is autowired."},{"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"score":0,"creation_date":1669818601,"post_id":74629382,"comment_id":131729716,"body_markdown":"Thanks for the suggestion @grekier . As I am new to junit , please suggest how to implement this","body":"Thanks for the suggestion @grekier . As I am new to junit , please suggest how to implement this"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669819248,"creation_date":1669819248,"answer_id":74629592,"question_id":74629382,"body_markdown":"The class you are testing should be a Spring Component (or sub-interface i.e. Service). Then you need to have the Mock as a class variable that you can mock somewhere. This means that you need to define the `RestTemplate` in a config somewhere.\r\n\r\nThe config:\r\n```\r\n@SpringBootApplication\r\npublic class YourAppName {\r\n  @Bean\r\n  public RestTemplate restTemplate() {\r\n    return new RestTemplate\r\n  }\r\n...\r\n}\r\n\r\n```\r\nThe Class in test:\r\n```\r\n@Service\r\npublic class UserHelper {\r\n  private RestTemplate restTemplate;\r\n\r\n  public UserHelper(RestTemplate restTemplate) {\r\n    this.restTemplate = restTemplate\r\n  }\r\n...\r\n// your methods but remove RetTemplate from them\r\n}\r\n```\r\n\r\nTest:\r\n```\r\n@SpringBootTest\r\npublic class UserHelperTest{\r\n  @Mock\r\n  RestTemplate restTemplate;\r\n\r\n  @Autowired // or create it in a @BeforeEach method\r\n  UserHelper instanceToTest;\r\n\r\n  // your test with mocking should now work here  \r\n}\r\n```","title":"RestTemplate exchange mock is not working","body":"<p>The class you are testing should be a Spring Component (or sub-interface i.e. Service). Then you need to have the Mock as a class variable that you can mock somewhere. This means that you need to define the <code>RestTemplate</code> in a config somewhere.</p>\n<p>The config:</p>\n<pre><code>@SpringBootApplication\npublic class YourAppName {\n  @Bean\n  public RestTemplate restTemplate() {\n    return new RestTemplate\n  }\n...\n}\n\n</code></pre>\n<p>The Class in test:</p>\n<pre><code>@Service\npublic class UserHelper {\n  private RestTemplate restTemplate;\n\n  public UserHelper(RestTemplate restTemplate) {\n    this.restTemplate = restTemplate\n  }\n...\n// your methods but remove RetTemplate from them\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>@SpringBootTest\npublic class UserHelperTest{\n  @Mock\n  RestTemplate restTemplate;\n\n  @Autowired // or create it in a @BeforeEach method\n  UserHelper instanceToTest;\n\n  // your test with mocking should now work here  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15433020,"reputation":24,"user_id":11726419,"display_name":"ga_ts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669820670,"creation_date":1669820592,"answer_id":74629914,"question_id":74629382,"body_markdown":"In order to mock an object via Mockito, you need to be sure to autowire it and inject the dummy instance into your service method, if you use one. Here&#39;s an example:\r\n\r\n    public class userHelper {\r\n    \r\n        @Autowired\r\n        RestTemplate restTemplate;\r\n\r\n        ...\r\n    \r\n        RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        ...\r\n\r\n\r\nAnd your test class would look like this:\r\n\r\n    @ExtendWIth(MockitoExtension.class)\r\n    public class userHelperTest(){\r\n    \r\n        @Mock\r\n        RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        UserHelper userHelper = new UserHelper();\r\n\r\n        @Test \r\n        getUserResponseTest(){\r\n    \r\n        ...\r\n\r\nThis link provides a good explanation:\r\n[baeldung.com/spring-mock-rest-template][1]\r\n\r\n\r\n  [1]: https://baeldung.com/spring-mock-rest-template","title":"RestTemplate exchange mock is not working","body":"<p>In order to mock an object via Mockito, you need to be sure to autowire it and inject the dummy instance into your service method, if you use one. Here's an example:</p>\n<pre><code>public class userHelper {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    ...\n\n    RestTemplate restTemplate = new RestTemplate();\n\n    ...\n</code></pre>\n<p>And your test class would look like this:</p>\n<pre><code>@ExtendWIth(MockitoExtension.class)\npublic class userHelperTest(){\n\n    @Mock\n    RestTemplate restTemplate;\n\n    @InjectMocks\n    UserHelper userHelper = new UserHelper();\n\n    @Test \n    getUserResponseTest(){\n\n    ...\n</code></pre>\n<p>This link provides a good explanation:\n<a href=\"https://baeldung.com/spring-mock-rest-template\" rel=\"nofollow noreferrer\">baeldung.com/spring-mock-rest-template</a></p>\n"}],"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669820670,"creation_date":1669818441,"question_id":74629382,"body_markdown":"I want to mock a resttemplate.exchange() method but it is not getting mocked . It is throwing  `NoClassDefFoundError`\r\n\r\nHere&#39;s the class I want to mock:\r\n\r\n    public class userHelper {\r\n    \r\n    /*\r\n    \r\n    */\r\n    \r\n    public getUserResponse(userPayload){\r\n    String url = &quot;abc/def&quot;;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setAccept(...);\r\n    ...\r\n    ...\r\n    HttpEntity&lt;userPayload&gt; httpEntity = new HttpEntity&lt;~&gt;(userpayload,headers);\r\n    \r\n    RestTtemplate restTemplate = new RestTemplate();\r\n    restTemplate.getInterceptors().add(testInterceptor.Builder.of().setHttpRequestContext(false).setPrintResponseBody(false).build());\r\n    ResponseEntity&lt;userPayload&gt; response = restTemplate.exchange(url,HttpMethod.POST,httpEntity,UserPayload.class);\r\n    ...\r\n    ...\r\n    ...\r\n    }\r\n    }\r\n\r\nIn my test class i have mocked the resttemplate but it is not working\r\nTest class:\r\n\r\n    @ExtendWIth(MockitoExtension.class)\r\n    public class userHelperTest(){\r\n    \r\n    @Mock\r\n    RestTemplate restTemplate;\r\n    \r\n    @Test \r\n    getUserResponseTest(){\r\n    \r\n    ...\r\n    ...\r\n    when(restTemplate.exchange(ArgumentMatchers.anyString(), ArgumentMatchers.eq(HttpMethod.POST, ArgumentMatchers,any(HttpEntity.class), ArgumentMatchers.eq(UserPayload.class))).thenReturn(response);\r\n    \r\n    }}\r\n\r\nPlease suggest how to resolve this. Thanks in advance!","title":"RestTemplate exchange mock is not working","body":"<p>I want to mock a resttemplate.exchange() method but it is not getting mocked . It is throwing  <code>NoClassDefFoundError</code></p>\n<p>Here's the class I want to mock:</p>\n<pre><code>public class userHelper {\n\n/*\n\n*/\n\npublic getUserResponse(userPayload){\nString url = &quot;abc/def&quot;;\nHttpHeaders headers = new HttpHeaders();\nheaders.setAccept(...);\n...\n...\nHttpEntity&lt;userPayload&gt; httpEntity = new HttpEntity&lt;~&gt;(userpayload,headers);\n\nRestTtemplate restTemplate = new RestTemplate();\nrestTemplate.getInterceptors().add(testInterceptor.Builder.of().setHttpRequestContext(false).setPrintResponseBody(false).build());\nResponseEntity&lt;userPayload&gt; response = restTemplate.exchange(url,HttpMethod.POST,httpEntity,UserPayload.class);\n...\n...\n...\n}\n}\n</code></pre>\n<p>In my test class i have mocked the resttemplate but it is not working\nTest class:</p>\n<pre><code>@ExtendWIth(MockitoExtension.class)\npublic class userHelperTest(){\n\n@Mock\nRestTemplate restTemplate;\n\n@Test \ngetUserResponseTest(){\n\n...\n...\nwhen(restTemplate.exchange(ArgumentMatchers.anyString(), ArgumentMatchers.eq(HttpMethod.POST, ArgumentMatchers,any(HttpEntity.class), ArgumentMatchers.eq(UserPayload.class))).thenReturn(response);\n\n}}\n</code></pre>\n<p>Please suggest how to resolve this. Thanks in advance!</p>\n"},{"tags":["java","selenium-webdriver","junit"],"answers":[{"tags":[],"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669820451,"creation_date":1573156620,"answer_id":58756083,"question_id":58755369,"body_markdown":"You can possibly use `TestWatcher` this one have hooks for failed and success results. And you can add your hooks logic\r\n\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.TestWatcher;\r\n    import org.junit.runner.Description;\r\n\r\n    public class Test1 {\r\n\r\n        @Rule\r\n        public TestWatcher watch = new TestWatcher() {\r\n            @Override\r\n            protected void failed(Throwable e, Description description) {\r\n                System.out.println(&quot;failed&quot;);\r\n            }\r\n        };\r\n\r\n        @Test\r\n        public void test() {\r\n            Assert.assertEquals(2, 4);\r\n        }\r\n\r\n    }\r\n","title":"Run a method if test fails on Junit","body":"<p>You can possibly use <code>TestWatcher</code> this one have hooks for failed and success results. And you can add your hooks logic</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.TestWatcher;\nimport org.junit.runner.Description;\n\npublic class Test1 {\n\n    @Rule\n    public TestWatcher watch = new TestWatcher() {\n        @Override\n        protected void failed(Throwable e, Description description) {\n            System.out.println(&quot;failed&quot;);\n        }\n    };\n\n    @Test\n    public void test() {\n        Assert.assertEquals(2, 4);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1148675,"reputation":2643,"user_id":1130864,"accept_rate":60,"display_name":"Keva161"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58756083,"answer_count":1,"score":0,"last_activity_date":1669820451,"creation_date":1573153261,"question_id":58755369,"body_markdown":"I have added a method to my Selenium framework that takes a screenshot at the end of a test, but as some tests don&#39;t run all the way to the end due to failing. i&#39;d like to implement a rule to run this screenshot method if the test fails.\r\n\r\nSomething like:\r\n\r\n    @Rule\r\n    public Failure fail = new Failure();\r\n    \r\n    if (fail)\r\n    {\r\n        // Method\r\n    }\r\n\r\n","title":"Run a method if test fails on Junit","body":"<p>I have added a method to my Selenium framework that takes a screenshot at the end of a test, but as some tests don't run all the way to the end due to failing. i'd like to implement a rule to run this screenshot method if the test fails.</p>\n\n<p>Something like:</p>\n\n<pre><code>@Rule\npublic Failure fail = new Failure();\n\nif (fail)\n{\n    // Method\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","websphere","ejb"],"comments":[{"owner":{"account_id":9651072,"reputation":1933,"user_id":7162232,"display_name":"Jarid"},"score":0,"creation_date":1669814398,"post_id":74627543,"comment_id":131728050,"body_markdown":"What&#39;s in the stack of the ClassNotFoundException (most likely the deepest &quot;caused by&quot; in the NoClassDefFoundError stack)? That&#39;ll tell you what class loaders are being used - app/WAR loaders are of type CompoundClassLoader in WAS 8.5. My best guess is that something is preventing the jar from being added to the EAR class path, but it&#39;d be hard to tell that without trace logs.","body":"What&#39;s in the stack of the ClassNotFoundException (most likely the deepest &quot;caused by&quot; in the NoClassDefFoundError stack)? That&#39;ll tell you what class loaders are being used - app/WAR loaders are of type CompoundClassLoader in WAS 8.5. My best guess is that something is preventing the jar from being added to the EAR class path, but it&#39;d be hard to tell that without trace logs."},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1669815643,"post_id":74627543,"comment_id":131728511,"body_markdown":"Since you said Maven was able to package the EAR correctly but you hit a problem doing a &quot;publish&quot;, this suggests an issue in the Eclipse tooling, with some part of the WTP Java EE function.     I don&#39;t know the answer, but I&#39;ll include some links/references from RAD doc in case it helps somehow.   Note that since this WTP function is broader than just WebSphere you might find useful clues in non-RAD/WebSphere doc too.   I also know sometimes right-click &quot;Maven-&gt;Update Project&quot; helps in general using Maven &amp; WTP in Eclipse.  Possibly worth a try.","body":"Since you said Maven was able to package the EAR correctly but you hit a problem doing a &quot;publish&quot;, this suggests an issue in the Eclipse tooling, with some part of the WTP Java EE function.     I don&#39;t know the answer, but I&#39;ll include some links/references from RAD doc in case it helps somehow.   Note that since this WTP function is broader than just WebSphere you might find useful clues in non-RAD/WebSphere doc too.   I also know sometimes right-click &quot;Maven-&gt;Update Project&quot; helps in general using Maven &amp; WTP in Eclipse.  Possibly worth a try."},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1669815708,"post_id":74627543,"comment_id":131728538,"body_markdown":"Some WebSphere/RAD links:  1. overview - https://www.ibm.com/docs/en/radfws/9.7?topic=developing-maven-  2. https://www.ibm.com/docs/en/radfws/9.7?topic=dependencies-adding-other-modules   3. https://www.ibm.com/docs/en/radfws/9.7?topic=projects-working-dependencies    4. https://www.ibm.com/docs/en/radfws/9.7?topic=preferences-setting","body":"Some WebSphere/RAD links:  1. overview - <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=developing-maven-\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/9.7?topic=developing-maven-</a>  2. <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=dependencies-adding-other-modules\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/&hellip;</a>   3. <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=projects-working-dependencies\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/9.7?topic=projects-working-dependenci&zwnj;&#8203;es</a>    4. <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=preferences-setting\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/9.7?topic=preferences-setting</a>"},{"owner":{"account_id":8458838,"reputation":71,"user_id":6345242,"accept_rate":25,"display_name":"Mohammed Mostafa"},"score":0,"creation_date":1669820402,"post_id":74627543,"comment_id":131730498,"body_markdown":"@Jarid\n Thanks for your reply first\nI updated the post with all exception trace","body":"@Jarid  Thanks for your reply first I updated the post with all exception trace"},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1669925738,"post_id":74627543,"comment_id":131760004,"body_markdown":"Can you try comparing the two packages?   Comparing 1) the target EAR produced by the Maven build (in the target/xxx.ear location)  with 2) the EAR exported via:  File-&gt;Export-&gt; Java EE -&gt; EAR file.     I think that 2) would be representative of the contents of the &quot;Publish&quot; operation..maybe it will suggest a clue.","body":"Can you try comparing the two packages?   Comparing 1) the target EAR produced by the Maven build (in the target/xxx.ear location)  with 2) the EAR exported via:  File-&gt;Export-&gt; Java EE -&gt; EAR file.     I think that 2) would be representative of the contents of the &quot;Publish&quot; operation..maybe it will suggest a clue."}],"owner":{"account_id":8458838,"reputation":71,"user_id":6345242,"accept_rate":25,"display_name":"Mohammed Mostafa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669820312,"creation_date":1669810028,"question_id":74627543,"body_markdown":"I develop Java enterprise application using maven on eclipse IDE\r\nApplication consist from ear,1 war,1 ejb and 1 jar file\r\nwhen I build the ear outside eclipse with mvn install and deploy it on WebSphere its worked fine and this is ear structure:\r\n\r\n    Ear\r\n      ejb.jar\r\n      web.war\r\n      /lib/datamodel.jar \r\n      META-INF/application.xml\r\n\r\nthe problem when I run the application and publish it from eclipse give me this exception\r\n\r\n    Caused by: com.ibm.ws.exception.RuntimeWarning: Error while processing references for EJB-in-WAR: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\r\n\tat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3434)\r\n\tat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:750)\r\n\tat com.ibm.ws.runtime.component.MetaDataMgrImpl.createNestedModuleMetaData(MetaDataMgrImpl.java:564)\r\n\tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:635)\r\n\tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:1034)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\r\n\tat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5482)\r\n\tat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5698)\r\n\tat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\r\n\tat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:673)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\r\n\r\n     Caused by: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\r\n\tat java.lang.Class.getDeclaredMethodsImpl(Native Method)\r\n\tat java.lang.Class.getDeclaredMethods(Class.java:977)\r\n\tat java.lang.Class.getMethodSet(Class.java:1444)\r\n\tat java.lang.Class.getMethods(Class.java:1368)\r\n\tat com.ibm.ejs.container.util.DeploymentUtil.getMethods(DeploymentUtil.java:276)\r\n\tat com.ibm.ws.metadata.ejb.EJBMDOrchestrator.finishBMDInitForReferenceContext(EJBMDOrchestrator.java:8091)\r\n\tat com.ibm.ws.ejbcontainer.runtime.AbstractEJBRuntime.finishBMDInitForReferenceContext(AbstractEJBRuntime.java:1678)\r\n\tat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3427)\r\n\t\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.fawry.maven.model.EmployeeDto\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:610)\r\n\tat com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:243)\r\n\tat java.lang.ClassLoader.loadClassHelper(ClassLoader.java:925)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:870)\r\n\tat com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:134)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\r\n\tat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62)\r\n\tat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58)\r\n\tat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:586)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\r\n\t... 80 more\r\n\r\nHint: EmployeeDto class exist in jar module\r\n\r\nThe dependency between modules like this:\r\n\r\n    web depend on ejb(web have ejb dependency in web pom)  and ejb depend on jar(ejb have jar dependency in ejb pom)\r\n\r\nthis is pom for ear module:\r\n\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ear&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;ear&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ejb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;MavenDemo${build.number}&lt;/finalName&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;displayName&gt;demo${build.number}&lt;/displayName&gt;\r\n\t\t\t\t\t\t&lt;version&gt;6&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;generateApplicationXml&gt;true&lt;/generateApplicationXml&gt;\r\n\t\t\t\t\t\t&lt;generateModuleId&gt;true&lt;/generateModuleId&gt;\r\n\t\t\t\t\t\t&lt;skinnyWars&gt;true&lt;/skinnyWars&gt;\r\n\t\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t\t\t&lt;defaultLibBundleDir&gt;lib/&lt;/defaultLibBundleDir&gt;\r\n\t\t\t\t\t\t&lt;modules&gt;\r\n\t\t\t\t\t\t\t&lt;webModule&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;contextRoot&gt;/web&lt;/contextRoot&gt;\r\n\t\t\t\t\t\t\t&lt;/webModule&gt;\r\n\t\t\t\t\t\t\t&lt;ejbModule&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;ejb&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;bundleFileName&gt;ejb.jar&lt;/bundleFileName&gt;\r\n\t\t\t\t\t\t\t&lt;/ejbModule&gt;\r\n\t\t\t\t\t\t&lt;/modules&gt;\r\n\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nI am using:\r\n\r\n    eclipse 2022 \r\n    maven 3.8.4\r\n    java 8\r\n    websphere 8.5.5\r\n\r\nany more information I can provide it , thanks for your help\r\n\r\n\r\n\r\n","title":"Error while processing references for EJB-in-WAR: java.lang.NoClassDefFoundError","body":"<p>I develop Java enterprise application using maven on eclipse IDE\nApplication consist from ear,1 war,1 ejb and 1 jar file\nwhen I build the ear outside eclipse with mvn install and deploy it on WebSphere its worked fine and this is ear structure:</p>\n<pre><code>Ear\n  ejb.jar\n  web.war\n  /lib/datamodel.jar \n  META-INF/application.xml\n</code></pre>\n<p>the problem when I run the application and publish it from eclipse give me this exception</p>\n<pre><code>Caused by: com.ibm.ws.exception.RuntimeWarning: Error while processing references for EJB-in-WAR: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\nat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3434)\nat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:750)\nat com.ibm.ws.runtime.component.MetaDataMgrImpl.createNestedModuleMetaData(MetaDataMgrImpl.java:564)\nat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:635)\nat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:1034)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\nat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\nat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5482)\nat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5698)\nat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\nat java.lang.reflect.Method.invoke(Method.java:508)\nat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\nat java.lang.reflect.Method.invoke(Method.java:508)\nat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\nat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\nat java.security.AccessController.doPrivileged(AccessController.java:673)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\n\n Caused by: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\nat java.lang.Class.getDeclaredMethodsImpl(Native Method)\nat java.lang.Class.getDeclaredMethods(Class.java:977)\nat java.lang.Class.getMethodSet(Class.java:1444)\nat java.lang.Class.getMethods(Class.java:1368)\nat com.ibm.ejs.container.util.DeploymentUtil.getMethods(DeploymentUtil.java:276)\nat com.ibm.ws.metadata.ejb.EJBMDOrchestrator.finishBMDInitForReferenceContext(EJBMDOrchestrator.java:8091)\nat com.ibm.ws.ejbcontainer.runtime.AbstractEJBRuntime.finishBMDInitForReferenceContext(AbstractEJBRuntime.java:1678)\nat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3427)\n\n\nCaused by: java.lang.ClassNotFoundException: com.fawry.maven.model.EmployeeDto\nat java.net.URLClassLoader.findClass(URLClassLoader.java:610)\nat com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:243)\nat java.lang.ClassLoader.loadClassHelper(ClassLoader.java:925)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:870)\nat com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:134)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62)\nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58)\nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:586)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\n... 80 more\n</code></pre>\n<p>Hint: EmployeeDto class exist in jar module</p>\n<p>The dependency between modules like this:</p>\n<pre><code>web depend on ejb(web have ejb dependency in web pom)  and ejb depend on jar(ejb have jar dependency in ejb pom)\n</code></pre>\n<p>this is pom for ear module:</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;ear&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;ear&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;ejb&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;ejb&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;web&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;war&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;MavenDemo${build.number}&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;displayName&gt;demo${build.number}&lt;/displayName&gt;\n                    &lt;version&gt;6&lt;/version&gt;\n                    &lt;generateApplicationXml&gt;true&lt;/generateApplicationXml&gt;\n                    &lt;generateModuleId&gt;true&lt;/generateModuleId&gt;\n                    &lt;skinnyWars&gt;true&lt;/skinnyWars&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;defaultLibBundleDir&gt;lib/&lt;/defaultLibBundleDir&gt;\n                    &lt;modules&gt;\n                        &lt;webModule&gt;\n                            &lt;groupId&gt;com.example&lt;/groupId&gt;\n                            &lt;artifactId&gt;web&lt;/artifactId&gt;\n                            &lt;contextRoot&gt;/web&lt;/contextRoot&gt;\n                        &lt;/webModule&gt;\n                        &lt;ejbModule&gt;\n                            &lt;groupId&gt;com.example&lt;/groupId&gt;\n                            &lt;artifactId&gt;ejb&lt;/artifactId&gt;\n                            &lt;bundleFileName&gt;ejb.jar&lt;/bundleFileName&gt;\n                        &lt;/ejbModule&gt;\n                    &lt;/modules&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I am using:</p>\n<pre><code>eclipse 2022 \nmaven 3.8.4\njava 8\nwebsphere 8.5.5\n</code></pre>\n<p>any more information I can provide it , thanks for your help</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1669812209,"post_id":74626647,"comment_id":131727286,"body_markdown":"Do not link images.  Cut and paste the error message into the question.","body":"Do not link images.  Cut and paste the error message into the question."},{"owner":{"account_id":25847958,"reputation":21,"user_id":19582453,"display_name":"Shruti Mishra"},"score":0,"creation_date":1669820410,"post_id":74626647,"comment_id":131730504,"body_markdown":"Can you please check now and suggest if any solution for the above mentioned problem please","body":"Can you please check now and suggest if any solution for the above mentioned problem please"}],"owner":{"account_id":25847958,"reputation":21,"user_id":19582453,"display_name":"Shruti Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669820309,"creation_date":1669805884,"question_id":74626647,"body_markdown":"This is the error below\r\n    \r\ncancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerOnboardingEndpoint&#39; defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/endpoint/CustomerOnboardingEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;controller&#39; defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/controller/Controller.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;serviceFacadeImpl&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [fi.op.bcsio.service.impl.ServiceFacadeImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5e853265]&quot;}}\r\n\r\n    Here is my controller class\r\n    package fi.op.bcsio.controller;\r\n    \r\n    import static fi.op.jopo.logging.LogMarker.SENSITIVE_DATA;\r\n    import static fi.op.jopo.logging.LogMarker.TECH;\r\n    import static org.slf4j.LoggerFactory.getLogger;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import fi.op.bcsio.bancs.business.CreateCustomerBancsRequestBody;\r\n    import fi.op.bcsio.bancs.business.CreateCustomerShipBancsRequestBody;\r\n    import fi.op.bcsio.bancs.response.bean.SuccessResponse;\r\n    import fi.op.bcsio.configurableproperties.ExternalProperty;\r\n    import fi.op.bcsio.domain.bean.bancs.customership.request.CreateCustomerShipRequest;\r\n    import fi.op.bcsio.domain.bean.bancs.request.CustomerCustomerShipRequest;\r\n    import fi.op.bcsio.domain.bean.bancs.response.CustomerNCustomershipCheck;\r\n    import fi.op.bcsio.domain.bean.luukku.response.LuukkuBasicInfoResponse;\r\n    import fi.op.bcsio.domain.bean.luukku.response.LuukkuCustomerShipResponse;\r\n    import fi.op.bcsio.errorhandler.DateUtility;\r\n    import fi.op.bcsio.exception.BadRequestError;\r\n    import fi.op.bcsio.exception.InternalServerError;\r\n    import fi.op.bcsio.exception.UnauthorizedError;\r\n    import fi.op.bcsio.jwt.TokenValidation;\r\n    import fi.op.bcsio.luukku.business.LuukkuLogic;\r\n    import fi.op.bcsio.service.ServiceFacade;\r\n    import fi.op.bcsio.validation.bean.RequestBodyValidation;\r\n    import fi.op.jopo.security.ecb.EcbUtils;\r\n    \r\n    @Component\r\n    public class Controller {\r\n    \r\n    \tprivate final Logger logger = getLogger(getClass());\r\n    \r\n    \t@Autowired\r\n    \tServiceFacade serviceFacade;\r\n    \r\n    \t@Autowired\r\n    \tTokenValidation tokenValidation;\r\n    \r\n    \t@Autowired\r\n    \tLuukkuLogic luukkuLogic;\r\n    \r\n    \t@Autowired\r\n    \tCreateCustomerBancsRequestBody createCustomerBancsRequestBody;\r\n    \r\n    \t@Autowired\r\n    \tExternalProperty externalProperty;\r\n    \r\n    \t@Autowired\r\n    \tEcbUtils ecbUtils;\r\n    \r\n    \t@Autowired\r\n    \tCreateCustomerShipBancsRequestBody createCustomerShipBancsRequestBody;\r\n    \t\r\n    \t\r\n    \tString internalServerExceptionMessage = &quot;Unable to process the request!&quot;;\r\n    \t\r\n    \r\n    \tpublic void validatingToken(String authorizationToken, String requestId,\r\n    \t\t\tRequestBodyValidation requestBodyValidation) {\r\n    \t\ttokenValidation.validateToken(authorizationToken, requestId, requestBodyValidation);\r\n    \t}\r\n    \r\n    \tpublic ResponseEntity&lt;?&gt; checkAndOnboardCustomer(RequestBodyValidation requestBodyValidation, String requestId,\r\n    \t\t\tString authorizationToken) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tCustomerNCustomershipCheck enquiryServiceResponse = serviceFacade.customerandCustomershipCheck(\r\n    \t\t\t\t\trequestBodyValidation.getBankNumber(), requestBodyValidation.getCustomerId(), &quot;18&quot;, requestId);\r\n    \t\t\tlogger.info(SENSITIVE_DATA,&quot;Response from BaNCS Customer and CustomerShip enquiry Service {}&quot;, enquiryServiceResponse);\r\n    \r\n    \t\t\tif ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(1))\r\n    \t\t\t\t\t&amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\r\n    \r\n    \t\t\t\tSuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER EXISTS&quot;, DateUtility.getDate(),\r\n    \t\t\t\t\t\trequestId);\r\n                 logger.info(TECH,&quot;CUSTOMER EXISTS&quot;);\r\n    \t\t\t\treturn new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.OK);\r\n    \r\n    \t\t\t} else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\r\n    \t\t\t\t\t&amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(0))) {\r\n    \r\n    \t\t\t\tString encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\r\n    \r\n    \t\t\t\tLuukkuBasicInfoResponse luukkuBasicInfoResponse = serviceFacade.luukkuBasicInfoResponse(requestId,\r\n    \t\t\t\t\t\tauthorizationToken);\r\n    \r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Response received from Luukku basic info is {}&quot;, luukkuBasicInfoResponse);\r\n    \t\t\t\tLuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\r\n    \t\t\t\t\t\tauthorizationToken, encryptedssn);\r\n    \r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Response receives from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\r\n    \r\n    \t\t\t\tCustomerCustomerShipRequest customerCustomerShipRequest = createCustomerBancsRequestBody\r\n    \t\t\t\t\t\t.bancsCreateCustomerRequest(requestId, externalProperty, requestBodyValidation,\r\n    \t\t\t\t\t\t\t\tluukkuBasicInfoResponse, luukkuCustomerShipResponse);\r\n    \r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Create Customer request body sent to Bancs is {}&quot;, customerCustomerShipRequest);\r\n    \t\t\t\tserviceFacade.createCustomerCustomership(requestId, customerCustomerShipRequest);\r\n    \r\n    \t\t\t\tSuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER ONBOARDED&quot;, DateUtility.getDate(),\r\n    \t\t\t\t\t\trequestId);\r\n    \t\t\t\t logger.info(TECH,&quot;CUSTOMER ONBOARDED&quot;);     \r\n    \t\t\t\treturn new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\r\n    \r\n    \t\t\t} else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\r\n    \t\t\t\t\t&amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\r\n    \t\t\t\tString encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\r\n    \t\t\t\tLuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\r\n    \t\t\t\t\t\tauthorizationToken, encryptedssn);\r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Response received from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\r\n    \r\n    \t\t\t\tCreateCustomerShipRequest createCustomerShipRequestBody = createCustomerShipBancsRequestBody\r\n    \t\t\t\t\t\t.createCustomerShipBancsRequestBody(externalProperty, requestBodyValidation,\r\n    \t\t\t\t\t\t\t\tluukkuCustomerShipResponse);\r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Customership request body {}&quot;, createCustomerShipRequestBody);\r\n    \t\t\t\tserviceFacade.createCustomerShip(requestId, createCustomerShipRequestBody);\r\n    \t\t\t\t\r\n    \t\t\t\tSuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMERSHIP ONBOARDED&quot;, DateUtility.getDate(),\r\n    \t\t\t\t\t\trequestId);\r\n    \t\t\t\tlogger.info(TECH,&quot;CUSTOMERSHIP ONBOARDED&quot;);\r\n    \t\t\t\treturn new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\r\n    \t\t\t} else {\r\n    \t\t\t\tlogger.info(TECH,&quot;Customer and CustomerShip exist is neither of case 0 0 , 1 0, 1 1&quot;);\r\n    \t\t\t\tthrow new InternalServerError(internalServerExceptionMessage, requestId);\r\n    \r\n    \t\t\t}\r\n    \t\t} catch (InternalServerError e) {\r\n    \t\t\tlogger.info(TECH,&quot;Internal Server Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new InternalServerError(e.getMessage(), e.getRequestId());\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\tlogger.info(TECH,&quot;Null Pointer Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new InternalServerError(internalServerExceptionMessage, requestId);\r\n    \t\t} catch (BadRequestError e) {\r\n    \t\t\tlogger.info(TECH,&quot;Bad Request Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new BadRequestError(e.getMessage(), e.getrequestId());\r\n    \t\t} catch (UnauthorizedError e) {\r\n    \t\t\tlogger.info(TECH,&quot;Unauthorized Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new UnauthorizedError(e.getMessage(), e.getRequestId());\r\n    \t\t}catch (Exception e) {\r\n    \t\t\tlogger.info(TECH,&quot;Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new InternalServerError(internalServerExceptionMessage, requestId);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\n    I am getting this highlighted error in an spring boot application. Have also tried after including the spring-data-elasticserach in the pom.xml file.\r\n    \r\n    Can someone please suggest me the reason of why this error is occuring?\r\n    \r\n    While deploying in the rancher cluster this error is occuring, in my local system the application is running fine.","title":"Lookup method resolution failed, nested exception is java.lang.IllegalStateException. Failed to interospect class from classLoader","body":"<p>This is the error below</p>\n<p>cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerOnboardingEndpoint' defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/endpoint/CustomerOnboardingEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'controller' defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/controller/Controller.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serviceFacadeImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [fi.op.bcsio.service.impl.ServiceFacadeImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5e853265]&quot;}}</p>\n<pre><code>Here is my controller class\npackage fi.op.bcsio.controller;\n\nimport static fi.op.jopo.logging.LogMarker.SENSITIVE_DATA;\nimport static fi.op.jopo.logging.LogMarker.TECH;\nimport static org.slf4j.LoggerFactory.getLogger;\n\nimport org.slf4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Component;\n\nimport fi.op.bcsio.bancs.business.CreateCustomerBancsRequestBody;\nimport fi.op.bcsio.bancs.business.CreateCustomerShipBancsRequestBody;\nimport fi.op.bcsio.bancs.response.bean.SuccessResponse;\nimport fi.op.bcsio.configurableproperties.ExternalProperty;\nimport fi.op.bcsio.domain.bean.bancs.customership.request.CreateCustomerShipRequest;\nimport fi.op.bcsio.domain.bean.bancs.request.CustomerCustomerShipRequest;\nimport fi.op.bcsio.domain.bean.bancs.response.CustomerNCustomershipCheck;\nimport fi.op.bcsio.domain.bean.luukku.response.LuukkuBasicInfoResponse;\nimport fi.op.bcsio.domain.bean.luukku.response.LuukkuCustomerShipResponse;\nimport fi.op.bcsio.errorhandler.DateUtility;\nimport fi.op.bcsio.exception.BadRequestError;\nimport fi.op.bcsio.exception.InternalServerError;\nimport fi.op.bcsio.exception.UnauthorizedError;\nimport fi.op.bcsio.jwt.TokenValidation;\nimport fi.op.bcsio.luukku.business.LuukkuLogic;\nimport fi.op.bcsio.service.ServiceFacade;\nimport fi.op.bcsio.validation.bean.RequestBodyValidation;\nimport fi.op.jopo.security.ecb.EcbUtils;\n\n@Component\npublic class Controller {\n\n    private final Logger logger = getLogger(getClass());\n\n    @Autowired\n    ServiceFacade serviceFacade;\n\n    @Autowired\n    TokenValidation tokenValidation;\n\n    @Autowired\n    LuukkuLogic luukkuLogic;\n\n    @Autowired\n    CreateCustomerBancsRequestBody createCustomerBancsRequestBody;\n\n    @Autowired\n    ExternalProperty externalProperty;\n\n    @Autowired\n    EcbUtils ecbUtils;\n\n    @Autowired\n    CreateCustomerShipBancsRequestBody createCustomerShipBancsRequestBody;\n    \n    \n    String internalServerExceptionMessage = &quot;Unable to process the request!&quot;;\n    \n\n    public void validatingToken(String authorizationToken, String requestId,\n            RequestBodyValidation requestBodyValidation) {\n        tokenValidation.validateToken(authorizationToken, requestId, requestBodyValidation);\n    }\n\n    public ResponseEntity&lt;?&gt; checkAndOnboardCustomer(RequestBodyValidation requestBodyValidation, String requestId,\n            String authorizationToken) {\n\n        try {\n            CustomerNCustomershipCheck enquiryServiceResponse = serviceFacade.customerandCustomershipCheck(\n                    requestBodyValidation.getBankNumber(), requestBodyValidation.getCustomerId(), &quot;18&quot;, requestId);\n            logger.info(SENSITIVE_DATA,&quot;Response from BaNCS Customer and CustomerShip enquiry Service {}&quot;, enquiryServiceResponse);\n\n            if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(1))\n                    &amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\n\n                SuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER EXISTS&quot;, DateUtility.getDate(),\n                        requestId);\n             logger.info(TECH,&quot;CUSTOMER EXISTS&quot;);\n                return new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.OK);\n\n            } else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\n                    &amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(0))) {\n\n                String encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\n\n                LuukkuBasicInfoResponse luukkuBasicInfoResponse = serviceFacade.luukkuBasicInfoResponse(requestId,\n                        authorizationToken);\n\n                logger.info(SENSITIVE_DATA,&quot;Response received from Luukku basic info is {}&quot;, luukkuBasicInfoResponse);\n                LuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\n                        authorizationToken, encryptedssn);\n\n                logger.info(SENSITIVE_DATA,&quot;Response receives from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\n\n                CustomerCustomerShipRequest customerCustomerShipRequest = createCustomerBancsRequestBody\n                        .bancsCreateCustomerRequest(requestId, externalProperty, requestBodyValidation,\n                                luukkuBasicInfoResponse, luukkuCustomerShipResponse);\n\n                logger.info(SENSITIVE_DATA,&quot;Create Customer request body sent to Bancs is {}&quot;, customerCustomerShipRequest);\n                serviceFacade.createCustomerCustomership(requestId, customerCustomerShipRequest);\n\n                SuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER ONBOARDED&quot;, DateUtility.getDate(),\n                        requestId);\n                 logger.info(TECH,&quot;CUSTOMER ONBOARDED&quot;);     \n                return new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\n\n            } else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\n                    &amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\n                String encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\n                LuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\n                        authorizationToken, encryptedssn);\n                logger.info(SENSITIVE_DATA,&quot;Response received from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\n\n                CreateCustomerShipRequest createCustomerShipRequestBody = createCustomerShipBancsRequestBody\n                        .createCustomerShipBancsRequestBody(externalProperty, requestBodyValidation,\n                                luukkuCustomerShipResponse);\n                logger.info(SENSITIVE_DATA,&quot;Customership request body {}&quot;, createCustomerShipRequestBody);\n                serviceFacade.createCustomerShip(requestId, createCustomerShipRequestBody);\n                \n                SuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMERSHIP ONBOARDED&quot;, DateUtility.getDate(),\n                        requestId);\n                logger.info(TECH,&quot;CUSTOMERSHIP ONBOARDED&quot;);\n                return new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\n            } else {\n                logger.info(TECH,&quot;Customer and CustomerShip exist is neither of case 0 0 , 1 0, 1 1&quot;);\n                throw new InternalServerError(internalServerExceptionMessage, requestId);\n\n            }\n        } catch (InternalServerError e) {\n            logger.info(TECH,&quot;Internal Server Exception {}&quot;,e.getMessage());\n            throw new InternalServerError(e.getMessage(), e.getRequestId());\n        } catch (NullPointerException e) {\n            logger.info(TECH,&quot;Null Pointer Exception {}&quot;,e.getMessage());\n            throw new InternalServerError(internalServerExceptionMessage, requestId);\n        } catch (BadRequestError e) {\n            logger.info(TECH,&quot;Bad Request Exception {}&quot;,e.getMessage());\n            throw new BadRequestError(e.getMessage(), e.getrequestId());\n        } catch (UnauthorizedError e) {\n            logger.info(TECH,&quot;Unauthorized Exception {}&quot;,e.getMessage());\n            throw new UnauthorizedError(e.getMessage(), e.getRequestId());\n        }catch (Exception e) {\n            logger.info(TECH,&quot;Exception {}&quot;,e.getMessage());\n            throw new InternalServerError(internalServerExceptionMessage, requestId);\n        }\n\n    }\n}\n\n\nI am getting this highlighted error in an spring boot application. Have also tried after including the spring-data-elasticserach in the pom.xml file.\n\nCan someone please suggest me the reason of why this error is occuring?\n\nWhile deploying in the rancher cluster this error is occuring, in my local system the application is running fine.\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa","entity","h2"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669834027,"post_id":74628764,"comment_id":131735478,"body_markdown":"Is movie meant to be shared, in that multiple users can reference the same Movie? Such a setup would mean you really have a ManyToMany relation between users and movies, so that two users can have the same favorites - you will want to use an entirely different relationship with a JoinTable in between to map it correctly. See https://docs.oracle.com/javaee/6/api/javax/persistence/ManyToMany.html","body":"Is movie meant to be shared, in that multiple users can reference the same Movie? Such a setup would mean you really have a ManyToMany relation between users and movies, so that two users can have the same favorites - you will want to use an entirely different relationship with a JoinTable in between to map it correctly. See <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/ManyToMany.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/ManyToMany.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669820027,"creation_date":1669820027,"answer_id":74629765,"question_id":74628764,"body_markdown":"Let&#39;s focus on the relevant part of your mapping:\r\n\r\n```java\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;movie_id&quot;)\r\n    private Integer id;\r\n}\r\n```\r\n\r\nand\r\n\r\n```java\r\npublic class wUser {\r\n\r\n    @OneToMany(cascade =CascadeType.ALL)\r\n    @JoinColumn(name = &quot;movie_id&quot;)\r\n    private List&lt;Movie&gt; favouriteMovies;\r\n}\r\n```\r\n\r\nThe `id` property of `Movie` is mapped to the table column `movie_id` by the configuration in the `Movie` class.\r\n\r\nBut for the `wUser.favouriteMovies` you use `@JoinColumn` to make it use `movie_id` the join column, i.e. the column in the `Movie` table that references the `wUser`.\r\n\r\nBy this that column is mapped to two completely different values and it seems in your scenario the second one wins.\r\n\r\nTo fix this simply choose a different column for the join column. `user_id` might be a good choice.","title":"repository.save function changes id of it&#39;s children entity","body":"<p>Let's focus on the relevant part of your mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;movie_id&quot;)\n    private Integer id;\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class wUser {\n\n    @OneToMany(cascade =CascadeType.ALL)\n    @JoinColumn(name = &quot;movie_id&quot;)\n    private List&lt;Movie&gt; favouriteMovies;\n}\n</code></pre>\n<p>The <code>id</code> property of <code>Movie</code> is mapped to the table column <code>movie_id</code> by the configuration in the <code>Movie</code> class.</p>\n<p>But for the <code>wUser.favouriteMovies</code> you use <code>@JoinColumn</code> to make it use <code>movie_id</code> the join column, i.e. the column in the <code>Movie</code> table that references the <code>wUser</code>.</p>\n<p>By this that column is mapped to two completely different values and it seems in your scenario the second one wins.</p>\n<p>To fix this simply choose a different column for the join column. <code>user_id</code> might be a good choice.</p>\n"}],"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669820111,"creation_date":1669815764,"question_id":74628764,"body_markdown":"I&#39;m trying to update existing entry in parent Entity and I encounter error I can&#39;t understand nor resolve.\r\nI have two entities in a simple crud repository - Parent(User) and Children(movie). I am trying to pass a favourite movie to an user. The goal is that the movie doesn&#39;t have to be already in database, and the @PostMapping has to accept an user_id and movie name as parameters, other method uses the movie name, goes through the OMDBapi, parses data from json to fields and then gives the user at user_id the movie as a favourite. The PostMapping sort of works, because it gets the user at user_id, the movie is also added, but when the url looks like this  - http://localhost:8080/users/2/fight+club the user at user_id 2 gets the movie as his favourite, but the movie gets it&#39;s id also as 2, even if it&#39;s first movie being added to repository. What I don&#39;t understand is why when I try to debug this every line of code is acting as I expect it to do -\r\n wUser(id=2, name=Jan, favouriteMovies=[Movie(id=1, title=Fight Club, plot=An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more., genre=Drama, director=David Fincher, posterURL=https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg)])\r\nbut after it passes repository.save(user) line I get redirected to InvocableHandlerMethod class, into doInvoke method, into \r\n```\r\nreturn KotlinDetector.isSuspendingFunction(method) ? this.invokeSuspendingFunction(method, this.getBean(), args) : method.invoke(this.getBean(), args);\r\n```\r\nthis line, and after that it&#39;s just deep into the rabbit hole. As I am quite an inexperienced in coding in Java, what probably can be deducted, I don&#39;t really understand nor can find solution to this problem.\r\n\r\nThe entities and controller classes below\r\n\r\n\r\n```\r\npackage com.example.omdbapirest.movie;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;movie_id&quot;)\r\n    private Integer id;\r\n    private String title;\r\n    private String plot;\r\n    private String genre;\r\n    private String director;\r\n    private String posterURL;\r\n\r\n    public Movie(String title, String plot, String genre, String director, String posterURL) {\r\n        this.title = title;\r\n        this.plot = plot;\r\n        this.genre = genre;\r\n        this.director = director;\r\n        this.posterURL = posterURL;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.omdbapirest.user;\r\n\r\nimport com.example.omdbapirest.movie.Movie;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.List;\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n\r\npublic class wUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    private String name;\r\n//    @OneToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\r\n    @OneToMany(cascade =CascadeType.ALL)\r\n    @JoinColumn(name = &quot;movie_id&quot;)\r\n    private List&lt;Movie&gt; favouriteMovies;\r\n\r\n    public wUser(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n```\r\n\r\nUserController\r\n```\r\npackage com.example.omdbapirest.user;\r\n\r\nimport com.example.omdbapirest.movie.Movie;\r\nimport com.example.omdbapirest.movie.MovieService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.json.simple.parser.ParseException;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\n@RequiredArgsConstructor\r\npublic class UserController {\r\n     private final MovieService  movieService;\r\n    private final UserRepository repository;\r\n    private final UserService service;\r\n\r\n    @GetMapping\r\n    public List&lt;wUser&gt; getUsers(){\r\n        return repository.findAll();\r\n    }\r\n\r\n    @PostMapping(&quot;/{id}/{moviename}&quot;)\r\n    public void addMovieAsFavorite (@PathVariable (name= &quot;id&quot;) int id,\r\n                                    @PathVariable (name=&quot;moviename&quot;) String moviename)\r\n            throws ParseException{\r\n        String url = &quot;https://www.omdbapi.com/?t=&quot;+moviename+&quot;&amp;apikey=30ccf40c&quot;;\r\n        wUser user = repository.getById(id);\r\n        List&lt;Movie&gt; movies = user.getFavouriteMovies();\r\n\r\n        List&lt;Movie&gt;moviesToAdd = new ArrayList&lt;&gt;();\r\n        Movie movie = movieService.getDataFromOMDBAsMovie(url);\r\n        movies.add(movie);\r\n        moviesToAdd.addAll(movies);\r\n        user.setFavouriteMovies(moviesToAdd);\r\n        repository.save(user);\r\n    }\r\n}\r\n\r\n```\r\nI&#39;m also adding MovieService class in case there is some error in the JSON parser\r\n\r\n```\r\npackage com.example.omdbapirest.movie;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\nimport org.json.simple.parser.ParseException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URL;\r\nimport java.util.List;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MovieService {\r\n    private final MovieRepository repository;\r\n    public String getJSONFromURL(String strUrl) {\r\n        String jsonText = &quot;&quot;;\r\n\r\n        try {\r\n            URL url = new URL(strUrl);\r\n            InputStream is = url.openStream();\r\n\r\n            BufferedReader bufferedReader =\r\n                    new BufferedReader(new InputStreamReader(is));\r\n\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                jsonText += line + &quot;\\n&quot;;\r\n            }\r\n\r\n            is.close();\r\n            bufferedReader.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        return jsonText;\r\n    }\r\n\r\n    public Movie getDataFromOMDBAsMovie(String strURL) throws ParseException {\r\n        String json = getJSONFromURL(strURL);\r\n\r\n            Movie movie = new Movie();\r\n            JSONParser parser = new JSONParser();\r\n            Object object = parser.parse(json);\r\n            JSONObject mainJsonObject = (JSONObject) object;\r\n            String title = (String)mainJsonObject.get(&quot;Title&quot;);\r\n            movie.setTitle(title);\r\n            String plot = (String)mainJsonObject.get(&quot;Plot&quot;);\r\n            movie.setPlot(plot);\r\n            String genre = (String)mainJsonObject.get(&quot;Genre&quot;);\r\n            movie.setGenre(genre);\r\n            String director = (String)mainJsonObject.get(&quot;Director&quot;);\r\n            movie.setDirector(director);\r\n            String posterURL = (String)mainJsonObject.get(&quot;Poster&quot;);\r\n            movie.setPosterURL(posterURL);\r\n            repository.save(movie);\r\n        return movie;\r\n    }\r\n    public Movie addMovie(Movie movie){\r\n        return repository.save(movie);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried adding movies to db, reworking the favourite saving class, all to no avail, I was getting different errors when not debuging, including \r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Pole nie może być NULL&quot;MOVIE_ID&quot;(Field cannot be NULL)\r\nNULL not allowed for column &quot;MOVIE_ID&quot;; SQL statement:\r\nupdate movie set movie_id=null where movie_id=? [23502-214]\r\n```\r\n\r\nand \r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Naruszenie ograniczenia Klucza Gł&#243;wnego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID)(translating to- Unique Index or primary key violated)\r\n ( /* key:2 */ 2, &#39;David Fincher&#39;, &#39;Drama&#39;, &#39;An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.&#39;, &#39;https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg&#39;, &#39;Fight Club&#39;)&quot;\r\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID) ( /* key:2 */ 2, &#39;David Fincher&#39;, &#39;Drama&#39;, &#39;An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.&#39;, &#39;https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg&#39;, &#39;Fight Club&#39;)&quot;; SQL statement:\r\ninsert into movie (director, genre, plot, posterurl, title, movie_id) values (?, ?, ?, ?, ?, ?) [23505-214]\r\n```\r\n\r\nBoth of these errors appear when I try to add another movie to given user, I mean I was able to give all users 1 movie, but never more since it tries to always add the movie with id of the user","title":"repository.save function changes id of it&#39;s children entity","body":"<p>I'm trying to update existing entry in parent Entity and I encounter error I can't understand nor resolve.\nI have two entities in a simple crud repository - Parent(User) and Children(movie). I am trying to pass a favourite movie to an user. The goal is that the movie doesn't have to be already in database, and the @PostMapping has to accept an user_id and movie name as parameters, other method uses the movie name, goes through the OMDBapi, parses data from json to fields and then gives the user at user_id the movie as a favourite. The PostMapping sort of works, because it gets the user at user_id, the movie is also added, but when the url looks like this  - http://localhost:8080/users/2/fight+club the user at user_id 2 gets the movie as his favourite, but the movie gets it's id also as 2, even if it's first movie being added to repository. What I don't understand is why when I try to debug this every line of code is acting as I expect it to do -\nwUser(id=2, name=Jan, favouriteMovies=[Movie(id=1, title=Fight Club, plot=An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more., genre=Drama, director=David Fincher, posterURL=https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg)])\nbut after it passes repository.save(user) line I get redirected to InvocableHandlerMethod class, into doInvoke method, into</p>\n<pre><code>return KotlinDetector.isSuspendingFunction(method) ? this.invokeSuspendingFunction(method, this.getBean(), args) : method.invoke(this.getBean(), args);\n</code></pre>\n<p>this line, and after that it's just deep into the rabbit hole. As I am quite an inexperienced in coding in Java, what probably can be deducted, I don't really understand nor can find solution to this problem.</p>\n<p>The entities and controller classes below</p>\n<pre><code>package com.example.omdbapirest.movie;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;movie_id&quot;)\n    private Integer id;\n    private String title;\n    private String plot;\n    private String genre;\n    private String director;\n    private String posterURL;\n\n    public Movie(String title, String plot, String genre, String director, String posterURL) {\n        this.title = title;\n        this.plot = plot;\n        this.genre = genre;\n        this.director = director;\n        this.posterURL = posterURL;\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.omdbapirest.user;\n\nimport com.example.omdbapirest.movie.Movie;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class wUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n//    @OneToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\n    @OneToMany(cascade =CascadeType.ALL)\n    @JoinColumn(name = &quot;movie_id&quot;)\n    private List&lt;Movie&gt; favouriteMovies;\n\n    public wUser(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p>UserController</p>\n<pre><code>package com.example.omdbapirest.user;\n\nimport com.example.omdbapirest.movie.Movie;\nimport com.example.omdbapirest.movie.MovieService;\nimport lombok.RequiredArgsConstructor;\nimport org.json.simple.parser.ParseException;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\n@RequiredArgsConstructor\npublic class UserController {\n     private final MovieService  movieService;\n    private final UserRepository repository;\n    private final UserService service;\n\n    @GetMapping\n    public List&lt;wUser&gt; getUsers(){\n        return repository.findAll();\n    }\n\n    @PostMapping(&quot;/{id}/{moviename}&quot;)\n    public void addMovieAsFavorite (@PathVariable (name= &quot;id&quot;) int id,\n                                    @PathVariable (name=&quot;moviename&quot;) String moviename)\n            throws ParseException{\n        String url = &quot;https://www.omdbapi.com/?t=&quot;+moviename+&quot;&amp;apikey=30ccf40c&quot;;\n        wUser user = repository.getById(id);\n        List&lt;Movie&gt; movies = user.getFavouriteMovies();\n\n        List&lt;Movie&gt;moviesToAdd = new ArrayList&lt;&gt;();\n        Movie movie = movieService.getDataFromOMDBAsMovie(url);\n        movies.add(movie);\n        moviesToAdd.addAll(movies);\n        user.setFavouriteMovies(moviesToAdd);\n        repository.save(user);\n    }\n}\n\n</code></pre>\n<p>I'm also adding MovieService class in case there is some error in the JSON parser</p>\n<pre><code>package com.example.omdbapirest.movie;\n\nimport lombok.RequiredArgsConstructor;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\n\nimport org.json.simple.parser.ParseException;\nimport org.springframework.stereotype.Service;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class MovieService {\n    private final MovieRepository repository;\n    public String getJSONFromURL(String strUrl) {\n        String jsonText = &quot;&quot;;\n\n        try {\n            URL url = new URL(strUrl);\n            InputStream is = url.openStream();\n\n            BufferedReader bufferedReader =\n                    new BufferedReader(new InputStreamReader(is));\n\n            String line;\n            while ((line = bufferedReader.readLine()) != null) {\n                jsonText += line + &quot;\\n&quot;;\n            }\n\n            is.close();\n            bufferedReader.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n        return jsonText;\n    }\n\n    public Movie getDataFromOMDBAsMovie(String strURL) throws ParseException {\n        String json = getJSONFromURL(strURL);\n\n            Movie movie = new Movie();\n            JSONParser parser = new JSONParser();\n            Object object = parser.parse(json);\n            JSONObject mainJsonObject = (JSONObject) object;\n            String title = (String)mainJsonObject.get(&quot;Title&quot;);\n            movie.setTitle(title);\n            String plot = (String)mainJsonObject.get(&quot;Plot&quot;);\n            movie.setPlot(plot);\n            String genre = (String)mainJsonObject.get(&quot;Genre&quot;);\n            movie.setGenre(genre);\n            String director = (String)mainJsonObject.get(&quot;Director&quot;);\n            movie.setDirector(director);\n            String posterURL = (String)mainJsonObject.get(&quot;Poster&quot;);\n            movie.setPosterURL(posterURL);\n            repository.save(movie);\n        return movie;\n    }\n    public Movie addMovie(Movie movie){\n        return repository.save(movie);\n    }\n}\n\n</code></pre>\n<p>I tried adding movies to db, reworking the favourite saving class, all to no avail, I was getting different errors when not debuging, including</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Pole nie może być NULL&quot;MOVIE_ID&quot;(Field cannot be NULL)\nNULL not allowed for column &quot;MOVIE_ID&quot;; SQL statement:\nupdate movie set movie_id=null where movie_id=? [23502-214]\n</code></pre>\n<p>and</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Naruszenie ograniczenia Klucza Głównego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID)(translating to- Unique Index or primary key violated)\n ( /* key:2 */ 2, 'David Fincher', 'Drama', 'An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.', 'https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg', 'Fight Club')&quot;\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID) ( /* key:2 */ 2, 'David Fincher', 'Drama', 'An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.', 'https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg', 'Fight Club')&quot;; SQL statement:\ninsert into movie (director, genre, plot, posterurl, title, movie_id) values (?, ?, ?, ?, ?, ?) [23505-214]\n</code></pre>\n<p>Both of these errors appear when I try to add another movie to given user, I mean I was able to give all users 1 movie, but never more since it tries to always add the movie with id of the user</p>\n"},{"tags":["java","arrays","loops","nullpointerexception","null"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1669703207,"post_id":74609823,"comment_id":131696625,"body_markdown":"If you&#39;d like to break when there&#39;s -1 for ID or score, use while loop and add these condition there, rather than breaking","body":"If you&#39;d like to break when there&#39;s -1 for ID or score, use while loop and add these condition there, rather than breaking"},{"owner":{"account_id":26709348,"reputation":25,"user_id":20315005,"display_name":"yasakrami"},"score":0,"creation_date":1669703459,"post_id":74609823,"comment_id":131696672,"body_markdown":"Thank you so much. Is it possible for you to write it as a code and tell exactly where to put the loop because when I tried this, I still get the same result.","body":"Thank you so much. Is it possible for you to write it as a code and tell exactly where to put the loop because when I tried this, I still get the same result."}],"answers":[{"tags":[],"owner":{"account_id":25644711,"reputation":11,"user_id":19412969,"display_name":"CODERZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669818234,"creation_date":1669818234,"answer_id":74629332,"question_id":74609823,"body_markdown":"you can put it inside a while loop and put all your code in it and put the condition of breaking it if the value is -1","title":"Avoid Adding Null Value to Array","body":"<p>you can put it inside a while loop and put all your code in it and put the condition of breaking it if the value is -1</p>\n"},{"tags":[],"owner":{"account_id":6353419,"reputation":4594,"user_id":4931630,"display_name":"AterLux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669819841,"creation_date":1669819841,"answer_id":74629727,"question_id":74609823,"body_markdown":"Note, your array is of predefined size `k`:\r\n\r\n`Student[] students = new Student[k];`\r\n\r\nTherefore, if user needs to break input before entering all `k` values, you have to truncate the array. E.g.:\r\n\r\n```\r\n            if (score == -1) {\r\n                students = Arrays.copyOf(students, i);\r\n                break;\r\n            }\r\n```\r\n\r\nBut better consider using [`ArrayList`][1] instead of plain array\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"Avoid Adding Null Value to Array","body":"<p>Note, your array is of predefined size <code>k</code>:</p>\n<p><code>Student[] students = new Student[k];</code></p>\n<p>Therefore, if user needs to break input before entering all <code>k</code> values, you have to truncate the array. E.g.:</p>\n<pre><code>            if (score == -1) {\n                students = Arrays.copyOf(students, i);\n                break;\n            }\n</code></pre>\n<p>But better consider using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> instead of plain array</p>\n"}],"owner":{"account_id":26709348,"reputation":25,"user_id":20315005,"display_name":"yasakrami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669819841,"creation_date":1669702577,"question_id":74609823,"body_markdown":"I am making a function that gets the students&#39; Id, score, last name, and first name and compares them according to their Score, then the last name, and then the first name and prints the result in the descending format. \r\n\r\nI have used a Comparator to compare the elements of the array. The problem is that when the user enters `-1` as `score` or `ID`, the program needs to break and show the result but when I use break, it will add a null value to my array which prevents comparing. \r\n\r\nThis is my code:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    private static class Student {\r\n        String fName;\r\n        String lName;\r\n        int id;\r\n        int score;\r\n\r\n        public Student(String fName, String lName, int id, int score) {\r\n            this.fName = fName;\r\n            this.lName = lName;\r\n            this.id = id;\r\n            this.score = score;\r\n        }\r\n\r\n        public int getScore() {\r\n            return score;\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return fName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lName;\r\n        }\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;id: &quot; + this.id + &quot; &quot; + &quot;fName: &quot; + this.fName + &quot; &quot; + &quot;lName: &quot; + this.lName + &quot; &quot; + &quot;score: &quot; + this.score;\r\n        }\r\n\r\n    }\r\n\r\n    public static boolean alphabetic(String str) {\r\n        char[] charArray = str.toCharArray();\r\n        for (char c : charArray) {\r\n            if (!Character.isLetter(c)) {\r\n                if (c != &#39; &#39;) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    static class Comparators implements Comparator&lt;Student&gt; {\r\n        @Override\r\n        public int compare(Student s1, Student s2) {\r\n            int n = Integer.compare(s2.getScore(), s1.getScore());\r\n            if (n == 0) {\r\n                int last = s1.getLastName().compareTo(s2.getLastName());\r\n                return last == 0 ? s1.getFirstName().compareTo(s2.getFirstName()) : last;\r\n\r\n            } else {\r\n                return n;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter the number of students&quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        HashSet&lt;Integer&gt; used = new HashSet&lt;&gt;();\r\n        List&lt;List&lt;Object&gt;&gt; listData = new ArrayList&lt;List&lt;Object&gt;&gt;();\r\n        int k = input.nextInt();\r\n        Student[] students = new Student[k];\r\n        for (int i = 0; i &lt; k; ) {\r\n            System.out.println(&quot;Enter id&quot;);\r\n            int id = input.nextInt();\r\n            if (id == -1) {\r\n                break;\r\n            }\r\n            input.nextLine();\r\n            System.out.println(&quot;Enter first name &quot;);\r\n            String fName;\r\n            while (alphabetic(fName = input.nextLine()) == false) {\r\n                System.out.println(&quot;Wrong! please enter again&quot;);\r\n            }\r\n            fName = fName.replace(&quot; &quot;, &quot;&quot;);\r\n            System.out.println(&quot;Enter last name &quot;);\r\n            String lName;\r\n            while (alphabetic(lName = input.nextLine()) == false) {\r\n                System.out.println(&quot;Wrong! please enter again&quot;);\r\n            }\r\n            lName = lName.replace(&quot; &quot;, &quot;&quot;);\r\n            System.out.println(&quot;Enter score &quot;);\r\n            int score = input.nextInt();\r\n            if (score == -1) {\r\n                break;\r\n            }\r\n            if (used.contains(id)) {\r\n                listData.add(Arrays.asList(id, lName, fName, score));\r\n                continue;\r\n            }\r\n            used.add(id);\r\n            students[i++] = new Student(fName, lName, id, score);\r\n\r\n        }\r\n        Arrays.toString(students);\r\n        System.out.println(Arrays.toString(students));\r\n        Arrays.sort(students, new Comparators());\r\n        Arrays.toString(students);\r\n        System.out.println(&quot;Data without duplication:&quot;);\r\n        for (int i = 0; i &lt; k; i++) {\r\n            System.out.println(students[i]);\r\n        }\r\n        if (listData.toArray().length == 0) {\r\n            System.out.println(&quot;No duplicated Data&quot;);\r\n\r\n        } else {\r\n            System.out.println(&quot;Data with duplication:&quot;);\r\n            System.out.println(&quot;ID/ LastName/Name/ Score&quot;);\r\n            System.out.println(Arrays.toString(listData.toArray()));\r\n        }\r\n```\r\n\r\n\r\nI have tried nullhandlingExpectation methods but I could not get the result I want.\r\n\r\nIs there any method to avoid adding the null value to the array while breaking, or remove the null from the array before comparing?","title":"Avoid Adding Null Value to Array","body":"<p>I am making a function that gets the students' Id, score, last name, and first name and compares them according to their Score, then the last name, and then the first name and prints the result in the descending format.</p>\n<p>I have used a Comparator to compare the elements of the array. The problem is that when the user enters <code>-1</code> as <code>score</code> or <code>ID</code>, the program needs to break and show the result but when I use break, it will add a null value to my array which prevents comparing.</p>\n<p>This is my code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.*;\n\npublic class Main {\n    private static class Student {\n        String fName;\n        String lName;\n        int id;\n        int score;\n\n        public Student(String fName, String lName, int id, int score) {\n            this.fName = fName;\n            this.lName = lName;\n            this.id = id;\n            this.score = score;\n        }\n\n        public int getScore() {\n            return score;\n        }\n\n        public String getFirstName() {\n            return fName;\n        }\n\n        public String getLastName() {\n            return lName;\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;id: &quot; + this.id + &quot; &quot; + &quot;fName: &quot; + this.fName + &quot; &quot; + &quot;lName: &quot; + this.lName + &quot; &quot; + &quot;score: &quot; + this.score;\n        }\n\n    }\n\n    public static boolean alphabetic(String str) {\n        char[] charArray = str.toCharArray();\n        for (char c : charArray) {\n            if (!Character.isLetter(c)) {\n                if (c != ' ') {\n                    return false;\n                }\n            }\n\n        }\n        return true;\n    }\n\n    static class Comparators implements Comparator&lt;Student&gt; {\n        @Override\n        public int compare(Student s1, Student s2) {\n            int n = Integer.compare(s2.getScore(), s1.getScore());\n            if (n == 0) {\n                int last = s1.getLastName().compareTo(s2.getLastName());\n                return last == 0 ? s1.getFirstName().compareTo(s2.getFirstName()) : last;\n\n            } else {\n                return n;\n            }\n\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Enter the number of students&quot;);\n        Scanner input = new Scanner(System.in);\n        HashSet&lt;Integer&gt; used = new HashSet&lt;&gt;();\n        List&lt;List&lt;Object&gt;&gt; listData = new ArrayList&lt;List&lt;Object&gt;&gt;();\n        int k = input.nextInt();\n        Student[] students = new Student[k];\n        for (int i = 0; i &lt; k; ) {\n            System.out.println(&quot;Enter id&quot;);\n            int id = input.nextInt();\n            if (id == -1) {\n                break;\n            }\n            input.nextLine();\n            System.out.println(&quot;Enter first name &quot;);\n            String fName;\n            while (alphabetic(fName = input.nextLine()) == false) {\n                System.out.println(&quot;Wrong! please enter again&quot;);\n            }\n            fName = fName.replace(&quot; &quot;, &quot;&quot;);\n            System.out.println(&quot;Enter last name &quot;);\n            String lName;\n            while (alphabetic(lName = input.nextLine()) == false) {\n                System.out.println(&quot;Wrong! please enter again&quot;);\n            }\n            lName = lName.replace(&quot; &quot;, &quot;&quot;);\n            System.out.println(&quot;Enter score &quot;);\n            int score = input.nextInt();\n            if (score == -1) {\n                break;\n            }\n            if (used.contains(id)) {\n                listData.add(Arrays.asList(id, lName, fName, score));\n                continue;\n            }\n            used.add(id);\n            students[i++] = new Student(fName, lName, id, score);\n\n        }\n        Arrays.toString(students);\n        System.out.println(Arrays.toString(students));\n        Arrays.sort(students, new Comparators());\n        Arrays.toString(students);\n        System.out.println(&quot;Data without duplication:&quot;);\n        for (int i = 0; i &lt; k; i++) {\n            System.out.println(students[i]);\n        }\n        if (listData.toArray().length == 0) {\n            System.out.println(&quot;No duplicated Data&quot;);\n\n        } else {\n            System.out.println(&quot;Data with duplication:&quot;);\n            System.out.println(&quot;ID/ LastName/Name/ Score&quot;);\n            System.out.println(Arrays.toString(listData.toArray()));\n        }\n</code></pre>\n<p>I have tried nullhandlingExpectation methods but I could not get the result I want.</p>\n<p>Is there any method to avoid adding the null value to the array while breaking, or remove the null from the array before comparing?</p>\n"},{"tags":["java","maven","apache-spark","apache-kafka","spark-streaming"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669819763,"creation_date":1669817768,"answer_id":74629230,"question_id":74628859,"body_markdown":"You need to remove `provided` scope from streaming-kafka dependency.\r\n\r\nYou should add it to plain spark-steaming dependency instead.\r\n\r\nNote from docs \r\n\r\n&gt; **Do not** manually add dependencies on org.apache.kafka artifacts (e.g. `kafka-clients`) \r\n\r\n\r\nSo remove that. \r\n\r\n`createDirectStream` is correct - https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html \r\n\r\n---\r\n\r\nAlso, Spark Streaming module for Kafka is largely considered deprecated, with Structured Streaming suggested instead (`spark-sql-kafka-0-10`)\r\n","title":"Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;","body":"<p>You need to remove <code>provided</code> scope from streaming-kafka dependency.</p>\n<p>You should add it to plain spark-steaming dependency instead.</p>\n<p>Note from docs</p>\n<blockquote>\n<p><strong>Do not</strong> manually add dependencies on org.apache.kafka artifacts (e.g. <code>kafka-clients</code>)</p>\n</blockquote>\n<p>So remove that.</p>\n<p><code>createDirectStream</code> is correct - <a href=\"https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html</a></p>\n<hr />\n<p>Also, Spark Streaming module for Kafka is largely considered deprecated, with Structured Streaming suggested instead (<code>spark-sql-kafka-0-10</code>)</p>\n"}],"owner":{"account_id":15115020,"reputation":3,"user_id":20148665,"display_name":"Mia Duffy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74629230,"answer_count":1,"score":0,"last_activity_date":1669819763,"creation_date":1669816165,"question_id":74628859,"body_markdown":"I&#39;m trying to stream data using Apache Kafka and Spark, but I get an error in line 24 of my code saying &quot;Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;&quot;. I also tried using KafkaUtils.createDirectStream but that didn&#39;t work either. How do I resolve this error?\r\nBelow are my files that I am using\r\n\r\n# NumbersConsumer.java\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.streaming.Duration;\r\nimport org.apache.spark.streaming.api.java.JavaPairDStream;\r\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\r\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\r\nimport scala.Tuple2;\r\n\r\npublic class NumbersConsumer {\r\n\r\n  public static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\r\n  public static final String GROUP_ID = &quot;spark-group&quot;;\r\n  public static final Map&lt;String, Integer&gt; TOPICS = new HashMap&lt;&gt;();\r\n\r\n  public static final int BATCH_DURATION = 5000;\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    TOPICS.put(&quot;Demo1&quot;, 1);\r\n\r\n    SparkConf sparkConf = new SparkConf().setAppName(&quot;demo&quot;);\r\n    JavaStreamingContext streamingContext = new JavaStreamingContext(sparkConf, new Duration(BATCH_DURATION));\r\n\r\n    JavaPairDStream&lt;String, String&gt; messages = KafkaUtils.createStream(streamingContext, BOOTSTRAP_SERVER, GROUP_ID, TOPICS);\r\n\r\n    JavaPairDStream&lt;String, String&gt; percentage = messages.mapToPair(\r\n        num -&gt; new Tuple2&lt;&gt;(&quot;Percentage: &quot;, num._2 + &quot;%&quot;)\r\n    );\r\n\r\n    percentage.print();\r\n\r\n    streamingContext.start();\r\n    streamingContext.awaitTermination();\r\n  }\r\n}\r\n```\r\n# Pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testVideoKafka&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n","title":"Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;","body":"<p>I'm trying to stream data using Apache Kafka and Spark, but I get an error in line 24 of my code saying &quot;Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;&quot;. I also tried using KafkaUtils.createDirectStream but that didn't work either. How do I resolve this error?\nBelow are my files that I am using</p>\n<h1>NumbersConsumer.java</h1>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.streaming.Duration;\nimport org.apache.spark.streaming.api.java.JavaPairDStream;\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\nimport scala.Tuple2;\n\npublic class NumbersConsumer {\n\n  public static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\n  public static final String GROUP_ID = &quot;spark-group&quot;;\n  public static final Map&lt;String, Integer&gt; TOPICS = new HashMap&lt;&gt;();\n\n  public static final int BATCH_DURATION = 5000;\n\n  public static void main(String[] args) throws Exception {\n    TOPICS.put(&quot;Demo1&quot;, 1);\n\n    SparkConf sparkConf = new SparkConf().setAppName(&quot;demo&quot;);\n    JavaStreamingContext streamingContext = new JavaStreamingContext(sparkConf, new Duration(BATCH_DURATION));\n\n    JavaPairDStream&lt;String, String&gt; messages = KafkaUtils.createStream(streamingContext, BOOTSTRAP_SERVER, GROUP_ID, TOPICS);\n\n    JavaPairDStream&lt;String, String&gt; percentage = messages.mapToPair(\n        num -&gt; new Tuple2&lt;&gt;(&quot;Percentage: &quot;, num._2 + &quot;%&quot;)\n    );\n\n    percentage.print();\n\n    streamingContext.start();\n    streamingContext.awaitTermination();\n  }\n}\n</code></pre>\n<h1>Pom.xml file</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;testVideoKafka&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","log4j2","jpackage"],"answers":[{"tags":[],"owner":{"account_id":2853706,"reputation":11,"user_id":2450341,"display_name":"hz-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669819210,"creation_date":1669819210,"answer_id":74629580,"question_id":74615218,"body_markdown":"The problem seems to have been with the timing of initialising any loggers. Moving \r\n```java\r\nprivate static final Logger log = LoggerFactory.getLogger(Main.class);\r\n```\r\nfrom the Main class field definition to after reconfiguring the logger context solved the problem. I still don&#39;t understand why the previous solution worked when running the JAR but not when running the EXE.\r\n\r\nSo the new version of the Main class looks now like this:\r\n```java\r\n// enable use of log4j1 properties file\r\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\r\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\r\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\r\n    // set app root - log and setting files should reside here\r\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\r\n    // reload log4j.properties\r\n    LoggerContext.getContext(false).reconfigure();\r\n\r\n    Logger log = LoggerFactory.getLogger(Main.class);\r\n\r\n// Rest of Main class\r\n```\r\n\r\nHopefully this will be helpful to someone.","title":"Logging is not working from exe created with jpackage, but works when running the jar file directly","body":"<p>The problem seems to have been with the timing of initialising any loggers. Moving</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Logger log = LoggerFactory.getLogger(Main.class);\n</code></pre>\n<p>from the Main class field definition to after reconfiguring the logger context solved the problem. I still don't understand why the previous solution worked when running the JAR but not when running the EXE.</p>\n<p>So the new version of the Main class looks now like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// enable use of log4j1 properties file\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\n    // set app root - log and setting files should reside here\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\n    // reload log4j.properties\n    LoggerContext.getContext(false).reconfigure();\n\n    Logger log = LoggerFactory.getLogger(Main.class);\n\n// Rest of Main class\n</code></pre>\n<p>Hopefully this will be helpful to someone.</p>\n"}],"owner":{"account_id":2853706,"reputation":11,"user_id":2450341,"display_name":"hz-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74629580,"answer_count":1,"score":1,"last_activity_date":1669819210,"creation_date":1669730156,"question_id":74615218,"body_markdown":"Ok, so the problem is this. I create an application and create a windows installer with jpackage. If I run the &lt;application folder&gt;\\application.exe it does not create the application log file. However if i run the &lt;application folder&gt;\\App\\application.jar everything works as expected.\r\n\r\nThe system is using Java 17, Log4J2 2.19.0, slf4j 2.0.4, maven-shade-plugin 3.2.4 and edgwiz log4j-maven-shade-plugin-extensions. Without the last one logging with log4j2 on shaded applications doesn&#39;t seem to work at all.\r\n\r\n\r\nThe setup may be a bit unorthodox. My log4j.properties looks like this:\r\n```properties\r\n# Root logger option\r\nlog4j.rootLogger=INFO, DEBUG, file, stdout\r\n\r\n# Direct log messages to a log file\r\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.file.File=application.log\r\nlog4j.appender.file.File=${app.root}/application.log\r\nlog4j.appender.file.MaxFileSize=200KB\r\nlog4j.appender.file.MaxBackupIndex=4\r\nlog4j.appender.file.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\r\nlog4j.appender.file.layout=MyPatternLayoutWithQualifiedPath\r\n\r\n# Direct log messages to stdout\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.Target=System.out\r\nlog4j.appender.stdout.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\r\nlog4j.appender.stdout.layout=MyPatternLayoutWithQualifiedPath\r\n```\r\n\r\nIn order for the application to process the app.root system property I write that value in my main class and reload the configuration like this:\r\n```java\r\npublic static void main(String[] args) {\r\n    // enable use of log4j1 properties file\r\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\r\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\r\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\r\n    // set app root - log and setting files should reside here\r\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\r\n    // reload log4j.properties\r\n    LoggerContext.getContext(false).reconfigure();\r\n\r\n// rest of Main class\r\n\r\n```\r\n\r\nLike I said. This works just fine when I run the jar file, but not when I run the exe. If I change the log4j.appender.file.File property to `log4j.appender.file.File=application.log` logging works basically just fine. The problem is that then the log file is created into the working directory instead of the application&#39;s root directory. The application is able to take in a file as a command line argument, so the application writes the log file in the directory of the input file which is unwanted behaviour.\r\n\r\nThe jpackage command that I use looks like this, in case it&#39;s of any help:\r\n```\r\njpackage.exe ^\r\n--name &quot;the name of the app&quot; ^\r\n--app-version %version% ^\r\n--vendor &quot;vendor name&quot; ^\r\n--icon &quot;icon.ico&quot; ^\r\n--license-file license.txt ^\r\n--file-associations file-association.properties ^\r\n--input input_directory ^\r\n--main-jar application.jar ^\r\n--main-class path.to.MainClass ^\r\n--type exe ^\r\n--win-per-user-install ^\r\n--win-dir-chooser ^\r\n--win-menu ^\r\n--win-menu-group menuGroupName ^\r\n--win-shortcut\r\n```","title":"Logging is not working from exe created with jpackage, but works when running the jar file directly","body":"<p>Ok, so the problem is this. I create an application and create a windows installer with jpackage. If I run the \\application.exe it does not create the application log file. However if i run the \\App\\application.jar everything works as expected.</p>\n<p>The system is using Java 17, Log4J2 2.19.0, slf4j 2.0.4, maven-shade-plugin 3.2.4 and edgwiz log4j-maven-shade-plugin-extensions. Without the last one logging with log4j2 on shaded applications doesn't seem to work at all.</p>\n<p>The setup may be a bit unorthodox. My log4j.properties looks like this:</p>\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, DEBUG, file, stdout\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=application.log\nlog4j.appender.file.File=${app.root}/application.log\nlog4j.appender.file.MaxFileSize=200KB\nlog4j.appender.file.MaxBackupIndex=4\nlog4j.appender.file.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\nlog4j.appender.file.layout=MyPatternLayoutWithQualifiedPath\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\nlog4j.appender.stdout.layout=MyPatternLayoutWithQualifiedPath\n</code></pre>\n<p>In order for the application to process the app.root system property I write that value in my main class and reload the configuration like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // enable use of log4j1 properties file\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\n    // set app root - log and setting files should reside here\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\n    // reload log4j.properties\n    LoggerContext.getContext(false).reconfigure();\n\n// rest of Main class\n\n</code></pre>\n<p>Like I said. This works just fine when I run the jar file, but not when I run the exe. If I change the log4j.appender.file.File property to <code>log4j.appender.file.File=application.log</code> logging works basically just fine. The problem is that then the log file is created into the working directory instead of the application's root directory. The application is able to take in a file as a command line argument, so the application writes the log file in the directory of the input file which is unwanted behaviour.</p>\n<p>The jpackage command that I use looks like this, in case it's of any help:</p>\n<pre><code>jpackage.exe ^\n--name &quot;the name of the app&quot; ^\n--app-version %version% ^\n--vendor &quot;vendor name&quot; ^\n--icon &quot;icon.ico&quot; ^\n--license-file license.txt ^\n--file-associations file-association.properties ^\n--input input_directory ^\n--main-jar application.jar ^\n--main-class path.to.MainClass ^\n--type exe ^\n--win-per-user-install ^\n--win-dir-chooser ^\n--win-menu ^\n--win-menu-group menuGroupName ^\n--win-shortcut\n</code></pre>\n"},{"tags":["java","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669818997,"creation_date":1669652981,"answer_id":74603673,"question_id":74602627,"body_markdown":"&gt;We expect all files to be deleted from the lib folder when updating an existing \r\n&gt;installation\r\n\r\nThis will only happen if you add an &quot;Execute previous uninstaller&quot; action to the &quot;Installation&quot; screen.\r\n\r\nThe uninstaller that is executed by that action saves its log file to the file \r\n\r\n    &lt;installation directory&gt;/.install4j/uninstallPrevious.log","title":"Why would install4j leave some installed files behind when updating existing installation?","body":"<blockquote>\n<p>We expect all files to be deleted from the lib folder when updating an existing\ninstallation</p>\n</blockquote>\n<p>This will only happen if you add an &quot;Execute previous uninstaller&quot; action to the &quot;Installation&quot; screen.</p>\n<p>The uninstaller that is executed by that action saves its log file to the file</p>\n<pre><code>&lt;installation directory&gt;/.install4j/uninstallPrevious.log\n</code></pre>\n"}],"owner":{"account_id":13301015,"reputation":170,"user_id":9602527,"display_name":"HeatZync"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74603673,"answer_count":1,"score":2,"last_activity_date":1669818997,"creation_date":1669648201,"question_id":74602627,"body_markdown":"We are using install4j v8.0.11. A normal installation works correctly and a normal uninstallation also works correctly by deleting all files from `C:\\Program Files (x86)\\App\\lib` as expected. \r\n\r\nHowever, when the application is already installed and we run a newer version of the installation and choose to update the existing installation then some of the Java dependencies (files in the `lib` folder that make up the `CLASSPATH`) are not deleted during the uninstallation phase. This causes multiple files of the same dependency to be on the `CLASSPATH` which can result in Java using the wrong (older) version of a class.\r\n\r\nWhat could be causing some of the the files in `lib` to not be deleted? (most files are deleted)\r\n\r\n## What have we tried? ##\r\nWe have actions in place to stop the running application and the running service as part of the installation phase as well as the uninstallation phase.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe **failure strategy** for the *Execute previous uninstaller* and *Uninstall files* actions are configured to *Ask user whether to retry or quit on failure*, but we don&#39;t get any prompts.\r\n\r\n## Installation logs ##\r\n```\r\n[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\r\n       Property directoryResolverScript: null\r\n       Property fileFilterScript: null\r\n       Property sizeCalculatorScript: null\r\n       Property acceptAllCertificates: false\r\n       Property checkFreeSpace: true\r\n       Property delay: false\r\n       Property installRuntime: true\r\n       Property rollbackSupported: true\r\n       Property saveDownloadedFiles: false\r\n       Property showFileNames: true\r\n       Property triggerReboot: true\r\n       Property updateBundledJre: true\r\n       Property validateApplicationId: false\r\n...\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25194.jar; size: 1264714 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25194.jar; size: 995 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: false\r\n...\r\n       Execute action successful after 41010 ms\r\n```\r\n\r\n### Update installation logs ###\r\n```\r\n[INFO] com.install4j.runtime.beans.screens.WelcomeScreen [ID 2]: Show screen\r\n[INFO] checking writable with maximum\r\n[INFO] Variable changed: sys.confirmedUpdateInstallation=true[class java.lang.Boolean]\r\n...\r\n[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\r\n       Property directoryResolverScript: null\r\n       Property fileFilterScript: null\r\n       Property sizeCalculatorScript: null\r\n       Property acceptAllCertificates: false\r\n       Property checkFreeSpace: true\r\n       Property delay: false\r\n       Property installRuntime: true\r\n       Property rollbackSupported: true\r\n       Property saveDownloadedFiles: false\r\n       Property showFileNames: true\r\n       Property triggerReboot: true\r\n       Property updateBundledJre: true\r\n       Property validateApplicationId: false\r\n...\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: true\r\n       File times: 1669725278000, 1669618416000\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25203.jar; size: 1266730 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25203.jar; size: 995 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: true\r\n       File times: 1669725278000, 1669618416000\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: true\r\n       File times: 1669725278000, 1669618416000\r\n...\r\n       Execute action successful after 48259 ms\r\n```\r\nThe update installation copies new versions of the `application` and `commons` JARs, but it doesn&#39;t delete the previous/old versions. Also, looking at the update installation&#39;s log files I don&#39;t see any actions being run to either run the previous uninstaller or uninstall any files.\r\n\r\n## What do we expect? ##\r\nWe expect all files to be deleted from the `lib` folder **when updating an existing installation** just as they would be deleted when uninstalling normally.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lnNW5.png","title":"Why would install4j leave some installed files behind when updating existing installation?","body":"<p>We are using install4j v8.0.11. A normal installation works correctly and a normal uninstallation also works correctly by deleting all files from <code>C:\\Program Files (x86)\\App\\lib</code> as expected.</p>\n<p>However, when the application is already installed and we run a newer version of the installation and choose to update the existing installation then some of the Java dependencies (files in the <code>lib</code> folder that make up the <code>CLASSPATH</code>) are not deleted during the uninstallation phase. This causes multiple files of the same dependency to be on the <code>CLASSPATH</code> which can result in Java using the wrong (older) version of a class.</p>\n<p>What could be causing some of the the files in <code>lib</code> to not be deleted? (most files are deleted)</p>\n<h2>What have we tried?</h2>\n<p>We have actions in place to stop the running application and the running service as part of the installation phase as well as the uninstallation phase.</p>\n<p><a href=\"https://i.stack.imgur.com/lnNW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lnNW5.png\" alt=\"enter image description here\" /></a></p>\n<p>The <strong>failure strategy</strong> for the <em>Execute previous uninstaller</em> and <em>Uninstall files</em> actions are configured to <em>Ask user whether to retry or quit on failure</em>, but we don't get any prompts.</p>\n<h2>Installation logs</h2>\n<pre><code>[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\n       Property directoryResolverScript: null\n       Property fileFilterScript: null\n       Property sizeCalculatorScript: null\n       Property acceptAllCertificates: false\n       Property checkFreeSpace: true\n       Property delay: false\n       Property installRuntime: true\n       Property rollbackSupported: true\n       Property saveDownloadedFiles: false\n       Property showFileNames: true\n       Property triggerReboot: true\n       Property updateBundledJre: true\n       Property validateApplicationId: false\n...\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25194.jar; size: 1264714 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25194.jar; size: 995 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: false\n...\n       Execute action successful after 41010 ms\n</code></pre>\n<h3>Update installation logs</h3>\n<pre><code>[INFO] com.install4j.runtime.beans.screens.WelcomeScreen [ID 2]: Show screen\n[INFO] checking writable with maximum\n[INFO] Variable changed: sys.confirmedUpdateInstallation=true[class java.lang.Boolean]\n...\n[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\n       Property directoryResolverScript: null\n       Property fileFilterScript: null\n       Property sizeCalculatorScript: null\n       Property acceptAllCertificates: false\n       Property checkFreeSpace: true\n       Property delay: false\n       Property installRuntime: true\n       Property rollbackSupported: true\n       Property saveDownloadedFiles: false\n       Property showFileNames: true\n       Property triggerReboot: true\n       Property updateBundledJre: true\n       Property validateApplicationId: false\n...\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: true\n       File times: 1669725278000, 1669618416000\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25203.jar; size: 1266730 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25203.jar; size: 995 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: true\n       File times: 1669725278000, 1669618416000\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: true\n       File times: 1669725278000, 1669618416000\n...\n       Execute action successful after 48259 ms\n</code></pre>\n<p>The update installation copies new versions of the <code>application</code> and <code>commons</code> JARs, but it doesn't delete the previous/old versions. Also, looking at the update installation's log files I don't see any actions being run to either run the previous uninstaller or uninstall any files.</p>\n<h2>What do we expect?</h2>\n<p>We expect all files to be deleted from the <code>lib</code> folder <strong>when updating an existing installation</strong> just as they would be deleted when uninstalling normally.</p>\n"},{"tags":["java","jax-rs","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":406181,"reputation":25183,"user_id":775544,"accept_rate":100,"display_name":"Anthony Neace"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1441203427,"creation_date":1411588091,"answer_id":26025261,"question_id":24951268,"body_markdown":"**Update for Swagger UI  2.1.0+:** The `sorter` parameter has been split into two parameters, as noted in [Fix 1040][1], [Fix 1280][2]:\r\n\r\n&gt; apisSorter\r\n\r\n&gt; Apply a sort to the API/tags list. It can be &#39;alpha&#39;\r\n&gt; (sort by name) or a function (see Array.prototype.sort() to know how\r\n&gt; sort function works). Default is the order returned by the server\r\n&gt; unchanged.\r\n\r\n&gt; operationsSorter\r\n\r\n&gt; Apply a sort to the operation list of each API. It can be &#39;alpha&#39; (sort by paths alphanumerically), &#39;method&#39; (sort by\r\n&gt; HTTP method) or a function (see Array.prototype.sort() to know how\r\n&gt; sort function works). Default is the order returned by the server\r\n&gt; unchanged.\r\n\r\nSo you&#39;ll want to update `sorter` to `apisSorter` to sort the API list alphabetically, and/or `operationsSorter` to sort the operations list of each API. The pet shop demo has updated to apisSorter, as shown below:\r\n\r\n[Example][3]: ([working demo][4], sorted alphabetically)\r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n    \r\n    ...\r\n    \r\n    apisSorter : &quot;alpha&quot;\r\n    });\r\n\r\n**For Swagger UI versions older than 2.1.0**:\r\n\r\nThe `sorter` parameter is still relevant for older versions of Swagger UI:\r\n\r\nYou can use the *sorter* parameter when instantiating SwaggerUi. This happens in the javascript on the Swagger-Ui index.html. From the [documentation][5]:\r\n\r\n&gt; sorter apply a sort to the API list. It can be &#39;**alpha**&#39; (sort paths\r\n&gt; alphanumerically) or &#39;**method**&#39; (sort operations by HTTP method).\r\n&gt; Default is the order returned by the server unchanged.\r\n\r\n[Example][6]:\r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n\r\n    ...\r\n\r\n    sorter : &quot;alpha&quot;\r\n    });\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-ui/issues/1040\r\n  [2]: https://github.com/swagger-api/swagger-ui/pull/1280\r\n  [3]: https://github.com/swagger-api/swagger-ui/blob/master/src/main/html/index.html\r\n  [4]: http://petstore.swagger.io/\r\n  [5]: https://github.com/wordnik/swagger-ui#swaggerui\r\n  [6]: https://github.com/swagger-api/swagger-ui/blob/97ed093e6ec3a7a778ac6a41d76775c88b1fc951/src/main/html/index.html","title":"Sort API methods in Swagger-UI","body":"<p><strong>Update for Swagger UI  2.1.0+:</strong> The <code>sorter</code> parameter has been split into two parameters, as noted in <a href=\"https://github.com/swagger-api/swagger-ui/issues/1040\">Fix 1040</a>, <a href=\"https://github.com/swagger-api/swagger-ui/pull/1280\">Fix 1280</a>:</p>\n\n<blockquote>\n  <p>apisSorter</p>\n  \n  <p>Apply a sort to the API/tags list. It can be 'alpha'\n  (sort by name) or a function (see Array.prototype.sort() to know how\n  sort function works). Default is the order returned by the server\n  unchanged.</p>\n  \n  <p>operationsSorter</p>\n  \n  <p>Apply a sort to the operation list of each API. It can be 'alpha' (sort by paths alphanumerically), 'method' (sort by\n  HTTP method) or a function (see Array.prototype.sort() to know how\n  sort function works). Default is the order returned by the server\n  unchanged.</p>\n</blockquote>\n\n<p>So you'll want to update <code>sorter</code> to <code>apisSorter</code> to sort the API list alphabetically, and/or <code>operationsSorter</code> to sort the operations list of each API. The pet shop demo has updated to apisSorter, as shown below:</p>\n\n<p><a href=\"https://github.com/swagger-api/swagger-ui/blob/master/src/main/html/index.html\">Example</a>: (<a href=\"http://petstore.swagger.io/\">working demo</a>, sorted alphabetically)</p>\n\n<pre><code>window.swaggerUi = new SwaggerUi({\n\n...\n\napisSorter : \"alpha\"\n});\n</code></pre>\n\n<p><strong>For Swagger UI versions older than 2.1.0</strong>:</p>\n\n<p>The <code>sorter</code> parameter is still relevant for older versions of Swagger UI:</p>\n\n<p>You can use the <em>sorter</em> parameter when instantiating SwaggerUi. This happens in the javascript on the Swagger-Ui index.html. From the <a href=\"https://github.com/wordnik/swagger-ui#swaggerui\">documentation</a>:</p>\n\n<blockquote>\n  <p>sorter apply a sort to the API list. It can be '<strong>alpha</strong>' (sort paths\n  alphanumerically) or '<strong>method</strong>' (sort operations by HTTP method).\n  Default is the order returned by the server unchanged.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/swagger-api/swagger-ui/blob/97ed093e6ec3a7a778ac6a41d76775c88b1fc951/src/main/html/index.html\">Example</a>:</p>\n\n<pre><code>window.swaggerUi = new SwaggerUi({\n\n...\n\nsorter : \"alpha\"\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271733,"reputation":2072,"user_id":1998944,"accept_rate":40,"display_name":"Kenyakorn Ketsombut"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1441170601,"creation_date":1441170601,"answer_id":32345035,"question_id":24951268,"body_markdown":"The accepted answer is a bit outdated. In newer versions it is done by:\r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n    \r\n    ...\r\n    \r\n    apisSorter: &quot;alpha&quot;, // can also be a function\r\n    operationsSorter : &quot;method&quot;, // can also be &#39;alpha&#39; or a function\r\n    });\r\n\r\n","title":"Sort API methods in Swagger-UI","body":"<p>The accepted answer is a bit outdated. In newer versions it is done by:</p>\n\n<pre><code>window.swaggerUi = new SwaggerUi({\n\n...\n\napisSorter: \"alpha\", // can also be a function\noperationsSorter : \"method\", // can also be 'alpha' or a function\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7042940,"reputation":111,"user_id":5394788,"display_name":"Hiddenben"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1632740374,"creation_date":1443643011,"answer_id":32874552,"question_id":24951268,"body_markdown":"I had the same issue and I fixed it like this \r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n        apisSorter: &quot;alpha&quot;, \r\n        operationsSorter: function (a, b) { \r\n        var order = { &#39;get&#39;: &#39;0&#39;, &#39;post&#39;: &#39;1&#39;, &#39;put&#39;: &#39;2&#39;, &#39;delete&#39;: &#39;3&#39; }; \r\n        return order[a.method].localeCompare(order[b.method]);    \r\n      },\r\n    });","title":"Sort API methods in Swagger-UI","body":"<p>I had the same issue and I fixed it like this</p>\n<pre><code>window.swaggerUi = new SwaggerUi({\n    apisSorter: &quot;alpha&quot;, \n    operationsSorter: function (a, b) { \n    var order = { 'get': '0', 'post': '1', 'put': '2', 'delete': '3' }; \n    return order[a.method].localeCompare(order[b.method]);    \n  },\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573119395,"creation_date":1573119395,"answer_id":58745770,"question_id":24951268,"body_markdown":"**Update for Swagger 3.18.3**\r\n\r\n     window.ui = SwaggerUIBundle({\r\n               ...\r\n                operationsSorter: function (a, b) {\r\n                    var order = {&#39;get&#39;: &#39;0&#39;, &#39;post&#39;: &#39;1&#39;, &#39;put&#39;: &#39;2&#39;, &#39;delete&#39;: &#39;3&#39;};\r\n                    return order[a.get(&quot;method&quot;)].localeCompare(order[b.get(&quot;method&quot;)]);\r\n                },\r\n               ...\r\n     });","title":"Sort API methods in Swagger-UI","body":"<p><strong>Update for Swagger 3.18.3</strong></p>\n\n<pre><code> window.ui = SwaggerUIBundle({\n           ...\n            operationsSorter: function (a, b) {\n                var order = {'get': '0', 'post': '1', 'put': '2', 'delete': '3'};\n                return order[a.get(\"method\")].localeCompare(order[b.get(\"method\")]);\n            },\n           ...\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4119825,"reputation":12166,"user_id":3380497,"display_name":"Shadi Alnamrouti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593528019,"creation_date":1593528019,"answer_id":62660030,"question_id":24951268,"body_markdown":"For .net Core users with SwaggerUI3:\r\n\r\n     app.UseSwaggerUi3(j=&gt;j.TagsSorter = &quot;alpha&quot;);","title":"Sort API methods in Swagger-UI","body":"<p>For .net Core users with SwaggerUI3:</p>\n<pre><code> app.UseSwaggerUi3(j=&gt;j.TagsSorter = &quot;alpha&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2242976,"reputation":79,"user_id":6444586,"display_name":"Damian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627995652,"creation_date":1627995652,"answer_id":68636551,"question_id":24951268,"body_markdown":"For Python folks who end up here with the same issue, here&#39;s how to solve it\r\n\r\n**Using flasgger v0.9.5 (=Swagger-UI 3.28.0) and Flask v2.0.1:**\r\n\r\n    app = Flask(__name__)\r\n    config = {\r\n        &quot;ui_params&quot;: {\r\n            &quot;operationsSorter&quot;: &quot;alpha&quot;,  # sorts endpoints alphabetically within a tag\r\n            &quot;tagsSorter&quot;: &quot;alpha&quot;. # sorts tags alphabetically\r\n        }\r\n    }\r\n    Swagger(app, config=config)\r\n\r\n\r\n","title":"Sort API methods in Swagger-UI","body":"<p>For Python folks who end up here with the same issue, here's how to solve it</p>\n<p><strong>Using flasgger v0.9.5 (=Swagger-UI 3.28.0) and Flask v2.0.1:</strong></p>\n<pre><code>app = Flask(__name__)\nconfig = {\n    &quot;ui_params&quot;: {\n        &quot;operationsSorter&quot;: &quot;alpha&quot;,  # sorts endpoints alphabetically within a tag\n        &quot;tagsSorter&quot;: &quot;alpha&quot;. # sorts tags alphabetically\n    }\n}\nSwagger(app, config=config)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3965207,"reputation":1481,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669818897,"creation_date":1632383831,"answer_id":69296074,"question_id":24951268,"body_markdown":"**Update for 3.x+**\r\n\r\nAs also mentioned in comments previously, `apisSorter` seems to have been renamed to `tagsSorter` in v. 3.x, see [Swagger configuration documentation][1].\r\n\r\n    window.ui = SwaggerUIBundle({\r\n      ...\r\n      tagsSorter: &quot;alpha&quot;,\r\n      operationsSorter: &quot;alpha&quot;\r\n      ...\r\n    });\r\n\r\n\r\n  [1]: https://swagger.io/docs/open-source-tools/swagger-ui/usage/configuration/","title":"Sort API methods in Swagger-UI","body":"<p><strong>Update for 3.x+</strong></p>\n<p>As also mentioned in comments previously, <code>apisSorter</code> seems to have been renamed to <code>tagsSorter</code> in v. 3.x, see <a href=\"https://swagger.io/docs/open-source-tools/swagger-ui/usage/configuration/\" rel=\"nofollow noreferrer\">Swagger configuration documentation</a>.</p>\n<pre><code>window.ui = SwaggerUIBundle({\n  ...\n  tagsSorter: &quot;alpha&quot;,\n  operationsSorter: &quot;alpha&quot;\n  ...\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633444362,"creation_date":1633444362,"answer_id":69452365,"question_id":24951268,"body_markdown":"With my version of swagger i&#39;ve managed to do like this:\r\n\r\n```\r\napisSorter: &quot;alpha&quot;, \r\noperationsSorter: function (a, b) { \r\n    var order = { &#39;get&#39;: &#39;0&#39;, &#39;patch&#39;: &#39;1&#39;, &#39;post&#39;: &#39;2&#39;};\r\n    return order[a._root.entries[1][1]].localeCompare(order[b._root.entries[1][1]]);\r\n}\r\n```","title":"Sort API methods in Swagger-UI","body":"<p>With my version of swagger i've managed to do like this:</p>\n<pre><code>apisSorter: &quot;alpha&quot;, \noperationsSorter: function (a, b) { \n    var order = { 'get': '0', 'patch': '1', 'post': '2'};\n    return order[a._root.entries[1][1]].localeCompare(order[b._root.entries[1][1]]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10686372,"reputation":113,"user_id":7866817,"display_name":"Sergey Kanygin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633980815,"creation_date":1633980815,"answer_id":69531565,"question_id":24951268,"body_markdown":"To sort **api tags** and **operations** in nestjs you can pass [SwaggerCustomOptions][1] to `SwaggerModule.setup()` method in following way:\r\n\r\n      \r\n    import { DocumentBuilder, SwaggerModule } from &#39;@nestjs/swagger&#39;;\r\n\r\n    //...\r\n\r\n    const config = new DocumentBuilder().addBearerAuth().build();\r\n    const document = SwaggerModule.createDocument(app, config);\r\n    SwaggerModule.setup(&#39;api/docs&#39;, app, document, {\r\n      swaggerOptions: {\r\n        apisSorter: &#39;alpha&#39;,\r\n        tagsSorter: &#39;alpha&#39;,\r\n        operationsSorter: &#39;alpha&#39;,\r\n      },\r\n    });\r\n\r\n\r\n  [1]: https://github.com/nestjs/swagger/blob/master/lib/interfaces/swagger-custom-options.interface.ts#L5","title":"Sort API methods in Swagger-UI","body":"<p>To sort <strong>api tags</strong> and <strong>operations</strong> in nestjs you can pass <a href=\"https://github.com/nestjs/swagger/blob/master/lib/interfaces/swagger-custom-options.interface.ts#L5\" rel=\"nofollow noreferrer\">SwaggerCustomOptions</a> to <code>SwaggerModule.setup()</code> method in following way:</p>\n<pre><code>import { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\n\n//...\n\nconst config = new DocumentBuilder().addBearerAuth().build();\nconst document = SwaggerModule.createDocument(app, config);\nSwaggerModule.setup('api/docs', app, document, {\n  swaggerOptions: {\n    apisSorter: 'alpha',\n    tagsSorter: 'alpha',\n    operationsSorter: 'alpha',\n  },\n});\n</code></pre>\n"}],"owner":{"account_id":3965207,"reputation":1481,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58176,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":26025261,"answer_count":9,"score":30,"last_activity_date":1669818897,"creation_date":1406276756,"question_id":24951268,"body_markdown":"I cannot find any working example, how to achieve the following:\r\nI want my API methods in the Swagger-UI sorted either by methods (GET-POST-PUT-DELETE) OR/AND alphabetically.\r\n\r\nSo far, all methods are displayed in a random order, even not in the order given my source code.\r\n\r\nI use Jax-RS + Jersey 1.\r\n\r\nSorting using the position attribute of @ApiOperation is not an option for me, as there are too many methods and the API is still extending, so I would need to update all if there is a new one.\r\n\r\nAny hints?","title":"Sort API methods in Swagger-UI","body":"<p>I cannot find any working example, how to achieve the following:\nI want my API methods in the Swagger-UI sorted either by methods (GET-POST-PUT-DELETE) OR/AND alphabetically.</p>\n\n<p>So far, all methods are displayed in a random order, even not in the order given my source code.</p>\n\n<p>I use Jax-RS + Jersey 1.</p>\n\n<p>Sorting using the position attribute of @ApiOperation is not an option for me, as there are too many methods and the API is still extending, so I would need to update all if there is a new one.</p>\n\n<p>Any hints?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9149,"page":843,"page_size":100}
