{"items":[{"tags":["java","algorithm","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648202334,"creation_date":1648043409,"answer_id":71588366,"question_id":71587870,"body_markdown":"You have to iterate over the digits of the given number. But instead you&#39;ve created a stream of numbers from `1` to the given number inclusive.\r\n\r\nAnd you&#39;ve hard-coded the *power* of `3` is  (i.e. your solution is intended to deal only with 3-digit numbers).\r\n\r\nAlso, there&#39;s a bug in the `reduce` operation:\r\n```\r\nreduce(1,(a,b)-&gt; (b*b*b))\r\n```\r\nWhat your method is actually returns is a cube of the last element in the stream, which for the input `370` happens to be a `7`. Because you are ignoring the argument `a` in the accumulator (`a` - represents a sum accumulated so far and `b` - is a next element).\r\n\r\nAnd it&#39;ll be better if `isArmstrong` method would return a `boolean` value. Because it&#39;s meant to perform a check as you&#39;ve and by convention methods that start with `is` or `has` are expected to return a `boolean`.\r\n\r\nTo address this problem correctly, you need to follow the classical algorithm ([wiki](https://en.wikipedia.org/wiki/Narcissistic_number#Java)) iterating over the digits of the given number.\r\n\r\nYou can do it with streams by the `iterate()` operation. Its **Java 8** flavor which take two arguments (*a **seed** and a **unary operator** that is used to generate the next element*) creates an *infinite stream*. You need to apply the `limit()` operation to trim the *number of elements* in the stream to the *number of digits* in the given number.\r\n\r\nApply `map()` to obtain the *power of every element* and then apply the terminal operation `sum()` to get the result.\r\n\r\n\r\n    public static boolean isArmstrong(int num) {\r\n        return num == getArmstrongSum(num);\r\n    }\r\n\r\n    public static int getArmstrongSum(int num) {\r\n        int pow = String.valueOf(num).length();\r\n        return IntStream.iterate(num, i -&gt; i / 10)\r\n                .limit(pow)\r\n                .map(i -&gt; (int) Math.pow(i % 10, pow))\r\n                .sum();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getArmstrongSum(370));\r\n        System.out.println(isArmstrong(370));\r\n    }\r\n\r\n**Output**\r\n```\r\n370\r\ntrue\r\n```","title":"Checking if the Given numger is an Armstrong number with Java 8 Streams","body":"<p>You have to iterate over the digits of the given number. But instead you've created a stream of numbers from <code>1</code> to the given number inclusive.</p>\n<p>And you've hard-coded the <em>power</em> of <code>3</code> is  (i.e. your solution is intended to deal only with 3-digit numbers).</p>\n<p>Also, there's a bug in the <code>reduce</code> operation:</p>\n<pre><code>reduce(1,(a,b)-&gt; (b*b*b))\n</code></pre>\n<p>What your method is actually returns is a cube of the last element in the stream, which for the input <code>370</code> happens to be a <code>7</code>. Because you are ignoring the argument <code>a</code> in the accumulator (<code>a</code> - represents a sum accumulated so far and <code>b</code> - is a next element).</p>\n<p>And it'll be better if <code>isArmstrong</code> method would return a <code>boolean</code> value. Because it's meant to perform a check as you've and by convention methods that start with <code>is</code> or <code>has</code> are expected to return a <code>boolean</code>.</p>\n<p>To address this problem correctly, you need to follow the classical algorithm (<a href=\"https://en.wikipedia.org/wiki/Narcissistic_number#Java\" rel=\"nofollow noreferrer\">wiki</a>) iterating over the digits of the given number.</p>\n<p>You can do it with streams by the <code>iterate()</code> operation. Its <strong>Java 8</strong> flavor which take two arguments (<em>a <strong>seed</strong> and a <strong>unary operator</strong> that is used to generate the next element</em>) creates an <em>infinite stream</em>. You need to apply the <code>limit()</code> operation to trim the <em>number of elements</em> in the stream to the <em>number of digits</em> in the given number.</p>\n<p>Apply <code>map()</code> to obtain the <em>power of every element</em> and then apply the terminal operation <code>sum()</code> to get the result.</p>\n<pre><code>public static boolean isArmstrong(int num) {\n    return num == getArmstrongSum(num);\n}\n\npublic static int getArmstrongSum(int num) {\n    int pow = String.valueOf(num).length();\n    return IntStream.iterate(num, i -&gt; i / 10)\n            .limit(pow)\n            .map(i -&gt; (int) Math.pow(i % 10, pow))\n            .sum();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getArmstrongSum(370));\n    System.out.println(isArmstrong(370));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>370\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648558680,"creation_date":1648558680,"answer_id":71662477,"question_id":71587870,"body_markdown":"To generate the List of Armstrong number with java 8 stream.\r\n\r\n    static boolean isArmStrong(int num) {\r\n\t\treturn num==armStrongViaStream(num);\r\n\t}\r\n\t\r\n\t//via Stream\r\n\tstatic int armStrongViaStream(int num) {\r\n\t\tint size = String.valueOf(num).length();\r\n\t\treturn IntStream.iterate(num, i-&gt;i/10)\r\n\t\t\t\t.limit(size)\r\n\t\t\t\t.map(i-&gt; (int)Math.pow(i%10, size))\r\n\t\t\t\t.sum();\r\n\t\t\t}\r\n\t\r\n\t//List via Stream\r\n\tstatic List&lt;Integer&gt; armStrongListUpto(int num){\r\n\t\tList&lt;Integer&gt; list=new ArrayList&lt;&gt;();\r\n\t\tlist=IntStream.rangeClosed(0, num)\r\n\t\t\t\t.filter(i-&gt;isArmStrong(i)).boxed()\r\n\t\t\t\t.collect(Collectors.toList());\r\n\treturn list;\t\r\n\t}\r\n\r\nMain Method\r\n\r\n    System.out.println(&quot;List via Java Stream -&gt;&quot;+armStrongListUpto(500));\r\n\r\nOutput will return a list.\r\n   \r\n\r\n    List via Java Stream -&gt;[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 153, 370, 371, 407]","title":"Checking if the Given numger is an Armstrong number with Java 8 Streams","body":"<p>To generate the List of Armstrong number with java 8 stream.</p>\n<pre><code>static boolean isArmStrong(int num) {\n    return num==armStrongViaStream(num);\n}\n\n//via Stream\nstatic int armStrongViaStream(int num) {\n    int size = String.valueOf(num).length();\n    return IntStream.iterate(num, i-&gt;i/10)\n            .limit(size)\n            .map(i-&gt; (int)Math.pow(i%10, size))\n            .sum();\n        }\n\n//List via Stream\nstatic List&lt;Integer&gt; armStrongListUpto(int num){\n    List&lt;Integer&gt; list=new ArrayList&lt;&gt;();\n    list=IntStream.rangeClosed(0, num)\n            .filter(i-&gt;isArmStrong(i)).boxed()\n            .collect(Collectors.toList());\nreturn list;    \n}\n</code></pre>\n<p>Main Method</p>\n<pre><code>System.out.println(&quot;List via Java Stream -&gt;&quot;+armStrongListUpto(500));\n</code></pre>\n<p>Output will return a list.</p>\n<pre><code>List via Java Stream -&gt;[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 153, 370, 371, 407]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648559265,"creation_date":1648559265,"answer_id":71662636,"question_id":71587870,"body_markdown":"if we need to generate list of Armstrong number between a range in Java 8 Streams.\r\n\r\n    static List&lt;Integer&gt; armStrongBetweenNum(int start,int end){\r\n\t\tList&lt;Integer&gt; list=new ArrayList&lt;&gt;();\r\n\t\tlist=IntStream.rangeClosed(start, end)\r\n\t\t\t\t.filter(i-&gt;isArmStrong(i)).boxed()\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\treturn list;\r\n\t}\r\nMain function(call)\r\n\r\n    System.out.println(&quot;Armstrong num between given end points -&gt;&quot;+armStrongBetweenNum(1, 500));\r\n\r\noutput\r\n\r\n    Armstrong num between given end points -&gt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 153, 370, 371, 407]","title":"Checking if the Given numger is an Armstrong number with Java 8 Streams","body":"<p>if we need to generate list of Armstrong number between a range in Java 8 Streams.</p>\n<pre><code>static List&lt;Integer&gt; armStrongBetweenNum(int start,int end){\n    List&lt;Integer&gt; list=new ArrayList&lt;&gt;();\n    list=IntStream.rangeClosed(start, end)\n            .filter(i-&gt;isArmStrong(i)).boxed()\n            .collect(Collectors.toList());\n    return list;\n}\n</code></pre>\n<p>Main function(call)</p>\n<pre><code>System.out.println(&quot;Armstrong num between given end points -&gt;&quot;+armStrongBetweenNum(1, 500));\n</code></pre>\n<p>output</p>\n<pre><code>Armstrong num between given end points -&gt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 153, 370, 371, 407]\n</code></pre>\n"}],"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71662636,"answer_count":3,"score":0,"last_activity_date":1648559265,"creation_date":1648041208,"question_id":71587870,"body_markdown":"I&#39;m having an issue while checking if the supplied number is **Armstrong** or not.\r\n\r\nI&#39;m passing the `int` value of `370`, but as a result I&#39;m getting the value of `343`. \r\n\r\nCan someone point out what I&#39;m missing?\r\n\r\n**Input:** `370`\r\n**Expected:** `370`\r\n\r\n    static int isArmStrong(int num) {\r\n\t\treturn IntStream.rangeClosed(1, num)\r\n\t\t\t\t.map(i -&gt; i / 10)\r\n\t\t\t\t.map(i -&gt; i % 10)\r\n\t\t\t\t.reduce(1, (a, b)-&gt; (b * b * b));\t\t\r\n\t}","title":"Checking if the Given numger is an Armstrong number with Java 8 Streams","body":"<p>I'm having an issue while checking if the supplied number is <strong>Armstrong</strong> or not.</p>\n<p>I'm passing the <code>int</code> value of <code>370</code>, but as a result I'm getting the value of <code>343</code>.</p>\n<p>Can someone point out what I'm missing?</p>\n<p><strong>Input:</strong> <code>370</code>\n<strong>Expected:</strong> <code>370</code></p>\n<pre><code>static int isArmStrong(int num) {\n    return IntStream.rangeClosed(1, num)\n            .map(i -&gt; i / 10)\n            .map(i -&gt; i % 10)\n            .reduce(1, (a, b)-&gt; (b * b * b));       \n}\n</code></pre>\n"},{"tags":["java","javac","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648742067,"post_id":71657385,"comment_id":126707425,"body_markdown":"What exactly are these tests testing?","body":"What exactly are these tests testing?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1648807872,"post_id":71657385,"comment_id":126723413,"body_markdown":"I am an AspectJ committer, but not a JPMS expert. Mostly, I ignore the existence of Java modules, if I can. Anyway, the AspectJ compiler is a fork of the Eclipse Java compiler. While fixing a JPMS-related problem, I found a bunch of other module tests deactivated since JDK 11, because they used the removed Java EE classes which used to be part of the JDK before. I was just looking for other JDK classes which would allow me to test the (corner) case `--add-modules` without a simultaneous `--add-exports`. I simply do not like ignored tests.","body":"I am an AspectJ committer, but not a JPMS expert. Mostly, I ignore the existence of Java modules, if I can. Anyway, the AspectJ compiler is a fork of the Eclipse Java compiler. While fixing a JPMS-related problem, I found a bunch of other module tests deactivated since JDK 11, because they used the removed Java EE classes which used to be part of the JDK before. I was just looking for other JDK classes which would allow me to test the (corner) case <code>--add-modules</code> without a simultaneous <code>--add-exports</code>. I simply do not like ignored tests."}],"answers":[{"tags":[],"owner":{"account_id":11148187,"reputation":181,"user_id":8182287,"display_name":"Herv&#233; Guillemet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648559171,"creation_date":1648547360,"answer_id":71659845,"question_id":71657385,"body_markdown":"You can list all modules of the jdk with:\r\n```lang-bash\r\njava --list-modules\r\n```\r\nThen you can print the module descriptors with:\r\n```lang-bash\r\njava --describe-module a.module.name\r\n```\r\nAfter filterting these outputs in a little script, here are the modules of my JDK 17 than could qualify:\r\n```\r\njdk.charsets\r\njdk.crypto.cryptoki\r\njdk.crypto.ec\r\njdk.editpad\r\njdk.internal.vm.compiler\r\njdk.internal.vm.compiler.management\r\njdk.jcmd\r\njdk.jdwp.agent\r\njdk.jlink\r\njdk.jpackage\r\njdk.localedata\r\njdk.zipfs\r\n```\r\n`jdk.charsets`, for instance, is a module providing a service.\r\n\r\n---\r\n**Update after question update**\r\n\r\nSo you are looking for a module that exports a package but is not in the default module graph when compiling a class in the unnamed module. According to the JEP, only `java.*` modules can qualify. \r\n\r\nWhen I&#39;m looking for modules required, either directly or indirectly, by `java.se` (which is a root module when it exists), I see all `java.*` modules of the JDK, but `java.smartcardio`. And due to some unknown magic, `java.smartcardio` is also in the default graph : I tried to compile a class importing one of its class and it works without `--add-modules`.\r\n\r\nSo I think you are down to using a non-java module exporting no package (like `jdk.charsets`), importing one of its class (like `sun.nio.cs.ext.ExtendedCharsets`) and either:\r\n* add `--add-exports` in addition to `--add-modules` when compiling your test class so that `javac` succeeds.\r\n* or parse the error message of `javac` and distinguish between &quot;not in the module graph&quot; and &quot;not exported&quot;.\r\n","title":"Are there any JDK 11+ system modules which are not root modules?","body":"<p>You can list all modules of the jdk with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --list-modules\n</code></pre>\n<p>Then you can print the module descriptors with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --describe-module a.module.name\n</code></pre>\n<p>After filterting these outputs in a little script, here are the modules of my JDK 17 than could qualify:</p>\n<pre><code>jdk.charsets\njdk.crypto.cryptoki\njdk.crypto.ec\njdk.editpad\njdk.internal.vm.compiler\njdk.internal.vm.compiler.management\njdk.jcmd\njdk.jdwp.agent\njdk.jlink\njdk.jpackage\njdk.localedata\njdk.zipfs\n</code></pre>\n<p><code>jdk.charsets</code>, for instance, is a module providing a service.</p>\n<hr />\n<p><strong>Update after question update</strong></p>\n<p>So you are looking for a module that exports a package but is not in the default module graph when compiling a class in the unnamed module. According to the JEP, only <code>java.*</code> modules can qualify.</p>\n<p>When I'm looking for modules required, either directly or indirectly, by <code>java.se</code> (which is a root module when it exists), I see all <code>java.*</code> modules of the JDK, but <code>java.smartcardio</code>. And due to some unknown magic, <code>java.smartcardio</code> is also in the default graph : I tried to compile a class importing one of its class and it works without <code>--add-modules</code>.</p>\n<p>So I think you are down to using a non-java module exporting no package (like <code>jdk.charsets</code>), importing one of its class (like <code>sun.nio.cs.ext.ExtendedCharsets</code>) and either:</p>\n<ul>\n<li>add <code>--add-exports</code> in addition to <code>--add-modules</code> when compiling your test class so that <code>javac</code> succeeds.</li>\n<li>or parse the error message of <code>javac</code> and distinguish between &quot;not in the module graph&quot; and &quot;not exported&quot;.</li>\n</ul>\n"}],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71659845,"answer_count":1,"score":2,"last_activity_date":1648559171,"creation_date":1648535197,"question_id":71657385,"body_markdown":"In JDKs 9 and 10, there used to be a few modules such as `java.xml.bind`, containing Java EE classes. They were marked as deprecated and to be removed with the advent of JDK 9 and finally removed in 11 (see [JEP 320](https://openjdk.java.net/jeps/320)). In a product I am contributing to, there used to be tests for the `javac` compiler option `--add-modules`, adding those modules as root modules. Those tests have been deactivated for JDK 11+. Instead of removing them, I would like to reactivate them, if there are any other JDK modules which are also non-root by default. The tests could then just use those modules instead.\r\n\r\nI know I can just test `--add-modules` with my own modules, but then I have to specify them on the module path. The test case that an extra module path is not necessary for JDK modules added via `--add-modules` is also interesting, if any JDK 11+ modules still exist to be tested against. I am not talking about non-exported packages, but really about non-root JDK modules.\r\n\r\nSo, according to the information in [this answer](https://stackoverflow.com/a/62490247/1082681), I am actually looking for non-`java.*` modules among the system modules which do **not** export at least one package without qualification. In that case, those modules should not be root, and they would be eligible for my test case.\r\n\r\n---\r\n\r\n**Update:** What I am looking for is an equivalent for this in JDK 9:\r\n\r\n```java\r\nimport javax.xml.bind.JAXBContext;\r\n\r\npublic class UsesJAXB {\r\n  JAXBContext context;\r\n}\r\n```\r\n\r\n```none\r\nxx&gt; &quot;C:\\Program Files\\Java\\jdk-9.0.4\\bin&quot;\\javac UsesJAXB.java\r\nUsesJAXB.java:1: error: package javax.xml.bind is not visible\r\nimport javax.xml.bind.JAXBContext;\r\n                ^\r\n  (package javax.xml.bind is declared in module java.xml.bind, which is not in the module graph)\r\n1 error\r\n\r\nxx&gt; &quot;C:\\Program Files\\Java\\jdk-9.0.4\\bin&quot;\\javac --add-modules java.xml.bind UsesJAXB.java\r\n```\r\n\r\nSee? With `--add-modules` it builds, without it does not.\r\n\r\nI am looking for modules (if any) in JDK 11-18, which would yield the same result when importing their classes in a simple program, i.e. require them to be explicitly added via `--add-modules` for compilation (not talking about runtime).","title":"Are there any JDK 11+ system modules which are not root modules?","body":"<p>In JDKs 9 and 10, there used to be a few modules such as <code>java.xml.bind</code>, containing Java EE classes. They were marked as deprecated and to be removed with the advent of JDK 9 and finally removed in 11 (see <a href=\"https://openjdk.java.net/jeps/320\" rel=\"nofollow noreferrer\">JEP 320</a>). In a product I am contributing to, there used to be tests for the <code>javac</code> compiler option <code>--add-modules</code>, adding those modules as root modules. Those tests have been deactivated for JDK 11+. Instead of removing them, I would like to reactivate them, if there are any other JDK modules which are also non-root by default. The tests could then just use those modules instead.</p>\n<p>I know I can just test <code>--add-modules</code> with my own modules, but then I have to specify them on the module path. The test case that an extra module path is not necessary for JDK modules added via <code>--add-modules</code> is also interesting, if any JDK 11+ modules still exist to be tested against. I am not talking about non-exported packages, but really about non-root JDK modules.</p>\n<p>So, according to the information in <a href=\"https://stackoverflow.com/a/62490247/1082681\">this answer</a>, I am actually looking for non-<code>java.*</code> modules among the system modules which do <strong>not</strong> export at least one package without qualification. In that case, those modules should not be root, and they would be eligible for my test case.</p>\n<hr />\n<p><strong>Update:</strong> What I am looking for is an equivalent for this in JDK 9:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.bind.JAXBContext;\n\npublic class UsesJAXB {\n  JAXBContext context;\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>xx&gt; &quot;C:\\Program Files\\Java\\jdk-9.0.4\\bin&quot;\\javac UsesJAXB.java\nUsesJAXB.java:1: error: package javax.xml.bind is not visible\nimport javax.xml.bind.JAXBContext;\n                ^\n  (package javax.xml.bind is declared in module java.xml.bind, which is not in the module graph)\n1 error\n\nxx&gt; &quot;C:\\Program Files\\Java\\jdk-9.0.4\\bin&quot;\\javac --add-modules java.xml.bind UsesJAXB.java\n</code></pre>\n<p>See? With <code>--add-modules</code> it builds, without it does not.</p>\n<p>I am looking for modules (if any) in JDK 11-18, which would yield the same result when importing their classes in a simple program, i.e. require them to be explicitly added via <code>--add-modules</code> for compilation (not talking about runtime).</p>\n"},{"tags":["java","spring-boot","active-directory"],"comments":[{"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1648563562,"post_id":71662608,"comment_id":126652804,"body_markdown":"Does this answer your question? [Authentication with Spring-Security via Active Directory LDAP](https://stackoverflow.com/questions/58464421/authentication-with-spring-security-via-active-directory-ldap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58464421/authentication-with-spring-security-via-active-directory-ldap\">Authentication with Spring-Security via Active Directory LDAP</a>"},{"owner":{"account_id":22712634,"reputation":334,"user_id":16878379,"display_name":"Louis Chopard"},"score":0,"creation_date":1648719523,"post_id":71662608,"comment_id":126698158,"body_markdown":"I tried it, and sadly it doesn&#39;t. I still have a smiliar problem with this solution.","body":"I tried it, and sadly it doesn&#39;t. I still have a smiliar problem with this solution."}],"owner":{"account_id":22712634,"reputation":334,"user_id":16878379,"display_name":"Louis Chopard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648559144,"creation_date":1648559144,"question_id":71662608,"body_markdown":"I have some struggle with the connection of my AD to Spring Boot. I use Windows Server 2012 for my Active Directory.\r\n\r\nI want to secure my API request. Per example, I want members of the group `Sales` to only being able to call the api `www.company.com\\sales\\2022` and not the other departements.\r\n\r\nFor this, I want to authenticate users with their AD accounts and check their group, so I can give them or not the permission to call the request mapping.\r\n\r\nI tried a simple code to check If I can access to my AD with SpringBoot and it was successfull, but this wasn&#39;t the best way to do it (security problem!).\r\n\r\nSo I tried a better way that I found [here](https://spring.io/guides/gs/authenticating-ldap/):\r\n\r\n```\r\n@Configuration\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http\r\n      .authorizeRequests()\r\n        .anyRequest().fullyAuthenticated()\r\n        .and()\r\n      .formLogin();\r\n  }\r\n\r\n  @Override\r\n  public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth\r\n      .ldapAuthentication()\r\n        .userSearchFilter(&quot;(&amp;(objectCategory=user)(sAMAccountname={0}))&quot;)\r\n       \t.userSearchBase(&quot;OU=Users,OU=INT,OU=Companies, DC=mycompany,DC=com&quot;)\r\n        .contextSource()\r\n          .url(&quot;ldap://adserver.mycompany.com/&quot;)\r\n          .and()\r\n        .passwordCompare()\r\n          .passwordEncoder(new BCryptPasswordEncoder())\r\n          .passwordAttribute(&quot;userPassword&quot;);\r\n  }\r\n```\r\nI changed the values with the Active Directory&#39;s parameters. But when I try to log in I have this error :\r\n\r\n```\r\nUncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C090A71, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;ou=Users,ou=INT,ou=Companies,dc=mycompany,dc=com&#39;\r\n```\r\n\r\nI don&#39;t know what I am doing wrong. Maybe do I have to add an user that have the rights to check values in the AD? \r\n\r\n ","title":"Why do I have the error &#39;successful bind must be completed on the connection&#39; when I try to connect to my Active Directory with spring boot?","body":"<p>I have some struggle with the connection of my AD to Spring Boot. I use Windows Server 2012 for my Active Directory.</p>\n<p>I want to secure my API request. Per example, I want members of the group <code>Sales</code> to only being able to call the api <code>www.company.com\\sales\\2022</code> and not the other departements.</p>\n<p>For this, I want to authenticate users with their AD accounts and check their group, so I can give them or not the permission to call the request mapping.</p>\n<p>I tried a simple code to check If I can access to my AD with SpringBoot and it was successfull, but this wasn't the best way to do it (security problem!).</p>\n<p>So I tried a better way that I found <a href=\"https://spring.io/guides/gs/authenticating-ldap/\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n      .authorizeRequests()\n        .anyRequest().fullyAuthenticated()\n        .and()\n      .formLogin();\n  }\n\n  @Override\n  public void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n      .ldapAuthentication()\n        .userSearchFilter(&quot;(&amp;(objectCategory=user)(sAMAccountname={0}))&quot;)\n        .userSearchBase(&quot;OU=Users,OU=INT,OU=Companies, DC=mycompany,DC=com&quot;)\n        .contextSource()\n          .url(&quot;ldap://adserver.mycompany.com/&quot;)\n          .and()\n        .passwordCompare()\n          .passwordEncoder(new BCryptPasswordEncoder())\n          .passwordAttribute(&quot;userPassword&quot;);\n  }\n</code></pre>\n<p>I changed the values with the Active Directory's parameters. But when I try to log in I have this error :</p>\n<pre><code>Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C090A71, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name 'ou=Users,ou=INT,ou=Companies,dc=mycompany,dc=com'\n</code></pre>\n<p>I don't know what I am doing wrong. Maybe do I have to add an user that have the rights to check values in the AD?</p>\n"},{"tags":["java","digital-signature","pades"],"answers":[{"tags":[],"owner":{"account_id":1730223,"reputation":391,"user_id":1583981,"display_name":"veebee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648558709,"creation_date":1648558709,"answer_id":71662487,"question_id":71047773,"body_markdown":"I would say it depends on how the document was signed:\r\n- If signatures are added in a parallel way (3 signatures covering the same document hash), you should be able to see them using your code;\r\n- If signatures are added sequentially (original document signed first time, then the signed document is signed again, etc.), you should implement a recursive approach.\r\n\r\nI&#39;d suggest having a look at the SD-DSS library, which offers this functionality out of the box - see https://github.com/esig/dss . You will probably need to validate the signature in order to retrieve this info.","title":"Extract info about signatures - Cades &amp; Pades (Java)","body":"<p>I would say it depends on how the document was signed:</p>\n<ul>\n<li>If signatures are added in a parallel way (3 signatures covering the same document hash), you should be able to see them using your code;</li>\n<li>If signatures are added sequentially (original document signed first time, then the signed document is signed again, etc.), you should implement a recursive approach.</li>\n</ul>\n<p>I'd suggest having a look at the SD-DSS library, which offers this functionality out of the box - see <a href=\"https://github.com/esig/dss\" rel=\"nofollow noreferrer\">https://github.com/esig/dss</a> . You will probably need to validate the signature in order to retrieve this info.</p>\n"}],"owner":{"account_id":14520321,"reputation":51,"user_id":10488162,"display_name":"user10488162"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648558709,"creation_date":1644401981,"question_id":71047773,"body_markdown":"I have a document (pdf) signed with **1 Pades** signature and **2 Cades** signatures and I need to extract the information about the *signer of each signature*.\r\n\r\nI&#39;m using **CMSSignedData** (bouncy castle library), but when I try to get the info, I only get the information about the last signature.\r\n\r\n    byte[] buffer = new byte[(int) tmpFile.length()];\r\n        DataInputStream dataIn = new DataInputStream(new FileInputStream(tmpFile));\r\n        dataIn.readFully(buffer);\r\n        dataIn.close();\r\n        \r\n            CMSSignedData signature = new CMSSignedData(buffer);\r\n            Store cs = signature.getCertificates();\r\n            SignerInformationStore signers = signature.getSignerInfos();\r\n            String hashOriginalFile = DigestUtils.sha256Hex(\r\n                    (byte[])signature.getSignedContent().getContent());\r\n\r\n            List&lt;SignInfo&gt; certificatesInfo = signers.getSigners().stream()\r\n                    .map(si -&gt; cs.getMatches(si.getSID()))\r\n                    .flatMap(Collection::stream)\r\n                    .map(o -&gt; (X509CertificateHolder) o)\r\n                    .map(cert -&gt; new SignInfo(hashOriginalFile, getCommonName(cert.getSubject()), cert.getIssuer().toString(), null, null))\r\n                    .collect(Collectors.toList());\r\n            \r\n\r\nThere is a way to get *all the signatures* information? even using another library.\r\n\r\nThank you!","title":"Extract info about signatures - Cades &amp; Pades (Java)","body":"<p>I have a document (pdf) signed with <strong>1 Pades</strong> signature and <strong>2 Cades</strong> signatures and I need to extract the information about the <em>signer of each signature</em>.</p>\n<p>I'm using <strong>CMSSignedData</strong> (bouncy castle library), but when I try to get the info, I only get the information about the last signature.</p>\n<pre><code>byte[] buffer = new byte[(int) tmpFile.length()];\n    DataInputStream dataIn = new DataInputStream(new FileInputStream(tmpFile));\n    dataIn.readFully(buffer);\n    dataIn.close();\n    \n        CMSSignedData signature = new CMSSignedData(buffer);\n        Store cs = signature.getCertificates();\n        SignerInformationStore signers = signature.getSignerInfos();\n        String hashOriginalFile = DigestUtils.sha256Hex(\n                (byte[])signature.getSignedContent().getContent());\n\n        List&lt;SignInfo&gt; certificatesInfo = signers.getSigners().stream()\n                .map(si -&gt; cs.getMatches(si.getSID()))\n                .flatMap(Collection::stream)\n                .map(o -&gt; (X509CertificateHolder) o)\n                .map(cert -&gt; new SignInfo(hashOriginalFile, getCommonName(cert.getSubject()), cert.getIssuer().toString(), null, null))\n                .collect(Collectors.toList());\n        \n</code></pre>\n<p>There is a way to get <em>all the signatures</em> information? even using another library.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1648558115,"post_id":71661907,"comment_id":126650289,"body_markdown":"Please just don&#39;t do that. It&#39;s not a good practice. If you must then just take it as object and cast it with ```instanceof String/YourClass```","body":"Please just don&#39;t do that. It&#39;s not a good practice. If you must then just take it as object and cast it with <code>instanceof String&#47;YourClass</code>"},{"owner":{"account_id":17315311,"reputation":673,"user_id":12541916,"display_name":"Catalina"},"score":0,"creation_date":1648558326,"post_id":71661907,"comment_id":126650369,"body_markdown":"could you give me an example of how to do that","body":"could you give me an example of how to do that"},{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1648558424,"post_id":71661907,"comment_id":126650407,"body_markdown":"imo, you should create two different APIs &amp; DTOs to accept the string &amp; object.","body":"imo, you should create two different APIs &amp; DTOs to accept the string &amp; object."}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648558705,"creation_date":1648558705,"answer_id":71662486,"question_id":71661907,"body_markdown":"Let&#39;s say that this function is your controller, so it accepts requests\r\n\r\n**Don&#39;t use this, this is bad**\r\n\r\n    void processVeryBadIdea(Request request) {\r\n        Prencible prencible = request.getBody();\r\n        \r\n        switch (prencible.getType()){\r\n            case naming:\r\n               processSimpleData((String) prencible.getValue());\r\n            case complex:\r\n               processComplexData((PrencibleComplex) prencible.getValue());\r\n        }\r\n    }\r\n\r\nYou can do it like that, but it&#39;s also the worst idea you can have.\r\n\r\n**You should create 2 controller functions each for each request type that you want to handle. You can have shared logic inside. But don&#39;t do this. This just hurts when you want to use api like that.**","title":"Enabling multi type of requestbody in springboot based on type","body":"<p>Let's say that this function is your controller, so it accepts requests</p>\n<p><strong>Don't use this, this is bad</strong></p>\n<pre><code>void processVeryBadIdea(Request request) {\n    Prencible prencible = request.getBody();\n    \n    switch (prencible.getType()){\n        case naming:\n           processSimpleData((String) prencible.getValue());\n        case complex:\n           processComplexData((PrencibleComplex) prencible.getValue());\n    }\n}\n</code></pre>\n<p>You can do it like that, but it's also the worst idea you can have.</p>\n<p><strong>You should create 2 controller functions each for each request type that you want to handle. You can have shared logic inside. But don't do this. This just hurts when you want to use api like that.</strong></p>\n"}],"owner":{"account_id":17315311,"reputation":673,"user_id":12541916,"display_name":"Catalina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648558705,"creation_date":1648556378,"question_id":71661907,"body_markdown":"i have a post request with requestbody, how can i enabling both type, string and object based on the enum type?\r\n\r\nexample sending string field\r\n\r\n     &quot;prencible&quot;: {\r\n            &quot;type&quot;: &quot;naming&quot;,\r\n            &quot;value&quot;: &quot;alex&quot;\r\n            \r\n        },\r\n\r\nexample sending object field\r\n\r\n     &quot;prencible&quot;: {\r\n            &quot;type&quot;: &quot;complex&quot;,\r\n            &quot;value&quot;: {\r\n    &quot;firstnames&quot;: [\r\n                    &quot;alex&quot;, &quot;alex2&quot;\r\n                ],\r\n                &quot;lastnames&quot;: [\r\n                    &quot;john&quot;, &quot;john2&quot;\r\n                ]\r\n    \r\n    }\r\n            \r\n        },\r\n\r\nthe type is enum has only \r\nnaming AND complex values\r\n\r\nhow can i implement a dto class for prencible which has\r\nonce\r\n\r\n    Prencible{\r\n    type = complex ;\r\n    PrencibleComplex; // here it has two attributes array \r\n    \r\n    }\r\n\r\nand can also be\r\n\r\n    Prencible{\r\n    type = naming;\r\n    String value; // simply string\r\n    \r\n    }\r\n\r\n","title":"Enabling multi type of requestbody in springboot based on type","body":"<p>i have a post request with requestbody, how can i enabling both type, string and object based on the enum type?</p>\n<p>example sending string field</p>\n<pre><code> &quot;prencible&quot;: {\n        &quot;type&quot;: &quot;naming&quot;,\n        &quot;value&quot;: &quot;alex&quot;\n        \n    },\n</code></pre>\n<p>example sending object field</p>\n<pre><code> &quot;prencible&quot;: {\n        &quot;type&quot;: &quot;complex&quot;,\n        &quot;value&quot;: {\n&quot;firstnames&quot;: [\n                &quot;alex&quot;, &quot;alex2&quot;\n            ],\n            &quot;lastnames&quot;: [\n                &quot;john&quot;, &quot;john2&quot;\n            ]\n\n}\n        \n    },\n</code></pre>\n<p>the type is enum has only\nnaming AND complex values</p>\n<p>how can i implement a dto class for prencible which has\nonce</p>\n<pre><code>Prencible{\ntype = complex ;\nPrencibleComplex; // here it has two attributes array \n\n}\n</code></pre>\n<p>and can also be</p>\n<pre><code>Prencible{\ntype = naming;\nString value; // simply string\n\n}\n</code></pre>\n"},{"tags":["java","websphere","redhat"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648544934,"post_id":71655744,"comment_id":126644925,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1648558528,"post_id":71655744,"comment_id":126650449,"body_markdown":"Is this is a SpringBoot application JAR?    Otherwise you would generally need to deploy a WAR or EAR file to the server rather than a JAR.   You can package the server itself as a runnable JAR though.   Is this WebSphere Liberty?  Some more detail would be helpful.","body":"Is this is a SpringBoot application JAR?    Otherwise you would generally need to deploy a WAR or EAR file to the server rather than a JAR.   You can package the server itself as a runnable JAR though.   Is this WebSphere Liberty?  Some more detail would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648558697,"creation_date":1648558697,"answer_id":71662484,"question_id":71655744,"body_markdown":"It&#39;s not clear from your description exactly what you&#39;re trying to do, but based on your title, I assume you&#39;re trying to run a Java application.  Liberty is an app server for running Java EE apps, but given that you&#39;re trying to run a file ending in .jar, that is more typical of a standalone (Java SE) app.  Also, the command line you&#39;re using is mixing options, the --archive option is for specifying a target file for the server package or dump operation.  See the IBM help topic https://www.ibm.com/docs/en/was-liberty/base?topic=line-server-command-options for more details.  On the Liberty app server, you can deploy Java EE (not Java SE) apps by copying the .ear or .war of the app to the dropins directory.  If you provide additional details about the contents of test.jar and what you&#39;re trying to achieve, you&#39;ll get a more complete answer.","title":"Can not run jar file on websphere","body":"<p>It's not clear from your description exactly what you're trying to do, but based on your title, I assume you're trying to run a Java application.  Liberty is an app server for running Java EE apps, but given that you're trying to run a file ending in .jar, that is more typical of a standalone (Java SE) app.  Also, the command line you're using is mixing options, the --archive option is for specifying a target file for the server package or dump operation.  See the IBM help topic <a href=\"https://www.ibm.com/docs/en/was-liberty/base?topic=line-server-command-options\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-liberty/base?topic=line-server-command-options</a> for more details.  On the Liberty app server, you can deploy Java EE (not Java SE) apps by copying the .ear or .war of the app to the dropins directory.  If you provide additional details about the contents of test.jar and what you're trying to achieve, you'll get a more complete answer.</p>\n"}],"owner":{"account_id":23118596,"reputation":11,"user_id":17225440,"display_name":"Ted Minh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648558697,"creation_date":1648520471,"question_id":71655744,"body_markdown":"I had problem with Websphere.\r\nI want to run test.jar in websphere.\r\n\r\nI copy test.jar in dropins and run &quot;sh ./server start --archive=&quot;java -jar ../dropins/test.jar&quot;\r\nStarting server --\\&gt; ok\r\nBut console.log empty","title":"Can not run jar file on websphere","body":"<p>I had problem with Websphere.\nI want to run test.jar in websphere.</p>\n<p>I copy test.jar in dropins and run &quot;sh ./server start --archive=&quot;java -jar ../dropins/test.jar&quot;\nStarting server --&gt; ok\nBut console.log empty</p>\n"},{"tags":["java","methods","switch-statement"],"comments":[{"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"score":1,"creation_date":1648551362,"post_id":71660779,"comment_id":126647558,"body_markdown":"The method you are calling has tree parameters, however you are supplying none. Is this the error you are having?","body":"The method you are calling has tree parameters, however you are supplying none. Is this the error you are having?"},{"owner":{"account_id":24668749,"reputation":11,"user_id":18564003,"display_name":"lil rookie"},"score":0,"creation_date":1648551462,"post_id":71660779,"comment_id":126647599,"body_markdown":"yes, i already tried to put (String empNo[], String Name[], int rate[]) on it but still having an error","body":"yes, i already tried to put (String empNo[], String Name[], int rate[]) on it but still having an error"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1648551582,"post_id":71660779,"comment_id":126647645,"body_markdown":"You do not instantiate arrays this way. Have a look at this [tutorial](https://www.javatpoint.com/array-in-java#:~:text=Java%20array%20is%20an%20object,elements%20in%20a%20Java%20array.).","body":"You do not instantiate arrays this way. Have a look at this <a href=\"https://www.javatpoint.com/array-in-java#:~:text=Java%20array%20is%20an%20object,elements%20in%20a%20Java%20array.\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":24668749,"reputation":11,"user_id":18564003,"display_name":"lil rookie"},"score":0,"creation_date":1648551913,"post_id":71660779,"comment_id":126647779,"body_markdown":"@Mushroomator if you mean that i still dont have java arrays, like int rate[] = {150,250,250,300,300,450,250,450};.i already have it(in my main) but i just didnt put it here because its kinda long code. or i shouldnt put it in my main?","body":"@Mushroomator if you mean that i still dont have java arrays, like int rate[] = {150,250,250,300,300,450,250,450};.i already have it(in my main) but i just didnt put it here because its kinda long code. or i shouldnt put it in my main?"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1648558307,"post_id":71660779,"comment_id":126650362,"body_markdown":"You need to pass array instances to your `prtEmployees()` method. So you will need them in your `Action()` method at some point. You either instantiate them there or you pass them as a parameter to `Action()`.","body":"You need to pass array instances to your <code>prtEmployees()</code> method. So you will need them in your <code>Action()</code> method at some point. You either instantiate them there or you pass them as a parameter to <code>Action()</code>."}],"answers":[{"tags":[],"owner":{"account_id":13472129,"reputation":132,"user_id":12718773,"display_name":"ksclfanatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648558557,"creation_date":1648558557,"answer_id":71662437,"question_id":71660779,"body_markdown":"The problem in your code is not about using a switch, but calling a method with a wrong amount of parameters.\r\nThe method **prtEmployees** requires 3 parameters:\r\n\r\n 1. String array of employee no&#39;s\r\n 2. String array of employee names\r\n 3. Int array of employee rates\r\n\r\nThe 3 parameters are **always** required to be placed.\r\n\r\nBased on your code snippet, I can&#39;t see where your input is, where your employee data is coming from. But I created a sample where I call your method in a main class with some dummy data to give an example:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] employeeNos = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\r\n            String[] names = {&quot;Alfred&quot;, &quot;James&quot;, &quot;Siegfried&quot;};\r\n            int[] rates = {2,3,5};\r\n    \r\n            Action(1, employeeNos, names, rates);\r\n            Action(2, employeeNos, names, rates);\r\n        }\r\n    \r\n        public static void  prtEmployees(String[] employeeNumbers, String[] names, int[] rates) {\r\n            System.out.print(&quot;Employee No.\\tEmployee Name\\tRate/Hour\\n&quot;);\r\n            for(int i = 0; i &lt; employeeNumbers.length; i++) {\r\n                System.out.printf(&quot;%s.\\t%s\\t%d\\n&quot;, employeeNumbers[i], names[i], rates[i]);\r\n            }\r\n    \r\n        }\r\n        private static void Action(int choice, String[] employeeNos, String[] names, int[] rates) {\r\n            switch (choice) {\r\n                case 1:\r\n                    prtEmployees(employeeNos, names, rates);\r\n                    break;\r\n                case 2:\r\n                    System.out.println(&quot;No employee print because of choice 1&quot;);\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Only choice 1 and 2 are allowed&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThis gives as output:\r\n\r\n&gt; Employee No.\tEmployee Name\tRate/Hour\r\n&gt; 1.\tAlfred\t2\r\n&gt; 2.\tJames\t3\r\n&gt; 3.\tSiegfried\t5 \r\n&gt; Only choice 1 and 2 are allowed\r\n\r\n**Explanation**\r\nFirst I call the action method with choice 1 and some dummy data, which will pass the dummy data to the print method and it will print out the 3 columns of employee data.\r\nThen I call the same method with choice value 2, which prints an additional single line, just to illustrate the functionality of it.\r\nJust for fun I added a default behaviour that other values than 1 and 2 will throw an exception.","title":"how should i put my method(with array) in a switch statement in java?","body":"<p>The problem in your code is not about using a switch, but calling a method with a wrong amount of parameters.\nThe method <strong>prtEmployees</strong> requires 3 parameters:</p>\n<ol>\n<li>String array of employee no's</li>\n<li>String array of employee names</li>\n<li>Int array of employee rates</li>\n</ol>\n<p>The 3 parameters are <strong>always</strong> required to be placed.</p>\n<p>Based on your code snippet, I can't see where your input is, where your employee data is coming from. But I created a sample where I call your method in a main class with some dummy data to give an example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String[] employeeNos = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\n        String[] names = {&quot;Alfred&quot;, &quot;James&quot;, &quot;Siegfried&quot;};\n        int[] rates = {2,3,5};\n\n        Action(1, employeeNos, names, rates);\n        Action(2, employeeNos, names, rates);\n    }\n\n    public static void  prtEmployees(String[] employeeNumbers, String[] names, int[] rates) {\n        System.out.print(&quot;Employee No.\\tEmployee Name\\tRate/Hour\\n&quot;);\n        for(int i = 0; i &lt; employeeNumbers.length; i++) {\n            System.out.printf(&quot;%s.\\t%s\\t%d\\n&quot;, employeeNumbers[i], names[i], rates[i]);\n        }\n\n    }\n    private static void Action(int choice, String[] employeeNos, String[] names, int[] rates) {\n        switch (choice) {\n            case 1:\n                prtEmployees(employeeNos, names, rates);\n                break;\n            case 2:\n                System.out.println(&quot;No employee print because of choice 1&quot;);\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Only choice 1 and 2 are allowed&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This gives as output:</p>\n<blockquote>\n<p>Employee No.  Employee Name   Rate/Hour</p>\n<ol>\n<li>Alfred  2</li>\n<li>James   3</li>\n<li>Siegfried   5\nOnly choice 1 and 2 are allowed</li>\n</ol>\n</blockquote>\n<p><strong>Explanation</strong>\nFirst I call the action method with choice 1 and some dummy data, which will pass the dummy data to the print method and it will print out the 3 columns of employee data.\nThen I call the same method with choice value 2, which prints an additional single line, just to illustrate the functionality of it.\nJust for fun I added a default behaviour that other values than 1 and 2 will throw an exception.</p>\n"}],"owner":{"account_id":24668749,"reputation":11,"user_id":18564003,"display_name":"lil rookie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71662437,"answer_count":1,"score":-1,"last_activity_date":1648558557,"creation_date":1648551257,"question_id":71660779,"body_markdown":"whats the right way to put a method(with array code) in a switch statement?\r\n\r\n    \tpublic static void  prtEmployees(String empNo[], String Name[], int rate[]) {\r\n\t\tSystem.out.println(&quot;Employee No.\tEmployee Name\tRate/Hour&quot;);\r\n        for(int i = 0; i &lt; empNo.length; i++) {\r\n\t\t\tSystem.out.printf(&quot;%s: %s&quot;, empNo[i], Name[i], rate[i]);\r\n\t\t}\r\n\t\r\n\t}\r\n\tprivate void Action(int choice) {\r\n\tswitch(choice) {\r\n\tcase 1:\r\n\t\tprtEmployees(); // im having an error here\r\n\t\tbreak;","title":"how should i put my method(with array) in a switch statement in java?","body":"<p>whats the right way to put a method(with array code) in a switch statement?</p>\n<pre><code>    public static void  prtEmployees(String empNo[], String Name[], int rate[]) {\n    System.out.println(&quot;Employee No.    Employee Name   Rate/Hour&quot;);\n    for(int i = 0; i &lt; empNo.length; i++) {\n        System.out.printf(&quot;%s: %s&quot;, empNo[i], Name[i], rate[i]);\n    }\n\n}\nprivate void Action(int choice) {\nswitch(choice) {\ncase 1:\n    prtEmployees(); // im having an error here\n    break;\n</code></pre>\n"},{"tags":["java","exception","try-catch","kotlin"],"comments":[{"owner":{"account_id":1897481,"reputation":1530,"user_id":1714102,"display_name":"PrzemekTom"},"score":0,"creation_date":1531735607,"post_id":46730315,"comment_id":89690700,"body_markdown":"ArithmeticException is not _checked exception_, so even in JAVA programmer wouldn&#39;t be warned. You would have to use eg. IOException","body":"ArithmeticException is not <i>checked exception</i>, so even in JAVA programmer wouldn&#39;t be warned. You would have to use eg. IOException"},{"owner":{"account_id":8302973,"reputation":2091,"user_id":6241054,"accept_rate":69,"display_name":"Jocky Doe"},"score":0,"creation_date":1531739232,"post_id":46730315,"comment_id":89692814,"body_markdown":"@Przemo Really, is that so? Thank you for that info","body":"@Przemo Really, is that so? Thank you for that info"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1507899101,"creation_date":1507899101,"answer_id":46730402,"question_id":46730315,"body_markdown":"Given the fact that the language doesn&#39;t have a construct to make this explicit, the only thing left is: implicitly.\r\n\r\nFor example by putting javadoc that clearly tells the user of the method about what/why exceptions might be thrown at him. Or you use the [@Throws][1] annotation.\r\n\r\nMaybe, maybe the kotlin team will add *compiler warnings* at some point to make up for this ( see [here][2] ).\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/\r\n  [2]: https://discuss.kotlinlang.org/t/in-future-could-kotlin-have-checked-exception/1579","title":"Kotlin checked exceptions alternative","body":"<p>Given the fact that the language doesn't have a construct to make this explicit, the only thing left is: implicitly.</p>\n\n<p>For example by putting javadoc that clearly tells the user of the method about what/why exceptions might be thrown at him. Or you use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/\" rel=\"noreferrer\">@Throws</a> annotation.</p>\n\n<p>Maybe, maybe the kotlin team will add <em>compiler warnings</em> at some point to make up for this ( see <a href=\"https://discuss.kotlinlang.org/t/in-future-could-kotlin-have-checked-exception/1579\" rel=\"noreferrer\">here</a> ).</p>\n"},{"tags":[],"owner":{"account_id":8987793,"reputation":151,"user_id":6700830,"display_name":"CodesInTheDark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530841388,"creation_date":1530841388,"answer_id":51201970,"question_id":46730315,"body_markdown":"You can return Try so that client can call isSuccess or isFailure http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html\r\n\r\nYou can also return nullable type BigDecimal? so that client will know that the value might not exist (when divided by zero you can return null).","title":"Kotlin checked exceptions alternative","body":"<p>You can return Try so that client can call isSuccess or isFailure <a href=\"http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html\" rel=\"nofollow noreferrer\">http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html</a></p>\n\n<p>You can also return nullable type BigDecimal? so that client will know that the value might not exist (when divided by zero you can return null).</p>\n"},{"tags":[],"owner":{"account_id":5832613,"reputation":2099,"user_id":4596649,"accept_rate":57,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648558548,"creation_date":1648558548,"answer_id":71662434,"question_id":46730315,"body_markdown":"You can use `kotlin.Result` https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-result/\r\n\r\n    import java.math.BigDecimal\r\n    \r\n    class Calculator() {\r\n    \r\n        private companion object {\r\n            val ZERO: BigDecimal = BigDecimal(0)\r\n        }\r\n    \r\n        fun divide(dividend: BigDecimal, divider: BigDecimal): Result&lt;BigDecimal&gt; =\r\n            if (divider != ZERO) {\r\n                val ans = dividend.divide(divider)\r\n                Result.success(ans)\r\n            } else {\r\n                val throwable = ArithmeticException(&quot;Division by zero&quot;)\r\n                Result.failure(throwable)\r\n            }\r\n    }","title":"Kotlin checked exceptions alternative","body":"<p>You can use <code>kotlin.Result</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-result/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-result/</a></p>\n<pre><code>import java.math.BigDecimal\n\nclass Calculator() {\n\n    private companion object {\n        val ZERO: BigDecimal = BigDecimal(0)\n    }\n\n    fun divide(dividend: BigDecimal, divider: BigDecimal): Result&lt;BigDecimal&gt; =\n        if (divider != ZERO) {\n            val ans = dividend.divide(divider)\n            Result.success(ans)\n        } else {\n            val throwable = ArithmeticException(&quot;Division by zero&quot;)\n            Result.failure(throwable)\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":8302973,"reputation":2091,"user_id":6241054,"accept_rate":69,"display_name":"Jocky Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5691,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":46730402,"answer_count":3,"score":17,"last_activity_date":1648558548,"creation_date":1507898864,"question_id":46730315,"body_markdown":"Since Kotlin doesn&#39;t support checked exceptions then how to make a programmer aware that a method may throw exception\r\n\r\nSimple example:\r\n\r\n    class Calculator (value: Int = 0) {\r\n        \r\n        fun divide (dividend: BigDecimal, divider: BigDecimal) : BigDecimal {\r\n            return dividend / divider\r\n        }\r\n    }\r\n\r\nObviously the divide method may throw `java.lang.ArithmeticException: Division by zero` exception and the creator of the library needs to warn the user of the class to put the invoke in a `try-catch` clause\r\n\r\nWhat&#39;s the mechanism for that awareness in Kotlin?\r\n\r\n","title":"Kotlin checked exceptions alternative","body":"<p>Since Kotlin doesn't support checked exceptions then how to make a programmer aware that a method may throw exception</p>\n\n<p>Simple example:</p>\n\n<pre><code>class Calculator (value: Int = 0) {\n\n    fun divide (dividend: BigDecimal, divider: BigDecimal) : BigDecimal {\n        return dividend / divider\n    }\n}\n</code></pre>\n\n<p>Obviously the divide method may throw <code>java.lang.ArithmeticException: Division by zero</code> exception and the creator of the library needs to warn the user of the class to put the invoke in a <code>try-catch</code> clause</p>\n\n<p>What's the mechanism for that awareness in Kotlin?</p>\n"},{"tags":["java","spring-boot","apache-kafka-streams"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1648979742,"post_id":71662431,"comment_id":126755670,"body_markdown":"can you put a reproducer in github ?","body":"can you put a reproducer in github ?"},{"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"score":0,"creation_date":1649323530,"post_id":71662431,"comment_id":126848482,"body_markdown":"Unfortunately not because that&#39;s business code, but it looks from my tests that the exception handler catches only expections thrown in the stream and in the partitioner. I think that we&#39;re not supposed to thrown in the partitioner...","body":"Unfortunately not because that&#39;s business code, but it looks from my tests that the exception handler catches only expections thrown in the stream and in the partitioner. I think that we&#39;re not supposed to thrown in the partitioner..."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1649335569,"post_id":71662431,"comment_id":126853037,"body_markdown":"reproducer means simpler version of your project, no need to put your business code, but kafka spring versions are important and what kind of exception handler you used. Actually most of the time while preparing a reproducer you see better of the situation and solve it.","body":"reproducer means simpler version of your project, no need to put your business code, but kafka spring versions are important and what kind of exception handler you used. Actually most of the time while preparing a reproducer you see better of the situation and solve it."}],"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648558534,"creation_date":1648558534,"question_id":71662431,"body_markdown":"I have a project with Spring Boot and Kafka Streams.\r\n\r\nI extended the existing DefaultPartitioner as described in this tutorial: https://blog.clairvoyantsoft.com/writing-custom-partitioner-for-apache-kafka-77935e46064e\r\n\r\nI just needed to add some validation on the key.\r\n\r\nIf the key isn&#39;t correct, then an exception is thrown.\r\n\r\nI&#39;d like to catch this exception, log it and exit.\r\n\r\nI tried to catch the exception as follows:\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class Test {\r\n    \r\n        @Autowired\r\n        private StreamsBuilderFactoryBean factory;\r\n    \r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void start() {\r\n            factory.getKafkaStreams().setUncaughtExceptionHandler((t, e) -&gt; {\r\n                log.error(e.getMessage(), e);\r\n                factory.stop();\r\n                System.exit(1);\r\n            });\r\n        }\r\n    }\r\n\r\nTo test this code, I just changed the partitioner so that it always throws:\r\n\r\n    @Override\r\n        public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes,\r\n            Cluster cluster) {\r\n            throw new RuntimeException();\r\n    }\r\n\r\n\r\nMy expectation is that the exception is catched but it actually doesn&#39;t and I don&#39;t know why.","title":"How to catch exception thrown by a Kafka partitioner","body":"<p>I have a project with Spring Boot and Kafka Streams.</p>\n<p>I extended the existing DefaultPartitioner as described in this tutorial: <a href=\"https://blog.clairvoyantsoft.com/writing-custom-partitioner-for-apache-kafka-77935e46064e\" rel=\"nofollow noreferrer\">https://blog.clairvoyantsoft.com/writing-custom-partitioner-for-apache-kafka-77935e46064e</a></p>\n<p>I just needed to add some validation on the key.</p>\n<p>If the key isn't correct, then an exception is thrown.</p>\n<p>I'd like to catch this exception, log it and exit.</p>\n<p>I tried to catch the exception as follows:</p>\n<pre><code>@Service\n@Slf4j\npublic class Test {\n\n    @Autowired\n    private StreamsBuilderFactoryBean factory;\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void start() {\n        factory.getKafkaStreams().setUncaughtExceptionHandler((t, e) -&gt; {\n            log.error(e.getMessage(), e);\n            factory.stop();\n            System.exit(1);\n        });\n    }\n}\n</code></pre>\n<p>To test this code, I just changed the partitioner so that it always throws:</p>\n<pre><code>@Override\n    public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes,\n        Cluster cluster) {\n        throw new RuntimeException();\n}\n</code></pre>\n<p>My expectation is that the exception is catched but it actually doesn't and I don't know why.</p>\n"},{"tags":["java","security","random","uuid"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":2,"creation_date":1316799630,"post_id":7532807,"comment_id":9125916,"body_markdown":"see: [How good is Java&#39;s UUID Random UUID?](http://stackoverflow.com/questions/2513573/how-good-is-javas-uuid-randomuuid)","body":"see: <a href=\"http://stackoverflow.com/questions/2513573/how-good-is-javas-uuid-randomuuid\">How good is Java&#39;s UUID Random UUID?</a>"},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1316800377,"post_id":7532807,"comment_id":9126086,"body_markdown":"`however I know the UUID isn&#39;t completely random` - there is no such thing as completely randomm, and I don&#39;t know how you have come to this conclusion (certainly looks unfounded). All UUID generators have to work on the output of a PRNG that has it&#39;s own source of randomness. And the PRNG used by most JVMs (SHA1PRNG) is certainly good enough to be used in the SSL protocol stack.","body":"<code>however I know the UUID isn&#39;t completely random</code> - there is no such thing as completely randomm, and I don&#39;t know how you have come to this conclusion (certainly looks unfounded). All UUID generators have to work on the output of a PRNG that has it&#39;s own source of randomness. And the PRNG used by most JVMs (SHA1PRNG) is certainly good enough to be used in the SSL protocol stack."},{"owner":{"account_id":134312,"reputation":11572,"user_id":336355,"display_name":"Ishtar"},"score":0,"creation_date":1316801413,"post_id":7532807,"comment_id":9126308,"body_markdown":"@VineetReynolds - I think OP meant true randomness. Also, there are more sources of randomness than just PRNG&#39;s.","body":"@VineetReynolds - I think OP meant true randomness. Also, there are more sources of randomness than just PRNG&#39;s."},{"owner":{"account_id":448545,"reputation":2006,"user_id":842800,"accept_rate":59,"display_name":"ant-depalma"},"score":0,"creation_date":1316801537,"post_id":7532807,"comment_id":9126338,"body_markdown":"I&#39;ve taken a look at that other post, but it doesn&#39;t matter much about uniqueness across other applications. Any random number generator can generate the same number for two apps coincidentally but that doesn&#39;t speak much about its predictability within one domain.","body":"I&#39;ve taken a look at that other post, but it doesn&#39;t matter much about uniqueness across other applications. Any random number generator can generate the same number for two apps coincidentally but that doesn&#39;t speak much about its predictability within one domain."},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1316801893,"post_id":7532807,"comment_id":9126417,"body_markdown":"@Ishtar, there is no such thing as true randomness when discussing real random number generators. That&#39;s why they&#39;re referred to as pseudo RNGs, because the number can always be traced back to a definite instant in time. Besides, a PRNG can use several sources of randomness (I think you&#39;re confusing PRNGs with sources of randomness). SHA1PRNG is not restricted to a few or one source.","body":"@Ishtar, there is no such thing as true randomness when discussing real random number generators. That&#39;s why they&#39;re referred to as pseudo RNGs, because the number can always be traced back to a definite instant in time. Besides, a PRNG can use several sources of randomness (I think you&#39;re confusing PRNGs with sources of randomness). SHA1PRNG is not restricted to a few or one source."}],"answers":[{"tags":[],"owner":{"account_id":301920,"reputation":2739,"user_id":609973,"display_name":"MarianP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316800659,"creation_date":1316800336,"answer_id":7532964,"question_id":7532807,"body_markdown":"I have always thought that the &#39;cryptographically secure random number generator&#39;, (actually &#39;cryptographically strong pseudo random number generator&#39;) Javadoc note answers this.\r\n\r\nhttp://download.oracle.com/javase/1,5.0/docs/api/java/util/UUID.html#randomUUID()\r\n\r\nFrom What Wikipedia says\r\nhttp://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator\r\nsuch prediction would be a non-polynomial algorithm.\r\n\r\nIf you need something &#39;truely&#39; not just &#39;pseudo&#39; random, you need to use something external, a hardware noise generator, random points generated after moving a mouse,...\r\n\r\n\r\n**EntropyPool** seems to be helping with that, have not tried it yet\r\nhttp://random.hd.org/\r\nThe way I understand it, it let&#39;s you **download some real world noise** and use it in your Java app. It is not connected to java.util.UUID api, however, could probably be plugged in using the *nameUUIDFromBytes* (or other?) method.\r\n\r\nWould be cool if you let us know which way you decided to go.","title":"Are Java random UUID&#39;s predictable?","body":"<p>I have always thought that the 'cryptographically secure random number generator', (actually 'cryptographically strong pseudo random number generator') Javadoc note answers this.</p>\n\n<p><a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/UUID.html#randomUUID\" rel=\"nofollow\">http://download.oracle.com/javase/1,5.0/docs/api/java/util/UUID.html#randomUUID</a>()</p>\n\n<p>From What Wikipedia says\n<a href=\"http://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator</a>\nsuch prediction would be a non-polynomial algorithm.</p>\n\n<p>If you need something 'truely' not just 'pseudo' random, you need to use something external, a hardware noise generator, random points generated after moving a mouse,...</p>\n\n<p><strong>EntropyPool</strong> seems to be helping with that, have not tried it yet\n<a href=\"http://random.hd.org/\" rel=\"nofollow\">http://random.hd.org/</a>\nThe way I understand it, it let's you <strong>download some real world noise</strong> and use it in your Java app. It is not connected to java.util.UUID api, however, could probably be plugged in using the <em>nameUUIDFromBytes</em> (or other?) method.</p>\n\n<p>Would be cool if you let us know which way you decided to go.</p>\n"},{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1648558368,"creation_date":1316800342,"answer_id":7532965,"question_id":7532807,"body_markdown":"Well if you want to know how random a UUID is you have to look onto the source.\r\n\r\nThe following code section is taken from [OpenJDK7][1] (and it is identical in [OpenJDK6][2]):\r\n\r\n    public static UUID randomUUID() {\r\n            SecureRandom ng = numberGenerator;\r\n            if (ng == null) {\r\n                numberGenerator = ng = new SecureRandom();\r\n            }\r\n    \r\n            byte[] randomBytes = new byte[16];\r\n            ng.nextBytes(randomBytes);\r\n            randomBytes[6]  &amp;= 0x0f;  /* clear version (set highest 4 bits to zero)       */\r\n            randomBytes[6]  |= 0x40;  /* set to version 4     */\r\n            randomBytes[8]  &amp;= 0x3f;  /* clear variant (set highest 2 bits to zero)       */\r\n            randomBytes[8]  |= 0x80;  /* set to IETF variant  */\r\n            return new UUID(randomBytes);\r\n        }\r\n\r\nAs you can see only 2 of 16 bytes are not completely random. In the sixth byte you lose 4 of 8 bits and on byte 8 you loose 2 bits of randomness.\r\n\r\nTherefore you will get an 128 bit value with 122 bit randomness. \r\n\r\nThe only problem that may arise from the manipulation is that with a high chance your data can be identified as an UUID. Therefore if you want to hide it in other random data this will not work...\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/sandbox/jdk7/jdk/file/3a3c4785e7a7/src/share/classes/java/util/UUID.java#l171\r\n  [2]: http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/2d585507a41b/src/share/classes/java/util/UUID.java#l171","title":"Are Java random UUID&#39;s predictable?","body":"<p>Well if you want to know how random a UUID is you have to look onto the source.</p>\n<p>The following code section is taken from <a href=\"http://hg.openjdk.java.net/sandbox/jdk7/jdk/file/3a3c4785e7a7/src/share/classes/java/util/UUID.java#l171\" rel=\"nofollow noreferrer\">OpenJDK7</a> (and it is identical in <a href=\"http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/2d585507a41b/src/share/classes/java/util/UUID.java#l171\" rel=\"nofollow noreferrer\">OpenJDK6</a>):</p>\n<pre><code>public static UUID randomUUID() {\n        SecureRandom ng = numberGenerator;\n        if (ng == null) {\n            numberGenerator = ng = new SecureRandom();\n        }\n\n        byte[] randomBytes = new byte[16];\n        ng.nextBytes(randomBytes);\n        randomBytes[6]  &amp;= 0x0f;  /* clear version (set highest 4 bits to zero)       */\n        randomBytes[6]  |= 0x40;  /* set to version 4     */\n        randomBytes[8]  &amp;= 0x3f;  /* clear variant (set highest 2 bits to zero)       */\n        randomBytes[8]  |= 0x80;  /* set to IETF variant  */\n        return new UUID(randomBytes);\n    }\n</code></pre>\n<p>As you can see only 2 of 16 bytes are not completely random. In the sixth byte you lose 4 of 8 bits and on byte 8 you loose 2 bits of randomness.</p>\n<p>Therefore you will get an 128 bit value with 122 bit randomness.</p>\n<p>The only problem that may arise from the manipulation is that with a high chance your data can be identified as an UUID. Therefore if you want to hide it in other random data this will not work...</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316801640,"creation_date":1316801640,"answer_id":7533164,"question_id":7532807,"body_markdown":"If you want to generate a secure random key, I suggest you use SecureRandom.  This can generate a key of any number of bits you require.  Its slower than Random, but much more secure.","title":"Are Java random UUID&#39;s predictable?","body":"<p>If you want to generate a secure random key, I suggest you use SecureRandom.  This can generate a key of any number of bits you require.  Its slower than Random, but much more secure.</p>\n"}],"owner":{"account_id":448545,"reputation":2006,"user_id":842800,"accept_rate":59,"display_name":"ant-depalma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23589,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":7532965,"answer_count":3,"score":45,"last_activity_date":1648558368,"creation_date":1316799334,"question_id":7532807,"body_markdown":"I would like to use a cryptographically secure primary key for sensitive data in a database - this cannot be guessable/predictable and it cannot be generated by the database (I need the key before the object is persisted).\r\n\r\nI understand Java uses a type 4 UUID with a cryptographically secure random number generator, however I know the UUID isn&#39;t completely random so my question is how safe is it to assume that uuids cannot be predicted from a set of existing ones?","title":"Are Java random UUID&#39;s predictable?","body":"<p>I would like to use a cryptographically secure primary key for sensitive data in a database - this cannot be guessable/predictable and it cannot be generated by the database (I need the key before the object is persisted).</p>\n\n<p>I understand Java uses a type 4 UUID with a cryptographically secure random number generator, however I know the UUID isn't completely random so my question is how safe is it to assume that uuids cannot be predicted from a set of existing ones?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648557800,"creation_date":1648557800,"answer_id":71662248,"question_id":71662180,"body_markdown":"PDF files don&#39;t work like that.\r\n\r\nIt is a complex format, and there is a lot more data in the files than just text and images, such as metadata and formatting.\r\n\r\nIf you want to handle PDF files in your app, you should use a PDF library, such as the ones listed here:\r\n\r\nhttps://camposha.info/android-examples/android-pdf-libraries/#gsc.tab=0\r\n\r\nHow exactly to load text will depend on the specific library you choose, and you should check the relevant documentation.\r\n\r\n","title":"How to differentiate text and images from a PDF file using java?","body":"<p>PDF files don't work like that.</p>\n<p>It is a complex format, and there is a lot more data in the files than just text and images, such as metadata and formatting.</p>\n<p>If you want to handle PDF files in your app, you should use a PDF library, such as the ones listed here:</p>\n<p><a href=\"https://camposha.info/android-examples/android-pdf-libraries/#gsc.tab=0\" rel=\"nofollow noreferrer\">https://camposha.info/android-examples/android-pdf-libraries/#gsc.tab=0</a></p>\n<p>How exactly to load text will depend on the specific library you choose, and you should check the relevant documentation.</p>\n"}],"owner":{"account_id":24732664,"reputation":3,"user_id":18620454,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71662248,"answer_count":1,"score":0,"last_activity_date":1648557800,"creation_date":1648557502,"question_id":71662180,"body_markdown":"So i have to make an android app using Java that reads a PDF File and displays it on screen without using other programs(such as PDF Reader). How to make a distinction between text and image in that file? in other words, there is text and in between text ther is an image, how do i verify where it is text and where is an image?","title":"How to differentiate text and images from a PDF file using java?","body":"<p>So i have to make an android app using Java that reads a PDF File and displays it on screen without using other programs(such as PDF Reader). How to make a distinction between text and image in that file? in other words, there is text and in between text ther is an image, how do i verify where it is text and where is an image?</p>\n"},{"tags":["java","ubuntu","java-8","environment-variables","ubuntu-16.04"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503260124,"creation_date":1503260124,"answer_id":45786389,"question_id":45786357,"body_markdown":"`java` appears to be correctly installed, you can run &quot;java&quot; with\r\n\r\n    $ java &lt;MYOPTIONS&gt;\r\n\r\nYour **error** is trying to execute your &quot;PATH&quot; with `$PATH` if you want to display the path, you echo it. Like,\r\n\r\n    $ echo $PATH\r\n\r\nOr, if you want to find where java is\r\n\r\n    $ type -path java\r\n    /usr/bin/java\r\n\r\nOr, the more usual Ubuntu way\r\n\r\n    $ update-java-alternatives -l\r\n    java-1.8.0-openjdk-amd64       1081       /usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n    java-8-oracle                  1081       /usr/lib/jvm/java-8-oracle\r\n\r\n","title":"No such file or directory Java Ubuntu","body":"<p><code>java</code> appears to be correctly installed, you can run \"java\" with</p>\n\n<pre><code>$ java &lt;MYOPTIONS&gt;\n</code></pre>\n\n<p>Your <strong>error</strong> is trying to execute your \"PATH\" with <code>$PATH</code> if you want to display the path, you echo it. Like,</p>\n\n<pre><code>$ echo $PATH\n</code></pre>\n\n<p>Or, if you want to find where java is</p>\n\n<pre><code>$ type -path java\n/usr/bin/java\n</code></pre>\n\n<p>Or, the more usual Ubuntu way</p>\n\n<pre><code>$ update-java-alternatives -l\njava-1.8.0-openjdk-amd64       1081       /usr/lib/jvm/java-1.8.0-openjdk-amd64\njava-8-oracle                  1081       /usr/lib/jvm/java-8-oracle\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7817944,"reputation":338,"user_id":5911964,"display_name":"absence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648557478,"creation_date":1648557478,"answer_id":71662170,"question_id":45786357,"body_markdown":"Had a similar issue on my Ubuntu, all variables were set correctly but had an error anyway. Turned out that my Ubuntu was missing some packages. Fixed with following lines\r\n\r\n    apt-get install libc6-i386","title":"No such file or directory Java Ubuntu","body":"<p>Had a similar issue on my Ubuntu, all variables were set correctly but had an error anyway. Turned out that my Ubuntu was missing some packages. Fixed with following lines</p>\n<pre><code>apt-get install libc6-i386\n</code></pre>\n"}],"owner":{"account_id":4004200,"reputation":1269,"user_id":3299347,"accept_rate":58,"display_name":"superkytoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6990,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1648557478,"creation_date":1503259887,"question_id":45786357,"body_markdown":"I get the message no such file or directory as you can see in the image below:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see I do have a `bin` folder in `/usr/lib/java/jdk1.8.0_144/bin`\r\n\r\nIn my `.bashrc` file I have the following contents:\r\n\r\n    #Java HOME directory setup\r\n    export JAVA_HOME=/usr/lib/java/jdk1.8.0_144\r\n    export PATH=&quot;$PATH:$JAVA_HOME/bin&quot;\r\n\r\nI also came across the following 2 questions:\r\n\r\nhttps://askubuntu.com/questions/207552/no-such-file-or-directory-when-invoking-java\r\n\r\n https://stackoverflow.com/questions/9081962/java-is-installed-in-listing-but-execution-produces-java-no-such-file-or-d/9082947#9082947\r\n\r\nAnd I had followed Petesh answer to use the `ldd java` command to see which packages I&#180;m missing. But as you can see in the image below it didn&#180;t worked out:\r\n[![enter image description here][2]][2]\r\n\r\nHowever I can see that both `java -version` and `ldd --version` commands are working. I&#180;m using a 64-bit notebook. Can someone maybe help me, please?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nT0qI.png\r\n  [2]: https://i.stack.imgur.com/RYh94.png","title":"No such file or directory Java Ubuntu","body":"<p>I get the message no such file or directory as you can see in the image below:\n<a href=\"https://i.stack.imgur.com/nT0qI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nT0qI.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see I do have a <code>bin</code> folder in <code>/usr/lib/java/jdk1.8.0_144/bin</code></p>\n\n<p>In my <code>.bashrc</code> file I have the following contents:</p>\n\n<pre><code>#Java HOME directory setup\nexport JAVA_HOME=/usr/lib/java/jdk1.8.0_144\nexport PATH=\"$PATH:$JAVA_HOME/bin\"\n</code></pre>\n\n<p>I also came across the following 2 questions:</p>\n\n<p><a href=\"https://askubuntu.com/questions/207552/no-such-file-or-directory-when-invoking-java\">https://askubuntu.com/questions/207552/no-such-file-or-directory-when-invoking-java</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/9081962/java-is-installed-in-listing-but-execution-produces-java-no-such-file-or-d/9082947#9082947\">Java is installed, in listing, but execution produces &quot;./java: No such file or directory&quot;</a></p>\n\n<p>And I had followed Petesh answer to use the <code>ldd java</code> command to see which packages Im missing. But as you can see in the image below it didnt worked out:\n<a href=\"https://i.stack.imgur.com/RYh94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYh94.png\" alt=\"enter image description here\"></a></p>\n\n<p>However I can see that both <code>java -version</code> and <code>ldd --version</code> commands are working. Im using a 64-bit notebook. Can someone maybe help me, please?</p>\n"},{"tags":["java","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1648512124,"post_id":71654598,"comment_id":126637789,"body_markdown":"Does class Account have a getter for username and password?...","body":"Does class Account have a getter for username and password?..."},{"owner":{"display_name":"user18613404"},"score":0,"creation_date":1648540174,"post_id":71654598,"comment_id":126643127,"body_markdown":"My Account class has a function for this.user and this.pass and I&#39;m trying to get that to work","body":"My Account class has a function for this.user and this.pass and I&#39;m trying to get that to work"}],"answers":[{"tags":[],"owner":{"account_id":19586199,"reputation":206,"user_id":14334255,"display_name":"Batman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648508870,"creation_date":1648508870,"answer_id":71654645,"question_id":71654598,"body_markdown":"Login: Iterate over ```accounts```, put the subject element in ```Account```:  \r\n```Account acc = accounts.get(i);```. Check ```acc.username``` for input username and then for password.  \r\nDisplay Users: Iterate like above and just ```System.out.println(acc.username);```","title":"How do I grab the username and password from my ArrayList so that I can verify a login?","body":"<p>Login: Iterate over <code>accounts</code>, put the subject element in <code>Account</code>:<br />\n<code>Account acc = accounts.get(i);</code>. Check <code>acc.username</code> for input username and then for password.<br />\nDisplay Users: Iterate like above and just <code>System.out.println(acc.username);</code></p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648557476,"creation_date":1648512422,"answer_id":71655024,"question_id":71654598,"body_markdown":"Assuming class `Account` had both `getUsername()` and `getPassword()` getters that return a String, you&#39;d do something like:\r\n\r\n    String username;\r\n    String password;\r\n    \r\n    System.out.println(&quot;Enter your username please &quot;);\r\n    username = input.nextLine();\r\n\r\n    System.out.println(&quot;Enter your password please &quot;);\r\n    password = input.nextLine();\r\n\r\n    boolean loggedIn = false;\r\n    for(Account acc : accounts) {\r\n      if (acc.getUsername().equals(username) &amp;&amp; acc.getPassword().equals(password)) {\r\n        loggedIn = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (loggedIn) {\r\n      System.out.print(&quot;You have been logged into your account&quot;);\r\n    }\r\n    else {\r\n        System.out.print(&quot;You have typed in an incorrect username or password, please try again&quot;);\r\n    }\r\n\r\nFor your `Account` class, you should never use the default access modifier for fields (`user` and `pass`). This means that those values can be freely changed without any validation. They should be `private` and then you should provide &quot;getters&quot; for them to make them read-only. Making them `private` means they cannot be seen from outside the class. If you provide &quot;setters&quot; for them then you can guarantee that they don&#39;t get changed without you validating the new values first, or performing other necessary actions upon a change:\r\n\r\n    public class Account {\r\n    \r\n        private String user;\r\n        private String pass;\r\n        \r\n        public Account(String username, String password) {\r\n            this.user = username;\r\n            this.pass = password;                        \r\n        }\r\n        \r\n        public String getUsername() {\r\n            return user;\r\n        }\r\n\r\n        public String getPassword() {\r\n            return pass;\r\n        }\r\n\r\n    }","title":"How do I grab the username and password from my ArrayList so that I can verify a login?","body":"<p>Assuming class <code>Account</code> had both <code>getUsername()</code> and <code>getPassword()</code> getters that return a String, you'd do something like:</p>\n<pre><code>String username;\nString password;\n\nSystem.out.println(&quot;Enter your username please &quot;);\nusername = input.nextLine();\n\nSystem.out.println(&quot;Enter your password please &quot;);\npassword = input.nextLine();\n\nboolean loggedIn = false;\nfor(Account acc : accounts) {\n  if (acc.getUsername().equals(username) &amp;&amp; acc.getPassword().equals(password)) {\n    loggedIn = true;\n    break;\n  }\n}\n\nif (loggedIn) {\n  System.out.print(&quot;You have been logged into your account&quot;);\n}\nelse {\n    System.out.print(&quot;You have typed in an incorrect username or password, please try again&quot;);\n}\n</code></pre>\n<p>For your <code>Account</code> class, you should never use the default access modifier for fields (<code>user</code> and <code>pass</code>). This means that those values can be freely changed without any validation. They should be <code>private</code> and then you should provide &quot;getters&quot; for them to make them read-only. Making them <code>private</code> means they cannot be seen from outside the class. If you provide &quot;setters&quot; for them then you can guarantee that they don't get changed without you validating the new values first, or performing other necessary actions upon a change:</p>\n<pre><code>public class Account {\n\n    private String user;\n    private String pass;\n    \n    public Account(String username, String password) {\n        this.user = username;\n        this.pass = password;                        \n    }\n    \n    public String getUsername() {\n        return user;\n    }\n\n    public String getPassword() {\n        return pass;\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user18613404"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648557476,"creation_date":1648508367,"question_id":71654598,"body_markdown":"    package appLogin;\r\n    \r\n    public class Account {\r\n    \r\n    \tString user;\r\n    \tString pass;\r\n    \t\r\n    \tpublic Account(String username, String password) {\r\n    \t\tthis.user = username;\r\n    \t\tthis.pass = password;\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n    public static void logIn() {\r\n    \t\tString username;\r\n    \t\tString password;\r\n    \t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n    \t\t\tSystem.out.println(&quot;Enter your username please &quot;);\r\n    \t\t\tusername = scanner.nextLine();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Enter your password please &quot;);\r\n    \t\t\tpassword = scanner.nextLine();\r\n    \r\n    \t\t\tboolean loggedIn = false;\r\n    \t\t\tfor(Account acc : accounts) {\r\n    \t\t\t\tif (acc.user.equals(username) &amp;&amp; acc.pass.equals(password)) {\r\n    \t\t\t\t\tloggedIn = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (loggedIn) {\r\n    \t\t\t\tSystem.out.print(&quot;You have been logged into your account&quot;);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tSystem.out.print(&quot;You have typed in an incorrect username or password, please try again&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nI can get a user registered and their details will be parsed properly but I can&#39;t for the life of me get it to work as a whole system and allow me to login with that user or check all the users registered.\r\n\r\nI tried to create a program that would ask the user to register a user (making sure that their username and password were the correct length) and then allowing them to login with the same username and password. Lastly I wanted to be able to display all the usernames that have registered using an Arraylist (accounts).\r\n\r\nEdit, I have now fixed this program and shown my Account file so you guys can figure it out too. ","title":"How do I grab the username and password from my ArrayList so that I can verify a login?","body":"<pre><code>package appLogin;\n\npublic class Account {\n\n    String user;\n    String pass;\n    \n    public Account(String username, String password) {\n        this.user = username;\n        this.pass = password;\n        \n        \n    }\n    \n    \n}\npublic static void logIn() {\n        String username;\n        String password;\n        try (Scanner scanner = new Scanner(System.in)) {\n            System.out.println(&quot;Enter your username please &quot;);\n            username = scanner.nextLine();\n\n            System.out.println(&quot;Enter your password please &quot;);\n            password = scanner.nextLine();\n\n            boolean loggedIn = false;\n            for(Account acc : accounts) {\n                if (acc.user.equals(username) &amp;&amp; acc.pass.equals(password)) {\n                    loggedIn = true;\n                    break;\n                }\n            }\n\n            if (loggedIn) {\n                System.out.print(&quot;You have been logged into your account&quot;);\n            }\n            else {\n                System.out.print(&quot;You have typed in an incorrect username or password, please try again&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>I can get a user registered and their details will be parsed properly but I can't for the life of me get it to work as a whole system and allow me to login with that user or check all the users registered.</p>\n<p>I tried to create a program that would ask the user to register a user (making sure that their username and password were the correct length) and then allowing them to login with the same username and password. Lastly I wanted to be able to display all the usernames that have registered using an Arraylist (accounts).</p>\n<p>Edit, I have now fixed this program and shown my Account file so you guys can figure it out too.</p>\n"},{"tags":["java","android-studio","speech-recognition"],"comments":[{"owner":{"account_id":2192250,"reputation":9760,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":2,"creation_date":1448566742,"post_id":33945843,"comment_id":55650798,"body_markdown":"It seems like all you&#39;re doing is setting the text on `resultTEXT`.","body":"It seems like all you&#39;re doing is setting the text on <code>resultTEXT</code>."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1448618420,"post_id":33945843,"comment_id":55667455,"body_markdown":"How are you expecting it to vocalize your strings, if you&#39;re never calling the `speak()` method of the TTS Engine?","body":"How are you expecting it to vocalize your strings, if you&#39;re never calling the <code>speak()</code> method of the TTS Engine?"}],"owner":{"account_id":7344174,"reputation":51,"user_id":5592507,"accept_rate":25,"display_name":"Bryan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648557461,"creation_date":1448566247,"question_id":33945843,"body_markdown":"There is a problem with a speech-to-text feature I&#39;m trying to implement.\r\n\r\nA button is pressed to begin speech to text feature, but everytime it is pressed, it just displays the toast message instead of actually converting speech to text\r\n\r\nHere is the code.\r\n\r\n\r\n    public class Speech extends Activity{\r\n    private TextView resultTEXT;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.speechtotext);\r\n        resultTEXT = (TextView)findViewById((R.id.TVresult));\r\n    }\r\n\r\n    public void onButtonClick (View v)\r\n    {\r\n        if(v.getId() == R.id.imageButton)\r\n        {\r\n\r\n            promptSpeechInput(); //method call\r\n        }\r\n    }\r\n    public void promptSpeechInput()\r\n    {\r\n        Intent i = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        i.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL , RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        i.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n        i.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Say Something&quot;);\r\n\r\n        try\r\n        {\r\n            startActivityForResult(i, 100);\r\n        }\r\n        catch(ActivityNotFoundException a)\r\n        {\r\n            Toast.makeText(Speech.this, &quot;Sorry, your device doesn&#39;t support speech to text&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n    public void onActivityResult(int request_code, int result_code, Intent i)\r\n    {\r\n      super.onActivityResult(request_code, result_code, i);\r\n\r\n      switch(request_code)\r\n      {\r\n          case 100: if(result_code == RESULT_OK &amp;&amp; i != null)\r\n          {\r\n              ArrayList&lt;String&gt; result = i.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n              resultTEXT.setText(result.get(0));\r\n          }\r\n              break;\r\n      }\r\n\r\n    }\r\n\r\n}","title":"Speech to text android feature","body":"<p>There is a problem with a speech-to-text feature I'm trying to implement.</p>\n\n<p>A button is pressed to begin speech to text feature, but everytime it is pressed, it just displays the toast message instead of actually converting speech to text</p>\n\n<p>Here is the code.</p>\n\n<pre><code>public class Speech extends Activity{\nprivate TextView resultTEXT;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.speechtotext);\n    resultTEXT = (TextView)findViewById((R.id.TVresult));\n}\n\npublic void onButtonClick (View v)\n{\n    if(v.getId() == R.id.imageButton)\n    {\n\n        promptSpeechInput(); //method call\n    }\n}\npublic void promptSpeechInput()\n{\n    Intent i = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    i.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL , RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n    i.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n    i.putExtra(RecognizerIntent.EXTRA_PROMPT, \"Say Something\");\n\n    try\n    {\n        startActivityForResult(i, 100);\n    }\n    catch(ActivityNotFoundException a)\n    {\n        Toast.makeText(Speech.this, \"Sorry, your device doesn't support speech to text\", Toast.LENGTH_LONG).show();\n    }\n}\n\npublic void onActivityResult(int request_code, int result_code, Intent i)\n{\n  super.onActivityResult(request_code, result_code, i);\n\n  switch(request_code)\n  {\n      case 100: if(result_code == RESULT_OK &amp;&amp; i != null)\n      {\n          ArrayList&lt;String&gt; result = i.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n          resultTEXT.setText(result.get(0));\n      }\n          break;\n  }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","visual-studio-code","project"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1648557417,"post_id":71662065,"comment_id":126649986,"body_markdown":"You need to find out where you have installed the Java SDK and then set the environment variable in your operating system accordingly. Here a [guide for Windows](https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html). On Linux add `export JAVA_HOME=/path/to/java` in your `.profile` (Ubuntu) or `.bash_profile` on other distros.","body":"You need to find out where you have installed the Java SDK and then set the environment variable in your operating system accordingly. Here a <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">guide for Windows</a>. On Linux add <code>export JAVA_HOME=&#47;path&#47;to&#47;java</code> in your <code>.profile</code> (Ubuntu) or <code>.bash_profile</code> on other distros."}],"answers":[{"tags":[],"owner":{"account_id":9566147,"reputation":446,"user_id":7105377,"accept_rate":57,"display_name":"Dilini Peiris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648557410,"creation_date":1648557410,"answer_id":71662151,"question_id":71662065,"body_markdown":"You need to set the Java installed path to your machine&#39;s environmental variables.\r\n\r\nFollow this tutorial - [How to set JAVA_HOME on Windows 10?][1] \r\n\r\n\r\n  [1]: https://mkyong.com/java/how-to-set-java_home-on-windows-10/","title":"Problem in creating a project using java extension package in visual studio code","body":"<p>You need to set the Java installed path to your machine's environmental variables.</p>\n<p>Follow this tutorial - <a href=\"https://mkyong.com/java/how-to-set-java_home-on-windows-10/\" rel=\"nofollow noreferrer\">How to set JAVA_HOME on Windows 10?</a></p>\n"},{"tags":[],"owner":{"account_id":19215106,"reputation":58,"user_id":14040015,"display_name":"Lasith M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648557446,"creation_date":1648557446,"answer_id":71662160,"question_id":71662065,"body_markdown":"Did you install Java Extension Pack in VS code and add the jdk path?\r\nPlease check [this][1] question.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65331242/getting-error-java-home-not-found-in-your-environment-when-attempting-to-crea","title":"Problem in creating a project using java extension package in visual studio code","body":"<p>Did you install Java Extension Pack in VS code and add the jdk path?\nPlease check <a href=\"https://stackoverflow.com/questions/65331242/getting-error-java-home-not-found-in-your-environment-when-attempting-to-crea\">this</a> question.</p>\n"}],"owner":{"account_id":23616652,"reputation":13,"user_id":17650647,"display_name":"Leonardo Fabbro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71662151,"answer_count":2,"score":0,"last_activity_date":1648557446,"creation_date":1648557041,"question_id":71662065,"body_markdown":"When I try to create a project in visual studio code using the downloaded Java extension package it gives me the following error:\r\n\r\nError: JAVA_HOME not found in your environment. \r\nPlease set the JAVA_HOME variable in your environment to match the \r\nlocation of your Java installation. \r\n\r\n\r\nHow can I fix it?\r\n\r\n","title":"Problem in creating a project using java extension package in visual studio code","body":"<p>When I try to create a project in visual studio code using the downloaded Java extension package it gives me the following error:</p>\n<p>Error: JAVA_HOME not found in your environment.\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648557330,"creation_date":1648556338,"answer_id":71661897,"question_id":71661328,"body_markdown":"You need to conditionally remove the where statement to stop filtering on that column, empty string or null values will also be matched against the data in the table. Or you could change the query to:\r\n\r\n    FROM titem WHERE (id = :id OR :id = &#39;&#39;)","title":"How to Set parameter to null value in java with hibernate?","body":"<p>You need to conditionally remove the where statement to stop filtering on that column, empty string or null values will also be matched against the data in the table. Or you could change the query to:</p>\n<pre><code>FROM titem WHERE (id = :id OR :id = '')\n</code></pre>\n"}],"owner":{"account_id":21124930,"reputation":1,"user_id":15530360,"display_name":"Jagad Chandana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648557330,"creation_date":1648553896,"question_id":71661328,"body_markdown":"I try to get all data in table(SELECT \\* FROM) mysql database, Using real time search, But not load data to table.\r\n\r\nI called *getAll(&quot;&quot;)* method with empty String, But I can&#39;t get any value from my table.\r\n\r\n```\r\npublic ArrayList&lt;Titem&gt; getAll(String text) throws SQLException, ClassNotFoundException {\r\n            Session session = HibernateUtil.openSession();\r\n            Query query = session.createQuery(&quot;FROM titem WHERE id = :id&quot;);\r\n            query.setParameter(&quot;id&quot;,text);\r\n            List&lt;Titem&gt; list = query.list();\r\n            ArrayList&lt;Titem&gt; entityList = new ArrayList&lt;&gt;();\r\n            for (Titem t:list\r\n            ) {\r\n                Titem titem = new Titem(\r\n                        t.getId(),\r\n                        t.getName(),\r\n                        t.getPrice()\r\n                );\r\n                entityList.add(titem);\r\n            }\r\n            return entityList;\r\n\r\n    }\r\n```","title":"How to Set parameter to null value in java with hibernate?","body":"<p>I try to get all data in table(SELECT * FROM) mysql database, Using real time search, But not load data to table.</p>\n<p>I called <em>getAll(&quot;&quot;)</em> method with empty String, But I can't get any value from my table.</p>\n<pre><code>public ArrayList&lt;Titem&gt; getAll(String text) throws SQLException, ClassNotFoundException {\n            Session session = HibernateUtil.openSession();\n            Query query = session.createQuery(&quot;FROM titem WHERE id = :id&quot;);\n            query.setParameter(&quot;id&quot;,text);\n            List&lt;Titem&gt; list = query.list();\n            ArrayList&lt;Titem&gt; entityList = new ArrayList&lt;&gt;();\n            for (Titem t:list\n            ) {\n                Titem titem = new Titem(\n                        t.getId(),\n                        t.getName(),\n                        t.getPrice()\n                );\n                entityList.add(titem);\n            }\n            return entityList;\n\n    }\n</code></pre>\n"},{"tags":["java","operators","uuid","secure-random"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1648557396,"post_id":71662107,"comment_id":126649973,"body_markdown":"they are bit operations. Check out this article https://www.baeldung.com/java-bitwise-operators","body":"they are bit operations. Check out this article <a href=\"https://www.baeldung.com/java-bitwise-operators\" rel=\"nofollow noreferrer\">baeldung.com/java-bitwise-operators</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1648557799,"post_id":71662107,"comment_id":126650152,"body_markdown":"See also my explanation on randomness of UUID https://stackoverflow.com/questions/7532807/are-java-random-uuids-predictable/7532965#7532965","body":"See also my explanation on randomness of UUID <a href=\"https://stackoverflow.com/questions/7532807/are-java-random-uuids-predictable/7532965#7532965\" title=\"are java random uuids predictable\">stackoverflow.com/questions/7532807/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648570077,"post_id":71662107,"comment_id":126655910,"body_markdown":"Bitwise OR is used to guarantee particular bits are 1.  Bitwise AND is used to guarantee particular bits are 0.  (This practice goes back many decades.)","body":"Bitwise OR is used to guarantee particular bits are 1.  Bitwise AND is used to guarantee particular bits are 0.  (This practice goes back many decades.)"}],"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648557228,"creation_date":1648557228,"question_id":71662107,"body_markdown":"I&#39;m looking to understand the following operators \r\n\r\n- `&amp;= 0x0f` /* clear version        */\r\n- `|= 0x40` /* set to version 4     */\r\n- `&amp;= 0x3f` /* clear variant        */\r\n- `|= 0x80`. /* set to IETF variant  */\r\n\r\nFound in the following code UUID native java class\r\n```java\r\npublic static UUID randomUUID() {\r\n        SecureRandom ng = Holder.numberGenerator;\r\n\r\n        byte[] randomBytes = new byte[16];\r\n        ng.nextBytes(randomBytes);\r\n        randomBytes[6]  &amp;= 0x0f;  /* clear version        */\r\n        randomBytes[6]  |= 0x40;  /* set to version 4     */\r\n        randomBytes[8]  &amp;= 0x3f;  /* clear variant        */\r\n        randomBytes[8]  |= 0x80;  /* set to IETF variant  */\r\n        return new UUID(randomBytes);\r\n    }\r\n```\r\n\r\nMy understanding is that it creates 16 random numbers puts them into an array and then on the 5th and 7th item in that array it applies some operations on it.  I&#39;m not following what those operations are as I have not seen `&amp;=` and `|` used like this before nor the hexidecimal codes?. Any pointers much appreciated.","title":"RandomUUID in UUID operators code explanation","body":"<p>I'm looking to understand the following operators</p>\n<ul>\n<li><code>&amp;= 0x0f</code> /* clear version        */</li>\n<li><code>|= 0x40</code> /* set to version 4     */</li>\n<li><code>&amp;= 0x3f</code> /* clear variant        */</li>\n<li><code>|= 0x80</code>. /* set to IETF variant  */</li>\n</ul>\n<p>Found in the following code UUID native java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static UUID randomUUID() {\n        SecureRandom ng = Holder.numberGenerator;\n\n        byte[] randomBytes = new byte[16];\n        ng.nextBytes(randomBytes);\n        randomBytes[6]  &amp;= 0x0f;  /* clear version        */\n        randomBytes[6]  |= 0x40;  /* set to version 4     */\n        randomBytes[8]  &amp;= 0x3f;  /* clear variant        */\n        randomBytes[8]  |= 0x80;  /* set to IETF variant  */\n        return new UUID(randomBytes);\n    }\n</code></pre>\n<p>My understanding is that it creates 16 random numbers puts them into an array and then on the 5th and 7th item in that array it applies some operations on it.  I'm not following what those operations are as I have not seen <code>&amp;=</code> and <code>|</code> used like this before nor the hexidecimal codes?. Any pointers much appreciated.</p>\n"},{"tags":["java","spring-boot","kotlin","testing","mockito"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648544476,"post_id":71659097,"comment_id":126644767,"body_markdown":"Static calls aren&#39;t &quot;made&quot; on individual objects anyway, so no way you can verify that. Maybe you could turn to powermockito for that, but then, powermockito is almost always the wrong answer.","body":"Static calls aren&#39;t &quot;made&quot; on individual objects anyway, so no way you can verify that. Maybe you could turn to powermockito for that, but then, powermockito is almost always the wrong answer."},{"owner":{"account_id":5074520,"reputation":1491,"user_id":4072335,"display_name":"Can_of_awe"},"score":0,"creation_date":1648549646,"post_id":71659097,"comment_id":126646879,"body_markdown":"Consider using Mockk (https://mockk.io/) in a kotlin project. It supports mocking of static functions and is generally designed for easier use with kotlin&#39;s syntax.","body":"Consider using Mockk (<a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">mockk.io</a>) in a kotlin project. It supports mocking of static functions and is generally designed for easier use with kotlin&#39;s syntax."},{"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosaw"},"score":0,"creation_date":1648552690,"post_id":71659097,"comment_id":126648058,"body_markdown":"@Can_of_awe I used mockk but dropped it during migration from Micronaut to Spring Boot because it doesn&#39;t work seamlessly with \\@MockBean","body":"@Can_of_awe I used mockk but dropped it during migration from Micronaut to Spring Boot because it doesn&#39;t work seamlessly with \\@MockBean"}],"answers":[{"tags":[],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648557203,"creation_date":1648557203,"answer_id":71662099,"question_id":71659097,"body_markdown":"I&#39;ve found a workaround, which isn&#39;t that bad\r\n\r\nCreate a wrapper around the static Spring Boot factory and inject that in real code.\r\n\r\n```\r\n/**\r\n * Wrapper around BodyInserters static factory\r\n */\r\n@Service\r\nclass BodyInsertersFactory {\r\n    fun fromFormData(name: String, value: String): BodyInserters.FormInserter&lt;String&gt; =\r\n        BodyInserters.fromFormData(name, value)\r\n}\r\n```\r\n\r\n\r\nThen in tests:\r\n\r\n```\r\n    @SpyBean private val bodyInsertersFactory: BodyInsertersFactory,\r\n\r\n// (...)\r\n\r\nverify(bodyInsertersFactory) { 1 * { fromFormData(any(), argThat(bodyMatch)) } }\r\n\r\n```","title":"Mockito - verify call on a matched parameter","body":"<p>I've found a workaround, which isn't that bad</p>\n<p>Create a wrapper around the static Spring Boot factory and inject that in real code.</p>\n<pre><code>/**\n * Wrapper around BodyInserters static factory\n */\n@Service\nclass BodyInsertersFactory {\n    fun fromFormData(name: String, value: String): BodyInserters.FormInserter&lt;String&gt; =\n        BodyInserters.fromFormData(name, value)\n}\n</code></pre>\n<p>Then in tests:</p>\n<pre><code>    @SpyBean private val bodyInsertersFactory: BodyInsertersFactory,\n\n// (...)\n\nverify(bodyInsertersFactory) { 1 * { fromFormData(any(), argThat(bodyMatch)) } }\n\n</code></pre>\n"}],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosaw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71662099,"answer_count":1,"score":0,"last_activity_date":1648557203,"creation_date":1648543825,"question_id":71659097,"body_markdown":"I have the following scenario. Code I&#39;m testing (kotlin/JVM/Spring Boot)\r\n\r\n```\r\nprivate val client: WebClient, // injected by Spring Boot.\r\n\r\n// (...) \r\n    \r\nclient.post()\r\n   .uri(uri)\r\n   .body(BodyInserters.fromFormData(&quot;query&quot;, query))\r\n   .header(CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED.toString())\r\n\r\n// (...)\r\n```\r\n`client` is a `WebClient`.\r\n\r\nIn my testing code I want to check that the `client` is called with uri and query matching an arbitrary predicate. I came up with this:\r\n\r\n```\r\n@MockBean private val hgWebClient: WebClient,  // injected by Spring Boot Test.\r\n\r\n// (...)\r\n\r\nfun mockPostResponse(\r\n    bodyMatch: (String) -&gt; Boolean,  // in Java it would be Predicate&lt;String&gt;\r\n    uriMatch: (URI) -&gt; Boolean,\r\n    response: String\r\n): WebClient.RequestBodyUriSpec {\r\n    val uriReceiver: WebClient.RequestBodyUriSpec = mock()\r\n // in Java it would be &quot;when&quot;\r\n    whenever(hgWebClient.post()).thenReturn(uriReceiver)\r\n    val bodyReceiver: WebClient.RequestBodyUriSpec = mock()\r\n\r\n // here matching with argThat works just fine\r\n    whenever(uriReceiver.uri(argThat&lt;URI&gt;(uriMatch))).thenReturn(bodyReceiver)\r\n\r\n    val spec3: WebClient.RequestBodyUriSpec = mock()\r\n\r\n// here I have to use &quot;any&quot; because\r\n// .body(BodyInserters.fromFormData(&quot;query&quot;, argThat(bodyMatch))) won&#39;t work\r\n        whenever(bodyReceiver.body(any&lt;BodyInserters.FormInserter&lt;String&gt;&gt;())).thenReturn(spec3) \r\n\r\n    val spec4: WebClient.RequestBodyUriSpec = mock()\r\n    whenever(spec3.header(any(), any())).thenReturn(spec4)\r\n    whenever(\r\n            spec4.exchangeToMono(any&lt;Function&lt;ClientResponse, Mono&lt;String&gt;&gt;&gt;())\r\n    ).thenAnswer {\r\n        Mono.fromSupplier { mockHttpResponse(response) }\r\n    }\r\n    // return both bodyReceiver and uriReceiver\r\n}\r\n```\r\n\r\nLater I want to verify that these methods were called, so\r\n\r\n```\r\nmockPostResponse(...)\r\n\r\n// works just fine\r\nverify(receivers.uriReceiver) { 1 * { this.uri(argThat(uriMatch)) }  }\r\n\r\n// No idea what to put there so it verifies that &quot;query&quot; in BodyInserters.fromFormData(&quot;query&quot;, query)\r\n// matches the &quot;bodyMatch&quot; predicate\r\nverify(receivers.bodyReceiver) { 1 * { this.body(???) }  }\r\n\r\n```\r\n\r\nTo sum up, the specific problem is that I don&#39;t know how to mock a method call which argument itself is a mock, *on which* I verify that a call to a static function was made (or I&#39;m missing something obvious). I think it&#39;s something with `BodyInserters.fromFormData` being a static function (?).\r\n\r\nHow to properly mock this scenario and actually verify that arguments match predicates?","title":"Mockito - verify call on a matched parameter","body":"<p>I have the following scenario. Code I'm testing (kotlin/JVM/Spring Boot)</p>\n<pre><code>private val client: WebClient, // injected by Spring Boot.\n\n// (...) \n    \nclient.post()\n   .uri(uri)\n   .body(BodyInserters.fromFormData(&quot;query&quot;, query))\n   .header(CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED.toString())\n\n// (...)\n</code></pre>\n<p><code>client</code> is a <code>WebClient</code>.</p>\n<p>In my testing code I want to check that the <code>client</code> is called with uri and query matching an arbitrary predicate. I came up with this:</p>\n<pre><code>@MockBean private val hgWebClient: WebClient,  // injected by Spring Boot Test.\n\n// (...)\n\nfun mockPostResponse(\n    bodyMatch: (String) -&gt; Boolean,  // in Java it would be Predicate&lt;String&gt;\n    uriMatch: (URI) -&gt; Boolean,\n    response: String\n): WebClient.RequestBodyUriSpec {\n    val uriReceiver: WebClient.RequestBodyUriSpec = mock()\n // in Java it would be &quot;when&quot;\n    whenever(hgWebClient.post()).thenReturn(uriReceiver)\n    val bodyReceiver: WebClient.RequestBodyUriSpec = mock()\n\n // here matching with argThat works just fine\n    whenever(uriReceiver.uri(argThat&lt;URI&gt;(uriMatch))).thenReturn(bodyReceiver)\n\n    val spec3: WebClient.RequestBodyUriSpec = mock()\n\n// here I have to use &quot;any&quot; because\n// .body(BodyInserters.fromFormData(&quot;query&quot;, argThat(bodyMatch))) won't work\n        whenever(bodyReceiver.body(any&lt;BodyInserters.FormInserter&lt;String&gt;&gt;())).thenReturn(spec3) \n\n    val spec4: WebClient.RequestBodyUriSpec = mock()\n    whenever(spec3.header(any(), any())).thenReturn(spec4)\n    whenever(\n            spec4.exchangeToMono(any&lt;Function&lt;ClientResponse, Mono&lt;String&gt;&gt;&gt;())\n    ).thenAnswer {\n        Mono.fromSupplier { mockHttpResponse(response) }\n    }\n    // return both bodyReceiver and uriReceiver\n}\n</code></pre>\n<p>Later I want to verify that these methods were called, so</p>\n<pre><code>mockPostResponse(...)\n\n// works just fine\nverify(receivers.uriReceiver) { 1 * { this.uri(argThat(uriMatch)) }  }\n\n// No idea what to put there so it verifies that &quot;query&quot; in BodyInserters.fromFormData(&quot;query&quot;, query)\n// matches the &quot;bodyMatch&quot; predicate\nverify(receivers.bodyReceiver) { 1 * { this.body(???) }  }\n\n</code></pre>\n<p>To sum up, the specific problem is that I don't know how to mock a method call which argument itself is a mock, <em>on which</em> I verify that a call to a static function was made (or I'm missing something obvious). I think it's something with <code>BodyInserters.fromFormData</code> being a static function (?).</p>\n<p>How to properly mock this scenario and actually verify that arguments match predicates?</p>\n"},{"tags":["java","spring","basic-authentication","resttemplate","lombok"],"owner":{"account_id":13295192,"reputation":144,"user_id":9598447,"display_name":"Brian Akumah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648557159,"creation_date":1647872129,"question_id":71559087,"body_markdown":"I have two RestTemplate Beans, however sometimes when authRestTemplate is used get a 401 error (`org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : [no body]`) I&#39;m not sure why this is happening since it does not happen consistently.\r\n\r\nThis is how I have configured my RestTemplate.\r\n\r\n```   \r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class AppConfig {\r\n\r\n    private final FooConfig fooConfig;\r\n\r\n    @Bean\r\n    @LoadBalanced\r\n    public RestTemplate authRestTemplate(final RestTemplateBuilder restTemplateBuilder){\r\n        return restTemplateBuilder\r\n                .basicAuthentication(fooConfig.getUsername(), fooConfig.getPassword())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    @LoadBalanced\r\n    public RestTemplate basicRestTemplate(final RestTemplateBuilder restTemplateBuilder) {\r\n        return restTemplateBuilder\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nIf I am using the authRestTemplate it would look something like this\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class authSubmissionServiceImpl implements CompletedApplicationService {\r\n    private final RestTemplate authRestTemplate;\r\n    private final FooConfig fooConfig;\r\n\r\n    @Override\r\n    public void doSomething() {\r\n        try {\r\n            \r\n             Objects.requireNonNull(\r\n                 authRestTemplate.getForObject(\r\n                     String.format(somePath, fooConfig.getBaseUrl()),\r\n                     String.class)));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI use constructor injection and use the same variable name as the RestTemplkete bean to differentiate between the two. Because of this, I don&#39;t need to use @Qualifier(). However, I know the authentication is being sent because 99% of the time the request goes through fine but there are spontaneous times where I get 401 [No Body] and I&#39;m stumped. Any help would be greatly appreciated","title":"I keep getting 401 [No Body response] using RestTemplateBuilder","body":"<p>I have two RestTemplate Beans, however sometimes when authRestTemplate is used get a 401 error (<code>org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : [no body]</code>) I'm not sure why this is happening since it does not happen consistently.</p>\n<p>This is how I have configured my RestTemplate.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class AppConfig {\n\n    private final FooConfig fooConfig;\n\n    @Bean\n    @LoadBalanced\n    public RestTemplate authRestTemplate(final RestTemplateBuilder restTemplateBuilder){\n        return restTemplateBuilder\n                .basicAuthentication(fooConfig.getUsername(), fooConfig.getPassword())\n                .build();\n    }\n\n    @Bean\n    @LoadBalanced\n    public RestTemplate basicRestTemplate(final RestTemplateBuilder restTemplateBuilder) {\n        return restTemplateBuilder\n                .build();\n    }\n\n}\n</code></pre>\n<p>If I am using the authRestTemplate it would look something like this</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class authSubmissionServiceImpl implements CompletedApplicationService {\n    private final RestTemplate authRestTemplate;\n    private final FooConfig fooConfig;\n\n    @Override\n    public void doSomething() {\n        try {\n            \n             Objects.requireNonNull(\n                 authRestTemplate.getForObject(\n                     String.format(somePath, fooConfig.getBaseUrl()),\n                     String.class)));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I use constructor injection and use the same variable name as the RestTemplkete bean to differentiate between the two. Because of this, I don't need to use @Qualifier(). However, I know the authentication is being sent because 99% of the time the request goes through fine but there are spontaneous times where I get 401 [No Body] and I'm stumped. Any help would be greatly appreciated</p>\n"},{"tags":["java","if-statement","methods","boolean"],"answers":[{"tags":[],"owner":{"account_id":13763811,"reputation":48,"user_id":9932872,"display_name":"DwightMint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648557124,"creation_date":1648557124,"answer_id":71662083,"question_id":71661749,"body_markdown":"That&#39;s because your attributes are not set when you call `isValid()`, hence `this.side1`, `this.side2`, `this.side3` are equals to `0` when you call `isValid()`.\r\n\r\nAlso this is not how Oriented Object Programming is supposed to be used. But let say you just want to experiment the basics of Java, if you want to make it work, your constructor should be more like :\r\n```\r\npublic Triangle(int side1, int side2, int side3)\r\n   {\r\n       num_triangles++;\r\n       \r\n       // you first set the attributes of your object so when you call isValid() \r\n       this.side1 = side1;\r\n       this.side2 = side2;\r\n       this.side3 = side3;\r\n\r\n      if (!isValid()) // this is the same as writing &quot;isValid() == false&quot;, but clearer\r\n      {\r\n      this.side1 = 1;\r\n       this.side2 = 1;\r\n       this.side3 = 1;\r\n      }\r\n       totalPerimeter += calcPerim();\r\n   }\r\n```","title":"Always getting false reading","body":"<p>That's because your attributes are not set when you call <code>isValid()</code>, hence <code>this.side1</code>, <code>this.side2</code>, <code>this.side3</code> are equals to <code>0</code> when you call <code>isValid()</code>.</p>\n<p>Also this is not how Oriented Object Programming is supposed to be used. But let say you just want to experiment the basics of Java, if you want to make it work, your constructor should be more like :</p>\n<pre><code>public Triangle(int side1, int side2, int side3)\n   {\n       num_triangles++;\n       \n       // you first set the attributes of your object so when you call isValid() \n       this.side1 = side1;\n       this.side2 = side2;\n       this.side3 = side3;\n\n      if (!isValid()) // this is the same as writing &quot;isValid() == false&quot;, but clearer\n      {\n      this.side1 = 1;\n       this.side2 = 1;\n       this.side3 = 1;\n      }\n       totalPerimeter += calcPerim();\n   }\n</code></pre>\n"}],"owner":{"account_id":24732313,"reputation":1,"user_id":18620140,"display_name":"Zrewfo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648557124,"creation_date":1648555746,"question_id":71661749,"body_markdown":"Trying to create code to validate a triangle for some reason, no matter what I input, it returns as false\r\n\r\n```\r\ntype public class Triangle {\r\n  \r\n   private int side1;\r\n   private int side2;\r\n   private int side3;\r\n   private static int num_triangles=0;\r\n   private static int totalPerimeter=0;\r\n  \r\n    /**\r\n     *\r\n     * @param side1\r\n     * @param side2\r\n     * @param side3\r\n     */\r\n     \r\n      public Triangle(int side1, int side2, int side3)\r\n   {\r\n       num_triangles++;\r\n       \r\n       if (isValid() == true)\r\n       {\r\n       this.side1 = side1;\r\n       this.side2 = side2;\r\n       this.side3 = side3;\r\n       }\r\n       else if (isValid() == false)\r\n      {\r\n      this.side1 = 1;\r\n       this.side2 = 1;\r\n       this.side3 = 1;\r\n      }\r\n       totalPerimeter += calcPerim();\r\n   }\r\n   private boolean isValid()\r\n   {\r\n      \r\n       \r\n           return ((((side1)+(side2)) &gt; (side3) &amp;&amp; ((side1)+(side3)) &gt; (side2) &amp;&amp; ((side2) + (side3)) &gt; (side1))) ;\r\n       \r\n   }\r\n```\r\n\r\nI tried putting the statement before return as an if statement, I separated it into individual statements,\r\nbut i would get the same result","title":"Always getting false reading","body":"<p>Trying to create code to validate a triangle for some reason, no matter what I input, it returns as false</p>\n<pre><code>type public class Triangle {\n  \n   private int side1;\n   private int side2;\n   private int side3;\n   private static int num_triangles=0;\n   private static int totalPerimeter=0;\n  \n    /**\n     *\n     * @param side1\n     * @param side2\n     * @param side3\n     */\n     \n      public Triangle(int side1, int side2, int side3)\n   {\n       num_triangles++;\n       \n       if (isValid() == true)\n       {\n       this.side1 = side1;\n       this.side2 = side2;\n       this.side3 = side3;\n       }\n       else if (isValid() == false)\n      {\n      this.side1 = 1;\n       this.side2 = 1;\n       this.side3 = 1;\n      }\n       totalPerimeter += calcPerim();\n   }\n   private boolean isValid()\n   {\n      \n       \n           return ((((side1)+(side2)) &gt; (side3) &amp;&amp; ((side1)+(side3)) &gt; (side2) &amp;&amp; ((side2) + (side3)) &gt; (side1))) ;\n       \n   }\n</code></pre>\n<p>I tried putting the statement before return as an if statement, I separated it into individual statements,\nbut i would get the same result</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648556856,"creation_date":1648556856,"answer_id":71662025,"question_id":71649533,"body_markdown":"Finally I found the solution, by default Glassfish does not provide Log4J support, so you should put the `log4j` jar inside the lib folder of Glassfish (`glassfish/lib/`).\r\nBelow the link of the solution :\r\n[https://javaee.github.io/glassfish/wiki-archive/FaqCongifureLog4J.html][1]\r\n\r\n\r\n  [1]: https://javaee.github.io/glassfish/wiki-archive/FaqCongifureLog4J.html","title":"java.lang.NoSuchMethodError: org.apache.log4j.Logger : addAppender","body":"<p>Finally I found the solution, by default Glassfish does not provide Log4J support, so you should put the <code>log4j</code> jar inside the lib folder of Glassfish (<code>glassfish/lib/</code>).\nBelow the link of the solution :\n<a href=\"https://javaee.github.io/glassfish/wiki-archive/FaqCongifureLog4J.html\" rel=\"nofollow noreferrer\">https://javaee.github.io/glassfish/wiki-archive/FaqCongifureLog4J.html</a></p>\n"}],"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648556856,"creation_date":1648479620,"question_id":71649533,"body_markdown":"I&#39;m working in migration project to migrate java version from `1.4` to `1.8`.\r\nI succeed to upgrade the `jdk` and run the application into  `glassfich` server but I had always the problem of `log4j 1.1.3` and I had this error in `addAppender` method despite it&#39;s exists in the package of `log4j`:\r\n\r\n    java.lang.NoSuchMethodError: org.apache.log4j.Logger (addAppender)\r\n\r\nI tried to upgrade the log4j version and exclude `group org.slf4j` but the problem persists.\r\n\r\nBelow is my code :\r\n\r\nbuild.gradle :\r\n\r\n    dependencies {\r\n     compile group: &#39;commons-net&#39;, name: &#39;commons-net&#39;, version: &#39;3.+&#39;\r\n     compile group: &#39;xerces&#39;, name: &#39;xercesImpl&#39;, version: &#39;2.4.0&#39;\r\n     compile group: &#39;xmlconvert&#39;, name: &#39;xflat&#39;, version: &#39;2.2&#39;\r\n     compile group: &#39;javax.mail&#39;, name: &#39;mail&#39;, version: &#39;1.2&#39;\r\n     compile group: &#39;struts&#39;, name: &#39;struts&#39;, version: &#39;1.1&#39;\r\n     compile group: &#39;javax.servlet&#39;, name: &#39;servlet-api&#39;, version: &#39;2.3&#39;\r\n     compile group: &#39;log4j&#39;, name: &#39;log4j&#39;, version: &#39;1.1.3&#39; }\r\n\r\n     configurations.all{\r\n       exclude group:&quot;org.slf4j&quot; , module: &quot;log4j-over-slf4j&quot;\r\n      }\r\n\r\nApplicationListener.java\r\n\r\n    Category cat = Category.getInstance (sCat);\r\n    cat.addAppender(new FileAppender(new PatternLayout(LOG_PATTERN), logFile, true));\r\n\r\nDo you have guys another propositions to resolve this problem, thanks.\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoSuchMethodError: org.apache.log4j.Logger : addAppender","body":"<p>I'm working in migration project to migrate java version from <code>1.4</code> to <code>1.8</code>.\nI succeed to upgrade the <code>jdk</code> and run the application into  <code>glassfich</code> server but I had always the problem of <code>log4j 1.1.3</code> and I had this error in <code>addAppender</code> method despite it's exists in the package of <code>log4j</code>:</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.log4j.Logger (addAppender)\n</code></pre>\n<p>I tried to upgrade the log4j version and exclude <code>group org.slf4j</code> but the problem persists.</p>\n<p>Below is my code :</p>\n<p>build.gradle :</p>\n<pre><code>dependencies {\n compile group: 'commons-net', name: 'commons-net', version: '3.+'\n compile group: 'xerces', name: 'xercesImpl', version: '2.4.0'\n compile group: 'xmlconvert', name: 'xflat', version: '2.2'\n compile group: 'javax.mail', name: 'mail', version: '1.2'\n compile group: 'struts', name: 'struts', version: '1.1'\n compile group: 'javax.servlet', name: 'servlet-api', version: '2.3'\n compile group: 'log4j', name: 'log4j', version: '1.1.3' }\n\n configurations.all{\n   exclude group:&quot;org.slf4j&quot; , module: &quot;log4j-over-slf4j&quot;\n  }\n</code></pre>\n<p>ApplicationListener.java</p>\n<pre><code>Category cat = Category.getInstance (sCat);\ncat.addAppender(new FileAppender(new PatternLayout(LOG_PATTERN), logFile, true));\n</code></pre>\n<p>Do you have guys another propositions to resolve this problem, thanks.</p>\n"},{"tags":["java","encryption","hmac","password-encryption","one-time-password"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1489083673,"post_id":42546493,"comment_id":72527358,"body_markdown":"Looking at it... had (/have) little time","body":"Looking at it... had (/have) little time"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1489147609,"post_id":42546493,"comment_id":72555903,"body_markdown":"Still looking at it, reading the specs. I don&#39;t immediately see an issue either. One thing that is immediately irking me is the use of String in the code you posted. This makes it highly possible that this is an encoding bug somewhere. The specs talk about binary strings (byte arrays) all the time.","body":"Still looking at it, reading the specs. I don&#39;t immediately see an issue either. One thing that is immediately irking me is the use of String in the code you posted. This makes it highly possible that this is an encoding bug somewhere. The specs talk about binary strings (byte arrays) all the time."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1489148631,"post_id":42546493,"comment_id":72556451,"body_markdown":"Man, you need to refactor the code. Everything is stringified, the parameters are in a different order all the time. Furthermore, it seems you input your own email and such *twice*.","body":"Man, you need to refactor the code. Everything is stringified, the parameters are in a different order all the time. Furthermore, it seems you input your own email and such <i>twice</i>."},{"owner":{"account_id":10278748,"reputation":375,"user_id":7584714,"display_name":"Nicholas Sadjoli"},"score":0,"creation_date":1489239494,"post_id":42546493,"comment_id":72589763,"body_markdown":"Hey Maarten, sorry for the late reply. Oh I see, so indeed there might have been an encoding bug somewhere eh? You&#39;re referring to both the Java and Python code I assume.\n\nIn that case, can you teach me how to &#39;refactor&#39; the code as you said? I am not sure on how to do this actually. Also, regarding the input of my own email twice: I thought I needed to do so since &#39;ninja@example.comHDECHALLENGE003&#39; is considered a 32-byte string, and thus I needed to fit it into a 64-byte format that is used for SHA-512 input (from what I read)?","body":"Hey Maarten, sorry for the late reply. Oh I see, so indeed there might have been an encoding bug somewhere eh? You&#39;re referring to both the Java and Python code I assume.  In that case, can you teach me how to &#39;refactor&#39; the code as you said? I am not sure on how to do this actually. Also, regarding the input of my own email twice: I thought I needed to do so since &#39;ninja@example.comHDECHALLENGE003&#39; is considered a 32-byte string, and thus I needed to fit it into a 64-byte format that is used for SHA-512 input (from what I read)?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1489240003,"post_id":42546493,"comment_id":72589916,"body_markdown":"With regard to the refactoring: implement the standard using byte arrays and integers and such. If you follow the SHA-512 specifications then the key should be 512 bits to be able to receive the full security. However duplicating the key obviously doesn&#39;t do anything for security and will produce different output. So unless explicitly specified somewhere, duplicating your email and whatnot will just produce a different output. HMAC works with any key and message size.","body":"With regard to the refactoring: implement the standard using byte arrays and integers and such. If you follow the SHA-512 specifications then the key should be 512 bits to be able to receive the full security. However duplicating the key obviously doesn&#39;t do anything for security and will produce different output. So unless explicitly specified somewhere, duplicating your email and whatnot will just produce a different output. HMAC works with any key and message size."},{"owner":{"account_id":10278748,"reputation":375,"user_id":7584714,"display_name":"Nicholas Sadjoli"},"score":0,"creation_date":1489469848,"post_id":42546493,"comment_id":72671402,"body_markdown":"Hey sorry for the late reply, Maarten. Oh, so even for implementation inside the Java code (the one that is copied straight out of the RFC), I would need to reformat the key into a byte array or something like that? I tried to input the key as a hex string as you can see, with each of the characters being read as bytes. Are you saying that this is not enough of a security for putting in the key itself and thus producing different output? Sorry that I keep asking since I am new to this","body":"Hey sorry for the late reply, Maarten. Oh, so even for implementation inside the Java code (the one that is copied straight out of the RFC), I would need to reformat the key into a byte array or something like that? I tried to input the key as a hex string as you can see, with each of the characters being read as bytes. Are you saying that this is not enough of a security for putting in the key itself and thus producing different output? Sorry that I keep asking since I am new to this"},{"owner":{"account_id":10278748,"reputation":375,"user_id":7584714,"display_name":"Nicholas Sadjoli"},"score":0,"creation_date":1489539911,"post_id":42546493,"comment_id":72713082,"body_markdown":"Hey sorry for the late reply, Maarten. Oh, so even for implementation inside the Java code (the one that is copied straight out of the RFC), I would need to reformat the key into a byte array or something like that? I tried to input the key as a hex string as you can see, with each of the characters being read as bytes. Are you saying that this is not enough of a security for putting in the key itself and thus producing different output? Sorry that I keep asking since I am new to this","body":"Hey sorry for the late reply, Maarten. Oh, so even for implementation inside the Java code (the one that is copied straight out of the RFC), I would need to reformat the key into a byte array or something like that? I tried to input the key as a hex string as you can see, with each of the characters being read as bytes. Are you saying that this is not enough of a security for putting in the key itself and thus producing different output? Sorry that I keep asking since I am new to this"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1489579558,"post_id":42546493,"comment_id":72730755,"body_markdown":"I&#39;m very much strapped for time right now and I&#39;m afraid that the only thing I can do to verify correctness is to implement it correctly myself and then compare. This is the issue with many crypto functions; I cannot tell what goes wrong from the output itself. So apologies if I don&#39;t have a direct answer for you, but that&#39;s the way it is for now.","body":"I&#39;m very much strapped for time right now and I&#39;m afraid that the only thing I can do to verify correctness is to implement it correctly myself and then compare. This is the issue with many crypto functions; I cannot tell what goes wrong from the output itself. So apologies if I don&#39;t have a direct answer for you, but that&#39;s the way it is for now."},{"owner":{"account_id":10278748,"reputation":375,"user_id":7584714,"display_name":"Nicholas Sadjoli"},"score":0,"creation_date":1491485687,"post_id":42546493,"comment_id":73582144,"body_markdown":"Hello Maarten, it&#39;s been quite a while. I am sorry for bothering you again, however it seems that the problem that I have been has not been solved. I have now tried multiple codes online, yet they all seem to give me the same answer. So I now have no idea on how the output was generated unfortunately :(. \n\n\n\nCould you help me by trying to solve the problem and match the output? On a note, it seems the server from the problem provider is actually using a Google Frontend server. Could there be any different totp method that is used by that particular server type that I don&#39;t know of? Thanks","body":"Hello Maarten, it&#39;s been quite a while. I am sorry for bothering you again, however it seems that the problem that I have been has not been solved. I have now tried multiple codes online, yet they all seem to give me the same answer. So I now have no idea on how the output was generated unfortunately :(.     Could you help me by trying to solve the problem and match the output? On a note, it seems the server from the problem provider is actually using a Google Frontend server. Could there be any different totp method that is used by that particular server type that I don&#39;t know of? Thanks"},{"owner":{"account_id":12815,"reputation":1149,"user_id":25429,"display_name":"zloster"},"score":1,"creation_date":1491495513,"post_id":42546493,"comment_id":73589903,"body_markdown":"The code indeed seems OK and gives the correct values for the sample test data https://tools.ietf.org/html/rfc6238#appendix-B. The only thing you could do is to test your assumption about the successful TOTP value in the beginning. Use the sample shared secret of `1234567890` and check what value will be generated for a given moment. Than compare it with what the sample code is generating for the given time. That will highlight if there is a difference between the algorithm described in the RFC6238 and the actual implementation that you try to use.","body":"The code indeed seems OK and gives the correct values for the sample test data <a href=\"https://tools.ietf.org/html/rfc6238#appendix-B\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc6238#appendix-B</a>. The only thing you could do is to test your assumption about the successful TOTP value in the beginning. Use the sample shared secret of <code>1234567890</code> and check what value will be generated for a given moment. Than compare it with what the sample code is generating for the given time. That will highlight if there is a difference between the algorithm described in the RFC6238 and the actual implementation that you try to use."},{"owner":{"account_id":10278748,"reputation":375,"user_id":7584714,"display_name":"Nicholas Sadjoli"},"score":0,"creation_date":1491643469,"post_id":42546493,"comment_id":73651818,"body_markdown":"Hello zoster! Sorry for the late reply. I have indeed tried the code I&#39;m using with the sample test, and got the same result as the RFC appendix. However when I inputted the challenge provider&#39;s sample input into the code, and using SHA-512 (note that since SHA-512 expects 64-byte input, I basically inputted the Hex representation of &quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLENGE003&quot;), I am getting a different output from the sample output for the same unit time provided, which makes me suspect that either a code modification is necessary or the input is formatted differently.","body":"Hello zoster! Sorry for the late reply. I have indeed tried the code I&#39;m using with the sample test, and got the same result as the RFC appendix. However when I inputted the challenge provider&#39;s sample input into the code, and using SHA-512 (note that since SHA-512 expects 64-byte input, I basically inputted the Hex representation of &quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLEN&zwnj;&#8203;GE003&quot;), I am getting a different output from the sample output for the same unit time provided, which makes me suspect that either a code modification is necessary or the input is formatted differently."},{"owner":{"account_id":10278748,"reputation":375,"user_id":7584714,"display_name":"Nicholas Sadjoli"},"score":0,"creation_date":1491643859,"post_id":42546493,"comment_id":73651929,"body_markdown":"Following my assumption then, is it possible that, to fit into the 64-byte input for SHA-512, instead of expanding the input into Hex representation of &quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLENGE003&quot;, it should be expanded with Hex representation of &quot;ninja@example.comHDECHALLENGE003HDECHALLENGE003&quot;?  I am clarifying this as from what I read in RFC, I thought expansion is done correctly by repeating the same input till it is 64-bytes long. Also the challenge provider unfortunately didn&#39;t indicate any hints on whether I need to change input format or not :(","body":"Following my assumption then, is it possible that, to fit into the 64-byte input for SHA-512, instead of expanding the input into Hex representation of &quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLEN&zwnj;&#8203;GE003&quot;, it should be expanded with Hex representation of &quot;ninja@example.comHDECHALLENGE003HDECHALLENGE003&quot;?  I am clarifying this as from what I read in RFC, I thought expansion is done correctly by repeating the same input till it is 64-bytes long. Also the challenge provider unfortunately didn&#39;t indicate any hints on whether I need to change input format or not :("},{"owner":{"account_id":7465303,"reputation":1570,"user_id":5675125,"accept_rate":51,"display_name":"JamesG"},"score":0,"creation_date":1568872602,"post_id":42546493,"comment_id":102413902,"body_markdown":"@NicholasSadjoli Hey, so I know what `HDECHALLENGE003` is as I am also looking to solve the questions on this dev test. Can I ask, did you get the job, do you currently work there? If so, could we have a chat over email to talk about the role and company a little more? Thanks.","body":"@NicholasSadjoli Hey, so I know what <code>HDECHALLENGE003</code> is as I am also looking to solve the questions on this dev test. Can I ask, did you get the job, do you currently work there? If so, could we have a chat over email to talk about the role and company a little more? Thanks."},{"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"score":0,"creation_date":1587968558,"post_id":42546493,"comment_id":108707420,"body_markdown":"I have the same issue when I implemented the Algorithm, it gives me the same results in the official doc but when I tried with the given requirements the POST refuse all generated passwords !","body":"I have the same issue when I implemented the Algorithm, it gives me the same results in the official doc but when I tried with the given requirements the POST refuse all generated passwords !"}],"answers":[{"tags":[],"owner":{"account_id":4822258,"reputation":1067,"user_id":3892636,"display_name":"robotdan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630519217,"creation_date":1545424035,"answer_id":53890462,"question_id":42546493,"body_markdown":"Are you certain the TOTP `1773133250` is correct? Since your secret is only 32 bytes, do you know for sure that the provider that returned the `1773133250` is building the same 64-byte secret you are? \r\n\r\nIn your code, you take your 32-byte secret and concatenate it together in order to get 64 bytes. \r\n\r\nI am using [FusionAuth-2FA][1] Java library, and I get the same result you do if I concatenate your 32-byte secret together to get a 64-byte secret. \r\n\r\nI&#39;ve read the RFC and it isn&#39;t clear to me that there is any requirement for an implementor to expand a secret to a particular byte size. \r\n\r\nIt could be your code is correct, and `1773133250` is a red herring.  \r\n\r\nHere is my test code:\r\n\r\n    @Test\r\n    public void stackOverflow_42546493() {\r\n      // Mon, 17 Mar 2014 15:20:51 GMT\r\n      ZonedDateTime date = ZonedDateTime.of(2014, 3, 17, 15, 20, 51, 0, ZoneId.of(&quot;GMT&quot;));\r\n      long seconds = date.toEpochSecond();\r\n      assert seconds == 1395069651L; \r\n      long timeStep = seconds / 30;\r\n\r\n      // Your shared key in a 32-byte string  \r\n      String rawSecret = &quot;ninja@example.comHDECHALLENGE003&quot;;\r\n      String rawSecret64 = rawSecret + rawSecret; // 64 bytes\r\n        \r\n      // Using 32 byte secret\r\n      String code = TwoFactor.calculateVerificationCode(rawSecret, timeStep, Algorithm.HmacSHA512, 10);\r\n      assert code.equals(&quot;1264436375&quot;);\r\n\r\n      // Using 64 byte secret\r\n      String code = TwoFactor.calculateVerificationCode(rawSecret64, timeStep, Algorithm.HmacSHA512, 10);\r\n      assert code.equals(&quot;0490867067&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/FusionAuth/fusionauth-2FA","title":"Generate a 10-digit TOTP password with a certain key","body":"<p>Are you certain the TOTP <code>1773133250</code> is correct? Since your secret is only 32 bytes, do you know for sure that the provider that returned the <code>1773133250</code> is building the same 64-byte secret you are?</p>\n<p>In your code, you take your 32-byte secret and concatenate it together in order to get 64 bytes.</p>\n<p>I am using <a href=\"https://github.com/FusionAuth/fusionauth-2FA\" rel=\"nofollow noreferrer\">FusionAuth-2FA</a> Java library, and I get the same result you do if I concatenate your 32-byte secret together to get a 64-byte secret.</p>\n<p>I've read the RFC and it isn't clear to me that there is any requirement for an implementor to expand a secret to a particular byte size.</p>\n<p>It could be your code is correct, and <code>1773133250</code> is a red herring.</p>\n<p>Here is my test code:</p>\n<pre><code>@Test\npublic void stackOverflow_42546493() {\n  // Mon, 17 Mar 2014 15:20:51 GMT\n  ZonedDateTime date = ZonedDateTime.of(2014, 3, 17, 15, 20, 51, 0, ZoneId.of(&quot;GMT&quot;));\n  long seconds = date.toEpochSecond();\n  assert seconds == 1395069651L; \n  long timeStep = seconds / 30;\n\n  // Your shared key in a 32-byte string  \n  String rawSecret = &quot;ninja@example.comHDECHALLENGE003&quot;;\n  String rawSecret64 = rawSecret + rawSecret; // 64 bytes\n    \n  // Using 32 byte secret\n  String code = TwoFactor.calculateVerificationCode(rawSecret, timeStep, Algorithm.HmacSHA512, 10);\n  assert code.equals(&quot;1264436375&quot;);\n\n  // Using 64 byte secret\n  String code = TwoFactor.calculateVerificationCode(rawSecret64, timeStep, Algorithm.HmacSHA512, 10);\n  assert code.equals(&quot;0490867067&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16264858,"reputation":141,"user_id":11745250,"display_name":"KhairulBashar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648556810,"creation_date":1646845494,"answer_id":71413259,"question_id":42546493,"body_markdown":"The python code is okay. Just needs some modification.\r\n\r\n - Firstly for running the code on python3 you need to replace `print passwd` with `print(passwd)`.\r\n - On the second last line, replace `&quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLENGE003&quot;` with `shared_secret`. Update the secrets on the variables declared at top.\r\n - Finally the most important part is on the `C = int ( 1395069651 - timeref ) // timestep` line. Do not use a static timestamp. Instead replace `1395069651` with `time.time()`. You already imported `time` at the top.\r\n\r\nAfter these changes it worked for me. And thank you for the code. It saved me a huge time.","title":"Generate a 10-digit TOTP password with a certain key","body":"<p>The python code is okay. Just needs some modification.</p>\n<ul>\n<li>Firstly for running the code on python3 you need to replace <code>print passwd</code> with <code>print(passwd)</code>.</li>\n<li>On the second last line, replace <code>&quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLENGE003&quot;</code> with <code>shared_secret</code>. Update the secrets on the variables declared at top.</li>\n<li>Finally the most important part is on the <code>C = int ( 1395069651 - timeref ) // timestep</code> line. Do not use a static timestamp. Instead replace <code>1395069651</code> with <code>time.time()</code>. You already imported <code>time</code> at the top.</li>\n</ul>\n<p>After these changes it worked for me. And thank you for the code. It saved me a huge time.</p>\n"}],"owner":{"account_id":10278748,"reputation":375,"user_id":7584714,"display_name":"Nicholas Sadjoli"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19396,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":2,"score":24,"last_activity_date":1648556810,"creation_date":1488426433,"question_id":42546493,"body_markdown":"This problem is related to TOTP as specified in RFC6238 here: https://www.rfc-editor.org/rfc/rfc6238#section-1.2.\r\n\r\nI am to implement the RFC6238 to generate a **10-digit** TOTP password, which will be used in a POST request later on. The sample input and output for the TOTP is supposed to be like this:\r\n\r\n**Sample Input:**\r\n\r\n - Shared key: &quot;ninja@example.comHDECHALLENGE003&quot; (without double quotes)\r\n - Hash function used: `HMAC-SHA-512`\r\n - T0 = 0, Timestep = 30 seconds (as per specified in RFC6238)\r\n - Expected TOTP of 10 digits\r\n\r\n\r\n----------\r\n\r\n\r\n**Sample Output:**\r\n&gt;Successful TOTP generated: `1773133250`, for time of Mon, 17 Mar 2014 15:20:51 GMT\r\n\r\n&gt;base64 encoded POST Authorization username/password request: bmluamFAZXhhbXBsZS5jb206MTc3MzEzMzI1MA==\r\n\r\n&gt;(I have decoded the sample POST authorization to be &#39;ninja@example.com:1773133250&#39; hence why I can say that the sample TOTP output is 1773133250)\r\n\r\nAfter attempting to make my own script according to the rfc6238 specification I cannot get the same output for the sample input as above. I tried using other available online TOTP modules that are available online (mostly in Python), to find that they generate the same output as the script that I created. Finally, I tried the Java code given in the example of RFC6238 and came up with the same result as my script, i.e.:\r\n\r\n**Attempted input:**\r\n&gt; Hex encoded seed for HMAC512: &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot; + &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot;;\r\n\r\n\r\n&gt;Time inputted is 1395069651L, representing the time received in sample output\r\n\r\n**Result of attempt (same output from custom script, other Python modules, and the Java implementation given in RFC6238 documentation):**\r\n&gt; Generated TOTP: 0490867067\r\n\r\nHere is the code that I first used in attempt to generate the TOTP in Python:\r\n\r\n        # Mission/Task Description:\r\n        # * For the &quot;password&quot;, provide an 10-digit time-based one time password conforming to RFC6238 TOTP.\r\n        # \r\n        # ** You have to read RFC6238 (and the errata too!) and get a correct one time password by yourself.\r\n        # ** TOTP&#39;s &quot;Time Step X&quot; is 30 seconds. &quot;T0&quot; is 0.\r\n        # ** Use HMAC-SHA-512 for the hash function, instead of the default HMAC-SHA-1.\r\n        # ** Token shared secret is the userid followed by ASCII string value &quot;HDECHALLENGE003&quot; (not including double quotations).\r\n        # \r\n        # *** For example, if the userid is &quot;ninja@example.com&quot;, the token shared secret is &quot;ninja@example.comHDECHALLENGE003&quot;.\r\n        # *** For example, if the userid is &quot;ninjasamuraisumotorishogun@example.com&quot;, the token shared secret is &quot;ninjasamuraisumotorishogun@example.comHDECHALLENGE003&quot;\r\n        # \r\n\r\n    import hmac\r\n    import hashlib\r\n    import time\r\n    import sys\r\n    import struct\r\n    \r\n    userid = &quot;ninja@example.com&quot;\r\n    secret_suffix = &quot;HDECHALLENGE003&quot;\r\n    shared_secret = userid+secret_suffix\r\n    \r\n    timestep = 30\r\n    T0 = 0\r\n    \r\n    def HOTP(K, C, digits=10):\r\n        &quot;&quot;&quot;HTOP:\r\n        K is the shared key\r\n        C is the counter value\r\n        digits control the response length\r\n        &quot;&quot;&quot;\r\n        K_bytes = K.encode()\r\n        C_bytes = struct.pack(&quot;&gt;Q&quot;, C)\r\n        hmac_sha512 = hmac.new(key = K_bytes, msg=C_bytes, digestmod=hashlib.sha512).hexdigest()\r\n        return Truncate(hmac_sha512)[-digits:]\r\n    \r\n    def Truncate(hmac_sha512):\r\n        &quot;&quot;&quot;truncate sha512 value&quot;&quot;&quot;\r\n        offset = int(hmac_sha512[-1], 16)\r\n        binary = int(hmac_sha512[(offset *2):((offset*2)+8)], 16) &amp; 0x7FFFFFFF\r\n        return str(binary)\r\n    \r\n    def TOTP(K, digits=10, timeref = 0, timestep = 30):\r\n        &quot;&quot;&quot;TOTP, time-based variant of HOTP\r\n        digits control the response length\r\n        the C in HOTP is replaced by ( (currentTime - timeref) / timestep )\r\n        &quot;&quot;&quot;\r\n        C = int ( 1395069651 - timeref ) // timestep\r\n        return HOTP(K, C, digits = digits)\r\n    \r\n    passwd = TOTP(&quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLENGE003&quot;, 10, T0, timestep).zfill(10)\r\n    print passwd\r\n\r\nHere is the second code in Java which is essentially a modified version of the Java implementation found in RFC6238:\r\n\r\n     /**\r\n     Copyright (c) 2011 IETF Trust and the persons identified as\r\n     authors of the code. All rights reserved.\r\n    \r\n     Redistribution and use in source and binary forms, with or without\r\n     modification, is permitted pursuant to, and subject to the license\r\n     terms contained in, the Simplified BSD License set forth in Section\r\n     4.c of the IETF Trust&#39;s Legal Provisions Relating to IETF Documents\r\n     (http://trustee.ietf.org/license-info).\r\n     */\r\n    \r\n     import java.lang.reflect.UndeclaredThrowableException;\r\n     import java.security.GeneralSecurityException;\r\n     import java.text.DateFormat;\r\n     import java.text.SimpleDateFormat;\r\n     import java.util.Date;\r\n     import javax.crypto.Mac;\r\n     import javax.crypto.spec.SecretKeySpec;\r\n     import java.math.BigInteger;\r\n     import java.util.TimeZone;\r\n     import java.util.Calendar;\r\n    \r\n    \r\n     /**\r\n      * This is an example implementation of the OATH\r\n      * TOTP algorithm.\r\n      * Visit www.openauthentication.org for more information.\r\n      *\r\n      * @author Johan Rydell, PortWise, Inc.\r\n      */\r\n    \r\n     public class TOTP {\r\n    \r\n         private TOTP() {}\r\n    \r\n         /**\r\n          * This method uses the JCE to provide the crypto algorithm.\r\n          * HMAC computes a Hashed Message Authentication Code with the\r\n          * crypto hash algorithm as a parameter.\r\n          *\r\n          * @param crypto: the crypto algorithm (HmacSHA1, HmacSHA256,\r\n          *                             HmacSHA512)\r\n          * @param keyBytes: the bytes to use for the HMAC key\r\n          * @param text: the message or text to be authenticated\r\n          */\r\n    \r\n    \r\n         private static byte[] hmac_sha(String crypto, byte[] keyBytes,\r\n                 byte[] text){\r\n             try {\r\n                 Mac hmac;\r\n                 hmac = Mac.getInstance(crypto);\r\n                 SecretKeySpec macKey =\r\n                     new SecretKeySpec(keyBytes, &quot;RAW&quot;);\r\n                 hmac.init(macKey);\r\n                 return hmac.doFinal(text);\r\n             } catch (GeneralSecurityException gse) {\r\n                 throw new UndeclaredThrowableException(gse);\r\n             }\r\n         }\r\n    \r\n    \r\n         /**\r\n          * This method converts a HEX string to Byte[]\r\n          *\r\n          * @param hex: the HEX string\r\n          *\r\n          * @return: a byte array\r\n          */\r\n    \r\n         private static byte[] hexStr2Bytes(String hex){\r\n             // Adding one byte to get the right conversion\r\n             // Values starting with &quot;0&quot; can be converted\r\n             byte[] bArray = new BigInteger(&quot;10&quot; + hex,16).toByteArray();\r\n    \r\n             // Copy all the REAL bytes, not the &quot;first&quot;\r\n             byte[] ret = new byte[bArray.length - 1];\r\n             for (int i = 0; i &lt; ret.length; i++)\r\n                 ret[i] = bArray[i+1];\r\n             return ret;\r\n         }\r\n    \r\n         private static final long[] DIGITS_POWER\r\n         // 0 1  2   3    4     5      6       7        8         9          10\r\n         = {1,10,100,1000,10000,100000,1000000,10000000,100000000,1000000000,10000000000L};\r\n    \r\n         /**\r\n          * This method generates a TOTP value for the given\r\n          * set of parameters.\r\n          *\r\n          * @param key: the shared secret, HEX encoded\r\n          * @param time: a value that reflects a time\r\n          * @param returnDigits: number of digits to return\r\n          *\r\n          * @return: a numeric String in base 10 that includes\r\n          *              {@link truncationDigits} digits\r\n          */\r\n    \r\n         public static String generateTOTP(String key,\r\n                 String time,\r\n                 String returnDigits){\r\n             return generateTOTP(key, time, returnDigits, &quot;HmacSHA1&quot;);\r\n         }\r\n    \r\n    \r\n         /**\r\n          * This method generates a TOTP value for the given\r\n          * set of parameters.\r\n          *\r\n          * @param key: the shared secret, HEX encoded\r\n          * @param time: a value that reflects a time\r\n          * @param returnDigits: number of digits to return\r\n          *\r\n          * @return: a numeric String in base 10 that includes\r\n          *              {@link truncationDigits} digits\r\n          */\r\n    \r\n         public static String generateTOTP256(String key,\r\n                 String time,\r\n                 String returnDigits){\r\n             return generateTOTP(key, time, returnDigits, &quot;HmacSHA256&quot;);\r\n         }\r\n    \r\n         /**\r\n          * This method generates a TOTP value for the given\r\n          * set of parameters.\r\n          *\r\n          * @param key: the shared secret, HEX encoded\r\n          * @param time: a value that reflects a time\r\n          * @param returnDigits: number of digits to return\r\n          *\r\n          * @return: a numeric String in base 10 that includes\r\n          *              {@link truncationDigits} digits\r\n          */\r\n    \r\n         public static String generateTOTP512(String key,\r\n                 String time,\r\n                 String returnDigits){\r\n             return generateTOTP(key, time, returnDigits, &quot;HmacSHA512&quot;);\r\n         }\r\n    \r\n    \r\n         /**\r\n          * This method generates a TOTP value for the given\r\n          * set of parameters.\r\n          *\r\n          * @param key: the shared secret, HEX encoded\r\n          * @param time: a value that reflects a time\r\n          * @param returnDigits: number of digits to return\r\n          * @param crypto: the crypto function to use\r\n          *\r\n          * @return: a numeric String in base 10 that includes\r\n          *              {@link truncationDigits} digits\r\n          */\r\n    \r\n         public static String generateTOTP(String key,\r\n                 String time,\r\n                 String returnDigits,\r\n                 String crypto){\r\n             int codeDigits = Integer.decode(returnDigits).intValue();\r\n             String result = null;\r\n    \r\n             // Using the counter\r\n             // First 8 bytes are for the movingFactor\r\n             // Compliant with base RFC 4226 (HOTP)\r\n             while (time.length() &lt; 16 )\r\n                 time = &quot;0&quot; + time;\r\n    \r\n             // Get the HEX in a Byte[]\r\n             byte[] msg = hexStr2Bytes(time);\r\n             byte[] k = hexStr2Bytes(key);\r\n    \r\n             byte[] hash = hmac_sha(crypto, k, msg);\r\n    \r\n             // put selected bytes into result int\r\n             int offset = hash[hash.length - 1] &amp; 0xf;\r\n    \r\n             int binary =\r\n                 ((hash[offset] &amp; 0x7f) &lt;&lt; 24) |\r\n                 ((hash[offset + 1] &amp; 0xff) &lt;&lt; 16) |\r\n                 ((hash[offset + 2] &amp; 0xff) &lt;&lt; 8) |\r\n                 (hash[offset + 3] &amp; 0xff);\r\n    \r\n             long otp = binary % DIGITS_POWER[codeDigits];\r\n    \r\n             result = Long.toString(otp);\r\n             while (result.length() &lt; codeDigits) {\r\n                 result = &quot;0&quot; + result;\r\n             }\r\n             return result;\r\n         }\r\n    \r\n         public static void main(String[] args) {\r\n             // Seed for HMAC-SHA1 - 20 bytes\r\n             String seed = &quot;3132333435363738393031323334353637383930&quot;;\r\n             // Seed for HMAC-SHA256 - 32 bytes\r\n             String seed32 = &quot;3132333435363738393031323334353637383930&quot; +\r\n             &quot;313233343536373839303132&quot;;\r\n             // Seed for HMAC-SHA512 - 64 bytes\r\n             String seed64 = &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot;;\r\n\r\n             //NOTE: this is the 16-bit/hex encoded representation of &quot;ninja@example.comHDECHALLENGE003&quot;\r\n             String seednew = &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot; +\r\n             &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot;; \r\n             long T0 = 0;\r\n             long X = 30;\r\n             long current = System.currentTimeMillis()/1000;\r\n             System.out.println(current);\r\n             long testTime[] = {59L, 1234567890L,1395069651L};\r\n    \r\n             String steps = &quot;0&quot;;\r\n             DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n             df.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n             try {\r\n                 System.out.println(\r\n                         &quot;+---------------+-----------------------+&quot; +\r\n                 &quot;------------------+--------+--------+&quot;);\r\n                 System.out.println(\r\n                         &quot;|  Time(sec)    |   Time (UTC format)   &quot; +\r\n                 &quot;| Value of T(Hex)  |  TOTP  | Mode   |&quot;);\r\n                 System.out.println(\r\n                         &quot;+---------------+-----------------------+&quot; +\r\n                 &quot;------------------+--------+--------+&quot;);\r\n    \r\n                 for (int i=0; i&lt;testTime.length; i++) {\r\n                     long T = (testTime[i] - T0)/X;\r\n                     steps = Long.toHexString(T).toUpperCase();\r\n                     while (steps.length() &lt; 16) steps = &quot;0&quot; + steps;\r\n                     String fmtTime = String.format(&quot;%1$-11s&quot;, testTime[i]);\r\n                     String utcTime = df.format(new Date(testTime[i]*1000));\r\n                     System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\r\n                             &quot;  | &quot; + steps + &quot; |&quot;);\r\n                     System.out.println(generateTOTP(seed, steps, &quot;8&quot;,\r\n                     &quot;HmacSHA1&quot;) + &quot;| SHA1   |&quot;);\r\n                     System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\r\n                             &quot;  | &quot; + steps + &quot; |&quot;);\r\n                     System.out.println(generateTOTP(seed32, steps, &quot;8&quot;,\r\n                     &quot;HmacSHA256&quot;) + &quot;| SHA256 |&quot;);\r\n                     System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\r\n                             &quot;  | &quot; + steps + &quot; |&quot;);\r\n                     System.out.println(generateTOTP(seed64, steps, &quot;10&quot;,\r\n                     &quot;HmacSHA256&quot;) + &quot;| SHA256 |&quot;);\r\n                     System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\r\n                             &quot;  | &quot; + steps + &quot; |&quot;);\r\n                     System.out.println(generateTOTP(seednew, steps, &quot;10&quot;,\r\n                      &quot;HmacSHA512&quot;) + &quot;| SHA512 |&quot;);\r\n                     System.out.println(\r\n                             &quot;+---------------+-----------------------+&quot; +\r\n                     &quot;------------------+--------+--------+&quot;);\r\n                 }\r\n             }catch (final Exception e){\r\n                 System.out.println(&quot;Error : &quot; + e);\r\n             }\r\n         }\r\n     }\r\n\r\nDo note that for the modified RFC Java code, the output would be that of several date/time listed in the testTime[] array, however the targeted GMT from the sample input of the task is also included in here as well. Testing in my Ubuntu showed the same result as that from my Python script.\r\n\r\n\r\nI believe that I have followed the instructions given by the task. I used the actual RFC given Java code to find it is not generating the same output as the one given in the task. I contacted the provider of the task to ask if there is a bug, but they say that it is correct.\r\n\r\nPerhaps I am missing something here, such as the way the task provider actually encrypts the shared key?","title":"Generate a 10-digit TOTP password with a certain key","body":"<p>This problem is related to TOTP as specified in RFC6238 here: <a href=\"https://www.rfc-editor.org/rfc/rfc6238#section-1.2\" rel=\"noreferrer\">https://www.rfc-editor.org/rfc/rfc6238#section-1.2</a>.</p>\n<p>I am to implement the RFC6238 to generate a <strong>10-digit</strong> TOTP password, which will be used in a POST request later on. The sample input and output for the TOTP is supposed to be like this:</p>\n<p><strong>Sample Input:</strong></p>\n<ul>\n<li>Shared key: &quot;ninja@example.comHDECHALLENGE003&quot; (without double quotes)</li>\n<li>Hash function used: <code>HMAC-SHA-512</code></li>\n<li>T0 = 0, Timestep = 30 seconds (as per specified in RFC6238)</li>\n<li>Expected TOTP of 10 digits</li>\n</ul>\n<hr />\n<p><strong>Sample Output:</strong></p>\n<blockquote>\n<p>Successful TOTP generated: <code>1773133250</code>, for time of Mon, 17 Mar 2014 15:20:51 GMT</p>\n</blockquote>\n<blockquote>\n<p>base64 encoded POST Authorization username/password request: bmluamFAZXhhbXBsZS5jb206MTc3MzEzMzI1MA==</p>\n</blockquote>\n<blockquote>\n<p>(I have decoded the sample POST authorization to be 'ninja@example.com:1773133250' hence why I can say that the sample TOTP output is 1773133250)</p>\n</blockquote>\n<p>After attempting to make my own script according to the rfc6238 specification I cannot get the same output for the sample input as above. I tried using other available online TOTP modules that are available online (mostly in Python), to find that they generate the same output as the script that I created. Finally, I tried the Java code given in the example of RFC6238 and came up with the same result as my script, i.e.:</p>\n<p><strong>Attempted input:</strong></p>\n<blockquote>\n<p>Hex encoded seed for HMAC512: &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot; + &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot;;</p>\n</blockquote>\n<blockquote>\n<p>Time inputted is 1395069651L, representing the time received in sample output</p>\n</blockquote>\n<p><strong>Result of attempt (same output from custom script, other Python modules, and the Java implementation given in RFC6238 documentation):</strong></p>\n<blockquote>\n<p>Generated TOTP: 0490867067</p>\n</blockquote>\n<p>Here is the code that I first used in attempt to generate the TOTP in Python:</p>\n<pre><code>    # Mission/Task Description:\n    # * For the &quot;password&quot;, provide an 10-digit time-based one time password conforming to RFC6238 TOTP.\n    # \n    # ** You have to read RFC6238 (and the errata too!) and get a correct one time password by yourself.\n    # ** TOTP's &quot;Time Step X&quot; is 30 seconds. &quot;T0&quot; is 0.\n    # ** Use HMAC-SHA-512 for the hash function, instead of the default HMAC-SHA-1.\n    # ** Token shared secret is the userid followed by ASCII string value &quot;HDECHALLENGE003&quot; (not including double quotations).\n    # \n    # *** For example, if the userid is &quot;ninja@example.com&quot;, the token shared secret is &quot;ninja@example.comHDECHALLENGE003&quot;.\n    # *** For example, if the userid is &quot;ninjasamuraisumotorishogun@example.com&quot;, the token shared secret is &quot;ninjasamuraisumotorishogun@example.comHDECHALLENGE003&quot;\n    # \n\nimport hmac\nimport hashlib\nimport time\nimport sys\nimport struct\n\nuserid = &quot;ninja@example.com&quot;\nsecret_suffix = &quot;HDECHALLENGE003&quot;\nshared_secret = userid+secret_suffix\n\ntimestep = 30\nT0 = 0\n\ndef HOTP(K, C, digits=10):\n    &quot;&quot;&quot;HTOP:\n    K is the shared key\n    C is the counter value\n    digits control the response length\n    &quot;&quot;&quot;\n    K_bytes = K.encode()\n    C_bytes = struct.pack(&quot;&gt;Q&quot;, C)\n    hmac_sha512 = hmac.new(key = K_bytes, msg=C_bytes, digestmod=hashlib.sha512).hexdigest()\n    return Truncate(hmac_sha512)[-digits:]\n\ndef Truncate(hmac_sha512):\n    &quot;&quot;&quot;truncate sha512 value&quot;&quot;&quot;\n    offset = int(hmac_sha512[-1], 16)\n    binary = int(hmac_sha512[(offset *2):((offset*2)+8)], 16) &amp; 0x7FFFFFFF\n    return str(binary)\n\ndef TOTP(K, digits=10, timeref = 0, timestep = 30):\n    &quot;&quot;&quot;TOTP, time-based variant of HOTP\n    digits control the response length\n    the C in HOTP is replaced by ( (currentTime - timeref) / timestep )\n    &quot;&quot;&quot;\n    C = int ( 1395069651 - timeref ) // timestep\n    return HOTP(K, C, digits = digits)\n\npasswd = TOTP(&quot;ninja@example.comHDECHALLENGE003ninja@example.comHDECHALLENGE003&quot;, 10, T0, timestep).zfill(10)\nprint passwd\n</code></pre>\n<p>Here is the second code in Java which is essentially a modified version of the Java implementation found in RFC6238:</p>\n<pre><code> /**\n Copyright (c) 2011 IETF Trust and the persons identified as\n authors of the code. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, is permitted pursuant to, and subject to the license\n terms contained in, the Simplified BSD License set forth in Section\n 4.c of the IETF Trust's Legal Provisions Relating to IETF Documents\n (http://trustee.ietf.org/license-info).\n */\n\n import java.lang.reflect.UndeclaredThrowableException;\n import java.security.GeneralSecurityException;\n import java.text.DateFormat;\n import java.text.SimpleDateFormat;\n import java.util.Date;\n import javax.crypto.Mac;\n import javax.crypto.spec.SecretKeySpec;\n import java.math.BigInteger;\n import java.util.TimeZone;\n import java.util.Calendar;\n\n\n /**\n  * This is an example implementation of the OATH\n  * TOTP algorithm.\n  * Visit www.openauthentication.org for more information.\n  *\n  * @author Johan Rydell, PortWise, Inc.\n  */\n\n public class TOTP {\n\n     private TOTP() {}\n\n     /**\n      * This method uses the JCE to provide the crypto algorithm.\n      * HMAC computes a Hashed Message Authentication Code with the\n      * crypto hash algorithm as a parameter.\n      *\n      * @param crypto: the crypto algorithm (HmacSHA1, HmacSHA256,\n      *                             HmacSHA512)\n      * @param keyBytes: the bytes to use for the HMAC key\n      * @param text: the message or text to be authenticated\n      */\n\n\n     private static byte[] hmac_sha(String crypto, byte[] keyBytes,\n             byte[] text){\n         try {\n             Mac hmac;\n             hmac = Mac.getInstance(crypto);\n             SecretKeySpec macKey =\n                 new SecretKeySpec(keyBytes, &quot;RAW&quot;);\n             hmac.init(macKey);\n             return hmac.doFinal(text);\n         } catch (GeneralSecurityException gse) {\n             throw new UndeclaredThrowableException(gse);\n         }\n     }\n\n\n     /**\n      * This method converts a HEX string to Byte[]\n      *\n      * @param hex: the HEX string\n      *\n      * @return: a byte array\n      */\n\n     private static byte[] hexStr2Bytes(String hex){\n         // Adding one byte to get the right conversion\n         // Values starting with &quot;0&quot; can be converted\n         byte[] bArray = new BigInteger(&quot;10&quot; + hex,16).toByteArray();\n\n         // Copy all the REAL bytes, not the &quot;first&quot;\n         byte[] ret = new byte[bArray.length - 1];\n         for (int i = 0; i &lt; ret.length; i++)\n             ret[i] = bArray[i+1];\n         return ret;\n     }\n\n     private static final long[] DIGITS_POWER\n     // 0 1  2   3    4     5      6       7        8         9          10\n     = {1,10,100,1000,10000,100000,1000000,10000000,100000000,1000000000,10000000000L};\n\n     /**\n      * This method generates a TOTP value for the given\n      * set of parameters.\n      *\n      * @param key: the shared secret, HEX encoded\n      * @param time: a value that reflects a time\n      * @param returnDigits: number of digits to return\n      *\n      * @return: a numeric String in base 10 that includes\n      *              {@link truncationDigits} digits\n      */\n\n     public static String generateTOTP(String key,\n             String time,\n             String returnDigits){\n         return generateTOTP(key, time, returnDigits, &quot;HmacSHA1&quot;);\n     }\n\n\n     /**\n      * This method generates a TOTP value for the given\n      * set of parameters.\n      *\n      * @param key: the shared secret, HEX encoded\n      * @param time: a value that reflects a time\n      * @param returnDigits: number of digits to return\n      *\n      * @return: a numeric String in base 10 that includes\n      *              {@link truncationDigits} digits\n      */\n\n     public static String generateTOTP256(String key,\n             String time,\n             String returnDigits){\n         return generateTOTP(key, time, returnDigits, &quot;HmacSHA256&quot;);\n     }\n\n     /**\n      * This method generates a TOTP value for the given\n      * set of parameters.\n      *\n      * @param key: the shared secret, HEX encoded\n      * @param time: a value that reflects a time\n      * @param returnDigits: number of digits to return\n      *\n      * @return: a numeric String in base 10 that includes\n      *              {@link truncationDigits} digits\n      */\n\n     public static String generateTOTP512(String key,\n             String time,\n             String returnDigits){\n         return generateTOTP(key, time, returnDigits, &quot;HmacSHA512&quot;);\n     }\n\n\n     /**\n      * This method generates a TOTP value for the given\n      * set of parameters.\n      *\n      * @param key: the shared secret, HEX encoded\n      * @param time: a value that reflects a time\n      * @param returnDigits: number of digits to return\n      * @param crypto: the crypto function to use\n      *\n      * @return: a numeric String in base 10 that includes\n      *              {@link truncationDigits} digits\n      */\n\n     public static String generateTOTP(String key,\n             String time,\n             String returnDigits,\n             String crypto){\n         int codeDigits = Integer.decode(returnDigits).intValue();\n         String result = null;\n\n         // Using the counter\n         // First 8 bytes are for the movingFactor\n         // Compliant with base RFC 4226 (HOTP)\n         while (time.length() &lt; 16 )\n             time = &quot;0&quot; + time;\n\n         // Get the HEX in a Byte[]\n         byte[] msg = hexStr2Bytes(time);\n         byte[] k = hexStr2Bytes(key);\n\n         byte[] hash = hmac_sha(crypto, k, msg);\n\n         // put selected bytes into result int\n         int offset = hash[hash.length - 1] &amp; 0xf;\n\n         int binary =\n             ((hash[offset] &amp; 0x7f) &lt;&lt; 24) |\n             ((hash[offset + 1] &amp; 0xff) &lt;&lt; 16) |\n             ((hash[offset + 2] &amp; 0xff) &lt;&lt; 8) |\n             (hash[offset + 3] &amp; 0xff);\n\n         long otp = binary % DIGITS_POWER[codeDigits];\n\n         result = Long.toString(otp);\n         while (result.length() &lt; codeDigits) {\n             result = &quot;0&quot; + result;\n         }\n         return result;\n     }\n\n     public static void main(String[] args) {\n         // Seed for HMAC-SHA1 - 20 bytes\n         String seed = &quot;3132333435363738393031323334353637383930&quot;;\n         // Seed for HMAC-SHA256 - 32 bytes\n         String seed32 = &quot;3132333435363738393031323334353637383930&quot; +\n         &quot;313233343536373839303132&quot;;\n         // Seed for HMAC-SHA512 - 64 bytes\n         String seed64 = &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot;;\n\n         //NOTE: this is the 16-bit/hex encoded representation of &quot;ninja@example.comHDECHALLENGE003&quot;\n         String seednew = &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot; +\n         &quot;6E696E6A61406578616D706C652E636F6D4844454348414C4C454E4745303033&quot;; \n         long T0 = 0;\n         long X = 30;\n         long current = System.currentTimeMillis()/1000;\n         System.out.println(current);\n         long testTime[] = {59L, 1234567890L,1395069651L};\n\n         String steps = &quot;0&quot;;\n         DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n         df.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n         try {\n             System.out.println(\n                     &quot;+---------------+-----------------------+&quot; +\n             &quot;------------------+--------+--------+&quot;);\n             System.out.println(\n                     &quot;|  Time(sec)    |   Time (UTC format)   &quot; +\n             &quot;| Value of T(Hex)  |  TOTP  | Mode   |&quot;);\n             System.out.println(\n                     &quot;+---------------+-----------------------+&quot; +\n             &quot;------------------+--------+--------+&quot;);\n\n             for (int i=0; i&lt;testTime.length; i++) {\n                 long T = (testTime[i] - T0)/X;\n                 steps = Long.toHexString(T).toUpperCase();\n                 while (steps.length() &lt; 16) steps = &quot;0&quot; + steps;\n                 String fmtTime = String.format(&quot;%1$-11s&quot;, testTime[i]);\n                 String utcTime = df.format(new Date(testTime[i]*1000));\n                 System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\n                         &quot;  | &quot; + steps + &quot; |&quot;);\n                 System.out.println(generateTOTP(seed, steps, &quot;8&quot;,\n                 &quot;HmacSHA1&quot;) + &quot;| SHA1   |&quot;);\n                 System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\n                         &quot;  | &quot; + steps + &quot; |&quot;);\n                 System.out.println(generateTOTP(seed32, steps, &quot;8&quot;,\n                 &quot;HmacSHA256&quot;) + &quot;| SHA256 |&quot;);\n                 System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\n                         &quot;  | &quot; + steps + &quot; |&quot;);\n                 System.out.println(generateTOTP(seed64, steps, &quot;10&quot;,\n                 &quot;HmacSHA256&quot;) + &quot;| SHA256 |&quot;);\n                 System.out.print(&quot;|  &quot; + fmtTime + &quot;  |  &quot; + utcTime +\n                         &quot;  | &quot; + steps + &quot; |&quot;);\n                 System.out.println(generateTOTP(seednew, steps, &quot;10&quot;,\n                  &quot;HmacSHA512&quot;) + &quot;| SHA512 |&quot;);\n                 System.out.println(\n                         &quot;+---------------+-----------------------+&quot; +\n                 &quot;------------------+--------+--------+&quot;);\n             }\n         }catch (final Exception e){\n             System.out.println(&quot;Error : &quot; + e);\n         }\n     }\n }\n</code></pre>\n<p>Do note that for the modified RFC Java code, the output would be that of several date/time listed in the testTime[] array, however the targeted GMT from the sample input of the task is also included in here as well. Testing in my Ubuntu showed the same result as that from my Python script.</p>\n<p>I believe that I have followed the instructions given by the task. I used the actual RFC given Java code to find it is not generating the same output as the one given in the task. I contacted the provider of the task to ask if there is a bug, but they say that it is correct.</p>\n<p>Perhaps I am missing something here, such as the way the task provider actually encrypts the shared key?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1553178010,"creation_date":1553178010,"answer_id":55282555,"question_id":55282106,"body_markdown":"Just use the annotation `@Column` and physically set the column names as in the database. Another option is to set your schema to auto create and see what schema is created automatically.","title":"Spring Data JPA native query does not follow naming convention with projections","body":"<p>Just use the annotation <code>@Column</code> and physically set the column names as in the database. Another option is to set your schema to auto create and see what schema is created automatically.</p>\n"},{"tags":[],"owner":{"account_id":1442195,"reputation":861,"user_id":1361980,"display_name":"kalmas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648556796,"creation_date":1648556796,"answer_id":71662009,"question_id":55282106,"body_markdown":"You can explicitly rename the fields in your query to match the desired method names in your projection interface.\r\n\r\n```java\r\npublic interface MyProjection {\r\n  String getCreatedBy();\r\n}\r\n\r\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n  @Query(\r\n    value = &quot;SELECT cool_table.created_by AS createdBy ...&quot;,\r\n    nativeQuery = true\r\n  )\r\n  List&lt;MyProjection&gt; searchNative(String filter);\r\n}\r\n```\r\n","title":"Spring Data JPA native query does not follow naming convention with projections","body":"<p>You can explicitly rename the fields in your query to match the desired method names in your projection interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyProjection {\n  String getCreatedBy();\n}\n\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n  @Query(\n    value = &quot;SELECT cool_table.created_by AS createdBy ...&quot;,\n    nativeQuery = true\n  )\n  List&lt;MyProjection&gt; searchNative(String filter);\n}\n</code></pre>\n"}],"owner":{"account_id":51299,"reputation":2814,"user_id":153258,"display_name":"Nikolaos Georgiou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1648556796,"creation_date":1553176679,"question_id":55282106,"body_markdown":"I&#39;m using Spring Boot 2.1.3.RELEASE, Spring Data JPA against a PostgreSQL database.\r\n\r\nThe column names are using underscores (e.g. `created_by`) and the entity beans normal Java camelCase `createdBy`, `getCreatedBy()` etc.\r\n\r\nI am trying to write a native query with a projection interface, but I get back `null` values. Example:\r\n\r\n```java\r\npublic class MyEntity {\r\n    private String createdBy;\r\n    // getters and setters etc\r\n    // more fields here\r\n}\r\n\r\npublic interface MyProjection {\r\n    String getCreatedBy();\r\n}\r\n\r\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n    @Query(value = &quot;\r\n       SELECT DISTINCT cool_table.* FROM cool_table INNER JOIN\r\n       // more SQL things&quot;, nativeQuery = true\r\n    )\r\n    List&lt;MyProjection&gt; searchNative(String filter);\r\n}\r\n```\r\n\r\nWhen I run this, I get back null for underscore separated columns (which\r\nwork fine with non-native queries).\r\n\r\nAs an experiment, I added a method in my projection called `getCreated_by()`\r\nand that one works fine...\r\n\r\nI don&#39;t want to rename all the methods in my projection to have underscores in\r\ntheir names because that looks ugly. Is there a way to get native queries\r\nto work together with projections?\r\n\r\n\r\n\r\n","title":"Spring Data JPA native query does not follow naming convention with projections","body":"<p>I'm using Spring Boot 2.1.3.RELEASE, Spring Data JPA against a PostgreSQL database.</p>\n\n<p>The column names are using underscores (e.g. <code>created_by</code>) and the entity beans normal Java camelCase <code>createdBy</code>, <code>getCreatedBy()</code> etc.</p>\n\n<p>I am trying to write a native query with a projection interface, but I get back <code>null</code> values. Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyEntity {\n    private String createdBy;\n    // getters and setters etc\n    // more fields here\n}\n\npublic interface MyProjection {\n    String getCreatedBy();\n}\n\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n    @Query(value = \"\n       SELECT DISTINCT cool_table.* FROM cool_table INNER JOIN\n       // more SQL things\", nativeQuery = true\n    )\n    List&lt;MyProjection&gt; searchNative(String filter);\n}\n</code></pre>\n\n<p>When I run this, I get back null for underscore separated columns (which\nwork fine with non-native queries).</p>\n\n<p>As an experiment, I added a method in my projection called <code>getCreated_by()</code>\nand that one works fine...</p>\n\n<p>I don't want to rename all the methods in my projection to have underscores in\ntheir names because that looks ugly. Is there a way to get native queries\nto work together with projections?</p>\n"},{"tags":["java","docker","graalvm","graalvm-native-image","gluonfx"],"answers":[{"tags":[],"owner":{"account_id":15772565,"reputation":165,"user_id":11381193,"display_name":"Ikaro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648556781,"creation_date":1648556781,"answer_id":71662000,"question_id":71654629,"body_markdown":"Finally found the solution: \r\nChanging the base docker image to: ```mcr.microsoft.com/windows:1809-amd64```\r\n\r\nThis one contains the necessary dependencies to complete the build process. \r\nThis is finally my Dockerfile (Anyways, if you know a lighter image or docker configuration to perform the build with gluonfx, please post in the comments. I will appreciate):\r\n```\r\n# escape=`\r\n# Use A windows base image.\r\nFROM mcr.microsoft.com/windows:1809-amd64\r\n\r\n# Restore the default Windows shell for correct batch processing.\r\nSHELL [&quot;cmd&quot;, &quot;/S&quot;, &quot;/C&quot;]\r\n\r\nRUN `\r\n    # Download the Build Tools bootstrapper.\r\n    curl -SL --output vs_buildtools.exe https://aka.ms/vs/17/release/vs_buildtools.exe `\r\n    `\r\n    # Install Build Tools, excluding workloads and components with known issues.\r\n    &amp;&amp; (start /w vs_buildtools.exe --quiet --wait --norestart --nocache `\r\n        --installPath &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools&quot; `\r\n        --add Microsoft.VisualStudio.Workload.AzureBuildTools `\r\n        --add Microsoft.VisualStudio.Workload.VCTools `\r\n        --add Microsoft.VisualStudio.Component.VC.140 `\r\n        --add Microsoft.VisualStudio.Component.VC.Tools.x86.x64 `\r\n        --add Microsoft.VisualStudio.Component.VC.CMake.Project `\r\n        --add Microsoft.VisualStudio.Component.Windows10SDK.19041 `\r\n        --add Microsoft.VisualStudio.Component.VC.Llvm.Clang `\r\n        --add Microsoft.Net.Component.4.8.SDK `\r\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10240 `\r\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10586 `\r\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.14393 `\r\n        --remove Microsoft.VisualStudio.Component.Windows81SDK `\r\n        || IF &quot;%ERRORLEVEL%&quot;==&quot;3010&quot; EXIT 0) `\r\n    `\r\n    # Cleanup\r\n    &amp;&amp; del /q vs_buildtools.exe\r\n\r\n#Installing GraalVM\r\nADD https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.0.0.2/graalvm-ce-java11-windows-amd64-22.0.0.2.zip /\r\nRUN powershell -Command &quot;expand-archive -Path &#39;c:\\graalvm-ce-java11-windows-amd64-22.0.0.2.zip&#39; -DestinationPath &#39;c:\\&#39;&quot;\r\n\r\n#Installing Maven\r\nADD https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.zip /\r\nRUN powershell -Command &quot;expand-archive -Path &#39;c:\\apache-maven-3.8.5-bin.zip&#39; -DestinationPath &#39;c:\\&#39;&quot;\r\n\r\nENV JAVA_HOME C:\\graalvm-ce-java11-22.0.0.2\\\r\nENV MAVEN_HOME C:\\apache-maven-3.8.5\\\r\nENV GRAALVM_HOME C:\\graalvm-ce-java11-22.0.0.2\\\r\nENV JAVA_OPTS -Xmx1g\r\nRUN setx PATH &quot;%PATH%;%JAVA_HOME%\\bin;%MAVEN_HOME%\\bin&quot;\r\n\r\nWORKDIR C:/temp/\r\n\r\n# Define the entry point for the docker container.\r\n# This entry point starts the developer command prompt and launches the PowerShell shell.\r\nENTRYPOINT [&quot;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2022\\\\BuildTools\\\\VC\\\\Auxiliary\\\\Build\\\\vcvars64.bat&quot;, &quot;&amp;&amp;&quot;, &quot;powershell.exe&quot;, &quot;-NoLogo&quot;, &quot;-ExecutionPolicy&quot;, &quot;Bypass&quot;]\r\n``` ","title":"Gluonfx build using docker fails, with error: Cannot run program &quot;ie4uinit&quot;: CreateProcess error=2, The system cannot find the file specified","body":"<p>Finally found the solution:\nChanging the base docker image to: <code>mcr.microsoft.com/windows:1809-amd64</code></p>\n<p>This one contains the necessary dependencies to complete the build process.\nThis is finally my Dockerfile (Anyways, if you know a lighter image or docker configuration to perform the build with gluonfx, please post in the comments. I will appreciate):</p>\n<pre><code># escape=`\n# Use A windows base image.\nFROM mcr.microsoft.com/windows:1809-amd64\n\n# Restore the default Windows shell for correct batch processing.\nSHELL [&quot;cmd&quot;, &quot;/S&quot;, &quot;/C&quot;]\n\nRUN `\n    # Download the Build Tools bootstrapper.\n    curl -SL --output vs_buildtools.exe https://aka.ms/vs/17/release/vs_buildtools.exe `\n    `\n    # Install Build Tools, excluding workloads and components with known issues.\n    &amp;&amp; (start /w vs_buildtools.exe --quiet --wait --norestart --nocache `\n        --installPath &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools&quot; `\n        --add Microsoft.VisualStudio.Workload.AzureBuildTools `\n        --add Microsoft.VisualStudio.Workload.VCTools `\n        --add Microsoft.VisualStudio.Component.VC.140 `\n        --add Microsoft.VisualStudio.Component.VC.Tools.x86.x64 `\n        --add Microsoft.VisualStudio.Component.VC.CMake.Project `\n        --add Microsoft.VisualStudio.Component.Windows10SDK.19041 `\n        --add Microsoft.VisualStudio.Component.VC.Llvm.Clang `\n        --add Microsoft.Net.Component.4.8.SDK `\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10240 `\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10586 `\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.14393 `\n        --remove Microsoft.VisualStudio.Component.Windows81SDK `\n        || IF &quot;%ERRORLEVEL%&quot;==&quot;3010&quot; EXIT 0) `\n    `\n    # Cleanup\n    &amp;&amp; del /q vs_buildtools.exe\n\n#Installing GraalVM\nADD https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.0.0.2/graalvm-ce-java11-windows-amd64-22.0.0.2.zip /\nRUN powershell -Command &quot;expand-archive -Path 'c:\\graalvm-ce-java11-windows-amd64-22.0.0.2.zip' -DestinationPath 'c:\\'&quot;\n\n#Installing Maven\nADD https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.zip /\nRUN powershell -Command &quot;expand-archive -Path 'c:\\apache-maven-3.8.5-bin.zip' -DestinationPath 'c:\\'&quot;\n\nENV JAVA_HOME C:\\graalvm-ce-java11-22.0.0.2\\\nENV MAVEN_HOME C:\\apache-maven-3.8.5\\\nENV GRAALVM_HOME C:\\graalvm-ce-java11-22.0.0.2\\\nENV JAVA_OPTS -Xmx1g\nRUN setx PATH &quot;%PATH%;%JAVA_HOME%\\bin;%MAVEN_HOME%\\bin&quot;\n\nWORKDIR C:/temp/\n\n# Define the entry point for the docker container.\n# This entry point starts the developer command prompt and launches the PowerShell shell.\nENTRYPOINT [&quot;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2022\\\\BuildTools\\\\VC\\\\Auxiliary\\\\Build\\\\vcvars64.bat&quot;, &quot;&amp;&amp;&quot;, &quot;powershell.exe&quot;, &quot;-NoLogo&quot;, &quot;-ExecutionPolicy&quot;, &quot;Bypass&quot;]\n</code></pre>\n"}],"owner":{"account_id":15772565,"reputation":165,"user_id":11381193,"display_name":"Ikaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71662000,"answer_count":1,"score":0,"last_activity_date":1648556781,"creation_date":1648508686,"question_id":71654629,"body_markdown":"I&#39;m building a native image using the Gluonfx plugin. I&#39;m doing this procedure inside a docker container. \r\nThe image builds the 7 steps, but doing the link throws an error complaining about missing ie4uinit.exe. \r\n\r\n**These are the error logs:**\r\n```\r\n[Mon Mar 28 21:14:21 UTC 2022][INFO] Substrate is tested with the Gluon&#39;s GraalVM build which you can find at https://github.com/gluonhq/graal/releases.\r\nWhile you can still use other GraalVM builds, there is no guarantee that these will work properly with Substrate\r\n[Mon Mar 28 21:14:22 UTC 2022][INFO] ==================== LINK TASK ====================\r\n[Mon Mar 28 21:14:22 UTC 2022][INFO] Default icon.ico image generated in C:\\temp\\target\\gluonfx\\x86_64-windows\\gensrc\\windows\\assets.\r\nConsider copying it to C:\\temp\\src\\windows before performing any modification\r\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB] Microsoft (R) Incremental Linker Version 14.31.31104.0\r\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB] Copyright (C) Microsoft Corporation.  All rights reserved.\r\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB]\r\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB]    Creating library C:\\temp\\target\\gluonfx\\x86_64-windows\\X XXX.lib and object C:\\temp\\target\\gluonfx\\x86_64-windows\\X XXX.exp\r\njava.io.IOException: Cannot run program &quot;ie4uinit&quot;: CreateProcess error=2, The system cannot find the file specified\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n        at com.gluonhq.substrate.util.ProcessRunner.setupProcess(ProcessRunner.java:378)\r\n        at com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:236)\r\n        at com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:222)\r\n[INFO] ------------------------------------------------------------------------\r\n        at com.gluonhq.substrate.target.WindowsTargetConfiguration.clearExplorerCache(WindowsTargetConfiguration.java:276)\r\n        at com.gluonhq.substrate.target.WindowsTargetConfiguration.link(WindowsTargetConfiguration.java:224)\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n        at com.gluonhq.substrate.SubstrateDispatcher.nativeLink(SubstrateDispatcher.java:443)\r\n        at com.gluonhq.NativeLinkMojo.execute(NativeLinkMojo.java:47)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:301)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:157)\r\n[INFO] Total time:  06:39 min\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\r\n[INFO] Finished at: 2022-03-28T21:14:25Z\r\n[INFO] ------------------------------------------------------------------------\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n```\r\n\r\nI would like to know if it&#39;s possible to add this dependency to my docker image. Or, if not possible, a possible way to suppress the use of it in gluonfx through configuration. \r\n\r\n**Docker image:**\r\n```\r\n# escape=`\r\n# Use the latest Windows Server Core image with .NET Framework 4.8.\r\nFROM mcr.microsoft.com/dotnet/framework/sdk:4.8-windowsservercore-ltsc2019\r\n\r\n# Restore the default Windows shell for correct batch processing.\r\nSHELL [&quot;cmd&quot;, &quot;/S&quot;, &quot;/C&quot;]\r\n\r\nRUN `\r\n    # Download the Build Tools bootstrapper.\r\n    curl -SL --output vs_buildtools.exe https://aka.ms/vs/17/release/vs_buildtools.exe `\r\n    `\r\n    # Install Build Tools, excluding workloads and components with known issues.\r\n    &amp;&amp; (start /w vs_buildtools.exe --quiet --wait --norestart --nocache modify `\r\n        --installPath &quot;%ProgramFiles(x86)%\\Microsoft Visual Studio\\2022\\BuildTools&quot; `\r\n        --add Microsoft.VisualStudio.Workload.AzureBuildTools `\r\n        --add Microsoft.VisualStudio.Workload.VCTools `\r\n        --add Microsoft.VisualStudio.Component.VC.140 `\r\n        --add Microsoft.VisualStudio.Component.VC.Tools.x86.x64 `\r\n        --add Microsoft.VisualStudio.Component.VC.CMake.Project `\r\n        --add Microsoft.VisualStudio.Component.Windows10SDK.19041 `\r\n        --add Microsoft.VisualStudio.Component.VC.Llvm.Clang `\r\n        --add Microsoft.Net.Component.4.8.SDK `\r\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10240 `\r\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10586 `\r\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.14393 `\r\n        --remove Microsoft.VisualStudio.Component.Windows81SDK `\r\n        || IF &quot;%ERRORLEVEL%&quot;==&quot;3010&quot; EXIT 0) `\r\n    `\r\n    # Cleanup\r\n    &amp;&amp; del /q vs_buildtools.exe\r\n\r\n#Installing GraalVM\r\nADD https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.0.0.2/graalvm-ce-java11-windows-amd64-22.0.0.2.zip /\r\nRUN powershell -Command &quot;expand-archive -Path &#39;c:\\graalvm-ce-java11-windows-amd64-22.0.0.2.zip&#39; -DestinationPath &#39;c:\\&#39;&quot;\r\n\r\n#ADD  https://download2.gluonhq.com/substrate/javafxstaticsdk/openjfx-18-ea+14-windows-x86_64-static.zip / C:\\Users\\ContainerAdministrator\\.gluon\\substrate\\\r\n\r\n#Installing Maven\r\nADD https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.zip /\r\nRUN powershell -Command &quot;expand-archive -Path &#39;c:\\apache-maven-3.8.5-bin.zip&#39; -DestinationPath &#39;c:\\&#39;&quot;\r\n\r\nENV JAVA_HOME C:\\graalvm-ce-java11-22.0.0.2\\\r\nENV MAVEN_HOME C:\\apache-maven-3.8.5\\\r\nENV GRAALVM_HOME C:\\graalvm-ce-java11-22.0.0.2\\\r\nENV JAVA_OPTS -Xmx1g\r\nRUN setx PATH &quot;%PATH%;%JAVA_HOME%\\bin;%MAVEN_HOME%\\bin&quot;\r\n\r\nWORKDIR C:/temp/\r\n\r\n# Define the entry point for the docker container.\r\n# This entry point starts the developer command prompt and launches the PowerShell shell.\r\nENTRYPOINT [&quot;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2022\\\\BuildTools\\\\VC\\\\Auxiliary\\\\Build\\\\vcvars64.bat&quot;, &quot;&amp;&amp;&quot;, &quot;powershell.exe&quot;, &quot;-NoLogo&quot;, &quot;-ExecutionPolicy&quot;, &quot;Bypass&quot;]\r\n```\r\n","title":"Gluonfx build using docker fails, with error: Cannot run program &quot;ie4uinit&quot;: CreateProcess error=2, The system cannot find the file specified","body":"<p>I'm building a native image using the Gluonfx plugin. I'm doing this procedure inside a docker container.\nThe image builds the 7 steps, but doing the link throws an error complaining about missing ie4uinit.exe.</p>\n<p><strong>These are the error logs:</strong></p>\n<pre><code>[Mon Mar 28 21:14:21 UTC 2022][INFO] Substrate is tested with the Gluon's GraalVM build which you can find at https://github.com/gluonhq/graal/releases.\nWhile you can still use other GraalVM builds, there is no guarantee that these will work properly with Substrate\n[Mon Mar 28 21:14:22 UTC 2022][INFO] ==================== LINK TASK ====================\n[Mon Mar 28 21:14:22 UTC 2022][INFO] Default icon.ico image generated in C:\\temp\\target\\gluonfx\\x86_64-windows\\gensrc\\windows\\assets.\nConsider copying it to C:\\temp\\src\\windows before performing any modification\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB] Microsoft (R) Incremental Linker Version 14.31.31104.0\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB] Copyright (C) Microsoft Corporation.  All rights reserved.\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB]\n[Mon Mar 28 21:14:22 UTC 2022][INFO] [SUB]    Creating library C:\\temp\\target\\gluonfx\\x86_64-windows\\X XXX.lib and object C:\\temp\\target\\gluonfx\\x86_64-windows\\X XXX.exp\njava.io.IOException: Cannot run program &quot;ie4uinit&quot;: CreateProcess error=2, The system cannot find the file specified\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n        at com.gluonhq.substrate.util.ProcessRunner.setupProcess(ProcessRunner.java:378)\n        at com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:236)\n        at com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:222)\n[INFO] ------------------------------------------------------------------------\n        at com.gluonhq.substrate.target.WindowsTargetConfiguration.clearExplorerCache(WindowsTargetConfiguration.java:276)\n        at com.gluonhq.substrate.target.WindowsTargetConfiguration.link(WindowsTargetConfiguration.java:224)\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n        at com.gluonhq.substrate.SubstrateDispatcher.nativeLink(SubstrateDispatcher.java:443)\n        at com.gluonhq.NativeLinkMojo.execute(NativeLinkMojo.java:47)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:301)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:211)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:165)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:157)\n[INFO] Total time:  06:39 min\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:121)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:127)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\n[INFO] Finished at: 2022-03-28T21:14:25Z\n[INFO] ------------------------------------------------------------------------\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n</code></pre>\n<p>I would like to know if it's possible to add this dependency to my docker image. Or, if not possible, a possible way to suppress the use of it in gluonfx through configuration.</p>\n<p><strong>Docker image:</strong></p>\n<pre><code># escape=`\n# Use the latest Windows Server Core image with .NET Framework 4.8.\nFROM mcr.microsoft.com/dotnet/framework/sdk:4.8-windowsservercore-ltsc2019\n\n# Restore the default Windows shell for correct batch processing.\nSHELL [&quot;cmd&quot;, &quot;/S&quot;, &quot;/C&quot;]\n\nRUN `\n    # Download the Build Tools bootstrapper.\n    curl -SL --output vs_buildtools.exe https://aka.ms/vs/17/release/vs_buildtools.exe `\n    `\n    # Install Build Tools, excluding workloads and components with known issues.\n    &amp;&amp; (start /w vs_buildtools.exe --quiet --wait --norestart --nocache modify `\n        --installPath &quot;%ProgramFiles(x86)%\\Microsoft Visual Studio\\2022\\BuildTools&quot; `\n        --add Microsoft.VisualStudio.Workload.AzureBuildTools `\n        --add Microsoft.VisualStudio.Workload.VCTools `\n        --add Microsoft.VisualStudio.Component.VC.140 `\n        --add Microsoft.VisualStudio.Component.VC.Tools.x86.x64 `\n        --add Microsoft.VisualStudio.Component.VC.CMake.Project `\n        --add Microsoft.VisualStudio.Component.Windows10SDK.19041 `\n        --add Microsoft.VisualStudio.Component.VC.Llvm.Clang `\n        --add Microsoft.Net.Component.4.8.SDK `\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10240 `\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.10586 `\n        --remove Microsoft.VisualStudio.Component.Windows10SDK.14393 `\n        --remove Microsoft.VisualStudio.Component.Windows81SDK `\n        || IF &quot;%ERRORLEVEL%&quot;==&quot;3010&quot; EXIT 0) `\n    `\n    # Cleanup\n    &amp;&amp; del /q vs_buildtools.exe\n\n#Installing GraalVM\nADD https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.0.0.2/graalvm-ce-java11-windows-amd64-22.0.0.2.zip /\nRUN powershell -Command &quot;expand-archive -Path 'c:\\graalvm-ce-java11-windows-amd64-22.0.0.2.zip' -DestinationPath 'c:\\'&quot;\n\n#ADD  https://download2.gluonhq.com/substrate/javafxstaticsdk/openjfx-18-ea+14-windows-x86_64-static.zip / C:\\Users\\ContainerAdministrator\\.gluon\\substrate\\\n\n#Installing Maven\nADD https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.zip /\nRUN powershell -Command &quot;expand-archive -Path 'c:\\apache-maven-3.8.5-bin.zip' -DestinationPath 'c:\\'&quot;\n\nENV JAVA_HOME C:\\graalvm-ce-java11-22.0.0.2\\\nENV MAVEN_HOME C:\\apache-maven-3.8.5\\\nENV GRAALVM_HOME C:\\graalvm-ce-java11-22.0.0.2\\\nENV JAVA_OPTS -Xmx1g\nRUN setx PATH &quot;%PATH%;%JAVA_HOME%\\bin;%MAVEN_HOME%\\bin&quot;\n\nWORKDIR C:/temp/\n\n# Define the entry point for the docker container.\n# This entry point starts the developer command prompt and launches the PowerShell shell.\nENTRYPOINT [&quot;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2022\\\\BuildTools\\\\VC\\\\Auxiliary\\\\Build\\\\vcvars64.bat&quot;, &quot;&amp;&amp;&quot;, &quot;powershell.exe&quot;, &quot;-NoLogo&quot;, &quot;-ExecutionPolicy&quot;, &quot;Bypass&quot;]\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1648553763,"post_id":71661264,"comment_id":126648464,"body_markdown":"`= IntegerWrapper::getId + 1;` and in your opinion on which instance should `getId` be invoked if you are not passing any??","body":"<code>= IntegerWrapper::getId + 1;</code> and in your opinion on which instance should <code>getId</code> be invoked if you are not passing any??"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1648555798,"post_id":71661264,"comment_id":126649239,"body_markdown":"See but you are not using it. That is the issue!","body":"See but you are not using it. That is the issue!"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1648555995,"post_id":71661264,"comment_id":126649329,"body_markdown":"You are passing &quot;method reference&quot; but you are not specifying the context in which that method should be used. Thats one issue. Second issue is that it would not be a valid statemen anyway. What is wrong with lamba?","body":"You are passing &quot;method reference&quot; but you are not specifying the context in which that method should be used. Thats one issue. Second issue is that it would not be a valid statemen anyway. What is wrong with lamba?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1648556091,"post_id":71661264,"comment_id":126649374,"body_markdown":"No, that&#39;s not possible.","body":"No, that&#39;s not possible."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1648556756,"post_id":71661264,"comment_id":126649665,"body_markdown":"With` x -&gt; x.getValue() + 1; ` you have clearly stated that `x` is an input, and you do someything witht that `x`, `x.getValue()` in this case. `x` is your context to refer to. When you try something `MyClass::getValue + 1;` what would be the instance of `MyClass` to invoke `getValue` on in your opition????? Moreover, eg `public int x(){return 2} + 2;` is by no means a valid statement, but yet you would like it to be.","body":"With` x -&gt; x.getValue() + 1; ` you have clearly stated that <code>x</code> is an input, and you do someything witht that <code>x</code>, <code>x.getValue()</code> in this case. <code>x</code> is your context to refer to. When you try something <code>MyClass::getValue + 1;</code> what would be the instance of <code>MyClass</code> to invoke <code>getValue</code> on in your opition????? Moreover, eg <code>public int x(){return 2} + 2;</code> is by no means a valid statement, but yet you would like it to be."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648556100,"creation_date":1648556100,"answer_id":71661836,"question_id":71661264,"body_markdown":"I don&#39;t know that is the problem with lamba expressions here but you can always wrap your expressions and use references to those wrappers \r\n\r\n\r\n\r\n    stream.map(this::doIt)\r\n    \r\n    public int doIt(MyClass x){\r\n       return x.getValue()+1;\r\n    }","title":"Is it possible to use the reference operator in conjunction with other operators?","body":"<p>I don't know that is the problem with lamba expressions here but you can always wrap your expressions and use references to those wrappers</p>\n<pre><code>stream.map(this::doIt)\n\npublic int doIt(MyClass x){\n   return x.getValue()+1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648556722,"creation_date":1648556722,"answer_id":71661989,"question_id":71661264,"body_markdown":"**No**, that&#39;s not possible.\r\n\r\nA method reference is an expression, which has a value. The type of the value is computed at compile-time, depending on the context in which it is used (this is called a *poly expression*). A method reference is always an instance of a *functional interface*.\r\n\r\nIn your case, `MyClass::getValue` returns some compatible interface, but the expression `MyClass::getValue + 1` causes the `+` operator to have to deal with that interface.\r\n\r\n---\r\n\r\nIn [JLS &#167; 15.13.3][1], you can read about method references.\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.3","title":"Is it possible to use the reference operator in conjunction with other operators?","body":"<p><strong>No</strong>, that's not possible.</p>\n<p>A method reference is an expression, which has a value. The type of the value is computed at compile-time, depending on the context in which it is used (this is called a <em>poly expression</em>). A method reference is always an instance of a <em>functional interface</em>.</p>\n<p>In your case, <code>MyClass::getValue</code> returns some compatible interface, but the expression <code>MyClass::getValue + 1</code> causes the <code>+</code> operator to have to deal with that interface.</p>\n<hr />\n<p>In <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.3\" rel=\"nofollow noreferrer\">JLS  15.13.3</a>, you can read about method references.</p>\n"}],"owner":{"account_id":17054349,"reputation":174,"user_id":12339258,"display_name":"Valentin Popescu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71661989,"answer_count":2,"score":-1,"last_activity_date":1648556722,"creation_date":1648553622,"question_id":71661264,"body_markdown":"Let&#39;s say we got this class:\r\n```\r\npublic class MyClass {\r\n    final int value = 0;\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nIs it somehow possible to take the output of the `getValue()` method and increment it, or do any math with it, but by **using the reference operator** and not a lambda?\r\n\r\nWhat I am looking to achieve is something like this, but **with reference operators**:\r\n```\r\nFunction&lt;MyClass, Integer&gt; getVal = x -&gt; x.getValue() + 1;\r\n```\r\n\r\nIf I write something like this, I will get an error:\r\n```\r\nFunction&lt;MyClass, Integer&gt; getVal = MyClass::getValue + 1;\r\n```","title":"Is it possible to use the reference operator in conjunction with other operators?","body":"<p>Let's say we got this class:</p>\n<pre><code>public class MyClass {\n    final int value = 0;\n\n    public int getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>Is it somehow possible to take the output of the <code>getValue()</code> method and increment it, or do any math with it, but by <strong>using the reference operator</strong> and not a lambda?</p>\n<p>What I am looking to achieve is something like this, but <strong>with reference operators</strong>:</p>\n<pre><code>Function&lt;MyClass, Integer&gt; getVal = x -&gt; x.getValue() + 1;\n</code></pre>\n<p>If I write something like this, I will get an error:</p>\n<pre><code>Function&lt;MyClass, Integer&gt; getVal = MyClass::getValue + 1;\n</code></pre>\n"},{"tags":["java","selenium","microsoft-edge","webdriverwait","selenium4"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648556135,"creation_date":1648556135,"answer_id":71661842,"question_id":71661319,"body_markdown":"As you migrated from lower versions of [Selenium](https://stackoverflow.com/a/54482491/7429447) to _**Selenium v4.0**_, the new constructor for [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) is updated as:\r\n\r\n    public WebDriverWait(WebDriver driver, java.time.Duration timeout)\r\n\r\n    Wait will ignore instances of NotFoundException that are encountered (thrown) by default in the &#39;until&#39; condition, and immediately propagate all others. You can add more to the ignore list by calling ignoring(exceptions to add).\r\n\r\n    Parameters:\r\n    driver - The WebDriver instance to pass to the expected conditions\r\n    timeout - The timeout when an expectation is called\r\n\r\nand the implementation is as follows:\r\n\r\n\tWebDriverWait wait =  new WebDriverWait(testDriver, Duration.ofSeconds(1));\r\n\r\nYou need to change the defination of _`pageLoadCondition`_ accordingly.\r\n\r\n\r\n----------\r\n\r\n\r\ntl; dr\r\n------\r\n[Class WebDriverWait](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html)","title":"selenium.JavascriptException: javascript error: Function is not a constructor using WebDriverWait upgrading to Selenium 4.0 Java","body":"<p>As you migrated from lower versions of <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> to <em><strong>Selenium v4.0</strong></em>, the new constructor for <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> is updated as:</p>\n<pre><code>public WebDriverWait(WebDriver driver, java.time.Duration timeout)\n\nWait will ignore instances of NotFoundException that are encountered (thrown) by default in the 'until' condition, and immediately propagate all others. You can add more to the ignore list by calling ignoring(exceptions to add).\n\nParameters:\ndriver - The WebDriver instance to pass to the expected conditions\ntimeout - The timeout when an expectation is called\n</code></pre>\n<p>and the implementation is as follows:</p>\n<pre><code>WebDriverWait wait =  new WebDriverWait(testDriver, Duration.ofSeconds(1));\n</code></pre>\n<p>You need to change the defination of <em><code>pageLoadCondition</code></em> accordingly.</p>\n<hr />\n<h2>tl; dr</h2>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\">Class WebDriverWait</a></p>\n"}],"owner":{"account_id":24731594,"reputation":11,"user_id":18619502,"display_name":"kedar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648556452,"creation_date":1648553821,"question_id":71661319,"body_markdown":"We are running selenium and java  automation project in chrome . it was running we want migrated to Micro soft Edge in that process we upgrade to Selenium 4.0 and java 1.8 edge 99.  When we run the our project we  are facing below error  edge-browser\r\n\r\n    org.openqa.selenium.JavascriptException: javascript error: Function is not a constructor\r\n\r\nSame code is working in chrome. \r\n\r\n    public void waitForLoad(long seconds) {\r\n\t\tExpectedCondition&lt;Boolean&gt; pageLoadCondition = new ExpectedCondition&lt;Boolean&gt;() {\r\n\t\t\tpublic Boolean apply(WebDriver wd) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// this will tell if page is loaded\r\n\t\t\t\t\tJavascriptExecutor js = (JavascriptExecutor) getDriver();\r\n\t\t\t\t\tString windowState = js.executeScript(&quot;return document.readyState&quot;).toString();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//String windowState = (String) ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState;&quot;);\r\n\t\t\t\t\tlog.debug(&quot;wait for window[&quot; + wd.getWindowHandle() + &quot;] sate:&quot; + windowState);\r\n\t\t\t\t\tlog.debug(&quot;WINDOW is generated &gt;&gt;&gt;&gt;&gt;&quot;);\r\n\t\t\t\t\treturn &quot;complete&quot;.equals(windowState);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tlog.debug(&quot;WINDOW is not loading&gt;&gt;&gt;&gt;&gt;&quot;+e);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tlong waitSeconds = seconds;\r\n\t\tif(seconds&lt;=0){\r\n\t\t\twaitSeconds = ENV.getPageloadTimeout();\r\n\t\t}\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, waitSeconds);\r\n\t\t// wait for page complete\r\n\t\tlog.debug(&quot;PageLoadState&gt;&gt;&quot;+pageLoadCondition.toString());\r\n\t\twait.until(pageLoadCondition);\r\n\r\nWe are facing issue in `wait.until(pageLoadCondition);` line in edge browser . Do any other way uset ExpectedConditio method ","title":"selenium.JavascriptException: javascript error: Function is not a constructor using WebDriverWait upgrading to Selenium 4.0 Java","body":"<p>We are running selenium and java  automation project in chrome . it was running we want migrated to Micro soft Edge in that process we upgrade to Selenium 4.0 and java 1.8 edge 99.  When we run the our project we  are facing below error  edge-browser</p>\n<pre><code>org.openqa.selenium.JavascriptException: javascript error: Function is not a constructor\n</code></pre>\n<p>Same code is working in chrome.</p>\n<pre><code>public void waitForLoad(long seconds) {\n    ExpectedCondition&lt;Boolean&gt; pageLoadCondition = new ExpectedCondition&lt;Boolean&gt;() {\n        public Boolean apply(WebDriver wd) {\n            try {\n                // this will tell if page is loaded\n                JavascriptExecutor js = (JavascriptExecutor) getDriver();\n                String windowState = js.executeScript(&quot;return document.readyState&quot;).toString();\n                \n                \n                //String windowState = (String) ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState;&quot;);\n                log.debug(&quot;wait for window[&quot; + wd.getWindowHandle() + &quot;] sate:&quot; + windowState);\n                log.debug(&quot;WINDOW is generated &gt;&gt;&gt;&gt;&gt;&quot;);\n                return &quot;complete&quot;.equals(windowState);\n            } catch (Exception e) {\n                \n                log.debug(&quot;WINDOW is not loading&gt;&gt;&gt;&gt;&gt;&quot;+e);\n                return false;\n            }\n        }\n    };\n    long waitSeconds = seconds;\n    if(seconds&lt;=0){\n        waitSeconds = ENV.getPageloadTimeout();\n    }\n    WebDriverWait wait = new WebDriverWait(driver, waitSeconds);\n    // wait for page complete\n    log.debug(&quot;PageLoadState&gt;&gt;&quot;+pageLoadCondition.toString());\n    wait.until(pageLoadCondition);\n</code></pre>\n<p>We are facing issue in <code>wait.until(pageLoadCondition);</code> line in edge browser . Do any other way uset ExpectedConditio method</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1648555244,"post_id":71661549,"comment_id":126649021,"body_markdown":"Why do you think it shouldn&#39;t be null?","body":"Why do you think it shouldn&#39;t be null?"},{"owner":{"account_id":24731901,"reputation":13,"user_id":18619782,"display_name":"Aviad tech"},"score":0,"creation_date":1648555519,"post_id":71661549,"comment_id":126649134,"body_markdown":"what i tried to print is the 3 objects with a &quot;Round&quot; type","body":"what i tried to print is the 3 objects with a &quot;Round&quot; type"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1648555702,"post_id":71661549,"comment_id":126649197,"body_markdown":"How does that answer my question?","body":"How does that answer my question?"},{"owner":{"account_id":24731901,"reputation":13,"user_id":18619782,"display_name":"Aviad tech"},"score":0,"creation_date":1648556612,"post_id":71661549,"comment_id":126649605,"body_markdown":"I didn&#39;t get the question you asked me sry, the guy below explained it to me so all good, and thanks.","body":"I didn&#39;t get the question you asked me sry, the guy below explained it to me so all good, and thanks."}],"answers":[{"tags":[],"owner":{"account_id":7255677,"reputation":922,"user_id":12099409,"display_name":"Osama A.Rehman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648555745,"creation_date":1648555745,"answer_id":71661746,"question_id":71661549,"body_markdown":"The NullPointerException occurs because in the second for loop in the function, you&#39;re just going through the first `x` number of tables. You need to loop through all tables and select the matching typed tables into the new array.\r\n\r\n    public static q2Table[] tableTypeArr(q2Table[] tables,String t) {\r\n        // Getting the index i need for the returning array\r\n        String type = t;\r\n        int i  , x=0  , j;\r\n        for(i=0;i&lt;tables.length;i++) {\r\n            if(tables[i].getType()==type) {\r\n                x++;\r\n            }\r\n        }\r\n        //creating the returning array\r\n        q2Table[] types = new q2Table[x];\r\n        i=0; // Use i to maintain index for the new array\r\n        for(j=0;j&lt;tables.length;j++) { // Loop all tables\r\n            if(tables[j].getType()==type) {\r\n                types[i++]=tables[j]; // Set the ith index value to the matched table and increment i.\r\n            }\r\n        }\r\n        return types;\r\n    }","title":"How do I print a returning Array of objects ? I could only print the first 1","body":"<p>The NullPointerException occurs because in the second for loop in the function, you're just going through the first <code>x</code> number of tables. You need to loop through all tables and select the matching typed tables into the new array.</p>\n<pre><code>public static q2Table[] tableTypeArr(q2Table[] tables,String t) {\n    // Getting the index i need for the returning array\n    String type = t;\n    int i  , x=0  , j;\n    for(i=0;i&lt;tables.length;i++) {\n        if(tables[i].getType()==type) {\n            x++;\n        }\n    }\n    //creating the returning array\n    q2Table[] types = new q2Table[x];\n    i=0; // Use i to maintain index for the new array\n    for(j=0;j&lt;tables.length;j++) { // Loop all tables\n        if(tables[j].getType()==type) {\n            types[i++]=tables[j]; // Set the ith index value to the matched table and increment i.\n        }\n    }\n    return types;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648556223,"creation_date":1648556223,"answer_id":71661865,"question_id":71661549,"body_markdown":"Your String comparison is wrong: you do: `tables[j].getType()==type` you should do: `tables[j].getType().equals(type)`. So when you fill your array in your `tableTypeArr` you only pick one record and not 3 as you thought. So, when you try to iterate through your testTable, it only holds one record and 2 null values. So you print the first and on the second element you get your NPE (NUllPointerException). You can verify all this in debug.","title":"How do I print a returning Array of objects ? I could only print the first 1","body":"<p>Your String comparison is wrong: you do: <code>tables[j].getType()==type</code> you should do: <code>tables[j].getType().equals(type)</code>. So when you fill your array in your <code>tableTypeArr</code> you only pick one record and not 3 as you thought. So, when you try to iterate through your testTable, it only holds one record and 2 null values. So you print the first and on the second element you get your NPE (NUllPointerException). You can verify all this in debug.</p>\n"}],"owner":{"account_id":24731901,"reputation":13,"user_id":18619782,"display_name":"Aviad tech"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71661865,"answer_count":2,"score":0,"last_activity_date":1648556223,"creation_date":1648554912,"question_id":71661549,"body_markdown":"**I  created a function that gets an array of objects and the type(String) of the abject and\r\nreturning an array of objects with a specific type and after that, I tried to print it but it only print the first 1, not sure what went wrong.\r\nThe objects are Tables:** \r\n```\r\npublic class q2Table {\r\nprivate String color;\r\nprivate int length;\r\nprivate int width;\r\nprivate int height;\r\nprivate String type;\r\n\r\n```\r\n\r\n//I made a full contractor:\r\n\r\n```\r\npublic q2Table(String color, int length, int width, int height, String type) {\r\n\t\r\n\tthis.color = color;\r\n\tthis.length = length;\r\n\tthis.width = width;\r\n\tthis.height = height;\r\n\tthis.type = type;\r\n}\r\n\r\n```\r\n//and a setter getter for each :\r\n\r\n\r\n```\r\n\r\npublic String getColor() {\r\n\treturn color;\r\n}\r\npublic void setColor(String color) {\r\n\tthis.color = color;\r\n}\r\npublic int getLength() {\r\n\treturn length;\r\n}\r\npublic void setLength(int length) {\r\n\tthis.length = length;\r\n}\r\npublic int getWidth() {\r\n\treturn width;\r\n}\r\npublic void setWidth(int width) {\r\n\tthis.width = width;\r\n}\r\npublic int getHeight() {\r\n\treturn height;\r\n}\r\npublic void setHeight(int height) {\r\n\tthis.height = height;\r\n}\r\npublic String getType() {\r\n\treturn type;\r\n}\r\npublic void setType(String type) {\r\n\tthis.type = type;\r\n}\r\n\r\n```\r\n\r\n\r\n//I created a main class and also and random array of objects:\r\n\r\n\r\n```\r\n\r\nq2Table[] myTable = new q2Table[5];\r\n\t\tmyTable[0] = new q2Table(&quot;Yellow&quot; , 20 , 20 , 20 , &quot;Round&quot;);\r\n\t\tmyTable[1] = new q2Table(&quot;White&quot; , 22 , 22 , 22 , &quot;Rectangle&quot;);\r\n\t\tmyTable[2] = new q2Table(&quot;Purple&quot; , 21 , 21 , 21 , &quot;Round&quot;);\r\n\t\tmyTable[3] = new q2Table(&quot;Blue&quot; , 21 , 21 , 21 , &quot;Traingle&quot;);\r\n\t\tmyTable[4] = new q2Table(&quot;Green&quot; , 21 , 21 , 21 , &quot;Round&quot;);\r\n\r\n```\r\n\r\n**Created the function I asked about in the beginning :**\r\n\r\n\r\n```\r\n\r\npublic static q2Table[] tableTypeArr(q2Table[] tables,String t) {\r\n\t\t// Getting the index i need for the returning array\r\n\t\tString type = t;\r\n\t\tint i  , x=0  , j;\r\n\t\tfor(i=0;i&lt;tables.length;i++) {\r\n\t\t\tif(tables[i].getType()==type) {\r\n\t\t\t\tx++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//creating the returning array\r\n\t\tq2Table[] types = new q2Table[x];\r\n\t\t\r\n\t\tfor(j=0;j&lt;types.length;j++) {\r\n\t\t\tif(tables[j].getType()==type) {\r\n\t\t\t\ttypes[j]=tables[j];\r\n\t\t\t}\r\n\t\t}\r\n\t  return types;\r\n\t}\r\n\r\n```\r\n\r\n//created two Arrays of objects, 1 with random objects that suppose to enter the function and a //receiving\r\n//Array of objects to print:\r\n\r\n```\r\n\r\nq2Table[] testTable = new q2Table[3];\r\n\t\ttestTable = tableTypeArr(myTable , &quot;Round&quot;);\r\n\t\tint i;\r\n\t\tfor(i=0;i&lt;testTable.length;i++) {\r\n\t\t\tSystem.out.println(testTable[i].getColor() + &quot; &quot;+ testTable[i].getHeight() + &quot; &quot;+testTable[i].getLength()+&quot; &quot; +testTable[i].getWidth()+&quot; &quot;+testTable[i].getType() );\r\n\t\t}\r\n\r\n```\r\n\r\n//I successfully printed the first object and after that got an error in the terminal:\r\n\r\nYellow 20 20 20 Round\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;lab4.q2Table.getColor()&quot; because &quot;testTable[i]&quot; is null\r\n\tat lab4.q2Main.main(q2Main.java:70)\r\n","title":"How do I print a returning Array of objects ? I could only print the first 1","body":"<p><strong>I  created a function that gets an array of objects and the type(String) of the abject and\nreturning an array of objects with a specific type and after that, I tried to print it but it only print the first 1, not sure what went wrong.\nThe objects are Tables:</strong></p>\n<pre><code>public class q2Table {\nprivate String color;\nprivate int length;\nprivate int width;\nprivate int height;\nprivate String type;\n\n</code></pre>\n<p>//I made a full contractor:</p>\n<pre><code>public q2Table(String color, int length, int width, int height, String type) {\n    \n    this.color = color;\n    this.length = length;\n    this.width = width;\n    this.height = height;\n    this.type = type;\n}\n\n</code></pre>\n<p>//and a setter getter for each :</p>\n<pre><code>\npublic String getColor() {\n    return color;\n}\npublic void setColor(String color) {\n    this.color = color;\n}\npublic int getLength() {\n    return length;\n}\npublic void setLength(int length) {\n    this.length = length;\n}\npublic int getWidth() {\n    return width;\n}\npublic void setWidth(int width) {\n    this.width = width;\n}\npublic int getHeight() {\n    return height;\n}\npublic void setHeight(int height) {\n    this.height = height;\n}\npublic String getType() {\n    return type;\n}\npublic void setType(String type) {\n    this.type = type;\n}\n\n</code></pre>\n<p>//I created a main class and also and random array of objects:</p>\n<pre><code>\nq2Table[] myTable = new q2Table[5];\n        myTable[0] = new q2Table(&quot;Yellow&quot; , 20 , 20 , 20 , &quot;Round&quot;);\n        myTable[1] = new q2Table(&quot;White&quot; , 22 , 22 , 22 , &quot;Rectangle&quot;);\n        myTable[2] = new q2Table(&quot;Purple&quot; , 21 , 21 , 21 , &quot;Round&quot;);\n        myTable[3] = new q2Table(&quot;Blue&quot; , 21 , 21 , 21 , &quot;Traingle&quot;);\n        myTable[4] = new q2Table(&quot;Green&quot; , 21 , 21 , 21 , &quot;Round&quot;);\n\n</code></pre>\n<p><strong>Created the function I asked about in the beginning :</strong></p>\n<pre><code>\npublic static q2Table[] tableTypeArr(q2Table[] tables,String t) {\n        // Getting the index i need for the returning array\n        String type = t;\n        int i  , x=0  , j;\n        for(i=0;i&lt;tables.length;i++) {\n            if(tables[i].getType()==type) {\n                x++;\n            }\n        }\n        //creating the returning array\n        q2Table[] types = new q2Table[x];\n        \n        for(j=0;j&lt;types.length;j++) {\n            if(tables[j].getType()==type) {\n                types[j]=tables[j];\n            }\n        }\n      return types;\n    }\n\n</code></pre>\n<p>//created two Arrays of objects, 1 with random objects that suppose to enter the function and a //receiving\n//Array of objects to print:</p>\n<pre><code>\nq2Table[] testTable = new q2Table[3];\n        testTable = tableTypeArr(myTable , &quot;Round&quot;);\n        int i;\n        for(i=0;i&lt;testTable.length;i++) {\n            System.out.println(testTable[i].getColor() + &quot; &quot;+ testTable[i].getHeight() + &quot; &quot;+testTable[i].getLength()+&quot; &quot; +testTable[i].getWidth()+&quot; &quot;+testTable[i].getType() );\n        }\n\n</code></pre>\n<p>//I successfully printed the first object and after that got an error in the terminal:</p>\n<p>Yellow 20 20 20 Round\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;lab4.q2Table.getColor()&quot; because &quot;testTable[i]&quot; is null\nat lab4.q2Main.main(q2Main.java:70)</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1371591573,"post_id":17178668,"comment_id":24876513,"body_markdown":"Guava is against Pair in the first place.  https://code.google.com/p/guava-libraries/wiki/IdeaGraveyard","body":"Guava is against Pair in the first place.  <a href=\"https://code.google.com/p/guava-libraries/wiki/IdeaGraveyard\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/wiki/IdeaGraveyard</a>"}],"answers":[{"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371588805,"creation_date":1371588805,"answer_id":17178721,"question_id":17178668,"body_markdown":"[FunctionalJava](http://functionaljava.org/) has a `zip` implementation","title":"zip function for Java","body":"<p><a href=\"http://functionaljava.org/\" rel=\"nofollow\">FunctionalJava</a> has a <code>zip</code> implementation</p>\n"},{"tags":[],"owner":{"account_id":1729199,"reputation":22586,"user_id":1583175,"accept_rate":83,"display_name":"SheetJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1371588827,"creation_date":1371588827,"answer_id":17178731,"question_id":17178668,"body_markdown":"There&#39;s no standard per se.  I&#39;ve played with [Functional Java](http://functionaljava.org/) a bit, and it&#39;s ok for basic stuff.\r\n\r\nThis was answered in more detail here: https://softwareengineering.stackexchange.com/questions/101352/is-functional-programming-possible-in-java#101361\r\n\r\nBut you could also consider using something like [Scala](http://www.scala-lang.org/) (which runs on the JVM)","title":"zip function for Java","body":"<p>There's no standard per se.  I've played with <a href=\"http://functionaljava.org/\" rel=\"nofollow noreferrer\">Functional Java</a> a bit, and it's ok for basic stuff.</p>\n\n<p>This was answered in more detail here: <a href=\"https://softwareengineering.stackexchange.com/questions/101352/is-functional-programming-possible-in-java#101361\">https://softwareengineering.stackexchange.com/questions/101352/is-functional-programming-possible-in-java#101361</a></p>\n\n<p>But you could also consider using something like <a href=\"http://www.scala-lang.org/\" rel=\"nofollow noreferrer\">Scala</a> (which runs on the JVM)</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648556065,"creation_date":1648556065,"answer_id":71661827,"question_id":17178668,"body_markdown":"Guava has a [Streams.zip][1] function and Apache commons has a [Pair][2] class. Here is some example code using both to do this\r\n```\r\nimport com.google.common.collect.Streams;\r\nimport org.apache.commons.lang3.tuple.Pair;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list1 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n        List&lt;Integer&gt; list2 = List.of(1, 2, 3);\r\n\r\n        List&lt;Pair&lt;String, Integer&gt;&gt; zipped = Streams.zip(list1.stream(), list2.stream(), Pair::of)\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(zipped);\r\n    }\r\n}\r\n```\r\nIt prints\r\n```\r\n[(a,1), (b,2), (c,3)]\r\n```\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Streams.html#zip(java.util.stream.Stream,java.util.stream.Stream,java.util.function.BiFunction)\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html","title":"zip function for Java","body":"<p>Guava has a <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Streams.html#zip(java.util.stream.Stream,java.util.stream.Stream,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Streams.zip</a> function and Apache commons has a <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\">Pair</a> class. Here is some example code using both to do this</p>\n<pre><code>import com.google.common.collect.Streams;\nimport org.apache.commons.lang3.tuple.Pair;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nclass Scratch {\n    public static void main(String[] args) {\n        List&lt;String&gt; list1 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n        List&lt;Integer&gt; list2 = List.of(1, 2, 3);\n\n        List&lt;Pair&lt;String, Integer&gt;&gt; zipped = Streams.zip(list1.stream(), list2.stream(), Pair::of)\n                .collect(Collectors.toList());\n\n        System.out.println(zipped);\n    }\n}\n</code></pre>\n<p>It prints</p>\n<pre><code>[(a,1), (b,2), (c,3)]\n</code></pre>\n"}],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17178731,"answer_count":3,"score":0,"last_activity_date":1648556065,"creation_date":1371588670,"question_id":17178668,"body_markdown":"Is there some standard API or established third party library (I am thinking commons or Guava) that provides in Java the equivalent of `zip` or `map vector` function in languages like Ruby or Clojure?\r\n\r\n    (zip &#39;(1 2 3) &#39;(a b c))\r\n    &#39;( (1 a) (2 b) (3 c))\r\n\r\nSo the signature (for two collections) would be:\r\n\r\n    public static &lt;V,T&gt; List&lt; Pair&lt;V, T&gt; &gt; zip (List&lt;V&gt; vs, List&lt;T&gt; ts);\r\n\r\nwhere `Pair` would also be presumably defined in that library. I know its trivial to implement but maybe said library has other functional goodies too.","title":"zip function for Java","body":"<p>Is there some standard API or established third party library (I am thinking commons or Guava) that provides in Java the equivalent of <code>zip</code> or <code>map vector</code> function in languages like Ruby or Clojure?</p>\n\n<pre><code>(zip '(1 2 3) '(a b c))\n'( (1 a) (2 b) (3 c))\n</code></pre>\n\n<p>So the signature (for two collections) would be:</p>\n\n<pre><code>public static &lt;V,T&gt; List&lt; Pair&lt;V, T&gt; &gt; zip (List&lt;V&gt; vs, List&lt;T&gt; ts);\n</code></pre>\n\n<p>where <code>Pair</code> would also be presumably defined in that library. I know its trivial to implement but maybe said library has other functional goodies too.</p>\n"},{"tags":["java","list","collections"],"answers":[{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1242227693,"creation_date":1242227693,"answer_id":858586,"question_id":858572,"body_markdown":"One example:\r\n\r\n    List somelist = new ArrayList();\r\n\r\nYou can look at the [javadoc for List][1] and find all known implementing classes of the `List` interface that are included with the java api.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html","title":"How to make a new List in Java","body":"<p>One example:</p>\n\n<pre><code>List somelist = new ArrayList();\n</code></pre>\n\n<p>You can look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html\" rel=\"noreferrer\">javadoc for List</a> and find all known implementing classes of the <code>List</code> interface that are included with the java api.</p>\n"},{"tags":[],"owner":{"account_id":15832,"reputation":7189,"user_id":33857,"accept_rate":84,"display_name":"Paulo Guedes"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1475473572,"creation_date":1242227705,"answer_id":858587,"question_id":858572,"body_markdown":"    List list = new ArrayList();\r\n\r\nOr with generics\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\nYou can, of course, replace string with any type of variable, such as Integer, also.","title":"How to make a new List in Java","body":"<pre><code>List list = new ArrayList();\n</code></pre>\n\n<p>Or with generics</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>You can, of course, replace string with any type of variable, such as Integer, also.</p>\n"},{"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"down_vote_count":0,"up_vote_count":1164,"is_accepted":true,"score":1164,"last_activity_date":1528986501,"creation_date":1242227738,"answer_id":858590,"question_id":858572,"body_markdown":"    List myList = new ArrayList();\r\n\r\nor with generics ([Java 7][1] or later)\r\n\r\n    List&lt;MyType&gt; myList = new ArrayList&lt;&gt;();\r\n\r\nor with generics (Old java versions)\r\n\r\n    List&lt;MyType&gt; myList = new ArrayList&lt;MyType&gt;();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/types.html#diamond","title":"How to make a new List in Java","body":"<pre><code>List myList = new ArrayList();\n</code></pre>\n\n<p>or with generics (<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html#diamond\" rel=\"noreferrer\">Java 7</a> or later)</p>\n\n<pre><code>List&lt;MyType&gt; myList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>or with generics (Old java versions)</p>\n\n<pre><code>List&lt;MyType&gt; myList = new ArrayList&lt;MyType&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16298,"reputation":10964,"user_id":35322,"display_name":"Adam Jaskiewicz"},"down_vote_count":5,"up_vote_count":35,"is_accepted":false,"score":30,"last_activity_date":1242228530,"creation_date":1242227850,"answer_id":858600,"question_id":858572,"body_markdown":"First read &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/util/List.html&quot;&gt;this&lt;/a&gt;, then read &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html&quot;&gt;this&lt;/a&gt; and &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/util/LinkedList.html&quot;&gt;this&lt;/a&gt;. 9 times out of 10 you&#39;ll use one of those two implementations.\r\n\r\nIn fact, just read &lt;a href=&quot;http://java.sun.com/javase/6/docs/technotes/guides/collections/overview.html&quot;&gt;Sun&#39;s Guide to the Collections framework&lt;/a&gt;.","title":"How to make a new List in Java","body":"<p>First read <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\">this</a>, then read <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\">this</a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\">this</a>. 9 times out of 10 you'll use one of those two implementations.</p>\n\n<p>In fact, just read <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/collections/overview.html\" rel=\"noreferrer\">Sun's Guide to the Collections framework</a>.</p>\n"},{"tags":[],"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"down_vote_count":2,"up_vote_count":588,"is_accepted":false,"score":586,"last_activity_date":1510616743,"creation_date":1242227886,"answer_id":858602,"question_id":858572,"body_markdown":"Additionally, if you want to create a list that has things in it (though it will be fixed size):\r\n\r\n    List&lt;String&gt; messages = Arrays.asList(&quot;Hello&quot;, &quot;World!&quot;, &quot;How&quot;, &quot;Are&quot;, &quot;You&quot;);\r\n\r\n","title":"How to make a new List in Java","body":"<p>Additionally, if you want to create a list that has things in it (though it will be fixed size):</p>\n\n<pre><code>List&lt;String&gt; messages = Arrays.asList(\"Hello\", \"World!\", \"How\", \"Are\", \"You\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33342,"reputation":2180,"user_id":93278,"accept_rate":34,"display_name":"Blerta"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1242230852,"creation_date":1242228379,"answer_id":858636,"question_id":858572,"body_markdown":"   \r\n\r\n   \r\n\r\n    //simple example creating a list form a string array\r\n    \r\n    String[] myStrings = new String[] {&quot;Elem1&quot;,&quot;Elem2&quot;,&quot;Elem3&quot;,&quot;Elem4&quot;,&quot;Elem5&quot;};\r\n          \r\n    List mylist = Arrays.asList(myStrings );\r\n    \r\n    //getting an iterator object to browse list items\r\n    \r\n    Iterator itr= mylist.iterator();\r\n    \r\n    System.out.println(&quot;Displaying List Elements,&quot;);\r\n    \r\n    while(itr.hasNext())\r\n    \r\n      System.out.println(itr.next());\r\n\r\n ","title":"How to make a new List in Java","body":"<pre><code>//simple example creating a list form a string array\n\nString[] myStrings = new String[] {\"Elem1\",\"Elem2\",\"Elem3\",\"Elem4\",\"Elem5\"};\n\nList mylist = Arrays.asList(myStrings );\n\n//getting an iterator object to browse list items\n\nIterator itr= mylist.iterator();\n\nSystem.out.println(\"Displaying List Elements,\");\n\nwhile(itr.hasNext())\n\n  System.out.println(itr.next());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1242228540,"creation_date":1242228540,"answer_id":858643,"question_id":858572,"body_markdown":"Sometimes - but only very rarely - instead of a new ArrayList, you may want a new LinkedList.  Start out with ArrayList and if you have performance problems and evidence that the list is the problem, and a lot of adding and deleting to that list - then - not before - switch to a LinkedList and see if things improve.  But in the main, stick with ArrayList and all will be fine.","title":"How to make a new List in Java","body":"<p>Sometimes - but only very rarely - instead of a new ArrayList, you may want a new LinkedList.  Start out with ArrayList and if you have performance problems and evidence that the list is the problem, and a lot of adding and deleting to that list - then - not before - switch to a LinkedList and see if things improve.  But in the main, stick with ArrayList and all will be fine.</p>\n"},{"tags":[],"owner":{"account_id":24975,"reputation":936,"user_id":63846,"display_name":"Sorin Mocanu"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1242230126,"creation_date":1242230126,"answer_id":858781,"question_id":858572,"body_markdown":"[List][1] is just an interface just as [Set][2].\r\n\r\nLike HashSet is an implementation of a Set which has certain properties in regards to add / lookup / remove performance, ArrayList is the bare implementation of a List.\r\n\r\nIf you have a look at the documentation for the respective interfaces you will find &quot;All Known Implementing Classes&quot; and you can decide which one is more suitable for your needs.\r\n\r\nChances are that it&#39;s [ArrayList][3].\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/ArrayList.html","title":"How to make a new List in Java","body":"<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html\" rel=\"noreferrer\">List</a> is just an interface just as <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html\" rel=\"noreferrer\">Set</a>.</p>\n\n<p>Like HashSet is an implementation of a Set which has certain properties in regards to add / lookup / remove performance, ArrayList is the bare implementation of a List.</p>\n\n<p>If you have a look at the documentation for the respective interfaces you will find \"All Known Implementing Classes\" and you can decide which one is more suitable for your needs.</p>\n\n<p>Chances are that it's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\">ArrayList</a>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1242244895,"creation_date":1242244895,"answer_id":860108,"question_id":858572,"body_markdown":"There are many ways to create a Set and a List. HashSet and ArrayList are just two examples.  It is also fairly common to use generics with collections these days. I suggest you have a look at what they are\r\n\r\nThis is a good introduction for java&#39;s builtin collections. http://java.sun.com/javase/6/docs/technotes/guides/collections/overview.html","title":"How to make a new List in Java","body":"<p>There are many ways to create a Set and a List. HashSet and ArrayList are just two examples.  It is also fairly common to use generics with collections these days. I suggest you have a look at what they are</p>\n\n<p>This is a good introduction for java's builtin collections. <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/collections/overview.html\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/technotes/guides/collections/overview.html</a></p>\n"},{"tags":[],"owner":{"account_id":18056,"reputation":28943,"user_id":41012,"accept_rate":78,"display_name":"Ben Lings"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1249386927,"creation_date":1249386927,"answer_id":1227065,"question_id":858572,"body_markdown":"Using [Google Collections](http://code.google.com/p/google-collections/), you could use the following methods in the [Lists](http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Lists.html) class\r\n    \r\n    import com.google.common.collect.Lists;\r\n\r\n    // ...\r\n\r\n    List&lt;String&gt; strings = Lists.newArrayList();\r\n\r\n    List&lt;Integer&gt; integers = Lists.newLinkedList();\r\n\r\nThere are overloads for varargs initialization and initialising from an `Iterable&lt;T&gt;`. \r\n\r\n The advantage of these methods is that you don&#39;t need to specify the generic parameter explicitly as you would with the constructor - the compiler will infer it from the type of the variable.","title":"How to make a new List in Java","body":"<p>Using <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a>, you could use the following methods in the <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Lists.html\" rel=\"noreferrer\">Lists</a> class</p>\n\n<pre><code>import com.google.common.collect.Lists;\n\n// ...\n\nList&lt;String&gt; strings = Lists.newArrayList();\n\nList&lt;Integer&gt; integers = Lists.newLinkedList();\n</code></pre>\n\n<p>There are overloads for varargs initialization and initialising from an <code>Iterable&lt;T&gt;</code>. </p>\n\n<p>The advantage of these methods is that you don't need to specify the generic parameter explicitly as you would with the constructor - the compiler will infer it from the type of the variable.</p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1417176959,"creation_date":1321887219,"answer_id":8213741,"question_id":858572,"body_markdown":"Since Java 7 you have [type inference for generic instance creation][1], so there is no need to duplicate generic parameters on the right hand side of the assignment:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \r\nA fixed-size list can be defined as:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\nFor immutable lists you can use the [Guava][2] library:\r\n\r\n    List&lt;String&gt; list = ImmutableList.of(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/language/type-inference-generic-instance-creation.html\r\n  [2]: https://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained","title":"How to make a new List in Java","body":"<p>Since Java 7 you have <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/type-inference-generic-instance-creation.html\" rel=\"noreferrer\">type inference for generic instance creation</a>, so there is no need to duplicate generic parameters on the right hand side of the assignment:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>A fixed-size list can be defined as:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"foo\", \"bar\");\n</code></pre>\n\n<p>For immutable lists you can use the <a href=\"https://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained\" rel=\"noreferrer\">Guava</a> library:</p>\n\n<pre><code>List&lt;String&gt; list = ImmutableList.of(\"foo\", \"bar\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2230094,"reputation":1752,"user_id":1967928,"accept_rate":50,"display_name":"jp093121"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1363130800,"creation_date":1359391153,"answer_id":14566723,"question_id":858572,"body_markdown":"    List&lt;Object&gt; nameOfList = new ArrayList&lt;Object&gt;();\r\n\r\nYou need to import `List` and `ArrayList`.","title":"How to make a new List in Java","body":"<pre><code>List&lt;Object&gt; nameOfList = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>You need to import <code>List</code> and <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":912782,"reputation":38886,"user_id":946224,"accept_rate":88,"display_name":"Sergii Shevchyk"},"down_vote_count":3,"up_vote_count":214,"is_accepted":false,"score":211,"last_activity_date":1447418456,"creation_date":1369856936,"answer_id":16822619,"question_id":858572,"body_markdown":"Let me summarize and add something:\r\n\r\n**[JDK][1]**\r\n\r\n    1. new ArrayList&lt;String&gt;();\r\n    2. Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)\r\n\r\n**[Guava][2]**\r\n\r\n    1. Lists.newArrayList(&quot;Mike&quot;, &quot;John&quot;, &quot;Lesly&quot;);\r\n    2. Lists.asList(&quot;A&quot;,&quot;B&quot;, new String [] {&quot;C&quot;, &quot;D&quot;});\r\n\r\n\r\n**Immutable List**\r\n\r\n    1. Collections.unmodifiableList(new ArrayList&lt;String&gt;(Arrays.asList(&quot;A&quot;,&quot;B&quot;)));\r\n    2. ImmutableList.builder()                                      // Guava\r\n                .add(&quot;A&quot;)\r\n                .add(&quot;B&quot;).build();\r\n    3. ImmutableList.of(&quot;A&quot;, &quot;B&quot;);                                  // Guava\r\n    4. ImmutableList.copyOf(Lists.newArrayList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));     // Guava\r\n\r\n**Empty immutable List**\r\n\r\n    1. Collections.emptyList();\r\n    2. Collections.EMPTY_LIST;\r\n\r\n**List of Characters**\r\n\r\n    1. Lists.charactersOf(&quot;String&quot;)                                 // Guava\r\n    2. Lists.newArrayList(Splitter.fixedLength(1).split(&quot;String&quot;))  // Guava\r\n\r\n**List of Integers**\r\n \r\n    Ints.asList(1,2,3);                                             // Guava\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/\r\n  [2]: http://code.google.com/p/guava-libraries/","title":"How to make a new List in Java","body":"<p>Let me summarize and add something:</p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/7/docs/\" rel=\"noreferrer\">JDK</a></strong></p>\n\n<pre><code>1. new ArrayList&lt;String&gt;();\n2. Arrays.asList(\"A\", \"B\", \"C\")\n</code></pre>\n\n<p><strong><a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a></strong></p>\n\n<pre><code>1. Lists.newArrayList(\"Mike\", \"John\", \"Lesly\");\n2. Lists.asList(\"A\",\"B\", new String [] {\"C\", \"D\"});\n</code></pre>\n\n<p><strong>Immutable List</strong></p>\n\n<pre><code>1. Collections.unmodifiableList(new ArrayList&lt;String&gt;(Arrays.asList(\"A\",\"B\")));\n2. ImmutableList.builder()                                      // Guava\n            .add(\"A\")\n            .add(\"B\").build();\n3. ImmutableList.of(\"A\", \"B\");                                  // Guava\n4. ImmutableList.copyOf(Lists.newArrayList(\"A\", \"B\", \"C\"));     // Guava\n</code></pre>\n\n<p><strong>Empty immutable List</strong></p>\n\n<pre><code>1. Collections.emptyList();\n2. Collections.EMPTY_LIST;\n</code></pre>\n\n<p><strong>List of Characters</strong></p>\n\n<pre><code>1. Lists.charactersOf(\"String\")                                 // Guava\n2. Lists.newArrayList(Splitter.fixedLength(1).split(\"String\"))  // Guava\n</code></pre>\n\n<p><strong>List of Integers</strong></p>\n\n<pre><code>Ints.asList(1,2,3);                                             // Guava\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1969618,"reputation":1633,"user_id":1768945,"accept_rate":83,"display_name":"angry_gopher"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1554981420,"creation_date":1375816401,"answer_id":18088589,"question_id":858572,"body_markdown":"As an option you can use double brace initialization here:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(){\r\n      {\r\n       add(&quot;a&quot;);\r\n       add(&quot;b&quot;);\r\n      }\r\n    };","title":"How to make a new List in Java","body":"<p>As an option you can use double brace initialization here:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(){\n  {\n   add(\"a\");\n   add(\"b\");\n  }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4394923,"reputation":550,"user_id":3582295,"display_name":"Rohit Goyal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404391972,"creation_date":1404391972,"answer_id":24554239,"question_id":858572,"body_markdown":"    List arrList = new ArrayList();\r\n\r\nIts better you use generics as suggested below:\r\n\r\n    List&lt;String&gt; arrList = new ArrayList&lt;String&gt;();\r\n\r\n    arrList.add(&quot;one&quot;);\r\n\r\nIncase you use LinkedList.\r\n\r\n    List&lt;String&gt; lnkList = new LinkedList&lt;String&gt;();\r\n\r\n\r\n","title":"How to make a new List in Java","body":"<pre><code>List arrList = new ArrayList();\n</code></pre>\n\n<p>Its better you use generics as suggested below:</p>\n\n<pre><code>List&lt;String&gt; arrList = new ArrayList&lt;String&gt;();\n\narrList.add(\"one\");\n</code></pre>\n\n<p>Incase you use LinkedList.</p>\n\n<pre><code>List&lt;String&gt; lnkList = new LinkedList&lt;String&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093404,"reputation":3325,"user_id":2619091,"accept_rate":100,"display_name":"yamilmedina"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1419951080,"creation_date":1419951080,"answer_id":27707553,"question_id":858572,"body_markdown":"More options to do the same thing with Java 8, not better, not worse, just different and if you want to do some extra work with the lists, [Streams][1] will provide you more alternatives (filter, map, reduce, etc.)\r\n \r\n    List&lt;String&gt; listA = Stream.of(&quot;a&quot;, &quot;B&quot;, &quot;C&quot;).collect(Collectors.toList());\r\n    List&lt;Integer&gt; listB = IntStream.range(10, 20).boxed().collect(Collectors.toList());\r\n    List&lt;Double&gt; listC = DoubleStream.generate(() -&gt; { return new Random().nextDouble(); }).limit(10).boxed().collect(Collectors.toList());\r\n    LinkedList&lt;Integer&gt; listD = Stream.iterate(0, x -&gt; x++).limit(10).collect(Collectors.toCollection(LinkedList::new));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"How to make a new List in Java","body":"<p>More options to do the same thing with Java 8, not better, not worse, just different and if you want to do some extra work with the lists, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\">Streams</a> will provide you more alternatives (filter, map, reduce, etc.)</p>\n\n<pre><code>List&lt;String&gt; listA = Stream.of(\"a\", \"B\", \"C\").collect(Collectors.toList());\nList&lt;Integer&gt; listB = IntStream.range(10, 20).boxed().collect(Collectors.toList());\nList&lt;Double&gt; listC = DoubleStream.generate(() -&gt; { return new Random().nextDouble(); }).limit(10).boxed().collect(Collectors.toList());\nLinkedList&lt;Integer&gt; listD = Stream.iterate(0, x -&gt; x++).limit(10).collect(Collectors.toCollection(LinkedList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1538545079,"creation_date":1434953196,"answer_id":30973050,"question_id":858572,"body_markdown":"`List` is an interface like `Set` and has `ArrayList` and `LinkedList` as [general purpose implementations][1]. \r\n\r\nWe can create List as:\r\n\r\n     List&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n     List&lt;String&gt; linkedList = new LinkedList&lt;&gt;(); \r\n\r\nWe can also create a fixed-size list as:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\nWe would almost always be using `ArrayList` opposed to `LinkedList` implementation:\r\n\r\n 1. `LinkedList` uses a lot of space for objects and performs badly when we have lots of elements.\r\n 2. Any indexed operation in `LinkedList` requires O(n) time compared to O(1) in `ArrayList`.\r\n 3. Check this [link][2] for more information.\r\n\r\nThe list created by `Arrays.asList` above can not be modified structurally but its elements can still be modified. \r\n\r\nJava 8\r\n------\r\n\r\nAs per [doc][3], the method `Collections.unmodifiableList` returns an unmodifiable view of the specified list. We can get it like:\r\n\r\n    Collections.unmodifiableList(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\n\r\nJava 9\r\n------\r\n\r\nIn case we are using **Java 9** then:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;A&quot;, &quot;B&quot;);\r\n\r\nJava 10\r\n-------\r\n\r\nIn case we are at Java 10 then the method `Collectors.unmodifiableList` will return an instance of truly unmodifiable list introduced in Java 9. Check this [answer][4] for more info about the difference in `Collections.unmodifiableList`  vs `Collectors.unmodifiableList` in **Java 10**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/implementations/list.html\r\n  [2]: https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableList-java.util.List-\r\n  [4]: https://stackoverflow.com/a/52536126/1216775","title":"How to make a new List in Java","body":"<p><code>List</code> is an interface like <code>Set</code> and has <code>ArrayList</code> and <code>LinkedList</code> as <a href=\"https://docs.oracle.com/javase/tutorial/collections/implementations/list.html\" rel=\"noreferrer\">general purpose implementations</a>. </p>\n\n<p>We can create List as:</p>\n\n<pre><code> List&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n List&lt;String&gt; linkedList = new LinkedList&lt;&gt;(); \n</code></pre>\n\n<p>We can also create a fixed-size list as:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"A\", \"B\", \"C\");\n</code></pre>\n\n<p>We would almost always be using <code>ArrayList</code> opposed to <code>LinkedList</code> implementation:</p>\n\n<ol>\n<li><code>LinkedList</code> uses a lot of space for objects and performs badly when we have lots of elements.</li>\n<li>Any indexed operation in <code>LinkedList</code> requires O(n) time compared to O(1) in <code>ArrayList</code>.</li>\n<li>Check this <a href=\"https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\">link</a> for more information.</li>\n</ol>\n\n<p>The list created by <code>Arrays.asList</code> above can not be modified structurally but its elements can still be modified. </p>\n\n<h2>Java 8</h2>\n\n<p>As per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableList-java.util.List-\" rel=\"noreferrer\">doc</a>, the method <code>Collections.unmodifiableList</code> returns an unmodifiable view of the specified list. We can get it like:</p>\n\n<pre><code>Collections.unmodifiableList(Arrays.asList(\"A\", \"B\", \"C\"));\n</code></pre>\n\n<h2>Java 9</h2>\n\n<p>In case we are using <strong>Java 9</strong> then:</p>\n\n<pre><code>List&lt;String&gt; list = List.of(\"A\", \"B\");\n</code></pre>\n\n<h2>Java 10</h2>\n\n<p>In case we are at Java 10 then the method <code>Collectors.unmodifiableList</code> will return an instance of truly unmodifiable list introduced in Java 9. Check this <a href=\"https://stackoverflow.com/a/52536126/1216775\">answer</a> for more info about the difference in <code>Collections.unmodifiableList</code>  vs <code>Collectors.unmodifiableList</code> in <strong>Java 10</strong>.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487018236,"creation_date":1449765421,"answer_id":34207132,"question_id":858572,"body_markdown":"Using [Eclipse Collections][1] you can create a List like this:\r\n\r\n    List&lt;String&gt; list1 = Lists.mutable.empty();\r\n    List&lt;String&gt; list2 = Lists.mutable.of(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n\r\nIf you want an immutable list: \r\n\r\n    ImmutableList&lt;String&gt; list3 = Lists.immutable.empty();\r\n    ImmutableList&lt;String&gt; list4 = Lists.immutable.of(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n\r\nYou can avoid auto-boxing by using primitive lists. Here&#39;s how you&#39;d create int lists:\r\n\r\n    MutableIntList list5 = IntLists.mutable.empty();\r\n    MutableIntList list6 = IntLists.mutable.of(1, 2, 3);\r\n    \r\n    ImmutableIntList list7 = IntLists.immutable.empty();\r\n    ImmutableIntList list8 = IntLists.immutable.of(1, 2, 3);\r\n\r\nThere are variants for all 8 primitives.\r\n\r\n    MutableLongList longList       = LongLists.mutable.of(1L, 2L, 3L);\r\n    MutableCharList charList       = CharLists.mutable.of(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);\r\n    MutableShortList shortList     = ShortLists.mutable.of((short) 1, (short) 2, (short) 3);\r\n    MutableByteList byteList       = ByteLists.mutable.of((byte) 1, (byte) 2, (byte) 3);\r\n    MutableBooleanList booleanList = BooleanLists.mutable.of(true, false);\r\n    MutableFloatList floatList     = FloatLists.mutable.of(1.0f, 2.0f, 3.0f);\r\n    MutableDoubleList doubleList   = DoubleLists.mutable.of(1.0, 2.0, 3.0);\r\n\r\n**Note:** I am a committer for Eclipse Collections. \r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n","title":"How to make a new List in Java","body":"<p>Using <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> you can create a List like this:</p>\n\n<pre><code>List&lt;String&gt; list1 = Lists.mutable.empty();\nList&lt;String&gt; list2 = Lists.mutable.of(\"One\", \"Two\", \"Three\");\n</code></pre>\n\n<p>If you want an immutable list: </p>\n\n<pre><code>ImmutableList&lt;String&gt; list3 = Lists.immutable.empty();\nImmutableList&lt;String&gt; list4 = Lists.immutable.of(\"One\", \"Two\", \"Three\");\n</code></pre>\n\n<p>You can avoid auto-boxing by using primitive lists. Here's how you'd create int lists:</p>\n\n<pre><code>MutableIntList list5 = IntLists.mutable.empty();\nMutableIntList list6 = IntLists.mutable.of(1, 2, 3);\n\nImmutableIntList list7 = IntLists.immutable.empty();\nImmutableIntList list8 = IntLists.immutable.of(1, 2, 3);\n</code></pre>\n\n<p>There are variants for all 8 primitives.</p>\n\n<pre><code>MutableLongList longList       = LongLists.mutable.of(1L, 2L, 3L);\nMutableCharList charList       = CharLists.mutable.of('a', 'b', 'c');\nMutableShortList shortList     = ShortLists.mutable.of((short) 1, (short) 2, (short) 3);\nMutableByteList byteList       = ByteLists.mutable.of((byte) 1, (byte) 2, (byte) 3);\nMutableBooleanList booleanList = BooleanLists.mutable.of(true, false);\nMutableFloatList floatList     = FloatLists.mutable.of(1.0f, 2.0f, 3.0f);\nMutableDoubleList doubleList   = DoubleLists.mutable.of(1.0, 2.0, 3.0);\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections. </p>\n"},{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493338846,"creation_date":1493338846,"answer_id":43669970,"question_id":858572,"body_markdown":"With Java 9, you are able to do the following to create an **immutable** `List`:\r\n\r\n    List&lt;Integer&gt; immutableList = List.of(1, 2, 3, 4, 5);\r\n\r\n    List&lt;Integer&gt; mutableList = new ArrayList&lt;&gt;(immutableList);","title":"How to make a new List in Java","body":"<p>With Java 9, you are able to do the following to create an <strong>immutable</strong> <code>List</code>:</p>\n\n<pre><code>List&lt;Integer&gt; immutableList = List.of(1, 2, 3, 4, 5);\n\nList&lt;Integer&gt; mutableList = new ArrayList&lt;&gt;(immutableList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1639459757,"creation_date":1500014267,"answer_id":45096278,"question_id":858572,"body_markdown":"The following are some ways you can create lists.\r\n\r\n - This will create a list with fixed size, *adding/removing* elements is not possible, it will throw a `java.lang.UnsupportedOperationException` if you try to do so.\r\n```\r\n    List&lt;String&gt; fixedSizeList = Arrays.asList(new String[] {&quot;Male&quot;, &quot;Female&quot;});\r\n    List&lt;String&gt; fixedSizeList = Arrays.asList(&quot;Male&quot;, &quot;Female&quot;);\r\n    List&lt;String&gt; fixedSizeList = List.of(&quot;Male&quot;, &quot;Female&quot;); //from java9\r\n```\r\n&lt;br/&gt;\r\n\r\n - The following version is a simple list where you can add/remove any number of elements.\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n&lt;br/&gt;\r\n\r\n - This is how to create a `LinkedList` in java, If you need to do frequent insertion/deletion of elements on the list, you should use `LinkedList` instead of `ArrayList`\r\n\r\n        List&lt;String&gt; linkedList = new LinkedList&lt;&gt;();\r\n\r\n\r\n","title":"How to make a new List in Java","body":"<p>The following are some ways you can create lists.</p>\n<ul>\n<li>This will create a list with fixed size, <em>adding/removing</em> elements is not possible, it will throw a <code>java.lang.UnsupportedOperationException</code> if you try to do so.</li>\n</ul>\n<pre><code>    List&lt;String&gt; fixedSizeList = Arrays.asList(new String[] {&quot;Male&quot;, &quot;Female&quot;});\n    List&lt;String&gt; fixedSizeList = Arrays.asList(&quot;Male&quot;, &quot;Female&quot;);\n    List&lt;String&gt; fixedSizeList = List.of(&quot;Male&quot;, &quot;Female&quot;); //from java9\n</code></pre>\n<br/>\n<ul>\n<li><p>The following version is a simple list where you can add/remove any number of elements.</p>\n<pre><code> List&lt;String&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n</li>\n</ul>\n<br/>\n<ul>\n<li><p>This is how to create a <code>LinkedList</code> in java, If you need to do frequent insertion/deletion of elements on the list, you should use <code>LinkedList</code> instead of <code>ArrayList</code></p>\n<pre><code> List&lt;String&gt; linkedList = new LinkedList&lt;&gt;();\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7608029,"reputation":4455,"user_id":5770004,"display_name":"Gavriel Cohen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516276248,"creation_date":1516276248,"answer_id":48320681,"question_id":858572,"body_markdown":"Try this: \r\n\r\n    List&lt;String&gt; messages = Arrays.asList(&quot;bla1&quot;, &quot;bla2&quot;, &quot;bla3&quot;);\r\n\r\nOr:\r\n\r\n    List&lt;String&gt; list1 = Lists.mutable.empty(); // Empty\r\n    List&lt;String&gt; list2 = Lists.mutable.of(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n    \r\n\r\n","title":"How to make a new List in Java","body":"<p>Try this: </p>\n\n<pre><code>List&lt;String&gt; messages = Arrays.asList(\"bla1\", \"bla2\", \"bla3\");\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>List&lt;String&gt; list1 = Lists.mutable.empty(); // Empty\nList&lt;String&gt; list2 = Lists.mutable.of(\"One\", \"Two\", \"Three\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1558357905,"creation_date":1518037971,"answer_id":48673336,"question_id":858572,"body_markdown":"### In Java 8\r\n\r\nTo create a non-empty list of fixed size (operations like add, remove, etc., are not supported):\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2); // but, list.set(...) is supported\r\n    \r\nTo create a non-empty mutable list:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(3, 4));\r\n\r\n### In Java 9\r\n\r\nUsing a new [`List.of(...)`][1] static factory methods:\r\n\r\n    List&lt;Integer&gt; immutableList = List.of(1, 2);\r\n\r\n    List&lt;Integer&gt; mutableList = new ArrayList&lt;&gt;(List.of(3, 4));\r\n\r\n### In Java 10\r\n\r\nUsing the [Local Variable Type Inference][2]:\r\n\r\n    var list1 = List.of(1, 2);\r\n\r\n    var list2 = new ArrayList&lt;&gt;(List.of(3, 4));\r\n\r\n    var list3 = new ArrayList&lt;String&gt;();\r\n\r\nAnd follow best practices...\r\n\r\n### [Don&#39;t use raw types][3]\r\n\r\nSince Java 5, generics have been a part of the language - you should use them:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(); // Good, List of String\r\n\r\n    List list = new ArrayList(); // Bad, don&#39;t do that!\r\n\r\n### [Program to interfaces][4]\r\n\r\nFor example, program to the `List` interface:\r\n\r\n    List&lt;Double&gt; list = new ArrayList&lt;&gt;();\r\n\r\nInstead of:\r\n\r\n    ArrayList&lt;Double&gt; list = new ArrayList&lt;&gt;(); // This is a bad idea!\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\r\n  [2]: https://developer.oracle.com/java/jdk-10-local-variable-type-inference.html\r\n  [3]: https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\r\n  [4]: https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to make a new List in Java","body":"<h3>In Java 8</h3>\n\n<p>To create a non-empty list of fixed size (operations like add, remove, etc., are not supported):</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2); // but, list.set(...) is supported\n</code></pre>\n\n<p>To create a non-empty mutable list:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(3, 4));\n</code></pre>\n\n<h3>In Java 9</h3>\n\n<p>Using a new <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\" rel=\"noreferrer\"><code>List.of(...)</code></a> static factory methods:</p>\n\n<pre><code>List&lt;Integer&gt; immutableList = List.of(1, 2);\n\nList&lt;Integer&gt; mutableList = new ArrayList&lt;&gt;(List.of(3, 4));\n</code></pre>\n\n<h3>In Java 10</h3>\n\n<p>Using the <a href=\"https://developer.oracle.com/java/jdk-10-local-variable-type-inference.html\" rel=\"noreferrer\">Local Variable Type Inference</a>:</p>\n\n<pre><code>var list1 = List.of(1, 2);\n\nvar list2 = new ArrayList&lt;&gt;(List.of(3, 4));\n\nvar list3 = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>And follow best practices...</p>\n\n<h3><a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">Don't use raw types</a></h3>\n\n<p>Since Java 5, generics have been a part of the language - you should use them:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(); // Good, List of String\n\nList list = new ArrayList(); // Bad, don't do that!\n</code></pre>\n\n<h3><a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">Program to interfaces</a></h3>\n\n<p>For example, program to the <code>List</code> interface:</p>\n\n<pre><code>List&lt;Double&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>ArrayList&lt;Double&gt; list = new ArrayList&lt;&gt;(); // This is a bad idea!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5391412,"reputation":3731,"user_id":4317639,"accept_rate":58,"display_name":"erol yeniaras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533331584,"creation_date":1533331584,"answer_id":51680256,"question_id":858572,"body_markdown":"If you need a serializable, immutable list with a single entity you can use:\r\n\r\n    List&lt;String&gt; singList = Collections.singletonList(&quot;stackoverlow&quot;);","title":"How to make a new List in Java","body":"<p>If you need a serializable, immutable list with a single entity you can use:</p>\n\n<pre><code>List&lt;String&gt; singList = Collections.singletonList(\"stackoverlow\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1560667027,"creation_date":1560667027,"answer_id":56616680,"question_id":858572,"body_markdown":"As declaration of array list in java is like \r\n\r\n\r\n    public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, Serializable  \r\n\r\nThere is numerous way you can create and initialize array list in java.\r\n\r\n     1) List list = new ArrayList();\r\n     \r\n     2) List&lt;type&gt; myList = new ArrayList&lt;&gt;();\r\n     \r\n     3) List&lt;type&gt; myList = new ArrayList&lt;type&gt;();\r\n     \r\n     4)\tUsing Utility class\r\n     \r\n     \tList&lt;Integer&gt; list = Arrays.asList(8, 4);\r\n     \tCollections.unmodifiableList(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n     \r\n     5)\tUsing static factory method\r\n     \r\n     \tList&lt;Integer&gt; immutableList = List.of(1, 2);\r\n     \r\n     \r\n     6)\tCreation and initializing at a time\r\n     \r\n     \tList&lt;String&gt; fixedSizeList = Arrays.asList(new String[] {&quot;Male&quot;, &quot;Female&quot;});\r\n     \r\n     \r\n     \r\n     Again you can create different types of list. All has their own characteristics\r\n     \r\n     List a = new ArrayList();\r\n     List b = new LinkedList();\r\n     List c = new Vector(); \r\n     List d = new Stack(); \r\n     List e = new CopyOnWriteArrayList();","title":"How to make a new List in Java","body":"<p>As declaration of array list in java is like </p>\n\n<pre><code>public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, Serializable  \n</code></pre>\n\n<p>There is numerous way you can create and initialize array list in java.</p>\n\n<pre><code> 1) List list = new ArrayList();\n\n 2) List&lt;type&gt; myList = new ArrayList&lt;&gt;();\n\n 3) List&lt;type&gt; myList = new ArrayList&lt;type&gt;();\n\n 4) Using Utility class\n\n    List&lt;Integer&gt; list = Arrays.asList(8, 4);\n    Collections.unmodifiableList(Arrays.asList(\"a\", \"b\", \"c\"));\n\n 5) Using static factory method\n\n    List&lt;Integer&gt; immutableList = List.of(1, 2);\n\n\n 6) Creation and initializing at a time\n\n    List&lt;String&gt; fixedSizeList = Arrays.asList(new String[] {\"Male\", \"Female\"});\n\n\n\n Again you can create different types of list. All has their own characteristics\n\n List a = new ArrayList();\n List b = new LinkedList();\n List c = new Vector(); \n List d = new Stack(); \n List e = new CopyOnWriteArrayList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10002295,"reputation":605,"user_id":7397820,"display_name":"fatimasajjad"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1648556021,"creation_date":1648556021,"answer_id":71661809,"question_id":858572,"body_markdown":"List can be created in many ways:\r\n\r\n**1 - Constructor Initialization**\r\n\r\nList is an interface, and the instances of List can be created in the following ways:\r\n\r\n    List&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;();\r\n    List&lt;Integer&gt; llist=new LinkedList&lt;Integer&gt;();\r\n    List&lt;Integer&gt; stack=new Stack&lt;Integer&gt;();\r\n\r\n**2- Using Arrays.asList()**\r\n\r\n    List&lt;Integer&gt; list=Arrays.asList(1, 2, 3);\r\n\r\n**3- Using Collections class methods**\r\n\r\n ***Empty List***\r\n\r\n    List&lt;Integer&gt; list = Collections.EMPTY_LIST;\r\nOR\r\n\r\n    List&lt;Integer&gt; list = Collections.emptyList();\r\n\r\n    Collections.addAll(list = new ArrayList&lt;Integer&gt;(), 1, 2, 3, 4);\r\n\r\n ***Unmodifiable List***\r\n\r\n    List&lt;Integer&gt; list = Collections\r\n            .unmodifiableList(Arrays.asList(1, 2, 3));\r\n\r\n ***Singleton List***\r\n\r\n    List&lt;Integer&gt; list = Collections.singletonList(2);\r\n\r\n\r\nYou can find more way from the reference link below.\r\n\r\nReference:\r\n\r\nhttps://www.geeksforgeeks.org/initializing-a-list-in-java/\r\n\r\n","title":"How to make a new List in Java","body":"<p>List can be created in many ways:</p>\n<p><strong>1 - Constructor Initialization</strong></p>\n<p>List is an interface, and the instances of List can be created in the following ways:</p>\n<pre><code>List&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;();\nList&lt;Integer&gt; llist=new LinkedList&lt;Integer&gt;();\nList&lt;Integer&gt; stack=new Stack&lt;Integer&gt;();\n</code></pre>\n<p><strong>2- Using Arrays.asList()</strong></p>\n<pre><code>List&lt;Integer&gt; list=Arrays.asList(1, 2, 3);\n</code></pre>\n<p><strong>3- Using Collections class methods</strong></p>\n<p><em><strong>Empty List</strong></em></p>\n<pre><code>List&lt;Integer&gt; list = Collections.EMPTY_LIST;\n</code></pre>\n<p>OR</p>\n<pre><code>List&lt;Integer&gt; list = Collections.emptyList();\n\nCollections.addAll(list = new ArrayList&lt;Integer&gt;(), 1, 2, 3, 4);\n</code></pre>\n<p><em><strong>Unmodifiable List</strong></em></p>\n<pre><code>List&lt;Integer&gt; list = Collections\n        .unmodifiableList(Arrays.asList(1, 2, 3));\n</code></pre>\n<p><em><strong>Singleton List</strong></em></p>\n<pre><code>List&lt;Integer&gt; list = Collections.singletonList(2);\n</code></pre>\n<p>You can find more way from the reference link below.</p>\n<p>Reference:</p>\n<p><a href=\"https://www.geeksforgeeks.org/initializing-a-list-in-java/\" rel=\"noreferrer\">https://www.geeksforgeeks.org/initializing-a-list-in-java/</a></p>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2615796,"favorite_count":0,"down_vote_count":21,"up_vote_count":926,"accepted_answer_id":858590,"answer_count":25,"score":905,"last_activity_date":1648556021,"creation_date":1242227565,"question_id":858572,"body_markdown":"We create a `Set` as:\r\n\r\n    Set myset = new HashSet()\r\n\r\nHow do we create a `List` in Java?\r\n","title":"How to make a new List in Java","body":"<p>We create a <code>Set</code> as:</p>\n\n<pre><code>Set myset = new HashSet()\n</code></pre>\n\n<p>How do we create a <code>List</code> in Java?</p>\n"},{"tags":["java","maven","apache-spark","google-bigquery","google-cloud-dataproc"],"comments":[{"owner":{"account_id":16393347,"reputation":13088,"user_id":11841571,"display_name":"Lamanus"},"score":0,"creation_date":1572771918,"post_id":58678015,"comment_id":103657652,"body_markdown":"Well, the example and your code didn&#39;t match the class name.","body":"Well, the example and your code didn&#39;t match the class name."},{"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"score":4,"creation_date":1572817145,"post_id":58678015,"comment_id":103668906,"body_markdown":"I think you only added BQ connector as compile time dependency, but it is missing at runtime. You need to either make a uber jar which includes the connector in your job jar, or include it when you submitting the job `gcloud dataproc jobs submit spark --properties spark.jars.packages=com.google.cloud.spark:spark-bigquery_2.11:0.9.1-beta`","body":"I think you only added BQ connector as compile time dependency, but it is missing at runtime. You need to either make a uber jar which includes the connector in your job jar, or include it when you submitting the job <code>gcloud dataproc jobs submit spark --properties spark.jars.packages=com.google.cloud.spark:spark-bigquery_2.&zwnj;&#8203;11:0.9.1-beta</code>"},{"owner":{"account_id":14501259,"reputation":429,"user_id":10474363,"display_name":"eml"},"score":0,"creation_date":1572847475,"post_id":58678015,"comment_id":103674208,"body_markdown":"@Dagang yes, including it with the job solved it! Thank you!","body":"@Dagang yes, including it with the job solved it! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572883315,"creation_date":1572883315,"answer_id":58697023,"question_id":58678015,"body_markdown":"I think you only added BQ connector as compile time dependency, but it is missing at runtime. You need to either make a uber jar which includes the connector in your job jar (the doc needs to be updated), or include it when you submit the job `gcloud dataproc jobs submit spark --properties spark.jars.packages=com.google.cloud.spark:spark-bigquery_2.11:0.9.1-beta`.\r\n\r\n","title":"ClassNotFoundException: Failed to find data source: bigquery","body":"<p>I think you only added BQ connector as compile time dependency, but it is missing at runtime. You need to either make a uber jar which includes the connector in your job jar (the doc needs to be updated), or include it when you submit the job <code>gcloud dataproc jobs submit spark --properties spark.jars.packages=com.google.cloud.spark:spark-bigquery_2.11:0.9.1-beta</code>.</p>\n"},{"tags":[],"owner":{"account_id":2651881,"reputation":43,"user_id":2293325,"accept_rate":0,"display_name":"Peter"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1610664105,"creation_date":1610664105,"answer_id":65727955,"question_id":58678015,"body_markdown":"I faced the same issue and updated the format from &quot;bigquery&quot; to &quot;com.google.cloud.spark.bigquery&quot; and that worked for me.","title":"ClassNotFoundException: Failed to find data source: bigquery","body":"<p>I faced the same issue and updated the format from &quot;bigquery&quot; to &quot;com.google.cloud.spark.bigquery&quot; and that worked for me.</p>\n"},{"tags":[],"owner":{"account_id":14344744,"reputation":11,"user_id":10361871,"display_name":"Jas Kaur"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648555826,"creation_date":1648555826,"answer_id":71661769,"question_id":58678015,"body_markdown":"Specifying the dependency in the build.sbt and using &quot;com.google.cloud.spark.bigquery&quot; in format as suggested by Peter resolved the issue for me.","title":"ClassNotFoundException: Failed to find data source: bigquery","body":"<p>Specifying the dependency in the build.sbt and using &quot;com.google.cloud.spark.bigquery&quot; in format as suggested by Peter resolved the issue for me.</p>\n"}],"owner":{"account_id":14501259,"reputation":429,"user_id":10474363,"display_name":"eml"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13102,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58697023,"answer_count":3,"score":4,"last_activity_date":1648555826,"creation_date":1572763862,"question_id":58678015,"body_markdown":"I&#39;m trying to load data from Google BigQuery into Spark running on Google Dataproc (I&#39;m using Java). I tried to follow instructions on here: https://cloud.google.com/dataproc/docs/tutorials/bigquery-connector-spark-example\r\n\r\nI get the error: &quot;`ClassNotFoundException: Failed to find data source: bigquery`.&quot;\r\n\r\nMy pom.xml looks like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.virtualpairprogrammers&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;learningSpark&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.3-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;com.google.cloud.spark&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;spark-bigquery_2.11&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;0.9.1-beta&lt;/version&gt;\r\n  \t\t\t&lt;classifier&gt;shaded&lt;/classifier&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.virtualpairprogrammers.Main&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAfter adding the dependency to my pom.xml it was downloading a lot to build the .jar, so I think I should have the correct dependency? However, Eclipse is also warning me that &quot;The import com.google.cloud.spark.bigquery is never used&quot;.\r\n\r\nThis is the part of my code where I get the error:\r\n```\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport com.google.cloud.spark.bigquery.*;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSparkSession spark = SparkSession.builder()\r\n\t\t\t\t.appName(&quot;testingSql&quot;)\r\n\t\t\t\t.getOrCreate();\r\n\t\t\r\n\t\tDataset&lt;Row&gt; data = spark.read().format(&quot;bigquery&quot;)\r\n\t\t\t\t.option(&quot;table&quot;,&quot;project.dataset.tablename&quot;)\r\n\t\t\t\t.load()\r\n\t\t\t\t.cache();\r\n```","title":"ClassNotFoundException: Failed to find data source: bigquery","body":"<p>I'm trying to load data from Google BigQuery into Spark running on Google Dataproc (I'm using Java). I tried to follow instructions on here: <a href=\"https://cloud.google.com/dataproc/docs/tutorials/bigquery-connector-spark-example\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataproc/docs/tutorials/bigquery-connector-spark-example</a></p>\n\n<p>I get the error: \"<code>ClassNotFoundException: Failed to find data source: bigquery</code>.\"</p>\n\n<p>My pom.xml looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.virtualpairprogrammers&lt;/groupId&gt;\n    &lt;artifactId&gt;learningSpark&lt;/artifactId&gt;\n    &lt;version&gt;0.0.3-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-bigquery_2.11&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1-beta&lt;/version&gt;\n            &lt;classifier&gt;shaded&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.virtualpairprogrammers.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>After adding the dependency to my pom.xml it was downloading a lot to build the .jar, so I think I should have the correct dependency? However, Eclipse is also warning me that \"The import com.google.cloud.spark.bigquery is never used\".</p>\n\n<p>This is the part of my code where I get the error:</p>\n\n<pre><code>import org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\nimport com.google.cloud.spark.bigquery.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        SparkSession spark = SparkSession.builder()\n                .appName(\"testingSql\")\n                .getOrCreate();\n\n        Dataset&lt;Row&gt; data = spark.read().format(\"bigquery\")\n                .option(\"table\",\"project.dataset.tablename\")\n                .load()\n                .cache();\n</code></pre>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1648552995,"post_id":71661047,"comment_id":126648164,"body_markdown":"Looks fine. Database connection config issue. Chech that data is actually there (the same db)","body":"Looks fine. Database connection config issue. Chech that data is actually there (the same db)"},{"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"score":0,"creation_date":1648553317,"post_id":71661047,"comment_id":126648293,"body_markdown":"Thanks for your reply! I have queries like this above and below this one and they work. They are all on the same database (one open connection). I will continue to look at it","body":"Thanks for your reply! I have queries like this above and below this one and they work. They are all on the same database (one open connection). I will continue to look at it"},{"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"score":0,"creation_date":1648553461,"post_id":71661047,"comment_id":126648351,"body_markdown":"@Antoniossss I updated my post with the query in Postgres: it works","body":"@Antoniossss I updated my post with the query in Postgres: it works"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1648553517,"post_id":71661047,"comment_id":126648373,"body_markdown":"But I can see different queries..... so this proof is worth of nothing.","body":"But I can see different queries..... so this proof is worth of nothing."},{"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"score":0,"creation_date":1648553935,"post_id":71661047,"comment_id":126648526,"body_markdown":"@Antoniossss You&#39;re right! I updated the post in case you still have few ideas to help me. In any case thanks for your time!","body":"@Antoniossss You&#39;re right! I updated the post in case you still have few ideas to help me. In any case thanks for your time!"},{"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"score":0,"creation_date":1648554311,"post_id":71661047,"comment_id":126648681,"body_markdown":"I just checked the content of `interestingEquivalenceClasses` by logging it, I obtain: `[4, 0, 1, 5]`, which is okay. Then I copied in postgres the query which contains the same arraylist (`... AND qse.summaryNodeIdTarget IN (4,0,1,5)`)","body":"I just checked the content of <code>interestingEquivalenceClasses</code> by logging it, I obtain: <code>[4, 0, 1, 5]</code>, which is okay. Then I copied in postgres the query which contains the same arraylist (<code>... AND qse.summaryNodeIdTarget IN (4,0,1,5)</code>)"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1648554534,"post_id":71661047,"comment_id":126648751,"body_markdown":"I dont see nothing wrong with the code so it must be a data issue - different database maybe or something, or running query on uncommited changes or something.","body":"I dont see nothing wrong with the code so it must be a data issue - different database maybe or something, or running query on uncommited changes or something."},{"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"score":0,"creation_date":1648554714,"post_id":71661047,"comment_id":126648823,"body_markdown":"Okay, thanks for your time! I will continue to debug","body":"Okay, thanks for your time! I will continue to debug"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648553167,"creation_date":1648553167,"answer_id":71661176,"question_id":71661047,"body_markdown":"It looks to me as if your application fires a query `SELECT id FROM table`,\r\nthen receives an empty result set. No exception thrown.\r\n\r\nThat means the communication to the database is fine, query execution is fine but there is just no data found.\r\n\r\nStop looking at the code or changes in the network. Start looking at your database content. What is in the tables?","title":"Result set is empty but query works in Postgres","body":"<p>It looks to me as if your application fires a query <code>SELECT id FROM table</code>,\nthen receives an empty result set. No exception thrown.</p>\n<p>That means the communication to the database is fine, query execution is fine but there is just no data found.</p>\n<p>Stop looking at the code or changes in the network. Start looking at your database content. What is in the tables?</p>\n"},{"tags":[],"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648555602,"creation_date":1648555602,"answer_id":71661714,"question_id":71661047,"body_markdown":"I finally found the issue thanks to @Antoniossss! The problem was that I was working on uncommitted changes, i.e. the table `collection_to_ec` is not filled when I was executing the query (it is filled later)","title":"Result set is empty but query works in Postgres","body":"<p>I finally found the issue thanks to @Antoniossss! The problem was that I was working on uncommitted changes, i.e. the table <code>collection_to_ec</code> is not filled when I was executing the query (it is filled later)</p>\n"}],"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71661714,"answer_count":2,"score":1,"last_activity_date":1648555602,"creation_date":1648552640,"question_id":71661047,"body_markdown":"I&#39;m trying to get some results from Postgres into my Java application. As of now, I always used PreparedStatements with ResultSets to get data from my database in memory. But today my code refuses to work, although I use the same code as usual. Here is my piece of code:\r\n\r\n```java\r\nPreparedStatement stmtExplicitCollections = this.originalGraph.getPreparedStatement(\r\n    &quot;(&quot; +\r\n    &quot;SELECT ce1.collId &quot; +\r\n    &quot;FROM quotient_summary_edges qse, collection_to_ec ce1, collection_to_ec ce2 &quot; +\r\n    &quot;WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget = ce2.ecId &quot; +\r\n    &quot;GROUP BY ce1.collId &quot; +\r\n    &quot;HAVING COUNT(ce2.collId) = 1&quot; +\r\n    &quot;) INTERSECT (&quot; +\r\n    &quot;SELECT ce1.collId &quot; +\r\n    &quot;FROM quotient_summary_edges qse, collection_to_ec ce1 &quot; +\r\n    &quot;WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget IN (&quot; + StringUtils.join(interestingEquivalenceClasses, &quot;,&quot;) + &quot;)&quot; +\r\n    &quot;);&quot;);\r\nlog.info(stmtExplicitCollections.toString());\r\nResultSet rsExplicitCollections = stmtExplicitCollections.executeQuery();\r\nArrayList&lt;Integer&gt; explicitCollectionsIds = new ArrayList&lt;&gt;();\r\nwhile (rsExplicitCollections.next()) {\r\n    explicitCollectionsIds.add(rsExplicitCollections.getInt(1));\r\n}\r\nlog.info(explicitCollectionsIds);\r\n```\r\n\r\nHere is the log:\r\n\r\n```\r\n2022-03-29 13:35:03 INFO  RecordsCollectionsComputation:307 - (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1, collection_to_ec ce2 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget = ce2.ecId GROUP BY ce1.collId HAVING COUNT(ce2.collId) = 1) INTERSECT (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget IN (4,0,1,5))\r\n2022-03-29 13:35:03 INFO  RecordsCollectionsComputation:313 - []\r\n```\r\n\r\nThe ArrayList `explicitCollectionsIds` is empty/not filled and `if(rsExplicitCollections.next())` returns false. \r\n\r\n**EDIT:** Also, the query works in Postgres as shown below:\r\n\r\n```\r\ncl_xml=# (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1, collection_to_ec ce2 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget = ce2.ecId GROUP BY ce1.collId HAVING COUNT(ce2.collId) = 1) INTERSECT (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget IN (4,0,1,5));\r\n\r\n collid\r\n--------\r\n      0\r\n      1\r\n(2 rows)\r\n```\r\n\r\nCan someone help me? Thanks in advance!","title":"Result set is empty but query works in Postgres","body":"<p>I'm trying to get some results from Postgres into my Java application. As of now, I always used PreparedStatements with ResultSets to get data from my database in memory. But today my code refuses to work, although I use the same code as usual. Here is my piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement stmtExplicitCollections = this.originalGraph.getPreparedStatement(\n    &quot;(&quot; +\n    &quot;SELECT ce1.collId &quot; +\n    &quot;FROM quotient_summary_edges qse, collection_to_ec ce1, collection_to_ec ce2 &quot; +\n    &quot;WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget = ce2.ecId &quot; +\n    &quot;GROUP BY ce1.collId &quot; +\n    &quot;HAVING COUNT(ce2.collId) = 1&quot; +\n    &quot;) INTERSECT (&quot; +\n    &quot;SELECT ce1.collId &quot; +\n    &quot;FROM quotient_summary_edges qse, collection_to_ec ce1 &quot; +\n    &quot;WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget IN (&quot; + StringUtils.join(interestingEquivalenceClasses, &quot;,&quot;) + &quot;)&quot; +\n    &quot;);&quot;);\nlog.info(stmtExplicitCollections.toString());\nResultSet rsExplicitCollections = stmtExplicitCollections.executeQuery();\nArrayList&lt;Integer&gt; explicitCollectionsIds = new ArrayList&lt;&gt;();\nwhile (rsExplicitCollections.next()) {\n    explicitCollectionsIds.add(rsExplicitCollections.getInt(1));\n}\nlog.info(explicitCollectionsIds);\n</code></pre>\n<p>Here is the log:</p>\n<pre><code>2022-03-29 13:35:03 INFO  RecordsCollectionsComputation:307 - (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1, collection_to_ec ce2 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget = ce2.ecId GROUP BY ce1.collId HAVING COUNT(ce2.collId) = 1) INTERSECT (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget IN (4,0,1,5))\n2022-03-29 13:35:03 INFO  RecordsCollectionsComputation:313 - []\n</code></pre>\n<p>The ArrayList <code>explicitCollectionsIds</code> is empty/not filled and <code>if(rsExplicitCollections.next())</code> returns false.</p>\n<p><strong>EDIT:</strong> Also, the query works in Postgres as shown below:</p>\n<pre><code>cl_xml=# (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1, collection_to_ec ce2 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget = ce2.ecId GROUP BY ce1.collId HAVING COUNT(ce2.collId) = 1) INTERSECT (SELECT ce1.collId FROM quotient_summary_edges qse, collection_to_ec ce1 WHERE qse.summaryNodeIdSource = ce1.ecId AND qse.summaryNodeIdTarget IN (4,0,1,5));\n\n collid\n--------\n      0\n      1\n(2 rows)\n</code></pre>\n<p>Can someone help me? Thanks in advance!</p>\n"},{"tags":["java","maven","code-coverage","jacoco"],"comments":[{"owner":{"account_id":4820860,"reputation":1747,"user_id":3901701,"display_name":"Kolargol00"},"score":1,"creation_date":1408504473,"post_id":25395255,"comment_id":39610305,"body_markdown":"Any particular reason why you are using an outdated version of the JaCoCo plugin? For Java 8 support, you have to use at least version 0.7.0 (see [changelog](http://www.eclemma.org/jacoco/trunk/doc/changes.html)).","body":"Any particular reason why you are using an outdated version of the JaCoCo plugin? For Java 8 support, you have to use at least version 0.7.0 (see <a href=\"http://www.eclemma.org/jacoco/trunk/doc/changes.html\" rel=\"nofollow noreferrer\">changelog</a>)."},{"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":1,"creation_date":1408508239,"post_id":25395255,"comment_id":39611003,"body_markdown":"running old version of `jacoco` was problem. It is fixed after that","body":"running old version of <code>jacoco</code> was problem. It is fixed after that"}],"answers":[{"tags":[],"owner":{"account_id":4820860,"reputation":1747,"user_id":3901701,"display_name":"Kolargol00"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1408532414,"creation_date":1408504335,"answer_id":25396164,"question_id":25395255,"body_markdown":"Any particular reason why you are using an outdated version of the JaCoCo plugin? For Java 8 support, you have to use at least version 0.7.0 (see [changelog](http://www.eclemma.org/jacoco/trunk/doc/changes.html)).\r\n\r\nIn your configuration, the report goal is bound to the verify phase, so running `mvn test` won&#39;t generate any report because it does not run the verify phase ([test phase comes before verify](http://maven.apache.org/ref/current/maven-core/lifecycles.html)). You have to use `mvn verify` to execute tests and generate the report.\r\n\r\nThe JaCoCo project provides example Maven configurations. You can try &quot;[this POM file for a JAR project runs JUnit tests under code coverage and creates a coverage report](http://www.eclemma.org/jacoco/trunk/doc/examples/build/pom.xml)&quot;.","title":"maven jacoco: not generating code coverage report","body":"<p>Any particular reason why you are using an outdated version of the JaCoCo plugin? For Java 8 support, you have to use at least version 0.7.0 (see <a href=\"http://www.eclemma.org/jacoco/trunk/doc/changes.html\" rel=\"noreferrer\">changelog</a>).</p>\n\n<p>In your configuration, the report goal is bound to the verify phase, so running <code>mvn test</code> won't generate any report because it does not run the verify phase (<a href=\"http://maven.apache.org/ref/current/maven-core/lifecycles.html\" rel=\"noreferrer\">test phase comes before verify</a>). You have to use <code>mvn verify</code> to execute tests and generate the report.</p>\n\n<p>The JaCoCo project provides example Maven configurations. You can try \"<a href=\"http://www.eclemma.org/jacoco/trunk/doc/examples/build/pom.xml\" rel=\"noreferrer\">this POM file for a JAR project runs JUnit tests under code coverage and creates a coverage report</a>\".</p>\n"},{"tags":[],"owner":{"account_id":1785654,"reputation":747,"user_id":1627174,"display_name":"Pierrick HYMBERT"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1505923610,"creation_date":1475423473,"answer_id":39818768,"question_id":25395255,"body_markdown":"JaCoco Maven Plugin is overriding Surefire argLine, in case you also need to override argLine, be sure to keep argLine variable:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.1&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt; \r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nNote you can change this property name, as describe in the [jacoco plugin documentation][1].\r\n\r\n\r\n  [1]: http://www.eclemma.org/jacoco/trunk/doc/prepare-agent-mojo.html#propertyName","title":"maven jacoco: not generating code coverage report","body":"<p>JaCoco Maven Plugin is overriding Surefire argLine, in case you also need to override argLine, be sure to keep argLine variable:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.19.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt; \n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Note you can change this property name, as describe in the <a href=\"http://www.eclemma.org/jacoco/trunk/doc/prepare-agent-mojo.html#propertyName\" rel=\"noreferrer\">jacoco plugin documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1514932967,"creation_date":1514932967,"answer_id":48068844,"question_id":25395255,"body_markdown":"This worked for me:\r\n\r\n    mvn clean install\r\n    mvn site\r\n\r\nEven though the minimum code coverage was not met and `mvn clean install` failed, the `mvn site` build succeeded and created the coverage report at:\r\n\r\n    .../target/site/jacoco/index.html\r\n\r\n\r\n\r\n","title":"maven jacoco: not generating code coverage report","body":"<p>This worked for me:</p>\n\n<pre><code>mvn clean install\nmvn site\n</code></pre>\n\n<p>Even though the minimum code coverage was not met and <code>mvn clean install</code> failed, the <code>mvn site</code> build succeeded and created the coverage report at:</p>\n\n<pre><code>.../target/site/jacoco/index.html\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3248752,"reputation":301,"user_id":2739602,"display_name":"user2739602"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1603297537,"creation_date":1603290795,"answer_id":64465877,"question_id":25395255,"body_markdown":"Following works for me without any issues\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;jacoco-report&lt;/id&gt;\r\n                &lt;phase&gt;test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;                   \r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nNOTE : phase is &#39;test&#39; in-order to generate the report once tests are executed\r\n\r\n","title":"maven jacoco: not generating code coverage report","body":"<p>Following works for me without any issues</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-report&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;                   \n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>NOTE : phase is 'test' in-order to generate the report once tests are executed</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616136833,"creation_date":1616136833,"answer_id":66703720,"question_id":25395255,"body_markdown":"Had similar problem i dont know the root cause but avoiding in build resolved problem\r\n\r\n    &lt;pluginManagement&gt;\r\n\r\nFollowing the pom that worked out for me\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t\t&lt;parent&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n\t\t\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t\t&lt;/parent&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;SampleSpring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t\t\t&lt;name&gt;SampleSpring&lt;/name&gt;\r\n\t\t\t&lt;description&gt;Demo project for SampleSpring&lt;/description&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t\t\t&lt;start-class&gt;com.example.spring.SampleSpringApplication&lt;/start-class&gt;\r\n\r\n\t\t\t\t&lt;jacoco.version&gt;0.8.3&lt;/jacoco.version&gt;\r\n\t\t\t\t&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n\t\t\t\t&lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n\t\t\t\t&lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\r\n\t\t\t\t&lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t\t&lt;!-- Testing --&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;!-- Testing --&gt;\r\n\r\n\r\n\t\t\t&lt;/dependencies&gt;\r\n\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t\t&lt;!--jacoco plugin --&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;output&gt;file&lt;/output&gt;\r\n\t\t\t\t\t\t\t&lt;append&gt;true&lt;/append&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;!--jacoco plugin end --&gt;\r\n\r\n\t\t\t\t\t&lt;!--Sonarqube plugin --&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.6.0.1398&lt;/version&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;!--Sonarqube plugin end --&gt;\r\n\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\r\n\t\t&lt;/project&gt;\r\n","title":"maven jacoco: not generating code coverage report","body":"<p>Had similar problem i dont know the root cause but avoiding in build resolved problem</p>\n<pre><code>&lt;pluginManagement&gt;\n</code></pre>\n<p>Following the pom that worked out for me</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;SampleSpring&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;war&lt;/packaging&gt;\n        &lt;name&gt;SampleSpring&lt;/name&gt;\n        &lt;description&gt;Demo project for SampleSpring&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n            &lt;start-class&gt;com.example.spring.SampleSpringApplication&lt;/start-class&gt;\n\n            &lt;jacoco.version&gt;0.8.3&lt;/jacoco.version&gt;\n            &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n            &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n            &lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\n            &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Testing --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Testing --&gt;\n\n\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;/plugin&gt;\n\n                &lt;!--jacoco plugin --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.8.5&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;output&gt;file&lt;/output&gt;\n                        &lt;append&gt;true&lt;/append&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;jacoco-site&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;report&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;!--jacoco plugin end --&gt;\n\n                &lt;!--Sonarqube plugin --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.6.0.1398&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!--Sonarqube plugin end --&gt;\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606200,"reputation":301,"user_id":5106823,"display_name":"Ornelio Chauque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1627456632,"creation_date":1627456632,"answer_id":68555996,"question_id":25395255,"body_markdown":"I had the same issue. \r\nThe problem was that i had add the jacoco plugin inside the ```&lt;plugins&gt;``` that was listed inside ```&lt;pluginManagment&gt;``` tag.\r\n\r\n```\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n       ...\r\n        &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;jacoco-report&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n...\r\n       \r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n```\r\n\r\nAfter add ```&lt;plugins&gt;``` as direct child of ```&lt;build&gt;``` everything works fine.\r\n\r\n```\r\n&lt;build&gt;\r\n....\r\n &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;jacoco-report&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n...\r\n&lt;build&gt;\r\n```","title":"maven jacoco: not generating code coverage report","body":"<p>I had the same issue.\nThe problem was that i had add the jacoco plugin inside the <code>&lt;plugins&gt;</code> that was listed inside <code>&lt;pluginManagment&gt;</code> tag.</p>\n<pre><code>  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n       ...\n        &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;jacoco-report&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n...\n       \n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n</code></pre>\n<p>After add <code>&lt;plugins&gt;</code> as direct child of <code>&lt;build&gt;</code> everything works fine.</p>\n<pre><code>&lt;build&gt;\n....\n &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;jacoco-report&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n...\n&lt;build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648555187,"creation_date":1648555187,"answer_id":71661614,"question_id":25395255,"body_markdown":"Before trying the other workarounds, first check *Toggle Skip Test mode* is not active on the Maven toolbar in IntelliJ IDEA.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pb3aY.png","title":"maven jacoco: not generating code coverage report","body":"<p>Before trying the other workarounds, first check <em>Toggle Skip Test mode</em> is not active on the Maven toolbar in IntelliJ IDEA.</p>\n<p><a href=\"https://i.stack.imgur.com/pb3aY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pb3aY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121563,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":25396164,"answer_count":7,"score":49,"last_activity_date":1648555187,"creation_date":1408496579,"question_id":25395255,"body_markdown":"I am trying to setup `jacoco` for my project&#39;s code coverage  \r\n\r\nMy project is based on `Java 1.8`\r\n\r\nHere is how things look in my project&#39;s `pom.xml`  \r\n\r\n        &lt;plugin&gt;\r\n\t        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t        &lt;version&gt;0.5.10.201208310627&lt;/version&gt;\r\n\t        &lt;configuration&gt;\r\n\t\t        &lt;output&gt;file&lt;/output&gt;\r\n\t\t        &lt;append&gt;true&lt;/append&gt;\r\n\t        &lt;/configuration&gt;\r\n\t        &lt;executions&gt;\r\n\t\t        &lt;execution&gt;\r\n\t\t\t        &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n\t\t\t        &lt;goals&gt;\r\n\t\t\t\t        &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t        &lt;/goals&gt;\r\n\t\t        &lt;/execution&gt;\r\n\t\t        &lt;execution&gt;\r\n\t\t\t        &lt;id&gt;jacoco-site&lt;/id&gt;\r\n\t\t\t        &lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t        &lt;goals&gt;\r\n\t\t\t\t        &lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t        &lt;/goals&gt;\r\n\t\t        &lt;/execution&gt;\r\n\t        &lt;/executions&gt;\r\n        &lt;/plugin&gt;  \r\n\r\nThen I run  `mvn test` and see the following  \r\n\r\n    $ mvn test\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building pennyapp 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- jacoco-maven-plugin:0.5.10.201208310627:prepare-agent (jacoco-initialize) @ pennyapp ---\r\n    [INFO] argLine set to -javaagent:/Users/harit/.m2/repository/org/jacoco/org.jacoco.agent/0.5.10.201208310627/org.jacoco.agent-0.5.10.201208310627-runtime.jar=destfile=/Users/harit/code/idea/pennyapp/target/jacoco.exec,append=true,output=file\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ pennyapp ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 1 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ pennyapp ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 1 source file to /Users/harit/code/idea/pennyapp/target/classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ pennyapp ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory /Users/harit/code/idea/pennyapp/src/test/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ pennyapp ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 1 source file to /Users/harit/code/idea/pennyapp/target/test-classes\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.17:test (default-test) @ pennyapp ---\r\n    [INFO] Surefire report directory: /Users/harit/code/idea/pennyapp/shippable/testresults\r\n    [INFO] Using configured provider org.apache.maven.surefire.junit4.JUnit4Provider\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    objc[13225]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home/jre/bin/java and /Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home/jre/lib/libinstrument.dylib. One of the two will be used. Which one is undefined.\r\n    Running HelloTest\r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.1 sec - in HelloTest\r\n    \r\n    Results :\r\n    \r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 4.523 s\r\n    [INFO] Finished at: 2014-08-19T17:56:33-07:00\r\n    [INFO] Final Memory: 10M/119M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nand then I run `mvn jacoco:report` and I see  \r\n\r\n    $ mvn jacoco:report\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building pennyapp 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- jacoco-maven-plugin:0.5.10.201208310627:report (default-cli) @ pennyapp ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.176 s\r\n    [INFO] Finished at: 2014-08-19T17:56:51-07:00\r\n    [INFO] Final Memory: 11M/112M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nThen I look at `target/site/jacoco/index.html` and see the following  \r\n![enter image description here][1]  \r\n\r\n**Question**  \r\n- What is incorrect in the configuration?  \r\n- How can I generate report?  \r\n\r\nThanks\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4mg6r.png","title":"maven jacoco: not generating code coverage report","body":"<p>I am trying to setup <code>jacoco</code> for my project's code coverage  </p>\n\n<p>My project is based on <code>Java 1.8</code></p>\n\n<p>Here is how things look in my project's <code>pom.xml</code>  </p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.5.10.201208310627&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;output&gt;file&lt;/output&gt;\n            &lt;append&gt;true&lt;/append&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;jacoco-site&lt;/id&gt;\n                &lt;phase&gt;verify&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;report&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;  \n</code></pre>\n\n<p>Then I run  <code>mvn test</code> and see the following  </p>\n\n<pre><code>$ mvn test\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building pennyapp 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.5.10.201208310627:prepare-agent (jacoco-initialize) @ pennyapp ---\n[INFO] argLine set to -javaagent:/Users/harit/.m2/repository/org/jacoco/org.jacoco.agent/0.5.10.201208310627/org.jacoco.agent-0.5.10.201208310627-runtime.jar=destfile=/Users/harit/code/idea/pennyapp/target/jacoco.exec,append=true,output=file\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ pennyapp ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 1 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ pennyapp ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 1 source file to /Users/harit/code/idea/pennyapp/target/classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ pennyapp ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/harit/code/idea/pennyapp/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ pennyapp ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 1 source file to /Users/harit/code/idea/pennyapp/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ pennyapp ---\n[INFO] Surefire report directory: /Users/harit/code/idea/pennyapp/shippable/testresults\n[INFO] Using configured provider org.apache.maven.surefire.junit4.JUnit4Provider\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nobjc[13225]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home/jre/bin/java and /Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home/jre/lib/libinstrument.dylib. One of the two will be used. Which one is undefined.\nRunning HelloTest\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.1 sec - in HelloTest\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.523 s\n[INFO] Finished at: 2014-08-19T17:56:33-07:00\n[INFO] Final Memory: 10M/119M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>and then I run <code>mvn jacoco:report</code> and I see  </p>\n\n<pre><code>$ mvn jacoco:report\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building pennyapp 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.5.10.201208310627:report (default-cli) @ pennyapp ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.176 s\n[INFO] Finished at: 2014-08-19T17:56:51-07:00\n[INFO] Final Memory: 11M/112M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>Then I look at <code>target/site/jacoco/index.html</code> and see the following<br>\n<img src=\"https://i.stack.imgur.com/4mg6r.png\" alt=\"enter image description here\">  </p>\n\n<p><strong>Question</strong><br>\n- What is incorrect in the configuration?<br>\n- How can I generate report?  </p>\n\n<p>Thanks</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1648553620,"post_id":71661255,"comment_id":126648405,"body_markdown":"You have unsynchronized access to one variable - that is a race condition and therefore you get &quot;weird&quot; results","body":"You have unsynchronized access to one variable - that is a race condition and therefore you get &quot;weird&quot; results"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1648553776,"post_id":71661255,"comment_id":126648468,"body_markdown":"You should read the official docs about synchronization for more info: https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html","body":"You should read the official docs about synchronization for more info: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/sync.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1648554653,"post_id":71661255,"comment_id":126648792,"body_markdown":"TBH this is sort of expected result. Undeterministict, but expected discrepency","body":"TBH this is sort of expected result. Undeterministict, but expected discrepency"}],"answers":[{"tags":[],"owner":{"account_id":21316954,"reputation":63,"user_id":16404733,"display_name":"Anibal Cardozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648553761,"creation_date":1648553761,"answer_id":71661307,"question_id":71661255,"body_markdown":"you need to block the access to the variable while one thread is using it","title":"Shared variable between two thread","body":"<p>you need to block the access to the variable while one thread is using it</p>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648555115,"creation_date":1648555115,"answer_id":71661600,"question_id":71661255,"body_markdown":"This is because `c++` is not atomic operation but rather shorthand for something like\r\n\r\n    int arg=c;\r\n    int result = arg+1;   \r\n    c=result;  //does not matter if it is 2 or 3 lines variant. What matters is that there are more that 1 operations here\r\n\r\n(operation beeing atomic here means that it cannot be divided into smaller pieces - which is not the case as shown above)\r\n\r\nAs you can see, you have separation between reading `c` and writing to it. Thread execution can switch in any time on any of those lines (read and write) which can result in for example, bot threads reading the same value of `c` which will result in &quot;skipped&quot; result (increment in your case)\r\n\r\nThis pheonomenon is well know as &quot;racing conditions&quot; and code you have provided is actually a common snippet to demonstrate this.\r\n\r\nYou have either synchronize access to the `c` so you strictly forbid threads to be switched in-between operation or use implementations that can do it &quot;atomically&quot; - usually using some cpu level magic CAS operations.\r\n\r\n\r\n","title":"Shared variable between two thread","body":"<p>This is because <code>c++</code> is not atomic operation but rather shorthand for something like</p>\n<pre><code>int arg=c;\nint result = arg+1;   \nc=result;  //does not matter if it is 2 or 3 lines variant. What matters is that there are more that 1 operations here\n</code></pre>\n<p>(operation beeing atomic here means that it cannot be divided into smaller pieces - which is not the case as shown above)</p>\n<p>As you can see, you have separation between reading <code>c</code> and writing to it. Thread execution can switch in any time on any of those lines (read and write) which can result in for example, bot threads reading the same value of <code>c</code> which will result in &quot;skipped&quot; result (increment in your case)</p>\n<p>This pheonomenon is well know as &quot;racing conditions&quot; and code you have provided is actually a common snippet to demonstrate this.</p>\n<p>You have either synchronize access to the <code>c</code> so you strictly forbid threads to be switched in-between operation or use implementations that can do it &quot;atomically&quot; - usually using some cpu level magic CAS operations.</p>\n"}],"owner":{"account_id":12210985,"reputation":37,"user_id":9842125,"display_name":"swarna islam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1648555115,"creation_date":1648553566,"question_id":71661255,"body_markdown":"I am learning java multithreading new. I was experimenting with some normal code. My target was to parallelly run two threads that will print the value of a static variable each time after incrementing. I was expecting the output will show the value of the static variable c increasing order from 1 to 10. But after running the program it is showing differently. My question is if the variable is shared between the two threads, shouldn&#39;t thread 1 display the value of c as 3 as it will get c from the same memory location after thread 2 has incremented it to 2? Also why the value of variable c is not reaching 10?\r\nHere is my code:\r\n    \r\n    public class Test1 {\r\n    public static int c=0;\r\n    public static void main(String[] args){\r\n        Thread t1=new Thread(()-&gt; {\r\n            for(int i=0;i&lt;5;i++){\r\n                c++;\r\n                System.out.println(&quot;In thread 1: &quot;+c);\r\n            }\r\n        });\r\n        Thread t2=new Thread(()-&gt; {\r\n            for(int i=0;i&lt;5;i++){\r\n                c++;\r\n                System.out.println(&quot;In thread 2: &quot;+c);\r\n            }\r\n        });\r\n\r\n        t1.start();\r\n        t2.start();\r\n    }\r\n    }\r\n\r\nHere is the output:\r\n  \r\n    &gt;&gt;\r\n    In thread 2: 1\r\n    In thread 2: 2\r\n    In thread 1: 1\r\n    In thread 1: 4\r\n    In thread 2: 3\r\n    In thread 1: 5\r\n    In thread 2: 6\r\n    In thread 1: 7\r\n    In thread 2: 8\r\n    In thread 1: 9","title":"Shared variable between two thread","body":"<p>I am learning java multithreading new. I was experimenting with some normal code. My target was to parallelly run two threads that will print the value of a static variable each time after incrementing. I was expecting the output will show the value of the static variable c increasing order from 1 to 10. But after running the program it is showing differently. My question is if the variable is shared between the two threads, shouldn't thread 1 display the value of c as 3 as it will get c from the same memory location after thread 2 has incremented it to 2? Also why the value of variable c is not reaching 10?\nHere is my code:</p>\n<pre><code>public class Test1 {\npublic static int c=0;\npublic static void main(String[] args){\n    Thread t1=new Thread(()-&gt; {\n        for(int i=0;i&lt;5;i++){\n            c++;\n            System.out.println(&quot;In thread 1: &quot;+c);\n        }\n    });\n    Thread t2=new Thread(()-&gt; {\n        for(int i=0;i&lt;5;i++){\n            c++;\n            System.out.println(&quot;In thread 2: &quot;+c);\n        }\n    });\n\n    t1.start();\n    t2.start();\n}\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>&gt;&gt;\nIn thread 2: 1\nIn thread 2: 2\nIn thread 1: 1\nIn thread 1: 4\nIn thread 2: 3\nIn thread 1: 5\nIn thread 2: 6\nIn thread 1: 7\nIn thread 2: 8\nIn thread 1: 9\n</code></pre>\n"},{"tags":["java","cryptography","bouncycastle","signature","ecdsa"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1648486175,"post_id":71650727,"comment_id":126630531,"body_markdown":"`r` and `s` are never negative: `The calculated signature {r, s} is a pair of integers, each in the range [1...n-1].` https://cryptobook.nakov.com/digital-signatures/ecdsa-sign-verify-messages So you should check the code that is reading/generating those values.","body":"<code>r</code> and <code>s</code> are never negative: <code>The calculated signature {r, s} is a pair of integers, each in the range [1...n-1].</code> <a href=\"https://cryptobook.nakov.com/digital-signatures/ecdsa-sign-verify-messages\" rel=\"nofollow noreferrer\">cryptobook.nakov.com/digital-signatures/&hellip;</a> So you should check the code that is reading/generating those values."},{"owner":{"account_id":291094,"reputation":101,"user_id":593030,"display_name":"Ariakan"},"score":0,"creation_date":1648492156,"post_id":71650727,"comment_id":126632523,"body_markdown":"Sorry, I try to explain myself better, r and s are never negative in my case. i&#39;ll copy paste my r and s values `r = 663e5dd196f22f03e3aba8f6652d1ca92d207088911987f44048a4b85ec36e91` and `s = 84c4ca1678dce85b19b2ddb378f4a1df878cec21ce6fbab9292576281602041d` and the signature in der is `30450220663e5dd196f22f03e3aba8f6652d1ca92d207088911987f44048a4b85ec36e9102210084c4ca1678dce85b19b2ddb378f4a1df878cec21ce6fbab9292576281602041d` but verify returns false","body":"Sorry, I try to explain myself better, r and s are never negative in my case. i&#39;ll copy paste my r and s values <code>r = 663e5dd196f22f03e3aba8f6652d1ca92d207088911987f44048a4b85ec3&zwnj;&#8203;6e91</code> and <code>s = 84c4ca1678dce85b19b2ddb378f4a1df878cec21ce6fbab9292576281602&zwnj;&#8203;041d</code> and the signature in der is <code>30450220663e5dd196f22f03e3aba8f6652d1ca92d207088911987f44048&zwnj;&#8203;a4b85ec36e9102210084&zwnj;&#8203;c4ca1678dce85b19b2dd&zwnj;&#8203;b378f4a1df878cec21ce&zwnj;&#8203;6fbab929257628160204&zwnj;&#8203;1d</code> but verify returns false"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648504422,"post_id":71650727,"comment_id":126636301,"body_markdown":"`message.getBytes` will get the bytes *specific&quot; to the default encoding of the environment in which you&#39;re calling it. That encoding could be different in the reference version","body":"<code>message.getBytes</code> will get the bytes *specific&quot; to the default encoding of the environment in which you&#39;re calling it. That encoding could be different in the reference version"}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648554919,"creation_date":1648551353,"answer_id":71660802,"question_id":71650727,"body_markdown":"The reason of the issue is not that `r` and/or `s` start with a byte &gt;= 0x80, but that the message `messNOT` is UTF-8 encoded during verification. \r\n\r\nThe verification for the problematic message `messNOT` is successful if `messNOT` is not UTF-8 encoded but hex decoded. In contrast, for the working message `messYES`, verification is successful if `messYES` is UTF-8 encoded.\r\n\r\nSince both messages are UTF-8 encoded in the posted code, this explains why the verification of `messNOT` fails while that of `messYES` succeeds. \r\n\r\n-------\r\n\r\nIn order for verification to succeed for both messages, the simplest way is to pass the message as `byte[]` in `verifySignature()`:\r\n\r\n```java\r\nstatic boolean verifySignature(byte[] messagePlain, String certificatePEM, String rHex, String sHex) {\r\n\t...\r\n\tecdsaVerify.update(messagePlain);\r\n\t...\r\n}\r\n```\r\n\r\nand perform the conversion beforehand (as described):\r\n\r\n```java\r\nimport org.bouncycastle.util.encoders.Hex;\r\n...\r\nSystem.out.println(&quot;valid: &quot; + verifySignature(Hex.decode(messNOT), certNOT, rNOT, sNOT)); // valid: true\r\nSystem.out.println(&quot;valid: &quot; + verifySignature(messYES.getBytes(StandardCharsets.UTF_8), certYES, rYES, sYES)); // valid: true\r\n```\r\n\r\nThis is consistent with verification via OpenSSL, as it should be.\r\n\r\n------------\r\n\r\nBy the way, BouncyCastle also supports the IEEE P1363 (i.e. r|s) format with `SHA256withPlain-ECDSA`, so the conversion to ASN.1/DER is not necessary.\r\n","title":"JAVA How to verify ECDSA signature when r or s are negative","body":"<p>The reason of the issue is not that <code>r</code> and/or <code>s</code> start with a byte &gt;= 0x80, but that the message <code>messNOT</code> is UTF-8 encoded during verification.</p>\n<p>The verification for the problematic message <code>messNOT</code> is successful if <code>messNOT</code> is not UTF-8 encoded but hex decoded. In contrast, for the working message <code>messYES</code>, verification is successful if <code>messYES</code> is UTF-8 encoded.</p>\n<p>Since both messages are UTF-8 encoded in the posted code, this explains why the verification of <code>messNOT</code> fails while that of <code>messYES</code> succeeds.</p>\n<hr />\n<p>In order for verification to succeed for both messages, the simplest way is to pass the message as <code>byte[]</code> in <code>verifySignature()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean verifySignature(byte[] messagePlain, String certificatePEM, String rHex, String sHex) {\n    ...\n    ecdsaVerify.update(messagePlain);\n    ...\n}\n</code></pre>\n<p>and perform the conversion beforehand (as described):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.util.encoders.Hex;\n...\nSystem.out.println(&quot;valid: &quot; + verifySignature(Hex.decode(messNOT), certNOT, rNOT, sNOT)); // valid: true\nSystem.out.println(&quot;valid: &quot; + verifySignature(messYES.getBytes(StandardCharsets.UTF_8), certYES, rYES, sYES)); // valid: true\n</code></pre>\n<p>This is consistent with verification via OpenSSL, as it should be.</p>\n<hr />\n<p>By the way, BouncyCastle also supports the IEEE P1363 (i.e. r|s) format with <code>SHA256withPlain-ECDSA</code>, so the conversion to ASN.1/DER is not necessary.</p>\n"}],"owner":{"account_id":291094,"reputation":101,"user_id":593030,"display_name":"Ariakan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71660802,"answer_count":1,"score":2,"last_activity_date":1648554919,"creation_date":1648485476,"question_id":71650727,"body_markdown":"I&#39;m writing a chunk of code to check the signature \r\n\r\nMy code below works if r and s are positive \r\nif not the verify fails.\r\n\r\n\r\nMy code is\r\n```java\r\nPublicKey publicKey = cert.getPublicKey();\r\nSignature ecdsaVerify = Signature.getInstance(&quot;SHA256withECDSA&quot;, new BouncyCastleProvider());\r\necdsaVerify.initVerify(publicKey);\r\necdsaVerify.update(message.getBytes());\r\nvalid = ecdsaVerify.verify(sigDer);\r\n```\r\nMy signature is created, starting from raw r and s, in der format keep in mind if r or s are negative to add &#39;00&#39; to der format, \r\nI&#39;ve also used the BouncyCastle ANS1 class \r\n\r\n```java\r\nASN1EncodableVector v = new ASN1EncodableVector();\r\nv.add(new ASN1Integer(r));\r\nv.add(new ASN1Integer(s));\t\t\t\r\nDERSequence der = new DERSequence(v);\r\n```\r\nbut still I&#39;m able to verify if r and s are positive i cannot if one of them is negative (the initial byte is greater than 0x80)\r\n\r\nwhat i&#39;ve missing?\r\n\r\n\r\n\r\n-----EDIT-----\r\n\r\nI&#39;ve created a better code to explain my problem\r\n\r\n```java\r\nstatic boolean verifySignature(String messagePlain, String certificatePEM, String rHex, String sHex)\r\n{\r\n\tboolean valid = false;\r\n\tSecurity.addProvider(new BouncyCastleProvider());\r\n\t\t\r\n\ttry \r\n\t{\t\t\r\n\t\tBigInteger r = new BigInteger(rHex, 16);\r\n\t\tBigInteger s = new BigInteger(sHex, 16);\r\n\r\n\t\tASN1EncodableVector v = new ASN1EncodableVector();\r\n\t\tv.add(new ASN1Integer(r));\r\n\t\tv.add(new ASN1Integer(s));\t\t\t\r\n\t\tDERSequence der = new DERSequence(v);\r\n\t\tbyte[] signature = der.getEncoded();\r\n\r\n\t    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;, new BouncyCastleProvider());\r\n\t    InputStream certStream = new ByteArrayInputStream(certificatePEM.getBytes());\r\n\t    X509Certificate x509cert  = (X509Certificate)cf.generateCertificate(certStream);\r\n\t\t\t\r\n\t\tPublicKey publicKey = x509cert.getPublicKey();\r\n\t\tSignature ecdsaVerify = Signature.getInstance(&quot;SHA256withECDSA&quot;, new BouncyCastleProvider());\r\n\t\tecdsaVerify.initVerify(publicKey);\r\n\t\tecdsaVerify.update(messagePlain.getBytes());\r\n\t\tvalid = ecdsaVerify.verify(signature);\r\n\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (CertificateException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (SignatureException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (NoSuchAlgorithmException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (InvalidKeyException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn valid;\r\n}\r\n```\r\nMy Main\r\n```java\r\npublic static void main( String[] args )\r\n{\t    \r\n\tString messNOT = &quot;dc03d9c5676cc8a76b59214b86214b865d01022cdd518622c721967c7c23abbc133c133c133c133c133c133c2c651a2419a64d4a598d19cd202326752cdefe3204031f00000506675b20383373&quot;;\r\n\tString rNOT = &quot;663e5dd196f22f03e3aba8f6652d1ca92d207088911987f44048a4b85ec36e91&quot;;\r\n\tString sNOT = &quot;84c4ca1678dce85b19b2ddb378f4a1df878cec21ce6fbab9292576281602041d&quot;;\r\n\tString certNOT =&quot;-----BEGIN CERTIFICATE-----\\r\\n&quot;\r\n\t\t\t+ &quot;MIICzDCCAlOgAwIBAgICANMwCgYIKoZIzj0EAwMwdjELMAkGA1UEBhMCQ0gxDjAM\\r\\n&quot;\r\n\t\t\t+ &quot;BgNVBAoMBUFkbWluMREwDwYDVQQLDAhTZXJ2aWNlczEiMCAGA1UECwwZQ2VydGlm\\r\\n&quot;\r\n\t\t\t+ &quot;aWNhdGlvbiBBdXRob3JpdGllczEgMB4GA1UEAwwXYWJuYS1jc2NhLXN3aXR6ZXJs\\r\\n&quot;\r\n\t\t\t+ &quot;YW5kLTIwHhcNMjIwMjA5MTQxNDM2WhcNMjgwMjE0MTQxNDM2WjAaMQswCQYDVQQG\\r\\n&quot;\r\n\t\t\t+ &quot;EwJDSDELMAkGA1UEAxMCVlMwggEzMIHsBgcqhkjOPQIBMIHgAgEBMCwGByqGSM49\\r\\n&quot;\r\n\t\t\t+ &quot;AQECIQCp+1fboe6pvD5mCpCdg41ybjv2I9UmICggE0gdH25TdzBEBCB9Wgl1/Cww\\r\\n&quot;\r\n\t\t\t+ &quot;V+72dTBBev/n+4BVwSbcXGzpSktE8zC12QQgJtxcbOlKS0TzMLXZu9d8v5WEFilc\\r\\n&quot;\r\n\t\t\t+ &quot;9+HOa8zcGP+MB7YEQQSL0q65y35XyyxLSC/8gbevud4n4eO9I8I6RFO9ms4yYlR+\\r\\n&quot;\r\n\t\t\t+ &quot;+DXD2sT9l/hGGhRhHcnCd0UTLe2OVFwdVMcvBGmXAiEAqftX26Huqbw+ZgqQnYON\\r\\n&quot;\r\n\t\t\t+ &quot;cYw5eqO1Yab3kB4OgpdIVqcCAQEDQgAEEw6HdjvJQhXyiitwaWZ4DmypigCjdJen\\r\\n&quot;\r\n\t\t\t+ &quot;oRjW7Tz3n1Mlqf2dwwgYcwHB7N6zvLpQ2aZmILOicbyvSKHCZHaztqNRME8wHwYD\\r\\n&quot;\r\n\t\t\t+ &quot;VR0jBBgwFoAU5/zrAS4O3jj5DvGKXM5XDxMEyXMwFQYHZ4EIAQEGAgQKMAgCAQAx\\r\\n&quot;\r\n\t\t\t+ &quot;AxMBVjAVBgNVHSUBAf8ECzAJBgdngQgBAQsBMAoGCCqGSM49BAMDA2cAMGQCMEG4\\r\\n&quot;\r\n\t\t\t+ &quot;zJn2/N85NLsDM58+jB0oyFTB152gPyAcdhq04gLpXynW2qbSNfE6Fgw34Qm+vAIw\\r\\n&quot;\r\n\t\t\t+ &quot;AZSAdepOu4r6T+hj1p8Q3HFlSvlByjpr/b2VNiMXup6v3O7BnGqbyRFgMlc3c/BB\\r\\n&quot;\r\n\t\t\t+ &quot;-----END CERTIFICATE-----&quot;;\r\n\t\t\r\n\tString messYES = &quot;dc03d9c5d9b71fe6fe336de4e53214665d01022cdb5bd2b3c549cd1da93c5bd458135c6f57fc133c133c133c9e2e4d0d28043132b09e1ae53f5c52853f78fe370403900000050659e9269f2cb8&quot;;\r\n\tString rYES = &quot;473c2e821b49bffc32e49cb7ed5f0645a32ad76c8258ebd4ec9aca56&quot;;\r\n\tString sYES = &quot;77c7e16920143444cf68d3891436b1a0189e08d06b104fdb247cd3ef&quot;;\r\n\tString certYES =&quot;-----BEGIN CERTIFICATE-----\\r\\n&quot;\r\n\t\t\t+ &quot;MIID7jCCAdagAwIBAgIBAjANBgkqhkiG9w0BAQsFADAuMQswCQYDVQQGEwJVVDEP\\r\\n&quot;\r\n\t\t\t+ &quot;MA0GA1UECgwGVVRPUElBMQ4wDAYDVQQDDAVDU0NBMTAeFw0yMTEwMjAxMjEwMTha\\r\\n&quot;\r\n\t\t\t+ &quot;Fw0yNDEwMTkxMjEwMThaMBoxCzAJBgNVBAYTAlVUMQswCQYDVQQDDAJBMTCCARMw\\r\\n&quot;\r\n\t\t\t+ &quot;gdQGByqGSM49AgEwgcgCAQEwKAYHKoZIzj0BAQIdANfBNKomQ2aGKhgwJXXR14ew\\r\\n&quot;\r\n\t\t\t+ &quot;nwdXl9qJ9X7IwP8wPAQcaKXmLKnObBwpmAOmwVMLUU4YKtiwBCpZytKfQwQcJYD2\\r\\n&quot;\r\n\t\t\t+ &quot;PM/kQTiHBxOxqSNp4z4hNdJm27NyOGxACwQ5BA2QKa0sflz0NAgjsqh9xoyeTOMX\\r\\n&quot;\r\n\t\t\t+ &quot;TB5u/e4SwH1Yqlb3csBybyTGuJ5OzawkNUuemcqj9tN2FALNAh0A18E0qiZDZoYq\\r\\n&quot;\r\n\t\t\t+ &quot;GDAlddD7mNEWvEtt3ryjpaeTnwIBAQM6AATBWidMSa55454DGh7j+IkWfswMr33v\\r\\n&quot;\r\n\t\t\t+ &quot;jwQiNONEo+LRC3+yL5dDcfdCfDQqrMdAC8PfR/8cMVRMJ6M6MDgwHwYDVR0jBBgw\\r\\n&quot;\r\n\t\t\t+ &quot;FoAUCoYRgjvodzM4CDLB5bSdQMEXyBIwFQYDVR0lAQH/BAswCQYHZ4EIAQEOAjAN\\r\\n&quot;\r\n\t\t\t+ &quot;BgkqhkiG9w0BAQsFAAOCAgEAe+CFC4CEPjGx9vDi+zWKCho6QtwGI/MVwWqmgoRS\\r\\n&quot;\r\n\t\t\t+ &quot;UgBgMrtAq/tYeWz8tD6kZzLW8M5PxGLRUyd4oBt2WzdNqHGJ72w4NDeUm33DH40g\\r\\n&quot;\r\n\t\t\t+ &quot;bivStdcHIeYxxNCq1WFiN1oAfqpi+XdzfSgRSSuYY+8sZoGxg2A7ydMIGN4CuWGD\\r\\n&quot;\r\n\t\t\t+ &quot;Op1T/BViespPkZWFo9P8wdetaV3mqjLu7oiDISkfxQhGRFMpOJrw/blxhl5ZgRSh\\r\\n&quot;\r\n\t\t\t+ &quot;Zrvpz8nzMZitxPompJLCL0rHCofLwPRKvFF4W5DQt0n3MWVrXjHtLFC4haO05Ugw\\r\\n&quot;\r\n\t\t\t+ &quot;VQy+KgWwE+AhdkUJGHrSUtEajiscgULU6l/UIuOpmF68VqHvx6EEM7UpLbXXQkuM\\r\\n&quot;\r\n\t\t\t+ &quot;lE+9YWKRj0bssVKtoShw3m+TDsrk1xfGzk6lLPPpcObvdNkRiPufoMCD0Ci8h05S\\r\\n&quot;\r\n\t\t\t+ &quot;oQCWLFLJcOrn8yGVSwaHgbcsuVX15rCneeXIhGbRlnnqjD/Z+vWGh3RleOSvdIDM\\r\\n&quot;\r\n\t\t\t+ &quot;hnYDoRm7gZs0b5hIZ6M9kBqDTf61rraV7+0LzFuWMIq7+ree2eCIeBv26f+LRFXy\\r\\n&quot;\r\n\t\t\t+ &quot;UDGWqEfiZR2ytyY54VUc/ptMVwkz1EethHu2JqZxAp1qkWUci++AZN43Typ/NJ9r\\r\\n&quot;\r\n\t\t\t+ &quot;qZjM5nSSQzQDVvfE8seLe/78mmwmM9pD+NMGxWMpdA0MBwJN0Nzhlcp/rnWKtp7u\\r\\n&quot;\r\n\t\t\t+ &quot;3jo=\\r\\n&quot;\r\n\t\t\t+ &quot;-----END CERTIFICATE-----&quot;;\r\n\t\t\t\t\t\r\n\tSystem.out.println(&quot;valid: &quot; + verifySignature(messNOT, certNOT, rNOT, sNOT));\r\n\tSystem.out.println(&quot;valid: &quot; + verifySignature(messYES, certYES, rYES, sYES));\r\n}\r\n```\r\n\r\nThe output\r\n```none\r\nvalid: false\r\nvalid: true\r\n```\r\n\r\nusing openssl can verify both signature why it does not work in java ?\r\n\r\n","title":"JAVA How to verify ECDSA signature when r or s are negative","body":"<p>I'm writing a chunk of code to check the signature</p>\n<p>My code below works if r and s are positive\nif not the verify fails.</p>\n<p>My code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>PublicKey publicKey = cert.getPublicKey();\nSignature ecdsaVerify = Signature.getInstance(&quot;SHA256withECDSA&quot;, new BouncyCastleProvider());\necdsaVerify.initVerify(publicKey);\necdsaVerify.update(message.getBytes());\nvalid = ecdsaVerify.verify(sigDer);\n</code></pre>\n<p>My signature is created, starting from raw r and s, in der format keep in mind if r or s are negative to add '00' to der format,\nI've also used the BouncyCastle ANS1 class</p>\n<pre class=\"lang-java prettyprint-override\"><code>ASN1EncodableVector v = new ASN1EncodableVector();\nv.add(new ASN1Integer(r));\nv.add(new ASN1Integer(s));          \nDERSequence der = new DERSequence(v);\n</code></pre>\n<p>but still I'm able to verify if r and s are positive i cannot if one of them is negative (the initial byte is greater than 0x80)</p>\n<p>what i've missing?</p>\n<p>-----EDIT-----</p>\n<p>I've created a better code to explain my problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean verifySignature(String messagePlain, String certificatePEM, String rHex, String sHex)\n{\n    boolean valid = false;\n    Security.addProvider(new BouncyCastleProvider());\n        \n    try \n    {       \n        BigInteger r = new BigInteger(rHex, 16);\n        BigInteger s = new BigInteger(sHex, 16);\n\n        ASN1EncodableVector v = new ASN1EncodableVector();\n        v.add(new ASN1Integer(r));\n        v.add(new ASN1Integer(s));          \n        DERSequence der = new DERSequence(v);\n        byte[] signature = der.getEncoded();\n\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;, new BouncyCastleProvider());\n        InputStream certStream = new ByteArrayInputStream(certificatePEM.getBytes());\n        X509Certificate x509cert  = (X509Certificate)cf.generateCertificate(certStream);\n            \n        PublicKey publicKey = x509cert.getPublicKey();\n        Signature ecdsaVerify = Signature.getInstance(&quot;SHA256withECDSA&quot;, new BouncyCastleProvider());\n        ecdsaVerify.initVerify(publicKey);\n        ecdsaVerify.update(messagePlain.getBytes());\n        valid = ecdsaVerify.verify(signature);\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (CertificateException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (SignatureException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (NoSuchAlgorithmException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (InvalidKeyException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return valid;\n}\n</code></pre>\n<p>My Main</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main( String[] args )\n{       \n    String messNOT = &quot;dc03d9c5676cc8a76b59214b86214b865d01022cdd518622c721967c7c23abbc133c133c133c133c133c133c2c651a2419a64d4a598d19cd202326752cdefe3204031f00000506675b20383373&quot;;\n    String rNOT = &quot;663e5dd196f22f03e3aba8f6652d1ca92d207088911987f44048a4b85ec36e91&quot;;\n    String sNOT = &quot;84c4ca1678dce85b19b2ddb378f4a1df878cec21ce6fbab9292576281602041d&quot;;\n    String certNOT =&quot;-----BEGIN CERTIFICATE-----\\r\\n&quot;\n            + &quot;MIICzDCCAlOgAwIBAgICANMwCgYIKoZIzj0EAwMwdjELMAkGA1UEBhMCQ0gxDjAM\\r\\n&quot;\n            + &quot;BgNVBAoMBUFkbWluMREwDwYDVQQLDAhTZXJ2aWNlczEiMCAGA1UECwwZQ2VydGlm\\r\\n&quot;\n            + &quot;aWNhdGlvbiBBdXRob3JpdGllczEgMB4GA1UEAwwXYWJuYS1jc2NhLXN3aXR6ZXJs\\r\\n&quot;\n            + &quot;YW5kLTIwHhcNMjIwMjA5MTQxNDM2WhcNMjgwMjE0MTQxNDM2WjAaMQswCQYDVQQG\\r\\n&quot;\n            + &quot;EwJDSDELMAkGA1UEAxMCVlMwggEzMIHsBgcqhkjOPQIBMIHgAgEBMCwGByqGSM49\\r\\n&quot;\n            + &quot;AQECIQCp+1fboe6pvD5mCpCdg41ybjv2I9UmICggE0gdH25TdzBEBCB9Wgl1/Cww\\r\\n&quot;\n            + &quot;V+72dTBBev/n+4BVwSbcXGzpSktE8zC12QQgJtxcbOlKS0TzMLXZu9d8v5WEFilc\\r\\n&quot;\n            + &quot;9+HOa8zcGP+MB7YEQQSL0q65y35XyyxLSC/8gbevud4n4eO9I8I6RFO9ms4yYlR+\\r\\n&quot;\n            + &quot;+DXD2sT9l/hGGhRhHcnCd0UTLe2OVFwdVMcvBGmXAiEAqftX26Huqbw+ZgqQnYON\\r\\n&quot;\n            + &quot;cYw5eqO1Yab3kB4OgpdIVqcCAQEDQgAEEw6HdjvJQhXyiitwaWZ4DmypigCjdJen\\r\\n&quot;\n            + &quot;oRjW7Tz3n1Mlqf2dwwgYcwHB7N6zvLpQ2aZmILOicbyvSKHCZHaztqNRME8wHwYD\\r\\n&quot;\n            + &quot;VR0jBBgwFoAU5/zrAS4O3jj5DvGKXM5XDxMEyXMwFQYHZ4EIAQEGAgQKMAgCAQAx\\r\\n&quot;\n            + &quot;AxMBVjAVBgNVHSUBAf8ECzAJBgdngQgBAQsBMAoGCCqGSM49BAMDA2cAMGQCMEG4\\r\\n&quot;\n            + &quot;zJn2/N85NLsDM58+jB0oyFTB152gPyAcdhq04gLpXynW2qbSNfE6Fgw34Qm+vAIw\\r\\n&quot;\n            + &quot;AZSAdepOu4r6T+hj1p8Q3HFlSvlByjpr/b2VNiMXup6v3O7BnGqbyRFgMlc3c/BB\\r\\n&quot;\n            + &quot;-----END CERTIFICATE-----&quot;;\n        \n    String messYES = &quot;dc03d9c5d9b71fe6fe336de4e53214665d01022cdb5bd2b3c549cd1da93c5bd458135c6f57fc133c133c133c9e2e4d0d28043132b09e1ae53f5c52853f78fe370403900000050659e9269f2cb8&quot;;\n    String rYES = &quot;473c2e821b49bffc32e49cb7ed5f0645a32ad76c8258ebd4ec9aca56&quot;;\n    String sYES = &quot;77c7e16920143444cf68d3891436b1a0189e08d06b104fdb247cd3ef&quot;;\n    String certYES =&quot;-----BEGIN CERTIFICATE-----\\r\\n&quot;\n            + &quot;MIID7jCCAdagAwIBAgIBAjANBgkqhkiG9w0BAQsFADAuMQswCQYDVQQGEwJVVDEP\\r\\n&quot;\n            + &quot;MA0GA1UECgwGVVRPUElBMQ4wDAYDVQQDDAVDU0NBMTAeFw0yMTEwMjAxMjEwMTha\\r\\n&quot;\n            + &quot;Fw0yNDEwMTkxMjEwMThaMBoxCzAJBgNVBAYTAlVUMQswCQYDVQQDDAJBMTCCARMw\\r\\n&quot;\n            + &quot;gdQGByqGSM49AgEwgcgCAQEwKAYHKoZIzj0BAQIdANfBNKomQ2aGKhgwJXXR14ew\\r\\n&quot;\n            + &quot;nwdXl9qJ9X7IwP8wPAQcaKXmLKnObBwpmAOmwVMLUU4YKtiwBCpZytKfQwQcJYD2\\r\\n&quot;\n            + &quot;PM/kQTiHBxOxqSNp4z4hNdJm27NyOGxACwQ5BA2QKa0sflz0NAgjsqh9xoyeTOMX\\r\\n&quot;\n            + &quot;TB5u/e4SwH1Yqlb3csBybyTGuJ5OzawkNUuemcqj9tN2FALNAh0A18E0qiZDZoYq\\r\\n&quot;\n            + &quot;GDAlddD7mNEWvEtt3ryjpaeTnwIBAQM6AATBWidMSa55454DGh7j+IkWfswMr33v\\r\\n&quot;\n            + &quot;jwQiNONEo+LRC3+yL5dDcfdCfDQqrMdAC8PfR/8cMVRMJ6M6MDgwHwYDVR0jBBgw\\r\\n&quot;\n            + &quot;FoAUCoYRgjvodzM4CDLB5bSdQMEXyBIwFQYDVR0lAQH/BAswCQYHZ4EIAQEOAjAN\\r\\n&quot;\n            + &quot;BgkqhkiG9w0BAQsFAAOCAgEAe+CFC4CEPjGx9vDi+zWKCho6QtwGI/MVwWqmgoRS\\r\\n&quot;\n            + &quot;UgBgMrtAq/tYeWz8tD6kZzLW8M5PxGLRUyd4oBt2WzdNqHGJ72w4NDeUm33DH40g\\r\\n&quot;\n            + &quot;bivStdcHIeYxxNCq1WFiN1oAfqpi+XdzfSgRSSuYY+8sZoGxg2A7ydMIGN4CuWGD\\r\\n&quot;\n            + &quot;Op1T/BViespPkZWFo9P8wdetaV3mqjLu7oiDISkfxQhGRFMpOJrw/blxhl5ZgRSh\\r\\n&quot;\n            + &quot;Zrvpz8nzMZitxPompJLCL0rHCofLwPRKvFF4W5DQt0n3MWVrXjHtLFC4haO05Ugw\\r\\n&quot;\n            + &quot;VQy+KgWwE+AhdkUJGHrSUtEajiscgULU6l/UIuOpmF68VqHvx6EEM7UpLbXXQkuM\\r\\n&quot;\n            + &quot;lE+9YWKRj0bssVKtoShw3m+TDsrk1xfGzk6lLPPpcObvdNkRiPufoMCD0Ci8h05S\\r\\n&quot;\n            + &quot;oQCWLFLJcOrn8yGVSwaHgbcsuVX15rCneeXIhGbRlnnqjD/Z+vWGh3RleOSvdIDM\\r\\n&quot;\n            + &quot;hnYDoRm7gZs0b5hIZ6M9kBqDTf61rraV7+0LzFuWMIq7+ree2eCIeBv26f+LRFXy\\r\\n&quot;\n            + &quot;UDGWqEfiZR2ytyY54VUc/ptMVwkz1EethHu2JqZxAp1qkWUci++AZN43Typ/NJ9r\\r\\n&quot;\n            + &quot;qZjM5nSSQzQDVvfE8seLe/78mmwmM9pD+NMGxWMpdA0MBwJN0Nzhlcp/rnWKtp7u\\r\\n&quot;\n            + &quot;3jo=\\r\\n&quot;\n            + &quot;-----END CERTIFICATE-----&quot;;\n                    \n    System.out.println(&quot;valid: &quot; + verifySignature(messNOT, certNOT, rNOT, sNOT));\n    System.out.println(&quot;valid: &quot; + verifySignature(messYES, certYES, rYES, sYES));\n}\n</code></pre>\n<p>The output</p>\n<pre class=\"lang-none prettyprint-override\"><code>valid: false\nvalid: true\n</code></pre>\n<p>using openssl can verify both signature why it does not work in java ?</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","android-dialogfragment"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1648554393,"post_id":71661361,"comment_id":126648715,"body_markdown":"`I need to pass the onclick event from my DialogFragment back to my RecyclerView Adapter.` this doesn&#39;t sound correct, your adapter shouldn&#39;t be creating any dialogs, it should make use of a callback to your fragment so that the fragment opens a dialog and then the feedback from the dialog can go to the fragment, not back to the adapter","body":"<code>I need to pass the onclick event from my DialogFragment back to my RecyclerView Adapter.</code> this doesn&#39;t sound correct, your adapter shouldn&#39;t be creating any dialogs, it should make use of a callback to your fragment so that the fragment opens a dialog and then the feedback from the dialog can go to the fragment, not back to the adapter"}],"answers":[{"tags":[],"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648554783,"creation_date":1648554783,"answer_id":71661531,"question_id":71661361,"body_markdown":"Ideal Way to do this to create all UI component in `Fragment` not in the adapter . Create an interface to handle events in the fragment and provide callback to the fragment from adapter. now your Fragment should create all the UI component .\r\n\r\n\r\nNow coming to the \r\n\r\n\r\n&gt; How to provide callback from dialog fragment to Fragment.\r\n\r\nYou can use `setTargetFragment` but its [deprecated](https://stackoverflow.com/questions/64869501/how-to-replace-settargetfragment-now-that-it-is-deprecated) . Now you can use  [setFragmentResultListener](https://developer.android.com/reference/androidx/fragment/app/FragmentManager#setFragmentResultListener(java.lang.String,%20androidx.lifecycle.LifecycleOwner,%20androidx.fragment.app.FragmentResultListener)) instead of setTargetFragment(), its the safest way i think. Once you get the result back in fragment you can call any method of your adapter. ","title":"Passing events from DialogFragment back to RecyclerView Adapter","body":"<p>Ideal Way to do this to create all UI component in <code>Fragment</code> not in the adapter . Create an interface to handle events in the fragment and provide callback to the fragment from adapter. now your Fragment should create all the UI component .</p>\n<p>Now coming to the</p>\n<blockquote>\n<p>How to provide callback from dialog fragment to Fragment.</p>\n</blockquote>\n<p>You can use <code>setTargetFragment</code> but its <a href=\"https://stackoverflow.com/questions/64869501/how-to-replace-settargetfragment-now-that-it-is-deprecated\">deprecated</a> . Now you can use  <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentManager#setFragmentResultListener(java.lang.String,%20androidx.lifecycle.LifecycleOwner,%20androidx.fragment.app.FragmentResultListener)\" rel=\"nofollow noreferrer\">setFragmentResultListener</a> instead of setTargetFragment(), its the safest way i think. Once you get the result back in fragment you can call any method of your adapter.</p>\n"}],"owner":{"account_id":11451021,"reputation":269,"user_id":8393413,"display_name":"Pezcraft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648554783,"creation_date":1648554052,"question_id":71661361,"body_markdown":"My fragment has a Recycler View. Therefore I have a RecyclerView Adapter too. From this Adapter, I am opening an AlertDialog. When I click OK, I need to pass the onclick event from my DialogFragment back to my RecyclerView Adapter.\r\n\r\nCurrently, I am doing it like [here][1], but this passes the event back to the activity and not to the RecyclerView Adapter.\r\n\r\n```java\r\npublic class FreshwaterRecyclerViewAdapter extends RecyclerView.Adapter&lt;FreshwaterRecyclerViewAdapter.ViewHolder&gt; implements BiotopeDialogFragment.NoticeDialogListener {\r\n    private List&lt;Biotope&gt; data;\r\n    private LayoutInflater layoutInflater;\r\n\r\n    FreshwaterRecyclerViewAdapter(Context context, List&lt;Biotope&gt; data) {\r\n        this.layoutInflater = LayoutInflater.from(context);\r\n        this.data = data;\r\n    }\r\n\r\n    //The dialog fragment receives a reference to this Activity through the\r\n    //Fragment.onAttach() callback, which it uses to call the following methods\r\n    //defined by the NoticeDialogFragment.NoticeDialogListener interface\r\n    @Override\r\n    public void onDialogPositiveClick(DialogFragment dialog) {\r\n        notifyItemInserted(getItemCount()-1);\r\n    }\r\n\r\n    @Override\r\n    public void onDialogNegativeClick(DialogFragment dialog) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View itemView;\r\n        if (viewType == R.layout.biotope_cardview){\r\n            itemView = layoutInflater.inflate(R.layout.biotope_cardview, parent, false);\r\n        } else {\r\n            itemView = layoutInflater.inflate(R.layout.biotope_add_button, parent, false);\r\n        }\r\n\r\n        return new ViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        if (position == data.size()) {\r\n            holder.imageButtonAddBiotope.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    FragmentManager fragmentManager = ((AppCompatActivity) layoutInflater.getContext()).getSupportFragmentManager();\r\n                    DialogFragment dialog = new BiotopeDialogFragment();\r\n                    dialog.show(fragmentManager, &quot;NoticeDialogFragment&quot;);\r\n                }\r\n            });\r\n        } else {\r\n            holder.textViewBiotopeTitle.setText(getItem(position).name);\r\n        Picasso.get().load(Uri.parse(getItem(position).imageUri)).into(holder.imageViewBiotope);\r\n\r\n            LastValuesRecyclerViewAdapter recyclerAdapter = new LastValuesRecyclerViewAdapter(layoutInflater.getContext(), getData());\r\n            holder.recyclerViewLastValues.setLayoutManager(new LinearLayoutManager(layoutInflater.getContext(), LinearLayoutManager.HORIZONTAL, false));\r\n            holder.recyclerViewLastValues.setAdapter(recyclerAdapter);\r\n        }\r\n    }\r\n\r\n    //total number of rows\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size() + 1;     //+1 for the add button\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return (position == data.size()) ? R.layout.biotope_add_button : R.layout.biotope_cardview;\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        private TextView textViewBiotopeTitle;\r\n        private ImageView imageViewBiotope;\r\n        private RecyclerView recyclerViewLastValues;\r\n        private ImageButton imageButtonAddBiotope;\r\n\r\n        public ViewHolder(View view) {\r\n            super(view);\r\n            textViewBiotopeTitle = (TextView) view.findViewById(R.id.textViewBiotopeTitle);\r\n            imageViewBiotope = (ImageView) view.findViewById(R.id.imageViewBiotopeCardview);\r\n            recyclerViewLastValues = (RecyclerView) view.findViewById(R.id.recyclerViewLastValues);\r\n            imageButtonAddBiotope = (ImageButton) view.findViewById(R.id.imageButtonAddBiotope);\r\n        }\r\n    }\r\n\r\n    Biotope getItem(int id) {\r\n        return data.get(id);\r\n    }\r\n\r\n    private List&lt;String&gt; getData() {\r\n        List&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        data.add(&quot;PO4&quot;);\r\n        data.add(&quot;NO3&quot;);\r\n\r\n        return data;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is my dialog.\r\n```java\r\npublic class BiotopeDialogFragment extends DialogFragment {\r\n\r\n    private NoticeDialogListener listener;\r\n    public interface NoticeDialogListener {\r\n        public void onDialogPositiveClick(DialogFragment dialog);\r\n        public void onDialogNegativeClick(DialogFragment dialog);\r\n    }\r\n\r\n    //Override the Fragment.onAttach() method to instantiate the NoticeDialogListener\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n\r\n        //Verify that the host activity implements the callback interface\r\n        try {\r\n            //Instantiate the NoticeDialogListener so we can send events to the host\r\n            listener = (NoticeDialogListener) context;\r\n        } catch (ClassCastException e) {\r\n            //The activity doesn&#39;t implement the interface, throw exception\r\n            throw new ClassCastException(&quot;FreshwaterRecyclerViewAdapter must implement NoticeDialogListener | Context: &quot; + context.toString());\r\n        }\r\n    }\r\n\r\n    public static final String TAG = &quot;biotope_dialog_fragment&quot;;\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n\r\n    private Uri imageUri = null;\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(getContext());\r\n        LayoutInflater inflater = requireActivity().getLayoutInflater();\r\n\r\n        //Inflate and set the layout for the dialog\r\n        //Pass null as the parent view because its going in the dialog layout\r\n        View view = inflater.inflate(R.layout.fragment_dialog_biotope, null, false);\r\n        builder.setView(view);\r\n\r\n        View colorPickerPreviewView = view.findViewById(R.id.colorPickerPreviewView);\r\n        ColorPickerView colorPickerView = view.findViewById(R.id.colorPickerView);\r\n        ImageView imageViewBiotope = view.findViewById(R.id.imageViewBiotopePreview);\r\n        TextInputEditText textFieldBiotopeName = view.findViewById(R.id.textFieldBiotopeName);\r\n\r\n        builder.setTitle(&quot;New biotope&quot;)\r\n                .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        BiotopeDatabase database = BiotopeDatabase.getDbInstance(requireContext().getApplicationContext());\r\n\r\n                        Biotope biotope = new Biotope();\r\n                        if (textFieldBiotopeName.getText() != null) {\r\n                            biotope.name = textFieldBiotopeName.getText().toString();\r\n                        } else {\r\n                            biotope.name = &quot;&quot;;\r\n                        }\r\n\r\n                        if (imageUri != null) {\r\n                            biotope.imageUri = imageUri.toString();\r\n                        } else {\r\n                            biotope.imageUri = &quot;&quot;;\r\n                        }\r\n\r\n                        biotope.color = colorPickerView.getColor();\r\n\r\n                        database.biotopeDao().insertAll(biotope);\r\n\r\n                        //Send the positive button event back to the host activity\r\n                        listener.onDialogPositiveClick(BiotopeDialogFragment.this);\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;noke&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        //Send the negative button event back to the host activity\r\n                        listener.onDialogNegativeClick(BiotopeDialogFragment.this);\r\n\r\n                        Objects.requireNonNull(BiotopeDialogFragment.this.getDialog()).cancel();\r\n                    }\r\n                });\r\n\r\n\r\n        return builder.create();\r\n    }\r\n\r\n    public static BiotopeDialogFragment display(FragmentManager fragmentManager) {\r\n        BiotopeDialogFragment fragment = new BiotopeDialogFragment();\r\n        fragment.show(fragmentManager, TAG);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is my fragment building the RecyclerView. Alternatively, I can pass the event back to the fragment if it is not possible to pass it to the adapter.\r\n```java\r\npublic class BiotopesFragment extends Fragment {\r\n    private FreshwaterRecyclerViewAdapter recyclerAdapter;\r\n\r\n    public static BiotopesFragment newInstance(String param1, String param2) {\r\n        BiotopesFragment fragment = new BiotopesFragment();\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View root = inflater.inflate(R.layout.fragment_biotopes, container, false);\r\n\r\n        RecyclerView recyclerViewFreshwater = (RecyclerView) root.findViewById(R.id.recyclerViewFreshwater);\r\n        recyclerAdapter = new FreshwaterRecyclerViewAdapter(getContext(), getData());\r\n        recyclerViewFreshwater.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));\r\n        recyclerViewFreshwater.setAdapter(recyclerAdapter);\r\n\r\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(getContext(), DividerItemDecoration.VERTICAL);\r\n        recyclerViewFreshwater.addItemDecoration(dividerItemDecoration);\r\n\r\n        ItemTouchHelper itemTouchHelper = new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(ItemTouchHelper.START | ItemTouchHelper.END, 0) {\r\n            @Override\r\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                int fromPosition = viewHolder.getAdapterPosition();\r\n                int toPosition = target.getAdapterPosition();\r\n                Collections.swap(getData(), fromPosition, toPosition);\r\n                recyclerView.getAdapter().notifyItemMoved(fromPosition, toPosition);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n\r\n            }\r\n        });\r\n        itemTouchHelper.attachToRecyclerView(recyclerViewFreshwater);\r\n\r\n        return root;\r\n    }\r\n\r\n    private List&lt;Biotope&gt; getData() {\r\n        BiotopeDatabase database = BiotopeDatabase.getDbInstance(requireContext().getApplicationContext());\r\n        BiotopeDao biotopeDao = database.biotopeDao();\r\n        return biotopeDao.getAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/dialogs#PassingEvents","title":"Passing events from DialogFragment back to RecyclerView Adapter","body":"<p>My fragment has a Recycler View. Therefore I have a RecyclerView Adapter too. From this Adapter, I am opening an AlertDialog. When I click OK, I need to pass the onclick event from my DialogFragment back to my RecyclerView Adapter.</p>\n<p>Currently, I am doing it like <a href=\"https://developer.android.com/guide/topics/ui/dialogs#PassingEvents\" rel=\"nofollow noreferrer\">here</a>, but this passes the event back to the activity and not to the RecyclerView Adapter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FreshwaterRecyclerViewAdapter extends RecyclerView.Adapter&lt;FreshwaterRecyclerViewAdapter.ViewHolder&gt; implements BiotopeDialogFragment.NoticeDialogListener {\n    private List&lt;Biotope&gt; data;\n    private LayoutInflater layoutInflater;\n\n    FreshwaterRecyclerViewAdapter(Context context, List&lt;Biotope&gt; data) {\n        this.layoutInflater = LayoutInflater.from(context);\n        this.data = data;\n    }\n\n    //The dialog fragment receives a reference to this Activity through the\n    //Fragment.onAttach() callback, which it uses to call the following methods\n    //defined by the NoticeDialogFragment.NoticeDialogListener interface\n    @Override\n    public void onDialogPositiveClick(DialogFragment dialog) {\n        notifyItemInserted(getItemCount()-1);\n    }\n\n    @Override\n    public void onDialogNegativeClick(DialogFragment dialog) {\n\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View itemView;\n        if (viewType == R.layout.biotope_cardview){\n            itemView = layoutInflater.inflate(R.layout.biotope_cardview, parent, false);\n        } else {\n            itemView = layoutInflater.inflate(R.layout.biotope_add_button, parent, false);\n        }\n\n        return new ViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        if (position == data.size()) {\n            holder.imageButtonAddBiotope.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    FragmentManager fragmentManager = ((AppCompatActivity) layoutInflater.getContext()).getSupportFragmentManager();\n                    DialogFragment dialog = new BiotopeDialogFragment();\n                    dialog.show(fragmentManager, &quot;NoticeDialogFragment&quot;);\n                }\n            });\n        } else {\n            holder.textViewBiotopeTitle.setText(getItem(position).name);\n        Picasso.get().load(Uri.parse(getItem(position).imageUri)).into(holder.imageViewBiotope);\n\n            LastValuesRecyclerViewAdapter recyclerAdapter = new LastValuesRecyclerViewAdapter(layoutInflater.getContext(), getData());\n            holder.recyclerViewLastValues.setLayoutManager(new LinearLayoutManager(layoutInflater.getContext(), LinearLayoutManager.HORIZONTAL, false));\n            holder.recyclerViewLastValues.setAdapter(recyclerAdapter);\n        }\n    }\n\n    //total number of rows\n    @Override\n    public int getItemCount() {\n        return data.size() + 1;     //+1 for the add button\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return (position == data.size()) ? R.layout.biotope_add_button : R.layout.biotope_cardview;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView textViewBiotopeTitle;\n        private ImageView imageViewBiotope;\n        private RecyclerView recyclerViewLastValues;\n        private ImageButton imageButtonAddBiotope;\n\n        public ViewHolder(View view) {\n            super(view);\n            textViewBiotopeTitle = (TextView) view.findViewById(R.id.textViewBiotopeTitle);\n            imageViewBiotope = (ImageView) view.findViewById(R.id.imageViewBiotopeCardview);\n            recyclerViewLastValues = (RecyclerView) view.findViewById(R.id.recyclerViewLastValues);\n            imageButtonAddBiotope = (ImageButton) view.findViewById(R.id.imageButtonAddBiotope);\n        }\n    }\n\n    Biotope getItem(int id) {\n        return data.get(id);\n    }\n\n    private List&lt;String&gt; getData() {\n        List&lt;String&gt; data = new ArrayList&lt;&gt;();\n\n        data.add(&quot;PO4&quot;);\n        data.add(&quot;NO3&quot;);\n\n        return data;\n    }\n\n}\n</code></pre>\n<p>This is my dialog.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BiotopeDialogFragment extends DialogFragment {\n\n    private NoticeDialogListener listener;\n    public interface NoticeDialogListener {\n        public void onDialogPositiveClick(DialogFragment dialog);\n        public void onDialogNegativeClick(DialogFragment dialog);\n    }\n\n    //Override the Fragment.onAttach() method to instantiate the NoticeDialogListener\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n\n        //Verify that the host activity implements the callback interface\n        try {\n            //Instantiate the NoticeDialogListener so we can send events to the host\n            listener = (NoticeDialogListener) context;\n        } catch (ClassCastException e) {\n            //The activity doesn't implement the interface, throw exception\n            throw new ClassCastException(&quot;FreshwaterRecyclerViewAdapter must implement NoticeDialogListener | Context: &quot; + context.toString());\n        }\n    }\n\n    public static final String TAG = &quot;biotope_dialog_fragment&quot;;\n\n    private ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n\n    private Uri imageUri = null;\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(getContext());\n        LayoutInflater inflater = requireActivity().getLayoutInflater();\n\n        //Inflate and set the layout for the dialog\n        //Pass null as the parent view because its going in the dialog layout\n        View view = inflater.inflate(R.layout.fragment_dialog_biotope, null, false);\n        builder.setView(view);\n\n        View colorPickerPreviewView = view.findViewById(R.id.colorPickerPreviewView);\n        ColorPickerView colorPickerView = view.findViewById(R.id.colorPickerView);\n        ImageView imageViewBiotope = view.findViewById(R.id.imageViewBiotopePreview);\n        TextInputEditText textFieldBiotopeName = view.findViewById(R.id.textFieldBiotopeName);\n\n        builder.setTitle(&quot;New biotope&quot;)\n                .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int id) {\n                        BiotopeDatabase database = BiotopeDatabase.getDbInstance(requireContext().getApplicationContext());\n\n                        Biotope biotope = new Biotope();\n                        if (textFieldBiotopeName.getText() != null) {\n                            biotope.name = textFieldBiotopeName.getText().toString();\n                        } else {\n                            biotope.name = &quot;&quot;;\n                        }\n\n                        if (imageUri != null) {\n                            biotope.imageUri = imageUri.toString();\n                        } else {\n                            biotope.imageUri = &quot;&quot;;\n                        }\n\n                        biotope.color = colorPickerView.getColor();\n\n                        database.biotopeDao().insertAll(biotope);\n\n                        //Send the positive button event back to the host activity\n                        listener.onDialogPositiveClick(BiotopeDialogFragment.this);\n                    }\n                })\n                .setNegativeButton(&quot;noke&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        //Send the negative button event back to the host activity\n                        listener.onDialogNegativeClick(BiotopeDialogFragment.this);\n\n                        Objects.requireNonNull(BiotopeDialogFragment.this.getDialog()).cancel();\n                    }\n                });\n\n\n        return builder.create();\n    }\n\n    public static BiotopeDialogFragment display(FragmentManager fragmentManager) {\n        BiotopeDialogFragment fragment = new BiotopeDialogFragment();\n        fragment.show(fragmentManager, TAG);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n    }\n\n}\n</code></pre>\n<p>This is my fragment building the RecyclerView. Alternatively, I can pass the event back to the fragment if it is not possible to pass it to the adapter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BiotopesFragment extends Fragment {\n    private FreshwaterRecyclerViewAdapter recyclerAdapter;\n\n    public static BiotopesFragment newInstance(String param1, String param2) {\n        BiotopesFragment fragment = new BiotopesFragment();\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View root = inflater.inflate(R.layout.fragment_biotopes, container, false);\n\n        RecyclerView recyclerViewFreshwater = (RecyclerView) root.findViewById(R.id.recyclerViewFreshwater);\n        recyclerAdapter = new FreshwaterRecyclerViewAdapter(getContext(), getData());\n        recyclerViewFreshwater.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));\n        recyclerViewFreshwater.setAdapter(recyclerAdapter);\n\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(getContext(), DividerItemDecoration.VERTICAL);\n        recyclerViewFreshwater.addItemDecoration(dividerItemDecoration);\n\n        ItemTouchHelper itemTouchHelper = new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(ItemTouchHelper.START | ItemTouchHelper.END, 0) {\n            @Override\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n                int fromPosition = viewHolder.getAdapterPosition();\n                int toPosition = target.getAdapterPosition();\n                Collections.swap(getData(), fromPosition, toPosition);\n                recyclerView.getAdapter().notifyItemMoved(fromPosition, toPosition);\n                return false;\n            }\n\n            @Override\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n\n            }\n        });\n        itemTouchHelper.attachToRecyclerView(recyclerViewFreshwater);\n\n        return root;\n    }\n\n    private List&lt;Biotope&gt; getData() {\n        BiotopeDatabase database = BiotopeDatabase.getDbInstance(requireContext().getApplicationContext());\n        BiotopeDao biotopeDao = database.biotopeDao();\n        return biotopeDao.getAll();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","selenium","maven","testng"],"answers":[{"tags":[],"owner":{"account_id":16500112,"reputation":39,"user_id":11921639,"display_name":"Mohsin Muazzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648554691,"creation_date":1648554691,"answer_id":71661509,"question_id":71557220,"body_markdown":"I was able to get TestNG working by creating separate jars for tests and dependencies using the following plugins:\r\n\r\n``` \r\n          &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.myorg.myMainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;finalName&gt;my-test-jar&lt;/finalName&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                             &lt;mainClass&gt;com.myorg.myMainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nThe spring server was run using separate jar and test were run using test and dependency jar.\r\nUsing the command\r\n```\r\n java -classpath myjar-with-dependencies.jar;my-test-jar-tests.jar org.testng.TestNG -testjar my-test-jar-tests.jar -xmlpathinjar testng.xml\r\n```","title":"TestNG classNot found with wrong name","body":"<p>I was able to get TestNG working by creating separate jars for tests and dependencies using the following plugins:</p>\n<pre><code>          &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.myorg.myMainClass&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                        &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\n                        &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;my-test-jar&lt;/finalName&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                             &lt;mainClass&gt;com.myorg.myMainClass&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>The spring server was run using separate jar and test were run using test and dependency jar.\nUsing the command</p>\n<pre><code> java -classpath myjar-with-dependencies.jar;my-test-jar-tests.jar org.testng.TestNG -testjar my-test-jar-tests.jar -xmlpathinjar testng.xml\n</code></pre>\n"}],"owner":{"account_id":16500112,"reputation":39,"user_id":11921639,"display_name":"Mohsin Muazzam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71661509,"answer_count":1,"score":0,"last_activity_date":1648554691,"creation_date":1647863665,"question_id":71557220,"body_markdown":"I am trying to run my TestNG test using my executable jar file which contains the test classes and testng.xml file via command line. I am using the following command\r\n```\r\njava -classpath C:\\Users\\user\\.m2\\repository\\org\\testng\\testng\\7.0.0\\testng-7.0.0.jar;C:\\Users\\user\\.m2\\repository\\com\\beust\\jcommander\\1.72\\jcommander-1.72.jar;D:\\MyProject\\target\\myjar.jar org.testng.TestNG -testjar D:\\MyProject\\target\\myjar.jar -xmlpathinjar BOOT-INF/classes/testng.xml\r\n```\r\n\r\nIt gives me the following exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/MyProject/common/ParticularClass (wrong name: BOOT-INF/classes/com/MyProject/common/ParticularClass)\r\n```\r\n\r\nI have generated my jar file with **spring boot maven plugin** and have verified that testng.xml, ParticularClass is present in the jar file.","title":"TestNG classNot found with wrong name","body":"<p>I am trying to run my TestNG test using my executable jar file which contains the test classes and testng.xml file via command line. I am using the following command</p>\n<pre><code>java -classpath C:\\Users\\user\\.m2\\repository\\org\\testng\\testng\\7.0.0\\testng-7.0.0.jar;C:\\Users\\user\\.m2\\repository\\com\\beust\\jcommander\\1.72\\jcommander-1.72.jar;D:\\MyProject\\target\\myjar.jar org.testng.TestNG -testjar D:\\MyProject\\target\\myjar.jar -xmlpathinjar BOOT-INF/classes/testng.xml\n</code></pre>\n<p>It gives me the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/MyProject/common/ParticularClass (wrong name: BOOT-INF/classes/com/MyProject/common/ParticularClass)\n</code></pre>\n<p>I have generated my jar file with <strong>spring boot maven plugin</strong> and have verified that testng.xml, ParticularClass is present in the jar file.</p>\n"},{"tags":["java","discord","bots"],"comments":[{"owner":{"account_id":14260298,"reputation":784,"user_id":10301322,"display_name":"CcmU"},"score":0,"creation_date":1631114773,"post_id":69105643,"comment_id":122138007,"body_markdown":"Have you tried to print something? Is the channel id correct? Where and how you create this listener? Please, improve your question to have a [mre](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Have you tried to print something? Is the channel id correct? Where and how you create this listener? Please, improve your question to have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mre</a>"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1631118111,"post_id":69105643,"comment_id":122139457,"body_markdown":"https://github.com/DV8FromTheWorld/JDA/wiki/19)-Troubleshooting#my-event-listener-code-is-not-executed","body":"<a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/19)-Troubleshooting#my-event-listener-code-is-not-executed\" rel=\"nofollow noreferrer\">github.com/DV8FromTheWorld/JDA/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24732204,"reputation":21,"user_id":18620050,"display_name":"Jordan Royle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648554355,"creation_date":1648554355,"answer_id":71661437,"question_id":69105643,"body_markdown":"I manged to get it working, I have a main startup class for my bot that links all my commands to this one class for easier coding(see below)\r\n\r\npublic class BotStartup {\r\n\r\n\tpublic static void main(String[] args) throws LoginException {\r\n\t\t\tJDABuilder jda = JDABuilder.createDefault(&quot;YOUR BOT TOKEN&quot;);\r\n\t\t\t\r\n\t\t\tjda.setActivity(Activity.playing(&quot;STATUS&quot;));\r\n\t\t\tjda.setStatus(OnlineStatus.ONLINE);\r\n\t\t\tjda.addEventListeners(new messages());\r\n\t\t\tjda.addEventListeners(new events());\r\n\t\t\tjda.addEventListeners(new Clear());\r\n\t\t\tjda.addEventListeners(new onJoin());\r\n\t\t\tjda.setChunkingFilter(ChunkingFilter.ALL);\r\n\t\t\tjda.setMemberCachePolicy(MemberCachePolicy.ALL);\r\n\t\t\tjda.enableIntents(GatewayIntent.GUILD_MEMBERS);\r\n\t\t\tjda.build();\r\n\t\r\n\r\n\r\n\r\nonJoin is the class ive named with your code its the same code just a different class name (see below)\r\n\r\n    public class onJoin extends ListenerAdapter {\r\n    @Override\r\n    public void onGuildVoiceJoin(GuildVoiceJoinEvent event){\r\n        event.getGuild().getTextChannelById(&quot;527272203721637890&quot;).sendMessage(event.getVoiceState() + &quot;joined voice channel&quot; + event.getChannelJoined() + &quot;.&quot;).queue();\r\n    }\r\n}\r\n\r\nAs you can see in the first image ive used ---\r\njda.addEventListeners(new onJoin());---\r\nThis links the command to the start up, id advised doing this aswell as it means for easier coding linking.\r\n\r\nThis is the outcome\r\nVS:*DISCORD SERVER*:*MyDiscordName* joined voice channelVC:&#128081;General Chat - Main(*CHAT ID*).\r\n\r\n\r\n\r\nHope This Helped! :)\r\n","title":"Discord Bot message when user joins voice call","body":"<p>I manged to get it working, I have a main startup class for my bot that links all my commands to this one class for easier coding(see below)</p>\n<p>public class BotStartup {</p>\n<pre><code>public static void main(String[] args) throws LoginException {\n        JDABuilder jda = JDABuilder.createDefault(&quot;YOUR BOT TOKEN&quot;);\n        \n        jda.setActivity(Activity.playing(&quot;STATUS&quot;));\n        jda.setStatus(OnlineStatus.ONLINE);\n        jda.addEventListeners(new messages());\n        jda.addEventListeners(new events());\n        jda.addEventListeners(new Clear());\n        jda.addEventListeners(new onJoin());\n        jda.setChunkingFilter(ChunkingFilter.ALL);\n        jda.setMemberCachePolicy(MemberCachePolicy.ALL);\n        jda.enableIntents(GatewayIntent.GUILD_MEMBERS);\n        jda.build();\n</code></pre>\n<p>onJoin is the class ive named with your code its the same code just a different class name (see below)</p>\n<pre><code>public class onJoin extends ListenerAdapter {\n@Override\npublic void onGuildVoiceJoin(GuildVoiceJoinEvent event){\n    event.getGuild().getTextChannelById(&quot;527272203721637890&quot;).sendMessage(event.getVoiceState() + &quot;joined voice channel&quot; + event.getChannelJoined() + &quot;.&quot;).queue();\n}\n</code></pre>\n<p>}</p>\n<p>As you can see in the first image ive used ---\njda.addEventListeners(new onJoin());---\nThis links the command to the start up, id advised doing this aswell as it means for easier coding linking.</p>\n<p>This is the outcome\nVS:<em>DISCORD SERVER</em>:<em>MyDiscordName</em> joined voice channelVC:General Chat - Main(<em>CHAT ID</em>).</p>\n<p>Hope This Helped! :)</p>\n"}],"owner":{"account_id":22693279,"reputation":31,"user_id":16861864,"display_name":"SXR1US"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648554355,"creation_date":1631114129,"question_id":69105643,"body_markdown":"I&#39;ve tried to make a bot that sends a message when a user joins a voice call. It doesn&#39;t show any error message, but it doesn&#39;t work. Here is my code:\r\n\r\n```lang-java\r\npackage listeners;\r\n\r\nimport net.dv8tion.jda.api.events.guild.voice.GuildVoiceJoinEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\npublic class voiceListener extends ListenerAdapter {\r\n    @Override\r\n    public void onGuildVoiceJoin(GuildVoiceJoinEvent event){\r\n        event.getGuild().getTextChannelById(&quot;885172885797343317&quot;).sendMessage(event.getVoiceState() + &quot;joined voice channel&quot; + event.getChannelJoined() + &quot;.&quot;).queue();\r\n    }\r\n}\r\n```\r\nThe main method is right I guess because another listener works.","title":"Discord Bot message when user joins voice call","body":"<p>I've tried to make a bot that sends a message when a user joins a voice call. It doesn't show any error message, but it doesn't work. Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package listeners;\n\nimport net.dv8tion.jda.api.events.guild.voice.GuildVoiceJoinEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class voiceListener extends ListenerAdapter {\n    @Override\n    public void onGuildVoiceJoin(GuildVoiceJoinEvent event){\n        event.getGuild().getTextChannelById(&quot;885172885797343317&quot;).sendMessage(event.getVoiceState() + &quot;joined voice channel&quot; + event.getChannelJoined() + &quot;.&quot;).queue();\n    }\n}\n</code></pre>\n<p>The main method is right I guess because another listener works.</p>\n"},{"tags":["java","spring-mvc","junit","dto"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1648554315,"post_id":71661359,"comment_id":126648682,"body_markdown":"studentDAO.addUser(convertToStudent(newStudentDto)); is not the same as: studentDao.addUser(newStudentDto); which is what you do in your test","body":"studentDAO.addUser(convertToStudent(newStudentDto)); is not the same as: studentDao.addUser(newStudentDto); which is what you do in your test"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1648554419,"post_id":71661359,"comment_id":126648726,"body_markdown":"use verify with Mockito.any","body":"use verify with Mockito.any"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1648554495,"post_id":71661359,"comment_id":126648744,"body_markdown":"verify(studentDao).addUser(Mockito.any());","body":"verify(studentDao).addUser(Mockito.any());"},{"owner":{"account_id":24722150,"reputation":11,"user_id":18611063,"display_name":"Filippo"},"score":0,"creation_date":1648555079,"post_id":71661359,"comment_id":126648955,"body_markdown":"Thank you for your answer @Stultuske,\nstudentDao.addUser() -&gt; As an Entity object as parameter\nstudentService.addUser() -&gt; Receives a DTO object as parameter\n\nThey are different Objects because the DTO is converted inside the Service method to Entity.\n\nHow can I replicate that for testing?","body":"Thank you for your answer @Stultuske, studentDao.addUser() -&gt; As an Entity object as parameter studentService.addUser() -&gt; Receives a DTO object as parameter  They are different Objects because the DTO is converted inside the Service method to Entity.  How can I replicate that for testing?"},{"owner":{"account_id":24722150,"reputation":11,"user_id":18611063,"display_name":"Filippo"},"score":0,"creation_date":1648555428,"post_id":71661359,"comment_id":126649095,"body_markdown":"@Gurkanlleez, thank you very much. I&#39;ve spent more than 2 hours trying to solve this...\nI&#39;ve googled about Mockito.any(). It matches all objects that are not null. Is that it?\nEdit: It only works with this annotation:\n@MockitoSettings(strictness = Strictness.LENIENT).","body":"@Gurkanlleez, thank you very much. I&#39;ve spent more than 2 hours trying to solve this... I&#39;ve googled about Mockito.any(). It matches all objects that are not null. Is that it? Edit: It only works with this annotation: @MockitoSettings(strictness = Strictness.LENIENT)."}],"owner":{"account_id":24722150,"reputation":11,"user_id":18611063,"display_name":"Filippo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648554043,"creation_date":1648554043,"question_id":71661359,"body_markdown":" 1. I send the Object as a DTO to the Service Layer\r\n 2. Here it is concerted to Entity and sent to the DAO Layer:\r\n\r\nService Layer:\r\n\r\n    @Override\r\n    @Transactional\r\n    public void addUser(StudentDto newStudentDto) {\r\n        studentDAO.addUser(convertToStudent(newStudentDto));\r\n    }\r\n\r\nThe problem while testing is that I need to give a different value to **given** and **when**.\r\n\r\n    JUnit test for addUser()\r\n    @Test\r\n    @DisplayName(&quot;addUser()&quot;)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    public void \r\n    givenStudentObjectDto_whenSavingStudentObject_thenReturnSavedObject() {\r\n        // given -precondition\r\n        ModelMapper modelMapper = new ModelMapper();\r\n\r\n        BDDMockito.willDoNothing().given(studentDao).addUser(newStudentTwo);\r\n\r\n        // when - behaviour that we are going to test\r\n\r\n        StudentDto tempStudentDto = modelMapper.map(newStudentTwo, \r\n    StudentDto.class);\r\n        studentService.addUser(tempStudentDto);\r\n\r\n        // then - verify the output\r\n            // Verify how many times the method was called\r\n        verify(studentDao, times(1)).addUser(newStudentTwo);\r\n    }\r\n\r\n    studentService.addUser -&gt; Sends a DTO (that will internally be converted to \r\n    Entity and sent to Dao.\r\n\r\n    studentDao.addUser -&gt; Receives the Entity\r\n\r\nIt happens that I cannot run the test successfully because I always have this error message:\r\n\r\n    Argument(s) are different! Wanted:\r\n    studentDao.addUser(\r\n    Student{id=0, firstName=&#39;Mary&#39;, lastName=&#39;Jane&#39;, email=&#39;mj@gmail.com&#39;, \r\n    course=&#39;Physics&#39;}\r\n    );\r\n    \r\n    Actual invocations have different arguments:\r\n    studentDao.addUser(\r\n        Student{id=0, firstName=&#39;Mary&#39;, lastName=&#39;Jane&#39;, email=&#39;mj@gmail.com&#39;, \r\n    course=&#39;Physics&#39;}\r\n    );    \r\n    \r\n    \r\nCould you please help me? \r\nThank you\r\nFilipe","title":"JUnit - Service Layer - DTO - Error: Argument(s) are different","body":"<ol>\n<li>I send the Object as a DTO to the Service Layer</li>\n<li>Here it is concerted to Entity and sent to the DAO Layer:</li>\n</ol>\n<p>Service Layer:</p>\n<pre><code>@Override\n@Transactional\npublic void addUser(StudentDto newStudentDto) {\n    studentDAO.addUser(convertToStudent(newStudentDto));\n}\n</code></pre>\n<p>The problem while testing is that I need to give a different value to <strong>given</strong> and <strong>when</strong>.</p>\n<pre><code>JUnit test for addUser()\n@Test\n@DisplayName(&quot;addUser()&quot;)\n@MockitoSettings(strictness = Strictness.LENIENT)\npublic void \ngivenStudentObjectDto_whenSavingStudentObject_thenReturnSavedObject() {\n    // given -precondition\n    ModelMapper modelMapper = new ModelMapper();\n\n    BDDMockito.willDoNothing().given(studentDao).addUser(newStudentTwo);\n\n    // when - behaviour that we are going to test\n\n    StudentDto tempStudentDto = modelMapper.map(newStudentTwo, \nStudentDto.class);\n    studentService.addUser(tempStudentDto);\n\n    // then - verify the output\n        // Verify how many times the method was called\n    verify(studentDao, times(1)).addUser(newStudentTwo);\n}\n\nstudentService.addUser -&gt; Sends a DTO (that will internally be converted to \nEntity and sent to Dao.\n\nstudentDao.addUser -&gt; Receives the Entity\n</code></pre>\n<p>It happens that I cannot run the test successfully because I always have this error message:</p>\n<pre><code>Argument(s) are different! Wanted:\nstudentDao.addUser(\nStudent{id=0, firstName='Mary', lastName='Jane', email='mj@gmail.com', \ncourse='Physics'}\n);\n\nActual invocations have different arguments:\nstudentDao.addUser(\n    Student{id=0, firstName='Mary', lastName='Jane', email='mj@gmail.com', \ncourse='Physics'}\n);    \n</code></pre>\n<p>Could you please help me?\nThank you\nFilipe</p>\n"},{"tags":["java","android","animated-gif"],"comments":[{"owner":{"account_id":177550,"reputation":782,"user_id":408956,"display_name":"Osmund"},"score":3,"creation_date":1283882605,"post_id":3660209,"comment_id":3851873,"body_markdown":"Do you mean within  android , or extracting frames from a gif with an external tool?","body":"Do you mean within  android , or extracting frames from a gif with an external tool?"},{"owner":{"account_id":302589,"reputation":808,"user_id":611048,"accept_rate":80,"display_name":"Barbarossa"},"score":0,"creation_date":1311157557,"post_id":3660209,"comment_id":69864357,"body_markdown":"it definitely is a bug, see [IssueTracker](http://code.google.com/p/android/issues/detail?id=3422) for more information.","body":"it definitely is a bug, see <a href=\"http://code.google.com/p/android/issues/detail?id=3422\" rel=\"nofollow noreferrer\">IssueTracker</a> for more information."},{"owner":{"account_id":1047481,"reputation":19771,"user_id":1069083,"accept_rate":71,"display_name":"rubo77"},"score":0,"creation_date":1429345918,"post_id":3660209,"comment_id":47564665,"body_markdown":"Just for all those who came here by searching for an app that can display animated GIFs: [quickPic](https://play.google.com/store/apps/details?id=com.alensw.PicFolder)","body":"Just for all those who came here by searching for an app that can display animated GIFs: <a href=\"https://play.google.com/store/apps/details?id=com.alensw.PicFolder\" rel=\"nofollow noreferrer\">quickPic</a>"},{"owner":{"account_id":261457,"reputation":5578,"user_id":545643,"accept_rate":67,"display_name":"Preetam"},"score":1,"creation_date":1453270138,"post_id":3660209,"comment_id":57523073,"body_markdown":"http://stackoverflow.com/questions/30338258/best-practice-of-showing-gif-in-android/34892679#34892679","body":"<a href=\"http://stackoverflow.com/questions/30338258/best-practice-of-showing-gif-in-android/34892679#34892679\" title=\"best practice of showing gif in android\">stackoverflow.com/questions/30338258/&hellip;</a>"},{"owner":{"account_id":969994,"reputation":548,"user_id":992703,"accept_rate":82,"display_name":"kaitian521"},"score":0,"creation_date":1455288542,"post_id":3660209,"comment_id":69864390,"body_markdown":"Use fresco to display GIF https://github.com/facebook/fresco I think this is a simple solution.","body":"Use fresco to display GIF <a href=\"https://github.com/facebook/fresco\" rel=\"nofollow noreferrer\">github.com/facebook/fresco</a> I think this is a simple solution."},{"owner":{"account_id":1971974,"reputation":585,"user_id":1770679,"accept_rate":89,"display_name":"Roy Doron"},"score":0,"creation_date":1478592451,"post_id":3660209,"comment_id":68207598,"body_markdown":"I was looking for that question and found a solution at:  [play GIF inside android application](http://stackoverflow.com/questions/40468033/how-to-set-imageview-to-show-different-position-in-png-android-sprite-alike-an/40481803#40481803)","body":"I was looking for that question and found a solution at:  <a href=\"http://stackoverflow.com/questions/40468033/how-to-set-imageview-to-show-different-position-in-png-android-sprite-alike-an/40481803#40481803\">play GIF inside android application</a>"}],"answers":[{"tags":[],"owner":{"account_id":122791,"reputation":8286,"user_id":316825,"accept_rate":73,"display_name":"Eurig Jones"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1285859514,"creation_date":1285859514,"answer_id":3831966,"question_id":3660209,"body_markdown":"First of all the Android browser should support Animated GIFs. If it doesn&#39;t then it&#39;s a bug! Have a look at the issue trackers.\r\n\r\nIf you&#39;re displaying these animated GIFs outside of a browser it might be a different story. To do what you&#39;re asking would require external library that supports the decoding of Animated GIFs.\r\n\r\nThe first port of call would be to look at Java2D or JAI (Java Advanced Imaging) API, although I would be very surprised if Android Dalvik would support those libraries in your App.","title":"Display Animated GIF","body":"<p>First of all the Android browser should support Animated GIFs. If it doesn't then it's a bug! Have a look at the issue trackers.</p>\n\n<p>If you're displaying these animated GIFs outside of a browser it might be a different story. To do what you're asking would require external library that supports the decoding of Animated GIFs.</p>\n\n<p>The first port of call would be to look at Java2D or JAI (Java Advanced Imaging) API, although I would be very surprised if Android Dalvik would support those libraries in your App.</p>\n"},{"tags":[],"owner":{"account_id":76733,"reputation":10560,"user_id":219449,"accept_rate":81,"display_name":"Leonti"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1355110490,"creation_date":1285956869,"answer_id":3841950,"question_id":3660209,"body_markdown":"I solved the problem by splitting **gif** animations into frames before saving it to phone, so I would not have to deal with it in Android.\r\n\r\nThen I download every frame onto phone, create Drawable from it and then create **AnimationDrawable** - very similar to example from my question\r\n","title":"Display Animated GIF","body":"<p>I solved the problem by splitting <strong>gif</strong> animations into frames before saving it to phone, so I would not have to deal with it in Android.</p>\n\n<p>Then I download every frame onto phone, create Drawable from it and then create <strong>AnimationDrawable</strong> - very similar to example from my question</p>\n"},{"tags":[],"owner":{"account_id":189654,"reputation":6552,"user_id":429108,"accept_rate":80,"display_name":"Jon O"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291930582,"creation_date":1291930582,"answer_id":4403367,"question_id":3660209,"body_markdown":"Similar to what @Leonti said, but with a little more depth:  \r\n\r\nWhat I did to solve the same problem was open up GIMP, hide all layers except for one, export it as its own image, and then hide that layer and unhide the next one, etc., until I had individual resource files for each one.  Then I could use them as frames in the AnimationDrawable XML file.","title":"Display Animated GIF","body":"<p>Similar to what @Leonti said, but with a little more depth:  </p>\n\n<p>What I did to solve the same problem was open up GIMP, hide all layers except for one, export it as its own image, and then hide that layer and unhide the next one, etc., until I had individual resource files for each one.  Then I could use them as frames in the AnimationDrawable XML file.</p>\n"},{"tags":[],"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"down_vote_count":3,"up_vote_count":196,"is_accepted":true,"score":193,"last_activity_date":1493468421,"creation_date":1318618127,"answer_id":7772170,"question_id":3660209,"body_markdown":"Android actually can decode and display animated GIFs, using android.graphics.Movie class.\r\n\r\nThis is not too much documented, but is in [SDK Reference][1]. Moreover, it is used in [Samples in ApiDemos in BitmapDecode][2] example with some animated flag.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/Movie.html\r\n  [2]: https://github.com/Miserlou/Android-SDK-Samples/blob/master/ApiDemos/src/com/example/android/apis/graphics/BitmapDecode.java#L103\r\n","title":"Display Animated GIF","body":"<p>Android actually can decode and display animated GIFs, using android.graphics.Movie class.</p>\n\n<p>This is not too much documented, but is in <a href=\"http://developer.android.com/reference/android/graphics/Movie.html\" rel=\"noreferrer\">SDK Reference</a>. Moreover, it is used in <a href=\"https://github.com/Miserlou/Android-SDK-Samples/blob/master/ApiDemos/src/com/example/android/apis/graphics/BitmapDecode.java#L103\" rel=\"noreferrer\">Samples in ApiDemos in BitmapDecode</a> example with some animated flag.</p>\n"},{"tags":[],"owner":{"account_id":976834,"reputation":3542,"user_id":997716,"accept_rate":29,"display_name":"Apperside"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1423653042,"creation_date":1318776051,"answer_id":7784977,"question_id":3660209,"body_markdown":"i found a very easy way, with a nice and simple working example here\r\n\r\n[display animated widget][1]\r\n\r\nBefore getting it working there are some chages to do do in the code\r\n\r\nIN THE FOLLOWING\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState){    \r\n            super.onCreate(savedInstanceStated);   \r\n            setContentView(new MYGIFView());\r\n        }    \r\n    }\r\n\r\njust replace \r\n\r\n    setContentView(new MYGIFView());\r\n\r\nin\r\n   \r\n\r\n    setContentView(new MYGIFView(this));\r\n\r\n\r\nAND IN\r\n\r\n    public GIFView(Context context) {\r\n        super(context);\r\n    \r\n    \r\nProvide your own gif animation file\r\n    \r\n        is = context.getResources().openRawResource(R.drawable.earth);\r\n        movie = Movie.decodeStream(is);\r\n    }\r\n\r\nREPLACE THE FIRST LINE IN\r\n\r\n    public MYGIFView(Context context) {\r\n\r\naccording to the name of the class...\r\n\r\nafter done this little changes it should work as for me...\r\n\r\nhope this help\r\n\r\n\r\n  [1]: http://androidosbeginning.blogspot.com/2010/09/gif-animation-in-android.html\r\n","title":"Display Animated GIF","body":"<p>i found a very easy way, with a nice and simple working example here</p>\n\n<p><a href=\"http://androidosbeginning.blogspot.com/2010/09/gif-animation-in-android.html\" rel=\"noreferrer\">display animated widget</a></p>\n\n<p>Before getting it working there are some chages to do do in the code</p>\n\n<p>IN THE FOLLOWING</p>\n\n<pre><code>    @Override\n    public void onCreate(Bundle savedInstanceState){    \n        super.onCreate(savedInstanceStated);   \n        setContentView(new MYGIFView());\n    }    \n}\n</code></pre>\n\n<p>just replace </p>\n\n<pre><code>setContentView(new MYGIFView());\n</code></pre>\n\n<p>in</p>\n\n<pre><code>setContentView(new MYGIFView(this));\n</code></pre>\n\n<p>AND IN</p>\n\n<pre><code>public GIFView(Context context) {\n    super(context);\n</code></pre>\n\n<p>Provide your own gif animation file</p>\n\n<pre><code>    is = context.getResources().openRawResource(R.drawable.earth);\n    movie = Movie.decodeStream(is);\n}\n</code></pre>\n\n<p>REPLACE THE FIRST LINE IN</p>\n\n<pre><code>public MYGIFView(Context context) {\n</code></pre>\n\n<p>according to the name of the class...</p>\n\n<p>after done this little changes it should work as for me...</p>\n\n<p>hope this help</p>\n"},{"tags":[],"owner":{"account_id":301435,"reputation":1122,"user_id":609149,"accept_rate":40,"display_name":"Ashok Domadiya"},"down_vote_count":12,"up_vote_count":4,"is_accepted":false,"score":-8,"last_activity_date":1343654326,"creation_date":1343654326,"answer_id":11722421,"question_id":3660209,"body_markdown":"        \r\n    public class Test extends GraphicsActivity {\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(new SampleView(this));\r\n      }\r\n    \r\n      private static class SampleView extends View {\r\n        private Bitmap mBitmap;\r\n        private Bitmap mBitmap2;\r\n        private Bitmap mBitmap3;\r\n        private Bitmap mBitmap4;\r\n        private Drawable mDrawable;\r\n    \r\n        private Movie mMovie;\r\n        private long mMovieStart;\r\n    \r\n        // Set to false to use decodeByteArray\r\n        private static final boolean DECODE_STREAM = true;\r\n    \r\n        private static byte[] streamToBytes(InputStream is) {\r\n          ByteArrayOutputStream os = new ByteArrayOutputStream(1024);\r\n          byte[] buffer = new byte[1024];\r\n          int len;\r\n          try {\r\n            while ((len = is.read(buffer)) &gt;= 0) {\r\n              os.write(buffer, 0, len);\r\n            }\r\n          } catch (java.io.IOException e) {\r\n          }\r\n          return os.toByteArray();\r\n        }\r\n    \r\n        public SampleView(Context context) {\r\n          super(context);\r\n          setFocusable(true);\r\n    \r\n          java.io.InputStream is;\r\n          is = context.getResources().openRawResource(R.drawable.icon);\r\n    \r\n          BitmapFactory.Options opts = new BitmapFactory.Options();\r\n          Bitmap bm;\r\n    \r\n          opts.inJustDecodeBounds = true;\r\n          bm = BitmapFactory.decodeStream(is, null, opts);\r\n    \r\n          // now opts.outWidth and opts.outHeight are the dimension of the\r\n          // bitmap, even though bm is null\r\n    \r\n          opts.inJustDecodeBounds = false; // this will request the bm\r\n          opts.inSampleSize = 4; // scaled down by 4\r\n          bm = BitmapFactory.decodeStream(is, null, opts);\r\n    \r\n          mBitmap = bm;\r\n    \r\n          // decode an image with transparency\r\n          is = context.getResources().openRawResource(R.drawable.icon);\r\n          mBitmap2 = BitmapFactory.decodeStream(is);\r\n    \r\n          // create a deep copy of it using getPixels() into different configs\r\n          int w = mBitmap2.getWidth();\r\n          int h = mBitmap2.getHeight();\r\n          int[] pixels = new int[w * h];\r\n          mBitmap2.getPixels(pixels, 0, w, 0, 0, w, h);\r\n          mBitmap3 = Bitmap.createBitmap(pixels, 0, w, w, h,\r\n              Bitmap.Config.ARGB_8888);\r\n          mBitmap4 = Bitmap.createBitmap(pixels, 0, w, w, h,\r\n              Bitmap.Config.ARGB_4444);\r\n    \r\n          mDrawable = context.getResources().getDrawable(R.drawable.icon);\r\n          mDrawable.setBounds(150, 20, 300, 100);\r\n    \r\n          is = context.getResources().openRawResource(R.drawable.animated_gif);\r\n    \r\n          if (DECODE_STREAM) {\r\n            mMovie = Movie.decodeStream(is);\r\n          } else {\r\n            byte[] array = streamToBytes(is);\r\n            mMovie = Movie.decodeByteArray(array, 0, array.length);\r\n          }\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n          canvas.drawColor(0xFFCCCCCC);\r\n    \r\n          Paint p = new Paint();\r\n          p.setAntiAlias(true);\r\n    \r\n          canvas.drawBitmap(mBitmap, 10, 10, null);\r\n          canvas.drawBitmap(mBitmap2, 10, 170, null);\r\n          canvas.drawBitmap(mBitmap3, 110, 170, null);\r\n          canvas.drawBitmap(mBitmap4, 210, 170, null);\r\n    \r\n          mDrawable.draw(canvas);\r\n    \r\n          long now = android.os.SystemClock.uptimeMillis();\r\n          if (mMovieStart == 0) { // first time\r\n            mMovieStart = now;\r\n          }\r\n          if (mMovie != null) {\r\n            int dur = mMovie.duration();\r\n            if (dur == 0) {\r\n              dur = 1000;\r\n            }\r\n            int relTime = (int) ((now - mMovieStart) % dur);\r\n            mMovie.setTime(relTime);\r\n            mMovie.draw(canvas, getWidth() - mMovie.width(), getHeight()\r\n                - mMovie.height());\r\n            invalidate();\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    class GraphicsActivity extends Activity {\r\n      // set to true to test Picture\r\n      private static final boolean TEST_PICTURE = false;\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n      }\r\n    \r\n      @Override\r\n      public void setContentView(View view) {\r\n        if (TEST_PICTURE) {\r\n          ViewGroup vg = new PictureLayout(this);\r\n          vg.addView(view);\r\n          view = vg;\r\n        }\r\n    \r\n        super.setContentView(view);\r\n      }\r\n    }\r\n    \r\n    class PictureLayout extends ViewGroup {\r\n      private final Picture mPicture = new Picture();\r\n    \r\n      public PictureLayout(Context context) {\r\n        super(context);\r\n      }\r\n    \r\n      public PictureLayout(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n      }\r\n    \r\n      @Override\r\n      public void addView(View child) {\r\n        if (getChildCount() &gt; 1) {\r\n          throw new IllegalStateException(\r\n              &quot;PictureLayout can host only one direct child&quot;);\r\n        }\r\n    \r\n        super.addView(child);\r\n      }\r\n    \r\n      @Override\r\n      public void addView(View child, int index) {\r\n        if (getChildCount() &gt; 1) {\r\n          throw new IllegalStateException(\r\n              &quot;PictureLayout can host only one direct child&quot;);\r\n        }\r\n    \r\n        super.addView(child, index);\r\n      }\r\n    \r\n      @Override\r\n      public void addView(View child, LayoutParams params) {\r\n        if (getChildCount() &gt; 1) {\r\n          throw new IllegalStateException(\r\n              &quot;PictureLayout can host only one direct child&quot;);\r\n        }\r\n    \r\n        super.addView(child, params);\r\n      }\r\n    \r\n      @Override\r\n      public void addView(View child, int index, LayoutParams params) {\r\n        if (getChildCount() &gt; 1) {\r\n          throw new IllegalStateException(\r\n              &quot;PictureLayout can host only one direct child&quot;);\r\n        }\r\n    \r\n        super.addView(child, index, params);\r\n      }\r\n    \r\n      @Override\r\n      protected LayoutParams generateDefaultLayoutParams() {\r\n        return new LayoutParams(LayoutParams.MATCH_PARENT,\r\n            LayoutParams.MATCH_PARENT);\r\n      }\r\n    \r\n      @Override\r\n      protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        final int count = getChildCount();\r\n    \r\n        int maxHeight = 0;\r\n        int maxWidth = 0;\r\n    \r\n        for (int i = 0; i &lt; count; i++) {\r\n          final View child = getChildAt(i);\r\n          if (child.getVisibility() != GONE) {\r\n            measureChild(child, widthMeasureSpec, heightMeasureSpec);\r\n          }\r\n        }\r\n    \r\n        maxWidth += getPaddingLeft() + getPaddingRight();\r\n        maxHeight += getPaddingTop() + getPaddingBottom();\r\n    \r\n        Drawable drawable = getBackground();\r\n        if (drawable != null) {\r\n          maxHeight = Math.max(maxHeight, drawable.getMinimumHeight());\r\n          maxWidth = Math.max(maxWidth, drawable.getMinimumWidth());\r\n        }\r\n    \r\n        setMeasuredDimension(resolveSize(maxWidth, widthMeasureSpec),\r\n            resolveSize(maxHeight, heightMeasureSpec));\r\n      }\r\n    \r\n      private void drawPict(Canvas canvas, int x, int y, int w, int h, float sx,\r\n          float sy) {\r\n        canvas.save();\r\n        canvas.translate(x, y);\r\n        canvas.clipRect(0, 0, w, h);\r\n        canvas.scale(0.5f, 0.5f);\r\n        canvas.scale(sx, sy, w, h);\r\n        canvas.drawPicture(mPicture);\r\n        canvas.restore();\r\n      }\r\n    \r\n      @Override\r\n      protected void dispatchDraw(Canvas canvas) {\r\n        super.dispatchDraw(mPicture.beginRecording(getWidth(), getHeight()));\r\n        mPicture.endRecording();\r\n    \r\n        int x = getWidth() / 2;\r\n        int y = getHeight() / 2;\r\n    \r\n        if (false) {\r\n          canvas.drawPicture(mPicture);\r\n        } else {\r\n          drawPict(canvas, 0, 0, x, y, 1, 1);\r\n          drawPict(canvas, x, 0, x, y, -1, 1);\r\n          drawPict(canvas, 0, y, x, y, 1, -1);\r\n          drawPict(canvas, x, y, x, y, -1, -1);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public ViewParent invalidateChildInParent(int[] location, Rect dirty) {\r\n        location[0] = getLeft();\r\n        location[1] = getTop();\r\n        dirty.set(0, 0, getWidth(), getHeight());\r\n        return getParent();\r\n      }\r\n    \r\n      @Override\r\n      protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n        final int count = super.getChildCount();\r\n    \r\n        for (int i = 0; i &lt; count; i++) {\r\n          final View child = getChildAt(i);\r\n          if (child.getVisibility() != GONE) {\r\n            final int childLeft = getPaddingLeft();\r\n            final int childTop = getPaddingTop();\r\n            child.layout(childLeft, childTop,\r\n                childLeft + child.getMeasuredWidth(),\r\n                childTop + child.getMeasuredHeight());\r\n    \r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Display Animated GIF","body":"<pre><code>public class Test extends GraphicsActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(new SampleView(this));\n  }\n\n  private static class SampleView extends View {\n    private Bitmap mBitmap;\n    private Bitmap mBitmap2;\n    private Bitmap mBitmap3;\n    private Bitmap mBitmap4;\n    private Drawable mDrawable;\n\n    private Movie mMovie;\n    private long mMovieStart;\n\n    // Set to false to use decodeByteArray\n    private static final boolean DECODE_STREAM = true;\n\n    private static byte[] streamToBytes(InputStream is) {\n      ByteArrayOutputStream os = new ByteArrayOutputStream(1024);\n      byte[] buffer = new byte[1024];\n      int len;\n      try {\n        while ((len = is.read(buffer)) &gt;= 0) {\n          os.write(buffer, 0, len);\n        }\n      } catch (java.io.IOException e) {\n      }\n      return os.toByteArray();\n    }\n\n    public SampleView(Context context) {\n      super(context);\n      setFocusable(true);\n\n      java.io.InputStream is;\n      is = context.getResources().openRawResource(R.drawable.icon);\n\n      BitmapFactory.Options opts = new BitmapFactory.Options();\n      Bitmap bm;\n\n      opts.inJustDecodeBounds = true;\n      bm = BitmapFactory.decodeStream(is, null, opts);\n\n      // now opts.outWidth and opts.outHeight are the dimension of the\n      // bitmap, even though bm is null\n\n      opts.inJustDecodeBounds = false; // this will request the bm\n      opts.inSampleSize = 4; // scaled down by 4\n      bm = BitmapFactory.decodeStream(is, null, opts);\n\n      mBitmap = bm;\n\n      // decode an image with transparency\n      is = context.getResources().openRawResource(R.drawable.icon);\n      mBitmap2 = BitmapFactory.decodeStream(is);\n\n      // create a deep copy of it using getPixels() into different configs\n      int w = mBitmap2.getWidth();\n      int h = mBitmap2.getHeight();\n      int[] pixels = new int[w * h];\n      mBitmap2.getPixels(pixels, 0, w, 0, 0, w, h);\n      mBitmap3 = Bitmap.createBitmap(pixels, 0, w, w, h,\n          Bitmap.Config.ARGB_8888);\n      mBitmap4 = Bitmap.createBitmap(pixels, 0, w, w, h,\n          Bitmap.Config.ARGB_4444);\n\n      mDrawable = context.getResources().getDrawable(R.drawable.icon);\n      mDrawable.setBounds(150, 20, 300, 100);\n\n      is = context.getResources().openRawResource(R.drawable.animated_gif);\n\n      if (DECODE_STREAM) {\n        mMovie = Movie.decodeStream(is);\n      } else {\n        byte[] array = streamToBytes(is);\n        mMovie = Movie.decodeByteArray(array, 0, array.length);\n      }\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n      canvas.drawColor(0xFFCCCCCC);\n\n      Paint p = new Paint();\n      p.setAntiAlias(true);\n\n      canvas.drawBitmap(mBitmap, 10, 10, null);\n      canvas.drawBitmap(mBitmap2, 10, 170, null);\n      canvas.drawBitmap(mBitmap3, 110, 170, null);\n      canvas.drawBitmap(mBitmap4, 210, 170, null);\n\n      mDrawable.draw(canvas);\n\n      long now = android.os.SystemClock.uptimeMillis();\n      if (mMovieStart == 0) { // first time\n        mMovieStart = now;\n      }\n      if (mMovie != null) {\n        int dur = mMovie.duration();\n        if (dur == 0) {\n          dur = 1000;\n        }\n        int relTime = (int) ((now - mMovieStart) % dur);\n        mMovie.setTime(relTime);\n        mMovie.draw(canvas, getWidth() - mMovie.width(), getHeight()\n            - mMovie.height());\n        invalidate();\n      }\n    }\n  }\n}\n\nclass GraphicsActivity extends Activity {\n  // set to true to test Picture\n  private static final boolean TEST_PICTURE = false;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n  }\n\n  @Override\n  public void setContentView(View view) {\n    if (TEST_PICTURE) {\n      ViewGroup vg = new PictureLayout(this);\n      vg.addView(view);\n      view = vg;\n    }\n\n    super.setContentView(view);\n  }\n}\n\nclass PictureLayout extends ViewGroup {\n  private final Picture mPicture = new Picture();\n\n  public PictureLayout(Context context) {\n    super(context);\n  }\n\n  public PictureLayout(Context context, AttributeSet attrs) {\n    super(context, attrs);\n  }\n\n  @Override\n  public void addView(View child) {\n    if (getChildCount() &gt; 1) {\n      throw new IllegalStateException(\n          \"PictureLayout can host only one direct child\");\n    }\n\n    super.addView(child);\n  }\n\n  @Override\n  public void addView(View child, int index) {\n    if (getChildCount() &gt; 1) {\n      throw new IllegalStateException(\n          \"PictureLayout can host only one direct child\");\n    }\n\n    super.addView(child, index);\n  }\n\n  @Override\n  public void addView(View child, LayoutParams params) {\n    if (getChildCount() &gt; 1) {\n      throw new IllegalStateException(\n          \"PictureLayout can host only one direct child\");\n    }\n\n    super.addView(child, params);\n  }\n\n  @Override\n  public void addView(View child, int index, LayoutParams params) {\n    if (getChildCount() &gt; 1) {\n      throw new IllegalStateException(\n          \"PictureLayout can host only one direct child\");\n    }\n\n    super.addView(child, index, params);\n  }\n\n  @Override\n  protected LayoutParams generateDefaultLayoutParams() {\n    return new LayoutParams(LayoutParams.MATCH_PARENT,\n        LayoutParams.MATCH_PARENT);\n  }\n\n  @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    final int count = getChildCount();\n\n    int maxHeight = 0;\n    int maxWidth = 0;\n\n    for (int i = 0; i &lt; count; i++) {\n      final View child = getChildAt(i);\n      if (child.getVisibility() != GONE) {\n        measureChild(child, widthMeasureSpec, heightMeasureSpec);\n      }\n    }\n\n    maxWidth += getPaddingLeft() + getPaddingRight();\n    maxHeight += getPaddingTop() + getPaddingBottom();\n\n    Drawable drawable = getBackground();\n    if (drawable != null) {\n      maxHeight = Math.max(maxHeight, drawable.getMinimumHeight());\n      maxWidth = Math.max(maxWidth, drawable.getMinimumWidth());\n    }\n\n    setMeasuredDimension(resolveSize(maxWidth, widthMeasureSpec),\n        resolveSize(maxHeight, heightMeasureSpec));\n  }\n\n  private void drawPict(Canvas canvas, int x, int y, int w, int h, float sx,\n      float sy) {\n    canvas.save();\n    canvas.translate(x, y);\n    canvas.clipRect(0, 0, w, h);\n    canvas.scale(0.5f, 0.5f);\n    canvas.scale(sx, sy, w, h);\n    canvas.drawPicture(mPicture);\n    canvas.restore();\n  }\n\n  @Override\n  protected void dispatchDraw(Canvas canvas) {\n    super.dispatchDraw(mPicture.beginRecording(getWidth(), getHeight()));\n    mPicture.endRecording();\n\n    int x = getWidth() / 2;\n    int y = getHeight() / 2;\n\n    if (false) {\n      canvas.drawPicture(mPicture);\n    } else {\n      drawPict(canvas, 0, 0, x, y, 1, 1);\n      drawPict(canvas, x, 0, x, y, -1, 1);\n      drawPict(canvas, 0, y, x, y, 1, -1);\n      drawPict(canvas, x, y, x, y, -1, -1);\n    }\n  }\n\n  @Override\n  public ViewParent invalidateChildInParent(int[] location, Rect dirty) {\n    location[0] = getLeft();\n    location[1] = getTop();\n    dirty.set(0, 0, getWidth(), getHeight());\n    return getParent();\n  }\n\n  @Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    final int count = super.getChildCount();\n\n    for (int i = 0; i &lt; count; i++) {\n      final View child = getChildAt(i);\n      if (child.getVisibility() != GONE) {\n        final int childLeft = getPaddingLeft();\n        final int childTop = getPaddingTop();\n        child.layout(childLeft, childTop,\n            childLeft + child.getMeasuredWidth(),\n            childTop + child.getMeasuredHeight());\n\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45092,"reputation":2903,"user_id":132735,"accept_rate":100,"display_name":"Dr1Ku"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1345020477,"creation_date":1345020477,"answer_id":11966415,"question_id":3660209,"body_markdown":"I have had success with the solution proposed [within this article][1], a class called `GifMovieView`, which renders a `View` which can then be displayed or added to a specific `ViewGroup`. Check out the other methods presented in parts 2 and 3 of the specified article. \r\n\r\nThe only drawback to this method is that the antialiasing on the movie is not that good (must be a side-effect of using the &quot;shady&quot; Android `Movie` Class). You are then better off setting the background to a solid color within your animated GIF.\r\n\r\n[1]:http://droid-blog.net/2011/10/14/tutorial-how-to-use-animated-gifs-in-android-part-1/","title":"Display Animated GIF","body":"<p>I have had success with the solution proposed <a href=\"http://droid-blog.net/2011/10/14/tutorial-how-to-use-animated-gifs-in-android-part-1/\">within this article</a>, a class called <code>GifMovieView</code>, which renders a <code>View</code> which can then be displayed or added to a specific <code>ViewGroup</code>. Check out the other methods presented in parts 2 and 3 of the specified article. </p>\n\n<p>The only drawback to this method is that the antialiasing on the movie is not that good (must be a side-effect of using the \"shady\" Android <code>Movie</code> Class). You are then better off setting the background to a solid color within your animated GIF.</p>\n"},{"tags":[],"owner":{"account_id":1662050,"reputation":1141,"user_id":1530143,"accept_rate":100,"display_name":"NightSkyCode"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388158850,"creation_date":1376448756,"answer_id":18222441,"question_id":3660209,"body_markdown":"Use [ImageViewEx](https://github.com/frapontillo/ImageViewEx), a library that makes using a gif as easy as using an `ImageView`.  ","title":"Display Animated GIF","body":"<p>Use <a href=\"https://github.com/frapontillo/ImageViewEx\">ImageViewEx</a>, a library that makes using a gif as easy as using an <code>ImageView</code>.  </p>\n"},{"tags":[],"owner":{"account_id":1938069,"reputation":1498,"user_id":1745016,"accept_rate":87,"display_name":"keybee"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1377242471,"creation_date":1377242471,"answer_id":18397105,"question_id":3660209,"body_markdown":"Put it into a WebView, it has to be able to display it correctly, since the default browser supports gif files. (Froyo+, if i am not mistaken)","title":"Display Animated GIF","body":"<p>Put it into a WebView, it has to be able to display it correctly, since the default browser supports gif files. (Froyo+, if i am not mistaken)</p>\n"},{"tags":[],"owner":{"account_id":2202950,"reputation":848,"user_id":1946875,"display_name":"lubosz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393646453,"creation_date":1393643756,"answer_id":22109650,"question_id":3660209,"body_markdown":"Some thoughts on the BitmapDecode example... Basically it uses the ancient, but rather featureless [Movie](http://developer.android.com/reference/android/graphics/Movie.html) class from android.graphics.\r\nOn recent API versions you need to turn off hardware acceleration, [as described here][1]. It was segfaulting for me otherwise.\r\n\r\n\r\n    &lt;activity\r\n                android:hardwareAccelerated=&quot;false&quot;\r\n                android:name=&quot;foo.GifActivity&quot;\r\n                android:label=&quot;The state of computer animation 2014&quot;&gt;\r\n    &lt;/activity&gt;\r\n\r\nHere is the BitmapDecode example shortened with only the GIF part. You have to make your own Widget (View) and draw it by yourself. Not quite as powerful as an ImageView.\r\n\r\n\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.graphics.*;\r\n    import android.os.*;\r\n    import android.view.View;\r\n    \r\n    public class GifActivity extends Activity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(new GifView(this));\r\n        }\r\n\r\n        static class GifView extends View {\r\n            Movie movie;\r\n    \r\n            GifView(Context context) {\r\n                super(context);\r\n                movie = Movie.decodeStream(\r\n                        context.getResources().openRawResource(\r\n                                R.drawable.some_gif));\r\n            }\r\n            @Override\r\n            protected void onDraw(Canvas canvas) {   \r\n                if (movie != null) {\r\n                    movie.setTime(\r\n                        (int) SystemClock.uptimeMillis() % movie.duration());\r\n                    movie.draw(canvas, 0, 0);\r\n                    invalidate();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n2 other methods, one with ImageView another with WebView can be found in [this fine tutorial](http://droid-blog.net/2011/10/14/tutorial-how-to-use-animated-gifs-in-android-part-1/). The ImageView method uses the Apache licensed [android-gifview](https://code.google.com/p/android-gifview/) from Google Code.\r\n  [1]: http://developer.android.com/guide/topics/graphics/hardware-accel.html","title":"Display Animated GIF","body":"<p>Some thoughts on the BitmapDecode example... Basically it uses the ancient, but rather featureless <a href=\"http://developer.android.com/reference/android/graphics/Movie.html\" rel=\"nofollow\">Movie</a> class from android.graphics.\nOn recent API versions you need to turn off hardware acceleration, <a href=\"http://developer.android.com/guide/topics/graphics/hardware-accel.html\" rel=\"nofollow\">as described here</a>. It was segfaulting for me otherwise.</p>\n\n<pre><code>&lt;activity\n            android:hardwareAccelerated=\"false\"\n            android:name=\"foo.GifActivity\"\n            android:label=\"The state of computer animation 2014\"&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>Here is the BitmapDecode example shortened with only the GIF part. You have to make your own Widget (View) and draw it by yourself. Not quite as powerful as an ImageView.</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.Context;\nimport android.graphics.*;\nimport android.os.*;\nimport android.view.View;\n\npublic class GifActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new GifView(this));\n    }\n\n    static class GifView extends View {\n        Movie movie;\n\n        GifView(Context context) {\n            super(context);\n            movie = Movie.decodeStream(\n                    context.getResources().openRawResource(\n                            R.drawable.some_gif));\n        }\n        @Override\n        protected void onDraw(Canvas canvas) {   \n            if (movie != null) {\n                movie.setTime(\n                    (int) SystemClock.uptimeMillis() % movie.duration());\n                movie.draw(canvas, 0, 0);\n                invalidate();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>2 other methods, one with ImageView another with WebView can be found in <a href=\"http://droid-blog.net/2011/10/14/tutorial-how-to-use-animated-gifs-in-android-part-1/\" rel=\"nofollow\">this fine tutorial</a>. The ImageView method uses the Apache licensed <a href=\"https://code.google.com/p/android-gifview/\" rel=\"nofollow\">android-gifview</a> from Google Code.</p>\n"},{"tags":[],"owner":{"account_id":903790,"reputation":2313,"user_id":939193,"accept_rate":40,"display_name":"Sergei Vasilenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1399333378,"creation_date":1396508302,"answer_id":22830086,"question_id":3660209,"body_markdown":"@PointerNull gave good solution, but it is not perfect. It doesn&#39;t work on some devices with big files and show buggy Gif animation with delta frames on pre ICS version.\r\nI found solution without this bugs. It is library with native decoding to drawable: [koral&#39;s android-gif-drawable][1].\r\n\r\n\r\n  [1]: https://github.com/koral--/android-gif-drawable","title":"Display Animated GIF","body":"<p>@PointerNull gave good solution, but it is not perfect. It doesn't work on some devices with big files and show buggy Gif animation with delta frames on pre ICS version.\nI found solution without this bugs. It is library with native decoding to drawable: <a href=\"https://github.com/koral--/android-gif-drawable\" rel=\"noreferrer\">koral's android-gif-drawable</a>.</p>\n"},{"tags":[],"owner":{"account_id":3512373,"reputation":1220,"user_id":2936399,"display_name":"nirav kalola"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1400134151,"creation_date":1400133797,"answer_id":23670399,"question_id":3660209,"body_markdown":"Try this, bellow code display gif file in progressbar\r\n\r\nloading_activity.xml(in Layout folder)\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#ffffff&quot; &gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar&quot;\r\n            style=&quot;?android:attr/progressBarStyleLarge&quot;\r\n            android:layout_width=&quot;70dp&quot;\r\n            android:layout_height=&quot;70dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:indeterminate=&quot;true&quot;\r\n            android:indeterminateDrawable=&quot;@drawable/custom_loading&quot;\r\n            android:visibility=&quot;gone&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\ncustom_loading.xml(in drawable folder)\r\n\r\nhere i put black_gif.gif(in drawable folder), you can put your own gif here\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;animated-rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:drawable=&quot;@drawable/black_gif&quot;\r\n        android:pivotX=&quot;50%&quot;\r\n        android:pivotY=&quot;50%&quot; /&gt;\r\n\r\nLoadingActivity.java(in res folder)\r\n\r\n    public class LoadingActivity extends Activity {\r\n    \r\n    \tProgressBar bar;\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_loading);\r\n    \t\tbar = (ProgressBar) findViewById(R.id.progressBar);\r\n    \t\tbar.setVisibility(View.VISIBLE);\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Display Animated GIF","body":"<p>Try this, bellow code display gif file in progressbar</p>\n\n<p>loading_activity.xml(in Layout folder)</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\" &gt;\n\n    &lt;ProgressBar\n        android:id=\"@+id/progressBar\"\n        style=\"?android:attr/progressBarStyleLarge\"\n        android:layout_width=\"70dp\"\n        android:layout_height=\"70dp\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:indeterminate=\"true\"\n        android:indeterminateDrawable=\"@drawable/custom_loading\"\n        android:visibility=\"gone\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>custom_loading.xml(in drawable folder)</p>\n\n<p>here i put black_gif.gif(in drawable folder), you can put your own gif here</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;animated-rotate xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:drawable=\"@drawable/black_gif\"\n    android:pivotX=\"50%\"\n    android:pivotY=\"50%\" /&gt;\n</code></pre>\n\n<p>LoadingActivity.java(in res folder)</p>\n\n<pre><code>public class LoadingActivity extends Activity {\n\n    ProgressBar bar;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_loading);\n        bar = (ProgressBar) findViewById(R.id.progressBar);\n        bar.setVisibility(View.VISIBLE);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4159949,"reputation":888,"user_id":3410272,"display_name":"bapho"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1450906880,"creation_date":1417532087,"answer_id":27252323,"question_id":3660209,"body_markdown":"Nobody has mentioned the [Ion][1] or [Glide][2] library. they work very well.\r\n\r\n\r\nIt&#39;s easier to handle compared to a WebView.\r\n\r\n\r\n  [1]: https://github.com/koush/ion\r\n  [2]: https://github.com/bumptech/glide","title":"Display Animated GIF","body":"<p>Nobody has mentioned the <a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">Ion</a> or <a href=\"https://github.com/bumptech/glide\" rel=\"noreferrer\">Glide</a> library. they work very well.</p>\n\n<p>It's easier to handle compared to a WebView.</p>\n"},{"tags":[],"owner":{"account_id":600904,"reputation":1835,"user_id":305775,"display_name":"Nick Frolov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1420902848,"creation_date":1420902848,"answer_id":27877709,"question_id":3660209,"body_markdown":"Ways to show animated GIF on Android:\r\n\r\n\r\n  * Movie class. As mentioned above, it&#39;s fairly buggy.\r\n  * WebView. It&#39;s very simple to use and *usually* works. But sometimes it starts to misbehave, and it&#39;s always on some obscure devices you don&#39;t have. Plus, you cant use multiple instances in any kind of list views, because it does things to your memory. Still, you might consider it as a primary approach. \r\n  * Custom code to decode gifs into bitmaps and show them as Drawable or ImageView. I&#39;ll mention two libraries:\r\n\r\nhttps://github.com/koral--/android-gif-drawable - decoder is implemented in C, so it&#39;s very efficient. \r\n\r\nhttps://code.google.com/p/giffiledecoder - decoder is implemented in Java, so it&#39;s easier to work with. Still reasonably efficient, even with large files.\r\n\r\nYou&#39;ll also find many libraries based on GifDecoder class. That&#39;s also a Java-based decoder, but it works by loading the entire file into memory, so it&#39;s only applicable to small files.","title":"Display Animated GIF","body":"<p>Ways to show animated GIF on Android:</p>\n\n<ul>\n<li>Movie class. As mentioned above, it's fairly buggy.</li>\n<li>WebView. It's very simple to use and <em>usually</em> works. But sometimes it starts to misbehave, and it's always on some obscure devices you don't have. Plus, you cant use multiple instances in any kind of list views, because it does things to your memory. Still, you might consider it as a primary approach. </li>\n<li>Custom code to decode gifs into bitmaps and show them as Drawable or ImageView. I'll mention two libraries:</li>\n</ul>\n\n<p><a href=\"https://github.com/koral--/android-gif-drawable\" rel=\"noreferrer\">https://github.com/koral--/android-gif-drawable</a> - decoder is implemented in C, so it's very efficient. </p>\n\n<p><a href=\"https://code.google.com/p/giffiledecoder\" rel=\"noreferrer\">https://code.google.com/p/giffiledecoder</a> - decoder is implemented in Java, so it's easier to work with. Still reasonably efficient, even with large files.</p>\n\n<p>You'll also find many libraries based on GifDecoder class. That's also a Java-based decoder, but it works by loading the entire file into memory, so it's only applicable to small files.</p>\n"},{"tags":[],"owner":{"account_id":6230966,"reputation":6483,"user_id":4847767,"display_name":"Alex Zaraos"},"down_vote_count":3,"up_vote_count":31,"is_accepted":false,"score":28,"last_activity_date":1627492700,"creation_date":1431728752,"answer_id":30269644,"question_id":3660209,"body_markdown":"also put (main/assets/htmls/name.gif) [with this html adjust to the size]\r\n\r\n    &lt;html style=&quot;margin: 0;&quot;&gt;\r\n    &lt;body style=&quot;margin: 0;&quot;&gt;\r\n    &lt;img src=&quot;name.gif&quot; style=&quot;width: 100%; height: 100%&quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\ndeclare in your Xml for example like this (main/res/layout/name.xml): [you define the size, for example]\r\n\r\n    &lt;WebView\r\n    android:layout_width=&quot;70dp&quot;\r\n    android:layout_height=&quot;70dp&quot;\r\n    android:id=&quot;@+id/webView&quot;\r\n    android:layout_gravity=&quot;center_horizontal&quot; /&gt;\r\n\r\nin your Activity put the next code inside of onCreate\r\n\r\n    web = (WebView) findViewById(R.id.webView); \r\n    web.setBackgroundColor(Color.TRANSPARENT); //for gif without background\r\n    web.loadUrl(&quot;file:///android_asset/htmls/name.html&quot;);\r\n\r\n\r\nif you want load dynamically you have to load the webview with data:\r\n\r\n\r\n    // or &quot;[path]/name.gif&quot; (e.g: file:///android_asset/name.gif for resources in asset folder), and in loadDataWithBaseURL(), you don&#39;t need to set base URL, on the other hand, it&#39;s similar to loadData() method.\r\n    String gifName = &quot;name.gif&quot;;\r\n    String yourData = &quot;&lt;html style=\\&quot;margin: 0;\\&quot;&gt;\\n&quot; +\r\n            &quot;    &lt;body style=\\&quot;margin: 0;\\&quot;&gt;\\n&quot; +\r\n            &quot;    &lt;img src=&quot; + gifName + &quot; style=\\&quot;width: 100%; height: 100%\\&quot; /&gt;\\n&quot; +\r\n            &quot;    &lt;/body&gt;\\n&quot; +\r\n            &quot;    &lt;/html&gt;&quot;;\r\n    // Important to add this attribute to webView to get resource from outside.\r\n    webView.getSettings().setAllowFileAccess(true);\r\n\r\n    // Notice: should use loadDataWithBaseURL. BaseUrl could be the base url such as the path to asset folder, or SDCard or any other path, where your images or the other media resides related to your html\r\n    webView.loadDataWithBaseURL(&quot;file:///android_asset/&quot;, yourData, &quot;text/html&quot;, &quot;utf-8&quot;, null);\r\n    // Or if you want to load image from SD card or where else, here is the idea.\r\n    String base = Environment.getExternalStorageDirectory().getAbsolutePath().toString();\r\n    webView.loadDataWithBaseURL(base + &#39;/&#39;, yourData, &quot;text/html&quot;, &quot;utf-8&quot;, null);\r\n\r\nsuggestion: is better load gif with static images for more information check https://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html\r\n\r\nThat&#39;s it, I hope you help.\r\n\r\nCurrently we can use **Glide** https://github.com/bumptech/glide ","title":"Display Animated GIF","body":"<p>also put (main/assets/htmls/name.gif) [with this html adjust to the size]</p>\n<pre><code>&lt;html style=&quot;margin: 0;&quot;&gt;\n&lt;body style=&quot;margin: 0;&quot;&gt;\n&lt;img src=&quot;name.gif&quot; style=&quot;width: 100%; height: 100%&quot; /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>declare in your Xml for example like this (main/res/layout/name.xml): [you define the size, for example]</p>\n<pre><code>&lt;WebView\nandroid:layout_width=&quot;70dp&quot;\nandroid:layout_height=&quot;70dp&quot;\nandroid:id=&quot;@+id/webView&quot;\nandroid:layout_gravity=&quot;center_horizontal&quot; /&gt;\n</code></pre>\n<p>in your Activity put the next code inside of onCreate</p>\n<pre><code>web = (WebView) findViewById(R.id.webView); \nweb.setBackgroundColor(Color.TRANSPARENT); //for gif without background\nweb.loadUrl(&quot;file:///android_asset/htmls/name.html&quot;);\n</code></pre>\n<p>if you want load dynamically you have to load the webview with data:</p>\n<pre><code>// or &quot;[path]/name.gif&quot; (e.g: file:///android_asset/name.gif for resources in asset folder), and in loadDataWithBaseURL(), you don't need to set base URL, on the other hand, it's similar to loadData() method.\nString gifName = &quot;name.gif&quot;;\nString yourData = &quot;&lt;html style=\\&quot;margin: 0;\\&quot;&gt;\\n&quot; +\n        &quot;    &lt;body style=\\&quot;margin: 0;\\&quot;&gt;\\n&quot; +\n        &quot;    &lt;img src=&quot; + gifName + &quot; style=\\&quot;width: 100%; height: 100%\\&quot; /&gt;\\n&quot; +\n        &quot;    &lt;/body&gt;\\n&quot; +\n        &quot;    &lt;/html&gt;&quot;;\n// Important to add this attribute to webView to get resource from outside.\nwebView.getSettings().setAllowFileAccess(true);\n\n// Notice: should use loadDataWithBaseURL. BaseUrl could be the base url such as the path to asset folder, or SDCard or any other path, where your images or the other media resides related to your html\nwebView.loadDataWithBaseURL(&quot;file:///android_asset/&quot;, yourData, &quot;text/html&quot;, &quot;utf-8&quot;, null);\n// Or if you want to load image from SD card or where else, here is the idea.\nString base = Environment.getExternalStorageDirectory().getAbsolutePath().toString();\nwebView.loadDataWithBaseURL(base + '/', yourData, &quot;text/html&quot;, &quot;utf-8&quot;, null);\n</code></pre>\n<p>suggestion: is better load gif with static images for more information check <a href=\"https://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html</a></p>\n<p>That's it, I hope you help.</p>\n<p>Currently we can use <strong>Glide</strong> <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">https://github.com/bumptech/glide</a></p>\n"},{"tags":[],"owner":{"account_id":1840036,"reputation":7237,"user_id":1669634,"display_name":"Roozbeh Zabihollahi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1450282955,"creation_date":1435492450,"answer_id":31099478,"question_id":3660209,"body_markdown":"I had a really hard time to have animated gif working in Android. I only had following two working:\r\n\r\n 1. WebView\r\n 2. [Ion][1]\r\n\r\nWebView works OK and really easy, but the problem is it makes the view loads slower and the app would be unresponsive for a second or so. I did not like that. So I have tried different approaches (DID NOT WORK):\r\n\r\n 1. [ImageViewEx][2] is deprecated!\r\n 2. [picasso][3] did not load animated gif\r\n 3. [android-gif-drawable][4] looks great, but it caused some wired NDK issues in my project. It caused my local NDK library stop working, and I was not able to fix it\r\n\r\nI had some back and forth with ``Ion``; Finally, I have it working, and it is really fast :-)\r\n\r\n    Ion.with(imgView)\r\n      .error(R.drawable.default_image)\r\n      .animateGif(AnimateGifMode.ANIMATE)\r\n      .load(&quot;file:///android_asset/animated.gif&quot;);\r\n\r\n\r\n\r\n  [1]: https://github.com/koush/ion\r\n  [2]: https://github.com/frapontillo/ImageViewEx\r\n  [3]: https://github.com/square/picasso\r\n  [4]: http://android-gif-drawable","title":"Display Animated GIF","body":"<p>I had a really hard time to have animated gif working in Android. I only had following two working:</p>\n\n<ol>\n<li>WebView</li>\n<li><a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">Ion</a></li>\n</ol>\n\n<p>WebView works OK and really easy, but the problem is it makes the view loads slower and the app would be unresponsive for a second or so. I did not like that. So I have tried different approaches (DID NOT WORK):</p>\n\n<ol>\n<li><a href=\"https://github.com/frapontillo/ImageViewEx\" rel=\"noreferrer\">ImageViewEx</a> is deprecated!</li>\n<li><a href=\"https://github.com/square/picasso\" rel=\"noreferrer\">picasso</a> did not load animated gif</li>\n<li><a href=\"http://android-gif-drawable\" rel=\"noreferrer\">android-gif-drawable</a> looks great, but it caused some wired NDK issues in my project. It caused my local NDK library stop working, and I was not able to fix it</li>\n</ol>\n\n<p>I had some back and forth with <code>Ion</code>; Finally, I have it working, and it is really fast :-)</p>\n\n<pre><code>Ion.with(imgView)\n  .error(R.drawable.default_image)\n  .animateGif(AnimateGifMode.ANIMATE)\n  .load(\"file:///android_asset/animated.gif\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3817409,"reputation":12833,"user_id":3166417,"accept_rate":39,"display_name":"itzhar"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1648554039,"creation_date":1437930848,"answer_id":31639737,"question_id":3660209,"body_markdown":"**UPDATE:**\r\n\r\nUse glide:\r\n\r\n    dependencies {\r\n      implementation &#39;com.github.bumptech.glide:glide:4.9.0&#39;\r\n    }\r\n\r\nusage:\r\n\r\n    Glide.with(context).load(GIF_URI).into(new DrawableImageViewTarget(IMAGE_VIEW));\r\n\r\n\r\nsee [docs][1]\r\n----------------------------------------------------------\r\n\r\n  [1]: https://github.com/bumptech/glide","title":"Display Animated GIF","body":"<p><strong>UPDATE:</strong></p>\n<p>Use glide:</p>\n<pre><code>dependencies {\n  implementation 'com.github.bumptech.glide:glide:4.9.0'\n}\n</code></pre>\n<p>usage:</p>\n<pre><code>Glide.with(context).load(GIF_URI).into(new DrawableImageViewTarget(IMAGE_VIEW));\n</code></pre>\n<h2>see <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">docs</a></h2>\n"},{"tags":[],"owner":{"account_id":5852118,"reputation":2815,"user_id":4610512,"accept_rate":56,"display_name":"Shoeb Siddique"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1455282640,"creation_date":1455282640,"answer_id":35363473,"question_id":3660209,"body_markdown":"**`Glide`**\r\n\r\nImage Loader Library for Android, recommended by Google.\r\n\r\n - Glide is quite similar to Picasso but this is much faster than Picasso.\r\n - Glide consumes less memory than Picasso.\r\n\r\n**What that Glide has but Picasso doesn&#39;t**\r\n\r\nAn ability to load GIF Animation to a simple ImageView might be the most interesting feature of Glide. And yes, you can&#39;t do that with Picasso.\r\n[![enter image description here][1]][1]\r\n**Some important links-**\r\n\r\n1. https://github.com/bumptech/glide\r\n2. http://inthecheesefactory.com/blog/get-to-know-glide-recommended-by-google/en\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wdvWZ.gif","title":"Display Animated GIF","body":"<p><strong><code>Glide</code></strong></p>\n\n<p>Image Loader Library for Android, recommended by Google.</p>\n\n<ul>\n<li>Glide is quite similar to Picasso but this is much faster than Picasso.</li>\n<li>Glide consumes less memory than Picasso.</li>\n</ul>\n\n<p><strong>What that Glide has but Picasso doesn't</strong></p>\n\n<p>An ability to load GIF Animation to a simple ImageView might be the most interesting feature of Glide. And yes, you can't do that with Picasso.\n<a href=\"https://i.stack.imgur.com/wdvWZ.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wdvWZ.gif\" alt=\"enter image description here\"></a>\n<strong>Some important links-</strong></p>\n\n<ol>\n<li><a href=\"https://github.com/bumptech/glide\" rel=\"noreferrer\">https://github.com/bumptech/glide</a></li>\n<li><a href=\"http://inthecheesefactory.com/blog/get-to-know-glide-recommended-by-google/en\" rel=\"noreferrer\">http://inthecheesefactory.com/blog/get-to-know-glide-recommended-by-google/en</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5204362,"reputation":1292,"user_id":4162800,"accept_rate":65,"display_name":"DJphy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459259096,"creation_date":1459259096,"answer_id":36286182,"question_id":3660209,"body_markdown":"I think the better library to handle gif files is [this one: by koral][1]\r\n\r\n\r\n  [1]: https://github.com/koral--/android-gif-drawable\r\n\r\n\r\nUsed it and i&#39;m successful and this library is dedicated to GIF&#39;S; but where as the **picasso and glide** are **general purpose** image framework; so i think the developers of this library have entirely concentrated on gif files","title":"Display Animated GIF","body":"<p>I think the better library to handle gif files is <a href=\"https://github.com/koral--/android-gif-drawable\" rel=\"nofollow\">this one: by koral</a></p>\n\n<p>Used it and i'm successful and this library is dedicated to GIF'S; but where as the <strong>picasso and glide</strong> are <strong>general purpose</strong> image framework; so i think the developers of this library have entirely concentrated on gif files</p>\n"},{"tags":[],"owner":{"account_id":1780304,"reputation":61,"user_id":1623224,"display_name":"Andrea Aranguren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465385607,"creation_date":1465383925,"answer_id":37700737,"question_id":3660209,"body_markdown":"Use fresco. Here&#39;s how to do it:\r\n\r\nhttp://frescolib.org/docs/animations.html \r\n\r\nHere&#39;s the repo with the sample:\r\n\r\nhttps://github.com/facebook/fresco/tree/master/samples/animation\r\n\r\nBeware fresco does not support wrap content!\r\n\r\n","title":"Display Animated GIF","body":"<p>Use fresco. Here's how to do it:</p>\n\n<p><a href=\"http://frescolib.org/docs/animations.html\" rel=\"nofollow\">http://frescolib.org/docs/animations.html</a> </p>\n\n<p>Here's the repo with the sample:</p>\n\n<p><a href=\"https://github.com/facebook/fresco/tree/master/samples/animation\" rel=\"nofollow\">https://github.com/facebook/fresco/tree/master/samples/animation</a></p>\n\n<p>Beware fresco does not support wrap content!</p>\n"},{"tags":[],"owner":{"account_id":8819880,"reputation":88,"user_id":6590116,"display_name":"Tzlil Gavra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513162364,"creation_date":1482749908,"answer_id":41330202,"question_id":3660209,"body_markdown":"Something I did for showing gifs in apps. I extended ImageView so people can use its attributes freely. It can show gifs from url or from the assets directory.\r\nThe library also makes it easy for extending classes to inherit from it and extend it to support different methods to initialize the gif.\r\n\r\nhttps://github.com/Gavras/GIFView\r\n\r\nThere&#39;s a little guide on the github page.\r\n\r\nIt was also published on Android Arsenal:\r\n\r\nhttps://android-arsenal.com/details/1/4947\r\n\r\nUse example:\r\n\r\nFrom XML:\r\n\r\n    &lt;com.whygraphics.gifview.gif.GIFView xmlns:gif_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/main_activity_gif_vie&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            android:scaleType=&quot;center&quot;\r\n            gif_view:gif_src=&quot;url:http://pop.h-cdn.co/assets/16/33/480x264/gallery-1471381857-gif-season-2.gif&quot; /&gt;\r\n\r\nIn the activity:\r\n\r\n        GIFView mGifView = (GIFView) findViewById(R.id.main_activity_gif_vie);\r\n        \r\n        mGifView.setOnSettingGifListener(new GIFView.OnSettingGifListener() {\r\n                    @Override\r\n                    public void onSuccess(GIFView view, Exception e) {\r\n                        Toast.makeText(MainActivity.this, &quot;onSuccess()&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n        \r\n                    @Override\r\n                    public void onFailure(GIFView view, Exception e) {\r\n        \r\n            }\r\n    });\r\n\r\nSetting the gif programmatically:\r\n\r\n    mGifView.setGifResource(&quot;asset:gif1&quot;);\r\n\r\n","title":"Display Animated GIF","body":"<p>Something I did for showing gifs in apps. I extended ImageView so people can use its attributes freely. It can show gifs from url or from the assets directory.\nThe library also makes it easy for extending classes to inherit from it and extend it to support different methods to initialize the gif.</p>\n\n<p><a href=\"https://github.com/Gavras/GIFView\" rel=\"nofollow noreferrer\">https://github.com/Gavras/GIFView</a></p>\n\n<p>There's a little guide on the github page.</p>\n\n<p>It was also published on Android Arsenal:</p>\n\n<p><a href=\"https://android-arsenal.com/details/1/4947\" rel=\"nofollow noreferrer\">https://android-arsenal.com/details/1/4947</a></p>\n\n<p>Use example:</p>\n\n<p>From XML:</p>\n\n<pre><code>&lt;com.whygraphics.gifview.gif.GIFView xmlns:gif_view=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/main_activity_gif_vie\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"200dp\"\n        android:scaleType=\"center\"\n        gif_view:gif_src=\"url:http://pop.h-cdn.co/assets/16/33/480x264/gallery-1471381857-gif-season-2.gif\" /&gt;\n</code></pre>\n\n<p>In the activity:</p>\n\n<pre><code>    GIFView mGifView = (GIFView) findViewById(R.id.main_activity_gif_vie);\n\n    mGifView.setOnSettingGifListener(new GIFView.OnSettingGifListener() {\n                @Override\n                public void onSuccess(GIFView view, Exception e) {\n                    Toast.makeText(MainActivity.this, \"onSuccess()\", Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onFailure(GIFView view, Exception e) {\n\n        }\n});\n</code></pre>\n\n<p>Setting the gif programmatically:</p>\n\n<pre><code>mGifView.setGifResource(\"asset:gif1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516381431,"creation_date":1516381431,"answer_id":48346096,"question_id":3660209,"body_markdown":"There are two options to load animated gifs into our Android apps\r\n\r\n1)Using [Glide][1] to load the gif into an `ImageView`.\r\n\r\n\r\n        String urlGif = &quot;https://cdn.dribbble.com/users/263558/screenshots/1337078/dvsd.gif&quot;;\r\n        //add Glide implementation into the build.gradle file.\r\n        ImageView imageView = (ImageView)findViewById(R.id.imageView);\r\n        Uri uri = Uri.parse(urlGif);\r\n        Glide.with(getApplicationContext()).load(uri).into(imageView);\r\n\r\n2) Using an html to load the gif into a `WebView`\r\n\r\n\r\nCreate the html with the address to the .gif file:\r\n\r\n    &lt;html style=&quot;margin: 0;&quot;&gt;\r\n    &lt;body style=&quot;margin: 0;&quot;&gt;\r\n    &lt;img src=&quot;https://..../myimage.gif&quot; style=&quot;width: 100%; height: 100%&quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nstore this file into the assets directory:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe load this html into the WebView of your application:\r\n\r\n        WebView webView =  (WebView)findViewById(R.id.webView);\r\n        webView = (WebView) findViewById(R.id.webView);\r\n        webView.loadUrl(&quot;file:///android_asset/html/webpage_gif.html&quot;);\r\n\r\n-----------------------------------------------------------------------\r\n\r\nHeres is a [**complete example of this two options**][3].\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://github.com/bumptech/glide\r\n  [2]: https://i.stack.imgur.com/dxbPh.png\r\n  [3]: https://github.com/Jorgesys/Android-animated-Gifs\r\n  [4]: https://i.stack.imgur.com/KYd2s.gif","title":"Display Animated GIF","body":"<p>There are two options to load animated gifs into our Android apps</p>\n\n<p>1)Using <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> to load the gif into an <code>ImageView</code>.</p>\n\n<pre><code>    String urlGif = \"https://cdn.dribbble.com/users/263558/screenshots/1337078/dvsd.gif\";\n    //add Glide implementation into the build.gradle file.\n    ImageView imageView = (ImageView)findViewById(R.id.imageView);\n    Uri uri = Uri.parse(urlGif);\n    Glide.with(getApplicationContext()).load(uri).into(imageView);\n</code></pre>\n\n<p>2) Using an html to load the gif into a <code>WebView</code></p>\n\n<p>Create the html with the address to the .gif file:</p>\n\n<pre><code>&lt;html style=\"margin: 0;\"&gt;\n&lt;body style=\"margin: 0;\"&gt;\n&lt;img src=\"https://..../myimage.gif\" style=\"width: 100%; height: 100%\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>store this file into the assets directory:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dxbPh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxbPh.png\" alt=\"enter image description here\"></a></p>\n\n<p>The load this html into the WebView of your application:</p>\n\n<pre><code>    WebView webView =  (WebView)findViewById(R.id.webView);\n    webView = (WebView) findViewById(R.id.webView);\n    webView.loadUrl(\"file:///android_asset/html/webpage_gif.html\");\n</code></pre>\n\n<hr>\n\n<p>Heres is a <a href=\"https://github.com/Jorgesys/Android-animated-Gifs\" rel=\"nofollow noreferrer\"><strong>complete example of this two options</strong></a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KYd2s.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KYd2s.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":203126,"reputation":1669,"user_id":450596,"accept_rate":51,"display_name":"Lakshmanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517470059,"creation_date":1517470059,"answer_id":48557424,"question_id":3660209,"body_markdown":"Easiest way - Can be consider the below code\r\n\r\nWe can take advantage of Imageview setImageResource , refer below code for the same.\r\n\r\nThe below code can be used to show the image like gif incase if you have the multiple split image of gif. Just split the gif into individual png from a online tool and put image in the drawable like the below order\r\n\r\nimage_1.png, image_2.png, etc.\r\n\r\nHave the handler to change the image dynamically.\r\n\r\n    int imagePosition = 1;\r\n        Handler handler = new Handler();\r\n            Runnable runnable = new Runnable() {\r\n                public void run() {\r\n                    updateImage();\r\n                }\r\n            };\r\n\r\n\r\n\r\n\r\n        public void updateImage() {\r\n    \r\n                    appInstance.runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            int resId = getResources().getIdentifier(&quot;image_&quot; + imagePosition, &quot;drawable&quot;, appInstance.getPackageName());\r\n                            gifImageViewDummy.setImageResource(resId);\r\n                            imagePosition++;\r\n        //Consider you have 30 image for the anim\r\n                            if (imagePosition == 30) {\r\n    //this make animation play only once\r\n                                handler.removeCallbacks(runnable);\r\n    \r\n                            } else {\r\n        //You can define your own time based on the animation\r\n                                handler.postDelayed(runnable, 50);\r\n                            }\r\n    \r\n    //to make animation to continue use below code and remove above if else\r\n    // if (imagePosition == 30)\r\n    //imagePosition = 1;\r\n    // handler.postDelayed(runnable, 50);\r\n    // \r\n                        }\r\n                    });\r\n                  }","title":"Display Animated GIF","body":"<p>Easiest way - Can be consider the below code</p>\n\n<p>We can take advantage of Imageview setImageResource , refer below code for the same.</p>\n\n<p>The below code can be used to show the image like gif incase if you have the multiple split image of gif. Just split the gif into individual png from a online tool and put image in the drawable like the below order</p>\n\n<p>image_1.png, image_2.png, etc.</p>\n\n<p>Have the handler to change the image dynamically.</p>\n\n<pre><code>int imagePosition = 1;\n    Handler handler = new Handler();\n        Runnable runnable = new Runnable() {\n            public void run() {\n                updateImage();\n            }\n        };\n\n\n\n\n    public void updateImage() {\n\n                appInstance.runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        int resId = getResources().getIdentifier(\"image_\" + imagePosition, \"drawable\", appInstance.getPackageName());\n                        gifImageViewDummy.setImageResource(resId);\n                        imagePosition++;\n    //Consider you have 30 image for the anim\n                        if (imagePosition == 30) {\n//this make animation play only once\n                            handler.removeCallbacks(runnable);\n\n                        } else {\n    //You can define your own time based on the animation\n                            handler.postDelayed(runnable, 50);\n                        }\n\n//to make animation to continue use below code and remove above if else\n// if (imagePosition == 30)\n//imagePosition = 1;\n// handler.postDelayed(runnable, 50);\n// \n                    }\n                });\n              }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6541082,"reputation":1106,"user_id":5058630,"accept_rate":57,"display_name":"Gowsik"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1519549001,"creation_date":1519549001,"answer_id":48971859,"question_id":3660209,"body_markdown":"***Glide 4.6***\r\n\r\n**1. To Load gif**\r\n\r\n    GlideApp.with(context)\r\n                .load(R.raw.gif) // or url\r\n                .into(imageview);\r\n**2. To get the file object**\r\n\r\n    GlideApp.with(context)\r\n                    .asGif()\r\n                    .load(R.raw.gif) //or url\r\n                    .into(new SimpleTarget&lt;GifDrawable&gt;() {\r\n                        @Override\r\n                        public void onResourceReady(@NonNull GifDrawable resource, @Nullable Transition&lt;? super GifDrawable&gt; transition) {\r\n    \r\n                            resource.start();\r\n                          //resource.setLoopCount(1);\r\n                            imageView.setImageDrawable(resource);\r\n                        }\r\n                    });\r\n\r\n\r\n","title":"Display Animated GIF","body":"<p><strong><em>Glide 4.6</em></strong></p>\n\n<p><strong>1. To Load gif</strong></p>\n\n<pre><code>GlideApp.with(context)\n            .load(R.raw.gif) // or url\n            .into(imageview);\n</code></pre>\n\n<p><strong>2. To get the file object</strong></p>\n\n<pre><code>GlideApp.with(context)\n                .asGif()\n                .load(R.raw.gif) //or url\n                .into(new SimpleTarget&lt;GifDrawable&gt;() {\n                    @Override\n                    public void onResourceReady(@NonNull GifDrawable resource, @Nullable Transition&lt;? super GifDrawable&gt; transition) {\n\n                        resource.start();\n                      //resource.setLoopCount(1);\n                        imageView.setImageDrawable(resource);\n                    }\n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5246132,"reputation":159,"user_id":4191801,"display_name":"Ovais Chaudhry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519683094,"creation_date":1519640927,"answer_id":48986285,"question_id":3660209,"body_markdown":"The easy way to display animated GIF directly from URL to your app layout is to use WebView class. \r\n\r\nStep 1:\r\n**In your layout XML**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;WebView\r\n    android:id=&quot;@+id/webView&quot;\r\n    android:layout_width=&quot;50dp&quot;\r\n    android:layout_height=&quot;50dp&quot;\r\n    /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nStep 2: **In your Activity**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    WebView wb;\r\n    wb = (WebView) findViewById(R.id.webView);\r\n    wb.loadUrl(&quot;https://.......);\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nStep 3: **In your Manifest.XML make Internet permission**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nStep 4: **In case you want to make your GIF background transparent and make GIF fit to your Layout**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    wb.setBackgroundColor(Color.TRANSPARENT);\r\n    wb.getSettings().setLoadWithOverviewMode(true);\r\n    wb.getSettings().setUseWideViewPort(true);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Display Animated GIF","body":"<p>The easy way to display animated GIF directly from URL to your app layout is to use WebView class. </p>\n\n<p>Step 1:\n<strong>In your layout XML</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;WebView\r\nandroid:id=\"@+id/webView\"\r\nandroid:layout_width=\"50dp\"\r\nandroid:layout_height=\"50dp\"\r\n/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Step 2: <strong>In your Activity</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>WebView wb;\r\nwb = (WebView) findViewById(R.id.webView);\r\nwb.loadUrl(\"https://.......);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Step 3: <strong>In your Manifest.XML make Internet permission</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Step 4: <strong>In case you want to make your GIF background transparent and make GIF fit to your Layout</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>wb.setBackgroundColor(Color.TRANSPARENT);\r\nwb.getSettings().setLoadWithOverviewMode(true);\r\nwb.getSettings().setUseWideViewPort(true);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527052997,"creation_date":1527052997,"answer_id":50480385,"question_id":3660209,"body_markdown":"Just wanted to add that the [Movie][1] class is now deprecated. \r\n&gt;This class was deprecated in API level P. \r\n\r\nIt is recommended to use this \r\n\r\n[AnimatedImageDrawable][2]\r\n\r\n&gt;Drawable for drawing animated images (like GIF).\r\n\r\n  \r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/Movie\r\n  [2]: https://developer.android.com/reference/android/graphics/drawable/AnimatedImageDrawable","title":"Display Animated GIF","body":"<p>Just wanted to add that the <a href=\"https://developer.android.com/reference/android/graphics/Movie\" rel=\"nofollow noreferrer\">Movie</a> class is now deprecated. </p>\n\n<blockquote>\n  <p>This class was deprecated in API level P. </p>\n</blockquote>\n\n<p>It is recommended to use this </p>\n\n<p><a href=\"https://developer.android.com/reference/android/graphics/drawable/AnimatedImageDrawable\" rel=\"nofollow noreferrer\">AnimatedImageDrawable</a></p>\n\n<blockquote>\n  <p>Drawable for drawing animated images (like GIF).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533751159,"creation_date":1533695219,"answer_id":51737794,"question_id":3660209,"body_markdown":"&lt;h2&gt;For only android API (Android Pie)28 and +&lt;/h2&gt; use [AnimatedImageDrawable][1] as\r\n\r\n    // ImageView from layout\r\n    val ima : ImageView = findViewById(R.id.img_gif)\r\n    // create AnimatedDrawable \r\n    val decodedAnimation = ImageDecoder.decodeDrawable(\r\n            // create ImageDecoder.Source object\r\n            ImageDecoder.createSource(resources, R.drawable.tenor))\r\n    // set the drawble as image source of ImageView\r\n    ima.setImageDrawable(decodedAnimation)\r\n    // play the animation\r\n    (decodedAnimation as? AnimatedImageDrawable)?.start()\r\n\r\nXML code, add a ImageView\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img_gif&quot;\r\n        android:background=&quot;@drawable/ic_launcher_background&quot; &lt;!--Default background--&gt;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot; /&gt;\r\n \r\n\r\n\r\n`AnimatedImageDrawable` is a child of Drawable and created by `ImageDecoder.decodeDrawable`\r\n\r\n`ImageDecoder.decodeDrawable` which further required the instance of `ImageDecoder.Source` created by `ImageDecoder.createSource`.\r\n\r\n`ImageDecoder.createSource` can only take source as a name, ByteBuffer, File, resourceId, URI, ContentResolver to create source object and uses it to create `AnimatedImageDrawable` as `Drawable` (polymorphic call)\r\n\r\n    static ImageDecoder.Source\tcreateSource(AssetManager assets, String fileName)\r\n    static ImageDecoder.Source\tcreateSource(ByteBuffer buffer)\r\n    static ImageDecoder.Source\tcreateSource(File file)\r\n    static ImageDecoder.Source\tcreateSource(Resources res, int resId)\r\n    static ImageDecoder.Source\tcreateSource(ContentResolver cr, Uri uri)\r\n\r\nNote: You can also create `Bitmap` using [ImageDecoder#decodeBitmap][2].\r\n\r\nOutput:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Pi22j.gif&quot; width=&quot;256&quot; /&gt;\r\n\r\n[**AnimatedDrawable also supports resizing, frame and color manipulation**][3]\r\n\r\n  \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/drawable/AnimatedImageDrawable\r\n  [2]: https://developer.android.com/reference/android/graphics/ImageDecoder.html#decodeBitmap(android.graphics.ImageDecoder.Source)\r\n  [3]: https://github.com/Pavneet-Sing/Demos/tree/master/Android/AnimatedImageDrawable","title":"Display Animated GIF","body":"<p><h2>For only android API (Android Pie)28 and +</h2> use <a href=\"https://developer.android.com/reference/android/graphics/drawable/AnimatedImageDrawable\" rel=\"nofollow noreferrer\">AnimatedImageDrawable</a> as</p>\n\n<pre><code>// ImageView from layout\nval ima : ImageView = findViewById(R.id.img_gif)\n// create AnimatedDrawable \nval decodedAnimation = ImageDecoder.decodeDrawable(\n        // create ImageDecoder.Source object\n        ImageDecoder.createSource(resources, R.drawable.tenor))\n// set the drawble as image source of ImageView\nima.setImageDrawable(decodedAnimation)\n// play the animation\n(decodedAnimation as? AnimatedImageDrawable)?.start()\n</code></pre>\n\n<p>XML code, add a ImageView</p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/img_gif\"\n    android:background=\"@drawable/ic_launcher_background\" &lt;!--Default background--&gt;\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    android:layout_width=\"200dp\"\n    android:layout_height=\"200dp\" /&gt;\n</code></pre>\n\n<p><code>AnimatedImageDrawable</code> is a child of Drawable and created by <code>ImageDecoder.decodeDrawable</code></p>\n\n<p><code>ImageDecoder.decodeDrawable</code> which further required the instance of <code>ImageDecoder.Source</code> created by <code>ImageDecoder.createSource</code>.</p>\n\n<p><code>ImageDecoder.createSource</code> can only take source as a name, ByteBuffer, File, resourceId, URI, ContentResolver to create source object and uses it to create <code>AnimatedImageDrawable</code> as <code>Drawable</code> (polymorphic call)</p>\n\n<pre><code>static ImageDecoder.Source  createSource(AssetManager assets, String fileName)\nstatic ImageDecoder.Source  createSource(ByteBuffer buffer)\nstatic ImageDecoder.Source  createSource(File file)\nstatic ImageDecoder.Source  createSource(Resources res, int resId)\nstatic ImageDecoder.Source  createSource(ContentResolver cr, Uri uri)\n</code></pre>\n\n<p>Note: You can also create <code>Bitmap</code> using <a href=\"https://developer.android.com/reference/android/graphics/ImageDecoder.html#decodeBitmap(android.graphics.ImageDecoder.Source)\" rel=\"nofollow noreferrer\">ImageDecoder#decodeBitmap</a>.</p>\n\n<p>Output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Pi22j.gif\" width=\"256\" /></p>\n\n<p><a href=\"https://github.com/Pavneet-Sing/Demos/tree/master/Android/AnimatedImageDrawable\" rel=\"nofollow noreferrer\"><strong>AnimatedDrawable also supports resizing, frame and color manipulation</strong></a></p>\n"},{"tags":[],"owner":{"account_id":5638034,"reputation":387,"user_id":4462906,"accept_rate":47,"display_name":"Roon13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627330610,"creation_date":1627330610,"answer_id":68535900,"question_id":3660209,"body_markdown":"If you want to use Glide for loading gif: \r\n\r\n    Glide.with(this)\r\n            .asGif()\r\n            .load(R.raw.onboarding_layers) //Your gif resource\r\n            .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.NONE))\r\n            .listener(new RequestListener&lt;GifDrawable&gt;() {\r\n                @Override\r\n                public boolean onLoadFailed(@Nullable @org.jetbrains.annotations.Nullable GlideException e, Object model, Target&lt;GifDrawable&gt; target, boolean isFirstResource) {\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public boolean onResourceReady(GifDrawable resource, Object model, Target&lt;GifDrawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                    resource.setLoopCount(1);\r\n                    return false;\r\n                }\r\n            })\r\n            .into((ImageView) view.findViewById(R.id.layer_icons));","title":"Display Animated GIF","body":"<p>If you want to use Glide for loading gif:</p>\n<pre><code>Glide.with(this)\n        .asGif()\n        .load(R.raw.onboarding_layers) //Your gif resource\n        .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.NONE))\n        .listener(new RequestListener&lt;GifDrawable&gt;() {\n            @Override\n            public boolean onLoadFailed(@Nullable @org.jetbrains.annotations.Nullable GlideException e, Object model, Target&lt;GifDrawable&gt; target, boolean isFirstResource) {\n                return false;\n            }\n\n            @Override\n            public boolean onResourceReady(GifDrawable resource, Object model, Target&lt;GifDrawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n                resource.setLoopCount(1);\n                return false;\n            }\n        })\n        .into((ImageView) view.findViewById(R.id.layer_icons));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7247473,"reputation":575,"user_id":6402604,"display_name":"Milan Jurkulak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627359323,"creation_date":1627359323,"answer_id":68538888,"question_id":3660209,"body_markdown":"To save resources there is glide library for.\r\nHave no idea why to use anything else, especialy webview to show image only.\r\nGlide is perfect and easy library that prepares animated drawable from gif and put it directly to imageview.\r\nThe logic of gifdrawable handle animation itself.\r\nGif have lzw ziped raw rgb data of an animation inside.\r\nThere is no reason for complicated usage of webview and manage more files to show just a gif file in app.\r\n\r\n\r\n","title":"Display Animated GIF","body":"<p>To save resources there is glide library for.\nHave no idea why to use anything else, especialy webview to show image only.\nGlide is perfect and easy library that prepares animated drawable from gif and put it directly to imageview.\nThe logic of gifdrawable handle animation itself.\nGif have lzw ziped raw rgb data of an animation inside.\nThere is no reason for complicated usage of webview and manage more files to show just a gif file in app.</p>\n"}],"owner":{"account_id":76733,"reputation":10560,"user_id":219449,"accept_rate":81,"display_name":"Leonti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435678,"favorite_count":0,"down_vote_count":1,"up_vote_count":271,"accepted_answer_id":7772170,"answer_count":29,"score":270,"last_activity_date":1648554039,"creation_date":1283874150,"question_id":3660209,"body_markdown":"I want to display animated GIF images in my aplication.\r\nAs I found out the hard way Android doesn&#39;t support animated GIF natively.\r\n\r\nHowever it can display animations using [AnimationDrawable][1]:\r\n\r\n[Develop &gt; Guides &gt; Images &amp; Graphics &gt; Drawables Overview][2]\r\n\r\n\r\n\r\n\r\n\r\nThe example uses animation saved as frames in application resources but what I need is to display animated gif directly.\r\n\r\nMy plan is to break animated GIF to frames and add each frame as drawable to AnimationDrawable.\r\n\r\nDoes anyone know how to extract frames from animated GIF and convert each of them into [Drawable][3]?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html\r\n  [2]: http://developer.android.com/guide/topics/graphics/2d-graphics.html#frame-animation\r\n  [3]: http://developer.android.com/reference/android/graphics/drawable/Drawable.html","title":"Display Animated GIF","body":"<p>I want to display animated GIF images in my aplication.\nAs I found out the hard way Android doesn't support animated GIF natively.</p>\n\n<p>However it can display animations using <a href=\"http://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html\" rel=\"noreferrer\">AnimationDrawable</a>:</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/graphics/2d-graphics.html#frame-animation\" rel=\"noreferrer\">Develop > Guides > Images &amp; Graphics > Drawables Overview</a></p>\n\n<p>The example uses animation saved as frames in application resources but what I need is to display animated gif directly.</p>\n\n<p>My plan is to break animated GIF to frames and add each frame as drawable to AnimationDrawable.</p>\n\n<p>Does anyone know how to extract frames from animated GIF and convert each of them into <a href=\"http://developer.android.com/reference/android/graphics/drawable/Drawable.html\" rel=\"noreferrer\">Drawable</a>?</p>\n"},{"tags":["java","jar","ant"],"comments":[{"owner":{"account_id":5728797,"reputation":3260,"user_id":4524982,"display_name":"Stefan Bodewig"},"score":0,"creation_date":1648549475,"post_id":71656685,"comment_id":126646806,"body_markdown":"you are passing arguments (`${arg0}` and `${arg1}`). I don&#39;t think I understand what you are asking.","body":"you are passing arguments (<code>${arg0}</code> and <code>${arg1}</code>). I don&#39;t think I understand what you are asking."},{"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"score":0,"creation_date":1648549541,"post_id":71656685,"comment_id":126646827,"body_markdown":"@StefanBodewig  thanks for the reposnse , yes I have used the proper arguments as well like :  &lt;arg value=&quot;${com.test}&quot;/&gt; as well , still getting nothing","body":"@StefanBodewig  thanks for the reposnse , yes I have used the proper arguments as well like :  &lt;arg value=&quot;${com.test}&quot;/&gt; as well , still getting nothing"},{"owner":{"account_id":5728797,"reputation":3260,"user_id":4524982,"display_name":"Stefan Bodewig"},"score":0,"creation_date":1648549586,"post_id":71656685,"comment_id":126646855,"body_markdown":"so what is your question, then?","body":"so what is your question, then?"},{"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"score":0,"creation_date":1648549626,"post_id":71656685,"comment_id":126646873,"body_markdown":"I am getting null .. so these arguments is not working","body":"I am getting null .. so these arguments is not working"},{"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"score":0,"creation_date":1648549691,"post_id":71656685,"comment_id":126646902,"body_markdown":"using command like : ant -Dcom.test=TEST1 targetName","body":"using command like : ant -Dcom.test=TEST1 targetName"},{"owner":{"account_id":5728797,"reputation":3260,"user_id":4524982,"display_name":"Stefan Bodewig"},"score":1,"creation_date":1648549767,"post_id":71656685,"comment_id":126646939,"body_markdown":"you can run `ant -verbose` to see what Ant actually uses as command line arguments.","body":"you can run <code>ant -verbose</code> to see what Ant actually uses as command line arguments."},{"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"score":0,"creation_date":1648549793,"post_id":71656685,"comment_id":126646954,"body_markdown":"updated the xml and added the command in question .","body":"updated the xml and added the command in question ."},{"owner":{"account_id":5728797,"reputation":3260,"user_id":4524982,"display_name":"Stefan Bodewig"},"score":0,"creation_date":1648549963,"post_id":71656685,"comment_id":126647029,"body_markdown":"with your updated question I would expect Ant to send the equivalent of `java -Xlingc -cp myjar.jar EXPANDED(read-secret) TEST1`. Is this not what you want?","body":"with your updated question I would expect Ant to send the equivalent of <code>java -Xlingc -cp myjar.jar EXPANDED(read-secret) TEST1</code>. Is this not what you want?"},{"owner":{"account_id":5728797,"reputation":3260,"user_id":4524982,"display_name":"Stefan Bodewig"},"score":1,"creation_date":1648550108,"post_id":71656685,"comment_id":126647086,"body_markdown":"`arg` is for everything after the class name, `jvmarg` for everything before the class name and if you want to set system properties (i.e. `-Dfoo=bar` before the class name) then you better use `sysproperty`.","body":"<code>arg</code> is for everything after the class name, <code>jvmarg</code> for everything before the class name and if you want to set system properties (i.e. <code>-Dfoo=bar</code> before the class name) then you better use <code>sysproperty</code>."},{"owner":{"account_id":5728797,"reputation":3260,"user_id":4524982,"display_name":"Stefan Bodewig"},"score":1,"creation_date":1648550250,"post_id":71656685,"comment_id":126647147,"body_markdown":"also note, for jvmarg to have any effect you need to set `fork=true` as the default is to run the java class inside of the same VM that is running Ant.","body":"also note, for jvmarg to have any effect you need to set <code>fork=true</code> as the default is to run the java class inside of the same VM that is running Ant."},{"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"score":0,"creation_date":1648550853,"post_id":71656685,"comment_id":126647372,"body_markdown":"Thanks a lot @StefanBodewig .. its working now :D ... Please add this as a answer .. I will accept it :)","body":"Thanks a lot @StefanBodewig .. its working now :D ... Please add this as a answer .. I will accept it :)"}],"answers":[{"tags":[],"owner":{"account_id":5728797,"reputation":3260,"user_id":4524982,"display_name":"Stefan Bodewig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648551680,"creation_date":1648551680,"answer_id":71660862,"question_id":71656685,"body_markdown":"There are different kinds of arguments on the command line. The arguments that come before the class name are the arguments used and consumed by the JVM and you set them via `jvmarg` in Ant&#39;s `java` task. Arguments after the class name are sent to your class and you set them via `arg`.\r\n\r\nA special case of `jvmarg` is the system property which is set via `-Dname=value` before the class name when you use the command line. Ant provides `sysproperty` for that.\r\n\r\n`jvmarg`s require the task&#39;s `fork` attribute to be set to true as the default is to run the class in the same JVM that is executing Ant and thus the arguments to that have already been set. This does not apply to `sysproperty` which works with all `fork` settings.\r\n\r\nIf in doubt run `ant -verbose` which will provide you with the command line arguments Ant actually uses. ","title":"How to execute an external jar with classpath and also having CI argument using ant","body":"<p>There are different kinds of arguments on the command line. The arguments that come before the class name are the arguments used and consumed by the JVM and you set them via <code>jvmarg</code> in Ant's <code>java</code> task. Arguments after the class name are sent to your class and you set them via <code>arg</code>.</p>\n<p>A special case of <code>jvmarg</code> is the system property which is set via <code>-Dname=value</code> before the class name when you use the command line. Ant provides <code>sysproperty</code> for that.</p>\n<p><code>jvmarg</code>s require the task's <code>fork</code> attribute to be set to true as the default is to run the class in the same JVM that is executing Ant and thus the arguments to that have already been set. This does not apply to <code>sysproperty</code> which works with all <code>fork</code> settings.</p>\n<p>If in doubt run <code>ant -verbose</code> which will provide you with the command line arguments Ant actually uses.</p>\n"},{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648553710,"creation_date":1648553710,"answer_id":71661291,"question_id":71656685,"body_markdown":"Extended @Stefan Bodewig answer .. below is the ant block which works for me\r\n\r\n    &lt;target name=&quot;readclass&quot;&gt;\r\n    \t&lt;java classname=&quot;${read-class}&quot; fork=&quot;true&quot; failonerror=&quot;true&quot;&gt;\r\n    \t     &lt;classpath&gt;\r\n    \t       &lt;pathelement location=&quot;myjar.jar&quot;/&gt;\r\n    \t     &lt;/classpath&gt;\r\n    \t\t &lt;sysproperty key=&quot;com.test&quot; value=&quot;${com.test}&quot;/&gt;\r\n    \t\t &lt;sysproperty key=&quot;com.country&quot; value=&quot;${com.country}&quot;/&gt;\r\n    \t&lt;/java&gt;\r\n    &lt;/target&gt;","title":"How to execute an external jar with classpath and also having CI argument using ant","body":"<p>Extended @Stefan Bodewig answer .. below is the ant block which works for me</p>\n<pre><code>&lt;target name=&quot;readclass&quot;&gt;\n    &lt;java classname=&quot;${read-class}&quot; fork=&quot;true&quot; failonerror=&quot;true&quot;&gt;\n         &lt;classpath&gt;\n           &lt;pathelement location=&quot;myjar.jar&quot;/&gt;\n         &lt;/classpath&gt;\n         &lt;sysproperty key=&quot;com.test&quot; value=&quot;${com.test}&quot;/&gt;\n         &lt;sysproperty key=&quot;com.country&quot; value=&quot;${com.country}&quot;/&gt;\n    &lt;/java&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71660862,"answer_count":2,"score":0,"last_activity_date":1648553710,"creation_date":1648529951,"question_id":71656685,"body_markdown":"I have a situation where I have a jar already with me. I do not need to create another jar using ant. Also, classpath should add as well. \r\n\r\n**So my main goal is to run below command using ant**\r\n\r\nExample is as below:\r\n\r\n    java -cp myjar.jar -DParameterA=A -DParameterB=B com.mypackagename.package.ClassName\r\n\r\n---------\r\nI have refer below as well:\r\n\r\nhttps://ant.apache.org/manual/Tasks/java.html\r\n\r\nI am using command like:\r\n\r\n     ant -Dcom.test=TEST1 targetName\r\n\r\nIn build.xml of ant I am trying something like below:\r\n\r\n    &lt;target name=&quot;readclass&quot;&gt;\r\n    \t&lt;java classname=&quot;${read-class}&quot;&gt;\r\n    \t     &lt;classpath&gt;\r\n    \t       &lt;pathelement location=&quot;myjar.jar&quot;/&gt;\r\n    \t     &lt;/classpath&gt;\r\n    \t\t &lt;jvmarg value=&quot;-Xlingc&quot;/&gt;\r\n    \t     &lt;arg value=&quot;${com.test}&quot;/&gt;\r\n    \t&lt;/java&gt;\r\n    &lt;/target&gt;\r\n\r\nBut using my above code I am not able to pass arguments. \r\nany suggestion would be helpful!!","title":"How to execute an external jar with classpath and also having CI argument using ant","body":"<p>I have a situation where I have a jar already with me. I do not need to create another jar using ant. Also, classpath should add as well.</p>\n<p><strong>So my main goal is to run below command using ant</strong></p>\n<p>Example is as below:</p>\n<pre><code>java -cp myjar.jar -DParameterA=A -DParameterB=B com.mypackagename.package.ClassName\n</code></pre>\n<hr />\n<p>I have refer below as well:</p>\n<p><a href=\"https://ant.apache.org/manual/Tasks/java.html\" rel=\"nofollow noreferrer\">https://ant.apache.org/manual/Tasks/java.html</a></p>\n<p>I am using command like:</p>\n<pre><code> ant -Dcom.test=TEST1 targetName\n</code></pre>\n<p>In build.xml of ant I am trying something like below:</p>\n<pre><code>&lt;target name=&quot;readclass&quot;&gt;\n    &lt;java classname=&quot;${read-class}&quot;&gt;\n         &lt;classpath&gt;\n           &lt;pathelement location=&quot;myjar.jar&quot;/&gt;\n         &lt;/classpath&gt;\n         &lt;jvmarg value=&quot;-Xlingc&quot;/&gt;\n         &lt;arg value=&quot;${com.test}&quot;/&gt;\n    &lt;/java&gt;\n&lt;/target&gt;\n</code></pre>\n<p>But using my above code I am not able to pass arguments.\nany suggestion would be helpful!!</p>\n"},{"tags":["java","spring","spring-boot","yaml","spring-profiles"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1648552268,"post_id":71660732,"comment_id":126647911,"body_markdown":"Other than a missing dollar sign for `${SPRING_PROFILE:default}` I don&#39;t see anything wrong. I copied your config to a new Spring boot project, fixed the missing `$`, ran it with the profiles and it worked fine.","body":"Other than a missing dollar sign for <code>${SPRING_PROFILE:default}</code> I don&#39;t see anything wrong. I copied your config to a new Spring boot project, fixed the missing <code>$</code>, ran it with the profiles and it worked fine."},{"owner":{"account_id":15585316,"reputation":68,"user_id":11244023,"display_name":"Xolo12er"},"score":0,"creation_date":1648552378,"post_id":71660732,"comment_id":126647954,"body_markdown":"Yeah I have added the dollar sign in original code.","body":"Yeah I have added the dollar sign in original code."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1648553128,"post_id":71660732,"comment_id":126648215,"body_markdown":"But it still doesn&#39;t work, even with the dollar sign? Because if we can&#39;t reproduce it from the code you posted, there must be something else going on.","body":"But it still doesn&#39;t work, even with the dollar sign? Because if we can&#39;t reproduce it from the code you posted, there must be something else going on."},{"owner":{"account_id":15585316,"reputation":68,"user_id":11244023,"display_name":"Xolo12er"},"score":1,"creation_date":1648553385,"post_id":71660732,"comment_id":126648324,"body_markdown":"I figured that my springboot is 2.3 will there be any change for spring 2.3 in this code or will it work for that as well?","body":"I figured that my springboot is 2.3 will there be any change for spring 2.3 in this code or will it work for that as well?"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1648553616,"post_id":71660732,"comment_id":126648403,"body_markdown":"That&#39;s indeed the issue. The configuration you&#39;re using was introduced in Spring boot **2.4**. Before that you had to use other properties. See my answer for more information.","body":"That&#39;s indeed the issue. The configuration you&#39;re using was introduced in Spring boot <b>2.4</b>. Before that you had to use other properties. See my answer for more information."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648553581,"creation_date":1648553581,"answer_id":71661257,"question_id":71660732,"body_markdown":"The configuration you&#39;re using works only from **Spring boot 2.4** and higher (see [relevant blogpost](https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4)).\r\n\r\nBefore that, you had to use the `spring.profiles` property. For example:\r\n\r\n```yaml\r\nspring:\r\n profiles:\r\n   active: ${SPRING_PROFILE:default} # The dollar sign was also missing\r\n---\r\nspring:\r\n application:\r\n   name: application-mode1\r\n profiles: mode1\r\nconfig:\r\n filter:\r\n  ruleId: 1\r\n---\r\nspring:\r\n application:\r\n   name: application-mode2\r\n profiles: mode2\r\nconfig:\r\n filter:\r\n  ruleId: 2\r\n```","title":"The Spring profile property values being overridden in yaml file","body":"<p>The configuration you're using works only from <strong>Spring boot 2.4</strong> and higher (see <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">relevant blogpost</a>).</p>\n<p>Before that, you had to use the <code>spring.profiles</code> property. For example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n profiles:\n   active: ${SPRING_PROFILE:default} # The dollar sign was also missing\n---\nspring:\n application:\n   name: application-mode1\n profiles: mode1\nconfig:\n filter:\n  ruleId: 1\n---\nspring:\n application:\n   name: application-mode2\n profiles: mode2\nconfig:\n filter:\n  ruleId: 2\n</code></pre>\n"}],"owner":{"account_id":15585316,"reputation":68,"user_id":11244023,"display_name":"Xolo12er"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71661257,"answer_count":1,"score":0,"last_activity_date":1648553581,"creation_date":1648551024,"question_id":71660732,"body_markdown":"So my property file looks like:-\r\n\r\n    spring:\r\n     profiles:\r\n       active: {SPRING_PROFILE:default}\r\n    ---\r\n    spring:\r\n     application:\r\n       name: application-mode1\r\n     config:\r\n       activate:\r\n         on-profile: mode1\r\n    config:\r\n     filter:\r\n      ruleId: 1\r\n    ---\r\n    spring:\r\n     application:\r\n       name: application-mode2\r\n     config:\r\n       activate:\r\n         on-profile: mode2\r\n    config:\r\n     filter:\r\n      ruleId: 2\r\n\r\nI am setting the SPRING_PROFILE value at runtime. So there is two deployment of same application in same environment. The two profiles(mode1, mode2) are getting mapped to specific deployments as the spring starter log &quot;message&quot;:&quot;The following profiles are active: mode1&quot;, suggested but when it comes to fetching the ruleId only the last mentioned and updated value is getting fetched by both the apps not the profile specific rule id. In this case it is 2 but if I reverse this it will be 1 for both the apps. kindly suggest any alternative. This app is deployed using kubernetes.\r\n\r\n\r\n","title":"The Spring profile property values being overridden in yaml file","body":"<p>So my property file looks like:-</p>\n<pre><code>spring:\n profiles:\n   active: {SPRING_PROFILE:default}\n---\nspring:\n application:\n   name: application-mode1\n config:\n   activate:\n     on-profile: mode1\nconfig:\n filter:\n  ruleId: 1\n---\nspring:\n application:\n   name: application-mode2\n config:\n   activate:\n     on-profile: mode2\nconfig:\n filter:\n  ruleId: 2\n</code></pre>\n<p>I am setting the SPRING_PROFILE value at runtime. So there is two deployment of same application in same environment. The two profiles(mode1, mode2) are getting mapped to specific deployments as the spring starter log &quot;message&quot;:&quot;The following profiles are active: mode1&quot;, suggested but when it comes to fetching the ruleId only the last mentioned and updated value is getting fetched by both the apps not the profile specific rule id. In this case it is 2 but if I reverse this it will be 1 for both the apps. kindly suggest any alternative. This app is deployed using kubernetes.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1648138386,"post_id":71605799,"comment_id":126553989,"body_markdown":"If the classes share no common parents, then those fields are *unrelated*. The fact that they have the same name is not a concern for the JVM; they&#39;re two completely distinct fields. You can probably do some deep shenanigans with reflection to pretend they&#39;re related, but the right answer here is definitely: have a common superclass or interface.","body":"If the classes share no common parents, then those fields are <i>unrelated</i>. The fact that they have the same name is not a concern for the JVM; they&#39;re two completely distinct fields. You can probably do some deep shenanigans with reflection to pretend they&#39;re related, but the right answer here is definitely: have a common superclass or interface."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":3,"creation_date":1648138397,"post_id":71605799,"comment_id":126553991,"body_markdown":"Strong hints that we might be deal with an [XY Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) here: what are you doing that you&#39;re working with generated classes instead of classes that are under your control?","body":"Strong hints that we might be deal with an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> here: what are you doing that you&#39;re working with generated classes instead of classes that are under your control?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648138598,"post_id":71605799,"comment_id":126554067,"body_markdown":"Especially given that you can&#39;t generate classes that match your problem? The point of code generation is: to give you something useful to work with. When the stuff that gets generated isn&#39;t useful ... then consider to talk to the people that generate that code.","body":"Especially given that you can&#39;t generate classes that match your problem? The point of code generation is: to give you something useful to work with. When the stuff that gets generated isn&#39;t useful ... then consider to talk to the people that generate that code."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648138816,"post_id":71605799,"comment_id":126554160,"body_markdown":"And note: when you do `Object ret = whatsoever` ... then it really doesn&#39;t matter to the Java compiler what happens on the right hand side of that assignment. The compiler only &quot;remembers&quot; that `ret` is of type Object. And Object doesn&#39;t have those fields and setters. Java is a statically typed language that doesn&#39;t support &quot;duck typing&quot;. Silvio nailed it: your classes A and B have no conceptual relationships, field names are meaningless. Finally, yes, reflection could work (well) here ... but with reflection, you always have to know what you are doing. And I somehow wonder about that point.","body":"And note: when you do <code>Object ret = whatsoever</code> ... then it really doesn&#39;t matter to the Java compiler what happens on the right hand side of that assignment. The compiler only &quot;remembers&quot; that <code>ret</code> is of type Object. And Object doesn&#39;t have those fields and setters. Java is a statically typed language that doesn&#39;t support &quot;duck typing&quot;. Silvio nailed it: your classes A and B have no conceptual relationships, field names are meaningless. Finally, yes, reflection could work (well) here ... but with reflection, you always have to know what you are doing. And I somehow wonder about that point."},{"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"score":0,"creation_date":1648205829,"post_id":71605799,"comment_id":126571164,"body_markdown":"Yes, I know that this is not very well generated. But we don&#39;t have the possibility to change that. I had wrote that in my question! Comments like, change the generator is not helpful. Because we cannot!!! It&#39;s from external library. I test the reflection. Thank you","body":"Yes, I know that this is not very well generated. But we don&#39;t have the possibility to change that. I had wrote that in my question! Comments like, change the generator is not helpful. Because we cannot!!! It&#39;s from external library. I test the reflection. Thank you"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1648216508,"post_id":71605799,"comment_id":126575062,"body_markdown":"If the number of generated classes are limited, I&#39;d stick to something like `ABBuilder.create(same1, same2).buildA();` or `ab.buildB();` if you&#39;re not at the point where deep diving into reflection is worth while.","body":"If the number of generated classes are limited, I&#39;d stick to something like <code>ABBuilder.create(same1, same2).buildA();</code> or <code>ab.buildB();</code> if you&#39;re not at the point where deep diving into reflection is worth while."}],"answers":[{"tags":[],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648553565,"creation_date":1648553565,"answer_id":71661254,"question_id":71605799,"body_markdown":"Thanks all for your help!\r\n\r\nI found a solution that is very easy. Reflections not work. \r\n\r\n    Class&lt;?&gt; c = returnObj.getClass();\r\n    Method method = c.getDeclaredMethod(&quot;setSame1&quot;, String.class);\r\n    method.invoke(returnObj, &quot;Here a Test&quot;);","title":"How can I set same Property in two different classes?","body":"<p>Thanks all for your help!</p>\n<p>I found a solution that is very easy. Reflections not work.</p>\n<pre><code>Class&lt;?&gt; c = returnObj.getClass();\nMethod method = c.getDeclaredMethod(&quot;setSame1&quot;, String.class);\nmethod.invoke(returnObj, &quot;Here a Test&quot;);\n</code></pre>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71661254,"answer_count":1,"score":0,"last_activity_date":1648553565,"creation_date":1648138184,"question_id":71605799,"body_markdown":"I have two java classes. Some of the properties have the same name. But these classes are generated so I can&#39;t put the properties in a parent class.\r\n\r\nIs there are possibility to use a method to set same properties only one time?\r\n\r\n\r\n    Class A {\r\n      String Same1 = &quot;&quot;;\r\n      String Same2 = &quot;&quot;;\r\n      String AOther1 = &quot;&quot;;\r\n      String AOther2 = &quot;&quot;;\r\n    }\r\n    \r\n    Class B {\r\n      String Same1 = &quot;&quot;;\r\n      String Same2 = &quot;&quot;;\r\n      String BOther1 = &quot;&quot;;\r\n      String BOther2 = &quot;&quot;;\r\n    }\r\nthis I don&#39;t want:\r\n\r\n    {\r\n      a.setSame1(&quot;xyz&quot;);\r\n      a.setSame2(&quot;xyz&quot;);\r\n      a.setAOther1(&quot;xyz&quot;);\r\n      a.setAOther2(&quot;xyz&quot;);\r\n    \r\n      b.setSame1(&quot;xyz&quot;);\r\n      b.setSame2(&quot;xyz&quot;);\r\n      b.setBOther1(&quot;xyz&quot;);\r\n      b.setBOther2(&quot;xyz&quot;);\r\n    }\r\n\r\nI want to do it like this:\r\n\r\n    private Object same(String iClass) {\r\n      Object ret = null;\r\n      if (&quot;A&quot;.equals(iClass)) {\r\n        ret = new A();\r\n      }\r\n      if (&quot;B&quot;.equals(iClass)) {\r\n        ret = new B();\r\n      }\r\n      ret.setSame1(&quot;xyz&quot;);  &lt;-- Here I get &quot;cannot find symbol&quot;. Object has no &quot;same1&quot; property\r\n      ret.setSame2(&quot;xyz&quot;);\r\n      return ret;\r\n    }\r\n    \r\n    {\r\n      A a = this.same(&quot;A&quot;);\r\n      a.setAOther1(&quot;xyz&quot;);\r\n      a.setAOther2(&quot;xyz&quot;);\r\n    \r\n      B b = this.same(&quot;B&quot;);\r\n      b.setBOther1(&quot;xyz&quot;);\r\n      b.setBOther2(&quot;xyz&quot;);\r\n    }\r\n\r\n","title":"How can I set same Property in two different classes?","body":"<p>I have two java classes. Some of the properties have the same name. But these classes are generated so I can't put the properties in a parent class.</p>\n<p>Is there are possibility to use a method to set same properties only one time?</p>\n<pre><code>Class A {\n  String Same1 = &quot;&quot;;\n  String Same2 = &quot;&quot;;\n  String AOther1 = &quot;&quot;;\n  String AOther2 = &quot;&quot;;\n}\n\nClass B {\n  String Same1 = &quot;&quot;;\n  String Same2 = &quot;&quot;;\n  String BOther1 = &quot;&quot;;\n  String BOther2 = &quot;&quot;;\n}\n</code></pre>\n<p>this I don't want:</p>\n<pre><code>{\n  a.setSame1(&quot;xyz&quot;);\n  a.setSame2(&quot;xyz&quot;);\n  a.setAOther1(&quot;xyz&quot;);\n  a.setAOther2(&quot;xyz&quot;);\n\n  b.setSame1(&quot;xyz&quot;);\n  b.setSame2(&quot;xyz&quot;);\n  b.setBOther1(&quot;xyz&quot;);\n  b.setBOther2(&quot;xyz&quot;);\n}\n</code></pre>\n<p>I want to do it like this:</p>\n<pre><code>private Object same(String iClass) {\n  Object ret = null;\n  if (&quot;A&quot;.equals(iClass)) {\n    ret = new A();\n  }\n  if (&quot;B&quot;.equals(iClass)) {\n    ret = new B();\n  }\n  ret.setSame1(&quot;xyz&quot;);  &lt;-- Here I get &quot;cannot find symbol&quot;. Object has no &quot;same1&quot; property\n  ret.setSame2(&quot;xyz&quot;);\n  return ret;\n}\n\n{\n  A a = this.same(&quot;A&quot;);\n  a.setAOther1(&quot;xyz&quot;);\n  a.setAOther2(&quot;xyz&quot;);\n\n  B b = this.same(&quot;B&quot;);\n  b.setBOther1(&quot;xyz&quot;);\n  b.setBOther2(&quot;xyz&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation","annotations"],"comments":[{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1648553682,"post_id":71661076,"comment_id":126648431,"body_markdown":"Please add `)` after `int mass`.","body":"Please add <code>)</code> after <code>int mass</code>."},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1648553758,"post_id":71661076,"comment_id":126648460,"body_markdown":"@Sup19 do you realize that it does not look as here in my ide","body":"@Sup19 do you realize that it does not look as here in my ide"}],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648553523,"creation_date":1648553523,"answer_id":71661246,"question_id":71661076,"body_markdown":"You need to add `@Valid` for request body or field to validate it. Also you can add `@Validated` in controller class. ","title":"@DecimalMin is not validating input","body":"<p>You need to add <code>@Valid</code> for request body or field to validate it. Also you can add <code>@Validated</code> in controller class.</p>\n"}],"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648553523,"creation_date":1648552760,"question_id":71661076,"body_markdown":"I have a spring boot project where I try to validate that a numeric input is greater than zero. I used @DecimalMin for that but is not working. I stormed the internet and tried different approaches but none seem to work.\r\n\r\nThis is the code sample:\r\n\r\n    @GetMapping(&quot;/bmi&quot;)\r\n    public ResponseEntity&lt;BMIDto&gt; getBMI(@RequestParam(&quot;mass&quot;) @Pattern(regexp = &quot;1-9&quot;) @DecimalMin(&quot;0&quot;) int mass {\r\n        return new .....\r\n    }","title":"@DecimalMin is not validating input","body":"<p>I have a spring boot project where I try to validate that a numeric input is greater than zero. I used @DecimalMin for that but is not working. I stormed the internet and tried different approaches but none seem to work.</p>\n<p>This is the code sample:</p>\n<pre><code>@GetMapping(&quot;/bmi&quot;)\npublic ResponseEntity&lt;BMIDto&gt; getBMI(@RequestParam(&quot;mass&quot;) @Pattern(regexp = &quot;1-9&quot;) @DecimalMin(&quot;0&quot;) int mass {\n    return new .....\n}\n</code></pre>\n"},{"tags":["java","homebrew","java-6","sdkman"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":4,"creation_date":1561960847,"post_id":56830642,"comment_id":100213379,"body_markdown":"Probably not, given that JRE 6 is well beyond its end of life.","body":"Probably not, given that JRE 6 is well beyond its end of life."},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":2,"creation_date":1561961099,"post_id":56830642,"comment_id":100213457,"body_markdown":"As @Makoto said, it&#39;s beyond end of life. It doesn&#39;t have any support nor any security updates. What would you like to do? What is your scenario?","body":"As @Makoto said, it&#39;s beyond end of life. It doesn&#39;t have any support nor any security updates. What would you like to do? What is your scenario?"},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":2,"creation_date":1561962539,"post_id":56830642,"comment_id":100213876,"body_markdown":"@ManuelPolacek does the scenario matter? This could simply be a legacy project.","body":"@ManuelPolacek does the scenario matter? This could simply be a legacy project."},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1561962863,"post_id":56830642,"comment_id":100213992,"body_markdown":"@Andronicus yes, it does... There are many different ways to solve a problem. In example, if it is an old web application, you could let it run sandboxed in a docker container, that your underlying system cannot be attacked. Scenario always matters to improve implementation and options. If you know the software, maybe there is an alternative one. The more you know the better options you get.","body":"@Andronicus yes, it does... There are many different ways to solve a problem. In example, if it is an old web application, you could let it run sandboxed in a docker container, that your underlying system cannot be attacked. Scenario always matters to improve implementation and options. If you know the software, maybe there is an alternative one. The more you know the better options you get."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1561963589,"post_id":56830642,"comment_id":100214211,"body_markdown":"@Andronicus One could read this request as &quot;tell me the resource to install java 6 on macos&quot;, which renders it off topic immediately. Then the question should at least make a good point why it is nonetheless relevant. You dont need an old java to run an old application. You dont need an old jre to develop for an old java (sure, the build env needs the right jdk, but for source code editing on your dev machine, you can always force the IDE to allow only older syntax).","body":"@Andronicus One could read this request as &quot;tell me the resource to install java 6 on macos&quot;, which renders it off topic immediately. Then the question should at least make a good point why it is nonetheless relevant. You dont need an old java to run an old application. You dont need an old jre to develop for an old java (sure, the build env needs the right jdk, but for source code editing on your dev machine, you can always force the IDE to allow only older syntax)."},{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":0,"creation_date":1561964210,"post_id":56830642,"comment_id":100214391,"body_markdown":"I found it here: https://support.apple.com/kb/DL1572?locale=en_US &amp;  https://updates.cdn-apple.com/2018/macos/031-33898-20171026-7a797e9e-b8de-11e7-b1fe-c14fbda7e146/javaforosx.dmg","body":"I found it here: <a href=\"https://support.apple.com/kb/DL1572?locale=en_US\" rel=\"nofollow noreferrer\">support.apple.com/kb/DL1572?locale=en_US</a> &amp;  <a href=\"https://updates.cdn-apple.com/2018/macos/031-33898-20171026-7a797e9e-b8de-11e7-b1fe-c14fbda7e146/javaforosx.dmg\" rel=\"nofollow noreferrer\">updates.cdn-apple.com/2018/macos/&hellip;</a>"},{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":1,"creation_date":1561964541,"post_id":56830642,"comment_id":100214510,"body_markdown":"I am trying to run JarInspector app at http://www.codeland.org/ - it was last updated in 2007.","body":"I am trying to run JarInspector app at <a href=\"http://www.codeland.org/\" rel=\"nofollow noreferrer\">codeland.org</a> - it was last updated in 2007."}],"answers":[{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561995334,"creation_date":1561995334,"answer_id":56838448,"question_id":56830642,"body_markdown":"The following instructions helped me to install jdk6:\r\n\r\n    $ brew tap caskroom/versions\r\n    $ brew cask install java6\r\n\r\n    $ /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java -version\r\n    java version &quot;1.6.0_65&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)\r\n\r\n","title":"Is it possible to install jre6 using brew or sdkman?","body":"<p>The following instructions helped me to install jdk6:</p>\n\n<pre><code>$ brew tap caskroom/versions\n$ brew cask install java6\n\n$ /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java -version\njava version \"1.6.0_65\"\nJava(TM) SE Runtime Environment (build 1.6.0_65-b14-468)\nJava HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5902066,"reputation":573,"user_id":4645233,"display_name":"Junior Vieira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601569834,"creation_date":1601569834,"answer_id":64159611,"question_id":56830642,"body_markdown":"try this:\r\n\r\n    brew cask install homebrew/cask-versions/java6","title":"Is it possible to install jre6 using brew or sdkman?","body":"<p>try this:</p>\n<pre><code>brew cask install homebrew/cask-versions/java6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22170034,"reputation":11,"user_id":16415617,"display_name":"Oleg Shirko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648553414,"creation_date":1648553414,"answer_id":71661219,"question_id":56830642,"body_markdown":"Update 03-2022, OSX Monterey\r\nWe can install with brew and add manually to sdkman:\r\n\r\n    brew install --cask homebrew/cask-versions/java6\r\n    \r\n    $ cd ~/.sdkman/candidates/java\r\n    $ ln -s /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/ 1.6.0.jdk\r\n    $ sdk use java 1.6.0.jdk\r\n    $ java -version\r\n    java version &quot;1.6.0_65&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)","title":"Is it possible to install jre6 using brew or sdkman?","body":"<p>Update 03-2022, OSX Monterey\nWe can install with brew and add manually to sdkman:</p>\n<pre><code>brew install --cask homebrew/cask-versions/java6\n\n$ cd ~/.sdkman/candidates/java\n$ ln -s /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/ 1.6.0.jdk\n$ sdk use java 1.6.0.jdk\n$ java -version\njava version &quot;1.6.0_65&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_65-b14-468)\nJava HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)\n</code></pre>\n"}],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1648553414,"creation_date":1561960792,"question_id":56830642,"body_markdown":"Is it possible to install jre6 using brew or sdkman? I tried:\r\n\r\n    $ brew install jre6\r\n    Updating Homebrew...\r\n    Error: No available formula with the name &quot;jre6&quot;\r\n\r\n    $ brew install java6\r\n    ==&gt; Searching taps...\r\n    ==&gt; Searching taps on GitHub...\r\n    Error: No formulae found in taps.\r\n\r\n    $ sdk list java\r\n    ================================================================================\r\n    Available Java Versions\r\n    ================================================================================\r\n     Vendor        | Use | Version      | Dist    | Status     | Identifier\r\n    --------------------------------------------------------------------------------\r\n     AdoptOpenJDK  |     | 12.0.1.j9    | adpt    |            | 12.0.1.j9-adpt\r\n                   |     | 12.0.1.hs    | adpt    |            | 12.0.1.hs-adpt\r\n                   |     | 11.0.3.j9    | adpt    |            | 11.0.3.j9-adpt\r\n                   |     | 11.0.3.hs    | adpt    |            | 11.0.3.hs-adpt\r\n                   |     | 8.0.212.j9   | adpt    |            | 8.0.212.j9-adpt\r\n                   |     | 8.0.212.hs   | adpt    |            | 8.0.212.hs-adpt\r\n     Amazon        |     | 11.0.3       | amzn    |            | 11.0.3-amzn\r\n                   |     | 8.0.212      | amzn    |            | 8.0.212-amzn\r\n                   |     | 8.0.202      | amzn    |            | 8.0.202-amzn\r\n     Azul Zulu     |     | 12.0.1       | zulu    |            | 12.0.1-zulu\r\n                   |     | 11.0.3       | zulu    |            | 11.0.3-zulu\r\n                   |     | 10.0.2       | zulu    |            | 10.0.2-zulu\r\n                   | &gt;&gt;&gt; | 9.0.7        | zulu    | installed  | 9.0.7-zulu\r\n                   |     | 8.0.212      | zulu    |            | 8.0.212-zulu\r\n                   |     | 8.0.202      | zulu    |            | 8.0.202-zulu\r\n                   |     | 7.0.222      | zulu    |            | 7.0.222-zulu\r\n                   |     | 7.0.181      | zulu    |            | 7.0.181-zulu\r\n     Azul ZuluFX   |     | 11.0.2       | zulufx  |            | 11.0.2-zulufx\r\n                   |     | 8.0.202      | zulufx  |            | 8.0.202-zulufx\r\n     BellSoft      |     | 12.0.1       | librca  |            | 12.0.1-librca\r\n                   |     | 11.0.3       | librca  |            | 11.0.3-librca\r\n                   |     | 8.0.212      | librca  |            | 8.0.212-librca\r\n     GraalVM       |     | 19.0.2       | grl     |            | 19.0.2-grl\r\n                   |     | 19.0.0       | grl     |            | 19.0.0-grl\r\n                   |     | 1.0.0        | grl     |            | 1.0.0-rc-16-grl\r\n     Java.net      |     | 14.ea.3      | open    |            | 14.ea.3-open\r\n                   |     | 13.ea.27     | open    |            | 13.ea.27-open\r\n                   |     | 12.0.1       | open    |            | 12.0.1-open\r\n                   |     | 11.0.2       | open    |            | 11.0.2-open\r\n                   |     | 10.0.2       | open    |            | 10.0.2-open\r\n                   |     | 9.0.4        | open    |            | 9.0.4-open\r\n     SAP           |     | 12.0.1       | sapmchn |            | 12.0.1-sapmchn\r\n                   |     | 11.0.3       | sapmchn |            | 11.0.3-sapmchn\r\n    ================================================================================\r\n    Use the Identifier for installation:\r\n\r\n        $ sdk install java 11.0.3.hs-adpt\r\n\r\n\r\nI am trying to run JarInspector app at http://www.codeland.org/\r\n\r\nThank you.","title":"Is it possible to install jre6 using brew or sdkman?","body":"<p>Is it possible to install jre6 using brew or sdkman? I tried:</p>\n\n<pre><code>$ brew install jre6\nUpdating Homebrew...\nError: No available formula with the name \"jre6\"\n\n$ brew install java6\n==&gt; Searching taps...\n==&gt; Searching taps on GitHub...\nError: No formulae found in taps.\n\n$ sdk list java\n================================================================================\nAvailable Java Versions\n================================================================================\n Vendor        | Use | Version      | Dist    | Status     | Identifier\n--------------------------------------------------------------------------------\n AdoptOpenJDK  |     | 12.0.1.j9    | adpt    |            | 12.0.1.j9-adpt\n               |     | 12.0.1.hs    | adpt    |            | 12.0.1.hs-adpt\n               |     | 11.0.3.j9    | adpt    |            | 11.0.3.j9-adpt\n               |     | 11.0.3.hs    | adpt    |            | 11.0.3.hs-adpt\n               |     | 8.0.212.j9   | adpt    |            | 8.0.212.j9-adpt\n               |     | 8.0.212.hs   | adpt    |            | 8.0.212.hs-adpt\n Amazon        |     | 11.0.3       | amzn    |            | 11.0.3-amzn\n               |     | 8.0.212      | amzn    |            | 8.0.212-amzn\n               |     | 8.0.202      | amzn    |            | 8.0.202-amzn\n Azul Zulu     |     | 12.0.1       | zulu    |            | 12.0.1-zulu\n               |     | 11.0.3       | zulu    |            | 11.0.3-zulu\n               |     | 10.0.2       | zulu    |            | 10.0.2-zulu\n               | &gt;&gt;&gt; | 9.0.7        | zulu    | installed  | 9.0.7-zulu\n               |     | 8.0.212      | zulu    |            | 8.0.212-zulu\n               |     | 8.0.202      | zulu    |            | 8.0.202-zulu\n               |     | 7.0.222      | zulu    |            | 7.0.222-zulu\n               |     | 7.0.181      | zulu    |            | 7.0.181-zulu\n Azul ZuluFX   |     | 11.0.2       | zulufx  |            | 11.0.2-zulufx\n               |     | 8.0.202      | zulufx  |            | 8.0.202-zulufx\n BellSoft      |     | 12.0.1       | librca  |            | 12.0.1-librca\n               |     | 11.0.3       | librca  |            | 11.0.3-librca\n               |     | 8.0.212      | librca  |            | 8.0.212-librca\n GraalVM       |     | 19.0.2       | grl     |            | 19.0.2-grl\n               |     | 19.0.0       | grl     |            | 19.0.0-grl\n               |     | 1.0.0        | grl     |            | 1.0.0-rc-16-grl\n Java.net      |     | 14.ea.3      | open    |            | 14.ea.3-open\n               |     | 13.ea.27     | open    |            | 13.ea.27-open\n               |     | 12.0.1       | open    |            | 12.0.1-open\n               |     | 11.0.2       | open    |            | 11.0.2-open\n               |     | 10.0.2       | open    |            | 10.0.2-open\n               |     | 9.0.4        | open    |            | 9.0.4-open\n SAP           |     | 12.0.1       | sapmchn |            | 12.0.1-sapmchn\n               |     | 11.0.3       | sapmchn |            | 11.0.3-sapmchn\n================================================================================\nUse the Identifier for installation:\n\n    $ sdk install java 11.0.3.hs-adpt\n</code></pre>\n\n<p>I am trying to run JarInspector app at <a href=\"http://www.codeland.org/\" rel=\"nofollow noreferrer\">http://www.codeland.org/</a></p>\n\n<p>Thank you.</p>\n"},{"tags":["java","sql","oracle","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9566147,"reputation":446,"user_id":7105377,"accept_rate":57,"display_name":"Dilini Peiris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648553165,"creation_date":1648553165,"answer_id":71661175,"question_id":70384836,"body_markdown":"Try removing the () you have put in the query after IN clause\r\n\r\nMaybe this question would be of help  https://stackoverflow.com/questions/4378824/adding-in-clause-list-to-a-jpa-query","title":"SQL Script doesn&#39;t return the value from the Oracle database in Spring Boot","body":"<p>Try removing the () you have put in the query after IN clause</p>\n<p>Maybe this question would be of help  <a href=\"https://stackoverflow.com/questions/4378824/adding-in-clause-list-to-a-jpa-query\">Adding IN clause List to a JPA Query</a></p>\n"}],"owner":{"account_id":9055500,"reputation":45,"user_id":16908171,"display_name":"Willingtolearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648553165,"creation_date":1639684252,"question_id":70384836,"body_markdown":"&gt; I have created a JPA query to read the view from the oracle database in Spring Boot.\r\n&gt; It works if I set a literal value to the POLICY_REF like **POLICY_REF IN (&#39;A123I&#39;)** then View returns the policy. In the log\r\n\r\nids: [A123I]\r\nquery: [A123I]\r\n\r\n otherwise it returns empty if I set **POLICY_REF IN (:ids).** \r\n\r\nids: [A123I]\r\nquery: []\r\n&gt; ids value is coming from the UI that is set to - ids: [A123I]\r\n\r\nPlease, any suggestion?\r\n\r\n    public HashSet&lt;String&gt; memberExists(final List&lt;String&gt; ids) {\r\n\t\tlog.info(&quot;ids: &quot;+ids);\r\n\t\treturn new HashSet&lt;String&gt;(\r\n\t\t\t\tthis.testJdbcTemplate\r\n\t\t\t\t\t\t.query(&quot;select TRIM(POLICY_REF) from LSCHEMA.POLICY_VIEW where POLICY_REF in (:ids)&quot;,\r\n\t\t\t\t       Collections.singletonMap(&quot;ids&quot;, ids), this.rowMapper));\r\n\t}\r\n\r\n\tpublic boolean memberExists(final String id) {\r\n\t\t\r\n\t\treturn this.memberExists(Collections.singletonList(id))\r\n\t\t\t\t.contains(id);\r\n\t}\r\n}\r\n","title":"SQL Script doesn&#39;t return the value from the Oracle database in Spring Boot","body":"<blockquote>\n<p>I have created a JPA query to read the view from the oracle database in Spring Boot.\nIt works if I set a literal value to the POLICY_REF like <strong>POLICY_REF IN ('A123I')</strong> then View returns the policy. In the log</p>\n</blockquote>\n<p>ids: [A123I]\nquery: [A123I]</p>\n<p>otherwise it returns empty if I set <strong>POLICY_REF IN (:ids).</strong></p>\n<p>ids: [A123I]\nquery: []</p>\n<blockquote>\n<p>ids value is coming from the UI that is set to - ids: [A123I]</p>\n</blockquote>\n<p>Please, any suggestion?</p>\n<pre><code>public HashSet&lt;String&gt; memberExists(final List&lt;String&gt; ids) {\n    log.info(&quot;ids: &quot;+ids);\n    return new HashSet&lt;String&gt;(\n            this.testJdbcTemplate\n                    .query(&quot;select TRIM(POLICY_REF) from LSCHEMA.POLICY_VIEW where POLICY_REF in (:ids)&quot;,\n                   Collections.singletonMap(&quot;ids&quot;, ids), this.rowMapper));\n}\n\npublic boolean memberExists(final String id) {\n    \n    return this.memberExists(Collections.singletonList(id))\n            .contains(id);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":1,"creation_date":1648476162,"post_id":71648689,"comment_id":126626791,"body_markdown":"[baeldung custom validation](https://www.baeldung.com/spring-mvc-custom-validator)","body":"<a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">baeldung custom validation</a>"},{"owner":{"account_id":7868622,"reputation":151,"user_id":5946708,"display_name":"Kapil Arora"},"score":1,"creation_date":1648484699,"post_id":71648689,"comment_id":126630056,"body_markdown":"If we have multiple validated fields like age but it needs to be done on the basis of type then what we need to do as custom validation is on class but I want field based validator to validate cross field values","body":"If we have multiple validated fields like age but it needs to be done on the basis of type then what we need to do as custom validation is on class but I want field based validator to validate cross field values"}],"owner":{"account_id":7868622,"reputation":151,"user_id":5946708,"display_name":"Kapil Arora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648553050,"creation_date":1648475844,"question_id":71648689,"body_markdown":"I have 2 fields \r\n\r\n    Class AgeDTO{\r\n    \r\n      @Min(0)\r\n      private int minAge;\r\n    \r\n      @Max(2)\r\n      private int maxAge;\r\n    \r\n      private AgeType ageGroup;\r\n    }\r\nHow to validate minAge and maxAge based on ageGroup values as per below limits?\r\n\r\n\r\n\r\n\r\nAge and Group\r\n\r\nAge can be 0-2 for the infant group\r\nAge can be 2-12 for the youngster group\r\nAge can be 13-17 for the teen group\r\nAge can be 18-59 for adults \r\n\r\nHow can I write validation for these 2 field combinations in java?","title":"Validate 1 field min and max based on another field value using JSR303 Validation","body":"<p>I have 2 fields</p>\n<pre><code>Class AgeDTO{\n\n  @Min(0)\n  private int minAge;\n\n  @Max(2)\n  private int maxAge;\n\n  private AgeType ageGroup;\n}\n</code></pre>\n<p>How to validate minAge and maxAge based on ageGroup values as per below limits?</p>\n<p>Age and Group</p>\n<p>Age can be 0-2 for the infant group\nAge can be 2-12 for the youngster group\nAge can be 13-17 for the teen group\nAge can be 18-59 for adults</p>\n<p>How can I write validation for these 2 field combinations in java?</p>\n"},{"tags":["java","arraylist","constants","global","final"],"comments":[{"owner":{"account_id":756787,"reputation":3883,"user_id":768323,"accept_rate":90,"display_name":"Paul Nikonowicz"},"score":0,"creation_date":1329258195,"post_id":9285011,"comment_id":11708127,"body_markdown":"can someone please edit this?","body":"can someone please edit this?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1329258428,"post_id":9285011,"comment_id":11708218,"body_markdown":"You&#39;re actually a bit confused; declaring a variable final means only that you can&#39;t set the reference to something else, not that you can&#39;t add objects to it.","body":"You&#39;re actually a bit confused; declaring a variable final means only that you can&#39;t set the reference to something else, not that you can&#39;t add objects to it."},{"owner":{"account_id":360689,"reputation":1141,"user_id":702813,"accept_rate":70,"display_name":"Raghu"},"score":0,"creation_date":1329258515,"post_id":9285011,"comment_id":11708248,"body_markdown":"@Dave...I am also surprised as to why this returns a nullpointer exception","body":"@Dave...I am also surprised as to why this returns a nullpointer exception"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":3,"creation_date":1329258730,"post_id":9285011,"comment_id":11708314,"body_markdown":"Let me get this straight: You got a NullPointerException, and rather than looking at the stacktrace or debugging to find out what is null, you turn to stackoverflow to write your code for you. A much better question to ask would be how you can locate the cause of a NullPointerException - provided that questions hadn&#39;t been answered over and over, of course.","body":"Let me get this straight: You got a NullPointerException, and rather than looking at the stacktrace or debugging to find out what is null, you turn to stackoverflow to write your code for you. A much better question to ask would be how you can locate the cause of a NullPointerException - provided that questions hadn&#39;t been answered over and over, of course."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1329258746,"post_id":9285011,"comment_id":11708318,"body_markdown":"@Raghu Why what &quot;returns&quot; an NPE?","body":"@Raghu Why what &quot;returns&quot; an NPE?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1329698255,"post_id":9285011,"comment_id":11811088,"body_markdown":"@Raghu Will you accept an answer? If none of the answers are acceptable, please state what else you are seeking from an answer.","body":"@Raghu Will you accept an answer? If none of the answers are acceptable, please state what else you are seeking from an answer."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":101,"is_accepted":false,"score":100,"last_activity_date":1329263165,"creation_date":1329258524,"answer_id":9285176,"question_id":9285011,"body_markdown":"You can easily make it `public static final`, but that won&#39;t stop people from changing the *contents*. \r\n\r\nThe best approach is to *safely publish* the &quot;constant&quot; by:\r\n\r\n- wrapping it in an unmodifiable list\r\n- using an instance block to populate it\r\n\r\nResulting in one neat final declaration with initialization:\r\n\r\n    public static final List&lt;String&gt; list = Collections.unmodifiableList(\r\n        new ArrayList&lt;String&gt;() {{\r\n            add(&quot;foo&quot;);\r\n            add(&quot;bar&quot;);\r\n            // etc\r\n        }});\r\n\r\nor, similar but different style for simple elements (that don&#39;t need code)\r\n\r\n    public static final List&lt;String&gt; list = \r\n        Collections.unmodifiableList(Arrays.asList(&quot;foo&quot;, &quot;bar&quot;));\r\n","title":"Declaring an ArrayList object as final for use in a constants file","body":"<p>You can easily make it <code>public static final</code>, but that won't stop people from changing the <em>contents</em>. </p>\n\n<p>The best approach is to <em>safely publish</em> the \"constant\" by:</p>\n\n<ul>\n<li>wrapping it in an unmodifiable list</li>\n<li>using an instance block to populate it</li>\n</ul>\n\n<p>Resulting in one neat final declaration with initialization:</p>\n\n<pre><code>public static final List&lt;String&gt; list = Collections.unmodifiableList(\n    new ArrayList&lt;String&gt;() {{\n        add(\"foo\");\n        add(\"bar\");\n        // etc\n    }});\n</code></pre>\n\n<p>or, similar but different style for simple elements (that don't need code)</p>\n\n<pre><code>public static final List&lt;String&gt; list = \n    Collections.unmodifiableList(Arrays.asList(\"foo\", \"bar\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1478080941,"creation_date":1329258949,"answer_id":9285244,"question_id":9285011,"body_markdown":"Java 1.4 compatible way:\r\n\r\n    public static final List STRINGS = Collections.unmodifiableList(\r\n        Arrays.asList(new String[] {&quot;foo&quot;, &quot;bar&quot;}));\r\n\r\nSuch List is unmodifiable, calling methods such as `add()`, `remove()` or `set()` will cause `UnsupportedOperationException`.\r\n\r\nFor less ancient Java versions:\r\n\r\n    public static final List&lt;String&gt; STRINGS = Collections.unmodifiableList(\r\n        Arrays.asList(&quot;foo&quot;, &quot;bar&quot;));\r\n\r\nAnd finally, Java 9 comes with:\r\n\r\n    public static final List&lt;String&gt; STRINGS = List.of(&quot;foo&quot;, &quot;bar&quot;);","title":"Declaring an ArrayList object as final for use in a constants file","body":"<p>Java 1.4 compatible way:</p>\n\n<pre><code>public static final List STRINGS = Collections.unmodifiableList(\n    Arrays.asList(new String[] {\"foo\", \"bar\"}));\n</code></pre>\n\n<p>Such List is unmodifiable, calling methods such as <code>add()</code>, <code>remove()</code> or <code>set()</code> will cause <code>UnsupportedOperationException</code>.</p>\n\n<p>For less ancient Java versions:</p>\n\n<pre><code>public static final List&lt;String&gt; STRINGS = Collections.unmodifiableList(\n    Arrays.asList(\"foo\", \"bar\"));\n</code></pre>\n\n<p>And finally, Java 9 comes with:</p>\n\n<pre><code>public static final List&lt;String&gt; STRINGS = List.of(\"foo\", \"bar\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":38,"is_accepted":true,"score":37,"last_activity_date":1518608169,"creation_date":1329259532,"answer_id":9285342,"question_id":9285011,"body_markdown":"[Guava][1] provides [`ImmutableList`][2] for just about this reason.  (Also, it doesn&#39;t have the unnecessary space overhead that `ArrayList` allocates to make room for future elements which you won&#39;t be adding for your application.)\r\n\r\n    public static final ImmutableList&lt;String&gt; CONSTANTS = \r\n      ImmutableList.of(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/ImmutableList.html","title":"Declaring an ArrayList object as final for use in a constants file","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> provides <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/ImmutableList.html\" rel=\"noreferrer\"><code>ImmutableList</code></a> for just about this reason.  (Also, it doesn't have the unnecessary space overhead that <code>ArrayList</code> allocates to make room for future elements which you won't be adding for your application.)</p>\n\n<pre><code>public static final ImmutableList&lt;String&gt; CONSTANTS = \n  ImmutableList.of(\"foo\", \"bar\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18223968,"reputation":796,"user_id":13264143,"display_name":"John Glen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598487798,"creation_date":1598481909,"answer_id":63606740,"question_id":9285011,"body_markdown":"Here is another way you can create a final ArrayList and then make it unmodifiable. It involves creating a class to hold the final ArrayList.\r\n\r\nFirst, make your list, doing all the mutations you need to do. \r\n\r\nSecond, create a class that will create the final ArrayList in its constructor.\r\n\r\n    public class Wrapper {\r\n\r\n\t    final List&lt;T&gt; list;\r\n       \r\n        // Other final variables to be set and added to the constructor.\r\n\t\r\n\t    public Wrapper(List&lt;T&gt; list) {\r\n\t\t    this.list = Collections.unmodifiableList(list);\r\n\t    }\r\n\r\n\t}\r\n\r\nThis is useful for when you need an immutable class with a List.","title":"Declaring an ArrayList object as final for use in a constants file","body":"<p>Here is another way you can create a final ArrayList and then make it unmodifiable. It involves creating a class to hold the final ArrayList.</p>\n<p>First, make your list, doing all the mutations you need to do.</p>\n<p>Second, create a class that will create the final ArrayList in its constructor.</p>\n<pre><code>public class Wrapper {\n\n    final List&lt;T&gt; list;\n   \n    // Other final variables to be set and added to the constructor.\n\n    public Wrapper(List&lt;T&gt; list) {\n        this.list = Collections.unmodifiableList(list);\n    }\n\n}\n</code></pre>\n<p>This is useful for when you need an immutable class with a List.</p>\n"},{"tags":[],"owner":{"account_id":1077999,"reputation":484,"user_id":1075729,"display_name":"Zarremgregarrok"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648553046,"creation_date":1648553046,"answer_id":71661145,"question_id":9285011,"body_markdown":"Since Java 9 the solution is super simple.\r\n\r\nYou do not even need Guava, since we have:\r\n``` lang-java\r\n    public static final List&lt;String&gt; list = List.of(&quot;foo&quot;, &quot;bar&quot;);\r\n```","title":"Declaring an ArrayList object as final for use in a constants file","body":"<p>Since Java 9 the solution is super simple.</p>\n<p>You do not even need Guava, since we have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final List&lt;String&gt; list = List.of(&quot;foo&quot;, &quot;bar&quot;);\n</code></pre>\n"}],"owner":{"account_id":360689,"reputation":1141,"user_id":702813,"accept_rate":70,"display_name":"Raghu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138098,"favorite_count":0,"down_vote_count":2,"up_vote_count":52,"accepted_answer_id":9285342,"answer_count":5,"score":50,"last_activity_date":1648553046,"creation_date":1329257714,"question_id":9285011,"body_markdown":"I am generating an ArrayList of objects. \r\nFollowing is the code\r\n\r\n    ArrayList someArrayList = new ArrayList();\r\n\r\n    Public ArrayList getLotOfData()\r\n    {\r\n    ArrayList someData = new ArrayList();\r\n    return someData; \r\n    }\r\n\r\n\r\n    someArrayList = eDAO.getLotOfData();\r\n\r\nOnce I have this ArrayList object &quot;someArrayList&quot;, I would like to declare it public and final and store it in a Constants file so that it can be accessed globally. \r\nIs there a way I can do that? If I declare an Arraylist object public and final, then I would not be able to reassign any values to it. \r\nI tried the following\r\n\r\n    public final ArrayList anotherArrayList = new ArrayList();\r\n\r\n    anotherArrayList.addAll(someArrayList);\r\n\r\nI had hoped to store this &quot;anotherArrayList&quot; as a global ArrayList object and use it, but this returns a nullpointer exception.   I want to use it just like a String constant  &quot;ConstantsFile.anotherArrayList&quot;. Any ideas???\r\n","title":"Declaring an ArrayList object as final for use in a constants file","body":"<p>I am generating an ArrayList of objects. \nFollowing is the code</p>\n\n<pre><code>ArrayList someArrayList = new ArrayList();\n\nPublic ArrayList getLotOfData()\n{\nArrayList someData = new ArrayList();\nreturn someData; \n}\n\n\nsomeArrayList = eDAO.getLotOfData();\n</code></pre>\n\n<p>Once I have this ArrayList object \"someArrayList\", I would like to declare it public and final and store it in a Constants file so that it can be accessed globally. \nIs there a way I can do that? If I declare an Arraylist object public and final, then I would not be able to reassign any values to it. \nI tried the following</p>\n\n<pre><code>public final ArrayList anotherArrayList = new ArrayList();\n\nanotherArrayList.addAll(someArrayList);\n</code></pre>\n\n<p>I had hoped to store this \"anotherArrayList\" as a global ArrayList object and use it, but this returns a nullpointer exception.   I want to use it just like a String constant  \"ConstantsFile.anotherArrayList\". Any ideas???</p>\n"},{"tags":["java","database","spring-boot","controller","backend"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":1,"creation_date":1648547812,"post_id":71659857,"comment_id":126646139,"body_markdown":"Where is your `book_genre` entity code?","body":"Where is your <code>book_genre</code> entity code?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648551581,"post_id":71659857,"comment_id":126647644,"body_markdown":"Try manually dropping your database.","body":"Try manually dropping your database."},{"owner":{"account_id":24336293,"reputation":5,"user_id":18511473,"display_name":"NURBEK ABDIRASULOV"},"score":0,"creation_date":1648563858,"post_id":71659857,"comment_id":126652938,"body_markdown":"I tried to delete manually several times, I also tried Maven Clean","body":"I tried to delete manually several times, I also tried Maven Clean"}],"answers":[{"tags":[],"owner":{"account_id":18920520,"reputation":11,"user_id":13804680,"display_name":"Sepehr Mollaei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648549551,"creation_date":1648549226,"answer_id":71660319,"question_id":71659857,"body_markdown":"Maybe your hibernate.dialect is incorrect based on database you use.\r\nSee [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21012799/why-do-i-need-to-configure-the-sql-dialect-of-a-data-source","title":"I have an error in the database Tables, also in the controller","body":"<p>Maybe your hibernate.dialect is incorrect based on database you use.\nSee <a href=\"https://stackoverflow.com/questions/21012799/why-do-i-need-to-configure-the-sql-dialect-of-a-data-source\">here</a></p>\n"}],"owner":{"account_id":24336293,"reputation":5,"user_id":18511473,"display_name":"NURBEK ABDIRASULOV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648552933,"creation_date":1648547418,"question_id":71659857,"body_markdown":"The first problem occurs with the database table\r\n\r\n----------\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;book&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;book_id&quot;)\r\n    private Long id;\r\n    private String name;\r\n    private String publisher;\r\n    private String author;\r\n    private String aboutBook;\r\n    private String fragment;\r\n    private int date;\r\n    private int volume;\r\n    private int quantity;\r\n    private int price;\r\n    private int discount;\r\n    private Boolean bestseller;\r\n    private String bookLink;\r\n    \r\n    public Optional&lt;String&gt; getBookLink() {\r\n        return Optional.ofNullable(bookLink);\r\n    }\r\n\r\n    public void setBookLink(String bookLink) {\r\n        this.bookLink = bookLink;\r\n    }\r\n\r\n    public List&lt;User&gt; getUsers() {\r\n        return users;\r\n    }\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;users_books&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    private List&lt;User&gt; users;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;books_genres&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;genre_id&quot;))\r\n    private Set&lt;Genre&gt; genres;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;books_languages&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;language_id&quot;))\r\n    private Set&lt;Language&gt; languages;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;books_types&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;type_id&quot;))\r\n    private Set&lt;Type&gt; types;\r\n\r\n\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Book book = (Book) o;\r\n        return date == book.date &amp;&amp;\r\n                volume == book.volume &amp;&amp;\r\n                quantity == book.quantity &amp;&amp;\r\n                price == book.price &amp;&amp;\r\n                discount == book.discount &amp;&amp;\r\n                id.equals(book.id) &amp;&amp;\r\n                name.equals(book.name) &amp;&amp;\r\n                publisher.equals(book.publisher) &amp;&amp;\r\n                author.equals(book.author) &amp;&amp;\r\n                aboutBook.equals(book.aboutBook) &amp;&amp;\r\n                fragment.equals(book.fragment) &amp;&amp;\r\n                bestseller.equals(book.bestseller);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, name, publisher, author, aboutBook, fragment, date, volume, quantity, price, discount, bestseller);\r\n    }\r\n\r\n    }\r\n\r\n\r\n----------\r\n\r\ngenre table\r\n\r\n----------\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;genre&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Genre{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;genre_id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;book_genre&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;genre_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;book_id&quot;))\r\n    private List&lt;Book&gt; books;\r\n    }\r\n\r\n\r\n----------\r\n\r\nlanguage table\r\n\r\n----------\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;language&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Language {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;language_id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;book_language&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;language_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;book_id&quot;))\r\n    private List&lt;Book&gt; books;\r\n    }\r\n\r\n\r\n----------\r\n\r\nrole table\r\n\r\n----------\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;role&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;role_id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    private Set&lt;User&gt; users;\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    }\r\n\r\n\r\n----------\r\n\r\ntype table\r\n\r\n----------\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;type&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Type{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;type_id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;book_type&quot;,\r\n            joinColumns =@JoinColumn(name = &quot;type_id&quot;) ,\r\n            inverseJoinColumns = @JoinColumn(name = &quot;book_id&quot;))\r\n    private List&lt;Book&gt; books;\r\n    }\r\n\r\n\r\n----------\r\n\r\nuser table\r\n\r\n----------\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;user&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;number_of_phone&quot;)\r\n    private Long number;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    public Set&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n\r\n    }\r\n\r\n\r\n----------\r\n\r\nI get this error\r\n\r\n\r\n----------\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table book_genre drop constraint FK8l6ops8exmjrlr89hmfow4mmo&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:153) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.ebook.EBookApplication.main(EBookApplication.java:10) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;book_genre&quot; does not exist\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\t... 40 common frames omitted\r\n     org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table book_genre drop constraint FK52evq6pdc5ypanf41bij5u218&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:153) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.ebook.EBookApplication.main(EBookApplication.java:10) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\r\n     Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;book_genre&quot; does not exist\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\t... 40 common frames omitted\r\n \r\n\r\n----------\r\n\r\nI also have a problem with the books controller\r\n\r\n\r\n----------\r\n    @RestController\r\n    @RequestMapping(&quot;api/books&quot;)\r\n    @CrossOrigin(&quot;*&quot;)\r\n    public class BookController {\r\n    private final BookService bookService;\r\n    private final UserService userService;\r\n    private final GenreService genreService;\r\n    private final TypeService typeService;\r\n    private final LanguageService languageService;\r\n\r\n    @Autowired\r\n    public BookController(BookService bookService, UserService userService, GenreService genreService, TypeService typeService, LanguageService languageService) {\r\n        this.bookService = bookService;\r\n        this.userService = userService;\r\n        this.genreService = genreService;\r\n        this.typeService = typeService;\r\n        this.languageService = languageService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Book&gt;&gt; getAll() {\r\n        return new ResponseEntity&lt;&gt;(bookService.getAllBooks(), HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Book&gt; create(CreateBookRequest request) {\r\n        Book saved = bookService.create(request);\r\n        return new ResponseEntity&lt;&gt;(saved, HttpStatus.CREATED);\r\n    }\r\n\r\n    @GetMapping(\r\n            path = &quot;/{bookId}&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Book&gt; get(@PathVariable Long bookId) {\r\n        Book book = bookService.getById(bookId);\r\n        if (book == null) {\r\n            return ResponseEntity.notFound().build();\r\n        } else {\r\n            return ResponseEntity.ok(book);\r\n        }\r\n    }\r\n\r\n    @PatchMapping(\r\n            path = &quot;/{bookId}&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Book&gt; patch(@PathVariable Long bookId,\r\n                                      @RequestBody PatchBookRequest patchRequest) {\r\n        Book book = bookService.getById(bookId);\r\n        if (patchRequest.getGenreId() != null) {\r\n            book.getGenres().add(genreService.getGenreById(patchRequest.getGenreId()));\r\n        }\r\n        if (patchRequest.getLanguageId() != null) {\r\n            \r\n        book.getLanguages().add(languageService.getLanguageById(patchRequest.getLanguageId()));\r\n        }\r\n        if (patchRequest.getTypeId() != null) {\r\n            book.getTypes().add(typeService.getTypeById(patchRequest.getTypeId()));\r\n        }\r\n        if (patchRequest.getUserId() != null) {\r\n            book.getUsers().add(userService.getUserById(patchRequest.getUserId()));\r\n        }\r\n        Book patched = bookService.replace(book);\r\n        return ResponseEntity.ok(patched);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{bookId}/file&quot;)\r\n    public byte[] downloadBookFile(@PathVariable(&quot;bookId&quot;) Long id) {\r\n        return bookService.downloadBookFile(id);\r\n    }\r\n\r\n    @PostMapping(value = &quot;/{bookId}/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public void uploadBookFile(@PathVariable(&quot;bookId&quot;) Long id, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        bookService.uploadBookFile(id, file);\r\n    }\r\n    }\r\n\r\n\r\n\r\n----------\r\n    public class AddBookIdRequest {\r\n    public Long bookId;\r\n\r\n    public Long getBookId() {\r\n        return bookId;\r\n    }\r\n\r\n    public void setBookId(Long bookId) {\r\n        this.bookId = bookId;\r\n    }\r\n    }\r\n\r\n\r\n----------\r\n\r\nthis class for my request\r\n\r\n----------\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class CreateBookRequest {\r\n    private String name;\r\n    private String publisher;\r\n    private String author;\r\n    private String aboutBook;\r\n    private String fragment;\r\n    private int date;\r\n    private int volume;\r\n    private int quantity;\r\n    private int price;\r\n    private int discount;\r\n    private Boolean bestseller;\r\n    private String bookLink;\r\n    }\r\n\r\n\r\n----------\r\n\r\nthis class connects the book to other tables\r\n\r\n----------\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class PatchBookRequest {\r\n    private Long userId;\r\n    private Long languageId;\r\n    private Long typeId;\r\n    private Long genreId;\r\n    }\r\n\r\n\r\n----------\r\n\r\nmy bookServiceImpl\r\n\r\n----------\r\n    @Service\r\n    public class BookServiceImpl implements BookService {\r\n    private final FileBooksStore fileBooksStore;\r\n    private final BookRepository repository;\r\n\r\n    @Autowired\r\n    public BookServiceImpl(FileBooksStore fileBooksStore, BookRepository bookRepository) {\r\n        this.fileBooksStore = fileBooksStore;\r\n        this.repository = bookRepository;\r\n    }\r\n\r\n    @Override\r\n    public Book create(CreateBookRequest request) {\r\n        Book book = Book.builder()\r\n                .name(request.getName())\r\n                .publisher(request.getPublisher())\r\n                .author(request.getAuthor())\r\n                .aboutBook(request.getAboutBook())\r\n                .fragment(request.getFragment())\r\n                .date(request.getDate())\r\n                .volume(request.getVolume())\r\n                .quantity(request.getQuantity())\r\n                .price(request.getPrice())\r\n                .discount(request.getDiscount())\r\n                .bestseller(request.getBestseller())\r\n                .build();\r\n        return repository.save(book);\r\n    }\r\n\r\n    @Override\r\n    public void uploadBookFile(Long bookId, MultipartFile file) {\r\n        if (file.isEmpty()) {\r\n            throw new IllegalStateException(&quot;Cannot upload empty file&quot;);\r\n        }\r\n\r\n        Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\r\n        metadata.put(&quot;Content-Type&quot;, file.getContentType());\r\n        metadata.put(&quot;Content-Length&quot;, String.valueOf(file.getSize()));\r\n\r\n        String path = getBookPath(bookId);\r\n        String fileName = String.format(&quot;%s&quot;, file.getOriginalFilename());\r\n\r\n        try {\r\n            fileBooksStore.upload(path, fileName, Optional.of(metadata), file.getInputStream());\r\n        } catch (IOException e) {\r\n            throw new IllegalStateException(&quot;Failed to upload file&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public byte[] downloadBookFile(Long bookId) {\r\n        Book book = getById(bookId);\r\n        if (book == null) {\r\n            throw new IllegalStateException(String.format(&quot;Book %s not found&quot;, bookId));\r\n        }\r\n        String path = getBookPath(book.getId());\r\n\r\n        return book.getBookLink()\r\n                .map(key -&gt; fileBooksStore.download(path, key))\r\n                .orElse(new byte[0]);\r\n    }\r\n\r\n    private String getBookPath(Long id) {\r\n        return String.format(&quot;%s/%s&quot;, BucketName.INFORMATION.getBucketName(), id);\r\n    }\r\n\r\n\r\n    @Override\r\n    public List&lt;Book&gt; getAllBooks() {\r\n        return repository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public @Nullable Book getById(Long bookId) {\r\n        return repository.findById(bookId).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public Book replace(Book book) {\r\n        return repository.save(book);\r\n    }\r\n    }\r\n\r\n\r\n----------\r\n    @Service\r\n    public class GenreServiceImpl implements GenreService {\r\n    private final GenreRepository repository;\r\n\r\n    @Autowired\r\n    public GenreServiceImpl(GenreRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Genre&gt; getAllGenres() {\r\n        return repository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; getNamesOfGenresToList() {\r\n        List&lt;Genre&gt; genres = repository.findAll();\r\n        List&lt;String&gt; stringList=genres.stream()\r\n                .map(genre-&gt; genre.getName()).collect(Collectors.toList());\r\n        return stringList;\r\n    }\r\n\r\n    @Override\r\n    public Genre getGenreByName(String name) {\r\n        return repository.getGenreByName(name);\r\n    }\r\n\r\n    @Override\r\n    public Genre getGenreById(Long id) {\r\n        return repository.findById(id).get();\r\n    }\r\n    }\r\n\r\n\r\n----------\r\n\r\n**other classes have the same implementation**\r\n\r\n\r\n----------\r\n","title":"I have an error in the database Tables, also in the controller","body":"<p>The first problem occurs with the database table</p>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;book&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Book {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;book_id&quot;)\nprivate Long id;\nprivate String name;\nprivate String publisher;\nprivate String author;\nprivate String aboutBook;\nprivate String fragment;\nprivate int date;\nprivate int volume;\nprivate int quantity;\nprivate int price;\nprivate int discount;\nprivate Boolean bestseller;\nprivate String bookLink;\n\npublic Optional&lt;String&gt; getBookLink() {\n    return Optional.ofNullable(bookLink);\n}\n\npublic void setBookLink(String bookLink) {\n    this.bookLink = bookLink;\n}\n\npublic List&lt;User&gt; getUsers() {\n    return users;\n}\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;users_books&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\nprivate List&lt;User&gt; users;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;books_genres&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;genre_id&quot;))\nprivate Set&lt;Genre&gt; genres;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;books_languages&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;language_id&quot;))\nprivate Set&lt;Language&gt; languages;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;books_types&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;type_id&quot;))\nprivate Set&lt;Type&gt; types;\n\n\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Book book = (Book) o;\n    return date == book.date &amp;&amp;\n            volume == book.volume &amp;&amp;\n            quantity == book.quantity &amp;&amp;\n            price == book.price &amp;&amp;\n            discount == book.discount &amp;&amp;\n            id.equals(book.id) &amp;&amp;\n            name.equals(book.name) &amp;&amp;\n            publisher.equals(book.publisher) &amp;&amp;\n            author.equals(book.author) &amp;&amp;\n            aboutBook.equals(book.aboutBook) &amp;&amp;\n            fragment.equals(book.fragment) &amp;&amp;\n            bestseller.equals(book.bestseller);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, name, publisher, author, aboutBook, fragment, date, volume, quantity, price, discount, bestseller);\n}\n\n}\n</code></pre>\n<hr />\n<p>genre table</p>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;genre&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Genre{\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;genre_id&quot;)\nprivate Long id;\n\nprivate String name;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;book_genre&quot;,\n        joinColumns = @JoinColumn(name = &quot;genre_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;book_id&quot;))\nprivate List&lt;Book&gt; books;\n}\n</code></pre>\n<hr />\n<p>language table</p>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;language&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Language {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;language_id&quot;)\nprivate Long id;\n\nprivate String name;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;book_language&quot;,\n        joinColumns = @JoinColumn(name = &quot;language_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;book_id&quot;))\nprivate List&lt;Book&gt; books;\n}\n</code></pre>\n<hr />\n<p>role table</p>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;role&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Role implements GrantedAuthority {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;role_id&quot;)\nprivate Long id;\n\nprivate String name;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(name = &quot;role_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\nprivate Set&lt;User&gt; users;\n\n@Override\npublic String getAuthority() {\n    return name;\n}\n\npublic String getName() {\n    return name;\n}\n\n}\n</code></pre>\n<hr />\n<p>type table</p>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;type&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Type{\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;type_id&quot;)\nprivate Long id;\n\nprivate String name;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;book_type&quot;,\n        joinColumns =@JoinColumn(name = &quot;type_id&quot;) ,\n        inverseJoinColumns = @JoinColumn(name = &quot;book_id&quot;))\nprivate List&lt;Book&gt; books;\n}\n</code></pre>\n<hr />\n<p>user table</p>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;user_id&quot;)\nprivate Long id;\n\n@Column(name = &quot;username&quot;)\nprivate String username;\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n@Column(name = &quot;email&quot;)\nprivate String email;\n\n@Column(name = &quot;number_of_phone&quot;)\nprivate Long number;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\nprivate Set&lt;Role&gt; roles;\n\npublic Set&lt;Role&gt; getRoles() {\n    return roles;\n}\n\npublic void setRoles(Set&lt;Role&gt; roles) {\n    this.roles = roles;\n}\n\n}\n</code></pre>\n<hr />\n<p>I get this error</p>\n<hr />\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table book_genre drop constraint FK8l6ops8exmjrlr89hmfow4mmo&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:153) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\nat com.ebook.EBookApplication.main(EBookApplication.java:10) ~[classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;book_genre&quot; does not exist\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.3.jar:42.3.3]\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n... 40 common frames omitted\n org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table book_genre drop constraint FK52evq6pdc5ypanf41bij5u218&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:153) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) [hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\nat com.ebook.EBookApplication.main(EBookApplication.java:10) ~[classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\n Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;book_genre&quot; does not exist\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.3.jar:42.3.3]\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.3.jar:42.3.3]\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n... 40 common frames omitted\n</code></pre>\n<hr />\n<p>I also have a problem with the books controller</p>\n<hr />\n<pre><code>@RestController\n@RequestMapping(&quot;api/books&quot;)\n@CrossOrigin(&quot;*&quot;)\npublic class BookController {\nprivate final BookService bookService;\nprivate final UserService userService;\nprivate final GenreService genreService;\nprivate final TypeService typeService;\nprivate final LanguageService languageService;\n\n@Autowired\npublic BookController(BookService bookService, UserService userService, GenreService genreService, TypeService typeService, LanguageService languageService) {\n    this.bookService = bookService;\n    this.userService = userService;\n    this.genreService = genreService;\n    this.typeService = typeService;\n    this.languageService = languageService;\n}\n\n@GetMapping\npublic ResponseEntity&lt;List&lt;Book&gt;&gt; getAll() {\n    return new ResponseEntity&lt;&gt;(bookService.getAllBooks(), HttpStatus.OK);\n}\n\n@PostMapping(\n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Book&gt; create(CreateBookRequest request) {\n    Book saved = bookService.create(request);\n    return new ResponseEntity&lt;&gt;(saved, HttpStatus.CREATED);\n}\n\n@GetMapping(\n        path = &quot;/{bookId}&quot;,\n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Book&gt; get(@PathVariable Long bookId) {\n    Book book = bookService.getById(bookId);\n    if (book == null) {\n        return ResponseEntity.notFound().build();\n    } else {\n        return ResponseEntity.ok(book);\n    }\n}\n\n@PatchMapping(\n        path = &quot;/{bookId}&quot;,\n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Book&gt; patch(@PathVariable Long bookId,\n                                  @RequestBody PatchBookRequest patchRequest) {\n    Book book = bookService.getById(bookId);\n    if (patchRequest.getGenreId() != null) {\n        book.getGenres().add(genreService.getGenreById(patchRequest.getGenreId()));\n    }\n    if (patchRequest.getLanguageId() != null) {\n        \n    book.getLanguages().add(languageService.getLanguageById(patchRequest.getLanguageId()));\n    }\n    if (patchRequest.getTypeId() != null) {\n        book.getTypes().add(typeService.getTypeById(patchRequest.getTypeId()));\n    }\n    if (patchRequest.getUserId() != null) {\n        book.getUsers().add(userService.getUserById(patchRequest.getUserId()));\n    }\n    Book patched = bookService.replace(book);\n    return ResponseEntity.ok(patched);\n}\n\n@GetMapping(value = &quot;/{bookId}/file&quot;)\npublic byte[] downloadBookFile(@PathVariable(&quot;bookId&quot;) Long id) {\n    return bookService.downloadBookFile(id);\n}\n\n@PostMapping(value = &quot;/{bookId}/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic void uploadBookFile(@PathVariable(&quot;bookId&quot;) Long id, @RequestParam(&quot;file&quot;) MultipartFile file) {\n    bookService.uploadBookFile(id, file);\n}\n}\n</code></pre>\n<hr />\n<pre><code>public class AddBookIdRequest {\npublic Long bookId;\n\npublic Long getBookId() {\n    return bookId;\n}\n\npublic void setBookId(Long bookId) {\n    this.bookId = bookId;\n}\n}\n</code></pre>\n<hr />\n<p>this class for my request</p>\n<hr />\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class CreateBookRequest {\nprivate String name;\nprivate String publisher;\nprivate String author;\nprivate String aboutBook;\nprivate String fragment;\nprivate int date;\nprivate int volume;\nprivate int quantity;\nprivate int price;\nprivate int discount;\nprivate Boolean bestseller;\nprivate String bookLink;\n}\n</code></pre>\n<hr />\n<p>this class connects the book to other tables</p>\n<hr />\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class PatchBookRequest {\nprivate Long userId;\nprivate Long languageId;\nprivate Long typeId;\nprivate Long genreId;\n}\n</code></pre>\n<hr />\n<p>my bookServiceImpl</p>\n<hr />\n<pre><code>@Service\npublic class BookServiceImpl implements BookService {\nprivate final FileBooksStore fileBooksStore;\nprivate final BookRepository repository;\n\n@Autowired\npublic BookServiceImpl(FileBooksStore fileBooksStore, BookRepository bookRepository) {\n    this.fileBooksStore = fileBooksStore;\n    this.repository = bookRepository;\n}\n\n@Override\npublic Book create(CreateBookRequest request) {\n    Book book = Book.builder()\n            .name(request.getName())\n            .publisher(request.getPublisher())\n            .author(request.getAuthor())\n            .aboutBook(request.getAboutBook())\n            .fragment(request.getFragment())\n            .date(request.getDate())\n            .volume(request.getVolume())\n            .quantity(request.getQuantity())\n            .price(request.getPrice())\n            .discount(request.getDiscount())\n            .bestseller(request.getBestseller())\n            .build();\n    return repository.save(book);\n}\n\n@Override\npublic void uploadBookFile(Long bookId, MultipartFile file) {\n    if (file.isEmpty()) {\n        throw new IllegalStateException(&quot;Cannot upload empty file&quot;);\n    }\n\n    Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\n    metadata.put(&quot;Content-Type&quot;, file.getContentType());\n    metadata.put(&quot;Content-Length&quot;, String.valueOf(file.getSize()));\n\n    String path = getBookPath(bookId);\n    String fileName = String.format(&quot;%s&quot;, file.getOriginalFilename());\n\n    try {\n        fileBooksStore.upload(path, fileName, Optional.of(metadata), file.getInputStream());\n    } catch (IOException e) {\n        throw new IllegalStateException(&quot;Failed to upload file&quot;, e);\n    }\n}\n\n@Override\npublic byte[] downloadBookFile(Long bookId) {\n    Book book = getById(bookId);\n    if (book == null) {\n        throw new IllegalStateException(String.format(&quot;Book %s not found&quot;, bookId));\n    }\n    String path = getBookPath(book.getId());\n\n    return book.getBookLink()\n            .map(key -&gt; fileBooksStore.download(path, key))\n            .orElse(new byte[0]);\n}\n\nprivate String getBookPath(Long id) {\n    return String.format(&quot;%s/%s&quot;, BucketName.INFORMATION.getBucketName(), id);\n}\n\n\n@Override\npublic List&lt;Book&gt; getAllBooks() {\n    return repository.findAll();\n}\n\n@Override\npublic @Nullable Book getById(Long bookId) {\n    return repository.findById(bookId).orElse(null);\n}\n\n@Override\npublic Book replace(Book book) {\n    return repository.save(book);\n}\n}\n</code></pre>\n<hr />\n<pre><code>@Service\npublic class GenreServiceImpl implements GenreService {\nprivate final GenreRepository repository;\n\n@Autowired\npublic GenreServiceImpl(GenreRepository repository) {\n    this.repository = repository;\n}\n\n@Override\npublic List&lt;Genre&gt; getAllGenres() {\n    return repository.findAll();\n}\n\n@Override\npublic List&lt;String&gt; getNamesOfGenresToList() {\n    List&lt;Genre&gt; genres = repository.findAll();\n    List&lt;String&gt; stringList=genres.stream()\n            .map(genre-&gt; genre.getName()).collect(Collectors.toList());\n    return stringList;\n}\n\n@Override\npublic Genre getGenreByName(String name) {\n    return repository.getGenreByName(name);\n}\n\n@Override\npublic Genre getGenreById(Long id) {\n    return repository.findById(id).get();\n}\n}\n</code></pre>\n<hr />\n<p><strong>other classes have the same implementation</strong></p>\n<hr />\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648550492,"post_id":71659157,"comment_id":126647241,"body_markdown":"What are you worried about?  The number of reads?","body":"What are you worried about?  The number of reads?"},{"owner":{"account_id":12296607,"reputation":87,"user_id":8972056,"display_name":"Noiling"},"score":0,"creation_date":1648551614,"post_id":71659157,"comment_id":126647660,"body_markdown":"Two things: the number of reads and if there is a better way to implement the second rv (e.g. second firebase adapter).","body":"Two things: the number of reads and if there is a better way to implement the second rv (e.g. second firebase adapter)."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648551860,"post_id":71659157,"comment_id":126647752,"body_markdown":"What is the maximum number of Tasks a single room (document) can have?","body":"What is the maximum number of Tasks a single room (document) can have?"},{"owner":{"account_id":12296607,"reputation":87,"user_id":8972056,"display_name":"Noiling"},"score":0,"creation_date":1648552414,"post_id":71659157,"comment_id":126647965,"body_markdown":"Free users can only add 5 rooms, each with 5 tasks. Paid users will mostly add around 8 rooms, each with around 10 to 20 tasks.","body":"Free users can only add 5 rooms, each with 5 tasks. Paid users will mostly add around 8 rooms, each with around 10 to 20 tasks."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648552776,"creation_date":1648552776,"answer_id":71661080,"question_id":71659157,"body_markdown":"According to your first comment:\r\n\r\n&gt; the number of reads and if there is a better way to implement the second rv\r\n\r\nAnd the second comment:\r\n\r\n&gt; Free users can only add 5 rooms, each with 5 tasks. Paid users will mostly add around 8 rooms, each with around 10 to 20 tasks.\r\n\r\nThe simplest option I can think of would be to use an array type field in each Room object that can hold all Task objects. Since it will exist only a few Task objects, you can easily add them to a single document. In this way, you only have to pay a single read for displaying a room together with all tasks.\r\n\r\nIf you&#39;re wondering how to map an array of custom objects into a List, please read the following article:\r\n\r\n* [How to map an array of objects from Cloud Firestore to a List of objects?][1]\r\n\r\n\r\n  [1]: https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10","title":"Android: best practice for nested recyclerview linked to cloud firestore","body":"<p>According to your first comment:</p>\n<blockquote>\n<p>the number of reads and if there is a better way to implement the second rv</p>\n</blockquote>\n<p>And the second comment:</p>\n<blockquote>\n<p>Free users can only add 5 rooms, each with 5 tasks. Paid users will mostly add around 8 rooms, each with around 10 to 20 tasks.</p>\n</blockquote>\n<p>The simplest option I can think of would be to use an array type field in each Room object that can hold all Task objects. Since it will exist only a few Task objects, you can easily add them to a single document. In this way, you only have to pay a single read for displaying a room together with all tasks.</p>\n<p>If you're wondering how to map an array of custom objects into a List, please read the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">How to map an array of objects from Cloud Firestore to a List of objects?</a></li>\n</ul>\n"}],"owner":{"account_id":12296607,"reputation":87,"user_id":8972056,"display_name":"Noiling"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71661080,"answer_count":1,"score":0,"last_activity_date":1648552835,"creation_date":1648544151,"question_id":71659157,"body_markdown":"I currently use a nested RecyclerView with an SQLite Database. However, I am currently switching to firebase, using Cloud Firestore as a database.\r\n\r\nMy setup is:\r\n\r\n- the Firestore database setup is: **Users -&gt; Houses -&gt; Rooms -&gt; Tasks**\r\n- vertical rv = rooms, horizontal rv = tasks\r\n- one model for the vertical rv, one model for the horizontal rv\r\n- as vertical rv I am using FirestoreRecyclerAdapter\r\n- inside its onbindviewholder I am calling: \r\n\r\n```\r\n    DocumentSnapshot snapshot = getSnapshots().getSnapshot(verticalPosition);\r\n\r\n    String roomId = snapshot.getId();\r\n```\r\n\r\n- with the Id I am queuing for the horizontal array list (tasks), which is located inside the Firestore reference &quot;room&quot;:\r\n\r\n```\r\nif (currentUser != null) {\r\n        String userID = currentUser.getUid();\r\n        userRef = fdb.collection(&quot;users&quot;).document(userID);\r\n        houseRef = userRef.collection(&quot;houses&quot;).document(&quot;house0&quot;);\r\n        roomRef = houseRef.collection(&quot;rooms&quot;).document(roomId);\r\n\r\n            roomRef.get().addOnCompleteListener(tasksnap -&gt; {\r\n                if (tasksnap.isSuccessful()) {\r\n                    DocumentSnapshot document = tasksnap.getResult();\r\n                    if (document.exists()) {\r\n\r\n                        VerticalModel room = document.toObject(VerticalModel.class);\r\n                        if (room != null) {\r\n                            ArrayList&lt;HorizontalModel&gt; tasks = room.getArrayList();\r\n\r\n                            hAdapter = new HorizontalRecyclerViewAdapter(context, new ArrayList&lt;&gt;(),\r\n                                    verticalPosition, listener, cleanInter);\r\n                            holder.view.rvHorizontal.setHasFixedSize(true);\r\n                            holder.view.rvHorizontal.setLayoutManager(new LinearLayoutManager(context,\r\n                                    LinearLayoutManager.HORIZONTAL, false));\r\n\r\n                            holder.view.rvHorizontal.setAdapter(hAdapter);\r\n                            holder.view.rvHorizontal.setNestedScrollingEnabled(false);\r\n\r\n                            holder.updateContents(tasks, hAdapter);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n```\r\n\r\nInstead of one array list per room with all tasks, I will switch to one document for one tasks.\r\n\r\nHowever, I am experiencing many Firestore read calls, probably as the onbind method is called a couple of times.\r\n\r\nSo if there are any experts: Is there a better approach? Using 2 Firestore adapters did not work for me, unfortunately.\r\n\r\nMaybe it is possible to force firebase to read from the local cache all the time and only when the user exits the app, it update the changes?\r\n","title":"Android: best practice for nested recyclerview linked to cloud firestore","body":"<p>I currently use a nested RecyclerView with an SQLite Database. However, I am currently switching to firebase, using Cloud Firestore as a database.</p>\n<p>My setup is:</p>\n<ul>\n<li>the Firestore database setup is: <strong>Users -&gt; Houses -&gt; Rooms -&gt; Tasks</strong></li>\n<li>vertical rv = rooms, horizontal rv = tasks</li>\n<li>one model for the vertical rv, one model for the horizontal rv</li>\n<li>as vertical rv I am using FirestoreRecyclerAdapter</li>\n<li>inside its onbindviewholder I am calling:</li>\n</ul>\n<pre><code>    DocumentSnapshot snapshot = getSnapshots().getSnapshot(verticalPosition);\n\n    String roomId = snapshot.getId();\n</code></pre>\n<ul>\n<li>with the Id I am queuing for the horizontal array list (tasks), which is located inside the Firestore reference &quot;room&quot;:</li>\n</ul>\n<pre><code>if (currentUser != null) {\n        String userID = currentUser.getUid();\n        userRef = fdb.collection(&quot;users&quot;).document(userID);\n        houseRef = userRef.collection(&quot;houses&quot;).document(&quot;house0&quot;);\n        roomRef = houseRef.collection(&quot;rooms&quot;).document(roomId);\n\n            roomRef.get().addOnCompleteListener(tasksnap -&gt; {\n                if (tasksnap.isSuccessful()) {\n                    DocumentSnapshot document = tasksnap.getResult();\n                    if (document.exists()) {\n\n                        VerticalModel room = document.toObject(VerticalModel.class);\n                        if (room != null) {\n                            ArrayList&lt;HorizontalModel&gt; tasks = room.getArrayList();\n\n                            hAdapter = new HorizontalRecyclerViewAdapter(context, new ArrayList&lt;&gt;(),\n                                    verticalPosition, listener, cleanInter);\n                            holder.view.rvHorizontal.setHasFixedSize(true);\n                            holder.view.rvHorizontal.setLayoutManager(new LinearLayoutManager(context,\n                                    LinearLayoutManager.HORIZONTAL, false));\n\n                            holder.view.rvHorizontal.setAdapter(hAdapter);\n                            holder.view.rvHorizontal.setNestedScrollingEnabled(false);\n\n                            holder.updateContents(tasks, hAdapter);\n                        }\n                    }\n                }\n            });\n        }\n</code></pre>\n<p>Instead of one array list per room with all tasks, I will switch to one document for one tasks.</p>\n<p>However, I am experiencing many Firestore read calls, probably as the onbind method is called a couple of times.</p>\n<p>So if there are any experts: Is there a better approach? Using 2 Firestore adapters did not work for me, unfortunately.</p>\n<p>Maybe it is possible to force firebase to read from the local cache all the time and only when the user exits the app, it update the changes?</p>\n"},{"tags":["java","jpa","bean-validation"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1648535913,"post_id":71657460,"comment_id":126641721,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/8756768/annotations-from-javax-validation-constraints-not-working","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/8756768/annotations-from-javax-validation-constraints-not-working\" title=\"annotations from javax validation constraints not working\">stackoverflow.com/questions/8756768/&hellip;</a>"},{"owner":{"account_id":1467295,"reputation":736,"user_id":1379799,"accept_rate":84,"display_name":"Tamas"},"score":0,"creation_date":1655199607,"post_id":71657460,"comment_id":128269815,"body_markdown":"I run into the same problem. What was the solution?","body":"I run into the same problem. What was the solution?"}],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648548848,"creation_date":1648537272,"answer_id":71657731,"question_id":71657460,"body_markdown":"As `ProjectComponent` is an Entity class, I recommend you should use `@Length` annotation or add `length` attribute in `@Column` annotation. I found this article online which explains the difference between these @Size &amp; @Length annotations. Please take a look. [Difference between @Size &amp; @Length][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-size-length-column-differences","title":"Bean validation annotation (@Size)not working properly","body":"<p>As <code>ProjectComponent</code> is an Entity class, I recommend you should use <code>@Length</code> annotation or add <code>length</code> attribute in <code>@Column</code> annotation. I found this article online which explains the difference between these @Size &amp; @Length annotations. Please take a look. <a href=\"https://www.baeldung.com/jpa-size-length-column-differences\" rel=\"nofollow noreferrer\">Difference between @Size &amp; @Length</a>.</p>\n"},{"tags":[],"owner":{"account_id":12142401,"reputation":141,"user_id":8865736,"display_name":"varuscn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648543182,"creation_date":1648543182,"answer_id":71658951,"question_id":71657460,"body_markdown":"Maybe you should use @Size and @Valid together.","title":"Bean validation annotation (@Size)not working properly","body":"<p>Maybe you should use @Size and @Valid together.</p>\n"},{"tags":[],"owner":{"account_id":11936302,"reputation":11,"user_id":8734643,"display_name":"Rahad Mannan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648552796,"creation_date":1648552796,"answer_id":71661084,"question_id":71657460,"body_markdown":"    @PrePersist\r\n    @PostLoad\r\n    void markNotNew() {\r\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n        Set&lt;ConstraintViolation&lt;AbstractEntity&gt;&gt; constraintViolations =\r\n                validator.validate( this );\r\n        constraintViolations.size();\r\n        if(!constraintViolations.isEmpty()) {\r\n            throw new ResourceNotFoundException(constraintViolations.stream().map(ConstraintViolation::getMessage).collect(Collectors.joining()));\r\n        }\r\n            this.isNew = false;\r\n    }\r\n\r\ngot the solution thanks friends.","title":"Bean validation annotation (@Size)not working properly","body":"<pre><code>@PrePersist\n@PostLoad\nvoid markNotNew() {\n    Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n    Set&lt;ConstraintViolation&lt;AbstractEntity&gt;&gt; constraintViolations =\n            validator.validate( this );\n    constraintViolations.size();\n    if(!constraintViolations.isEmpty()) {\n        throw new ResourceNotFoundException(constraintViolations.stream().map(ConstraintViolation::getMessage).collect(Collectors.joining()));\n    }\n        this.isNew = false;\n}\n</code></pre>\n<p>got the solution thanks friends.</p>\n"}],"owner":{"account_id":11936302,"reputation":11,"user_id":8734643,"display_name":"Rahad Mannan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1648552796,"creation_date":1648535712,"question_id":71657460,"body_markdown":"    import org.javers.core.metamodel.annotation.DiffIgnore;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.Set;\r\n    \r\n    \r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;project&quot;)\r\n    public class ProjectComponent extends AbstractEntity {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false, length = 128)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;project_name&quot;, nullable = false)\r\n        private String projectName;\r\n    \r\n        @Column(name = &quot;name&quot;, nullable = false, columnDefinition = &quot;nvarchar&quot;)\r\n        @Size(max = 512, message\r\n                = &quot;Cannot exceed 512 characters&quot;)\r\n        private String name;\r\n    }\r\n\r\n\r\n@Size(max=512) I used this in the entity field but whenever I crossed size 512 then this thing should stop on that particular field should not persist into DB and that means should not throw an exception from DB.","title":"Bean validation annotation (@Size)not working properly","body":"<pre><code>import org.javers.core.metamodel.annotation.DiffIgnore;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Size;\nimport java.util.Set;\n\n\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;project&quot;)\npublic class ProjectComponent extends AbstractEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false, length = 128)\n    private String id;\n\n    @Column(name = &quot;project_name&quot;, nullable = false)\n    private String projectName;\n\n    @Column(name = &quot;name&quot;, nullable = false, columnDefinition = &quot;nvarchar&quot;)\n    @Size(max = 512, message\n            = &quot;Cannot exceed 512 characters&quot;)\n    private String name;\n}\n</code></pre>\n<p>@Size(max=512) I used this in the entity field but whenever I crossed size 512 then this thing should stop on that particular field should not persist into DB and that means should not throw an exception from DB.</p>\n"},{"tags":["java","arrays","regex","string","split"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1648550323,"post_id":71659908,"comment_id":126647176,"body_markdown":"`date + &#39;\\n&#39; + hour`.","body":"<code>date + &#39;\\n&#39; + hour</code>."}],"answers":[{"tags":[],"owner":{"account_id":23826398,"reputation":14,"user_id":17833384,"display_name":"OmOursPor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648552593,"creation_date":1648549024,"answer_id":71660273,"question_id":71659908,"body_markdown":"    String finalString = date + &quot;\\n&quot; + hour\r\n\r\nDon&#39;t work if you display this?","title":"Separate string array elements with next line \\n or separator","body":"<pre><code>String finalString = date + &quot;\\n&quot; + hour\n</code></pre>\n<p>Don't work if you display this?</p>\n"}],"owner":{"account_id":22619063,"reputation":7,"user_id":16798152,"display_name":"Radina Iuliana Abraham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71660273,"answer_count":1,"score":0,"last_activity_date":1648552593,"creation_date":1648547672,"question_id":71659908,"body_markdown":"I need some help with these strings. My code is:\r\n```\r\nString string = database.getCurrentDate();;\r\nString[] array = string.split(&quot;[.]&quot;, 0);\r\nString date = array[0] + &quot;.&quot; + array[1];\r\nString string1=database.getCurrentHour();\r\nString[] array1=string1.split(&quot;[:]&quot;,0);\r\nString hour=array1[0]+&quot;:&quot;+array1[1];\r\nString finalString=date+hour;// finalString is 28.0310:45\r\n```\r\nI need that `finalString` to be:\r\n```\r\ndate\r\nhour//on next line\r\nexample:\r\n28.03//date\r\n10:45//hour\r\n```\r\nThe point is that I need the hour to be displayed on the next line, under date.\r\nThank you!","title":"Separate string array elements with next line \\n or separator","body":"<p>I need some help with these strings. My code is:</p>\n<pre><code>String string = database.getCurrentDate();;\nString[] array = string.split(&quot;[.]&quot;, 0);\nString date = array[0] + &quot;.&quot; + array[1];\nString string1=database.getCurrentHour();\nString[] array1=string1.split(&quot;[:]&quot;,0);\nString hour=array1[0]+&quot;:&quot;+array1[1];\nString finalString=date+hour;// finalString is 28.0310:45\n</code></pre>\n<p>I need that <code>finalString</code> to be:</p>\n<pre><code>date\nhour//on next line\nexample:\n28.03//date\n10:45//hour\n</code></pre>\n<p>The point is that I need the hour to be displayed on the next line, under date.\nThank you!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1648550222,"post_id":71660468,"comment_id":126647135,"body_markdown":"`The POM for com.example:hello-commons:jar:1.0.0 is missing` -- _is_ the POM present in the repo?","body":"<code>The POM for com.example:hello-commons:jar:1.0.0 is missing</code> -- <i>is</i> the POM present in the repo?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1648552276,"post_id":71660468,"comment_id":126647914,"body_markdown":"yes, the `pom.xml` is also present next to the jar.","body":"yes, the <code>pom.xml</code> is also present next to the jar."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648550303,"creation_date":1648550303,"answer_id":71660565,"question_id":71660468,"body_markdown":"Check in your local m2 repository (C:\\Users\\YourUserName\\.m2\\repository) If the folder com/example/hello-commons has been created. If the folder created but download failed it won&#39;t retry for a while. Try to delete  that folder and run your maven build again","title":"Artifact cannot be resolved from gitlab repository - only in pom.xml, while GET works?","body":"<p>Check in your local m2 repository (C:\\Users\\YourUserName.m2\\repository) If the folder com/example/hello-commons has been created. If the folder created but download failed it won't retry for a while. Try to delete  that folder and run your maven build again</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648552425,"creation_date":1648552425,"answer_id":71660992,"question_id":71660468,"body_markdown":"I didn&#39;t know that a private token has to be set into `~/.m2/settings.xml` as follows:\r\n\r\n    &lt;settings&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n          &lt;configuration&gt;\r\n            &lt;httpHeaders&gt;\r\n              &lt;property&gt;\r\n                &lt;name&gt;Private-Token&lt;/name&gt;\r\n                &lt;value&gt;PRIVATE_TOKEN_UUID&lt;/value&gt;\r\n              &lt;/property&gt;\r\n            &lt;/httpHeaders&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n\r\nThe token must be of scope `read_api`.","title":"Artifact cannot be resolved from gitlab repository - only in pom.xml, while GET works?","body":"<p>I didn't know that a private token has to be set into <code>~/.m2/settings.xml</code> as follows:</p>\n<pre><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Private-Token&lt;/name&gt;\n            &lt;value&gt;PRIVATE_TOKEN_UUID&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>The token must be of scope <code>read_api</code>.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648552425,"creation_date":1648549904,"question_id":71660468,"body_markdown":"I created a commons artifact in a `gitlab repository`.\r\n\r\nI can already download the artifact from within a webbrowser:\r\n\r\n    https://git.my-company.com/api/v4/projects/295/packages/maven/com/example/hello-commons/1.0.0/hello-commons-1.0.0.jar\r\n\r\nBut when I try letting `maven` fetch the dependency, I get the following error:\r\n\r\n&gt; [WARNING] The POM for com.example:hello-commons:jar:1.0.0 is missing,\r\n&gt; no dependency information available Downloading from gitlab-maven:\r\n&gt; https://git.my-company.com/api/v4/projects/295/packages/maven/com/example/hello-commons/1.0.0/hello-commons-1.0.0.jar\r\n\r\nThis is my `pom.xml`, what might be missing?\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://git.my-company.com/api/v4/projects/295/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://git.my-company.com/api/v4/projects/295/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;","title":"Artifact cannot be resolved from gitlab repository - only in pom.xml, while GET works?","body":"<p>I created a commons artifact in a <code>gitlab repository</code>.</p>\n<p>I can already download the artifact from within a webbrowser:</p>\n<pre><code>https://git.my-company.com/api/v4/projects/295/packages/maven/com/example/hello-commons/1.0.0/hello-commons-1.0.0.jar\n</code></pre>\n<p>But when I try letting <code>maven</code> fetch the dependency, I get the following error:</p>\n<blockquote>\n<p>[WARNING] The POM for com.example:hello-commons:jar:1.0.0 is missing,\nno dependency information available Downloading from gitlab-maven:\n<a href=\"https://git.my-company.com/api/v4/projects/295/packages/maven/com/example/hello-commons/1.0.0/hello-commons-1.0.0.jar\" rel=\"nofollow noreferrer\">https://git.my-company.com/api/v4/projects/295/packages/maven/com/example/hello-commons/1.0.0/hello-commons-1.0.0.jar</a></p>\n</blockquote>\n<p>This is my <code>pom.xml</code>, what might be missing?</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://git.my-company.com/api/v4/projects/295/packages/maven&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://git.my-company.com/api/v4/projects/295/packages/maven&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","timer"],"answers":[{"tags":[],"owner":{"account_id":9197483,"reputation":2049,"user_id":6835732,"display_name":"Primo Ivani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648552331,"creation_date":1648548224,"answer_id":71660050,"question_id":71659936,"body_markdown":"Inside `onTick(long)` method simply check how many seconds are left. And if it is five, trigger your action.\r\n\r\n**EDIT** &lt;br /&gt;\r\nMy approach to hitting the right time would be something like this:\r\n```java\r\nif (Math.abs(mTimeLeftInMillis - 5000) &lt; 100) {\r\n    // start the animation\r\n}\r\n```\r\nThis would avoid issues with `if (mTimeLeftInMillis == 5000)` as it gives it some buffer. It&#39;s needed because it will not trigger at exactly 5000 milliseconds.","title":"I want to make it so that when the timer ends, when there are still 5 seconds left, an action occurs","body":"<p>Inside <code>onTick(long)</code> method simply check how many seconds are left. And if it is five, trigger your action.</p>\n<p><strong>EDIT</strong> <br />\nMy approach to hitting the right time would be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Math.abs(mTimeLeftInMillis - 5000) &lt; 100) {\n    // start the animation\n}\n</code></pre>\n<p>This would avoid issues with <code>if (mTimeLeftInMillis == 5000)</code> as it gives it some buffer. It's needed because it will not trigger at exactly 5000 milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648550046,"creation_date":1648550046,"answer_id":71660494,"question_id":71659936,"body_markdown":"Thanks! I did it like this:\r\n\r\n ```\r\n\r\n                  if (mTimeLeftInMillis &lt;= 6000){\r\n                    mTextViewCountDown.setTextColor(Color.RED);\r\n                    zooming_second = AnimationUtils.loadAnimation(Level1.this, \r\n                R.anim.watch_zoo);\r\n                    mTextViewCountDown.startAnimation(zooming_second);\r\n                    soundPlay(watch);\r\n                }\r\n```","title":"I want to make it so that when the timer ends, when there are still 5 seconds left, an action occurs","body":"<p>Thanks! I did it like this:</p>\n<pre><code>\n                 if (mTimeLeftInMillis &lt;= 6000){\n                   mTextViewCountDown.setTextColor(Color.RED);\n                   zooming_second = AnimationUtils.loadAnimation(Level1.this, \n               R.anim.watch_zoo);\n                   mTextViewCountDown.startAnimation(zooming_second);\n                   soundPlay(watch);\n               }\n</code></pre>\n"}],"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71660050,"answer_count":2,"score":0,"last_activity_date":1648552331,"creation_date":1648547790,"question_id":71659936,"body_markdown":"How to make this action happen at the end of the time when there are still 5 seconds left.\r\n\r\nThis is the code of the action that I want to do when there are 5 seconds left from the timer:\r\n\r\n```\r\nmTextViewCountDown.setTextColor(Color.RED);\r\n    zooming_second = AnimationUtils.loadAnimation(Level1.this, R.anim.watch_zoo);\r\n    mTextViewCountDown.startAnimation(zooming_second);\r\n    soundPlay(watch);\r\n```\r\n\r\nIn this method:\r\n```\r\n//variable start\r\n    private static final long START_TIME_IN_MILLIS = 60000;\r\n    private TextView mTextViewCountDown;\r\n    private CountDownTimer mCountDownTimer;\r\n    private boolean mTimerRunning;\r\n    private long mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n//variable end\r\n\r\nprivate void startTimer() {\r\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                mTimeLeftInMillis = millisUntilFinished;\r\n\r\n                int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\r\n                int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n\r\n                String timeLeftFormatted = String.format(Locale.ENGLISH, &quot;%02d:%02d&quot;, minutes, seconds);\r\n                mTextViewCountDown.setText(timeLeftFormatted);\r\n\r\n                mTimerRunning = true;\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                mTimerRunning = false;\r\n                TimeOutDialog();\r\n                soundPlay(time_out_sound);\r\n                mediaPlayer1.stop();\r\n                tadam_false.stop();\r\n                tadam_true.stop();\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void pauseTimer () {\r\n        mCountDownTimer.cancel();\r\n        mTimerRunning = false;\r\n    }\r\n```\r\n","title":"I want to make it so that when the timer ends, when there are still 5 seconds left, an action occurs","body":"<p>How to make this action happen at the end of the time when there are still 5 seconds left.</p>\n<p>This is the code of the action that I want to do when there are 5 seconds left from the timer:</p>\n<pre><code>mTextViewCountDown.setTextColor(Color.RED);\n    zooming_second = AnimationUtils.loadAnimation(Level1.this, R.anim.watch_zoo);\n    mTextViewCountDown.startAnimation(zooming_second);\n    soundPlay(watch);\n</code></pre>\n<p>In this method:</p>\n<pre><code>//variable start\n    private static final long START_TIME_IN_MILLIS = 60000;\n    private TextView mTextViewCountDown;\n    private CountDownTimer mCountDownTimer;\n    private boolean mTimerRunning;\n    private long mTimeLeftInMillis = START_TIME_IN_MILLIS;\n//variable end\n\nprivate void startTimer() {\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                mTimeLeftInMillis = millisUntilFinished;\n\n                int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\n                int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n                String timeLeftFormatted = String.format(Locale.ENGLISH, &quot;%02d:%02d&quot;, minutes, seconds);\n                mTextViewCountDown.setText(timeLeftFormatted);\n\n                mTimerRunning = true;\n            }\n\n            @Override\n            public void onFinish() {\n                mTimerRunning = false;\n                TimeOutDialog();\n                soundPlay(time_out_sound);\n                mediaPlayer1.stop();\n                tadam_false.stop();\n                tadam_true.stop();\n            }\n        }.start();\n    }\n\n    private void pauseTimer () {\n        mCountDownTimer.cancel();\n        mTimerRunning = false;\n    }\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-mapview","google-maps-api-2"],"answers":[{"tags":[],"owner":{"account_id":3644897,"reputation":33,"user_id":3038157,"display_name":"TMenninger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590946957,"creation_date":1590946957,"answer_id":62120190,"question_id":62111235,"body_markdown":"FINALLY I found the answer in a comment at https://stackoverflow.com/a/51464293/3038157.\r\n\r\nBasically, it seems there was something stale.  Without changing any code, I uninstalled the app, cleaned the build, rebuilt, and voila it worked.","title":"How do you use a Google MapView inside of a Fragment?","body":"<p>FINALLY I found the answer in a comment at <a href=\"https://stackoverflow.com/a/51464293/3038157\">https://stackoverflow.com/a/51464293/3038157</a>.</p>\n\n<p>Basically, it seems there was something stale.  Without changing any code, I uninstalled the app, cleaned the build, rebuilt, and voila it worked.</p>\n"},{"tags":[],"owner":{"account_id":2609536,"reputation":308,"user_id":2259916,"display_name":"Pham Hung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648552101,"creation_date":1648552101,"answer_id":71660933,"question_id":62111235,"body_markdown":"You must forward all the life cycle methods from the Activity or Fragment containing this view to the corresponding ones in this class.\r\nView this [official guide][1]\r\nor [example code][2] \r\n   \r\n\r\n     // *** IMPORTANT ***\r\n     // MapView requires that the Bundle you pass contain _ONLY_ MapView SDK\r\n     // objects or sub-Bundles.\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/MapView?hl=en\r\n  [2]: https://github.com/googlemaps/android-samples/blob/main/ApiDemos/java/app/src/gms/java/com/example/mapdemo/RawMapViewDemoActivity.java","title":"How do you use a Google MapView inside of a Fragment?","body":"<p>You must forward all the life cycle methods from the Activity or Fragment containing this view to the corresponding ones in this class.\nView this <a href=\"https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/MapView?hl=en\" rel=\"nofollow noreferrer\">official guide</a>\nor <a href=\"https://github.com/googlemaps/android-samples/blob/main/ApiDemos/java/app/src/gms/java/com/example/mapdemo/RawMapViewDemoActivity.java\" rel=\"nofollow noreferrer\">example code</a></p>\n<pre><code> // *** IMPORTANT ***\n // MapView requires that the Bundle you pass contain _ONLY_ MapView SDK\n // objects or sub-Bundles.\n</code></pre>\n"}],"owner":{"account_id":3644897,"reputation":33,"user_id":3038157,"display_name":"TMenninger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648552101,"creation_date":1590896098,"question_id":62111235,"body_markdown":"# Desired Behavior\r\n\r\nIn case it affects any answers or suggestions, what I would like to ultimately see in this app is a navigation UI where one of the `Fragment` is a map.  I used a template to start with a navigation UI, which gave me several `Fragment`s, one for each tab.  Currently, I&#39;m trying to use the Google API to put a `MapView` inside of one of those `Fragment`s.\r\n\r\n# Current Behavior\r\n\r\nGenerally, this isn&#39;t working (obviously).  I have everything up and running, but when I pull up the tab with the map in it, the map is blank.  Nothing crashes, and no errors are output:\r\n\r\n```\r\nI/Google&#160;Maps&#160;Android&#160;API: Google Play services client version: 12451000\r\nI/Google&#160;Maps&#160;Android&#160;API: Google Play services package version: 201516040\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nI/DynamiteModule: Considering local module com.google.android.gms.googlecertificates:0 and remote module com.google.android.gms.googlecertificates:4\r\n    Selected remote version of com.google.android.gms.googlecertificates, version &gt;= 4\r\n```\r\n\r\n# Other Details/Troubleshooting\r\n\r\nI know that my API key works because I have another app in which the maps work as expected.  I doubt I need a second API key, but I looked anyway and since it wasn&#39;t overly obvious how to create a second API key, I think that hunch is correct.  Most of the code I&#39;m using was copied from that working example; the primary difference is that other example uses a `SupportMapFragment` and it has a `class MapsActivity extends FragmentActivity`.  Here, since I don&#39;t really want to deal with nesting fragments, I&#39;m trying to use a `MapView` inside that fragment.\r\n\r\nWhat bits of my code that weren&#39;t copied largely came from online sources.  None of what I&#39;ve tried has produced better results.\r\n\r\nhttps://stackoverflow.com/questions/44270958/mapview-inside-fragment is answering a different problem\r\n\r\nhttps://stackoverflow.com/questions/31985046/creating-google-maps-v2-in-a-fragment-using-navigation-drawer contains only things I already have\r\n\r\nhttps://stackoverflow.com/questions/26174527/android-mapview-in-fragment gave me the idea to use `MapsInitializer.initialize(this.getActivity());` but that didn&#39;t help\r\n\r\nhttps://stackoverflow.com/questions/39585989/mapview-in-separate-fragment-android has nothing new\r\n\r\nhttps://stackoverflow.com/questions/51442253/how-do-i-solve-integrating-google-map-in-fragment-in-android uses a `Fragment` not a `MapView`\r\n\r\nI also know that `onMapReady` is being called.  Inside of that, I move the camera and that subsequently calls `onCameraMoveStarted`.  However, it does not enter `onCameraMove` or `onCameraIdle`.\r\n\r\n# Code\r\n\r\nThis is the code as it is, which uses some of the ideas from the above links.  I tried to cut out anything that&#39;s unrelated (other fragments, etc)\r\n\r\n### AndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.retailtherapy&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:windowSoftInputMode=&quot;stateVisible|adjustResize&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;uses-feature\r\n        android:glEsVersion=&quot;0x00020000&quot;\r\n        android:required=&quot;true&quot;/&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n### activity_main.xml\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n        tools:context=&quot;.MainActivity&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n### mobile_navigation.xml\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@+id/navigation_map&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_map&quot;\r\n        android:name=&quot;com.example.retailtherapy.ui.map.MapFragment&quot;\r\n        android:label=&quot;Map&quot;\r\n        tools:layout=&quot;@layout/fragment_map&quot; /&gt;\r\n\r\n&lt;/navigation&gt;\r\n```\r\n\r\n### fragment_map.xml\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.map.MapFragment&quot; &gt;\r\n\r\n    &lt;com.google.android.gms.maps.MapView\r\n        android:id=&quot;@+id/googleMap&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n### MapFragment.java\r\n```\r\npublic class MapFragment extends Fragment implements OnMapReadyCallback, LocationListener {\r\n\r\n    /*************************************************************************\r\n     *\r\n     * M E M B E R S\r\n     *\r\n     */\r\n\r\n    // Location manager for getting current location\r\n    private LocationManager mLocationManager = null;\r\n\r\n    // The map object for reference for ease of adding points and such\r\n    private GoogleMap mGoogleMap = null;\r\n    private MapView mMapView = null;\r\n\r\n    // The camera position tells us where the view is on the map\r\n    private CameraPosition mCameraPosition = Constants.GetDefaultCameraPosition();\r\n\r\n    // Current latitude and longitude of user\r\n    private LatLng mCurrentLatLong = new LatLng(0.0, 0.0);\r\n\r\n    // These are flags that allow us to selectively not move the camera and\r\n    // instead wait for idle so the movement isn&#39;t jerky\r\n    private boolean mCameraMoving = false;\r\n    private boolean mPendingUpdate = false;\r\n\r\n    /*************************************************************************\r\n     *\r\n     * F R A G M E N T\r\n     *\r\n     */\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        super.onCreateView(inflater, container, savedInstanceState);\r\n        View root = inflater.inflate(R.layout.fragment_map, container, false);\r\n\r\n        // The google map...\r\n        MapsInitializer.initialize(getActivity());\r\n        mMapView = (MapView) root.findViewById(R.id.googleMap);\r\n        mMapView.onCreate(savedInstanceState);\r\n        mMapView.getMapAsync(this);\r\n\r\n        // The required permissions...\r\n        final String[] REQUIRED_PERMISSIONS = {\r\n                Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.INTERNET,\r\n        };\r\n        requestPermissions(REQUIRED_PERMISSIONS, 0);\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onStart() throws SecurityException {\r\n        super.onStart();\r\n\r\n        // Location manager for getting info current location\r\n        mLocationManager = (LocationManager) getActivity().getSystemService(Context.LOCATION_SERVICE);\r\n        mLocationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000, 0, this);\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        mMapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        mMapView.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        mMapView.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mMapView.onLowMemory();\r\n    }\r\n\r\n    /*************************************************************************\r\n     *\r\n     * G O O G L E   M A P S\r\n     *\r\n     */\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mGoogleMap = googleMap;\r\n\r\n        // Assuming if here that we have permissions okay.  Dangerous sure\r\n        // but I&#39;m lazy...\r\n        mGoogleMap.setMyLocationEnabled(true);\r\n\r\n        // Store the location of the camera for UI purposes so we can go\r\n        // back to where we were\r\n        mGoogleMap.setOnCameraMoveListener(new GoogleMap.OnCameraMoveListener() {\r\n            @Override\r\n            public void onCameraMove() {\r\n                mCameraPosition = mGoogleMap.getCameraPosition();\r\n            }\r\n        });\r\n        mGoogleMap.setOnCameraMoveStartedListener(new GoogleMap.OnCameraMoveStartedListener() {\r\n            @Override\r\n            public void onCameraMoveStarted(int i) {\r\n                mCameraMoving = true;\r\n            }\r\n        });\r\n        mGoogleMap.setOnCameraIdleListener(new GoogleMap.OnCameraIdleListener() {\r\n            @Override\r\n            public void onCameraIdle() {\r\n                mCameraMoving = false;\r\n                if (mPendingUpdate) {\r\n                    centerCameraOnLocation(false);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Start with user centered in view\r\n        centerCameraOnLocation(true);\r\n    }\r\n\r\n    /*************************************************************************\r\n     *\r\n     * L O C A T I O N\r\n     *\r\n     */\r\n\r\n    @Override\r\n    public void onLocationChanged(Location location) {\r\n        // Store the current location so if we start auto-center but aren&#39;t\r\n        // already, we know where to pan to\r\n        LatLng newLatLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n        if (!newLatLng.equals(mCurrentLatLong)) {\r\n            mCurrentLatLong = new LatLng(location.getLatitude(), location.getLongitude());\r\n            centerCameraOnLocation(false);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStatusChanged(String provider, int status, Bundle extras) {}\r\n\r\n    @Override\r\n    public void onProviderDisabled(String provider) {}\r\n\r\n    @Override\r\n    public void onProviderEnabled(String provider) {}\r\n\r\n    /*************************************************************************\r\n     *\r\n     * M A P   C A M E R A\r\n     *\r\n     */\r\n\r\n    /*\r\n     * Updates the camera position based on current state.  If the camera is\r\n     * already moving, then wait.\r\n     */\r\n    private void centerCameraOnLocation(boolean animate) {\r\n        if (mGoogleMap == null) {\r\n            return;\r\n        }\r\n\r\n        if (mCameraMoving) {\r\n            mPendingUpdate = true;\r\n            return;\r\n        }\r\n\r\n        // Get the CameraPosition to update to based on whether we are auto\r\n        // centering or not.\r\n        if (mCameraPosition == null) {\r\n            mCameraPosition = Constants.GetDefaultCameraPosition();\r\n        }\r\n\r\n        // If this is the same as it was before, then don&#39;t reset it\r\n        if (mCameraPosition.equals(mGoogleMap.getCameraPosition())) {\r\n            return;\r\n        }\r\n\r\n        // Make the update so we can move the camera\r\n        CameraUpdate cameraUpdate = CameraUpdateFactory.newCameraPosition(mCameraPosition);\r\n\r\n        // Move the camera with or without animation.  The time we don&#39;t want\r\n        // animation is when we&#39;re setting the position initially\r\n        if (animate) {\r\n            mGoogleMap.animateCamera(cameraUpdate);\r\n        }\r\n        else {\r\n            mGoogleMap.moveCamera(cameraUpdate);\r\n        }\r\n        mPendingUpdate = false;\r\n    }\r\n}\r\n```","title":"How do you use a Google MapView inside of a Fragment?","body":"<h1>Desired Behavior</h1>\n\n<p>In case it affects any answers or suggestions, what I would like to ultimately see in this app is a navigation UI where one of the <code>Fragment</code> is a map.  I used a template to start with a navigation UI, which gave me several <code>Fragment</code>s, one for each tab.  Currently, I'm trying to use the Google API to put a <code>MapView</code> inside of one of those <code>Fragment</code>s.</p>\n\n<h1>Current Behavior</h1>\n\n<p>Generally, this isn't working (obviously).  I have everything up and running, but when I pull up the tab with the map in it, the map is blank.  Nothing crashes, and no errors are output:</p>\n\n<pre><code>I/GoogleMapsAndroidAPI: Google Play services client version: 12451000\nI/GoogleMapsAndroidAPI: Google Play services package version: 201516040\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nI/DynamiteModule: Considering local module com.google.android.gms.googlecertificates:0 and remote module com.google.android.gms.googlecertificates:4\n    Selected remote version of com.google.android.gms.googlecertificates, version &gt;= 4\n</code></pre>\n\n<h1>Other Details/Troubleshooting</h1>\n\n<p>I know that my API key works because I have another app in which the maps work as expected.  I doubt I need a second API key, but I looked anyway and since it wasn't overly obvious how to create a second API key, I think that hunch is correct.  Most of the code I'm using was copied from that working example; the primary difference is that other example uses a <code>SupportMapFragment</code> and it has a <code>class MapsActivity extends FragmentActivity</code>.  Here, since I don't really want to deal with nesting fragments, I'm trying to use a <code>MapView</code> inside that fragment.</p>\n\n<p>What bits of my code that weren't copied largely came from online sources.  None of what I've tried has produced better results.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44270958/mapview-inside-fragment\">MapView inside fragment</a> is answering a different problem</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31985046/creating-google-maps-v2-in-a-fragment-using-navigation-drawer\">Creating google maps v2 in a fragment using Navigation Drawer</a> contains only things I already have</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26174527/android-mapview-in-fragment\">android MapView in Fragment</a> gave me the idea to use <code>MapsInitializer.initialize(this.getActivity());</code> but that didn't help</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39585989/mapview-in-separate-fragment-android\">Mapview in separate fragment android</a> has nothing new</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51442253/how-do-i-solve-integrating-google-map-in-fragment-in-android\">how do i solve integrating google map in fragment in android</a> uses a <code>Fragment</code> not a <code>MapView</code></p>\n\n<p>I also know that <code>onMapReady</code> is being called.  Inside of that, I move the camera and that subsequently calls <code>onCameraMoveStarted</code>.  However, it does not enter <code>onCameraMove</code> or <code>onCameraIdle</code>.</p>\n\n<h1>Code</h1>\n\n<p>This is the code as it is, which uses some of the ideas from the above links.  I tried to cut out anything that's unrelated (other fragments, etc)</p>\n\n<h3>AndroidManifest.xml</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.retailtherapy\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;meta-data\n            android:name=\"com.google.android.geo.API_KEY\"\n            android:value=\"@string/google_maps_key\" /&gt;\n\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/app_name\"\n            android:windowSoftInputMode=\"stateVisible|adjustResize\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n    &lt;uses-feature\n        android:glEsVersion=\"0x00020000\"\n        android:required=\"true\"/&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<h3>activity_main.xml</h3>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/nav_view\"\n        app:menu=\"@menu/bottom_nav_menu\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        app:defaultNavHost=\"true\"\n        app:navGraph=\"@navigation/mobile_navigation\"\n        tools:context=\".MainActivity\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<h3>mobile_navigation.xml</h3>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/mobile_navigation\"\n    app:startDestination=\"@+id/navigation_map\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/navigation_map\"\n        android:name=\"com.example.retailtherapy.ui.map.MapFragment\"\n        android:label=\"Map\"\n        tools:layout=\"@layout/fragment_map\" /&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<h3>fragment_map.xml</h3>\n\n<pre><code>\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ui.map.MapFragment\" &gt;\n\n    &lt;com.google.android.gms.maps.MapView\n        android:id=\"@+id/googleMap\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<h3>MapFragment.java</h3>\n\n<pre><code>public class MapFragment extends Fragment implements OnMapReadyCallback, LocationListener {\n\n    /*************************************************************************\n     *\n     * M E M B E R S\n     *\n     */\n\n    // Location manager for getting current location\n    private LocationManager mLocationManager = null;\n\n    // The map object for reference for ease of adding points and such\n    private GoogleMap mGoogleMap = null;\n    private MapView mMapView = null;\n\n    // The camera position tells us where the view is on the map\n    private CameraPosition mCameraPosition = Constants.GetDefaultCameraPosition();\n\n    // Current latitude and longitude of user\n    private LatLng mCurrentLatLong = new LatLng(0.0, 0.0);\n\n    // These are flags that allow us to selectively not move the camera and\n    // instead wait for idle so the movement isn't jerky\n    private boolean mCameraMoving = false;\n    private boolean mPendingUpdate = false;\n\n    /*************************************************************************\n     *\n     * F R A G M E N T\n     *\n     */\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        super.onCreateView(inflater, container, savedInstanceState);\n        View root = inflater.inflate(R.layout.fragment_map, container, false);\n\n        // The google map...\n        MapsInitializer.initialize(getActivity());\n        mMapView = (MapView) root.findViewById(R.id.googleMap);\n        mMapView.onCreate(savedInstanceState);\n        mMapView.getMapAsync(this);\n\n        // The required permissions...\n        final String[] REQUIRED_PERMISSIONS = {\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.INTERNET,\n        };\n        requestPermissions(REQUIRED_PERMISSIONS, 0);\n\n        return root;\n    }\n\n    @Override\n    public void onStart() throws SecurityException {\n        super.onStart();\n\n        // Location manager for getting info current location\n        mLocationManager = (LocationManager) getActivity().getSystemService(Context.LOCATION_SERVICE);\n        mLocationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000, 0, this);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mMapView.onResume();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        mMapView.onDestroy();\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        mMapView.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mMapView.onLowMemory();\n    }\n\n    /*************************************************************************\n     *\n     * G O O G L E   M A P S\n     *\n     */\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mGoogleMap = googleMap;\n\n        // Assuming if here that we have permissions okay.  Dangerous sure\n        // but I'm lazy...\n        mGoogleMap.setMyLocationEnabled(true);\n\n        // Store the location of the camera for UI purposes so we can go\n        // back to where we were\n        mGoogleMap.setOnCameraMoveListener(new GoogleMap.OnCameraMoveListener() {\n            @Override\n            public void onCameraMove() {\n                mCameraPosition = mGoogleMap.getCameraPosition();\n            }\n        });\n        mGoogleMap.setOnCameraMoveStartedListener(new GoogleMap.OnCameraMoveStartedListener() {\n            @Override\n            public void onCameraMoveStarted(int i) {\n                mCameraMoving = true;\n            }\n        });\n        mGoogleMap.setOnCameraIdleListener(new GoogleMap.OnCameraIdleListener() {\n            @Override\n            public void onCameraIdle() {\n                mCameraMoving = false;\n                if (mPendingUpdate) {\n                    centerCameraOnLocation(false);\n                }\n            }\n        });\n\n        // Start with user centered in view\n        centerCameraOnLocation(true);\n    }\n\n    /*************************************************************************\n     *\n     * L O C A T I O N\n     *\n     */\n\n    @Override\n    public void onLocationChanged(Location location) {\n        // Store the current location so if we start auto-center but aren't\n        // already, we know where to pan to\n        LatLng newLatLng = new LatLng(location.getLatitude(), location.getLongitude());\n        if (!newLatLng.equals(mCurrentLatLong)) {\n            mCurrentLatLong = new LatLng(location.getLatitude(), location.getLongitude());\n            centerCameraOnLocation(false);\n        }\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {}\n\n    @Override\n    public void onProviderDisabled(String provider) {}\n\n    @Override\n    public void onProviderEnabled(String provider) {}\n\n    /*************************************************************************\n     *\n     * M A P   C A M E R A\n     *\n     */\n\n    /*\n     * Updates the camera position based on current state.  If the camera is\n     * already moving, then wait.\n     */\n    private void centerCameraOnLocation(boolean animate) {\n        if (mGoogleMap == null) {\n            return;\n        }\n\n        if (mCameraMoving) {\n            mPendingUpdate = true;\n            return;\n        }\n\n        // Get the CameraPosition to update to based on whether we are auto\n        // centering or not.\n        if (mCameraPosition == null) {\n            mCameraPosition = Constants.GetDefaultCameraPosition();\n        }\n\n        // If this is the same as it was before, then don't reset it\n        if (mCameraPosition.equals(mGoogleMap.getCameraPosition())) {\n            return;\n        }\n\n        // Make the update so we can move the camera\n        CameraUpdate cameraUpdate = CameraUpdateFactory.newCameraPosition(mCameraPosition);\n\n        // Move the camera with or without animation.  The time we don't want\n        // animation is when we're setting the position initially\n        if (animate) {\n            mGoogleMap.animateCamera(cameraUpdate);\n        }\n        else {\n            mGoogleMap.moveCamera(cameraUpdate);\n        }\n        mPendingUpdate = false;\n    }\n}\n</code></pre>\n"},{"tags":["java","openjdk-17","netbeans-13"],"answers":[{"tags":[],"owner":{"account_id":19649604,"reputation":169,"user_id":14383723,"display_name":"Minsoo Choo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648552096,"creation_date":1648552096,"answer_id":71660931,"question_id":71660845,"body_markdown":"It seams you are using Linux on amd64 architecture. This can occur when your JAVA_HOME environment variable is pointing wrong directory.\r\n\r\n    echo $JAVA_HOME # this command shows your java version\r\n\r\nIf it is not JDK 17, use this link to change the variable [https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"Netbeans profiler not working with JDK 17","body":"<p>It seams you are using Linux on amd64 architecture. This can occur when your JAVA_HOME environment variable is pointing wrong directory.</p>\n<pre><code>echo $JAVA_HOME # this command shows your java version\n</code></pre>\n<p>If it is not JDK 17, use this link to change the variable <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n"}],"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648552096,"creation_date":1648551584,"question_id":71660845,"body_markdown":"When I try to run the profiler on my web app, netbeans tells me I need to run a calibration first. So I go to Tools &gt; Options &gt; Java &gt; Profiler &gt; General &gt; Manage Calibration Data and do the calibration.\r\n\r\nStarting profiling afterwards I see following in the console:\r\n\r\n    ant -f /home/codyline/myApp -Dnb.internal.action.name=profile -Ddirectory.deployment.supported=true \r\n    -DforceRedeploy=false -Dnb.wait.for.caches=true &quot;-Drun.jvmargs.ide= -agentpath:/home/codyline/netbeans/\r\n    netbeans-13/netbeans/profiler/lib/deployed/jdk16/linux-amd64/libprofilerinterface.so= \r\n    /home/codyline/netbeans/netbeans-13/netbeans/profiler/lib, 5140,10 -XX:+HeapDumpOnOutOfMemoryError \r\n    -XX:HeapDumpPath=/home/codyline/myApp/nbproject/private/profiler&quot; \r\n    -Dbrowser.context=/home/codyline/myApp profile\r\n\r\n    profile:\r\n    init:\r\n    deps-module-jar:\r\n    deps-ear-jar:\r\n    deps-jar:\r\n    library-inclusion-in-archive:\r\n    library-inclusion-in-manifest:\r\n    compile:\r\n    compile-jsps:\r\n    Starting Payara Server 5.2022.1\r\n    Payara Server 5.2022.1 is running.\r\n\r\nAnd nothing happens!\r\nSo Netbeans is trying to use JDK 16 which is not installed on my machine.&lt;br&gt;\r\nI need to do the profiling with JDK 17.&lt;br&gt;\r\nNOTE: same problem with Netbeans 12.6.\r\n\r\nHow can I fix this? Thanks","title":"Netbeans profiler not working with JDK 17","body":"<p>When I try to run the profiler on my web app, netbeans tells me I need to run a calibration first. So I go to Tools &gt; Options &gt; Java &gt; Profiler &gt; General &gt; Manage Calibration Data and do the calibration.</p>\n<p>Starting profiling afterwards I see following in the console:</p>\n<pre><code>ant -f /home/codyline/myApp -Dnb.internal.action.name=profile -Ddirectory.deployment.supported=true \n-DforceRedeploy=false -Dnb.wait.for.caches=true &quot;-Drun.jvmargs.ide= -agentpath:/home/codyline/netbeans/\nnetbeans-13/netbeans/profiler/lib/deployed/jdk16/linux-amd64/libprofilerinterface.so= \n/home/codyline/netbeans/netbeans-13/netbeans/profiler/lib, 5140,10 -XX:+HeapDumpOnOutOfMemoryError \n-XX:HeapDumpPath=/home/codyline/myApp/nbproject/private/profiler&quot; \n-Dbrowser.context=/home/codyline/myApp profile\n\nprofile:\ninit:\ndeps-module-jar:\ndeps-ear-jar:\ndeps-jar:\nlibrary-inclusion-in-archive:\nlibrary-inclusion-in-manifest:\ncompile:\ncompile-jsps:\nStarting Payara Server 5.2022.1\nPayara Server 5.2022.1 is running.\n</code></pre>\n<p>And nothing happens!\nSo Netbeans is trying to use JDK 16 which is not installed on my machine.<br>\nI need to do the profiling with JDK 17.<br>\nNOTE: same problem with Netbeans 12.6.</p>\n<p>How can I fix this? Thanks</p>\n"},{"tags":["java","spring-mvc","post","mime-types","content-type"],"comments":[{"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"score":0,"creation_date":1446014119,"post_id":33384245,"comment_id":54561716,"body_markdown":"Do you have code for controller(or equivalent to controller) class?. if so, please post it.","body":"Do you have code for controller(or equivalent to controller) class?. if so, please post it."},{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1446014323,"post_id":33384245,"comment_id":54561785,"body_markdown":"How do you send data for content-type application/x-www-form-urlencoded;charset=utf-8? The must be in key value pairs with a = sign and multiple key values must be appended with ? \n\nlike client_domain=122.0.0.1 etc","body":"How do you send data for content-type application/x-www-form-urlencoded;charset=utf-8? The must be in key value pairs with a = sign and multiple key values must be appended with ?   like client_domain=122.0.0.1 etc"},{"owner":{"account_id":3792463,"reputation":145,"user_id":3148559,"accept_rate":60,"display_name":"drimk"},"score":0,"creation_date":1446017852,"post_id":33384245,"comment_id":54563263,"body_markdown":"@Rehman I posted the controller.\nShazin Yes it should be like that but I just don&#39;t get the data.","body":"@Rehman I posted the controller. Shazin Yes it should be like that but I just don&#39;t get the data."},{"owner":{"account_id":4194551,"reputation":711,"user_id":3436255,"display_name":"Soana"},"score":0,"creation_date":1446025180,"post_id":33384245,"comment_id":54567188,"body_markdown":"Can you add how you send the URL encoded data?","body":"Can you add how you send the URL encoded data?"},{"owner":{"account_id":3792463,"reputation":145,"user_id":3148559,"accept_rate":60,"display_name":"drimk"},"score":0,"creation_date":1446026828,"post_id":33384245,"comment_id":54568275,"body_markdown":"@Soana I added the way it is sent.","body":"@Soana I added the way it is sent."}],"answers":[{"tags":[],"owner":{"account_id":7239260,"reputation":1,"user_id":5523331,"display_name":"Eric"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1446618733,"creation_date":1446618733,"answer_id":33515150,"question_id":33384245,"body_markdown":"The &#39;produces&#39; attribute of @RequestMapping shows that the client could only accept application/json data, so you can remove it or change it into &#39;application/x-www-form-urlencoded&#39;.","title":"Java read POST data when content-type is application/x-www-form-urlencoded","body":"<p>The 'produces' attribute of @RequestMapping shows that the client could only accept application/json data, so you can remove it or change it into 'application/x-www-form-urlencoded'.</p>\n"},{"tags":[],"owner":{"account_id":384624,"reputation":15403,"user_id":741249,"display_name":"THelper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583051694,"creation_date":1583051694,"answer_id":60473343,"question_id":33384245,"body_markdown":"When using Spring, `request.getReader()` will not work for reading `application/x-www-form-urlencoded` data. Instead this data is available as parameters, so you can read it with:\r\n\r\n    @PostMapping(path = &quot;/mypostendpoint&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\r\n    public void handleFormData(HttpServletRequest request) {\r\n        Enumeration&lt;String&gt; params = request.getParameterNames();\r\n        while (params.hasMoreElements()) {\r\n            String param = params.nextElement();\r\n            System.out.println(&quot;name = &quot; + param + &quot;, value = &quot; + request.getParameter(param));\r\n        }\r\n    }\r\n\r\nYou can test this with curl for example:\r\n\r\n`curl -X POST http://localhost:8080/mypostendpoint -d &#39;myparam1=X&#39; -d &#39;myparam2=Y&#39;`\r\n\r\nwill print\r\n\r\n    name = myparam1, value = X\r\n    name = myparam2, value = Y\r\n\r\nAlternatively, if you know the possible parameters in advance you can use something like this:\r\n\r\n    @PostMapping(path = &quot;/mypostendpoint&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\r\n    public void handleMyPost(@RequestParam(&quot;myparam1&quot;) String value1,\r\n                             @RequestParam(&quot;myparam2&quot;) String value2) {\r\n        System.out.println(&quot;value of myparam1 = &quot; + value1);\r\n        System.out.println(&quot;value of myparam2 = &quot; + value2);\r\n    }\r\n\r\n","title":"Java read POST data when content-type is application/x-www-form-urlencoded","body":"<p>When using Spring, <code>request.getReader()</code> will not work for reading <code>application/x-www-form-urlencoded</code> data. Instead this data is available as parameters, so you can read it with:</p>\n\n<pre><code>@PostMapping(path = \"/mypostendpoint\", consumes = \"application/x-www-form-urlencoded\")\npublic void handleFormData(HttpServletRequest request) {\n    Enumeration&lt;String&gt; params = request.getParameterNames();\n    while (params.hasMoreElements()) {\n        String param = params.nextElement();\n        System.out.println(\"name = \" + param + \", value = \" + request.getParameter(param));\n    }\n}\n</code></pre>\n\n<p>You can test this with curl for example:</p>\n\n<p><code>curl -X POST http://localhost:8080/mypostendpoint -d 'myparam1=X' -d 'myparam2=Y'</code></p>\n\n<p>will print</p>\n\n<pre><code>name = myparam1, value = X\nname = myparam2, value = Y\n</code></pre>\n\n<p>Alternatively, if you know the possible parameters in advance you can use something like this:</p>\n\n<pre><code>@PostMapping(path = \"/mypostendpoint\", consumes = \"application/x-www-form-urlencoded\")\npublic void handleMyPost(@RequestParam(\"myparam1\") String value1,\n                         @RequestParam(\"myparam2\") String value2) {\n    System.out.println(\"value of myparam1 = \" + value1);\n    System.out.println(\"value of myparam2 = \" + value2);\n}\n</code></pre>\n"}],"owner":{"account_id":3792463,"reputation":145,"user_id":3148559,"accept_rate":60,"display_name":"drimk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23088,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1648552015,"creation_date":1446013434,"question_id":33384245,"body_markdown":"I have an API that I&#39;m testing. The API receives POST requests and reads it like this\r\n  \r\n          StringBuffer jb = new StringBuffer();\r\n\t\t  String line = null;\r\n\t\t  try {\r\n\t\t    BufferedReader reader = request.getReader();\r\n\t\t    while ((line = reader.readLine()) != null)\r\n\t\t      \tjb.append(line);\r\n\t\t    \r\n\t\t    System.out.println(&quot;jb: &quot;+jb);\r\n\t\t    System.out.println(&quot;request.getHeader(&#39;content-type&#39;): &quot;+request.getHeader(&quot;content-type&quot;));\r\n\t\t    \r\n\t\t  } catch (Exception e) { /*report an error*/ }\r\n\r\nAll works fine when I send a POST request in &quot;application/json;charset=utf-8&quot;\r\n\r\n    httpPost.setHeader(&quot;content-type&quot;, &quot;application/json;charset=utf-8&quot;);\r\n\r\nIt prints this:\r\n\r\n    jb: {&quot;client_domain&quot;:&quot;=....); //proper Json data\r\n    request.getHeader(&#39;content-type&#39;): application/json;charset=utf-8\r\n\r\nAnd I can read the data properly.\r\n\r\nHowever my problem is when I send the data the same way but I set the content-type &quot;application/x-www-form-urlencoded;charset=utf-8&quot;\r\n\r\n    httpPost.setHeader(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded;charset=utf-8&quot;);\r\n\r\nThe test is the same just the content-type is different but then it seems that I don&#39;t receive any data anymore:\r\n\r\n    jb: \r\n    request.getHeader(&#39;content-type&#39;): application/x-www-form-urlencoded;charset=utf-8\r\n\r\nAny idea?\r\n\r\n/// Update\r\n\r\nHere is the Spring Controller \r\n\r\n    @RequestMapping(value = {&quot;user/add&quot;}, method = RequestMethod.POST, produces=&quot;application/json; charset=utf-8&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;String&gt; getNewUserApi(HttpServletRequest request,\r\n    \t\tHttpServletResponse response) throws Exception {\r\n    \t\r\n    \tMap&lt;String, Object&gt; jsonObj = new HashMap&lt;String, Object&gt;();\r\n    \t\r\n\t\tStringBuffer jb = new StringBuffer();\r\n\t\t  String line = null;\r\n\t\t  try {\r\n\t\t    BufferedReader reader = request.getReader();\r\n\t\t    while ((line = reader.readLine()) != null)\r\n\t\t      \tjb.append(line);\r\n\t\t    \r\n\t\t    System.out.println(&quot;jb: &quot;+jb);\r\n\t\t    System.out.println(&quot;request.getHeader(&#39;content-type&#39;): &quot;+request.getHeader(&quot;content-type&quot;));\r\n \r\n\t\t  } catch (Exception e) { /*report an error*/ }\r\n        ///I create my JSon that will be sent back\r\n        return JsonUtils.createJson(jsonObj);\r\n\r\n//UPDATE 2\r\nHere is how I send the data\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        \r\n        String url = &quot;http://localhost:8080/child/apiv1/user/add&quot;;\r\n        CloseableHttpClient client = HttpClientBuilder.create().build();\r\n\t\t\r\n\t\tHttpPost httpPost = new HttpPost(url);\r\n\t\thttpPost.setHeader(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded;charset=utf-8&quot;);\r\n\r\n\t\ttry {\r\n\t\t\t//we had to the parameters to the post request\r\n\t\t\tJSONObject json = new JSONObject();\r\n\t\t\t\r\n\t\t\tjson.put(&quot;client_id&quot;, &quot;fashfksajfhjsakfaskljhflakj&quot;);\r\n\t\t\tjson.put(&quot;client_secret&quot;, &quot;9435798243750923470925709348509275092&quot;);\r\n\t\t\tjson.put(&quot;client_domain&quot;, &quot;dummy.localhost.com&quot;);\r\n\t\t\t\r\n\t\t\t//create the user json object\r\n\t\t\tJSONObject userObj = new JSONObject();\r\n\t\t\tuserObj.put(&quot;email&quot;, &quot;johnsmith42@yopmail.com&quot;);\r\n\t\t\tuserObj.put(&quot;name&quot;, &quot;Anna Sax&quot;);\r\n\t\t\t\r\n\t\t\tJSONArray childrenArray = new JSONArray();\r\n\t\t\t\r\n\t\t\tJSONObject child1 = new JSONObject();\r\n\t\t\tchild1.put(&quot;name&quot;, &quot;Iphone 6&quot;);\r\n\t\t\tchild1.put(&quot;age&quot;, &quot;2&quot;);\r\n\t\t\tchildrenArray.put(child1);\r\n\t\t\tuserObj.put(&quot;children&quot;, childrenArray);\r\n\t\t\tjson.put(&quot;user&quot;, childObj);\r\n\t\t\t\r\n\t\t\tStringEntity params = new StringEntity(json.toString());\r\n\t\t\thttpPost.setEntity(params);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;executing request: &quot; + httpPost.getRequestLine());\r\n\t\t\tHttpResponse response;\r\n\t\t\tresponse = client.execute(httpPost);\r\n \r\n       //[...]       \r\n\r\n    } //End main\r\n\r\nI know it doesn&#39;t really make sense to create Json and send it in &quot;application/x-www-form-urlencoded&quot; but it&#39;s just that one of our users can&#39;t fix his issue and it will only send &quot;application/x-www-form-urlencoded&quot;.","title":"Java read POST data when content-type is application/x-www-form-urlencoded","body":"<p>I have an API that I'm testing. The API receives POST requests and reads it like this</p>\n\n<pre><code>      StringBuffer jb = new StringBuffer();\n      String line = null;\n      try {\n        BufferedReader reader = request.getReader();\n        while ((line = reader.readLine()) != null)\n            jb.append(line);\n\n        System.out.println(\"jb: \"+jb);\n        System.out.println(\"request.getHeader('content-type'): \"+request.getHeader(\"content-type\"));\n\n      } catch (Exception e) { /*report an error*/ }\n</code></pre>\n\n<p>All works fine when I send a POST request in \"application/json;charset=utf-8\"</p>\n\n<pre><code>httpPost.setHeader(\"content-type\", \"application/json;charset=utf-8\");\n</code></pre>\n\n<p>It prints this:</p>\n\n<pre><code>jb: {\"client_domain\":\"=....); //proper Json data\nrequest.getHeader('content-type'): application/json;charset=utf-8\n</code></pre>\n\n<p>And I can read the data properly.</p>\n\n<p>However my problem is when I send the data the same way but I set the content-type \"application/x-www-form-urlencoded;charset=utf-8\"</p>\n\n<pre><code>httpPost.setHeader(\"content-type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n</code></pre>\n\n<p>The test is the same just the content-type is different but then it seems that I don't receive any data anymore:</p>\n\n<pre><code>jb: \nrequest.getHeader('content-type'): application/x-www-form-urlencoded;charset=utf-8\n</code></pre>\n\n<p>Any idea?</p>\n\n<p>/// Update</p>\n\n<p>Here is the Spring Controller </p>\n\n<pre><code>@RequestMapping(value = {\"user/add\"}, method = RequestMethod.POST, produces=\"application/json; charset=utf-8\")\n@ResponseBody\npublic ResponseEntity&lt;String&gt; getNewUserApi(HttpServletRequest request,\n        HttpServletResponse response) throws Exception {\n\n    Map&lt;String, Object&gt; jsonObj = new HashMap&lt;String, Object&gt;();\n\n    StringBuffer jb = new StringBuffer();\n      String line = null;\n      try {\n        BufferedReader reader = request.getReader();\n        while ((line = reader.readLine()) != null)\n            jb.append(line);\n\n        System.out.println(\"jb: \"+jb);\n        System.out.println(\"request.getHeader('content-type'): \"+request.getHeader(\"content-type\"));\n\n      } catch (Exception e) { /*report an error*/ }\n    ///I create my JSon that will be sent back\n    return JsonUtils.createJson(jsonObj);\n</code></pre>\n\n<p>//UPDATE 2\nHere is how I send the data</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n    String url = \"http://localhost:8080/child/apiv1/user/add\";\n    CloseableHttpClient client = HttpClientBuilder.create().build();\n\n    HttpPost httpPost = new HttpPost(url);\n    httpPost.setHeader(\"content-type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n\n    try {\n        //we had to the parameters to the post request\n        JSONObject json = new JSONObject();\n\n        json.put(\"client_id\", \"fashfksajfhjsakfaskljhflakj\");\n        json.put(\"client_secret\", \"9435798243750923470925709348509275092\");\n        json.put(\"client_domain\", \"dummy.localhost.com\");\n\n        //create the user json object\n        JSONObject userObj = new JSONObject();\n        userObj.put(\"email\", \"johnsmith42@yopmail.com\");\n        userObj.put(\"name\", \"Anna Sax\");\n\n        JSONArray childrenArray = new JSONArray();\n\n        JSONObject child1 = new JSONObject();\n        child1.put(\"name\", \"Iphone 6\");\n        child1.put(\"age\", \"2\");\n        childrenArray.put(child1);\n        userObj.put(\"children\", childrenArray);\n        json.put(\"user\", childObj);\n\n        StringEntity params = new StringEntity(json.toString());\n        httpPost.setEntity(params);\n\n        System.out.println(\"executing request: \" + httpPost.getRequestLine());\n        HttpResponse response;\n        response = client.execute(httpPost);\n\n   //[...]       \n\n} //End main\n</code></pre>\n\n<p>I know it doesn't really make sense to create Json and send it in \"application/x-www-form-urlencoded\" but it's just that one of our users can't fix his issue and it will only send \"application/x-www-form-urlencoded\".</p>\n"},{"tags":["java","h2"],"answers":[{"tags":[],"owner":{"account_id":4402,"reputation":3143,"user_id":6591,"display_name":"Noel Grandin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416650934,"creation_date":1372758336,"answer_id":17422352,"question_id":7474563,"body_markdown":"That means that your database was corrupted. As to exactly why it was corrupted, that is harder to say.\r\n\r\n\r\nThe Recover tool will do the best it can, but when the DB is badly corrupted, there is not always much it can do.\r\n\r\nDocumentation for the Recovery tool is here:\r\nhttp://h2database.com/html/advanced.html#using_recover_tool","title":"Heap space error and H2 database corruption","body":"<p>That means that your database was corrupted. As to exactly why it was corrupted, that is harder to say.</p>\n\n<p>The Recover tool will do the best it can, but when the DB is badly corrupted, there is not always much it can do.</p>\n\n<p>Documentation for the Recovery tool is here:\n<a href=\"http://h2database.com/html/advanced.html#using_recover_tool\" rel=\"nofollow\">http://h2database.com/html/advanced.html#using_recover_tool</a></p>\n"}],"owner":{"account_id":921544,"reputation":103,"user_id":953167,"display_name":"Swarnim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13807,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1648552015,"creation_date":1316451541,"question_id":7474563,"body_markdown":"For our multithreaded application that uses H2 database, we saw the \r\nfollowing error in our logs immediately following a heap space error: \r\n\r\n&gt; java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError: \r\nJava heap space \r\n........ \r\norg.h2.jdbc.JdbcSQLException: File corrupted while reading record: \r\n&quot;[17806] stream data key:1922 pos:11 remaining:0&quot;. Possible solution: \r\nuse the recovery tool; SQL statement: \r\nupdate keys set taken=false where taken=true [90030-155] \r\nat org.h2.message.DbException.getJdbcSQLException(DbException.java: \r\n327) \r\n        at org.h2.message.DbException.get(DbException.java:167) \r\n        at org.h2.message.DbException.get(DbException.java:144) \r\n        at org.h2.index.PageDataIndex.getPage(PageDataIndex.java:230) \r\n        at org.h2.index.PageDataNode.getNextPage(PageDataNode.java:226) \r\n        at org.h2.index.PageDataLeaf.getNextPage(PageDataLeaf.java:391) \r\n        at org.h2.index.PageDataCursor.nextRow(PageDataCursor.java:90) \r\n        at org.h2.index.PageDataCursor.next(PageDataCursor.java:49) \r\n        at org.h2.index.IndexCursor.next(IndexCursor.java:235) \r\n        at org.h2.table.TableFilter.next(TableFilter.java:352) \r\n        at org.h2.command.dml.Update.update(Update.java:89) \r\n        at org.h2.command.CommandContainer.update(CommandContainer.java:71) \r\n        at org.h2.command.Command.executeUpdate(Command.java:212) \r\n        at org.h2.jdbc.JdbcStatement.executeUpdateInternal(JdbcStatement.java: \r\n125) \r\n        at org.h2.jdbc.JdbcStatement.executeUpdate(JdbcStatement.java:110) \r\n        ... 6 more \r\n\r\nIs this a known issue with H2 ?\r\n\r\nAlso when I tried to recover data using the Recover Tool from the corrupt database, I was \r\nonly able to recover 10% of it. The original DB size was 1.6 GB while \r\nthe recovered database size was only 81 MB. I exported all the data from the corrupt database to a .sql file using the Recover Tool and then recreated database out of it by running this script against an H2 database. Is there something else that I am missing?","title":"Heap space error and H2 database corruption","body":"<p>For our multithreaded application that uses H2 database, we saw the \nfollowing error in our logs immediately following a heap space error: </p>\n\n<blockquote>\n  <p>java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError: \n  Java heap space \n  ........ \n  org.h2.jdbc.JdbcSQLException: File corrupted while reading record: \n  \"[17806] stream data key:1922 pos:11 remaining:0\". Possible solution: \n  use the recovery tool; SQL statement: \n  update keys set taken=false where taken=true [90030-155] \n  at org.h2.message.DbException.getJdbcSQLException(DbException.java: \n  327) \n          at org.h2.message.DbException.get(DbException.java:167) \n          at org.h2.message.DbException.get(DbException.java:144) \n          at org.h2.index.PageDataIndex.getPage(PageDataIndex.java:230) \n          at org.h2.index.PageDataNode.getNextPage(PageDataNode.java:226) \n          at org.h2.index.PageDataLeaf.getNextPage(PageDataLeaf.java:391) \n          at org.h2.index.PageDataCursor.nextRow(PageDataCursor.java:90) \n          at org.h2.index.PageDataCursor.next(PageDataCursor.java:49) \n          at org.h2.index.IndexCursor.next(IndexCursor.java:235) \n          at org.h2.table.TableFilter.next(TableFilter.java:352) \n          at org.h2.command.dml.Update.update(Update.java:89) \n          at org.h2.command.CommandContainer.update(CommandContainer.java:71) \n          at org.h2.command.Command.executeUpdate(Command.java:212) \n          at org.h2.jdbc.JdbcStatement.executeUpdateInternal(JdbcStatement.java: \n  125) \n          at org.h2.jdbc.JdbcStatement.executeUpdate(JdbcStatement.java:110) \n          ... 6 more </p>\n</blockquote>\n\n<p>Is this a known issue with H2 ?</p>\n\n<p>Also when I tried to recover data using the Recover Tool from the corrupt database, I was \nonly able to recover 10% of it. The original DB size was 1.6 GB while \nthe recovered database size was only 81 MB. I exported all the data from the corrupt database to a .sql file using the Recover Tool and then recreated database out of it by running this script against an H2 database. Is there something else that I am missing?</p>\n"},{"tags":["java","serversocket"],"comments":[{"owner":{"account_id":2971031,"reputation":383,"user_id":2523073,"accept_rate":67,"display_name":"Sireiz"},"score":0,"creation_date":1648552861,"post_id":71660892,"comment_id":126648123,"body_markdown":"So what do you say is the alternate for PrintWriter?","body":"So what do you say is the alternate for PrintWriter?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1648553682,"post_id":71660892,"comment_id":126648430,"body_markdown":"Did you FLUSH ??:&gt;","body":"Did you FLUSH ??:&gt;"},{"owner":{"account_id":2971031,"reputation":383,"user_id":2523073,"accept_rate":67,"display_name":"Sireiz"},"score":0,"creation_date":1648554150,"post_id":71660892,"comment_id":126648616,"body_markdown":"Yes i am flushing the output stream. There is one thing though, in the first command, input stream is  passed to another class and that class handles the server input, make objects from string response. But after that, streams stop working when that class return the objects.","body":"Yes i am flushing the output stream. There is one thing though, in the first command, input stream is  passed to another class and that class handles the server input, make objects from string response. But after that, streams stop working when that class return the objects."},{"owner":{"account_id":2971031,"reputation":383,"user_id":2523073,"accept_rate":67,"display_name":"Sireiz"},"score":0,"creation_date":1648554685,"post_id":71660892,"comment_id":126648810,"body_markdown":"You saved my life man, BufferedWriter did the job.","body":"You saved my life man, BufferedWriter did the job."},{"owner":{"account_id":2971031,"reputation":383,"user_id":2523073,"accept_rate":67,"display_name":"Sireiz"},"score":0,"creation_date":1648554732,"post_id":71660892,"comment_id":126648829,"body_markdown":"@user16320675 if you post it as the answer, i will accept it. :) thank you again.","body":"@user16320675 if you post it as the answer, i will accept it. :) thank you again."}],"owner":{"account_id":2971031,"reputation":383,"user_id":2523073,"accept_rate":67,"display_name":"Sireiz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648551855,"creation_date":1648551855,"question_id":71660892,"body_markdown":"I am using PrintWriter to write to the server stream, and then server sends back the data according to the command. This is all done in a client class and every command has its own method which is called one after the other. The issue is that after the first connection, server sends data but then for the second method, stream stops working, i have tried creating new instances of socket and streams but still not getting anything. No Runnable interface is used to send to or to receive from server. What could be that issue? I can post my code here but its a lot of code so I don&#39;t know if i should.\r\n\r\nThanks in advance.","title":"Java socket programming output stream doesn&#39;t send data to server","body":"<p>I am using PrintWriter to write to the server stream, and then server sends back the data according to the command. This is all done in a client class and every command has its own method which is called one after the other. The issue is that after the first connection, server sends data but then for the second method, stream stops working, i have tried creating new instances of socket and streams but still not getting anything. No Runnable interface is used to send to or to receive from server. What could be that issue? I can post my code here but its a lot of code so I don't know if i should.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","jose4j"],"answers":[{"tags":[],"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610148185,"creation_date":1610148185,"answer_id":65637699,"question_id":65626738,"body_markdown":"The code below is from https://bitbucket.org/b_c/jose4j/wiki/JWT%20Examples#markdown-header-producing-and-consuming-a-signed-jwt and was modified slightly to show &#39;application-id&#39; being included when creating the JWT and extracted after validation. You can verify the value at that point. Or you could also implement your own https://www.javadoc.io/doc/org.bitbucket.b_c/jose4j/latest/org/jose4j/jwt/consumer/Validator.html and set up your `JwtConsomer` with it when using the builder https://www.javadoc.io/static/org.bitbucket.b_c/jose4j/0.7.4/org/jose4j/jwt/consumer/JwtConsumerBuilder.html#registerValidator(org.jose4j.jwt.consumer.Validator)\r\n\r\n```\r\n        //\r\n        // This example demonstrates producing and consuming a signed JWT\r\n        //\r\n\r\n        // Generate an RSA key pair, which will be used for signing and verification of the JWT, wrapped in a JWK\r\n        RsaJsonWebKey rsaJsonWebKey = RsaJwkGenerator.generateJwk(2048);\r\n\r\n        // Give the JWK a Key ID (kid), which is just the polite thing to do\r\n        rsaJsonWebKey.setKeyId(&quot;k1&quot;);\r\n\r\n        // Create the Claims, which will be the content of the JWT\r\n        JwtClaims claims = new JwtClaims();\r\n        claims.setIssuer(&quot;Issuer&quot;);  // who creates the token and signs it\r\n        claims.setAudience(&quot;Audience&quot;); // to whom the token is intended to be sent\r\n        claims.setExpirationTimeMinutesInTheFuture(10); // time when the token will expire (10 minutes from now)\r\n        claims.setGeneratedJwtId(); // a unique identifier for the token\r\n        claims.setIssuedAtToNow();  // when the token was issued/created (now)\r\n        claims.setNotBeforeMinutesInThePast(2); // time before which the token is not yet valid (2 minutes ago)\r\n        claims.setSubject(&quot;subject&quot;); // the subject/principal is whom the token is about\r\n        claims.setClaim(&quot;email&quot;,&quot;mail@example.com&quot;); // additional claims/attributes about the subject can be added\r\n        List&lt;String&gt; groups = Arrays.asList(&quot;group-one&quot;, &quot;other-group&quot;, &quot;group-three&quot;);\r\n        claims.setStringListClaim(&quot;groups&quot;, groups); // multi-valued claims work too and will end up as a JSON array\r\n        claims.setClaim(&quot;application-id&quot;, 124123);\r\n\r\n        // A JWT is a JWS and/or a JWE with JSON claims as the payload.\r\n        // In this example it is a JWS so we create a JsonWebSignature object.\r\n        JsonWebSignature jws = new JsonWebSignature();\r\n\r\n        // The payload of the JWS is JSON content of the JWT Claims\r\n        jws.setPayload(claims.toJson());\r\n\r\n        // The JWT is signed using the private key\r\n        jws.setKey(rsaJsonWebKey.getPrivateKey());\r\n\r\n        // Set the Key ID (kid) header because it&#39;s just the polite thing to do.\r\n        // We only have one key in this example but a using a Key ID helps\r\n        // facilitate a smooth key rollover process\r\n        jws.setKeyIdHeaderValue(rsaJsonWebKey.getKeyId());\r\n\r\n        // Set the signature algorithm on the JWT/JWS that will integrity protect the claims\r\n        jws.setAlgorithmHeaderValue(AlgorithmIdentifiers.RSA_USING_SHA256);\r\n\r\n        // Sign the JWS and produce the compact serialization or the complete JWT/JWS\r\n        // representation, which is a string consisting of three dot (&#39;.&#39;) separated\r\n        // base64url-encoded parts in the form Header.Payload.Signature\r\n        // If you wanted to encrypt it, you can simply set this jwt as the payload\r\n        // of a JsonWebEncryption object and set the cty (Content Type) header to &quot;jwt&quot;.\r\n        String jwt = jws.getCompactSerialization();\r\n\r\n\r\n        // Now you can do something with the JWT. Like send it to some other party\r\n        // over the clouds and through the interwebs.\r\n        System.out.println(&quot;JWT: &quot; + jwt);\r\n\r\n\r\n        // Use JwtConsumerBuilder to construct an appropriate JwtConsumer, which will\r\n        // be used to validate and process the JWT.\r\n        // The specific validation requirements for a JWT are context dependent, however,\r\n        // it typically advisable to require a (reasonable) expiration time, a trusted issuer, and\r\n        // and audience that identifies your system as the intended recipient.\r\n        // If the JWT is encrypted too, you need only provide a decryption key or\r\n        // decryption key resolver to the builder.\r\n        JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n                .setRequireExpirationTime() // the JWT must have an expiration time\r\n                .setAllowedClockSkewInSeconds(30) // allow some leeway in validating time based claims to account for clock skew\r\n                .setRequireSubject() // the JWT must have a subject claim\r\n                .setExpectedIssuer(&quot;Issuer&quot;) // whom the JWT needs to have been issued by\r\n                .setExpectedAudience(&quot;Audience&quot;) // to whom the JWT is intended for\r\n                .setVerificationKey(rsaJsonWebKey.getKey()) // verify the signature with the public key\r\n                .setJwsAlgorithmConstraints( // only allow the expected signature algorithm(s) in the given context\r\n                        AlgorithmConstraints.ConstraintType.PERMIT, AlgorithmIdentifiers.RSA_USING_SHA256) // which is only RS256 here\r\n                .build(); // create the JwtConsumer instance\r\n\r\n        try\r\n        {\r\n            //  Validate the JWT and process it to the Claims\r\n            JwtClaims jwtClaims = jwtConsumer.processToClaims(jwt);\r\n            System.out.println(&quot;JWT validation succeeded! &quot; + jwtClaims);\r\n\r\n            long appId = jwtClaims.getClaimValue(&quot;application-id&quot;, Long.class);\r\n            System.out.println(appId);\r\n        }\r\n        catch (InvalidJwtException e)\r\n        {\r\n            // InvalidJwtException will be thrown, if the JWT failed processing or validation in anyway.\r\n            // Hopefully with meaningful explanations(s) about what went wrong.\r\n            System.out.println(&quot;Invalid JWT! &quot; + e);\r\n\r\n            // Programmatic access to (some) specific reasons for JWT invalidity is also possible\r\n            // should you want different error handling behavior for certain conditions.\r\n\r\n            // Whether or not the JWT has expired being one common reason for invalidity\r\n            if (e.hasExpired())\r\n            {\r\n                System.out.println(&quot;JWT expired at &quot; + e.getJwtContext().getJwtClaims().getExpirationTime());\r\n            }\r\n\r\n            // Or maybe the audience was invalid\r\n            if (e.hasErrorCode(ErrorCodes.AUDIENCE_INVALID))\r\n            {\r\n                System.out.println(&quot;JWT had wrong audience: &quot; + e.getJwtContext().getJwtClaims().getAudience());\r\n            }\r\n        }`","title":"How to verify custom key-pair value in a JWT body","body":"<p>The code below is from <a href=\"https://bitbucket.org/b_c/jose4j/wiki/JWT%20Examples#markdown-header-producing-and-consuming-a-signed-jwt\" rel=\"nofollow noreferrer\">https://bitbucket.org/b_c/jose4j/wiki/JWT%20Examples#markdown-header-producing-and-consuming-a-signed-jwt</a> and was modified slightly to show 'application-id' being included when creating the JWT and extracted after validation. You can verify the value at that point. Or you could also implement your own <a href=\"https://www.javadoc.io/doc/org.bitbucket.b_c/jose4j/latest/org/jose4j/jwt/consumer/Validator.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.bitbucket.b_c/jose4j/latest/org/jose4j/jwt/consumer/Validator.html</a> and set up your <code>JwtConsomer</code> with it when using the builder <a href=\"https://www.javadoc.io/static/org.bitbucket.b_c/jose4j/0.7.4/org/jose4j/jwt/consumer/JwtConsumerBuilder.html#registerValidator(org.jose4j.jwt.consumer.Validator)\" rel=\"nofollow noreferrer\">https://www.javadoc.io/static/org.bitbucket.b_c/jose4j/0.7.4/org/jose4j/jwt/consumer/JwtConsumerBuilder.html#registerValidator(org.jose4j.jwt.consumer.Validator)</a></p>\n<pre><code>        //\n        // This example demonstrates producing and consuming a signed JWT\n        //\n\n        // Generate an RSA key pair, which will be used for signing and verification of the JWT, wrapped in a JWK\n        RsaJsonWebKey rsaJsonWebKey = RsaJwkGenerator.generateJwk(2048);\n\n        // Give the JWK a Key ID (kid), which is just the polite thing to do\n        rsaJsonWebKey.setKeyId(&quot;k1&quot;);\n\n        // Create the Claims, which will be the content of the JWT\n        JwtClaims claims = new JwtClaims();\n        claims.setIssuer(&quot;Issuer&quot;);  // who creates the token and signs it\n        claims.setAudience(&quot;Audience&quot;); // to whom the token is intended to be sent\n        claims.setExpirationTimeMinutesInTheFuture(10); // time when the token will expire (10 minutes from now)\n        claims.setGeneratedJwtId(); // a unique identifier for the token\n        claims.setIssuedAtToNow();  // when the token was issued/created (now)\n        claims.setNotBeforeMinutesInThePast(2); // time before which the token is not yet valid (2 minutes ago)\n        claims.setSubject(&quot;subject&quot;); // the subject/principal is whom the token is about\n        claims.setClaim(&quot;email&quot;,&quot;mail@example.com&quot;); // additional claims/attributes about the subject can be added\n        List&lt;String&gt; groups = Arrays.asList(&quot;group-one&quot;, &quot;other-group&quot;, &quot;group-three&quot;);\n        claims.setStringListClaim(&quot;groups&quot;, groups); // multi-valued claims work too and will end up as a JSON array\n        claims.setClaim(&quot;application-id&quot;, 124123);\n\n        // A JWT is a JWS and/or a JWE with JSON claims as the payload.\n        // In this example it is a JWS so we create a JsonWebSignature object.\n        JsonWebSignature jws = new JsonWebSignature();\n\n        // The payload of the JWS is JSON content of the JWT Claims\n        jws.setPayload(claims.toJson());\n\n        // The JWT is signed using the private key\n        jws.setKey(rsaJsonWebKey.getPrivateKey());\n\n        // Set the Key ID (kid) header because it's just the polite thing to do.\n        // We only have one key in this example but a using a Key ID helps\n        // facilitate a smooth key rollover process\n        jws.setKeyIdHeaderValue(rsaJsonWebKey.getKeyId());\n\n        // Set the signature algorithm on the JWT/JWS that will integrity protect the claims\n        jws.setAlgorithmHeaderValue(AlgorithmIdentifiers.RSA_USING_SHA256);\n\n        // Sign the JWS and produce the compact serialization or the complete JWT/JWS\n        // representation, which is a string consisting of three dot ('.') separated\n        // base64url-encoded parts in the form Header.Payload.Signature\n        // If you wanted to encrypt it, you can simply set this jwt as the payload\n        // of a JsonWebEncryption object and set the cty (Content Type) header to &quot;jwt&quot;.\n        String jwt = jws.getCompactSerialization();\n\n\n        // Now you can do something with the JWT. Like send it to some other party\n        // over the clouds and through the interwebs.\n        System.out.println(&quot;JWT: &quot; + jwt);\n\n\n        // Use JwtConsumerBuilder to construct an appropriate JwtConsumer, which will\n        // be used to validate and process the JWT.\n        // The specific validation requirements for a JWT are context dependent, however,\n        // it typically advisable to require a (reasonable) expiration time, a trusted issuer, and\n        // and audience that identifies your system as the intended recipient.\n        // If the JWT is encrypted too, you need only provide a decryption key or\n        // decryption key resolver to the builder.\n        JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n                .setRequireExpirationTime() // the JWT must have an expiration time\n                .setAllowedClockSkewInSeconds(30) // allow some leeway in validating time based claims to account for clock skew\n                .setRequireSubject() // the JWT must have a subject claim\n                .setExpectedIssuer(&quot;Issuer&quot;) // whom the JWT needs to have been issued by\n                .setExpectedAudience(&quot;Audience&quot;) // to whom the JWT is intended for\n                .setVerificationKey(rsaJsonWebKey.getKey()) // verify the signature with the public key\n                .setJwsAlgorithmConstraints( // only allow the expected signature algorithm(s) in the given context\n                        AlgorithmConstraints.ConstraintType.PERMIT, AlgorithmIdentifiers.RSA_USING_SHA256) // which is only RS256 here\n                .build(); // create the JwtConsumer instance\n\n        try\n        {\n            //  Validate the JWT and process it to the Claims\n            JwtClaims jwtClaims = jwtConsumer.processToClaims(jwt);\n            System.out.println(&quot;JWT validation succeeded! &quot; + jwtClaims);\n\n            long appId = jwtClaims.getClaimValue(&quot;application-id&quot;, Long.class);\n            System.out.println(appId);\n        }\n        catch (InvalidJwtException e)\n        {\n            // InvalidJwtException will be thrown, if the JWT failed processing or validation in anyway.\n            // Hopefully with meaningful explanations(s) about what went wrong.\n            System.out.println(&quot;Invalid JWT! &quot; + e);\n\n            // Programmatic access to (some) specific reasons for JWT invalidity is also possible\n            // should you want different error handling behavior for certain conditions.\n\n            // Whether or not the JWT has expired being one common reason for invalidity\n            if (e.hasExpired())\n            {\n                System.out.println(&quot;JWT expired at &quot; + e.getJwtContext().getJwtClaims().getExpirationTime());\n            }\n\n            // Or maybe the audience was invalid\n            if (e.hasErrorCode(ErrorCodes.AUDIENCE_INVALID))\n            {\n                System.out.println(&quot;JWT had wrong audience: &quot; + e.getJwtContext().getJwtClaims().getAudience());\n            }\n        }`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16936434,"reputation":1,"user_id":12249290,"display_name":"THRAEX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648551072,"creation_date":1648551072,"answer_id":71660742,"question_id":65626738,"body_markdown":"```\r\n// Custom key-pair\r\nString publicKeyStr = &quot;encoded public key&quot;;\r\nString privateKeyStr = &quot;encoded private key&quot;;\r\nKeyPair keyPair = RSAUtil.parser(publicKeyStr, privateKeyStr);\r\n\r\nRsaJsonWebKey rsaJsonWebKey = RsaJwkGenerator.generateJwk(2048);\r\nrsaJsonWebKey.setPrivateKey(keyPair.getPrivate());\r\n\r\nJwtClaims claims = new JwtClaims();\r\n// ...\r\n\r\nJsonWebSignature jws = new JsonWebSignature();\r\njws.setPayload(claims.toJson());\r\njws.setKey(rsaJsonWebKey.getPrivateKey());\r\njws.setKeyIdHeaderValue(rsaJsonWebKey.getKeyId());\r\njws.setAlgorithmHeaderValue(AlgorithmIdentifiers.RSA_USING_SHA256);\r\nString jwt = jws.getCompactSerialization();\r\n\r\nJwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n    // ...\r\n    .setVerificationKey(keyPair.getPublic())\r\n    // ...\r\n    .build();\r\n\r\nJwtClaims jwtClaims = jwtConsumer.processToClaims(jwt); \r\n```","title":"How to verify custom key-pair value in a JWT body","body":"<pre><code>// Custom key-pair\nString publicKeyStr = &quot;encoded public key&quot;;\nString privateKeyStr = &quot;encoded private key&quot;;\nKeyPair keyPair = RSAUtil.parser(publicKeyStr, privateKeyStr);\n\nRsaJsonWebKey rsaJsonWebKey = RsaJwkGenerator.generateJwk(2048);\nrsaJsonWebKey.setPrivateKey(keyPair.getPrivate());\n\nJwtClaims claims = new JwtClaims();\n// ...\n\nJsonWebSignature jws = new JsonWebSignature();\njws.setPayload(claims.toJson());\njws.setKey(rsaJsonWebKey.getPrivateKey());\njws.setKeyIdHeaderValue(rsaJsonWebKey.getKeyId());\njws.setAlgorithmHeaderValue(AlgorithmIdentifiers.RSA_USING_SHA256);\nString jwt = jws.getCompactSerialization();\n\nJwtConsumer jwtConsumer = new JwtConsumerBuilder()\n    // ...\n    .setVerificationKey(keyPair.getPublic())\n    // ...\n    .build();\n\nJwtClaims jwtClaims = jwtConsumer.processToClaims(jwt); \n</code></pre>\n"}],"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648551072,"creation_date":1610099426,"question_id":65626738,"body_markdown":"I&#39;m implementing a JWT solution and I&#39;m using jose4j. I&#39;m facing the problem that I have non-standard/custom key-pair value (such as *&quot;application-id&quot; : 124123*) in the body of the JWT that I want to verify, but I can&#39;t find the way to do it in Jose4J. I&#39;d not mind an example.","title":"How to verify custom key-pair value in a JWT body","body":"<p>I'm implementing a JWT solution and I'm using jose4j. I'm facing the problem that I have non-standard/custom key-pair value (such as <em>&quot;application-id&quot; : 124123</em>) in the body of the JWT that I want to verify, but I can't find the way to do it in Jose4J. I'd not mind an example.</p>\n"},{"tags":["java","ssl","truststore"],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327018741,"creation_date":1327018741,"answer_id":8935271,"question_id":8935083,"body_markdown":"The easiest way is to set a system property when launching the java process: `-Djavax.net.ssl.trustStore=...`\r\n\r\nThis is used by the default TrustManager, as described in http://docs.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#X509TrustManager\r\n\r\nAlternatively, override the TrustManager as described in the next paragraph in the same document.","title":"java ssl connection using truststore","body":"<p>The easiest way is to set a system property when launching the java process: <code>-Djavax.net.ssl.trustStore=...</code></p>\n\n<p>This is used by the default TrustManager, as described in <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#X509TrustManager\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#X509TrustManager</a></p>\n\n<p>Alternatively, override the TrustManager as described in the next paragraph in the same document.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648549623,"creation_date":1648549623,"answer_id":71660410,"question_id":8935083,"body_markdown":"While the link in the other answer is a good reference, it refers to the already outdated JDK 1.5. Here is something more up to date, and the documentation has been improved as well:\r\n\r\nhttps://docs.oracle.com/en/java/javase/18/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-E1205974-3249-4E40-83C0-5F89C7375CF4","title":"java ssl connection using truststore","body":"<p>While the link in the other answer is a good reference, it refers to the already outdated JDK 1.5. Here is something more up to date, and the documentation has been improved as well:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/18/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-E1205974-3249-4E40-83C0-5F89C7375CF4\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-E1205974-3249-4E40-83C0-5F89C7375CF4</a></p>\n"}],"owner":{"account_id":156115,"reputation":11095,"user_id":373201,"accept_rate":84,"display_name":"user373201"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648549623,"creation_date":1327017064,"question_id":8935083,"body_markdown":"I have a web application that connects to a https site. For that I have to install the certificate in the cacerts in lib/security folder. I would like to create a truststore and place it within the application and while connecting to the other site make the app refer to this truststore so that when the application is moved the certificates move with it. \r\n\r\nThe way I connect to the https site is using a form post. How do I go about doing this. Also, when doing a form post rather than using a HttpsURLConnection, how to configure to look into custom truststore instead of cacerts. ","title":"java ssl connection using truststore","body":"<p>I have a web application that connects to a https site. For that I have to install the certificate in the cacerts in lib/security folder. I would like to create a truststore and place it within the application and while connecting to the other site make the app refer to this truststore so that when the application is moved the certificates move with it. </p>\n\n<p>The way I connect to the https site is using a form post. How do I go about doing this. Also, when doing a form post rather than using a HttpsURLConnection, how to configure to look into custom truststore instead of cacerts. </p>\n"},{"tags":["java","maven","uberjar"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1648549091,"post_id":71660121,"comment_id":126646662,"body_markdown":"Are you uploading the the normal jar and fat jar with the same group id, artifact and version? If so, there is no way for the dependent project to distinguish them. You should [upload the fat jar to nexus using a classifier](https://www.baeldung.com/maven-artifact-classifiers), which will allow the child project to select whether they want the fat jar or the normal one.","body":"Are you uploading the the normal jar and fat jar with the same group id, artifact and version? If so, there is no way for the dependent project to distinguish them. You should <a href=\"https://www.baeldung.com/maven-artifact-classifiers\" rel=\"nofollow noreferrer\">upload the fat jar to nexus using a classifier</a>, which will allow the child project to select whether they want the fat jar or the normal one."},{"owner":{"account_id":4108085,"reputation":3091,"user_id":3371468,"accept_rate":45,"display_name":"ozw1z5rd"},"score":0,"creation_date":1648549696,"post_id":71660121,"comment_id":126646904,"body_markdown":"Good point. It is working. Thanks, It helped me a lot.","body":"Good point. It is working. Thanks, It helped me a lot."}],"answers":[{"tags":[],"owner":{"account_id":24527925,"reputation":129,"user_id":18440149,"display_name":"Abdelkader Chhaibi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648549209,"creation_date":1648548883,"answer_id":71660231,"question_id":71660121,"body_markdown":"\r\n\r\nadd the dependency to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;com.xxxxxxxx&lt;/groupId&gt;\r\n\r\n    &lt;artifactId&gt;example-app&lt;/artifactId&gt;\r\n\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n    &lt;scope&gt;system&lt;/scope&gt;\r\n\r\n    &lt;systemPath&gt;${basedir}/lib/yourJar.jar&lt;/systemPath&gt;\r\n\r\n&lt;/dependency&gt;","title":"How to add a fat/uber jar as dependency in pom.xml","body":"<p>add the dependency to your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n\n&lt;groupId&gt;com.xxxxxxxx&lt;/groupId&gt;\n\n&lt;artifactId&gt;example-app&lt;/artifactId&gt;\n\n&lt;version&gt;1.0&lt;/version&gt;\n\n&lt;scope&gt;system&lt;/scope&gt;\n\n&lt;systemPath&gt;${basedir}/lib/yourJar.jar&lt;/systemPath&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648549348,"creation_date":1648549348,"answer_id":71660352,"question_id":71660121,"body_markdown":"Using a classifier is the right way to go:\r\n\r\n&lt;!-- language: language-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.xxxxxxxxxxxx.sar&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kafka-connector&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;classifier&gt;fat&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI would check if the fat is a consumable artifact.","title":"How to add a fat/uber jar as dependency in pom.xml","body":"<p>Using a classifier is the right way to go:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.xxxxxxxxxxxx.sar&lt;/groupId&gt;\n  &lt;artifactId&gt;kafka-connector&lt;/artifactId&gt;\n  &lt;version&gt;5.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;classifier&gt;fat&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I would check if the fat is a consumable artifact.</p>\n"}],"owner":{"account_id":4108085,"reputation":3091,"user_id":3371468,"accept_rate":45,"display_name":"ozw1z5rd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648549348,"creation_date":1648548536,"question_id":71660121,"body_markdown":"I&#39;m newbie on maven.\r\n\r\nMy question is this: \r\n\r\nI have a far jar in nexus, and want to add it as dependency in a pom.xml. \r\nHow can I do that? \r\n\r\n[![enter image description here][1]][1] \r\n\r\nIn nexus there are both the jar and the fat jar.\r\n\r\nInside my pom.xml I&#39;m using: \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.xxxxxxxxxxxx.sar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand, of course, it is not downloading the fat jar. \r\nHow do I fix that? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EcE8x.png","title":"How to add a fat/uber jar as dependency in pom.xml","body":"<p>I'm newbie on maven.</p>\n<p>My question is this:</p>\n<p>I have a far jar in nexus, and want to add it as dependency in a pom.xml.\nHow can I do that?</p>\n<p><a href=\"https://i.stack.imgur.com/EcE8x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EcE8x.png\" alt=\"enter image description here\" /></a></p>\n<p>In nexus there are both the jar and the fat jar.</p>\n<p>Inside my pom.xml I'm using:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.xxxxxxxxxxxx.sar&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-connector&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and, of course, it is not downloading the fat jar.\nHow do I fix that?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1496020713,"post_id":44233476,"comment_id":75476870,"body_markdown":"You could build it. https://docs.oracle.com/javase/tutorial/i18n/locale/create.html Or see http://www.localeplanet.com/java/pt-PT/","body":"You could build it. <a href=\"https://docs.oracle.com/javase/tutorial/i18n/locale/create.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/i18n/locale/create.html</a> Or see <a href=\"http://www.localeplanet.com/java/pt-PT/\" rel=\"nofollow noreferrer\">localeplanet.com/java/pt-PT</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496029777,"creation_date":1496020877,"answer_id":44233521,"question_id":44233476,"body_markdown":"No guarantees this will work, but worth a shot. \r\n\r\nBrazil and Portugal are the only countries I know of, sorry \r\n\r\n    List&lt;String&gt; ptLocales = Arrays.asList(&quot;pt_BR&quot;, &quot;pt_PT&quot;);\r\n    if(ptLocales.contains(Locale.getDefault().getLanguage())){\r\n    \r\n    }\r\n\r\nTaken from http://www.localeplanet.com/java/","title":"Get the portuguese language - Android","body":"<p>No guarantees this will work, but worth a shot. </p>\n\n<p>Brazil and Portugal are the only countries I know of, sorry </p>\n\n<pre><code>List&lt;String&gt; ptLocales = Arrays.asList(\"pt_BR\", \"pt_PT\");\nif(ptLocales.contains(Locale.getDefault().getLanguage())){\n\n}\n</code></pre>\n\n<p>Taken from <a href=\"http://www.localeplanet.com/java/\" rel=\"nofollow noreferrer\">http://www.localeplanet.com/java/</a></p>\n"},{"tags":[],"owner":{"account_id":4945850,"reputation":742,"user_id":3981219,"accept_rate":65,"display_name":"kggoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496024095,"creation_date":1496024095,"answer_id":44233801,"question_id":44233476,"body_markdown":"Try this (mine is using thai) make a string.xml file for yourself that have all strings in portuguese[![enter image description here][1]][1]\r\n\r\n    public static void changeLocale(Context context, Locale locale) {\r\n    \t\tConfiguration conf = context.getResources().getConfiguration();\r\n    \t\tconf.locale = locale;\r\n    \t\tLocale.setDefault(locale);\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n    \t\t\tconf.setLayoutDirection(conf.locale);\r\n    \t\tcontext.getResources().updateConfiguration(conf, context.getResources().getDisplayMetrics());\r\n    \t}\r\n\r\n\r\nLocaleUtils.changeLocale(context, new Locale(&quot;th&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7g7cF.png","title":"Get the portuguese language - Android","body":"<p>Try this (mine is using thai) make a string.xml file for yourself that have all strings in portuguese<a href=\"https://i.stack.imgur.com/7g7cF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7g7cF.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>public static void changeLocale(Context context, Locale locale) {\n        Configuration conf = context.getResources().getConfiguration();\n        conf.locale = locale;\n        Locale.setDefault(locale);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1)\n            conf.setLayoutDirection(conf.locale);\n        context.getResources().updateConfiguration(conf, context.getResources().getDisplayMetrics());\n    }\n</code></pre>\n\n<p>LocaleUtils.changeLocale(context, new Locale(\"th\"));</p>\n"},{"tags":[],"owner":{"account_id":4033889,"reputation":9035,"user_id":3319074,"accept_rate":83,"display_name":"ZeroOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496029616,"creation_date":1496029616,"answer_id":44234326,"question_id":44233476,"body_markdown":"this is the list of portuguese locale\r\n\r\n    pt\t    Portuguese\tportugu&#234;s\t\r\n    pt_AO\tPortuguese (Angola)\tportugu&#234;s (Angola)\t\r\n    pt_BR\tPortuguese (Brazil)\tportugu&#234;s (Brasil)\tBrazilian Portuguese\r\n    pt_GW\tPortuguese (Guinea-Bissau)\tportugu&#234;s (Guin&#233; Bissau)\t\r\n    pt_MZ\tPortuguese (Mozambique)\tportugu&#234;s (Mo&#231;ambique)\t\r\n    pt_PT\tPortuguese (Portugal)\tportugu&#234;s (Portugal)\tIberian Portuguese\r\n    pt_ST\tPortuguese (S&#227;o Tom&#233; and Pr&#237;ncipe)\tportugu&#234;s (S&#227;o Tom&#233; e Pr&#237;ncipe)\t\r\n\r\njust right click on values folder -&gt; create values resources file\r\n\r\n    filename = strings.xml\r\n    directory name = values-pt\r\n\r\n\r\nSource Code\r\n\r\nthis is how i do to set the locale\r\n\r\n    LanguageLocalHelper.setLocale(this,&quot;pt&quot;); \r\n\r\n\r\nthen i use this wrapper class to change the locale setting \r\n\r\n    public class LanguageLocalHelper {\r\n    \r\n        public static void onCreate(Context context) {\r\n            String lang = getPersistedData(context, Locale.getDefault().getLanguage());\r\n            setLocale(context, lang);\r\n        }\r\n    \r\n        public static void onCreate(Context context, String defaultLanguage) {\r\n            String lang = getPersistedData(context, defaultLanguage);\r\n            setLocale(context, lang);\r\n        }\r\n    \r\n        public static String getLanguage(Context context) {\r\n            return getPersistedData(context, Locale.getDefault().getLanguage());\r\n        }\r\n    \r\n        public static void setLocale(Context context, String language) {\r\n            persist(context, language);\r\n            updateResources(context, language);\r\n        }\r\n    \r\n        private static String getPersistedData(Context context, String defaultLanguage) {\r\n            SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\r\n            return preferences.getString(Constant.LANGUAGE_LOCALE, defaultLanguage);\r\n        }\r\n    \r\n        private static void persist(Context context, String language) {\r\n            SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\r\n            SharedPreferences.Editor editor = preferences.edit();\r\n    \r\n            editor.putString(Constant.LANGUAGE_LOCALE, language);\r\n            editor.apply();\r\n        }\r\n    \r\n        @SuppressLint(&quot;NewApi&quot;)\r\n        private static void updateResources(Context context, String language) {\r\n            Locale locale = new Locale(language);\r\n            Locale.setDefault(locale);\r\n    \r\n            Resources resources = context.getResources();\r\n    \r\n            Configuration configuration = resources.getConfiguration();\r\n            configuration.setLocale(locale);\r\n            resources.updateConfiguration(configuration,null);\r\n        }\r\n    }\r\n\r\n\r\nfor more info international ids.. look here [Local][1]\r\n\r\n\r\n  [1]: http://www.localeplanet.com/icu/","title":"Get the portuguese language - Android","body":"<p>this is the list of portuguese locale</p>\n\n<pre><code>pt      Portuguese  portugus   \npt_AO   Portuguese (Angola) portugus (Angola)  \npt_BR   Portuguese (Brazil) portugus (Brasil)  Brazilian Portuguese\npt_GW   Portuguese (Guinea-Bissau)  portugus (Guin Bissau)    \npt_MZ   Portuguese (Mozambique) portugus (Moambique)  \npt_PT   Portuguese (Portugal)   portugus (Portugal)    Iberian Portuguese\npt_ST   Portuguese (So Tom and Prncipe)  portugus (So Tom e Prncipe) \n</code></pre>\n\n<p>just right click on values folder -> create values resources file</p>\n\n<pre><code>filename = strings.xml\ndirectory name = values-pt\n</code></pre>\n\n<p>Source Code</p>\n\n<p>this is how i do to set the locale</p>\n\n<pre><code>LanguageLocalHelper.setLocale(this,\"pt\"); \n</code></pre>\n\n<p>then i use this wrapper class to change the locale setting </p>\n\n<pre><code>public class LanguageLocalHelper {\n\n    public static void onCreate(Context context) {\n        String lang = getPersistedData(context, Locale.getDefault().getLanguage());\n        setLocale(context, lang);\n    }\n\n    public static void onCreate(Context context, String defaultLanguage) {\n        String lang = getPersistedData(context, defaultLanguage);\n        setLocale(context, lang);\n    }\n\n    public static String getLanguage(Context context) {\n        return getPersistedData(context, Locale.getDefault().getLanguage());\n    }\n\n    public static void setLocale(Context context, String language) {\n        persist(context, language);\n        updateResources(context, language);\n    }\n\n    private static String getPersistedData(Context context, String defaultLanguage) {\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n        return preferences.getString(Constant.LANGUAGE_LOCALE, defaultLanguage);\n    }\n\n    private static void persist(Context context, String language) {\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n        SharedPreferences.Editor editor = preferences.edit();\n\n        editor.putString(Constant.LANGUAGE_LOCALE, language);\n        editor.apply();\n    }\n\n    @SuppressLint(\"NewApi\")\n    private static void updateResources(Context context, String language) {\n        Locale locale = new Locale(language);\n        Locale.setDefault(locale);\n\n        Resources resources = context.getResources();\n\n        Configuration configuration = resources.getConfiguration();\n        configuration.setLocale(locale);\n        resources.updateConfiguration(configuration,null);\n    }\n}\n</code></pre>\n\n<p>for more info international ids.. look here <a href=\"http://www.localeplanet.com/icu/\" rel=\"nofollow noreferrer\">Local</a></p>\n"},{"tags":[],"owner":{"account_id":10910798,"reputation":1,"user_id":8020253,"display_name":"Hugo Tavares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648549090,"creation_date":1648549090,"answer_id":71660290,"question_id":44233476,"body_markdown":"For Kotlin you can use:\r\n\r\n    If (Locale.getDefault().language == &quot;pt&quot;) {\r\n    ....\r\n    }","title":"Get the portuguese language - Android","body":"<p>For Kotlin you can use:</p>\n<pre><code>If (Locale.getDefault().language == &quot;pt&quot;) {\n....\n}\n</code></pre>\n"}],"owner":{"display_name":"user6866656"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1828,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44233521,"answer_count":4,"score":1,"last_activity_date":1648549090,"creation_date":1496020372,"question_id":44233476,"body_markdown":"I&#39;ve the following code, but there are only a few languages, and portuguese is not one of them, how it is possible to get the portuguese language? \r\n\r\n    if(Locale.ENGLISH.equals(Locale.getDefault().getLanguage())){\r\n    \r\n    }","title":"Get the portuguese language - Android","body":"<p>I've the following code, but there are only a few languages, and portuguese is not one of them, how it is possible to get the portuguese language? </p>\n\n<pre><code>if(Locale.ENGLISH.equals(Locale.getDefault().getLanguage())){\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553193784,"creation_date":1553193784,"answer_id":55287245,"question_id":55283977,"body_markdown":"Maybe you need to do this way \r\n\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n    \r\n        @Override\r\n        public void onStartup(ServletContext servletContext) throws ServletException {\r\n            servletContext.addListener(new MySessionListener());\r\n \r\n            super.onStartup(servletContext);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAlso a note [from Doc][1]\r\n\r\n&gt; Interface used to configure a Servlet 3.0+ context programmatically.\r\n&gt; Unlike WebApplicationInitializer, classes that implement this\r\n&gt; interface (and do not implement WebApplicationInitializer) will not be\r\n&gt; detected by SpringServletContainerInitializer and hence will not be\r\n&gt; automatically bootstrapped by the Servlet container.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/ServletContextInitializer.html","title":"Listening for session-events not working after update to SpringBoot2","body":"<p>Maybe you need to do this way </p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        servletContext.addListener(new MySessionListener());\n\n        super.onStartup(servletContext);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class);\n    }\n\n}\n</code></pre>\n\n<p>Also a note <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/ServletContextInitializer.html\" rel=\"nofollow noreferrer\">from Doc</a></p>\n\n<blockquote>\n  <p>Interface used to configure a Servlet 3.0+ context programmatically.\n  Unlike WebApplicationInitializer, classes that implement this\n  interface (and do not implement WebApplicationInitializer) will not be\n  detected by SpringServletContainerInitializer and hence will not be\n  automatically bootstrapped by the Servlet container.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5604957,"reputation":1296,"user_id":6294605,"accept_rate":93,"display_name":"Wolfone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553699405,"creation_date":1553699405,"answer_id":55380549,"question_id":55283977,"body_markdown":"I am not really sure if this is proper handling of this issue, but it turned out that\r\nthe question itself is not appropriate as the underlying reason was not switching\r\nfrom boot 1 to boot 2 but rather the reason why I switched and that was to use\r\na JDBC-Session-Repository. \r\n\r\nAnd in this context we can refer to:\r\n\r\nhttps://docs.spring.io/spring-session/docs/current/reference/html5/#api-jdbcoperationssessionrepository\r\n\r\nwhich tells us: \r\n\r\n*Please note that this implementation does not support publishing of session events.*\r\n\r\nSo the question does not really fit the problem but I wanted to post this for people who might come from a similar direction, even if it is not an acceptable answer.\r\nThat also means that changing the title to something like &quot;how to work around...&quot;\r\nwould rather draw a badly retraceable post-history which I want to avoid. I will open a more appropriate question.","title":"Listening for session-events not working after update to SpringBoot2","body":"<p>I am not really sure if this is proper handling of this issue, but it turned out that\nthe question itself is not appropriate as the underlying reason was not switching\nfrom boot 1 to boot 2 but rather the reason why I switched and that was to use\na JDBC-Session-Repository. </p>\n\n<p>And in this context we can refer to:</p>\n\n<p><a href=\"https://docs.spring.io/spring-session/docs/current/reference/html5/#api-jdbcoperationssessionrepository\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/docs/current/reference/html5/#api-jdbcoperationssessionrepository</a></p>\n\n<p>which tells us: </p>\n\n<p><em>Please note that this implementation does not support publishing of session events.</em></p>\n\n<p>So the question does not really fit the problem but I wanted to post this for people who might come from a similar direction, even if it is not an acceptable answer.\nThat also means that changing the title to something like \"how to work around...\"\nwould rather draw a badly retraceable post-history which I want to avoid. I will open a more appropriate question.</p>\n"},{"tags":[],"owner":{"account_id":16379149,"reputation":1,"user_id":11830597,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578585173,"creation_date":1578582779,"answer_id":59666959,"question_id":55283977,"body_markdown":"Please see if this works\r\n\r\n    public class SessionExpirationListener implements ApplicationListener&lt;SessionDestroyedEvent&gt; {\r\n    \r\n        @Override\r\n        public void onApplicationEvent(SessionDestroyedEvent event) {\r\n    //your code\r\n        }\r\n    }","title":"Listening for session-events not working after update to SpringBoot2","body":"<p>Please see if this works</p>\n\n<pre><code>public class SessionExpirationListener implements ApplicationListener&lt;SessionDestroyedEvent&gt; {\n\n    @Override\n    public void onApplicationEvent(SessionDestroyedEvent event) {\n//your code\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5604957,"reputation":1296,"user_id":6294605,"accept_rate":93,"display_name":"Wolfone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1648549082,"creation_date":1553182229,"question_id":55283977,"body_markdown":"I have a project that uses spring with spring boot. It features some custom security mechanism as well as listening to session-creation and\r\nsession-destruction events:\r\n\r\n    @WebListener\r\n    public class MySessionListener implements HttpSessionListener {\r\n        @Override\r\n        public void sessionCreated(HttpSessionEvent httpSessionEvent) {\r\n            System.out.println(&quot;==== Session is created ====&quot;);\r\n    \r\n            //sets a custom session timeout\r\n            httpSessionEvent.getSession().setMaxInactiveInterval(10);\r\n        }\r\n    \r\n        @Override\r\n        public void sessionDestroyed(HttpSessionEvent httpSessionEvent) {\r\n            System.out.println(&quot;==== Session is destroyed ====&quot;);\r\n        }\r\n    }\r\n\r\ninstanciated via:\r\n\r\n    import org.springframework.boot.web.servlet.ServletContextInitializer;\r\n    import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n    import sample.session.MySessionListener;\r\n\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletException;\r\n    \r\n    public class WebAppInitializer implements ServletContextInitializer {\r\n    \r\n        @Override\r\n        public void onStartup(ServletContext servletContext) throws ServletException {\r\n            //only https allowed\r\n            //servletContext.getSessionCookieConfig().setSecure(true);\r\n    \r\n            //add session listener for example to influence session-timeout\r\n            servletContext.addListener(new MySessionListener());\r\n        }\r\n    }\r\n\r\nwith:\r\n\r\n    @SpringBootApplication\r\n    public class SpringSecApp {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(new Class[] { SpringSecApp.class, WebAppInitializer.class }, args);\r\n        }\r\n    }\r\n\r\nNow I added some configuration to make spring write session-information to a MySql DB. To achieve that I had to update my pom.xml from Spring-Boot 1.5.x to 2.1.3 . \r\n\r\nNow this session-info-writing works fine but I recognized that the session-events are not handled anymore; I suppose that the cause lies in the dependencies as I didn&#39;t alter the relevant code pieces concerning the session-listening that I posted above but I was not able to find it. I would be grateful for any help! I will include 2 pom-versions; first the current one and then one from the last commit in which I can confirm that session-event-handling works fine.\r\nCurrent version:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;bous.philipp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-custom-auth-userdetails-REST&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n    \r\n                &lt;!--Workaround for broken openjdk-version--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;path&gt;/&lt;/path&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nPrevious version:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;bous.philipp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-custom-auth-userdetails-REST&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.9.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!--Workaround for broken openjdk-version--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;path&gt;/&lt;/path&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nEDIT: I tried MyTwoCents approach which didn&#39;t change anything; furthermore it seems that the *onStartup*-Method is not being executed at all (prints to standard-out from this method don&#39;t show up).\r\n\r\nEDIT2: I can confirm that the *onStartup*-Method of the ServletContextInitializer is being called but *MySessionListener*&#39;s *sessionCreated* and *sessionDestroyed* are not being called at all.","title":"Listening for session-events not working after update to SpringBoot2","body":"<p>I have a project that uses spring with spring boot. It features some custom security mechanism as well as listening to session-creation and\nsession-destruction events:</p>\n<pre><code>@WebListener\npublic class MySessionListener implements HttpSessionListener {\n    @Override\n    public void sessionCreated(HttpSessionEvent httpSessionEvent) {\n        System.out.println(&quot;==== Session is created ====&quot;);\n\n        //sets a custom session timeout\n        httpSessionEvent.getSession().setMaxInactiveInterval(10);\n    }\n\n    @Override\n    public void sessionDestroyed(HttpSessionEvent httpSessionEvent) {\n        System.out.println(&quot;==== Session is destroyed ====&quot;);\n    }\n}\n</code></pre>\n<p>instanciated via:</p>\n<pre><code>import org.springframework.boot.web.servlet.ServletContextInitializer;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\nimport sample.session.MySessionListener;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\n\npublic class WebAppInitializer implements ServletContextInitializer {\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        //only https allowed\n        //servletContext.getSessionCookieConfig().setSecure(true);\n\n        //add session listener for example to influence session-timeout\n        servletContext.addListener(new MySessionListener());\n    }\n}\n</code></pre>\n<p>with:</p>\n<pre><code>@SpringBootApplication\npublic class SpringSecApp {\n    public static void main(String[] args) {\n        SpringApplication.run(new Class[] { SpringSecApp.class, WebAppInitializer.class }, args);\n    }\n}\n</code></pre>\n<p>Now I added some configuration to make spring write session-information to a MySql DB. To achieve that I had to update my pom.xml from Spring-Boot 1.5.x to 2.1.3 .</p>\n<p>Now this session-info-writing works fine but I recognized that the session-events are not handled anymore; I suppose that the cause lies in the dependencies as I didn't alter the relevant code pieces concerning the session-listening that I posted above but I was not able to find it. I would be grateful for any help! I will include 2 pom-versions; first the current one and then one from the last commit in which I can confirm that session-event-handling works fine.\nCurrent version:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;bous.philipp&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-custom-auth-userdetails-REST&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;!--Workaround for broken openjdk-version--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;path&gt;/&lt;/path&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Previous version:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;bous.philipp&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-custom-auth-userdetails-REST&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;4.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;4.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;4.3.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!--Workaround for broken openjdk-version--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;path&gt;/&lt;/path&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>EDIT: I tried MyTwoCents approach which didn't change anything; furthermore it seems that the <em>onStartup</em>-Method is not being executed at all (prints to standard-out from this method don't show up).</p>\n<p>EDIT2: I can confirm that the <em>onStartup</em>-Method of the ServletContextInitializer is being called but <em>MySessionListener</em>'s <em>sessionCreated</em> and <em>sessionDestroyed</em> are not being called at all.</p>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1648538216,"post_id":71657830,"comment_id":126642486,"body_markdown":"At this point you&#39;re better off not using a regex. Write a parser.","body":"At this point you&#39;re better off not using a regex. Write a parser."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":2,"creation_date":1648538361,"post_id":71657830,"comment_id":126642525,"body_markdown":"The easiest regex approach is with alternation: `^(?:\\{\\w+=\\w+(?:,\\w+=\\w+)*\\}|\\w+=\\w+(?:,\\w+=\\w+)*)$`","body":"The easiest regex approach is with alternation: <code>^(?:\\{\\w+=\\w+(?:,\\w+=\\w+)*\\}|\\w+=\\w+(?:,\\w+=\\w+)*)$</code>"},{"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"score":0,"creation_date":1648557942,"post_id":71657830,"comment_id":126650214,"body_markdown":"Thank you. Alternation approach looks more readable than using lookahead or lookbehind!","body":"Thank you. Alternation approach looks more readable than using lookahead or lookbehind!"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648538380,"creation_date":1648538380,"answer_id":71657941,"question_id":71657830,"body_markdown":"How about this?\r\n\r\n    \\w+=\\w+(?:,\\w+=\\w+)*|\\{\\w+=\\w+(?:,\\w+=\\w+)*\\}","title":"Java regular expression for if-then-else constructs","body":"<p>How about this?</p>\n<pre><code>\\w+=\\w+(?:,\\w+=\\w+)*|\\{\\w+=\\w+(?:,\\w+=\\w+)*\\}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2765614,"reputation":89,"user_id":2381415,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648549012,"creation_date":1648549012,"answer_id":71660268,"question_id":71657830,"body_markdown":"Looking at your regex I think this is not how lookahead or lookbehind is working. Since it is looking ahead or behind from a match. \r\nThis is explained very well in this article https://javascript.info/regexp-lookahead-lookbehind.\r\n\r\nWith that I managed to create a pattern that works with lookahead and lookbehind.\r\n\r\n    ((?&lt;=\\{)(\\w+=\\w+,?)+(?&lt;!,)(?=\\}))|^(\\w+=\\w+,?)+(?&lt;!,)$\r\n\r\nHere you can see that lookahead is trying to find a { behind and after the matching group `(\\w+=\\w+,?)+(?&lt;!,)`. The `(?&lt;!,)` is just to prevent comma in the end.\r\n\r\nCheck the regex here https://regexr.com/6idl8.","title":"Java regular expression for if-then-else constructs","body":"<p>Looking at your regex I think this is not how lookahead or lookbehind is working. Since it is looking ahead or behind from a match.\nThis is explained very well in this article <a href=\"https://javascript.info/regexp-lookahead-lookbehind\" rel=\"nofollow noreferrer\">https://javascript.info/regexp-lookahead-lookbehind</a>.</p>\n<p>With that I managed to create a pattern that works with lookahead and lookbehind.</p>\n<pre><code>((?&lt;=\\{)(\\w+=\\w+,?)+(?&lt;!,)(?=\\}))|^(\\w+=\\w+,?)+(?&lt;!,)$\n</code></pre>\n<p>Here you can see that lookahead is trying to find a { behind and after the matching group <code>(\\w+=\\w+,?)+(?&lt;!,)</code>. The <code>(?&lt;!,)</code> is just to prevent comma in the end.</p>\n<p>Check the regex here <a href=\"https://regexr.com/6idl8\" rel=\"nofollow noreferrer\">https://regexr.com/6idl8</a>.</p>\n"}],"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71660268,"answer_count":2,"score":1,"last_activity_date":1648549012,"creation_date":1648537871,"question_id":71657830,"body_markdown":"I&#39;m trying to write a regular expression that would match all the following pattern examples -\r\n```\r\n1) Name=John,Age=25\r\n2) {Name=John,Age=25}\r\n3) Name=John\r\n```\r\nBasically there has to be an equals to sign between two words or numbers followed by a comma (,) and then the pattern repeats. The pattern cannot end with any special characters apart from alphabets or numbers or a curly brace. Curly braces are optional and if a curly brace is used at the beginning of the pattern then there should be a closing curly brace as well and vice-versa, so the following patterns should not match -\r\n```\r\n1) Name=John!Age=25\r\n2) {Name=John,Age=25\r\n3) Name=John,Age=25}\r\n4) Name=John,\r\n5) Name=John=Age,25!\r\n```\r\nI&#39;m trying to experiment with the following regular expression using lookaround but the pattern with curly braces does not match at all - \r\n\r\n``` ^(?:(?&lt;=\\{)(?=\\})|(?&lt;!\\{)(?!\\}))(?:\\w+=\\w+,)*\\w+=\\w+}?$ ```\r\n\r\nWhat am I doing wrong here since the pattern with curly braces does not match at all?","title":"Java regular expression for if-then-else constructs","body":"<p>I'm trying to write a regular expression that would match all the following pattern examples -</p>\n<pre><code>1) Name=John,Age=25\n2) {Name=John,Age=25}\n3) Name=John\n</code></pre>\n<p>Basically there has to be an equals to sign between two words or numbers followed by a comma (,) and then the pattern repeats. The pattern cannot end with any special characters apart from alphabets or numbers or a curly brace. Curly braces are optional and if a curly brace is used at the beginning of the pattern then there should be a closing curly brace as well and vice-versa, so the following patterns should not match -</p>\n<pre><code>1) Name=John!Age=25\n2) {Name=John,Age=25\n3) Name=John,Age=25}\n4) Name=John,\n5) Name=John=Age,25!\n</code></pre>\n<p>I'm trying to experiment with the following regular expression using lookaround but the pattern with curly braces does not match at all -</p>\n<p><code>^(?:(?&lt;=\\{)(?=\\})|(?&lt;!\\{)(?!\\}))(?:\\w+=\\w+,)*\\w+=\\w+}?$</code></p>\n<p>What am I doing wrong here since the pattern with curly braces does not match at all?</p>\n"},{"tags":["java","rest","apache-camel","integration"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1648495622,"post_id":71650424,"comment_id":126633692,"body_markdown":"It is not really clear what you are trying to do. Please note that you don&#39;t expose any rest endpoint with your current code. Please have a look to Rest DSL https://camel.apache.org/manual/rest-dsl.html for a better understanding","body":"It is not really clear what you are trying to do. Please note that you don&#39;t expose any rest endpoint with your current code. Please have a look to Rest DSL <a href=\"https://camel.apache.org/manual/rest-dsl.html\" rel=\"nofollow noreferrer\">camel.apache.org/manual/rest-dsl.html</a> for a better understanding"},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1648543942,"post_id":71650424,"comment_id":126644561,"body_markdown":"What I&#39;m trying to do is to get the data from MATERIALS_FILTERED topic and expose them to localhost:8080/materials endpoint.","body":"What I&#39;m trying to do is to get the data from MATERIALS_FILTERED topic and expose them to localhost:8080/materials endpoint."},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1648544833,"post_id":71650424,"comment_id":126644892,"body_markdown":"A topic is not a database, so for me what you are trying to do, doesn&#39;t really make sense. If you want to expose the data of a topic, you need first to store it somewhere","body":"A topic is not a database, so for me what you are trying to do, doesn&#39;t really make sense. If you want to expose the data of a topic, you need first to store it somewhere"},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1648548433,"post_id":71650424,"comment_id":126646419,"body_markdown":"I know, but that&#39;s the task I got. I&#39;ve got those data stored, there&#39;s an other class that retrieves them and does some stuff to it. Now I&#39;ve got to expose those data from the topic to REST, that&#39;s my internship project to learn Camel","body":"I know, but that&#39;s the task I got. I&#39;ve got those data stored, there&#39;s an other class that retrieves them and does some stuff to it. Now I&#39;ve got to expose those data from the topic to REST, that&#39;s my internship project to learn Camel"}],"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648548844,"creation_date":1648483993,"question_id":71650424,"body_markdown":"When I try to expose the REST service using Apache Camel everything seems to be fine, but when I try to retrieve the data from the url it doesn&#39;t connect. The thing I noticed in debug logs is that the route destination is actually null. Here are the logs for route startup:\r\n\r\n&gt; 17:54:20.617 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager - Route: route1 started and consuming from: activemq://queue:MATERIALS_ENRICHED\r\n17:54:20.620 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager - Route: route2 &gt;&gt;&gt; Route[activemq://topic:MATERIALS_FILTERED -&gt; null]\r\n17:54:20.621 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager - Starting consumer (order: 1001) on route: route2\r\n\r\nI have no idea why it is as it is, i thought it was worth noticing. Here&#39;s the code I wrote:\r\n\r\n    public class RestExposer {\r\n\r\n    public static void main(String[] args) throws Exception{\r\n\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://127.0.0.1:61616&quot;);\r\n\r\n        Connection connection = connectionFactory.createConnection();\r\n        connection.start();\r\n\r\n        CamelContext context = new DefaultCamelContext();\r\n        context.addComponent(&quot;activemq&quot;, JmsComponent.jmsComponentAutoAcknowledge(connectionFactory));\r\n\r\n        context.addRoutes(new RouteBuilder() {\r\n            @Override\r\n            public void configure() throws Exception {\r\n                JAXBContext jaxbContext = JAXBContext.newInstance(ObjectFactory.class);\r\n                JaxbDataFormat xmlDataFormat = new JaxbDataFormat(jaxbContext);\r\n\r\n                restConfiguration()\r\n                        .producerComponent(&quot;undertow&quot;)\r\n                        .host(&quot;localhost&quot;)\r\n                        .port(&quot;8080&quot;)\r\n                        .bindingMode(RestBindingMode.auto);\r\n\r\n                from(&quot;activemq:queue:MATERIALS_ENRICHED&quot;)\r\n                        .unmarshal(xmlDataFormat)\r\n                        .filter(simple(&quot;${body.type} in &#39;A1,A2,A3&#39;&quot;))\r\n                        .marshal().json()\r\n                        .to(&quot;activemq:topic:MATERIALS_FILTERED&quot;);\r\n\r\n                from(&quot;activemq:topic:MATERIALS_FILTERED&quot;)\r\n                        .to(&quot;rest:get:materials&quot;);\r\n            }\r\n        });\r\n        context.start();\r\n        }\r\n    }\r\n\r\nAnd the pom.xml file:\r\n\r\n&gt;     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;   \r\n&gt;     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \r\n&gt;     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&gt; \r\n&gt;     &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;Packages&lt;/artifactId&gt;\r\n&gt;     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n&gt; \r\n&gt;     &lt;properties&gt;\r\n&gt;         &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&gt;         &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n&gt;     &lt;/properties&gt;\r\n&gt; \r\n&gt;     &lt;dependencies&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt; \r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-jdbc&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-jsonpath&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;2.8.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;8.0.28&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;2.17.2&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;log4j-core&lt;/artifactId &gt;\r\n&gt;             &lt;version&gt;2.17.2&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;5.16.2&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;activemq-camel&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;5.16.4&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-jaxb-starter&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;2.25.4&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-jms&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.15.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;5.16.4&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;2.13.2&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;1.7&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-undertow&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.1.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-openapi-java&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-undertow&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;camel-support&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;3.16.0&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;     &lt;/dependencies&gt; &lt;/project&gt;\r\n\r\nI didn&#39;t attach full debug logs because it&#39;s very long, but let me know shall I do it. Please help me.\r\n\r\nEDIT:\r\nI&#39;ve changed the routes to match the REST DSL Camel documentation, now I can curl to the adddress, but it just waits for 20 seconds and then I get ExchangeTimeOutException. Here&#39;s the code of those routes:\r\n```java\r\nrestConfiguration()\r\n    .component(&quot;undertow&quot;)\r\n    .host(&quot;localhost&quot;)\r\n    .port(8080)\r\n    .bindingMode(RestBindingMode.auto);\r\n\r\nrest(&quot;/api/&quot;)\r\n    .get(&quot;materials&quot;).consumes(&quot;application/json&quot;).to(&quot;direct:materials&quot;);\r\n\r\nfrom(&quot;activemq:queue:MATERIALS_ENRICHED&quot;)\r\n    .unmarshal(xmlDataFormat)\r\n    .filter(simple(&quot;${body.type} in &#39;A1,A2,A3&#39;&quot;))\r\n    .marshal().json()\r\n    .to(&quot;activemq:topic:MATERIALS_FILTERED&quot;);\r\n\r\nfrom(&quot;direct:materials&quot;)\r\n    .to(&quot;activemq:topic:MATERIALS_FILTERED&quot;);\r\n```\r\nI know I&#39;ve changed the url from /materials to /api/materials, it doesn&#39;t matter at this point.","title":"How to expose REST service with Apache Camel?","body":"<p>When I try to expose the REST service using Apache Camel everything seems to be fine, but when I try to retrieve the data from the url it doesn't connect. The thing I noticed in debug logs is that the route destination is actually null. Here are the logs for route startup:</p>\n<blockquote>\n<p>17:54:20.617 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager - Route: route1 started and consuming from: activemq://queue:MATERIALS_ENRICHED\n17:54:20.620 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager - Route: route2 &gt;&gt;&gt; Route[activemq://topic:MATERIALS_FILTERED -&gt; null]\n17:54:20.621 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager - Starting consumer (order: 1001) on route: route2</p>\n</blockquote>\n<p>I have no idea why it is as it is, i thought it was worth noticing. Here's the code I wrote:</p>\n<pre><code>public class RestExposer {\n\npublic static void main(String[] args) throws Exception{\n\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://127.0.0.1:61616&quot;);\n\n    Connection connection = connectionFactory.createConnection();\n    connection.start();\n\n    CamelContext context = new DefaultCamelContext();\n    context.addComponent(&quot;activemq&quot;, JmsComponent.jmsComponentAutoAcknowledge(connectionFactory));\n\n    context.addRoutes(new RouteBuilder() {\n        @Override\n        public void configure() throws Exception {\n            JAXBContext jaxbContext = JAXBContext.newInstance(ObjectFactory.class);\n            JaxbDataFormat xmlDataFormat = new JaxbDataFormat(jaxbContext);\n\n            restConfiguration()\n                    .producerComponent(&quot;undertow&quot;)\n                    .host(&quot;localhost&quot;)\n                    .port(&quot;8080&quot;)\n                    .bindingMode(RestBindingMode.auto);\n\n            from(&quot;activemq:queue:MATERIALS_ENRICHED&quot;)\n                    .unmarshal(xmlDataFormat)\n                    .filter(simple(&quot;${body.type} in 'A1,A2,A3'&quot;))\n                    .marshal().json()\n                    .to(&quot;activemq:topic:MATERIALS_FILTERED&quot;);\n\n            from(&quot;activemq:topic:MATERIALS_FILTERED&quot;)\n                    .to(&quot;rest:get:materials&quot;);\n        }\n    });\n    context.start();\n    }\n}\n</code></pre>\n<p>And the pom.xml file:</p>\n<blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;   \n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;Packages&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jsonpath&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.28&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId &gt;\n        &lt;version&gt;2.17.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\n        &lt;version&gt;5.16.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-camel&lt;/artifactId&gt;\n        &lt;version&gt;5.16.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jaxb-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.25.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jms&lt;/artifactId&gt;\n        &lt;version&gt;3.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\n        &lt;version&gt;5.16.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;\n        &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-undertow&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-openapi-java&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-undertow&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-support&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt; &lt;/project&gt;\n</code></pre>\n</blockquote>\n<p>I didn't attach full debug logs because it's very long, but let me know shall I do it. Please help me.</p>\n<p>EDIT:\nI've changed the routes to match the REST DSL Camel documentation, now I can curl to the adddress, but it just waits for 20 seconds and then I get ExchangeTimeOutException. Here's the code of those routes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>restConfiguration()\n    .component(&quot;undertow&quot;)\n    .host(&quot;localhost&quot;)\n    .port(8080)\n    .bindingMode(RestBindingMode.auto);\n\nrest(&quot;/api/&quot;)\n    .get(&quot;materials&quot;).consumes(&quot;application/json&quot;).to(&quot;direct:materials&quot;);\n\nfrom(&quot;activemq:queue:MATERIALS_ENRICHED&quot;)\n    .unmarshal(xmlDataFormat)\n    .filter(simple(&quot;${body.type} in 'A1,A2,A3'&quot;))\n    .marshal().json()\n    .to(&quot;activemq:topic:MATERIALS_FILTERED&quot;);\n\nfrom(&quot;direct:materials&quot;)\n    .to(&quot;activemq:topic:MATERIALS_FILTERED&quot;);\n</code></pre>\n<p>I know I've changed the url from /materials to /api/materials, it doesn't matter at this point.</p>\n"},{"tags":["java","servlets","jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648548834,"creation_date":1648548834,"answer_id":71660221,"question_id":71658051,"body_markdown":"A few things ...\r\n\r\n* Compression done via a Servlet Filter can no longer be done in Servlet 3.1+ (You can thank the changes necessary for Async I/O to the spec for that).  \r\nUse the Jetty built-in `GzipHandler` instead.\r\n\r\n* Don&#39;t set `Content-Length` response header when doing compression (You would have to pre-compress to know the actual content length)\r\n\r\n* Set the `Content-Type` response header to a value that is appropriate for your content.\r\n\r\n* Set ALL response headers BEFORE you write the the response.  You cannot change the headers after the response body content is written (the `HttpServletResponse.isCommitted()` tells you if you can change the response anymore)","title":"Closed error when using HttpServlet with JAVA","body":"<p>A few things ...</p>\n<ul>\n<li><p>Compression done via a Servlet Filter can no longer be done in Servlet 3.1+ (You can thank the changes necessary for Async I/O to the spec for that).<br />\nUse the Jetty built-in <code>GzipHandler</code> instead.</p>\n</li>\n<li><p>Don't set <code>Content-Length</code> response header when doing compression (You would have to pre-compress to know the actual content length)</p>\n</li>\n<li><p>Set the <code>Content-Type</code> response header to a value that is appropriate for your content.</p>\n</li>\n<li><p>Set ALL response headers BEFORE you write the the response.  You cannot change the headers after the response body content is written (the <code>HttpServletResponse.isCommitted()</code> tells you if you can change the response anymore)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":11105849,"reputation":742,"user_id":8153040,"accept_rate":43,"display_name":"kfir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71660221,"answer_count":1,"score":0,"last_activity_date":1648548834,"creation_date":1648538986,"question_id":71658051,"body_markdown":"I wrote HttpServlet doGet method this is the servlet:\r\n\r\n    public class PrintDocsServlet extends HttpServlet {\r\n    \r\n        private static final int BAD_REQUEST = 400;\r\n    \r\n    \r\n        public void init() throws ServletException {\r\n    \r\n        }\r\n    \r\n        public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            try {\r\n                String id = request.getParameter(&quot;id&quot;);\r\n                String format = request.getParameter(&quot;format&quot;);\r\n                user_format = format == null ? &quot;pdf&quot; : format;\r\n                \r\n                if(id != null &amp;&amp; !id.isEmpty())\r\n                {\r\n                    printFile(response, id, user_format);\r\n                }\r\n                else\r\n                {\r\n                    response.sendError(BAD_REQUEST);\r\n                }\r\n    \r\n            } catch(Exception e) {\r\n                session = null;\r\n                e.printStackTrace();\r\n                response.sendError(BAD_REQUEST);\r\n            } finally {\r\n                if(session != null)\r\n                {\r\n                    DfcSessions.release(session);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void printFile(HttpServletResponse response, String id, String format) throws DfException, IOException {\r\n    \r\n    \r\n                ByteArrayInputStream content = null;\r\n    \r\n                String fileName = &quot;view.&quot; + format;\r\n                \r\n                response.setContentType(fileType);\r\n                response.addHeader(&quot;Content-Length&quot;, Long.toString(obj.getContentSize()));\r\n                \r\n    \r\n                FileInputStream content = new FileInputStream(&quot;C:/demo.pdf&quot;);\r\n    \r\n                ServletOutputStream out = response.getOutputStream();\r\n    \r\n                IOUtils.copy(content, out);\r\n                response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\r\n    \r\n                if(content != null)\r\n                {\r\n                    content.close();\r\n                }\r\n                if(out != null)\r\n                {\r\n                    out.flush();\r\n                    out.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nthis code working perfect with jetty 8.1.16 on port 8888 but when I using jetty 9.4.38 i got this error:\r\n\r\n    org.eclipse.jetty.io.EofException: Closed\r\n           at org.eclipse.jetty.server.HttpOutput.checkWritable(HttpOutput.java:768)\r\n           at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:792)\r\n           at com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:93)\r\n           at com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:67)\r\n           at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:645)\r\n           at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2147)\r\n           at org.apache.commons.io.IOUtils.copy(IOUtils.java:2102)\r\n           at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2123)\r\n           at org.apache.commons.io.IOUtils.copy(IOUtils.java:2078)\r\n           at com.servlets.PrintDocsServlet.printFile(PrintDocsServlet.java:128)\r\n           at com.servlets.PrintDocsServlet.doGet(PrintDocsServlet.java:57)\r\n           at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)\r\n           at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n           at org.eclipse.jetty.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1452)\r\n           at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:791)\r\n           at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1626)\r\n           at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n           at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n           at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:155)\r\n           at com.emc.xcp.rest.security.filter.BasicAuthFilter.doFilterInternal(BasicAuthFilter.java:62)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at com.emc.xcp.rest.security.filter.CSRFTokenFilter.doFilter(CSRFTokenFilter.java:22)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n           at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at com.emc.xcp.rest.security.filter.RepositoryInfoFilter.doFilter(RepositoryInfoFilter.java:33)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at com.emc.xcp.ui.LocaleFilter.doFilter(LocaleFilter.java:26)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n           at com.emc.xcp.ui.web.filter.CustomCharEncodingFilter.doFilterInternal(CustomCharEncodingFilter.java:43)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at com.emc.xcp.ui.RestCorsFilter.doFilterInternal(RestCorsFilter.java:49)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at com.github.ziplet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:304)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n           at com.emc.xcp.ui.CompressingFilterProxy.doFilter(CompressingFilterProxy.java:38)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\r\n           at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n           at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:602)\r\n           at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n           at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n           at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n           at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n           at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1435)\r\n           at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n           at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n           at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n           at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n           at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1350)\r\n           at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n           at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:234)\r\n           at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\r\n           at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n           at org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n           at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:388)\r\n           at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:633)\r\n           at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:380)\r\n           at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:279)\r\n           at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n           at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n           at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n           at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n           at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n           at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n           at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n           at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:383)\r\n           at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\r\n           at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\r\n           at java.base/java.lang.Thread.run(Thread.java:834)\r\n    2022-03-29 08:17:49.614:WARN:oejs.HttpChannel:qtp1971764991-171: /MevakerApp/PrintDocsServlet\r\n    java.lang.IllegalStateException: COMPLETED\r\n           at org.eclipse.jetty.server.HttpChannelState.sendError(HttpChannelState.java:896)\r\n           at org.eclipse.jetty.server.Response.sendError(Response.java:471)\r\n           at org.eclipse.jetty.server.Response.sendError(Response.java:442)\r\n           at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:132)\r\n           at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:132)\r\n           at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:132)\r\n           at org.springframework.security.web.util.OnCommittedResponseWrapper.sendError(OnCommittedResponseWrapper.java:115)\r\n           at com.servlets.PrintDocsServlet.doGet(PrintDocsServlet.java:67)\r\n           at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)\r\n           at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n           at org.eclipse.jetty.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1452)\r\n           at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:791)\r\n           at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1626)\r\n           at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n           at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n           at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:155)\r\n           at com.emc.xcp.rest.security.filter.BasicAuthFilter.doFilterInternal(BasicAuthFilter.java:62)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at com.emc.xcp.rest.security.filter.CSRFTokenFilter.doFilter(CSRFTokenFilter.java:22)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n           at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n           at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n           at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n           at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at com.emc.xcp.rest.security.filter.RepositoryInfoFilter.doFilter(RepositoryInfoFilter.java:33)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n           at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n           at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n           at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n           at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\r\n\r\nat this line:\r\n\r\n    IOUtils.copy(content, out);\r\n\r\nwhat can i do? Considering I can not change the jetty version, what can i do with this?\r\ni tried to using IOUtils.copy alternative but there is same error, the error saying that the servletresponseoutput is closed. \r\n\r\ntnx","title":"Closed error when using HttpServlet with JAVA","body":"<p>I wrote HttpServlet doGet method this is the servlet:</p>\n<pre><code>public class PrintDocsServlet extends HttpServlet {\n\n    private static final int BAD_REQUEST = 400;\n\n\n    public void init() throws ServletException {\n\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        try {\n            String id = request.getParameter(&quot;id&quot;);\n            String format = request.getParameter(&quot;format&quot;);\n            user_format = format == null ? &quot;pdf&quot; : format;\n            \n            if(id != null &amp;&amp; !id.isEmpty())\n            {\n                printFile(response, id, user_format);\n            }\n            else\n            {\n                response.sendError(BAD_REQUEST);\n            }\n\n        } catch(Exception e) {\n            session = null;\n            e.printStackTrace();\n            response.sendError(BAD_REQUEST);\n        } finally {\n            if(session != null)\n            {\n                DfcSessions.release(session);\n            }\n        }\n    }\n\n    private void printFile(HttpServletResponse response, String id, String format) throws DfException, IOException {\n\n\n            ByteArrayInputStream content = null;\n\n            String fileName = &quot;view.&quot; + format;\n            \n            response.setContentType(fileType);\n            response.addHeader(&quot;Content-Length&quot;, Long.toString(obj.getContentSize()));\n            \n\n            FileInputStream content = new FileInputStream(&quot;C:/demo.pdf&quot;);\n\n            ServletOutputStream out = response.getOutputStream();\n\n            IOUtils.copy(content, out);\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\n\n            if(content != null)\n            {\n                content.close();\n            }\n            if(out != null)\n            {\n                out.flush();\n                out.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p>this code working perfect with jetty 8.1.16 on port 8888 but when I using jetty 9.4.38 i got this error:</p>\n<pre><code>org.eclipse.jetty.io.EofException: Closed\n       at org.eclipse.jetty.server.HttpOutput.checkWritable(HttpOutput.java:768)\n       at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:792)\n       at com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:93)\n       at com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:67)\n       at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:645)\n       at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2147)\n       at org.apache.commons.io.IOUtils.copy(IOUtils.java:2102)\n       at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2123)\n       at org.apache.commons.io.IOUtils.copy(IOUtils.java:2078)\n       at com.servlets.PrintDocsServlet.printFile(PrintDocsServlet.java:128)\n       at com.servlets.PrintDocsServlet.doGet(PrintDocsServlet.java:57)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n       at org.eclipse.jetty.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1452)\n       at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:791)\n       at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1626)\n       at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n       at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n       at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:155)\n       at com.emc.xcp.rest.security.filter.BasicAuthFilter.doFilterInternal(BasicAuthFilter.java:62)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at com.emc.xcp.rest.security.filter.CSRFTokenFilter.doFilter(CSRFTokenFilter.java:22)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n       at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at com.emc.xcp.rest.security.filter.RepositoryInfoFilter.doFilter(RepositoryInfoFilter.java:33)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at com.emc.xcp.ui.LocaleFilter.doFilter(LocaleFilter.java:26)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n       at com.emc.xcp.ui.web.filter.CustomCharEncodingFilter.doFilterInternal(CustomCharEncodingFilter.java:43)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at com.emc.xcp.ui.RestCorsFilter.doFilterInternal(RestCorsFilter.java:49)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at com.github.ziplet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:304)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n       at com.emc.xcp.ui.CompressingFilterProxy.doFilter(CompressingFilterProxy.java:38)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\n       at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n       at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:602)\n       at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n       at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\n       at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\n       at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n       at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1435)\n       at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n       at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n       at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\n       at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n       at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1350)\n       at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n       at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:234)\n       at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\n       at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n       at org.eclipse.jetty.server.Server.handle(Server.java:516)\n       at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:388)\n       at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:633)\n       at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:380)\n       at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:279)\n       at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n       at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n       at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n       at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n       at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n       at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n       at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n       at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:383)\n       at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\n       at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\n       at java.base/java.lang.Thread.run(Thread.java:834)\n2022-03-29 08:17:49.614:WARN:oejs.HttpChannel:qtp1971764991-171: /MevakerApp/PrintDocsServlet\njava.lang.IllegalStateException: COMPLETED\n       at org.eclipse.jetty.server.HttpChannelState.sendError(HttpChannelState.java:896)\n       at org.eclipse.jetty.server.Response.sendError(Response.java:471)\n       at org.eclipse.jetty.server.Response.sendError(Response.java:442)\n       at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:132)\n       at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:132)\n       at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:132)\n       at org.springframework.security.web.util.OnCommittedResponseWrapper.sendError(OnCommittedResponseWrapper.java:115)\n       at com.servlets.PrintDocsServlet.doGet(PrintDocsServlet.java:67)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n       at org.eclipse.jetty.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1452)\n       at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:791)\n       at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1626)\n       at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n       at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n       at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:155)\n       at com.emc.xcp.rest.security.filter.BasicAuthFilter.doFilterInternal(BasicAuthFilter.java:62)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at com.emc.xcp.rest.security.filter.CSRFTokenFilter.doFilter(CSRFTokenFilter.java:22)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n       at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n       at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n       at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at com.emc.xcp.rest.security.filter.RepositoryInfoFilter.doFilter(RepositoryInfoFilter.java:33)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n       at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n       at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n       at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n</code></pre>\n<p>at this line:</p>\n<pre><code>IOUtils.copy(content, out);\n</code></pre>\n<p>what can i do? Considering I can not change the jetty version, what can i do with this?\ni tried to using IOUtils.copy alternative but there is same error, the error saying that the servletresponseoutput is closed.</p>\n<p>tnx</p>\n"},{"tags":["java","selenium","jenkins"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1648552790,"post_id":71660147,"comment_id":126648097,"body_markdown":"what error you have received ?","body":"what error you have received ?"},{"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"score":0,"creation_date":1648553991,"post_id":71660147,"comment_id":126648560,"body_markdown":"Error is: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element","body":"Error is: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element"},{"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"score":0,"creation_date":1663585049,"post_id":71660147,"comment_id":130266555,"body_markdown":"If you could share the element xpath details and proper error messages then it would be easier to debug.","body":"If you could share the element xpath details and proper error messages then it would be easier to debug."},{"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"score":0,"creation_date":1663767749,"post_id":71660147,"comment_id":130316937,"body_markdown":"Thanks for your time to ask and interest on this question. I have solved thisn problem with avoiding parent/ child nodes related xpath and used matched text for those specific elements.","body":"Thanks for your time to ask and interest on this question. I have solved thisn problem with avoiding parent/ child nodes related xpath and used matched text for those specific elements."}],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1648556702,"answer_count":0,"score":0,"last_activity_date":1648548606,"creation_date":1648548606,"question_id":71660147,"body_markdown":"Unable to locate the same locator when running remotely with Jenkins. How to solve this issue?\r\nI have added waits. Resized screens size like below. But nothing working\r\n\r\n     Dimension d = new Dimension(1382,744); \r\n\t //Resize the current window to the given dimension\r\n\t driver.manage().window().setSize(d); ","title":"Unable to locate same locator when running remotely with Jenkins. How to solve this issue?","body":"<p>Unable to locate the same locator when running remotely with Jenkins. How to solve this issue?\nI have added waits. Resized screens size like below. But nothing working</p>\n<pre><code> Dimension d = new Dimension(1382,744); \n //Resize the current window to the given dimension\n driver.manage().window().setSize(d); \n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform","mqtt","paho"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1648450661,"post_id":71642994,"comment_id":126617608,"body_markdown":"Looking at the code, it states that you must provide `connectOptions.setUserName(&quot;unused&quot;);` for the password to be sent along, even when the username is not used.  Are you sending it?\n\nAlso I see 2 public certificates in that image you used.  Seeing that they are named the same, could it potentially be checking against the wrong one?","body":"Looking at the code, it states that you must provide <code>connectOptions.setUserName(&quot;unused&quot;);</code> for the password to be sent along, even when the username is not used.  Are you sending it?  Also I see 2 public certificates in that image you used.  Seeing that they are named the same, could it potentially be checking against the wrong one?"},{"owner":{"account_id":24448556,"reputation":69,"user_id":18371113,"display_name":"Przemek Grabarek"},"score":0,"creation_date":1648451528,"post_id":71642994,"comment_id":126617822,"body_markdown":"Hi, I am only generating 1 certificate  rsa_cert.pem which I copy to Iot Core device RSA public key. Atlhough I do have 2 private keys. I only use the PKCS8 converted one in generating jwt private. And yes I have setup username unused as it was presented in gcloud repository\n https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/iot/api-client/manager/src/main/java/com/example/cloud/iot/examples/MqttExample.java","body":"Hi, I am only generating 1 certificate  rsa_cert.pem which I copy to Iot Core device RSA public key. Atlhough I do have 2 private keys. I only use the PKCS8 converted one in generating jwt private. And yes I have setup username unused as it was presented in gcloud repository  <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/iot/api-client/manager/src/main/java/com/example/cloud/iot/examples/MqttExample.java\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/i&zwnj;&#8203;ot/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24448556,"reputation":69,"user_id":18371113,"display_name":"Przemek Grabarek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648548568,"creation_date":1648548568,"answer_id":71660133,"question_id":71642994,"body_markdown":"I managed to fix the issue! the clientId was incorrect\r\n\r\n    final String mqttClientId = String.format(&quot;projects/%s/locations/%s/registries/%s/devices/%s&quot;,\r\n    options.projectId, options.cloudRegion, options.registryId, options.gatewayId);\r\n\r\nMy gatewayId was an empty string because we don&#39;t have a gateway created on Iot Core, we connect directly to devices.\r\nSo today I set gatewayId to deviceId and the backend connected successfully to the device.\r\nSo now the line looks like this\r\n\r\n    final String mqttClientId = String.format(&quot;projects/%s/locations/%s/registries/%s/devices/%s&quot;,options.projectId, \r\n     options.cloudRegion, options.registryId, options.deviceId);","title":"Why can&#39;t I connect to device in Google Cloud IOT Core through MQTT?","body":"<p>I managed to fix the issue! the clientId was incorrect</p>\n<pre><code>final String mqttClientId = String.format(&quot;projects/%s/locations/%s/registries/%s/devices/%s&quot;,\noptions.projectId, options.cloudRegion, options.registryId, options.gatewayId);\n</code></pre>\n<p>My gatewayId was an empty string because we don't have a gateway created on Iot Core, we connect directly to devices.\nSo today I set gatewayId to deviceId and the backend connected successfully to the device.\nSo now the line looks like this</p>\n<pre><code>final String mqttClientId = String.format(&quot;projects/%s/locations/%s/registries/%s/devices/%s&quot;,options.projectId, \n options.cloudRegion, options.registryId, options.deviceId);\n</code></pre>\n"}],"owner":{"account_id":24448556,"reputation":69,"user_id":18371113,"display_name":"Przemek Grabarek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71660133,"answer_count":1,"score":0,"last_activity_date":1648548568,"creation_date":1648447348,"question_id":71642994,"body_markdown":" I want to connect my backend on Spring boot to one of the devices in my hardware setup in Google Cloud Iot-Core. I basically copied [this github repository](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/iot/api-client/manager/src/main/java/com/example/cloud/iot/examples/MqttExample.java) and adjusted the authentication and connection options. When I run my program it throws this exception:\r\n\r\n*Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.eclipse.paho.client.mqttv3.MqttClient]: Factory method &#39;connectToMqttClient&#39; threw exception; nested exception is Incorrect username or password (4)*\r\n\r\nTo create password I use this method\r\n\r\n    private static String createJwtRsa(String projectId, String privateKeyFile)\r\n            throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\r\n        DateTime now = new DateTime();\r\n\r\n        JwtBuilder jwtBuilder =\r\n                Jwts.builder()\r\n                        .setIssuedAt(now.toDate())\r\n                        .setExpiration(now.plusMinutes(20).toDate())\r\n                        .setAudience(projectId);\r\n\r\n        byte[] keyBytes = Files.readAllBytes(Paths.get(privateKeyFile));\r\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n        return jwtBuilder.signWith(SignatureAlgorithm.RS256, kf.generatePrivate(spec)).compact();\r\n    }\r\n\r\nI had an issue with privateKeyFile format. On Iot-core the device has public key of RS256_X509\r\n\r\n![enter image description here][2]\r\n\r\nBut Spring Boot only allows RS256_PKCS8 key formats, so I had to do this:\r\n\r\n 1. I generated key of format X509 *openssl req -x509 -nodes -newkey rsa:2048 -keyout rsa_private.pem -out rsa_cert.pem -subj &quot;/CN=unused&quot;* it also generated certificate rsa_cer.pem\r\n 2. I converted the key to PKCS8 format *openssl pkcs8 -topk8 -inform PEM -outform DER -in rsa_private.pem -out private_key.der -nocrypt*\r\n 3. The certificate I added as public key in Iot-core and rsa_private.der I used in my createJwtRsa method\r\n\r\nSince then I get the exception: Incorrect Username and password. What can I do to fix it?\r\n\r\n  [2]: https://i.stack.imgur.com/KEK1R.png\r\n\r\nEdit:\r\n\r\nI also tried generating normal RSA256 key and convert it to PKCS8 format, and I get the same exception. The same with ES256 key","title":"Why can&#39;t I connect to device in Google Cloud IOT Core through MQTT?","body":"<p>I want to connect my backend on Spring boot to one of the devices in my hardware setup in Google Cloud Iot-Core. I basically copied <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/iot/api-client/manager/src/main/java/com/example/cloud/iot/examples/MqttExample.java\" rel=\"nofollow noreferrer\">this github repository</a> and adjusted the authentication and connection options. When I run my program it throws this exception:</p>\n<p><em>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.eclipse.paho.client.mqttv3.MqttClient]: Factory method 'connectToMqttClient' threw exception; nested exception is Incorrect username or password (4)</em></p>\n<p>To create password I use this method</p>\n<pre><code>private static String createJwtRsa(String projectId, String privateKeyFile)\n        throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\n    DateTime now = new DateTime();\n\n    JwtBuilder jwtBuilder =\n            Jwts.builder()\n                    .setIssuedAt(now.toDate())\n                    .setExpiration(now.plusMinutes(20).toDate())\n                    .setAudience(projectId);\n\n    byte[] keyBytes = Files.readAllBytes(Paths.get(privateKeyFile));\n    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n    return jwtBuilder.signWith(SignatureAlgorithm.RS256, kf.generatePrivate(spec)).compact();\n}\n</code></pre>\n<p>I had an issue with privateKeyFile format. On Iot-core the device has public key of RS256_X509</p>\n<p><img src=\"https://i.stack.imgur.com/KEK1R.png\" alt=\"enter image description here\" /></p>\n<p>But Spring Boot only allows RS256_PKCS8 key formats, so I had to do this:</p>\n<ol>\n<li>I generated key of format X509 <em>openssl req -x509 -nodes -newkey rsa:2048 -keyout rsa_private.pem -out rsa_cert.pem -subj &quot;/CN=unused&quot;</em> it also generated certificate rsa_cer.pem</li>\n<li>I converted the key to PKCS8 format <em>openssl pkcs8 -topk8 -inform PEM -outform DER -in rsa_private.pem -out private_key.der -nocrypt</em></li>\n<li>The certificate I added as public key in Iot-core and rsa_private.der I used in my createJwtRsa method</li>\n</ol>\n<p>Since then I get the exception: Incorrect Username and password. What can I do to fix it?</p>\n<p>Edit:</p>\n<p>I also tried generating normal RSA256 key and convert it to PKCS8 format, and I get the same exception. The same with ES256 key</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","gcs"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1648548906,"post_id":71660123,"comment_id":126646606,"body_markdown":"What did you enter in the browser? Note the error message **Header was included in signedheaders, but not in the request**. Did you include the same header **Content-Type: application/octet-stream**? Use **curl** to test and post the command and the result in your question.","body":"What did you enter in the browser? Note the error message <b>Header was included in signedheaders, but not in the request</b>. Did you include the same header <b>Content-Type: application/octet-stream</b>? Use <b>curl</b> to test and post the command and the result in your question."},{"owner":{"account_id":450881,"reputation":221,"user_id":846445,"accept_rate":0,"display_name":"user846445"},"score":0,"creation_date":1648549933,"post_id":71660123,"comment_id":126647010,"body_markdown":"@JohnHanley: I entered the url generated from above code which the value of &quot;extracted&quot;. I used the folowing command  curl -X PUT --upload-file helo.txt &lt;&lt;signed URL&gt;&gt; and got an error which is too large to display here","body":"@JohnHanley: I entered the url generated from above code which the value of &quot;extracted&quot;. I used the folowing command  curl -X PUT --upload-file helo.txt &lt;&lt;signed URL&gt;&gt; and got an error which is too large to display here"},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1648572506,"post_id":71660123,"comment_id":126656743,"body_markdown":"How did you specify the header **Content-Type: application/octet-stream**? Put these details in your question. There is plenty of room.","body":"How did you specify the header <b>Content-Type: application/octet-stream</b>? Put these details in your question. There is plenty of room."},{"owner":{"account_id":450881,"reputation":221,"user_id":846445,"accept_rate":0,"display_name":"user846445"},"score":0,"creation_date":1648582435,"post_id":71660123,"comment_id":126659952,"body_markdown":"@JohnHanley In the above code in the extension headers map, i put the content-type.","body":"@JohnHanley In the above code in the extension headers map, i put the content-type."},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1648582568,"post_id":71660123,"comment_id":126660001,"body_markdown":"You must also put the same headers in the request when using the signed URL. Reread the error message. For testing, remove the header when signing to see how everything works.","body":"You must also put the same headers in the request when using the signed URL. Reread the error message. For testing, remove the header when signing to see how everything works."},{"owner":{"account_id":21414748,"reputation":1110,"user_id":15774177,"display_name":"Zeenath S N"},"score":1,"creation_date":1648631307,"post_id":71660123,"comment_id":126671038,"body_markdown":"Hi, I found this [stackoverflow thread](https://stackoverflow.com/a/55291055/15774177), can you please try to use content-type in the curl command the way he has used it, it will be like this ``` curl -X PUT -H &#39;Content-Type: application/octet-stream&#39; &quot; --upload-file my-file &#39;signedURL```, and tell us what you get.","body":"Hi, I found this <a href=\"https://stackoverflow.com/a/55291055/15774177\">stackoverflow thread</a>, can you please try to use content-type in the curl command the way he has used it, it will be like this ``` curl -X PUT -H &#39;Content-Type: application/octet-stream&#39; &quot; --upload-file my-file &#39;signedURL```, and tell us what you get."},{"owner":{"account_id":450881,"reputation":221,"user_id":846445,"accept_rate":0,"display_name":"user846445"},"score":0,"creation_date":1648632863,"post_id":71660123,"comment_id":126671666,"body_markdown":"@ZeenathSN : works with curl. But am facing issue with cors.I am not upload from browser through js code. I am getting the following error\n\nAcess to XmlHttpRequest from origin &#39;null&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.","body":"@ZeenathSN : works with curl. But am facing issue with cors.I am not upload from browser through js code. I am getting the following error  Acess to XmlHttpRequest from origin &#39;null&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource."},{"owner":{"account_id":21414748,"reputation":1110,"user_id":15774177,"display_name":"Zeenath S N"},"score":0,"creation_date":1648644831,"post_id":71660123,"comment_id":126676409,"body_markdown":"Have you configured the CORS on the bucket as shown in [this](https://stackoverflow.com/a/67568665/15774177)?","body":"Have you configured the CORS on the bucket as shown in <a href=\"https://stackoverflow.com/a/67568665/15774177\">this</a>?"}],"owner":{"account_id":450881,"reputation":221,"user_id":846445,"accept_rate":0,"display_name":"user846445"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648548543,"creation_date":1648548543,"question_id":71660123,"body_markdown":"I am trying to generate the presigned url for uploading files to buckets in GCS. But am having the following error when trying to open the link in the browser. Following is my code\r\n\r\n```\r\npackage test;\r\nimport com.google.auth.Credentials;\r\nimport com.google.auth.ServiceAccountSigner;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.storage.BlobId;\r\nimport com.google.cloud.storage.BlobInfo;\r\nimport com.google.cloud.storage.HttpMethod;\r\nimport com.google.cloud.storage.Storage;\r\nimport com.google.cloud.storage.StorageException;\r\nimport com.google.cloud.storage.StorageOptions;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.URL;\r\nimport java.net.URLDecoder;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.TimeUnit;\r\npublic class TestGcs {\r\n\tpublic static void main(String args[]) throws FileNotFoundException, IOException {\r\n\t\tString extracted = extracted();\r\n\t\tSystem.out.println(extracted);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tprivate static String extracted() throws IOException, FileNotFoundException, UnsupportedEncodingException {\r\n\t\tCredentials credentials = getCreds();\r\n\t\tStorage storage = StorageOptions.newBuilder()\r\n                .setCredentials(credentials)\r\n                .setProjectId(&quot;&lt;&lt;project ID&gt;&gt;&quot;)\r\n                .build()\r\n                .getService();\r\n\r\n\t\tBlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(&quot;&lt;&lt;bucketname&gt;&gt;&quot;, &quot;&lt;&lt;object Nmae&gt;&gt;&quot;)).build();\r\n\r\n// Generate Signed URL\r\nMap&lt;String, String&gt; extensionHeaders = new HashMap&lt;&gt;();\r\nextensionHeaders.put(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n\r\nURL url = storage.signUrl(blobInfo, 1, TimeUnit.HOURS,\r\nStorage.SignUrlOption.httpMethod(HttpMethod.PUT),\r\nStorage.SignUrlOption.signWith((ServiceAccountSigner) getCreds()),\r\nStorage.SignUrlOption.withExtHeaders(extensionHeaders),\r\nStorage.SignUrlOption.withV4Signature());\r\nreturn URLDecoder.decode(url.toString(), StandardCharsets.UTF_8.name());\r\n\t}\r\n\r\n\tprivate static Credentials getCreds() throws IOException, FileNotFoundException {\r\n\t\tCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;&lt;&lt;Json service account key path&gt;&gt;&quot;));\r\n\t\treturn credentials;\r\n\t}\r\n\r\n}\r\n```\r\nI get the following error when accesing through browser. The service account role has storage admin role.\r\n```\r\n&lt;Error&gt;\r\n&lt;Code&gt;MalformedSecurityHeader&lt;/Code&gt;\r\n&lt;Message&gt;Your request has a malformed header.&lt;/Message&gt;\r\n&lt;ParameterName&gt;content-type&lt;/ParameterName&gt;\r\n&lt;Details&gt;Header was included in signedheaders, but not in the request.&lt;/Details&gt;\r\n&lt;/Error&gt;\r\n```","title":"GCS bucket generating presigned url for uploads","body":"<p>I am trying to generate the presigned url for uploading files to buckets in GCS. But am having the following error when trying to open the link in the browser. Following is my code</p>\n<pre><code>package test;\nimport com.google.auth.Credentials;\nimport com.google.auth.ServiceAccountSigner;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.storage.BlobId;\nimport com.google.cloud.storage.BlobInfo;\nimport com.google.cloud.storage.HttpMethod;\nimport com.google.cloud.storage.Storage;\nimport com.google.cloud.storage.StorageException;\nimport com.google.cloud.storage.StorageOptions;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\nimport java.net.URLDecoder;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\npublic class TestGcs {\n    public static void main(String args[]) throws FileNotFoundException, IOException {\n        String extracted = extracted();\n        System.out.println(extracted);\n        \n        \n    }\n\n    private static String extracted() throws IOException, FileNotFoundException, UnsupportedEncodingException {\n        Credentials credentials = getCreds();\n        Storage storage = StorageOptions.newBuilder()\n                .setCredentials(credentials)\n                .setProjectId(&quot;&lt;&lt;project ID&gt;&gt;&quot;)\n                .build()\n                .getService();\n\n        BlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(&quot;&lt;&lt;bucketname&gt;&gt;&quot;, &quot;&lt;&lt;object Nmae&gt;&gt;&quot;)).build();\n\n// Generate Signed URL\nMap&lt;String, String&gt; extensionHeaders = new HashMap&lt;&gt;();\nextensionHeaders.put(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n\nURL url = storage.signUrl(blobInfo, 1, TimeUnit.HOURS,\nStorage.SignUrlOption.httpMethod(HttpMethod.PUT),\nStorage.SignUrlOption.signWith((ServiceAccountSigner) getCreds()),\nStorage.SignUrlOption.withExtHeaders(extensionHeaders),\nStorage.SignUrlOption.withV4Signature());\nreturn URLDecoder.decode(url.toString(), StandardCharsets.UTF_8.name());\n    }\n\n    private static Credentials getCreds() throws IOException, FileNotFoundException {\n        Credentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;&lt;&lt;Json service account key path&gt;&gt;&quot;));\n        return credentials;\n    }\n\n}\n</code></pre>\n<p>I get the following error when accesing through browser. The service account role has storage admin role.</p>\n<pre><code>&lt;Error&gt;\n&lt;Code&gt;MalformedSecurityHeader&lt;/Code&gt;\n&lt;Message&gt;Your request has a malformed header.&lt;/Message&gt;\n&lt;ParameterName&gt;content-type&lt;/ParameterName&gt;\n&lt;Details&gt;Header was included in signedheaders, but not in the request.&lt;/Details&gt;\n&lt;/Error&gt;\n</code></pre>\n"},{"tags":["java","android","broadcastreceiver","broadcast","android-broadcast"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1648548124,"post_id":71538911,"comment_id":126646259,"body_markdown":"Removed `android-studio` tag as that tag is used for questions/issues related to the Android Studio product. Your question is a generic Android question and has nothing to do with the Android Studio product.","body":"Removed <code>android-studio</code> tag as that tag is used for questions/issues related to the Android Studio product. Your question is a generic Android question and has nothing to do with the Android Studio product."}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648548010,"creation_date":1648548010,"answer_id":71660002,"question_id":71538911,"body_markdown":"You don&#39;t need to declare the `BroadcastReceiver` in the manifest if you are registering/unregistering programmatically. You only need to declare `BroadcastReceiver`s in the manifest if you want them to be instantiated from external triggers (for example, on device boot, or from the Alarm Manager, etc.)","title":"How to set broadcast receiver attributes programmatically?","body":"<p>You don't need to declare the <code>BroadcastReceiver</code> in the manifest if you are registering/unregistering programmatically. You only need to declare <code>BroadcastReceiver</code>s in the manifest if you want them to be instantiated from external triggers (for example, on device boot, or from the Alarm Manager, etc.)</p>\n"}],"owner":{"account_id":185966,"reputation":527,"user_id":423017,"accept_rate":38,"display_name":"priyamtheone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1613,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":71660002,"answer_count":1,"score":2,"last_activity_date":1648548036,"creation_date":1647699485,"question_id":71538911,"body_markdown":"I&#39;m broadcasting an intent in my app and receiving it with a broadcast receiver. I can handle the broadcasting and receiving. No problem with that. However, I want to register the receiver completely programmatically instead of doing it in the manifest file. Notice, that in the manifest file, there are two attributes of the receiver `android:enabled=&quot;true&quot;` and `android:exported=&quot;false&quot;`. I need to know, **how do I specifically set these two attributes** when I register the receiver programmatically?\r\n\r\nMy AndroidManifest.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.mybroadcastapplication&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.MyBroadcastApplication&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;receiver\r\n                android:name=&quot;.MyBroadcastReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n            &lt;/receiver&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMy MainActivity.java file:\r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n        MyBroadcastReceiver myReceiver;\r\n        IntentFilter intentFilter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            myReceiver = new MyBroadcastReceiver();\r\n            intentFilter = new IntentFilter();\r\n            intentFilter.addAction(&quot;com.example.mybroadcastapplication.EXPLICIT_INTENT&quot;);\r\n            findViewById(R.id.button1).setOnClickListener(this);\r\n        }\r\n    \r\n        public void broadcastIntent() {\r\n            Intent intent = new Intent();\r\n            intent.setAction(&quot;com.example.mybroadcastapplication.EXPLICIT_INTENT&quot;);\r\n            getApplicationContext().sendBroadcast(intent);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostResume() {\r\n            super.onPostResume();\r\n            registerReceiver(myReceiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n            unregisterReceiver(myReceiver);\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            switch (v.getId()) {\r\n                case R.id.button1:\r\n                    broadcastIntent();\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n    }\r\n\r\nMy MyBroadcastReceiver.java file:\r\n\r\n    public class MyBroadcastReceiver extends BroadcastReceiver {\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(&quot;com.example.mybroadcastapplication.EXPLICIT_INTENT&quot;))\r\n                Toast.makeText(context, &quot;Explicit intent received.&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n\r\nRegards","title":"How to set broadcast receiver attributes programmatically?","body":"<p>I'm broadcasting an intent in my app and receiving it with a broadcast receiver. I can handle the broadcasting and receiving. No problem with that. However, I want to register the receiver completely programmatically instead of doing it in the manifest file. Notice, that in the manifest file, there are two attributes of the receiver <code>android:enabled=&quot;true&quot;</code> and <code>android:exported=&quot;false&quot;</code>. I need to know, <strong>how do I specifically set these two attributes</strong> when I register the receiver programmatically?</p>\n<p>My AndroidManifest.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.mybroadcastapplication&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyBroadcastApplication&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;receiver\n            android:name=&quot;.MyBroadcastReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>My MainActivity.java file:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n    MyBroadcastReceiver myReceiver;\n    IntentFilter intentFilter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myReceiver = new MyBroadcastReceiver();\n        intentFilter = new IntentFilter();\n        intentFilter.addAction(&quot;com.example.mybroadcastapplication.EXPLICIT_INTENT&quot;);\n        findViewById(R.id.button1).setOnClickListener(this);\n    }\n\n    public void broadcastIntent() {\n        Intent intent = new Intent();\n        intent.setAction(&quot;com.example.mybroadcastapplication.EXPLICIT_INTENT&quot;);\n        getApplicationContext().sendBroadcast(intent);\n    }\n\n    @Override\n    protected void onPostResume() {\n        super.onPostResume();\n        registerReceiver(myReceiver, intentFilter);\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        unregisterReceiver(myReceiver);\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.button1:\n                broadcastIntent();\n                break;\n            default:\n        }\n    }\n}\n</code></pre>\n<p>My MyBroadcastReceiver.java file:</p>\n<pre><code>public class MyBroadcastReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction() != null &amp;&amp; intent.getAction().equals(&quot;com.example.mybroadcastapplication.EXPLICIT_INTENT&quot;))\n            Toast.makeText(context, &quot;Explicit intent received.&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>Regards</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":14096747,"reputation":696,"user_id":10183294,"display_name":"SVK"},"score":0,"creation_date":1611739871,"post_id":65910640,"comment_id":116544980,"body_markdown":"Could you please post your gradle files and also the error screenshot for us to review further.","body":"Could you please post your gradle files and also the error screenshot for us to review further."},{"owner":{"account_id":15533962,"reputation":174,"user_id":11846357,"display_name":"Abdulaziz Rasulbek"},"score":0,"creation_date":1611835873,"post_id":65910640,"comment_id":116581090,"body_markdown":"please update your kotlin version to 1.4.21","body":"please update your kotlin version to 1.4.21"}],"answers":[{"tags":[],"owner":{"account_id":17466626,"reputation":133,"user_id":12663246,"display_name":"YZN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612084677,"creation_date":1612084677,"answer_id":65977471,"question_id":65910640,"body_markdown":"try updating your kotlin version to \r\n\r\n&gt; 1.4.21","title":"I have problem with Gradle sync with Kotlin Android Studio 4","body":"<p>try updating your kotlin version to</p>\n<blockquote>\n<p>1.4.21</p>\n</blockquote>\n"}],"owner":{"account_id":20161420,"reputation":13,"user_id":14786394,"display_name":"bestdevelop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648547572,"creation_date":1611702840,"question_id":65910640,"body_markdown":"I When doing sync, I get this error\r\n\r\n**Could not GET &#39;https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-gradle-plugin/1.3.72/kotlin-gradle-plugin-1.3.72.pom&#39;. Received status code 403 from server: Forbidden\r\n**\r\n\r\nGradle 6.5\r\nAndroid Studio 4.1.2\r\nJDK 14.0.2\r\n\r\nUpdate : &quot;I Downloaded This File kotlin-gradle-plugin-1.3.72.pom But I dont know where i can save it ?&quot; ","title":"I have problem with Gradle sync with Kotlin Android Studio 4","body":"<p>I When doing sync, I get this error</p>\n<p>**Could not GET 'https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-gradle-plugin/1.3.72/kotlin-gradle-plugin-1.3.72.pom'. Received status code 403 from server: Forbidden\n**</p>\n<p>Gradle 6.5\nAndroid Studio 4.1.2\nJDK 14.0.2</p>\n<p>Update : &quot;I Downloaded This File kotlin-gradle-plugin-1.3.72.pom But I dont know where i can save it ?&quot;</p>\n"},{"tags":["java","spring","rest","sonarqube","spring-validation"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1648464572,"post_id":71639303,"comment_id":126622284,"body_markdown":"What is the message from SonarQube?","body":"What is the message from SonarQube?"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1648547434,"post_id":71639303,"comment_id":126645962,"body_markdown":"sonarqube issue - Change this code to not construct the path from user-controlled data","body":"sonarqube issue - Change this code to not construct the path from user-controlled data"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1648547589,"post_id":71639303,"comment_id":126646040,"body_markdown":"issue 1 - copying file is fixed. using FileUtils.directoryContains(File dir, File child). issue 2 is not fixed with the same logic.","body":"issue 1 - copying file is fixed. using FileUtils.directoryContains(File dir, File child). issue 2 is not fixed with the same logic."}],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648509049,"creation_date":1648509049,"answer_id":71654668,"question_id":71639303,"body_markdown":"I think we can surmise what the error message is actually saying.\r\n\r\nThe basic idea is that you are allowing the user to get the contents of any file reachable from the application, just by specifying the name of the file.  That is considered a security hole.\r\n\r\nIf you actually need to mitigate this, a possible strategy would be to use the input filename as a search string in a list of allowed file names to retrieve. If the filename is found in that list, use the filename from the list (not the value of the input parameter) as the file name to retrieve.\r\n\r\nIf there&#39;s no way for you to know what the allowed list of filenames is, which means you actually have to allow the insecure strategy that SonarQube is complaining about, then you have to decide whether you want to mitigate this security hole or simply ignore it, or perhaps mark it as a &quot;false positive&quot;.","title":"Fix user controlled data to construct path","body":"<p>I think we can surmise what the error message is actually saying.</p>\n<p>The basic idea is that you are allowing the user to get the contents of any file reachable from the application, just by specifying the name of the file.  That is considered a security hole.</p>\n<p>If you actually need to mitigate this, a possible strategy would be to use the input filename as a search string in a list of allowed file names to retrieve. If the filename is found in that list, use the filename from the list (not the value of the input parameter) as the file name to retrieve.</p>\n<p>If there's no way for you to know what the allowed list of filenames is, which means you actually have to allow the insecure strategy that SonarQube is complaining about, then you have to decide whether you want to mitigate this security hole or simply ignore it, or perhaps mark it as a &quot;false positive&quot;.</p>\n"}],"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648547499,"creation_date":1648406680,"question_id":71639303,"body_markdown":"I am getting blocker issue from sonarqube as I am using user controlled data to construct File path. I searched lot for the fix and found different solutions but no luck.\r\n\r\nCode:\r\n\r\n    @RequestMapping(value = &quot;/downloadImage&quot;, method = RequestMethod.GET)\r\n    \tpublic void downloadImages(@RequestParam(&quot;fileName&quot;) final String fileName, HttpServletResponse response)\r\n    \t\t\tthrows IOException {\r\n    \r\n    \t\tPath file = Paths.get(filePath, fileName);\r\n    \t\tPath pdffileName = file.getFileName();\r\n    \t\tif (file.toFile().exists()) {\r\n    \t\t//logic\r\n           Files.copy(file, response.getOutputStream()); //sonarqube blocker issue - 1\r\n           InputStream zipFile = new FileInputStream(\r\n\t\t\t\t\t\tnew File(URLDecoder.decode(tempPath + &quot;/&quot; + fileName, &quot;UTF-8&quot;))); //sonarqube blocker issue - 2\r\n    \t\t}\r\n    \t}\r\n\r\nfileName is the user controlled data. please suggest me to pass sonarqube. I need to pass filename as a parameter. Thank you.","title":"Fix user controlled data to construct path","body":"<p>I am getting blocker issue from sonarqube as I am using user controlled data to construct File path. I searched lot for the fix and found different solutions but no luck.</p>\n<p>Code:</p>\n<pre><code>@RequestMapping(value = &quot;/downloadImage&quot;, method = RequestMethod.GET)\n    public void downloadImages(@RequestParam(&quot;fileName&quot;) final String fileName, HttpServletResponse response)\n            throws IOException {\n\n        Path file = Paths.get(filePath, fileName);\n        Path pdffileName = file.getFileName();\n        if (file.toFile().exists()) {\n        //logic\n       Files.copy(file, response.getOutputStream()); //sonarqube blocker issue - 1\n       InputStream zipFile = new FileInputStream(\n                    new File(URLDecoder.decode(tempPath + &quot;/&quot; + fileName, &quot;UTF-8&quot;))); //sonarqube blocker issue - 2\n        }\n    }\n</code></pre>\n<p>fileName is the user controlled data. please suggest me to pass sonarqube. I need to pass filename as a parameter. Thank you.</p>\n"},{"tags":["java","android","android-intent","android-activity","visibility"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1647618578,"post_id":71517895,"comment_id":126423640,"body_markdown":"It isn&#39;t clear what you want to do. Are you talking about an `Activity` from another app, or an `Activity` from your own app? Can you provide more details? Just edit your question and add the relevant information, then we can help you better!","body":"It isn&#39;t clear what you want to do. Are you talking about an <code>Activity</code> from another app, or an <code>Activity</code> from your own app? Can you provide more details? Just edit your question and add the relevant information, then we can help you better!"},{"owner":{"account_id":24593211,"reputation":1,"user_id":18496779,"display_name":"Mhs Shohrawardy"},"score":0,"creation_date":1647787562,"post_id":71517895,"comment_id":126453853,"body_markdown":"suppose, I have taken a LinearLayout and its id is llGroceryVegetable and its java file name is MainActivity.java also I have taken a Second activity which LinearLayout id is llFreshVegetable. Now I want that when I will click on the second activity id llFreshVegetable then the MainActivity Layout id will be visible. So, what will be the functionality of this project?? pls help me... Thanks in advance.","body":"suppose, I have taken a LinearLayout and its id is llGroceryVegetable and its java file name is MainActivity.java also I have taken a Second activity which LinearLayout id is llFreshVegetable. Now I want that when I will click on the second activity id llFreshVegetable then the MainActivity Layout id will be visible. So, what will be the functionality of this project?? pls help me... Thanks in advance."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1647797987,"post_id":71517895,"comment_id":126456176,"body_markdown":"Is `SecondActivity` covering `MainActivity`? Does `MainActivity` launch `SecondActivity` and then, when the user clicks on something in `SecondActivity` it returns to `MainActivity`? Is that your architecture?","body":"Is <code>SecondActivity</code> covering <code>MainActivity</code>? Does <code>MainActivity</code> launch <code>SecondActivity</code> and then, when the user clicks on something in <code>SecondActivity</code> it returns to <code>MainActivity</code>? Is that your architecture?"},{"owner":{"account_id":24593211,"reputation":1,"user_id":18496779,"display_name":"Mhs Shohrawardy"},"score":0,"creation_date":1647852071,"post_id":71517895,"comment_id":126465961,"body_markdown":"not only returns to MainActivity but also a specific Linear Layout will be gone which ID I have mentioned in my previous comment.","body":"not only returns to MainActivity but also a specific Linear Layout will be gone which ID I have mentioned in my previous comment."}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647860158,"creation_date":1647860158,"answer_id":71556425,"question_id":71517895,"body_markdown":"Based on your comments (if I have understood correctly), `MainActivity` should launch `SecondActivity` using `startActivityForResult()`. `SecondActivity` will do whatever and when it is time to return to `MainActivity`, `SecondActivity` should return an `Intent` with some &quot;extras&quot; that `MainActivity` can use to determine what `View` or `Layout` to show/hide. To return the result, `SecondActivity` should call `setResult()`.\r\n\r\nIn `MainActivity`, implement `onActivityResult()`. This method will be called when `SecondActivity` finishes, and it will be called with the `Intent` that `SecondActivity` passed to `setResult()`. In `onActivityResult()` you can check the returned `Intent` for the &quot;extras&quot; and based on that information you can decide which `View` or `Layout` to hide/show.\r\n\r\nNote: If you don&#39;t need to use an `Intent` to pass the result back to `MainActivity`, you can just use the `resultCode`, which is in `int`. ","title":"How to invisible a Linier layout from other activity without using Intent?","body":"<p>Based on your comments (if I have understood correctly), <code>MainActivity</code> should launch <code>SecondActivity</code> using <code>startActivityForResult()</code>. <code>SecondActivity</code> will do whatever and when it is time to return to <code>MainActivity</code>, <code>SecondActivity</code> should return an <code>Intent</code> with some &quot;extras&quot; that <code>MainActivity</code> can use to determine what <code>View</code> or <code>Layout</code> to show/hide. To return the result, <code>SecondActivity</code> should call <code>setResult()</code>.</p>\n<p>In <code>MainActivity</code>, implement <code>onActivityResult()</code>. This method will be called when <code>SecondActivity</code> finishes, and it will be called with the <code>Intent</code> that <code>SecondActivity</code> passed to <code>setResult()</code>. In <code>onActivityResult()</code> you can check the returned <code>Intent</code> for the &quot;extras&quot; and based on that information you can decide which <code>View</code> or <code>Layout</code> to hide/show.</p>\n<p>Note: If you don't need to use an <code>Intent</code> to pass the result back to <code>MainActivity</code>, you can just use the <code>resultCode</code>, which is in <code>int</code>.</p>\n"}],"owner":{"account_id":24593211,"reputation":1,"user_id":18496779,"display_name":"Mhs Shohrawardy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648547317,"creation_date":1647544682,"question_id":71517895,"body_markdown":"I have given here details about my project and I want that when I will click on the Button it will go to the second activity and also it disappears from the second activity layout.\r\n\r\n\r\nButton btnClick;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnClick = findViewById(R.id.btnClick);\r\n\r\n        btnClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n                startActivity(intent);\r\n\r\n\r\n                MainActivity2.llOne.setVisibility(View.GONE);\r\n\r\n            }\r\n        });\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    public static LinearLayout llOne;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        llOne = findViewById(R.id.llOne);\r\n\r\n\r\n\r\n    }\r\n}","title":"How to invisible a Linier layout from other activity without using Intent?","body":"<p>I have given here details about my project and I want that when I will click on the Button it will go to the second activity and also it disappears from the second activity layout.</p>\n<p>Button btnClick;</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    btnClick = findViewById(R.id.btnClick);\n\n    btnClick.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n            startActivity(intent);\n\n\n            MainActivity2.llOne.setVisibility(View.GONE);\n\n        }\n    });\n</code></pre>\n<p>}\n}</p>\n<p>public class MainActivity2 extends AppCompatActivity {</p>\n<pre><code>public static LinearLayout llOne;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main2);\n\n    llOne = findViewById(R.id.llOne);\n\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","gitlab"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648546439,"post_id":71659586,"comment_id":126645556,"body_markdown":"Better use a repository manager instead of the gitlab repository...","body":"Better use a repository manager instead of the gitlab repository..."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1648546593,"post_id":71659586,"comment_id":126645624,"body_markdown":"Sorry, but that&#39;s not the question. At all, I only need 3-4 custom libraries to store in gitlab. Adding a custom repo manager is way over the top, if gitlab already supports this!","body":"Sorry, but that&#39;s not the question. At all, I only need 3-4 custom libraries to store in gitlab. Adding a custom repo manager is way over the top, if gitlab already supports this!"}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1648547171,"creation_date":1648547171,"answer_id":71659785,"question_id":71659586,"body_markdown":"The **Repository** section was not enabled for the project:\r\n\r\nSettings &gt; General &gt; Visibility, project features, permissions &gt; Packages &gt; Check!","title":"How to publish dependency to gitlab repository from CI/CD (403 Forbidden)?","body":"<p>The <strong>Repository</strong> section was not enabled for the project:</p>\n<p>Settings &gt; General &gt; Visibility, project features, permissions &gt; Packages &gt; Check!</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71659785,"answer_count":1,"score":1,"last_activity_date":1648547171,"creation_date":1648546216,"question_id":71659586,"body_markdown":"I&#39;m trying to public a test project to its repository, but receiving a `403 FORBIDDEN`. What could be the problem?\r\n\r\n`.gitlab-ci.yml`:\r\n\r\n    image: maven:3.8.4-eclipse-temurin-11\r\n    \r\n    deploy:\r\n      stage: deploy\r\n      script: mvn deploy -s ci_settings.xml\r\n\r\n`ci_settings.xml`:  \r\n\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n          &lt;configuration&gt;\r\n            &lt;httpHeaders&gt;\r\n              &lt;property&gt;\r\n                &lt;name&gt;Job-Token&lt;/name&gt;\r\n                &lt;value&gt;${CI_JOB_TOKEN}&lt;/value&gt;\r\n              &lt;/property&gt;\r\n            &lt;/httpHeaders&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\n`pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;my.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-commons&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n                &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n                &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n                &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    &lt;/project&gt;\r\n\r\nResult.\r\n\r\n&gt; [INFO] Uploading to gitlab-maven:\r\n&gt; https://my.company.com/api/v4/projects/295/packages/maven/com/example/my-test/1.0.0/my-commons-1.0.0.pom\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy\r\n&gt; (default-deploy) on project my-commons: Failed to deploy artifacts:\r\n&gt; Could not transfer artifact com.example:my-commons:jar:1.0.0 from/to\r\n&gt; gitlab-maven: authorization failed for\r\n&gt; https://my.company.com/api/v4/projects/295/packages/maven/com/example/my-test/1.0.0/my-commons-1.0.0.jar,\r\n&gt; status: 403 Forbidden -&gt; [Help 1]\r\n","title":"How to publish dependency to gitlab repository from CI/CD (403 Forbidden)?","body":"<p>I'm trying to public a test project to its repository, but receiving a <code>403 FORBIDDEN</code>. What could be the problem?</p>\n<p><code>.gitlab-ci.yml</code>:</p>\n<pre><code>image: maven:3.8.4-eclipse-temurin-11\n\ndeploy:\n  stage: deploy\n  script: mvn deploy -s ci_settings.xml\n</code></pre>\n<p><code>ci_settings.xml</code>:</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Job-Token&lt;/name&gt;\n            &lt;value&gt;${CI_JOB_TOKEN}&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;my.group&lt;/groupId&gt;\n    &lt;artifactId&gt;my-commons&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Result.</p>\n<blockquote>\n<p>[INFO] Uploading to gitlab-maven:\n<a href=\"https://my.company.com/api/v4/projects/295/packages/maven/com/example/my-test/1.0.0/my-commons-1.0.0.pom\" rel=\"nofollow noreferrer\">https://my.company.com/api/v4/projects/295/packages/maven/com/example/my-test/1.0.0/my-commons-1.0.0.pom</a></p>\n</blockquote>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-deploy-plugin:2.7:deploy\n(default-deploy) on project my-commons: Failed to deploy artifacts:\nCould not transfer artifact com.example:my-commons:jar:1.0.0 from/to\ngitlab-maven: authorization failed for\n<a href=\"https://my.company.com/api/v4/projects/295/packages/maven/com/example/my-test/1.0.0/my-commons-1.0.0.jar\" rel=\"nofollow noreferrer\">https://my.company.com/api/v4/projects/295/packages/maven/com/example/my-test/1.0.0/my-commons-1.0.0.jar</a>,\nstatus: 403 Forbidden -&gt; [Help 1]</p>\n</blockquote>\n"},{"tags":["java","java.util.scanner","subsequence"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1648544785,"post_id":71659244,"comment_id":126644876,"body_markdown":"What part are you struggling with ?","body":"What part are you struggling with ?"}],"answers":[{"tags":[],"owner":{"account_id":24529372,"reputation":320,"user_id":18441431,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648545253,"creation_date":1648545253,"answer_id":71659366,"question_id":71659244,"body_markdown":"This may be what you need\r\n\r\n    String str = &quot;ABCDBCD&quot;;\r\n    int substringSize = 3;\r\n    String substring;\r\n\r\n    for(int i=0; i&lt;str.length()-substringSize+1; i++){\r\n      substring = str.substring(i, i+substringSize);\r\n      System.out.println(substring);\r\n    }","title":"Subsequence words","body":"<p>This may be what you need</p>\n<pre><code>String str = &quot;ABCDBCD&quot;;\nint substringSize = 3;\nString substring;\n\nfor(int i=0; i&lt;str.length()-substringSize+1; i++){\n  substring = str.substring(i, i+substringSize);\n  System.out.println(substring);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24166355,"reputation":41,"user_id":18129130,"display_name":"Sai Hari Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648545693,"creation_date":1648545693,"answer_id":71659468,"question_id":71659244,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t    \r\n\t    String input = &quot;ABCDBCD&quot;;\r\n\t    \r\n\t    for(int i = 0 ; i &lt; input.length() ; i++) {\r\n\t             if(i &lt; input.length() - 2) {\r\n\t               String temp = input.substring(i,i+3);\r\n\t               System.out.println(temp);\r\n\t             }\r\n\t    }\r\n\t}\r\n}\r\n```","title":"Subsequence words","body":"<pre><code>import java.util.*;\n\npublic class Main\n{\n    public static void main(String[] args) {\n        \n        String input = &quot;ABCDBCD&quot;;\n        \n        for(int i = 0 ; i &lt; input.length() ; i++) {\n                 if(i &lt; input.length() - 2) {\n                   String temp = input.substring(i,i+3);\n                   System.out.println(temp);\n                 }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648545731,"creation_date":1648545731,"answer_id":71659477,"question_id":71659244,"body_markdown":"With a minor changes of your code:\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        Scanner scanner = new Scanner(new File(&quot;C:\\\\Users\\\\Public\\\\File1.txt&quot;));\r\n        String currentLine, subString;\r\n        int subSize = 3;\r\n    \r\n        while (scanner.hasNextLine()) {\r\n            currentLine = scanner.nextLine();\r\n            currentLine = currentLine.trim();\r\n    \r\n            if (currentLine.length() &lt; subSize) {\r\n                break;\r\n            }\r\n    \r\n            for (int i = 0; i + subSize &lt;= currentLine.length(); i++) {\r\n    \r\n                subString = currentLine.substring(i, i + subSize);\r\n                System.out.print(subString + &quot; &quot;);\r\n            }\r\n    \r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    \r\n        scanner.close();\r\n    }\r\n\r\n","title":"Subsequence words","body":"<p>With a minor changes of your code:</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n    Scanner scanner = new Scanner(new File(&quot;C:\\\\Users\\\\Public\\\\File1.txt&quot;));\n    String currentLine, subString;\n    int subSize = 3;\n\n    while (scanner.hasNextLine()) {\n        currentLine = scanner.nextLine();\n        currentLine = currentLine.trim();\n\n        if (currentLine.length() &lt; subSize) {\n            break;\n        }\n\n        for (int i = 0; i + subSize &lt;= currentLine.length(); i++) {\n\n            subString = currentLine.substring(i, i + subSize);\n            System.out.print(subString + &quot; &quot;);\n        }\n\n        System.out.print(&quot;\\n&quot;);\n    }\n\n    scanner.close();\n}\n</code></pre>\n"}],"owner":{"account_id":22768668,"reputation":55,"user_id":16926383,"display_name":"victorialangoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71659477,"answer_count":3,"score":0,"last_activity_date":1648547067,"creation_date":1648544645,"question_id":71659244,"body_markdown":"Suppose this is my .txt file ABCDBCD and I want to use .substring to get this:\r\nABC BCD CDB DBC BCD\r\n\r\nHow can I achieve this? I also need to stop the program if a line is shorter than 3 characters.\r\n\r\n    static void lesFil(String fil, subsekvens allHashMapSubsequences) throws FileNotFoundException{\r\n        Scanner scanner = new Scanner(new File(&quot;File1.txt&quot;));\r\n        String currentLine, subString;\r\n\r\n        \r\n        \r\n\r\n            while(scanner.hasNextLine()){\r\n                currentLine = scanner.nextLine();\r\n                currentLine = currentLine.trim();\r\n\r\n                for (int i = 0; i +  subSize &lt;= currentLine.length(); i++){\r\n        \r\n                    subString = currentLinje.substring(i, i + subSize);\r\n                    subSekStr.putIfAbsent(subString, new subsequence(subString));\r\n                }\r\n            }\r\n        \r\n       \r\n\r\n        scanner.close();","title":"Subsequence words","body":"<p>Suppose this is my .txt file ABCDBCD and I want to use .substring to get this:\nABC BCD CDB DBC BCD</p>\n<p>How can I achieve this? I also need to stop the program if a line is shorter than 3 characters.</p>\n<pre><code>static void lesFil(String fil, subsekvens allHashMapSubsequences) throws FileNotFoundException{\n    Scanner scanner = new Scanner(new File(&quot;File1.txt&quot;));\n    String currentLine, subString;\n\n    \n    \n\n        while(scanner.hasNextLine()){\n            currentLine = scanner.nextLine();\n            currentLine = currentLine.trim();\n\n            for (int i = 0; i +  subSize &lt;= currentLine.length(); i++){\n    \n                subString = currentLinje.substring(i, i + subSize);\n                subSekStr.putIfAbsent(subString, new subsequence(subString));\n            }\n        }\n    \n   \n\n    scanner.close();\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":20501264,"reputation":47,"user_id":15045151,"display_name":"Deni Bakuli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648546934,"creation_date":1648546934,"answer_id":71659740,"question_id":71635108,"body_markdown":"It was my mistake because I had a list in my projection model and with that automatically another table is created because you can&#39;t have a list. I got confused because the name of the created table of the same of the one that I previously deleted.","title":"Hibernate creating a table that doesn&#39;t exist","body":"<p>It was my mistake because I had a list in my projection model and with that automatically another table is created because you can't have a list. I got confused because the name of the created table of the same of the one that I previously deleted.</p>\n"}],"owner":{"account_id":20501264,"reputation":47,"user_id":15045151,"display_name":"Deni Bakuli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71659740,"answer_count":1,"score":0,"last_activity_date":1648546934,"creation_date":1648372996,"question_id":71635108,"body_markdown":"I am working with intelij, java, spring and hiberante to create tables in my mysql database. My code executes without a problem but for some reason hibernate creates a table I deleted. The table connected two entities with many to many relation with a composite key. One entity was deleted and so the composite key table was also deleted because it was no longer needed. I updated the other table so there is no leftover connections. I tried changing hibernates ddl-auto from update to create. It drops all and creates all with that table that doesn&#39;t exist. I also droped the whole schema in mysql workbench multiple times. I am assuming there is some leftover data somewhere in hibernate but I cannot find it especially since the same code works on another computer where it doesn&#39;t create the deleted table.\r\n\r\nTis is the hibernate part from my application properties:\r\n\r\n    # Hibernate properties\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\nBelow is the entity that I didn&#39;t delete that was connected to the projection_seat_list which doesn&#39;t exist anymore as well as the seat entity:\r\n\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;projections&quot;)\r\n    public class Projection {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private int projectionId;\r\n    \r\n        @Column(name = &quot;date&quot;)\r\n        private String date;\r\n    \r\n        @Column(name = &quot;startTime&quot;)\r\n        private String startTime;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;idHall&quot;)\r\n        private Hall hall;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;idMovie&quot;)\r\n        private Movie movie;\r\n    \r\n        @Column(name = &quot;seatList&quot;)\r\n        @ElementCollection\r\n        private List&lt;Integer&gt; seatList;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;projection&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Ticket&gt; ticketList;\r\n    \r\n    }\r\n\r\n    This is the part of the output code regarding the problem when app is executed:\r\n    \r\n    Hibernate: drop table if exists `projection_seat_list`\r\n    Hibernate: drop table if exists `projections`\r\n    \r\n    Hibernate: create table `projection_seat_list` (`projection_id` integer not null, `seat_list` integer) engine=MyISAM\r\n    \r\n    Hibernate: create table `projections` (`id` integer not null, `date` varchar(255), `start_time` varchar(255), `id_hall` integer, `id_movie` integer, primary key (`id`)) engine=MyISAM\r\n    \r\n    \r\n    Hibernate: alter table `projection_seat_list` add constraint `FK8rkfyw0lua4jjaamrw3kl3llo` foreign key (`projection_id`) references `projections` (`id`)\r\n\r\nHere is my whole code on github if you&#39;d like to see the structure:\r\n\r\nhttps://github.com/denibakulic/Java.git","title":"Hibernate creating a table that doesn&#39;t exist","body":"<p>I am working with intelij, java, spring and hiberante to create tables in my mysql database. My code executes without a problem but for some reason hibernate creates a table I deleted. The table connected two entities with many to many relation with a composite key. One entity was deleted and so the composite key table was also deleted because it was no longer needed. I updated the other table so there is no leftover connections. I tried changing hibernates ddl-auto from update to create. It drops all and creates all with that table that doesn't exist. I also droped the whole schema in mysql workbench multiple times. I am assuming there is some leftover data somewhere in hibernate but I cannot find it especially since the same code works on another computer where it doesn't create the deleted table.</p>\n<p>Tis is the hibernate part from my application properties:</p>\n<pre><code># Hibernate properties\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>Below is the entity that I didn't delete that was connected to the projection_seat_list which doesn't exist anymore as well as the seat entity:</p>\n<pre><code>@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;projections&quot;)\npublic class Projection {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private int projectionId;\n\n    @Column(name = &quot;date&quot;)\n    private String date;\n\n    @Column(name = &quot;startTime&quot;)\n    private String startTime;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;idHall&quot;)\n    private Hall hall;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;idMovie&quot;)\n    private Movie movie;\n\n    @Column(name = &quot;seatList&quot;)\n    @ElementCollection\n    private List&lt;Integer&gt; seatList;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;projection&quot;, cascade = CascadeType.ALL)\n    private List&lt;Ticket&gt; ticketList;\n\n}\n\nThis is the part of the output code regarding the problem when app is executed:\n\nHibernate: drop table if exists `projection_seat_list`\nHibernate: drop table if exists `projections`\n\nHibernate: create table `projection_seat_list` (`projection_id` integer not null, `seat_list` integer) engine=MyISAM\n\nHibernate: create table `projections` (`id` integer not null, `date` varchar(255), `start_time` varchar(255), `id_hall` integer, `id_movie` integer, primary key (`id`)) engine=MyISAM\n\n\nHibernate: alter table `projection_seat_list` add constraint `FK8rkfyw0lua4jjaamrw3kl3llo` foreign key (`projection_id`) references `projections` (`id`)\n</code></pre>\n<p>Here is my whole code on github if you'd like to see the structure:</p>\n<p><a href=\"https://github.com/denibakulic/Java.git\" rel=\"nofollow noreferrer\">https://github.com/denibakulic/Java.git</a></p>\n"},{"tags":["java","stream","beanshell","sailpoint"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1625883549,"creation_date":1625840441,"answer_id":68318352,"question_id":68317012,"body_markdown":"Java 8+ Streams *per se* are actually &quot;just&quot; a bunch of Java library classes.\r\n\r\nWhat you are *really* asking here is whether BeanShell supports the following Java language features which are needed for writing idiomatic Java code that uses Streams:\r\n\r\n  - generic types from Java 5, \r\n  - lambdas and type inference from Java 8.  \r\n\r\nAs far as I can tell, the answer is &quot;No&quot; to all of those.  Generic types are on the roadmap for BeanShell 3.0 (see https://github.com/beanshell/beanshell#development-road-map), but lambdas and type inference are not mentioned.\r\n\r\n------------------------\r\n\r\nIf you want an interactive Java REPL that supports all of the Java language, you might do better looking at &quot;jshell&quot; which is part of standard Java SE from Java 9 onwards.  Apparently it can be embedded ...\r\n","title":"Does Beanshell supports java 8 streams?","body":"<p>Java 8+ Streams <em>per se</em> are actually &quot;just&quot; a bunch of Java library classes.</p>\n<p>What you are <em>really</em> asking here is whether BeanShell supports the following Java language features which are needed for writing idiomatic Java code that uses Streams:</p>\n<ul>\n<li>generic types from Java 5,</li>\n<li>lambdas and type inference from Java 8.</li>\n</ul>\n<p>As far as I can tell, the answer is &quot;No&quot; to all of those.  Generic types are on the roadmap for BeanShell 3.0 (see <a href=\"https://github.com/beanshell/beanshell#development-road-map\" rel=\"nofollow noreferrer\">https://github.com/beanshell/beanshell#development-road-map</a>), but lambdas and type inference are not mentioned.</p>\n<hr />\n<p>If you want an interactive Java REPL that supports all of the Java language, you might do better looking at &quot;jshell&quot; which is part of standard Java SE from Java 9 onwards.  Apparently it can be embedded ...</p>\n"},{"tags":[],"owner":{"account_id":20454171,"reputation":485,"user_id":15008233,"display_name":"shikida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626205847,"creation_date":1626205847,"answer_id":68368587,"question_id":68317012,"body_markdown":"Sailpoint IIQ 8.1 uses Bsh 2.1.8 jar, which was the beanshell released in Feb 2014 at the old beanshell repo at https://code.google.com/archive/p/beanshell2/ - this is what is known as &quot;Beanshell2&quot;\r\n\r\nNowadays, the official beanshell home is at https://github.com/beanshell/beanshell/releases and the latest release is 2.1.0 (don&#39;t ask me why), released in Dec 2020.\r\n\r\nJava Streams were introduced to the Java language in Java 8, which was released in Mar 2014, after Bsh 2.1.8 was released.\r\n\r\nSo the answer is, no, Sailpoint IIQ currently has no support to Java Streams in its beanshell code. \r\n\r\nHowever, you can still encapsulate Java streams into some jar and your beanshell code will be able to access methods that use that jar, as it currently does with all jars in the IIQ web application. Of course, the drawback is that it&#39;s not possible to dynamically change your IIQ rule code.\r\n\r\nIn Jul 2021, Sailpoint has released IIQ 8.2 and this very latest version still uses the same Bsh 2.1.8 jar.","title":"Does Beanshell supports java 8 streams?","body":"<p>Sailpoint IIQ 8.1 uses Bsh 2.1.8 jar, which was the beanshell released in Feb 2014 at the old beanshell repo at <a href=\"https://code.google.com/archive/p/beanshell2/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/beanshell2/</a> - this is what is known as &quot;Beanshell2&quot;</p>\n<p>Nowadays, the official beanshell home is at <a href=\"https://github.com/beanshell/beanshell/releases\" rel=\"nofollow noreferrer\">https://github.com/beanshell/beanshell/releases</a> and the latest release is 2.1.0 (don't ask me why), released in Dec 2020.</p>\n<p>Java Streams were introduced to the Java language in Java 8, which was released in Mar 2014, after Bsh 2.1.8 was released.</p>\n<p>So the answer is, no, Sailpoint IIQ currently has no support to Java Streams in its beanshell code.</p>\n<p>However, you can still encapsulate Java streams into some jar and your beanshell code will be able to access methods that use that jar, as it currently does with all jars in the IIQ web application. Of course, the drawback is that it's not possible to dynamically change your IIQ rule code.</p>\n<p>In Jul 2021, Sailpoint has released IIQ 8.2 and this very latest version still uses the same Bsh 2.1.8 jar.</p>\n"}],"owner":{"account_id":22154097,"reputation":23,"user_id":16402140,"display_name":"tinku_jai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68318352,"answer_count":2,"score":2,"last_activity_date":1648546914,"creation_date":1625834570,"question_id":68317012,"body_markdown":"When trying to execute below snippet where iterating values of Map&lt;String,List&gt; , it is throwing beanshell parse exception at symbol &gt; . Any solution I could get to resolve this one?\r\n\r\n    map.entrySet().stream().forEach(map -&gt; {\r\n        if (map.getValue().stream().anyMatch(s -&gt; groupDN.startsWith(s.toUpperCase()))) {\r\n            return &quot;DONE&quot;;\r\n        }\r\n        ;\r\n    });\r\nException running rule: BeanShell script error: bsh.ParseException: Parse error at line 30, column 22. Encountered: &gt; BSF info: Test_RO at line: 0 column: columnNo","title":"Does Beanshell supports java 8 streams?","body":"<p>When trying to execute below snippet where iterating values of Map&lt;String,List&gt; , it is throwing beanshell parse exception at symbol &gt; . Any solution I could get to resolve this one?</p>\n<pre><code>map.entrySet().stream().forEach(map -&gt; {\n    if (map.getValue().stream().anyMatch(s -&gt; groupDN.startsWith(s.toUpperCase()))) {\n        return &quot;DONE&quot;;\n    }\n    ;\n});\n</code></pre>\n<p>Exception running rule: BeanShell script error: bsh.ParseException: Parse error at line 30, column 22. Encountered: &gt; BSF info: Test_RO at line: 0 column: columnNo</p>\n"},{"tags":["java","regex","validation"],"answers":[{"tags":[],"owner":{"account_id":1101107,"reputation":5783,"user_id":1093486,"accept_rate":31,"display_name":"Raheel Hasan"},"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1365078390,"creation_date":1365062506,"answer_id":15805627,"question_id":15805555,"body_markdown":"try this regex (allowing Alphabets, Dots, Spaces):\r\n\r\n    &quot;^[A-Za-z\\s]{1,}[\\.]{0,1}[A-Za-z\\s]{0,}$&quot; //regular\r\n    &quot;^\\pL+[\\pL\\pZ\\pP]{0,}$&quot; //unicode\r\n\r\nThis will also ensure DOT never comes at the start of the name.","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>try this regex (allowing Alphabets, Dots, Spaces):</p>\n\n<pre><code>\"^[A-Za-z\\s]{1,}[\\.]{0,1}[A-Za-z\\s]{0,}$\" //regular\n\"^\\pL+[\\pL\\pZ\\pP]{0,}$\" //unicode\n</code></pre>\n\n<p>This will also ensure DOT never comes at the start of the name.</p>\n"},{"tags":[],"owner":{"account_id":312289,"reputation":90997,"user_id":626273,"accept_rate":92,"display_name":"stema"},"down_vote_count":1,"up_vote_count":109,"is_accepted":true,"score":108,"last_activity_date":1365063968,"creation_date":1365063968,"answer_id":15806080,"question_id":15805555,"body_markdown":"What about:\r\n\r\n- Peter M&#252;ller  \r\n- Fran&#231;ois Hollande  \r\n- Patrick O&#39;Brian  \r\n- Silvana Koch-Mehrin\r\n\r\nValidating names is a difficult issue, because valid names are not only consisting of the letters A-Z.\r\n\r\nAt least you should use the Unicode property for letters and add more special characters. A first approach could be e.g.:\r\n\r\n    String regx = &quot;^[\\\\p{L} .&#39;-]+$&quot;;\r\n\r\n`\\\\p{L}` is a [Unicode Character Property][1] that matches any kind of letter from any language\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/unicode.html#prop","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>What about:</p>\n\n<ul>\n<li>Peter Mller  </li>\n<li>Franois Hollande  </li>\n<li>Patrick O'Brian  </li>\n<li>Silvana Koch-Mehrin</li>\n</ul>\n\n<p>Validating names is a difficult issue, because valid names are not only consisting of the letters A-Z.</p>\n\n<p>At least you should use the Unicode property for letters and add more special characters. A first approach could be e.g.:</p>\n\n<pre><code>String regx = \"^[\\\\p{L} .'-]+$\";\n</code></pre>\n\n<p><code>\\\\p{L}</code> is a <a href=\"http://www.regular-expressions.info/unicode.html#prop\" rel=\"noreferrer\">Unicode Character Property</a> that matches any kind of letter from any language</p>\n"},{"tags":[],"owner":{"account_id":1822557,"reputation":3265,"user_id":1656244,"display_name":"Krishnakant Kadam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386828224,"creation_date":1386828224,"answer_id":20536168,"question_id":15805555,"body_markdown":" **Accept only character with space :-** \r\n\r\n\r\n     if (!(Pattern.matches(&quot;^[\\\\p{L} .&#39;-]+$&quot;, name.getText()))) {\r\n        JOptionPane.showMessageDialog(null, &quot;Please enter a valid character&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        name.setFocusable(true);\r\n        }  ","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p><strong>Accept only character with space :-</strong> </p>\n\n<pre><code> if (!(Pattern.matches(\"^[\\\\p{L} .'-]+$\", name.getText()))) {\n    JOptionPane.showMessageDialog(null, \"Please enter a valid character\", \"Error\", JOptionPane.ERROR_MESSAGE);\n    name.setFocusable(true);\n    }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4046835,"reputation":161,"user_id":3327814,"display_name":"Ziza"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1395156746,"creation_date":1395156746,"answer_id":22483933,"question_id":15805555,"body_markdown":"For those who use java/android and struggle with this matter try:\r\n\r\n    &quot;^\\\\p{L}+[\\\\p{L}\\\\p{Z}\\\\p{P}]{0,}&quot;\r\n\r\nThis works with names like \r\n\r\n - Jos&#233; Bras&#227;o","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>For those who use java/android and struggle with this matter try:</p>\n\n<pre><code>\"^\\\\p{L}+[\\\\p{L}\\\\p{Z}\\\\p{P}]{0,}\"\n</code></pre>\n\n<p>This works with names like </p>\n\n<ul>\n<li>Jos Braso</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5453139,"reputation":131,"user_id":4337369,"display_name":"Rahul Sahay"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1418044709,"creation_date":1418043620,"answer_id":27358606,"question_id":15805555,"body_markdown":"You could even try this expression `^[a-zA-Z\\\\s]*$` for checking a string with only letters and spaces (nothing else).\r\n\r\nFor me it worked. Hope it works for you as well.\r\n\r\nOr go through this piece of code once:\r\n\r\n        CharSequence inputStr = expression;\r\n        Pattern pattern = Pattern.compile(new String (&quot;^[a-zA-Z\\\\s]*$&quot;));\r\n        Matcher matcher = pattern.matcher(inputStr);\r\n        if(matcher.matches())\r\n        {\r\n             //if pattern matches\r\n        }\r\n        else\r\n        {\r\n             //if pattern does not matches\r\n        }","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>You could even try this expression <code>^[a-zA-Z\\\\s]*$</code> for checking a string with only letters and spaces (nothing else).</p>\n\n<p>For me it worked. Hope it works for you as well.</p>\n\n<p>Or go through this piece of code once:</p>\n\n<pre><code>    CharSequence inputStr = expression;\n    Pattern pattern = Pattern.compile(new String (\"^[a-zA-Z\\\\s]*$\"));\n    Matcher matcher = pattern.matcher(inputStr);\n    if(matcher.matches())\n    {\n         //if pattern matches\n    }\n    else\n    {\n         //if pattern does not matches\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6062890,"reputation":1729,"user_id":4734164,"accept_rate":60,"display_name":"Jaydeep Patel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521175735,"creation_date":1446803879,"answer_id":33564029,"question_id":15805555,"body_markdown":"please try this regex (allow only Alphabets and space)\r\n\r\n&gt; &quot;[a-zA-Z][a-zA-Z ]*&quot;\r\n\r\nif you want it for IOS then,\r\n\r\n    NSString *yourstring = @&quot;hello&quot;;\r\n    \r\n    NSString *Regex = @&quot;[a-zA-Z][a-zA-Z ]*&quot;;\r\n    NSPredicate *TestResult = [NSPredicate predicateWithFormat:@&quot;SELF MATCHES %@&quot;,Regex];\r\n    \r\n    if ([TestResult evaluateWithObject:yourstring] == true)\r\n    {\r\n        // validation passed\r\n    }\r\n    else\r\n    {\r\n        // invalid name\r\n    }\r\n","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>please try this regex (allow only Alphabets and space)</p>\n\n<blockquote>\n  <p>\"[a-zA-Z][a-zA-Z ]*\"</p>\n</blockquote>\n\n<p>if you want it for IOS then,</p>\n\n<pre><code>NSString *yourstring = @\"hello\";\n\nNSString *Regex = @\"[a-zA-Z][a-zA-Z ]*\";\nNSPredicate *TestResult = [NSPredicate predicateWithFormat:@\"SELF MATCHES %@\",Regex];\n\nif ([TestResult evaluateWithObject:yourstring] == true)\n{\n    // validation passed\n}\nelse\n{\n    // invalid name\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6837559,"reputation":179,"user_id":5258913,"display_name":"Vijay Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450773141,"creation_date":1450771129,"answer_id":34411000,"question_id":15805555,"body_markdown":"To validate for only letters and spaces, try this\r\n\r\n    String name1_exp = &quot;^[a-zA-Z]+[\\-&#39;\\s]?[a-zA-Z ]+$&quot;;\r\n","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>To validate for only letters and spaces, try this</p>\n\n<pre><code>String name1_exp = \"^[a-zA-Z]+[\\-'\\s]?[a-zA-Z ]+$\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368068,"reputation":3372,"user_id":2828087,"display_name":"Rahul Raina"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474630566,"creation_date":1474630566,"answer_id":39659822,"question_id":15805555,"body_markdown":"**Regex pattern for matching only alphabets and white spaces:**    \r\n\r\n    String regexUserName = &quot;^[A-Za-z\\\\s]+$&quot;;","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p><strong>Regex pattern for matching only alphabets and white spaces:</strong>    </p>\n\n<pre><code>String regexUserName = \"^[A-Za-z\\\\s]+$\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9870576,"reputation":126,"user_id":7310383,"display_name":"Sokunthaneth Chhoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518150864,"creation_date":1518150864,"answer_id":48698782,"question_id":15805555,"body_markdown":" @amal. This code will match your requirement. Only letter and space in between will be allow, no number. The text begin with any letter and could have space in between only. &quot;^&quot; denotes the beginning of the line and &quot;$&quot; denotes end of the line.\r\n\r\n    public static boolean validateLetters(String txt) {\r\n    \r\n        String regx = &quot;^[a-zA-Z ]+$&quot;;\r\n        Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(txt);\r\n        return matcher.find();\r\n    \r\n    }","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>@amal. This code will match your requirement. Only letter and space in between will be allow, no number. The text begin with any letter and could have space in between only. \"^\" denotes the beginning of the line and \"$\" denotes end of the line.</p>\n\n<pre><code>public static boolean validateLetters(String txt) {\n\n    String regx = \"^[a-zA-Z ]+$\";\n    Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(txt);\n    return matcher.find();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6845124,"reputation":113,"user_id":5264169,"display_name":"Nick Sikrier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518438040,"creation_date":1518436096,"answer_id":48745806,"question_id":15805555,"body_markdown":"My personal choice is:\r\n`^\\p{L}+[\\p{L}\\p{Pd}\\p{Zs}&#39;]*\\p{L}+$|^\\p{L}+$`, Where:\r\n\r\n`^\\p{L}+` - It should start with 1 or more letters.\r\n\r\n`[\\p{Pd}\\p{Zs}&#39;\\p{L}]*` - It can have letters, space character (including invisible), dash or hyphen characters and &#39; in any order 0 or more times.\r\n\r\n`\\p{L}+$` - It should finish with 1 or more letters.\r\n\r\n`|^\\p{L}+$` - Or it just should contain 1 or more letters (It is done to support single letter names).\r\n\r\nSupport for dots (full stops) was dropped, as in British English it can be dropped in Mr or Mrs, for example.\r\n","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>My personal choice is:\n<code>^\\p{L}+[\\p{L}\\p{Pd}\\p{Zs}']*\\p{L}+$|^\\p{L}+$</code>, Where:</p>\n\n<p><code>^\\p{L}+</code> - It should start with 1 or more letters.</p>\n\n<p><code>[\\p{Pd}\\p{Zs}'\\p{L}]*</code> - It can have letters, space character (including invisible), dash or hyphen characters and ' in any order 0 or more times.</p>\n\n<p><code>\\p{L}+$</code> - It should finish with 1 or more letters.</p>\n\n<p><code>|^\\p{L}+$</code> - Or it just should contain 1 or more letters (It is done to support single letter names).</p>\n\n<p>Support for dots (full stops) was dropped, as in British English it can be dropped in Mr or Mrs, for example.</p>\n"},{"tags":[],"owner":{"account_id":8698707,"reputation":3389,"user_id":6509321,"display_name":"Purkhalo Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522056724,"creation_date":1522056178,"answer_id":49487986,"question_id":15805555,"body_markdown":"Validates such values as:\r\n***&quot;&quot;, &quot;FIR&quot;, &quot;FIR &quot;, &quot;FIR LAST&quot;***\r\n\r\n    /^[A-z]*$|^[A-z]+\\s[A-z]*$/\r\n    \r\n\r\n\r\n","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>Validates such values as:\n<strong><em>\"\", \"FIR\", \"FIR \", \"FIR LAST\"</em></strong></p>\n\n<pre><code>/^[A-z]*$|^[A-z]+\\s[A-z]*$/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14336993,"reputation":7,"user_id":10356146,"display_name":"M Manzar AbBas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537014972,"creation_date":1537013718,"answer_id":52344602,"question_id":15805555,"body_markdown":"check this out.\r\n\r\n    String name validation only accept alphabets and spaces\r\n    public static boolean validateLetters(String txt) {\r\n    \r\n        String regx = &quot;^[a-zA-Z\\\\s]+$&quot;;\r\n        Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(txt);\r\n        return matcher.find();\r\n    \r\n    }","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>check this out.</p>\n\n<pre><code>String name validation only accept alphabets and spaces\npublic static boolean validateLetters(String txt) {\n\n    String regx = \"^[a-zA-Z\\\\s]+$\";\n    Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(txt);\n    return matcher.find();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3322110,"reputation":3070,"user_id":2793036,"accept_rate":78,"display_name":"Rishabh876"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563185053,"creation_date":1563185053,"answer_id":57037472,"question_id":15805555,"body_markdown":"To support language like Hindi which can contain /p{Mark} as well in between language characters.\r\nMy solution is `^[\\p{L}\\p{M}]+([\\p{L}\\p{Pd}\\p{Zs}&#39;.]*[\\p{L}\\p{M}])+$|^[\\p{L}\\p{M}]+$`\r\n\r\nYou can find all the test cases for this here \r\nhttps://regex101.com/r/3XPOea/1/tests","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>To support language like Hindi which can contain /p{Mark} as well in between language characters.\nMy solution is <code>^[\\p{L}\\p{M}]+([\\p{L}\\p{Pd}\\p{Zs}'.]*[\\p{L}\\p{M}])+$|^[\\p{L}\\p{M}]+$</code></p>\n\n<p>You can find all the test cases for this here \n<a href=\"https://regex101.com/r/3XPOea/1/tests\" rel=\"nofollow noreferrer\">https://regex101.com/r/3XPOea/1/tests</a></p>\n"},{"tags":[],"owner":{"account_id":11934265,"reputation":1,"user_id":8733323,"display_name":"Md Rashad Tanjim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608012345,"creation_date":1608012345,"answer_id":65300802,"question_id":15805555,"body_markdown":"Try with this:\r\n\r\n    public static boolean userNameValidation(String name){\r\n\r\n    return name.matches(&quot;(?i)(^[a-z])((?![? .,&#39;-]$)[ .]?[a-z]){3,24}$&quot;);\r\n    }","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>Try with this:</p>\n<pre><code>public static boolean userNameValidation(String name){\n\nreturn name.matches(&quot;(?i)(^[a-z])((?![? .,'-]$)[ .]?[a-z]){3,24}$&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12669248,"reputation":1,"user_id":14540372,"display_name":"Saad Siddiqui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648546814,"creation_date":1648533814,"answer_id":71657169,"question_id":15805555,"body_markdown":"For Java, you can use below for Name validation which uses Alpha (Letters) + Spaces (Blanks or tabs)\r\n\r\n```Java\r\n&quot;[^\\\\\\p{Alpha}\\\\\\p{Blank}]&quot;\r\n```\r\n\r\nCan get a [reference from Wikipedia][1] for ASCII values also.\r\n\r\n[1]:https://en.wikipedia.org/wiki/Regular_expression#:~:text=A%20regex%20pattern%20matches%20a,require%20using%20(%20)%20as%20metacharacters.","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>For Java, you can use below for Name validation which uses Alpha (Letters) + Spaces (Blanks or tabs)</p>\n<pre><code>&quot;[^\\\\\\p{Alpha}\\\\\\p{Blank}]&quot;\n</code></pre>\n<p>Can get a <a href=\"https://en.wikipedia.org/wiki/Regular_expression#:%7E:text=A%20regex%20pattern%20matches%20a,require%20using%20(%20)%20as%20metacharacters.\" rel=\"nofollow noreferrer\">reference from Wikipedia</a> for ASCII values also.</p>\n"}],"owner":{"account_id":2316416,"reputation":3490,"user_id":2033382,"accept_rate":78,"display_name":"amal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204482,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":15806080,"answer_count":15,"score":42,"last_activity_date":1648546814,"creation_date":1365062277,"question_id":15805555,"body_markdown":"I want regex to validate for only letters and spaces. Basically this is to validate full name.  Ex: **Mr Steve Collins or Steve Collins**  I tried this regex.  &quot;[a-zA-Z]+\\\\.?&quot; But didnt work. Can someone assist me please \r\np.s. I use Java. \r\n\r\n    public static boolean validateLetters(String txt) {\r\n\r\n        String regx = &quot;[a-zA-Z]+\\\\.?&quot;;\r\n        Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(txt);\r\n        return matcher.find();\r\n\r\n    }","title":"Java Regex to Validate Full Name allow only Spaces and Letters","body":"<p>I want regex to validate for only letters and spaces. Basically this is to validate full name.  Ex: <strong>Mr Steve Collins or Steve Collins</strong>  I tried this regex.  \"[a-zA-Z]+\\.?\" But didnt work. Can someone assist me please \np.s. I use Java. </p>\n\n<pre><code>public static boolean validateLetters(String txt) {\n\n    String regx = \"[a-zA-Z]+\\\\.?\";\n    Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(txt);\n    return matcher.find();\n\n}\n</code></pre>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1648545603,"post_id":71659430,"comment_id":126645211,"body_markdown":"Your class should have the same name as the Java file.","body":"Your class should have the same name as the Java file."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1648545835,"post_id":71659430,"comment_id":126645310,"body_markdown":"After you edited the code in your question, does the problem still persist?","body":"After you edited the code in your question, does the problem still persist?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648546428,"post_id":71659430,"comment_id":126645550,"body_markdown":"You need to compile your source file and put the resulting MyTest.class file in the jar.","body":"You need to compile your source file and put the resulting MyTest.class file in the jar."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648561831,"post_id":71659430,"comment_id":126652017,"body_markdown":"You need to add `MyTest.class` to the JAR (after compiling `MyTest.java`), not `MyTest.java`.","body":"You need to add <code>MyTest.class</code> to the JAR (after compiling <code>MyTest.java</code>), not <code>MyTest.java</code>."},{"owner":{"account_id":18084692,"reputation":15,"user_id":13145909,"display_name":"nsh"},"score":0,"creation_date":1648569169,"post_id":71659430,"comment_id":126655480,"body_markdown":"@QBrute yes it still remains","body":"@QBrute yes it still remains"},{"owner":{"account_id":18084692,"reputation":15,"user_id":13145909,"display_name":"nsh"},"score":0,"creation_date":1648569324,"post_id":71659430,"comment_id":126655526,"body_markdown":"@MarkRotteveel Thanks, yes that was the problem! I should have first compiled the java code using &quot;javac Test.java&quot;","body":"@MarkRotteveel Thanks, yes that was the problem! I should have first compiled the java code using &quot;javac Test.java&quot;"}],"answers":[{"tags":[],"owner":{"account_id":24513695,"reputation":23,"user_id":18428237,"display_name":"DamianRafalES"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648546733,"creation_date":1648546733,"answer_id":71659691,"question_id":71659430,"body_markdown":"This problem can be due a lot of causes.I have had it many times , most of the time it is because your classpath has non-english characters or spaces.\r\nTry to change your project to other directory.\r\nOn the other hand if you use eclipse you may have more than one main and there are problems with that.\r\n\r\nIf you try what I have told you and still the problem persists, it will be a problem with the command.\r\n\r\nGood luck.\r\n\r\n","title":"Could not find or load main class Test Caused by: java.lang.ClassNotFoundException: Test","body":"<p>This problem can be due a lot of causes.I have had it many times , most of the time it is because your classpath has non-english characters or spaces.\nTry to change your project to other directory.\nOn the other hand if you use eclipse you may have more than one main and there are problems with that.</p>\n<p>If you try what I have told you and still the problem persists, it will be a problem with the command.</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":18084692,"reputation":15,"user_id":13145909,"display_name":"nsh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2919,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648561798,"answer_count":1,"score":-1,"last_activity_date":1648546733,"creation_date":1648545526,"question_id":71659430,"body_markdown":"I am new to Java. I just wanted to make a jar file from a java file and then run the jar file. The jar is created but when I run it, I encounter this error &quot;Could not find or load main class MyTest Caused by: java.lang.ClassNotFoundException: MyTest&quot;\r\n\r\nThe MyTest.java file was simply something like this:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\npublic class MyTest {\r\n\tpublic static void main(String[] args) {\r\n\t\t....\r\n\t}\r\n}\r\n```\r\n\r\nMy Manifest.MF file is like below:\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: MyTest\r\n```\r\n\r\nAnd I created the jar file using `jar cmvf Manifest.MF test.jar MyTest.java` in command line.\r\n\r\nCould anyone please help me?","title":"Could not find or load main class Test Caused by: java.lang.ClassNotFoundException: Test","body":"<p>I am new to Java. I just wanted to make a jar file from a java file and then run the jar file. The jar is created but when I run it, I encounter this error &quot;Could not find or load main class MyTest Caused by: java.lang.ClassNotFoundException: MyTest&quot;</p>\n<p>The MyTest.java file was simply something like this:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class MyTest {\n    public static void main(String[] args) {\n        ....\n    }\n}\n</code></pre>\n<p>My Manifest.MF file is like below:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: MyTest\n</code></pre>\n<p>And I created the jar file using <code>jar cmvf Manifest.MF test.jar MyTest.java</code> in command line.</p>\n<p>Could anyone please help me?</p>\n"},{"tags":["java","area"],"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":1,"creation_date":1335228462,"post_id":10290316,"comment_id":13240109,"body_markdown":"what are you inputting? Give us a sample run so we can see the problem a little more clearly (well formatted question, though)","body":"what are you inputting? Give us a sample run so we can see the problem a little more clearly (well formatted question, though)"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1335285720,"creation_date":1335228491,"answer_id":10290331,"question_id":10290316,"body_markdown":"`1/2` is being computed in integer arithmetic, so like with all integer division, it&#39;s truncated -- in this case, to `0`.  Just write `0.5` and you&#39;ll be fine.","title":"Area of Triangle, Java","body":"<p><code>1/2</code> is being computed in integer arithmetic, so like with all integer division, it's truncated -- in this case, to <code>0</code>.  Just write <code>0.5</code> and you'll be fine.</p>\n"},{"tags":[],"owner":{"account_id":21210272,"reputation":1,"user_id":15599038,"display_name":"Sanidhya Shrivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624941051,"creation_date":1624941051,"answer_id":68172650,"question_id":10290316,"body_markdown":"public class AreaOfTriangle {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner=new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter the height: &quot;);\r\n\t\tdouble height=scanner.nextDouble();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter the base: &quot;);\r\n\t\tdouble base=scanner.nextDouble();\r\n\t\t\r\n\t\tscanner.close();\r\n\t\t\r\n\t\tdouble area=(base*height)/2;\r\n\t\t\r\n\t\tSystem.out.println(&quot;---------------------------&quot;);\r\n\t\tSystem.out.println(&quot;Area of Triangle is: &quot;+area);\r\n\t}\r\n\r\n}","title":"Area of Triangle, Java","body":"<p>public class AreaOfTriangle {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner=new Scanner(System.in);\n    System.out.print(&quot;Enter the height: &quot;);\n    double height=scanner.nextDouble();\n    \n    System.out.print(&quot;Enter the base: &quot;);\n    double base=scanner.nextDouble();\n    \n    scanner.close();\n    \n    double area=(base*height)/2;\n    \n    System.out.println(&quot;---------------------------&quot;);\n    System.out.println(&quot;Area of Triangle is: &quot;+area);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":21699938,"reputation":21,"user_id":18237977,"display_name":"sfarshian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648546346,"creation_date":1648546346,"answer_id":71659618,"question_id":10290316,"body_markdown":"Heron&#39;s Formula:\r\n        \r\n        public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        double a, b, c;\r\n        a = sc.nextDouble();\r\n        b = sc.nextDouble();\r\n        c = sc.nextDouble();\r\n        double p = (a + b + c) / 2;\r\n        System.out.println(Math.sqrt(p * (p - a) * (p - b) * (p - c)));\r\n        }\r\n","title":"Area of Triangle, Java","body":"<p>Heron's Formula:</p>\n<pre><code>    public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    double a, b, c;\n    a = sc.nextDouble();\n    b = sc.nextDouble();\n    c = sc.nextDouble();\n    double p = (a + b + c) / 2;\n    System.out.println(Math.sqrt(p * (p - a) * (p - b) * (p - c)));\n    }\n</code></pre>\n"}],"owner":{"account_id":1356123,"reputation":103,"user_id":1294476,"accept_rate":0,"display_name":"user1294476"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29960,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1648546346,"creation_date":1335228351,"question_id":10290316,"body_markdown":"I&#39;m trying to build an app which computes the area of a triangle, as per my homework assignment.  Not quite sure where I&#39;m going wrong, but I input the lengths of the triangle and would like the proper area displayed according to Heron&#39;s formula: `sqrt (s(s-a) (s-b) (s-c))`.  All I&#39;m getting for output is `-0.0`. Here is the code:\r\n\r\n\timport java.lang.Math;\r\n\tpublic class Formula\r\n\t{\r\n\t\tdouble area; double s;\r\n\t\tpublic double findArea(double sideA, double sideB, double sideC)\r\n\t\t{ \r\n\t\t\ts = 1/2 * (sideA + sideB + sideC);\r\n\t\t\tarea = Math.sqrt(s*(s-sideA)*(s-sideB)*(s-sideC));\r\n\t\t\tSystem.out.println(&quot;The area of the triangle is &quot; + area);\r\n\t\t\treturn area;\r\n\t\t}\r\n\t}\r\n\r\n\r\nAnd then I have another file for the main args\r\n\r\n\timport java.util.Scanner;\r\n\r\n\tpublic class findTriangleArea {\r\n\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tFormula triangle = new Formula();\r\n\t\t\tdouble a,b,c;\r\n\r\n\t\t\t// input triangle lengths a, b, c \r\n\t\t\tScanner inputTriangle = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Please enter triangle side a&quot;);\r\n\t\t\ta = inputTriangle.nextDouble();\r\n\t\t\tSystem.out.println(&quot;Please enter triangle side b&quot;);\r\n\t\t\tb = inputTriangle.nextDouble();\r\n\t\t\tSystem.out.println(&quot;Please enter triangle side c&quot;);\r\n\t\t\tc = inputTriangle.nextDouble();\r\n\t\t\ttriangle.findArea(a, b, c);\r\n\t\t}\r\n\t}","title":"Area of Triangle, Java","body":"<p>I'm trying to build an app which computes the area of a triangle, as per my homework assignment.  Not quite sure where I'm going wrong, but I input the lengths of the triangle and would like the proper area displayed according to Heron's formula: <code>sqrt (s(s-a) (s-b) (s-c))</code>.  All I'm getting for output is <code>-0.0</code>. Here is the code:</p>\n\n<pre><code>import java.lang.Math;\npublic class Formula\n{\n    double area; double s;\n    public double findArea(double sideA, double sideB, double sideC)\n    { \n        s = 1/2 * (sideA + sideB + sideC);\n        area = Math.sqrt(s*(s-sideA)*(s-sideB)*(s-sideC));\n        System.out.println(\"The area of the triangle is \" + area);\n        return area;\n    }\n}\n</code></pre>\n\n<p>And then I have another file for the main args</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class findTriangleArea {\n\n    /**\n     * @param args\n     */\n\n    public static void main(String[] args) {\n\n        // TODO Auto-generated method stub\n        Formula triangle = new Formula();\n        double a,b,c;\n\n        // input triangle lengths a, b, c \n        Scanner inputTriangle = new Scanner(System.in);\n        System.out.println(\"Please enter triangle side a\");\n        a = inputTriangle.nextDouble();\n        System.out.println(\"Please enter triangle side b\");\n        b = inputTriangle.nextDouble();\n        System.out.println(\"Please enter triangle side c\");\n        c = inputTriangle.nextDouble();\n        triangle.findArea(a, b, c);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1648546600,"post_id":71659566,"comment_id":126645627,"body_markdown":"Optimistic lock can be solution to prevent it. If first transaction commits, second transaction wont be saved. It will throw exception","body":"Optimistic lock can be solution to prevent it. If first transaction commits, second transaction wont be saved. It will throw exception"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1648551747,"post_id":71659566,"comment_id":126647704,"body_markdown":"https://stackoverflow.com/a/28115821/1527544  .Using stateless session is what you need iI guess so you start with detached entities.","body":"<a href=\"https://stackoverflow.com/a/28115821/1527544\">stackoverflow.com/a/28115821/1527544</a>  .Using stateless session is what you need iI guess so you start with detached entities."}],"owner":{"account_id":1376453,"reputation":4124,"user_id":1310372,"accept_rate":41,"display_name":"Marcel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1648546140,"creation_date":1648546140,"question_id":71659566,"body_markdown":"Is there any way to disable auto-update of dirty entities completely?\r\n\r\nIn our application we load an entity and some &#39;simulation&#39; business logic changes an attribute (for hibernate this entity is now dirty).\r\nAfterwards we want to save the simulation-results to the database. This we do by explicitly calling `resultRepo.save(result)`. In our whole project we use this paradigm that we call explicitly `*Repo.save(..)` for entities we want to save.\r\n\r\nThe problem is that if transaction ends Hibernate now automatically also saves the dirty entity. How can we avoid this implicit magic?\r\n\r\nPossible solutions:\r\n\r\n 1. `Transactional(readOnly=true)` doesn&#39;t work since we need to store the results.\r\n 2. manually detach entity (or clone required data) into new object --&gt; very unhandy since we have this situation on so many places.\r\n 3. Setting hibernate flushMode to `MANUAL` -&gt; now everything works as expected but \r\n    - I don&#39;t really know why?\r\n    - It feels like a hack because I&#39;m trying so configure dirty-auto-save and using flush mode for this.\r\n\r\nIdeally there would be an explicit toggle like `org.hibernate.autoSaveDirtyEntites: false`.\r\n\r\n\r\nIn case it madders: We use Hibernate 5.6.5 on Spring Boot 2.6.4.","title":"Disable auto update of dirty entities in Hibernate","body":"<p>Is there any way to disable auto-update of dirty entities completely?</p>\n<p>In our application we load an entity and some 'simulation' business logic changes an attribute (for hibernate this entity is now dirty).\nAfterwards we want to save the simulation-results to the database. This we do by explicitly calling <code>resultRepo.save(result)</code>. In our whole project we use this paradigm that we call explicitly <code>*Repo.save(..)</code> for entities we want to save.</p>\n<p>The problem is that if transaction ends Hibernate now automatically also saves the dirty entity. How can we avoid this implicit magic?</p>\n<p>Possible solutions:</p>\n<ol>\n<li><code>Transactional(readOnly=true)</code> doesn't work since we need to store the results.</li>\n<li>manually detach entity (or clone required data) into new object --&gt; very unhandy since we have this situation on so many places.</li>\n<li>Setting hibernate flushMode to <code>MANUAL</code> -&gt; now everything works as expected but\n<ul>\n<li>I don't really know why?</li>\n<li>It feels like a hack because I'm trying so configure dirty-auto-save and using flush mode for this.</li>\n</ul>\n</li>\n</ol>\n<p>Ideally there would be an explicit toggle like <code>org.hibernate.autoSaveDirtyEntites: false</code>.</p>\n<p>In case it madders: We use Hibernate 5.6.5 on Spring Boot 2.6.4.</p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"score":0,"creation_date":1648545228,"post_id":71658987,"comment_id":126645046,"body_markdown":"What is compile error saying? Can you share it?","body":"What is compile error saying? Can you share it?"},{"owner":{"display_name":"user14016240"},"score":1,"creation_date":1648548622,"post_id":71658987,"comment_id":126646493,"body_markdown":"@AlperDerya Solved it, thanks","body":"@AlperDerya Solved it, thanks"}],"answers":[{"tags":[],"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648545821,"creation_date":1648545821,"answer_id":71659498,"question_id":71658987,"body_markdown":"That&#39;s not the correct way of doing it, you can&#39;t pass through parameters when assigning types.\r\n\r\ntake the following as example:\r\n\r\n    val foo : String  \r\n\r\nhere, i&#39;m specifying that my variable `foo` is of type String, right ? That&#39;s exactly what this statement is doing as well :\r\n\r\n    catch (e: Exception)\r\n\r\nyou&#39;re saying that `e` is of type `Exception`, you can&#39;t create a new instance here. \r\n\r\nthat means that you should change your code to be something like this:\r\n\r\n    catch (e: BaseException) {}\r\n\r\nand then where you need to use this, you&#39;d do something like:\r\n\r\n    throw BaseException(&quot;Test&quot;))","title":"I&#39;m not able to pass value inside BaseException constructor. Why?","body":"<p>That's not the correct way of doing it, you can't pass through parameters when assigning types.</p>\n<p>take the following as example:</p>\n<pre><code>val foo : String  \n</code></pre>\n<p>here, i'm specifying that my variable <code>foo</code> is of type String, right ? That's exactly what this statement is doing as well :</p>\n<pre><code>catch (e: Exception)\n</code></pre>\n<p>you're saying that <code>e</code> is of type <code>Exception</code>, you can't create a new instance here.</p>\n<p>that means that you should change your code to be something like this:</p>\n<pre><code>catch (e: BaseException) {}\n</code></pre>\n<p>and then where you need to use this, you'd do something like:</p>\n<pre><code>throw BaseException(&quot;Test&quot;))\n</code></pre>\n"}],"owner":{"display_name":"user14016240"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71659498,"answer_count":1,"score":0,"last_activity_date":1648545821,"creation_date":1648543318,"question_id":71658987,"body_markdown":"**BaseException**\r\n\r\n    class BaseException(private val classname: String) : Exception() {\r\n    \r\n        override fun setStackTrace(stackTrace: Array&lt;out StackTraceElement&gt;) {\r\n            val trace = arrayOf(StackTraceElement(classname, &quot;methodNameOfExe&quot;, classname, 10))\r\n            super.setStackTrace(trace)\r\n        }\r\n    }\r\n\r\n\r\n**TestClass**\r\n\r\n    {\r\n    ....\r\n    \r\n        override fun onBindViewHolder(viewHolder: RecyclerView.ViewHolder, viewType: Int) {\r\n                try {\r\n                    setOnBindViewHolder(viewHolder, viewType)\r\n                } catch (e: BaseException(&quot;Test&quot;)) { //compiler error for BaseException constructor\r\n                   ....\r\n                }\r\n            }\r\n    \r\n    ...\r\n\r\n\r\n\r\nCompiler error is coming, if I&#39;m trying to pass String arg","title":"I&#39;m not able to pass value inside BaseException constructor. Why?","body":"<p><strong>BaseException</strong></p>\n<pre><code>class BaseException(private val classname: String) : Exception() {\n\n    override fun setStackTrace(stackTrace: Array&lt;out StackTraceElement&gt;) {\n        val trace = arrayOf(StackTraceElement(classname, &quot;methodNameOfExe&quot;, classname, 10))\n        super.setStackTrace(trace)\n    }\n}\n</code></pre>\n<p><strong>TestClass</strong></p>\n<pre><code>{\n....\n\n    override fun onBindViewHolder(viewHolder: RecyclerView.ViewHolder, viewType: Int) {\n            try {\n                setOnBindViewHolder(viewHolder, viewType)\n            } catch (e: BaseException(&quot;Test&quot;)) { //compiler error for BaseException constructor\n               ....\n            }\n        }\n\n...\n</code></pre>\n<p>Compiler error is coming, if I'm trying to pass String arg</p>\n"},{"tags":["java","android","linux","cordova"],"answers":[{"tags":[],"owner":{"account_id":10566173,"reputation":3767,"user_id":8410290,"display_name":"zemil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648545727,"creation_date":1569230405,"answer_id":58059276,"question_id":57935952,"body_markdown":"In tried many files with env variable for my linux\r\n\r\nIn manjaro linux it needs to write env variables only in file: \r\n\r\n***/etc/environment***\r\n\r\n```\r\nexport ANDROID_HOME=&quot;/home/{USER_NAME}/Android/Sdk&quot;\r\nexport PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools\r\n```\r\n\r\nSo cordova works well in this case\r\n\r\n&gt; Change USER_NAME to your linux user name\r\n&gt;\r\n&gt; Also should refresh paths ($ source ./environment) or restart system","title":"Cordova can&#39;t find $ANDROID_HOME","body":"<p>In tried many files with env variable for my linux</p>\n<p>In manjaro linux it needs to write env variables only in file:</p>\n<p><em><strong>/etc/environment</strong></em></p>\n<pre><code>export ANDROID_HOME=&quot;/home/{USER_NAME}/Android/Sdk&quot;\nexport PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools\n</code></pre>\n<p>So cordova works well in this case</p>\n<blockquote>\n<p>Change USER_NAME to your linux user name</p>\n<p>Also should refresh paths ($ source ./environment) or restart system</p>\n</blockquote>\n"}],"owner":{"account_id":10566173,"reputation":3767,"user_id":8410290,"display_name":"zemil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58059276,"answer_count":1,"score":0,"last_activity_date":1648545727,"creation_date":1568467612,"question_id":57935952,"body_markdown":"I found a lot of solutions but they didn&#39;t help me.\r\n\r\nI defined variables in **/home/username/.zshrc**\r\n\r\n```\r\nexport ANDROID_HOME=&quot;/home/username/Android/Sdk&quot;\r\nexport PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools\r\n```\r\n\r\nAnd variables were defined because:\r\n\r\n```\r\necho $ANDROID_HOME                -&gt; /home/username/Android/Sdk\r\necho $ANDROID_HOME/tools          -&gt; /home/zemil/Android/Sdk/tools\r\necho $ANDROID_HOME/platform-tools -&gt; /home/zemil/Android/Sdk/platform-tools\r\n```\r\nAlso command below works fine:\r\n\r\n```\r\n&gt; ionic cordova requirements\r\n\r\nRequirements check results for android:\r\nJava JDK: installed 1.8.0\r\nAndroid SDK: installed true\r\nAndroid target: installed android-29,android-28\r\nGradle: installed /usr/share/java/gradle/bin/gradle\r\n```\r\n\r\n\r\n**I try to build a project**\r\n\r\n```\r\n&gt; sudo ionic cordova build --release android --verbose\r\n\r\n...\r\nPrepared android project successfully\r\nNo scripts found for hook &quot;after_prepare&quot;.\r\nNo scripts found for hook &quot;before_compile&quot;.\r\nCordovaError: Failed to find &#39;ANDROID_HOME&#39; environment variable. Try setting it manually.\r\nDetected &#39;adb&#39; command at /usr/bin but no &#39;platform-tools&#39; directory found near.\r\nTry reinstall Android SDK or update your PATH to include valid path to SDK/platform-tools directory.\r\n```","title":"Cordova can&#39;t find $ANDROID_HOME","body":"<p>I found a lot of solutions but they didn't help me.</p>\n\n<p>I defined variables in <strong>/home/username/.zshrc</strong></p>\n\n<pre><code>export ANDROID_HOME=\"/home/username/Android/Sdk\"\nexport PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools\n</code></pre>\n\n<p>And variables were defined because:</p>\n\n<pre><code>echo $ANDROID_HOME                -&gt; /home/username/Android/Sdk\necho $ANDROID_HOME/tools          -&gt; /home/zemil/Android/Sdk/tools\necho $ANDROID_HOME/platform-tools -&gt; /home/zemil/Android/Sdk/platform-tools\n</code></pre>\n\n<p>Also command below works fine:</p>\n\n<pre><code>&gt; ionic cordova requirements\n\nRequirements check results for android:\nJava JDK: installed 1.8.0\nAndroid SDK: installed true\nAndroid target: installed android-29,android-28\nGradle: installed /usr/share/java/gradle/bin/gradle\n</code></pre>\n\n<p><strong>I try to build a project</strong></p>\n\n<pre><code>&gt; sudo ionic cordova build --release android --verbose\n\n...\nPrepared android project successfully\nNo scripts found for hook \"after_prepare\".\nNo scripts found for hook \"before_compile\".\nCordovaError: Failed to find 'ANDROID_HOME' environment variable. Try setting it manually.\nDetected 'adb' command at /usr/bin but no 'platform-tools' directory found near.\nTry reinstall Android SDK or update your PATH to include valid path to SDK/platform-tools directory.\n</code></pre>\n"},{"tags":["java","c#","sockets"],"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648545696,"creation_date":1648545696,"question_id":71659469,"body_markdown":"I&#39;m working on a project where the c# client will send a command to the java server and the java server will execute the command in the connected mobile phone and send the output to the c# client.\r\n        My existing code sends the data to the server and the server executes it in the device and gives the output in the terminal.\r\n            But here I want to send the data as soon as I receive it from the connected device.\r\nIf I execute the ls command then the client should get each filename in real-time.\r\n My code to receive data from client\r\n\r\n     ServerSocket ss = new ServerSocket(3000);\r\n          \r\n          Socket s = null;\r\n              \r\n            try \r\n            {\r\n                // socket object to receive incoming client requests\r\n                s = ss.accept();\r\n\r\n                 scanner = new Scanner(s.getInputStream());\r\n            \t pw = new PrintWriter(s.getOutputStream(), true) ;\r\n            \t dataFromClient = scanner.nextLine();\r\n                 //pw.write(&quot;thanks&quot;) // this is working\r\n\r\n               }\r\n\r\nto send data I created a method\r\n\r\n     public static void senddata(String toreturn)\r\n       {\r\n    \tpw.write(toreturn);\r\n\t\t\r\n       }\r\n\r\nand call it from here like this\r\n\r\n    Runtime run = Runtime.getRuntime();\r\n\t\tProcess pr = run.exec(cmd);\r\n\t\tpr.waitFor();\r\n\t\t\r\n\t\tBufferedReader buf = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n\t\tString line = &quot;&quot;;\r\n\t\twhile ((line=buf.readLine())!=null) {\r\n\t\tClientHandler2.senddata(line);   //sending data\r\n\t\t\toutput=output+System.lineSeparator()+line;\r\n\t\t\tpreviuseline=line;\r\n\t\t\t\t\t\r\n\t\t\r\n\t\t}\r\n\r\nBut I don&#39;t receive anything from the server at the client. \r\nI really don&#39;t know how to achieve this as my output is always a minimum of 100 to 500 lines.\r\nplease suggest any idea on the same.\r\n\r\n\r\n\r\n","title":"how to send data to C# client in real time from java server","body":"<p>I'm working on a project where the c# client will send a command to the java server and the java server will execute the command in the connected mobile phone and send the output to the c# client.\nMy existing code sends the data to the server and the server executes it in the device and gives the output in the terminal.\nBut here I want to send the data as soon as I receive it from the connected device.\nIf I execute the ls command then the client should get each filename in real-time.\nMy code to receive data from client</p>\n<pre><code> ServerSocket ss = new ServerSocket(3000);\n      \n      Socket s = null;\n          \n        try \n        {\n            // socket object to receive incoming client requests\n            s = ss.accept();\n\n             scanner = new Scanner(s.getInputStream());\n             pw = new PrintWriter(s.getOutputStream(), true) ;\n             dataFromClient = scanner.nextLine();\n             //pw.write(&quot;thanks&quot;) // this is working\n\n           }\n</code></pre>\n<p>to send data I created a method</p>\n<pre><code> public static void senddata(String toreturn)\n   {\n    pw.write(toreturn);\n    \n   }\n</code></pre>\n<p>and call it from here like this</p>\n<pre><code>Runtime run = Runtime.getRuntime();\n    Process pr = run.exec(cmd);\n    pr.waitFor();\n    \n    BufferedReader buf = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n    String line = &quot;&quot;;\n    while ((line=buf.readLine())!=null) {\n    ClientHandler2.senddata(line);   //sending data\n        output=output+System.lineSeparator()+line;\n        previuseline=line;\n                \n    \n    }\n</code></pre>\n<p>But I don't receive anything from the server at the client.\nI really don't know how to achieve this as my output is always a minimum of 100 to 500 lines.\nplease suggest any idea on the same.</p>\n"},{"tags":["java","java-http-client"],"comments":[{"owner":{"account_id":1421450,"reputation":1801,"user_id":1345973,"display_name":"Hichem BOUSSETTA"},"score":0,"creation_date":1552841988,"post_id":55209385,"comment_id":97155211,"body_markdown":"maybe your task is already complete when you call cancel(). did you check the boolean return of cancel()? also, why didn&#39;t you implement thenAccept() in http client to manage the fulfillement of the request?","body":"maybe your task is already complete when you call cancel(). did you check the boolean return of cancel()? also, why didn&#39;t you implement thenAccept() in http client to manage the fulfillement of the request?"},{"owner":{"account_id":6100726,"reputation":83,"user_id":5545231,"display_name":"Kirill  Chaykin"},"score":0,"creation_date":1552843284,"post_id":55209385,"comment_id":97155640,"body_markdown":"No, task is running, You can see &quot;#&quot; symbols after cancel(true) method has been invoked. I don&#39;t need implement thenAccept() method in this test code, because it really dont&#39; any manipulatioins with responce data. It only shows, that HttpClient continue receive data after I cancel the task...","body":"No, task is running, You can see &quot;#&quot; symbols after cancel(true) method has been invoked. I don&#39;t need implement thenAccept() method in this test code, because it really dont&#39; any manipulatioins with responce data. It only shows, that HttpClient continue receive data after I cancel the task..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1552846148,"post_id":55209385,"comment_id":97156530,"body_markdown":"For your specific example, you can set timeouts on both the connection and the request, using [HttpClient.Builder.connectTimeout](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.Builder.html#connectTimeout%28java.time.Duration%29) and [HttpRequest.Builder.timeout](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#timeout%28java.time.Duration%29) respectively.  These *do* work, regardless of CompletableFuture implementation.","body":"For your specific example, you can set timeouts on both the connection and the request, using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.Builder.html#connectTimeout%28java.time.Duration%29\" rel=\"nofollow noreferrer\">HttpClient.Builder.connectTimeout</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#timeout%28java.time.Duration%29\" rel=\"nofollow noreferrer\">HttpRequest.Builder.timeout</a> respectively.  These <i>do</i> work, regardless of CompletableFuture implementation."},{"owner":{"account_id":6100726,"reputation":83,"user_id":5545231,"display_name":"Kirill  Chaykin"},"score":0,"creation_date":1552847012,"post_id":55209385,"comment_id":97156802,"body_markdown":"This is just an example to demonstrate the problem... Cancellation can be initiated by user and in that case timeouts is not helpful. But I can try to understand, how timeouts work and, maybe it can be used in other way.","body":"This is just an example to demonstrate the problem... Cancellation can be initiated by user and in that case timeouts is not helpful. But I can try to understand, how timeouts work and, maybe it can be used in other way."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1553100782,"post_id":55209385,"comment_id":97263678,"body_markdown":"@kirill-chaykin The code you&#39;re showing above is not completely safe as there is no guarantee that the subscription will be available at the time you call `cancel`: that is, it might still be `null`. You could use a `CompletableFuture&lt;Flow.Subscription&gt;` to work around that.","body":"@kirill-chaykin The code you&#39;re showing above is not completely safe as there is no guarantee that the subscription will be available at the time you call <code>cancel</code>: that is, it might still be <code>null</code>. You could use a <code>CompletableFuture&lt;Flow.Subscription&gt;</code> to work around that."},{"owner":{"account_id":5269756,"reputation":244,"user_id":4208422,"display_name":"Dimitris Kazakos"},"score":0,"creation_date":1557562810,"post_id":55209385,"comment_id":98813982,"body_markdown":"Just tested and although the (updated) code seems to actually work, it only cancels the processing of the server response, not the request itself. If the cancel() method is called while the server is processing the request, nothing happens until the response actually starts being sent. I don&#39;t think this is was request cancellation means and, in my case, it is quite useless, since my goal is to interrupt a long-running server (not client) process. I really can&#39;t understand how basic functionality like real (and easy) request cancellation has been overlooked in the shiny new HTTPClient api.","body":"Just tested and although the (updated) code seems to actually work, it only cancels the processing of the server response, not the request itself. If the cancel() method is called while the server is processing the request, nothing happens until the response actually starts being sent. I don&#39;t think this is was request cancellation means and, in my case, it is quite useless, since my goal is to interrupt a long-running server (not client) process. I really can&#39;t understand how basic functionality like real (and easy) request cancellation has been overlooked in the shiny new HTTPClient api."}],"answers":[{"tags":[],"owner":{"account_id":1030890,"reputation":6354,"user_id":1039203,"accept_rate":86,"display_name":"KeyMaker00"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552843827,"creation_date":1552841075,"answer_id":55209434,"question_id":55209385,"body_markdown":"**Synchronous VS asynchronous**\r\n\r\nThe request can be sent either synchronously or asynchronously. The synchronous API blocks until the Http Response is available\r\n\r\n    HttpResponse&lt;String&gt; response =\r\n          client.send(request, BodyHandlers.ofString());\r\n    System.out.println(response.statusCode());\r\n    System.out.println(response.body());\r\n\r\nThe asynchronous API returns immediately with a CompletableFuture that completes with the HttpResponse when it becomes available. CompletableFuture was added in Java 8 and supports composable asynchronous programming.\r\n\r\n    client.sendAsync(request, BodyHandlers.ofString())\r\n          .thenApply(response -&gt; { System.out.println(response.statusCode());\r\n                                   return response; } )\r\n          .thenApply(HttpResponse::body)\r\n          .thenAccept(System.out::println);\r\n\r\n**Future object**\r\n&gt; A Future represents the result of an asynchronous computation. [Java Doc](https://docs.oracle.com/javase/8/docs/api/index.html?java/util/concurrent/Future.html)\r\n\r\nMeaning that it&#39;s not a synchronous function and that your assumption &quot;I expect, that request task will be cancelled right after&quot; would be true only for synchronous method. \r\n\r\n**Check cancellation of Future object**\r\n\r\nThere is a useful `isCancelled()` method if you want to check if your task is cancelled.\r\n\r\n    if(future.isCancelled()) {\r\n      // Future object is cancelled, do smth\r\n    } else {\r\n      // Future object is still running, do smth\r\n    }\r\n\r\n**sendAsync() returns a CompletableFuture object**\r\n\r\nThe method `sendAsync()` returns a [CompletableFuture](https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/CompletableFuture.html). Note that a `CompletableFuture` implements the interface of `Future`.\r\n\r\nYou can do something like:\r\n\r\n    client.sendAsync(request, BodyHandlers.ofString())\r\n              .thenAccept(response -&gt; {\r\n           // do action when completed;\r\n    });\r\n\r\nIn technical term, the `thenAccept` method adds a `Consumer` to be called when a response has become available.\r\n\r\n**Why cancel method over CompeletableFuture won&#39;t work**\r\n\r\nSince (unlike `FutureTask`) this class has no direct control over the computation that causes it to be completed, cancellation is treated as just another form of exceptional completion. Method cancel has the same effect as `completeExceptionally(new CancellationException())`. Method `isCompletedExceptionally()` can be used to determine if a `CompletableFuture` completed in any exceptional fashion.\r\n\r\nIn case of exceptional completion with a `CompletionException`, methods `get()` and `get(long, TimeUnit)` throw an `ExecutionException` with the same cause as held in the corresponding `CompletionException`. To simplify usage in most contexts, this class also defines methods `join()` and getNow(T) that instead throw the `CompletionException` directly in these cases.\r\n\r\n**In other words**\r\n\r\nThe `cancel()` method do not employ the interrupts to do the cancellation and this is why it&#39;s not working. You should use `completeExceptionally(new CancellationException())`\r\n\r\n**Reference**\r\n\r\n - https://openjdk.java.net/groups/net/httpclient/intro.html\r\n - https://docs.oracle.com/javase/8/docs/api/index.html?java/util/concurrent/Future.html","title":"Cancellation of http request in Java 11 HttpClient","body":"<p><strong>Synchronous VS asynchronous</strong></p>\n\n<p>The request can be sent either synchronously or asynchronously. The synchronous API blocks until the Http Response is available</p>\n\n<pre><code>HttpResponse&lt;String&gt; response =\n      client.send(request, BodyHandlers.ofString());\nSystem.out.println(response.statusCode());\nSystem.out.println(response.body());\n</code></pre>\n\n<p>The asynchronous API returns immediately with a CompletableFuture that completes with the HttpResponse when it becomes available. CompletableFuture was added in Java 8 and supports composable asynchronous programming.</p>\n\n<pre><code>client.sendAsync(request, BodyHandlers.ofString())\n      .thenApply(response -&gt; { System.out.println(response.statusCode());\n                               return response; } )\n      .thenApply(HttpResponse::body)\n      .thenAccept(System.out::println);\n</code></pre>\n\n<p><strong>Future object</strong></p>\n\n<blockquote>\n  <p>A Future represents the result of an asynchronous computation. <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">Java Doc</a></p>\n</blockquote>\n\n<p>Meaning that it's not a synchronous function and that your assumption \"I expect, that request task will be cancelled right after\" would be true only for synchronous method. </p>\n\n<p><strong>Check cancellation of Future object</strong></p>\n\n<p>There is a useful <code>isCancelled()</code> method if you want to check if your task is cancelled.</p>\n\n<pre><code>if(future.isCancelled()) {\n  // Future object is cancelled, do smth\n} else {\n  // Future object is still running, do smth\n}\n</code></pre>\n\n<p><strong>sendAsync() returns a CompletableFuture object</strong></p>\n\n<p>The method <code>sendAsync()</code> returns a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a>. Note that a <code>CompletableFuture</code> implements the interface of <code>Future</code>.</p>\n\n<p>You can do something like:</p>\n\n<pre><code>client.sendAsync(request, BodyHandlers.ofString())\n          .thenAccept(response -&gt; {\n       // do action when completed;\n});\n</code></pre>\n\n<p>In technical term, the <code>thenAccept</code> method adds a <code>Consumer</code> to be called when a response has become available.</p>\n\n<p><strong>Why cancel method over CompeletableFuture won't work</strong></p>\n\n<p>Since (unlike <code>FutureTask</code>) this class has no direct control over the computation that causes it to be completed, cancellation is treated as just another form of exceptional completion. Method cancel has the same effect as <code>completeExceptionally(new CancellationException())</code>. Method <code>isCompletedExceptionally()</code> can be used to determine if a <code>CompletableFuture</code> completed in any exceptional fashion.</p>\n\n<p>In case of exceptional completion with a <code>CompletionException</code>, methods <code>get()</code> and <code>get(long, TimeUnit)</code> throw an <code>ExecutionException</code> with the same cause as held in the corresponding <code>CompletionException</code>. To simplify usage in most contexts, this class also defines methods <code>join()</code> and getNow(T) that instead throw the <code>CompletionException</code> directly in these cases.</p>\n\n<p><strong>In other words</strong></p>\n\n<p>The <code>cancel()</code> method do not employ the interrupts to do the cancellation and this is why it's not working. You should use <code>completeExceptionally(new CancellationException())</code></p>\n\n<p><strong>Reference</strong></p>\n\n<ul>\n<li><a href=\"https://openjdk.java.net/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">https://openjdk.java.net/groups/net/httpclient/intro.html</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/index.html?java/util/concurrent/Future.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648545455,"creation_date":1553077729,"answer_id":55258556,"question_id":55209385,"body_markdown":"You can cancel an HTTP request using the `java.net.http.HttpClient` API by cancelling the `Flow.Subscription` object that is passed to the response&#39;s `BodySubscriber`.\r\nIt should be relatively easy to trivially wrap one of the provided `BodyHandler`/`BodySubscriber` implementations in order to get hold to the subscription object. There is unfortunately no relationship between the `cancel` method of the `CompletableFuture` returned by the client, and the `cancel` method of the `Flow.Subscription` passed to the `BodySubscriber`. The correct way to cancel a request is through the `cancel` method of the subscription.\r\n\r\nCancelling the subscription will work both with the synchronous (`HttpClient::send`) and asynchronous (`HttpClient::sendAsync`) methods.\r\nIt will have different effects however depending on whether the request was sent through HTTP/1.1 or HTTP/2.0 (with HTTP/1.1 it will cause the connection to be closed, with HTTP/2.0 it will cause the stream to be reset). And of course it might have no effect at all if the last byte of the response was already delivered to the `BodySubscriber`.\r\n\r\n*Update:* Since Java 16 it is possible to cancel a request by interrupting the thread that called [HttpClient::send][1] or by invoking `cancel(true)` on the `CompletableFuture` returned by [HttpClient::sendAsync][2]. This has been implemented by [JDK-8245462][3] \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.net.http/java/net/http/HttpClient.html#send(java.net.http.HttpRequest,java.net.http.HttpResponse.BodyHandler)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.net.http/java/net/http/HttpClient.html#sendAsync(java.net.http.HttpRequest,java.net.http.HttpResponse.BodyHandler,java.net.http.HttpResponse.PushPromiseHandler)\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8245462","title":"Cancellation of http request in Java 11 HttpClient","body":"<p>You can cancel an HTTP request using the <code>java.net.http.HttpClient</code> API by cancelling the <code>Flow.Subscription</code> object that is passed to the response's <code>BodySubscriber</code>.\nIt should be relatively easy to trivially wrap one of the provided <code>BodyHandler</code>/<code>BodySubscriber</code> implementations in order to get hold to the subscription object. There is unfortunately no relationship between the <code>cancel</code> method of the <code>CompletableFuture</code> returned by the client, and the <code>cancel</code> method of the <code>Flow.Subscription</code> passed to the <code>BodySubscriber</code>. The correct way to cancel a request is through the <code>cancel</code> method of the subscription.</p>\n<p>Cancelling the subscription will work both with the synchronous (<code>HttpClient::send</code>) and asynchronous (<code>HttpClient::sendAsync</code>) methods.\nIt will have different effects however depending on whether the request was sent through HTTP/1.1 or HTTP/2.0 (with HTTP/1.1 it will cause the connection to be closed, with HTTP/2.0 it will cause the stream to be reset). And of course it might have no effect at all if the last byte of the response was already delivered to the <code>BodySubscriber</code>.</p>\n<p><em>Update:</em> Since Java 16 it is possible to cancel a request by interrupting the thread that called <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.net.http/java/net/http/HttpClient.html#send(java.net.http.HttpRequest,java.net.http.HttpResponse.BodyHandler)\" rel=\"nofollow noreferrer\">HttpClient::send</a> or by invoking <code>cancel(true)</code> on the <code>CompletableFuture</code> returned by <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.net.http/java/net/http/HttpClient.html#sendAsync(java.net.http.HttpRequest,java.net.http.HttpResponse.BodyHandler,java.net.http.HttpResponse.PushPromiseHandler)\" rel=\"nofollow noreferrer\">HttpClient::sendAsync</a>. This has been implemented by <a href=\"https://bugs.openjdk.java.net/browse/JDK-8245462\" rel=\"nofollow noreferrer\">JDK-8245462</a></p>\n"},{"tags":[],"owner":{"account_id":157906,"reputation":2762,"user_id":376172,"accept_rate":61,"display_name":"Simon Lenz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567688811,"creation_date":1567688811,"answer_id":57806207,"question_id":55209385,"body_markdown":"At least for synchronous requests you could just interrupt the thread that is calling `httpClient.send(..)`\r\n\r\nThe http client then aborts the request as fast a possible and throws an `InterruptedException` itself.","title":"Cancellation of http request in Java 11 HttpClient","body":"<p>At least for synchronous requests you could just interrupt the thread that is calling <code>httpClient.send(..)</code></p>\n\n<p>The http client then aborts the request as fast a possible and throws an <code>InterruptedException</code> itself.</p>\n"}],"owner":{"account_id":6100726,"reputation":83,"user_id":5545231,"display_name":"Kirill  Chaykin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6058,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55258556,"answer_count":3,"score":6,"last_activity_date":1648545455,"creation_date":1552840769,"question_id":55209385,"body_markdown":"I&#39;m trying to cancel http request via new Java 11 HttpClient.\r\n\r\nThis is my test code:\r\n\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n\r\n    public class App {\r\n\r\n        public static void main(String... args) throws InterruptedException {\r\n            HttpClient client = HttpClient.newBuilder().build();\r\n\r\n            URI uri = URI.create(&quot;http://releases.ubuntu.com/18.04.2/ubuntu-18.04.2-desktop-amd64.iso&quot;);\r\n            HttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\r\n\r\n            var bodyHandler = HttpResponse.BodyHandlers.ofByteArrayConsumer(b -&gt; System.out.println(&quot;#&quot;));\r\n            var future = client.sendAsync(request, bodyHandler);\r\n            Thread.sleep(1000);\r\n\r\n            future.cancel(true);\r\n            System.out.println(&quot;\\r\\n----------CANCEL!!!------------&quot;);\r\n            System.out.println(&quot;\\r\\nisCancelled: &quot; + future.isCancelled());\r\n            Thread.sleep(250);\r\n        }\r\n    }\r\n\r\n\r\n\r\nI expect, that request task will be cancelled right after `future.cancel(true);` line invoked. And, therefore, last printed line in console should be `isCancelled: true`\r\n\r\nBut, when I run this code, I see something like this:\r\n&lt;pre&gt;\r\n####################################################################################################\r\n----------CANCEL!!!------------\r\n####\r\nisCancelled: true\r\n#######################################################################################################################################################\r\n&lt;/pre&gt;\r\n\r\nThis means, that request task still running after I cancel it...\r\nSo, that is the right way to cancel request?\r\n\r\nUPD\r\n\r\nRight way to cancel request is (As daniel suggested, + UPD2: avoiding NPE on `cancel()` method invoke):\r\n\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpResponse.BodyHandler;\r\n    import java.net.http.HttpResponse.BodySubscriber;\r\n    import java.net.http.HttpResponse.ResponseInfo;\r\n    import java.nio.ByteBuffer;\r\n    import java.util.List;\r\n    import java.util.concurrent.CompletionStage;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.Flow.Subscription;\r\n\r\n    public class App {\r\n\r\n        private static class SubscriberWrapper implements BodySubscriber&lt;Void&gt; {\r\n            private final CountDownLatch latch;\r\n            private final BodySubscriber&lt;Void&gt; subscriber;\r\n            private Subscription subscription;\r\n\r\n            private SubscriberWrapper(BodySubscriber&lt;Void&gt; subscriber, CountDownLatch latch) {\r\n                this.subscriber = subscriber;\r\n                this.latch = latch;\r\n            }\r\n\r\n            @Override\r\n            public CompletionStage&lt;Void&gt; getBody() {\r\n                return subscriber.getBody();\r\n            }\r\n\r\n            @Override\r\n            public void onSubscribe(Subscription subscription) {\r\n                subscriber.onSubscribe(subscription);\r\n                this.subscription = subscription;\r\n                latch.countDown();\r\n            }\r\n \r\n            @Override\r\n            public void onNext(List&lt;ByteBuffer&gt; item) {\r\n                subscriber.onNext(item);\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable throwable) {\r\n                subscriber.onError(throwable);\r\n            }\r\n\r\n            @Override\r\n            public void onComplete() {\r\n                subscriber.onComplete();\r\n            }\r\n\r\n            public void cancel() {\r\n                subscription.cancel();\r\n                System.out.println(&quot;\\r\\n----------CANCEL!!!------------&quot;);\r\n            }\r\n        }\r\n\r\n        private static class BodyHandlerWrapper implements BodyHandler&lt;Void&gt; {\r\n            private final CountDownLatch latch = new CountDownLatch(1);\r\n            private final BodyHandler&lt;Void&gt; handler;\r\n            private SubscriberWrapper subscriberWrapper;\r\n\r\n            private BodyHandlerWrapper(BodyHandler&lt;Void&gt; handler) {\r\n                this.handler = handler;\r\n            }\r\n\r\n            @Override\r\n            public BodySubscriber&lt;Void&gt; apply(ResponseInfo responseInfo) {\r\n                subscriberWrapper = new SubscriberWrapper(handler.apply(responseInfo), latch);\r\n                return subscriberWrapper;\r\n            }\r\n\r\n            public void cancel() {\r\n                CompletableFuture.runAsync(() -&gt; {\r\n\t\t            try {\r\n\t\t                latch.await();\r\n\t\t                subscriberWrapper.cancel();\r\n\t\t            } catch (InterruptedException e) {}\r\n\t            });\r\n            }\r\n        }\r\n\r\n        public static void main(String... args) throws InterruptedException, ExecutionException {\r\n            HttpClient client = HttpClient.newBuilder().build();\r\n\r\n            URI uri = URI.create(&quot;http://releases.ubuntu.com/18.04.2/ubuntu-18.04.2-desktop-amd64.iso&quot;);\r\n            HttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\r\n\r\n            var handler = HttpResponse.BodyHandlers.ofByteArrayConsumer(b -&gt; System.out.print(&quot;#&quot;));\r\n            BodyHandlerWrapper handlerWrapper = new BodyHandlerWrapper(handler);\r\n\r\n            client.sendAsync(request, handlerWrapper).thenAccept(b -&gt; System.out.println(b.statusCode()));\r\n            Thread.sleep(1000);\r\n            handlerWrapper.cancel();\r\n\r\n            System.out.println(&quot;\\r\\n------Invoke cancel...---------&quot;);\r\n            Thread.sleep(2500);\r\n        }\r\n    }","title":"Cancellation of http request in Java 11 HttpClient","body":"<p>I'm trying to cancel http request via new Java 11 HttpClient.</p>\n\n<p>This is my test code:</p>\n\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\npublic class App {\n\n    public static void main(String... args) throws InterruptedException {\n        HttpClient client = HttpClient.newBuilder().build();\n\n        URI uri = URI.create(\"http://releases.ubuntu.com/18.04.2/ubuntu-18.04.2-desktop-amd64.iso\");\n        HttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\n\n        var bodyHandler = HttpResponse.BodyHandlers.ofByteArrayConsumer(b -&gt; System.out.println(\"#\"));\n        var future = client.sendAsync(request, bodyHandler);\n        Thread.sleep(1000);\n\n        future.cancel(true);\n        System.out.println(\"\\r\\n----------CANCEL!!!------------\");\n        System.out.println(\"\\r\\nisCancelled: \" + future.isCancelled());\n        Thread.sleep(250);\n    }\n}\n</code></pre>\n\n<p>I expect, that request task will be cancelled right after <code>future.cancel(true);</code> line invoked. And, therefore, last printed line in console should be <code>isCancelled: true</code></p>\n\n<p>But, when I run this code, I see something like this:</p>\n\n<pre>\n####################################################################################################\n----------CANCEL!!!------------\n####\nisCancelled: true\n#######################################################################################################################################################\n</pre>\n\n<p>This means, that request task still running after I cancel it...\nSo, that is the right way to cancel request?</p>\n\n<p>UPD</p>\n\n<p>Right way to cancel request is (As daniel suggested, + UPD2: avoiding NPE on <code>cancel()</code> method invoke):</p>\n\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodyHandler;\nimport java.net.http.HttpResponse.BodySubscriber;\nimport java.net.http.HttpResponse.ResponseInfo;\nimport java.nio.ByteBuffer;\nimport java.util.List;\nimport java.util.concurrent.CompletionStage;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Flow.Subscription;\n\npublic class App {\n\n    private static class SubscriberWrapper implements BodySubscriber&lt;Void&gt; {\n        private final CountDownLatch latch;\n        private final BodySubscriber&lt;Void&gt; subscriber;\n        private Subscription subscription;\n\n        private SubscriberWrapper(BodySubscriber&lt;Void&gt; subscriber, CountDownLatch latch) {\n            this.subscriber = subscriber;\n            this.latch = latch;\n        }\n\n        @Override\n        public CompletionStage&lt;Void&gt; getBody() {\n            return subscriber.getBody();\n        }\n\n        @Override\n        public void onSubscribe(Subscription subscription) {\n            subscriber.onSubscribe(subscription);\n            this.subscription = subscription;\n            latch.countDown();\n        }\n\n        @Override\n        public void onNext(List&lt;ByteBuffer&gt; item) {\n            subscriber.onNext(item);\n        }\n\n        @Override\n        public void onError(Throwable throwable) {\n            subscriber.onError(throwable);\n        }\n\n        @Override\n        public void onComplete() {\n            subscriber.onComplete();\n        }\n\n        public void cancel() {\n            subscription.cancel();\n            System.out.println(\"\\r\\n----------CANCEL!!!------------\");\n        }\n    }\n\n    private static class BodyHandlerWrapper implements BodyHandler&lt;Void&gt; {\n        private final CountDownLatch latch = new CountDownLatch(1);\n        private final BodyHandler&lt;Void&gt; handler;\n        private SubscriberWrapper subscriberWrapper;\n\n        private BodyHandlerWrapper(BodyHandler&lt;Void&gt; handler) {\n            this.handler = handler;\n        }\n\n        @Override\n        public BodySubscriber&lt;Void&gt; apply(ResponseInfo responseInfo) {\n            subscriberWrapper = new SubscriberWrapper(handler.apply(responseInfo), latch);\n            return subscriberWrapper;\n        }\n\n        public void cancel() {\n            CompletableFuture.runAsync(() -&gt; {\n                try {\n                    latch.await();\n                    subscriberWrapper.cancel();\n                } catch (InterruptedException e) {}\n            });\n        }\n    }\n\n    public static void main(String... args) throws InterruptedException, ExecutionException {\n        HttpClient client = HttpClient.newBuilder().build();\n\n        URI uri = URI.create(\"http://releases.ubuntu.com/18.04.2/ubuntu-18.04.2-desktop-amd64.iso\");\n        HttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\n\n        var handler = HttpResponse.BodyHandlers.ofByteArrayConsumer(b -&gt; System.out.print(\"#\"));\n        BodyHandlerWrapper handlerWrapper = new BodyHandlerWrapper(handler);\n\n        client.sendAsync(request, handlerWrapper).thenAccept(b -&gt; System.out.println(b.statusCode()));\n        Thread.sleep(1000);\n        handlerWrapper.cancel();\n\n        System.out.println(\"\\r\\n------Invoke cancel...---------\");\n        Thread.sleep(2500);\n    }\n}\n</code></pre>\n"},{"tags":["java","heroku","deployment"],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574086128,"creation_date":1574086128,"answer_id":58916430,"question_id":58898091,"body_markdown":"Change the `;` in your `Procfile` to `:`. The `;` is causing the rest of the command to be treated as a different command.\r\n\r\nThe `release` command can&#39;t modify your files.","title":"Permission denied heroku error in jar dependency","body":"<p>Change the <code>;</code> in your <code>Procfile</code> to <code>:</code>. The <code>;</code> is causing the rest of the command to be treated as a different command.</p>\n\n<p>The <code>release</code> command can't modify your files.</p>\n"},{"tags":[],"owner":{"account_id":15808808,"reputation":1,"user_id":11406588,"display_name":"Vitaliy Kolosov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648545204,"creation_date":1648544294,"answer_id":71659180,"question_id":58898091,"body_markdown":"Try to use it in Procfile:\r\nweb: java -Dserver.port=$PORT $JAVA_OPTS -jar ./build/libs/your-file-0.0.1.jar","title":"Permission denied heroku error in jar dependency","body":"<p>Try to use it in Procfile:\nweb: java -Dserver.port=$PORT $JAVA_OPTS -jar ./build/libs/your-file-0.0.1.jar</p>\n"}],"owner":{"account_id":17113434,"reputation":3,"user_id":12383621,"display_name":"Eduardo Ribeiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648545204,"creation_date":1573972118,"question_id":58898091,"body_markdown":"I&#39;m trying to deploy a java web app to heroku and I&#39;m getting permission denied error in one of my dependencies which is &quot;aether-api-1.7.jar&quot;. I already add a realease command to prevent this error but it kept.\r\n\r\nProcfile:\r\n\r\n```\r\nrelease: chmod u+x target/dependency/aether-api-1.7.jar\r\nweb: java -Dserver.port=$PORT -cp target/classes;target/dependency/* Server\r\n```\r\n\r\nHeroku logs:\r\n```\r\n2019-11-17T06:10:24.922962+00:00 app[web.1]: See http://www.oracle.com/technetwork/java/javase/documentation/index.html for more details.\r\n2019-11-17T06:10:24.934033+00:00 app[web.1]: bash: target/dependency/aether-api-1.7.jar: Permission denied\r\n2019-11-17T06:10:24.987470+00:00 heroku[web.1]: Process exited with status 126\r\n```","title":"Permission denied heroku error in jar dependency","body":"<p>I'm trying to deploy a java web app to heroku and I'm getting permission denied error in one of my dependencies which is \"aether-api-1.7.jar\". I already add a realease command to prevent this error but it kept.</p>\n\n<p>Procfile:</p>\n\n<pre><code>release: chmod u+x target/dependency/aether-api-1.7.jar\nweb: java -Dserver.port=$PORT -cp target/classes;target/dependency/* Server\n</code></pre>\n\n<p>Heroku logs:</p>\n\n<pre><code>2019-11-17T06:10:24.922962+00:00 app[web.1]: See http://www.oracle.com/technetwork/java/javase/documentation/index.html for more details.\n2019-11-17T06:10:24.934033+00:00 app[web.1]: bash: target/dependency/aether-api-1.7.jar: Permission denied\n2019-11-17T06:10:24.987470+00:00 heroku[web.1]: Process exited with status 126\n</code></pre>\n"},{"tags":["java","spring","database","spring-boot","caching"],"comments":[{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1648036546,"post_id":71584919,"comment_id":126521129,"body_markdown":"Will the services share the same JVM ?","body":"Will the services share the same JVM ?"},{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":0,"creation_date":1658736799,"post_id":71584919,"comment_id":129115941,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648034819,"creation_date":1648034819,"answer_id":71586401,"question_id":71584919,"body_markdown":"I suppose you have a DTO like this:\r\n```java\r\npublic record ResultDTO(String param, int seconds) {\r\n}\r\n```\r\n\r\nYou can use `@Cacheable` annotation that handles automatically the cache by configuring a `CacheManager`. You can follow this [tutorial][1].\r\nAt the end the method will something like this:\r\n\r\n```java\r\n@Cacheable(&quot;params&quot;)\r\npublic ResultDTO getByUUID(String UUID) {\r\n    // your logic to retrieve the object\r\n}\r\n\r\n```\r\nThe code inside `getByUUID` is executed if the element having `UUID` input is not in the cache.\r\n\r\n  [1]: https://www.baeldung.com/spring-cache-tutorial","title":"Spring Boot: Design a service that caches timed data","body":"<p>I suppose you have a DTO like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record ResultDTO(String param, int seconds) {\n}\n</code></pre>\n<p>You can use <code>@Cacheable</code> annotation that handles automatically the cache by configuring a <code>CacheManager</code>. You can follow this <a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">tutorial</a>.\nAt the end the method will something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(&quot;params&quot;)\npublic ResultDTO getByUUID(String UUID) {\n    // your logic to retrieve the object\n}\n\n</code></pre>\n<p>The code inside <code>getByUUID</code> is executed if the element having <code>UUID</code> input is not in the cache.</p>\n"},{"tags":[],"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648544683,"creation_date":1648544683,"answer_id":71659253,"question_id":71584919,"body_markdown":"You can use a in memory cache implementation. A cache stores some data temporarily and typically has a feature that automatically removes data (expires) after some time duration.\r\n\r\nHere is an example with [cache2k](https://cache2k.org):\r\n\r\n````\r\n\tCache&lt;String, String&gt; cache =\r\n      Cache2kBuilder.of(String.class, String.class)\r\n        .entryCapacity(5000)\r\n        .expireAfterWrite(5, TimeUnit.SECONDS)\r\n        .build();\r\n\r\n\tString myService(String param) {\r\n      String uuid = generateUuid();\r\n\t  cache.put(uuid, param);\r\n\t}\r\n\r\n\tString mySecondService(String uuid) {\r\n      String param = cache.get(uuid);\r\n\t  if (param == null) {\r\n\t\t  // error\r\n\t  }\r\n\t  return param;\r\n\t}\r\n````\r\n\r\nWith the code above the expiry is not happening exactly after 5 seconds but may lag around a second depending on system activity. If you want the item to be visible no more than 5 seconds, use this instead of `expireAfterWrite`:\r\n\r\n````\r\n  .expiryPolicy((key, value, startTime, currentEntry) -&gt;\r\n\tExpiry.toSharpTime(startTime + TimeUnit.SECONDS.toMillis(5)))\r\n````\r\n\r\nMake sure to make the entry capacity high enough, because otherwise the cache will evict data was not used recently.\r\n\r\nDo not use `@Cacheable` of Spring. It would only fit for `mySecondService` and not for the population of the cache. So don&#39;t mix different API concepts.\r\n\r\nThe approach is basically the same with other cache implementations.","title":"Spring Boot: Design a service that caches timed data","body":"<p>You can use a in memory cache implementation. A cache stores some data temporarily and typically has a feature that automatically removes data (expires) after some time duration.</p>\n<p>Here is an example with <a href=\"https://cache2k.org\" rel=\"nofollow noreferrer\">cache2k</a>:</p>\n<pre><code>    Cache&lt;String, String&gt; cache =\n      Cache2kBuilder.of(String.class, String.class)\n        .entryCapacity(5000)\n        .expireAfterWrite(5, TimeUnit.SECONDS)\n        .build();\n\n    String myService(String param) {\n      String uuid = generateUuid();\n      cache.put(uuid, param);\n    }\n\n    String mySecondService(String uuid) {\n      String param = cache.get(uuid);\n      if (param == null) {\n          // error\n      }\n      return param;\n    }\n</code></pre>\n<p>With the code above the expiry is not happening exactly after 5 seconds but may lag around a second depending on system activity. If you want the item to be visible no more than 5 seconds, use this instead of <code>expireAfterWrite</code>:</p>\n<pre><code>  .expiryPolicy((key, value, startTime, currentEntry) -&gt;\n    Expiry.toSharpTime(startTime + TimeUnit.SECONDS.toMillis(5)))\n</code></pre>\n<p>Make sure to make the entry capacity high enough, because otherwise the cache will evict data was not used recently.</p>\n<p>Do not use <code>@Cacheable</code> of Spring. It would only fit for <code>mySecondService</code> and not for the population of the cache. So don't mix different API concepts.</p>\n<p>The approach is basically the same with other cache implementations.</p>\n"}],"owner":{"account_id":21615036,"reputation":51,"user_id":15940981,"display_name":"stackismylifedontyouforget"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648544683,"creation_date":1648028385,"question_id":71584919,"body_markdown":"I am developing a service using Spring Boot (with Java) and I have the following requirement:\r\nThe service (when invoked) must generate a **timed UUID associated with a string** that I pass as input to the service.\r\nFor example, if I invoke the service like this (with a Http GET):\r\n\r\nhttp://localhost:8080/myService?param=example\r\n\r\nThe service returns me a UUID like 55bcbfce-8984-4f1d-8435-f9548baf8cb5.\r\nThe fact is that I want to implement a caching system that stores (for a limited time, like 5 seconds) this UUID along with the passed string `example`.\r\n\r\nSo, a &quot;table&quot; stored in the application would be such a thing like this:\r\n\r\n| UUID | param | duration|\r\n| -------- | -------------- |-------------- |\r\n| 55bcbfce-8984-4f1d-8435-f9548baf8cb5    | `example`           | 3sec          |\r\n| 07ef2e6e-e6a1-45e7-b6a6-51dfab49f782| `example2`            |2sec              |\r\n\r\nLike this, a second service I call by passing it a UUID as input, like this:\r\n\r\nhttp://localhost:8080/mySecondService?UUID=55bcbfce-8984-4f1d-8435-f9548baf8cb5\r\n\r\nIt could return me (**if invoked in the right time**) the `param` associated with the UUID 55bcbfce-8984-4f1d-8435-f9548baf8cb5, that is `example`. If the time is up, then the second service returns an error.\r\n\r\nMy question is: is there an easy way to implement this **WITHOUT USING A DB**, but using just a small caching system (the memory will be shared between the two services!)? I am new to both Spring Boot and caching, and have never used cache before. I simply cannot use a DB in this situation.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot: Design a service that caches timed data","body":"<p>I am developing a service using Spring Boot (with Java) and I have the following requirement:\nThe service (when invoked) must generate a <strong>timed UUID associated with a string</strong> that I pass as input to the service.\nFor example, if I invoke the service like this (with a Http GET):</p>\n<p>http://localhost:8080/myService?param=example</p>\n<p>The service returns me a UUID like 55bcbfce-8984-4f1d-8435-f9548baf8cb5.\nThe fact is that I want to implement a caching system that stores (for a limited time, like 5 seconds) this UUID along with the passed string <code>example</code>.</p>\n<p>So, a &quot;table&quot; stored in the application would be such a thing like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>UUID</th>\n<th>param</th>\n<th>duration</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>55bcbfce-8984-4f1d-8435-f9548baf8cb5</td>\n<td><code>example</code></td>\n<td>3sec</td>\n</tr>\n<tr>\n<td>07ef2e6e-e6a1-45e7-b6a6-51dfab49f782</td>\n<td><code>example2</code></td>\n<td>2sec</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Like this, a second service I call by passing it a UUID as input, like this:</p>\n<p>http://localhost:8080/mySecondService?UUID=55bcbfce-8984-4f1d-8435-f9548baf8cb5</p>\n<p>It could return me (<strong>if invoked in the right time</strong>) the <code>param</code> associated with the UUID 55bcbfce-8984-4f1d-8435-f9548baf8cb5, that is <code>example</code>. If the time is up, then the second service returns an error.</p>\n<p>My question is: is there an easy way to implement this <strong>WITHOUT USING A DB</strong>, but using just a small caching system (the memory will be shared between the two services!)? I am new to both Spring Boot and caching, and have never used cache before. I simply cannot use a DB in this situation.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1648487879,"post_id":71651057,"comment_id":126631082,"body_markdown":"Aside from other problems, you have named the array &quot;...List&quot; but List has a very different meaning in Java (java.util.List). This is confusing.","body":"Aside from other problems, you have named the array &quot;...List&quot; but List has a very different meaning in Java (java.util.List). This is confusing."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648487417,"creation_date":1648487417,"answer_id":71651115,"question_id":71651057,"body_markdown":"You have an extra semicolon before the array initializer:\r\n\r\n```\r\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \r\n                                          ^ here\r\n```\r\n\r\nRemove it.","title":"making a 1d array into a 2d array","body":"<p>You have an extra semicolon before the array initializer:</p>\n<pre><code>    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \n                                          ^ here\n</code></pre>\n<p>Remove it.</p>\n"},{"tags":[],"owner":{"account_id":10116472,"reputation":284,"user_id":7474991,"display_name":"Praneeth Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648488083,"creation_date":1648488083,"answer_id":71651260,"question_id":71651057,"body_markdown":"I think you need to first study how to initialize a 2d array and then how to traverse through a 2d array.\r\n\r\nyou are not initializing properly here fix this\r\n\r\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;};\r\n\r\n\r\n\r\n2) you are traversing a 2d array using a single loop this is wrong\r\n\r\n                for (int j = 0; j &lt;= carList.length - 1; j++){            \r\n                   if (carMake.equalsIgnoreCase(carList[j])) {\r\n                    System.out.println(j + &quot; &quot; + carMake);\r\n       }}\r\n\r\n\r\nhere are a few examples \r\nif its a 1d array then its a linear list \r\nso it will be something like \r\n\r\n    String fruits[] = {&quot;apple&quot;,&quot;banana&quot;,&quot;orange&quot;}\r\n\r\nbut when its a 2d array you have to thing it like a table\r\nex:-  \r\n\r\n    String[][] cars = { {&quot;lamborghini&quot;,&quot;price 1 million&quot;}, {&quot;skoda&quot;,&quot;50k&quot;}};\r\n\r\nand for iterating\r\nif its a 1d array then for loop is enough \r\nif its a 2d array then you have to use 2 variables\r\nex: \r\n\r\n        for(int i=0;i&lt;n;i++){\r\n            for(int j=0;j&lt;m;j++){\r\n             print(cars[i][j])\r\n        }\r\n    }\r\n\r\n\r\n         \r\n\r\n\r\n\r\n","title":"making a 1d array into a 2d array","body":"<p>I think you need to first study how to initialize a 2d array and then how to traverse through a 2d array.</p>\n<p>you are not initializing properly here fix this</p>\n<pre><code>String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;};\n</code></pre>\n<ol start=\"2\">\n<li><p>you are traversing a 2d array using a single loop this is wrong</p>\n<pre><code>         for (int j = 0; j &lt;= carList.length - 1; j++){            \n            if (carMake.equalsIgnoreCase(carList[j])) {\n             System.out.println(j + &quot; &quot; + carMake);\n}}\n</code></pre>\n</li>\n</ol>\n<p>here are a few examples\nif its a 1d array then its a linear list\nso it will be something like</p>\n<pre><code>String fruits[] = {&quot;apple&quot;,&quot;banana&quot;,&quot;orange&quot;}\n</code></pre>\n<p>but when its a 2d array you have to thing it like a table\nex:-</p>\n<pre><code>String[][] cars = { {&quot;lamborghini&quot;,&quot;price 1 million&quot;}, {&quot;skoda&quot;,&quot;50k&quot;}};\n</code></pre>\n<p>and for iterating\nif its a 1d array then for loop is enough\nif its a 2d array then you have to use 2 variables\nex:</p>\n<pre><code>    for(int i=0;i&lt;n;i++){\n        for(int j=0;j&lt;m;j++){\n         print(cars[i][j])\n    }\n}\n\n\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13730733,"reputation":11,"user_id":13859481,"display_name":"Mertcan Kurt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648544264,"creation_date":1648494219,"answer_id":71652478,"question_id":71651057,"body_markdown":"To show your 2d array you have to set it like this:\r\n\r\n    String[] [] carList = {{&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;},{&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,}}; \r\n      \r\n\r\nand to loop over this 2d array you have to use two for loops:\r\n\r\n    for (int i = 0 ; i &lt; 2 ; i++){\r\n        for (int j = 0 ; j &lt; 7 ; j++){\r\n         System.out.println(carList[i][j]);\r\n        }\r\n    }\r\n\r\nOr dont use a 2d array if you dont need one (which seems like you don&#39;t here) :\r\n\r\n    String[] carList = {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,};\r\n\r\nand because this is a 1d array you can loop over it by using one for loop:\r\n\r\n    for (int i = 0 ; i &lt; carList.length /*16*/ ; i++){\r\n        System.out.println(carList[i]);\r\n    }\r\n\r\n","title":"making a 1d array into a 2d array","body":"<p>To show your 2d array you have to set it like this:</p>\n<pre><code>String[] [] carList = {{&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;},{&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,}}; \n  \n</code></pre>\n<p>and to loop over this 2d array you have to use two for loops:</p>\n<pre><code>for (int i = 0 ; i &lt; 2 ; i++){\n    for (int j = 0 ; j &lt; 7 ; j++){\n     System.out.println(carList[i][j]);\n    }\n}\n</code></pre>\n<p>Or dont use a 2d array if you dont need one (which seems like you don't here) :</p>\n<pre><code>String[] carList = {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,};\n</code></pre>\n<p>and because this is a 1d array you can loop over it by using one for loop:</p>\n<pre><code>for (int i = 0 ; i &lt; carList.length /*16*/ ; i++){\n    System.out.println(carList[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":24721383,"reputation":1,"user_id":18610406,"display_name":"Angel "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1648544264,"creation_date":1648487166,"question_id":71651057,"body_markdown":"my homework is to make a 1d array into a 2d array but i just cant seem to make it work. \r\n\r\n=- these are the error im getting \r\n```\r\nCar.java:7: error: not a statement\r\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \r\n                                              ^\r\n\r\nCar.java:7: error: &#39;;&#39; expected\r\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \r\n                                                     ^\r\n2 errors\r\n```\r\n\r\nand this is my code\r\n```\r\n//Car.java\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Car {\r\n    public static void main(String[] args) {\r\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \r\n \r\n// Declaring array literal\r\n       \r\n        Scanner scanner = new Scanner(System.in);\r\n        String carMake = &quot;&quot;;\r\n        \r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n\r\n            System.out.print(&quot;What car do you want to buy?: &quot;);\r\n\r\n            carMake = scanner.nextLine();\r\n            \r\n            while (carMake.isEmpty()){\r\n\r\n                System.out.print(&quot;Input should not be empty, try again: &quot;);\r\n\r\n                carMake = scanner.nextLine();\r\n                // starting loopdeloop \r\n                \r\n            }\r\n             for (int j = 0; j &lt;= carList.length - 1; j++){\r\n            \r\n            if (carMake.equalsIgnoreCase(carList[j])) {\r\n            System.out.println(j + &quot; &quot; + carMake);\r\n            \r\n           \r\n  // code block to be executed..... for his war crimes\r\n            \r\n            } else {\r\n            System.out.println(&quot;404 Car make not found..... look behind you&quot;);}\r\n            \r\n          \r\n            \r\n        }\r\n        \r\n\r\n            }\r\n            for (int l = 0; l &lt;= carList.length - 1; l++) {\r\n            System.out.print(carList[l] + &quot; &quot;);}\r\n                   \r\n    }\r\n}\r\n```","title":"making a 1d array into a 2d array","body":"<p>my homework is to make a 1d array into a 2d array but i just cant seem to make it work.</p>\n<p>=- these are the error im getting</p>\n<pre><code>Car.java:7: error: not a statement\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \n                                              ^\n\nCar.java:7: error: ';' expected\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \n                                                     ^\n2 errors\n</code></pre>\n<p>and this is my code</p>\n<pre><code>//Car.java\n\nimport java.util.Scanner;\n\npublic class Car {\n    public static void main(String[] args) {\n    String[] [] carList = new String[8][2];  {&quot;Honda&quot;,&quot;Ford&quot;,&quot;Lamborghini&quot;,&quot;Subaru&quot;,&quot;Saturn&quot;,&quot;Nissan&quot;,&quot;BMW&quot;,&quot;Porsche&quot;, &quot;Chevy&quot;, &quot;VW&quot;, &quot;Kia&quot;, &quot;Audi&quot;, &quot;Ram&quot;}; \n \n// Declaring array literal\n       \n        Scanner scanner = new Scanner(System.in);\n        String carMake = &quot;&quot;;\n        \n\n        for (int i = 0; i &lt; 3; i++) {\n\n            System.out.print(&quot;What car do you want to buy?: &quot;);\n\n            carMake = scanner.nextLine();\n            \n            while (carMake.isEmpty()){\n\n                System.out.print(&quot;Input should not be empty, try again: &quot;);\n\n                carMake = scanner.nextLine();\n                // starting loopdeloop \n                \n            }\n             for (int j = 0; j &lt;= carList.length - 1; j++){\n            \n            if (carMake.equalsIgnoreCase(carList[j])) {\n            System.out.println(j + &quot; &quot; + carMake);\n            \n           \n  // code block to be executed..... for his war crimes\n            \n            } else {\n            System.out.println(&quot;404 Car make not found..... look behind you&quot;);}\n            \n          \n            \n        }\n        \n\n            }\n            for (int l = 0; l &lt;= carList.length - 1; l++) {\n            System.out.print(carList[l] + &quot; &quot;);}\n                   \n    }\n}\n</code></pre>\n"},{"tags":["java","colors","frame"],"comments":[{"owner":{"account_id":24730026,"reputation":1,"user_id":18618116,"display_name":"Leo"},"score":0,"creation_date":1648543280,"post_id":71658945,"comment_id":126644315,"body_markdown":"If someone needs any code for the frame just ask please","body":"If someone needs any code for the frame just ask please"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648544079,"creation_date":1648544079,"answer_id":71659140,"question_id":71658945,"body_markdown":"Assuming your using Swing, then you should use a Swing `Timer`, see [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                Timer timer = new Timer(250, new ActionListener() {\r\n                    private Random rnd = new Random();\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        int red = rnd.nextInt(255);\r\n                        int green = rnd.nextInt(255);\r\n                        int blue = rnd.nextInt(255);\r\n                        setBackground(new Color(red, green, blue));\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n        }\r\n    }\r\n\r\nWhy? Because Swing is single threaded (and not thread safe).  See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details","title":"Changing the color of frame background repeatedly","body":"<p>Assuming your using Swing, then you should use a Swing <code>Timer</code>, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            Timer timer = new Timer(250, new ActionListener() {\n                private Random rnd = new Random();\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    int red = rnd.nextInt(255);\n                    int green = rnd.nextInt(255);\n                    int blue = rnd.nextInt(255);\n                    setBackground(new Color(red, green, blue));\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n    }\n}\n</code></pre>\n<p>Why? Because Swing is single threaded (and not thread safe).  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details</p>\n"}],"owner":{"account_id":24730026,"reputation":1,"user_id":18618116,"display_name":"Leo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648544079,"creation_date":1648543156,"question_id":71658945,"body_markdown":"So i want my methods to change the background color of my Frame every like 0.2 seconds and i tried a lot of diferent things like new methods and Threat sleep/wait but nothing worked even though trying it with System.out.print did. I have no idea what could work now so would be ice if someone helped me out, thank you beforehand!\r\n\r\nPS.: dont mind the variable and method names was having fun with my friends xD\r\n\r\n    public void poggersModeOn()\r\n    {\r\n        f.setTitle(&quot;Insane rainbow pogg mode!!!!1!!!11!!1!! &quot;);\r\n        int rot = (int)(Math.random()*255+1);\r\n        int gruen = (int)(Math.random()*255+1);\r\n        int blau = (int)(Math.random()*255+1);\r\n        f.setBackground(new Color(rot, gruen, blau));\r\n    }\r\n\r\n    public void poggersModeOff()\r\n    {\r\n        f.setTitle(&quot;Navigationssystem&quot;);\r\n        f.setBackground(new Color(255, 255, 255));\r\n    }\r\n\r\n    public void pogmethode() {\r\n        while(pogmode==true)\r\n        {\r\n            poggersModeOn();\r\n            //wait function right here\r\n        }\r\n    }","title":"Changing the color of frame background repeatedly","body":"<p>So i want my methods to change the background color of my Frame every like 0.2 seconds and i tried a lot of diferent things like new methods and Threat sleep/wait but nothing worked even though trying it with System.out.print did. I have no idea what could work now so would be ice if someone helped me out, thank you beforehand!</p>\n<p>PS.: dont mind the variable and method names was having fun with my friends xD</p>\n<pre><code>public void poggersModeOn()\n{\n    f.setTitle(&quot;Insane rainbow pogg mode!!!!1!!!11!!1!! &quot;);\n    int rot = (int)(Math.random()*255+1);\n    int gruen = (int)(Math.random()*255+1);\n    int blau = (int)(Math.random()*255+1);\n    f.setBackground(new Color(rot, gruen, blau));\n}\n\npublic void poggersModeOff()\n{\n    f.setTitle(&quot;Navigationssystem&quot;);\n    f.setBackground(new Color(255, 255, 255));\n}\n\npublic void pogmethode() {\n    while(pogmode==true)\n    {\n        poggersModeOn();\n        //wait function right here\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","jakarta-ee","spring-data","eclipselink"],"comments":[{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1638840569,"post_id":70253898,"comment_id":124189802,"body_markdown":"I found another link that might help: [A Guide to JPA with Spring](https://www.baeldung.com/the-persistence-layer-with-spring-and-jpa). I am looking into &quot;The JPA Spring Configuration With Java in a Non-Boot Project&quot; and creating a custom PersistenceJPAConfig.","body":"I found another link that might help: <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-and-jpa\" rel=\"nofollow noreferrer\">A Guide to JPA with Spring</a>. I am looking into &quot;The JPA Spring Configuration With Java in a Non-Boot Project&quot; and creating a custom PersistenceJPAConfig."}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639076875,"creation_date":1639076875,"answer_id":70295400,"question_id":70253898,"body_markdown":"I found the answer in the [Spring blog](https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6). Apparently the roadmap includes switching to the jakarta namespace &quot;in Q4 2022&quot;:\r\n\r\n&gt; As announced at SpringOne yesterday, Spring Framework 6 and Spring\r\n&gt; Boot 3 are planned towards a high-end baseline for their general\r\n&gt; availability in Q4 2022:\r\n&gt; \r\n&gt;     Java 17+ (from Java 8-17 in the Spring Framework 5.3.x line)\r\n&gt;     Jakarta EE 9+ (from Java EE 7-8 in the Spring Framework 5.3.x line)\r\n&gt; \r\n&gt; This forward-looking baseline will provide significant benefits in our\r\n&gt; API design and integration efforts, shining through to your\r\n&gt; application code and future-proofing the framework as well as your\r\n&gt; applications for many years to come. However, it comes at a cost, of\r\n&gt; course: Spring Framework 6 and Spring Boot 3 based applications will\r\n&gt; require a minimum of JDK 17 at runtime, as well as a minimum of Tomcat\r\n&gt; 10 / Jetty 11 (for Jakarta EE 9 compatibility). Even more importantly,\r\n&gt; there might be some changes required in your application source code:\r\n&gt; e.g. the javax to jakarta namespace change in Jakarta EE 9 wherever\r\n&gt; youre touching the Servlet API, JPA, Bean Validation, etc.\r\n\r\nIt is thus a matter of waiting until the change is rolled out by Spring.","title":"Using Spring Data 2.6.1 with Eclipselink and Jakarta 3, is it possible?","body":"<p>I found the answer in the <a href=\"https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\" rel=\"nofollow noreferrer\">Spring blog</a>. Apparently the roadmap includes switching to the jakarta namespace &quot;in Q4 2022&quot;:</p>\n<blockquote>\n<p>As announced at SpringOne yesterday, Spring Framework 6 and Spring\nBoot 3 are planned towards a high-end baseline for their general\navailability in Q4 2022:</p>\n<pre><code>Java 17+ (from Java 8-17 in the Spring Framework 5.3.x line)\nJakarta EE 9+ (from Java EE 7-8 in the Spring Framework 5.3.x line)\n</code></pre>\n<p>This forward-looking baseline will provide significant benefits in our\nAPI design and integration efforts, shining through to your\napplication code and future-proofing the framework as well as your\napplications for many years to come. However, it comes at a cost, of\ncourse: Spring Framework 6 and Spring Boot 3 based applications will\nrequire a minimum of JDK 17 at runtime, as well as a minimum of Tomcat\n10 / Jetty 11 (for Jakarta EE 9 compatibility). Even more importantly,\nthere might be some changes required in your application source code:\ne.g. the javax to jakarta namespace change in Jakarta EE 9 wherever\nyoure touching the Servlet API, JPA, Bean Validation, etc.</p>\n</blockquote>\n<p>It is thus a matter of waiting until the change is rolled out by Spring.</p>\n"}],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2000,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70295400,"answer_count":1,"score":4,"last_activity_date":1648543708,"creation_date":1638840274,"question_id":70253898,"body_markdown":"We are currently bumping dependency versions of a Spring project with persistence based on [JPA with Eclipselink](https://www.baeldung.com/spring-eclipselink). During the upgrade process I learned about [Eclipselink switching to Jakarta namespace](https://www.eclipse.org/eclipselink/releases/3.0.php) starting with version 3.0 due to legal reasons as explained in [this thread](https://stackoverflow.com/questions/60021815/why-has-javax-persistence-api-been-replaced-by-jakarta-persistence-api-in-spring).\r\n\r\nWe succeeded in updating the code so that we use Jakarta Persistence API 3.0.0 **independently** from Spring Data. The migration is quite straight forward:\r\n - Bump Eclipselink version to 3.0.x\r\n - Add an explicit dependency to Jakarta 3\r\n - Replace `javax.persistence` with `jakarta.persistence` in the code and in `persistence.xml`\r\n\r\nNow I am looking into configuring Spring Data to use Eclipselink with Jakarta 3.0.0, but I noticed Spring still depends on JAXB 2.2.3. When I override the version in my Maven project, Spring Data complains on startup:\r\n```\r\njava.lang.NoClassDefFoundError: javax/persistence/EntityManagerFactory\r\n\tat org.springframework.data.jpa.util.BeanDefinitionUtils.&lt;clinit&gt;(BeanDefinitionUtils.java:57)\r\n\tat org.springframework.data.jpa.repository.support.EntityManagerBeanDefinitionRegistrarPostProcessor.postProcessBeanFactory(EntityManagerBeanDefinitionRegistrarPostProcessor.java:72)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:191)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\r\n\tat com.mycompany.sandbox.springjpaeclipselinkfix.SpringApp.main(SpringApp.java:12)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.ClassNotFoundException: javax.persistence.EntityManagerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 18 common frames omitted\r\n```\r\nApparently, it tries to create a persistence unit called `default` and fails to load `javax/persistence/EntityManagerFactory` (obviously, it is now in the `jakarta.persistence` package).\r\n\r\nMy understanding is that Spring Data&#39;s code depends on Jakarta 2 and using Jakarta 3 is not supported. However, it should be possible to use Eclipselink as Spring Data persistence provider and Eclipselink does support Jakarta 3. I am puzzled at this point and I cannot find any current examples for this, only old stuff relating to `javax.persistence`.\r\n\r\n 1. **Is it possible to configure Spring Data to use Eclipselink 3 and Jakarta 3, or should I stick to the old namespace for now?**\r\n 2. **And if it&#39;s possible, can you point me to some current examples?**\r\n\r\nObviously, one could fork Spring Data JPA&#39;s code and do the migration but I have not enough resources to maintain a branch.\r\n\r\nI am posting also the relevant parts of my pom.xml (the rest resembles a standard Spring Data project):\r\n```xml\r\n&lt;project&gt;\r\n    ...\r\n    &lt;properties&gt;\r\n        ...\r\n        &lt;jakarta-persistence.version&gt;3.0.0&lt;/jakarta-persistence.version&gt;\r\n        &lt;eclipselink.version&gt;3.1.0-M1&lt;/eclipselink.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n\t&lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n                &lt;version&gt;${eclipselink.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${jakarta-persistence.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    ...\r\n&lt;/project&gt;\r\n```\r\n\r\nOther tags: Jakarta EE 9, Jakarta Persistence 3.0, Java 17.","title":"Using Spring Data 2.6.1 with Eclipselink and Jakarta 3, is it possible?","body":"<p>We are currently bumping dependency versions of a Spring project with persistence based on <a href=\"https://www.baeldung.com/spring-eclipselink\" rel=\"nofollow noreferrer\">JPA with Eclipselink</a>. During the upgrade process I learned about <a href=\"https://www.eclipse.org/eclipselink/releases/3.0.php\" rel=\"nofollow noreferrer\">Eclipselink switching to Jakarta namespace</a> starting with version 3.0 due to legal reasons as explained in <a href=\"https://stackoverflow.com/questions/60021815/why-has-javax-persistence-api-been-replaced-by-jakarta-persistence-api-in-spring\">this thread</a>.</p>\n<p>We succeeded in updating the code so that we use Jakarta Persistence API 3.0.0 <strong>independently</strong> from Spring Data. The migration is quite straight forward:</p>\n<ul>\n<li>Bump Eclipselink version to 3.0.x</li>\n<li>Add an explicit dependency to Jakarta 3</li>\n<li>Replace <code>javax.persistence</code> with <code>jakarta.persistence</code> in the code and in <code>persistence.xml</code></li>\n</ul>\n<p>Now I am looking into configuring Spring Data to use Eclipselink with Jakarta 3.0.0, but I noticed Spring still depends on JAXB 2.2.3. When I override the version in my Maven project, Spring Data complains on startup:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/persistence/EntityManagerFactory\n    at org.springframework.data.jpa.util.BeanDefinitionUtils.&lt;clinit&gt;(BeanDefinitionUtils.java:57)\n    at org.springframework.data.jpa.repository.support.EntityManagerBeanDefinitionRegistrarPostProcessor.postProcessBeanFactory(EntityManagerBeanDefinitionRegistrarPostProcessor.java:72)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:191)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\n    at com.mycompany.sandbox.springjpaeclipselinkfix.SpringApp.main(SpringApp.java:12)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.ClassNotFoundException: javax.persistence.EntityManagerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 18 common frames omitted\n</code></pre>\n<p>Apparently, it tries to create a persistence unit called <code>default</code> and fails to load <code>javax/persistence/EntityManagerFactory</code> (obviously, it is now in the <code>jakarta.persistence</code> package).</p>\n<p>My understanding is that Spring Data's code depends on Jakarta 2 and using Jakarta 3 is not supported. However, it should be possible to use Eclipselink as Spring Data persistence provider and Eclipselink does support Jakarta 3. I am puzzled at this point and I cannot find any current examples for this, only old stuff relating to <code>javax.persistence</code>.</p>\n<ol>\n<li><strong>Is it possible to configure Spring Data to use Eclipselink 3 and Jakarta 3, or should I stick to the old namespace for now?</strong></li>\n<li><strong>And if it's possible, can you point me to some current examples?</strong></li>\n</ol>\n<p>Obviously, one could fork Spring Data JPA's code and do the migration but I have not enough resources to maintain a branch.</p>\n<p>I am posting also the relevant parts of my pom.xml (the rest resembles a standard Spring Data project):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    ...\n    &lt;properties&gt;\n        ...\n        &lt;jakarta-persistence.version&gt;3.0.0&lt;/jakarta-persistence.version&gt;\n        &lt;eclipselink.version&gt;3.1.0-M1&lt;/eclipselink.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        ...\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            ...\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n                &lt;version&gt;${eclipselink.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta-persistence.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>Other tags: Jakarta EE 9, Jakarta Persistence 3.0, Java 17.</p>\n"},{"tags":["java","gzip"],"comments":[{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1432819080,"post_id":30507653,"comment_id":49090987,"body_markdown":"Show your code please, have you looked at ways to only read a part of the file?","body":"Show your code please, have you looked at ways to only read a part of the file?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":2,"creation_date":1432819162,"post_id":30507653,"comment_id":49091061,"body_markdown":"... so to be able to check the first 2 bytes you&#39;re tanking the entire file into memory?","body":"... so to be able to check the first 2 bytes you&#39;re tanking the entire file into memory?"},{"owner":{"account_id":3296493,"reputation":1463,"user_id":2773647,"accept_rate":67,"display_name":"cybersoft"},"score":0,"creation_date":1432819227,"post_id":30507653,"comment_id":49091123,"body_markdown":"use InputStream subclasses in package java.io","body":"use InputStream subclasses in package java.io"},{"owner":{"account_id":130037,"reputation":3126,"user_id":329001,"accept_rate":67,"display_name":"TekTimmy"},"score":1,"creation_date":1446549900,"post_id":30507653,"comment_id":54779451,"body_markdown":"You might also check http://stackoverflow.com/questions/4818468/how-to-check-if-inputstream-is-gzipped","body":"You might also check <a href=\"http://stackoverflow.com/questions/4818468/how-to-check-if-inputstream-is-gzipped\" title=\"how to check if inputstream is gzipped\">stackoverflow.com/questions/4818468/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3468193,"reputation":627,"user_id":2903252,"accept_rate":100,"display_name":"Luke Rixson"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1432819133,"creation_date":1432819133,"answer_id":30507742,"question_id":30507653,"body_markdown":"Use this package that I found on google:\r\n\r\n    package example;\r\n    &#160;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.RandomAccessFile;\r\n    import java.util.zip.GZIPInputStream;\r\n    &#160;\r\n    public class GZipUtil {\r\n    &#160;\r\n    &#160;/**\r\n    &#160;&#160;* Checks if an input stream is gzipped.\r\n    &#160;&#160;* \r\n    &#160;&#160;* @param in\r\n    &#160;&#160;* @return\r\n    &#160;&#160;*/\r\n    &#160;public static boolean isGZipped(InputStream in) {\r\n    &#160;&#160;if (!in.markSupported()) {\r\n    &#160;&#160;&#160;in = new BufferedInputStream(in);\r\n    &#160;&#160;}\r\n    &#160;&#160;in.mark(2);\r\n    &#160;&#160;int magic = 0;\r\n    &#160;&#160;try {\r\n    &#160;&#160;&#160;magic = in.read() &amp; 0xff | ((in.read() &lt;&lt; 8) &amp; 0xff00);\r\n    &#160;&#160;&#160;in.reset();\r\n    &#160;&#160;} catch (IOException e) {\r\n    &#160;&#160;&#160;e.printStackTrace(System.err);\r\n    &#160;&#160;&#160;return false;\r\n    &#160;&#160;}\r\n    &#160;&#160;return magic == GZIPInputStream.GZIP_MAGIC;\r\n    &#160;}\r\n    &#160;\r\n    &#160;/**\r\n    &#160;&#160;* Checks if a file is gzipped.\r\n    &#160;&#160;* \r\n    &#160;&#160;* @param f\r\n    &#160;&#160;* @return\r\n    &#160;&#160;*/\r\n    &#160;public static boolean isGZipped(File f) {\r\n    &#160;&#160;int magic = 0;\r\n    &#160;&#160;try {\r\n    &#160;&#160;&#160;RandomAccessFile raf = new RandomAccessFile(f, &quot;r&quot;);\r\n    &#160;&#160;&#160;magic = raf.read() &amp; 0xff | ((raf.read() &lt;&lt; 8) &amp; 0xff00);\r\n    &#160;&#160;&#160;raf.close();\r\n    &#160;&#160;} catch (Throwable e) {\r\n    &#160;&#160;&#160;e.printStackTrace(System.err);\r\n    &#160;&#160;}\r\n    &#160;&#160;return magic == GZIPInputStream.GZIP_MAGIC;\r\n    &#160;}\r\n    &#160;\r\n    &#160;public static void main(String[] args) throws FileNotFoundException {\r\n    &#160;&#160;File gzf = new File(&quot;/tmp/1.gz&quot;);\r\n    &#160;\r\n    &#160;&#160;// Check if a file is gzipped.\r\n    &#160;&#160;System.out.println(isGZipped(gzf));\r\n    &#160;\r\n    &#160;&#160;// Check if a input stream is gzipped.\r\n    &#160;&#160;System.out.println(isGZipped(new FileInputStream(gzf)));\r\n    &#160;}\r\n    }","title":"How to check whether file is gzip or not in Java","body":"<p>Use this package that I found on google:</p>\n\n<pre><code>package example;\n\nimport java.io.BufferedInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.RandomAccessFile;\nimport java.util.zip.GZIPInputStream;\n\npublic class GZipUtil {\n\n/**\n* Checks if an input stream is gzipped.\n* \n* @param in\n* @return\n*/\npublic static boolean isGZipped(InputStream in) {\nif (!in.markSupported()) {\nin = new BufferedInputStream(in);\n}\nin.mark(2);\nint magic = 0;\ntry {\nmagic = in.read() &amp; 0xff | ((in.read() &lt;&lt; 8) &amp; 0xff00);\nin.reset();\n} catch (IOException e) {\ne.printStackTrace(System.err);\nreturn false;\n}\nreturn magic == GZIPInputStream.GZIP_MAGIC;\n}\n\n/**\n* Checks if a file is gzipped.\n* \n* @param f\n* @return\n*/\npublic static boolean isGZipped(File f) {\nint magic = 0;\ntry {\nRandomAccessFile raf = new RandomAccessFile(f, \"r\");\nmagic = raf.read() &amp; 0xff | ((raf.read() &lt;&lt; 8) &amp; 0xff00);\nraf.close();\n} catch (Throwable e) {\ne.printStackTrace(System.err);\n}\nreturn magic == GZIPInputStream.GZIP_MAGIC;\n}\n\npublic static void main(String[] args) throws FileNotFoundException {\nFile gzf = new File(\"/tmp/1.gz\");\n\n// Check if a file is gzipped.\nSystem.out.println(isGZipped(gzf));\n\n// Check if a input stream is gzipped.\nSystem.out.println(isGZipped(new FileInputStream(gzf)));\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37236,"reputation":2594,"user_id":106418,"accept_rate":81,"display_name":"Nicholas Hirras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432819162,"creation_date":1432819162,"answer_id":30507750,"question_id":30507653,"body_markdown":"You should only read in 2 bytes from the file if that&#39;s all you&#39;re checking, it sounds like you&#39;re pulling the entire file into memory.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/essential/io/datastreams.html\r\n\r\n","title":"How to check whether file is gzip or not in Java","body":"<p>You should only read in 2 bytes from the file if that's all you're checking, it sounds like you're pulling the entire file into memory.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/io/datastreams.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/essential/io/datastreams.html</a></p>\n"},{"tags":[],"owner":{"account_id":6330065,"reputation":2114,"user_id":4915222,"display_name":"Peter Paul Kiefer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648543652,"creation_date":1432819200,"answer_id":30507765,"question_id":30507653,"body_markdown":"Use a gzip input stream http://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPInputStream.html . It throws an ZipException if you try to open another format. In your code you can catch this exception in a catch block.","title":"How to check whether file is gzip or not in Java","body":"<p>Use a gzip input stream <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPInputStream.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPInputStream.html</a> . It throws an ZipException if you try to open another format. In your code you can catch this exception in a catch block.</p>\n"},{"tags":[],"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1432820373,"creation_date":1432820373,"answer_id":30508247,"question_id":30507653,"body_markdown":"Try [Files.probeContentType(Path) \\[JDK 7\\]][1]\r\n\r\n    Path source = Paths.get(&quot;D:/myfiles/a.zip&quot;);\r\n    System.out.println(Files.probeContentType(source));\r\n\r\n\r\n**output**\r\n\r\n    application/x-zip-compressed\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html","title":"How to check whether file is gzip or not in Java","body":"<p>Try <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\">Files.probeContentType(Path) [JDK 7]</a></p>\n\n<pre><code>Path source = Paths.get(\"D:/myfiles/a.zip\");\nSystem.out.println(Files.probeContentType(source));\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>application/x-zip-compressed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1862796,"reputation":279,"user_id":1687020,"accept_rate":61,"display_name":"Ajay Sainy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432821836,"creation_date":1432821836,"answer_id":30508879,"question_id":30507653,"body_markdown":"This is what I am using\r\n\r\n    private static void decompressGzipFile(String gzipFilePath, String newFilePath) {\r\n            try {\r\n                FileInputStream fis = new FileInputStream(gzipFile);\r\n                GZIPInputStream gis = new GZIPInputStream(fis);\r\n                // If this line does not throw exception your file is GZip\r\n                // Your logic\r\n                \r\n                \r\n            } catch (IOException e) {\r\n                //Not in GZip Format\r\n            }\r\n             \r\n        }","title":"How to check whether file is gzip or not in Java","body":"<p>This is what I am using</p>\n\n<pre><code>private static void decompressGzipFile(String gzipFilePath, String newFilePath) {\n        try {\n            FileInputStream fis = new FileInputStream(gzipFile);\n            GZIPInputStream gis = new GZIPInputStream(fis);\n            // If this line does not throw exception your file is GZip\n            // Your logic\n\n\n        } catch (IOException e) {\n            //Not in GZip Format\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":6119213,"reputation":105,"user_id":4773279,"display_name":"Snehal Kulkarni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15015,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30507742,"answer_count":5,"score":8,"last_activity_date":1648543652,"creation_date":1432818865,"question_id":30507653,"body_markdown":"How to check whether file is gzip or not in java.\r\nI checked by reading first 2 bytes and comparing with magic code. But for large size of file getting OutOfMemoryError.\r\n\r\nAny one knows other way to do this?\r\n\r\nThis is the code I am using:\r\n\r\n    def isGzipCompressionFile(File file)\r\n    {\r\n       return ((file.bytes[0] == (byte) (GZIPInputStream.GZIP_MAGIC)) &amp;&amp; (file.bytes[1] == (byte) (GZIPInputStream.GZIP_MAGIC &gt;&gt; 8)))\r\n    }","title":"How to check whether file is gzip or not in Java","body":"<p>How to check whether file is gzip or not in java.\nI checked by reading first 2 bytes and comparing with magic code. But for large size of file getting OutOfMemoryError.</p>\n\n<p>Any one knows other way to do this?</p>\n\n<p>This is the code I am using:</p>\n\n<pre><code>def isGzipCompressionFile(File file)\n{\n   return ((file.bytes[0] == (byte) (GZIPInputStream.GZIP_MAGIC)) &amp;&amp; (file.bytes[1] == (byte) (GZIPInputStream.GZIP_MAGIC &gt;&gt; 8)))\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1648546526,"post_id":71659034,"comment_id":126645591,"body_markdown":"Which line in your code is line 85?","body":"Which line in your code is line 85?"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1648557823,"post_id":71659034,"comment_id":126650161,"body_markdown":"I solved it. Thanks anyway. After posted it, I found out that I didn&#39;t initialized ReadValueId Array.","body":"I solved it. Thanks anyway. After posted it, I found out that I didn&#39;t initialized ReadValueId Array."}],"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648543675,"answer_count":0,"score":0,"last_activity_date":1648543560,"creation_date":1648543560,"question_id":71659034,"body_markdown":"I&#39;m trying to modify my first version, where it had initialized values in an array and allow dynamically inserting elements into the vector. I do this because the number of elements to manage can change.\r\n\r\nMy first version:\r\n\r\n    public ReadandWrite(SessionChannel mySession,Logger logger,List&lt;NodeId&gt; listaReadNodi, Connection conn) {\r\n    \t\tthis.mySession = mySession;\r\n    \t\tthis.logger = logger;\r\n    \t\tthis.conn = conn;\r\n    \t\t\r\n    \t\t// Create nodes array\r\n    \t\tnodesToRead1 = new ReadValueId[]{\tnew ReadValueId(listaReadNodi.get(0), Attributes.Value, null, null),new ReadValueId(listaReadNodi.get(1), Attributes.Value, null, null),\r\n    \t\t\t\t\t\t\t\t\t\t\tnew ReadValueId(listaReadNodi.get(2), Attributes.Value, null, null),new ReadValueId(listaReadNodi.get(3), Attributes.Value, null, null),\r\n    \t\t\t\t\t\t\t\t\t\t\tnew ReadValueId(listaReadNodi.get(4), Attributes.Value, null, null)};\r\n    \t\t\r\n    \t\tcStatusPC = new CheckStatoMacchina();\r\n    \t\treadNodesArray = new ReadNodeArray();\r\n    \t\t\r\n    \t}\r\n\r\nNow I&#39;m trying to rewrite in this way:\r\n\r\n    public ReadandWrite(SessionChannel mySession,Logger logger,List&lt;NodeId&gt; listaReadNodi, Connection conn) {\r\n    \t\tthis.mySession = mySession;\r\n    \t\tthis.logger = logger;\r\n    \t\tthis.conn = conn;\r\n    \t\t\r\n    \t\t// Create nodes array\r\n    \t\t\r\n    \t\tList&lt;NodeId&gt; listaNodi = new ArrayList&lt;NodeId&gt;();\r\n    \t\t\r\n    \t\tlistaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;InProduzione\\&quot;&quot;));\r\n    \t\tlistaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;AusInseriti\\&quot;&quot;));\r\n    \t\tlistaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;InAllarme\\&quot;&quot;));\t\t\r\n    \t\tlistaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;CntBuoni\\&quot;&quot;));\r\n    \t\tlistaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;CntScarti\\&quot;&quot;));\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tint count=0;\r\n    \t\tfor(NodeId nodId: listaNodi) {\r\n    \t\t\t\r\n    \t\t\tnodesToRead1[count] = new ReadValueId(nodId, Attributes.Value, null, null);\r\n    \t\t\t\r\n    \t\t\tnodesToRead1 = Arrays.copyOf(nodesToRead1, count + 1);\r\n    \t\t\t\r\n    \t\t\r\n    \t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\tcStatusPC = new CheckStatoMacchina();\r\n    \t\treadNodesArray = new ReadNodeArray();\r\n    \t\t\r\n    \t}\r\nBut I get an Null Exception when I run the code.\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.ids.applicationProcessing.ReadandWrite.&lt;init&gt;(ReadandWrite.java:85)\r\n    \tat com.ids.main.IdsMain.main(IdsMain.java:85)\r\n\r\nand this statement retun null `nodesToRead1[count] = new ReadValueId(nodId, Attributes.Value, null, null);`\r\n\r\nlistaNodi isn&#39;t empty.\r\n\r\nIs there a way to insert those elements into the array? ","title":"Exception to insert Object into an Array java","body":"<p>I'm trying to modify my first version, where it had initialized values in an array and allow dynamically inserting elements into the vector. I do this because the number of elements to manage can change.</p>\n<p>My first version:</p>\n<pre><code>public ReadandWrite(SessionChannel mySession,Logger logger,List&lt;NodeId&gt; listaReadNodi, Connection conn) {\n        this.mySession = mySession;\n        this.logger = logger;\n        this.conn = conn;\n        \n        // Create nodes array\n        nodesToRead1 = new ReadValueId[]{   new ReadValueId(listaReadNodi.get(0), Attributes.Value, null, null),new ReadValueId(listaReadNodi.get(1), Attributes.Value, null, null),\n                                            new ReadValueId(listaReadNodi.get(2), Attributes.Value, null, null),new ReadValueId(listaReadNodi.get(3), Attributes.Value, null, null),\n                                            new ReadValueId(listaReadNodi.get(4), Attributes.Value, null, null)};\n        \n        cStatusPC = new CheckStatoMacchina();\n        readNodesArray = new ReadNodeArray();\n        \n    }\n</code></pre>\n<p>Now I'm trying to rewrite in this way:</p>\n<pre><code>public ReadandWrite(SessionChannel mySession,Logger logger,List&lt;NodeId&gt; listaReadNodi, Connection conn) {\n        this.mySession = mySession;\n        this.logger = logger;\n        this.conn = conn;\n        \n        // Create nodes array\n        \n        List&lt;NodeId&gt; listaNodi = new ArrayList&lt;NodeId&gt;();\n        \n        listaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;InProduzione\\&quot;&quot;));\n        listaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;AusInseriti\\&quot;&quot;));\n        listaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;InAllarme\\&quot;&quot;));     \n        listaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;CntBuoni\\&quot;&quot;));\n        listaNodi.add(new NodeId(3, &quot;\\&quot;Gest\\&quot;.\\&quot;CntScarti\\&quot;&quot;));\n        \n        try {\n            int count=0;\n        for(NodeId nodId: listaNodi) {\n            \n            nodesToRead1[count] = new ReadValueId(nodId, Attributes.Value, null, null);\n            \n            nodesToRead1 = Arrays.copyOf(nodesToRead1, count + 1);\n            \n        \n        }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n        \n        cStatusPC = new CheckStatoMacchina();\n        readNodesArray = new ReadNodeArray();\n        \n    }\n</code></pre>\n<p>But I get an Null Exception when I run the code.</p>\n<pre><code>java.lang.NullPointerException\n    at com.ids.applicationProcessing.ReadandWrite.&lt;init&gt;(ReadandWrite.java:85)\n    at com.ids.main.IdsMain.main(IdsMain.java:85)\n</code></pre>\n<p>and this statement retun null <code>nodesToRead1[count] = new ReadValueId(nodId, Attributes.Value, null, null);</code></p>\n<p>listaNodi isn't empty.</p>\n<p>Is there a way to insert those elements into the array?</p>\n"},{"tags":["java","loops","while-loop","user-input"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1647442700,"post_id":71499238,"comment_id":126372971,"body_markdown":"I tested your program after fixing the error that your last `System.out.println` is outside of the main method and cannot reproduce the issue you describe. It asks for exactly 10 numbers. However it does so by starting from `Enter number #2` to `Enter number #11` because you do `i++` directly at the start of your loop. Move it to the end of your loop or do `System.out.println(&quot;Enter number &quot; + &quot;#&quot; +(i-1));` to make that output better.","body":"I tested your program after fixing the error that your last <code>System.out.println</code> is outside of the main method and cannot reproduce the issue you describe. It asks for exactly 10 numbers. However it does so by starting from <code>Enter number #2</code> to <code>Enter number #11</code> because you do <code>i++</code> directly at the start of your loop. Move it to the end of your loop or do <code>System.out.println(&quot;Enter number &quot; + &quot;#&quot; +(i-1));</code> to make that output better."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647443424,"creation_date":1647443424,"answer_id":71499547,"question_id":71499238,"body_markdown":"In addition to those great comments, you should probably only increment &quot;i&quot; if you get a VALID input:\r\n\r\n    while(i &lt;= 10) {\r\n      System.out.print(&quot;Enter number &quot; + &quot;#&quot; +i + &quot;: &quot;);\r\n      boolean isValidNumber = sc.hasNextInt();\r\n      if(isValidNumber){\r\n        int userChoiceNumber = sc.nextInt();\r\n        sum += userChoiceNumber;\r\n        i++;\r\n      }else{\r\n        System.out.println(&quot;Invalid Input&quot;);\r\n        sc.next();\r\n      }\r\n    }\r\n\r\nNote that when you have a bad input you need to get rid of it with &quot;sc.next()&quot;.\r\n\r\n","title":"while loop incrementing an extra time","body":"<p>In addition to those great comments, you should probably only increment &quot;i&quot; if you get a VALID input:</p>\n<pre><code>while(i &lt;= 10) {\n  System.out.print(&quot;Enter number &quot; + &quot;#&quot; +i + &quot;: &quot;);\n  boolean isValidNumber = sc.hasNextInt();\n  if(isValidNumber){\n    int userChoiceNumber = sc.nextInt();\n    sum += userChoiceNumber;\n    i++;\n  }else{\n    System.out.println(&quot;Invalid Input&quot;);\n    sc.next();\n  }\n}\n</code></pre>\n<p>Note that when you have a bad input you need to get rid of it with &quot;sc.next()&quot;.</p>\n"},{"tags":[],"owner":{"account_id":17673227,"reputation":39,"user_id":12828860,"display_name":"FourEights"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648543560,"creation_date":1647443438,"answer_id":71499553,"question_id":71499238,"body_markdown":"First - make sure you&#39;re formatted correctly.\r\n(I&#39;ve indented your loops, moved your output into the main class, fixed up some curly brackets/loop endings).\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n    int i = 1, sum = 0;\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    while(i &lt;= 10){\r\n        i++;\r\n    \r\n        System.out.println(&quot;Enter number &quot; + &quot;#&quot; +i);\r\n        boolean isValidNumber = sc.hasNextInt();\r\n    \r\n        if(isValidNumber){\r\n            int userChoiceNumber = sc.nextInt();\r\n            sum += userChoiceNumber;\r\n        }\r\n        else{\r\n            System.out.println(&quot;Invalid Input&quot;);\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;The sum of your entered numbers are = &quot; + sum);\r\n}\r\n```\r\n\r\nAlright - so running the code, I&#39;ve found there are the correct amount of times asked, but the input prompt is displaying the wrong number with the first input prompt starting on 2, the last one on 11. \r\n\r\nThe reason for this is the `i++` runs before asking for an input, thus it counts up before outputting.\r\n\r\nThis can easily be fixed by moving said `i++` to just underneath the else clause - as follows:\r\n\r\n```\r\n        else{\r\n            System.out.println(&quot;Invalid Input&quot;);\r\n        }\r\n        i++\r\n    }\r\n```","title":"while loop incrementing an extra time","body":"<p>First - make sure you're formatted correctly.\n(I've indented your loops, moved your output into the main class, fixed up some curly brackets/loop endings).</p>\n<pre><code>public static void main(String[] args) {\n\n    int i = 1, sum = 0;\n    Scanner sc = new Scanner(System.in);\n\n    while(i &lt;= 10){\n        i++;\n    \n        System.out.println(&quot;Enter number &quot; + &quot;#&quot; +i);\n        boolean isValidNumber = sc.hasNextInt();\n    \n        if(isValidNumber){\n            int userChoiceNumber = sc.nextInt();\n            sum += userChoiceNumber;\n        }\n        else{\n            System.out.println(&quot;Invalid Input&quot;);\n        }\n    }\n\n    System.out.println(&quot;The sum of your entered numbers are = &quot; + sum);\n}\n</code></pre>\n<p>Alright - so running the code, I've found there are the correct amount of times asked, but the input prompt is displaying the wrong number with the first input prompt starting on 2, the last one on 11.</p>\n<p>The reason for this is the <code>i++</code> runs before asking for an input, thus it counts up before outputting.</p>\n<p>This can easily be fixed by moving said <code>i++</code> to just underneath the else clause - as follows:</p>\n<pre><code>        else{\n            System.out.println(&quot;Invalid Input&quot;);\n        }\n        i++\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23989960,"reputation":41,"user_id":17976262,"display_name":"Rage Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647444286,"creation_date":1647444286,"answer_id":71499780,"question_id":71499238,"body_markdown":"the main problem here is that you&#39;re increasing the variable at the start of your while loop. If that&#39;s what you&#39;re looking for then that&#39;s fine, but if you want to stop the loop when it hits 10 you&#39;ll need to have it like ```while(i &lt; 10)``` if the ```i++``` were at the end of the loop, then you could do ```while(i &lt;= 10)```\r\nEx:\r\n```java\r\ni = 0;\r\nwhile(i &lt; 10){\r\n    i++;\r\n    //code here\r\n}\r\n```\r\nthis will make the code that uses i use the values between 1 and 10. using &lt;= will use the values between 1 and 11.\r\n&lt;hr&gt;\r\nanother example:\r\n\r\n```java\r\ni = 0;\r\nwhile(i &lt; 10){\r\n    //code here\r\n    i++;\r\n}\r\n```\r\nthis will make the code that uses i use the values between 0 and 9. using &lt;= will use the values between 0 and 10.\r\n\r\n&lt;hr&gt;\r\n\r\nanother way people do an incremental loop is doing a ```for``` loop rather than a ```while``` loop\r\nthis would look like:\r\n```java\r\nfor(int i = 0; i &lt; 10; i++){\r\n    //code here\r\n}\r\n```\r\nthis also allows you to create a variable that will only be inside the loop, so rather than making it at the beginning of the method or before the loop, you could make it inside the for loop. This is not good if the variable is used elsewhere though.","title":"while loop incrementing an extra time","body":"<p>the main problem here is that you're increasing the variable at the start of your while loop. If that's what you're looking for then that's fine, but if you want to stop the loop when it hits 10 you'll need to have it like <code>while(i &lt; 10)</code> if the <code>i++</code> were at the end of the loop, then you could do <code>while(i &lt;= 10)</code>\nEx:</p>\n<pre class=\"lang-java prettyprint-override\"><code>i = 0;\nwhile(i &lt; 10){\n    i++;\n    //code here\n}\n</code></pre>\n<p>this will make the code that uses i use the values between 1 and 10. using &lt;= will use the values between 1 and 11.</p>\n<hr>\nanother example:\n<pre class=\"lang-java prettyprint-override\"><code>i = 0;\nwhile(i &lt; 10){\n    //code here\n    i++;\n}\n</code></pre>\n<p>this will make the code that uses i use the values between 0 and 9. using &lt;= will use the values between 0 and 10.</p>\n<hr>\n<p>another way people do an incremental loop is doing a <code>for</code> loop rather than a <code>while</code> loop\nthis would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; 10; i++){\n    //code here\n}\n</code></pre>\n<p>this also allows you to create a variable that will only be inside the loop, so rather than making it at the beginning of the method or before the loop, you could make it inside the for loop. This is not good if the variable is used elsewhere though.</p>\n"}],"owner":{"account_id":19986649,"reputation":5,"user_id":14648666,"display_name":"Shephali Shukla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71499547,"answer_count":3,"score":-1,"last_activity_date":1648543560,"creation_date":1647442350,"question_id":71499238,"body_markdown":"The below while loop runs an extra time. I am trying to perform a user input that accepts 10 valid numbers from the user and prints their sum. However, the while loop executes an extra time and asks for the 11th input.\r\n\r\n     import java.util.Scanner;\r\n     class userInput{\r\n     public static void main(String[] args) {\r\n        \r\n        int i = 1, sum = 0;\r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        while(i &lt;= 10){\r\n        i++;\r\n        \r\n        System.out.println(&quot;Enter number &quot; + &quot;#&quot; +i);\r\n        boolean isValidNumber = sc.hasNextInt();\r\n\r\n        if(isValidNumber){\r\n            int userChoiceNumber = sc.nextInt();\r\n            sum += userChoiceNumber;\r\n        }else{\r\n            System.out.println(&quot;Invalid Input&quot;);\r\n        }\r\n       }\r\n       System.out.println(&quot;The sum of your entered numbers are = &quot; + sum);\r\n   }\r\n}\r\n\r\n","title":"while loop incrementing an extra time","body":"<p>The below while loop runs an extra time. I am trying to perform a user input that accepts 10 valid numbers from the user and prints their sum. However, the while loop executes an extra time and asks for the 11th input.</p>\n<pre><code> import java.util.Scanner;\n class userInput{\n public static void main(String[] args) {\n    \n    int i = 1, sum = 0;\n    Scanner sc = new Scanner(System.in);\n\n    while(i &lt;= 10){\n    i++;\n    \n    System.out.println(&quot;Enter number &quot; + &quot;#&quot; +i);\n    boolean isValidNumber = sc.hasNextInt();\n\n    if(isValidNumber){\n        int userChoiceNumber = sc.nextInt();\n        sum += userChoiceNumber;\n    }else{\n        System.out.println(&quot;Invalid Input&quot;);\n    }\n   }\n   System.out.println(&quot;The sum of your entered numbers are = &quot; + sum);\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","random","junit","mockito","integration-testing"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1648540773,"post_id":71658397,"comment_id":126643347,"body_markdown":"you can&#39;t, nor should you.","body":"you can&#39;t, nor should you."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1648540795,"post_id":71658397,"comment_id":126643356,"body_markdown":"You can&#39;t. If you **really** need this variable you should turn it into an instance variable with appropriate getters.","body":"You can&#39;t. If you <b>really</b> need this variable you should turn it into an instance variable with appropriate getters."}],"answers":[{"tags":[],"owner":{"account_id":4331632,"reputation":838,"user_id":3536991,"accept_rate":93,"display_name":"TheITDejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648541311,"creation_date":1648541311,"answer_id":71658533,"question_id":71658397,"body_markdown":"You cannot, and you should not.\r\n\r\nIf you want to make it reusable, You should extract it to a `public static` variable within the class and reuse it elsewhere.\r\n\r\nAlso, if it&#39;s random, why do you need to have it reused? Just randomize it in test, too, or provide the `int` value as a method parameter, which kind of makes the most sense.","title":"How can I access the internal variable of a method in Java junit?","body":"<p>You cannot, and you should not.</p>\n<p>If you want to make it reusable, You should extract it to a <code>public static</code> variable within the class and reuse it elsewhere.</p>\n<p>Also, if it's random, why do you need to have it reused? Just randomize it in test, too, or provide the <code>int</code> value as a method parameter, which kind of makes the most sense.</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648541427,"creation_date":1648541427,"answer_id":71658559,"question_id":71658397,"body_markdown":"One thing you can do if you really need this is refactor your code:\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class MyClass {\r\n private&lt;Supplier&lt;Integer&gt;&gt; final random;\r\n \r\n public void method() {\r\n  int number = random.get();\r\n  // ...\r\n }\r\n}\r\n```\r\n\r\nYou can then inject it in the test\r\n\r\n```\r\npublic class MyTest {\r\n @Test\r\n public void testMethod() {\r\n  Supplier&lt;Integer&gt; supplier = () -&gt; 3;\r\n  MyClass sut = new MyClass(supplier);\r\n  sut.method(); // random in method will be 3\r\n }\r\n}\r\n```\r\n\r\nHowever, I assume you&#39;re doing something like this\r\n\r\n```\r\npublic void method() {\r\n int random = random.get(),\r\n service.call(random);\r\n}\r\n```\r\nthen you can use an ArgumentCaptor.\r\n```\r\n@Test\r\npublic void testMethod() {\r\n Service service = mock(Service.class);\r\n MyClass sut = new MyClass(service);\r\n myClass.method();\r\n ArgumentCaptor&lt;Integer&gt; captor = ArgumentCaptor.forClass(Integer.class);\r\n verify(service).call(captor.capture());\r\n // captor.value() now contains the value you&#39;re looking for\r\n}\r\n```","title":"How can I access the internal variable of a method in Java junit?","body":"<p>One thing you can do if you really need this is refactor your code:</p>\n<pre><code>@RequiredArgsConstructor\npublic class MyClass {\n private&lt;Supplier&lt;Integer&gt;&gt; final random;\n \n public void method() {\n  int number = random.get();\n  // ...\n }\n}\n</code></pre>\n<p>You can then inject it in the test</p>\n<pre><code>public class MyTest {\n @Test\n public void testMethod() {\n  Supplier&lt;Integer&gt; supplier = () -&gt; 3;\n  MyClass sut = new MyClass(supplier);\n  sut.method(); // random in method will be 3\n }\n}\n</code></pre>\n<p>However, I assume you're doing something like this</p>\n<pre><code>public void method() {\n int random = random.get(),\n service.call(random);\n}\n</code></pre>\n<p>then you can use an ArgumentCaptor.</p>\n<pre><code>@Test\npublic void testMethod() {\n Service service = mock(Service.class);\n MyClass sut = new MyClass(service);\n myClass.method();\n ArgumentCaptor&lt;Integer&gt; captor = ArgumentCaptor.forClass(Integer.class);\n verify(service).call(captor.capture());\n // captor.value() now contains the value you're looking for\n}\n</code></pre>\n"}],"owner":{"account_id":18920520,"reputation":11,"user_id":13804680,"display_name":"Sepehr Mollaei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1519,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71658559,"answer_count":2,"score":-2,"last_activity_date":1648543235,"creation_date":1648540743,"question_id":71658397,"body_markdown":"I have a function in which a random number is generated as shown below\r\n\r\n    public void method(){\r\n         int number = random();\r\n         // continue\r\n    }\r\nMy question is how can I access this variable without mocking random method?\r\n\r\nI need this variable for my test scenarios.","title":"How can I access the internal variable of a method in Java junit?","body":"<p>I have a function in which a random number is generated as shown below</p>\n<pre><code>public void method(){\n     int number = random();\n     // continue\n}\n</code></pre>\n<p>My question is how can I access this variable without mocking random method?</p>\n<p>I need this variable for my test scenarios.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1585574746,"post_id":60927548,"comment_id":107799926,"body_markdown":"Please edit your question and add your database structure as a screenshot and indicate the exact filtering that you want to get.","body":"Please edit your question and add your database structure as a screenshot and indicate the exact filtering that you want to get."},{"owner":{"account_id":4393361,"reputation":2351,"user_id":3581148,"accept_rate":65,"display_name":"Usman"},"score":0,"creation_date":1585577356,"post_id":60927548,"comment_id":107801492,"body_markdown":"screenshot and description added.","body":"screenshot and description added."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1585577614,"post_id":60927548,"comment_id":107801620,"body_markdown":"I&#39;m not sure I understand it totally. So you have list of ids and you want to get all documents that correspond with all those ids? Is this correct?","body":"I&#39;m not sure I understand it totally. So you have list of ids and you want to get all documents that correspond with all those ids? Is this correct?"},{"owner":{"account_id":4393361,"reputation":2351,"user_id":3581148,"accept_rate":65,"display_name":"Usman"},"score":0,"creation_date":1585579853,"post_id":60927548,"comment_id":107803019,"body_markdown":"Yes. And the number of ids exceed 10. Alternatively, I am thinking of getting each message individually using DocumentReference but this will drastically increase the number of individual get() commands (and the risk of failure also increases). So I want to make a solution where I can search all of them in one go.","body":"Yes. And the number of ids exceed 10. Alternatively, I am thinking of getting each message individually using DocumentReference but this will drastically increase the number of individual get() commands (and the risk of failure also increases). So I want to make a solution where I can search all of them in one go."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1585580431,"post_id":60927548,"comment_id":107803358,"body_markdown":"I understand now. Ok, I&#39;ll write you an answer.","body":"I understand now. Ok, I&#39;ll write you an answer."}],"answers":[{"tags":[],"owner":{"account_id":5294707,"reputation":1488,"user_id":4226162,"display_name":"Muhannad Fakhouri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585569661,"creation_date":1585565296,"answer_id":60928886,"question_id":60927548,"body_markdown":"Try the following\r\n\r\nCollectionReference collectionReference = \r\n\r\n    firebaseFirestore.collection(&quot;public_messages&quot;).whereIn(&quot;id&quot;, keys);\r\n    \r\n    collectionReference.get().addOnCompleteListener(..);","title":"Firestore collectionReference returns all documents","body":"<p>Try the following</p>\n\n<p>CollectionReference collectionReference = </p>\n\n<pre><code>firebaseFirestore.collection(\"public_messages\").whereIn(\"id\", keys);\n\ncollectionReference.get().addOnCompleteListener(..);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585581734,"creation_date":1585580993,"answer_id":60933591,"question_id":60927548,"body_markdown":"The key to solving this problem is to use Tasks&#39;s [whenAllSuccess(Collection&lt;? extends Task&lt;?&gt;&gt; tasks)](https://developer.android.com/reference/java/util/Collection.html):\r\n\r\n&gt; Returns a Task with a list of Task results that completes successfully when all of the specified Tasks complete successfully.\r\n\r\nLike in the following lines of code:\r\n\r\n    CollectionReference collectionReference = FirebaseFirestore.getInstance().collection(&quot;public_messages&quot;);\r\n    ArrayList&lt;String&gt; ids = new ArrayList&lt;&gt;(); //Contains your keys\r\n    ArrayList&lt;Task&lt;QuerySnapshot&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n    for (String id : ids) {\r\n        Task&lt;QuerySnapshot&gt; task = collectionReference.whereEqualTo(&quot;id&quot;, id).get();\r\n        tasks.add(task);\r\n    }\r\n\r\n    Tasks.whenAllSuccess(tasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n        @Override\r\n        public void onSuccess(List&lt;Object&gt; list) {\r\n            //Do what you need to do with your list\r\n            for (Object object : list) {\r\n                PublicMessage publicMessage = ((DocumentSnapshot) object).toObject(PublicMessage.class);\r\n            }\r\n            Log.d(&quot;TAG&quot;, &quot;Finished getting all &quot; + list.size() + &quot; documents&quot;);\r\n        }\r\n    });\r\n\r\nWhen the `onSuccess()` fires, you&#39;ll be sure that you&#39;ve got absolutely all documents.","title":"Firestore collectionReference returns all documents","body":"<p>The key to solving this problem is to use Tasks's <a href=\"https://developer.android.com/reference/java/util/Collection.html\" rel=\"nofollow noreferrer\">whenAllSuccess(Collection> tasks)</a>:</p>\n\n<blockquote>\n  <p>Returns a Task with a list of Task results that completes successfully when all of the specified Tasks complete successfully.</p>\n</blockquote>\n\n<p>Like in the following lines of code:</p>\n\n<pre><code>CollectionReference collectionReference = FirebaseFirestore.getInstance().collection(\"public_messages\");\nArrayList&lt;String&gt; ids = new ArrayList&lt;&gt;(); //Contains your keys\nArrayList&lt;Task&lt;QuerySnapshot&gt;&gt; tasks = new ArrayList&lt;&gt;();\nfor (String id : ids) {\n    Task&lt;QuerySnapshot&gt; task = collectionReference.whereEqualTo(\"id\", id).get();\n    tasks.add(task);\n}\n\nTasks.whenAllSuccess(tasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n    @Override\n    public void onSuccess(List&lt;Object&gt; list) {\n        //Do what you need to do with your list\n        for (Object object : list) {\n            PublicMessage publicMessage = ((DocumentSnapshot) object).toObject(PublicMessage.class);\n        }\n        Log.d(\"TAG\", \"Finished getting all \" + list.size() + \" documents\");\n    }\n});\n</code></pre>\n\n<p>When the <code>onSuccess()</code> fires, you'll be sure that you've got absolutely all documents.</p>\n"},{"tags":[],"owner":{"account_id":8133754,"reputation":662,"user_id":6126100,"display_name":"tn2000"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648542936,"creation_date":1648542936,"answer_id":71658896,"question_id":60927548,"body_markdown":"Try this:\r\n\r\n    // getting a reference to the collection\r\n    const collectionRef = collection(getFirestore(), &#39;COLLECTION-NAME&#39;);\r\n\r\n    //get the documents from the collection by its ref.\r\n    const querySnapshot = await getDocs(collectionRef);\r\n\r\n    // now you can run for each document with simple loop \r\n    querySnapshot.forEach((document) =&gt; {\r\n      console.log(document.id, &#39; =&gt; &#39;, document.data());\r\n    });","title":"Firestore collectionReference returns all documents","body":"<p>Try this:</p>\n<pre><code>// getting a reference to the collection\nconst collectionRef = collection(getFirestore(), 'COLLECTION-NAME');\n\n//get the documents from the collection by its ref.\nconst querySnapshot = await getDocs(collectionRef);\n\n// now you can run for each document with simple loop \nquerySnapshot.forEach((document) =&gt; {\n  console.log(document.id, ' =&gt; ', document.data());\n});\n</code></pre>\n"}],"owner":{"account_id":4393361,"reputation":2351,"user_id":3581148,"accept_rate":65,"display_name":"Usman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5618,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60933591,"answer_count":3,"score":3,"last_activity_date":1648542936,"creation_date":1585560396,"question_id":60927548,"body_markdown":"I am using Firebase Firestore to query some documents with a certain id. This is my structure:\r\n\r\nEDIT: SCREENSHOT AND DESCRIPTION ADDED JUST AFTER THIS LINE:\r\n\r\n\r\n\r\n```generatedId``` and ```id``` have the same value. I have a list of these &quot;id&quot; and I want to search the ```public_messages``` collection to return a list of items which my provided list of &quot;id&quot;.\r\n\r\n[![firestore structure][1]][1]\r\n\r\n    root\r\n    ----- public_messages\r\n    ---------- generatedId\r\n    -------------------- name\r\n    -------------------- id  \r\n    ---------- generatedId\r\n    -------------------- name\r\n    -------------------- id  \r\n    ----- other data\r\n\r\nI am using the following code to query the messages with a certain id:\r\n\r\n\r\n     ArrayList&lt;String&gt; keys ... (this has some keys)\r\n\r\n\t\tCollectionReference collectionReference = firebaseFirestore.collection(&quot;public_messages&quot;);\r\n\r\n\t\tfor (String id : keys) {\r\n\t\t\tcollectionReference.whereEqualTo(&quot;id&quot;, id);\r\n\t\t}\r\n\r\n\t\tcollectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n\t\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\t\tint count = 0;\r\n\t\t\t\t\tfor (QueryDocumentSnapshot document : task.getResult()) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tloog(&quot;total messages = &quot; + count);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, &quot;Error getting documents: &quot;, task.getException());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nIn ```onComplete```, the variable ```task.getResult()``` returns all the documents in the said collection. Consequently, the variable ```count``` represents the total number of documents in the said collection.\r\n\r\nI want to only query the results with the specified ids. The number of ids can exceed 10 (which is apparently the limit set by Google, and which limit I was trying to evade by using a for-loop). What should I do?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AWFps.png","title":"Firestore collectionReference returns all documents","body":"<p>I am using Firebase Firestore to query some documents with a certain id. This is my structure:</p>\n\n<p>EDIT: SCREENSHOT AND DESCRIPTION ADDED JUST AFTER THIS LINE:</p>\n\n<p><code>generatedId</code> and <code>id</code> have the same value. I have a list of these \"id\" and I want to search the <code>public_messages</code> collection to return a list of items which my provided list of \"id\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/AWFps.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AWFps.png\" alt=\"firestore structure\"></a></p>\n\n<pre><code>root\n----- public_messages\n---------- generatedId\n-------------------- name\n-------------------- id  \n---------- generatedId\n-------------------- name\n-------------------- id  \n----- other data\n</code></pre>\n\n<p>I am using the following code to query the messages with a certain id:</p>\n\n<pre><code> ArrayList&lt;String&gt; keys ... (this has some keys)\n\n    CollectionReference collectionReference = firebaseFirestore.collection(\"public_messages\");\n\n    for (String id : keys) {\n        collectionReference.whereEqualTo(\"id\", id);\n    }\n\n    collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                int count = 0;\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    count++;\n                }\n                loog(\"total messages = \" + count);\n            } else {\n                Log.d(\"TAG\", \"Error getting documents: \", task.getException());\n            }\n        }\n    });\n</code></pre>\n\n<p>In <code>onComplete</code>, the variable <code>task.getResult()</code> returns all the documents in the said collection. Consequently, the variable <code>count</code> represents the total number of documents in the said collection.</p>\n\n<p>I want to only query the results with the specified ids. The number of ids can exceed 10 (which is apparently the limit set by Google, and which limit I was trying to evade by using a for-loop). What should I do?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1648542746,"post_id":71658819,"comment_id":126644143,"body_markdown":"Android considers APKs to be distinct if they have distinct applicationId. Have you updated that one as well?","body":"Android considers APKs to be distinct if they have distinct applicationId. Have you updated that one as well?"}],"answers":[{"tags":[],"owner":{"account_id":11770076,"reputation":131,"user_id":8613355,"display_name":"Mert &#199;alkany&#252;rek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648542908,"creation_date":1648542908,"answer_id":71658889,"question_id":71658819,"body_markdown":"Open app level build.gradle file then under the android section there is an applicationId. You need to change it too.","title":"Why android studio apk rewrite my old App on installing to Android device?","body":"<p>Open app level build.gradle file then under the android section there is an applicationId. You need to change it too.</p>\n"}],"owner":{"account_id":20591283,"reputation":135,"user_id":15114844,"display_name":"yamut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648542908,"creation_date":1648542567,"question_id":71658819,"body_markdown":"I have crate a copy of my old android project and made lots of update and change Android name as well from Android Manifest. But when ever I install this new App to android device , it just erase my old app and install my current app. How can I keep both old and New Apk on android app ?","title":"Why android studio apk rewrite my old App on installing to Android device?","body":"<p>I have crate a copy of my old android project and made lots of update and change Android name as well from Android Manifest. But when ever I install this new App to android device , it just erase my old app and install my current app. How can I keep both old and New Apk on android app ?</p>\n"},{"tags":["java","caching","garbage-collection","jvm","heap-memory"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":1,"creation_date":1648136255,"post_id":71603019,"comment_id":126553021,"body_markdown":"Your use case is as close to an antipattern as I have ever seen. I would seriously look at going off-heap with something like JChronicle [ChronicleMap](https://github.com/OpenHFT/Chronicle-Map)","body":"Your use case is as close to an antipattern as I have ever seen. I would seriously look at going off-heap with something like JChronicle <a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"nofollow noreferrer\">ChronicleMap</a>"},{"owner":{"account_id":10220261,"reputation":807,"user_id":7544643,"display_name":"Debanik Dawn"},"score":0,"creation_date":1648140127,"post_id":71603019,"comment_id":126554698,"body_markdown":"Could you please elaborate as to why this is an anti-pattern? And what can be done to by-pass it?","body":"Could you please elaborate as to why this is an anti-pattern? And what can be done to by-pass it?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648215400,"post_id":71603019,"comment_id":126574607,"body_markdown":"What does `asMap()` do, create a view of the cache or a copy?","body":"What does <code>asMap()</code> do, create a view of the cache or a copy?"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1648454288,"post_id":71603019,"comment_id":126618666,"body_markdown":"Since you are doing a time-based reload (guessing from the behaviour shown in the gc log), you are guaranteeing that the cache will have moved into the old gen, so you are deliberately creating old gen memory churn. Remedies would be to move to a event based refresh (ie change the value in the cache only if there is one) or move off-heap.","body":"Since you are doing a time-based reload (guessing from the behaviour shown in the gc log), you are guaranteeing that the cache will have moved into the old gen, so you are deliberately creating old gen memory churn. Remedies would be to move to a event based refresh (ie change the value in the cache only if there is one) or move off-heap."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1648454614,"post_id":71603019,"comment_id":126618754,"body_markdown":"And the anti-pattern is using a time based total reload of a cache sized in the multi GB range.","body":"And the anti-pattern is using a time based total reload of a cache sized in the multi GB range."}],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648150688,"creation_date":1648150688,"answer_id":71608475,"question_id":71603019,"body_markdown":"&gt; I am hypothesizing that this is happening because of the refresh taking place and old objects are not being cleared as quickly as new ones are created. \r\n\r\nUsing an allocation profiler could help testing that hypothesis.\r\n\r\n&gt; What are the steps I can take to optimize this specific issue? I can use CMS or G1GC, but these spikes have to be flattened. The reason is, Full GC is getting kicked in and the app is going into Stop The World GC.\r\n\r\nA Full GC often indicates that the concurrent part of the collector cannot keep up with the allocation rate. But to verify you should check the GC logs for the Full GC reason.\r\nYou can try lowering the IHOP, providing additional CPU cores for concurrent GC work or pacing the refresh tasks so that they&#39;re more spread out over the 10 minute interval.\r\n\r\nYou should also check the GC heuristic logs for mixed collections (assuming G1GC) whether it manages to pick any regions at all for mixed collections. If it goes straight from young collections to a Full GC without any mixed collections then it&#39;s possible some other heuristics have issues due to the allocation patterns of your cache.","title":"Tuning the GC for large cache refresh","body":"<blockquote>\n<p>I am hypothesizing that this is happening because of the refresh taking place and old objects are not being cleared as quickly as new ones are created.</p>\n</blockquote>\n<p>Using an allocation profiler could help testing that hypothesis.</p>\n<blockquote>\n<p>What are the steps I can take to optimize this specific issue? I can use CMS or G1GC, but these spikes have to be flattened. The reason is, Full GC is getting kicked in and the app is going into Stop The World GC.</p>\n</blockquote>\n<p>A Full GC often indicates that the concurrent part of the collector cannot keep up with the allocation rate. But to verify you should check the GC logs for the Full GC reason.\nYou can try lowering the IHOP, providing additional CPU cores for concurrent GC work or pacing the refresh tasks so that they're more spread out over the 10 minute interval.</p>\n<p>You should also check the GC heuristic logs for mixed collections (assuming G1GC) whether it manages to pick any regions at all for mixed collections. If it goes straight from young collections to a Full GC without any mixed collections then it's possible some other heuristics have issues due to the allocation patterns of your cache.</p>\n"},{"tags":[],"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648542686,"creation_date":1648542686,"answer_id":71658845,"question_id":71603019,"body_markdown":"GC tuning might improve the symptoms a bit, but its better to tackle problems at the cause.\r\n\r\n**Smarter Loader**\r\n\r\nFirst, avoid that the whole cache content is replaced. Your application requires that data is refreshed and not older than 10 minutes. But most likely, only a small portion of data actually was modified. In case the data was not modified, keep the existing object. Implement `reload` in your `CacheLoader`. I assume it is not used yet.\r\n\r\nThe default implementation of `reload` is:\r\n\r\n````\r\n  public ListenableFuture&lt;V&gt; reload(K key, V oldValue) throws Exception {\r\n    checkNotNull(key);\r\n    checkNotNull(oldValue);\r\n    return Futures.immediateFuture(load(key));\r\n  }\r\n````\r\n\r\nMake sure `equals` is available on the value and change it to:\r\n\r\n````\r\n  public ListenableFuture&lt;V&gt; reload(K key, V oldValue) throws Exception {\r\n    checkNotNull(key);\r\n    checkNotNull(oldValue);\r\n    V newValue = load(key);\r\n    if (oldValue.equals(newValue)) {\r\n      newValue = oldValue;\r\n    }\r\n    return Futures.immediateFuture(newValue);\r\n  }\r\n````\r\n\r\nThis will still produce a lot of garbage but keeps the old generation and therefore avoids the full GC.\r\n\r\nIf your data source supports modification timestamps or hashes, there is a way to improve further. Here is a sketch of the idea:\r\n\r\n````\r\n  public ListenableFuture&lt;V&gt; reload(K key, V oldValue) throws Exception {\r\n    checkNotNull(key);\r\n    checkNotNull(oldValue);\r\n    V newValue = loadIfModifiedNullOtherwise(key, oldValue.stamp);\r\n    if (newValue == null) {\r\n      newValue = oldValue;\r\n    }\r\n    return Futures.immediateFuture(newValue);\r\n  }\r\n````\r\nAn example is HTTP `if-modified-since`. If the data is still fresh in the cache, no data is transmitted.\r\n\r\n**Use the cache features `expireAfterWrite` and `refreshAfterWrite`**\r\n\r\nRefreshing at a fixed interval is always producing a spike. Instead of scheduled refresh use cache features and build the cache with:\r\n\r\n````\r\n   builder\r\n     .expireAfterWrite(10, TimeUnit.MINUTES)\r\n     .refreshAfterWrite(5, TimeUnit.MINUTES);\r\n````\r\n\r\nThis will have the advantages:\r\n\r\n- It effectively randomizes the refresh activity because the load is triggered by user requests\r\n- It will reduce the memory footprint. After 10 minutes of no access a cached item would be removed\r\n- It most likely reduces the amount of load requests to the data source\r\n\r\nIt has a potential disadvantage, too. For the entries not accessed frequently, the access latency is getting higher, since the user request needs to wait for the load. In that area cache implementations could improve, but in most cases these features are good enough.\r\n\r\nPlease mind that Guava cache is no longer actively developed. Consider a more recent alternative.","title":"Tuning the GC for large cache refresh","body":"<p>GC tuning might improve the symptoms a bit, but its better to tackle problems at the cause.</p>\n<p><strong>Smarter Loader</strong></p>\n<p>First, avoid that the whole cache content is replaced. Your application requires that data is refreshed and not older than 10 minutes. But most likely, only a small portion of data actually was modified. In case the data was not modified, keep the existing object. Implement <code>reload</code> in your <code>CacheLoader</code>. I assume it is not used yet.</p>\n<p>The default implementation of <code>reload</code> is:</p>\n<pre><code>  public ListenableFuture&lt;V&gt; reload(K key, V oldValue) throws Exception {\n    checkNotNull(key);\n    checkNotNull(oldValue);\n    return Futures.immediateFuture(load(key));\n  }\n</code></pre>\n<p>Make sure <code>equals</code> is available on the value and change it to:</p>\n<pre><code>  public ListenableFuture&lt;V&gt; reload(K key, V oldValue) throws Exception {\n    checkNotNull(key);\n    checkNotNull(oldValue);\n    V newValue = load(key);\n    if (oldValue.equals(newValue)) {\n      newValue = oldValue;\n    }\n    return Futures.immediateFuture(newValue);\n  }\n</code></pre>\n<p>This will still produce a lot of garbage but keeps the old generation and therefore avoids the full GC.</p>\n<p>If your data source supports modification timestamps or hashes, there is a way to improve further. Here is a sketch of the idea:</p>\n<pre><code>  public ListenableFuture&lt;V&gt; reload(K key, V oldValue) throws Exception {\n    checkNotNull(key);\n    checkNotNull(oldValue);\n    V newValue = loadIfModifiedNullOtherwise(key, oldValue.stamp);\n    if (newValue == null) {\n      newValue = oldValue;\n    }\n    return Futures.immediateFuture(newValue);\n  }\n</code></pre>\n<p>An example is HTTP <code>if-modified-since</code>. If the data is still fresh in the cache, no data is transmitted.</p>\n<p><strong>Use the cache features <code>expireAfterWrite</code> and <code>refreshAfterWrite</code></strong></p>\n<p>Refreshing at a fixed interval is always producing a spike. Instead of scheduled refresh use cache features and build the cache with:</p>\n<pre><code>   builder\n     .expireAfterWrite(10, TimeUnit.MINUTES)\n     .refreshAfterWrite(5, TimeUnit.MINUTES);\n</code></pre>\n<p>This will have the advantages:</p>\n<ul>\n<li>It effectively randomizes the refresh activity because the load is triggered by user requests</li>\n<li>It will reduce the memory footprint. After 10 minutes of no access a cached item would be removed</li>\n<li>It most likely reduces the amount of load requests to the data source</li>\n</ul>\n<p>It has a potential disadvantage, too. For the entries not accessed frequently, the access latency is getting higher, since the user request needs to wait for the load. In that area cache implementations could improve, but in most cases these features are good enough.</p>\n<p>Please mind that Guava cache is no longer actively developed. Consider a more recent alternative.</p>\n"}],"owner":{"account_id":10220261,"reputation":807,"user_id":7544643,"display_name":"Debanik Dawn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648542686,"creation_date":1648126964,"question_id":71603019,"body_markdown":"I have a large cache in memory (implemented using `com.google.common.cache.LoadingCache`). This gets refreshed after 10 minutes by using a Scheduler like so:\r\n\r\n    ScheduledExecutorService refresher = Executors.newSingleThreadScheduledExecutor();\r\n        refresher.scheduleWithFixedDelay(\r\n                new Runnable() {\r\n                    public void run() {\r\n                        for (String key : cache.asMap().keySet()) {\r\n                            cache.refresh(key);\r\n                        }\r\n                    }\r\n                }, 0, 10, TimeUnit.MINUTES);\r\n\r\nThe problem I am facing is - there&#39;s a huge spike in the Old Generation space after every 10 minutes. I am hypothesizing that this is happening because of the refresh taking place and old objects are not being cleared as quickly as new ones are created. This can be seen in the graph below. (Note: this graph shows the CMS GC, but I get the same results with G1GC).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat are the steps I can take to optimize this specific issue? I can use CMS or G1GC, but these spikes have to be flattened. The reason is, Full GC is getting kicked in and the app is going into `Stop The World GC`. \r\n\r\nIs there anything I can do to optimise the code of the cache to refresh it more efficiently so that there are no sudden spikes?\r\n\r\n  [1]: https://i.stack.imgur.com/GDttS.png","title":"Tuning the GC for large cache refresh","body":"<p>I have a large cache in memory (implemented using <code>com.google.common.cache.LoadingCache</code>). This gets refreshed after 10 minutes by using a Scheduler like so:</p>\n<pre><code>ScheduledExecutorService refresher = Executors.newSingleThreadScheduledExecutor();\n    refresher.scheduleWithFixedDelay(\n            new Runnable() {\n                public void run() {\n                    for (String key : cache.asMap().keySet()) {\n                        cache.refresh(key);\n                    }\n                }\n            }, 0, 10, TimeUnit.MINUTES);\n</code></pre>\n<p>The problem I am facing is - there's a huge spike in the Old Generation space after every 10 minutes. I am hypothesizing that this is happening because of the refresh taking place and old objects are not being cleared as quickly as new ones are created. This can be seen in the graph below. (Note: this graph shows the CMS GC, but I get the same results with G1GC).</p>\n<p><a href=\"https://i.stack.imgur.com/GDttS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GDttS.png\" alt=\"enter image description here\" /></a></p>\n<p>What are the steps I can take to optimize this specific issue? I can use CMS or G1GC, but these spikes have to be flattened. The reason is, Full GC is getting kicked in and the app is going into <code>Stop The World GC</code>.</p>\n<p>Is there anything I can do to optimise the code of the cache to refresh it more efficiently so that there are no sudden spikes?</p>\n"},{"tags":["java","null","java-8","java-stream"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1371107169,"post_id":17081063,"comment_id":24704882,"body_markdown":"I&#39;d say it is up to the programmer to do the right thing here; the JVM and compiler can only do so much. Note that some collection implementations will not allow null values, however.","body":"I&#39;d say it is up to the programmer to do the right thing here; the JVM and compiler can only do so much. Note that some collection implementations will not allow null values, however."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":27,"creation_date":1469196908,"post_id":17081063,"comment_id":64451323,"body_markdown":"You can use `filter(Objects::nonNull)` with `Objects` from `java.utils`","body":"You can use <code>filter(Objects::nonNull)</code> with <code>Objects</code> from <code>java.utils</code>"}],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1371236361,"creation_date":1371236361,"answer_id":17115490,"question_id":17081063,"body_markdown":"Current thinking seems to be to &quot;tolerate&quot; nulls, that is, to allow them in general, although some operations are less tolerant and may end up throwing NPE. See the [discussion of nulls][1] on the Lambda Libraries expert group mailing list, specifically [this message][2]. Consensus around option #3 subsequently emerged (with a notable objection from Doug Lea). So yes, the OP&#39;s concern about pipelines blowing up with NPE is valid.\r\n\r\nIt&#39;s not for nothing that Tony Hoare referred to nulls as the [&quot;Billion Dollar Mistake.&quot;][3] Dealing with nulls is a real pain. Even with classic collections (without considering lambdas or streams) nulls are problematic. As [fge][4] mentioned in a comment, some collections allow nulls and others do not. With collections that allow nulls, this introduces ambiguities into the API. For example, with [Map.get()][5], a null return indicates either that the key is present and its value is null, or that the key is absent. One has to do extra work to disambiguate these cases.\r\n\r\nThe usual use for null is to denote the absence of a value. The approach for dealing with this proposed for Java SE 8 is to introduce a new [`java.util.Optional`][6] type, which encapsulates the presence/absence of a value, along with behaviors of supplying a default value, or throwing an exception, or calling a function, etc. if the value is absent. `Optional` is used only by new APIs, though, everything else in the system still has to put up with the possibility of nulls.\r\n\r\nMy advice is to avoid actual null references to the greatest extent possible. It&#39;s hard to see from the example given how there could be a &quot;null&quot; Otter. But if one were necessary, the OP&#39;s suggestions of filtering out null values, or mapping them to a sentinel object (the [Null Object Pattern][7]) are fine approaches.\r\n\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2012-September/thread.html\r\n  [2]: http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2012-September/000158.html\r\n  [3]: http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare\r\n  [4]: https://stackoverflow.com/users/1093528/fge\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/Map.html#get(java.lang.Object)\r\n  [6]: http://download.java.net/jdk8/docs/api/java/util/Optional.html\r\n  [7]: http://en.wikipedia.org/wiki/Null_Object_pattern","title":"How should we manage jdk8 stream for null values","body":"<p>Current thinking seems to be to \"tolerate\" nulls, that is, to allow them in general, although some operations are less tolerant and may end up throwing NPE. See the <a href=\"http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2012-September/thread.html\" rel=\"noreferrer\">discussion of nulls</a> on the Lambda Libraries expert group mailing list, specifically <a href=\"http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2012-September/000158.html\" rel=\"noreferrer\">this message</a>. Consensus around option #3 subsequently emerged (with a notable objection from Doug Lea). So yes, the OP's concern about pipelines blowing up with NPE is valid.</p>\n\n<p>It's not for nothing that Tony Hoare referred to nulls as the <a href=\"http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare\" rel=\"noreferrer\">\"Billion Dollar Mistake.\"</a> Dealing with nulls is a real pain. Even with classic collections (without considering lambdas or streams) nulls are problematic. As <a href=\"https://stackoverflow.com/users/1093528/fge\">fge</a> mentioned in a comment, some collections allow nulls and others do not. With collections that allow nulls, this introduces ambiguities into the API. For example, with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html#get(java.lang.Object)\" rel=\"noreferrer\">Map.get()</a>, a null return indicates either that the key is present and its value is null, or that the key is absent. One has to do extra work to disambiguate these cases.</p>\n\n<p>The usual use for null is to denote the absence of a value. The approach for dealing with this proposed for Java SE 8 is to introduce a new <a href=\"http://download.java.net/jdk8/docs/api/java/util/Optional.html\" rel=\"noreferrer\"><code>java.util.Optional</code></a> type, which encapsulates the presence/absence of a value, along with behaviors of supplying a default value, or throwing an exception, or calling a function, etc. if the value is absent. <code>Optional</code> is used only by new APIs, though, everything else in the system still has to put up with the possibility of nulls.</p>\n\n<p>My advice is to avoid actual null references to the greatest extent possible. It's hard to see from the example given how there could be a \"null\" Otter. But if one were necessary, the OP's suggestions of filtering out null values, or mapping them to a sentinel object (the <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"noreferrer\">Null Object Pattern</a>) are fine approaches.</p>\n"},{"tags":[],"owner":{"account_id":420176,"reputation":1466,"user_id":797745,"display_name":"bparry"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1457883035,"creation_date":1403364361,"answer_id":24343075,"question_id":17081063,"body_markdown":"Stuart&#39;s answer provides a great explanation, but I&#39;d like to provide another example.\r\n\r\nI ran into this issue when attempting to perform a `reduce` on a Stream containing null values (actually it was `LongStream.average()`, which is a type of reduction). Since average() returns `OptionalDouble`, I assumed the Stream could contain nulls but instead a NullPointerException was thrown. This is due to [Stuart&#39;s explanation](https://stackoverflow.com/a/17115490/797745) of null v. empty.\r\n\r\nSo, as the OP suggests, I added a filter like so:\r\n\r\n    list.stream()\r\n        .filter(o -&gt; o != null)\r\n        .reduce(..);\r\n\r\nOr as tangens pointed out below, use the predicate provided by the Java API:\r\n\r\n    list.stream()\r\n        .filter(Objects::nonNull)\r\n        .reduce(..);\r\n\r\nFrom the mailing list discussion Stuart linked:\r\n[Brian Goetz on nulls in Streams](http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2012-September/000112.html)","title":"How should we manage jdk8 stream for null values","body":"<p>Stuart's answer provides a great explanation, but I'd like to provide another example.</p>\n\n<p>I ran into this issue when attempting to perform a <code>reduce</code> on a Stream containing null values (actually it was <code>LongStream.average()</code>, which is a type of reduction). Since average() returns <code>OptionalDouble</code>, I assumed the Stream could contain nulls but instead a NullPointerException was thrown. This is due to <a href=\"https://stackoverflow.com/a/17115490/797745\">Stuart's explanation</a> of null v. empty.</p>\n\n<p>So, as the OP suggests, I added a filter like so:</p>\n\n<pre><code>list.stream()\n    .filter(o -&gt; o != null)\n    .reduce(..);\n</code></pre>\n\n<p>Or as tangens pointed out below, use the predicate provided by the Java API:</p>\n\n<pre><code>list.stream()\n    .filter(Objects::nonNull)\n    .reduce(..);\n</code></pre>\n\n<p>From the mailing list discussion Stuart linked:\n<a href=\"http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2012-September/000112.html\" rel=\"noreferrer\">Brian Goetz on nulls in Streams</a></p>\n"},{"tags":[],"owner":{"account_id":2427872,"reputation":299,"user_id":2119436,"display_name":"Ilan M"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1454616790,"creation_date":1440516238,"answer_id":32207995,"question_id":17081063,"body_markdown":"## An example how to avoid null e.g. use filter before groupingBy##\r\n\r\n&lt;p&gt;Filter out the null instances before groupingBy.&lt;/P&gt;\r\nHere is an example\r\n\r\n    MyObjectlist.stream()\r\n                .filter(p -&gt; p.getSomeInstance() != null)\r\n                .collect(Collectors.groupingBy(MyObject::getSomeInstance));","title":"How should we manage jdk8 stream for null values","body":"<h2>An example how to avoid null e.g. use filter before groupingBy</h2>\n\n<p><p>Filter out the null instances before groupingBy.</P>\nHere is an example</p>\n\n<pre><code>MyObjectlist.stream()\n            .filter(p -&gt; p.getSomeInstance() != null)\n            .collect(Collectors.groupingBy(MyObject::getSomeInstance));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1457120931,"creation_date":1457120931,"answer_id":35804859,"question_id":17081063,"body_markdown":"If you just want to filter null values out of a stream, you can simply use a method reference to [java.util.Objects.nonNull(Object)][1]. From its documentation:\r\n\r\n&gt;This method exists to be used as a [Predicate][2], `filter(Objects::nonNull)`\r\n\r\nFor example:\r\n\r\n    List&lt;String&gt; list = Arrays.asList( null, &quot;Foo&quot;, null, &quot;Bar&quot;, null, null);\r\n\t\t\r\n    list.stream()\r\n        .filter( Objects::nonNull )  // &lt;-- Filter out null values\r\n        .forEach( System.out::println );\r\n\r\nThis will print:\r\n\r\n    Foo\r\n    Bar\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#nonNull-java.lang.Object-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","title":"How should we manage jdk8 stream for null values","body":"<p>If you just want to filter null values out of a stream, you can simply use a method reference to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#nonNull-java.lang.Object-\">java.util.Objects.nonNull(Object)</a>. From its documentation:</p>\n\n<blockquote>\n  <p>This method exists to be used as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\">Predicate</a>, <code>filter(Objects::nonNull)</code></p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList( null, \"Foo\", null, \"Bar\", null, null);\n\nlist.stream()\n    .filter( Objects::nonNull )  // &lt;-- Filter out null values\n    .forEach( System.out::println );\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>Foo\nBar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":147,"is_accepted":false,"score":147,"last_activity_date":1573674284,"creation_date":1472482687,"answer_id":39209313,"question_id":17081063,"body_markdown":"Although the answers are 100% correct, a small suggestion to improve `null` case handling of the list itself with [Optional][1]:\r\n\r\n     List&lt;String&gt; listOfStuffFiltered = Optional.ofNullable(listOfStuff)\r\n                    .orElseGet(Collections::emptyList)\r\n                    .stream()\r\n                    .filter(Objects::nonNull)\r\n                    .collect(Collectors.toList());\r\n\r\nThe part `Optional.ofNullable(listOfStuff).orElseGet(Collections::emptyList)` will allow you to handle nicely the case when `listOfStuff` is null and return an emptyList instead of failing with NullPointerException.\r\n\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html","title":"How should we manage jdk8 stream for null values","body":"<p>Although the answers are 100% correct, a small suggestion to improve <code>null</code> case handling of the list itself with <a href=\"http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\" rel=\"noreferrer\">Optional</a>:</p>\n\n<pre><code> List&lt;String&gt; listOfStuffFiltered = Optional.ofNullable(listOfStuff)\n                .orElseGet(Collections::emptyList)\n                .stream()\n                .filter(Objects::nonNull)\n                .collect(Collectors.toList());\n</code></pre>\n\n<p>The part <code>Optional.ofNullable(listOfStuff).orElseGet(Collections::emptyList)</code> will allow you to handle nicely the case when <code>listOfStuff</code> is null and return an emptyList instead of failing with NullPointerException.</p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648542647,"creation_date":1648542647,"answer_id":71658835,"question_id":17081063,"body_markdown":"If you do not want to iterate two times (filter + map or any). Try this.\r\n\r\n    private static void trimAll() {\r\n        String[] emtLne = {&quot;&quot;, &quot; &quot;, &quot;  cc  &quot;, null, &quot;      xx   &quot;};\r\n        System.out.println(Arrays.stream(emtLne).map(val -&gt; (val != null) ? val.trim() : &quot;&quot;).collect(Collectors.joining()));\r\n    }\r\n\r\nOutput&lt;br&gt;\r\n`ccxx` ","title":"How should we manage jdk8 stream for null values","body":"<p>If you do not want to iterate two times (filter + map or any). Try this.</p>\n<pre><code>private static void trimAll() {\n    String[] emtLne = {&quot;&quot;, &quot; &quot;, &quot;  cc  &quot;, null, &quot;      xx   &quot;};\n    System.out.println(Arrays.stream(emtLne).map(val -&gt; (val != null) ? val.trim() : &quot;&quot;).collect(Collectors.joining()));\n}\n</code></pre>\n<p>Output<br>\n<code>ccxx</code></p>\n"}],"owner":{"account_id":1901046,"reputation":1521,"user_id":1716909,"display_name":"clement"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192075,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":17115490,"answer_count":6,"score":110,"last_activity_date":1648542647,"creation_date":1371106844,"question_id":17081063,"body_markdown":"I know the subject may be a bit `in advance` as the JDK8 is not yet released (and not for now anyway..) but I was reading some articles about the Lambda expressions and particularly the part related to the new collection API known as Stream.\r\n\r\nHere is the example as given in the [Java Magazine article][1] (it is an otter population algorithm..):\r\n\r\n    Set&lt;Otter&gt; otters = getOtters();\r\n    System.out.println(otters.stream()\r\n        .filter(o -&gt; !o.isWild())\r\n        .map(o -&gt; o.getKeeper())\r\n        .filter(k -&gt; k.isFemale())\r\n        .into(new ArrayList&lt;&gt;())\r\n        .size());\r\n\r\nMy question is what happen if in the middle of the Set internal iteration, one of the otter is null?\r\n\r\nI would expect a NullPointerException to be thrown but maybe am I still stuck in the previous development paradigm (non-functional), can someone enlighten me as how this should be handled?\r\n\r\nIf this really throw a NullPointerException, I find the feature quite dangerous and will have to be used only as below:\r\n\r\n - Developer to ensure there is no null value (maybe using a previous\r\n   .filter(o -&gt; o != null))\r\n - Developer to ensure the application is never\r\n   generating null otter or a special NullOtter object to deal with.\r\n\r\nWhat is the best option, or any other option?\r\n\r\n  [1]: http://www.oraclejavamagazine-digital.com/javamagazine_open/20130304#pg42","title":"How should we manage jdk8 stream for null values","body":"<p>I know the subject may be a bit <code>in advance</code> as the JDK8 is not yet released (and not for now anyway..) but I was reading some articles about the Lambda expressions and particularly the part related to the new collection API known as Stream.</p>\n<p>Here is the example as given in the <a href=\"http://www.oraclejavamagazine-digital.com/javamagazine_open/20130304#pg42\" rel=\"noreferrer\">Java Magazine article</a> (it is an otter population algorithm..):</p>\n<pre><code>Set&lt;Otter&gt; otters = getOtters();\nSystem.out.println(otters.stream()\n    .filter(o -&gt; !o.isWild())\n    .map(o -&gt; o.getKeeper())\n    .filter(k -&gt; k.isFemale())\n    .into(new ArrayList&lt;&gt;())\n    .size());\n</code></pre>\n<p>My question is what happen if in the middle of the Set internal iteration, one of the otter is null?</p>\n<p>I would expect a NullPointerException to be thrown but maybe am I still stuck in the previous development paradigm (non-functional), can someone enlighten me as how this should be handled?</p>\n<p>If this really throw a NullPointerException, I find the feature quite dangerous and will have to be used only as below:</p>\n<ul>\n<li>Developer to ensure there is no null value (maybe using a previous\n.filter(o -&gt; o != null))</li>\n<li>Developer to ensure the application is never\ngenerating null otter or a special NullOtter object to deal with.</li>\n</ul>\n<p>What is the best option, or any other option?</p>\n"},{"tags":["java","sockets","inputstream","bufferedreader"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648543537,"post_id":71658831,"comment_id":126644406,"body_markdown":"The difference isn&#39;t between `InputStream` and `BufferedReader`, it is between `read()` and `readLine()`. You aren&#39;t sending lines, so trying to read lines isn&#39;t going to work. Add a line terminate to the send.","body":"The difference isn&#39;t between <code>InputStream</code> and <code>BufferedReader</code>, it is between <code>read()</code> and <code>readLine()</code>. You aren&#39;t sending lines, so trying to read lines isn&#39;t going to work. Add a line terminate to the send."},{"owner":{"account_id":23924423,"reputation":1,"user_id":17919710,"display_name":"Joon Hee Song"},"score":0,"creation_date":1648599506,"post_id":71658831,"comment_id":126664019,"body_markdown":"I read request message with both.\\\nBut after reading message, I send response message to client socket.\\\nWith the first code, client socket gets response message, but with the second code, client cannot get response message.\\\n\nI send the same response message, but only by using first code, client gets response message.\n\nI wonder why the clients cannot receive message when I use second code!","body":"I read request message with both.\\ But after reading message, I send response message to client socket.\\ With the first code, client socket gets response message, but with the second code, client cannot get response message.\\  I send the same response message, but only by using first code, client gets response message.  I wonder why the clients cannot receive message when I use second code!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648629719,"post_id":71658831,"comment_id":126670431,"body_markdown":"I have no idea what you mean by the repeated backslashes, but if you aren&#39;t sending line terminates you can&#39;t read lines.","body":"I have no idea what you mean by the repeated backslashes, but if you aren&#39;t sending line terminates you can&#39;t read lines."},{"owner":{"account_id":23924423,"reputation":1,"user_id":17919710,"display_name":"Joon Hee Song"},"score":0,"creation_date":1648794527,"post_id":71658831,"comment_id":126719161,"body_markdown":"I can always read client message with using two codes. After reading client message, I always send message &quot;response message&quot; without line terminates with both of two codes. But the difference is client receive &quot;response message&quot; when server use the first code, and client can&#39;t receive &quot;response message&quot; when server use the second code. The difference of reading client message with InputStream and BufferedReader affects whether client can receive the server message &quot;response message&quot;. I wanna know the reason. Is the question now clear...?","body":"I can always read client message with using two codes. After reading client message, I always send message &quot;response message&quot; without line terminates with both of two codes. But the difference is client receive &quot;response message&quot; when server use the first code, and client can&#39;t receive &quot;response message&quot; when server use the second code. The difference of reading client message with InputStream and BufferedReader affects whether client can receive the server message &quot;response message&quot;. I wanna know the reason. Is the question now clear...?"}],"owner":{"account_id":23924423,"reputation":1,"user_id":17919710,"display_name":"Joon Hee Song"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648542617,"creation_date":1648542617,"question_id":71658831,"body_markdown":"``` java\r\n        try (\r\n                InputStream reader = socket.getInputStream();\r\n                OutputStream writer = socket.getOutputStream()\r\n        ) {\r\n            byte[] bytes = new byte[4096];\r\n            int byteLength = reader.read(bytes);\r\n            String message = new String(bytes, 0, byteLength, StandardCharsets.UTF_8);\r\n\r\n            writer.write(&quot;response message&quot;.getBytes());\r\n            writer.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n``` java\r\n        try (\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                OutputStream writer = socket.getOutputStream()\r\n        ) {\r\n            String message = reader.readLine();\r\n\r\n            writer.write(&quot;response message&quot;.getBytes());\r\n            writer.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nI made server socket. It returns response message when it receives message from client socket.\r\nWhen I use only InputStream (first code), the client socket gets response message.\r\nHowever when I use BufferedReader (second code), the client socket cannot get response message.\r\n\r\nThe way I send response message is same.\r\nHow I receive message is the only different.\r\n\r\nWhat&#39;s wrong with the second code?\r\nWhat&#39;s the difference between them?","title":"java difference between BufferedReader and InputStream when using socket","body":"<pre class=\"lang-java prettyprint-override\"><code>        try (\n                InputStream reader = socket.getInputStream();\n                OutputStream writer = socket.getOutputStream()\n        ) {\n            byte[] bytes = new byte[4096];\n            int byteLength = reader.read(bytes);\n            String message = new String(bytes, 0, byteLength, StandardCharsets.UTF_8);\n\n            writer.write(&quot;response message&quot;.getBytes());\n            writer.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>        try (\n                BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                OutputStream writer = socket.getOutputStream()\n        ) {\n            String message = reader.readLine();\n\n            writer.write(&quot;response message&quot;.getBytes());\n            writer.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I made server socket. It returns response message when it receives message from client socket.\nWhen I use only InputStream (first code), the client socket gets response message.\nHowever when I use BufferedReader (second code), the client socket cannot get response message.</p>\n<p>The way I send response message is same.\nHow I receive message is the only different.</p>\n<p>What's wrong with the second code?\nWhat's the difference between them?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":3,"creation_date":1648542462,"post_id":71658752,"comment_id":126644036,"body_markdown":"You mock the webclient and verify that the mock is called with the correct values.","body":"You mock the webclient and verify that the mock is called with the correct values."},{"owner":{"account_id":12142401,"reputation":141,"user_id":8865736,"display_name":"varuscn"},"score":0,"creation_date":1648542503,"post_id":71658752,"comment_id":126644050,"body_markdown":"you can mock a webclient as a mockbean to replace webclient in code.","body":"you can mock a webclient as a mockbean to replace webclient in code."},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648545218,"post_id":71658752,"comment_id":126645037,"body_markdown":"Can you add the transform to DTO logic as well to the question","body":"Can you add the transform to DTO logic as well to the question"}],"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648542275,"creation_date":1648542275,"question_id":71658752,"body_markdown":"Assuming I&#39;ve something like this:\r\n\r\n```\r\npublic void sendNotification(String uuid) {\r\n   List&lt;MyData&gt; dataList = myDataRepository.findAllById(uuid);\r\n   NotificationDto dto = new NotificationDto();\r\n   for (MyData data : dataList) {\r\n     // transform and append to dto\r\n   }\r\n\r\n   webclient.send(dto);\r\n}\r\n```\r\n\r\nHow can I unit test that given `myDataRepository` returns a list of xyz the right content is sent? Is the only way to extract the dto creation in a public method just for unit test purposes?","title":"How to unit test void methods whos result is calling a webclient?","body":"<p>Assuming I've something like this:</p>\n<pre><code>public void sendNotification(String uuid) {\n   List&lt;MyData&gt; dataList = myDataRepository.findAllById(uuid);\n   NotificationDto dto = new NotificationDto();\n   for (MyData data : dataList) {\n     // transform and append to dto\n   }\n\n   webclient.send(dto);\n}\n</code></pre>\n<p>How can I unit test that given <code>myDataRepository</code> returns a list of xyz the right content is sent? Is the only way to extract the dto creation in a public method just for unit test purposes?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8514,"page":1478,"page_size":100}
