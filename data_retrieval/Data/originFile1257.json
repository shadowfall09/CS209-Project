{"items":[{"tags":["java","linux","docker","dockerfile","logback"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1655409213,"post_id":72651014,"comment_id":128331987,"body_markdown":"For relative paths you need to be sure that the current working directory actually is what you expect.","body":"For relative paths you need to be sure that the current working directory actually is what you expect."},{"owner":{"account_id":22721943,"reputation":23,"user_id":16886349,"display_name":"Kirill"},"score":0,"creation_date":1655412769,"post_id":72651014,"comment_id":128333044,"body_markdown":"@Thorbj&#248;rnRavnAndersen , Please tell me more. What do you have in mind?","body":"@Thorbj&#248;rnRavnAndersen , Please tell me more. What do you have in mind?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1655414480,"post_id":72651014,"comment_id":128333546,"body_markdown":"Is the output of `pwd` Just before launching the application the location you have the `logs` folder in?","body":"Is the output of <code>pwd</code> Just before launching the application the location you have the <code>logs</code> folder in?"},{"owner":{"account_id":22721943,"reputation":23,"user_id":16886349,"display_name":"Kirill"},"score":0,"creation_date":1655437383,"post_id":72651014,"comment_id":128337213,"body_markdown":"@Thorbj&#248;rnRavnAndersen , I’ll probably say that it’s not always (rather, it’s not a permanent place). The application has logic that deletes this folder and then recreates it.\nIn fact, I would like to know if there is a way to &quot;extend&quot; the permissions on the working directory where I have the JAR?\nThat is, I need the log folder to be constantly re-created next to the JAR.","body":"@Thorbj&#248;rnRavnAndersen , I’ll probably say that it’s not always (rather, it’s not a permanent place). The application has logic that deletes this folder and then recreates it. In fact, I would like to know if there is a way to &quot;extend&quot; the permissions on the working directory where I have the JAR? That is, I need the log folder to be constantly re-created next to the JAR."}],"owner":{"account_id":22721943,"reputation":23,"user_id":16886349,"display_name":"Kirill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655407880,"creation_date":1655407880,"question_id":72651014,"body_markdown":"Good afternoon!&lt;br&gt;\r\nI&#39;m trying to deploy an application in a docker container as a JAR.&lt;br&gt;\r\nThe application itself during its work creates an additional folder with logs in the root of the project. I use logback as a logging tool.&lt;br&gt;\r\nFaced with the fact that the folder with logs is not created in the docker container, and the corresponding subfolders and files in them are not created in it. The default owner seems to be the root user.&lt;br&gt;\r\nLocally (without a container), the program successfully works on Windows, but not on Linux.&lt;br&gt;\r\nCan you please tell me where the problem might be?\r\n\r\nThe file &quot;logback-spring.xml&quot;:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n                &lt;Level&gt;INFO&lt;/Level&gt;\r\n            &lt;/filter&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%green(%d{dd.MM.yyyy HH:mm:ss.SSS}) %yellow([%thread]) %highlight(%-5level)  %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;logs/%d{yyyy-MM-dd}/slf4jlogback.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n                &lt;maxHistory&gt;2&lt;/maxHistory&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n                &lt;totalSizeCap&gt;100MB&lt;/totalSizeCap&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{dd.MM.yyyy HH:mm:ss.SSS} [%thread] %-5level  %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;ru.skillbox.socnetwork.logging.LoggingAspect&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger name=&quot;org.springframework.jdbc.core.JdbcTemplate&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThe file &quot;Dockerfile&quot;:\r\n\r\n    FROM adoptopenjdk/openjdk11:alpine-jre\r\n    ARG JAR_FILE=/build/libs/*.jar\r\n    WORKDIR /app\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\n\r\nInformation from the command line:\r\n\r\n    C:\\Users\\Kirill\\Documents&gt;docker exec -it container_name_example sh\r\n    /app # ls -l\r\n    total 90824\r\n    -rwxr-xr-x    1 root     root      93001049 Jun 16 18:40 app.jar\r\n    /app #","title":"Logback log files are not created in the docker container","body":"<p>Good afternoon!<br>\nI'm trying to deploy an application in a docker container as a JAR.<br>\nThe application itself during its work creates an additional folder with logs in the root of the project. I use logback as a logging tool.<br>\nFaced with the fact that the folder with logs is not created in the docker container, and the corresponding subfolders and files in them are not created in it. The default owner seems to be the root user.<br>\nLocally (without a container), the program successfully works on Windows, but not on Linux.<br>\nCan you please tell me where the problem might be?</p>\n<p>The file &quot;logback-spring.xml&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;Level&gt;INFO&lt;/Level&gt;\n        &lt;/filter&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%green(%d{dd.MM.yyyy HH:mm:ss.SSS}) %yellow([%thread]) %highlight(%-5level)  %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;logs/%d{yyyy-MM-dd}/slf4jlogback.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;2&lt;/maxHistory&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n            &lt;totalSizeCap&gt;100MB&lt;/totalSizeCap&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{dd.MM.yyyy HH:mm:ss.SSS} [%thread] %-5level  %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;ru.skillbox.socnetwork.logging.LoggingAspect&quot; level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;org.springframework.jdbc.core.JdbcTemplate&quot; level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>The file &quot;Dockerfile&quot;:</p>\n<pre><code>FROM adoptopenjdk/openjdk11:alpine-jre\nARG JAR_FILE=/build/libs/*.jar\nWORKDIR /app\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>Information from the command line:</p>\n<pre><code>C:\\Users\\Kirill\\Documents&gt;docker exec -it container_name_example sh\n/app # ls -l\ntotal 90824\n-rwxr-xr-x    1 root     root      93001049 Jun 16 18:40 app.jar\n/app #\n</code></pre>\n"},{"tags":["java","http","proxy","squid"],"comments":[{"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"score":0,"creation_date":1459189591,"post_id":36268092,"comment_id":60164254,"body_markdown":"Your value of proxyHost should not start with http:// but contains only hostname (or ip)","body":"Your value of proxyHost should not start with http:// but contains only hostname (or ip)"},{"owner":{"account_id":1385049,"reputation":2610,"user_id":1317271,"accept_rate":67,"display_name":"jobin"},"score":0,"creation_date":1459190379,"post_id":36268092,"comment_id":60164736,"body_markdown":"@boly38: Yes, `proxyHost` is just the ip right now (no `http://`)","body":"@boly38: Yes, <code>proxyHost</code> is just the ip right now (no <code>http:&#47;&#47;</code>)"}],"answers":[{"tags":[],"owner":{"account_id":7440166,"reputation":309,"user_id":5658170,"display_name":"An Do"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459190829,"creation_date":1459190829,"answer_id":36268913,"question_id":36268092,"body_markdown":"I think the problem is with your HttpClient, not the proxy. Did you try to create your HttpClient by using HttpClientBuilder.build()\r\n\r\n    HttpClient client = builder.build();","title":"How to use HttpClientBuilder with Http proxy?","body":"<p>I think the problem is with your HttpClient, not the proxy. Did you try to create your HttpClient by using HttpClientBuilder.build()</p>\n\n<pre><code>HttpClient client = builder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1459524543,"creation_date":1459508879,"answer_id":36354792,"question_id":36268092,"body_markdown":"&gt; java.lang.RuntimeException:\r\n&gt; org.apache.http.conn.UnsupportedSchemeException: http protocol is not\r\n&gt; supported\r\n\r\n[Why this problem occurs?][1]\r\n---\r\n**Ans:** This actually happens because `you forget to register a connection socket factory for the &#39;http&#39; scheme`.\r\n\r\nPlain `&#39;http&#39;` scheme must be used to establish an intermediate connection\r\nto the proxy itself before `&#39;https&#39;` tunneling could be employed.\r\n\r\n---\r\n\r\nFor operational purpose, you can try this code:\r\n\r\n    CloseableHttpClient client = HttpClients.custom()\r\n               .setRoutePlanner(new\r\n     SystemDefaultRoutePlanner(ProxySelector.getDefault()))\r\n               .build();\r\n\r\n---\r\n\r\nI would also suggest simple code for your research. Hope it can save you.\r\n\r\n[ClientExecuteProxy.java][2]\r\n\r\n    package org.apache.http.examples.client;\r\n    \r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    /**\r\n     * How to send a request via proxy.\r\n     *\r\n     * @since 4.0\r\n     */\r\n    public class ClientExecuteProxy {\r\n    \r\n        public static void main(String[] args)throws Exception {\r\n            CloseableHttpClient httpclient = HttpClients.createDefault();\r\n            try {\r\n                HttpHost target = new HttpHost(&quot;httpbin.org&quot;, 443, &quot;https&quot;);\r\n                HttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8080, &quot;http&quot;);\r\n    \r\n                RequestConfig config = RequestConfig.custom()\r\n                        .setProxy(proxy)\r\n                        .build();\r\n                HttpGet request = new HttpGet(&quot;/&quot;);\r\n                request.setConfig(config);\r\n    \r\n                System.out.println(&quot;Executing request &quot; + request.getRequestLine() + &quot; to &quot; + target + &quot; via &quot; + proxy);\r\n    \r\n                CloseableHttpResponse response = httpclient.execute(target, request);\r\n                try {\r\n                    System.out.println(&quot;----------------------------------------&quot;);\r\n                    System.out.println(response.getStatusLine());\r\n                    System.out.println(EntityUtils.toString(response.getEntity()));\r\n                } finally {\r\n                    response.close();\r\n                }\r\n            } finally {\r\n                httpclient.close();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n[Are you using using CloudantClient java API for Cloudant DB?][3]\r\n\r\n**Ans:** \r\n\r\nIf YES, then It turned out the issue with HTTP when setting a proxy was a bug at our end (sorry about that). We `released 1.2.1` with the fix for this problem. You can download jar file from [here][4]. (Collected from [mike-rhodes&#39;s answer][5])\r\n\r\n---\r\n\r\n**UPDATE**\r\n---\r\n\r\n&gt; **How do I specify the credentials for the proxy here?**\r\n\r\nFrom [HTTP authentication][6],\r\n\r\nBy default, httpclient will not provide credentials preemptively, `it will first create a HTTP request without authentication parameters`. This is by design, as a security precaution, and as part of the spec. But, this causes issues if you don&#39;t retry the connection, or wherever you&#39;re connecting to expects you to send authentication details on the first connection. It also causes extra latency to a request, as you need to make multiple calls, and causes 401s to appear in the logs.\r\n\r\nThe workaround is to use an authentication cache to pretend that you&#39;ve already connected to the server once. This means you&#39;ll only make one HTTP call.\r\n\r\n    CloseableHttpClient httpclient = HttpClientBuilder.create().build();\r\n    \r\n    HttpHost targetHost = new HttpHost(&quot;localhost&quot;, 80, &quot;http&quot;);\r\n    CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n    credsProvider.setCredentials(\r\n            new AuthScope(targetHost.getHostName(), targetHost.getPort()),\r\n            new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));\r\n    \r\n    // Create AuthCache instance\r\n    AuthCache authCache = new BasicAuthCache();\r\n    // Generate BASIC scheme object and add it to the local auth cache\r\n    BasicScheme basicAuth = new BasicScheme();\r\n    authCache.put(targetHost, basicAuth);\r\n    \r\n    // Add AuthCache to the execution context\r\n    HttpClientContext context = HttpClientContext.create();\r\n    context.setCredentialsProvider(credsProvider);\r\n    context.setAuthCache(authCache);\r\n    \r\n    HttpGet httpget = new HttpGet(&quot;/&quot;);\r\n    for (int i = 0; i &lt; 3; i++) {\r\n        CloseableHttpResponse response = httpclient.execute(\r\n                targetHost, httpget, context);\r\n        try {\r\n            HttpEntity entity = response.getEntity();\r\n    \r\n        } finally {\r\n            response.close();\r\n        }\r\n    }\r\n\r\n&gt; N.B: You need to trust the host you&#39;re connecting to, and if you&#39;re\r\n&gt; using HTTP, your username and password will be sent in cleartext\r\n&gt; (well, base64, but that doesn&#39;t count).\r\n&gt; \r\n&gt; You should also be using a much more specific Authscope rather than\r\n&gt; relying on `AuthScope.ANY_HOST` and `AuthScope.ANY_PORT` like in your\r\n&gt; example.\r\n\r\nCredit goes to [Cetra][7]\r\n\r\nRelated Links:\r\n\r\n 1. [HttpClientBuilder basic auth][8]\r\n 2. [Apache HttpClient 4.1 - Proxy Authentication][9]\r\n\r\n\r\n  [1]: http://mail-archives.apache.org/mod_mbox/hc-dev/201311.mbox/%3C528E1219.8010003@oracle.com%3E\r\n  [2]: http://hc.apache.org/httpcomponents-client-ga/httpclient/examples/org/apache/http/examples/client/ClientExecuteProxy.java\r\n  [3]: https://stackoverflow.com/questions/31691443/httphostconnectexception-using-cloudantclient-java-api-for-cloudant-db\r\n  [4]: http://mvnrepository.com/artifact/com.cloudant/cloudant-client/1.2.1\r\n  [5]: https://stackoverflow.com/users/290514/mike-rhodes\r\n  [6]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html\r\n  [7]: https://stackoverflow.com/users/15087/cetra\r\n  [8]: https://stackoverflow.com/questions/20914311/httpclientbuilder-basic-auth\r\n  [9]: https://stackoverflow.com/questions/6962047/apache-httpclient-4-1-proxy-authentication","title":"How to use HttpClientBuilder with Http proxy?","body":"<blockquote>\n  <p>java.lang.RuntimeException:\n  org.apache.http.conn.UnsupportedSchemeException: http protocol is not\n  supported</p>\n</blockquote>\n\n<h2><a href=\"http://mail-archives.apache.org/mod_mbox/hc-dev/201311.mbox/%3C528E1219.8010003@oracle.com%3E\" rel=\"noreferrer\">Why this problem occurs?</a></h2>\n\n<p><strong>Ans:</strong> This actually happens because <code>you forget to register a connection socket factory for the 'http' scheme</code>.</p>\n\n<p>Plain <code>'http'</code> scheme must be used to establish an intermediate connection\nto the proxy itself before <code>'https'</code> tunneling could be employed.</p>\n\n<hr>\n\n<p>For operational purpose, you can try this code:</p>\n\n<pre><code>CloseableHttpClient client = HttpClients.custom()\n           .setRoutePlanner(new\n SystemDefaultRoutePlanner(ProxySelector.getDefault()))\n           .build();\n</code></pre>\n\n<hr>\n\n<p>I would also suggest simple code for your research. Hope it can save you.</p>\n\n<p><a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/examples/org/apache/http/examples/client/ClientExecuteProxy.java\" rel=\"noreferrer\">ClientExecuteProxy.java</a></p>\n\n<pre><code>package org.apache.http.examples.client;\n\nimport org.apache.http.HttpHost;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\n/**\n * How to send a request via proxy.\n *\n * @since 4.0\n */\npublic class ClientExecuteProxy {\n\n    public static void main(String[] args)throws Exception {\n        CloseableHttpClient httpclient = HttpClients.createDefault();\n        try {\n            HttpHost target = new HttpHost(\"httpbin.org\", 443, \"https\");\n            HttpHost proxy = new HttpHost(\"127.0.0.1\", 8080, \"http\");\n\n            RequestConfig config = RequestConfig.custom()\n                    .setProxy(proxy)\n                    .build();\n            HttpGet request = new HttpGet(\"/\");\n            request.setConfig(config);\n\n            System.out.println(\"Executing request \" + request.getRequestLine() + \" to \" + target + \" via \" + proxy);\n\n            CloseableHttpResponse response = httpclient.execute(target, request);\n            try {\n                System.out.println(\"----------------------------------------\");\n                System.out.println(response.getStatusLine());\n                System.out.println(EntityUtils.toString(response.getEntity()));\n            } finally {\n                response.close();\n            }\n        } finally {\n            httpclient.close();\n        }\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/31691443/httphostconnectexception-using-cloudantclient-java-api-for-cloudant-db\">Are you using using CloudantClient java API for Cloudant DB?</a></p>\n\n<p><strong>Ans:</strong> </p>\n\n<p>If YES, then It turned out the issue with HTTP when setting a proxy was a bug at our end (sorry about that). We <code>released 1.2.1</code> with the fix for this problem. You can download jar file from <a href=\"http://mvnrepository.com/artifact/com.cloudant/cloudant-client/1.2.1\" rel=\"noreferrer\">here</a>. (Collected from <a href=\"https://stackoverflow.com/users/290514/mike-rhodes\">mike-rhodes's answer</a>)</p>\n\n<hr>\n\n<h2><strong>UPDATE</strong></h2>\n\n<blockquote>\n  <p><strong>How do I specify the credentials for the proxy here?</strong></p>\n</blockquote>\n\n<p>From <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html\" rel=\"noreferrer\">HTTP authentication</a>,</p>\n\n<p>By default, httpclient will not provide credentials preemptively, <code>it will first create a HTTP request without authentication parameters</code>. This is by design, as a security precaution, and as part of the spec. But, this causes issues if you don't retry the connection, or wherever you're connecting to expects you to send authentication details on the first connection. It also causes extra latency to a request, as you need to make multiple calls, and causes 401s to appear in the logs.</p>\n\n<p>The workaround is to use an authentication cache to pretend that you've already connected to the server once. This means you'll only make one HTTP call.</p>\n\n<pre><code>CloseableHttpClient httpclient = HttpClientBuilder.create().build();\n\nHttpHost targetHost = new HttpHost(\"localhost\", 80, \"http\");\nCredentialsProvider credsProvider = new BasicCredentialsProvider();\ncredsProvider.setCredentials(\n        new AuthScope(targetHost.getHostName(), targetHost.getPort()),\n        new UsernamePasswordCredentials(\"username\", \"password\"));\n\n// Create AuthCache instance\nAuthCache authCache = new BasicAuthCache();\n// Generate BASIC scheme object and add it to the local auth cache\nBasicScheme basicAuth = new BasicScheme();\nauthCache.put(targetHost, basicAuth);\n\n// Add AuthCache to the execution context\nHttpClientContext context = HttpClientContext.create();\ncontext.setCredentialsProvider(credsProvider);\ncontext.setAuthCache(authCache);\n\nHttpGet httpget = new HttpGet(\"/\");\nfor (int i = 0; i &lt; 3; i++) {\n    CloseableHttpResponse response = httpclient.execute(\n            targetHost, httpget, context);\n    try {\n        HttpEntity entity = response.getEntity();\n\n    } finally {\n        response.close();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>N.B: You need to trust the host you're connecting to, and if you're\n  using HTTP, your username and password will be sent in cleartext\n  (well, base64, but that doesn't count).</p>\n  \n  <p>You should also be using a much more specific Authscope rather than\n  relying on <code>AuthScope.ANY_HOST</code> and <code>AuthScope.ANY_PORT</code> like in your\n  example.</p>\n</blockquote>\n\n<p>Credit goes to <a href=\"https://stackoverflow.com/users/15087/cetra\">Cetra</a></p>\n\n<p>Related Links:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/20914311/httpclientbuilder-basic-auth\">HttpClientBuilder basic auth</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6962047/apache-httpclient-4-1-proxy-authentication\">Apache HttpClient 4.1 - Proxy Authentication</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1672698,"reputation":7302,"user_id":1538856,"accept_rate":78,"display_name":"JoeG"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1460054834,"creation_date":1460054496,"answer_id":36484612,"question_id":36268092,"body_markdown":"What you have should be very close to working.  I would make the following simple changes:\r\n\r\n    builder.useSystemProperties();\r\nDelete the call to useSystemProperties.  It isn&#39;t documented well, but when you set the Proxy (as you do in the next line), it overrides this, so just remove that line.\r\n\r\n    builder.setProxy(new HttpHost(proxyHost, proxyPort));\r\nCall the HttpHost constructor with the explicit &#39;scheme&#39; parameter.  This is where you are getting the error, so make it explicit:\r\n\r\n    String proxyScheme = &quot;http&quot;;\r\n    builder.setProxy(new HttpHost(proxyHost, proxyPort, proxyScheme));\r\n\r\nNote: you did not say, but based on the usage of &quot;BasicCredentialsProvider&quot;, this is only giving you &quot;Basic&quot; authentication.  Basic is only encoded and is not really secure.  For Digest or NTLM or Kerberos you will need different code.","title":"How to use HttpClientBuilder with Http proxy?","body":"<p>What you have should be very close to working.  I would make the following simple changes:</p>\n\n<pre><code>builder.useSystemProperties();\n</code></pre>\n\n<p>Delete the call to useSystemProperties.  It isn't documented well, but when you set the Proxy (as you do in the next line), it overrides this, so just remove that line.</p>\n\n<pre><code>builder.setProxy(new HttpHost(proxyHost, proxyPort));\n</code></pre>\n\n<p>Call the HttpHost constructor with the explicit 'scheme' parameter.  This is where you are getting the error, so make it explicit:</p>\n\n<pre><code>String proxyScheme = \"http\";\nbuilder.setProxy(new HttpHost(proxyHost, proxyPort, proxyScheme));\n</code></pre>\n\n<p>Note: you did not say, but based on the usage of \"BasicCredentialsProvider\", this is only giving you \"Basic\" authentication.  Basic is only encoded and is not really secure.  For Digest or NTLM or Kerberos you will need different code.</p>\n"},{"tags":[],"owner":{"account_id":12061826,"reputation":624,"user_id":8820559,"display_name":"Linden X. Quan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655407845,"creation_date":1655404763,"answer_id":72650501,"question_id":36268092,"body_markdown":"ChallengeState.PROXY would provide proxy-authorization header. \r\nHowever since v4.3, the code is deprecated. It still works in v4.5.\r\n\r\n     HttpHost proxyHost = this.getProxyHttpHost(config);\r\n     authCache.put(proxyHost, new BasicScheme(ChallengeState.PROXY));\r\n\r\nAnother way to have proxy-authorization header\r\n```\r\ncredsProvider.setCredentials(new AuthScope(&quot;127.0.0.1&quot;,&quot;8080&quot;),\r\n\t                 new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));\r\nbuilder.setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy());\r\nbuilder.setDefaultCredentialsProvider(credsProvider);\r\n```","title":"How to use HttpClientBuilder with Http proxy?","body":"<p>ChallengeState.PROXY would provide proxy-authorization header.\nHowever since v4.3, the code is deprecated. It still works in v4.5.</p>\n<pre><code> HttpHost proxyHost = this.getProxyHttpHost(config);\n authCache.put(proxyHost, new BasicScheme(ChallengeState.PROXY));\n</code></pre>\n<p>Another way to have proxy-authorization header</p>\n<pre><code>credsProvider.setCredentials(new AuthScope(&quot;127.0.0.1&quot;,&quot;8080&quot;),\n                     new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));\nbuilder.setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy());\nbuilder.setDefaultCredentialsProvider(credsProvider);\n</code></pre>\n"}],"owner":{"account_id":1385049,"reputation":2610,"user_id":1317271,"accept_rate":67,"display_name":"jobin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46386,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1655407845,"creation_date":1459188186,"question_id":36268092,"body_markdown":"I am trying to set proxy for a request I am making using `HttpClientBuilder` as follows:\r\n\r\n            CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n            UsernamePasswordCredentials usernamePasswordCredentials = new UsernamePasswordCredentials(proxyUser, proxyPassword);\r\n            credsProvider.setCredentials(new AuthScope(proxyHost, proxyPort), usernamePasswordCredentials);\r\n\r\n            builder.useSystemProperties();\r\n            builder.setProxy(new HttpHost(proxyHost, proxyPort));\r\n            builder.setDefaultCredentialsProvider(credsProvider);\r\n            builder.setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy());\r\n\r\nwhere builder is:\r\n\r\n        HttpClientBuilder builder = HttpClientBuilder.create();\r\n\r\nHowever, I get this exception when I execute this request:\r\n\r\n    java.lang.RuntimeException: org.apache.http.conn.UnsupportedSchemeException: http protocol is not supported\r\n    Caused by: org.apache.http.conn.UnsupportedSchemeException: http protocol is not supported\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:108) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.conn.BasicHttpClientConnectionManager.connect(BasicHttpClientConnectionManager.java:338) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:388) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107) ~[httpclient-4.5.1.jar:4.5.1]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55) ~[httpclient-4.5.1.jar:4.5.1]\r\n\r\n(exception shortened for brevity)\r\n\r\nSince this is an HTTP proxy, I don&#39;t want to change the scheme to HTTPS, which anyways won&#39;t work. How do I get this working?","title":"How to use HttpClientBuilder with Http proxy?","body":"<p>I am trying to set proxy for a request I am making using <code>HttpClientBuilder</code> as follows:</p>\n\n<pre><code>        CredentialsProvider credsProvider = new BasicCredentialsProvider();\n        UsernamePasswordCredentials usernamePasswordCredentials = new UsernamePasswordCredentials(proxyUser, proxyPassword);\n        credsProvider.setCredentials(new AuthScope(proxyHost, proxyPort), usernamePasswordCredentials);\n\n        builder.useSystemProperties();\n        builder.setProxy(new HttpHost(proxyHost, proxyPort));\n        builder.setDefaultCredentialsProvider(credsProvider);\n        builder.setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy());\n</code></pre>\n\n<p>where builder is:</p>\n\n<pre><code>    HttpClientBuilder builder = HttpClientBuilder.create();\n</code></pre>\n\n<p>However, I get this exception when I execute this request:</p>\n\n<pre><code>java.lang.RuntimeException: org.apache.http.conn.UnsupportedSchemeException: http protocol is not supported\nCaused by: org.apache.http.conn.UnsupportedSchemeException: http protocol is not supported\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:108) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.conn.BasicHttpClientConnectionManager.connect(BasicHttpClientConnectionManager.java:338) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:388) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107) ~[httpclient-4.5.1.jar:4.5.1]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55) ~[httpclient-4.5.1.jar:4.5.1]\n</code></pre>\n\n<p>(exception shortened for brevity)</p>\n\n<p>Since this is an HTTP proxy, I don't want to change the scheme to HTTPS, which anyways won't work. How do I get this working?</p>\n"},{"tags":["java","tomcat","resources","netbeans-8"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1655350101,"post_id":72625156,"comment_id":128313281,"body_markdown":"The underlying issue appears to be the `IllegalArgumentException` errors in the stack traces in the logs, with the message The _&quot;main resource set specified [G:\\PruebaJSP\\ff\\build\\web] is not valid&quot;_. But that is a generic message, and there are several questions on SO similar to yours, with multiple underlying causes/solutions. Try searching on SO for _&quot;main resource set specified&quot; &quot;is not valid&quot;_ and review the answers. If you are still stuck then update your question with what you attempted that did not resolve the issue.","body":"The underlying issue appears to be the <code>IllegalArgumentException</code> errors in the stack traces in the logs, with the message The <i>&quot;main resource set specified [G:\\PruebaJSP\\ff\\build\\web] is not valid&quot;</i>. But that is a generic message, and there are several questions on SO similar to yours, with multiple underlying causes/solutions. Try searching on SO for <i>&quot;main resource set specified&quot; &quot;is not valid&quot;</i> and review the answers. If you are still stuck then update your question with what you attempted that did not resolve the issue."}],"answers":[{"tags":[],"owner":{"account_id":25558049,"reputation":1,"user_id":19341163,"display_name":"Samir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655407497,"creation_date":1655407497,"answer_id":72650948,"question_id":72625156,"body_markdown":"After trying a lot of solutions, it was really easy. Apparently the problem was in the capital I of Index, the moment i changed the .jsp name to index, all in lowercases, the file run whithout problems.","title":"Error 404 requested resource is not available with tomcat in netbeans","body":"<p>After trying a lot of solutions, it was really easy. Apparently the problem was in the capital I of Index, the moment i changed the .jsp name to index, all in lowercases, the file run whithout problems.</p>\n"}],"owner":{"account_id":25558049,"reputation":1,"user_id":19341163,"display_name":"Samir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655407595,"creation_date":1655258547,"question_id":72625156,"body_markdown":"Whenever I try to run a **.jsp** with TomCat I get this error:\r\n\r\n[![404 error][1]][1]\r\n\r\nBut it&#39;s only with **.jsp** files. With **.html** files there are no problems. I have tried with Netbeans 13 and 8.2, and with TomCat and GlassFish, and always get the same error.\r\n\r\nThis is the structure of the project:\r\n\r\n[![Project structure][2]][2]\r\n\r\n\r\nThis is the **jsp** content:\r\n```\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThe xml content\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Context path=&quot;/WebApplication1&quot;/&gt;\r\n\r\n```\r\n\r\nAnd the server log\r\n\r\n```\r\n\r\nUsing CATALINA_BASE:   &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81&quot;\r\nUsing CATALINA_HOME:   &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81&quot;\r\nUsing CATALINA_TMPDIR: &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\temp&quot;\r\nUsing JRE_HOME:        &quot;G:\\Program Files\\Java\\jdk1.8.0_331&quot;\r\nUsing CLASSPATH:       &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\bin\\bootstrap.jar;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\bin\\tomcat-juli.jar&quot;\r\nUsing CATALINA_OPTS:   &quot;&quot;\r\n14-Jun-2022 22:45:59.386 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Nombre de la versi&#195;&#179;n del servidor: Apache Tomcat/8.5.81\r\n14-Jun-2022 22:45:59.401 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:                      Jun 8 2022 21:30:15 UTC\r\n14-Jun-2022 22:45:59.401 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log N&#195;&#186;mero de versi&#195;&#179;n de servidor:     8.5.81.0\r\n14-Jun-2022 22:45:59.401 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:                           Windows 10\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Versi&#195;&#179;n de Systema Operativo:      10.0\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Arquitectura:                      amd64\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:                         G:\\Program Files\\Java\\jdk1.8.0_331\\jre\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:                       1.8.0_331-b09\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Vededor JVM:                       Oracle Corporation\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:                     G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:                     G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.util.logging.config.file=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\logging.properties\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dhttp.nonProxyHosts=localhost|127.0.0.1|SALOMON-PC\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djdk.tls.ephemeralDHKeySize=2048\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dignore.endorsed.dirs=\r\n14-Jun-2022 22:45:59.402 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dcatalina.base=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\r\n14-Jun-2022 22:45:59.403 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dcatalina.home=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\r\n14-Jun-2022 22:45:59.403 INFORMACI&#195;“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.io.tmpdir=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\temp\r\n14-Jun-2022 22:45:59.403 INFORMACI&#195;“N [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Cargada la biblioteca nativa APR de Apache Tomcat [1.2.33] con la versi&#195;&#179;n APR [1.7.0].\r\n14-Jun-2022 22:45:59.403 INFORMACI&#195;“N [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Capacidades APR: IPv6 [true], enviar fichero [true], aceptar filtros [false], aleatorio [true], UDS [{4}].\r\n14-Jun-2022 22:45:59.403 INFORMACI&#195;“N [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\n14-Jun-2022 22:45:59.491 INFORMACI&#195;“N [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL inicializado correctamente [OpenSSL 1.1.1o  3 May 2022]\r\n14-Jun-2022 22:45:59.993 INFORMACI&#195;“N [main] org.apache.coyote.AbstractProtocol.init Inicializando el manejador de protocolo [&quot;http-nio-8080&quot;]\r\n\r\n14-Jun-2022 22:46:00.016 INFORMACI&#195;“N [main] org.apache.catalina.startup.Catalina.load Initialization processed in 959 ms\r\n14-Jun-2022 22:46:00.093 INFORMACI&#195;“N [main] org.apache.catalina.core.StandardService.startInternal Arrancando servicio [Catalina]\r\n14-Jun-2022 22:46:00.093 INFORMACI&#195;“N [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.81]\r\n14-Jun-2022 22:46:00.099 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Desplieque del descriptor de configuraci&#195;&#179;n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\ff.xml]\r\n14-Jun-2022 22:46:00.140 GRAVE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n\torg.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@7acb0d5d]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\r\n\t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:750)\r\n\tCaused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\ff\\build\\web] is not valid\r\n\t\tat org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\r\n\t\tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 13 more\r\n14-Jun-2022 22:46:00.140 GRAVE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error durante el despliegue del descriptor de configuraci&#195;&#179;n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\ff.xml]\r\n\tjava.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:757)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\r\n\t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:750)\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@7acb0d5d]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\r\n\t\t... 9 more\r\n\tCaused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\ff\\build\\web] is not valid\r\n\t\tat org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\r\n\t\tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 13 more\r\n14-Jun-2022 22:46:00.143 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\ff.xml] has finished in [42] ms\r\n14-Jun-2022 22:46:00.182 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Desplieque del descriptor de configuraci&#195;&#179;n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\PruebaJSP.xml]\r\n14-Jun-2022 22:46:00.186 GRAVE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n\torg.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@2ca1bc3d]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\r\n\t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:750)\r\n\tCaused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\PruebaJSP\\build\\web] is not valid\r\n\t\tat org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\r\n\t\tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 13 more\r\n14-Jun-2022 22:46:00.187 GRAVE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error durante el despliegue del descriptor de configuraci&#195;&#179;n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\PruebaJSP.xml]\r\n\tjava.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:757)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\r\n\t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:750)\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@2ca1bc3d]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\r\n\t\t... 9 more\r\n\tCaused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\PruebaJSP\\build\\web] is not valid\r\n\t\tat org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\r\n\t\tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 13 more\r\n14-Jun-2022 22:46:00.260 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\PruebaJSP.xml] has finished in [78] ms\r\n14-Jun-2022 22:46:00.261 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Desplieque del descriptor de configuraci&#195;&#179;n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\WebApplication1.xml]\r\n14-Jun-2022 22:46:00.620 ADVERTENCIA [localhost-startStop-1] org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [182] milliseconds.\r\n14-Jun-2022 22:46:00.632 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\WebApplication1.xml] has finished in [371] ms\r\n14-Jun-2022 22:46:00.632 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\docs] de la aplicaci&#195;&#179;n web\r\n14-Jun-2022 22:46:00.651 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\docs] has finished in [19] ms\r\n14-Jun-2022 22:46:00.651 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\examples] de la aplicaci&#195;&#179;n web\r\n14-Jun-2022 22:46:01.012 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\examples] has finished in [361] ms\r\n14-Jun-2022 22:46:01.013 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\host-manager] de la aplicaci&#195;&#179;n web\r\n14-Jun-2022 22:46:01.055 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\host-manager] has finished in [42] ms\r\n14-Jun-2022 22:46:01.055 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\manager] de la aplicaci&#195;&#179;n web\r\n14-Jun-2022 22:46:01.074 INFORMACI&#195;“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\manager] has finished in [19] ms\r\n14-Jun-2022 22:46:01.076 INFORMACI&#195;“N [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n14-Jun-2022 22:46:01.088 INFORMACI&#195;“N [main] org.apache.catalina.startup.Catalina.start Server startup in 1071 ms\r\n\r\n```\r\n\r\n**SOLUTION (at least in my case): Change the Index name of the .jsp to index (all in lowercase)**\r\n\r\n  [1]: https://i.stack.imgur.com/2bTMB.png\r\n  [2]: https://i.stack.imgur.com/xyM2N.png","title":"Error 404 requested resource is not available with tomcat in netbeans","body":"<p>Whenever I try to run a <strong>.jsp</strong> with TomCat I get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/2bTMB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2bTMB.png\" alt=\"404 error\" /></a></p>\n<p>But it's only with <strong>.jsp</strong> files. With <strong>.html</strong> files there are no problems. I have tried with Netbeans 13 and 8.2, and with TomCat and GlassFish, and always get the same error.</p>\n<p>This is the structure of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/xyM2N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xyM2N.png\" alt=\"Project structure\" /></a></p>\n<p>This is the <strong>jsp</strong> content:</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The xml content</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Context path=&quot;/WebApplication1&quot;/&gt;\n\n</code></pre>\n<p>And the server log</p>\n<pre><code>\nUsing CATALINA_BASE:   &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81&quot;\nUsing CATALINA_HOME:   &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81&quot;\nUsing CATALINA_TMPDIR: &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\temp&quot;\nUsing JRE_HOME:        &quot;G:\\Program Files\\Java\\jdk1.8.0_331&quot;\nUsing CLASSPATH:       &quot;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\bin\\bootstrap.jar;G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;\n14-Jun-2022 22:45:59.386 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Nombre de la versiÃ³n del servidor: Apache Tomcat/8.5.81\n14-Jun-2022 22:45:59.401 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:                      Jun 8 2022 21:30:15 UTC\n14-Jun-2022 22:45:59.401 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log NÃºmero de versiÃ³n de servidor:     8.5.81.0\n14-Jun-2022 22:45:59.401 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:                           Windows 10\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log VersiÃ³n de Systema Operativo:      10.0\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Arquitectura:                      amd64\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:                         G:\\Program Files\\Java\\jdk1.8.0_331\\jre\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:                       1.8.0_331-b09\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Vededor JVM:                       Oracle Corporation\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:                     G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:                     G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.util.logging.config.file=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\logging.properties\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dhttp.nonProxyHosts=localhost|127.0.0.1|SALOMON-PC\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djdk.tls.ephemeralDHKeySize=2048\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dignore.endorsed.dirs=\n14-Jun-2022 22:45:59.402 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dcatalina.base=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\n14-Jun-2022 22:45:59.403 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Dcatalina.home=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\n14-Jun-2022 22:45:59.403 INFORMACIÃ“N [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument:             -Djava.io.tmpdir=G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\temp\n14-Jun-2022 22:45:59.403 INFORMACIÃ“N [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Cargada la biblioteca nativa APR de Apache Tomcat [1.2.33] con la versiÃ³n APR [1.7.0].\n14-Jun-2022 22:45:59.403 INFORMACIÃ“N [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Capacidades APR: IPv6 [true], enviar fichero [true], aceptar filtros [false], aleatorio [true], UDS [{4}].\n14-Jun-2022 22:45:59.403 INFORMACIÃ“N [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\n14-Jun-2022 22:45:59.491 INFORMACIÃ“N [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL inicializado correctamente [OpenSSL 1.1.1o  3 May 2022]\n14-Jun-2022 22:45:59.993 INFORMACIÃ“N [main] org.apache.coyote.AbstractProtocol.init Inicializando el manejador de protocolo [&quot;http-nio-8080&quot;]\n\n14-Jun-2022 22:46:00.016 INFORMACIÃ“N [main] org.apache.catalina.startup.Catalina.load Initialization processed in 959 ms\n14-Jun-2022 22:46:00.093 INFORMACIÃ“N [main] org.apache.catalina.core.StandardService.startInternal Arrancando servicio [Catalina]\n14-Jun-2022 22:46:00.093 INFORMACIÃ“N [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.81]\n14-Jun-2022 22:46:00.099 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Desplieque del descriptor de configuraciÃ³n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\ff.xml]\n14-Jun-2022 22:46:00.140 GRAVE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n    org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@7acb0d5d]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\n    Caused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\ff\\build\\web] is not valid\n        at org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\n        at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 13 more\n14-Jun-2022 22:46:00.140 GRAVE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error durante el despliegue del descriptor de configuraciÃ³n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\ff.xml]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:757)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@7acb0d5d]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\n        ... 9 more\n    Caused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\ff\\build\\web] is not valid\n        at org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\n        at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 13 more\n14-Jun-2022 22:46:00.143 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\ff.xml] has finished in [42] ms\n14-Jun-2022 22:46:00.182 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Desplieque del descriptor de configuraciÃ³n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\PruebaJSP.xml]\n14-Jun-2022 22:46:00.186 GRAVE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n    org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@2ca1bc3d]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\n    Caused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\PruebaJSP\\build\\web] is not valid\n        at org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\n        at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 13 more\n14-Jun-2022 22:46:00.187 GRAVE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error durante el despliegue del descriptor de configuraciÃ³n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\PruebaJSP.xml]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:757)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:673)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1881)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@2ca1bc3d]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4880)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5018)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753)\n        ... 9 more\n    Caused by: java.lang.IllegalArgumentException: The main resource set specified [G:\\PruebaJSP\\PruebaJSP\\build\\web] is not valid\n        at org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:748)\n        at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:705)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 13 more\n14-Jun-2022 22:46:00.260 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\PruebaJSP.xml] has finished in [78] ms\n14-Jun-2022 22:46:00.261 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Desplieque del descriptor de configuraciÃ³n [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\WebApplication1.xml]\n14-Jun-2022 22:46:00.620 ADVERTENCIA [localhost-startStop-1] org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [182] milliseconds.\n14-Jun-2022 22:46:00.632 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\conf\\Catalina\\localhost\\WebApplication1.xml] has finished in [371] ms\n14-Jun-2022 22:46:00.632 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\docs] de la aplicaciÃ³n web\n14-Jun-2022 22:46:00.651 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\docs] has finished in [19] ms\n14-Jun-2022 22:46:00.651 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\examples] de la aplicaciÃ³n web\n14-Jun-2022 22:46:01.012 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\examples] has finished in [361] ms\n14-Jun-2022 22:46:01.013 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\host-manager] de la aplicaciÃ³n web\n14-Jun-2022 22:46:01.055 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\host-manager] has finished in [42] ms\n14-Jun-2022 22:46:01.055 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Desplegando el directorio [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\manager] de la aplicaciÃ³n web\n14-Jun-2022 22:46:01.074 INFORMACIÃ“N [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [G:\\Program Files\\apache-tomcat-8.5.81-windows-x64\\apache-tomcat-8.5.81\\webapps\\manager] has finished in [19] ms\n14-Jun-2022 22:46:01.076 INFORMACIÃ“N [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n14-Jun-2022 22:46:01.088 INFORMACIÃ“N [main] org.apache.catalina.startup.Catalina.start Server startup in 1071 ms\n\n</code></pre>\n<p><strong>SOLUTION (at least in my case): Change the Index name of the .jsp to index (all in lowercase)</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1486909,"reputation":8289,"user_id":1394953,"accept_rate":69,"display_name":"Alvin"},"score":1,"creation_date":1655394574,"post_id":72648377,"comment_id":128327097,"body_markdown":"@Chaosfire amt1 = 1.00 and amt2 = 1.00","body":"@Chaosfire amt1 = 1.00 and amt2 = 1.00"},{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":1,"creation_date":1655406555,"post_id":72648377,"comment_id":128331169,"body_markdown":"Do I understand you correctly that you want to get rid of the merge function where you do `new Sample()` in your stream? If so, why?","body":"Do I understand you correctly that you want to get rid of the merge function where you do <code>new Sample()</code> in your stream? If so, why?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655407371,"creation_date":1655398717,"answer_id":72649409,"question_id":72648377,"body_markdown":"&gt;I don&#39;t want to reassign the result to another Sample object.\r\n\r\nStreams are meant to be used to map values. Modifying existing state outside of the stream environment is ill advised as it can cause data inconsistencies in certain situations. But you can still do it very efficiently using Java 8+ map features. (Streams is not always the best or most efficient way of manipulating data.  There is nothing wrong with using loops.)\r\n\r\nHere is how I would do it. Here is the class definition with the only changes being.\r\n- a static copy method that returns a copied instance (Per suggestion by [M.C.Emperor](https://stackoverflow.com/users/507738/mc-emperor)).\r\n- an add method that adds the values and returns the current instance.\r\n```\r\nstatic class Sample {\r\n\tprivate String Id;\r\n\tprivate String acct;\r\n\tprivate BigDecimal amt1;\r\n\tprivate BigDecimal amt2;\r\n\tpublic Sample(String id, String acct, BigDecimal amt1,\r\n\t\t\tBigDecimal amt2) {\r\n\t\tId = id;\r\n\t\tthis.acct = acct;\r\n\t\tthis.amt1 = amt1;\r\n\t\tthis.amt2 = amt2;\t\r\n\t}\r\n\t\r\n\tpublic Sample(Sample sample) {\r\n\t\tthis(sample.Id, sample.acct,sample.amt1,sample.amt2);\r\n\t}\r\n\t\r\n\tpublic static Sample copyOf(Sample s) {\r\n\t\treturn new Sample(s.Id, s.acct, s.amt1,s.amt2);\r\n\t}\r\n\t\r\n    public Sample add(Sample sample) {\r\n\t\tamt1 = amt1.add(sample.amt1);\r\n\t\tamt2 = amt2.add(sample.amt2);\r\n\t\treturn this;\r\n\t}\r\n\t// other getters and setters\r\n\tpublic void setId(String id) {\r\n\t\tId = id;\r\n\t}\r\n\t\r\n\tpublic void setAcct(String acct) {\r\n\t\tthis.acct = acct;\r\n\t}\r\n\t\r\n\tpublic void setAmt1(BigDecimal amt1) {\r\n\t\tthis.amt1 = amt1;\r\n\t}\r\n\t\r\n\tpublic void setAmt2(BigDecimal amt2) {\r\n\t\tthis.amt2 = amt2;\r\n\t}\r\n\t\r\n\tpublic String getId() {\r\n\t\treturn Id;\r\n\t}\r\n\t\r\n\tpublic String getAcct() {\r\n\t\treturn acct;\r\n\t}\r\n\t\r\n\tpublic BigDecimal getAmt1() {\r\n\t\treturn amt1;\r\n\t}\r\n\t\r\n\tpublic BigDecimal getAmt2() {\r\n\t\treturn amt2;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn String.format(&quot;[%s, %s, %s, %s]&quot;, Id, acct, amt1,\r\n\t\t\t\tamt2);\r\n\t}\r\n\t\r\n}\r\n```\r\n**The Data**\r\n```\r\nList&lt;Sample&gt; collectedTxs = List.of(\r\n\t\tnew Sample(&quot;1&quot;, &quot;1111&quot;, new BigDecimal(&quot;.50&quot;),\r\n\t\t\t\tnew BigDecimal(&quot;.50&quot;)),\r\n\t\tnew Sample(&quot;2&quot;, &quot;1112&quot;, new BigDecimal(&quot;.50&quot;),\r\n\t\t\t\tnew BigDecimal(&quot;.50&quot;)),\r\n\t\tnew Sample(&quot;2&quot;, &quot;1112&quot;, new BigDecimal(&quot;1.50&quot;),\r\n\t\t\t\tnew BigDecimal(&quot;2.50&quot;)),\r\n\t\tnew Sample(&quot;1&quot;, &quot;1111&quot;, new BigDecimal(&quot;4.50&quot;),\r\n\t\t\t\tnew BigDecimal(&quot;8.50&quot;)));\r\n```\r\n**The Process**\r\n- Iterate over the list of accounts.\r\n- and use the merge method to combine the same accounts.\r\n- The acct is the key\r\n- `s` is the first encountered instance of each account.\r\n- and the `BiFunction` combines them via add using method reference\r\n```\r\nMap&lt;String,Sample&gt; map = new HashMap&lt;&gt;();\r\nfor (Sample s : collectedTxs) {\r\n\tmap.merge(s.getAcct(), s, Sample::add);\r\n}\r\n\r\n\r\nmap.forEach((k,v)-&gt; System.out.println(k + &quot; &quot; + v);\r\n```\r\n**prints**\r\n```\r\n1112 [2, 1112, 2.00, 3.00]\r\n1111 [1, 1111, 5.00, 9.00]\r\n```\r\nHere is the original data.  Note that the first accounts encountered in the iteration were changed.\r\n```\r\ncollectedTxs.forEach(System.out::println);\r\n\r\n[1, 1111, 5.00, 9.00]\r\n[2, 1112, 2.00, 3.00]\r\n[2, 1112, 1.50, 2.50]\r\n[1, 1111, 4.50, 8.50]\r\n```\r\nIf you want to preserve the original instances. Then make the following change in the map construct.\r\n```\r\nmap.merge(s.getAcct(),  Sample.copyOf(s), Sample::add);\r\n```\r\n\r\n","title":"Better way to do stream sum?","body":"<blockquote>\n<p>I don't want to reassign the result to another Sample object.</p>\n</blockquote>\n<p>Streams are meant to be used to map values. Modifying existing state outside of the stream environment is ill advised as it can cause data inconsistencies in certain situations. But you can still do it very efficiently using Java 8+ map features. (Streams is not always the best or most efficient way of manipulating data.  There is nothing wrong with using loops.)</p>\n<p>Here is how I would do it. Here is the class definition with the only changes being.</p>\n<ul>\n<li>a static copy method that returns a copied instance (Per suggestion by <a href=\"https://stackoverflow.com/users/507738/mc-emperor\">M.C.Emperor</a>).</li>\n<li>an add method that adds the values and returns the current instance.</li>\n</ul>\n<pre><code>static class Sample {\n    private String Id;\n    private String acct;\n    private BigDecimal amt1;\n    private BigDecimal amt2;\n    public Sample(String id, String acct, BigDecimal amt1,\n            BigDecimal amt2) {\n        Id = id;\n        this.acct = acct;\n        this.amt1 = amt1;\n        this.amt2 = amt2;   \n    }\n    \n    public Sample(Sample sample) {\n        this(sample.Id, sample.acct,sample.amt1,sample.amt2);\n    }\n    \n    public static Sample copyOf(Sample s) {\n        return new Sample(s.Id, s.acct, s.amt1,s.amt2);\n    }\n    \n    public Sample add(Sample sample) {\n        amt1 = amt1.add(sample.amt1);\n        amt2 = amt2.add(sample.amt2);\n        return this;\n    }\n    // other getters and setters\n    public void setId(String id) {\n        Id = id;\n    }\n    \n    public void setAcct(String acct) {\n        this.acct = acct;\n    }\n    \n    public void setAmt1(BigDecimal amt1) {\n        this.amt1 = amt1;\n    }\n    \n    public void setAmt2(BigDecimal amt2) {\n        this.amt2 = amt2;\n    }\n    \n    public String getId() {\n        return Id;\n    }\n    \n    public String getAcct() {\n        return acct;\n    }\n    \n    public BigDecimal getAmt1() {\n        return amt1;\n    }\n    \n    public BigDecimal getAmt2() {\n        return amt2;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;[%s, %s, %s, %s]&quot;, Id, acct, amt1,\n                amt2);\n    }\n    \n}\n</code></pre>\n<p><strong>The Data</strong></p>\n<pre><code>List&lt;Sample&gt; collectedTxs = List.of(\n        new Sample(&quot;1&quot;, &quot;1111&quot;, new BigDecimal(&quot;.50&quot;),\n                new BigDecimal(&quot;.50&quot;)),\n        new Sample(&quot;2&quot;, &quot;1112&quot;, new BigDecimal(&quot;.50&quot;),\n                new BigDecimal(&quot;.50&quot;)),\n        new Sample(&quot;2&quot;, &quot;1112&quot;, new BigDecimal(&quot;1.50&quot;),\n                new BigDecimal(&quot;2.50&quot;)),\n        new Sample(&quot;1&quot;, &quot;1111&quot;, new BigDecimal(&quot;4.50&quot;),\n                new BigDecimal(&quot;8.50&quot;)));\n</code></pre>\n<p><strong>The Process</strong></p>\n<ul>\n<li>Iterate over the list of accounts.</li>\n<li>and use the merge method to combine the same accounts.</li>\n<li>The acct is the key</li>\n<li><code>s</code> is the first encountered instance of each account.</li>\n<li>and the <code>BiFunction</code> combines them via add using method reference</li>\n</ul>\n<pre><code>Map&lt;String,Sample&gt; map = new HashMap&lt;&gt;();\nfor (Sample s : collectedTxs) {\n    map.merge(s.getAcct(), s, Sample::add);\n}\n\n\nmap.forEach((k,v)-&gt; System.out.println(k + &quot; &quot; + v);\n</code></pre>\n<p><strong>prints</strong></p>\n<pre><code>1112 [2, 1112, 2.00, 3.00]\n1111 [1, 1111, 5.00, 9.00]\n</code></pre>\n<p>Here is the original data.  Note that the first accounts encountered in the iteration were changed.</p>\n<pre><code>collectedTxs.forEach(System.out::println);\n\n[1, 1111, 5.00, 9.00]\n[2, 1112, 2.00, 3.00]\n[2, 1112, 1.50, 2.50]\n[1, 1111, 4.50, 8.50]\n</code></pre>\n<p>If you want to preserve the original instances. Then make the following change in the map construct.</p>\n<pre><code>map.merge(s.getAcct(),  Sample.copyOf(s), Sample::add);\n</code></pre>\n"}],"owner":{"account_id":1486909,"reputation":8289,"user_id":1394953,"accept_rate":69,"display_name":"Alvin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72649409,"answer_count":1,"score":-1,"last_activity_date":1655407371,"creation_date":1655393587,"question_id":72648377,"body_markdown":"I have an object \r\n\r\n    public class Sample {\r\n       private String Id;\r\n       ...\r\n       private String acct;\r\n       private BigDecimal amt1;\r\n       private BigDecimal amt3;\r\n    }\r\n\r\nI have a list \r\n\r\n    Id | acct  |  amt1   |  amt2   \r\n    1  |  1111  |  0.50   |  0.50 \r\n    2  |  1112  |  0.50   |  0.50 \r\n\r\nI want to sum amt1 and amt2 from a list \r\n\r\n    Map&lt;Object, Sample&gt; map = collectedTxs.stream()\r\n            .collect(Collectors.toMap(\r\n                f -&gt; f.getAcct(),\r\n                Function.identity(),\r\n                (s, a) -&gt; new Sample(\r\n                    s.getId(),\r\n                    s.getAcct(),\r\n                    s.getAmt1().add(a.getAmt1()),\r\n                    s.getAmt2().add(a.getAmt2()),\r\n                ), LinkedHashMap::new));\r\n\r\nIs there any better way to do it? I don&#39;t want to reassign the result to another Sample object.","title":"Better way to do stream sum?","body":"<p>I have an object</p>\n<pre><code>public class Sample {\n   private String Id;\n   ...\n   private String acct;\n   private BigDecimal amt1;\n   private BigDecimal amt3;\n}\n</code></pre>\n<p>I have a list</p>\n<pre><code>Id | acct  |  amt1   |  amt2   \n1  |  1111  |  0.50   |  0.50 \n2  |  1112  |  0.50   |  0.50 \n</code></pre>\n<p>I want to sum amt1 and amt2 from a list</p>\n<pre><code>Map&lt;Object, Sample&gt; map = collectedTxs.stream()\n        .collect(Collectors.toMap(\n            f -&gt; f.getAcct(),\n            Function.identity(),\n            (s, a) -&gt; new Sample(\n                s.getId(),\n                s.getAcct(),\n                s.getAmt1().add(a.getAmt1()),\n                s.getAmt2().add(a.getAmt2()),\n            ), LinkedHashMap::new));\n</code></pre>\n<p>Is there any better way to do it? I don't want to reassign the result to another Sample object.</p>\n"},{"tags":["java","sql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655406105,"creation_date":1655406105,"answer_id":72650736,"question_id":72649859,"body_markdown":"You need to change the GenerationType to `IDENTITY`. I think Hibernate at the moment is using a sequence starting from 1.\r\n\r\nThe mapping will look like:\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nprivate Long id;\r\n```\r\n\r\nYou can enable SQL logging to verify that&#39;s actually running the correct queries:\r\n```\r\nhibernate.show_sql = true\r\nhibernate.format_sql = true\r\n```","title":"Unique constraint error due to schema.sql and hibernate","body":"<p>You need to change the GenerationType to <code>IDENTITY</code>. I think Hibernate at the moment is using a sequence starting from 1.</p>\n<p>The mapping will look like:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n</code></pre>\n<p>You can enable SQL logging to verify that's actually running the correct queries:</p>\n<pre><code>hibernate.show_sql = true\nhibernate.format_sql = true\n</code></pre>\n"}],"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655406105,"creation_date":1655401241,"question_id":72649859,"body_markdown":"I&#39;m making a spring boot application where I&#39;m first creating a table in DB and loading some initial data into it using [schema.sql and data.sql method][1].\r\n\r\nBelow is schema.sql:\r\n\r\n    DROP TABLE IF EXISTS EMPLOYEE;\r\n    \r\n    CREATE TABLE EMPLOYEE(\r\n      ID INT NOT NULL AUTO_INCREMENT,\r\n      NAME VARCHAR(100) NOT NULL,\r\n      SALARY DECIMAL NOT NULL,\r\n      LAST_UPDATE TIMESTAMP NOT NULL,\r\n      PRIMARY KEY ( ID )\r\n    );\r\n\r\nBelow is the entity:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;salary&quot;)\r\n        private Double salary;\r\n    \r\n        @Column(name = &quot;last_update&quot;)\r\n        private Timestamp lastUpdate;\r\n    \r\n        public Employee(String name, Double salary) {\r\n            this.name = name;\r\n            this.salary = salary;\r\n            this.lastUpdate = new Timestamp(System.currentTimeMillis());\r\n        }\r\n    \r\n    }\r\n\r\nWhen I&#39;m performing a `POST` operation with below json payload, I&#39;m getting error:\r\n`Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.EMPLOYEE(ID) [1, &#39;RAGHU&#39;, 250.1, TIMESTAMP &#39;2022-04-23 00:00:00&#39;]&quot;;`\r\n\r\nJson payload of POST request:\r\n\r\n    {\r\n        \r\n        &quot;name&quot;: &quot;Adam&quot;,\r\n        &quot;salary&quot;: 257.1,\r\n        &quot;last_update&quot;: &quot;2022-04-22T18:30:00.000+00:00&quot;\r\n    }\r\n\r\n\r\nApplication properties:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=abc123\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    logging.level.org.hibernate.SQL=debug\r\n    logging.level.org.hibernate.type.descriptor.sql=trace\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.defer-datasource-initialization=true\r\n\r\nIt seems to me hibernate is conflicting with my initial data load. How can I fix it?\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\r\n","title":"Unique constraint error due to schema.sql and hibernate","body":"<p>I'm making a spring boot application where I'm first creating a table in DB and loading some initial data into it using <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">schema.sql and data.sql method</a>.</p>\n<p>Below is schema.sql:</p>\n<pre><code>DROP TABLE IF EXISTS EMPLOYEE;\n\nCREATE TABLE EMPLOYEE(\n  ID INT NOT NULL AUTO_INCREMENT,\n  NAME VARCHAR(100) NOT NULL,\n  SALARY DECIMAL NOT NULL,\n  LAST_UPDATE TIMESTAMP NOT NULL,\n  PRIMARY KEY ( ID )\n);\n</code></pre>\n<p>Below is the entity:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;salary&quot;)\n    private Double salary;\n\n    @Column(name = &quot;last_update&quot;)\n    private Timestamp lastUpdate;\n\n    public Employee(String name, Double salary) {\n        this.name = name;\n        this.salary = salary;\n        this.lastUpdate = new Timestamp(System.currentTimeMillis());\n    }\n\n}\n</code></pre>\n<p>When I'm performing a <code>POST</code> operation with below json payload, I'm getting error:\n<code>Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.EMPLOYEE(ID) [1, 'RAGHU', 250.1, TIMESTAMP '2022-04-23 00:00:00']&quot;;</code></p>\n<p>Json payload of POST request:</p>\n<pre><code>{\n    \n    &quot;name&quot;: &quot;Adam&quot;,\n    &quot;salary&quot;: 257.1,\n    &quot;last_update&quot;: &quot;2022-04-22T18:30:00.000+00:00&quot;\n}\n</code></pre>\n<p>Application properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=abc123\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=trace\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>It seems to me hibernate is conflicting with my initial data load. How can I fix it?</p>\n"},{"tags":["java","loops","boolean"],"comments":[{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":2,"creation_date":1655404957,"post_id":72650481,"comment_id":128330652,"body_markdown":"what errors do you get? please [edit](https://stackoverflow.com/posts/72650418/edit) your question to include the text of your errors. Also, is this inside a main() method? If there is any other code, please include it as well.","body":"what errors do you get? please <a href=\"https://stackoverflow.com/posts/72650418/edit\">edit</a> your question to include the text of your errors. Also, is this inside a main() method? If there is any other code, please include it as well."}],"answers":[{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655405017,"creation_date":1655405017,"answer_id":72650551,"question_id":72650481,"body_markdown":"the problem is that you&#39;re not checking string&#39;s symbols, but indexes, variable `i` is not char, but integer index\r\n\r\nhere is fixed version:\r\n\r\n    for (int i = 0; i &lt;newString.length(); i++) {\r\n        char c = newString.charAt(i);\r\n    \r\n        if (Character.isLetter(c)) atLeastOneLetter = true;\r\n        if (Character.isDigit(c)) atLeastOneDigit = true;\r\n        if (c == &#39;!&#39; || c == &#39;#&#39; || c == &#39;%&#39;) atLeastOneSpecialCharacter = true;\r\n    }","title":"Java Loops - Password requirements","body":"<p>the problem is that you're not checking string's symbols, but indexes, variable <code>i</code> is not char, but integer index</p>\n<p>here is fixed version:</p>\n<pre><code>for (int i = 0; i &lt;newString.length(); i++) {\n    char c = newString.charAt(i);\n\n    if (Character.isLetter(c)) atLeastOneLetter = true;\n    if (Character.isDigit(c)) atLeastOneDigit = true;\n    if (c == '!' || c == '#' || c == '%') atLeastOneSpecialCharacter = true;\n}\n</code></pre>\n"}],"owner":{"account_id":25559110,"reputation":1,"user_id":19342021,"display_name":"groupminer"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655406601,"answer_count":1,"score":-1,"last_activity_date":1655405476,"creation_date":1655404696,"question_id":72650481,"body_markdown":"Websites commonly require a password that satisfies several requirements. Write a program that checks if an input string satisfies the following (error message is shown for each):\r\n\r\nAt least 8 characters (Too short)\r\nAt least one letter (Missing letter)\r\nAt least one number (Missing number)\r\nAt least one of these special characters: !, #, % (Missing special)\r\nOutput OK, or all related error messages (in above order). If the input string is &quot;Hello&quot;, the output is:\r\n\r\nToo short\r\nMissing number\r\nMissing special\r\nHints:\r\n\r\nDeclare a boolean variable for each requirement.\r\n\r\nUse a for loop to visit each character, setting the corresponding boolean to true if satisfied (length is done differently though).\r\n\r\nUse the functions Character.isLetter() and Character.isDigit() to detect if a character is a letter or a number.\r\n\r\nThis is what I have so far for my Java program, but I keep getting errors. Thanks for the help.\r\n\r\n      import java.util.Scanner;\r\n\r\n      public class Main {\r\n      public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      String newString;\r\n      boolean atLeastEightCharacter;\r\n      boolean atLeastOneLetter;\r\n      boolean atLeastOneNumber;\r\n      boolean atLeastOneSpecialCharacter;\r\n      \r\n      newString = scnr.nextLine();\r\n      \r\n      atLeastEightCharacter = false;\r\n      atLeastOneLetter = false;\r\n      atLeastOneNumber = false;\r\n      atLeastOneSpecialCharacter = false;\r\n      \r\n      if (newString.length() &gt;= 8) {\r\n         atLeastEightCharacter = true;\r\n      for (int i = 0; i &lt;newString.length(); i++) {\r\n         if (Character.isLetter(i)) {\r\n            atLeastOneLetter = true;\r\n         }\r\n         if (Character.isDigit(i)) {\r\n            atLeastOneDigit = true;\r\n         }\r\n         if (newString(i) == &#39;!&#39; || newString(i) == &#39;#&#39; || newString(i) \r\n            == &#39;%&#39;) {\r\n            atLeastOneSpecialCharacter = true;\r\n         }\r\n      }\r\n      }\r\n      \r\n      if (atLeastEightCharacter == false) {\r\n         System.out.println(&quot;Too short&quot;);\r\n      }\r\n      if (atLeastOneLetter == false) {\r\n         System.out.println(&quot;Missing letter&quot;);\r\n      }\r\n      if (atLeastOneDigit == false) {\r\n         System.out.println(&quot;Missing number&quot;);\r\n      }\r\n      if (atLeastOneSpecialCharacter) {\r\n         System.out.println(&quot;Missing special&quot;);\r\n      } \r\n      }\r\n      }","title":"Java Loops - Password requirements","body":"<p>Websites commonly require a password that satisfies several requirements. Write a program that checks if an input string satisfies the following (error message is shown for each):</p>\n<p>At least 8 characters (Too short)\nAt least one letter (Missing letter)\nAt least one number (Missing number)\nAt least one of these special characters: !, #, % (Missing special)\nOutput OK, or all related error messages (in above order). If the input string is &quot;Hello&quot;, the output is:</p>\n<p>Too short\nMissing number\nMissing special\nHints:</p>\n<p>Declare a boolean variable for each requirement.</p>\n<p>Use a for loop to visit each character, setting the corresponding boolean to true if satisfied (length is done differently though).</p>\n<p>Use the functions Character.isLetter() and Character.isDigit() to detect if a character is a letter or a number.</p>\n<p>This is what I have so far for my Java program, but I keep getting errors. Thanks for the help.</p>\n<pre><code>  import java.util.Scanner;\n\n  public class Main {\n  public static void main(String[] args) {\n  Scanner scnr = new Scanner(System.in);\n  String newString;\n  boolean atLeastEightCharacter;\n  boolean atLeastOneLetter;\n  boolean atLeastOneNumber;\n  boolean atLeastOneSpecialCharacter;\n  \n  newString = scnr.nextLine();\n  \n  atLeastEightCharacter = false;\n  atLeastOneLetter = false;\n  atLeastOneNumber = false;\n  atLeastOneSpecialCharacter = false;\n  \n  if (newString.length() &gt;= 8) {\n     atLeastEightCharacter = true;\n  for (int i = 0; i &lt;newString.length(); i++) {\n     if (Character.isLetter(i)) {\n        atLeastOneLetter = true;\n     }\n     if (Character.isDigit(i)) {\n        atLeastOneDigit = true;\n     }\n     if (newString(i) == '!' || newString(i) == '#' || newString(i) \n        == '%') {\n        atLeastOneSpecialCharacter = true;\n     }\n  }\n  }\n  \n  if (atLeastEightCharacter == false) {\n     System.out.println(&quot;Too short&quot;);\n  }\n  if (atLeastOneLetter == false) {\n     System.out.println(&quot;Missing letter&quot;);\n  }\n  if (atLeastOneDigit == false) {\n     System.out.println(&quot;Missing number&quot;);\n  }\n  if (atLeastOneSpecialCharacter) {\n     System.out.println(&quot;Missing special&quot;);\n  } \n  }\n  }\n</code></pre>\n"},{"tags":["java","java-8","executorservice","completable-future"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1646251942,"post_id":71322315,"comment_id":126079934,"body_markdown":"that article is terrible, but you could have improved it here and provide code that _compiles_, at least.","body":"that article is terrible, but you could have improved it here and provide code that <i>compiles</i>, at least."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1646467118,"post_id":71322315,"comment_id":126134729,"body_markdown":"Each task can run a simple wrapper method. This method runs the working-task on a thread and returns an Optional. The Optional wraps the working-task return value if it was completed within the time limit. Can this approach work for you ?","body":"Each task can run a simple wrapper method. This method runs the working-task on a thread and returns an Optional. The Optional wraps the working-task return value if it was completed within the time limit. Can this approach work for you ?"},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1646514852,"post_id":71322315,"comment_id":126143791,"body_markdown":"You could try to wrap each of your futures in another one where you call `get(long timeout, TimeUnit unit)` on each of them with the individual timeout value. Will be a bit fiddly to handle all the checked exceptions but could work.","body":"You could try to wrap each of your futures in another one where you call <code>get(long timeout, TimeUnit unit)</code> on each of them with the individual timeout value. Will be a bit fiddly to handle all the checked exceptions but could work."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1646556322,"post_id":71322315,"comment_id":126148994,"body_markdown":"@tryingToLearn any thoughts about my question ?","body":"@tryingToLearn any thoughts about my question ?"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1646563382,"post_id":71322315,"comment_id":126150133,"body_markdown":"@c0der thanks for your comment. I want to try it out. Do you have a quick reference to implement that?","body":"@c0der thanks for your comment. I want to try it out. Do you have a quick reference to implement that?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1646564415,"post_id":71322315,"comment_id":126150348,"body_markdown":"@tryingToLearn I made a quick one and posted it as an answer.","body":"@tryingToLearn I made a quick one and posted it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653339625,"creation_date":1646255004,"answer_id":71329108,"question_id":71322315,"body_markdown":"The semantics of what you want to achieve matter very much. On one hand, you say that you want an alternative for `orTimeout` for Java&amp;nbsp;8; on the other hand you kind of imply that you want to drop execution of a certain `CompletableFuture` if it goes beyond a certain threshold.\r\n\r\nThese are very different things, because `orTimeout` says in the documentation:\r\n\r\n&gt; _Exceptionally_ completes this CompletableFuture with a TimeoutException if not otherwise completed before the given timeout.\r\n\r\nSo something like:\r\n\r\n    CompletableFuture&lt;Integer&gt; addAsy =\r\n        supplyAsync(() -&gt; addFun1(10,5), executorService)\r\n        .orTimeout(5, TimeUnit.MILLISECONDS);\r\n\r\nwill result in a `CompletableFuture` that is completed _exceptionally_ (assuming that `addFun1` takes more than 5 ms). At the same time, this:\r\n\r\n    CompletableFuture&lt;Void&gt; allFutures = CompletableFuture\r\n            .allOf(futuresList.toArray(new CompletableFuture[0]));\r\n\r\nas the documentation states in the `allOf`:\r\n\r\n&gt;  ... If any of the given CompletableFutures complete exceptionally, then the returned CompletableFuture also does so...\r\n\r\nmeans that `allFutures` is a `CompletableFuture` that is completed _exceptionally_ too (because `addAsy` is).\r\n\r\nNow, because you have this:\r\n\r\n        CompletableFuture&lt;List&lt;Integer&gt;&gt; allCompletableFuture = allFutures.thenApply(future -&gt; {\r\n            return futuresList.stream().map(CompletableFuture::join)\r\n                .collect(Collectors.toList());\r\n        });\r\n\r\nAnd again, the documentation of `thenApply` says:\r\n\r\n&gt; Returns a new CompletionStage that, _when this stage completes normally_, is executed with this stage&#39;s result as the argument to the supplied function.\r\n\r\nYour `allFutures` did _not_ complete normally, as such this is not even called.\r\n\r\nSo you need to understand what exactly you want to achieve. For a backport of `orTimeout` you could start by looking [here](*https://stackoverflow.com/questions/23575067/timeout-with-default-value-in-java-8-completablefuture/24457111#24457111*).\r\n\r\n---\r\n\r\nYou still need some kind of a backport for `orTimeout`. I will use the method as if it already exists.\r\n\r\n    static void parallelProcessing() throws Exception {\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n        List&lt;CompletableFuture&lt;Integer&gt;&gt; futuresList = new ArrayList&lt;&gt;();\r\n        futuresList.add(CompletableFuture.supplyAsync(() -&gt; addFun1(10,5), executorService).orTimeout(2, TimeUnit.SECONDS));\r\n        futuresList.add(CompletableFuture.supplyAsync(() -&gt; subFun1(10,5), executorService));\r\n        futuresList.add(CompletableFuture.supplyAsync(() -&gt; mulFun1(10,5), executorService));\r\n\r\n\r\n        CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf(futuresList.toArray(new CompletableFuture[0]));\r\n        Map&lt;Boolean, List&lt;CompletableFuture&lt;Integer&gt;&gt;&gt; map =\r\n                all.thenApply(x -&gt; both(futuresList)).exceptionally(x -&gt; both(futuresList)).get();\r\n\r\n        List&lt;CompletableFuture&lt;Integer&gt;&gt; failed = map.get(Boolean.TRUE);\r\n        List&lt;CompletableFuture&lt;Integer&gt;&gt; ok = map.get(Boolean.FALSE);\r\n\r\n        System.out.println(&quot;failed = &quot; + failed.size());\r\n        System.out.println(&quot;ok = &quot; + ok.size());\r\n\r\n    }\r\n\r\n    private static Map&lt;Boolean, List&lt;CompletableFuture&lt;Integer&gt;&gt;&gt; both(\r\n            List&lt;CompletableFuture&lt;Integer&gt;&gt; futuresList) {\r\n        return futuresList.stream().collect(Collectors.partitioningBy(\r\n                        CompletableFuture::isCompletedExceptionally\r\n                ));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>The semantics of what you want to achieve matter very much. On one hand, you say that you want an alternative for <code>orTimeout</code> for Java 8; on the other hand you kind of imply that you want to drop execution of a certain <code>CompletableFuture</code> if it goes beyond a certain threshold.</p>\n<p>These are very different things, because <code>orTimeout</code> says in the documentation:</p>\n<blockquote>\n<p><em>Exceptionally</em> completes this CompletableFuture with a TimeoutException if not otherwise completed before the given timeout.</p>\n</blockquote>\n<p>So something like:</p>\n<pre><code>CompletableFuture&lt;Integer&gt; addAsy =\n    supplyAsync(() -&gt; addFun1(10,5), executorService)\n    .orTimeout(5, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>will result in a <code>CompletableFuture</code> that is completed <em>exceptionally</em> (assuming that <code>addFun1</code> takes more than 5 ms). At the same time, this:</p>\n<pre><code>CompletableFuture&lt;Void&gt; allFutures = CompletableFuture\n        .allOf(futuresList.toArray(new CompletableFuture[0]));\n</code></pre>\n<p>as the documentation states in the <code>allOf</code>:</p>\n<blockquote>\n<p>... If any of the given CompletableFutures complete exceptionally, then the returned CompletableFuture also does so...</p>\n</blockquote>\n<p>means that <code>allFutures</code> is a <code>CompletableFuture</code> that is completed <em>exceptionally</em> too (because <code>addAsy</code> is).</p>\n<p>Now, because you have this:</p>\n<pre><code>    CompletableFuture&lt;List&lt;Integer&gt;&gt; allCompletableFuture = allFutures.thenApply(future -&gt; {\n        return futuresList.stream().map(CompletableFuture::join)\n            .collect(Collectors.toList());\n    });\n</code></pre>\n<p>And again, the documentation of <code>thenApply</code> says:</p>\n<blockquote>\n<p>Returns a new CompletionStage that, <em>when this stage completes normally</em>, is executed with this stage's result as the argument to the supplied function.</p>\n</blockquote>\n<p>Your <code>allFutures</code> did <em>not</em> complete normally, as such this is not even called.</p>\n<p>So you need to understand what exactly you want to achieve. For a backport of <code>orTimeout</code> you could start by looking here.</p>\n<hr />\n<p>You still need some kind of a backport for <code>orTimeout</code>. I will use the method as if it already exists.</p>\n<pre><code>static void parallelProcessing() throws Exception {\n\n    ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    List&lt;CompletableFuture&lt;Integer&gt;&gt; futuresList = new ArrayList&lt;&gt;();\n    futuresList.add(CompletableFuture.supplyAsync(() -&gt; addFun1(10,5), executorService).orTimeout(2, TimeUnit.SECONDS));\n    futuresList.add(CompletableFuture.supplyAsync(() -&gt; subFun1(10,5), executorService));\n    futuresList.add(CompletableFuture.supplyAsync(() -&gt; mulFun1(10,5), executorService));\n\n\n    CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf(futuresList.toArray(new CompletableFuture[0]));\n    Map&lt;Boolean, List&lt;CompletableFuture&lt;Integer&gt;&gt;&gt; map =\n            all.thenApply(x -&gt; both(futuresList)).exceptionally(x -&gt; both(futuresList)).get();\n\n    List&lt;CompletableFuture&lt;Integer&gt;&gt; failed = map.get(Boolean.TRUE);\n    List&lt;CompletableFuture&lt;Integer&gt;&gt; ok = map.get(Boolean.FALSE);\n\n    System.out.println(&quot;failed = &quot; + failed.size());\n    System.out.println(&quot;ok = &quot; + ok.size());\n\n}\n\nprivate static Map&lt;Boolean, List&lt;CompletableFuture&lt;Integer&gt;&gt;&gt; both(\n        List&lt;CompletableFuture&lt;Integer&gt;&gt; futuresList) {\n    return futuresList.stream().collect(Collectors.partitioningBy(\n                    CompletableFuture::isCompletedExceptionally\n            ));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653339395,"creation_date":1646540527,"answer_id":71367654,"question_id":71322315,"body_markdown":"Suppose you want 10 threads running and want a returned value, you can use the `Callable&lt;Boolean&gt;` interface, submit it to `ExecutorService`, and then get the result using `Future#get` returned as a Boolean.\r\n\r\nHere is an example usage.\r\n\r\n    final int NUM_THREADS = 10;\r\n    List&lt;Boolean&gt; results = new ArrayList&lt;Boolean&gt;();\r\n    List&lt;Callable&lt;Boolean&gt;&gt; callables = new ArrayList&lt;Callable&lt;Boolean&gt;&gt;();\r\n\r\n    for(int i=0; i&lt;NUM_THREADS; ++i)\r\n    {\r\n        callables.add(new Callable&lt;Boolean&gt;()\r\n        {\r\n            public Boolean call()\r\n            {\r\n                // Add your task here\r\n                return isTaskCompleted;\r\n            }\r\n        });\r\n    }\r\n\r\n    ExecutorService executorService = ExecutorService.newFixedThreadPool(NUM_THREADS); // Run 10 threads\r\n\r\n    for(Callable&lt;Boolean&gt; callable:callables)\r\n    {\r\n        Future&lt;Boolean&gt; future = executor.submit(callable);\r\n        try\r\n        {\r\n            results.add(future.get(2, TimeUnit.SECONDS)); // Timeout 2 seconds and add the result\r\n        }\r\n        catch(Exception ex)\r\n        {\r\n            results.add(false); // Set result to false if task throw TimeOutExeption\r\n        }\r\n    }\r\n\r\nIf you want more information about these classes you can read this book: **O&#39;Reilly - Learning Java**, Chapter 9: Threads.\r\n\r\n\r\n\r\n","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>Suppose you want 10 threads running and want a returned value, you can use the <code>Callable&lt;Boolean&gt;</code> interface, submit it to <code>ExecutorService</code>, and then get the result using <code>Future#get</code> returned as a Boolean.</p>\n<p>Here is an example usage.</p>\n<pre><code>final int NUM_THREADS = 10;\nList&lt;Boolean&gt; results = new ArrayList&lt;Boolean&gt;();\nList&lt;Callable&lt;Boolean&gt;&gt; callables = new ArrayList&lt;Callable&lt;Boolean&gt;&gt;();\n\nfor(int i=0; i&lt;NUM_THREADS; ++i)\n{\n    callables.add(new Callable&lt;Boolean&gt;()\n    {\n        public Boolean call()\n        {\n            // Add your task here\n            return isTaskCompleted;\n        }\n    });\n}\n\nExecutorService executorService = ExecutorService.newFixedThreadPool(NUM_THREADS); // Run 10 threads\n\nfor(Callable&lt;Boolean&gt; callable:callables)\n{\n    Future&lt;Boolean&gt; future = executor.submit(callable);\n    try\n    {\n        results.add(future.get(2, TimeUnit.SECONDS)); // Timeout 2 seconds and add the result\n    }\n    catch(Exception ex)\n    {\n        results.add(false); // Set result to false if task throw TimeOutExeption\n    }\n}\n</code></pre>\n<p>If you want more information about these classes you can read this book: <strong>O'Reilly - Learning Java</strong>, Chapter 9: Threads.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646564380,"creation_date":1646564380,"answer_id":71369643,"question_id":71322315,"body_markdown":"The following is a single-file mre (paste the entire code into RunParallelTasks.java and run). It is a prototype of the structure I suggested in my comment aimed to achieve the required functionality by using simple means: \r\n\r\n\t\r\n\timport java.util.Optional;\r\n\t\r\n\tpublic class RunParallelTasks {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t\t\tnew Thread(()-&gt;{\r\n\t\t\t\tlong duration = 3000;\r\n\t\t\t\tCallback&lt;Long&gt; cb = new LongTask(duration);\r\n\t\t\t\tOutput&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\r\n\t\t\t\tSystem.out.println( output);\r\n\t\t\t}).start();\r\n\t\r\n\t\t\tnew Thread(()-&gt;{\r\n\t\t\t\tlong duration = 300;\r\n\t\t\t\tCallback&lt;Long&gt; cb = new LongTask(duration);\r\n\t\t\t\tOutput&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\r\n\t\t\t\tSystem.out.println( output);\r\n\t\t\t}).start();\r\n\t\r\n\t\t\tnew Thread(()-&gt;{\r\n\t\t\t\tlong duration = 4000;\r\n\t\t\t\tCallback&lt;Long&gt; cb = new LongTask(duration);\r\n\t\t\t\tOutput&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\r\n\t\t\t\tSystem.out.println( output);\r\n\t\t\t}).start();\r\n\t\r\n\t\t\tnew Thread(()-&gt;{\r\n\t\t\t\tlong duration = 1000;\r\n\t\t\t\tCallback&lt;Long&gt; cb = new LongTask(duration);\r\n\t\t\t\tOutput&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\r\n\t\t\t\tSystem.out.println( output);\r\n\t\t\t}).start();\r\n\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass TaskExecuter&lt;T&gt;{\r\n\t\r\n\t\tprivate static final long TIMEOUT = 2000;//millis\r\n\t\tprivate T value = null;\r\n\t\tpublic Output&lt;T&gt; work(Callback&lt;T&gt; call){\r\n\t\r\n\t\t\tThread t = new Thread(()-&gt;{\r\n\t\t\t\tvalue = call.work();\r\n\t\t\t});\r\n\t\t\tt.start();\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tt.join(TIMEOUT);\r\n\t\t\t} catch (InterruptedException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\r\n\t\t\treturn new Output&lt;&gt;(t.getId(), value == null ?  Optional.empty() : Optional.of(value)) ;\r\n\t\t}\r\n\t}\r\n\t\r\n\tinterface Callback&lt;T&gt; {\r\n\t    T work();\r\n\t}\r\n\t\r\n\tclass LongTask implements Callback&lt;Long&gt;{\r\n\t\r\n\t\tprivate final long durationInMillis;\r\n\t\r\n\t\tpublic LongTask(long durationInMillis) {\r\n\t\t\tthis.durationInMillis = durationInMillis;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic Long work() {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(durationInMillis);\r\n\t\t\t} catch (InterruptedException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn durationInMillis;\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Output&lt;T&gt; {\r\n\t\r\n\t\tprivate final long id;\r\n\t\tprivate boolean success = false;\r\n\t\tprivate T data;\r\n\t\r\n\t\tpublic Output(long id, Optional&lt;T&gt; op) {\r\n\t\t\tthis.id = id;\r\n\t\t\tif(!op.isEmpty()) {\r\n\t\t\t\tdata = op.get();\r\n\t\t\t\tsuccess = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//todo add getters \r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;task &quot;+ id+ (success ? &quot; Completed, returned &quot;+data : &quot; Failed&quot; );\r\n\t\t}\r\n\t}\r\n","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>The following is a single-file mre (paste the entire code into RunParallelTasks.java and run). It is a prototype of the structure I suggested in my comment aimed to achieve the required functionality by using simple means:</p>\n<pre><code>import java.util.Optional;\n\npublic class RunParallelTasks {\n\n    public static void main(String[] args) {\n\n        new Thread(()-&gt;{\n            long duration = 3000;\n            Callback&lt;Long&gt; cb = new LongTask(duration);\n            Output&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\n            System.out.println( output);\n        }).start();\n\n        new Thread(()-&gt;{\n            long duration = 300;\n            Callback&lt;Long&gt; cb = new LongTask(duration);\n            Output&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\n            System.out.println( output);\n        }).start();\n\n        new Thread(()-&gt;{\n            long duration = 4000;\n            Callback&lt;Long&gt; cb = new LongTask(duration);\n            Output&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\n            System.out.println( output);\n        }).start();\n\n        new Thread(()-&gt;{\n            long duration = 1000;\n            Callback&lt;Long&gt; cb = new LongTask(duration);\n            Output&lt;Long&gt; output = new TaskExecuter&lt;Long&gt;().work(cb);\n            System.out.println( output);\n        }).start();\n\n    }\n}\n\nclass TaskExecuter&lt;T&gt;{\n\n    private static final long TIMEOUT = 2000;//millis\n    private T value = null;\n    public Output&lt;T&gt; work(Callback&lt;T&gt; call){\n\n        Thread t = new Thread(()-&gt;{\n            value = call.work();\n        });\n        t.start();\n\n        try {\n            t.join(TIMEOUT);\n        } catch (InterruptedException ex) {\n            ex.printStackTrace();\n        }\n\n        return new Output&lt;&gt;(t.getId(), value == null ?  Optional.empty() : Optional.of(value)) ;\n    }\n}\n\ninterface Callback&lt;T&gt; {\n    T work();\n}\n\nclass LongTask implements Callback&lt;Long&gt;{\n\n    private final long durationInMillis;\n\n    public LongTask(long durationInMillis) {\n        this.durationInMillis = durationInMillis;\n    }\n\n    @Override\n    public Long work() {\n        try {\n            Thread.sleep(durationInMillis);\n        } catch (InterruptedException ex) {\n            ex.printStackTrace();\n        }\n        return durationInMillis;\n    }\n}\n\nclass Output&lt;T&gt; {\n\n    private final long id;\n    private boolean success = false;\n    private T data;\n\n    public Output(long id, Optional&lt;T&gt; op) {\n        this.id = id;\n        if(!op.isEmpty()) {\n            data = op.get();\n            success = true;\n        }\n    }\n    \n    //todo add getters \n    \n    @Override\n    public String toString() {\n        return &quot;task &quot;+ id+ (success ? &quot; Completed, returned &quot;+data : &quot; Failed&quot; );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646581408,"creation_date":1646581408,"answer_id":71371764,"question_id":71322315,"body_markdown":"I believe that in order to achieve canceling a task if execution takes too long, you need two tasks:\r\n\r\n 1. The task itself doing the computation\r\n 2. Another task, which takes care to cancel the first, if it takes too long\r\n\r\nThis is inspired by my [answer][1] here, at least for now i still have not come up with a better way to do it.\r\n\r\nLet&#39;s say this is `Output`:\r\n```\r\npublic class Output {\r\n\r\n    private final String uniqueIdentifier;\r\n    private final boolean result;\r\n    private final Object data;\r\n\r\n    //all arguments constructor and getters\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Output{&quot; +\r\n                &quot;uniqueIdentifier=&#39;&quot; + uniqueIdentifier + &#39;\\&#39;&#39; +\r\n                &quot;, result=&quot; + result +\r\n                &quot;, data=&quot; + data +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nFor simplicity i&#39;ll use only add integers task from your example, wrapping it in a `Supplier`.\r\n```\r\npublic class AddIntegerTask implements Supplier&lt;Integer&gt; {\r\n\r\n    private static final long NANOSECONDS_IN_SECOND = 1_000_000_000;\r\n\r\n    private final String uniqueIdentifier;\r\n    private final boolean tooLong;\r\n    private final int a;\r\n    private final int b;\r\n\r\n    public AddIntegerTask(boolean tooLong, int a, int b) {\r\n        this.uniqueIdentifier = UUID.randomUUID().toString();\r\n        this.tooLong = tooLong;\r\n        this.a = a;\r\n        this.b = b;\r\n    }\r\n\r\n    @Override\r\n    public Integer get() {\r\n        long nanoseconds = this.tooLong ? 3 * NANOSECONDS_IN_SECOND : NANOSECONDS_IN_SECOND;\r\n        long start = System.nanoTime();\r\n        long toEnd = start + nanoseconds;\r\n        //simulate long execution\r\n        while (System.nanoTime() &lt;= toEnd) {\r\n            //check for interruption at crucial points\r\n            boolean interrupted = Thread.currentThread().isInterrupted();\r\n            if (interrupted) {\r\n                //custom exception extending RuntimeException\r\n                throw new TooLongExecutionException();\r\n            }\r\n        }\r\n        return this.a + this.b;\r\n    }\r\n\r\n    public String getUniqueIdentifier() {\r\n        return this.uniqueIdentifier;\r\n    }\r\n}\r\n```\r\nMost important here is, that you need to check the current thread for interruption at key moments in your own implementation.\r\n\r\nThe cancel task is quite straightforward:\r\n```\r\npublic class CancelTask implements Runnable {\r\n\r\n    private final Future&lt;?&gt; future;\r\n\r\n    public CancelTask(Future&lt;?&gt; future) {\r\n        this.future = future;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        this.future.cancel(true);\r\n    }\r\n}\r\n```\r\nWrap the canceling of a `Future` in a `Runnable`, so it can be scheduled  for execution with approproate delay.\r\n\r\nAnd the `Runnable`, which will wrap the result in an `Output`, and will be submitted for execution:\r\n```\r\npublic class MyRunnable implements Runnable {\r\n\r\n    private final Map&lt;String, Output&gt; outputMap;\r\n    private final AddIntegerTask calcFunction;\r\n    private final CountDownLatch latch;\r\n\r\n    public MyRunnable(Map&lt;String, Output&gt; outputMap, AddIntegerTask calcFunction, CountDownLatch latch) {\r\n        this.outputMap = outputMap;\r\n        this.calcFunction = calcFunction;\r\n        this.latch = latch;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        String uniqueIdentifier = this.calcFunction.getUniqueIdentifier();\r\n        Output output;\r\n        try {\r\n            Integer result = this.calcFunction.get();\r\n            output = new Output(uniqueIdentifier, true, result);\r\n        } catch (TooLongExecutionException exc) {\r\n            output = new Output(uniqueIdentifier, false, null);\r\n        }\r\n        this.outputMap.replace(uniqueIdentifier, output);\r\n        this.latch.countDown();\r\n    }\r\n}\r\n```\r\nThings to note here: `CountDownLatch`, it looks to me that you know the number of tasks beforehand, so it&#39;s a good choice to force main thread to wait until all tasks have finished. `TooLongExecutionException` is a custom exception extending `RuntimeException`. If the job completes, set as successful with result, if it was interrupted set to not successful without result.\r\n\r\nAnd a main to combine and test all that:\r\n```\r\npublic class CancelingMain {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ScheduledExecutorService executorService = Executors.newScheduledThreadPool(10);\r\n\r\n        int taskCount = 6;\r\n        CountDownLatch latch = new CountDownLatch(taskCount);\r\n        long start = System.nanoTime();\r\n        Map&lt;String, Output&gt; outputMap = new LinkedHashMap&lt;&gt;();\r\n        for (int i = 1; i &lt;= taskCount; i++) {\r\n            boolean tooLong = i % 2 == 0;\r\n            AddIntegerTask task = new AddIntegerTask(tooLong, 10, 7);\r\n            outputMap.put(task.getUniqueIdentifier(), null);\r\n\r\n            MyRunnable runnable = new MyRunnable(outputMap, task, latch);\r\n            Future&lt;?&gt; future = executorService.submit(runnable);\r\n            //schedule cancel task to run once, 2 seconds after scheduling\r\n            executorService.schedule(new CancelTask(future), 2, TimeUnit.SECONDS);\r\n        }\r\n        latch.await();\r\n        System.out.println(&quot;execution took - &quot; + (System.nanoTime() - start) / 1_000_000_000D);\r\n        executorService.shutdown();\r\n        outputMap.values().forEach(System.out::println);\r\n    }\r\n}\r\n```\r\nI am using `LinkedHashMap` in order to keep the tasks in their order of submission.\r\n\r\n  [1]: https://stackoverflow.com/questions/70998356/java-schedule-a-job-to-run-at-certain-time-for-maximum-period-of-time/71007381#71007381","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>I believe that in order to achieve canceling a task if execution takes too long, you need two tasks:</p>\n<ol>\n<li>The task itself doing the computation</li>\n<li>Another task, which takes care to cancel the first, if it takes too long</li>\n</ol>\n<p>This is inspired by my <a href=\"https://stackoverflow.com/questions/70998356/java-schedule-a-job-to-run-at-certain-time-for-maximum-period-of-time/71007381#71007381\">answer</a> here, at least for now i still have not come up with a better way to do it.</p>\n<p>Let's say this is <code>Output</code>:</p>\n<pre><code>public class Output {\n\n    private final String uniqueIdentifier;\n    private final boolean result;\n    private final Object data;\n\n    //all arguments constructor and getters\n\n    @Override\n    public String toString() {\n        return &quot;Output{&quot; +\n                &quot;uniqueIdentifier='&quot; + uniqueIdentifier + '\\'' +\n                &quot;, result=&quot; + result +\n                &quot;, data=&quot; + data +\n                '}';\n    }\n}\n</code></pre>\n<p>For simplicity i'll use only add integers task from your example, wrapping it in a <code>Supplier</code>.</p>\n<pre><code>public class AddIntegerTask implements Supplier&lt;Integer&gt; {\n\n    private static final long NANOSECONDS_IN_SECOND = 1_000_000_000;\n\n    private final String uniqueIdentifier;\n    private final boolean tooLong;\n    private final int a;\n    private final int b;\n\n    public AddIntegerTask(boolean tooLong, int a, int b) {\n        this.uniqueIdentifier = UUID.randomUUID().toString();\n        this.tooLong = tooLong;\n        this.a = a;\n        this.b = b;\n    }\n\n    @Override\n    public Integer get() {\n        long nanoseconds = this.tooLong ? 3 * NANOSECONDS_IN_SECOND : NANOSECONDS_IN_SECOND;\n        long start = System.nanoTime();\n        long toEnd = start + nanoseconds;\n        //simulate long execution\n        while (System.nanoTime() &lt;= toEnd) {\n            //check for interruption at crucial points\n            boolean interrupted = Thread.currentThread().isInterrupted();\n            if (interrupted) {\n                //custom exception extending RuntimeException\n                throw new TooLongExecutionException();\n            }\n        }\n        return this.a + this.b;\n    }\n\n    public String getUniqueIdentifier() {\n        return this.uniqueIdentifier;\n    }\n}\n</code></pre>\n<p>Most important here is, that you need to check the current thread for interruption at key moments in your own implementation.</p>\n<p>The cancel task is quite straightforward:</p>\n<pre><code>public class CancelTask implements Runnable {\n\n    private final Future&lt;?&gt; future;\n\n    public CancelTask(Future&lt;?&gt; future) {\n        this.future = future;\n    }\n\n    @Override\n    public void run() {\n        this.future.cancel(true);\n    }\n}\n</code></pre>\n<p>Wrap the canceling of a <code>Future</code> in a <code>Runnable</code>, so it can be scheduled  for execution with approproate delay.</p>\n<p>And the <code>Runnable</code>, which will wrap the result in an <code>Output</code>, and will be submitted for execution:</p>\n<pre><code>public class MyRunnable implements Runnable {\n\n    private final Map&lt;String, Output&gt; outputMap;\n    private final AddIntegerTask calcFunction;\n    private final CountDownLatch latch;\n\n    public MyRunnable(Map&lt;String, Output&gt; outputMap, AddIntegerTask calcFunction, CountDownLatch latch) {\n        this.outputMap = outputMap;\n        this.calcFunction = calcFunction;\n        this.latch = latch;\n    }\n\n    @Override\n    public void run() {\n        String uniqueIdentifier = this.calcFunction.getUniqueIdentifier();\n        Output output;\n        try {\n            Integer result = this.calcFunction.get();\n            output = new Output(uniqueIdentifier, true, result);\n        } catch (TooLongExecutionException exc) {\n            output = new Output(uniqueIdentifier, false, null);\n        }\n        this.outputMap.replace(uniqueIdentifier, output);\n        this.latch.countDown();\n    }\n}\n</code></pre>\n<p>Things to note here: <code>CountDownLatch</code>, it looks to me that you know the number of tasks beforehand, so it's a good choice to force main thread to wait until all tasks have finished. <code>TooLongExecutionException</code> is a custom exception extending <code>RuntimeException</code>. If the job completes, set as successful with result, if it was interrupted set to not successful without result.</p>\n<p>And a main to combine and test all that:</p>\n<pre><code>public class CancelingMain {\n\n    public static void main(String[] args) throws InterruptedException {\n        ScheduledExecutorService executorService = Executors.newScheduledThreadPool(10);\n\n        int taskCount = 6;\n        CountDownLatch latch = new CountDownLatch(taskCount);\n        long start = System.nanoTime();\n        Map&lt;String, Output&gt; outputMap = new LinkedHashMap&lt;&gt;();\n        for (int i = 1; i &lt;= taskCount; i++) {\n            boolean tooLong = i % 2 == 0;\n            AddIntegerTask task = new AddIntegerTask(tooLong, 10, 7);\n            outputMap.put(task.getUniqueIdentifier(), null);\n\n            MyRunnable runnable = new MyRunnable(outputMap, task, latch);\n            Future&lt;?&gt; future = executorService.submit(runnable);\n            //schedule cancel task to run once, 2 seconds after scheduling\n            executorService.schedule(new CancelTask(future), 2, TimeUnit.SECONDS);\n        }\n        latch.await();\n        System.out.println(&quot;execution took - &quot; + (System.nanoTime() - start) / 1_000_000_000D);\n        executorService.shutdown();\n        outputMap.values().forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>I am using <code>LinkedHashMap</code> in order to keep the tasks in their order of submission.</p>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646821691,"creation_date":1646732711,"answer_id":71392898,"question_id":71322315,"body_markdown":"Here&#39;s a fleshed out version of what I suggested in a comment to the question. The idea is to wrap a call to `get(long timeout, TimeUnit unit)` into another future. I encapsulate the required logic into a `BetterFuture` class, which delegates to a `CompletableFuture` under the hood:\r\n\r\n\r\n    import static java.util.concurrent.CompletableFuture.completedFuture;\r\n    import static java.util.concurrent.CompletableFuture.runAsync;\r\n    import static java.util.stream.Stream.concat;\r\n\r\n    import java.time.Duration;\r\n    import java.util.Optional;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.Executor;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Stream;\r\n\r\n    public class BetterFuture&lt;T&gt; {\r\n        private final CompletableFuture&lt;T&gt; delegate;\r\n\r\n        private BetterFuture(CompletableFuture&lt;T&gt; delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n\r\n        public static &lt;T&gt; BetterFuture&lt;T&gt; completed(T value) {\r\n            return new BetterFuture&lt;&gt;(completedFuture(value));\r\n        }\r\n\r\n        public static &lt;T&gt; BetterFuture&lt;T&gt; future(Executor executor, Callable&lt;T&gt; callable) {\r\n            CompletableFuture&lt;T&gt; delegate = new CompletableFuture&lt;T&gt;();\r\n\r\n            runAsync(() -&gt; {\r\n                try {\r\n                    delegate.complete(callable.call());\r\n                } catch (Throwable e) {\r\n                    delegate.completeExceptionally(e);\r\n                }\r\n            }, executor);\r\n\r\n            return new BetterFuture&lt;&gt;(delegate);\r\n        }\r\n\r\n        public static &lt;T&gt; BetterFuture&lt;Optional&lt;T&gt;&gt; future(Executor executor, Callable&lt;T&gt; callable, Duration timeout) {\r\n            return future(executor, () -&gt; future(executor, callable).get(timeout));\r\n        }\r\n\r\n        public &lt;R&gt; BetterFuture&lt;R&gt; map(Function&lt;T, R&gt; fn) {\r\n            return new BetterFuture&lt;&gt;(delegate.thenApply(fn));\r\n        }\r\n\r\n        public &lt;R&gt; BetterFuture&lt;R&gt; andThen(Function&lt;T, BetterFuture&lt;R&gt;&gt; fn) {\r\n            return new BetterFuture&lt;&gt;(\r\n                delegate.thenCompose(value -&gt; fn.apply(value).delegate));\r\n        }\r\n\r\n        public static &lt;T&gt; BetterFuture&lt;Stream&lt;T&gt;&gt; collect(Stream&lt;BetterFuture&lt;T&gt;&gt; futures) {\r\n            return futures\r\n                .map(future -&gt; future.map(Stream::of))\r\n                .reduce(\r\n                    BetterFuture.completed(Stream.empty()),\r\n                    (future1, future2) -&gt;\r\n                    future1\r\n                        .andThen(stream1 -&gt;\r\n                    future2\r\n                        .map(stream2 -&gt;\r\n                    concat(stream1, stream2)))\r\n                );\r\n        }\r\n\r\n        public T get() throws ExecutionException, InterruptedException {\r\n            return delegate.get();\r\n        }\r\n\r\n        public Optional&lt;T&gt; get(Duration timeout) throws ExecutionException, InterruptedException {\r\n            try {\r\n                return Optional.of(delegate.get(timeout.toMillis(), TimeUnit.MILLISECONDS));\r\n            } catch (TimeoutException e) {\r\n                return Optional.empty();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nMost of the methods just delegate to the underlying `CompletableFuture` without adding much additional functionality. \r\n\r\nTo start an async task with a timeout, use the method\r\n\r\n    &lt;T&gt; BetterFuture&lt;Optional&lt;T&gt;&gt; future(Executor executor, Callable&lt;T&gt; callable, Duration timeout) \r\n\r\nIf a timeout occurs, it completes with `empty` and with an optional of `T` otherwise. \r\n\r\nIn addition the method \r\n\r\n    public static &lt;T&gt; BetterFuture&lt;Stream&lt;T&gt;&gt; collect(Stream&lt;BetterFuture&lt;T&gt;&gt; futures) \r\n\r\n\r\nprovides a convenient way for collecting a stream of futures into a future of a stream of the same type:\r\n\r\n    Stream&lt;BetterFuture&lt;Optional&lt;String&gt;&gt;&gt; futures = ...\r\n    BetterFuture&lt;Stream&lt;Optional&lt;String&gt;&gt;&gt; futureStream = BetterFuture.collect(futures);\r\n \r\n\r\nHere&#39;s a full fledged examples where the first future times out and the second one completes successfully:\r\n\r\n    @Test\r\n    public void timeoutTest() throws ExecutionException, InterruptedException {\r\n        ExecutorService executor = Executors.newCachedThreadPool();\r\n\r\n        BetterFuture&lt;Optional&lt;String&gt;&gt; fa = BetterFuture.future(executor, () -&gt; {\r\n            Thread.sleep(3000);\r\n            return &quot;a&quot;;\r\n        }, Duration.ofSeconds(2));\r\n\r\n        BetterFuture&lt;Optional&lt;String&gt;&gt; fb = BetterFuture.future(executor, () -&gt; {\r\n            Thread.sleep(1000);\r\n            return &quot;b&quot;;\r\n        }, Duration.ofSeconds(2));\r\n\r\n        Stream&lt;BetterFuture&lt;Optional&lt;String&gt;&gt;&gt; futures = Stream.of(fa, fb);\r\n        BetterFuture&lt;Stream&lt;Optional&lt;String&gt;&gt;&gt; c = BetterFuture.collect(futures);\r\n\r\n        System.out.println(c.get().toList());\r\n    }\r\n\r\nWhen run, it prints\r\n\r\n    [Optional.empty, Optional[b]]\r\n\r\nAs a final note, the implementation does nothing about the running threads when a timeout occurs. That is, it only times out the future but it does not interrupt the running thread. The thread will keep running in the background until in completes naturally. ","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>Here's a fleshed out version of what I suggested in a comment to the question. The idea is to wrap a call to <code>get(long timeout, TimeUnit unit)</code> into another future. I encapsulate the required logic into a <code>BetterFuture</code> class, which delegates to a <code>CompletableFuture</code> under the hood:</p>\n<pre><code>import static java.util.concurrent.CompletableFuture.completedFuture;\nimport static java.util.concurrent.CompletableFuture.runAsync;\nimport static java.util.stream.Stream.concat;\n\nimport java.time.Duration;\nimport java.util.Optional;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\nimport java.util.function.Function;\nimport java.util.stream.Stream;\n\npublic class BetterFuture&lt;T&gt; {\n    private final CompletableFuture&lt;T&gt; delegate;\n\n    private BetterFuture(CompletableFuture&lt;T&gt; delegate) {\n        this.delegate = delegate;\n    }\n\n    public static &lt;T&gt; BetterFuture&lt;T&gt; completed(T value) {\n        return new BetterFuture&lt;&gt;(completedFuture(value));\n    }\n\n    public static &lt;T&gt; BetterFuture&lt;T&gt; future(Executor executor, Callable&lt;T&gt; callable) {\n        CompletableFuture&lt;T&gt; delegate = new CompletableFuture&lt;T&gt;();\n\n        runAsync(() -&gt; {\n            try {\n                delegate.complete(callable.call());\n            } catch (Throwable e) {\n                delegate.completeExceptionally(e);\n            }\n        }, executor);\n\n        return new BetterFuture&lt;&gt;(delegate);\n    }\n\n    public static &lt;T&gt; BetterFuture&lt;Optional&lt;T&gt;&gt; future(Executor executor, Callable&lt;T&gt; callable, Duration timeout) {\n        return future(executor, () -&gt; future(executor, callable).get(timeout));\n    }\n\n    public &lt;R&gt; BetterFuture&lt;R&gt; map(Function&lt;T, R&gt; fn) {\n        return new BetterFuture&lt;&gt;(delegate.thenApply(fn));\n    }\n\n    public &lt;R&gt; BetterFuture&lt;R&gt; andThen(Function&lt;T, BetterFuture&lt;R&gt;&gt; fn) {\n        return new BetterFuture&lt;&gt;(\n            delegate.thenCompose(value -&gt; fn.apply(value).delegate));\n    }\n\n    public static &lt;T&gt; BetterFuture&lt;Stream&lt;T&gt;&gt; collect(Stream&lt;BetterFuture&lt;T&gt;&gt; futures) {\n        return futures\n            .map(future -&gt; future.map(Stream::of))\n            .reduce(\n                BetterFuture.completed(Stream.empty()),\n                (future1, future2) -&gt;\n                future1\n                    .andThen(stream1 -&gt;\n                future2\n                    .map(stream2 -&gt;\n                concat(stream1, stream2)))\n            );\n    }\n\n    public T get() throws ExecutionException, InterruptedException {\n        return delegate.get();\n    }\n\n    public Optional&lt;T&gt; get(Duration timeout) throws ExecutionException, InterruptedException {\n        try {\n            return Optional.of(delegate.get(timeout.toMillis(), TimeUnit.MILLISECONDS));\n        } catch (TimeoutException e) {\n            return Optional.empty();\n        }\n    }\n\n}\n</code></pre>\n<p>Most of the methods just delegate to the underlying <code>CompletableFuture</code> without adding much additional functionality.</p>\n<p>To start an async task with a timeout, use the method</p>\n<pre><code>&lt;T&gt; BetterFuture&lt;Optional&lt;T&gt;&gt; future(Executor executor, Callable&lt;T&gt; callable, Duration timeout) \n</code></pre>\n<p>If a timeout occurs, it completes with <code>empty</code> and with an optional of <code>T</code> otherwise.</p>\n<p>In addition the method</p>\n<pre><code>public static &lt;T&gt; BetterFuture&lt;Stream&lt;T&gt;&gt; collect(Stream&lt;BetterFuture&lt;T&gt;&gt; futures) \n</code></pre>\n<p>provides a convenient way for collecting a stream of futures into a future of a stream of the same type:</p>\n<pre><code>Stream&lt;BetterFuture&lt;Optional&lt;String&gt;&gt;&gt; futures = ...\nBetterFuture&lt;Stream&lt;Optional&lt;String&gt;&gt;&gt; futureStream = BetterFuture.collect(futures);\n</code></pre>\n<p>Here's a full fledged examples where the first future times out and the second one completes successfully:</p>\n<pre><code>@Test\npublic void timeoutTest() throws ExecutionException, InterruptedException {\n    ExecutorService executor = Executors.newCachedThreadPool();\n\n    BetterFuture&lt;Optional&lt;String&gt;&gt; fa = BetterFuture.future(executor, () -&gt; {\n        Thread.sleep(3000);\n        return &quot;a&quot;;\n    }, Duration.ofSeconds(2));\n\n    BetterFuture&lt;Optional&lt;String&gt;&gt; fb = BetterFuture.future(executor, () -&gt; {\n        Thread.sleep(1000);\n        return &quot;b&quot;;\n    }, Duration.ofSeconds(2));\n\n    Stream&lt;BetterFuture&lt;Optional&lt;String&gt;&gt;&gt; futures = Stream.of(fa, fb);\n    BetterFuture&lt;Stream&lt;Optional&lt;String&gt;&gt;&gt; c = BetterFuture.collect(futures);\n\n    System.out.println(c.get().toList());\n}\n</code></pre>\n<p>When run, it prints</p>\n<pre><code>[Optional.empty, Optional[b]]\n</code></pre>\n<p>As a final note, the implementation does nothing about the running threads when a timeout occurs. That is, it only times out the future but it does not interrupt the running thread. The thread will keep running in the background until in completes naturally.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646857931,"creation_date":1646857931,"answer_id":71415671,"question_id":71322315,"body_markdown":"It totally depends on the tasks / calculations you are running in parallel if you can really cancel them. Keep in mind that the Java Runtime is not an operating system, and you cannot forcible kill a thread like you could do with a process.\r\n\r\nSo if you want to interrupt long-running calculations, you will have to write time in a way so they regularly check if they should stop execution. For waiting on some other stuff (sleep, sync on other threads etc.) it is a totally different strategy: you can interrupt such threads and the code receives a `InterruptedException` that can be used to really stop the code with much less cooperation from the code.\r\n\r\nI prepared a small example here to show you the difference:\r\n```\r\npackage examples.stackoverflow.q71322315;\r\n\r\nimport java.util.concurrent.*;\r\n\r\npublic class Q71322315 {\r\n    public static final long COUNTER = 10000000000L;\r\n    public static final boolean SLEEP = false;\r\n\r\n    private static final ExecutorService taskExec = Executors.newCachedThreadPool();\r\n\r\n    public static void timedRun(Runnable r, long timeout, TimeUnit unit) throws InterruptedException {\r\n        Future&lt;?&gt; task = taskExec.submit(r);\r\n        try {\r\n            task.get(timeout, unit);\r\n            System.out.println(&quot;completed&quot;);\r\n        } catch (TimeoutException e) {\r\n            // task will be cancelled below\r\n            System.out.println(&quot;timeout&quot;);\r\n        } catch (ExecutionException e) {\r\n            System.out.println(&quot;exex&quot;);\r\n            // exception thrown in task; rethrow\r\n            throw new RuntimeException(e.getCause());\r\n        } finally {\r\n            // Harmless if task already completed\r\n            task.cancel(true); // interrupt if running\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        timedRun(new Task(SLEEP), 2000, TimeUnit.MILLISECONDS);\r\n        taskExec.shutdown();\r\n        System.out.println(&quot;finish&quot;);\r\n    }\r\n    private static class Task implements Runnable {\r\n\r\n        private final boolean sleep;\r\n        private Task(boolean sleep) {\r\n            this.sleep = sleep;\r\n        }\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                if (sleep) {\r\n                    Thread.sleep(5000L);\r\n                } else {\r\n                    longRunningMethod(COUNTER);\r\n                }\r\n                System.out.println(&quot;Success&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                if (e instanceof InterruptedException) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n            }\r\n        }\r\n\r\n        private void longRunningMethod(long counter) {\r\n            for (long y = 0; y &lt; counter; y++) {\r\n                Math.sqrt(y);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe example is based on some example code of the already mentioned [Java Concurrency in Practice][1] - &quot;7.10 Cancelling a task using Future.&quot;\r\n\r\nThe code as above performs a long running calculation that doesn&#39;t care about any interruptions. (You might have to increase the value of `COUNTER`, just add zeros at the end until the whole method takes longer than 2 seconds.) \r\n\r\nYou will see that you first get the &quot;timeout&quot; message that indicates that the task wasn&#39;t finished in the wanted timeout. But the code continues running and also prints out &quot;finish&quot; and &quot;Success&quot;. \r\n\r\nWhen you flip the `SLEEP` constant to `true` it uses an interruptible call to `Thread.sleep()` instead and the output will not contain the &quot;Success&quot; message.\r\n\r\n----------\r\n\r\nAfter you managed to build a cancellable / interruptible computation you can then set up multiple threads that each execute the `timedRun` execution in parallel, so the tasks are started in parallel and also interrupted after the timeout. \r\n\r\nThis does not yet include the collection of the results, but instead of the sysouts for _completed_ and _timeout_ you can collect results or count the timed out tasks.\r\n\r\n(And if you want to use that code in production, please clean it up very thoroughly, it has really some huge smells that should never land in any production ready code ;-)\r\n\r\n\r\n  [1]: https://jcip.net/listings.html","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>It totally depends on the tasks / calculations you are running in parallel if you can really cancel them. Keep in mind that the Java Runtime is not an operating system, and you cannot forcible kill a thread like you could do with a process.</p>\n<p>So if you want to interrupt long-running calculations, you will have to write time in a way so they regularly check if they should stop execution. For waiting on some other stuff (sleep, sync on other threads etc.) it is a totally different strategy: you can interrupt such threads and the code receives a <code>InterruptedException</code> that can be used to really stop the code with much less cooperation from the code.</p>\n<p>I prepared a small example here to show you the difference:</p>\n<pre><code>package examples.stackoverflow.q71322315;\n\nimport java.util.concurrent.*;\n\npublic class Q71322315 {\n    public static final long COUNTER = 10000000000L;\n    public static final boolean SLEEP = false;\n\n    private static final ExecutorService taskExec = Executors.newCachedThreadPool();\n\n    public static void timedRun(Runnable r, long timeout, TimeUnit unit) throws InterruptedException {\n        Future&lt;?&gt; task = taskExec.submit(r);\n        try {\n            task.get(timeout, unit);\n            System.out.println(&quot;completed&quot;);\n        } catch (TimeoutException e) {\n            // task will be cancelled below\n            System.out.println(&quot;timeout&quot;);\n        } catch (ExecutionException e) {\n            System.out.println(&quot;exex&quot;);\n            // exception thrown in task; rethrow\n            throw new RuntimeException(e.getCause());\n        } finally {\n            // Harmless if task already completed\n            task.cancel(true); // interrupt if running\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        timedRun(new Task(SLEEP), 2000, TimeUnit.MILLISECONDS);\n        taskExec.shutdown();\n        System.out.println(&quot;finish&quot;);\n    }\n    private static class Task implements Runnable {\n\n        private final boolean sleep;\n        private Task(boolean sleep) {\n            this.sleep = sleep;\n        }\n        @Override\n        public void run() {\n            try {\n                if (sleep) {\n                    Thread.sleep(5000L);\n                } else {\n                    longRunningMethod(COUNTER);\n                }\n                System.out.println(&quot;Success&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n                if (e instanceof InterruptedException) {\n                    Thread.currentThread().interrupt();\n                }\n            }\n        }\n\n        private void longRunningMethod(long counter) {\n            for (long y = 0; y &lt; counter; y++) {\n                Math.sqrt(y);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The example is based on some example code of the already mentioned <a href=\"https://jcip.net/listings.html\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a> - &quot;7.10 Cancelling a task using Future.&quot;</p>\n<p>The code as above performs a long running calculation that doesn't care about any interruptions. (You might have to increase the value of <code>COUNTER</code>, just add zeros at the end until the whole method takes longer than 2 seconds.)</p>\n<p>You will see that you first get the &quot;timeout&quot; message that indicates that the task wasn't finished in the wanted timeout. But the code continues running and also prints out &quot;finish&quot; and &quot;Success&quot;.</p>\n<p>When you flip the <code>SLEEP</code> constant to <code>true</code> it uses an interruptible call to <code>Thread.sleep()</code> instead and the output will not contain the &quot;Success&quot; message.</p>\n<hr />\n<p>After you managed to build a cancellable / interruptible computation you can then set up multiple threads that each execute the <code>timedRun</code> execution in parallel, so the tasks are started in parallel and also interrupted after the timeout.</p>\n<p>This does not yet include the collection of the results, but instead of the sysouts for <em>completed</em> and <em>timeout</em> you can collect results or count the timed out tasks.</p>\n<p>(And if you want to use that code in production, please clean it up very thoroughly, it has really some huge smells that should never land in any production ready code ;-)</p>\n"},{"tags":[],"owner":{"account_id":24507686,"reputation":51,"user_id":18422455,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646858365,"creation_date":1646858365,"answer_id":71415744,"question_id":71322315,"body_markdown":"We had similar requirement where we need capture timeout of each thread and ignore the results. Java 8 doesn&#39;t have this in built.\r\nOne of the ways we achieved it,\r\n\r\n    List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    List&lt;?&gt; results = new ArrayList&lt;&gt;(); // It can be anything you collect\r\n    futures.add(asyncService.fetchMethod()\r\n    .acceptEither(\r\n        timeoutAfter(timeout, TimeUnit.SECONDS),\r\n        results:add)\r\n    .handle(\r\n       (result, ex) -&gt; {\r\n         //Handle the timeout exception\r\n            results.add(...);\r\n           return result\r\n        });\r\n    CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\r\n\r\n------------------\r\n\r\n    private &lt;T&gt; CompletableFuture&lt;T&gt; timeoutAfter(long timeout, TimeUnit unit) {\r\n      CompletableFuture&lt;T&gt; result = new CompletableFuture&lt;&gt;();\r\n      // We need a separate executor here\r\n      scheduledExecutor.schedule(\r\n        () -&gt; result.completeExceptionally(new TimeoutException()), timeout, unit);\r\n      );\r\n      return result;\r\n    }\r\n\r\n\r\n\r\n","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>We had similar requirement where we need capture timeout of each thread and ignore the results. Java 8 doesn't have this in built.\nOne of the ways we achieved it,</p>\n<pre><code>List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\nList&lt;?&gt; results = new ArrayList&lt;&gt;(); // It can be anything you collect\nfutures.add(asyncService.fetchMethod()\n.acceptEither(\n    timeoutAfter(timeout, TimeUnit.SECONDS),\n    results:add)\n.handle(\n   (result, ex) -&gt; {\n     //Handle the timeout exception\n        results.add(...);\n       return result\n    });\nCompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\n</code></pre>\n<hr />\n<pre><code>private &lt;T&gt; CompletableFuture&lt;T&gt; timeoutAfter(long timeout, TimeUnit unit) {\n  CompletableFuture&lt;T&gt; result = new CompletableFuture&lt;&gt;();\n  // We need a separate executor here\n  scheduledExecutor.schedule(\n    () -&gt; result.completeExceptionally(new TimeoutException()), timeout, unit);\n  );\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17309925,"reputation":402,"user_id":12537799,"display_name":"Siddharth Vaish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655405438,"creation_date":1655405438,"answer_id":72650627,"question_id":71322315,"body_markdown":"Here is what helped me.\r\n\r\nProblem in hand: Given X seconds as `timeout` return the value from the `Task` which completes first, in case none of the `Task` is able to finish then return default value.\r\n\r\n```import java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; f1 = CompletableFuture.supplyAsync(() -&gt; func(&quot;Task 1&quot;, 1000));\r\n        CompletableFuture&lt;String&gt; f2 = CompletableFuture.supplyAsync(() -&gt; func(&quot;Task 2&quot;, 2000));\r\n        String str = null;\r\n        try {\r\n            str = (String) CompletableFuture.anyOf(f1, f2).get(3, TimeUnit.SECONDS);\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (TimeoutException e) {\r\n            str = &quot;Default&quot;;\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(str);\r\n    }\r\n\r\n    public static String func(String task, int sleepTime) {\r\n        try {\r\n            Thread.sleep(sleepTime);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return task;\r\n    }\r\n}\r\n```","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<p>Here is what helped me.</p>\n<p>Problem in hand: Given X seconds as <code>timeout</code> return the value from the <code>Task</code> which completes first, in case none of the <code>Task</code> is able to finish then return default value.</p>\n<pre><code>import java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        CompletableFuture&lt;String&gt; f1 = CompletableFuture.supplyAsync(() -&gt; func(&quot;Task 1&quot;, 1000));\n        CompletableFuture&lt;String&gt; f2 = CompletableFuture.supplyAsync(() -&gt; func(&quot;Task 2&quot;, 2000));\n        String str = null;\n        try {\n            str = (String) CompletableFuture.anyOf(f1, f2).get(3, TimeUnit.SECONDS);\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        } catch (TimeoutException e) {\n            str = &quot;Default&quot;;\n            e.printStackTrace();\n        }\n\n        System.out.println(str);\n    }\n\n    public static String func(String task, int sleepTime) {\n        try {\n            Thread.sleep(sleepTime);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return task;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2701,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71329108,"answer_count":8,"score":4,"last_activity_date":1655405438,"creation_date":1646222313,"question_id":71322315,"body_markdown":"*Summary of what I want to achieve:*\r\n----------------------------------\r\n\r\nI want to execute N tasks in parallel such that no individual task should run for more than two seconds (we can mark such tasks as failed). As an output I want to return the output of successful tasks and status of failed tasks as failed. Also a timeout of one task should not lead to a circuit break, i.e., other tasks execution should not stop.\r\n\r\n------------------------------------------------------------------------\r\n\r\nNote: I am restricted to use Java 8.\r\n\r\nI referenced [this article][1] for parallel processing. I am doing a similar kind of parallel processing as given in the example in this article:\r\n\r\n    public void parallelProcessing() {\r\n        try {\r\n            ExecutorService executorService = Executors.newWorkStealingPool(10);\r\n\r\n            List&lt;CompletableFuture&lt;Integer&gt;&gt; futuresList = new ArrayList&lt;CompletableFuture&lt;Integer&gt;&gt;();\r\n            futuresList.add(CompletableFuture.supplyAsync(()-&gt;(addFun1(10, 5)), executorService));\r\n            futuresList.add(CompletableFuture.supplyAsync(()-&gt;(subFun1(10, 5)), executorService));\r\n            futuresList.add(CompletableFuture.supplyAsync(()-&gt;(mulFun1(10, 5)), executorService));\r\n\r\n            CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(futuresList.toArray(new CompletableFuture[futuresList.size()]));\r\n            CompletableFuture&lt;List&lt;Integer&gt;&gt; allCompletableFuture = allFutures.thenApply(future -&gt; futuresList.stream().map(completableFuture -&gt; completableFuture.join())\r\n                    .collect(Collectors.toList()));\r\n            CompletableFuture&lt;List&lt;Integer&gt;&gt; completableFuture = allCompletableFuture.toCompletableFuture();\r\n            List&lt;Integer&gt; finalList = (List&lt;Integer&gt;) completableFuture.get();\r\n        } catch (Exception ex) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public static Integer addFun1(int a, int b) {\r\n        System.out.println(Thread.currentThread().getName());\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n\r\n            System.out.print(Thread.currentThread().getName() + i);\r\n        }\r\n\r\n        return a + b;\r\n    }\r\n\r\n    public static Integer subFun1(int a, int b) {\r\n\r\n        System.out.println(Thread.currentThread().getName());\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n\r\n            System.out.print(Thread.currentThread().getName() + i);\r\n        }\r\n\r\n        return a - b;\r\n    }\r\n\r\n\r\n    public static Integer mulFun1(int a, int b) {\r\n\r\n        System.out.println(Thread.currentThread().getName());\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n\r\n            System.out.print(Thread.currentThread().getName() + i);\r\n        }\r\n\r\n        return a * b;\r\n    }\r\n\r\nThis works fine. But I want to set a timeout for an individual thread. I know I can use an overloaded get function in the last line. But that would set the timeout for combined futures, right? E.g., if I want no individual thread should be blocked for more than 2 seconds, and if I set a 2 seconds timeout in the last line, it will be combined timeout, right?\r\n\r\n    get(long timeout, TimeUnit unit)\r\n\r\nHere&#39;s what I want to achieve as a final outcome:\r\n\r\nSuppose there are five threads and four complete on time, one timeout (due to running more than two seconds). In this case, I want to send the output of four threads and send the error for the fifth thread in the result.\r\n\r\nMy input/output format is in the following way:\r\n\r\nSample input: `List&lt;Input&gt;` each item is run in a separate thread, where each input has a `uniqueIdentifier`.\r\n\r\nSample output: `List&lt;Output&gt;` such that:\r\n\r\n    Output :{\r\n        uniqueIdentifier: // Same as input to map for which input this output was generated\r\n        result: success/fail // This Field I want to add. Currently it&#39;s not there\r\n        data: {\r\n            // From output, e.g., addFun1 and subFun1\r\n        }\r\n    }\r\n\r\n  [1]: https://dzone.com/articles/java-8-parallel-processing-with-completable-future\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java 8 mulithreading: How can I achieve parallelism along with a timeout for individual threads?","body":"<h2><em>Summary of what I want to achieve:</em></h2>\n<p>I want to execute N tasks in parallel such that no individual task should run for more than two seconds (we can mark such tasks as failed). As an output I want to return the output of successful tasks and status of failed tasks as failed. Also a timeout of one task should not lead to a circuit break, i.e., other tasks execution should not stop.</p>\n<hr />\n<p>Note: I am restricted to use Java 8.</p>\n<p>I referenced <a href=\"https://dzone.com/articles/java-8-parallel-processing-with-completable-future\" rel=\"nofollow noreferrer\">this article</a> for parallel processing. I am doing a similar kind of parallel processing as given in the example in this article:</p>\n<pre><code>public void parallelProcessing() {\n    try {\n        ExecutorService executorService = Executors.newWorkStealingPool(10);\n\n        List&lt;CompletableFuture&lt;Integer&gt;&gt; futuresList = new ArrayList&lt;CompletableFuture&lt;Integer&gt;&gt;();\n        futuresList.add(CompletableFuture.supplyAsync(()-&gt;(addFun1(10, 5)), executorService));\n        futuresList.add(CompletableFuture.supplyAsync(()-&gt;(subFun1(10, 5)), executorService));\n        futuresList.add(CompletableFuture.supplyAsync(()-&gt;(mulFun1(10, 5)), executorService));\n\n        CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(futuresList.toArray(new CompletableFuture[futuresList.size()]));\n        CompletableFuture&lt;List&lt;Integer&gt;&gt; allCompletableFuture = allFutures.thenApply(future -&gt; futuresList.stream().map(completableFuture -&gt; completableFuture.join())\n                .collect(Collectors.toList()));\n        CompletableFuture&lt;List&lt;Integer&gt;&gt; completableFuture = allCompletableFuture.toCompletableFuture();\n        List&lt;Integer&gt; finalList = (List&lt;Integer&gt;) completableFuture.get();\n    } catch (Exception ex) {\n\n    }\n}\n\n\npublic static Integer addFun1(int a, int b) {\n    System.out.println(Thread.currentThread().getName());\n\n    for (int i = 0; i &lt; 10; i++) {\n\n        System.out.print(Thread.currentThread().getName() + i);\n    }\n\n    return a + b;\n}\n\npublic static Integer subFun1(int a, int b) {\n\n    System.out.println(Thread.currentThread().getName());\n\n    for (int i = 0; i &lt; 10; i++) {\n\n        System.out.print(Thread.currentThread().getName() + i);\n    }\n\n    return a - b;\n}\n\n\npublic static Integer mulFun1(int a, int b) {\n\n    System.out.println(Thread.currentThread().getName());\n\n    for (int i = 0; i &lt; 10; i++) {\n\n        System.out.print(Thread.currentThread().getName() + i);\n    }\n\n    return a * b;\n}\n</code></pre>\n<p>This works fine. But I want to set a timeout for an individual thread. I know I can use an overloaded get function in the last line. But that would set the timeout for combined futures, right? E.g., if I want no individual thread should be blocked for more than 2 seconds, and if I set a 2 seconds timeout in the last line, it will be combined timeout, right?</p>\n<pre><code>get(long timeout, TimeUnit unit)\n</code></pre>\n<p>Here's what I want to achieve as a final outcome:</p>\n<p>Suppose there are five threads and four complete on time, one timeout (due to running more than two seconds). In this case, I want to send the output of four threads and send the error for the fifth thread in the result.</p>\n<p>My input/output format is in the following way:</p>\n<p>Sample input: <code>List&lt;Input&gt;</code> each item is run in a separate thread, where each input has a <code>uniqueIdentifier</code>.</p>\n<p>Sample output: <code>List&lt;Output&gt;</code> such that:</p>\n<pre><code>Output :{\n    uniqueIdentifier: // Same as input to map for which input this output was generated\n    result: success/fail // This Field I want to add. Currently it's not there\n    data: {\n        // From output, e.g., addFun1 and subFun1\n    }\n}\n</code></pre>\n"},{"tags":["java","json","web-services","rest","http-post"],"comments":[{"owner":{"account_id":9053880,"reputation":351,"user_id":6742917,"accept_rate":75,"display_name":"Selin G&#246;k"},"score":0,"creation_date":1472364884,"post_id":39186684,"comment_id":65717916,"body_markdown":"when i define a new class which has Course and User pojo like that :\n\npublic class CourseUser {\n\tprivate User user;\n\tprivate Course course;\n        //Getters Setters\n}\ni changed my post method like that :\n\n@RequestMapping(value=&quot;/addcourse&quot; , method=RequestMethod.POST)\n\tpublic @ResponseBody Response&lt;Course&gt; addCoursetoUser(@RequestBody CourseUser courseUser) throws SQLException{\n\t\t..\n\t}\n\nAnd i changed my json like \n{\n    &quot;course.id&quot; : 3, \n    &quot;course.name&quot; : &quot;Algorithms&quot;, ....\n}\n\nBut still i am getting same error :\nUnrecognized field &quot;course.id&quot; not marked as ignorable","body":"when i define a new class which has Course and User pojo like that :  public class CourseUser { \tprivate User user; \tprivate Course course;         //Getters Setters } i changed my post method like that :  @RequestMapping(value=&quot;/addcourse&quot; , method=RequestMethod.POST) \tpublic @ResponseBody Response&lt;Course&gt; addCoursetoUser(@RequestBody CourseUser courseUser) throws SQLException{ \t\t.. \t}  And i changed my json like  {     &quot;course.id&quot; : 3,      &quot;course.name&quot; : &quot;Algorithms&quot;, .... }  But still i am getting same error : Unrecognized field &quot;course.id&quot; not marked as ignorable"}],"answers":[{"tags":[],"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1472341967,"creation_date":1472341967,"answer_id":39186803,"question_id":39186684,"body_markdown":"You can&#39;t. You will need to wrap your two objects into a single object (maybe `CourseUser` or `CourseUserRequest`).\r\n\r\nAlso that error implies your `Course` class is missing the `cid` field in the Java model.","title":"How can i passing two parameters to restful web service using http post? UnrecognizedPropertyException: Unrecognized field , not marked as ignorable","body":"<p>You can't. You will need to wrap your two objects into a single object (maybe <code>CourseUser</code> or <code>CourseUserRequest</code>).</p>\n\n<p>Also that error implies your <code>Course</code> class is missing the <code>cid</code> field in the Java model.</p>\n"},{"tags":[],"owner":{"account_id":9085064,"reputation":36,"user_id":6763421,"display_name":"Nirmal Agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655405154,"creation_date":1472342386,"answer_id":39186837,"question_id":39186684,"body_markdown":"**First** of all you need to write **getter and setter** method for all class members which you have declared in your pojo :\r\n\r\neg :\r\n\r\n    public class Course {\r\n    private int cid;\r\n    \r\n    public int getCid()\r\n    {\r\n          return this.cid ;\r\n    }\r\n    \r\n    public void setCid(int cid)\r\n    {\r\n        this.cid=cid;\r\n    }\r\n    \r\n    }\r\n\r\n**Second**\r\nYou can not have two request body param in your post method here either you need to define a parent pojo which has Course and User Pojo like this \r\n\r\n    public class MyClass{\r\n    \r\n    private Course course ;\r\n    \r\n    private User user ;\r\n    \r\n    // getter setter for User and Course \r\n    \r\n    }\r\n\r\nOf Course your json will be change if you use this  like :\r\n\r\n\r\n    {\r\n    &quot;course.id&quot; :3,\r\n    &quot;course.name&quot; : &quot;Algorithms&quot;,\r\n    &quot;course.code&quot; : &quot;COM367&quot;,\r\n    &quot;course.credit&quot; : 3,\r\n    &quot;course.cid&quot; : 28,\r\n    &quot;user.username&quot; : &quot;selin&quot;,\r\n    &quot;user.password&quot; : &quot;ssgg&quot;\r\n    }\r\n\r\n","title":"How can i passing two parameters to restful web service using http post? UnrecognizedPropertyException: Unrecognized field , not marked as ignorable","body":"<p><strong>First</strong> of all you need to write <strong>getter and setter</strong> method for all class members which you have declared in your pojo :</p>\n<p>eg :</p>\n<pre><code>public class Course {\nprivate int cid;\n\npublic int getCid()\n{\n      return this.cid ;\n}\n\npublic void setCid(int cid)\n{\n    this.cid=cid;\n}\n\n}\n</code></pre>\n<p><strong>Second</strong>\nYou can not have two request body param in your post method here either you need to define a parent pojo which has Course and User Pojo like this</p>\n<pre><code>public class MyClass{\n\nprivate Course course ;\n\nprivate User user ;\n\n// getter setter for User and Course \n\n}\n</code></pre>\n<p>Of Course your json will be change if you use this  like :</p>\n<pre><code>{\n&quot;course.id&quot; :3,\n&quot;course.name&quot; : &quot;Algorithms&quot;,\n&quot;course.code&quot; : &quot;COM367&quot;,\n&quot;course.credit&quot; : 3,\n&quot;course.cid&quot; : 28,\n&quot;user.username&quot; : &quot;selin&quot;,\n&quot;user.password&quot; : &quot;ssgg&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9053880,"reputation":351,"user_id":6742917,"accept_rate":75,"display_name":"Selin G&#246;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39186803,"answer_count":2,"score":0,"last_activity_date":1655405154,"creation_date":1472340387,"question_id":39186684,"body_markdown":"My course pojo is ;\r\n\r\n    public class Course {\r\n\tprivate int cid;\r\n\tprivate String name;\r\n\tprivate String code;\r\n\tprivate int credit;\r\n\r\n    //Getters Setters\r\n}\r\n\r\nservice :\r\n\r\n    @RequestMapping(value=&quot;/addcourse&quot; , method=RequestMethod.POST)\r\n\tpublic @ResponseBody Response&lt;Course&gt; addCoursetoUser(@RequestBody Course course, @RequestBody User user) throws SQLException{\r\n\r\n\t\tif(new CourseDAO().addCoursetoUser(course, user))\r\n\t\t\treturn new Response&lt;&gt;(...);\r\n\t\telse\r\n\t\t\treturn new Response&lt;&gt;(...);\r\n\t\r\n\t}\r\n\r\ni am trying to send this json values to my web service, but i am getting this error :\r\norg.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field &quot;cid&quot; (Class com.spring.model.Course), not marked as ignorable\r\n\r\n    {\r\n    &quot;id&quot; :3,\r\n    &quot;name&quot; : &quot;Algorithms&quot;,\r\n    &quot;code&quot; : &quot;COM367&quot;,\r\n    &quot;credit&quot; : 3,\r\n    &quot;cid&quot; : 28,\r\n    &quot;username&quot; : &quot;selin&quot;,\r\n    &quot;password&quot; : &quot;ssgg&quot;\r\n}\r\n\r\nI have tried a lot of jsons but I always get this error.\r\nThanks in advance..\r\n","title":"How can i passing two parameters to restful web service using http post? UnrecognizedPropertyException: Unrecognized field , not marked as ignorable","body":"<p>My course pojo is ;</p>\n\n<pre><code>public class Course {\nprivate int cid;\nprivate String name;\nprivate String code;\nprivate int credit;\n\n//Getters Setters\n</code></pre>\n\n<p>}</p>\n\n<p>service :</p>\n\n<pre><code>@RequestMapping(value=\"/addcourse\" , method=RequestMethod.POST)\npublic @ResponseBody Response&lt;Course&gt; addCoursetoUser(@RequestBody Course course, @RequestBody User user) throws SQLException{\n\n    if(new CourseDAO().addCoursetoUser(course, user))\n        return new Response&lt;&gt;(...);\n    else\n        return new Response&lt;&gt;(...);\n\n}\n</code></pre>\n\n<p>i am trying to send this json values to my web service, but i am getting this error :\norg.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field \"cid\" (Class com.spring.model.Course), not marked as ignorable</p>\n\n<pre><code>{\n\"id\" :3,\n\"name\" : \"Algorithms\",\n\"code\" : \"COM367\",\n\"credit\" : 3,\n\"cid\" : 28,\n\"username\" : \"selin\",\n\"password\" : \"ssgg\"\n</code></pre>\n\n<p>}</p>\n\n<p>I have tried a lot of jsons but I always get this error.\nThanks in advance..</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1654747199,"post_id":72553993,"comment_id":128166790,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21450652,"reputation":11,"user_id":15803181,"display_name":"Andrs Felipe Cardona Gutierrez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655404948,"creation_date":1655404948,"answer_id":72650536,"question_id":72553993,"body_markdown":"If you want your job to stop then you should set it as a batch job and not as a stream job. Here more info: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/execution_mode/.\r\n\r\nAs for commiting the records to kafka broker, it is done automatically by flink on every successful checkpoint/savepoint, so you do not have to do anything in that regard.","title":"How to commit an offset on java flink with KafkaSource","body":"<p>If you want your job to stop then you should set it as a batch job and not as a stream job. Here more info: <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/execution_mode/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/execution_mode/</a>.</p>\n<p>As for commiting the records to kafka broker, it is done automatically by flink on every successful checkpoint/savepoint, so you do not have to do anything in that regard.</p>\n"}],"owner":{"account_id":25511569,"reputation":1,"user_id":19303095,"display_name":"Rene Lee Ramirez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655404948,"creation_date":1654740541,"question_id":72553993,"body_markdown":"I want to processed the message from kafka and then to commit that message and once flink consume and process all Messages end the Job, to escalete the process with taskmanager and heartbeat\r\n\r\n    StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\r\n                .setBootstrapServers(address)\r\n                .setTopics(inputTopic)\r\n                .setGroupId(consumerGroup)\r\n                .setStartingOffsets(OffsetsInitializer.earliest())\r\n                .setValueOnlyDeserializer(new SimpleStringSchema())\r\n                .setProperty(&quot;enable.auto.commit&quot;, &quot;true&quot;)\r\n                .setProperty(&quot;commit.offsets.on.checkpoint&quot;, &quot;true&quot;)\r\n                .build();\r\n\r\n        DataStream&lt;String&gt; stream = environment.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        stream.map((value) -&gt; {","title":"How to commit an offset on java flink with KafkaSource","body":"<p>I want to processed the message from kafka and then to commit that message and once flink consume and process all Messages end the Job, to escalete the process with taskmanager and heartbeat</p>\n<pre><code>StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\n    KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n            .setBootstrapServers(address)\n            .setTopics(inputTopic)\n            .setGroupId(consumerGroup)\n            .setStartingOffsets(OffsetsInitializer.earliest())\n            .setValueOnlyDeserializer(new SimpleStringSchema())\n            .setProperty(&quot;enable.auto.commit&quot;, &quot;true&quot;)\n            .setProperty(&quot;commit.offsets.on.checkpoint&quot;, &quot;true&quot;)\n            .build();\n\n    DataStream&lt;String&gt; stream = environment.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\n    ObjectMapper mapper = new ObjectMapper();\n    stream.map((value) -&gt; {\n</code></pre>\n"},{"tags":["java","android","appium"],"answers":[{"tags":[],"owner":{"account_id":7370943,"reputation":91,"user_id":5611115,"display_name":"Filip Soll&#225;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655243381,"creation_date":1655243381,"answer_id":72623760,"question_id":72622663,"body_markdown":"You can use View#setId with some positive integer as ids are basically integers","title":"Dynamically change the android id of an element","body":"<p>You can use View#setId with some positive integer as ids are basically integers</p>\n"},{"tags":[],"owner":{"account_id":12821141,"reputation":199,"user_id":9275965,"display_name":"meysam ghorbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655272817,"creation_date":1655272817,"answer_id":72626519,"question_id":72622663,"body_markdown":"Your answer is not clear enough but it&#39;s possible to change it by `#setId` method of View. And consider this issue that changing the view id when runtime may cause errors inside the code if it is using that view by hardcoded id so it can&#39;t be found by those components anymore. ","title":"Dynamically change the android id of an element","body":"<p>Your answer is not clear enough but it's possible to change it by <code>#setId</code> method of View. And consider this issue that changing the view id when runtime may cause errors inside the code if it is using that view by hardcoded id so it can't be found by those components anymore.</p>\n"},{"tags":[],"owner":{"account_id":21846505,"reputation":63,"user_id":19312979,"display_name":"sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655404728,"creation_date":1655404728,"answer_id":72650492,"question_id":72622663,"body_markdown":"An alternative is to dynamically change tags using View#setTag which can accept strings. To access the view using tags, you can use findViewWithTag.\r\n\r\nSample code to access view using tag:\r\n```\r\nLinearLayout layout = findViewById(R.id.layout);\r\nTextView textView = layout.findViewWithTag(&quot;someTag&quot;);\r\n```","title":"Dynamically change the android id of an element","body":"<p>An alternative is to dynamically change tags using View#setTag which can accept strings. To access the view using tags, you can use findViewWithTag.</p>\n<p>Sample code to access view using tag:</p>\n<pre><code>LinearLayout layout = findViewById(R.id.layout);\nTextView textView = layout.findViewWithTag(&quot;someTag&quot;);\n</code></pre>\n"}],"owner":{"account_id":7421959,"reputation":743,"user_id":5645927,"accept_rate":20,"display_name":"Andr&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655404728,"creation_date":1655236382,"question_id":72622663,"body_markdown":"Is it possible to change the android id of a view or any of their elements, such as an imageView based on some code? That is, verifying a variable such as a bool and having a different id depending on the value such as `image_true` and `image_false`.\r\n\r\nI am working on an automation project with Appium and I need to be able to differentiate a success pop-up from an error pop-up. They are essentially the same component but the image is different depending on the state of it.","title":"Dynamically change the android id of an element","body":"<p>Is it possible to change the android id of a view or any of their elements, such as an imageView based on some code? That is, verifying a variable such as a bool and having a different id depending on the value such as <code>image_true</code> and <code>image_false</code>.</p>\n<p>I am working on an automation project with Appium and I need to be able to differentiate a success pop-up from an error pop-up. They are essentially the same component but the image is different depending on the state of it.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1655325830,"post_id":72637252,"comment_id":128309299,"body_markdown":"Use the callback pattern. `HomeFragment` should implement an interface that has a method for passing back your data. `storageContainer` should then call `HomeFragment`&#39;s instance of that method, which should in turn update your `TextView`.","body":"Use the callback pattern. <code>HomeFragment</code> should implement an interface that has a method for passing back your data. <code>storageContainer</code> should then call <code>HomeFragment</code>&#39;s instance of that method, which should in turn update your <code>TextView</code>."}],"answers":[{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655344347,"creation_date":1655344347,"answer_id":72639616,"question_id":72637252,"body_markdown":"You can pass the value by using `Bundle`. You can refer to this link https://stackoverflow.com/a/9245510/9346054\r\n\r\nFor you case, you can create the instance like below.\r\n\r\n    public static HomeFragment newInstance(final Double savedMoney) {\r\n        final HomeFragment homeFragment = new HomeFragment();\r\n        final Bundle args = new Bundle();\r\n        args.putDouble(&quot;savedMoney&quot;, savedMoney);\r\n        homeFragment.setArguments(args);\r\n        return homeFragment;\r\n    }\r\n\r\n\r\nNext, implement it at the `storageContainer` method like this.\r\n\r\n    public void storageContainer(double savedMoney) {\r\n        this.savedMoney = savedMoney;\r\n        newInstance(savedMoney);\r\n    }\r\n\r\n\r\nAt the `HomeFragment`, you can get the value at `onCreate`. Example as below\r\n\r\n    final Double savedMoney = getArguments().getDouble(&quot;savedMoney&quot;, 0);\r\n    //Display at the textView\r\n    tvSavedMoney.setText(&quot;Total: &quot; + savedMoney);","title":"How to send data to antoher class","body":"<p>You can pass the value by using <code>Bundle</code>. You can refer to this link <a href=\"https://stackoverflow.com/a/9245510/9346054\">https://stackoverflow.com/a/9245510/9346054</a></p>\n<p>For you case, you can create the instance like below.</p>\n<pre><code>public static HomeFragment newInstance(final Double savedMoney) {\n    final HomeFragment homeFragment = new HomeFragment();\n    final Bundle args = new Bundle();\n    args.putDouble(&quot;savedMoney&quot;, savedMoney);\n    homeFragment.setArguments(args);\n    return homeFragment;\n}\n</code></pre>\n<p>Next, implement it at the <code>storageContainer</code> method like this.</p>\n<pre><code>public void storageContainer(double savedMoney) {\n    this.savedMoney = savedMoney;\n    newInstance(savedMoney);\n}\n</code></pre>\n<p>At the <code>HomeFragment</code>, you can get the value at <code>onCreate</code>. Example as below</p>\n<pre><code>final Double savedMoney = getArguments().getDouble(&quot;savedMoney&quot;, 0);\n//Display at the textView\ntvSavedMoney.setText(&quot;Total: &quot; + savedMoney);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655375966,"creation_date":1655375650,"answer_id":72644453,"question_id":72637252,"body_markdown":"If you want to send the value `savedMoney` to another activity, you should consider sending it [only when it&#39;s ready][1]. A typical way of sending the data would be through an [Intent][2]. So in code should look like this:\r\n\r\n```\r\npublic void getSavedMoney() {\r\n    databaseReference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n            for (DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                String money = ds.child(&quot;saveMoney&quot;).getValue().toString();\r\n                moneyStringList.add(money);\r\n            }\r\n            moneyNumList = Lists.transform(moneyStringList, Double::parseDouble);\r\n            savedMoney = moneyNumList.stream().mapToDouble(Double::doubleValue).sum();\r\n            //storageContainer(savedMoney); //&#128072; removed\r\n\r\n            Intent intent = new Intent(CurrentActivity.this, NextActivity.class);\r\n            intent.putExtras(&quot;savedMoney&quot;, savedMoney);\r\n            startActivity(intent);            \r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(DatabaseError databaseError) {\r\n            Log.d(&quot;TAG&quot;, error.getMessage()); //Never ignore potential errors!\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nAnd to get it back inside the next activity, simply use:\r\n\r\n    double savedMoney = getIntent().getExtras().getDouble(&quot;savedMoney&quot;);\r\n    Log.d(&quot;TAG&quot;, &quot;savedMoney = &quot; + savedMoney);\r\n\r\nIf you understand Kotlin, I recommend you read the following resource:\r\n\r\n* [How to read data from Firebase Realtime Database using get()?][3]\r\n\r\nWhere I have explained **three** ways in which we can get data from [Firebase Realtime Database][4] using the [get()][5] method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\r\n  [2]: https://developer.android.com/reference/android/content/Intent\r\n  [3]: https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\r\n  [4]: https://firebase.google.com/docs/database/android/read-and-write\r\n  [5]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#get()","title":"How to send data to antoher class","body":"<p>If you want to send the value <code>savedMoney</code> to another activity, you should consider sending it <a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">only when it's ready</a>. A typical way of sending the data would be through an <a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">Intent</a>. So in code should look like this:</p>\n<pre><code>public void getSavedMoney() {\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot ds : dataSnapshot.getChildren()) {\n                String money = ds.child(&quot;saveMoney&quot;).getValue().toString();\n                moneyStringList.add(money);\n            }\n            moneyNumList = Lists.transform(moneyStringList, Double::parseDouble);\n            savedMoney = moneyNumList.stream().mapToDouble(Double::doubleValue).sum();\n            //storageContainer(savedMoney); //👈 removed\n\n            Intent intent = new Intent(CurrentActivity.this, NextActivity.class);\n            intent.putExtras(&quot;savedMoney&quot;, savedMoney);\n            startActivity(intent);            \n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            Log.d(&quot;TAG&quot;, error.getMessage()); //Never ignore potential errors!\n        }\n    });\n}\n</code></pre>\n<p>And to get it back inside the next activity, simply use:</p>\n<pre><code>double savedMoney = getIntent().getExtras().getDouble(&quot;savedMoney&quot;);\nLog.d(&quot;TAG&quot;, &quot;savedMoney = &quot; + savedMoney);\n</code></pre>\n<p>If you understand Kotlin, I recommend you read the following resource:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a></li>\n</ul>\n<p>Where I have explained <strong>three</strong> ways in which we can get data from <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">Firebase Realtime Database</a> using the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#get()\" rel=\"nofollow noreferrer\">get()</a> method.</p>\n"},{"tags":[],"owner":{"account_id":21846505,"reputation":63,"user_id":19312979,"display_name":"sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655403961,"creation_date":1655403961,"answer_id":72650341,"question_id":72637252,"body_markdown":"If both your activities are not directly related, you can try to use BroadcastManager to send intents across.\r\n\r\n","title":"How to send data to antoher class","body":"<p>If both your activities are not directly related, you can try to use BroadcastManager to send intents across.</p>\n"}],"owner":{"account_id":18093126,"reputation":13,"user_id":13152111,"display_name":"Artur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655403961,"creation_date":1655323514,"question_id":72637252,"body_markdown":"How can I change textview in another class with storageCointainer method? I want to get data from storageCointainer method to change textview in HomeFragment class.\r\n\r\n    public void getSavedMoney() {\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                    String money = ds.child(&quot;saveMoney&quot;).getValue().toString();\r\n                    moneyStringList.add(money);\r\n                }\r\n                moneyNumList = Lists.transform(moneyStringList, Double::parseDouble);\r\n                savedMoney = moneyNumList.stream().mapToDouble(Double::doubleValue).sum();\r\n                storageContainer(savedMoney);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public void storageContainer(double savedMoney) {\r\n        this.savedMoney = savedMoney;\r\n    }","title":"How to send data to antoher class","body":"<p>How can I change textview in another class with storageCointainer method? I want to get data from storageCointainer method to change textview in HomeFragment class.</p>\n<pre><code>public void getSavedMoney() {\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot ds : dataSnapshot.getChildren()) {\n                String money = ds.child(&quot;saveMoney&quot;).getValue().toString();\n                moneyStringList.add(money);\n            }\n            moneyNumList = Lists.transform(moneyStringList, Double::parseDouble);\n            savedMoney = moneyNumList.stream().mapToDouble(Double::doubleValue).sum();\n            storageContainer(savedMoney);\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n}\n\npublic void storageContainer(double savedMoney) {\n    this.savedMoney = savedMoney;\n}\n</code></pre>\n"},{"tags":["java","list","sorting","comparator"],"comments":[{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1652733825,"post_id":72265267,"comment_id":127673274,"body_markdown":"I already saw this post. It was helpful but it&#39;s not exactly what i am looking for, since as i posted the solution when uses the Comparator assumes listB is already sorted.","body":"I already saw this post. It was helpful but it&#39;s not exactly what i am looking for, since as i posted the solution when uses the Comparator assumes listB is already sorted."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1652734516,"post_id":72265267,"comment_id":127673476,"body_markdown":"I think creating a list of pairs (i.e. zipping the lists), sorting, then mapping to the first element of the pair sounds like a good (and understandable) solution.","body":"I think creating a list of pairs (i.e. zipping the lists), sorting, then mapping to the first element of the pair sounds like a good (and understandable) solution."},{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1652734683,"post_id":72265267,"comment_id":127673537,"body_markdown":"I think there should be a solution using the Comparator which doesn&#39;t assume listB is already sorted like what is provided in the link you shared","body":"I think there should be a solution using the Comparator which doesn&#39;t assume listB is already sorted like what is provided in the link you shared"},{"owner":{"account_id":9651678,"reputation":1757,"user_id":7162648,"display_name":"gui3"},"score":0,"creation_date":1652734791,"post_id":72265267,"comment_id":127673566,"body_markdown":"Maybe `listA.sort(Comparator.comparingDouble(listB::get))` ? Just a blind guess","body":"Maybe <code>listA.sort(Comparator.comparingDouble(listB::get))</code> ? Just a blind guess"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1652736761,"post_id":72265267,"comment_id":127674045,"body_markdown":"`listA = IntStream.range(0, listA.size()).boxed().sorted(Comparator.comparingDouble(listB::get)).map(listA::get).collect(Collectors.toList());`","body":"<code>listA = IntStream.range(0, listA.size()).boxed().sorted(Comparator.comparingDouble(list&zwnj;&#8203;B::get)).map(listA::&zwnj;&#8203;get).collect(Collect&zwnj;&#8203;ors.toList());</code>"}],"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1652734413,"answer_count":0,"score":1,"last_activity_date":1655403842,"creation_date":1652733019,"question_id":72265267,"body_markdown":"I have two lists, as listA and listB. listA is a list of objects and listB is a list of Double values. I want to sort listA based on the values of listB. So basically, the output is a sorted listA which uses listB values for sorting. for example:\r\n     \r\n      listA = [&quot;obj0&quot;, &quot;obj1&quot;, &quot;obj2&quot;, &quot;obj3&quot;, &quot;obj4&quot;]\r\n      listB = [0.012, 0.013, 0.010, 0.009, 0.015]\r\n\r\noutput should be:\r\n      \r\n      listA = [&quot;obj3&quot;, &quot;obj2&quot;, &quot;obj0&quot;, &quot;obj1&quot;, &quot;obj4&quot;]\r\n\r\nMy current solution is to create a new list based on the value &amp; index pair of listB and then sort them based on the value and after that use this sorted list of pairs and create the sorted listA based on the original indices. I am trying to find an optimized way of doing it for example using the Comparator ... something like\r\n      \r\n      listA.sort(Comparator.comparingDouble(listB::indexOf));\r\n\r\nbut this is sorting based on the index of listB which basically doesn&#39;t sort it and returns the same order of listA. I want the Comparator use the value of listB while it considers each value belongs to a specific index.\r\n\r\nP.S. Responses provided [here][1] assume LitsB is already sorted, which isn&#39;t the case here\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18129807/in-java-how-do-you-sort-one-list-based-on-another","title":"How can I sort a list based on another list values in Java","body":"<p>I have two lists, as listA and listB. listA is a list of objects and listB is a list of Double values. I want to sort listA based on the values of listB. So basically, the output is a sorted listA which uses listB values for sorting. for example:</p>\n<pre><code>  listA = [&quot;obj0&quot;, &quot;obj1&quot;, &quot;obj2&quot;, &quot;obj3&quot;, &quot;obj4&quot;]\n  listB = [0.012, 0.013, 0.010, 0.009, 0.015]\n</code></pre>\n<p>output should be:</p>\n<pre><code>  listA = [&quot;obj3&quot;, &quot;obj2&quot;, &quot;obj0&quot;, &quot;obj1&quot;, &quot;obj4&quot;]\n</code></pre>\n<p>My current solution is to create a new list based on the value &amp; index pair of listB and then sort them based on the value and after that use this sorted list of pairs and create the sorted listA based on the original indices. I am trying to find an optimized way of doing it for example using the Comparator ... something like</p>\n<pre><code>  listA.sort(Comparator.comparingDouble(listB::indexOf));\n</code></pre>\n<p>but this is sorting based on the index of listB which basically doesn't sort it and returns the same order of listA. I want the Comparator use the value of listB while it considers each value belongs to a specific index.</p>\n<p>P.S. Responses provided <a href=\"https://stackoverflow.com/questions/18129807/in-java-how-do-you-sort-one-list-based-on-another\">here</a> assume LitsB is already sorted, which isn't the case here</p>\n"},{"tags":["javascript","java","reactjs","spring-boot","server-side-rendering"],"answers":[{"tags":[],"owner":{"account_id":9942107,"reputation":662,"user_id":7358339,"display_name":"catchergeese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607727072,"creation_date":1607727072,"answer_id":65259684,"question_id":65241919,"body_markdown":"You haven&#39;t shared a lot about your setup regarding frontend nor how it does it communicate with the backend service so it&#39;s hard to give a precise answer.\r\n\r\nFirst of all, ensure you already have  server side rendering (SSR) engine up and running. This will not be the case if you are using something like create-react-app which works only client-side.\r\n\r\nIf you have SSR setup, please have a closer look at ReactDOM.renderToString/renderToNodeStream/renderToStaticMarkup (depending on which one is used). There you can add your logic how to decide which part of component&#39;s tree is rendered.\r\n\r\n","title":"How to server side render individual components in react?","body":"<p>You haven't shared a lot about your setup regarding frontend nor how it does it communicate with the backend service so it's hard to give a precise answer.</p>\n<p>First of all, ensure you already have  server side rendering (SSR) engine up and running. This will not be the case if you are using something like create-react-app which works only client-side.</p>\n<p>If you have SSR setup, please have a closer look at ReactDOM.renderToString/renderToNodeStream/renderToStaticMarkup (depending on which one is used). There you can add your logic how to decide which part of component's tree is rendered.</p>\n"},{"tags":[],"owner":{"account_id":1705601,"reputation":547,"user_id":1564698,"accept_rate":82,"display_name":"Shourya Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655402908,"creation_date":1655402908,"answer_id":72650161,"question_id":65241919,"body_markdown":"You can use ThymeLeaf / Moustache for SSR but if you&#39;re specific only to React SSR then you&#39;ll need an Express.JS based server returning SSR HTML in response to the request made by the client.","title":"How to server side render individual components in react?","body":"<p>You can use ThymeLeaf / Moustache for SSR but if you're specific only to React SSR then you'll need an Express.JS based server returning SSR HTML in response to the request made by the client.</p>\n"}],"owner":{"account_id":20183891,"reputation":11,"user_id":14803735,"display_name":"Anwesh Mohapatra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655402908,"creation_date":1607632461,"question_id":65241919,"body_markdown":"I have a react application with spring backend. I want to server side render a specific component.&lt;br&gt;\r\nMy react application runs on port 3000 and spring application on port 8080. How can I just put one component on spring rather than an entire route?","title":"How to server side render individual components in react?","body":"<p>I have a react application with spring backend. I want to server side render a specific component.<br>\nMy react application runs on port 3000 and spring application on port 8080. How can I just put one component on spring rather than an entire route?</p>\n"},{"tags":["java","recursion","math","graph","graph-theory"],"comments":[{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1655399910,"post_id":72649568,"comment_id":128328976,"body_markdown":"https://www.geeksforgeeks.org/find-paths-given-source-destination/","body":"<a href=\"https://www.geeksforgeeks.org/find-paths-given-source-destination/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/find-paths-given-source-destination</a>"}],"owner":{"account_id":20062152,"reputation":37,"user_id":14708648,"display_name":"ddark13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655402374,"creation_date":1655399548,"question_id":72649568,"body_markdown":"I am given an adjacency List {A=[B, C, D], B=[A, C, D], C=[A, B], D=[A, B]} with a start and end value and have to print out all possible paths from start to end only once.\r\n\r\nSo from start C to end D ans is: (C,B,D) (C,A,D) (C,A,B,D) (C,B,A,D)\r\n\r\nSo far I attempted a DFS solution that I think should work. I would also want to do BFS iteratively but don&#39;t know how to translate it. Please give me any advice you have on issues with the code or improvements.\r\n\r\n    //{A=[B, C, D], B=[A, C, D], C=[A, B], D=[A, B]}\r\n    Map&lt;String, Set&lt;String&gt;&gt; adjList= new HashMap&lt;&gt;();\r\n     Stack&lt;String&gt; path  = new Stack&lt;String&gt;();   \r\n     Set&lt;String&gt; onPath  = new HashSet&lt;String&gt;();\r\n    \r\n        void printRoutes(String start, String des) {\r\n             // add node  to current path from start\r\n             path.push(start);\r\n             onPath.add(start);\r\n    \r\n             // found path from start to des - currently prints in reverse order because of stack\r\n             if (start.equals(des)) System.out.println(path);\r\n             else {\r\n                 for (String w : adjList.get(start)) { //adjList.get is the hashset for start and w will be each letter\r\n                     if (!onPath.contains(w)) printRoutes(w, des);\r\n                 }\r\n             }\r\n    \r\n             // done exploring from start, so remove from path\r\n             path.pop();\r\n             onPath.remove(start);\r\n    \r\n              };","title":"Java If given a graph adjacency List how do I print all paths start to end","body":"<p>I am given an adjacency List {A=[B, C, D], B=[A, C, D], C=[A, B], D=[A, B]} with a start and end value and have to print out all possible paths from start to end only once.</p>\n<p>So from start C to end D ans is: (C,B,D) (C,A,D) (C,A,B,D) (C,B,A,D)</p>\n<p>So far I attempted a DFS solution that I think should work. I would also want to do BFS iteratively but don't know how to translate it. Please give me any advice you have on issues with the code or improvements.</p>\n<pre><code>//{A=[B, C, D], B=[A, C, D], C=[A, B], D=[A, B]}\nMap&lt;String, Set&lt;String&gt;&gt; adjList= new HashMap&lt;&gt;();\n Stack&lt;String&gt; path  = new Stack&lt;String&gt;();   \n Set&lt;String&gt; onPath  = new HashSet&lt;String&gt;();\n\n    void printRoutes(String start, String des) {\n         // add node  to current path from start\n         path.push(start);\n         onPath.add(start);\n\n         // found path from start to des - currently prints in reverse order because of stack\n         if (start.equals(des)) System.out.println(path);\n         else {\n             for (String w : adjList.get(start)) { //adjList.get is the hashset for start and w will be each letter\n                 if (!onPath.contains(w)) printRoutes(w, des);\n             }\n         }\n\n         // done exploring from start, so remove from path\n         path.pop();\n         onPath.remove(start);\n\n          };\n</code></pre>\n"},{"tags":["java","swagger","openapi","dropwizard"],"comments":[{"owner":{"account_id":11643394,"reputation":1124,"user_id":8527109,"display_name":"L&#225;szl&#243; Stahorszki"},"score":0,"creation_date":1655281215,"post_id":72627474,"comment_id":128292742,"body_markdown":"are you using a build tool, like gradle/maven?","body":"are you using a build tool, like gradle/maven?"},{"owner":{"account_id":6849920,"reputation":135,"user_id":5267377,"display_name":"ToxicWaste"},"score":0,"creation_date":1655281653,"post_id":72627474,"comment_id":128292919,"body_markdown":"did you hand-write the YAML or is it generated through your code?","body":"did you hand-write the YAML or is it generated through your code?"},{"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"score":0,"creation_date":1655281816,"post_id":72627474,"comment_id":128292973,"body_markdown":"@ToxicWaste\nI am using maven, the yaml file is hand-written","body":"@ToxicWaste I am using maven, the yaml file is hand-written"},{"owner":{"account_id":6849920,"reputation":135,"user_id":5267377,"display_name":"ToxicWaste"},"score":0,"creation_date":1655282383,"post_id":72627474,"comment_id":128293152,"body_markdown":"The easyest way is to put your YAML into resources and publish it as a static file (https://stackoverflow.com/questions/50105102/serving-static-assets-with-dropwizard). For a nice representation just refer your customers to paste the contents to https://editor.swagger.io/ . We did the same to avoid managing the swagger UI ourselves.","body":"The easyest way is to put your YAML into resources and publish it as a static file (<a href=\"https://stackoverflow.com/questions/50105102/serving-static-assets-with-dropwizard\" title=\"serving static assets with dropwizard\">stackoverflow.com/questions/50105102/&hellip;</a>). For a nice representation just refer your customers to paste the contents to <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">editor.swagger.io</a> . We did the same to avoid managing the swagger UI ourselves."},{"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"score":0,"creation_date":1655291319,"post_id":72627474,"comment_id":128296173,"body_markdown":"@ToxicWaste Thanks for the answer, I tried this and it works nicely. However, is there a way to provide customers swagger UI without instructing them to go to swagger editor?","body":"@ToxicWaste Thanks for the answer, I tried this and it works nicely. However, is there a way to provide customers swagger UI without instructing them to go to swagger editor?"},{"owner":{"account_id":6849920,"reputation":135,"user_id":5267377,"display_name":"ToxicWaste"},"score":0,"creation_date":1655293777,"post_id":72627474,"comment_id":128297025,"body_markdown":"@randomguy I have not done it, since in our case the YAML was mostly internal documentation and the UI not worth the effort. But you could look into https://github.com/smoketurner/dropwizard-swagger. The readme shows how to use annotations - but there may be a way to just feed it the YAML statically. When you find out, please let us know how ;-)","body":"@randomguy I have not done it, since in our case the YAML was mostly internal documentation and the UI not worth the effort. But you could look into <a href=\"https://github.com/smoketurner/dropwizard-swagger\" rel=\"nofollow noreferrer\">github.com/smoketurner/dropwizard-swagger</a>. The readme shows how to use annotations - but there may be a way to just feed it the YAML statically. When you find out, please let us know how ;-)"},{"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"score":0,"creation_date":1655376431,"post_id":72627474,"comment_id":128320335,"body_markdown":"@ToxicWaste \nI can&#39;t find where it explains annotations in the readme. I only see a link which leads to nowhere useful. Can you elaborate?","body":"@ToxicWaste  I can&#39;t find where it explains annotations in the readme. I only see a link which leads to nowhere useful. Can you elaborate?"},{"owner":{"account_id":6849920,"reputation":135,"user_id":5267377,"display_name":"ToxicWaste"},"score":0,"creation_date":1655385389,"post_id":72627474,"comment_id":128323423,"body_markdown":"look at this line: https://github.com/smoketurner/dropwizard-swagger/blob/72e8441e4a09dca6e9c1afe0fd05c7a85935531d/README.md?plain=1#L68 it calls for a list of the packages containing your ```@Api``` annotations. I don&#39;t know whether you can just give them a hand written yaml...","body":"look at this line: <a href=\"https://github.com/smoketurner/dropwizard-swagger/blob/72e8441e4a09dca6e9c1afe0fd05c7a85935531d/README.md?plain=1#L68\" rel=\"nofollow noreferrer\">github.com/smoketurner/dropwizard-swagger/blob/&hellip;</a> it calls for a list of the packages containing your <code>@Api</code> annotations. I don&#39;t know whether you can just give them a hand written yaml..."}],"answers":[{"tags":[],"owner":{"account_id":6537807,"reputation":1,"user_id":5056649,"display_name":"dsingh7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655402358,"creation_date":1655402358,"answer_id":72650065,"question_id":72627474,"body_markdown":"I was running into several issues myself using Open API with Spring/Dropwizard. So I started building an alternative that makes repo integration easier (https://github.com/fern-api/fern). \r\n\r\nSteps to get started: \r\n 1. You can install it with `npm install -g fern-api`\r\n 2. Run `fern init` which will create an api directory that has an API definition\r\n 3. Run `fern add java` to add the java generator\r\n 4. Run `fern generate` to generate the java subproject\r\n 5. Add a dependency on the java subproject and implement your APIs\r\n\r\nhttps://docs.buildwithfern.com/#/ There&#39;s a video here on how to get started with Java. \r\n\r\nIf you want to add an `openapi.yml` after, you will be able to convert the fern api definition into a valid Open API. \r\n\r\nApologies if this wasn&#39;t the answer you were looking for, just figured I&#39;d share an alternative that might solve your problem!","title":"How to add openapi.yaml to your project","body":"<p>I was running into several issues myself using Open API with Spring/Dropwizard. So I started building an alternative that makes repo integration easier (<a href=\"https://github.com/fern-api/fern\" rel=\"nofollow noreferrer\">https://github.com/fern-api/fern</a>).</p>\n<p>Steps to get started:</p>\n<ol>\n<li>You can install it with <code>npm install -g fern-api</code></li>\n<li>Run <code>fern init</code> which will create an api directory that has an API definition</li>\n<li>Run <code>fern add java</code> to add the java generator</li>\n<li>Run <code>fern generate</code> to generate the java subproject</li>\n<li>Add a dependency on the java subproject and implement your APIs</li>\n</ol>\n<p><a href=\"https://docs.buildwithfern.com/#/\" rel=\"nofollow noreferrer\">https://docs.buildwithfern.com/#/</a> There's a video here on how to get started with Java.</p>\n<p>If you want to add an <code>openapi.yml</code> after, you will be able to convert the fern api definition into a valid Open API.</p>\n<p>Apologies if this wasn't the answer you were looking for, just figured I'd share an alternative that might solve your problem!</p>\n"}],"owner":{"account_id":14029645,"reputation":71,"user_id":10133848,"display_name":"randomguy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655402358,"creation_date":1655278417,"question_id":72627474,"body_markdown":"How to add openapi.yaml to an existing project with already written code for REST API?\r\nIn what folder should I put the yaml file and what &quot;configuration&quot; needs to be done for it to work properly (display swagger UI)?\r\n\r\nNote: using dropwizard framework","title":"How to add openapi.yaml to your project","body":"<p>How to add openapi.yaml to an existing project with already written code for REST API?\nIn what folder should I put the yaml file and what &quot;configuration&quot; needs to be done for it to work properly (display swagger UI)?</p>\n<p>Note: using dropwizard framework</p>\n"},{"tags":["java","mysql","arrays","database","server"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655400743,"post_id":72649716,"comment_id":128329240,"body_markdown":"What is on the line (and around) `com.algonquin.loggy.dao.ApplicationDao.listLogs(ApplicationDao.java:37)`?","body":"What is on the line (and around) <code>com.algonquin.loggy.dao.ApplicationDao.listLogs(ApplicationD&zwnj;&#8203;ao.java:37)</code>?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655400939,"post_id":72649716,"comment_id":128329303,"body_markdown":"`Log log=null;`  then you commented out `Log log = new TextLog();` so `log.setTitle(set.getString(&quot;title&quot;));` crashes.","body":"<code>Log log=null;</code>  then you commented out <code>Log log = new TextLog();</code> so <code>log.setTitle(set.getString(&quot;title&quot;));</code> crashes."},{"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"score":0,"creation_date":1655401074,"post_id":72649716,"comment_id":128329358,"body_markdown":"It&#39;s is log.setTitle(set.getString(&quot;title&quot;));","body":"It&#39;s is log.setTitle(set.getString(&quot;title&quot;));"},{"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"score":0,"creation_date":1655401167,"post_id":72649716,"comment_id":128329383,"body_markdown":"When I uncomment the new text log I get a duplicate locable variable log error. How would I fix this? I tried placing the log=null  within the while block but it still does the same thing","body":"When I uncomment the new text log I get a duplicate locable variable log error. How would I fix this? I tried placing the log=null  within the while block but it still does the same thing"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655401201,"post_id":72649716,"comment_id":128329394,"body_markdown":"Write `log = new TextLog();` without the leading `Log `.","body":"Write <code>log = new TextLog();</code> without the leading <code>Log </code>."},{"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"score":0,"creation_date":1655401358,"post_id":72649716,"comment_id":128329436,"body_markdown":"I did so and now the exception has changed - going to update question!","body":"I did so and now the exception has changed - going to update question!"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655402309,"post_id":72649716,"comment_id":128329743,"body_markdown":"Okay. Did you try to interpret the exception? What the problem it describes and where in your code the problem is?","body":"Okay. Did you try to interpret the exception? What the problem it describes and where in your code the problem is?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1655403338,"post_id":72649716,"comment_id":128330074,"body_markdown":"It looks to me that your SQL query, i.e. `SELECT title FROM logs ORDER BY createTimestamp` (in method `listLogs()` of class `ApplicationDao`) is not returning any data. Hence you are calling method `getHTMLString` with an empty list so when you call `logs.get(0)` you are getting `IndexOutOfBoundsException` because, as the error message says, there is no element at index 0 (zero) when there are no elements in the `List`. I suggest that you check whether the query returns any results (or not).","body":"It looks to me that your SQL query, i.e. <code>SELECT title FROM logs ORDER BY createTimestamp</code> (in method <code>listLogs()</code> of class <code>ApplicationDao</code>) is not returning any data. Hence you are calling method <code>getHTMLString</code> with an empty list so when you call <code>logs.get(0)</code> you are getting <code>IndexOutOfBoundsException</code> because, as the error message says, there is no element at index 0 (zero) when there are no elements in the <code>List</code>. I suggest that you check whether the query returns any results (or not)."},{"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"score":0,"creation_date":1655406271,"post_id":72649716,"comment_id":128331089,"body_markdown":"When I query on phpMyAdmin I get 4 results( which is all of them), I&#39;m not sure how to check within the program though.. sorry this is my first time with dynamic web, and I can&#39;t seem to just try and system print it.. any suggestion on how to verify it?","body":"When I query on phpMyAdmin I get 4 results( which is all of them), I&#39;m not sure how to check within the program though.. sorry this is my first time with dynamic web, and I can&#39;t seem to just try and system print it.. any suggestion on how to verify it?"}],"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655402239,"creation_date":1655400463,"question_id":72649716,"body_markdown":"I am completing a school project- After the user submits the form, an object is to be created, and it is added to MySQL database. Then a &quot;list&quot; is to be shown of the title sorted by the timestamp. It also must have a thumbnail picture and delete button. I am trying to replace the input text values in the html page, with values from the database in the form of an array. The ApplicationDao is communicating with the database and is suppose to place those values in the array.\r\n\r\nI have been following the tutorial https://www.linkedin.com/learning/java-ee-servlets-and-javaserver-pages-jsp/search-building-a-servlet-response?autoplay=true&amp;resume=false&amp;u=2199673\r\nbut the values are not being replaced and I am getting the following exception:\r\n***Updated:After changing the Log log= new textLog to log= new TextLog, I am now recieving the below error! Thanks for all your help!\r\n\r\n\r\n** also I know some code is repeated, it is suppose to be on one page I was just trying to figure out a solution!\r\n\r\n   \r\n\r\n       Jun. 16, 2022 1:41:41 P.M. org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet [com.algonquin.loggy.servlets.deleteServlet] in context with path [/Loggy-Lab3] threw exception\r\n    java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n    \tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\r\n    \tat java.base/java.util.Objects.checkIndex(Objects.java:372)\r\n    \tat java.base/java.util.ArrayList.get(ArrayList.java:459)\r\n    \tat com.algonquin.loggy.servlets.deleteServlet.getHTMLString(deleteServlet.java:65)\r\n    \tat com.algonquin.loggy.servlets.deleteServlet.doGet(deleteServlet.java:39)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\n    \r\n    Here is my code:\r\n    \r\n    public  class Log {\r\n        private String uuid;\r\n        private String title;\r\n        private String content;\r\n        private String createTimestamp;\r\n        \r\n      \r\n        \r\n        \r\n        public String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \t   public String getUUID() {\r\n    \t\t\treturn uuid;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setUUID(String uuid) {\t\r\n    \t\t\tthis.uuid = uuid;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getContent() {\r\n    \t\t\treturn content;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setContent(String content) {\r\n    \t\t\tthis.content = content;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getCreateTimestamp() {\r\n    \t\t\treturn createTimestamp;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setCreateTimestamp(String createTimestamp) {\r\n    \t\t\tthis.createTimestamp=createTimestamp;\r\n    \t\t\t\r\n    \t\t}\r\n    }\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.text.MessageFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import com.algonquin.loggy.beans.Log;\r\n    import com.algonquin.loggy.beans.TextLog;\r\n    import com.algonquin.loggy.dao.ApplicationDao;\r\n    import com.algonquin.loggy.dao.DBConnection;\r\n    \r\n    /**\r\n     * Servlet implementation class LogsServlet\r\n     */\r\n    @WebServlet(&quot;/LogsServlet&quot; )\r\n    public class LogsServlet extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n    \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public LogsServlet() {\r\n            super();\r\n        }\r\n    \r\n        /**\r\n         * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\r\n         *      response)\r\n         */\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            String htmlResponse = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;       \\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\t\t\r\n    \t\t\t\t+ &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\r\n    \t\t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t\t+ &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;;\r\n            PrintWriter writer = response.getWriter();\r\n            writer.write(htmlResponse);\r\n        }\r\n    \r\n    \r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException{\r\n    \t\r\n    \tString title = request.getParameter(&quot;title&quot;);\r\n    \tString content = request.getParameter(&quot;content&quot;);\r\n    \tString output;\r\n    \tString uuid =UUID.randomUUID().toString();\r\n    \tString createTimestamp=new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\r\n    \t\r\n    \tLog log= new TextLog();\r\n    \t//ApplicationDao dao = new ApplicationDao();\r\n    \t//List&lt;Log&gt; logs= dao.listLogs();\r\n    \t\r\n    \r\n    \t\r\n    \tPrintWriter writer = response.getWriter();\r\n    \ttry {\r\n    \t\t\r\n    \t\tlog.setTitle(title);\r\n    \t\tlog.setContent(content);\r\n    \t\tlog.setCreateTimestamp(createTimestamp);\r\n    \t\tlog.setUUID(uuid);\r\n    \t\t\r\n    \t\t//logsList.add(log);\r\n    \t\t\r\n    \t\toutput=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log successfully created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    \t\twriter.write(output);\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t\toutput=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log could not be created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    \t\t\twriter.write(output);\r\n    \t\t}\r\n    \t\r\n    \t\t\t\r\n    \r\n    \tString indexForm = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\r\n    \t\t\t+ &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\r\n    \t\t\t+ &quot;       \\n&quot;\r\n    \t\t\t+ &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\r\n    \t\t\t+ &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    \t\r\n    \twriter.write(indexForm);\r\n    \t\r\n    \tString insertQuery =&quot;INSERT INTO `logs`(`uuid`, `title`, `content`, `createTimestamp`) VALUES (?,?,?,?)&quot;;\r\n    \tConnection connection =DBConnection.getConnectionToDatabase();\r\n    \t\r\n    \t\r\n    \tjava.sql.PreparedStatement statement;\r\n    \ttry {\r\n    \t\tstatement = connection.prepareStatement(insertQuery);\r\n    \t\tstatement.setString(1,log.getUUID());\r\n    \t\tstatement.setString(2,log.getTitle());\r\n    \t\tstatement.setString(3,log.getContent());\r\n    \t\tstatement.setString(4,log.getCreateTimestamp());\r\n    \t\t\r\n    \t\tstatement.executeUpdate();\r\n    \t} catch (SQLException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t\r\n    \tString list =&quot;&lt;div class=\\&quot;logContainer\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;form&gt;\\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;        &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{0}\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;/div&gt;\\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;         &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{1}\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;/div&gt;\\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;         &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{2}\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;/div&gt;\\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;         &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{3}\\&quot;&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\r\n    \t\t\t+ &quot;        &lt;/div&gt;\\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;        &lt;/form&gt;\\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;        \\n&quot;\r\n    \t\t\t+ &quot;        &lt;/div&gt;\\n&quot;\r\n    \t\t\t+ &quot;&quot;;\r\n    \t\r\n    \twriter.write(list);\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t//String page = getHTMLString(request.getServletContext().getRealPath(&quot;/html/ListLogs.html&quot;), logs);\r\n    \t//response.getWriter().write(page);\r\n    \r\n    }\r\n    \r\n    //public String getHTMLString(String filePath, List&lt;Log&gt; logs) throws IOException{\r\n    //\tBufferedReader reader = new BufferedReader(new FileReader(filePath));\r\n    //\tString line=&quot;&quot;;\r\n    //\tStringBuffer buffer = new StringBuffer();\r\n    //\twhile((line=reader.readLine())!=null){\r\n    //\t\tbuffer.append(line);\r\n    //\t}\r\n    \t\r\n    //\treader.close();\r\n    //\tString page = buffer.toString();\r\n    \t\r\n    //\tpage = MessageFormat.format(page,logs.get(0).getTitle(),\r\n    \t\t\t//logs.get(1).getTitle(),logs.get(2).getTitle(),0);\r\n    \t\r\n    \t//return page;\r\n    \t\r\n    \t\r\n    //}\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.sql.Timestamp;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.algonquin.loggy.beans.Log;\r\n    import com.algonquin.loggy.beans.TextLog;\r\n    import com.algonquin.loggy.services.ApplicationService;\r\n    \r\n    public class ApplicationDao implements ApplicationService {\r\n    \r\n    \r\n        \t@SuppressWarnings(&quot;null&quot;)\r\n    \t\tpublic List&lt;Log&gt; listLogs() {\r\n        \t\t\t\r\n        \t\tLog log=null;\r\n        \t\tList&lt;Log&gt; logs = new ArrayList&lt;&gt;();\r\n        \t\t\r\n        \t\t\r\n        \t\ttry{\r\n        \t\t\tConnection connection = DBConnection.getConnectionToDatabase();\r\n        \t\t\t\r\n        \t\t\tString sql = &quot;SELECT title FROM `logs` ORDER BY createTimestamp&quot;;\r\n        \t\t\t\r\n        \t\t\tStatement statement = connection.createStatement();\r\n        \t\t\t\r\n        \t\t\tResultSet set = statement.executeQuery(sql);\r\n        \t\t\t\r\n        \t\t\twhile(set.next()){\r\n        \t\t\t\t\r\n        \t\t\t\tlog = new Log();\r\n        \t\t\t    log.setTitle(set.getString(&quot;title&quot;));\r\n        \t\t\t\tlog.setContent(set.getString(&quot;content&quot;));\r\n        \t\t\t\tlog.setCreateTimestamp(set.getString(&quot;createTimestamp&quot;));\r\n        \t\t\t\tlog.setUUID(set.getString(&quot;UUID&quot;));\r\n        \t\t\t\t\r\n        \t\t\r\n        \t\t\t\tlogs.add(log);\r\n        \t\t\t\t\r\n        \t\t\t}\r\n    \r\n        \t\t}\r\n        \t\tcatch(SQLException exception){\r\n        \t\t\texception.printStackTrace();\r\n        \t\t}\r\n        \t\treturn logs;\r\n    \r\n        \t    }\r\n        }\r\n    \r\n    \r\n    package com.algonquin.loggy.servlets;\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.text.MessageFormat;\r\n    import java.util.List;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import com.algonquin.loggy.beans.Log;\r\n    import com.algonquin.loggy.dao.ApplicationDao;\r\n    \r\n    \r\n    \r\n    \r\n    @WebServlet(&quot;/deleteServlet&quot;)\r\n    public class deleteServlet extends HttpServlet{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Override\r\n    \tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t//call DAO layer and get all products for search criteria\r\n    \t\tApplicationDao dao = new ApplicationDao();\r\n    \t\tList&lt;Log&gt; logs = dao.listLogs();\r\n    \t\t\r\n    \t\t//write the products data back to the client browser\r\n    \t\tString page = getHTMLString(req.getServletContext().getRealPath(&quot;/ListLogs.html&quot;), logs);\r\n    \t\tresp.getWriter().write(page);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * this methods reads the HTML template as a String, replaces placeholders\r\n    \t * with the values and returns the entire page as a String\r\n    \t * @param filePath\r\n    \t * @param products\r\n    \t * @return\r\n    \t * @throws IOException\r\n    \t */\r\n    \t\r\n    \tpublic String getHTMLString(String filePath, List&lt;Log&gt; logs) throws IOException{\r\n    \t\tBufferedReader reader = new BufferedReader(new FileReader(filePath));\r\n    \t\tString line=&quot;&quot;;\r\n    \t\tStringBuffer buffer = new StringBuffer();\r\n    \t\twhile((line=reader.readLine())!=null){\r\n    \t\t\tbuffer.append(line);\r\n    \t\t}\r\n    \t\t\r\n    \t\treader.close();\r\n    \t\tString page = buffer.toString();\r\n    \t\t\r\n    \t\tpage = MessageFormat.format(page, logs.get(0).getTitle(),\r\n    \t\t\t\tlogs.get(1).getTitle(),logs.get(2).getTitle(),logs.get(3).getTitle());\r\n    \t\t\r\n    \t\treturn page;\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;List Of Submitted Logs&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n       &lt;div class=&quot;logContainer&quot;&gt;\r\n            &lt;form method=&quot;get&quot; action=&quot;deleteServlet&quot;&gt;\r\n            \r\n            &lt;div class=&quot;logContainerItem&quot;&gt;\r\n            &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{0}&quot;&gt;\r\n            &lt;button&gt;Delete Log&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            \r\n             &lt;div class=&quot;logContainerItem&quot;&gt;\r\n            &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{1}&quot;&gt;\r\n            &lt;button&gt;Delete Log&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            \r\n             &lt;div class=&quot;logContainerItem&quot;&gt;\r\n            &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{2}&quot;&gt;\r\n            &lt;button&gt;Delete Log&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            \r\n             &lt;div class=&quot;logContainerItem&quot;&gt;\r\n            &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{3}&quot;&gt;\r\n            &lt;button&gt;Delete Log&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            \r\n            &lt;/form&gt;\r\n            \r\n            \r\n            \r\n            &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class DBConnection {\r\n    \r\n        // Database Schema\r\n        // CREATE DATABASE loggy DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\r\n        // CREATE TABLE logs (uuid CHAR(40) NOT NULL PRIMARY KEY, title CHAR(128),\r\n        // content TEXT, createTimestamp Date);\r\n    \r\n    \t private static final String dbUser = &quot;user&quot;;\r\n    \t    private static final String dbPassword = &quot;password&quot;;\r\n    \t    private static Connection connection = null;\r\n    \t\t\r\n    \r\n    \t    public static Connection getConnectionToDatabase() {\r\n    \t\t\t\r\n    \r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\t// load the driver class\r\n    \t\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;MySQL JDBC Driver Registered!&quot;);\r\n    \r\n    \t\t\t\t// get hold of the DriverManager\r\n    \t\t\t\tconnection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/loggy&quot;,dbUser,dbPassword);\r\n    \t\t\t} catch (ClassNotFoundException e) {\r\n    \t\t\t\tSystem.out.println(&quot;Where is your MySQL JDBC Driver?&quot;);\r\n    \t\t\t\te.printStackTrace();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tcatch (SQLException e) {\r\n    \t\t\t\tSystem.out.println(&quot;Connection Failed! Check output console&quot;);\r\n    \t\t\t\te.printStackTrace();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tif (connection != null) {\r\n    \t\t\t\tSystem.out.println(&quot;Connection made to DB!&quot;);\r\n    \t\t\t}\r\n    \t\t\treturn connection;\r\n    \t\t\t\r\n    \t\t}\r\n    \t    \r\n    \r\n    \t      \r\n    \t}\r\n\r\n\r\nThankyou in advance, and hope my question makes sense!\r\n","title":"Java: Null-Pointer Exception- replacing values in html with database values in Server","body":"<p>I am completing a school project- After the user submits the form, an object is to be created, and it is added to MySQL database. Then a &quot;list&quot; is to be shown of the title sorted by the timestamp. It also must have a thumbnail picture and delete button. I am trying to replace the input text values in the html page, with values from the database in the form of an array. The ApplicationDao is communicating with the database and is suppose to place those values in the array.</p>\n<p>I have been following the tutorial <a href=\"https://www.linkedin.com/learning/java-ee-servlets-and-javaserver-pages-jsp/search-building-a-servlet-response?autoplay=true&amp;resume=false&amp;u=2199673\" rel=\"nofollow noreferrer\">https://www.linkedin.com/learning/java-ee-servlets-and-javaserver-pages-jsp/search-building-a-servlet-response?autoplay=true&amp;resume=false&amp;u=2199673</a>\nbut the values are not being replaced and I am getting the following exception:\n***Updated:After changing the Log log= new textLog to log= new TextLog, I am now recieving the below error! Thanks for all your help!</p>\n<p>** also I know some code is repeated, it is suppose to be on one page I was just trying to figure out a solution!</p>\n<pre><code>   Jun. 16, 2022 1:41:41 P.M. org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [com.algonquin.loggy.servlets.deleteServlet] in context with path [/Loggy-Lab3] threw exception\njava.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\n    at java.base/java.util.Objects.checkIndex(Objects.java:372)\n    at java.base/java.util.ArrayList.get(ArrayList.java:459)\n    at com.algonquin.loggy.servlets.deleteServlet.getHTMLString(deleteServlet.java:65)\n    at com.algonquin.loggy.servlets.deleteServlet.doGet(deleteServlet.java:39)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n\n\nHere is my code:\n\npublic  class Log {\n    private String uuid;\n    private String title;\n    private String content;\n    private String createTimestamp;\n    \n  \n    \n    \n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n       public String getUUID() {\n            return uuid;\n        }\n\n        public void setUUID(String uuid) {  \n            this.uuid = uuid;\n        }\n\n        public String getContent() {\n            return content;\n        }\n\n        public void setContent(String content) {\n            this.content = content;\n        }\n\n        public String getCreateTimestamp() {\n            return createTimestamp;\n        }\n\n        public void setCreateTimestamp(String createTimestamp) {\n            this.createTimestamp=createTimestamp;\n            \n        }\n}\n\n\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.text.MessageFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.UUID;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.algonquin.loggy.beans.Log;\nimport com.algonquin.loggy.beans.TextLog;\nimport com.algonquin.loggy.dao.ApplicationDao;\nimport com.algonquin.loggy.dao.DBConnection;\n\n/**\n * Servlet implementation class LogsServlet\n */\n@WebServlet(&quot;/LogsServlet&quot; )\npublic class LogsServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n\n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public LogsServlet() {\n        super();\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\n     *      response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String htmlResponse = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\n                + &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\n                + &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\n                + &quot;       \\n&quot;\n                + &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n                + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n                \n                + &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n                + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n                + &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\n                + &quot;        \\n&quot;\n                + &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;;\n        PrintWriter writer = response.getWriter();\n        writer.write(htmlResponse);\n    }\n\n\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException{\n    \n    String title = request.getParameter(&quot;title&quot;);\n    String content = request.getParameter(&quot;content&quot;);\n    String output;\n    String uuid =UUID.randomUUID().toString();\n    String createTimestamp=new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\n    \n    Log log= new TextLog();\n    //ApplicationDao dao = new ApplicationDao();\n    //List&lt;Log&gt; logs= dao.listLogs();\n    \n\n    \n    PrintWriter writer = response.getWriter();\n    try {\n        \n        log.setTitle(title);\n        log.setContent(content);\n        log.setCreateTimestamp(createTimestamp);\n        log.setUUID(uuid);\n        \n        //logsList.add(log);\n        \n        output=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log successfully created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n        writer.write(output);\n        }\n        catch(Exception e) {\n            output=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log could not be created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n            writer.write(output);\n        }\n    \n            \n\n    String indexForm = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\n            + &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\n            + &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\n            + &quot;       \\n&quot;\n            + &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\n            + &quot;        &lt;br&gt;\\n&quot;\n            + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;br&gt;\\n&quot;\n        \n            + &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\n            + &quot;        &lt;br&gt;\\n&quot;\n            + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;br&gt;\\n&quot;\n            + &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n    \n    writer.write(indexForm);\n    \n    String insertQuery =&quot;INSERT INTO `logs`(`uuid`, `title`, `content`, `createTimestamp`) VALUES (?,?,?,?)&quot;;\n    Connection connection =DBConnection.getConnectionToDatabase();\n    \n    \n    java.sql.PreparedStatement statement;\n    try {\n        statement = connection.prepareStatement(insertQuery);\n        statement.setString(1,log.getUUID());\n        statement.setString(2,log.getTitle());\n        statement.setString(3,log.getContent());\n        statement.setString(4,log.getCreateTimestamp());\n        \n        statement.executeUpdate();\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    \n    String list =&quot;&lt;div class=\\&quot;logContainer\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;form&gt;\\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;        &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{0}\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\n            + &quot;        &lt;/div&gt;\\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;         &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{1}\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\n            + &quot;        &lt;/div&gt;\\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;         &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{2}\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\n            + &quot;        &lt;/div&gt;\\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;         &lt;div class=\\&quot;logContainerItem\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;img src=\\&quot;images/journal1.png\\&quot; height=\\&quot;60px\\&quot; width=\\&quot;60px\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;input type=\\&quot;text\\&quot; name=\\&quot;log\\&quot; value=\\&quot;{3}\\&quot;&gt;\\n&quot;\n            + &quot;        &lt;button&gt;Delete Log&lt;/button&gt;\\n&quot;\n            + &quot;        &lt;/div&gt;\\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;        &lt;/form&gt;\\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;        \\n&quot;\n            + &quot;        &lt;/div&gt;\\n&quot;\n            + &quot;&quot;;\n    \n    writer.write(list);\n    \n    \n    \n    \n    //String page = getHTMLString(request.getServletContext().getRealPath(&quot;/html/ListLogs.html&quot;), logs);\n    //response.getWriter().write(page);\n\n}\n\n//public String getHTMLString(String filePath, List&lt;Log&gt; logs) throws IOException{\n//  BufferedReader reader = new BufferedReader(new FileReader(filePath));\n//  String line=&quot;&quot;;\n//  StringBuffer buffer = new StringBuffer();\n//  while((line=reader.readLine())!=null){\n//      buffer.append(line);\n//  }\n    \n//  reader.close();\n//  String page = buffer.toString();\n    \n//  page = MessageFormat.format(page,logs.get(0).getTitle(),\n            //logs.get(1).getTitle(),logs.get(2).getTitle(),0);\n    \n    //return page;\n    \n    \n//}\n\n\n\n\n}\n\n\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.sql.Timestamp;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.algonquin.loggy.beans.Log;\nimport com.algonquin.loggy.beans.TextLog;\nimport com.algonquin.loggy.services.ApplicationService;\n\npublic class ApplicationDao implements ApplicationService {\n\n\n        @SuppressWarnings(&quot;null&quot;)\n        public List&lt;Log&gt; listLogs() {\n                \n            Log log=null;\n            List&lt;Log&gt; logs = new ArrayList&lt;&gt;();\n            \n            \n            try{\n                Connection connection = DBConnection.getConnectionToDatabase();\n                \n                String sql = &quot;SELECT title FROM `logs` ORDER BY createTimestamp&quot;;\n                \n                Statement statement = connection.createStatement();\n                \n                ResultSet set = statement.executeQuery(sql);\n                \n                while(set.next()){\n                    \n                    log = new Log();\n                    log.setTitle(set.getString(&quot;title&quot;));\n                    log.setContent(set.getString(&quot;content&quot;));\n                    log.setCreateTimestamp(set.getString(&quot;createTimestamp&quot;));\n                    log.setUUID(set.getString(&quot;UUID&quot;));\n                    \n            \n                    logs.add(log);\n                    \n                }\n\n            }\n            catch(SQLException exception){\n                exception.printStackTrace();\n            }\n            return logs;\n\n            }\n    }\n\n\npackage com.algonquin.loggy.servlets;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.text.MessageFormat;\nimport java.util.List;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.algonquin.loggy.beans.Log;\nimport com.algonquin.loggy.dao.ApplicationDao;\n\n\n\n\n@WebServlet(&quot;/deleteServlet&quot;)\npublic class deleteServlet extends HttpServlet{\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    \n        \n        \n        \n        //call DAO layer and get all products for search criteria\n        ApplicationDao dao = new ApplicationDao();\n        List&lt;Log&gt; logs = dao.listLogs();\n        \n        //write the products data back to the client browser\n        String page = getHTMLString(req.getServletContext().getRealPath(&quot;/ListLogs.html&quot;), logs);\n        resp.getWriter().write(page);\n        \n        \n    }\n    \n    /**\n     * this methods reads the HTML template as a String, replaces placeholders\n     * with the values and returns the entire page as a String\n     * @param filePath\n     * @param products\n     * @return\n     * @throws IOException\n     */\n    \n    public String getHTMLString(String filePath, List&lt;Log&gt; logs) throws IOException{\n        BufferedReader reader = new BufferedReader(new FileReader(filePath));\n        String line=&quot;&quot;;\n        StringBuffer buffer = new StringBuffer();\n        while((line=reader.readLine())!=null){\n            buffer.append(line);\n        }\n        \n        reader.close();\n        String page = buffer.toString();\n        \n        page = MessageFormat.format(page, logs.get(0).getTitle(),\n                logs.get(1).getTitle(),logs.get(2).getTitle(),logs.get(3).getTitle());\n        \n        return page;\n        \n        \n    }\n}\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;List Of Submitted Logs&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n   &lt;div class=&quot;logContainer&quot;&gt;\n        &lt;form method=&quot;get&quot; action=&quot;deleteServlet&quot;&gt;\n        \n        &lt;div class=&quot;logContainerItem&quot;&gt;\n        &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{0}&quot;&gt;\n        &lt;button&gt;Delete Log&lt;/button&gt;\n        &lt;/div&gt;\n        \n         &lt;div class=&quot;logContainerItem&quot;&gt;\n        &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{1}&quot;&gt;\n        &lt;button&gt;Delete Log&lt;/button&gt;\n        &lt;/div&gt;\n        \n         &lt;div class=&quot;logContainerItem&quot;&gt;\n        &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{2}&quot;&gt;\n        &lt;button&gt;Delete Log&lt;/button&gt;\n        &lt;/div&gt;\n        \n         &lt;div class=&quot;logContainerItem&quot;&gt;\n        &lt;img src=&quot;images/journal1.png&quot; height=&quot;60px&quot; width=&quot;60px&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;log&quot; value=&quot;{3}&quot;&gt;\n        &lt;button&gt;Delete Log&lt;/button&gt;\n        &lt;/div&gt;\n        \n        &lt;/form&gt;\n        \n        \n        \n        &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class DBConnection {\n\n    // Database Schema\n    // CREATE DATABASE loggy DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n    // CREATE TABLE logs (uuid CHAR(40) NOT NULL PRIMARY KEY, title CHAR(128),\n    // content TEXT, createTimestamp Date);\n\n     private static final String dbUser = &quot;user&quot;;\n        private static final String dbPassword = &quot;password&quot;;\n        private static Connection connection = null;\n        \n\n        public static Connection getConnectionToDatabase() {\n            \n\n            try {\n\n                // load the driver class\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                System.out.println(&quot;MySQL JDBC Driver Registered!&quot;);\n\n                // get hold of the DriverManager\n                connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/loggy&quot;,dbUser,dbPassword);\n            } catch (ClassNotFoundException e) {\n                System.out.println(&quot;Where is your MySQL JDBC Driver?&quot;);\n                e.printStackTrace();\n\n            }\n\n            catch (SQLException e) {\n                System.out.println(&quot;Connection Failed! Check output console&quot;);\n                e.printStackTrace();\n\n            }\n\n            if (connection != null) {\n                System.out.println(&quot;Connection made to DB!&quot;);\n            }\n            return connection;\n            \n        }\n        \n\n          \n    }\n</code></pre>\n<p>Thankyou in advance, and hope my question makes sense!</p>\n"},{"tags":["java","sql-server","web","netbeans"],"answers":[{"tags":[],"owner":{"account_id":25380418,"reputation":21,"user_id":19192899,"display_name":"marian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655229524,"creation_date":1655228851,"answer_id":72621364,"question_id":72621051,"body_markdown":"\r\nHave you tried printing the result of your dynamic query? You could add a system.out.println(sql) before ps.executeUpdate(), to verify that your variables are being assigned the value correctly.\r\n\r\nI estimate by how the sql is concatenated that it is not taking the positions correctly and by default the setString returns NULL.\r\n","title":"Error: Cannot insert the value NULL into column &#39;username&#39;, table &#39;FERA_ONL_LEARNING.dbo.Account&#39;; column does not allow nulls. UPDATE fails","body":"<p>Have you tried printing the result of your dynamic query? You could add a system.out.println(sql) before ps.executeUpdate(), to verify that your variables are being assigned the value correctly.</p>\n<p>I estimate by how the sql is concatenated that it is not taking the positions correctly and by default the setString returns NULL.</p>\n"}],"owner":{"account_id":25554340,"reputation":3,"user_id":19338174,"display_name":"B&#237;ch Mai Vũ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655401802,"creation_date":1655227273,"question_id":72621051,"body_markdown":"I have the following code:\r\n\r\n     public void updateAccount(String username, String name, String address, String aboutMe, \r\n     String id) {\r\n        String sql = &quot;update Account set username = ?, \\n&quot;\r\n                + &quot;\t\t\t\t   [Full_Name] = ?,\\n&quot;\r\n                + &quot;\t\t\t\t   [Address] = ?,\\n&quot;\r\n                + &quot;\t\t\t\t   [about_me] = ?\\n&quot;\r\n                + &quot;\t\t\t\t   where id = ?&quot;;\r\n        try {\r\n            PreparedStatement ps = connection.prepareStatement(sql);\r\n            ps.setString(1, username);\r\n            ps.setString(2, name);\r\n            ps.setString(3, address);\r\n            ps.setString(4, aboutMe);\r\n            ps.setString(5, id);\r\n            ps.executeUpdate();\r\n\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(AccountDao.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\nBut when I change something like username, fullname in my web, they are still not updated and show the following error:\r\n\r\n&gt; Severe:   com.microsoft.sqlserver.jdbc.SQLServerException: Cannot insert the value NULL into \r\n&gt; column &#39;username&#39;, table &#39;FERA_ONL_LEARNING.dbo.Account&#39;; column does not allow nulls. UPDATE \r\n&gt; fails. at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:217)\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1655)\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:440)\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:385)\r\n&gt; at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:191)\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:166)\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:328)\r\n&gt; at dao.AccountDao.updateAccount(AccountDao.java:142)\r\n&gt; at controller.UserProfileController.doPost(UserProfileController.java:91)\r\n\r\nI&#39;m sure I changed their values and it can&#39;t be NULL.\r\n \r\nHow to fix this error?","title":"Error: Cannot insert the value NULL into column &#39;username&#39;, table &#39;FERA_ONL_LEARNING.dbo.Account&#39;; column does not allow nulls. UPDATE fails","body":"<p>I have the following code:</p>\n<pre><code> public void updateAccount(String username, String name, String address, String aboutMe, \n String id) {\n    String sql = &quot;update Account set username = ?, \\n&quot;\n            + &quot;                [Full_Name] = ?,\\n&quot;\n            + &quot;                [Address] = ?,\\n&quot;\n            + &quot;                [about_me] = ?\\n&quot;\n            + &quot;                where id = ?&quot;;\n    try {\n        PreparedStatement ps = connection.prepareStatement(sql);\n        ps.setString(1, username);\n        ps.setString(2, name);\n        ps.setString(3, address);\n        ps.setString(4, aboutMe);\n        ps.setString(5, id);\n        ps.executeUpdate();\n\n    } catch (Exception ex) {\n        Logger.getLogger(AccountDao.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n<p>But when I change something like username, fullname in my web, they are still not updated and show the following error:</p>\n<blockquote>\n<p>Severe:   com.microsoft.sqlserver.jdbc.SQLServerException: Cannot insert the value NULL into\ncolumn 'username', table 'FERA_ONL_LEARNING.dbo.Account'; column does not allow nulls. UPDATE\nfails. at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:217)\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1655)\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:440)\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:385)\nat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:191)\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:166)\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:328)\nat dao.AccountDao.updateAccount(AccountDao.java:142)\nat controller.UserProfileController.doPost(UserProfileController.java:91)</p>\n</blockquote>\n<p>I'm sure I changed their values and it can't be NULL.</p>\n<p>How to fix this error?</p>\n"},{"tags":["java","jsp","servlets","netbeans","glassfish"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655401787,"post_id":72649832,"comment_id":128329563,"body_markdown":"What&#39;s the name of your servlet? Did you put the right URL into your browser&#39;s search bar? What do you see with Page &gt; Source in the browser? Is there an error log on the server&#39;s console or log file?","body":"What&#39;s the name of your servlet? Did you put the right URL into your browser&#39;s search bar? What do you see with Page &gt; Source in the browser? Is there an error log on the server&#39;s console or log file?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655401882,"post_id":72649832,"comment_id":128329586,"body_markdown":"You reference `utente.getUsername()` in the JSP but I don&#39;t see JSP code that would obtain the object `utente` from somewhere.","body":"You reference <code>utente.getUsername()</code> in the JSP but I don&#39;t see JSP code that would obtain the object <code>utente</code> from somewhere."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655402427,"post_id":72649832,"comment_id":128329778,"body_markdown":"@akarnokd yeah, i put the right url, no errors, just it doesn&#39;t works","body":"@akarnokd yeah, i put the right url, no errors, just it doesn&#39;t works"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655402498,"post_id":72649832,"comment_id":128329801,"body_markdown":"Okay, what does the View Source get you in the browser? A partial html page or completely empty response?","body":"Okay, what does the View Source get you in the browser? A partial html page or completely empty response?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655402499,"post_id":72649832,"comment_id":128329802,"body_markdown":"@akarnokd also, utente.getUsername is a session variable, and it works, my problem is with listinoVideogiochi, there are the snippets of the code","body":"@akarnokd also, utente.getUsername is a session variable, and it works, my problem is with listinoVideogiochi, there are the snippets of the code"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655402607,"post_id":72649832,"comment_id":128329840,"body_markdown":"If you address `listinoVideogiochi.jsp` in the browser directly, do you get something?","body":"If you address <code>listinoVideogiochi.jsp</code> in the browser directly, do you get something?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655402608,"post_id":72649832,"comment_id":128329841,"body_markdown":"@akarnokd it seems like an empty list, i don&#39;t see anything but my navbar and the title &quot;TITOLI VIDEOGIOCHI&quot; , i have data in the db, and other records is being retrieved","body":"@akarnokd it seems like an empty list, i don&#39;t see anything but my navbar and the title &quot;TITOLI VIDEOGIOCHI&quot; , i have data in the db, and other records is being retrieved"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655402658,"post_id":72649832,"comment_id":128329858,"body_markdown":"No just nothing","body":"No just nothing"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655402849,"post_id":72649832,"comment_id":128329920,"body_markdown":"Okay. Are you using a local servlet container? If so, restart it in debug mode, put a breakpoint into `processRequest` and one into `listinoVideogiochi.jsp` and step through both to see what happens.","body":"Okay. Are you using a local servlet container? If so, restart it in debug mode, put a breakpoint into <code>processRequest</code> and one into <code>listinoVideogiochi.jsp</code> and step through both to see what happens."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655403276,"post_id":72649832,"comment_id":128330048,"body_markdown":"@akarnokd i have already tried but my logic is never triggered","body":"@akarnokd i have already tried but my logic is never triggered"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655403318,"post_id":72649832,"comment_id":128330069,"body_markdown":"Which logic? processRequest ?","body":"Which logic? processRequest ?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655403489,"post_id":72649832,"comment_id":128330125,"body_markdown":"When i put the breakpoint in request.setAttribute yes is never triggered","body":"When i put the breakpoint in request.setAttribute yes is never triggered"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655403585,"post_id":72649832,"comment_id":128330164,"body_markdown":"Under what URL did you try to access `/listinoVideogiochi`?","body":"Under what URL did you try to access <code>&#47;listinoVideogiochi</code>?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655403727,"post_id":72649832,"comment_id":128330206,"body_markdown":"I tried to access to localhost/ServletModule/listinoVideogiochi","body":"I tried to access to localhost/ServletModule/listinoVideogiochi"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655403840,"post_id":72649832,"comment_id":128330246,"body_markdown":"Try putting a breakpoint into `doGet` and `doPost`. If those don&#39;t trigger, let&#39;s start from square one. Create some basic `helloworld.jsp` in the webroot and try accessing it via localhost.","body":"Try putting a breakpoint into <code>doGet</code> and <code>doPost</code>. If those don&#39;t trigger, let&#39;s start from square one. Create some basic <code>helloworld.jsp</code> in the webroot and try accessing it via localhost."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655404022,"post_id":72649832,"comment_id":128330308,"body_markdown":"I have access to other jsps, they work correctly and it’s like the VideogiochiServlet isn’t working.","body":"I have access to other jsps, they work correctly and it’s like the VideogiochiServlet isn’t working."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655404158,"post_id":72649832,"comment_id":128330366,"body_markdown":"Did you try the breakpoints in `doGet` and `doPost`?","body":"Did you try the breakpoints in <code>doGet</code> and <code>doPost</code>?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655404334,"post_id":72649832,"comment_id":128330431,"body_markdown":"Yes, i have tried and seams like the logic is never triggered","body":"Yes, i have tried and seams like the logic is never triggered"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655404563,"post_id":72649832,"comment_id":128330522,"body_markdown":"I don&#39;t know then. There isn&#39;t much I can do through comments without seeing or debugging your entire project myself. If there are no errors in the log, including from the very start of the server, nor do you get 404 browser error, it could be anything.","body":"I don&#39;t know then. There isn&#39;t much I can do through comments without seeing or debugging your entire project myself. If there are no errors in the log, including from the very start of the server, nor do you get 404 browser error, it could be anything."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655404989,"post_id":72649832,"comment_id":128330662,"body_markdown":"Yeah, no errors, just nothing, it’s like my Servlet isnt starting when i go in the url","body":"Yeah, no errors, just nothing, it’s like my Servlet isnt starting when i go in the url"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655405198,"post_id":72649832,"comment_id":128330747,"body_markdown":"If `jsp` files work, why don&#39;t you put the servlet&#39;s videogiochi retrieval directly into the `listinoVideogiochi.jsp` as a `&lt;% %&gt;` code block? Then whatever called the servlet, point it to the jsp.","body":"If <code>jsp</code> files work, why don&#39;t you put the servlet&#39;s videogiochi retrieval directly into the <code>listinoVideogiochi.jsp</code> as a <code>&lt;% %&gt;</code> code block? Then whatever called the servlet, point it to the jsp."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655405241,"post_id":72649832,"comment_id":128330754,"body_markdown":"What do you mean? I didn’t understand sorry","body":"What do you mean? I didn’t understand sorry"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655405512,"post_id":72649832,"comment_id":128330849,"body_markdown":"You know you can put java code into `jsp`s via `&lt;% %&gt;` blocks? https://www.baeldung.com/jsp#syntax","body":"You know you can put java code into <code>jsp</code>s via <code>&lt;% %&gt;</code> blocks? <a href=\"https://www.baeldung.com/jsp#syntax\" rel=\"nofollow noreferrer\">baeldung.com/jsp#syntax</a>"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655405572,"post_id":72649832,"comment_id":128330870,"body_markdown":"Yes, good idea, srry now i try and i keep you updated","body":"Yes, good idea, srry now i try and i keep you updated"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655412116,"post_id":72649832,"comment_id":128332836,"body_markdown":"@akarnokd i&#39;ve tried, and with this method it works, i have my data. But it&#39;s not the way i want to do it, so have you any idea of how to do it with a servlet?","body":"@akarnokd i&#39;ve tried, and with this method it works, i have my data. But it&#39;s not the way i want to do it, so have you any idea of how to do it with a servlet?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655412229,"post_id":72649832,"comment_id":128332865,"body_markdown":"I&#39;ve never done servlets via annotation, only the traditional web.xml way. Maybe this is your problem https://stackoverflow.com/a/26247021/61158 ?","body":"I&#39;ve never done servlets via annotation, only the traditional web.xml way. Maybe this is your problem <a href=\"https://stackoverflow.com/a/26247021/61158\">stackoverflow.com/a/26247021/61158</a> ?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655412654,"post_id":72649832,"comment_id":128333005,"body_markdown":"Sadly i&#39;m not using Tomcat but Glassfish, if i used Spring and Tomcat it would be surely easier ahaha, but thank you the same","body":"Sadly i&#39;m not using Tomcat but Glassfish, if i used Spring and Tomcat it would be surely easier ahaha, but thank you the same"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655412714,"post_id":72649832,"comment_id":128333027,"body_markdown":"Can&#39;t you check/make sure you are using Servlet 3.0 or newer? Btw, are any of your other `@WebServlet`s working?","body":"Can&#39;t you check/make sure you are using Servlet 3.0 or newer? Btw, are any of your other <code>@WebServlet</code>s working?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655412955,"post_id":72649832,"comment_id":128333092,"body_markdown":"https://stackoverflow.com/a/30778598/61158","body":"<a href=\"https://stackoverflow.com/a/30778598/61158\">stackoverflow.com/a/30778598/61158</a>"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655412983,"post_id":72649832,"comment_id":128333104,"body_markdown":"Yeah i have other WebServlets and they works, but they&#39;re triggered by buttons, this one is triggered by a link in my navbar, and yes i have Servlet 3.0","body":"Yeah i have other WebServlets and they works, but they&#39;re triggered by buttons, this one is triggered by a link in my navbar, and yes i have Servlet 3.0"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655413141,"post_id":72649832,"comment_id":128333152,"body_markdown":"How do your other `@WebServlet` annotations look like?","body":"How do your other <code>@WebServlet</code> annotations look like?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655413460,"post_id":72649832,"comment_id":128333249,"body_markdown":"Like this &quot;@WebServlet(name = &quot;NuovoProdotto&quot;, urlPatterns = {&quot;/inserimentoProdotto&quot;})\n&quot;, where inserimentoProdotto is the name of the form","body":"Like this &quot;@WebServlet(name = &quot;NuovoProdotto&quot;, urlPatterns = {&quot;/inserimentoProdotto&quot;}) &quot;, where inserimentoProdotto is the name of the form"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655413675,"post_id":72649832,"comment_id":128333315,"body_markdown":"Do you have any servlet filters? I&#39;d try to create a fresh servlet from scratch, name it &quot;A&quot; with urlpattern &quot;/A&quot; and see if its doXXX methods get called or not. If it works, start adjusting naming and see where it breaks.","body":"Do you have any servlet filters? I&#39;d try to create a fresh servlet from scratch, name it &quot;A&quot; with urlpattern &quot;/A&quot; and see if its doXXX methods get called or not. If it works, start adjusting naming and see where it breaks."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655413803,"post_id":72649832,"comment_id":128333360,"body_markdown":"How can i check if i have servlet filters?","body":"How can i check if i have servlet filters?"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655413888,"post_id":72649832,"comment_id":128333389,"body_markdown":"It&#39;s different now, even with the name the jsp is reached, but when i try to have access to the attribute that i set, it is null","body":"It&#39;s different now, even with the name the jsp is reached, but when i try to have access to the attribute that i set, it is null"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655413992,"post_id":72649832,"comment_id":128333418,"body_markdown":"Something extends `javax.servlet.Filter` in your project or via some 3rd party library. Sometimes access right checks are enforced via filters.","body":"Something extends <code>javax.servlet.Filter</code> in your project or via some 3rd party library. Sometimes access right checks are enforced via filters."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655414292,"post_id":72649832,"comment_id":128333501,"body_markdown":"I checked but nothing, it&#39;s like setAttribute and forward() isnt working","body":"I checked but nothing, it&#39;s like setAttribute and forward() isnt working"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655414558,"post_id":72649832,"comment_id":128333567,"body_markdown":"How do you read the attribute from the request? https://stackoverflow.com/a/57370840/61158","body":"How do you read the attribute from the request? <a href=\"https://stackoverflow.com/a/57370840/61158\">stackoverflow.com/a/57370840/61158</a>"},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655414893,"post_id":72649832,"comment_id":128333651,"body_markdown":"You can read it in the Jsp im trying to read it in the jsp using ${listinoVideogiochi}, with this syntax","body":"You can read it in the Jsp im trying to read it in the jsp using ${listinoVideogiochi}, with this syntax"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655415275,"post_id":72649832,"comment_id":128333739,"body_markdown":"Maybe your attribute name `listinoVideogiochi` is conflicting with the servlet name or some scope variable? Try naming it something else.","body":"Maybe your attribute name <code>listinoVideogiochi</code> is conflicting with the servlet name or some scope variable? Try naming it something else."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655415639,"post_id":72649832,"comment_id":128333849,"body_markdown":"Nothing.  I&#39;ve tried but nothing, i&#39;m going crazy with this ahaha","body":"Nothing.  I&#39;ve tried but nothing, i&#39;m going crazy with this ahaha"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655416360,"post_id":72649832,"comment_id":128334060,"body_markdown":"I don&#39;t know. At this point, I&#39;d create a minimal project with just code and steps of the original problem to see if it works or not in isolation.","body":"I don&#39;t know. At this point, I&#39;d create a minimal project with just code and steps of the original problem to see if it works or not in isolation."},{"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"score":0,"creation_date":1655416744,"post_id":72649832,"comment_id":128334155,"body_markdown":"Somehow i solved, i&#39;m so stupid because i&#39;ve seen just now that i was accessing to listinoVIdeogiochi.jsp and not /listinoVideogiochi as i have to, so now it works, thank you a lot for the support, i don&#39;t know how to vote but if you tell me how i&#39;ll give you 10/10","body":"Somehow i solved, i&#39;m so stupid because i&#39;ve seen just now that i was accessing to listinoVIdeogiochi.jsp and not /listinoVideogiochi as i have to, so now it works, thank you a lot for the support, i don&#39;t know how to vote but if you tell me how i&#39;ll give you 10/10"}],"owner":{"account_id":25574118,"reputation":1,"user_id":19353956,"display_name":"erica"},"comment_count":43,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655445775,"answer_count":0,"score":0,"last_activity_date":1655401705,"creation_date":1655401073,"question_id":72649832,"body_markdown":"i&#39;m tryng to head out this problem but i can&#39;t figure it out.\r\nSo i have my Servlet and my jsp page, but when i run the server and i click on the link that should trigger the logic for my jsp, just nothing happen.\r\nHere is my code: \r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Servlet.java to edit this template\r\n */\r\npackage it.unica.fSociety.Servlet;\r\nimport it.unica.fSociety.Model.Videogioco;\r\nimport it.unica.fSociety.Model.VideogiocoFactory;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\n\r\n/**\r\n *\r\n * @author stefa\r\n */\r\n@WebServlet(name = &quot;VideogiochiServlet&quot;, urlPatterns = {&quot;/listinoVideogiochi&quot;})\r\npublic class VideogiochiServlet extends HttpServlet {\r\n\r\n    /**\r\n     * Processes requests for both HTTP &lt;code&gt;GET&lt;/code&gt; and &lt;code&gt;POST&lt;/code&gt;\r\n     * methods.\r\n     *\r\n     * @param request servlet request\r\n     * @param response servlet response\r\n     * @throws ServletException if a servlet-specific error occurs\r\n     * @throws IOException if an I/O error occurs\r\n     */\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        \r\n        List&lt;Videogioco&gt; videogiochi = VideogiocoFactory.getInstance().getAllVideogiochi();\r\n        request.setAttribute(&quot;listinoVideogiochi&quot;, videogiochi);\r\n        request.getRequestDispatcher(&quot;listinoVideogiochi.jsp&quot;).forward(request,response);\r\n\r\n\r\n        \r\n        \r\n    \r\n     \r\n    }\r\n\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;HttpServlet methods. Click on the + sign on the left to edit the code.&quot;&gt;\r\n    /**\r\n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\r\n     *\r\n     * @param request servlet request\r\n     * @param response servlet response\r\n     * @throws ServletException if a servlet-specific error occurs\r\n     * @throws IOException if an I/O error occurs\r\n     */\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        processRequest(request, response);\r\n    }\r\n\r\n    /**\r\n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\r\n     *\r\n     * @param request servlet request\r\n     * @param response servlet response\r\n     * @throws ServletException if a servlet-specific error occurs\r\n     * @throws IOException if an I/O error occurs\r\n     */\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        processRequest(request, response);\r\n    }\r\n\r\n    /**\r\n     * Returns a short description of the servlet.\r\n     *\r\n     * @return a String containing servlet description\r\n     */\r\n    @Override\r\n    public String getServletInfo() {\r\n        return &quot;Short description&quot;;\r\n    }// &lt;/editor-fold&gt;\r\n\r\n}\r\n\r\n```\r\nThe Servlet\r\n\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage it.unica.fSociety.Model;\r\n\r\nimport it.unica.fSociety.Database.DatabaseManager;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\n\r\n/**\r\n *\r\n * @author stefa\r\n */\r\npublic class VideogiocoFactory {\r\n\r\n    private static VideogiocoFactory instance;\r\n    \r\n    private VideogiocoFactory(){}\r\n    \r\n    public static VideogiocoFactory getInstance(){\r\n         if(instance== null)\r\n            instance= new VideogiocoFactory();\r\n        return instance;\r\n    }\r\n\r\n    public List&lt;Videogioco&gt; getAllVideogiochi() {\r\n        Connection conn = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet set = null;\r\n        List&lt;Videogioco&gt; videogiochi = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            conn = DatabaseManager.getInstance().gedDbConnection();\r\n            String query = &quot;select * from videogioco&quot;;\r\n            stmt = conn.prepareStatement(query);\r\n            set = stmt.executeQuery();\r\n            while (set.next()) {\r\n                Videogioco videogioco = new Videogioco();\r\n                videogiochi.add(videogioco);\r\n       \r\n            }\r\n            return videogiochi;\r\n        } catch (SQLException e) {\r\n            Logger.getLogger(VideogiocoFactory.class.getName()).log(Level.SEVERE, null, e);\r\n        } finally {\r\n            try {set.close();   } catch (Exception e) {}\r\n            try {stmt.close();   } catch (Exception e) {}\r\n            try {conn.close();   } catch (Exception e) {}\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n    \r\n    &lt;head&gt;\r\n        \r\n        &lt;title&gt; GameSociety &lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name =&quot;author&quot; content =&quot;fSociety&quot;&gt;\r\n        &lt;meta name =&quot; description &quot; content =&quot; Negozio online di videogiochi&quot;&gt;\r\n        &lt;meta name =&quot; keywords&quot; content =&quot;videogiochi,pc,games&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com/&quot; &gt;\r\n        &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com/&quot; crossorigin&gt;\r\n        &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Mukta:wght@200&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot; media=&quot;screen&quot;/&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;c:set var=&quot;page&quot; value=&quot;index&quot; scope=&quot;request&quot;/&gt;\r\n     \r\n    &lt;c:if test=&quot;${empty utente.getUsername()}&quot;&gt;\r\n        &lt;c:redirect url=&quot;login.jsp&quot;/&gt;\r\n    &lt;/c:if&gt;\r\n    &lt;c:if test=&quot;${not empty utente.getUsername()}&quot;&gt;\r\n        &lt;c:set var=&quot;page&quot; value=&quot;listinoVideogiochi&quot; scope=&quot;request&quot;/&gt;\r\n    &lt;/c:if&gt;\r\n    \r\n     \r\n    \r\n    \r\n    \r\n    &lt;body&gt;\r\n        &lt;%@ include file=&quot;header.jsp&quot; %&gt;\r\n        \r\n        &lt;nav&gt;\r\n            &lt;div&gt;\r\n                &lt;ul&gt;\r\n                    &lt;li&gt;&lt;a href=&quot;index.jsp&quot; &gt; Home &lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href =&quot;nuovoProdotto.jsp&quot;&gt; Nuovo Videogame &lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href =&quot;listinoVideogiochi.jsp&quot; class=&quot;active&quot;&gt; Listino Videogiochi &lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href =&quot;chiSiamo.jsp&quot;&gt; Chi siamo  &lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href =&quot;login.jsp&quot;&gt; Login &lt;/a&gt;&lt;/li&gt;\r\n                &lt;/ul&gt;\r\n            &lt;/div&gt;\r\n        &lt;/nav&gt;\r\n        &lt;br&gt;\r\n        &lt;div class=&quot;col-3 col-s-3&quot;&gt;\r\n\r\n            &lt;%@ include file=&quot;pubblicit&#224;1.jsp&quot; %&gt;\r\n            &lt;div id=&quot;bookmark1&quot; class=&quot;presentazioneListino&quot;&gt;\r\n                Acquista i tuoi giochi preferiti, o trovane di nuovi,comodamente\r\n                da casa e scaricali subito!\r\n                Qui troverai tutti i videogiochi in vendita nel nostro sito. &lt;br&gt;\r\n                Scegli tra quelli pi&#249; ricercati dagli utenti. Solo il \r\n                meglio del mondo games scelto per voi dallo staff di GameSociety. \r\n                &lt;br&gt; Inizia a fare acquisti!\r\n            &lt;/div&gt;\r\n            &lt;br&gt;\r\n            &lt;h2 id=&quot;titoloh2&quot;&gt;Tutti i titoli&lt;/h2&gt;\r\n             \r\n            &lt;article&gt;\r\n                &lt;div class=&quot;boxListino&quot;&gt;\r\n                    &lt;c:forEach items=&quot;${listinoVideogiochi}&quot; var=&quot;videogiochi&quot;&gt;\r\n                    &lt;h3 class=&quot;titoloListino&quot;&gt; &quot;${videogiochi.getTitolo()}&quot;&lt;/h3&gt;\r\n                 \r\n\r\n                    &lt;img title =&quot;BlackMesa&quot; alt=&quot;Foto del gioco di Black Mesa&quot; src=&quot;${videogiochi.getUrl_Foto(\r\n\r\n                    \r\n                    &lt;div class=&quot;infoGioco&quot;&gt;\r\n                        &lt;b&gt;Genere:&lt;/b&gt; &lt;i&gt; &quot;${videogiochi.getGenere()}&quot;&lt;/i&gt;\r\n                        &lt;br&gt;\r\n                        &lt;b&gt;Trama:&lt;/b&gt; Sei Gordon Freeman, un fisico teorico del Black Mesa \r\n                        Research Facility. Quando un esperimento di routine va \r\n                        terribilmente storto, ti ritrovi a combattere un&#39;invasione \r\n                        aliena interdimenzionale. Riuscirai a salvare la tua squadra \r\n                        scientifica e il mondo??\r\n                        &lt;br&gt;\r\n                        &lt;b&gt;Prezzo:&lt;/b&gt; 14,99€ \r\n                        &lt;br&gt;\r\n                        &lt;b&gt;Produttore:&lt;/b&gt; Crowbar Collective.\r\n                        &lt;br&gt;\r\n                        &lt;b&gt;Data di Rilascio:&lt;/b&gt; 6 Marzo 2020.\r\n                    &lt;/div&gt;\r\n\r\n\r\n                    &lt;h4 class=&quot;titoloh4&quot;&gt;Requisiti di Sistema:&lt;/h4&gt;\r\n                    &lt;div class=&quot;tabella&quot;&gt;\r\n                        &lt;table&gt;\r\n                            &lt;tr&gt;             \r\n                                &lt;th&gt;&lt;/th&gt;\r\n                                &lt;th&gt;Minimi:&lt;/th&gt;      \r\n                                &lt;th&gt;Consigliati:&lt;/th&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;&lt;b&gt;Sistema operativo:&lt;/b&gt;&lt;/td&gt;\r\n                                &lt;td&gt;&lt;i&gt;Windows 7(32/64-bit)/Vista or Greater.&lt;/i&gt;&lt;/td&gt;  \r\n                                &lt;td&gt;&lt;i&gt;Windows 7(32/64-bit) or Greater.&lt;/i&gt;&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;&lt;b&gt;Processore: &lt;/b&gt;&lt;/td&gt;\r\n                                &lt;td&gt;&lt;i&gt;2.6 Dual Core Processor or Greater.&lt;/i&gt;&lt;/td&gt;\r\n                                &lt;td&gt;&lt;i&gt;3.2 Quad Core Processor or Greater.&lt;/i&gt;&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;&lt;b&gt;Memoria: &lt;/b&gt;&lt;/td&gt;\r\n                                &lt;td&gt;&lt;i&gt;6 GB di RAM.&lt;/i&gt;&lt;/td&gt;\r\n                                &lt;td&gt;&lt;i&gt;8 GB di RAM.&lt;/i&gt;&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;&lt;b&gt;Scheda Video: &lt;/b&gt;&lt;/td&gt;\r\n                                &lt;td&gt;&lt;i&gt;2 GB Dedicated Video Card or Greater.&lt;/i&gt;&lt;/td&gt;\r\n                                &lt;td&gt;&lt;i&gt;4 GB Dedicated Video Card or Greater.&lt;/i&gt;&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/table&gt;\r\n                    &lt;/div&gt;\r\n\r\n\r\n                    &lt;div class=&quot;votoGioco&quot;&gt;\r\n                        &lt;i&gt;Ti &#232; piaciuto questo gioco?&lt;/i&gt; \r\n                        &lt;button type =&quot;submit&quot;&gt;\r\n                            &lt;img alt=&quot;s&#236;&quot; src=&quot;img/si.png&quot; width=&quot;14&quot; height=&quot;14&quot; /&gt; S&#236;! \r\n                        &lt;/button&gt;\r\n                        &lt;button type =&quot;submit&quot;&gt;\r\n                            &lt;img alt=&quot;no&quot; src=&quot;img/no.png&quot; width=&quot;14&quot; height=&quot;14&quot; /&gt; No! \r\n                        &lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                    &lt;/c:forEach&gt;\r\n            &lt;/article&gt;\r\n\r\n         \r\n\r\n            &lt;/article&gt;\r\n            &lt;a href =&quot;#bookmark1&quot;&gt; &lt;b&gt;Torna su!&lt;/b&gt;&lt;/a&gt;\r\n        &lt;/div&gt;\r\n        &lt;%@ include file=&quot;pubblicit&#224;2.jsp&quot; %&gt;\r\n        &lt;%@ include file=&quot;footer.jsp&quot; %&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\n```\r\n\r\nthe jsp\r\n\r\n\r\n\r\nThanks everyone for the support\r\n\r\n\r\n    \r\n","title":"My servlet isn&#39;t matching my jsp, how can i do?","body":"<p>i'm tryng to head out this problem but i can't figure it out.\nSo i have my Servlet and my jsp page, but when i run the server and i click on the link that should trigger the logic for my jsp, just nothing happen.\nHere is my code:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Servlet.java to edit this template\n */\npackage it.unica.fSociety.Servlet;\nimport it.unica.fSociety.Model.Videogioco;\nimport it.unica.fSociety.Model.VideogiocoFactory;\nimport java.io.IOException;\nimport java.util.List;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n/**\n *\n * @author stefa\n */\n@WebServlet(name = &quot;VideogiochiServlet&quot;, urlPatterns = {&quot;/listinoVideogiochi&quot;})\npublic class VideogiochiServlet extends HttpServlet {\n\n    /**\n     * Processes requests for both HTTP &lt;code&gt;GET&lt;/code&gt; and &lt;code&gt;POST&lt;/code&gt;\n     * methods.\n     *\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        \n        List&lt;Videogioco&gt; videogiochi = VideogiocoFactory.getInstance().getAllVideogiochi();\n        request.setAttribute(&quot;listinoVideogiochi&quot;, videogiochi);\n        request.getRequestDispatcher(&quot;listinoVideogiochi.jsp&quot;).forward(request,response);\n\n\n        \n        \n    \n     \n    }\n\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;HttpServlet methods. Click on the + sign on the left to edit the code.&quot;&gt;\n    /**\n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\n     *\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        processRequest(request, response);\n    }\n\n    /**\n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\n     *\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        processRequest(request, response);\n    }\n\n    /**\n     * Returns a short description of the servlet.\n     *\n     * @return a String containing servlet description\n     */\n    @Override\n    public String getServletInfo() {\n        return &quot;Short description&quot;;\n    }// &lt;/editor-fold&gt;\n\n}\n\n</code></pre>\n<p>The Servlet</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage it.unica.fSociety.Model;\n\nimport it.unica.fSociety.Database.DatabaseManager;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n\n/**\n *\n * @author stefa\n */\npublic class VideogiocoFactory {\n\n    private static VideogiocoFactory instance;\n    \n    private VideogiocoFactory(){}\n    \n    public static VideogiocoFactory getInstance(){\n         if(instance== null)\n            instance= new VideogiocoFactory();\n        return instance;\n    }\n\n    public List&lt;Videogioco&gt; getAllVideogiochi() {\n        Connection conn = null;\n        PreparedStatement stmt = null;\n        ResultSet set = null;\n        List&lt;Videogioco&gt; videogiochi = new ArrayList&lt;&gt;();\n\n        try {\n            conn = DatabaseManager.getInstance().gedDbConnection();\n            String query = &quot;select * from videogioco&quot;;\n            stmt = conn.prepareStatement(query);\n            set = stmt.executeQuery();\n            while (set.next()) {\n                Videogioco videogioco = new Videogioco();\n                videogiochi.add(videogioco);\n       \n            }\n            return videogiochi;\n        } catch (SQLException e) {\n            Logger.getLogger(VideogiocoFactory.class.getName()).log(Level.SEVERE, null, e);\n        } finally {\n            try {set.close();   } catch (Exception e) {}\n            try {stmt.close();   } catch (Exception e) {}\n            try {conn.close();   } catch (Exception e) {}\n        }\n        return null;\n    }\n}\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n    \n    &lt;head&gt;\n        \n        &lt;title&gt; GameSociety &lt;/title&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;meta name =&quot;author&quot; content =&quot;fSociety&quot;&gt;\n        &lt;meta name =&quot; description &quot; content =&quot; Negozio online di videogiochi&quot;&gt;\n        &lt;meta name =&quot; keywords&quot; content =&quot;videogiochi,pc,games&quot;&gt;\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n        &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com/&quot; &gt;\n        &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com/&quot; crossorigin&gt;\n        &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Mukta:wght@200&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot; media=&quot;screen&quot;/&gt;\n    &lt;/head&gt;\n    \n    &lt;c:set var=&quot;page&quot; value=&quot;index&quot; scope=&quot;request&quot;/&gt;\n     \n    &lt;c:if test=&quot;${empty utente.getUsername()}&quot;&gt;\n        &lt;c:redirect url=&quot;login.jsp&quot;/&gt;\n    &lt;/c:if&gt;\n    &lt;c:if test=&quot;${not empty utente.getUsername()}&quot;&gt;\n        &lt;c:set var=&quot;page&quot; value=&quot;listinoVideogiochi&quot; scope=&quot;request&quot;/&gt;\n    &lt;/c:if&gt;\n    \n     \n    \n    \n    \n    &lt;body&gt;\n        &lt;%@ include file=&quot;header.jsp&quot; %&gt;\n        \n        &lt;nav&gt;\n            &lt;div&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&lt;a href=&quot;index.jsp&quot; &gt; Home &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href =&quot;nuovoProdotto.jsp&quot;&gt; Nuovo Videogame &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href =&quot;listinoVideogiochi.jsp&quot; class=&quot;active&quot;&gt; Listino Videogiochi &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href =&quot;chiSiamo.jsp&quot;&gt; Chi siamo  &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href =&quot;login.jsp&quot;&gt; Login &lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/nav&gt;\n        &lt;br&gt;\n        &lt;div class=&quot;col-3 col-s-3&quot;&gt;\n\n            &lt;%@ include file=&quot;pubblicità1.jsp&quot; %&gt;\n            &lt;div id=&quot;bookmark1&quot; class=&quot;presentazioneListino&quot;&gt;\n                Acquista i tuoi giochi preferiti, o trovane di nuovi,comodamente\n                da casa e scaricali subito!\n                Qui troverai tutti i videogiochi in vendita nel nostro sito. &lt;br&gt;\n                Scegli tra quelli più ricercati dagli utenti. Solo il \n                meglio del mondo games scelto per voi dallo staff di GameSociety. \n                &lt;br&gt; Inizia a fare acquisti!\n            &lt;/div&gt;\n            &lt;br&gt;\n            &lt;h2 id=&quot;titoloh2&quot;&gt;Tutti i titoli&lt;/h2&gt;\n             \n            &lt;article&gt;\n                &lt;div class=&quot;boxListino&quot;&gt;\n                    &lt;c:forEach items=&quot;${listinoVideogiochi}&quot; var=&quot;videogiochi&quot;&gt;\n                    &lt;h3 class=&quot;titoloListino&quot;&gt; &quot;${videogiochi.getTitolo()}&quot;&lt;/h3&gt;\n                 \n\n                    &lt;img title =&quot;BlackMesa&quot; alt=&quot;Foto del gioco di Black Mesa&quot; src=&quot;${videogiochi.getUrl_Foto(\n\n                    \n                    &lt;div class=&quot;infoGioco&quot;&gt;\n                        &lt;b&gt;Genere:&lt;/b&gt; &lt;i&gt; &quot;${videogiochi.getGenere()}&quot;&lt;/i&gt;\n                        &lt;br&gt;\n                        &lt;b&gt;Trama:&lt;/b&gt; Sei Gordon Freeman, un fisico teorico del Black Mesa \n                        Research Facility. Quando un esperimento di routine va \n                        terribilmente storto, ti ritrovi a combattere un'invasione \n                        aliena interdimenzionale. Riuscirai a salvare la tua squadra \n                        scientifica e il mondo??\n                        &lt;br&gt;\n                        &lt;b&gt;Prezzo:&lt;/b&gt; 14,99€ \n                        &lt;br&gt;\n                        &lt;b&gt;Produttore:&lt;/b&gt; Crowbar Collective.\n                        &lt;br&gt;\n                        &lt;b&gt;Data di Rilascio:&lt;/b&gt; 6 Marzo 2020.\n                    &lt;/div&gt;\n\n\n                    &lt;h4 class=&quot;titoloh4&quot;&gt;Requisiti di Sistema:&lt;/h4&gt;\n                    &lt;div class=&quot;tabella&quot;&gt;\n                        &lt;table&gt;\n                            &lt;tr&gt;             \n                                &lt;th&gt;&lt;/th&gt;\n                                &lt;th&gt;Minimi:&lt;/th&gt;      \n                                &lt;th&gt;Consigliati:&lt;/th&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;&lt;b&gt;Sistema operativo:&lt;/b&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;i&gt;Windows 7(32/64-bit)/Vista or Greater.&lt;/i&gt;&lt;/td&gt;  \n                                &lt;td&gt;&lt;i&gt;Windows 7(32/64-bit) or Greater.&lt;/i&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;&lt;b&gt;Processore: &lt;/b&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;i&gt;2.6 Dual Core Processor or Greater.&lt;/i&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;i&gt;3.2 Quad Core Processor or Greater.&lt;/i&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;&lt;b&gt;Memoria: &lt;/b&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;i&gt;6 GB di RAM.&lt;/i&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;i&gt;8 GB di RAM.&lt;/i&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;&lt;b&gt;Scheda Video: &lt;/b&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;i&gt;2 GB Dedicated Video Card or Greater.&lt;/i&gt;&lt;/td&gt;\n                                &lt;td&gt;&lt;i&gt;4 GB Dedicated Video Card or Greater.&lt;/i&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/table&gt;\n                    &lt;/div&gt;\n\n\n                    &lt;div class=&quot;votoGioco&quot;&gt;\n                        &lt;i&gt;Ti è piaciuto questo gioco?&lt;/i&gt; \n                        &lt;button type =&quot;submit&quot;&gt;\n                            &lt;img alt=&quot;sì&quot; src=&quot;img/si.png&quot; width=&quot;14&quot; height=&quot;14&quot; /&gt; Sì! \n                        &lt;/button&gt;\n                        &lt;button type =&quot;submit&quot;&gt;\n                            &lt;img alt=&quot;no&quot; src=&quot;img/no.png&quot; width=&quot;14&quot; height=&quot;14&quot; /&gt; No! \n                        &lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                    &lt;/c:forEach&gt;\n            &lt;/article&gt;\n\n         \n\n            &lt;/article&gt;\n            &lt;a href =&quot;#bookmark1&quot;&gt; &lt;b&gt;Torna su!&lt;/b&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;%@ include file=&quot;pubblicità2.jsp&quot; %&gt;\n        &lt;%@ include file=&quot;footer.jsp&quot; %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n\n</code></pre>\n<p>the jsp</p>\n<p>Thanks everyone for the support</p>\n"},{"tags":["java","swing","marathon","marathontesting"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1654746454,"post_id":72552532,"comment_id":128166700,"body_markdown":"1) *&quot;..and also throws the exception.&quot;* Given there are many, why not include the information on which one? And by that, I mean copy/paste the stack trace itself. 2) For better help sooner, [edit] to add a [mre].","body":"1) <i>&quot;..and also throws the exception.&quot;</i> Given there are many, why not include the information on which one? And by that, I mean copy/paste the stack trace itself. 2) For better help sooner, <a href=\"https://stackoverflow.com/posts/72552532/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":13125260,"reputation":151,"user_id":9481454,"display_name":"Aditya Karra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655401624,"creation_date":1655401624,"answer_id":72649925,"question_id":72552532,"body_markdown":"Marathon sets JAVA_TOOL_OPTIONS for java agent and port where it is running. So you executable might be over writing the property.","title":"Lauching swing applicaiton which has exe extention in marathon java driver","body":"<p>Marathon sets JAVA_TOOL_OPTIONS for java agent and port where it is running. So you executable might be over writing the property.</p>\n"}],"owner":{"account_id":15368758,"reputation":21,"user_id":11087413,"display_name":"NikSU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655401624,"creation_date":1654724470,"question_id":72552532,"body_markdown":"We have java swing application which has the extension of .exe so how to configure JavaProfile() to launch with Marathon JavaDriver?\r\n\r\n``` \r\nJavaProfile profile = new JavaProfile(JavaProfile.LaunchMode.EXECUTABLE_JAR);\r\n            profile.setLaunchType(JavaProfile.LaunchType.SWING_APPLICATION);\r\n            profile.setExecutableJar(&quot;C:\\\\DIR\\\\TO\\\\APP\\\\JavaCalc.exe&quot;);\r\n\r\nJavaDriver calculatorSession = new JavaDriver(profile);\r\n``` \r\n\r\nI tried this, but it seems not correct and also throws the exception. \r\n\r\n```\r\nJun 09, 2022 5:04:28 PM net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor start\r\nINFO: Executing: [C:\\Users\\robot\\.jdks\\corretto-11.0.15\\bin\\java.exe, -jar, C:\\DIR\\TO\\APP\\JavaCalc.exe][ {JAVA_TOOL_OPTIONS=-DkeepLog=false -Dmarathon.launch.mode=executablejar -Dmarathon.mode=playing -javaagent:&quot;C:\\Users\\robot\\.m2\\repository\\com\\jaliansystems\\marathon-java-agent\\5.4.0.0\\marathon-java-agent-5.4.0.0.jar&quot;=57191}]\r\nError: Invalid or corrupt jarfile C:\\DIR\\TO\\APP\\JavaCalc.exe\r\nJun 09, 2022 5:04:32 PM net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor start\r\nWARNING: The application exited before establishing the connection: [C:\\Users\\robot\\.jdks\\corretto-11.0.15\\bin\\java.exe, -jar, C:\\DIR\\TO\\APP\\JavaCalc.exe][ {JAVA_TOOL_OPTIONS=-DkeepLog=false -Dmarathon.launch.mode=executablejar -Dmarathon.mode=playing -javaagent:&quot;C:\\Users\\robot\\.m2\\repository\\com\\jaliansystems\\marathon-java-agent\\5.4.0.0\\marathon-java-agent-5.4.0.0.jar&quot;=57191}]\r\norg.openqa.selenium.WebDriverException: The application exited before establishing the connection\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;ROBOT&#39;, ip: &#39;192.168.1.114&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_332&#39;\r\nDriver info: driver.version: JavaDriver\r\n\tat net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor.start(JavaDriverCommandExecutor.java:103)\r\n\tat net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor.execute(JavaDriverCommandExecutor.java:129)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat net.sourceforge.marathon.javadriver.JavaDriver.&lt;init&gt;(JavaDriver.java:156)\r\n\tat net.sourceforge.marathon.javadriver.JavaDriver.&lt;init&gt;(JavaDriver.java:131)\r\n\tat net.sourceforge.marathon.javadriver.JavaDriver.&lt;init&gt;(JavaDriver.java:112)\r\n\tat CalculatorMarathonTest.setUp(CalculatorMarathonTest.java:23)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:766)\r\n\tat org.testng.TestRunner.run(TestRunner.java:587)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1039)\r\n\tat org.testng.TestNG.run(TestNG.java:1007)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)```","title":"Lauching swing applicaiton which has exe extention in marathon java driver","body":"<p>We have java swing application which has the extension of .exe so how to configure JavaProfile() to launch with Marathon JavaDriver?</p>\n<pre><code>JavaProfile profile = new JavaProfile(JavaProfile.LaunchMode.EXECUTABLE_JAR);\n            profile.setLaunchType(JavaProfile.LaunchType.SWING_APPLICATION);\n            profile.setExecutableJar(&quot;C:\\\\DIR\\\\TO\\\\APP\\\\JavaCalc.exe&quot;);\n\nJavaDriver calculatorSession = new JavaDriver(profile);\n</code></pre>\n<p>I tried this, but it seems not correct and also throws the exception.</p>\n<pre><code>Jun 09, 2022 5:04:28 PM net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor start\nINFO: Executing: [C:\\Users\\robot\\.jdks\\corretto-11.0.15\\bin\\java.exe, -jar, C:\\DIR\\TO\\APP\\JavaCalc.exe][ {JAVA_TOOL_OPTIONS=-DkeepLog=false -Dmarathon.launch.mode=executablejar -Dmarathon.mode=playing -javaagent:&quot;C:\\Users\\robot\\.m2\\repository\\com\\jaliansystems\\marathon-java-agent\\5.4.0.0\\marathon-java-agent-5.4.0.0.jar&quot;=57191}]\nError: Invalid or corrupt jarfile C:\\DIR\\TO\\APP\\JavaCalc.exe\nJun 09, 2022 5:04:32 PM net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor start\nWARNING: The application exited before establishing the connection: [C:\\Users\\robot\\.jdks\\corretto-11.0.15\\bin\\java.exe, -jar, C:\\DIR\\TO\\APP\\JavaCalc.exe][ {JAVA_TOOL_OPTIONS=-DkeepLog=false -Dmarathon.launch.mode=executablejar -Dmarathon.mode=playing -javaagent:&quot;C:\\Users\\robot\\.m2\\repository\\com\\jaliansystems\\marathon-java-agent\\5.4.0.0\\marathon-java-agent-5.4.0.0.jar&quot;=57191}]\norg.openqa.selenium.WebDriverException: The application exited before establishing the connection\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'ROBOT', ip: '192.168.1.114', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_332'\nDriver info: driver.version: JavaDriver\n    at net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor.start(JavaDriverCommandExecutor.java:103)\n    at net.sourceforge.marathon.javadriver.JavaDriverCommandExecutor.execute(JavaDriverCommandExecutor.java:129)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at net.sourceforge.marathon.javadriver.JavaDriver.&lt;init&gt;(JavaDriver.java:156)\n    at net.sourceforge.marathon.javadriver.JavaDriver.&lt;init&gt;(JavaDriver.java:131)\n    at net.sourceforge.marathon.javadriver.JavaDriver.&lt;init&gt;(JavaDriver.java:112)\n    at CalculatorMarathonTest.setUp(CalculatorMarathonTest.java:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\n    at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.testng.TestRunner.privateRun(TestRunner.java:766)\n    at org.testng.TestRunner.run(TestRunner.java:587)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\n    at org.testng.TestNG.runSuites(TestNG.java:1039)\n    at org.testng.TestNG.run(TestNG.java:1007)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)```\n</code></pre>\n"},{"tags":["java","multithreading","list","synchronized"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1655272056,"post_id":72626398,"comment_id":128290039,"body_markdown":"How would another thread access the private field? Other than through the synchronized method? (ok you might break it using reflection, but that will be out of scope)","body":"How would another thread access the private field? Other than through the synchronized method? (ok you might break it using reflection, but that will be out of scope)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1655272244,"post_id":72626398,"comment_id":128290080,"body_markdown":"Keep a reference of list when constructing it?","body":"Keep a reference of list when constructing it?"},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1655272488,"post_id":72626398,"comment_id":128290126,"body_markdown":"@RobAudenaerde it has the reference to the underlying list so another thread can use it directly. As I said the book took an assumption to guarantee thread-safety","body":"@RobAudenaerde it has the reference to the underlying list so another thread can use it directly. As I said the book took an assumption to guarantee thread-safety"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655276209,"post_id":72626398,"comment_id":128291140,"body_markdown":"Surely `if(contains)` should be `if(!contains)`?","body":"Surely <code>if(contains)</code> should be <code>if(!contains)</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655280417,"post_id":72626398,"comment_id":128292466,"body_markdown":"…and could be simplified to `return !list.contains(x) &amp;&amp; list.add(x);`","body":"…and could be simplified to <code>return !list.contains(x) &amp;&amp; list.add(x);</code>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1655289952,"post_id":72626398,"comment_id":128295735,"body_markdown":"Re, &quot;The input parameter of the constructor `list` is from outside.&quot; That is a weak design. The weakness is somewhat mitigated by the fact that they tell you how to use the class safely in its documentation (see CodeScale&#39;s answer, below.) But, a more satisfying design would make it _impossible_ to use the class in an un-safe way (e.g., it could make a private copy of the given `list`).","body":"Re, &quot;The input parameter of the constructor <code>list</code> is from outside.&quot; That is a weak design. The weakness is somewhat mitigated by the fact that they tell you how to use the class safely in its documentation (see CodeScale&#39;s answer, below.) But, a more satisfying design would make it <i>impossible</i> to use the class in an un-safe way (e.g., it could make a private copy of the given <code>list</code>)."}],"answers":[{"tags":[],"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655278513,"creation_date":1655272383,"answer_id":72626462,"question_id":72626398,"body_markdown":"Yes exactly, but if you look in the book, they took this assumption: \r\n\r\n&gt; ImprovedList assumes that once a list is passed to its constructor,\r\n&gt; the client will not use the underlying list directly again, accessing\r\n&gt; it only via ImprovedList\r\n\r\nBased on this assumption the code is thread-safe.\r\n","title":"Java &quot;synchronized&quot; keyword doesn&#39;t forbid other threads from changing class member&#39;s internal elements","body":"<p>Yes exactly, but if you look in the book, they took this assumption:</p>\n<blockquote>\n<p>ImprovedList assumes that once a list is passed to its constructor,\nthe client will not use the underlying list directly again, accessing\nit only via ImprovedList</p>\n</blockquote>\n<p>Based on this assumption the code is thread-safe.</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72626462,"answer_count":1,"score":1,"last_activity_date":1655401617,"creation_date":1655271844,"question_id":72626398,"body_markdown":"I&#39;m referring to JCP 4.4.2 and it has following sample code\r\n```\r\n@ThreadSafe\r\npublic class ImprovedList&lt;T&gt; implements List&lt;T&gt;{\r\n    private final List&lt;T&gt; list;\r\n    public ImprovedList(List&lt;T&gt; list){this.list=list;}\r\n    public synchronized boolean putIfAbsent(T x){\r\n        boolean contains = list.contains(x);\r\n        if(contains){\r\n            list.add(x);\r\n        }\r\n        return !contains;\r\n    }\r\n    @Override\r\n    public synchronized void clear(){list.clear();}\r\n}\r\n```\r\n\r\nThe book said this ImprovedList is thread safe, but I have a question:\r\n\r\nThe input parameter of the constructor &quot;list&quot; is from outside. So, although ```putIfAbsent()``` is ```synchronized``` on ```ImprovedList```, there is no guarantee the lock is put on the internal elements of ```ImprovedList.list```. If another thread is changing/adding any type [T] element into this ```list```, ```ImprovedList.putIfAbsent``` could result undetermined state, I guess.\r\n\r\nPlease kindly help to correct my understandings.\r\n","title":"Java &quot;synchronized&quot; keyword doesn&#39;t forbid other threads from changing class member&#39;s internal elements","body":"<p>I'm referring to JCP 4.4.2 and it has following sample code</p>\n<pre><code>@ThreadSafe\npublic class ImprovedList&lt;T&gt; implements List&lt;T&gt;{\n    private final List&lt;T&gt; list;\n    public ImprovedList(List&lt;T&gt; list){this.list=list;}\n    public synchronized boolean putIfAbsent(T x){\n        boolean contains = list.contains(x);\n        if(contains){\n            list.add(x);\n        }\n        return !contains;\n    }\n    @Override\n    public synchronized void clear(){list.clear();}\n}\n</code></pre>\n<p>The book said this ImprovedList is thread safe, but I have a question:</p>\n<p>The input parameter of the constructor &quot;list&quot; is from outside. So, although <code>putIfAbsent()</code> is <code>synchronized</code> on <code>ImprovedList</code>, there is no guarantee the lock is put on the internal elements of <code>ImprovedList.list</code>. If another thread is changing/adding any type [T] element into this <code>list</code>, <code>ImprovedList.putIfAbsent</code> could result undetermined state, I guess.</p>\n<p>Please kindly help to correct my understandings.</p>\n"},{"tags":["java","integer","wrapper"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655390226,"post_id":72647442,"comment_id":128325332,"body_markdown":"Why do you need generics for this?","body":"Why do you need generics for this?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655393952,"post_id":72647442,"comment_id":128326848,"body_markdown":"The `(int)y` is a language level conversion, not a typesystem-level conversion, so you can&#39;t use `Class` or generics to make it happen.","body":"The <code>(int)y</code> is a language level conversion, not a typesystem-level conversion, so you can&#39;t use <code>Class</code> or generics to make it happen."},{"owner":{"account_id":18094265,"reputation":1,"user_id":13152945,"display_name":"Blacknode"},"score":0,"creation_date":1655400943,"post_id":72647442,"comment_id":128329306,"body_markdown":"No the part float y = 6.2f and converting y to x is just to showcase what i&#39;m trying to achieve by the add function. The comment in the main function separates both parts. Both are separate things.","body":"No the part float y = 6.2f and converting y to x is just to showcase what i&#39;m trying to achieve by the add function. The comment in the main function separates both parts. Both are separate things."}],"owner":{"account_id":18094265,"reputation":1,"user_id":13152945,"display_name":"Blacknode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655401566,"creation_date":1655389351,"question_id":72647442,"body_markdown":"\r\n    public class Main\r\n    {\r\n        static &lt;T extends Number , E &gt; void add ( T o2 )\r\n        {\r\n           @SuppressWarnings(&quot;unchecked&quot;)\r\n           E e2 = (E) o2; // it must be casted to integer\r\n\r\n           System.out.println( e2.getClass().getName() ); // java.lang.Float ( it is not \r\n           casted )\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n           Main g1= new Main();\r\n           g1.&lt;Float , Integer&gt;add( 6.2f );\r\n  \r\n       }\r\n    }\r\n\r\nWhat I&#39;m trying to implement is similar to what the below code evaluates to -\r\n\r\n           float y = 6.2f;\r\n           int x = (int) y;\r\n           System.out.println(x);\r\n\r\nI need to convert Float to Integer in the function add. The System.out statement should print java.lang.Integer as output.\r\nHow can i solve this? Is it possible to implement this or i need to workaround this code. Please Help.\r\n","title":"TypeCasting using Generic Data Types (Java)","body":"<pre><code>public class Main\n{\n    static &lt;T extends Number , E &gt; void add ( T o2 )\n    {\n       @SuppressWarnings(&quot;unchecked&quot;)\n       E e2 = (E) o2; // it must be casted to integer\n\n       System.out.println( e2.getClass().getName() ); // java.lang.Float ( it is not \n       casted )\n    }\n\n    public static void main(String[] args)\n    {\n       Main g1= new Main();\n       g1.&lt;Float , Integer&gt;add( 6.2f );\n\n   }\n}\n</code></pre>\n<p>What I'm trying to implement is similar to what the below code evaluates to -</p>\n<pre><code>       float y = 6.2f;\n       int x = (int) y;\n       System.out.println(x);\n</code></pre>\n<p>I need to convert Float to Integer in the function add. The System.out statement should print java.lang.Integer as output.\nHow can i solve this? Is it possible to implement this or i need to workaround this code. Please Help.</p>\n"},{"tags":["java","servlets","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":284299,"reputation":8756,"user_id":582320,"display_name":"jtoberon"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1519388535,"creation_date":1311877687,"answer_id":6863835,"question_id":6863443,"body_markdown":"From the Javadocs: \r\n\r\n&gt; @RequestHeader can be used on a Map&lt;String, String&gt;, MultiValueMap&lt;String, String&gt;, or HttpHeaders method parameter to gain access to all request headers.\r\n\r\n\r\nMore info is available online [here][1] and [there][2].\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\r\n  [2]: http://docs.spring.io/spring/docs/3.2.8.RELEASE/javadoc-api/org/springframework/web/method/annotation/RequestHeaderMapMethodArgumentResolver.html","title":"springframework get all request headers","body":"<p>From the Javadocs: </p>\n\n<blockquote>\n  <p>@RequestHeader can be used on a Map, MultiValueMap, or HttpHeaders method parameter to gain access to all request headers.</p>\n</blockquote>\n\n<p>More info is available online <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"noreferrer\">here</a> and <a href=\"http://docs.spring.io/spring/docs/3.2.8.RELEASE/javadoc-api/org/springframework/web/method/annotation/RequestHeaderMapMethodArgumentResolver.html\" rel=\"noreferrer\">there</a>.</p>\n"},{"tags":[],"owner":{"account_id":18705020,"reputation":71,"user_id":13636383,"display_name":"psyopus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655401367,"creation_date":1655401367,"answer_id":72649892,"question_id":6863443,"body_markdown":"if you don&#39;t want to read doc:\r\n\r\n    mappingMethodName(@RequestHeader Map&lt;String, String&gt; headers) {\r\n        headers.forEach((key, value) -&gt; {\r\n            System.out.printf(&quot;Header &#39;%s&#39; = %s%n&quot;, key, value);\r\n        });\r\n    }","title":"springframework get all request headers","body":"<p>if you don't want to read doc:</p>\n<pre><code>mappingMethodName(@RequestHeader Map&lt;String, String&gt; headers) {\n    headers.forEach((key, value) -&gt; {\n        System.out.printf(&quot;Header '%s' = %s%n&quot;, key, value);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33898,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6863835,"answer_count":2,"score":31,"last_activity_date":1655401367,"creation_date":1311875656,"question_id":6863443,"body_markdown":"I know that spring3 has `@RequestHeader` to get a single request header in a controller. I&#39;m wondering if there is an easy way to get ALL the request headers? I&#39;m hoping for something like this:\r\n\r\n    @RequestMapping(value=&quot;/some/url&quot;,RequestMethod.GET)\r\n    public void endpoint(RequestParams params, BindingResult result, @RequestHeader MultiValueMap&lt;String,String&gt; headers, HttpServletRequest request, ModelMap model) {\r\n\r\n    }\r\n\r\nCurrently I&#39;m doing something like this:\r\n\r\n    MultiValueMap&lt;String,String&gt; headers = new HttpHeaders();\r\n    for (Enumeration names = request.getHeaderNames(); names.hasMoreElements();) {\r\n        String name = (String)names.nextElement();\r\n        for (Enumeration values = request.getHeaders(name); values.hasMoreElements();) {\r\n            String value = (String)values.nextElement();\r\n            headers.add(name,value);\r\n        }\r\n    }","title":"springframework get all request headers","body":"<p>I know that spring3 has <code>@RequestHeader</code> to get a single request header in a controller. I'm wondering if there is an easy way to get ALL the request headers? I'm hoping for something like this:</p>\n\n<pre><code>@RequestMapping(value=\"/some/url\",RequestMethod.GET)\npublic void endpoint(RequestParams params, BindingResult result, @RequestHeader MultiValueMap&lt;String,String&gt; headers, HttpServletRequest request, ModelMap model) {\n\n}\n</code></pre>\n\n<p>Currently I'm doing something like this:</p>\n\n<pre><code>MultiValueMap&lt;String,String&gt; headers = new HttpHeaders();\nfor (Enumeration names = request.getHeaderNames(); names.hasMoreElements();) {\n    String name = (String)names.nextElement();\n    for (Enumeration values = request.getHeaders(name); values.hasMoreElements();) {\n        String value = (String)values.nextElement();\n        headers.add(name,value);\n    }\n}\n</code></pre>\n"},{"tags":["java","with-statement","try-with-resources"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":2,"creation_date":1655384357,"post_id":72646247,"comment_id":128323094,"body_markdown":"You have code block inside `try (....) {` https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","body":"You have code block inside <code>try (....) {</code> <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":7,"creation_date":1655384468,"post_id":72646247,"comment_id":128323125,"body_markdown":"You&#39;re likely to do something like `try (YourClass x = new YourClass())` so I&#39;d say the constructor is the equivalent of the `__enter__` method.","body":"You&#39;re likely to do something like <code>try (YourClass x = new YourClass())</code> so I&#39;d say the constructor is the equivalent of the <code>__enter__</code> method."}],"answers":[{"tags":[],"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1655400916,"creation_date":1655385638,"answer_id":72646564,"question_id":72646247,"body_markdown":"The equivalent is basically whatever you are calling in the `try` to get an instance of your `AutoCloseable`. This could be a constructor like:\r\n\r\n    try (MyClass obj = new MyClass()) { …\r\n\r\nWhere the class having such a constructor looks like:\r\n\r\n```\r\npublic class MyClass implements AutoCloseable {\r\n    public MyClass() {\r\n        // do &quot;enter&quot; things...\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        // close resources\r\n    }\r\n}\r\n\r\n```\r\n\r\nDepending on what you need &quot;enter&quot; to do, you might instead prefer a static producer for your class, which would look like this:\r\n\r\n    try (MyClass obj = MyClass.getInstance(someProperties)) { …\r\n\r\nThen your class might look something like this:\r\n\r\n```\r\npublic class MyClass implements AutoCloseable {\r\n    private MyClass() {\r\n        // instantiate members\r\n    }\r\n\r\n    public static MyClass getInstance(Properties config) {\r\n        // you could implement a singleton pattern or something instead, for example\r\n        MyClass obj = new MyClass();\r\n        // read properties...\r\n        // do &quot;enter&quot; things...\r\n        return obj;\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        // close resources\r\n    }\r\n}\r\n```\r\n\r\nYou could even call a factory or builder pattern in the `try` to produce your `AutoCloseable`. It all depends on your design and what you need the instance to do on &quot;enter&quot;.","title":"Java try with resources and `AutoCloseable` interface","body":"<p>The equivalent is basically whatever you are calling in the <code>try</code> to get an instance of your <code>AutoCloseable</code>. This could be a constructor like:</p>\n<pre><code>try (MyClass obj = new MyClass()) { …\n</code></pre>\n<p>Where the class having such a constructor looks like:</p>\n<pre><code>public class MyClass implements AutoCloseable {\n    public MyClass() {\n        // do &quot;enter&quot; things...\n    }\n\n    @Override\n    public void close() {\n        // close resources\n    }\n}\n\n</code></pre>\n<p>Depending on what you need &quot;enter&quot; to do, you might instead prefer a static producer for your class, which would look like this:</p>\n<pre><code>try (MyClass obj = MyClass.getInstance(someProperties)) { …\n</code></pre>\n<p>Then your class might look something like this:</p>\n<pre><code>public class MyClass implements AutoCloseable {\n    private MyClass() {\n        // instantiate members\n    }\n\n    public static MyClass getInstance(Properties config) {\n        // you could implement a singleton pattern or something instead, for example\n        MyClass obj = new MyClass();\n        // read properties...\n        // do &quot;enter&quot; things...\n        return obj;\n    }\n\n    @Override\n    public void close() {\n        // close resources\n    }\n}\n</code></pre>\n<p>You could even call a factory or builder pattern in the <code>try</code> to produce your <code>AutoCloseable</code>. It all depends on your design and what you need the instance to do on &quot;enter&quot;.</p>\n"}],"owner":{"account_id":16009454,"reputation":719,"user_id":11554082,"display_name":"Dani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655400916,"creation_date":1655384241,"question_id":72646247,"body_markdown":"I am looking for a Java equivalent for python&#39;s `with` statement, and I read about implementing the `AutoCloseable` interface and using try with resources.\r\n\r\nIn python, the context manager (`with` statement) uses two methods: `__enter__` and `__exit__`, but in Java, the try with resources block uses only `close`, which is the equivalent of `__exit__`.\r\n\r\nIs there an equivalent for the `__enter__` method, in order to perform a certain method automatically when entering the try with resources block, and not only when the block is over?","title":"Java try with resources and `AutoCloseable` interface","body":"<p>I am looking for a Java equivalent for python's <code>with</code> statement, and I read about implementing the <code>AutoCloseable</code> interface and using try with resources.</p>\n<p>In python, the context manager (<code>with</code> statement) uses two methods: <code>__enter__</code> and <code>__exit__</code>, but in Java, the try with resources block uses only <code>close</code>, which is the equivalent of <code>__exit__</code>.</p>\n<p>Is there an equivalent for the <code>__enter__</code> method, in order to perform a certain method automatically when entering the try with resources block, and not only when the block is over?</p>\n"},{"tags":["java","date","match","group"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1655396079,"post_id":72648698,"comment_id":128327737,"body_markdown":"Regex can help you with regular expressions, but when the expressions become a lot and very different each other (like the ones you have here), it soon becomes hard to follow your regular expression. I&#39;d rather suggest you hold a collection of `SimpleDateFormatter`s, each with a different date pattern, and you loop through it when validating a date. It may be less efficient but it&#39;s definitely way more flexible and especially more understandable.","body":"Regex can help you with regular expressions, but when the expressions become a lot and very different each other (like the ones you have here), it soon becomes hard to follow your regular expression. I&#39;d rather suggest you hold a collection of <code>SimpleDateFormatter</code>s, each with a different date pattern, and you loop through it when validating a date. It may be less efficient but it&#39;s definitely way more flexible and especially more understandable."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1655396383,"post_id":72648698,"comment_id":128327844,"body_markdown":"By the way, the [*ISO 8601*](https://en.m.wikipedia.org/wiki/ISO_8601) standard defines sensible unambiguous date-time formats. I suggest educating the publisher of your data about adopting ISO 8601 to replace this hodgepodge of formats. For example a span of two months and a day would be `P2M1DT`. The tenth of June this year would be `2022-06-10`.","body":"By the way, the <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\"><i>ISO 8601</i></a> standard defines sensible unambiguous date-time formats. I suggest educating the publisher of your data about adopting ISO 8601 to replace this hodgepodge of formats. For example a span of two months and a day would be <code>P2M1DT</code>. The tenth of June this year would be <code>2022-06-10</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1655396463,"post_id":72648698,"comment_id":128327877,"body_markdown":"@MatteoNNZ Good suggestion, except that `SimpleDateFormat` class was years ago supplanted by the modern *java.time* classes, specifically `DateTimeFormatter`.","body":"@MatteoNNZ Good suggestion, except that <code>SimpleDateFormat</code> class was years ago supplanted by the modern <i>java.time</i> classes, specifically <code>DateTimeFormatter</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655396895,"post_id":72648698,"comment_id":128328024,"body_markdown":"`^(([0-9A-WYZa-wyz ]+)([xX|]([0-9A-WYZa-wyz ]+))?)|(\\d{4}-\\d{2}-\\d{2})$`?","body":"<code>^(([0-9A-WYZa-wyz ]+)([xX|]([0-9A-WYZa-wyz ]+))?)|(\\d{4}-\\d{2}-\\d{2})$</code>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1655397024,"post_id":72648698,"comment_id":128328059,"body_markdown":"I would recommend also basing the validation on the meaning of those strings since it will help the reader of your code understand. I take `2Mx1D` to be 2 months 1 day? What is `TEN`? Nothing to do with date and time? What is `ONE|TEN`?","body":"I would recommend also basing the validation on the meaning of those strings since it will help the reader of your code understand. I take <code>2Mx1D</code> to be 2 months 1 day? What is <code>TEN</code>? Nothing to do with date and time? What is <code>ONE|TEN</code>?"},{"owner":{"account_id":1668633,"reputation":53,"user_id":1535541,"display_name":"dilipyadav"},"score":0,"creation_date":1655398840,"post_id":72648698,"comment_id":128328663,"body_markdown":"they are just different string I am validating with the same regex","body":"they are just different string I am validating with the same regex"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1655414701,"post_id":72648698,"comment_id":128333597,"body_markdown":"@BasilBourque you&#39;re right, I always confuse the new one with the old one (until when I import it and realize it&#39;s the other one I wanted to import)","body":"@BasilBourque you&#39;re right, I always confuse the new one with the old one (until when I import it and realize it&#39;s the other one I wanted to import)"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655400805,"creation_date":1655400805,"answer_id":72649785,"question_id":72648698,"body_markdown":"When it comes to regex, don&#39;t try to get overly clever. Just solve the basic problem.  If that takes multiple regex patterns, so be it.  It&#39;s much easier to maintain and read.\r\n\r\nI would use this for the first regex: `[0-3]?\\d\\w{3}(1|2)\\d{3}`\r\nand this for the second regex: `(1|2)\\d{3}(-\\d{2}){2}`\r\nor combine them if you must: `([0-3]?\\d\\w{3}(1|2)\\d{3})|((1|2)\\d{3}(-\\d{2}){2})`","title":"Java regular expression is validating the date in ddMMMyyy but not validating yyyy-MM-dd","body":"<p>When it comes to regex, don't try to get overly clever. Just solve the basic problem.  If that takes multiple regex patterns, so be it.  It's much easier to maintain and read.</p>\n<p>I would use this for the first regex: <code>[0-3]?\\d\\w{3}(1|2)\\d{3}</code>\nand this for the second regex: <code>(1|2)\\d{3}(-\\d{2}){2}</code>\nor combine them if you must: <code>([0-3]?\\d\\w{3}(1|2)\\d{3})|((1|2)\\d{3}(-\\d{2}){2})</code></p>\n"}],"owner":{"account_id":1668633,"reputation":53,"user_id":1535541,"display_name":"dilipyadav"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1655438175,"answer_count":1,"score":-3,"last_activity_date":1655400805,"creation_date":1655395090,"question_id":72648698,"body_markdown":"I want to validate different kinds of strings which are of different format like\r\n`10JUN2022`, `2Mx1D`, `4M`, `1D`, `TEN`, `ONE|TEN` etc.. and I have written regular expression for that `&#39;&#39;&#39;^([0-9A-WYZa-wyz ]+)([xX|]([0-9A-WYZa-wyz ]+))?$&#39;&#39;&#39;` and it&#39;s working fine but I also need to validate one more  string `2022-06-10`, but the expression is failing.","title":"Java regular expression is validating the date in ddMMMyyy but not validating yyyy-MM-dd","body":"<p>I want to validate different kinds of strings which are of different format like\n<code>10JUN2022</code>, <code>2Mx1D</code>, <code>4M</code>, <code>1D</code>, <code>TEN</code>, <code>ONE|TEN</code> etc.. and I have written regular expression for that <code>'''^([0-9A-WYZa-wyz ]+)([xX|]([0-9A-WYZa-wyz ]+))?$'''</code> and it's working fine but I also need to validate one more  string <code>2022-06-10</code>, but the expression is failing.</p>\n"},{"tags":["javascript","java","base64","blob"],"comments":[{"owner":{"account_id":4999927,"reputation":952,"user_id":4019273,"display_name":"Cheshiremoe"},"score":2,"creation_date":1655409588,"post_id":72649736,"comment_id":128332099,"body_markdown":"Are you using any compression already?  Your app server might do it automatically or you can use a GzipOutputStream or something like it.    See this question: https://stackoverflow.com/questions/1862908/serve-gzipped-content-with-java-servlets","body":"Are you using any compression already?  Your app server might do it automatically or you can use a GzipOutputStream or something like it.    See this question: <a href=\"https://stackoverflow.com/questions/1862908/serve-gzipped-content-with-java-servlets\" title=\"serve gzipped content with java servlets\">stackoverflow.com/questions/1862908/&hellip;</a>"},{"owner":{"account_id":19974981,"reputation":146,"user_id":14639530,"display_name":"Codemaster"},"score":0,"creation_date":1655457137,"post_id":72649736,"comment_id":128342012,"body_markdown":"@KJ If base64 is not good, what approach should i use to achieve my goal ?","body":"@KJ If base64 is not good, what approach should i use to achieve my goal ?"},{"owner":{"account_id":19974981,"reputation":146,"user_id":14639530,"display_name":"Codemaster"},"score":0,"creation_date":1655457150,"post_id":72649736,"comment_id":128342015,"body_markdown":"@Cheshiremoe I am not using any compression. I have base64 data and i send the same to frontend but the payload is getting too large so i wanted to know if there is any alternate approach for this problem?","body":"@Cheshiremoe I am not using any compression. I have base64 data and i send the same to frontend but the payload is getting too large so i wanted to know if there is any alternate approach for this problem?"}],"owner":{"account_id":19974981,"reputation":146,"user_id":14639530,"display_name":"Codemaster"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655400550,"creation_date":1655400550,"question_id":72649736,"body_markdown":"Goal :- Send list of images and pdf from backend and display it in frontend.\r\n\r\nWhat I tried :- I have created a servlet which sends the images and pdf in base64 format to frontend and in frontend i am using the base64 images as inline images to display it to customers.\r\n\r\nIs there a better approach ? Because since base64 data is large the response payload is large. It seems this is slowing the website.\r\n\r\nIs converting the base64 data to Blob in backend and sending it to frontend a better approach?","title":"Is Blob better than base64 ? - JAVA","body":"<p>Goal :- Send list of images and pdf from backend and display it in frontend.</p>\n<p>What I tried :- I have created a servlet which sends the images and pdf in base64 format to frontend and in frontend i am using the base64 images as inline images to display it to customers.</p>\n<p>Is there a better approach ? Because since base64 data is large the response payload is large. It seems this is slowing the website.</p>\n<p>Is converting the base64 data to Blob in backend and sending it to frontend a better approach?</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1655389876,"post_id":72647357,"comment_id":128325197,"body_markdown":"Please add the code that constructs `obj_of_a` and the source code of the class `aDTO` from the client and server to your question. If there is a mismatch between the server and client version some attributes might not be parsed and thus set to null.","body":"Please add the code that constructs <code>obj_of_a</code> and the source code of the class <code>aDTO</code> from the client and server to your question. If there is a mismatch between the server and client version some attributes might not be parsed and thus set to null."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655400524,"creation_date":1655400524,"answer_id":72649730,"question_id":72647357,"body_markdown":"By default WebClient uses Jackson for JSON serialization. You need to decorate properties with `@JsonProperty` annotation\r\n\r\n```\r\npublic class B {\r\n        @JsonProperty(&quot;b1&quot;)\r\n        private String b1;\r\n\r\n        @JsonProperty(&quot;b2&quot;)\r\n        private String b2;\r\n\r\n        public B(String b1, String b2) {\r\n            this.b1 = b1;\r\n            this.b2 = b2;\r\n        }\r\n    }\r\n\r\n    public class Z {\r\n        @JsonProperty(&quot;a&quot;)\r\n        private String a;\r\n\r\n        @JsonProperty(&quot;b&quot;)\r\n        private B b;\r\n\r\n        public Z(String a, B b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n    }\r\n```\r\n\r\nHere is a simple test for it\r\n\r\n```\r\nB b = new B(&quot;valueB1&quot;, &quot;valueB2&quot;);\r\nZ z = new Z(&quot;valueA1&quot;, b);\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nString json = objectMapper.writeValueAsString(z);\r\n\r\nassertEquals(&quot;{\\&quot;a\\&quot;:\\&quot;valueA1\\&quot;,\\&quot;b\\&quot;:{\\&quot;b1\\&quot;:\\&quot;valueB1\\&quot;,\\&quot;b2\\&quot;:\\&quot;valueB2\\&quot;}}&quot;, json);\r\n```","title":"Dealing with multiple DTO&#39;s while making web client post request in spring Boot","body":"<p>By default WebClient uses Jackson for JSON serialization. You need to decorate properties with <code>@JsonProperty</code> annotation</p>\n<pre><code>public class B {\n        @JsonProperty(&quot;b1&quot;)\n        private String b1;\n\n        @JsonProperty(&quot;b2&quot;)\n        private String b2;\n\n        public B(String b1, String b2) {\n            this.b1 = b1;\n            this.b2 = b2;\n        }\n    }\n\n    public class Z {\n        @JsonProperty(&quot;a&quot;)\n        private String a;\n\n        @JsonProperty(&quot;b&quot;)\n        private B b;\n\n        public Z(String a, B b) {\n            this.a = a;\n            this.b = b;\n        }\n    }\n</code></pre>\n<p>Here is a simple test for it</p>\n<pre><code>B b = new B(&quot;valueB1&quot;, &quot;valueB2&quot;);\nZ z = new Z(&quot;valueA1&quot;, b);\n\nObjectMapper objectMapper = new ObjectMapper();\nString json = objectMapper.writeValueAsString(z);\n\nassertEquals(&quot;{\\&quot;a\\&quot;:\\&quot;valueA1\\&quot;,\\&quot;b\\&quot;:{\\&quot;b1\\&quot;:\\&quot;valueB1\\&quot;,\\&quot;b2\\&quot;:\\&quot;valueB2\\&quot;}}&quot;, json);\n</code></pre>\n"}],"owner":{"account_id":25572608,"reputation":1,"user_id":19352703,"display_name":"Saksham Behl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655400524,"creation_date":1655388975,"question_id":72647357,"body_markdown":"We have a body structure very similar to this :-\r\n\r\n{&#39;a&#39; : &#39;valueA1&#39;, &#39;b&#39; : {&#39;b1&#39; : &#39;valueB1&#39;, &#39;b2&#39; : &#39;valueB2&#39;}}\r\n\r\nNow, we have a DTO for b which has b1 and b2.\r\n\r\n&#39;&#39;&#39;\r\n\r\n    public class B {\r\n        private String b1;\r\n        private String b2;\r\n    }\r\n\r\n&#39;&#39;&#39;\r\nAnd similarly we have a DTO for the whole structure, which has values String a and bDTO.\r\n\r\n&#39;&#39;&#39;\r\n\r\n    public class Z {\r\n    private String a;\r\n    private B b;\r\n    }\r\n\r\n&#39;&#39;&#39;\r\nWe make their objects --\r\n\r\nB b = new B(&quot;valueB1&quot;, &quot;valueB2&quot;);\r\nZ z = new Z(&quot;valueA1&quot;, b);\r\n\r\nNow I want to make a webClient call using these DTOS.\r\nThe way I am trying is :-\r\n\r\n&#39;&#39;&#39;\r\n\r\n    client1.post()\r\n                        .uri(&quot;&quot;)\r\n                        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                        .body(Mono.just(z), Z.class)\r\n                        .retrieve().onStatus(HttpStatus::isError, response -&gt; response.bodyToMono(String.class).map(Exception::new))\r\n                        .bodyToMono(Map.class).block();\r\n\r\n&#39;&#39;&#39;\r\n\r\nWhen I send this request. The request received by the server is :-\r\n{&#39;a&#39; : &#39;valueA&#39;, &#39;b&#39; : null}\r\n\r\nPlease, Tell me a way to solve the problem\r\n\r\n","title":"Dealing with multiple DTO&#39;s while making web client post request in spring Boot","body":"<p>We have a body structure very similar to this :-</p>\n<p>{'a' : 'valueA1', 'b' : {'b1' : 'valueB1', 'b2' : 'valueB2'}}</p>\n<p>Now, we have a DTO for b which has b1 and b2.</p>\n<p>'''</p>\n<pre><code>public class B {\n    private String b1;\n    private String b2;\n}\n</code></pre>\n<p>'''\nAnd similarly we have a DTO for the whole structure, which has values String a and bDTO.</p>\n<p>'''</p>\n<pre><code>public class Z {\nprivate String a;\nprivate B b;\n}\n</code></pre>\n<p>'''\nWe make their objects --</p>\n<p>B b = new B(&quot;valueB1&quot;, &quot;valueB2&quot;);\nZ z = new Z(&quot;valueA1&quot;, b);</p>\n<p>Now I want to make a webClient call using these DTOS.\nThe way I am trying is :-</p>\n<p>'''</p>\n<pre><code>client1.post()\n                    .uri(&quot;&quot;)\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                    .body(Mono.just(z), Z.class)\n                    .retrieve().onStatus(HttpStatus::isError, response -&gt; response.bodyToMono(String.class).map(Exception::new))\n                    .bodyToMono(Map.class).block();\n</code></pre>\n<p>'''</p>\n<p>When I send this request. The request received by the server is :-\n{'a' : 'valueA', 'b' : null}</p>\n<p>Please, Tell me a way to solve the problem</p>\n"},{"tags":["java","eclipse","import","refactoring"],"comments":[{"owner":{"account_id":964362,"reputation":1617,"user_id":988078,"accept_rate":56,"display_name":"Vivek Bajpai"},"score":0,"creation_date":1357651709,"post_id":14215936,"comment_id":19715757,"body_markdown":"Dont u hv ever use project explorer and then select the project and go to source and it has an option organize import ctr+shift+o ?","body":"Dont u hv ever use project explorer and then select the project and go to source and it has an option organize import ctr+shift+o ?"},{"owner":{"account_id":71889,"reputation":10636,"user_id":207764,"accept_rate":83,"display_name":"Fredrik"},"score":0,"creation_date":1357656204,"post_id":14215936,"comment_id":19718291,"body_markdown":"Also remember that you can add this as an save action. Then this will be performed everytime you save a file. Search for &quot;save action&quot; in preferences.","body":"Also remember that you can add this as an save action. Then this will be performed everytime you save a file. Search for &quot;save action&quot; in preferences."},{"owner":{"account_id":1484409,"reputation":12963,"user_id":1392956,"accept_rate":62,"display_name":"Priyank Doshi"},"score":0,"creation_date":1357666589,"post_id":14215936,"comment_id":19724497,"body_markdown":"@Fredrik : yeah I am already using it as a save action.","body":"@Fredrik : yeah I am already using it as a save action."}],"answers":[{"tags":[],"owner":{"account_id":963692,"reputation":3156,"user_id":987519,"accept_rate":57,"display_name":"Waqas Ilyas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357651588,"creation_date":1357651588,"answer_id":14215978,"question_id":14215936,"body_markdown":"Right click your working set node, or all projects that you need and select Source-&gt;Organize Imports.\r\n\r\nShortcut is Ctrl+Shift+O, it is basically written in the menu so if you are using a different OS, you should be able to find it. It works on single files as well as project nodes in the Package Explorer","title":"Remove unused import from All projects in eclipse","body":"<p>Right click your working set node, or all projects that you need and select Source->Organize Imports.</p>\n\n<p>Shortcut is Ctrl+Shift+O, it is basically written in the menu so if you are using a different OS, you should be able to find it. It works on single files as well as project nodes in the Package Explorer</p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1424910551,"creation_date":1357651647,"answer_id":14215989,"question_id":14215936,"body_markdown":"Key combination `Ctrl+ Shift + O` - will trigger the `Organize Imports` that will remove and add missing imports.\r\n\r\nTo apply it on whole workspace you just have to select the project in the view `Package Explorer` and then use the key combination","title":"Remove unused import from All projects in eclipse","body":"<p>Key combination <code>Ctrl+ Shift + O</code> - will trigger the <code>Organize Imports</code> that will remove and add missing imports.</p>\n\n<p>To apply it on whole workspace you just have to select the project in the view <code>Package Explorer</code> and then use the key combination</p>\n"},{"tags":[],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357673824,"creation_date":1357673824,"answer_id":14222715,"question_id":14215936,"body_markdown":"As said, `Ctrl+ Shift + O` to do it manually or Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Save Actions -&gt; Organize Imports to have it organized automatically whenever you save a class.","title":"Remove unused import from All projects in eclipse","body":"<p>As said, <code>Ctrl+ Shift + O</code> to do it manually or Window -> Preferences -> Java -> Editor -> Save Actions -> Organize Imports to have it organized automatically whenever you save a class.</p>\n"},{"tags":[],"owner":{"account_id":6269858,"reputation":19,"user_id":4874410,"display_name":"SHUBHAM RUHELA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568026913,"creation_date":1568026913,"answer_id":57852692,"question_id":14215936,"body_markdown":"Eclipse Workspace -&gt; Java Resources -&gt; right click on (src/main/java) folder -&gt; Select Sorce from the menu -&gt; Now finally select Organize import &amp; you are done.","title":"Remove unused import from All projects in eclipse","body":"<p>Eclipse Workspace -> Java Resources -> right click on (src/main/java) folder -> Select Sorce from the menu -> Now finally select Organize import &amp; you are done.</p>\n"},{"tags":[],"owner":{"account_id":24786085,"reputation":1,"user_id":18669322,"display_name":"Kushagra Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655400524,"creation_date":1655400524,"answer_id":72649729,"question_id":14215936,"body_markdown":"For macOS , you can use --&gt;control+option+O combination.","title":"Remove unused import from All projects in eclipse","body":"<p>For macOS , you can use --&gt;control+option+O combination.</p>\n"}],"owner":{"account_id":1484409,"reputation":12963,"user_id":1392956,"accept_rate":62,"display_name":"Priyank Doshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21218,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":14215989,"answer_count":5,"score":16,"last_activity_date":1655400524,"creation_date":1357651436,"question_id":14215936,"body_markdown":"Is there a way , a shortcut or any setting which removes unused import from **all projects** ? **effectively from workspace?**\r\n\r\nI found following question  which states about removing from single file. [https://stackoverflow.com/questions/5686825/remove-unused-import-from-eclipse][1].\r\n\r\nBut I need from whole workspace?\r\n\r\nP.S.: Let me know if there are in any case ,a plug ins available for performing same.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5686825/remove-unused-import-from-eclipse","title":"Remove unused import from All projects in eclipse","body":"<p>Is there a way , a shortcut or any setting which removes unused import from <strong>all projects</strong> ? <strong>effectively from workspace?</strong></p>\n\n<p>I found following question  which states about removing from single file. <a href=\"https://stackoverflow.com/questions/5686825/remove-unused-import-from-eclipse\">How to remove unused imports from Eclipse</a>.</p>\n\n<p>But I need from whole workspace?</p>\n\n<p>P.S.: Let me know if there are in any case ,a plug ins available for performing same.</p>\n"},{"tags":["java","android","grpc"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655400368,"creation_date":1655400368,"answer_id":72649691,"question_id":72634812,"body_markdown":"The message is just informing the server the client cancelled. There&#39;s nothing more for the server to do other than clean up resources.\r\n\r\nThe cancellation may have been triggered because of an I/O failure. The TCP connection may have been dead and sending a message on the connection exposed the fact the TCP connection died (TCP can only reliably detect breakages by performing a write).","title":"GRPC android chat Cancelled before half close","body":"<p>The message is just informing the server the client cancelled. There's nothing more for the server to do other than clean up resources.</p>\n<p>The cancellation may have been triggered because of an I/O failure. The TCP connection may have been dead and sending a message on the connection exposed the fact the TCP connection died (TCP can only reliably detect breakages by performing a write).</p>\n"}],"owner":{"account_id":15673485,"reputation":1,"user_id":11309290,"display_name":"Davidflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655400368,"creation_date":1655310508,"question_id":72634812,"body_markdown":"I&#39;ve developed and android chatting app, through the gRPC protocol, problem is, after I send the first message to the server, the server propagates the message to the available clients but then it runs in to this Exception: **&quot;io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close&quot;** \r\n\r\nI&#39;ve scoured the web for a hint at what could be wrong or a fix but I&#39;ve got pretty much nothing useful.\r\n\r\nThis is my server class function that deals with the clients messages\r\n\r\n```@Override\r\n    public StreamObserver&lt;Messaging.Message&gt; sendReceiveMessage(StreamObserver&lt;Messaging.Message&gt; responseObserver) {\r\n        //  return super.sendReceiveMessage(responseObserver);\r\n        //While you are on the inside of the chat the bilateral stream will be a continue one\r\n\r\n        observers.add(responseObserver);\r\n\r\n        return new StreamObserver&lt;Messaging.Message&gt;() {\r\n            @Override\r\n            public void onNext(Messaging.Message message) {\r\n                //receiving data from client\r\n\r\n                System.out.println(String.format(&quot;Got a message from: &#39;%s&#39; : &#39;%s&#39;&quot;, message.getMessageOwnerId(), message.getMessage()));\r\n                observers.stream().forEach(o -&gt; {\r\n                    o.onNext(message);\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable throwable) {\r\n                 observers.remove(responseObserver);\r\n            }\r\n\r\n            @Override\r\n            public void onCompleted() {\r\n                observers.remove(responseObserver);\r\n            }\r\n\r\n        };\r\n    }\r\n```\r\n\r\n\r\nThis is the protobuff for the messages \r\n```\r\nservice MessagingService{\r\n\r\n    rpc GetMessagingHistory(MessageHistoryRequest) returns (stream Message);\r\n    rpc SendReceiveMessage(stream Message) returns (stream Message);\r\n\r\n}\r\nmessage MessageHistoryRequest{\r\n    int32 chat_id = 1;\r\n    int32 last_message_id = 2;\r\n}\r\nmessage Message{\r\n    int32 message_id = 1;\r\n    int32 chat_id = 2;\r\n    int32 message_owner_id = 3;\r\n    string message = 4;\r\n}\r\n\r\n```\r\n\r\nand lastly the client side code:\r\n```\r\nprivate int CHAT_ID;\r\n\r\n    private ImageView profilePicture;\r\n    private TextView name;\r\n    private Button sendButton;\r\n    private EditText messageEditText;\r\n    private RecyclerView chat;\r\n    private MessageAdapter msgAdapter;\r\n\r\n    private Vector&lt;Messaging.Message&gt; messages = new Vector&lt;&gt;();\r\n\r\n    private ManagedChannel channel;\r\n\r\n    private MessagingServiceGrpc.MessagingServiceStub stub;\r\n    private StreamObserver&lt;Messaging.Message&gt; toServer;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chat);\r\n\r\n        initViews();\r\n    }\r\n\r\n    private void createStub(){\r\n        channel = ManagedChannelBuilder.forAddress(&quot;10.0.2.2&quot;,8080)\r\n                .usePlaintext()\r\n                .build();\r\n\r\n        stub = MessagingServiceGrpc.newStub(channel);\r\n\r\n\r\n        toServer = stub.sendReceiveMessage(new StreamObserver&lt;Messaging.Message&gt;() {\r\n            @Override\r\n            public void onNext(Messaging.Message value) {\r\n\r\n                msgAdapter.receiveMessage(value);\r\n                Log.e(&quot;MYERROR&quot;,value.getMessageOwnerId() + &quot; : &quot; + value.getMessage() );\r\n                msgAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable t) {\r\n                //nothing\r\n\r\n                t.printStackTrace();\r\n            }\r\n\r\n            @Override\r\n            public void onCompleted() {\r\n                Log.e(&quot;Completed:&quot;,&quot;Why&quot;);\r\n            }\r\n        });\r\n    }\r\n    private void initViews(){\r\n        profilePicture = findViewById(R.id.profilePictureChatMenu);\r\n        name = findViewById(R.id.chatNameTextView);\r\n        Intent intent = getIntent();\r\n        CHAT_ID = intent.getIntExtra(&quot;ID&quot;,-1);\r\n        name.setText(intent.getStringExtra(&quot;NAME&quot;));\r\n        sendButton = findViewById(R.id.sendCommentButton);\r\n        messageEditText = findViewById(R.id.writingBarEditText);\r\n        chat = findViewById(R.id.chat);\r\n        chat.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n        msgAdapter = new MessageAdapter(getApplicationContext(),messages);\r\n        chat.setAdapter(msgAdapter);\r\n\r\n        createStub();\r\n\r\n        sendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Messaging.Message sentMessage = Messaging.Message.newBuilder()\r\n                        .setChatId(CHAT_ID)\r\n                        .setMessage(messageEditText.getText().toString())\r\n                        .setMessageOwnerId(ApplicationController.getAccount().getId())\r\n                        .build();\r\n                toServer.onNext(sentMessage);\r\n\r\n                messageEditText.setText(&quot;&quot;);\r\n                msgAdapter.receiveMessage(sentMessage);\r\n                msgAdapter.notifyDataSetChanged();\r\n\r\n            }\r\n        });\r\n       }\r\n```","title":"GRPC android chat Cancelled before half close","body":"<p>I've developed and android chatting app, through the gRPC protocol, problem is, after I send the first message to the server, the server propagates the message to the available clients but then it runs in to this Exception: <strong>&quot;io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close&quot;</strong></p>\n<p>I've scoured the web for a hint at what could be wrong or a fix but I've got pretty much nothing useful.</p>\n<p>This is my server class function that deals with the clients messages</p>\n<pre><code>    public StreamObserver&lt;Messaging.Message&gt; sendReceiveMessage(StreamObserver&lt;Messaging.Message&gt; responseObserver) {\n        //  return super.sendReceiveMessage(responseObserver);\n        //While you are on the inside of the chat the bilateral stream will be a continue one\n\n        observers.add(responseObserver);\n\n        return new StreamObserver&lt;Messaging.Message&gt;() {\n            @Override\n            public void onNext(Messaging.Message message) {\n                //receiving data from client\n\n                System.out.println(String.format(&quot;Got a message from: '%s' : '%s'&quot;, message.getMessageOwnerId(), message.getMessage()));\n                observers.stream().forEach(o -&gt; {\n                    o.onNext(message);\n                });\n            }\n\n            @Override\n            public void onError(Throwable throwable) {\n                 observers.remove(responseObserver);\n            }\n\n            @Override\n            public void onCompleted() {\n                observers.remove(responseObserver);\n            }\n\n        };\n    }\n</code></pre>\n<p>This is the protobuff for the messages</p>\n<pre><code>service MessagingService{\n\n    rpc GetMessagingHistory(MessageHistoryRequest) returns (stream Message);\n    rpc SendReceiveMessage(stream Message) returns (stream Message);\n\n}\nmessage MessageHistoryRequest{\n    int32 chat_id = 1;\n    int32 last_message_id = 2;\n}\nmessage Message{\n    int32 message_id = 1;\n    int32 chat_id = 2;\n    int32 message_owner_id = 3;\n    string message = 4;\n}\n\n</code></pre>\n<p>and lastly the client side code:</p>\n<pre><code>private int CHAT_ID;\n\n    private ImageView profilePicture;\n    private TextView name;\n    private Button sendButton;\n    private EditText messageEditText;\n    private RecyclerView chat;\n    private MessageAdapter msgAdapter;\n\n    private Vector&lt;Messaging.Message&gt; messages = new Vector&lt;&gt;();\n\n    private ManagedChannel channel;\n\n    private MessagingServiceGrpc.MessagingServiceStub stub;\n    private StreamObserver&lt;Messaging.Message&gt; toServer;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_chat);\n\n        initViews();\n    }\n\n    private void createStub(){\n        channel = ManagedChannelBuilder.forAddress(&quot;10.0.2.2&quot;,8080)\n                .usePlaintext()\n                .build();\n\n        stub = MessagingServiceGrpc.newStub(channel);\n\n\n        toServer = stub.sendReceiveMessage(new StreamObserver&lt;Messaging.Message&gt;() {\n            @Override\n            public void onNext(Messaging.Message value) {\n\n                msgAdapter.receiveMessage(value);\n                Log.e(&quot;MYERROR&quot;,value.getMessageOwnerId() + &quot; : &quot; + value.getMessage() );\n                msgAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                //nothing\n\n                t.printStackTrace();\n            }\n\n            @Override\n            public void onCompleted() {\n                Log.e(&quot;Completed:&quot;,&quot;Why&quot;);\n            }\n        });\n    }\n    private void initViews(){\n        profilePicture = findViewById(R.id.profilePictureChatMenu);\n        name = findViewById(R.id.chatNameTextView);\n        Intent intent = getIntent();\n        CHAT_ID = intent.getIntExtra(&quot;ID&quot;,-1);\n        name.setText(intent.getStringExtra(&quot;NAME&quot;));\n        sendButton = findViewById(R.id.sendCommentButton);\n        messageEditText = findViewById(R.id.writingBarEditText);\n        chat = findViewById(R.id.chat);\n        chat.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n        msgAdapter = new MessageAdapter(getApplicationContext(),messages);\n        chat.setAdapter(msgAdapter);\n\n        createStub();\n\n        sendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Messaging.Message sentMessage = Messaging.Message.newBuilder()\n                        .setChatId(CHAT_ID)\n                        .setMessage(messageEditText.getText().toString())\n                        .setMessageOwnerId(ApplicationController.getAccount().getId())\n                        .build();\n                toServer.onNext(sentMessage);\n\n                messageEditText.setText(&quot;&quot;);\n                msgAdapter.receiveMessage(sentMessage);\n                msgAdapter.notifyDataSetChanged();\n\n            }\n        });\n       }\n</code></pre>\n"},{"tags":["java","nlp","opennlp"],"answers":[{"tags":[],"owner":{"account_id":20867616,"reputation":13,"user_id":15328291,"display_name":"Jannik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645544602,"creation_date":1645544602,"answer_id":71224187,"question_id":69423783,"body_markdown":"You could try wrapping something like Huggingface Transformers into a library you can use from Java, but I can&#39;t help with that directly, since I am not a Java developer, but if you also consider web APIs, there are few, like Neuralfinity&#39;s Magic-Summary which provides a GraphQL endpoint to pass your text to and returns a summary. ","title":"Text Summariser NLP api for JAVA [ Summarising Big Text into small summary ]","body":"<p>You could try wrapping something like Huggingface Transformers into a library you can use from Java, but I can't help with that directly, since I am not a Java developer, but if you also consider web APIs, there are few, like Neuralfinity's Magic-Summary which provides a GraphQL endpoint to pass your text to and returns a summary.</p>\n"}],"owner":{"account_id":2872559,"reputation":79,"user_id":2465532,"display_name":"ss-ss-v1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655400312,"creation_date":1633255260,"question_id":69423783,"body_markdown":"Can we summarise the website content in 5 lines ? using NLP library in JAVA?\r\n\r\nI see apache libraries for open nlp but none of them talks about summarisation or conclusion of the big text in 5 lines or some set of lines ?\r\n\r\nI see more libraries as follow but will they provide text summarisation into small summary ?\r\n\r\n1|Apache OpenNLP\r\n\r\n2| Apache UIMA\r\n\r\n3| GATE Embedded\r\n \r\n\r\n4| LingPipe\r\n \r\n\r\n5| MALLET\r\n\r\n6| NLP4J\r\n \r\n\r\n7| Stanford CoreNLP","title":"Text Summariser NLP api for JAVA [ Summarising Big Text into small summary ]","body":"<p>Can we summarise the website content in 5 lines ? using NLP library in JAVA?</p>\n<p>I see apache libraries for open nlp but none of them talks about summarisation or conclusion of the big text in 5 lines or some set of lines ?</p>\n<p>I see more libraries as follow but will they provide text summarisation into small summary ?</p>\n<p>1|Apache OpenNLP</p>\n<p>2| Apache UIMA</p>\n<p>3| GATE Embedded</p>\n<p>4| LingPipe</p>\n<p>5| MALLET</p>\n<p>6| NLP4J</p>\n<p>7| Stanford CoreNLP</p>\n"},{"tags":["java","spring","hibernate","tomcat","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1655198963,"post_id":72604440,"comment_id":128269582,"body_markdown":"Without seeing your actual project, it&#39;s not really possible to say what a solution could look like. Is this all in a single project on disk? Are the JARs always present in `WEB-INF/lib`? Where is `WEB-INF/lib` in the file system relative to the root of your project? etc.","body":"Without seeing your actual project, it&#39;s not really possible to say what a solution could look like. Is this all in a single project on disk? Are the JARs always present in <code>WEB-INF&#47;lib</code>? Where is <code>WEB-INF&#47;lib</code> in the file system relative to the root of your project? etc."},{"owner":{"account_id":4200119,"reputation":174,"user_id":3440434,"accept_rate":75,"display_name":"Ganapathi Basimsetti"},"score":0,"creation_date":1655399953,"post_id":72604440,"comment_id":128328998,"body_markdown":"@SamBrannen Updated with project structure and additional info","body":"@SamBrannen Updated with project structure and additional info"}],"owner":{"account_id":4200119,"reputation":174,"user_id":3440434,"accept_rate":75,"display_name":"Ganapathi Basimsetti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655399917,"creation_date":1655130037,"question_id":72604440,"body_markdown":"We are trying to use spring-test&#39;s `SpringExtension` to write integration tests for our Spring and Hibernate-based Tomcat web application. Our `sessionFactory` bean configuration has the property configured `mappingJarLocations` with a sample value as `/WEB-INF/lib/company-common*.jar` which contains hibernate mapping files. In both actual deployment and Eclipse dev deployment, this works fine as the `docBasePath` (in Servlet environment) is appended to this pattern and the files are getting resolved. But this is not the case while running JUnit test cases either in a local or a CI environment.\r\n\r\nWe tried our best to use the provided support by having few overridden implementations of `WebTestContextBootstraper`, `GenricXmlWebContextLoader`, `XmlWebApplicationContext`, and `WebDelegatingSmartContextLoader` but had to finally give up as we cannot override the final method `org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(MergedContextConfiguration)` to provide the custom implementation of `XmlWebApplicationContext`. Our current approach is to manually create the application context and use it in the tests.\r\n\r\nHere is the project structure:\r\n\r\n    Project_WebApp\r\n    |--src/**\r\n    |--WebContent/**\r\n    |--pom.xml\r\n\r\n\r\nWhen the app is packaged as `Project_WebApp.war`, the dependencies are inside `WEB-INF/lib` from the root of extracted war. When deployed as a webapp in Tomcat using Eclipse, the dependencies are copied to `&lt;Eclipse_Workspace_Dir&gt;/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/Project_WebApp/WEB-INF/lib`. In both cases, the dependencies are available at `&lt;Resource_Base_Path&gt;/WEB-INF/lib` and `Resource_Base_Path` has no relation to `Project_WebApp` base directory.\r\n\r\nQuestions:\r\n\r\n - Did any one use SpringExtension in a scenario similar to above? If so can you suggest any alternative approaches?\r\n - Instead of `/WEB-INF/lib/company-common*.jar`, we tried a classpath-based pattern but didn&#39;t work as the obtained class path resources don&#39;t match the pattern. Is there anything else to try here?","title":"Using SpringExtension with Tomcat and Hibernate web app","body":"<p>We are trying to use spring-test's <code>SpringExtension</code> to write integration tests for our Spring and Hibernate-based Tomcat web application. Our <code>sessionFactory</code> bean configuration has the property configured <code>mappingJarLocations</code> with a sample value as <code>/WEB-INF/lib/company-common*.jar</code> which contains hibernate mapping files. In both actual deployment and Eclipse dev deployment, this works fine as the <code>docBasePath</code> (in Servlet environment) is appended to this pattern and the files are getting resolved. But this is not the case while running JUnit test cases either in a local or a CI environment.</p>\n<p>We tried our best to use the provided support by having few overridden implementations of <code>WebTestContextBootstraper</code>, <code>GenricXmlWebContextLoader</code>, <code>XmlWebApplicationContext</code>, and <code>WebDelegatingSmartContextLoader</code> but had to finally give up as we cannot override the final method <code>org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(MergedContextConfiguration)</code> to provide the custom implementation of <code>XmlWebApplicationContext</code>. Our current approach is to manually create the application context and use it in the tests.</p>\n<p>Here is the project structure:</p>\n<pre><code>Project_WebApp\n|--src/**\n|--WebContent/**\n|--pom.xml\n</code></pre>\n<p>When the app is packaged as <code>Project_WebApp.war</code>, the dependencies are inside <code>WEB-INF/lib</code> from the root of extracted war. When deployed as a webapp in Tomcat using Eclipse, the dependencies are copied to <code>&lt;Eclipse_Workspace_Dir&gt;/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/Project_WebApp/WEB-INF/lib</code>. In both cases, the dependencies are available at <code>&lt;Resource_Base_Path&gt;/WEB-INF/lib</code> and <code>Resource_Base_Path</code> has no relation to <code>Project_WebApp</code> base directory.</p>\n<p>Questions:</p>\n<ul>\n<li>Did any one use SpringExtension in a scenario similar to above? If so can you suggest any alternative approaches?</li>\n<li>Instead of <code>/WEB-INF/lib/company-common*.jar</code>, we tried a classpath-based pattern but didn't work as the obtained class path resources don't match the pattern. Is there anything else to try here?</li>\n</ul>\n"},{"tags":["java","spring-boot","elasticsearch","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":13053428,"reputation":11,"user_id":9433026,"display_name":"A P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655399747,"creation_date":1655399747,"answer_id":72649610,"question_id":72544554,"body_markdown":"I think I have found a solution. I changed the operation from doOnNext to flatMap as per this solution: https://stackoverflow.com/questions/71699924/spring-webflux-proper-way-to-find-and-save\r\n\r\n```java\r\npublic Mono&lt;OrderPostgres&gt; store(String orderId, Flux&lt;FilePart&gt; files) {\r\n        return marketService.findById(orderId)\r\n                .filter(Objects::nonNull)\r\n                .flatMapMany(order -&gt; {\r\n                    return files.ofType(FilePart.class)\r\n                            .flatMap(file -&gt; save(orderId, file))\r\n                            .collectList();\r\n                })\r\n                .flatMap(image -&gt; marketService.addImages(orderId, image))\r\n                .then(Mono.empty());\r\n    }\r\n\r\n    private Flux&lt;String&gt; save(String orderId, FilePart file) {\r\n        return file.content()\r\n                .log()\r\n                .flatMap(dataBuffer -&gt; {\r\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                    dataBuffer.read(bytes);\r\n                    String image = storeApi.upload(bytes, file.filename());\r\n                    DataBufferUtils.release(dataBuffer);\r\n                    return Flux.just(image);\r\n                }).switchIfEmpty(Flux.empty());\r\n    }\r\n\r\npublic Mono&lt;OrderPostgres&gt; addImages(String id, List&lt;String&gt; images){\r\n        log.info(&quot;### addImage: id={}, images={}&quot;, id, images);\r\n\r\n        Mono&lt;OrderPostgres&gt; byId = orderRepository.findById(id);\r\n        return byId\r\n                .flatMap(order -&gt; {\r\n                    if (order.getImages() == null) {\r\n                        order.setImages(new ArrayList&lt;&gt;());\r\n                    }\r\n                    order.getImages().addAll(images);\r\n                    return orderRepository.save(order);\r\n                }).then(Mono.empty());\r\n    }\r\n```\r\n","title":"Transfer file and store file id (elasticsearch) via webflux (spring-boot)","body":"<p>I think I have found a solution. I changed the operation from doOnNext to flatMap as per this solution: <a href=\"https://stackoverflow.com/questions/71699924/spring-webflux-proper-way-to-find-and-save\">Spring Webflux Proper Way To Find and Save</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;OrderPostgres&gt; store(String orderId, Flux&lt;FilePart&gt; files) {\n        return marketService.findById(orderId)\n                .filter(Objects::nonNull)\n                .flatMapMany(order -&gt; {\n                    return files.ofType(FilePart.class)\n                            .flatMap(file -&gt; save(orderId, file))\n                            .collectList();\n                })\n                .flatMap(image -&gt; marketService.addImages(orderId, image))\n                .then(Mono.empty());\n    }\n\n    private Flux&lt;String&gt; save(String orderId, FilePart file) {\n        return file.content()\n                .log()\n                .flatMap(dataBuffer -&gt; {\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                    dataBuffer.read(bytes);\n                    String image = storeApi.upload(bytes, file.filename());\n                    DataBufferUtils.release(dataBuffer);\n                    return Flux.just(image);\n                }).switchIfEmpty(Flux.empty());\n    }\n\npublic Mono&lt;OrderPostgres&gt; addImages(String id, List&lt;String&gt; images){\n        log.info(&quot;### addImage: id={}, images={}&quot;, id, images);\n\n        Mono&lt;OrderPostgres&gt; byId = orderRepository.findById(id);\n        return byId\n                .flatMap(order -&gt; {\n                    if (order.getImages() == null) {\n                        order.setImages(new ArrayList&lt;&gt;());\n                    }\n                    order.getImages().addAll(images);\n                    return orderRepository.save(order);\n                }).then(Mono.empty());\n    }\n</code></pre>\n"}],"owner":{"account_id":13053428,"reputation":11,"user_id":9433026,"display_name":"A P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72649610,"answer_count":1,"score":1,"last_activity_date":1655399747,"creation_date":1654686007,"question_id":72544554,"body_markdown":"I&#39;m trying to transfer files to a third party service via webflux and store the file ids in a elasticsearch. Files are transferred and saved, but the id is not attached to the entity.\r\n\r\ncontroller:\r\n```java\r\n@PostMapping(value = &quot;upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Flux&lt;String&gt; store(@RequestParam(required = false) String orderId, @RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; files){\r\n        return imageService.store(orderId, files);\r\n    }\r\n```\r\n\r\nservice:\r\n```java\r\n    public Flux&lt;String&gt; store(String orderId, Flux&lt;FilePart&gt; files) {\r\n        return marketService.findById(orderId)\r\n                .filter(Objects::nonNull)\r\n                .flatMapMany(order -&gt; {\r\n                    return files.ofType(FilePart.class).flatMap(file -&gt; save(orderId, file));\r\n                });\r\n    }\r\n\r\n    private Mono&lt;String&gt; save(String orderId, FilePart file) {\r\n        return file.content()\r\n                .flatMap(dataBuffer -&gt; {\r\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                    dataBuffer.read(bytes);\r\n                    String image = storeApi.upload(bytes, file.filename());\r\n                    DataBufferUtils.release(dataBuffer);\r\n                    return Mono.just(image);\r\n                })\r\n                .doOnNext(image -&gt; marketService.addImages(orderId, image))\r\n                .last();\r\n    }\r\n```\r\n\r\nmarketService.addImages:\r\n```java\r\n    public Mono&lt;Order&gt; addImages(String id, String image){\r\n        log.info(&quot;addImages: id={}, image={}&quot;, id, image);\r\n        return orderRepository\r\n                .findById(id)\r\n                .doOnNext(order -&gt; {\r\n                    if(order.getProduct().getImages() == null){\r\n                        order.getProduct().setImages(new ArrayList&lt;&gt;());\r\n                    }\r\n                    order.getProduct().getImages().add(image);\r\n                })\r\n                .flatMap(this::create);\r\n    }\r\n```\r\n\r\nThe code in the **doOnNext** and **flatMap** block in method (**addImages**) does not work. In doing so, calling the method (**addImages**) from the controller works fine. Tell me please what i&#39;m missing.","title":"Transfer file and store file id (elasticsearch) via webflux (spring-boot)","body":"<p>I'm trying to transfer files to a third party service via webflux and store the file ids in a elasticsearch. Files are transferred and saved, but the id is not attached to the entity.</p>\n<p>controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Flux&lt;String&gt; store(@RequestParam(required = false) String orderId, @RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; files){\n        return imageService.store(orderId, files);\n    }\n</code></pre>\n<p>service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Flux&lt;String&gt; store(String orderId, Flux&lt;FilePart&gt; files) {\n        return marketService.findById(orderId)\n                .filter(Objects::nonNull)\n                .flatMapMany(order -&gt; {\n                    return files.ofType(FilePart.class).flatMap(file -&gt; save(orderId, file));\n                });\n    }\n\n    private Mono&lt;String&gt; save(String orderId, FilePart file) {\n        return file.content()\n                .flatMap(dataBuffer -&gt; {\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                    dataBuffer.read(bytes);\n                    String image = storeApi.upload(bytes, file.filename());\n                    DataBufferUtils.release(dataBuffer);\n                    return Mono.just(image);\n                })\n                .doOnNext(image -&gt; marketService.addImages(orderId, image))\n                .last();\n    }\n</code></pre>\n<p>marketService.addImages:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;Order&gt; addImages(String id, String image){\n        log.info(&quot;addImages: id={}, image={}&quot;, id, image);\n        return orderRepository\n                .findById(id)\n                .doOnNext(order -&gt; {\n                    if(order.getProduct().getImages() == null){\n                        order.getProduct().setImages(new ArrayList&lt;&gt;());\n                    }\n                    order.getProduct().getImages().add(image);\n                })\n                .flatMap(this::create);\n    }\n</code></pre>\n<p>The code in the <strong>doOnNext</strong> and <strong>flatMap</strong> block in method (<strong>addImages</strong>) does not work. In doing so, calling the method (<strong>addImages</strong>) from the controller works fine. Tell me please what i'm missing.</p>\n"},{"tags":["java","google-maps","google-maps-api-3","javafx"],"comments":[{"owner":{"account_id":8112308,"reputation":197,"user_id":6111987,"display_name":"zbbz"},"score":1,"creation_date":1465258923,"post_id":37647933,"comment_id":62815473,"body_markdown":"@mipa I&#39;ve actually seen that, but given that it is not well documented and all, I was hoping for something a little better. Thank you though.","body":"@mipa I&#39;ve actually seen that, but given that it is not well documented and all, I was hoping for something a little better. Thank you though."},{"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"score":0,"creation_date":1594219883,"post_id":37647933,"comment_id":111051327,"body_markdown":"https://github.com/makbn/java_leaflet","body":"<a href=\"https://github.com/makbn/java_leaflet\" rel=\"nofollow noreferrer\">github.com/makbn/java_leaflet</a>"}],"answers":[{"tags":[],"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1465193517,"creation_date":1465193517,"answer_id":37650603,"question_id":37647933,"body_markdown":"**I am just asking that somebody please provide an example of some code that would simply load the map and pin a few locations on it.**\r\n\r\nOne of the ways you can do this is using a combination of HTML, Javascript and JavaFX. Create a google maps instance in html and javascript then call the URL in your JavaFX program using WebEngine class. [WebEngine](https://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html) loads Web pages, creates their document models, applies styles as necessary, and runs JavaScript on pages. After that you&#39;ll use WebView to display the google map content like:\r\n\r\n    final WebEngine webEngine = new WebEngine(getClass().getResource(&quot;googlemap.html&quot;).toString());\r\n    final WebView webView = new WebView(webEngine);\r\n\r\nHere&#39;s a [link with sample codes](http://fxexperience.com/2011/05/maps-in-javafx-2-0/) to get you started.\r\n","title":"How can I use the Google Maps APIs in a JavaFX Desktop Application?","body":"<p><strong>I am just asking that somebody please provide an example of some code that would simply load the map and pin a few locations on it.</strong></p>\n\n<p>One of the ways you can do this is using a combination of HTML, Javascript and JavaFX. Create a google maps instance in html and javascript then call the URL in your JavaFX program using WebEngine class. <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html\" rel=\"noreferrer\">WebEngine</a> loads Web pages, creates their document models, applies styles as necessary, and runs JavaScript on pages. After that you'll use WebView to display the google map content like:</p>\n\n<pre><code>final WebEngine webEngine = new WebEngine(getClass().getResource(\"googlemap.html\").toString());\nfinal WebView webView = new WebView(webEngine);\n</code></pre>\n\n<p>Here's a <a href=\"http://fxexperience.com/2011/05/maps-in-javafx-2-0/\" rel=\"noreferrer\">link with sample codes</a> to get you started.</p>\n"},{"tags":[],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1655399648,"creation_date":1566486012,"answer_id":57612219,"question_id":37647933,"body_markdown":"You could use some of the API&#39;s without a webview; just use the Google client libraries...\r\n\r\nAdd these dependencies:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.maps&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-maps-services&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd for example, using the Places API:\r\n\r\n\r\nAnd you can get this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nJust make sure you add your Google API key and enable billing... otherwise it won&#39;t let you do more than 1 poll a day. \r\n\r\n`private static final String API_KEY = add API KEY HERE;`\r\n\r\n\r\n**Main.java**\r\n\r\n\r\n    import com.google.maps.model.AddressComponentType;\r\n    import com.google.maps.model.PlaceDetails;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.Event;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import test.AutoCompleteAddressField.AddressPrediction;\r\n    \r\n    public class Main extends Application\r\n    {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage)\r\n        {\r\n    \r\n            AutoCompleteAddressField text = new AutoCompleteAddressField();\r\n    \r\n            TextField streetField = new TextField();\r\n            streetField.setPromptText(&quot;Street&quot;);\r\n    \r\n            TextField postalField = new TextField();\r\n            postalField.setPromptText(&quot;PostalCode&quot;);\r\n    \r\n            TextField cityField = new TextField();\r\n            cityField.setPromptText(&quot;City&quot;);\r\n    \r\n            TextField provinceField = new TextField();\r\n            provinceField.setPromptText(&quot;Province&quot;);\r\n    \r\n            TextField countryField = new TextField();\r\n            countryField.setPromptText(&quot;Country&quot;);\r\n    \r\n            Button clearButton = new Button(&quot;Clear&quot;);\r\n    \r\n            clearButton.setOnAction(e -&gt;\r\n            {\r\n                text.clear();\r\n                text.getEntries().clear();\r\n                streetField.clear();\r\n                postalField.clear();\r\n                cityField.clear();\r\n                provinceField.clear();\r\n                countryField.clear();\r\n    \r\n            });\r\n    \r\n            text.getEntryMenu().setOnAction((ActionEvent e) -&gt;\r\n            {\r\n                ((MenuItem) e.getTarget()).addEventHandler(Event.ANY, (Event event) -&gt;\r\n                {\r\n                    if (text.getLastSelectedObject() != null)\r\n                    {\r\n                        text.setText(text.getLastSelectedObject().toString());\r\n                        PlaceDetails place = AutoCompleteAddressField.getPlace((AddressPrediction) text.getLastSelectedObject());\r\n                        if (place != null)\r\n                        {\r\n                            streetField.setText(\r\n                                    StringUtils.join(\r\n                                            AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.STREET_NUMBER),\r\n                                            &quot; &quot;,\r\n                                            AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.ROUTE))\r\n                            );\r\n    \r\n                            postalField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.POSTAL_CODE));\r\n                            cityField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.LOCALITY));\r\n                            provinceField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.ADMINISTRATIVE_AREA_LEVEL_1));\r\n                            countryField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.COUNTRY));\r\n                        } else\r\n                        {\r\n                            streetField.clear();\r\n                            postalField.clear();\r\n                            cityField.clear();\r\n                            provinceField.clear();\r\n                            countryField.clear();\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n    \r\n            VBox root = new VBox();\r\n            root.getChildren().addAll(text, new Label(), streetField, postalField, provinceField, countryField, clearButton);\r\n    \r\n            Scene scene = new Scene(root, 300, 250);\r\n    \r\n            primaryStage.setTitle(&quot;Test Google Places API&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args)\r\n        {\r\n            launch(args);\r\n        }\r\n    \r\n    }\r\n\r\n**AutoCompleteAddressField.java**\r\n\r\n    import com.google.maps.GeoApiContext;\r\n    import com.google.maps.PlaceDetailsRequest;\r\n    import com.google.maps.PlacesApi;\r\n    import com.google.maps.QueryAutocompleteRequest;\r\n    import com.google.maps.errors.ApiException;\r\n    import com.google.maps.model.AddressComponent;\r\n    import com.google.maps.model.AddressComponentType;\r\n    import com.google.maps.model.AutocompletePrediction;\r\n    import com.google.maps.model.PlaceDetails;\r\n    import java.io.IOException;\r\n    import java.util.TreeSet;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javafx.application.Platform;\r\n    import javafx.beans.value.ObservableValue;\r\n    \r\n    public class AutoCompleteAddressField extends AutoCompleteTextField\r\n    {\r\n    \r\n        private static final String API_KEY = add API KEY HERE;\r\n    \r\n        public AutoCompleteAddressField()\r\n        {\r\n            super(new TreeSet&lt;&gt;((AddressPrediction o1, AddressPrediction o2) -&gt; o1.toString().compareTo(o2.toString())));\r\n    \r\n            textProperty().addListener((ObservableValue&lt;? extends String&gt; o, String oldValue, String newValue) -&gt;\r\n            {\r\n                if (newValue != null &amp;&amp; !newValue.isEmpty())\r\n                {\r\n                    new Thread(() -&gt;\r\n                    {\r\n                        AutocompletePrediction[] predictions = getPredictions(getText());\r\n    \r\n                        Platform.runLater(() -&gt;\r\n                        {\r\n                            getEntries().clear();\r\n                            for (AutocompletePrediction prediction : predictions)\r\n                            {\r\n                                getEntries().add(new AddressPrediction(prediction));\r\n                            }\r\n                        });\r\n                    }).start();\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        public class AddressPrediction\r\n        {\r\n    \r\n            private final AutocompletePrediction prediction;\r\n    \r\n            public AddressPrediction(AutocompletePrediction prediction)\r\n            {\r\n                this.prediction = prediction;\r\n            }\r\n    \r\n            @Override\r\n            public String toString()\r\n            {\r\n                return prediction.description;\r\n            }\r\n    \r\n            protected AutocompletePrediction getPrediction()\r\n            {\r\n                return this.prediction;\r\n            }\r\n    \r\n        }\r\n    \r\n        public static PlaceDetails getPlace(AddressPrediction prediction)\r\n        {\r\n            if (prediction != null &amp;&amp; prediction.getPrediction() != null &amp;&amp; !prediction.getPrediction().placeId.isEmpty())\r\n            {\r\n                PlaceDetailsRequest query = PlacesApi.placeDetails(new GeoApiContext.Builder().apiKey(API_KEY).build(), prediction.getPrediction().placeId);\r\n                return query.awaitIgnoreError();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static AutocompletePrediction[] getPredictions(String userInput)\r\n        {\r\n    \r\n            QueryAutocompleteRequest query = PlacesApi.queryAutocomplete(new GeoApiContext.Builder()\r\n                    .apiKey(API_KEY)\r\n                    .build(), userInput);\r\n            try\r\n            {\r\n                return query.await();\r\n            } catch (ApiException | InterruptedException | IOException ex)\r\n            {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            return new AutocompletePrediction[0];\r\n    \r\n        }\r\n    \r\n        public static String getComponentLongName(AddressComponent[] components, AddressComponentType type)\r\n        {\r\n    \r\n            for (AddressComponent component : components)\r\n            {\r\n                for (AddressComponentType types : component.types)\r\n                {\r\n                    if (types.equals(type))\r\n                    {\r\n                        return component.longName;\r\n                    }\r\n                }\r\n    \r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n**AutoCompleteTextField.java**\r\n\r\n       \r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.geometry.Side;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.CustomMenuItem;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.SortedSet;\r\n    import java.util.TreeSet;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.text.Text;\r\n    import javafx.scene.text.TextFlow;\r\n    \r\n    /**\r\n     * This class is a TextField which implements an &quot;autocomplete&quot; functionality,\r\n     * based on a supplied list of entries.&lt;p&gt;\r\n     *\r\n     * If the entered text matches a part of any of the supplied entries these are\r\n     * going to be displayed in a popup. Further the matching part of the entry is\r\n     * going to be displayed in a special style, defined by\r\n     * {@link #textOccurenceStyle textOccurenceStyle}. The maximum number of\r\n     * displayed entries in the popup is defined by\r\n     * {@link #maxEntries maxEntries}.&lt;br&gt;\r\n     * By default the pattern matching is not case-sensitive. This behaviour is\r\n     * defined by the {@link #caseSensitive caseSensitive}\r\n     * .&lt;p&gt;\r\n     *\r\n     * The AutoCompleteTextField also has a List of\r\n     * {@link #filteredEntries filteredEntries} that is equal to the search results\r\n     * if search results are not empty, or {@link #filteredEntries filteredEntries}\r\n     * is equal to {@link #entries entries} otherwise. If\r\n     * {@link #popupHidden popupHidden} is set to true no popup is going to be\r\n     * shown. This list can be used to bind all entries to another node (a ListView\r\n     * for example) in the following way:\r\n     * &lt;pre&gt;\r\n     * &lt;code&gt;\r\n     * AutoCompleteTextField auto = new AutoCompleteTextField(entries);\r\n     * auto.setPopupHidden(true);\r\n     * SimpleListProperty filteredEntries = new SimpleListProperty(auto.getFilteredEntries());\r\n     * listView.itemsProperty().bind(filteredEntries);\r\n     * &lt;/code&gt;\r\n     * &lt;/pre&gt;\r\n     *\r\n     * @author Caleb Brinkman\r\n     * @author Fabian Ochmann\r\n     * @param &lt;S&gt;\r\n     */\r\n    public class AutoCompleteTextField&lt;S&gt; extends TextField\r\n    {\r\n    \r\n        private final ObjectProperty&lt;S&gt; lastSelectedItem = new SimpleObjectProperty&lt;&gt;();\r\n    \r\n        /**\r\n         * The existing autocomplete entries.\r\n         */\r\n        private final SortedSet&lt;S&gt; entries;\r\n    \r\n        /**\r\n         * The set of filtered entries:&lt;br&gt;\r\n         * Equal to the search results if search results are not empty, equal to\r\n         * {@link #entries entries} otherwise.\r\n         */\r\n        private ObservableList&lt;S&gt; filteredEntries\r\n                = FXCollections.observableArrayList();\r\n    \r\n        /**\r\n         * The popup used to select an entry.\r\n         */\r\n        private ContextMenu entriesPopup;\r\n    \r\n        /**\r\n         * Indicates whether the search is case sensitive or not. &lt;br&gt;\r\n         * Default: false\r\n         */\r\n        private boolean caseSensitive = false;\r\n    \r\n        /**\r\n         * Indicates whether the Popup should be hidden or displayed. Use this if\r\n         * you want to filter an existing list/set (for example values of a\r\n         * {@link javafx.scene.control.ListView ListView}). Do this by binding\r\n         * {@link #getFilteredEntries() getFilteredEntries()} to the list/set.\r\n         */\r\n        private boolean popupHidden = false;\r\n    \r\n        /**\r\n         * The CSS style that should be applied on the parts in the popup that match\r\n         * the entered text. &lt;br&gt;\r\n         * Default: &quot;-fx-font-weight: bold; -fx-fill: red;&quot;\r\n         * &lt;p&gt;\r\n         * Note: This style is going to be applied on an\r\n         * {@link javafx.scene.text.Text Text} instance. See the &lt;i&gt;JavaFX CSS\r\n         * Reference Guide&lt;/i&gt; for available CSS Propeties.\r\n         */\r\n        private String textOccurenceStyle = &quot;-fx-font-weight: bold; &quot;\r\n              + &quot;-fx-fill: rgb(66,139,202);&quot;;\r\n    \r\n        /**\r\n         * The maximum Number of entries displayed in the popup.&lt;br&gt;\r\n         * Default: 10\r\n         */\r\n        private int maxEntries = 10;\r\n    \r\n        /**\r\n         * Construct a new AutoCompleteTextField.\r\n         *\r\n         * @param entrySet\r\n         */\r\n        public AutoCompleteTextField(SortedSet&lt;S&gt; entrySet)\r\n        {\r\n            super();\r\n            this.entries = (entrySet == null ? new TreeSet&lt;&gt;() : entrySet);\r\n            this.filteredEntries.addAll(entries);\r\n    \r\n            entriesPopup = new ContextMenu();\r\n    \r\n            textProperty().addListener((ObservableValue&lt;? extends String&gt; observableValue, String s, String s2) -&gt;\r\n            {\r\n    \r\n                if (getText() == null || getText().length() == 0)\r\n                {\r\n                    filteredEntries.clear();\r\n                    filteredEntries.addAll(entries);\r\n                    entriesPopup.hide();\r\n                } else\r\n                {\r\n                    LinkedList&lt;S&gt; searchResult = new LinkedList&lt;&gt;();\r\n                    //Check if the entered Text is part of some entry\r\n                    String text1 = getText();\r\n                    Pattern pattern;\r\n                    if (isCaseSensitive())\r\n                    {\r\n                        pattern = Pattern.compile(&quot;.*&quot; + text1 + &quot;.*&quot;);\r\n                    } else\r\n                    {\r\n                        pattern = Pattern.compile(&quot;.*&quot; + text1 + &quot;.*&quot;, Pattern.CASE_INSENSITIVE);\r\n                    }\r\n                    for (S entry : entries)\r\n                    {\r\n                        Matcher matcher = pattern.matcher(entry.toString());\r\n                        if (matcher.matches())\r\n                        {\r\n                            searchResult.add(entry);\r\n                        }\r\n                    }\r\n                    if (!entries.isEmpty())\r\n                    {\r\n                        filteredEntries.clear();\r\n                        filteredEntries.addAll(searchResult);\r\n                        //Only show popup if not in filter mode\r\n                        if (!isPopupHidden())\r\n                        {\r\n                            populatePopup(searchResult, text1);\r\n                            if (!entriesPopup.isShowing())\r\n                            {\r\n                                entriesPopup.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\r\n                            }\r\n                        }\r\n                    } else\r\n                    {\r\n                        entriesPopup.hide();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            focusedProperty().addListener((ObservableValue&lt;? extends Boolean&gt; observableValue, Boolean aBoolean, Boolean aBoolean2) -&gt;\r\n            {\r\n                entriesPopup.hide();\r\n            });\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Get the existing set of autocomplete entries.\r\n         *\r\n         * @return The existing autocomplete entries.\r\n         */\r\n        public SortedSet&lt;S&gt; getEntries()\r\n        {\r\n            return entries;\r\n        }\r\n    \r\n        /**\r\n         * Populate the entry set with the given search results. Display is limited\r\n         * to 10 entries, for performance.\r\n         *\r\n         * @param searchResult The set of matching strings.\r\n         */\r\n        private void populatePopup(List&lt;S&gt; searchResult, String text)\r\n        {\r\n            List&lt;CustomMenuItem&gt; menuItems = new LinkedList&lt;&gt;();\r\n            int count = Math.min(searchResult.size(), getMaxEntries());\r\n            for (int i = 0; i &lt; count; i++)\r\n            {\r\n                final String result = searchResult.get(i).toString();\r\n                final S itemObject = searchResult.get(i);\r\n                int occurence;\r\n    \r\n                if (isCaseSensitive())\r\n                {\r\n                    occurence = result.indexOf(text);\r\n                } else\r\n                {\r\n                    occurence = result.toLowerCase().indexOf(text.toLowerCase());\r\n                }\r\n                if (occurence &lt; 0)\r\n                {\r\n                    continue;\r\n                }\r\n                //Part before occurence (might be empty)\r\n                Text pre = new Text(result.substring(0, occurence));\r\n                //Part of (first) occurence\r\n                Text in = new Text(result.substring(occurence, occurence + text.length()));\r\n                in.setStyle(getTextOccurenceStyle());\r\n                //Part after occurence\r\n                Text post = new Text(result.substring(occurence + text.length(), result.length()));\r\n    \r\n                TextFlow entryFlow = new TextFlow(pre, in, post);\r\n    \r\n                CustomMenuItem item = new CustomMenuItem(entryFlow, true);\r\n                item.setOnAction((ActionEvent actionEvent) -&gt;\r\n                {\r\n                    lastSelectedItem.set(itemObject);\r\n                    entriesPopup.hide();\r\n                });\r\n                menuItems.add(item);\r\n            }\r\n            entriesPopup.getItems().clear();\r\n            entriesPopup.getItems().addAll(menuItems);\r\n    \r\n        }\r\n    \r\n        public S getLastSelectedObject()\r\n        {\r\n            return lastSelectedItem.get();\r\n        }\r\n    \r\n        public ContextMenu getEntryMenu()\r\n        {\r\n            return entriesPopup;\r\n        }\r\n    \r\n        public boolean isCaseSensitive()\r\n        {\r\n            return caseSensitive;\r\n        }\r\n    \r\n        public String getTextOccurenceStyle()\r\n        {\r\n            return textOccurenceStyle;\r\n        }\r\n    \r\n        public void setCaseSensitive(boolean caseSensitive)\r\n        {\r\n            this.caseSensitive = caseSensitive;\r\n        }\r\n    \r\n        public void setTextOccurenceStyle(String textOccurenceStyle)\r\n        {\r\n            this.textOccurenceStyle = textOccurenceStyle;\r\n        }\r\n    \r\n        public boolean isPopupHidden()\r\n        {\r\n            return popupHidden;\r\n        }\r\n    \r\n        public void setPopupHidden(boolean popupHidden)\r\n        {\r\n            this.popupHidden = popupHidden;\r\n        }\r\n    \r\n        public ObservableList&lt;S&gt; getFilteredEntries()\r\n        {\r\n            return filteredEntries;\r\n        }\r\n    \r\n        public int getMaxEntries()\r\n        {\r\n            return maxEntries;\r\n        }\r\n    \r\n        public void setMaxEntries(int maxEntries)\r\n        {\r\n            this.maxEntries = maxEntries;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iBKR8.png\r\n  [2]: https://i.stack.imgur.com/kE8RA.png\r\n  [3]: https://i.stack.imgur.com/BVgQ9.png","title":"How can I use the Google Maps APIs in a JavaFX Desktop Application?","body":"<p>You could use some of the API's without a webview; just use the Google client libraries...</p>\n<p>Add these dependencies:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.maps&lt;/groupId&gt;\n        &lt;artifactId&gt;google-maps-services&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And for example, using the Places API:</p>\n<p>And you can get this:</p>\n<p><a href=\"https://i.stack.imgur.com/kE8RA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kE8RA.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BVgQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVgQ9.png\" alt=\"enter image description here\" /></a></p>\n<p>Just make sure you add your Google API key and enable billing... otherwise it won't let you do more than 1 poll a day.</p>\n<p><code>private static final String API_KEY = add API KEY HERE;</code></p>\n<p><strong>Main.java</strong></p>\n<pre><code>import com.google.maps.model.AddressComponentType;\nimport com.google.maps.model.PlaceDetails;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.Event;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport org.apache.commons.lang3.StringUtils;\nimport test.AutoCompleteAddressField.AddressPrediction;\n\npublic class Main extends Application\n{\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n\n        AutoCompleteAddressField text = new AutoCompleteAddressField();\n\n        TextField streetField = new TextField();\n        streetField.setPromptText(&quot;Street&quot;);\n\n        TextField postalField = new TextField();\n        postalField.setPromptText(&quot;PostalCode&quot;);\n\n        TextField cityField = new TextField();\n        cityField.setPromptText(&quot;City&quot;);\n\n        TextField provinceField = new TextField();\n        provinceField.setPromptText(&quot;Province&quot;);\n\n        TextField countryField = new TextField();\n        countryField.setPromptText(&quot;Country&quot;);\n\n        Button clearButton = new Button(&quot;Clear&quot;);\n\n        clearButton.setOnAction(e -&gt;\n        {\n            text.clear();\n            text.getEntries().clear();\n            streetField.clear();\n            postalField.clear();\n            cityField.clear();\n            provinceField.clear();\n            countryField.clear();\n\n        });\n\n        text.getEntryMenu().setOnAction((ActionEvent e) -&gt;\n        {\n            ((MenuItem) e.getTarget()).addEventHandler(Event.ANY, (Event event) -&gt;\n            {\n                if (text.getLastSelectedObject() != null)\n                {\n                    text.setText(text.getLastSelectedObject().toString());\n                    PlaceDetails place = AutoCompleteAddressField.getPlace((AddressPrediction) text.getLastSelectedObject());\n                    if (place != null)\n                    {\n                        streetField.setText(\n                                StringUtils.join(\n                                        AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.STREET_NUMBER),\n                                        &quot; &quot;,\n                                        AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.ROUTE))\n                        );\n\n                        postalField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.POSTAL_CODE));\n                        cityField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.LOCALITY));\n                        provinceField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.ADMINISTRATIVE_AREA_LEVEL_1));\n                        countryField.setText(AutoCompleteAddressField.getComponentLongName(place.addressComponents, AddressComponentType.COUNTRY));\n                    } else\n                    {\n                        streetField.clear();\n                        postalField.clear();\n                        cityField.clear();\n                        provinceField.clear();\n                        countryField.clear();\n                    }\n                }\n            });\n        });\n\n        VBox root = new VBox();\n        root.getChildren().addAll(text, new Label(), streetField, postalField, provinceField, countryField, clearButton);\n\n        Scene scene = new Scene(root, 300, 250);\n\n        primaryStage.setTitle(&quot;Test Google Places API&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p><strong>AutoCompleteAddressField.java</strong></p>\n<pre><code>import com.google.maps.GeoApiContext;\nimport com.google.maps.PlaceDetailsRequest;\nimport com.google.maps.PlacesApi;\nimport com.google.maps.QueryAutocompleteRequest;\nimport com.google.maps.errors.ApiException;\nimport com.google.maps.model.AddressComponent;\nimport com.google.maps.model.AddressComponentType;\nimport com.google.maps.model.AutocompletePrediction;\nimport com.google.maps.model.PlaceDetails;\nimport java.io.IOException;\nimport java.util.TreeSet;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javafx.application.Platform;\nimport javafx.beans.value.ObservableValue;\n\npublic class AutoCompleteAddressField extends AutoCompleteTextField\n{\n\n    private static final String API_KEY = add API KEY HERE;\n\n    public AutoCompleteAddressField()\n    {\n        super(new TreeSet&lt;&gt;((AddressPrediction o1, AddressPrediction o2) -&gt; o1.toString().compareTo(o2.toString())));\n\n        textProperty().addListener((ObservableValue&lt;? extends String&gt; o, String oldValue, String newValue) -&gt;\n        {\n            if (newValue != null &amp;&amp; !newValue.isEmpty())\n            {\n                new Thread(() -&gt;\n                {\n                    AutocompletePrediction[] predictions = getPredictions(getText());\n\n                    Platform.runLater(() -&gt;\n                    {\n                        getEntries().clear();\n                        for (AutocompletePrediction prediction : predictions)\n                        {\n                            getEntries().add(new AddressPrediction(prediction));\n                        }\n                    });\n                }).start();\n\n            }\n        });\n    }\n\n    public class AddressPrediction\n    {\n\n        private final AutocompletePrediction prediction;\n\n        public AddressPrediction(AutocompletePrediction prediction)\n        {\n            this.prediction = prediction;\n        }\n\n        @Override\n        public String toString()\n        {\n            return prediction.description;\n        }\n\n        protected AutocompletePrediction getPrediction()\n        {\n            return this.prediction;\n        }\n\n    }\n\n    public static PlaceDetails getPlace(AddressPrediction prediction)\n    {\n        if (prediction != null &amp;&amp; prediction.getPrediction() != null &amp;&amp; !prediction.getPrediction().placeId.isEmpty())\n        {\n            PlaceDetailsRequest query = PlacesApi.placeDetails(new GeoApiContext.Builder().apiKey(API_KEY).build(), prediction.getPrediction().placeId);\n            return query.awaitIgnoreError();\n        }\n        return null;\n    }\n\n    public static AutocompletePrediction[] getPredictions(String userInput)\n    {\n\n        QueryAutocompleteRequest query = PlacesApi.queryAutocomplete(new GeoApiContext.Builder()\n                .apiKey(API_KEY)\n                .build(), userInput);\n        try\n        {\n            return query.await();\n        } catch (ApiException | InterruptedException | IOException ex)\n        {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        return new AutocompletePrediction[0];\n\n    }\n\n    public static String getComponentLongName(AddressComponent[] components, AddressComponentType type)\n    {\n\n        for (AddressComponent component : components)\n        {\n            for (AddressComponentType types : component.types)\n            {\n                if (types.equals(type))\n                {\n                    return component.longName;\n                }\n            }\n\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p><strong>AutoCompleteTextField.java</strong></p>\n<pre><code>import javafx.beans.value.ObservableValue;\nimport javafx.event.ActionEvent;\nimport javafx.geometry.Side;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.CustomMenuItem;\nimport javafx.scene.control.TextField;\n\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.SortedSet;\nimport java.util.TreeSet;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.text.Text;\nimport javafx.scene.text.TextFlow;\n\n/**\n * This class is a TextField which implements an &quot;autocomplete&quot; functionality,\n * based on a supplied list of entries.&lt;p&gt;\n *\n * If the entered text matches a part of any of the supplied entries these are\n * going to be displayed in a popup. Further the matching part of the entry is\n * going to be displayed in a special style, defined by\n * {@link #textOccurenceStyle textOccurenceStyle}. The maximum number of\n * displayed entries in the popup is defined by\n * {@link #maxEntries maxEntries}.&lt;br&gt;\n * By default the pattern matching is not case-sensitive. This behaviour is\n * defined by the {@link #caseSensitive caseSensitive}\n * .&lt;p&gt;\n *\n * The AutoCompleteTextField also has a List of\n * {@link #filteredEntries filteredEntries} that is equal to the search results\n * if search results are not empty, or {@link #filteredEntries filteredEntries}\n * is equal to {@link #entries entries} otherwise. If\n * {@link #popupHidden popupHidden} is set to true no popup is going to be\n * shown. This list can be used to bind all entries to another node (a ListView\n * for example) in the following way:\n * &lt;pre&gt;\n * &lt;code&gt;\n * AutoCompleteTextField auto = new AutoCompleteTextField(entries);\n * auto.setPopupHidden(true);\n * SimpleListProperty filteredEntries = new SimpleListProperty(auto.getFilteredEntries());\n * listView.itemsProperty().bind(filteredEntries);\n * &lt;/code&gt;\n * &lt;/pre&gt;\n *\n * @author Caleb Brinkman\n * @author Fabian Ochmann\n * @param &lt;S&gt;\n */\npublic class AutoCompleteTextField&lt;S&gt; extends TextField\n{\n\n    private final ObjectProperty&lt;S&gt; lastSelectedItem = new SimpleObjectProperty&lt;&gt;();\n\n    /**\n     * The existing autocomplete entries.\n     */\n    private final SortedSet&lt;S&gt; entries;\n\n    /**\n     * The set of filtered entries:&lt;br&gt;\n     * Equal to the search results if search results are not empty, equal to\n     * {@link #entries entries} otherwise.\n     */\n    private ObservableList&lt;S&gt; filteredEntries\n            = FXCollections.observableArrayList();\n\n    /**\n     * The popup used to select an entry.\n     */\n    private ContextMenu entriesPopup;\n\n    /**\n     * Indicates whether the search is case sensitive or not. &lt;br&gt;\n     * Default: false\n     */\n    private boolean caseSensitive = false;\n\n    /**\n     * Indicates whether the Popup should be hidden or displayed. Use this if\n     * you want to filter an existing list/set (for example values of a\n     * {@link javafx.scene.control.ListView ListView}). Do this by binding\n     * {@link #getFilteredEntries() getFilteredEntries()} to the list/set.\n     */\n    private boolean popupHidden = false;\n\n    /**\n     * The CSS style that should be applied on the parts in the popup that match\n     * the entered text. &lt;br&gt;\n     * Default: &quot;-fx-font-weight: bold; -fx-fill: red;&quot;\n     * &lt;p&gt;\n     * Note: This style is going to be applied on an\n     * {@link javafx.scene.text.Text Text} instance. See the &lt;i&gt;JavaFX CSS\n     * Reference Guide&lt;/i&gt; for available CSS Propeties.\n     */\n    private String textOccurenceStyle = &quot;-fx-font-weight: bold; &quot;\n          + &quot;-fx-fill: rgb(66,139,202);&quot;;\n\n    /**\n     * The maximum Number of entries displayed in the popup.&lt;br&gt;\n     * Default: 10\n     */\n    private int maxEntries = 10;\n\n    /**\n     * Construct a new AutoCompleteTextField.\n     *\n     * @param entrySet\n     */\n    public AutoCompleteTextField(SortedSet&lt;S&gt; entrySet)\n    {\n        super();\n        this.entries = (entrySet == null ? new TreeSet&lt;&gt;() : entrySet);\n        this.filteredEntries.addAll(entries);\n\n        entriesPopup = new ContextMenu();\n\n        textProperty().addListener((ObservableValue&lt;? extends String&gt; observableValue, String s, String s2) -&gt;\n        {\n\n            if (getText() == null || getText().length() == 0)\n            {\n                filteredEntries.clear();\n                filteredEntries.addAll(entries);\n                entriesPopup.hide();\n            } else\n            {\n                LinkedList&lt;S&gt; searchResult = new LinkedList&lt;&gt;();\n                //Check if the entered Text is part of some entry\n                String text1 = getText();\n                Pattern pattern;\n                if (isCaseSensitive())\n                {\n                    pattern = Pattern.compile(&quot;.*&quot; + text1 + &quot;.*&quot;);\n                } else\n                {\n                    pattern = Pattern.compile(&quot;.*&quot; + text1 + &quot;.*&quot;, Pattern.CASE_INSENSITIVE);\n                }\n                for (S entry : entries)\n                {\n                    Matcher matcher = pattern.matcher(entry.toString());\n                    if (matcher.matches())\n                    {\n                        searchResult.add(entry);\n                    }\n                }\n                if (!entries.isEmpty())\n                {\n                    filteredEntries.clear();\n                    filteredEntries.addAll(searchResult);\n                    //Only show popup if not in filter mode\n                    if (!isPopupHidden())\n                    {\n                        populatePopup(searchResult, text1);\n                        if (!entriesPopup.isShowing())\n                        {\n                            entriesPopup.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\n                        }\n                    }\n                } else\n                {\n                    entriesPopup.hide();\n                }\n            }\n        });\n\n        focusedProperty().addListener((ObservableValue&lt;? extends Boolean&gt; observableValue, Boolean aBoolean, Boolean aBoolean2) -&gt;\n        {\n            entriesPopup.hide();\n        });\n\n    }\n\n    /**\n     * Get the existing set of autocomplete entries.\n     *\n     * @return The existing autocomplete entries.\n     */\n    public SortedSet&lt;S&gt; getEntries()\n    {\n        return entries;\n    }\n\n    /**\n     * Populate the entry set with the given search results. Display is limited\n     * to 10 entries, for performance.\n     *\n     * @param searchResult The set of matching strings.\n     */\n    private void populatePopup(List&lt;S&gt; searchResult, String text)\n    {\n        List&lt;CustomMenuItem&gt; menuItems = new LinkedList&lt;&gt;();\n        int count = Math.min(searchResult.size(), getMaxEntries());\n        for (int i = 0; i &lt; count; i++)\n        {\n            final String result = searchResult.get(i).toString();\n            final S itemObject = searchResult.get(i);\n            int occurence;\n\n            if (isCaseSensitive())\n            {\n                occurence = result.indexOf(text);\n            } else\n            {\n                occurence = result.toLowerCase().indexOf(text.toLowerCase());\n            }\n            if (occurence &lt; 0)\n            {\n                continue;\n            }\n            //Part before occurence (might be empty)\n            Text pre = new Text(result.substring(0, occurence));\n            //Part of (first) occurence\n            Text in = new Text(result.substring(occurence, occurence + text.length()));\n            in.setStyle(getTextOccurenceStyle());\n            //Part after occurence\n            Text post = new Text(result.substring(occurence + text.length(), result.length()));\n\n            TextFlow entryFlow = new TextFlow(pre, in, post);\n\n            CustomMenuItem item = new CustomMenuItem(entryFlow, true);\n            item.setOnAction((ActionEvent actionEvent) -&gt;\n            {\n                lastSelectedItem.set(itemObject);\n                entriesPopup.hide();\n            });\n            menuItems.add(item);\n        }\n        entriesPopup.getItems().clear();\n        entriesPopup.getItems().addAll(menuItems);\n\n    }\n\n    public S getLastSelectedObject()\n    {\n        return lastSelectedItem.get();\n    }\n\n    public ContextMenu getEntryMenu()\n    {\n        return entriesPopup;\n    }\n\n    public boolean isCaseSensitive()\n    {\n        return caseSensitive;\n    }\n\n    public String getTextOccurenceStyle()\n    {\n        return textOccurenceStyle;\n    }\n\n    public void setCaseSensitive(boolean caseSensitive)\n    {\n        this.caseSensitive = caseSensitive;\n    }\n\n    public void setTextOccurenceStyle(String textOccurenceStyle)\n    {\n        this.textOccurenceStyle = textOccurenceStyle;\n    }\n\n    public boolean isPopupHidden()\n    {\n        return popupHidden;\n    }\n\n    public void setPopupHidden(boolean popupHidden)\n    {\n        this.popupHidden = popupHidden;\n    }\n\n    public ObservableList&lt;S&gt; getFilteredEntries()\n    {\n        return filteredEntries;\n    }\n\n    public int getMaxEntries()\n    {\n        return maxEntries;\n    }\n\n    public void setMaxEntries(int maxEntries)\n    {\n        this.maxEntries = maxEntries;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8112308,"reputation":197,"user_id":6111987,"display_name":"zbbz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17300,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":37650603,"answer_count":2,"score":12,"last_activity_date":1655399648,"creation_date":1465170887,"question_id":37647933,"body_markdown":"I would like to start working on a JavaFX desktop app that will work heavily (if all goes well) with the Google Maps APIs. I&#39;ve been having a more difficult time getting started than I thought I would, and at this point I am just asking that somebody please provide an example of some code that would simply load the map and pin a few locations on it. Any help at all would be so appreciated. The best I&#39;ve been able to do so far is just load maps.google.com in a WebView, which obviously did not involve the APIs at all and really serves me no purpose right now. ","title":"How can I use the Google Maps APIs in a JavaFX Desktop Application?","body":"<p>I would like to start working on a JavaFX desktop app that will work heavily (if all goes well) with the Google Maps APIs. I've been having a more difficult time getting started than I thought I would, and at this point I am just asking that somebody please provide an example of some code that would simply load the map and pin a few locations on it. Any help at all would be so appreciated. The best I've been able to do so far is just load maps.google.com in a WebView, which obviously did not involve the APIs at all and really serves me no purpose right now. </p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655398986,"creation_date":1484136753,"answer_id":41590670,"question_id":41590632,"body_markdown":"You just need include it in the list of method parameters:\r\n\r\n    public JsonCompany get(HttpServletRequest req, @RequestParam(&quot;name&quot;) String name)  {           \r\n           //omitted\r\n    }\r\n\r\nit will be automatically filled and you can use it in `get` method.\r\n\r\n**UPD** According to your last comment, if you need to extend the class `AbstractAppEngineAuthorizationCodeServlet` keeping its signature, then do this:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/company&quot;)\r\n    public class ConcreteCompanyController extends AbstractAppEngineAuthorizationCodeServlet {\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        @ResponseStatus(value = HttpStatus.OK)\r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n             String name = request.getParameter(&quot;name&quot;);\r\n            // omitted code\r\n       }\r\n    }\r\n\r\nIf it is not what you are looking for, then I do not understand what you need.","title":"How to combine HttpServletRequest + @RestController","body":"<p>You just need include it in the list of method parameters:</p>\n<pre><code>public JsonCompany get(HttpServletRequest req, @RequestParam(&quot;name&quot;) String name)  {           \n       //omitted\n}\n</code></pre>\n<p>it will be automatically filled and you can use it in <code>get</code> method.</p>\n<p><strong>UPD</strong> According to your last comment, if you need to extend the class <code>AbstractAppEngineAuthorizationCodeServlet</code> keeping its signature, then do this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/company&quot;)\npublic class ConcreteCompanyController extends AbstractAppEngineAuthorizationCodeServlet {\n\n    @RequestMapping(method = RequestMethod.GET)\n    @ResponseStatus(value = HttpStatus.OK)\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n         String name = request.getParameter(&quot;name&quot;);\n        // omitted code\n   }\n}\n</code></pre>\n<p>If it is not what you are looking for, then I do not understand what you need.</p>\n"}],"owner":{"account_id":390473,"reputation":2212,"user_id":750565,"accept_rate":69,"display_name":"why_vincent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655398986,"creation_date":1484136657,"question_id":41590632,"body_markdown":"I have developed my current Webapp in Java/Spring MVC. I have exposed my REST services by using the @RestController annotation on a class, looking something like this:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/company&quot;)\r\n    public class ConcreteCompanyController implements CompanyController {\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        @ResponseStatus(value = HttpStatus.OK)\r\n        @Override\r\n        public JsonCompany get(@RequestParam(&quot;name&quot;) String name) {\r\n           //omitted\r\n        }\r\n    \r\n    }\r\n\r\nI am also using Google libs that require me to write a class looking kind of like this(taken from googles sample):\r\n\r\n    public class CalendarAppEngineSample extends AbstractAppEngineAuthorizationCodeServlet {\r\n    \r\n      static final String APP_NAME = &quot;Google Calendar Data API Sample Web Client&quot;;\r\n    \r\n      static final String GWT_MODULE_NAME = &quot;calendar&quot;;\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      @Override\r\n      protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n          throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        PrintWriter writer = response.getWriter();\r\n        writer.println(&quot;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&quot;);\r\n        writer.println(&quot;&lt;meta http-equiv=\\&quot;content-type\\&quot; content=\\&quot;text/html; charset=UTF-8\\&quot;&gt;&quot;);\r\n        writer.println(&quot;&lt;title&gt;&quot; + APP_NAME + &quot;&lt;/title&gt;&quot;);\r\n        writer.println(\r\n            &quot;&lt;link type=\\&quot;text/css\\&quot; rel=\\&quot;stylesheet\\&quot; href=\\&quot;&quot; + GWT_MODULE_NAME + &quot;.css\\&quot;&gt;&quot;);\r\n        writer.println(&quot;&lt;script type=\\&quot;text/javascript\\&quot; language=\\&quot;javascript\\&quot; &quot; + &quot;src=\\&quot;&quot;\r\n            + GWT_MODULE_NAME + &quot;/&quot; + GWT_MODULE_NAME + &quot;.nocache.js\\&quot;&gt;&lt;/script&gt;&quot;);\r\n        writer.println(&quot;&lt;/head&gt;&lt;body&gt;&quot;);\r\n        UserService userService = UserServiceFactory.getUserService();\r\n        writer.println(&quot;&lt;div class=\\&quot;header\\&quot;&gt;&lt;b&gt;&quot; + request.getUserPrincipal().getName() + &quot;&lt;/b&gt; | &quot;\r\n            + &quot;&lt;a href=\\&quot;&quot; + userService.createLogoutURL(request.getRequestURL().toString())\r\n            + &quot;\\&quot;&gt;Log out&lt;/a&gt; | &quot;\r\n            + &quot;&lt;a href=\\&quot;http://code.google.com/p/google-api-java-client/source/browse&quot;\r\n            + &quot;/calendar-appengine-sample?repo=samples\\&quot;&gt;See source code for &quot;\r\n            + &quot;this sample&lt;/a&gt;&lt;/div&gt;&quot;);\r\n        writer.println(&quot;&lt;div id=\\&quot;main\\&quot;/&gt;&quot;);\r\n        writer.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n      }\r\n    \r\n      @Override\r\n      protected String getRedirectUri(HttpServletRequest req) throws ServletException, IOException {\r\n        return Utils.getRedirectUri(req);\r\n      }\r\n    \r\n      @Override\r\n      protected AuthorizationCodeFlow initializeFlow() throws IOException {\r\n        return Utils.newFlow();\r\n      }\r\n    }\r\n\r\nI don&#39;t know how to combine these so that both will be available as rest services. I guess I might have to do something in web.xml, but what? \r\n\r\n\r\nEdit:\r\n\r\nJust to clarify. I have several RestControllers in my project and I do not want to change them. I want to be able to add a file like the CalendarAppEngineSample and make sure that the doGet method is exposed as a rest service. ","title":"How to combine HttpServletRequest + @RestController","body":"<p>I have developed my current Webapp in Java/Spring MVC. I have exposed my REST services by using the @RestController annotation on a class, looking something like this:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/company\")\npublic class ConcreteCompanyController implements CompanyController {\n\n    @RequestMapping(method = RequestMethod.GET)\n    @ResponseStatus(value = HttpStatus.OK)\n    @Override\n    public JsonCompany get(@RequestParam(\"name\") String name) {\n       //omitted\n    }\n\n}\n</code></pre>\n\n<p>I am also using Google libs that require me to write a class looking kind of like this(taken from googles sample):</p>\n\n<pre><code>public class CalendarAppEngineSample extends AbstractAppEngineAuthorizationCodeServlet {\n\n  static final String APP_NAME = \"Google Calendar Data API Sample Web Client\";\n\n  static final String GWT_MODULE_NAME = \"calendar\";\n\n  private static final long serialVersionUID = 1L;\n\n  @Override\n  protected void doGet(HttpServletRequest request, HttpServletResponse response)\n      throws IOException {\n    response.setContentType(\"text/html\");\n    response.setCharacterEncoding(\"UTF-8\");\n    PrintWriter writer = response.getWriter();\n    writer.println(\"&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;\");\n    writer.println(\"&lt;meta http-equiv=\\\"content-type\\\" content=\\\"text/html; charset=UTF-8\\\"&gt;\");\n    writer.println(\"&lt;title&gt;\" + APP_NAME + \"&lt;/title&gt;\");\n    writer.println(\n        \"&lt;link type=\\\"text/css\\\" rel=\\\"stylesheet\\\" href=\\\"\" + GWT_MODULE_NAME + \".css\\\"&gt;\");\n    writer.println(\"&lt;script type=\\\"text/javascript\\\" language=\\\"javascript\\\" \" + \"src=\\\"\"\n        + GWT_MODULE_NAME + \"/\" + GWT_MODULE_NAME + \".nocache.js\\\"&gt;&lt;/script&gt;\");\n    writer.println(\"&lt;/head&gt;&lt;body&gt;\");\n    UserService userService = UserServiceFactory.getUserService();\n    writer.println(\"&lt;div class=\\\"header\\\"&gt;&lt;b&gt;\" + request.getUserPrincipal().getName() + \"&lt;/b&gt; | \"\n        + \"&lt;a href=\\\"\" + userService.createLogoutURL(request.getRequestURL().toString())\n        + \"\\\"&gt;Log out&lt;/a&gt; | \"\n        + \"&lt;a href=\\\"http://code.google.com/p/google-api-java-client/source/browse\"\n        + \"/calendar-appengine-sample?repo=samples\\\"&gt;See source code for \"\n        + \"this sample&lt;/a&gt;&lt;/div&gt;\");\n    writer.println(\"&lt;div id=\\\"main\\\"/&gt;\");\n    writer.println(\"&lt;/body&gt;&lt;/html&gt;\");\n  }\n\n  @Override\n  protected String getRedirectUri(HttpServletRequest req) throws ServletException, IOException {\n    return Utils.getRedirectUri(req);\n  }\n\n  @Override\n  protected AuthorizationCodeFlow initializeFlow() throws IOException {\n    return Utils.newFlow();\n  }\n}\n</code></pre>\n\n<p>I don't know how to combine these so that both will be available as rest services. I guess I might have to do something in web.xml, but what? </p>\n\n<p>Edit:</p>\n\n<p>Just to clarify. I have several RestControllers in my project and I do not want to change them. I want to be able to add a file like the CalendarAppEngineSample and make sure that the doGet method is exposed as a rest service. </p>\n"},{"tags":["java","soap","cxf","asmx"],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1655398933,"creation_date":1449164396,"question_id":34072674,"body_markdown":"We have implemeted a `SOAP` web service via `Apache CXF` (java). Now our client wants to get `ASMX` wrapper over its `WSDL`. Any ideas? ","title":"Generate ASMX wrapper over WSDL via apache cxf","body":"<p>We have implemeted a <code>SOAP</code> web service via <code>Apache CXF</code> (java). Now our client wants to get <code>ASMX</code> wrapper over its <code>WSDL</code>. Any ideas?</p>\n"},{"tags":["java","netbeans","netbeans-12","netbeans-13"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1647304173,"post_id":71470820,"comment_id":126333123,"body_markdown":"[1] What JDK was NetBeans using for releases 12.5, 12.6 and 13? [2] Since you are getting a `NoSuchMethodError` for method `rewind()` in `java.nio.MappedByteBuffer`, this article may be of interest: _&quot;[ByteBuffer and the Dreaded NoSuchMethodError](https://www.morling.dev/blog/bytebuffer-and-the-dreaded-nosuchmethoderror/)&quot;_. It states: _&quot;A NoSuchMethodError typically is an indication for a mismatch of the Java version used to compile some code, and the Java version used for running it: some method existed at compile time, but it’s not available at runtime...&quot;_","body":"[1] What JDK was NetBeans using for releases 12.5, 12.6 and 13? [2] Since you are getting a <code>NoSuchMethodError</code> for method <code>rewind()</code> in <code>java.nio.MappedByteBuffer</code>, this article may be of interest: <i>&quot;<a href=\"https://www.morling.dev/blog/bytebuffer-and-the-dreaded-nosuchmethoderror/\" rel=\"nofollow noreferrer\">ByteBuffer and the Dreaded NoSuchMethodError</a>&quot;</i>. It states: <i>&quot;A NoSuchMethodError typically is an indication for a mismatch of the Java version used to compile some code, and the Java version used for running it: some method existed at compile time, but it’s not available at runtime...&quot;</i>"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1647348979,"post_id":71470820,"comment_id":126344239,"body_markdown":"@skomisa Java8u212 for all versions","body":"@skomisa Java8u212 for all versions"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1647355031,"post_id":71470820,"comment_id":126346938,"body_markdown":"[1] Regardless of your specific problem, you [can&#39;t use JDK8 on NetBeans 13](https://netbeans.apache.org/download/nb13/nb13.html): _&quot;The Apache NetBeans 13 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17&quot;. I&#39;m surprised you can even start NetBeans 13 with JDK 8. [2] Is the stack trace in your question from running on NB 12.6 or NB 13? [3] On NB 13, run NetBeans using JDK 11 or 17. Then rebuild your project after changing this setting: {your project} &gt; Properties &gt; Sources &gt; Source/Binary Format: **JDK 8**. Does that resolve the issue?","body":"[1] Regardless of your specific problem, you <a href=\"https://netbeans.apache.org/download/nb13/nb13.html\" rel=\"nofollow noreferrer\">can&#39;t use JDK8 on NetBeans 13</a>: _&quot;The Apache NetBeans 13 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17&quot;. I&#39;m surprised you can even start NetBeans 13 with JDK 8. [2] Is the stack trace in your question from running on NB 12.6 or NB 13? [3] On NB 13, run NetBeans using JDK 11 or 17. Then rebuild your project after changing this setting: {your project} &gt; Properties &gt; Sources &gt; Source/Binary Format: <b>JDK 8</b>. Does that resolve the issue?"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1647364586,"post_id":71470820,"comment_id":126350793,"body_markdown":"I get the same error with 12.6 yes.","body":"I get the same error with 12.6 yes."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1647364620,"post_id":71470820,"comment_id":126350806,"body_markdown":"I don&#39;t have JDK 11 on my system currently","body":"I don&#39;t have JDK 11 on my system currently"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1647371852,"post_id":71470820,"comment_id":126353302,"body_markdown":"If you want to use NB13, you _must_ install either JDK 11 or JDK 17 on your system -  you have no choice. Once you do that, and NB13 is running under JDK 11 or JDK 17, see if the problem still occurs with your Java 8 project. If it does then rebuild it (as described in my earlier comment) to see if that resolves the issue. If the problem still persists, update your question with the new stack trace. (Ideally, you should have raised this issue as two separate questions; one for NB 12.6 and one for NB 13.0. I&#39;m just focusing on NB13.)","body":"If you want to use NB13, you <i>must</i> install either JDK 11 or JDK 17 on your system -  you have no choice. Once you do that, and NB13 is running under JDK 11 or JDK 17, see if the problem still occurs with your Java 8 project. If it does then rebuild it (as described in my earlier comment) to see if that resolves the issue. If the problem still persists, update your question with the new stack trace. (Ideally, you should have raised this issue as two separate questions; one for NB 12.6 and one for NB 13.0. I&#39;m just focusing on NB13.)"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1647374379,"post_id":71470820,"comment_id":126354088,"body_markdown":"Shouldn&#39;t 12.6 still work for 8 though? I bet if they fix 12.6 it will fix it for 13.","body":"Shouldn&#39;t 12.6 still work for 8 though? I bet if they fix 12.6 it will fix it for 13."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1647375919,"post_id":71470820,"comment_id":126354642,"body_markdown":"No, 12,.6 won&#39;t work with JDK 8. The [Deployment Platforms for NetBeans 12.6](https://netbeans.apache.org/download/nb126/nb126.html) states _&quot;The Apache NetBeans 12.6 binary releases **require JDK 11+**, and officially support running on JDK 11 and JDK 17.&quot;_ (emphasis mine). You first need to be running NetBeans with a supported  JDK release on both NB 12.6 and NB 13. Once that is done, update your question appropriately if the problem persists. (But if it does persist, first try the rebuild approach I described in an earlier comment.)","body":"No, 12,.6 won&#39;t work with JDK 8. The <a href=\"https://netbeans.apache.org/download/nb126/nb126.html\" rel=\"nofollow noreferrer\">Deployment Platforms for NetBeans 12.6</a> states <i>&quot;The Apache NetBeans 12.6 binary releases <b>require JDK 11+</b>, and officially support running on JDK 11 and JDK 17.&quot;</i> (emphasis mine). You first need to be running NetBeans with a supported  JDK release on both NB 12.6 and NB 13. Once that is done, update your question appropriately if the problem persists. (But if it does persist, first try the rebuild approach I described in an earlier comment.)"}],"answers":[{"tags":[],"owner":{"account_id":91099,"reputation":1163,"user_id":250343,"accept_rate":64,"display_name":"user250343"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651162530,"creation_date":1651162530,"answer_id":72047063,"question_id":71470820,"body_markdown":"I had the same problem. Could not solve it with the answers supplied in comments here. The solution is to review the file nbactions.xml, preferably going back to a copy from a new project. My one perhaps got slightly corrupted by switching between different Java platforms.","title":"Netbeans 12.6 and 13.0 SQL profiler no longer works for Java 8","body":"<p>I had the same problem. Could not solve it with the answers supplied in comments here. The solution is to review the file nbactions.xml, preferably going back to a copy from a new project. My one perhaps got slightly corrupted by switching between different Java platforms.</p>\n"},{"tags":[],"owner":{"account_id":1295105,"reputation":1763,"user_id":1246369,"accept_rate":50,"display_name":"Asu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652739316,"creation_date":1652739316,"answer_id":72266187,"question_id":71470820,"body_markdown":"In my case I have project written in Java 8 that is run in production with Java 8, and I used Netbeans 13 to profile it.\r\n\r\nTo run Netbeans 13, I have Java 17 on the machine.\r\nThe project is configured as Source/binary format: 1.8 in properties&gt;sources; and Java platform JDK 1.8 in properties&gt;build&gt;compile.\r\n\r\nI was getting the same error about `NoSuchMethodError` in `MappedByteBuffer.rewind()` until I changed properties&gt;build&gt;compile to JDK 17.\r\n\r\nI then was able to avoid this error.","title":"Netbeans 12.6 and 13.0 SQL profiler no longer works for Java 8","body":"<p>In my case I have project written in Java 8 that is run in production with Java 8, and I used Netbeans 13 to profile it.</p>\n<p>To run Netbeans 13, I have Java 17 on the machine.\nThe project is configured as Source/binary format: 1.8 in properties&gt;sources; and Java platform JDK 1.8 in properties&gt;build&gt;compile.</p>\n<p>I was getting the same error about <code>NoSuchMethodError</code> in <code>MappedByteBuffer.rewind()</code> until I changed properties&gt;build&gt;compile to JDK 17.</p>\n<p>I then was able to avoid this error.</p>\n"},{"tags":[],"owner":{"account_id":6400541,"reputation":327,"user_id":4963374,"display_name":"David Rochin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655397281,"creation_date":1655397281,"answer_id":72649135,"question_id":71470820,"body_markdown":"I was able to make it work by going to my `nbactions.xml` file and commenting out the `profile` action such as:\r\n\r\n```xml\r\n            ...\r\n            &lt;properties&gt;\r\n                &lt;exec.vmArgs&gt;&lt;/exec.vmArgs&gt;\r\n                &lt;exec.args&gt;${exec.vmArgs} -classpath %classpath ${exec.mainClass} ${exec.appArgs}&lt;/exec.args&gt;\r\n                &lt;exec.mainClass&gt;com.macnt.app.Aplicacion&lt;/exec.mainClass&gt;\r\n                &lt;exec.executable&gt;java&lt;/exec.executable&gt;\r\n                &lt;exec.appArgs&gt;&lt;/exec.appArgs&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/action&gt;\r\n\r\n        &lt;!-- Commented out this --&gt;\r\n        &lt;!--&lt;action&gt;\r\n            &lt;actionName&gt;profile&lt;/actionName&gt;\r\n            &lt;packagings&gt;\r\n                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;/packagings&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;process-classes&lt;/goal&gt;\r\n                &lt;goal&gt;org.codehaus.mojo:exec-maven-plugin:1.5.0:exec&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;properties&gt;\r\n                &lt;exec.args&gt;-classpath %classpath com.macnt.app.Aplicacion&lt;/exec.args&gt;\r\n                &lt;exec.executable&gt;java&lt;/exec.executable&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/action&gt;--&gt;\r\n\r\n    &lt;/actions&gt;\r\n```","title":"Netbeans 12.6 and 13.0 SQL profiler no longer works for Java 8","body":"<p>I was able to make it work by going to my <code>nbactions.xml</code> file and commenting out the <code>profile</code> action such as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            ...\n            &lt;properties&gt;\n                &lt;exec.vmArgs&gt;&lt;/exec.vmArgs&gt;\n                &lt;exec.args&gt;${exec.vmArgs} -classpath %classpath ${exec.mainClass} ${exec.appArgs}&lt;/exec.args&gt;\n                &lt;exec.mainClass&gt;com.macnt.app.Aplicacion&lt;/exec.mainClass&gt;\n                &lt;exec.executable&gt;java&lt;/exec.executable&gt;\n                &lt;exec.appArgs&gt;&lt;/exec.appArgs&gt;\n            &lt;/properties&gt;\n        &lt;/action&gt;\n\n        &lt;!-- Commented out this --&gt;\n        &lt;!--&lt;action&gt;\n            &lt;actionName&gt;profile&lt;/actionName&gt;\n            &lt;packagings&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n            &lt;/packagings&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;process-classes&lt;/goal&gt;\n                &lt;goal&gt;org.codehaus.mojo:exec-maven-plugin:1.5.0:exec&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;properties&gt;\n                &lt;exec.args&gt;-classpath %classpath com.macnt.app.Aplicacion&lt;/exec.args&gt;\n                &lt;exec.executable&gt;java&lt;/exec.executable&gt;\n            &lt;/properties&gt;\n        &lt;/action&gt;--&gt;\n\n    &lt;/actions&gt;\n</code></pre>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1655397281,"creation_date":1647274036,"question_id":71470820,"body_markdown":"I get this error stack when trying to SQL profile a Java 8 project which I don&#39;t get on 12.5 and below:\r\n\r\n    Profiler Agent: Established connection with the tool\r\n    Profiler Agent: Local accelerated session\r\n    Exception in thread &quot;*** Profiler Agent Communication Thread&quot; java.lang.NoSuchMethodError: java.nio.MappedByteBuffer.rewind()Ljava/nio/MappedByteBuffer;\r\n    \tat org.netbeans.lib.profiler.server.EventBufferManager.openBufferFile(EventBufferManager.java:144)\r\n    \tat org.netbeans.lib.profiler.server.ProfilerInterface.createEventBuffer(ProfilerInterface.java:682)\r\n    \tat org.netbeans.lib.profiler.server.ProfilerInterface.initiateProfiling(ProfilerInterface.java:615)\r\n    \tat org.netbeans.lib.profiler.server.ProfilerServer.handleClientCommand(ProfilerServer.java:1398)\r\n    \tat org.netbeans.lib.profiler.server.ProfilerServer.listenToClient(ProfilerServer.java:1753)\r\n    \tat org.netbeans.lib.profiler.server.ProfilerServer.run(ProfilerServer.java:676)","title":"Netbeans 12.6 and 13.0 SQL profiler no longer works for Java 8","body":"<p>I get this error stack when trying to SQL profile a Java 8 project which I don't get on 12.5 and below:</p>\n<pre><code>Profiler Agent: Established connection with the tool\nProfiler Agent: Local accelerated session\nException in thread &quot;*** Profiler Agent Communication Thread&quot; java.lang.NoSuchMethodError: java.nio.MappedByteBuffer.rewind()Ljava/nio/MappedByteBuffer;\n    at org.netbeans.lib.profiler.server.EventBufferManager.openBufferFile(EventBufferManager.java:144)\n    at org.netbeans.lib.profiler.server.ProfilerInterface.createEventBuffer(ProfilerInterface.java:682)\n    at org.netbeans.lib.profiler.server.ProfilerInterface.initiateProfiling(ProfilerInterface.java:615)\n    at org.netbeans.lib.profiler.server.ProfilerServer.handleClientCommand(ProfilerServer.java:1398)\n    at org.netbeans.lib.profiler.server.ProfilerServer.listenToClient(ProfilerServer.java:1753)\n    at org.netbeans.lib.profiler.server.ProfilerServer.run(ProfilerServer.java:676)\n</code></pre>\n"},{"tags":["java","spring-boot","jdbc","prepared-statement","teradata"],"comments":[{"owner":{"account_id":16486304,"reputation":681,"user_id":11911577,"display_name":"Hamidreza Khorammfar"},"score":1,"creation_date":1655063053,"post_id":72595271,"comment_id":128235949,"body_markdown":"what is your question? your question is completely  code.","body":"what is your question? your question is completely  code."},{"owner":{"account_id":3267339,"reputation":8505,"user_id":2751573,"accept_rate":52,"display_name":"Andrew"},"score":0,"creation_date":1655130000,"post_id":72595271,"comment_id":128251447,"body_markdown":"I don&#39;t know what a &quot;double&quot; timeout is, but do you expect your query to run in less than 1 second?","body":"I don&#39;t know what a &quot;double&quot; timeout is, but do you expect your query to run in less than 1 second?"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1655253050,"post_id":72595271,"comment_id":128287276,"body_markdown":"Can you elaborate on what &quot;double timeout&quot; is?","body":"Can you elaborate on what &quot;double timeout&quot; is?"}],"answers":[{"tags":[],"owner":{"account_id":16820485,"reputation":394,"user_id":12161087,"display_name":"Tom Nolan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655397275,"creation_date":1655397275,"answer_id":72649133,"question_id":72595271,"body_markdown":"Here is the error message text for Teradata JDBC Driver error 1475:\r\n\r\n&quot;The query timeout expired while the SQL request was being executed, so an Abort Request was sent to the Teradata Database. The query timeout expired a second time while waiting for a response from the Abort Request, so the connection was closed.&quot;\r\n\r\nYou have specified a very small query timeout value of 1 second. If you are getting this error 1475, then you should increase the query timeout value.","title":"Teradata JDBC double query timeout ErrorCode 1475 in inserting in audit table","body":"<p>Here is the error message text for Teradata JDBC Driver error 1475:</p>\n<p>&quot;The query timeout expired while the SQL request was being executed, so an Abort Request was sent to the Teradata Database. The query timeout expired a second time while waiting for a response from the Abort Request, so the connection was closed.&quot;</p>\n<p>You have specified a very small query timeout value of 1 second. If you are getting this error 1475, then you should increase the query timeout value.</p>\n"}],"owner":{"account_id":25539255,"reputation":19,"user_id":19325668,"display_name":"Ramy Elberry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1655397275,"creation_date":1655062091,"question_id":72595271,"body_markdown":"sometimes this prepared statment gives double query timeout\r\n\r\n\t\tString insertStatement = &quot;INSERT INTO &quot; + Constant.AUDIT_SCHEMA\r\n\t\t\t\t+ &quot;.&quot;+ Constant.AUDIT_TABLE +&quot; VALUES(1,&quot;\r\n\t\t\t\t\t\t+ &quot;:TRANSACTION_TIMESTAMP,&quot;\r\n\t\t\t\t\t\t+ &quot; :CORRELATION_ID,&quot;\r\n\t\t\t\t\t\t+ &quot; :ORIGINATING_CHANNEL,&quot;\r\n\t\t\t\t\t\t+ &quot;:CHANNEL_REQUEST_ID,&quot;\r\n\t\t\t\t\t\t+ &quot;:ORIGINATING_USER_TYPE,&quot;\r\n\t\t\t\t\t\t+ &quot;:ORIGINATING_USER_IDENTIFIER,&quot;\r\n\t\t\t\t\t\t+ &quot;:SERVICE_ID,&quot;\r\n\t\t\t\t\t\t+ &quot;:CLIENT_ID,&quot;\r\n\t\t\t\t\t\t+ &quot;:INPUT_PARAMETERS,&quot;\r\n\t\t\t\t\t\t+ &quot;:RESPONSE_CODE,&quot;\r\n\t\t\t\t\t\t+ &quot;:TRANSACTION_ID,&quot;\r\n\t\t\t\t\t\t+ &quot;:REMOTE_IP_ADDRESS,&quot;\r\n\t\t\t\t\t\t+ &quot;:LOCAL_IP_ADDRESS,&quot;\r\n\t\t\t\t\t\t+ &quot;:ROWS_COUNT,&quot;\r\n\t\t\t\t\t\t+ &quot;:RESPONSE_RESULTS,&quot;\r\n\t\t\t\t\t\t+ &quot;:SERVICE_SLUG,&quot;\r\n\t\t\t\t\t\t+ &quot;:SERVICE_ENTITY_ID)&quot;;\r\n\t\r\n\tSqlParameterSource namedParameters = new MapSqlParameterSource().addValues(hashMap);\r\n\t\t\tNamedParameterJdbcTemplate namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(jdbcTemplate);\r\n\t\t\tnamedParameterJdbcTemplate.execute(insertStatement, namedParameters,\r\n\t\t\t\t\tnew PreparedStatementCallback&lt;Boolean&gt;() {\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic Boolean doInPreparedStatement(PreparedStatement ps)\r\n\t\t\t\t\t\t\t\tthrows SQLException, DataAccessException {\r\n\t\t\t\t\t\t\tps.setQueryTimeout(1);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn ps.execute();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});","title":"Teradata JDBC double query timeout ErrorCode 1475 in inserting in audit table","body":"<p>sometimes this prepared statment gives double query timeout</p>\n<pre><code>    String insertStatement = &quot;INSERT INTO &quot; + Constant.AUDIT_SCHEMA\n            + &quot;.&quot;+ Constant.AUDIT_TABLE +&quot; VALUES(1,&quot;\n                    + &quot;:TRANSACTION_TIMESTAMP,&quot;\n                    + &quot; :CORRELATION_ID,&quot;\n                    + &quot; :ORIGINATING_CHANNEL,&quot;\n                    + &quot;:CHANNEL_REQUEST_ID,&quot;\n                    + &quot;:ORIGINATING_USER_TYPE,&quot;\n                    + &quot;:ORIGINATING_USER_IDENTIFIER,&quot;\n                    + &quot;:SERVICE_ID,&quot;\n                    + &quot;:CLIENT_ID,&quot;\n                    + &quot;:INPUT_PARAMETERS,&quot;\n                    + &quot;:RESPONSE_CODE,&quot;\n                    + &quot;:TRANSACTION_ID,&quot;\n                    + &quot;:REMOTE_IP_ADDRESS,&quot;\n                    + &quot;:LOCAL_IP_ADDRESS,&quot;\n                    + &quot;:ROWS_COUNT,&quot;\n                    + &quot;:RESPONSE_RESULTS,&quot;\n                    + &quot;:SERVICE_SLUG,&quot;\n                    + &quot;:SERVICE_ENTITY_ID)&quot;;\n\nSqlParameterSource namedParameters = new MapSqlParameterSource().addValues(hashMap);\n        NamedParameterJdbcTemplate namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(jdbcTemplate);\n        namedParameterJdbcTemplate.execute(insertStatement, namedParameters,\n                new PreparedStatementCallback&lt;Boolean&gt;() {\n\n                    @Override\n                    public Boolean doInPreparedStatement(PreparedStatement ps)\n                            throws SQLException, DataAccessException {\n                        ps.setQueryTimeout(1);\n                    \n                        return ps.execute();\n                    }\n                });\n</code></pre>\n"},{"tags":["java","android","barcode","barcode-scanner"],"comments":[{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1655356726,"post_id":72635453,"comment_id":128314359,"body_markdown":"You mention that you want the Scanner to work upon keystroke yet this seems to be an Android App. To which key (or button) do you want to bind the Scanner?","body":"You mention that you want the Scanner to work upon keystroke yet this seems to be an Android App. To which key (or button) do you want to bind the Scanner?"},{"owner":{"account_id":25560432,"reputation":1,"user_id":19343133,"display_name":"teck94"},"score":0,"creation_date":1655372340,"post_id":72635453,"comment_id":128318985,"body_markdown":"Yes it&#39;s an Android App that will run on scanning device (UROVO DT40). the work flow is: when I press the scanning button on the device, the result appears in the input.","body":"Yes it&#39;s an Android App that will run on scanning device (UROVO DT40). the work flow is: when I press the scanning button on the device, the result appears in the input."}],"answers":[{"tags":[],"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655396585,"creation_date":1655396585,"answer_id":72649012,"question_id":72635453,"body_markdown":"There are code samples on the [Urovo github page][1] for the Android SDK, specifically also one for the [Scanner][2]\r\n\r\nSteps 1 to 4 from from the ScannerManagerDemo.java javadoc describe how you have to setup the Scanner:\r\n\r\n&gt; * 1.Obtain an instance of BarCodeReader with ScanManager scan = new ScanManager().\r\n&gt; * 2.Call openScanner to power on the barcode reader. \r\n&gt; * 3.After that, the default output mode is TextBox Mode that send barcode data to the focused text box. User can check the output mode\r\n&gt; using getOutputMode and set the output mode using switchOutputMode.\r\n&gt; * 4.Then, the default trigger mode is manually trigger signal. User can check the trigger mode using getTriggerMode and set the trigger mode\r\n&gt; using setTriggerMode.\r\n\r\nfor full completeness, the extracted javacode:\r\n\r\n    private void initScan() {\r\n            mScanManager = new ScanManager();\r\n            boolean powerOn = mScanManager.getScannerState();\r\n            if (!powerOn) {\r\n                powerOn = mScanManager.openScanner();\r\n                if (!powerOn) {\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                    builder.setMessage(&quot;Scanner cannot be turned on!&quot;);\r\n                    builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n                    AlertDialog mAlertDialog = builder.create();\r\n                    mAlertDialog.show();\r\n                }\r\n            }\r\n            initBarcodeParameters();\r\n        }\r\n\r\nThat should give you enough to get cracking. Godspeed.\r\n\r\n  [1]: https://github.com/urovosamples\r\n  [2]: https://github.com/urovosamples/SDK_ReleaseforAndroid/blob/master/Samples/ScanManager/app/src/main/java/com/scan/demo/ScanManagerDemo.java","title":"how to make barcode work with device keys?","body":"<p>There are code samples on the <a href=\"https://github.com/urovosamples\" rel=\"nofollow noreferrer\">Urovo github page</a> for the Android SDK, specifically also one for the <a href=\"https://github.com/urovosamples/SDK_ReleaseforAndroid/blob/master/Samples/ScanManager/app/src/main/java/com/scan/demo/ScanManagerDemo.java\" rel=\"nofollow noreferrer\">Scanner</a></p>\n<p>Steps 1 to 4 from from the ScannerManagerDemo.java javadoc describe how you have to setup the Scanner:</p>\n<blockquote>\n<ul>\n<li>1.Obtain an instance of BarCodeReader with ScanManager scan = new ScanManager().</li>\n<li>2.Call openScanner to power on the barcode reader.</li>\n<li>3.After that, the default output mode is TextBox Mode that send barcode data to the focused text box. User can check the output mode\nusing getOutputMode and set the output mode using switchOutputMode.</li>\n<li>4.Then, the default trigger mode is manually trigger signal. User can check the trigger mode using getTriggerMode and set the trigger mode\nusing setTriggerMode.</li>\n</ul>\n</blockquote>\n<p>for full completeness, the extracted javacode:</p>\n<pre><code>private void initScan() {\n        mScanManager = new ScanManager();\n        boolean powerOn = mScanManager.getScannerState();\n        if (!powerOn) {\n            powerOn = mScanManager.openScanner();\n            if (!powerOn) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                builder.setMessage(&quot;Scanner cannot be turned on!&quot;);\n                builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                });\n                AlertDialog mAlertDialog = builder.create();\n                mAlertDialog.show();\n            }\n        }\n        initBarcodeParameters();\n    }\n</code></pre>\n<p>That should give you enough to get cracking. Godspeed.</p>\n"}],"owner":{"account_id":25560432,"reputation":1,"user_id":19343133,"display_name":"teck94"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655396585,"creation_date":1655313691,"question_id":72635453,"body_markdown":"I am trying to code an inventory app that can work on UROVO DT40 device. I don&#39;t know how to code the barcode scanner so that it will work on keystroke and send the result to edittext. I also want to save the data from the adapter and be able to read from a PC. I am still a rookie so I don&#39;t know if am doing it the right way. I need some help please. Thanks!!\r\n\r\nhere&#39;s some of the code\r\n\r\n\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    import com.google.android.material.textfield.TextInputEditText;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.Objects;\r\n\r\n    public class MainActivity extends AppCompatActivity {ArrayList&lt;String&gt; \r\n    listitems = new ArrayList&lt;&gt;();\r\n    ArrayAdapter&lt;String&gt; adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TextInputEditText input = findViewById(R.id.textInputEditText);\r\n        TextInputEditText input1 = findViewById(R.id.textInputEditText1);\r\n\r\n        ListView listview = findViewById(R.id.listView);\r\n\r\n        Button saveBtn = findViewById(R.id.saveBtn);\r\n        Button btn_annuler = findViewById(R.id.btn_annuler);\r\n        Button OK = findViewById(R.id.btn3);\r\n        Button btn2 = findViewById(R.id.btn2) ;\r\n\r\n        adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1,listitems);\r\n        listview.setAdapter(adapter);\r\n\r\n        input.setShowSoftInputOnFocus(false);\r\n        input1.setShowSoftInputOnFocus(false);\r\n\r\n        OK.setOnClickListener(v -&gt; {\r\n            listitems.add(Objects.requireNonNull(input.getText()).toString() + &#39;;&#39; + Objects.requireNonNull(input1.getText()).toString());\r\n            adapter.notifyDataSetChanged();\r\n            input.setText(&quot;&quot;);\r\n            input1.setText(&quot;&quot;);\r\n        });\r\n\r\n        btn_annuler.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                input.setText(&quot;&quot;);\r\n                input1.setText(&quot;&quot;);\r\n                            }\r\n        });\r\n\r\n        btn2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                adapter.clear();\r\n            }\r\n        });\r\n\r\n        saveBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(!adapter.toString().equals(&quot;&quot;))\r\n                {\r\n                    String data = adapter.toString();\r\n                    writeToFile(data);\r\n                    Toast.makeText(MainActivity.this, &quot;Vidage &#233;ffectu&#233;!&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n}\r\n\r\n    private void writeToFile(String data) {\r\n        try {\r\n            OutputStreamWriter outputStreamWriter = new OutputStreamWriter(openFileOutput(&quot;ficGloba.txt&quot;, Context.MODE_PRIVATE));\r\n            outputStreamWriter.write(data);\r\n            outputStreamWriter.close();\r\n        }\r\n\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}","title":"how to make barcode work with device keys?","body":"<p>I am trying to code an inventory app that can work on UROVO DT40 device. I don't know how to code the barcode scanner so that it will work on keystroke and send the result to edittext. I also want to save the data from the adapter and be able to read from a PC. I am still a rookie so I don't know if am doing it the right way. I need some help please. Thanks!!</p>\n<p>here's some of the code</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.Toast;\nimport com.google.android.material.textfield.TextInputEditText;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.util.ArrayList;\nimport java.util.Objects;\n\npublic class MainActivity extends AppCompatActivity {ArrayList&lt;String&gt; \nlistitems = new ArrayList&lt;&gt;();\nArrayAdapter&lt;String&gt; adapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    TextInputEditText input = findViewById(R.id.textInputEditText);\n    TextInputEditText input1 = findViewById(R.id.textInputEditText1);\n\n    ListView listview = findViewById(R.id.listView);\n\n    Button saveBtn = findViewById(R.id.saveBtn);\n    Button btn_annuler = findViewById(R.id.btn_annuler);\n    Button OK = findViewById(R.id.btn3);\n    Button btn2 = findViewById(R.id.btn2) ;\n\n    adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1,listitems);\n    listview.setAdapter(adapter);\n\n    input.setShowSoftInputOnFocus(false);\n    input1.setShowSoftInputOnFocus(false);\n\n    OK.setOnClickListener(v -&gt; {\n        listitems.add(Objects.requireNonNull(input.getText()).toString() + ';' + Objects.requireNonNull(input1.getText()).toString());\n        adapter.notifyDataSetChanged();\n        input.setText(&quot;&quot;);\n        input1.setText(&quot;&quot;);\n    });\n\n    btn_annuler.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            input.setText(&quot;&quot;);\n            input1.setText(&quot;&quot;);\n                        }\n    });\n\n    btn2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            adapter.clear();\n        }\n    });\n\n    saveBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if(!adapter.toString().equals(&quot;&quot;))\n            {\n                String data = adapter.toString();\n                writeToFile(data);\n                Toast.makeText(MainActivity.this, &quot;Vidage éffectué!&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n</code></pre>\n<p>}</p>\n<pre><code>private void writeToFile(String data) {\n    try {\n        OutputStreamWriter outputStreamWriter = new OutputStreamWriter(openFileOutput(&quot;ficGloba.txt&quot;, Context.MODE_PRIVATE));\n        outputStreamWriter.write(data);\n        outputStreamWriter.close();\n    }\n\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","multithreading","concurrency","synchronization","thread-safety"],"comments":[{"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"score":0,"creation_date":1655319177,"post_id":72636248,"comment_id":128307154,"body_markdown":"I think you can have a shallow copy of the old reference instead of replacing it.\nJust an idea !!","body":"I think you can have a shallow copy of the old reference instead of replacing it. Just an idea !!"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1655319874,"post_id":72636248,"comment_id":128307422,"body_markdown":"The way you described the solution is not quite consistent. You say that the update task is replacing the cache on a schedule, but the reader is checking and updating the cache too. That doesn&#39;t square up. If the update task is replacing the cache on a schedule, there&#39;s no need for a timestamp, and the reader should just use whatever cache content is present without a timestamp check.","body":"The way you described the solution is not quite consistent. You say that the update task is replacing the cache on a schedule, but the reader is checking and updating the cache too. That doesn&#39;t square up. If the update task is replacing the cache on a schedule, there&#39;s no need for a timestamp, and the reader should just use whatever cache content is present without a timestamp check."},{"owner":{"account_id":2474006,"reputation":65,"user_id":2155064,"display_name":"Nicky"},"score":1,"creation_date":1655384066,"post_id":72636248,"comment_id":128322995,"body_markdown":"@erickson Sorry, I should have explained. Having the lookup check the cache timestamp was originally a vestige of an earlier design, but I&#39;m intentionally leaving it in as a failsafe. In normal operation, the cache should only ever be refreshed by the automated task, but if that fails for some reason, we won&#39;t be serving a stale cache indefinitely.","body":"@erickson Sorry, I should have explained. Having the lookup check the cache timestamp was originally a vestige of an earlier design, but I&#39;m intentionally leaving it in as a failsafe. In normal operation, the cache should only ever be refreshed by the automated task, but if that fails for some reason, we won&#39;t be serving a stale cache indefinitely."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655396329,"creation_date":1655319384,"answer_id":72636549,"question_id":72636248,"body_markdown":"Yes, since one thread is writing data to be read by other threads, there are concurrency issues here.\r\n\r\nWhile writing and reading object references are atomic, in the sense that &quot;tearing&quot; is guaranteed not to occur (unlike `double` or `long` types), there is no guarantee that writes will ever be visible to other threads unless a memory barrier is used.\r\n\r\nIn this case, at a minimum, I would make the `AccountListCache` field in your lookup class `volatile`. This will ensure that any state of the cache modified before it is assigned to the field is visible to any thread that reads the field.\r\n\r\n---\r\n\r\n*Update:*\r\n\r\n&gt; &amp;hellip; I&#39;d like to understand both why it fails and how, because I suspect I&#39;m about to face trickier problems in the [near] future.\r\n\r\nThe authoritative answer to these questions is the [&lt;i&gt;Java Language Specification,&lt;/i&gt; &amp;sect;17.4][1] First, you should understand the concepts of &quot;synchronizes-with&quot; (&amp;sect;17.4.4) and &quot;happens-before.&quot; (&amp;sect;17.4.5) Then you can refer to the list of synchronization points and happens-before relationships to design concurrent interactions that behave correctly.\r\n\r\nIn your case, one thread (&quot;the writer&quot;) needs to to populate a list, then assign it to a field of another object, and have another thread (&quot;the reader&quot;) read that field and access the list. Using the happens-before relationships in &amp;sect;17.4.5, we can construct this (partial) chain (where &quot;hb(x, y)&quot; means that x happens-before y):\r\n\r\n* If x and y are actions **of the same thread** and x comes before y in program order, then hb(x, y).\r\n  * x&amp;mdash;the cache is initialized (writer)\r\n  * y&amp;mdash;the reference to the cache is written to a field (writer)\r\n* If x and y are actions **of the same thread** and x comes before y in program order, then hb(x, y).\r\n  * x&amp;mdash;the reference to the cache is read from a field (reader)\r\n  * y&amp;mdash;the content of the cache is accessed (reader)\r\n\r\nYou might think this is sufficient. But note the key words *&quot;of the same thread.&quot;* This permits operations to be re-ordered if they do not change the view of the world from *that thread.* In your case, perhaps the field referencing the cache might be assigned before fresh items are added to the new cache instance. That change wouldn&#39;t be visible inside the thread, but other threads could start reading the cache before it&#39;s populated.\r\n\r\nWhen you make the cache field `volatile`, you introduce a &quot;synchronizes-with&quot; relationship between the write and subsequent reads, because &quot;[a] write to a volatile variable v (&#167;8.3.1.4) synchronizes-with all subsequent reads of v by any thread.&quot;\r\n\r\nBy making the field volatile, we can add more steps to the chain:\r\n\r\n* If an action x synchronizes-with a following action y, then we also have hb(x, y).\r\n  * x&amp;mdash;the cache is assigned to the volatile field (writer)\r\n  * y&amp;mdash;the cache is read from the volatile field (reader)\r\n* If hb(x, y) and hb(y, z), then hb(x, z).\r\n  * x&amp;mdash;the cache is initialized (writer)\r\n  * y&amp;mdash;the cache is assigned (writer)\r\n  * z&amp;mdash;the cache is read (reader)\r\n\r\nTherefore, we have proved that the cache is initialized by the writer before it is read by the reader. Without the synchronizes-with relationship, that happens-before relationship is missing.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4","title":"Is replacing one java object reference with another considered thread safe, or are there potential synchronicity issues I&#39;m overlooking?","body":"<p>Yes, since one thread is writing data to be read by other threads, there are concurrency issues here.</p>\n<p>While writing and reading object references are atomic, in the sense that &quot;tearing&quot; is guaranteed not to occur (unlike <code>double</code> or <code>long</code> types), there is no guarantee that writes will ever be visible to other threads unless a memory barrier is used.</p>\n<p>In this case, at a minimum, I would make the <code>AccountListCache</code> field in your lookup class <code>volatile</code>. This will ensure that any state of the cache modified before it is assigned to the field is visible to any thread that reads the field.</p>\n<hr />\n<p><em>Update:</em></p>\n<blockquote>\n<p>… I'd like to understand both why it fails and how, because I suspect I'm about to face trickier problems in the [near] future.</p>\n</blockquote>\n<p>The authoritative answer to these questions is the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\"><i>Java Language Specification,</i> §17.4</a> First, you should understand the concepts of &quot;synchronizes-with&quot; (§17.4.4) and &quot;happens-before.&quot; (§17.4.5) Then you can refer to the list of synchronization points and happens-before relationships to design concurrent interactions that behave correctly.</p>\n<p>In your case, one thread (&quot;the writer&quot;) needs to to populate a list, then assign it to a field of another object, and have another thread (&quot;the reader&quot;) read that field and access the list. Using the happens-before relationships in §17.4.5, we can construct this (partial) chain (where &quot;hb(x, y)&quot; means that x happens-before y):</p>\n<ul>\n<li>If x and y are actions <strong>of the same thread</strong> and x comes before y in program order, then hb(x, y).\n<ul>\n<li>x—the cache is initialized (writer)</li>\n<li>y—the reference to the cache is written to a field (writer)</li>\n</ul>\n</li>\n<li>If x and y are actions <strong>of the same thread</strong> and x comes before y in program order, then hb(x, y).\n<ul>\n<li>x—the reference to the cache is read from a field (reader)</li>\n<li>y—the content of the cache is accessed (reader)</li>\n</ul>\n</li>\n</ul>\n<p>You might think this is sufficient. But note the key words <em>&quot;of the same thread.&quot;</em> This permits operations to be re-ordered if they do not change the view of the world from <em>that thread.</em> In your case, perhaps the field referencing the cache might be assigned before fresh items are added to the new cache instance. That change wouldn't be visible inside the thread, but other threads could start reading the cache before it's populated.</p>\n<p>When you make the cache field <code>volatile</code>, you introduce a &quot;synchronizes-with&quot; relationship between the write and subsequent reads, because &quot;[a] write to a volatile variable v (§8.3.1.4) synchronizes-with all subsequent reads of v by any thread.&quot;</p>\n<p>By making the field volatile, we can add more steps to the chain:</p>\n<ul>\n<li>If an action x synchronizes-with a following action y, then we also have hb(x, y).\n<ul>\n<li>x—the cache is assigned to the volatile field (writer)</li>\n<li>y—the cache is read from the volatile field (reader)</li>\n</ul>\n</li>\n<li>If hb(x, y) and hb(y, z), then hb(x, z).\n<ul>\n<li>x—the cache is initialized (writer)</li>\n<li>y—the cache is assigned (writer)</li>\n<li>z—the cache is read (reader)</li>\n</ul>\n</li>\n</ul>\n<p>Therefore, we have proved that the cache is initialized by the writer before it is read by the reader. Without the synchronizes-with relationship, that happens-before relationship is missing.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655390309,"creation_date":1655331103,"answer_id":72638387,"question_id":72636248,"body_markdown":"The [Answer by erickson][1] is correct. \r\n\r\nAs an alternative to `volatile`, I prefer using [`AtomicReference`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html) for two reasons:\r\n\r\n - Many programmers do not fully understand `volatile`, both in general and specifically because it’s meaning changed when the Java Memory Model was revised.\r\n - The `AtomicReference` really screams out to the human readers that we have a concurrency issue to manage.\r\n\r\nExample of the atomic reference. Notice the `final` to guarantee that we have one and only one `AtomicReference` instance.\r\n\r\n    final AtomicReference &lt; AccountListCache &gt; cacheRef = new AtomicReference&lt;&gt;( … ) ;\r\n\r\nI would use a [record][2] to hold your current cache value, a timestamp with a list. A record’s member field references are immutable (has getters but no setters). \r\n\r\n    record AccountListCache ( Instant whenFetched , List&lt; Account &gt; ) {}\r\n\r\nUse `List.copyOf` to get an unmodifiable list. \r\n\r\nYou could add a constructor to the record for data validation. You could check that the passed instant is before now. And you could make sure the list is not empty (if that’s intolerable). And you could put the passed list through `List.copyOf` to ensure it is not modifiable (`copyOf` is a virtual no-op if already unmodifiable).\r\n\r\nUse a `ScheduledExecutorService` to repeatedly replace the record reference in the `AtomicReference` with a reference to a new fresh instance of the `AccountListCache` record class. \r\n\r\nAny code using the cache can verify how fresh or stale it may be. \r\n\r\n    Duration ageOfCache = \r\n        Duration.between ( \r\n            cacheRef.get().whenFetched() , \r\n            Instant.now() \r\n        ) \r\n    ;\r\n\r\nOr make that a method on the record.\r\n\r\n    record AccountListCache ( Instant whenFetched , List&lt; Account &gt; ) \r\n    {\r\n        Duration age () { return Duration.between ( this.whenFetched , Instant.now() ) } \r\n    }\r\n\r\nUsage:\r\n\r\n```java\r\nDuration ageOfCache = cacheRef.get().age() ;\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72636549/642706\r\n  [2]: http://openjdk.java.net/jeps/395","title":"Is replacing one java object reference with another considered thread safe, or are there potential synchronicity issues I&#39;m overlooking?","body":"<p>The <a href=\"https://stackoverflow.com/a/72636549/642706\">Answer by erickson</a> is correct.</p>\n<p>As an alternative to <code>volatile</code>, I prefer using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> for two reasons:</p>\n<ul>\n<li>Many programmers do not fully understand <code>volatile</code>, both in general and specifically because it’s meaning changed when the Java Memory Model was revised.</li>\n<li>The <code>AtomicReference</code> really screams out to the human readers that we have a concurrency issue to manage.</li>\n</ul>\n<p>Example of the atomic reference. Notice the <code>final</code> to guarantee that we have one and only one <code>AtomicReference</code> instance.</p>\n<pre><code>final AtomicReference &lt; AccountListCache &gt; cacheRef = new AtomicReference&lt;&gt;( … ) ;\n</code></pre>\n<p>I would use a <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a> to hold your current cache value, a timestamp with a list. A record’s member field references are immutable (has getters but no setters).</p>\n<pre><code>record AccountListCache ( Instant whenFetched , List&lt; Account &gt; ) {}\n</code></pre>\n<p>Use <code>List.copyOf</code> to get an unmodifiable list.</p>\n<p>You could add a constructor to the record for data validation. You could check that the passed instant is before now. And you could make sure the list is not empty (if that’s intolerable). And you could put the passed list through <code>List.copyOf</code> to ensure it is not modifiable (<code>copyOf</code> is a virtual no-op if already unmodifiable).</p>\n<p>Use a <code>ScheduledExecutorService</code> to repeatedly replace the record reference in the <code>AtomicReference</code> with a reference to a new fresh instance of the <code>AccountListCache</code> record class.</p>\n<p>Any code using the cache can verify how fresh or stale it may be.</p>\n<pre><code>Duration ageOfCache = \n    Duration.between ( \n        cacheRef.get().whenFetched() , \n        Instant.now() \n    ) \n;\n</code></pre>\n<p>Or make that a method on the record.</p>\n<pre><code>record AccountListCache ( Instant whenFetched , List&lt; Account &gt; ) \n{\n    Duration age () { return Duration.between ( this.whenFetched , Instant.now() ) } \n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration ageOfCache = cacheRef.get().age() ;\n</code></pre>\n"}],"owner":{"account_id":2474006,"reputation":65,"user_id":2155064,"display_name":"Nicky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72636549,"answer_count":2,"score":3,"last_activity_date":1655396329,"creation_date":1655317789,"question_id":72636248,"body_markdown":"I&#39;m rolling my own simple caching solution to improve the UX of a lengthy lookup. The basic outline is that I have a class handling all accountId lookups, and another class called AccountListCache with two variables: a timestamp indicating when it was created, and a List object containing a whole bunch of accountId objects. When the lookup is invoked, that class will first check if its cache object has a timestamp from within the past X minutes. If so, it serves the cached results, and if not it refreshes the cache and serves the new list. \r\n\r\nMy plan is to have a scheduled task that regularly refreshes the cache by creating a new instance of the AccountListCache, populating its list/timestamp, and then re-assigning the variable in the lookup class. My boss brought up concerns about thread safety, but I&#39;m thinking this should be thread safe already.\r\n\r\nThe old list and the new list are separate objects contained within separate instances of the same class, and the actual update call that matters would just be changing where the reference is pointing in memory. That should be an effectively instantaneous/atomic operation, right? \r\n\r\nIf it&#39;s not thread safe, what does a failure/conflict look like, and how might I resolve it? ","title":"Is replacing one java object reference with another considered thread safe, or are there potential synchronicity issues I&#39;m overlooking?","body":"<p>I'm rolling my own simple caching solution to improve the UX of a lengthy lookup. The basic outline is that I have a class handling all accountId lookups, and another class called AccountListCache with two variables: a timestamp indicating when it was created, and a List object containing a whole bunch of accountId objects. When the lookup is invoked, that class will first check if its cache object has a timestamp from within the past X minutes. If so, it serves the cached results, and if not it refreshes the cache and serves the new list.</p>\n<p>My plan is to have a scheduled task that regularly refreshes the cache by creating a new instance of the AccountListCache, populating its list/timestamp, and then re-assigning the variable in the lookup class. My boss brought up concerns about thread safety, but I'm thinking this should be thread safe already.</p>\n<p>The old list and the new list are separate objects contained within separate instances of the same class, and the actual update call that matters would just be changing where the reference is pointing in memory. That should be an effectively instantaneous/atomic operation, right?</p>\n<p>If it's not thread safe, what does a failure/conflict look like, and how might I resolve it?</p>\n"},{"tags":["java","android-studio","time","days"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655327543,"post_id":72637823,"comment_id":128309737,"body_markdown":"Works for me. Tried with `pickupdate = &quot;06-20-2022&quot;;` and got `expirydate` as `06-23-2022`.","body":"Works for me. Tried with <code>pickupdate = &quot;06-20-2022&quot;;</code> and got <code>expirydate</code> as <code>06-23-2022</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1655327581,"post_id":72637823,"comment_id":128309745,"body_markdown":"What was the value of `pickupdate` at the start?  And was a stack trace printed?","body":"What was the value of <code>pickupdate</code> at the start?  And was a stack trace printed?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1655392095,"post_id":72637823,"comment_id":128326122,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. Use [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. Use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. It is so much nicer to work with."},{"owner":{"account_id":25440337,"reputation":3,"user_id":19243390,"display_name":"Shahzad Ali"},"score":0,"creation_date":1655407017,"post_id":72637823,"comment_id":128331310,"body_markdown":"@akarnokd yes this works with a fixed string date but when I do it with input from the user through android calender it add 3 days on system current date instead of adding on entered date","body":"@akarnokd yes this works with a fixed string date but when I do it with input from the user through android calender it add 3 days on system current date instead of adding on entered date"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655407177,"post_id":72637823,"comment_id":128331359,"body_markdown":"As others have pointed out, you probably get a date string with invalid format, which crashes `parse`. You ignored the crash and since `Calendar` never gets updated, it will operate with the default current date and time.","body":"As others have pointed out, you probably get a date string with invalid format, which crashes <code>parse</code>. You ignored the crash and since <code>Calendar</code> never gets updated, it will operate with the default current date and time."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655395506,"creation_date":1655327886,"answer_id":72637940,"question_id":72637823,"body_markdown":"# tl;dr\r\n\r\n    LocalDate\r\n    .parse( \r\n        &quot;06-20-2022&quot; , \r\n        DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; )\r\n    )\r\n    .plusDays( 3 )\r\n\r\n# Details\r\n\r\nYou are using terrible date-time classes that are now legacy, supplanted years ago by the modern *java.time* classes. \r\n\r\nParse user text input. \r\n\r\n    String input = &quot;06-20-2022&quot; ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\r\n    LocalDate ld = LocalDate.parse( input , f ) ;\r\n\r\nTo detect faulty input, trap for `DateTimeParseException` by wrapping in a `try catch`. \r\n\r\nAdd three days. \r\n\r\n    LocalDate threeDaysLater = ld.plusDays( 3 ) ;\r\n\r\nThe *java.time* classes are bundled with Java 8+ and Android 26+. For earlier Android, the latest tooling provides most of the *java.time* functionality via [“API desugaring”][1], or alternatively, [*ThreeTenABP*][2].\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support-table\r\n  [2]: https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project","title":"getting date from user in pickupdate var and want to add 3 days and store date in variable expiry date but its adding days in system current date","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate\n.parse( \n    &quot;06-20-2022&quot; , \n    DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; )\n)\n.plusDays( 3 )\n</code></pre>\n<h1>Details</h1>\n<p>You are using terrible date-time classes that are now legacy, supplanted years ago by the modern <em>java.time</em> classes.</p>\n<p>Parse user text input.</p>\n<pre><code>String input = &quot;06-20-2022&quot; ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\nLocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n<p>To detect faulty input, trap for <code>DateTimeParseException</code> by wrapping in a <code>try catch</code>.</p>\n<p>Add three days.</p>\n<pre><code>LocalDate threeDaysLater = ld.plusDays( 3 ) ;\n</code></pre>\n<p>The <em>java.time</em> classes are bundled with Java 8+ and Android 26+. For earlier Android, the latest tooling provides most of the <em>java.time</em> functionality via <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">“API desugaring”</a>, or alternatively, <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\"><em>ThreeTenABP</em></a>.</p>\n"}],"owner":{"account_id":25440337,"reputation":3,"user_id":19243390,"display_name":"Shahzad Ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655395506,"creation_date":1655327144,"question_id":72637823,"body_markdown":"```java\r\nString pickupdate = pdate.getText().toString().trim();\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;);\r\n\r\nCalendar c = Calendar.getInstance();\r\ntry {\r\n    c.setTime(sdf.parse(pickupdate));\r\n} catch (ParseException e){\r\n    e.printStackTrace();\r\n}\r\n\r\nc.add(Calendar.DAY_OF_MONTH, 3);\r\nexpirydate= sdf.format(c.getTime());\r\n```","title":"getting date from user in pickupdate var and want to add 3 days and store date in variable expiry date but its adding days in system current date","body":"<pre class=\"lang-java prettyprint-override\"><code>String pickupdate = pdate.getText().toString().trim();\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;);\n\nCalendar c = Calendar.getInstance();\ntry {\n    c.setTime(sdf.parse(pickupdate));\n} catch (ParseException e){\n    e.printStackTrace();\n}\n\nc.add(Calendar.DAY_OF_MONTH, 3);\nexpirydate= sdf.format(c.getTime());\n</code></pre>\n"},{"tags":["java","date","datetime","simpledateformat","date-parsing"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655386054,"post_id":72646653,"comment_id":128323688,"body_markdown":"Your input has the wrong format which crashes `parse`.&quot;18/09/2019&quot; does not correspond to &quot;HH/dd/MM/yyyy&quot;.","body":"Your input has the wrong format which crashes <code>parse</code>.&quot;18/09/2019&quot; does not correspond to &quot;HH/dd/MM/yyyy&quot;."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":7,"creation_date":1655386095,"post_id":72646653,"comment_id":128323710,"body_markdown":"I&#39;d say `18/09/2019` doesn&#39;t correspond to `HH/dd/MM/yyyy` which you would have noticed on the first run if you didn&#39;t swallow `Exception` with that empty catch-all block.","body":"I&#39;d say <code>18&#47;09&#47;2019</code> doesn&#39;t correspond to <code>HH&#47;dd&#47;MM&#47;yyyy</code> which you would have noticed on the first run if you didn&#39;t swallow <code>Exception</code> with that empty catch-all block."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1655392461,"post_id":72646653,"comment_id":128326245,"body_markdown":"What Frederico and Basil already said. Never swallow exceptions. **Never, ever** do `catch (Exception e) { }` (unless you *absolutely* know what you&#39;re doing, and then insert a comment line to explain). You are suppressing exceptions which contain very useful information of what went wrong and where.","body":"What Frederico and Basil already said. Never swallow exceptions. <b>Never, ever</b> do <code>catch (Exception e) { }</code> (unless you <i>absolutely</i> know what you&#39;re doing, and then insert a comment line to explain). You are suppressing exceptions which contain very useful information of what went wrong and where."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655395354,"post_id":72646653,"comment_id":128327444,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655400516,"post_id":72646653,"comment_id":128329165,"body_markdown":"More precisely, for a date without time of day use `LocalDate`. For a date with hour of day use `LocalDateTime`.","body":"More precisely, for a date without time of day use <code>LocalDate</code>. For a date with hour of day use <code>LocalDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655391129,"creation_date":1655391129,"answer_id":72647807,"question_id":72646653,"body_markdown":"As the Comments have said: \r\n\r\n&#128073; Your  formatting pattern does not match the user’s input text. \r\n\r\nYou would have known that but for swallowing the thrown exception. \r\n\r\n    catch(Exception e) {\r\n    }\r\n\r\n*Never* write a `catch` that does nothing. (Unless in an unusual situation you really expect an exception. And even then, write a code comment saying so.)\r\n\r\nAnother problem: You are using terrible date-time classes that are now legacy. They were supplanted years ago by the modern *java.time* classes defined in JSR 310. \r\n\r\nDefine your formatting pattern with `DateTimeFormatter`. For a date only, use `LocalDate`. For a date with time of day but lacking the context of a time zone or offset from UTC, use `LocalDateTime`. \r\n\r\nSearch Stack Overflow to learn more. These classes have been covered many many times already. \r\n","title":"Date input being output as null","body":"<p>As the Comments have said:</p>\n<p>👉 Your  formatting pattern does not match the user’s input text.</p>\n<p>You would have known that but for swallowing the thrown exception.</p>\n<pre><code>catch(Exception e) {\n}\n</code></pre>\n<p><em>Never</em> write a <code>catch</code> that does nothing. (Unless in an unusual situation you really expect an exception. And even then, write a code comment saying so.)</p>\n<p>Another problem: You are using terrible date-time classes that are now legacy. They were supplanted years ago by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Define your formatting pattern with <code>DateTimeFormatter</code>. For a date only, use <code>LocalDate</code>. For a date with time of day but lacking the context of a time zone or offset from UTC, use <code>LocalDateTime</code>.</p>\n<p>Search Stack Overflow to learn more. These classes have been covered many many times already.</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655392096,"creation_date":1655392096,"answer_id":72648028,"question_id":72646653,"body_markdown":"You can make a small modification in formatter like following:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy HH&quot;);\r\n\r\nand provide input accordingly **&quot;18/09/2019 00&quot;** this will work but using `LocalDate` or `LocalDateTime` would better approach.","title":"Date input being output as null","body":"<p>You can make a small modification in formatter like following:</p>\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy HH&quot;);\n</code></pre>\n<p>and provide input accordingly <strong>&quot;18/09/2019 00&quot;</strong> this will work but using <code>LocalDate</code> or <code>LocalDateTime</code> would better approach.</p>\n"}],"owner":{"account_id":25572163,"reputation":1,"user_id":19352339,"display_name":"matheusprovin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655392349,"answer_count":2,"score":0,"last_activity_date":1655395302,"creation_date":1655385971,"question_id":72646653,"body_markdown":"I get my output as null when I input date as String\r\n\r\nthis is the get and set\r\n```\r\npublic Date getData(){\r\n    return data;\r\n}\r\n\r\npublic void setData(String dataRecebida) {\r\n    try { \r\n      this.data = formatter.parse(dataRecebida);\r\n    } catch(Exception e) {\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic Date data; //= &quot;18/09/2019&quot;;\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;HH/dd/MM/yyyy&quot;);\r\n```\r\n\r\nthis is where I input the date\r\n```\r\nSystem.out.println(&quot;E-Digite a data do evento: horario/ dia/mes/Ano&quot;);\r\n          evento.setData(sc.nextLine());\r\n```\r\n\r\nthen, when I do\r\n```\r\nSystem.out.println(&quot;Date:&quot;+evento.getData());\r\n```    \r\nI get data output as null","title":"Date input being output as null","body":"<p>I get my output as null when I input date as String</p>\n<p>this is the get and set</p>\n<pre><code>public Date getData(){\n    return data;\n}\n\npublic void setData(String dataRecebida) {\n    try { \n      this.data = formatter.parse(dataRecebida);\n    } catch(Exception e) {\n    }\n}\n</code></pre>\n<pre><code>public Date data; //= &quot;18/09/2019&quot;;\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;HH/dd/MM/yyyy&quot;);\n</code></pre>\n<p>this is where I input the date</p>\n<pre><code>System.out.println(&quot;E-Digite a data do evento: horario/ dia/mes/Ano&quot;);\n          evento.setData(sc.nextLine());\n</code></pre>\n<p>then, when I do</p>\n<pre><code>System.out.println(&quot;Date:&quot;+evento.getData());\n</code></pre>\n<p>I get data output as null</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655395274,"creation_date":1655381332,"answer_id":72645599,"question_id":72645458,"body_markdown":"You might use a capture group:\r\n\r\n    ^.*?\\b(\\d+)\\.-\r\n\r\nThe pattern matches:\r\n\r\n- `^` Start of string\r\n- `.*?` match as least as possible chars\r\n- `\\b` a word boundary to prevent a partial word match\r\n- `(\\d+)` capture 1+ digits in **group 1**\r\n- `\\.-` match a dot and a hyphen\r\n\r\n[Regex demo](https://regex101.com/r/aOwU00/1)\r\n\r\nA version in Java using a lookbehind assertion with a finite quantifier:\r\n\r\n    (?&lt;=^(?:(?!\\b\\d+\\.-).){0,1000}?)\\b\\d+(?=\\.-)\r\n\r\n[Regex demo](https://regex101.com/r/1dhIDY/1)\r\n\r\nWith the doubled backslashes in Java:\r\n\r\n    String regex = &quot;(?&lt;=^(?:(?!\\\\b\\\\d+\\\\.-).){0,1000}?)\\\\b\\\\d+(?=\\\\.-)&quot;;","title":"Regex that matches only the first occurence of a price pattern in a string","body":"<p>You might use a capture group:</p>\n<pre><code>^.*?\\b(\\d+)\\.-\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>.*?</code> match as least as possible chars</li>\n<li><code>\\b</code> a word boundary to prevent a partial word match</li>\n<li><code>(\\d+)</code> capture 1+ digits in <strong>group 1</strong></li>\n<li><code>\\.-</code> match a dot and a hyphen</li>\n</ul>\n<p><a href=\"https://regex101.com/r/aOwU00/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>A version in Java using a lookbehind assertion with a finite quantifier:</p>\n<pre><code>(?&lt;=^(?:(?!\\b\\d+\\.-).){0,1000}?)\\b\\d+(?=\\.-)\n</code></pre>\n<p><a href=\"https://regex101.com/r/1dhIDY/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>With the doubled backslashes in Java:</p>\n<pre><code>String regex = &quot;(?&lt;=^(?:(?!\\\\b\\\\d+\\\\.-).){0,1000}?)\\\\b\\\\d+(?=\\\\.-)&quot;;\n</code></pre>\n"}],"owner":{"account_id":25571392,"reputation":11,"user_id":19351695,"display_name":"lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655395274,"creation_date":1655380630,"question_id":72645458,"body_markdown":"I have multiple strings about different products of which some contain only the price of the acutal product but some also extra costs. My problem here is that I only want to extract the price of the actual product out of the string and not any additional costs. The actual price always appears as the first price in the string which is why I tried to solve it with a lazy operator that stops after the first occurence of a specific pattern. However this does not seem to solve my issue.\r\n\r\n\r\nExample Strings:\r\n\r\n2-TB SSD, black, 200.- EUR + Extra Costs. Tel. 1234/12345678 oder Tel. 1234/12345678\r\n\r\nPC, white case, 320.- price + 62.- delivery + 95.- setup\r\n\r\nPC, black case, 320.- price + 62.- delivery + 95.- setup\r\n\r\n2-TB SSD, white, 200.- EUR, Tel. 1234/12345678 oder Tel. 1234/12345678\r\n\r\nMy current regex: `\\d+(?=(\\.-)).*?`\r\n\r\nI basically want to return the digits right before the first occurrence of (.-) in the string. This is done in Java.","title":"Regex that matches only the first occurence of a price pattern in a string","body":"<p>I have multiple strings about different products of which some contain only the price of the acutal product but some also extra costs. My problem here is that I only want to extract the price of the actual product out of the string and not any additional costs. The actual price always appears as the first price in the string which is why I tried to solve it with a lazy operator that stops after the first occurence of a specific pattern. However this does not seem to solve my issue.</p>\n<p>Example Strings:</p>\n<p>2-TB SSD, black, 200.- EUR + Extra Costs. Tel. 1234/12345678 oder Tel. 1234/12345678</p>\n<p>PC, white case, 320.- price + 62.- delivery + 95.- setup</p>\n<p>PC, black case, 320.- price + 62.- delivery + 95.- setup</p>\n<p>2-TB SSD, white, 200.- EUR, Tel. 1234/12345678 oder Tel. 1234/12345678</p>\n<p>My current regex: <code>\\d+(?=(\\.-)).*?</code></p>\n<p>I basically want to return the digits right before the first occurrence of (.-) in the string. This is done in Java.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":1,"creation_date":1406690196,"post_id":25028175,"comment_id":38923834,"body_markdown":"Please read [the training](http://developer.android.com/training/basics/firstapp/starting-activity.html) first. Later, you will have to use `textView.getText()` and `textView.setText()` to update it.","body":"Please read <a href=\"http://developer.android.com/training/basics/firstapp/starting-activity.html\" rel=\"nofollow noreferrer\">the training</a> first. Later, you will have to use <code>textView.getText()</code> and <code>textView.setText()</code> to update it."}],"answers":[{"tags":[],"owner":{"account_id":438970,"reputation":22468,"user_id":964741,"accept_rate":87,"display_name":"RajaReddy PolamReddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406690137,"creation_date":1406690137,"answer_id":25028208,"question_id":25028175,"body_markdown":"\r\n    \r\nTry like this \r\n\r\n    public void buttonOnClick (View view) {\r\n       Toast.makeText(getApplicationContext(), &quot;Click&quot;, Toast.LENGTH_SHORT).show();\r\n       TextView score = (TextView) findViewById(R.id.score);\r\n       score.setText(&quot;your_score&quot;);\r\n    }","title":"How to use a variable in java within xml in Android Studio?","body":"<p>Try like this </p>\n\n<pre><code>public void buttonOnClick (View view) {\n   Toast.makeText(getApplicationContext(), \"Click\", Toast.LENGTH_SHORT).show();\n   TextView score = (TextView) findViewById(R.id.score);\n   score.setText(\"your_score\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406690148,"creation_date":1406690148,"answer_id":25028211,"question_id":25028175,"body_markdown":"You can try something like this:\r\n\r\n    int count = getResources().getInteger(R.integer.my_count);//why use string if you can use int\r\n    textView.setText(&quot;&quot;+count++);//&quot;&quot; will cast count to string","title":"How to use a variable in java within xml in Android Studio?","body":"<p>You can try something like this:</p>\n\n<pre><code>int count = getResources().getInteger(R.integer.my_count);//why use string if you can use int\ntextView.setText(\"\"+count++);//\"\" will cast count to string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4428004,"reputation":184,"user_id":3605926,"display_name":"Brett Haines"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406690164,"creation_date":1406690164,"answer_id":25028213,"question_id":25028175,"body_markdown":"You can&#39;t really store a variable in XML, strictly speaking.  However, you can just get the value in the field, increment it, and store the new value:\r\n\r\n    TextView view = (TextView) getViewById(R.id.score);\r\n    int score = Integer.parseInt(view.getText().toString());\r\n    view.setText(&quot;&quot;+score++);\r\n\r\nThrow this inside your onClick method.","title":"How to use a variable in java within xml in Android Studio?","body":"<p>You can't really store a variable in XML, strictly speaking.  However, you can just get the value in the field, increment it, and store the new value:</p>\n\n<pre><code>TextView view = (TextView) getViewById(R.id.score);\nint score = Integer.parseInt(view.getText().toString());\nview.setText(\"\"+score++);\n</code></pre>\n\n<p>Throw this inside your onClick method.</p>\n"}],"owner":{"account_id":4818613,"reputation":1,"user_id":3889919,"display_name":"Thaejaesh TJ Sooriyakumaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655395240,"creation_date":1406689856,"question_id":25028175,"body_markdown":"I am trying to make a score counter by using a TextView. I have set the text to &quot;0&quot; and want it to increase every time that a button is pressed. How can I accomplish this? \r\n\r\nSo far I am trying to call a variable from in the java of the activity but I do not know how to call the variable from within xml. Or change the value of the xml from java. \r\n\r\nAny help is much appreciated and thanks in advance.\r\n\r\n    &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n            android:text=&quot;0&quot;\r\n            android:id=&quot;@+id/score&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            android:textColor=&quot;@color/black_overlay&quot;\r\n            android:layout_below=&quot;@+id/adView&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\nThat is my xml and I currently have nothing written in the java portion other than setting up the onclick method.\r\n\r\n\r\n    public void buttonOnClick (View view) {\r\n        Toast.makeText(getApplicationContext(), &quot;Click&quot;, Toast.LENGTH_SHORT).show();\r\n        //String yourString = this.getResources().getString(R.string.scoreCount);\r\n    \r\n        String mystring = getResources().getString(R.string.scoreCount);\r\n    \r\n    }","title":"How to use a variable in java within xml in Android Studio?","body":"<p>I am trying to make a score counter by using a TextView. I have set the text to \"0\" and want it to increase every time that a button is pressed. How can I accomplish this? </p>\n\n<p>So far I am trying to call a variable from in the java of the activity but I do not know how to call the variable from within xml. Or change the value of the xml from java. </p>\n\n<p>Any help is much appreciated and thanks in advance.</p>\n\n<pre><code>&lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textAppearance=\"?android:attr/textAppearanceLarge\"\n        android:text=\"0\"\n        android:id=\"@+id/score\"\n        android:textSize=\"30sp\"\n        android:textColor=\"@color/black_overlay\"\n        android:layout_below=\"@+id/adView\"\n        android:layout_centerHorizontal=\"true\" /&gt;\n</code></pre>\n\n<p>That is my xml and I currently have nothing written in the java portion other than setting up the onclick method.</p>\n\n<pre><code>public void buttonOnClick (View view) {\n    Toast.makeText(getApplicationContext(), \"Click\", Toast.LENGTH_SHORT).show();\n    //String yourString = this.getResources().getString(R.string.scoreCount);\n\n    String mystring = getResources().getString(R.string.scoreCount);\n\n}\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654986187,"creation_date":1654986187,"answer_id":72588232,"question_id":72588114,"body_markdown":"You don&#39;t have to duplicate it. When executing a scenario Cucumber uses all step definitions, hooks and parameters that it finds.\r\n\r\nCucumber searches for these on the glue path. So suppose your glue path is `com.example` then Cucumber will use everything it finds in `com.example.PersonStepDefinitons`, `com.example.AnimelStepDefinitons` and `com.example.ParameterTypes`. \r\n\r\nIf you are used to JUnit where only one class is created at once this can be a little confusing.\r\n\r\nIf things don&#39;t work, make sure everything is in the same package and double check what your IDE actually put in the run configuration.","title":"Cucumber shared ParameterType","body":"<p>You don't have to duplicate it. When executing a scenario Cucumber uses all step definitions, hooks and parameters that it finds.</p>\n<p>Cucumber searches for these on the glue path. So suppose your glue path is <code>com.example</code> then Cucumber will use everything it finds in <code>com.example.PersonStepDefinitons</code>, <code>com.example.AnimelStepDefinitons</code> and <code>com.example.ParameterTypes</code>.</p>\n<p>If you are used to JUnit where only one class is created at once this can be a little confusing.</p>\n<p>If things don't work, make sure everything is in the same package and double check what your IDE actually put in the run configuration.</p>\n"},{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655395239,"creation_date":1655395239,"answer_id":72648738,"question_id":72588114,"body_markdown":"I assume that you want to use a custom parameter type in many different projects. Otherwise follow the steps that @M.P. Korstanje gave in his answer.\r\n\r\n\r\nI used to solve that problem with some trick.\r\n\r\n\r\nThe example is in written Kotlin but it will not be diffucult to translate it to Java.\r\n\r\n\r\nI have an interface in which there are lots of custom parameter types. I put this interface in a cucumber helper library source code.\r\n\r\n\r\n```kotlin\r\n// com.example.cucumber.helper.library\r\n\r\ninterface CucumberCustomParameterTypes {\r\n  \r\n  @ParameterType(&quot;yes|no|ok|ko&quot;)\r\n  fun flag(text: String) : Boolean { // ...  }\r\n  \r\n}\r\n```\r\n\r\nIn a cucumber test project, create a class in your glue path and it should `implement` your `CucumberCustomParameterTypes`. Do not forget to import your cucumber helper library to your project.\r\n\r\n```kotlin\r\n// com.example.yourproject\r\n\r\nclass CucumberTypes : CucumberCustomParameterTypes {\r\n\t// ...\r\n\t// additional parameter types can be defined here\r\n}\r\n```\r\n\r\nHope, it helps","title":"Cucumber shared ParameterType","body":"<p>I assume that you want to use a custom parameter type in many different projects. Otherwise follow the steps that @M.P. Korstanje gave in his answer.</p>\n<p>I used to solve that problem with some trick.</p>\n<p>The example is in written Kotlin but it will not be diffucult to translate it to Java.</p>\n<p>I have an interface in which there are lots of custom parameter types. I put this interface in a cucumber helper library source code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// com.example.cucumber.helper.library\n\ninterface CucumberCustomParameterTypes {\n  \n  @ParameterType(&quot;yes|no|ok|ko&quot;)\n  fun flag(text: String) : Boolean { // ...  }\n  \n}\n</code></pre>\n<p>In a cucumber test project, create a class in your glue path and it should <code>implement</code> your <code>CucumberCustomParameterTypes</code>. Do not forget to import your cucumber helper library to your project.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// com.example.yourproject\n\nclass CucumberTypes : CucumberCustomParameterTypes {\n    // ...\n    // additional parameter types can be defined here\n}\n</code></pre>\n<p>Hope, it helps</p>\n"}],"owner":{"account_id":4280419,"reputation":1229,"user_id":3499973,"accept_rate":71,"display_name":"MiketheCalamity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655395239,"creation_date":1654984860,"question_id":72588114,"body_markdown":"Is there a way to share custom parameter types across multiple step definitions? I have a few I&#39;d like to not duplicate them several times over. I tried extending a `CommonStepDefintions`, but apparently step definition classes can&#39;t be extended. Any help is appreciated.\r\n\r\nExample:\r\n```java\r\npublic class PersonStepDefinitons {\r\n    @Given(&quot;the person has {myenum}&quot;)\r\n    public void personHasMyEnum(MyEnum myEnum){\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class AnimelStepDefinitons {\r\n    @Given(&quot;the animel has {myenum}&quot;)\r\n    public void animalHasMyEnum(MyEnum myEnum){\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nHow to not duplicate this?\r\n```java\r\npublic MyEnum(String raw) {\r\n    return MyEnum.valueOf(raw);\r\n}\r\n```","title":"Cucumber shared ParameterType","body":"<p>Is there a way to share custom parameter types across multiple step definitions? I have a few I'd like to not duplicate them several times over. I tried extending a <code>CommonStepDefintions</code>, but apparently step definition classes can't be extended. Any help is appreciated.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonStepDefinitons {\n    @Given(&quot;the person has {myenum}&quot;)\n    public void personHasMyEnum(MyEnum myEnum){\n        ...\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class AnimelStepDefinitons {\n    @Given(&quot;the animel has {myenum}&quot;)\n    public void animalHasMyEnum(MyEnum myEnum){\n        ...\n    }\n}\n</code></pre>\n<p>How to not duplicate this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MyEnum(String raw) {\n    return MyEnum.valueOf(raw);\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","one-to-many"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1655448232,"post_id":72647884,"comment_id":128339158,"body_markdown":"I don&#39;t think I fully understand your question, but one thing that is surely wrong is `@RequestMapping(&quot;customer/{customer.id}/address&quot;)`, should be `@RequestMapping(&quot;customer/{id}/address&quot;)` (The part inside `{}` should match with the name of your `@PathVariable` name)","body":"I don&#39;t think I fully understand your question, but one thing that is surely wrong is <code>@RequestMapping(&quot;customer&#47;{customer.id}&#47;address&quot;)</code>, should be <code>@RequestMapping(&quot;customer&#47;{id}&#47;address&quot;)</code> (The part inside <code>{}</code> should match with the name of your <code>@PathVariable</code> name)"},{"owner":{"account_id":25541991,"reputation":1,"user_id":19327906,"display_name":"me_them411"},"score":0,"creation_date":1655650502,"post_id":72647884,"comment_id":128377262,"body_markdown":"I changed the Mapping. The Problem is, that the page does not show within the tab. The console gives the following error: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;ObjectTabs/customerAddressform&quot; - line 52, col 109)] with root cause\n\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;address&#39; available as request attribute\n\nI figured, that th:field=&quot;*{streetName}&quot; is not available. I use th:object=&quot;${address}&quot; th:action=&quot;@{/customer/{id}/address}&quot; as the form attributes","body":"I changed the Mapping. The Problem is, that the page does not show within the tab. The console gives the following error: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagP&zwnj;&#8203;rocessor&#39; (template: &quot;ObjectTabs/customerAddressform&quot; - line 52, col 109)] with root cause  java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;address&#39; available as request attribute  I figured, that th:field=&quot;*{streetName}&quot; is not available. I use th:object=&quot;${address}&quot; th:action=&quot;@{/customer/{id}/address}&quot; as the form attributes"}],"owner":{"account_id":25541991,"reputation":1,"user_id":19327906,"display_name":"me_them411"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655395209,"creation_date":1655391417,"question_id":72647884,"body_markdown":"I am using Spring and Thymeleaf templates. What I am trying is, to show a customer&#39;s addresses within a Thymeleaf template (using Bootstrap tabs) in a many-to-one relation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI can&#39;t get the addresses to show up or add new ones. Any help is appreciated!\r\n\r\ncustomerAddressform.html (Thymeleaf)\r\n\r\n```html\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;head lang=&quot;en&quot;&gt;\r\n\r\n        &lt;!--/*/ &lt;th:block th:include=&quot;fragments/headerinc :: head&quot;&gt;&lt;/th:block&gt; /*/--&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;div th:if=&quot;${not #lists.isEmpty(address)}&quot;&gt;\r\n            &lt;table class=&quot;table table-striped table-bordered table-hover&quot;&gt;\r\n                &lt;thead class=&quot;thead-dark&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;Id&lt;/th&gt;\r\n                        &lt;th&gt;Address Id&lt;/th&gt;\r\n                        &lt;th&gt;Description&lt;/th&gt;\r\n                        &lt;th&gt;Price&lt;/th&gt;\r\n                        &lt;th&gt;Delete&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tr th:each=&quot;address : ${address}&quot;&gt;\r\n                    &lt;td th:text=&quot;${address.id}&quot; href=&quot;/customer/${customer.id}/address/${address.id}&quot;&gt;Id&lt;/td&gt;\r\n                    &lt;td&gt;&lt;a th:text=&quot;${address.addressId}&quot; th:href=&quot;${ &#39;/customer/&#39; + customer.id + &#39;/address/&#39; + address.id}&quot;&gt;Address\r\n                            Id&lt;/a&gt;&lt;/td&gt;\r\n                    &lt;td&gt;description&lt;/td&gt;\r\n                    &lt;td&gt;price&lt;/td&gt;\r\n                    &lt;td&gt;&lt;a&gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            &lt;!-- Button trigger modal --&gt;\r\n            &lt;button type=&quot;button&quot; href=&quot;#&quot; class=&quot;btn-primary btn-sm btn-block btn-addrow&quot; data-toggle=&quot;modal&quot;\r\n                data-target=&quot;#modalNewCustomerAddress&quot;&gt;+&lt;/button&gt;\r\n\r\n            &lt;!-- Modal --&gt;\r\n            &lt;div class=&quot;modal fade&quot; id=&quot;modalNewCustomerAddress&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;New Address&quot;\r\n                aria-hidden=&quot;true&quot;&gt;\r\n                &lt;div class=&quot;modal-dialog modal-dialog-centered modal-dialog-scrollable&quot; role=&quot;document&quot;&gt;\r\n                    &lt;div class=&quot;modal-content&quot;&gt;\r\n                        &lt;div class=&quot;modal-header&quot;&gt;\r\n                            &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalScrollableTitle&quot;&gt;New Address&lt;/h5&gt;\r\n                            &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                                &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n                            &lt;/button&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;modal-body margin-15&quot;&gt;\r\n                            &lt;form id=&quot;customerAddressForm&quot; th:object=&quot;${address}&quot; th:action=&quot;@{/customer/{customer.id}/address/new}&quot; method=&quot;post&quot;&gt;\r\n                                &lt;div class=&quot;row&quot;&gt;\r\n                                    &lt;input type=&quot;hidden&quot; /&gt;\r\n                                    &lt;input type=&quot;hidden&quot; /&gt;\r\n                                        &lt;label for=&quot;streetName&quot;&gt;Street:&lt;/label&gt;\r\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; th:field=&quot;*{streetName}&quot; id=&quot;streetName&quot; /&gt;\r\n\r\n                                        &lt;label for=&quot;houseNumber&quot;&gt;House Number:&lt;/label&gt;\r\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; id=&quot;houseNumber&quot;/&gt;\r\n\r\n                                        &lt;label for=&quot;postalCode&quot;&gt;Postal Code:&lt;/label&gt;\r\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; id=&quot;postalCode&quot;/&gt;\r\n\r\n                                        &lt;label for=&quot;city&quot;&gt;City:&lt;/label&gt;\r\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; id=&quot;city&quot;/&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/form&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;modal-footer&quot;&gt;\r\n                            &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n                            &lt;button type=&quot;submit&quot; form=&quot;customerAddressForm&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n```\r\n\r\nAddressController.java\r\n\r\n```java\r\n    @Controller\r\n    public class AddressController {\r\n\r\n        private AddressService addressService;\r\n\r\n        @Autowired\r\n        public void setAddressService(AddressService addressService) {\r\n            this.addressService = addressService;\r\n        }\r\n\r\n        @RequestMapping(value = &quot;/address&quot;, method = RequestMethod.GET)\r\n        public String list(Model model){\r\n            model.addAttribute(&quot;address&quot;, addressService.listAllAddress());\r\n            System.out.println(&quot;Returning address:&quot;);\r\n            return &quot;customerAddress&quot;;\r\n        }\r\n\r\n        // @RequestMapping(&quot;address/{id}&quot;)\r\n        // public String showAddress(@PathVariable Integer id, Model model){\r\n        //     model.addAttribute(&quot;address&quot;, addressService.getAddressById(id));\r\n        //     return &quot;addressshow&quot;;\r\n        // }\r\n\r\n        @RequestMapping(&quot;customer/{customer.id}/address&quot;)\r\n        public String edit(@PathVariable Integer id, Model model){\r\n            model.addAttribute(&quot;address&quot;, addressService.getAddressById(id));\r\n            return &quot;customerAddressform&quot;;\r\n        }\r\n\r\n        @RequestMapping(&quot;customer/{customer.id}/address/new&quot;)\r\n        public String newAddress(Model model){\r\n            model.addAttribute(&quot;address&quot;, new Address());\r\n            return &quot;customerAddressform&quot;;\r\n        }\r\n\r\n        // @RequestMapping(value = &quot;address&quot;, method = RequestMethod.POST)\r\n        // public String saveAddress(Address address){\r\n\r\n        //     addressService.saveAddress(address);\r\n\r\n        //     //return &quot;redirect:/addresss&quot;;\r\n        //     return &quot;redirect:/address/&quot; + address.getId();\r\n        // }\r\n\r\n        @RequestMapping(&quot;customer/{customer.id}/deleteAddress&quot;)\r\n    \tpublic String deleteAddress(@RequestParam Integer id) {\r\n    \t\taddressService.deleteAddressById(id);\r\n    \t\treturn &quot;redirect:/customer/{customer.id}/address&quot;;\r\n    \t}\r\n\r\n    }\r\n\r\n```\r\n\r\nAddress.java\r\n\r\n```java\r\n    @Entity\r\n    public class Address {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer id;\r\n\r\n        @Version\r\n        private Integer version;\r\n\r\n        private String addressId;\r\n        private String addressType;\r\n        private String streetName;\r\n        private String houseNumber;\r\n        private String postalCode;\r\n        private String cityName;\r\n        private String country;\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n\r\n        private Customer customer;\r\n\r\n        public Address(){\r\n\r\n        }\r\n\r\n        public Address(String addressId, String addressType, String streetName, String houseNumber, String postalCode, String cityName, String country, Customer customer){\r\n            this.addressId = addressId;\r\n            this.addressType = addressType;\r\n            this.streetName = streetName;\r\n            this.houseNumber = houseNumber;\r\n            this.postalCode = postalCode;\r\n            this.cityName = cityName;\r\n            this.country = country;\r\n            this.customer = customer;\r\n        }\r\n\r\n```\r\n\r\nCustomer.java\r\n\r\n```java\r\n    @Entity\r\n    public class Customer {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer id;\r\n\r\n        @Version\r\n        private Integer version;\r\n\r\n        private String customerId;\r\n        private String name;\r\n\r\n        @OneToMany(fetch=FetchType.LAZY, mappedBy=&quot;customer&quot;)\r\n        private Set&lt;Address&gt; address;\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mhnak.png","title":"Spring one-to-many Object in Thymeleaf Tab","body":"<p>I am using Spring and Thymeleaf templates. What I am trying is, to show a customer's addresses within a Thymeleaf template (using Bootstrap tabs) in a many-to-one relation.</p>\n<p><a href=\"https://i.stack.imgur.com/Mhnak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mhnak.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't get the addresses to show up or add new ones. Any help is appreciated!</p>\n<p>customerAddressform.html (Thymeleaf)</p>\n<pre class=\"lang-html prettyprint-override\"><code>\n    &lt;html&gt;\n\n    &lt;head lang=&quot;en&quot;&gt;\n\n        &lt;!--/*/ &lt;th:block th:include=&quot;fragments/headerinc :: head&quot;&gt;&lt;/th:block&gt; /*/--&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div th:if=&quot;${not #lists.isEmpty(address)}&quot;&gt;\n            &lt;table class=&quot;table table-striped table-bordered table-hover&quot;&gt;\n                &lt;thead class=&quot;thead-dark&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;Id&lt;/th&gt;\n                        &lt;th&gt;Address Id&lt;/th&gt;\n                        &lt;th&gt;Description&lt;/th&gt;\n                        &lt;th&gt;Price&lt;/th&gt;\n                        &lt;th&gt;Delete&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tr th:each=&quot;address : ${address}&quot;&gt;\n                    &lt;td th:text=&quot;${address.id}&quot; href=&quot;/customer/${customer.id}/address/${address.id}&quot;&gt;Id&lt;/td&gt;\n                    &lt;td&gt;&lt;a th:text=&quot;${address.addressId}&quot; th:href=&quot;${ '/customer/' + customer.id + '/address/' + address.id}&quot;&gt;Address\n                            Id&lt;/a&gt;&lt;/td&gt;\n                    &lt;td&gt;description&lt;/td&gt;\n                    &lt;td&gt;price&lt;/td&gt;\n                    &lt;td&gt;&lt;a&gt;Delete&lt;/a&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;!-- Button trigger modal --&gt;\n            &lt;button type=&quot;button&quot; href=&quot;#&quot; class=&quot;btn-primary btn-sm btn-block btn-addrow&quot; data-toggle=&quot;modal&quot;\n                data-target=&quot;#modalNewCustomerAddress&quot;&gt;+&lt;/button&gt;\n\n            &lt;!-- Modal --&gt;\n            &lt;div class=&quot;modal fade&quot; id=&quot;modalNewCustomerAddress&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;New Address&quot;\n                aria-hidden=&quot;true&quot;&gt;\n                &lt;div class=&quot;modal-dialog modal-dialog-centered modal-dialog-scrollable&quot; role=&quot;document&quot;&gt;\n                    &lt;div class=&quot;modal-content&quot;&gt;\n                        &lt;div class=&quot;modal-header&quot;&gt;\n                            &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalScrollableTitle&quot;&gt;New Address&lt;/h5&gt;\n                            &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                                &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n                            &lt;/button&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;modal-body margin-15&quot;&gt;\n                            &lt;form id=&quot;customerAddressForm&quot; th:object=&quot;${address}&quot; th:action=&quot;@{/customer/{customer.id}/address/new}&quot; method=&quot;post&quot;&gt;\n                                &lt;div class=&quot;row&quot;&gt;\n                                    &lt;input type=&quot;hidden&quot; /&gt;\n                                    &lt;input type=&quot;hidden&quot; /&gt;\n                                        &lt;label for=&quot;streetName&quot;&gt;Street:&lt;/label&gt;\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; th:field=&quot;*{streetName}&quot; id=&quot;streetName&quot; /&gt;\n\n                                        &lt;label for=&quot;houseNumber&quot;&gt;House Number:&lt;/label&gt;\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; id=&quot;houseNumber&quot;/&gt;\n\n                                        &lt;label for=&quot;postalCode&quot;&gt;Postal Code:&lt;/label&gt;\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; id=&quot;postalCode&quot;/&gt;\n\n                                        &lt;label for=&quot;city&quot;&gt;City:&lt;/label&gt;\n                                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg&quot; id=&quot;city&quot;/&gt;\n                                &lt;/div&gt;\n                            &lt;/form&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;modal-footer&quot;&gt;\n                            &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n                            &lt;button type=&quot;submit&quot; form=&quot;customerAddressForm&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n\n    &lt;/html&gt;\n\n</code></pre>\n<p>AddressController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Controller\n    public class AddressController {\n\n        private AddressService addressService;\n\n        @Autowired\n        public void setAddressService(AddressService addressService) {\n            this.addressService = addressService;\n        }\n\n        @RequestMapping(value = &quot;/address&quot;, method = RequestMethod.GET)\n        public String list(Model model){\n            model.addAttribute(&quot;address&quot;, addressService.listAllAddress());\n            System.out.println(&quot;Returning address:&quot;);\n            return &quot;customerAddress&quot;;\n        }\n\n        // @RequestMapping(&quot;address/{id}&quot;)\n        // public String showAddress(@PathVariable Integer id, Model model){\n        //     model.addAttribute(&quot;address&quot;, addressService.getAddressById(id));\n        //     return &quot;addressshow&quot;;\n        // }\n\n        @RequestMapping(&quot;customer/{customer.id}/address&quot;)\n        public String edit(@PathVariable Integer id, Model model){\n            model.addAttribute(&quot;address&quot;, addressService.getAddressById(id));\n            return &quot;customerAddressform&quot;;\n        }\n\n        @RequestMapping(&quot;customer/{customer.id}/address/new&quot;)\n        public String newAddress(Model model){\n            model.addAttribute(&quot;address&quot;, new Address());\n            return &quot;customerAddressform&quot;;\n        }\n\n        // @RequestMapping(value = &quot;address&quot;, method = RequestMethod.POST)\n        // public String saveAddress(Address address){\n\n        //     addressService.saveAddress(address);\n\n        //     //return &quot;redirect:/addresss&quot;;\n        //     return &quot;redirect:/address/&quot; + address.getId();\n        // }\n\n        @RequestMapping(&quot;customer/{customer.id}/deleteAddress&quot;)\n        public String deleteAddress(@RequestParam Integer id) {\n            addressService.deleteAddressById(id);\n            return &quot;redirect:/customer/{customer.id}/address&quot;;\n        }\n\n    }\n\n</code></pre>\n<p>Address.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    public class Address {\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        private Integer id;\n\n        @Version\n        private Integer version;\n\n        private String addressId;\n        private String addressType;\n        private String streetName;\n        private String houseNumber;\n        private String postalCode;\n        private String cityName;\n        private String country;\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\n        @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\n        @OnDelete(action = OnDeleteAction.CASCADE)\n\n        private Customer customer;\n\n        public Address(){\n\n        }\n\n        public Address(String addressId, String addressType, String streetName, String houseNumber, String postalCode, String cityName, String country, Customer customer){\n            this.addressId = addressId;\n            this.addressType = addressType;\n            this.streetName = streetName;\n            this.houseNumber = houseNumber;\n            this.postalCode = postalCode;\n            this.cityName = cityName;\n            this.country = country;\n            this.customer = customer;\n        }\n\n</code></pre>\n<p>Customer.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    public class Customer {\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        private Integer id;\n\n        @Version\n        private Integer version;\n\n        private String customerId;\n        private String name;\n\n        @OneToMany(fetch=FetchType.LAZY, mappedBy=&quot;customer&quot;)\n        private Set&lt;Address&gt; address;\n\n</code></pre>\n"},{"tags":["java","list","final"],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1351212546,"creation_date":1351212546,"answer_id":13079374,"question_id":13079365,"body_markdown":"`final` prevents you from *reassigning* `synapses` after you&#39;ve assigned it once - you can still add/remove elements as you would normally. You can read more about the `final` keyword [here][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Final_%28Java%29","title":"Declaring a List field with the final keyword","body":"<p><code>final</code> prevents you from <em>reassigning</em> <code>synapses</code> after you've assigned it once - you can still add/remove elements as you would normally. You can read more about the <code>final</code> keyword <a href=\"http://en.wikipedia.org/wiki/Final_%28Java%29\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1272743,"reputation":587,"user_id":1228672,"display_name":"Kevin Rubin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1351212650,"creation_date":1351212650,"answer_id":13079382,"question_id":13079365,"body_markdown":"You can still change, add and remove the contents of the list, but cannot create a new list assigned to the variable.","title":"Declaring a List field with the final keyword","body":"<p>You can still change, add and remove the contents of the list, but cannot create a new list assigned to the variable.</p>\n"},{"tags":[],"owner":{"account_id":1708679,"reputation":840,"user_id":1567191,"display_name":"Mark P."},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1604678334,"creation_date":1351212739,"answer_id":13079396,"question_id":13079365,"body_markdown":"No, the final keyword does not make the list, or its contents immutable. If you want an immutable List, you should use:\r\n\r\n    List&lt;Synapse&gt; unmodifiableList = Collections.unmodifiableList(synapses);\r\n\r\nWhat the final keyword does is prevent you from assigning a new value to the &#39;synapses&#39; variable. I.e., you cannot write:\r\n\r\n    final List&lt;Synapse&gt; synapses = createList();\r\n    synapses = createNewList();\r\n\r\n\r\nYou can, however, write:\r\n\r\n    List&lt;Synapse&gt; synapses = createList();\r\n    synapses = createNewList();\r\n\r\nIn essense, you can still change, add and remove the contents of the list, but cannot create a new list assigned to the variable synapses.","title":"Declaring a List field with the final keyword","body":"<p>No, the final keyword does not make the list, or its contents immutable. If you want an immutable List, you should use:</p>\n<pre><code>List&lt;Synapse&gt; unmodifiableList = Collections.unmodifiableList(synapses);\n</code></pre>\n<p>What the final keyword does is prevent you from assigning a new value to the 'synapses' variable. I.e., you cannot write:</p>\n<pre><code>final List&lt;Synapse&gt; synapses = createList();\nsynapses = createNewList();\n</code></pre>\n<p>You can, however, write:</p>\n<pre><code>List&lt;Synapse&gt; synapses = createList();\nsynapses = createNewList();\n</code></pre>\n<p>In essense, you can still change, add and remove the contents of the list, but cannot create a new list assigned to the variable synapses.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351213112,"creation_date":1351212805,"answer_id":13079401,"question_id":13079365,"body_markdown":"The Java Language Specification [writes](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4):\n\n&gt; A variable can be declared final. A final variable may only be assigned to once. Declaring a variable final can serve as useful documentation that its value will not change and can help avoid programming errors.\n&gt;\n&gt; It is a compile-time error if a final variable is assigned to unless it is definitely unassigned (&#167;16) immediately prior to the assignment.\n&gt;\n&gt; A blank final is a final variable whose declaration lacks an initializer.\n&gt;\n&gt; Once a final variable has been assigned, it always contains the same value. If a final variable holds a reference to an object, then the state of the object may be changed by operations on the object, but the variable will always refer to the same object. \n\nTherefore, if you wish to enforce that the state reachable through the variable does not change, you have to declare the variable `final`, use an unmodifiable List (for instance with [Collections.unmodifiableList](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29)), and make `Synapse` objects immutable.","title":"Declaring a List field with the final keyword","body":"<p>The Java Language Specification <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">writes</a>:</p>\n<blockquote>\n<p>A variable can be declared final. A final variable may only be assigned to once. Declaring a variable final can serve as useful documentation that its value will not change and can help avoid programming errors.</p>\n<p>It is a compile-time error if a final variable is assigned to unless it is definitely unassigned (§16) immediately prior to the assignment.</p>\n<p>A blank final is a final variable whose declaration lacks an initializer.</p>\n<p>Once a final variable has been assigned, it always contains the same value. If a final variable holds a reference to an object, then the state of the object may be changed by operations on the object, but the variable will always refer to the same object.</p>\n</blockquote>\n<p>Therefore, if you wish to enforce that the state reachable through the variable does not change, you have to declare the variable <code>final</code>, use an unmodifiable List (for instance with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29\" rel=\"nofollow noreferrer\">Collections.unmodifiableList</a>), and make <code>Synapse</code> objects immutable.</p>\n"},{"tags":[],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351212881,"creation_date":1351212881,"answer_id":13079409,"question_id":13079365,"body_markdown":"The final implementation implies that object reference once initiated, the reference itself can never be changed but the content can of course be. Its not violating the rules at all. You have specified only one rule about the reference change which is working accordingly. If you want the values should also never change you should go for immutable lists i.e \r\n\r\n    List&lt;String&gt; items = Collections.unmodifiableList(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n\r\nSee the following related question.\r\n\r\n - [Final variable manipulation in Java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1249917/1037210","title":"Declaring a List field with the final keyword","body":"<p>The final implementation implies that object reference once initiated, the reference itself can never be changed but the content can of course be. Its not violating the rules at all. You have specified only one rule about the reference change which is working accordingly. If you want the values should also never change you should go for immutable lists i.e </p>\n\n<pre><code>List&lt;String&gt; items = Collections.unmodifiableList(Arrays.asList(\"a\", \"b\", \"c\"));\n</code></pre>\n\n<p>See the following related question.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/1249917/1037210\">Final variable manipulation in Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572019015,"creation_date":1572019015,"answer_id":58561965,"question_id":13079365,"body_markdown":"Above answer explained all in theory here you can find code to run and see actual diffrence ,advisable to use loacal variable\r\n\r\n    package exp_test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class testList {\r\n    \tfinal static List&lt;String&gt; synapses = new ArrayList();;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tsynapses.add(&quot;A&quot;);\r\n    \t\tSystem.out.println(synapses);\r\n    \t\t//\r\n    \t\tSystem.out.println(finalLisTest(synapses));\r\n    \t\t//\r\n    \t\tSystem.out.println(synapses);\r\n    \t\t//\r\n    \t\tsynapses.add(&quot;B&quot;);\r\n    \r\n    \t\tList&lt;String&gt; unmodifiableList = Collections.unmodifiableList(synapses);\r\n    \t\tSystem.out.println(finalLisTest(unmodifiableList));\r\n    \t\t//\r\n    \t\tSystem.out.println(unmodifiableList);\r\n    \r\n    \t}\r\n    \r\n    \tprivate static List finalLisTest(List&lt;String&gt; list) {\r\n    \t\tlist.remove(0);\r\n    \t\treturn null;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nResults :\r\n\r\n    [A]\r\n    null\r\n    []\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n    \tat java.util.Collections$UnmodifiableList.remove(Collections.java:1317)\r\n    \tat exp_test.testList.finalLisTest(testList.java:29)\r\n    \tat exp_test.testList.main(testList.java:22)\r\n\r\n","title":"Declaring a List field with the final keyword","body":"<p>Above answer explained all in theory here you can find code to run and see actual diffrence ,advisable to use loacal variable</p>\n\n<pre><code>package exp_test;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class testList {\n    final static List&lt;String&gt; synapses = new ArrayList();;\n\n    public static void main(String[] args) {\n\n        synapses.add(\"A\");\n        System.out.println(synapses);\n        //\n        System.out.println(finalLisTest(synapses));\n        //\n        System.out.println(synapses);\n        //\n        synapses.add(\"B\");\n\n        List&lt;String&gt; unmodifiableList = Collections.unmodifiableList(synapses);\n        System.out.println(finalLisTest(unmodifiableList));\n        //\n        System.out.println(unmodifiableList);\n\n    }\n\n    private static List finalLisTest(List&lt;String&gt; list) {\n        list.remove(0);\n        return null;\n\n    }\n\n}\n</code></pre>\n\n<p>Results :</p>\n\n<pre><code>[A]\nnull\n[]\nException in thread \"main\" java.lang.UnsupportedOperationException\n    at java.util.Collections$UnmodifiableList.remove(Collections.java:1317)\n    at exp_test.testList.finalLisTest(testList.java:29)\n    at exp_test.testList.main(testList.java:22)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20657535,"reputation":1,"user_id":15166224,"display_name":"Sai&#39;s Spiritual Family"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655395161,"creation_date":1655395161,"answer_id":72648723,"question_id":13079365,"body_markdown":"A List with final keyword, still you can add as well as remove.\r\nBut you cannot copy the list into another list.","title":"Declaring a List field with the final keyword","body":"<p>A List with final keyword, still you can add as well as remove.\nBut you cannot copy the list into another list.</p>\n"}],"owner":{"account_id":1617832,"reputation":14825,"user_id":1495015,"accept_rate":87,"display_name":"letter Q"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62785,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":13079396,"answer_count":7,"score":38,"last_activity_date":1655395161,"creation_date":1351212462,"question_id":13079365,"body_markdown":"If I have the following statement within a class where `Synapse` is an abstract type:\r\n\r\n    private final List&lt;Synapse&gt; synapses;\r\n\r\nDoes `final` allow me to still be able to change the state of the `Synapse` objects in the `List`, but prevent me from adding new `Synapse` objects to the list? If I am wrong, could you please explain what `final` is doing and when I should be using the keyword `final` instead.","title":"Declaring a List field with the final keyword","body":"<p>If I have the following statement within a class where <code>Synapse</code> is an abstract type:</p>\n\n<pre><code>private final List&lt;Synapse&gt; synapses;\n</code></pre>\n\n<p>Does <code>final</code> allow me to still be able to change the state of the <code>Synapse</code> objects in the <code>List</code>, but prevent me from adding new <code>Synapse</code> objects to the list? If I am wrong, could you please explain what <code>final</code> is doing and when I should be using the keyword <code>final</code> instead.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6811956,"reputation":52,"user_id":5241795,"display_name":"TigerT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655395157,"creation_date":1655395157,"answer_id":72648720,"question_id":72648485,"body_markdown":"I think you can use @JoinColumn instead of mappedBy.","title":"Hibernate and strange OneToMany behaviour","body":"<p>I think you can use @JoinColumn instead of mappedBy.</p>\n"}],"owner":{"account_id":17743996,"reputation":152,"user_id":12883648,"display_name":"tafli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655395157,"creation_date":1655394068,"question_id":72648485,"body_markdown":"I&#39;m currently on `spring-boot-starter-data-jpa:2.7.0` which uses `hibernate:5.6.9`.\r\n\r\nI&#39;ve got a strange behavior when chaining multiple entities.\r\n\r\nI got three Entities, where `E1` contains a OneToMany-List of `E2` which also contains a OneToMany-List of `E3`:\r\n\r\n```java\r\n    @Entity\r\n    public class E1 {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n      UUID id;\r\n    \r\n      @OneToMany(mappedBy = &quot;e1&quot;, fetch = FetchType.EAGER)\r\n      List&lt;E2&gt; e2;\r\n    }\r\n```\r\n```java\r\n    @Entity\r\n    public class E2 {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n      UUID id;\r\n\r\n      @ManyToOne\r\n      E1 e1;\r\n    \r\n      @OneToMany(mappedBy = &quot;e2&quot;, fetch = FetchType.EAGER)\r\n      List&lt;E3&gt; e3;\r\n    }\r\n```\r\n```java\r\n    @Entity\r\n    public class E3 {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n      UUID id;\r\n\r\n      @ManyToOne\r\n      E2 e2;\r\n    }\r\n```\r\n\r\nFor each entity I defined simple repositories like:\r\n\r\n```java\r\n@Repository\r\npublic interface E1Repository extends JpaRepository&lt;E1, UUID&gt; {}\r\n\r\n```\r\n\r\n\r\nAdditionally I got according repository classes to access the date. Storing is fine and works fine.\r\n\r\nWhen storing one `E1` with a list of one `E2` having a list of two `E3` leads to the proper data in my database table.\r\n\r\nRetrieving the data using `e1Repository.findAll()` is fine and returns the expected Entity `e1` with **one** `e2` and two `e3`.\r\n\r\nHowever when retrieving the data using `e1Repository.findById(id)` it returns one `e1` entity with **two** `e2` each containing two `e3`. The two `e2` are both the same with the same ID.\r\n\r\nWhen changing the `List&lt;E?&gt;` to a `Set&lt;E?&gt;` it works correctly, but is just a workaround.\r\n\r\nHas anyone an explanation for this behavior? What am I doing wrong or what can I change to get my data right?\r\n\r\nMany thanks!","title":"Hibernate and strange OneToMany behaviour","body":"<p>I'm currently on <code>spring-boot-starter-data-jpa:2.7.0</code> which uses <code>hibernate:5.6.9</code>.</p>\n<p>I've got a strange behavior when chaining multiple entities.</p>\n<p>I got three Entities, where <code>E1</code> contains a OneToMany-List of <code>E2</code> which also contains a OneToMany-List of <code>E3</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    public class E1 {\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n      UUID id;\n    \n      @OneToMany(mappedBy = &quot;e1&quot;, fetch = FetchType.EAGER)\n      List&lt;E2&gt; e2;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    public class E2 {\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n      UUID id;\n\n      @ManyToOne\n      E1 e1;\n    \n      @OneToMany(mappedBy = &quot;e2&quot;, fetch = FetchType.EAGER)\n      List&lt;E3&gt; e3;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    public class E3 {\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n      UUID id;\n\n      @ManyToOne\n      E2 e2;\n    }\n</code></pre>\n<p>For each entity I defined simple repositories like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface E1Repository extends JpaRepository&lt;E1, UUID&gt; {}\n\n</code></pre>\n<p>Additionally I got according repository classes to access the date. Storing is fine and works fine.</p>\n<p>When storing one <code>E1</code> with a list of one <code>E2</code> having a list of two <code>E3</code> leads to the proper data in my database table.</p>\n<p>Retrieving the data using <code>e1Repository.findAll()</code> is fine and returns the expected Entity <code>e1</code> with <strong>one</strong> <code>e2</code> and two <code>e3</code>.</p>\n<p>However when retrieving the data using <code>e1Repository.findById(id)</code> it returns one <code>e1</code> entity with <strong>two</strong> <code>e2</code> each containing two <code>e3</code>. The two <code>e2</code> are both the same with the same ID.</p>\n<p>When changing the <code>List&lt;E?&gt;</code> to a <code>Set&lt;E?&gt;</code> it works correctly, but is just a workaround.</p>\n<p>Has anyone an explanation for this behavior? What am I doing wrong or what can I change to get my data right?</p>\n<p>Many thanks!</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1454874599,"creation_date":1454873971,"answer_id":35258154,"question_id":35258079,"body_markdown":"You&#39;re the tester, so it&#39;s up to you to write code/scripts to **explicitly** test each of the various browser/version combinations and their various nuances and subtleties (whilst trying to reuse as much logic as you can, minimise duplication etc.)\r\n\r\nThe nature of WebDriver is that **you**, the tester, are doing the driving - not the browser. Don&#39;t try to detect things.\r\n\r\nSo given that you have different behaviour for IE and for Chrome, you should explicitly create a `WebDriver` instance for each (in different `@Test`s) and set up the required data (likewise properties, `Capabilities` etc.) as appropriate.\r\n\r\nBy all means share common lookup code between the tests, but until your tests are robust and working you shouldn&#39;t try to refactor them.","title":"How to get browser name using Selenium WebDriver with Java?","body":"<p>You're the tester, so it's up to you to write code/scripts to <strong>explicitly</strong> test each of the various browser/version combinations and their various nuances and subtleties (whilst trying to reuse as much logic as you can, minimise duplication etc.)</p>\n\n<p>The nature of WebDriver is that <strong>you</strong>, the tester, are doing the driving - not the browser. Don't try to detect things.</p>\n\n<p>So given that you have different behaviour for IE and for Chrome, you should explicitly create a <code>WebDriver</code> instance for each (in different <code>@Test</code>s) and set up the required data (likewise properties, <code>Capabilities</code> etc.) as appropriate.</p>\n\n<p>By all means share common lookup code between the tests, but until your tests are robust and working you shouldn't try to refactor them.</p>\n"},{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1603341508,"creation_date":1454910746,"answer_id":35263148,"question_id":35258079,"body_markdown":"You can use below code to know browser name, version and OS details:-\r\n\r\n\r\n\t    Capabilities cap = ((RemoteWebDriver) driver).getCapabilities();\r\n\t    String browserName = cap.getBrowserName().toLowerCase();\r\n\t    System.out.println(browserName);\r\n\t    String os = cap.getPlatform().toString();\r\n\t    System.out.println(os);\r\n\t    String v = cap.getVersion().toString();\r\n\t    System.out.println(v);\r\n\r\npackages you need to import\r\n\r\n    import org.openqa.selenium.Capabilities;\r\n    import org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\nOR\r\n\r\n \r\n\r\n       Capabilities cap = ((RemoteWebDriver) driver).getCapabilities();\r\n    \r\n        String browserName = cap.getBrowserName();\r\n        String browserVersion = (String)cap.getCapability(&quot;browserVersion&quot;);\r\n        String osName = Platform.fromString((String)cap.getCapability(&quot;platformName&quot;)).name().toLowerCase();\r\n    \r\n        return browserName + browserVersion + &quot;-&quot; + osName;\r\n\r\nHope it will help you :)","title":"How to get browser name using Selenium WebDriver with Java?","body":"<p>You can use below code to know browser name, version and OS details:-</p>\n<pre><code>    Capabilities cap = ((RemoteWebDriver) driver).getCapabilities();\n    String browserName = cap.getBrowserName().toLowerCase();\n    System.out.println(browserName);\n    String os = cap.getPlatform().toString();\n    System.out.println(os);\n    String v = cap.getVersion().toString();\n    System.out.println(v);\n</code></pre>\n<p>packages you need to import</p>\n<pre><code>import org.openqa.selenium.Capabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n</code></pre>\n<p>OR</p>\n<pre><code>   Capabilities cap = ((RemoteWebDriver) driver).getCapabilities();\n\n    String browserName = cap.getBrowserName();\n    String browserVersion = (String)cap.getCapability(&quot;browserVersion&quot;);\n    String osName = Platform.fromString((String)cap.getCapability(&quot;platformName&quot;)).name().toLowerCase();\n\n    return browserName + browserVersion + &quot;-&quot; + osName;\n</code></pre>\n<p>Hope it will help you :)</p>\n"},{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1486487678,"creation_date":1469463042,"answer_id":38572683,"question_id":35258079,"body_markdown":"In Python, you may access the `driver.capabilities` dict like this\r\n\r\n    driver.capabilities[&#39;browserName&#39;]\r\n\r\nhttps://groups.google.com/forum/#!topic/selenium-users/nbSujBSc6q8","title":"How to get browser name using Selenium WebDriver with Java?","body":"<p>In Python, you may access the <code>driver.capabilities</code> dict like this</p>\n\n<pre><code>driver.capabilities['browserName']\n</code></pre>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/selenium-users/nbSujBSc6q8\" rel=\"noreferrer\">https://groups.google.com/forum/#!topic/selenium-users/nbSujBSc6q8</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603302502,"creation_date":1590270603,"answer_id":61978993,"question_id":35258079,"body_markdown":"To retrieve the _Browser Name_ , _Browser Version_  and _Platform Name_  you can use either of the following approaches:\r\n\r\n- Using the API directly:\r\n  - Code Block:\r\n\r\n\t\timport org.openqa.selenium.WebDriver;\r\n\t\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\t\timport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\n\t\tpublic class browserCapabilitiesRetrieve {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t\t// initial configuration\r\n\t\t\t\tSystem.out.println(&quot;Browser Name is : &quot;+((RemoteWebDriver) driver).getCapabilities().getBrowserName().toLowerCase());\r\n\t\t\t\tSystem.out.println(&quot;Browser Version is : &quot;+((RemoteWebDriver) driver).getCapabilities().getVersion().toString());\r\n\t\t\t\tSystem.out.println(&quot;Platform Name is : &quot;+((RemoteWebDriver) driver).getCapabilities().getPlatform().toString());\r\n\t\t\t\tdriver.quit();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n- Using the _Capabilities_ object and `getCapability()` method:\r\n  - Code Block:\r\n\r\n\t    import org.openqa.selenium.Capabilities;\r\n\t\timport org.openqa.selenium.WebDriver;\r\n\t\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\t\timport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\n\t\tpublic class FirefoxBrowserCapabilitiesRetrieve_getCapability {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t\t// initial configuration\r\n\t\t\t\tCapabilities cap = ((RemoteWebDriver) driver).getCapabilities();\r\n\t\t\t\tSystem.out.println(&quot;Browser Name is : &quot;+cap.getBrowserName());\r\n\t\t\t\tSystem.out.println(&quot;Browser version is : &quot;+cap.getVersion());           \r\n\t\t\t\tSystem.out.println(&quot;Platform is : &quot;+cap.getPlatform().toString());\r\n\t\t\t\tdriver.quit();\r\n\t\t\t}\r\n\t\t}","title":"How to get browser name using Selenium WebDriver with Java?","body":"<p>To retrieve the <em>Browser Name</em> , <em>Browser Version</em>  and <em>Platform Name</em>  you can use either of the following approaches:</p>\n<ul>\n<li><p>Using the API directly:</p>\n<ul>\n<li><p>Code Block:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\npublic class browserCapabilitiesRetrieve {\n\n    public static void main(String[] args) {\n\n        // initial configuration\n        System.out.println(&quot;Browser Name is : &quot;+((RemoteWebDriver) driver).getCapabilities().getBrowserName().toLowerCase());\n        System.out.println(&quot;Browser Version is : &quot;+((RemoteWebDriver) driver).getCapabilities().getVersion().toString());\n        System.out.println(&quot;Platform Name is : &quot;+((RemoteWebDriver) driver).getCapabilities().getPlatform().toString());\n        driver.quit();\n    }\n}\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>Using the <em>Capabilities</em> object and <code>getCapability()</code> method:</p>\n<ul>\n<li><p>Code Block:</p>\n<pre><code>import org.openqa.selenium.Capabilities;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\npublic class FirefoxBrowserCapabilitiesRetrieve_getCapability {\n\n    public static void main(String[] args) {\n\n        // initial configuration\n        Capabilities cap = ((RemoteWebDriver) driver).getCapabilities();\n        System.out.println(&quot;Browser Name is : &quot;+cap.getBrowserName());\n        System.out.println(&quot;Browser version is : &quot;+cap.getVersion());           \n        System.out.println(&quot;Platform is : &quot;+cap.getPlatform().toString());\n        driver.quit();\n    }\n}\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4963622,"reputation":879,"user_id":3993805,"display_name":"Rushby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600102749,"creation_date":1600102749,"answer_id":63888768,"question_id":35258079,"body_markdown":"For those using C# you can do the following to detect browser when using either the local browser driver or remotewebdriver:\r\n\r\n            public static bool IsSafari(IWebDriver driver)\r\n            {\r\n                // Using remotewebdriver e.g. browserstack\r\n                if (SomeConfig.UsingRemoteWebDriver)\r\n                    return GetRemoteDriverBrowserName(driver) == &quot;safari&quot;;\r\n                // Using local browser driver\r\n                return driver.GetType() == typeof(SafariDriver);\r\n            }\r\n    \r\n            public static bool IsInternetExplorer(IWebDriver driver)\r\n            {\r\n                // Using remotewebdriver e.g. browserstack\r\n                if (SomeConfig.UsingRemoteWebDriver)\r\n                    return GetRemoteDriverBrowserName(driver) == &quot;internet explorer&quot;;\r\n                // Using local browser driver\r\n                return driver.GetType() == typeof(InternetExplorerDriver);\r\n            }\r\n    \r\n            private static string GetRemoteDriverBrowserName(IWebDriver driver)\r\n            {\r\n                return ((RemoteWebDriver)driver).Capabilities.GetCapability(&quot;browserName&quot;).ToString().ToLower();\r\n            }","title":"How to get browser name using Selenium WebDriver with Java?","body":"<p>For those using C# you can do the following to detect browser when using either the local browser driver or remotewebdriver:</p>\n<pre><code>        public static bool IsSafari(IWebDriver driver)\n        {\n            // Using remotewebdriver e.g. browserstack\n            if (SomeConfig.UsingRemoteWebDriver)\n                return GetRemoteDriverBrowserName(driver) == &quot;safari&quot;;\n            // Using local browser driver\n            return driver.GetType() == typeof(SafariDriver);\n        }\n\n        public static bool IsInternetExplorer(IWebDriver driver)\n        {\n            // Using remotewebdriver e.g. browserstack\n            if (SomeConfig.UsingRemoteWebDriver)\n                return GetRemoteDriverBrowserName(driver) == &quot;internet explorer&quot;;\n            // Using local browser driver\n            return driver.GetType() == typeof(InternetExplorerDriver);\n        }\n\n        private static string GetRemoteDriverBrowserName(IWebDriver driver)\n        {\n            return ((RemoteWebDriver)driver).Capabilities.GetCapability(&quot;browserName&quot;).ToString().ToLower();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10601261,"reputation":57,"user_id":7808151,"display_name":"Meltrix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655394574,"creation_date":1655213023,"answer_id":72617769,"question_id":35258079,"body_markdown":"To list all capabilities in Java you can use:\r\n\r\n\r\n```java\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\nfor (String s : ((RemoteWebDriver) driver).getCapabilities().getCapabilityNames()) {\r\n    System.out.println(s + &quot; :: &quot; + ((RemoteWebDriver) driver).getCapabilities().getCapability(s));\r\n}\r\n``` ","title":"How to get browser name using Selenium WebDriver with Java?","body":"<p>To list all capabilities in Java you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.remote.RemoteWebDriver;\n\nfor (String s : ((RemoteWebDriver) driver).getCapabilities().getCapabilityNames()) {\n    System.out.println(s + &quot; :: &quot; + ((RemoteWebDriver) driver).getCapabilities().getCapability(s));\n}\n</code></pre>\n"}],"owner":{"account_id":7739665,"reputation":181,"user_id":5859959,"display_name":"Swathi Chowdary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47828,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":35263148,"answer_count":6,"score":18,"last_activity_date":1655394574,"creation_date":1454873588,"question_id":35258079,"body_markdown":"I have a test case and need to execute based on the browser name i.e. IE or Chrome. In this test case some part will depend on browser type.\r\n\r\nHow will I get the browser name in between the execution? Example if it is IE, I need to pass the data. If it is Chrome browser, I need to select the data.   \r\n","title":"How to get browser name using Selenium WebDriver with Java?","body":"<p>I have a test case and need to execute based on the browser name i.e. IE or Chrome. In this test case some part will depend on browser type.</p>\n\n<p>How will I get the browser name in between the execution? Example if it is IE, I need to pass the data. If it is Chrome browser, I need to select the data.   </p>\n"},{"tags":["java","android","android-studio","kotlin","retrofit"],"comments":[{"owner":{"account_id":21743022,"reputation":611,"user_id":16050098,"display_name":"Jeroen Verfaillie"},"score":0,"creation_date":1655393465,"post_id":72648257,"comment_id":128326651,"body_markdown":"you could set up a websocket. Implementation will depent on used websocket library.","body":"you could set up a websocket. Implementation will depent on used websocket library."}],"answers":[{"tags":[],"owner":{"account_id":11167870,"reputation":597,"user_id":8195926,"display_name":"Sahitya Pasnoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655394551,"creation_date":1655394551,"answer_id":72648578,"question_id":72648257,"body_markdown":"Send a push notification to app when data is changed and then once you acknowledge that notification you can make api call to get the latest data. \r\n\r\nFor notifications you can use:\r\n\r\n1. Firebase sdk (https://firebase.google.com/docs/cloud-messaging/send- \r\n    message)\r\n\r\n2. Use Aws SNS in the backend to send notification to firebase/apns ","title":"I want my android application to show the latest data from backend","body":"<p>Send a push notification to app when data is changed and then once you acknowledge that notification you can make api call to get the latest data.</p>\n<p>For notifications you can use:</p>\n<ol>\n<li><p>Firebase sdk (<a href=\"https://firebase.google.com/docs/cloud-messaging/send-\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/send-</a>\nmessage)</p>\n</li>\n<li><p>Use Aws SNS in the backend to send notification to firebase/apns</p>\n</li>\n</ol>\n"}],"owner":{"account_id":16908317,"reputation":757,"user_id":12228079,"display_name":"Kunal Kalwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655644251,"answer_count":1,"score":0,"last_activity_date":1655394551,"creation_date":1655393098,"question_id":72648257,"body_markdown":"I want my android application to show the latest data from backend, I can make the api call in a interval but this not feels like a right solution. I want to make the api call only if there is a change in that api.","title":"I want my android application to show the latest data from backend","body":"<p>I want my android application to show the latest data from backend, I can make the api call in a interval but this not feels like a right solution. I want to make the api call only if there is a change in that api.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655394388,"post_id":72648480,"comment_id":128327030,"body_markdown":"`c1 = c2` has no effect because you are overwriting a local parameter. Java is not C or C# in this regard and can&#39;t overwrite the original reference from within the method.","body":"<code>c1 = c2</code> has no effect because you are overwriting a local parameter. Java is not C or C# in this regard and can&#39;t overwrite the original reference from within the method."},{"owner":{"account_id":3088359,"reputation":71,"user_id":2615061,"display_name":"Vladimir Efimenko"},"score":1,"creation_date":1655394595,"post_id":72648480,"comment_id":128327109,"body_markdown":"@akarnokd, c# behaves exactly the same way as java by default, but you can pass the parameter by reference using ref keyword","body":"@akarnokd, c# behaves exactly the same way as java by default, but you can pass the parameter by reference using ref keyword"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655394718,"post_id":72648480,"comment_id":128327175,"body_markdown":"@VladimirEfimenko I know but didn&#39;t want to confuse the OP with syntax not existing in Java.","body":"@VladimirEfimenko I know but didn&#39;t want to confuse the OP with syntax not existing in Java."},{"owner":{"account_id":3088359,"reputation":71,"user_id":2615061,"display_name":"Vladimir Efimenko"},"score":1,"creation_date":1655394745,"post_id":72648480,"comment_id":128327187,"body_markdown":"It has nothing to do with OOP, this is how parameters are passed to the methods, the c1 is a copy of a reference you pass to the method","body":"It has nothing to do with OOP, this is how parameters are passed to the methods, the c1 is a copy of a reference you pass to the method"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1655396140,"post_id":72648480,"comment_id":128327761,"body_markdown":"And C would behave the same if you passed an Account pointer to a function and then reassigned the pointer to point to a different Account struct within the function. The reason in all three cases is that you are passing a pointer (or a reference) by *value* and assigning a different value to the parameter has no effect on the caller.","body":"And C would behave the same if you passed an Account pointer to a function and then reassigned the pointer to point to a different Account struct within the function. The reason in all three cases is that you are passing a pointer (or a reference) by <i>value</i> and assigning a different value to the parameter has no effect on the caller."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655396654,"post_id":72648480,"comment_id":128327943,"body_markdown":"The title of your Question here should be a summary of your specific technical issue.","body":"The title of your Question here should be a summary of your specific technical issue."}],"owner":{"account_id":22876999,"reputation":56,"user_id":17033898,"display_name":"rascadux"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655394590,"answer_count":0,"score":0,"last_activity_date":1655394325,"creation_date":1655394051,"question_id":72648480,"body_markdown":"I am starting to learn Java and I am struggling trying to understand why in this situation, the account money doesn&#39;t change to 5. \r\n\r\nTrying with code I have realized that inside the method `manipulate()` the money of c1 actually changes but when returns to the main, it just increases and doesn&#39;t get the value of c2 (guess it is something about memory directions). \r\n\r\nI am little familiarized with C and I understand it must be something like using a parameter with or without pointer but as this is OOP, I cant understand it. Could someone explain me easily?\r\n```\r\npublic class Account {\r\n    private int money;\r\n    \r\n    public Account(int money){\r\n        this.money=money;\r\n    }\r\n    \r\n    public static void manipulate(Account c1){\r\n        c1.add(120);\r\n        Account c2 = new Account(5);\r\n        c1 = c2;\r\n    }\r\n    \r\n    public void add(int money){\r\n        this.money += money;\r\n    }\r\n    \r\n    public int actual_money(){\r\n        return this.money;\r\n    }\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n      Account c1 = new Account(100);\r\n\r\n      manipulate(c1);\r\n      \r\n      System.out.println(&quot;Money = &quot; + c1.actual_money()); //prints 220\r\n    }\r\n}\r\n```","title":"Can&#180;t understand Java basics","body":"<p>I am starting to learn Java and I am struggling trying to understand why in this situation, the account money doesn't change to 5.</p>\n<p>Trying with code I have realized that inside the method <code>manipulate()</code> the money of c1 actually changes but when returns to the main, it just increases and doesn't get the value of c2 (guess it is something about memory directions).</p>\n<p>I am little familiarized with C and I understand it must be something like using a parameter with or without pointer but as this is OOP, I cant understand it. Could someone explain me easily?</p>\n<pre><code>public class Account {\n    private int money;\n    \n    public Account(int money){\n        this.money=money;\n    }\n    \n    public static void manipulate(Account c1){\n        c1.add(120);\n        Account c2 = new Account(5);\n        c1 = c2;\n    }\n    \n    public void add(int money){\n        this.money += money;\n    }\n    \n    public int actual_money(){\n        return this.money;\n    }\n    \n    public static void main(String args[]) {\n        \n      Account c1 = new Account(100);\n\n      manipulate(c1);\n      \n      System.out.println(&quot;Money = &quot; + c1.actual_money()); //prints 220\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","apache-spark","apache-spark-sql","javadoc"],"owner":{"account_id":6535458,"reputation":332,"user_id":5055126,"display_name":"FailureGod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655394119,"creation_date":1655394119,"question_id":72648494,"body_markdown":"## Goal and Problem\r\nI&#39;m trying to compile a minimal version of spark to get our container size down. We only use spark-sql and pyspark. Here&#39;s the dockerfile I&#39;ve been using\r\n\r\n```docker\r\nFROM openjdk:20-bullseye\r\n\r\nRUN apt-get update &amp;&amp; \\\r\n    apt-get install git -y &amp;&amp; \\\r\n    git clone --depth=1 --branch=v3.3.0 https://github.com/apache/spark /root/spark &amp;&amp; \\\r\n    cd /root/spark &amp;&amp; \\\r\n    ./dev/make-distribution.sh --tgz --pip -pl :spark-core_2.12,:spark-sql_2.12 -P &#39;!test-java-home,kubernetes,hadoop-3,apache-release&#39; -DskipTests\r\n```\r\n\r\nWhen compiling I get the following error\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.1.1:jar (attach-javadocs) on project spark-core_2.12: MavenReportException: Error while generating Javadoc:\r\n[ERROR] Exit code: 1 - /root/spark/core/src/main/java/org/apache/spark/SparkFirehoseListener.java:36: error: cannot find symbol\r\n[ERROR] public class SparkFirehoseListener implements SparkListenerInterface {\r\n[ERROR]                                               ^\r\n[ERROR]   symbol: class SparkListenerInterface\r\n[ERROR] /root/spark/core/src/main/java/org/apache/spark/SparkFirehoseListener.java:38: error: cannot find symbol\r\n[ERROR]   public void onEvent(SparkListenerEvent event) { }\r\n...\r\n```\r\nThen there&#39;s just a bunch of &quot;error:cannot find symbol&quot; stuff.\r\n\r\n## Question\r\nHow do I fix this so it works?  \r\nHow do I turn off the documentation from the command line (I would really like to avoid changing files as automating that is perilous)?","title":"Unable to compile spark due to attach-javadoc","body":"<h2>Goal and Problem</h2>\n<p>I'm trying to compile a minimal version of spark to get our container size down. We only use spark-sql and pyspark. Here's the dockerfile I've been using</p>\n<pre><code>FROM openjdk:20-bullseye\n\nRUN apt-get update &amp;&amp; \\\n    apt-get install git -y &amp;&amp; \\\n    git clone --depth=1 --branch=v3.3.0 https://github.com/apache/spark /root/spark &amp;&amp; \\\n    cd /root/spark &amp;&amp; \\\n    ./dev/make-distribution.sh --tgz --pip -pl :spark-core_2.12,:spark-sql_2.12 -P '!test-java-home,kubernetes,hadoop-3,apache-release' -DskipTests\n</code></pre>\n<p>When compiling I get the following error</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.1.1:jar (attach-javadocs) on project spark-core_2.12: MavenReportException: Error while generating Javadoc:\n[ERROR] Exit code: 1 - /root/spark/core/src/main/java/org/apache/spark/SparkFirehoseListener.java:36: error: cannot find symbol\n[ERROR] public class SparkFirehoseListener implements SparkListenerInterface {\n[ERROR]                                               ^\n[ERROR]   symbol: class SparkListenerInterface\n[ERROR] /root/spark/core/src/main/java/org/apache/spark/SparkFirehoseListener.java:38: error: cannot find symbol\n[ERROR]   public void onEvent(SparkListenerEvent event) { }\n...\n</code></pre>\n<p>Then there's just a bunch of &quot;error:cannot find symbol&quot; stuff.</p>\n<h2>Question</h2>\n<p>How do I fix this so it works?<br />\nHow do I turn off the documentation from the command line (I would really like to avoid changing files as automating that is perilous)?</p>\n"},{"tags":["java","iteration"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":1,"creation_date":1655394311,"post_id":72648484,"comment_id":128326998,"body_markdown":"If all you want to know is the number of permutations, there&#39;s a simple formula...","body":"If all you want to know is the number of permutations, there&#39;s a simple formula..."},{"owner":{"account_id":23129971,"reputation":7,"user_id":17235158,"display_name":"Gianfranco Mauro"},"score":0,"creation_date":1655453460,"post_id":72648484,"comment_id":128340781,"body_markdown":"@Gardener I tried but it&#39;s still not working, thanks tho","body":"@Gardener I tried but it&#39;s still not working, thanks tho"}],"owner":{"account_id":23129971,"reputation":7,"user_id":17235158,"display_name":"Gianfranco Mauro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1655394067,"creation_date":1655394067,"question_id":72648484,"body_markdown":"I need to find the permutations of a string in Java, for example &quot;abc&quot; will be &quot;abc&quot; &quot;acb&quot; &quot;bac&quot; &quot;bca&quot; &quot;cab&quot; &quot;cba&quot; and return the number of said permutations. \r\nMy code is looking like this right now:\r\n\r\n    import java.util.Stack;\r\n    import java.util.Vector;\r\n    \r\n    public static Vector&lt;String&gt; permIter( String u ) { // u not empty\r\n      Vector&lt;String&gt; p = new Vector&lt;String&gt;();\r\n     int n = u.length(), k;\r\n     Stack&lt;String&gt; s = new Stack&lt;String&gt;();\r\n     Stack&lt;Integer&gt; t = new Stack&lt;Integer&gt;();\r\n     s.push (u); t.push(0);\r\n    do {\r\n    k = t.pop(); t.push(k);\r\n     if ( k == n-1 ) {\r\n         p.add( u );\r\n    } else {\r\n      t.push(k+1); \r\n      for (int i=k+1; i&lt;n; i=i+1) {\r\n       String v = u.substring( 0, k ) + u.substring( i, i+1 ) + u.substring( k+1, i )\r\n                                      + u.substring( k, k+1 ) + u.substring( i+1, n );\r\n        p.add(v); \r\n       } \r\n       s.pop(); \r\n      }\r\n     } while ( !s.empty() );\r\n      return p;\r\n    }\r\n\r\nThe problem is that when I take a string, let&#39;s say &quot;abc&quot;, the code skips the second permutation with the same beginning letter and instead of counting 6 permutations, it counts 3. \r\nCan anyone help me? Thanks!","title":"Finding the permutations of a string using Stack in java?","body":"<p>I need to find the permutations of a string in Java, for example &quot;abc&quot; will be &quot;abc&quot; &quot;acb&quot; &quot;bac&quot; &quot;bca&quot; &quot;cab&quot; &quot;cba&quot; and return the number of said permutations.\nMy code is looking like this right now:</p>\n<pre><code>import java.util.Stack;\nimport java.util.Vector;\n\npublic static Vector&lt;String&gt; permIter( String u ) { // u not empty\n  Vector&lt;String&gt; p = new Vector&lt;String&gt;();\n int n = u.length(), k;\n Stack&lt;String&gt; s = new Stack&lt;String&gt;();\n Stack&lt;Integer&gt; t = new Stack&lt;Integer&gt;();\n s.push (u); t.push(0);\ndo {\nk = t.pop(); t.push(k);\n if ( k == n-1 ) {\n     p.add( u );\n} else {\n  t.push(k+1); \n  for (int i=k+1; i&lt;n; i=i+1) {\n   String v = u.substring( 0, k ) + u.substring( i, i+1 ) + u.substring( k+1, i )\n                                  + u.substring( k, k+1 ) + u.substring( i+1, n );\n    p.add(v); \n   } \n   s.pop(); \n  }\n } while ( !s.empty() );\n  return p;\n}\n</code></pre>\n<p>The problem is that when I take a string, let's say &quot;abc&quot;, the code skips the second permutation with the same beginning letter and instead of counting 6 permutations, it counts 3.\nCan anyone help me? Thanks!</p>\n"},{"tags":["java","apache-camel","ognl","mvel","enterprise-integration"],"owner":{"account_id":5100302,"reputation":1750,"user_id":4090111,"accept_rate":80,"display_name":"Ulrich Schuster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655393069,"creation_date":1655393069,"question_id":72648252,"body_markdown":"In several of my camel routes, I need to access a field of an object, process it, and use it for something.\r\n\r\nFor example: Say I have an object of\r\n```\r\nclass myClass {\r\n  int fieldA;\r\n  String fieldB;\r\n}\r\n```\r\nwhich is used as an exchange header, say on `myOldHeader`. In my route definition, I want to access `fieldA` from this header, process it with, a function of some bean, say `String myIntTransform(int)`, and place the result into some other header. That is, I would like to have an element in my route definition similar to the following (pseudocode):\r\n\r\n```\r\nfrom(direct:input)\r\n  .setHeader(&quot;myNewHeader&quot;).method(&quot;MyBean&quot;, &quot;myIntTransform&quot;).on(header(&quot;myOldHeader&quot;).field(&quot;fieldA&quot;)\r\n  .to(direct:output)\r\n```\r\n\r\nI know that Camel comes with a zoo of expression languages and DSLs for all sorts of tasks. But so far, I haven&#39;t found a convenient way to accomplish the above *without* having to put specific annotations (like `@Header`) on &quot;myBean&quot;, which would create a tight coupling of beans I am trying to avoid.","title":"Access and process field in an Apache Camel exchange","body":"<p>In several of my camel routes, I need to access a field of an object, process it, and use it for something.</p>\n<p>For example: Say I have an object of</p>\n<pre><code>class myClass {\n  int fieldA;\n  String fieldB;\n}\n</code></pre>\n<p>which is used as an exchange header, say on <code>myOldHeader</code>. In my route definition, I want to access <code>fieldA</code> from this header, process it with, a function of some bean, say <code>String myIntTransform(int)</code>, and place the result into some other header. That is, I would like to have an element in my route definition similar to the following (pseudocode):</p>\n<pre><code>from(direct:input)\n  .setHeader(&quot;myNewHeader&quot;).method(&quot;MyBean&quot;, &quot;myIntTransform&quot;).on(header(&quot;myOldHeader&quot;).field(&quot;fieldA&quot;)\n  .to(direct:output)\n</code></pre>\n<p>I know that Camel comes with a zoo of expression languages and DSLs for all sorts of tasks. But so far, I haven't found a convenient way to accomplish the above <em>without</em> having to put specific annotations (like <code>@Header</code>) on &quot;myBean&quot;, which would create a tight coupling of beans I am trying to avoid.</p>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1652451311,"post_id":72230813,"comment_id":127616584,"body_markdown":"the &quot;origin&quot; is a bit unclear, do you mean to hit the X or Y axis (what your implementation implies)? or do you mean to reach the (0,0) point?","body":"the &quot;origin&quot; is a bit unclear, do you mean to hit the X or Y axis (what your implementation implies)? or do you mean to reach the (0,0) point?"}],"answers":[{"tags":[],"owner":{"account_id":25282733,"reputation":11,"user_id":19110335,"display_name":"Mina Samaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655392726,"creation_date":1655392703,"answer_id":72648174,"question_id":72230813,"body_markdown":"I figured out that for recursive without mem , it will be O(2^(m+n)), but with mem, it will be O(m*n). However I am not 100 sure.","title":"Time complexity of path finding problem using dynamic programming","body":"<p>I figured out that for recursive without mem , it will be O(2^(m+n)), but with mem, it will be O(m*n). However I am not 100 sure.</p>\n"}],"owner":{"account_id":25282733,"reputation":11,"user_id":19110335,"display_name":"Mina Samaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655392726,"creation_date":1652450412,"question_id":72230813,"body_markdown":"&gt; You are given x, y coordinates in the first quarter, and you try to reach the origin point (0,0) for example if you are at point (1,1) you can go to point 1,0 then 0,0. Return how many unique paths you can take.\r\nYou can only move left or down.\r\n&gt; \r\n&gt; This can be solved recursively and with memoization you can optimize the solution.\r\n\r\n```\r\nclass Solution {\r\n\tpublic static int findUniquePaths(int x, int y){\r\n\t\tif(x == 0 || y == 0 ){\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\t\r\n\t\treturn findUniquePaths(x -1, y) + findUniquePaths(x, y -1);\r\n\t}\r\n\t\r\n\t//initialize mem to -1 before calling this function.\r\n\tpublic static int findUniquePathsDP(int x, int y,int[][] mem){\r\n\t\tif(x == 0 || y == 0 ){\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (mem[x][y] != -1){\r\n\t\t\treturn mem[x][y];\r\n\t\t}\r\n\t\r\n\t\tmem[x][y] = findUniquePathsDP(x -1, y,mem) + findUniquePathsDP(x, y -1,mem);\r\n\t\treturn mem[x][y];\r\n\t}\r\n}\r\n```\r\n\r\nHow can I find the time complexity of this problem with or without memoization?","title":"Time complexity of path finding problem using dynamic programming","body":"<blockquote>\n<p>You are given x, y coordinates in the first quarter, and you try to reach the origin point (0,0) for example if you are at point (1,1) you can go to point 1,0 then 0,0. Return how many unique paths you can take.\nYou can only move left or down.</p>\n<p>This can be solved recursively and with memoization you can optimize the solution.</p>\n</blockquote>\n<pre><code>class Solution {\n    public static int findUniquePaths(int x, int y){\n        if(x == 0 || y == 0 ){\n            return 1;\n        }\n        \n        return findUniquePaths(x -1, y) + findUniquePaths(x, y -1);\n    }\n    \n    //initialize mem to -1 before calling this function.\n    public static int findUniquePathsDP(int x, int y,int[][] mem){\n        if(x == 0 || y == 0 ){\n            return 1;\n        }\n        if (mem[x][y] != -1){\n            return mem[x][y];\n        }\n    \n        mem[x][y] = findUniquePathsDP(x -1, y,mem) + findUniquePathsDP(x, y -1,mem);\n        return mem[x][y];\n    }\n}\n</code></pre>\n<p>How can I find the time complexity of this problem with or without memoization?</p>\n"},{"tags":["javascript","java","websocket","datagram"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655392629,"creation_date":1655392629,"answer_id":72648153,"question_id":72647466,"body_markdown":"UDP (DatagramSocket) and WebSocket are totally different things.\r\nWebSocket is a protocol on top of HTTP which is on top of TCP.\r\n\r\nIn JavaScript running inside the browser you cannot send UDP packages.\r\n\r\nYou can write some kind of a proxy server, which can receive messages via WebSocket from your JavaScript program and send them via UDP to your server.\r\n\r\nOr extend your server with a WebSocket interface.","title":"Sending bytes from javascript client to java backend DatagramSocket","body":"<p>UDP (DatagramSocket) and WebSocket are totally different things.\nWebSocket is a protocol on top of HTTP which is on top of TCP.</p>\n<p>In JavaScript running inside the browser you cannot send UDP packages.</p>\n<p>You can write some kind of a proxy server, which can receive messages via WebSocket from your JavaScript program and send them via UDP to your server.</p>\n<p>Or extend your server with a WebSocket interface.</p>\n"}],"owner":{"account_id":7232205,"reputation":111,"user_id":5518602,"accept_rate":55,"display_name":"Ariel Netz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655392629,"creation_date":1655389467,"question_id":72647466,"body_markdown":"I have a java app that functions as a server, listening to some port using the java.net.DatagramSocket class. The server is able to receive packets from some other java clients. \r\nWhat I did not manage to do is have a javascript client to the server. \r\nI&#39;ve tried sending messages as WebSocket client \r\n\r\n        const ws = new WebSocket(&quot;ws://localhost:9999&quot;);\r\n        ws.addEventListener(&quot;open&quot;, () =&gt; {\r\n            console.log(&quot;CONNECTED&quot;)\r\n        })\r\n\r\nBut I&#39;m getting the following error in the browser console: \r\n&gt;App.js:9 WebSocket connection to &#39;ws://localhost:9999/&#39; failed:\r\n\r\nI&#39;ve also tried using net library to send message:\r\n \r\n        const net = require(&quot;net&quot;);\r\n        const options = {\r\n            post: 9999\r\n        };\r\n        const  client = net.createConnection(options);\r\n        client.write(&quot;TEST&quot;)\r\n\r\nBut I&#39;m getting the following error: \r\n\r\n&gt;Uncaught TypeError: net.createConnection is not a function\r\n\r\nIs there any other way to do this? ","title":"Sending bytes from javascript client to java backend DatagramSocket","body":"<p>I have a java app that functions as a server, listening to some port using the java.net.DatagramSocket class. The server is able to receive packets from some other java clients.\nWhat I did not manage to do is have a javascript client to the server.\nI've tried sending messages as WebSocket client</p>\n<pre><code>    const ws = new WebSocket(&quot;ws://localhost:9999&quot;);\n    ws.addEventListener(&quot;open&quot;, () =&gt; {\n        console.log(&quot;CONNECTED&quot;)\n    })\n</code></pre>\n<p>But I'm getting the following error in the browser console:</p>\n<blockquote>\n<p>App.js:9 WebSocket connection to 'ws://localhost:9999/' failed:</p>\n</blockquote>\n<p>I've also tried using net library to send message:</p>\n<pre><code>    const net = require(&quot;net&quot;);\n    const options = {\n        post: 9999\n    };\n    const  client = net.createConnection(options);\n    client.write(&quot;TEST&quot;)\n</code></pre>\n<p>But I'm getting the following error:</p>\n<blockquote>\n<p>Uncaught TypeError: net.createConnection is not a function</p>\n</blockquote>\n<p>Is there any other way to do this?</p>\n"},{"tags":["java","spring","spring-boot","webhooks","zendesk"],"owner":{"account_id":12363836,"reputation":509,"user_id":9016872,"display_name":"Jainam Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655392415,"creation_date":1655392415,"question_id":72648113,"body_markdown":"I am migrating some code to Java Spring Boot and using Zendesk Webhooks. The webhooks requests have two headers \r\n```\r\nX-Zendesk-Webhook-Signature - the main signature\r\nX-Zendesk-Webhook-Signature-Timestamp - the timestamp used to verify the signature\r\n```\r\nAlso there is a secret key. Until now I was able to test webhook and it successfully reached my @RestController but now I want to validate it that its coming from Zendesk. \r\nRef - https://developer.zendesk.com/documentation/event-connectors/webhooks/verifying/\r\n","title":"Verifying webhook authenticity using Spring Boot","body":"<p>I am migrating some code to Java Spring Boot and using Zendesk Webhooks. The webhooks requests have two headers</p>\n<pre><code>X-Zendesk-Webhook-Signature - the main signature\nX-Zendesk-Webhook-Signature-Timestamp - the timestamp used to verify the signature\n</code></pre>\n<p>Also there is a secret key. Until now I was able to test webhook and it successfully reached my @RestController but now I want to validate it that its coming from Zendesk.\nRef - <a href=\"https://developer.zendesk.com/documentation/event-connectors/webhooks/verifying/\" rel=\"nofollow noreferrer\">https://developer.zendesk.com/documentation/event-connectors/webhooks/verifying/</a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1623144811,"post_id":67884970,"comment_id":119988970,"body_markdown":"You should look into using the executor framework, using `Callable&lt;Integer&gt;`s to represent calculations.","body":"You should look into using the executor framework, using <code>Callable&lt;Integer&gt;</code>s to represent calculations."},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1623144929,"post_id":67884970,"comment_id":119989015,"body_markdown":"why is that can you explain what it do and what thread do not?","body":"why is that can you explain what it do and what thread do not?"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1623159748,"post_id":67884970,"comment_id":119994187,"body_markdown":"You can&#39;t modify a list while you are iterating it, that&#39;s what the `ConcurrentModificationException` means, it has nothing to do with concurrency, threads, etc","body":"You can&#39;t modify a list while you are iterating it, that&#39;s what the <code>ConcurrentModificationException</code> means, it has nothing to do with concurrency, threads, etc"},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1623160115,"post_id":67884970,"comment_id":119994380,"body_markdown":"so how can i overcome this? using iterator?","body":"so how can i overcome this? using iterator?"}],"answers":[{"tags":[],"owner":{"account_id":21637087,"reputation":1183,"user_id":15959847,"display_name":"McKinley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655392213,"creation_date":1623144984,"answer_id":67885096,"question_id":67884970,"body_markdown":"The error is in your first `for` loop:\r\n\r\n```\r\nfor (Thread j : jobs) {\r\n    j.start();\r\n}\r\n```\r\n\r\nCalling `start` on a sequence of threads does not guarantee that they will all be executed in the same order in which they were started. Some threads may experience a slight delay before executing, while others may execute instantly.\r\n\r\nTo make sure they execute sequentially, you must wait for each to conclude before beginning the next:\r\n\r\n```\r\nfor (Thread j : jobs) {\r\n    j.start();\r\n    // Wait for `j` to die before starting the next thread\r\n    j.join();\r\n}\r\n```\r\n\r\nBut regardless, in the example you&#39;ve provided, multithreading actually isn&#39;t necessary since all the operations are being done serially anyways.","title":"Java multithreaded int manipulation doing right","body":"<p>The error is in your first <code>for</code> loop:</p>\n<pre><code>for (Thread j : jobs) {\n    j.start();\n}\n</code></pre>\n<p>Calling <code>start</code> on a sequence of threads does not guarantee that they will all be executed in the same order in which they were started. Some threads may experience a slight delay before executing, while others may execute instantly.</p>\n<p>To make sure they execute sequentially, you must wait for each to conclude before beginning the next:</p>\n<pre><code>for (Thread j : jobs) {\n    j.start();\n    // Wait for `j` to die before starting the next thread\n    j.join();\n}\n</code></pre>\n<p>But regardless, in the example you've provided, multithreading actually isn't necessary since all the operations are being done serially anyways.</p>\n"}],"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655392213,"creation_date":1623144466,"question_id":67884970,"body_markdown":"the code here is a working prototype of a bigger project but just to show the idea. \r\ni have actions i need to do on int a lot of actions on each int.\r\ni decided that all the actions will be stored in a list and all the ints will be stored in the list \r\neach thread will take 1 action and will run on all the list \r\nbut keep getting wrong numbers in the result integerList:\r\n\r\nHere is the example code :\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    class ArithmeticA implements ArithmeticManager.ArithmeticAction {\r\n    \r\n        @Override\r\n        public int arithmetic(int n) {\r\n            return n+1;\r\n        }\r\n    }\r\n    \r\n    class ArithmeticB implements ArithmeticManager.ArithmeticAction {\r\n    \r\n        @Override\r\n        public int arithmetic(int n) {\r\n            return n*2;\r\n        }\r\n    }\r\n    public class ArithmeticManager {\r\n    \r\n    \r\n            private List&lt;Integer&gt; integerList = new Vector&lt;&gt;();\r\n            private List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\r\n            \r\n            public ArithmeticManager(List&lt;Integer&gt; dataFromUser) {\r\n                this.integerList = dataFromUser;\r\n            }\r\n    \r\n            private void exec(ArithmeticAction arithmeticAction) {\r\n    \r\n                \r\n                for (int i : integerList) {\r\n                  synchronized (tempList) {\r\n                    tempList.add(arithmeticAction.arithmetic(i));\r\n                  }\r\n                }\r\n                integerList = tempList;\r\n    \r\n            }\r\n            public List&lt;Integer&gt; invokerActions(List&lt;ArithmeticAction&gt; actions) throws\r\n                    InterruptedException {\r\n                List&lt;Thread&gt; jobs = new ArrayList&lt;Thread&gt;();\r\n                for (final ArithmeticAction ac : actions) {\r\n                    jobs.add(new Thread(() -&gt; exec(ac)));\r\n                }\r\n                //added start\r\n                for (Thread j : jobs) {\r\n                    j.start();\r\n                }\r\n                for (Thread j : jobs) {\r\n                    j.join();\r\n                }\r\n                return integerList;\r\n            }\r\n            public interface ArithmeticAction {\r\n                int arithmetic(int n);\r\n            }\r\n    \r\n            public static void main(String[] args) {\r\n                List&lt;ArithmeticManager.ArithmeticAction&gt; actions = new ArrayList();\r\n                actions.add(new  ArithmeticA());\r\n                actions.add(new  ArithmeticB());\r\n    \r\n    \r\n    \r\n                List&lt;Integer&gt; intData = new ArrayList&lt;&gt;();\r\n                intData.add(1);\r\n                intData.add(2);\r\n                intData.add(3);\r\n                intData.add(4);\r\n    \r\n                ArithmeticManager arithmeticManager = new ArithmeticManager(intData);\r\n                try {\r\n                    List&lt;Integer&gt; result = arithmeticManager.invokerActions(actions);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n    }\r\n\r\n\r\nAnd here is the result looks like the numbers been accumulated:\r\n\r\n    integerList = {ArrayList@656}  size = 4\r\n     0 = {Integer@658} 4\r\n      value = 4\r\n     1 = {Integer@659} 6\r\n      value = 6\r\n     2 = {Integer@660} 8\r\n      value = 8\r\n     3 = {Integer@661} 10\r\n      value = 10\r\n\r\n**UPDATE** \r\nAfter moving  List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;(); to top class   \r\nand adding synchronized :  \r\n\r\n    for (int i : integerList) {\r\n                      synchronized (tempList) {\r\n                        tempList.add(arithmeticAction.arithmetic(i));\r\n                      }\r\n                    }\r\ni still getting :\r\n\r\n    Exception in thread &quot;Thread-1&quot; java.util.ConcurrentModificationException\r\n    \tat java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)\r\n    \tat java.util.ArrayList$Itr.next(ArrayList.java:859)\r\n    \tat ArithmeticManager.exec(ArithmeticManager.java:32)\r\n    \tat ArithmeticManager.lambda$invokerActions$0(ArithmeticManager.java:44)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nbut when i init integerList to vector \r\n\r\n    private List&lt;Integer&gt; integerList = new Vector&lt;&gt;(); \r\n\r\nall working fine but now i have double sync which is not good \r\nAlso i can&#39;t not know if the user will initiate the object class with ArrayList or vector    \r\nwhat is the right way to do that?\r\n\r\n**UPDATE2**\r\ni converted the loop to be :\r\n\r\n    for(Iterator&lt;Integer&gt; iterator = integerList.listIterator(); iterator.hasNext();) {\r\n                   synchronized (tempList) {\r\n                        tempList.add(arithmeticAction.arithmetic(iterator.next()));\r\n                   }\r\n                }\r\n\r\nnow its working just fine , but i don&#39;t know for sure its this is thread safe \r\nand will work as expected, do i need to protect the loop also ? ","title":"Java multithreaded int manipulation doing right","body":"<p>the code here is a working prototype of a bigger project but just to show the idea.\ni have actions i need to do on int a lot of actions on each int.\ni decided that all the actions will be stored in a list and all the ints will be stored in the list\neach thread will take 1 action and will run on all the list\nbut keep getting wrong numbers in the result integerList:</p>\n<p>Here is the example code :</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n\nclass ArithmeticA implements ArithmeticManager.ArithmeticAction {\n\n    @Override\n    public int arithmetic(int n) {\n        return n+1;\n    }\n}\n\nclass ArithmeticB implements ArithmeticManager.ArithmeticAction {\n\n    @Override\n    public int arithmetic(int n) {\n        return n*2;\n    }\n}\npublic class ArithmeticManager {\n\n\n        private List&lt;Integer&gt; integerList = new Vector&lt;&gt;();\n        private List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\n        \n        public ArithmeticManager(List&lt;Integer&gt; dataFromUser) {\n            this.integerList = dataFromUser;\n        }\n\n        private void exec(ArithmeticAction arithmeticAction) {\n\n            \n            for (int i : integerList) {\n              synchronized (tempList) {\n                tempList.add(arithmeticAction.arithmetic(i));\n              }\n            }\n            integerList = tempList;\n\n        }\n        public List&lt;Integer&gt; invokerActions(List&lt;ArithmeticAction&gt; actions) throws\n                InterruptedException {\n            List&lt;Thread&gt; jobs = new ArrayList&lt;Thread&gt;();\n            for (final ArithmeticAction ac : actions) {\n                jobs.add(new Thread(() -&gt; exec(ac)));\n            }\n            //added start\n            for (Thread j : jobs) {\n                j.start();\n            }\n            for (Thread j : jobs) {\n                j.join();\n            }\n            return integerList;\n        }\n        public interface ArithmeticAction {\n            int arithmetic(int n);\n        }\n\n        public static void main(String[] args) {\n            List&lt;ArithmeticManager.ArithmeticAction&gt; actions = new ArrayList();\n            actions.add(new  ArithmeticA());\n            actions.add(new  ArithmeticB());\n\n\n\n            List&lt;Integer&gt; intData = new ArrayList&lt;&gt;();\n            intData.add(1);\n            intData.add(2);\n            intData.add(3);\n            intData.add(4);\n\n            ArithmeticManager arithmeticManager = new ArithmeticManager(intData);\n            try {\n                List&lt;Integer&gt; result = arithmeticManager.invokerActions(actions);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n\n        }\n\n}\n</code></pre>\n<p>And here is the result looks like the numbers been accumulated:</p>\n<pre><code>integerList = {ArrayList@656}  size = 4\n 0 = {Integer@658} 4\n  value = 4\n 1 = {Integer@659} 6\n  value = 6\n 2 = {Integer@660} 8\n  value = 8\n 3 = {Integer@661} 10\n  value = 10\n</code></pre>\n<p><strong>UPDATE</strong>\nAfter moving  List tempList = new ArrayList(); to top class<br />\nand adding synchronized :</p>\n<pre><code>for (int i : integerList) {\n                  synchronized (tempList) {\n                    tempList.add(arithmeticAction.arithmetic(i));\n                  }\n                }\n</code></pre>\n<p>i still getting :</p>\n<pre><code>Exception in thread &quot;Thread-1&quot; java.util.ConcurrentModificationException\n    at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)\n    at java.util.ArrayList$Itr.next(ArrayList.java:859)\n    at ArithmeticManager.exec(ArithmeticManager.java:32)\n    at ArithmeticManager.lambda$invokerActions$0(ArithmeticManager.java:44)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>but when i init integerList to vector</p>\n<pre><code>private List&lt;Integer&gt; integerList = new Vector&lt;&gt;(); \n</code></pre>\n<p>all working fine but now i have double sync which is not good\nAlso i can't not know if the user will initiate the object class with ArrayList or vector<br />\nwhat is the right way to do that?</p>\n<p><strong>UPDATE2</strong>\ni converted the loop to be :</p>\n<pre><code>for(Iterator&lt;Integer&gt; iterator = integerList.listIterator(); iterator.hasNext();) {\n               synchronized (tempList) {\n                    tempList.add(arithmeticAction.arithmetic(iterator.next()));\n               }\n            }\n</code></pre>\n<p>now its working just fine , but i don't know for sure its this is thread safe\nand will work as expected, do i need to protect the loop also ?</p>\n"},{"tags":["java","oracle","oracle10g","dropwizard"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1655392414,"post_id":72648035,"comment_id":128326236,"body_markdown":"You parameters look fine as far as I can tell. `DUAL` is the table name. It is a public pseudo-table available to all users. What specific error is being returned?","body":"You parameters look fine as far as I can tell. <code>DUAL</code> is the table name. It is a public pseudo-table available to all users. What specific error is being returned?"},{"owner":{"account_id":6646173,"reputation":463,"user_id":5130203,"display_name":"maulik trapasiya"},"score":0,"creation_date":1655477895,"post_id":72648035,"comment_id":128349007,"body_markdown":"@pmdba my validationQuery was getting overridden in code, due to that it was picking different validationQuery.","body":"@pmdba my validationQuery was getting overridden in code, due to that it was picking different validationQuery."}],"owner":{"account_id":6646173,"reputation":463,"user_id":5130203,"display_name":"maulik trapasiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655392139,"creation_date":1655392139,"question_id":72648035,"body_markdown":"I am not able to connect oracle SQL with dropwizard application. Below is my config\r\n```\r\noracleDataSource:\r\n  driverClass: oracle.jdbc.OracleDriver\r\n  user: root\r\n  password: 123\r\n  url: jdbc:oracle:thin:@//194.18.4.101:1521/serviceName123\r\n  properties:\r\n    charSet: UTF-8\r\n    hibernate.dialect: org.hibernate.dialect.Oracle10gDialect\r\n    hibernate.show_sql: true\r\n    hibernate.current_session_context_class: org.hibernate.context.internal.ManagedSessionContext\r\n    hibernate.hbm2ddl.auto: none\r\n    hibernate.jdbc.batch_size: 20\r\n  maxWaitForConnection: 1s\r\n  minSize: 1\r\n  initialSize: 4\r\n  maxSize: 5\r\n  checkConnectionWhileIdle: true\r\n  validationInterval: 10s\r\n  minIdleTime: 1 minute\r\n  validationQuery: SELECT 1 FROM DUAL\r\n```\r\nvalidationQuery is failing as its not able to get table name. how do I specify tableName in config?","title":"How to connect specify table name in oracle SQL with dropwizard application?","body":"<p>I am not able to connect oracle SQL with dropwizard application. Below is my config</p>\n<pre><code>oracleDataSource:\n  driverClass: oracle.jdbc.OracleDriver\n  user: root\n  password: 123\n  url: jdbc:oracle:thin:@//194.18.4.101:1521/serviceName123\n  properties:\n    charSet: UTF-8\n    hibernate.dialect: org.hibernate.dialect.Oracle10gDialect\n    hibernate.show_sql: true\n    hibernate.current_session_context_class: org.hibernate.context.internal.ManagedSessionContext\n    hibernate.hbm2ddl.auto: none\n    hibernate.jdbc.batch_size: 20\n  maxWaitForConnection: 1s\n  minSize: 1\n  initialSize: 4\n  maxSize: 5\n  checkConnectionWhileIdle: true\n  validationInterval: 10s\n  minIdleTime: 1 minute\n  validationQuery: SELECT 1 FROM DUAL\n</code></pre>\n<p>validationQuery is failing as its not able to get table name. how do I specify tableName in config?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","postman"],"comments":[{"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"score":0,"creation_date":1697561421,"post_id":72647064,"comment_id":136294273,"body_markdown":"Downvoted because no question was asked. There was a lot of effort put into the OP, but there is not an obvious question being asked, so how can we know how to help you? Please ask a specific question that we can answer.","body":"Downvoted because no question was asked. There was a lot of effort put into the OP, but there is not an obvious question being asked, so how can we know how to help you? Please ask a specific question that we can answer."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1697617758,"post_id":72647064,"comment_id":136301000,"body_markdown":"I wanted to find a way in using the timestamp as my primary key by utilise the time that I was getting my data. Interesting that this got downvoted after 1 and a half years!!! However you are right.","body":"I wanted to find a way in using the timestamp as my primary key by utilise the time that I was getting my data. Interesting that this got downvoted after 1 and a half years!!! However you are right."}],"answers":[{"tags":[],"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391973,"creation_date":1655391973,"answer_id":72648004,"question_id":72647064,"body_markdown":"Well, as far as I can see the timestamp is never instantiated. Yes you have a `private LocalDateTime timestamp;`, BUT you never create an object from it (which should be now(); \r\n\r\nYou have it in commented out code, but in working one it&#39;s missing.\r\n\r\nNo object, no data, null in DB.","title":"Using RestTemplate and Entity Manager to map objects for PostgreSQL Database","body":"<p>Well, as far as I can see the timestamp is never instantiated. Yes you have a <code>private LocalDateTime timestamp;</code>, BUT you never create an object from it (which should be now();</p>\n<p>You have it in commented out code, but in working one it's missing.</p>\n<p>No object, no data, null in DB.</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655391973,"creation_date":1655387628,"question_id":72647064,"body_markdown":"I am creating a Spring Boot application in which I have to consume this [API](https://bitpay.com/api/rates), add it&#39;s JSON contents to a PostgreSQL DB and adding also a timestamp column to capture and save the exact point of data transmission. The timestamp column doesn&#39;t exist at the incoming JSON document. Below I am showing my code as well as a POSTMAN screenshot which maps the timestamp variable but returns null.\r\n\r\nI searched [here](https://www.netsurfingzone.com/jpa/how-to-get-jpa-entitymanager-in-spring-boot/) and [here](https://www.baeldung.com/spring-data-entitymanager) and saw that I have to use an Entity Manager. At my configuration class, I created the EntityManagerFactory and then EntityManager but I am getting the &quot;No Persistence Provider for EntityManager&quot;, thus I commented that piece of code (I left it to showcase my try). Then I searched [here](https://www.baeldung.com/hibernate-no-persistence-provider), and saw that I need the persistance.xml file.\r\n\r\nI also searched about the latter and discovered that Spring Boot doesn&#39;t require that kind of file anymore, but still I am having trouble at how to approach my goal.\r\n\r\nAny kind of advice, would be useful.\r\n\r\nP.S. I am planning to replace the id variable with the timestamp one, as primary key.\r\n\r\n[![POSTMAN Results][1]][1]\r\n\r\n**Main Class**\r\n\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class IotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IotApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**EntityClass**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\n\r\n//This class is responsible for mapping the key variables from\r\n//the JSON array to be imported. The name keys from JSON have\r\n//to be exactly the same as here, in order for data to be fetched.\r\n\r\n\r\n//Don&#39;t forget to apply Lombok, at the end of the project as appendix!!!\r\n@Entity\r\n@Table\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class BitPayRates {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;bitpay_sequence&quot;,\r\n            sequenceName = &quot;bitpay_sequence&quot;,\r\n            allocationSize = 1\r\n            )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;bitpay_sequence&quot;\r\n    )\r\n    private Integer id;\r\n    private String code;\r\n    private String name;\r\n    private Long rate;\r\n\r\n    private java.time.LocalDateTime timestamp;\r\n\r\n    protected BitPayRates() {\r\n    }\r\n\r\n    public BitPayRates(String code, String name, Long rate, LocalDateTime timestamp) {\r\n        this.code = code;\r\n        this.name = name;\r\n        this.rate = rate;\r\n        this.timestamp = timestamp;\r\n    }\r\n\r\n    // Getters and setters\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;BitPayRates{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, code=&#39;&quot; + code + &#39;\\&#39;&#39; +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, rate=&quot; + rate +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Controller Class**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n//The controller for the project, which handles HTTP requests\r\n@RestController\r\npublic class RestSpringBootController {\r\n\r\n    //Dependency injection to connect with Service layer\r\n    private final Service service;\r\n\r\n    @Autowired\r\n    public RestSpringBootController(Service service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/bitpay&quot;)\r\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData(){\r\n        return service.getData();\r\n    }\r\n}\r\n```\r\n\r\n**Service Class**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n//The service layer class for business logic implementation\r\n@org.springframework.stereotype.Service\r\npublic class Service {\r\n\r\n    //Dependency injection to connect with Repository layer\r\n    private final BitPayRatesRepo bitPayRatesRepo;\r\n\r\n    @Autowired\r\n    public Service(BitPayRatesRepo bitPayRatesRepo) {\r\n        this.bitPayRatesRepo = bitPayRatesRepo;\r\n    }\r\n\r\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData() {\r\n        return Collections.singletonList(bitPayRatesRepo.findAll());\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Repository Interface**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n//Interface that multiple classes can use and connects with data JPA\r\n//The JPA is a map that takes the variables mapped in BitPayRates class\r\n//as first parameter and as second, returns the data type of the Id.\r\n@Repository\r\npublic interface BitPayRatesRepo\r\n        extends JpaRepository&lt;BitPayRates,Integer&gt; {\r\n\r\n}\r\n```\r\n\r\n**Configuration Class**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.ParameterizedTypeReference;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.Persistence;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n//The configuration class to fetch data from url and execute the insertion\r\n//of the data into the PostgreSQL database\r\n@Configuration\r\npublic class BitPayRatesConfig {\r\n\r\n    @Bean\r\n    CommandLineRunner commandLineRunner(BitPayRatesRepo bitPayRatesRepo) {\r\n        return args -&gt; {\r\n\r\n\r\n\r\n\r\n/*            EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;my-persistence-unit&quot;);\r\n            EntityManager em = emf.createEntityManager();\r\n            em.getTransaction().begin();\r\n            BitPayRates b = new BitPayRates();\r\n            b.setTimestamp(LocalDateTime.now());\r\n            b.setTimestamp(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\n                    .parse(&quot;2017-11-15 15:30:14.332&quot;));\r\n\r\n            em.persist(b);*/\r\n\r\n\r\n            String url = &quot;https://bitpay.com/api/rates&quot;;\r\n            RestTemplate restTemplate = new RestTemplate();\r\n\r\n            ResponseEntity&lt;List&lt;BitPayRates&gt;&gt; postEntity = restTemplate.exchange(\r\n                url,\r\n                HttpMethod.GET,\r\n                null,\r\n                new ParameterizedTypeReference&lt;&gt;() {\r\n                });\r\n\r\n\r\n        List&lt;BitPayRates&gt; results = postEntity.getBody();\r\n        bitPayRatesRepo.saveAll(results);\r\n        System.out.println(results);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n**POM.XML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.andrekreou&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;iot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;iot&lt;/name&gt;\r\n\t&lt;description&gt;MSc Thesis&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ErB8h.png","title":"Using RestTemplate and Entity Manager to map objects for PostgreSQL Database","body":"<p>I am creating a Spring Boot application in which I have to consume this <a href=\"https://bitpay.com/api/rates\" rel=\"nofollow noreferrer\">API</a>, add it's JSON contents to a PostgreSQL DB and adding also a timestamp column to capture and save the exact point of data transmission. The timestamp column doesn't exist at the incoming JSON document. Below I am showing my code as well as a POSTMAN screenshot which maps the timestamp variable but returns null.</p>\n<p>I searched <a href=\"https://www.netsurfingzone.com/jpa/how-to-get-jpa-entitymanager-in-spring-boot/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/spring-data-entitymanager\" rel=\"nofollow noreferrer\">here</a> and saw that I have to use an Entity Manager. At my configuration class, I created the EntityManagerFactory and then EntityManager but I am getting the &quot;No Persistence Provider for EntityManager&quot;, thus I commented that piece of code (I left it to showcase my try). Then I searched <a href=\"https://www.baeldung.com/hibernate-no-persistence-provider\" rel=\"nofollow noreferrer\">here</a>, and saw that I need the persistance.xml file.</p>\n<p>I also searched about the latter and discovered that Spring Boot doesn't require that kind of file anymore, but still I am having trouble at how to approach my goal.</p>\n<p>Any kind of advice, would be useful.</p>\n<p>P.S. I am planning to replace the id variable with the timestamp one, as primary key.</p>\n<p><a href=\"https://i.stack.imgur.com/ErB8h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ErB8h.png\" alt=\"POSTMAN Results\" /></a></p>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class IotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IotApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>EntityClass</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n//This class is responsible for mapping the key variables from\n//the JSON array to be imported. The name keys from JSON have\n//to be exactly the same as here, in order for data to be fetched.\n\n\n//Don't forget to apply Lombok, at the end of the project as appendix!!!\n@Entity\n@Table\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BitPayRates {\n    @Id\n    @SequenceGenerator(\n            name = &quot;bitpay_sequence&quot;,\n            sequenceName = &quot;bitpay_sequence&quot;,\n            allocationSize = 1\n            )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;bitpay_sequence&quot;\n    )\n    private Integer id;\n    private String code;\n    private String name;\n    private Long rate;\n\n    private java.time.LocalDateTime timestamp;\n\n    protected BitPayRates() {\n    }\n\n    public BitPayRates(String code, String name, Long rate, LocalDateTime timestamp) {\n        this.code = code;\n        this.name = name;\n        this.rate = rate;\n        this.timestamp = timestamp;\n    }\n\n    // Getters and setters\n\n    @Override\n    public String toString() {\n        return &quot;BitPayRates{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, code='&quot; + code + '\\'' +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, rate=&quot; + rate +\n                '}';\n    }\n}\n\n</code></pre>\n<p><strong>Controller Class</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n//The controller for the project, which handles HTTP requests\n@RestController\npublic class RestSpringBootController {\n\n    //Dependency injection to connect with Service layer\n    private final Service service;\n\n    @Autowired\n    public RestSpringBootController(Service service) {\n        this.service = service;\n    }\n\n    @GetMapping(path = &quot;/bitpay&quot;)\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData(){\n        return service.getData();\n    }\n}\n</code></pre>\n<p><strong>Service Class</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.Collections;\nimport java.util.List;\n\n//The service layer class for business logic implementation\n@org.springframework.stereotype.Service\npublic class Service {\n\n    //Dependency injection to connect with Repository layer\n    private final BitPayRatesRepo bitPayRatesRepo;\n\n    @Autowired\n    public Service(BitPayRatesRepo bitPayRatesRepo) {\n        this.bitPayRatesRepo = bitPayRatesRepo;\n    }\n\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData() {\n        return Collections.singletonList(bitPayRatesRepo.findAll());\n    }\n}\n\n</code></pre>\n<p><strong>Repository Interface</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n//Interface that multiple classes can use and connects with data JPA\n//The JPA is a map that takes the variables mapped in BitPayRates class\n//as first parameter and as second, returns the data type of the Id.\n@Repository\npublic interface BitPayRatesRepo\n        extends JpaRepository&lt;BitPayRates,Integer&gt; {\n\n}\n</code></pre>\n<p><strong>Configuration Class</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.ParameterizedTypeReference;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n//The configuration class to fetch data from url and execute the insertion\n//of the data into the PostgreSQL database\n@Configuration\npublic class BitPayRatesConfig {\n\n    @Bean\n    CommandLineRunner commandLineRunner(BitPayRatesRepo bitPayRatesRepo) {\n        return args -&gt; {\n\n\n\n\n/*            EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;my-persistence-unit&quot;);\n            EntityManager em = emf.createEntityManager();\n            em.getTransaction().begin();\n            BitPayRates b = new BitPayRates();\n            b.setTimestamp(LocalDateTime.now());\n            b.setTimestamp(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\n                    .parse(&quot;2017-11-15 15:30:14.332&quot;));\n\n            em.persist(b);*/\n\n\n            String url = &quot;https://bitpay.com/api/rates&quot;;\n            RestTemplate restTemplate = new RestTemplate();\n\n            ResponseEntity&lt;List&lt;BitPayRates&gt;&gt; postEntity = restTemplate.exchange(\n                url,\n                HttpMethod.GET,\n                null,\n                new ParameterizedTypeReference&lt;&gt;() {\n                });\n\n\n        List&lt;BitPayRates&gt; results = postEntity.getBody();\n        bitPayRatesRepo.saveAll(results);\n        System.out.println(results);\n        };\n    }\n}\n</code></pre>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.andrekreou&lt;/groupId&gt;\n    &lt;artifactId&gt;iot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;iot&lt;/name&gt;\n    &lt;description&gt;MSc Thesis&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","google-oauth","deep-linking"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1655321864,"post_id":72632390,"comment_id":128308019,"body_markdown":"If you&#39;re using the Navigation component, the whole login scenario is covered here: https://developer.android.com/guide/navigation/navigation-conditional","body":"If you&#39;re using the Navigation component, the whole login scenario is covered here: <a href=\"https://developer.android.com/guide/navigation/navigation-conditional\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/navigation-conditiona&zwnj;&#8203;l</a>"},{"owner":{"account_id":15843069,"reputation":168,"user_id":11431011,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1655382293,"post_id":72632390,"comment_id":128322303,"body_markdown":"login feature is being handle by web developer, i need to navigate to browser to login and after successful login navigate back to app with response of user logged in successfully","body":"login feature is being handle by web developer, i need to navigate to browser to login and after successful login navigate back to app with response of user logged in successfully"}],"owner":{"account_id":15843069,"reputation":168,"user_id":11431011,"display_name":"Sandeep Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655391929,"creation_date":1655299895,"question_id":72632390,"body_markdown":"I want to login my user with login url, which have option to login with google. After login with google, i want my user to get back to app with callback of logged in success or failure to change app behavior[![enter image description here][1]][1]\r\n\r\n\r\nFor reference you can check **NordVpn** signIn feature\r\n\r\nhttps://play.google.com/store/apps/details?id=com.nordvpn.android","title":"Navigate back to app after open login page on browser from app","body":"<p>I want to login my user with login url, which have option to login with google. After login with google, i want my user to get back to app with callback of logged in success or failure to change app behavior[![enter image description here][1]][1]</p>\n<p>For reference you can check <strong>NordVpn</strong> signIn feature</p>\n<p><a href=\"https://play.google.com/store/apps/details?id=com.nordvpn.android\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.nordvpn.android</a></p>\n"},{"tags":["java","testing","httpresponse","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1595342726,"creation_date":1595342726,"answer_id":63017085,"question_id":63016793,"body_markdown":"You are accessing values within an array, so use `name[n]`\r\n\r\n    final String returnedAttributeValue = response.jsonPath().getString(&quot;name[0]&quot;);\r\n    Assert.assertEquals(returnedAttributeValue, &quot;MyNameTest&quot;);","title":"response.jsonPath() has square brackets around the element, how do I retrieve the string value? Rest Assured","body":"<p>You are accessing values within an array, so use <code>name[n]</code></p>\n<pre><code>final String returnedAttributeValue = response.jsonPath().getString(&quot;name[0]&quot;);\nAssert.assertEquals(returnedAttributeValue, &quot;MyNameTest&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391918,"creation_date":1655391918,"answer_id":72647991,"question_id":63016793,"body_markdown":"Another possible solution for checking the content of an array, you could use `org.hamcrest.Matchers.contains`:\r\n\r\n```\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\nimport static org.hamcrest.Matchers.contains;\r\n\r\nresponse\r\n  .andExpect(jsonPath(&quot;$name&quot;, contains(&quot;MyNameTest&quot;)));\r\n```","title":"response.jsonPath() has square brackets around the element, how do I retrieve the string value? Rest Assured","body":"<p>Another possible solution for checking the content of an array, you could use <code>org.hamcrest.Matchers.contains</code>:</p>\n<pre><code>import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\nimport static org.hamcrest.Matchers.contains;\n\nresponse\n  .andExpect(jsonPath(&quot;$name&quot;, contains(&quot;MyNameTest&quot;)));\n</code></pre>\n"}],"owner":{"account_id":13229912,"reputation":151,"user_id":9553882,"display_name":"R111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63017085,"answer_count":2,"score":2,"last_activity_date":1655391918,"creation_date":1595341759,"question_id":63016793,"body_markdown":"I have an HTTP response body that looks that this when I make a GET request:\r\n\r\n     [\r\n      {\r\n        &quot;id&quot;: &quot;1111&quot;,\r\n        &quot;type&quot;: &quot;Sale&quot;,\r\n        &quot;name&quot;: &quot;MyNameTest&quot;,\r\n        &quot;shortDescription&quot;: &quot;Sale a&quot;\r\n      }\r\n    ]\r\n\r\nWhen I try to assert the results with &quot;Rest Assured&quot;, the name value is always wrapped in square brackets [].\r\n\r\n\t\tfinal String returnedAttributeValue = response.jsonPath().getString(&quot;name&quot;);\r\n        Assert.assertEquals(returnedAttributeValue, &quot;MyNameTest&quot;);\r\n\r\n\r\nSo the test fails with Expected &quot;MyNameTest&quot;, but was &quot;[MyNameTest]&quot;\r\n\r\nCan any one tell me how to resolve this?","title":"response.jsonPath() has square brackets around the element, how do I retrieve the string value? Rest Assured","body":"<p>I have an HTTP response body that looks that this when I make a GET request:</p>\n<pre><code> [\n  {\n    &quot;id&quot;: &quot;1111&quot;,\n    &quot;type&quot;: &quot;Sale&quot;,\n    &quot;name&quot;: &quot;MyNameTest&quot;,\n    &quot;shortDescription&quot;: &quot;Sale a&quot;\n  }\n]\n</code></pre>\n<p>When I try to assert the results with &quot;Rest Assured&quot;, the name value is always wrapped in square brackets [].</p>\n<pre><code>    final String returnedAttributeValue = response.jsonPath().getString(&quot;name&quot;);\n    Assert.assertEquals(returnedAttributeValue, &quot;MyNameTest&quot;);\n</code></pre>\n<p>So the test fails with Expected &quot;MyNameTest&quot;, but was &quot;[MyNameTest]&quot;</p>\n<p>Can any one tell me how to resolve this?</p>\n"},{"tags":["java","android","windows","command-line","sdk"],"answers":[{"tags":[],"owner":{"account_id":17499440,"reputation":230,"user_id":12690050,"display_name":"Susano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391892,"creation_date":1655391892,"answer_id":72647980,"question_id":71367603,"body_markdown":"I managed to get rid of the error by \r\n1) specifying a min sdk version of 21 , targetSdkVersion and maxSdkVersion\r\n2) changing the source jdk version from 1.7 to 11 in the javac command\r\n3) using d8 to change class files to dex files in build-tools version 32\r\n\r\nhere&#39;s my build script for reference: \r\n```\r\ntarget=$1\r\n\r\nif\t[ &quot;$1&quot; = &quot;&quot; ]; then\r\n\ttarget=&quot;a.apk&quot;\r\nfi\r\n\r\n\r\n\r\naapt package -f -v \\\r\n\t-I ~/android-sdk/platforms/android-32/android.jar \\\r\n\t-J src -m \\\r\n\t-M AndroidManifest.xml \\\r\n\t-S res \\\r\n\t-F bin/resources.ap_\r\n\r\njavac \\\r\n\t-classpath ~/android-sdk/platforms/android-32/android.jar \\\r\n  -source 11 -target 11 \\\r\n\tsrc/dom/domain/*.java\r\n\r\nd8 --output bin src/*/*/*.class \\\r\n  --lib ~/android-sdk/platforms/android-32/android.jar \r\n\r\ncd bin\r\n\r\nmv resources.ap_ \t$target\r\n\r\naapt add \t$target\tclasses.dex\r\n\r\nprintf &#39;android\\n&#39; | apksigner sign --min-sdk-version 29 \\\r\n  --v4-signing-enabled true \\\r\n  -ks ~/code/android/debug.keystore $target\r\n\r\nadb install --no-incremental -r $target\r\n\r\n\r\n```","title":"Android application install warning (built for older version)","body":"<p>I managed to get rid of the error by</p>\n<ol>\n<li>specifying a min sdk version of 21 , targetSdkVersion and maxSdkVersion</li>\n<li>changing the source jdk version from 1.7 to 11 in the javac command</li>\n<li>using d8 to change class files to dex files in build-tools version 32</li>\n</ol>\n<p>here's my build script for reference:</p>\n<pre><code>target=$1\n\nif  [ &quot;$1&quot; = &quot;&quot; ]; then\n    target=&quot;a.apk&quot;\nfi\n\n\n\naapt package -f -v \\\n    -I ~/android-sdk/platforms/android-32/android.jar \\\n    -J src -m \\\n    -M AndroidManifest.xml \\\n    -S res \\\n    -F bin/resources.ap_\n\njavac \\\n    -classpath ~/android-sdk/platforms/android-32/android.jar \\\n  -source 11 -target 11 \\\n    src/dom/domain/*.java\n\nd8 --output bin src/*/*/*.class \\\n  --lib ~/android-sdk/platforms/android-32/android.jar \n\ncd bin\n\nmv resources.ap_    $target\n\naapt add    $target classes.dex\n\nprintf 'android\\n' | apksigner sign --min-sdk-version 29 \\\n  --v4-signing-enabled true \\\n  -ks ~/code/android/debug.keystore $target\n\nadb install --no-incremental -r $target\n\n\n</code></pre>\n"}],"owner":{"account_id":10535224,"reputation":423,"user_id":9116264,"accept_rate":0,"display_name":"Akhmad Zaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1859,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655391892,"creation_date":1646539649,"question_id":71367603,"body_markdown":"I followed [this tutorial][1] to build Android application from command line. This is my batch script to build and install the application on my device using USB debugging.\r\n\r\n```\r\naapt package -f -m -J build\\gen\\ -S res -M AndroidManifest.xml -I &quot;%ANDROID_HOME%\\platforms\\android-30\\android.jar&quot;\r\n\r\njavac -source 1.7 -target 1.7 -bootclasspath &quot;%JAVA_HOME%\\jre\\lib\\rt.jar&quot; -classpath &quot;%ANDROID_HOME%\\platforms\\android-30\\android.jar&quot; -d build\\obj build\\gen\\net\\hanshq\\hello\\R.java src\\net\\hanshq\\hello\\MainActivity.java\r\n\r\njava -jar &quot;%ANDROID_HOME%\\build-tools\\30.0.0\\lib\\dx.jar&quot; --dex --output=build\\apk\\classes.dex build\\obj\r\n\r\naapt package -f -M AndroidManifest.xml -S res\\ -I &quot;%ANDROID_HOME%\\platforms\\android-30\\android.jar&quot; -F build\\Hello.unsigned.apk build\\apk\r\n\r\nzipalign -f -p 4 build\\Hello.unsigned.apk build\\Hello.aligned.apk\r\n\r\ncall apksigner sign --ks debug.keystore --ks-key-alias androiddebugkey --ks-pass pass:android --key-pass pass:android --out build\\Hello.apk build\\Hello.aligned.apk\r\n\r\nadb install -r build\\Hello.apk\r\n\r\nadb shell am start -n net.hanshq.hello/.MainActivity\r\n```\r\n\r\nI use OpenJDK-17, Android-30 platform version, and Android 30.0.0 build tools version.\r\n\r\nThis is the AndroidManifest.xml file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n          package=&quot;net.hanshq.hello&quot;\r\n          versionCode=&quot;1&quot;\r\n          versionName=&quot;0.1&quot;&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;30&quot;/&gt;\r\n    &lt;application android:label=&quot;Hello&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nWhat I want to ask is when I set the `minSdkVersion` to 30 it installed fine on my device. But, when I set it to a lower value like 21, it still installed correctly but output a warning popout like this.\r\n\r\n&gt; This app was built for an older version of Android and may not work properly. Try checking for updates, or contact the developer.\r\n\r\nWhat I want to ask is this warning related to value of `minSdkVersion` or is it because the version of Android SDK platform and build tools that I used? Thanks in advance for the answer.\r\n\r\nEdit:\r\nMy device is running Android 11 OS\r\n\r\n\r\n\r\n  [1]: https://www.hanshq.net/command-line-android.html","title":"Android application install warning (built for older version)","body":"<p>I followed <a href=\"https://www.hanshq.net/command-line-android.html\" rel=\"nofollow noreferrer\">this tutorial</a> to build Android application from command line. This is my batch script to build and install the application on my device using USB debugging.</p>\n<pre><code>aapt package -f -m -J build\\gen\\ -S res -M AndroidManifest.xml -I &quot;%ANDROID_HOME%\\platforms\\android-30\\android.jar&quot;\n\njavac -source 1.7 -target 1.7 -bootclasspath &quot;%JAVA_HOME%\\jre\\lib\\rt.jar&quot; -classpath &quot;%ANDROID_HOME%\\platforms\\android-30\\android.jar&quot; -d build\\obj build\\gen\\net\\hanshq\\hello\\R.java src\\net\\hanshq\\hello\\MainActivity.java\n\njava -jar &quot;%ANDROID_HOME%\\build-tools\\30.0.0\\lib\\dx.jar&quot; --dex --output=build\\apk\\classes.dex build\\obj\n\naapt package -f -M AndroidManifest.xml -S res\\ -I &quot;%ANDROID_HOME%\\platforms\\android-30\\android.jar&quot; -F build\\Hello.unsigned.apk build\\apk\n\nzipalign -f -p 4 build\\Hello.unsigned.apk build\\Hello.aligned.apk\n\ncall apksigner sign --ks debug.keystore --ks-key-alias androiddebugkey --ks-pass pass:android --key-pass pass:android --out build\\Hello.apk build\\Hello.aligned.apk\n\nadb install -r build\\Hello.apk\n\nadb shell am start -n net.hanshq.hello/.MainActivity\n</code></pre>\n<p>I use OpenJDK-17, Android-30 platform version, and Android 30.0.0 build tools version.</p>\n<p>This is the AndroidManifest.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n          package=&quot;net.hanshq.hello&quot;\n          versionCode=&quot;1&quot;\n          versionName=&quot;0.1&quot;&gt;\n    &lt;uses-sdk android:minSdkVersion=&quot;30&quot;/&gt;\n    &lt;application android:label=&quot;Hello&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>What I want to ask is when I set the <code>minSdkVersion</code> to 30 it installed fine on my device. But, when I set it to a lower value like 21, it still installed correctly but output a warning popout like this.</p>\n<blockquote>\n<p>This app was built for an older version of Android and may not work properly. Try checking for updates, or contact the developer.</p>\n</blockquote>\n<p>What I want to ask is this warning related to value of <code>minSdkVersion</code> or is it because the version of Android SDK platform and build tools that I used? Thanks in advance for the answer.</p>\n<p>Edit:\nMy device is running Android 11 OS</p>\n"},{"tags":["java","spring","hibernate","jpa","transactions"],"answers":[{"tags":[],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391701,"creation_date":1655391701,"answer_id":72647943,"question_id":58334678,"body_markdown":"Seems you need to configure the `EntityManager` by using annotation `@PersistenceContext` in your service layer\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n\r\n`EntityManager` is an interface, and what gets injected in the spring bean is not the entity manager itself but a context aware proxy that will delegate to a concrete entity manager at runtime. So under the hood the concrete class used for the proxy is \r\n\r\n    SharedEntityManagerInvocationHandler","title":"org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke","body":"<p>Seems you need to configure the <code>EntityManager</code> by using annotation <code>@PersistenceContext</code> in your service layer</p>\n<pre><code>@PersistenceContext\nprivate EntityManager em;\n</code></pre>\n<p><code>EntityManager</code> is an interface, and what gets injected in the spring bean is not the entity manager itself but a context aware proxy that will delegate to a concrete entity manager at runtime. So under the hood the concrete class used for the proxy is</p>\n<pre><code>SharedEntityManagerInvocationHandler\n</code></pre>\n"}],"owner":{"account_id":14032071,"reputation":51,"user_id":10135686,"display_name":"yash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655391701,"creation_date":1570771236,"question_id":58334678,"body_markdown":"From fulfilling the request.\r\n\r\n**Exception:**\r\n~~~\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &amp;#39;persist&amp;#39; call\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nRoot Cause\r\njavax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &amp;#39;persist&amp;#39; call\r\n\torg.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:282)\r\n~~~\r\nHere is my app config class and also the `services class` and the `DAO`\r\n```java\r\n@Bean \r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\tLocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n\tem.setDataSource(dataSource());\r\n\tem.setPackagesToScan(&quot;com.ghumapp&quot;);\r\n\tem.setJpaDialect(jpaDialect());\r\n\tem.setJpaVendorAdapter( jpaVendorAdapter());\r\n\tem.setJpaProperties(additionalProperties());\r\n\treturn em;\r\n}\r\n@Bean\r\npublic DataSource dataSource() {\r\n\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\tdataSource.setUrl(&quot;Jdbc:mysql://localhost:3306/ghumapp?useSSL=false&amp;serverTimezone=UTC&quot;);\r\n\tdataSource.setUsername(&quot;password&quot;);\r\n\tdataSource.setPassword(&quot;password&quot;);\r\n\tdataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\treturn dataSource;\r\n}\t\r\nprivate JpaVendorAdapter jpaVendorAdapter() {\r\n\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\tvendorAdapter.setDatabasePlatform(env.getProperty(&quot;jdbc.dialect&quot;));\r\n\treturn vendorAdapter;\r\n}\r\n\r\n@Bean\r\npublic PlatformTransactionManager transactionManager(EntityManagerFactory emf) {\r\n\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\ttransactionManager.setEntityManagerFactory(emf);\r\n\r\n\treturn transactionManager;\r\n}\r\nprivate JpaDialect jpaDialect() {\r\n\treturn new HibernateJpaDialect();\r\n}\r\n@Bean\r\npublic PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\r\n\treturn new PersistenceExceptionTranslationPostProcessor();\r\n}\r\n\r\npublic Properties additionalProperties() {\r\n\tProperties properties = new Properties();\r\n\tproperties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n\tproperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n\treturn properties;\r\n}  \r\n    \r\n```\r\nHere is my **Services class:**\r\n```java\r\n@PostMapping(&quot;/persist&quot;)\r\npublic String persistuser(@RequestParam(&quot;password&quot;) String password,\r\n\t\t@RequestParam(&quot;userName&quot;) String userName, @RequestParam(&quot;firstName&quot;) String firstName,\r\n\t\t@RequestParam(&quot;lastName&quot;) String lastName, @RequestParam(&quot;email&quot;) String Email) {\r\n\t\r\n\tAppUser appUser = appUserDAO.geAppUserPersist(password, userName, firstName, lastName, Email );\r\n\r\n\tPersistenceService.persist(em, appUser);\r\n\t\r\n\treturn &quot;&quot;;\r\n}\r\n```\r\nHere is my `DAO` class which have `@trasactional` annotation and I tried also with spring trasactional annotation \r\n```java \r\n@Transactional\r\npublic AppUser geAppUserPersist(String password, String userName, String firstName, String lastName, String email ) {\r\n\t \r\n\t AppUser appUser = new AppUser();\r\n\t if(password != null)\r\n\t\t password = password.trim();\r\n\t \r\n\t appUser.setPassword(password);\r\n\t appUser.setUserName(userName);\r\n\t appUser.setFirstName(firstName);\r\n\t appUser.setLastName(lastName);\r\n\t appUser.setEmail(email);\r\n\t \r\n\t return appUser;\r\n}\r\n```","title":"org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke","body":"<p>From fulfilling the request.</p>\n\n<p><strong>Exception:</strong></p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &amp;#39;persist&amp;#39; call\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\njavax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &amp;#39;persist&amp;#39; call\n    org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:282)\n</code></pre>\n\n<p>Here is my app config class and also the <code>services class</code> and the <code>DAO</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean \npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n    LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n    em.setDataSource(dataSource());\n    em.setPackagesToScan(\"com.ghumapp\");\n    em.setJpaDialect(jpaDialect());\n    em.setJpaVendorAdapter( jpaVendorAdapter());\n    em.setJpaProperties(additionalProperties());\n    return em;\n}\n@Bean\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setUrl(\"Jdbc:mysql://localhost:3306/ghumapp?useSSL=false&amp;serverTimezone=UTC\");\n    dataSource.setUsername(\"password\");\n    dataSource.setPassword(\"password\");\n    dataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n    return dataSource;\n}   \nprivate JpaVendorAdapter jpaVendorAdapter() {\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    vendorAdapter.setDatabasePlatform(env.getProperty(\"jdbc.dialect\"));\n    return vendorAdapter;\n}\n\n@Bean\npublic PlatformTransactionManager transactionManager(EntityManagerFactory emf) {\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(emf);\n\n    return transactionManager;\n}\nprivate JpaDialect jpaDialect() {\n    return new HibernateJpaDialect();\n}\n@Bean\npublic PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\n    return new PersistenceExceptionTranslationPostProcessor();\n}\n\npublic Properties additionalProperties() {\n    Properties properties = new Properties();\n    properties.setProperty(\"hibernate.show_sql\", \"true\");\n    properties.setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.MySQL5Dialect\");\n    return properties;\n}  \n\n</code></pre>\n\n<p>Here is my <strong>Services class:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(\"/persist\")\npublic String persistuser(@RequestParam(\"password\") String password,\n        @RequestParam(\"userName\") String userName, @RequestParam(\"firstName\") String firstName,\n        @RequestParam(\"lastName\") String lastName, @RequestParam(\"email\") String Email) {\n\n    AppUser appUser = appUserDAO.geAppUserPersist(password, userName, firstName, lastName, Email );\n\n    PersistenceService.persist(em, appUser);\n\n    return \"\";\n}\n</code></pre>\n\n<p>Here is my <code>DAO</code> class which have <code>@trasactional</code> annotation and I tried also with spring trasactional annotation </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic AppUser geAppUserPersist(String password, String userName, String firstName, String lastName, String email ) {\n\n     AppUser appUser = new AppUser();\n     if(password != null)\n         password = password.trim();\n\n     appUser.setPassword(password);\n     appUser.setUserName(userName);\n     appUser.setFirstName(firstName);\n     appUser.setLastName(lastName);\n     appUser.setEmail(email);\n\n     return appUser;\n}\n</code></pre>\n"},{"tags":["java","oracle","jooq","jooq-sbt-plugin","jooq-codegen"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655306053,"creation_date":1655306053,"answer_id":72633859,"question_id":72633481,"body_markdown":"### Converting strings to numbers\r\n\r\nUse the [`CAST` expression][1]:\r\n\r\n```java\r\n// Both are equivalent\r\ncast(substring(&quot;hello123&quot;, 6), SQLDataType.NUMERIC);\r\nsubstring(&quot;hello123&quot;, 6).cast(SQLDataType.NUMERIC);\r\n```\r\n\r\nAs always, this is assuming the following static import:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\n```\r\n\r\n### Mixing `Field&lt;?&gt;` expressions with bind values\r\n\r\nYou&#39;ve mixed your `Field&lt;?&gt;` expression with a bind value `1` in your `SELECT` clause. There&#39;s no such convenience overload for `SELECT` (there would be too many permutations), so you&#39;ll have to [wrap the bind value explicitly using][2]:\r\n\r\n```java\r\nval(1)\r\n```\r\n\r\nSee also: https://stackoverflow.com/q/67522537/521799\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/cast-expressions/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/","title":"converting string to number inside Jooq select - Oracle","body":"<h3>Converting strings to numbers</h3>\n<p>Use the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/cast-expressions/\" rel=\"nofollow noreferrer\"><code>CAST</code> expression</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Both are equivalent\ncast(substring(&quot;hello123&quot;, 6), SQLDataType.NUMERIC);\nsubstring(&quot;hello123&quot;, 6).cast(SQLDataType.NUMERIC);\n</code></pre>\n<p>As always, this is assuming the following static import:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\n</code></pre>\n<h3>Mixing <code>Field&lt;?&gt;</code> expressions with bind values</h3>\n<p>You've mixed your <code>Field&lt;?&gt;</code> expression with a bind value <code>1</code> in your <code>SELECT</code> clause. There's no such convenience overload for <code>SELECT</code> (there would be too many permutations), so you'll have to <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/\" rel=\"nofollow noreferrer\">wrap the bind value explicitly using</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val(1)\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/q/67522537/521799\">How do I create a Field&lt;T&gt; from a value T in jOOQ, explicitly?</a></p>\n"},{"tags":[],"owner":{"account_id":8510054,"reputation":471,"user_id":6380370,"accept_rate":36,"display_name":"wenky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391660,"creation_date":1655391660,"answer_id":72647936,"question_id":72633481,"body_markdown":"substring(Field\\&lt;String &gt;, int, int) has an overloaded method\r\nsubstring(Field\\&lt;String&gt;, Field&lt;? Extends Integer&gt;, Field&lt;? Extends Integer&gt;)\r\n\r\nof course the first method internally calling the second one.\r\n```\r\nDSL.select(\r\n       COL1, \r\n       COL2, \r\n       COL3,\r\n       DSL.substring(&quot;Test123456&quot;), \r\n                    DSL.cast(&quot;1&quot;, SQLDataType.INTEGER),     \r\n                    DSL.substring(&quot;hello123&quot;,6,1).cast(SQLDataType.INTEGER))\r\n   .from(TABLE)\r\n```","title":"converting string to number inside Jooq select - Oracle","body":"<p>substring(Field&lt;String &gt;, int, int) has an overloaded method\nsubstring(Field&lt;String&gt;, Field&lt;? Extends Integer&gt;, Field&lt;? Extends Integer&gt;)</p>\n<p>of course the first method internally calling the second one.</p>\n<pre><code>DSL.select(\n       COL1, \n       COL2, \n       COL3,\n       DSL.substring(&quot;Test123456&quot;), \n                    DSL.cast(&quot;1&quot;, SQLDataType.INTEGER),     \n                    DSL.substring(&quot;hello123&quot;,6,1).cast(SQLDataType.INTEGER))\n   .from(TABLE)\n</code></pre>\n"}],"owner":{"account_id":8510054,"reputation":471,"user_id":6380370,"accept_rate":36,"display_name":"wenky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72633859,"answer_count":2,"score":1,"last_activity_date":1655391660,"creation_date":1655304416,"question_id":72633481,"body_markdown":"I am using jooq&#39;s DSL.select in my Java code, I have scenario where I need to determine the index from a string.\r\nUsed ```DSL.substring(&quot;hello123&quot;,6,1)``` to get the desired index value as string, but no method supporting in DSL to convert it to a number.\r\nExample:\r\n\r\n```java\r\nDSL.select(\r\n       COL1, \r\n       COL2, \r\n       COL3,\r\n       DSL.substring(&quot;Test123456&quot;), \r\n       1, \r\n       DSL.substring(&quot;hello123&quot;,6,1))\r\n   .from(TABLE)\r\n```  \r\n\r\nthe nested substring need to be converted into number","title":"converting string to number inside Jooq select - Oracle","body":"<p>I am using jooq's DSL.select in my Java code, I have scenario where I need to determine the index from a string.\nUsed <code>DSL.substring(&quot;hello123&quot;,6,1)</code> to get the desired index value as string, but no method supporting in DSL to convert it to a number.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DSL.select(\n       COL1, \n       COL2, \n       COL3,\n       DSL.substring(&quot;Test123456&quot;), \n       1, \n       DSL.substring(&quot;hello123&quot;,6,1))\n   .from(TABLE)\n</code></pre>\n<p>the nested substring need to be converted into number</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653667508,"post_id":72408069,"comment_id":127914402,"body_markdown":"You can research similar questions (and update your own question with any findings), to at least rule out some possible suggestions. For example, this was asked earlier today: [Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers](https://stackoverflow.com/q/72406562/12567365). And I expect there are various similar questions, also.","body":"You can research similar questions (and update your own question with any findings), to at least rule out some possible suggestions. For example, this was asked earlier today: <a href=\"https://stackoverflow.com/q/72406562/12567365\">Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers</a>. And I expect there are various similar questions, also."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653667609,"post_id":72408069,"comment_id":127914436,"body_markdown":"In your case, if you don&#39;t have an `error.html` template, then what if you create it? Maybe that will allow a more relevant error message to be generated.","body":"In your case, if you don&#39;t have an <code>error.html</code> template, then what if you create it? Maybe that will allow a more relevant error message to be generated."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653667641,"post_id":72408069,"comment_id":127914450,"body_markdown":"Add code of the controller method which is called from that link","body":"Add code of the controller method which is called from that link"},{"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"score":0,"creation_date":1653668115,"post_id":72408069,"comment_id":127914615,"body_markdown":"I added the controller class","body":"I added the controller class"},{"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"score":0,"creation_date":1653668204,"post_id":72408069,"comment_id":127914648,"body_markdown":"@andrewJames all similar questions I found were about actual templates they had, my error suggest an [error] template and I dont know why","body":"@andrewJames all similar questions I found were about actual templates they had, my error suggest an [error] template and I dont know why"},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653668756,"post_id":72408069,"comment_id":127914836,"body_markdown":"You&#39;re seeing an error when trying to display an error page, but that is not the root problem. The root problem is what triggered the error in the first place. See if there are different errors higher up in your logs.","body":"You&#39;re seeing an error when trying to display an error page, but that is not the root problem. The root problem is what triggered the error in the first place. See if there are different errors higher up in your logs."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653669852,"post_id":72408069,"comment_id":127915197,"body_markdown":"See my 2nd comment. Does that help expose the root cause problem?","body":"See my 2nd comment. Does that help expose the root cause problem?"},{"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"score":0,"creation_date":1653679268,"post_id":72408069,"comment_id":127917918,"body_markdown":"@andrewJames if I create an error.html file, when I click on a link in index.html it will redirect me to error.html page. No errors, but wrong page","body":"@andrewJames if I create an error.html file, when I click on a link in index.html it will redirect me to error.html page. No errors, but wrong page"},{"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"score":0,"creation_date":1653679371,"post_id":72408069,"comment_id":127917945,"body_markdown":"@knox That is the first error i get, no other errors higher up","body":"@knox That is the first error i get, no other errors higher up"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1653687002,"post_id":72408069,"comment_id":127919891,"body_markdown":"Where is the controller with mappings for `/elencochefs` or `/elencobuffets`?  What is your browser url when you click a link from  your index.html.?","body":"Where is the controller with mappings for <code>&#47;elencochefs</code> or <code>&#47;elencobuffets</code>?  What is your browser url when you click a link from  your index.html.?"},{"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"score":0,"creation_date":1653732994,"post_id":72408069,"comment_id":127926022,"body_markdown":"@Metroids Ok that was the problem...I didnt know I had to use the same name for the mapping, Thank you","body":"@Metroids Ok that was the problem...I didnt know I had to use the same name for the mapping, Thank you"}],"answers":[{"tags":[],"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391524,"creation_date":1655391524,"answer_id":72647907,"question_id":72408069,"body_markdown":"Solution:\r\n\r\nYou have to register &quot;/elencochefs &amp; /elencobuffets&quot; these both endpoints in your controller &amp; also additionally you can add/write error.html file to auto redirect for any error in application.\r\n\r\nFailure Reason:\r\nIn your index.html,\r\n\r\n    &lt;a th:href=&quot;@{/elencochefs}&quot; &gt;Elenco degli chef&lt;/a&gt; \r\n    &lt;a th:href=&quot;@{/elencobuffets}&quot; &gt;Elenco dei buffet&lt;/a&gt;\r\n\r\nthese both links/endpoints (/elencochefs &amp; /elencobuffets) are not configured/mapped in your controller.\r\n\r\nHence when you click on them, your application will not find them &amp; will return with 404. But to display that 404 error with mesage on UI, it finds error.html, which is not configured/written by you.\r\n\r\nSo it will give you another error in logs saying &quot;org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error], template might not exist or might not be accessible by any of the configured Template Resolvers&quot;.\r\n","title":"Error resolving template [error], template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>Solution:</p>\n<p>You have to register &quot;/elencochefs &amp; /elencobuffets&quot; these both endpoints in your controller &amp; also additionally you can add/write error.html file to auto redirect for any error in application.</p>\n<p>Failure Reason:\nIn your index.html,</p>\n<pre><code>&lt;a th:href=&quot;@{/elencochefs}&quot; &gt;Elenco degli chef&lt;/a&gt; \n&lt;a th:href=&quot;@{/elencobuffets}&quot; &gt;Elenco dei buffet&lt;/a&gt;\n</code></pre>\n<p>these both links/endpoints (/elencochefs &amp; /elencobuffets) are not configured/mapped in your controller.</p>\n<p>Hence when you click on them, your application will not find them &amp; will return with 404. But to display that 404 error with mesage on UI, it finds error.html, which is not configured/written by you.</p>\n<p>So it will give you another error in logs saying &quot;org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error], template might not exist or might not be accessible by any of the configured Template Resolvers&quot;.</p>\n"}],"owner":{"account_id":23083372,"reputation":9,"user_id":17195297,"display_name":"leonardo moreo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655391524,"creation_date":1653666911,"question_id":72408069,"body_markdown":"index.html works perfectly but if I click a link in it, eclipse gives me these errors and the site goes error 404. \r\n\r\nlogs:\r\n ```\r\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [error], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\tat org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2022-05-27 17:33:12.749 ERROR 668 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception\r\n\r\n ```\r\n\r\nmy index.html:\r\n ```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;/&gt;\r\n\t&lt;link href=&quot;/frontpage.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n\r\n    &lt;title&gt;Catering Ristorazione C.S.L&lt;/title&gt;\r\n    &lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div&gt;\r\n        &lt;h1&gt; &lt;strong&gt;&lt;em&gt;Catering Ristorazione C.S.L&lt;/em&gt;&lt;/strong&gt;&lt;/h1&gt;\r\n        &lt;div&gt; &lt;hr&gt;\r\n        &lt;a th:href=&quot;@{/elencochefs}&quot; &gt;Elenco degli chef&lt;/a&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt; \r\n        &lt;a th:href=&quot;@{/elencobuffets}&quot; &gt;Elenco dei buffet&lt;/a&gt; \r\n        &lt;/div&gt;\r\n         &lt;/hr&gt; \r\n    &lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n ```\r\n\r\nthe page i try to get redirected to:\r\n ```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Chefs&lt;/title&gt;\r\n    &lt;link href=&quot;/elencochefs.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h3&gt;I nostri Chefs:&lt;/h3&gt;\r\n    &lt;ul&gt;\r\n    &lt;li th:each=&quot;chef : ${chefs}&quot;&gt;\r\n        &lt;a  href=&quot;chef.html&quot; class= &quot;link&quot;\r\n             th:href=&quot;@{&#39;/chef&#39; + &#39;/&#39; + &#39;/${chef.id}}&quot;\r\n             th:text=&quot;${chef.nome} + &#39; &#39; + ${chef.cognome}&quot;&gt;Paolo Rossi&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n ```\r\n\r\nthymeleaf configuration:\r\n ```\r\n# = Thymeleaf configurations\r\n#==================================\r\nspring.thymeleaf.check-template-location=true\r\nspring.thymeleaf.prefix=classpath:/templates/\r\nspring.thymeleaf.suffix=.html\r\nspring.thymeleaf.servlet.content-type=text/html\r\nspring.thymeleaf.cache=false\r\nspring.thymeleaf.enabled=true\r\nspring.thymeleaf.encoding=UTF-8\r\n ```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI honestly dont know where the problem could be, so I dont know what part of my code you need...ask and i&#39;ll post it, thank you for your time and help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R1dKe.png\r\n\r\nEDIT:\r\n\r\n\r\nmy controller class:\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.validation.Valid;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport com.example.demo.model.Chef;\r\nimport com.example.demo.service.ChefService;\r\nimport com.example.demo.validator.ChefValidator;\r\n\r\n@Controller\r\npublic class ChefController {\r\n\r\n\t@Autowired\r\n\tprivate ChefService cs;\r\n\t@Autowired\r\n\tprivate ChefValidator cv;\r\n\r\n\r\n\t//funzione per aggiungere uno chef\r\n\t@PostMapping(&quot;/chef&quot;)\r\n\tpublic String addChef(@Valid @ModelAttribute(&quot;chef&quot;) Chef chef, Model model, BindingResult bindingresult) {\r\n\t\tthis.cv.validate(chef, bindingresult);\r\n\t\tif(!bindingresult.hasErrors()) {\r\n\t\t\tthis.cs.save(chef);\r\n\t\t\tmodel.addAttribute(&quot;chef&quot;, cs.findById(chef.getId()));\r\n\t\t\treturn &quot;chef.html&quot;;\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn &quot;chefForm.html&quot;;\r\n\t}\r\n\r\n\t//funzione per rimuovere uno chef\r\n\t@DeleteMapping(&quot;/deleteChef/{id}&quot;)\r\n\tpublic String removeChef(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n\r\n\t\tcs.deleteById(id);\r\n\t\tmodel.addAttribute(&quot;chefs&quot;, cs.findAll());\r\n\t\treturn &quot;elencochefs.html&quot;;\r\n\t}\r\n\r\n\r\n\t//elenco degli chef\r\n\t@GetMapping(&quot;/chefs&quot;)\r\n\tpublic String getChefs(Model model) {\r\n\r\n\t\tList&lt;Chef&gt; chefs = cs.findAll();\r\n\t\tmodel.addAttribute(&quot;chefs&quot;, chefs);\r\n\t\treturn &quot;elencochefs.html&quot;;\r\n\t}\r\n\r\n\t//uno chef in particolare\r\n\t@GetMapping(&quot;/chef/{id}&quot;)\r\n\tpublic String getChef(@PathVariable(&quot;id&quot;)Long id, Model model) {\r\n\r\n\t\tChef chef = cs.findById(id);\r\n\t\tmodel.addAttribute(&quot;chef&quot;,chef);\r\n\t\treturn &quot;chef.html&quot;;\r\n\t}\r\n\r\n\t//form per aggiungere chef\t\r\n\t@GetMapping(&quot;/chefForm&quot;)\r\n\tpublic String getChef(Model model) {\r\n\r\n\t\tmodel.addAttribute(&quot;chef&quot;, new Chef());\r\n\t\treturn &quot;chefForm.html&quot;;\r\n\t}\r\n\r\n\r\n\t//form per rimuovere chef\r\n\t@GetMapping(&quot;/chefToDelete/{id}&quot;)\r\n\tpublic String deleteChef(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n\r\n\t\tmodel.addAttribute(&quot;cheftoDelete&quot;, cs.findById(id));\r\n\t\treturn &quot;chefToDelete.html&quot;;\r\n\t}\r\n}\r\n```\r\n","title":"Error resolving template [error], template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>index.html works perfectly but if I click a link in it, eclipse gives me these errors and the site goes error 404.</p>\n<p>logs:</p>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error], template might not exist or might not be accessible by any of the configured Template Resolvers\n   at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n   at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n   at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n   at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n   at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n   at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n   at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.20.jar:5.3.20]\n   at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.20.jar:5.3.20]\n   at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.20.jar:5.3.20]\n   at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]\n   at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]\n   at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]\n   at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\n   at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]\n   at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\n   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\n   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.20.jar:5.3.20]\n   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.20.jar:5.3.20]\n   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n   at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2022-05-27 17:33:12.749 ERROR 668 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception\n\n</code></pre>\n<p>my index.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;meta charset=&quot;UTF-8&quot;/&gt;\n   &lt;link href=&quot;/frontpage.css&quot; rel=&quot;stylesheet&quot;&gt;\n\n   &lt;title&gt;Catering Ristorazione C.S.L&lt;/title&gt;\n   &lt;/head&gt;\n&lt;body&gt;\n   &lt;div&gt;\n       &lt;h1&gt; &lt;strong&gt;&lt;em&gt;Catering Ristorazione C.S.L&lt;/em&gt;&lt;/strong&gt;&lt;/h1&gt;\n       &lt;div&gt; &lt;hr&gt;\n       &lt;a th:href=&quot;@{/elencochefs}&quot; &gt;Elenco degli chef&lt;/a&gt;\n       &lt;/div&gt;\n       &lt;div&gt; \n       &lt;a th:href=&quot;@{/elencobuffets}&quot; &gt;Elenco dei buffet&lt;/a&gt; \n       &lt;/div&gt;\n        &lt;/hr&gt; \n   &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>the page i try to get redirected to:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n   &lt;title&gt;Chefs&lt;/title&gt;\n   &lt;link href=&quot;/elencochefs.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n   &lt;h3&gt;I nostri Chefs:&lt;/h3&gt;\n   &lt;ul&gt;\n   &lt;li th:each=&quot;chef : ${chefs}&quot;&gt;\n       &lt;a  href=&quot;chef.html&quot; class= &quot;link&quot;\n            th:href=&quot;@{'/chef' + '/' + '/${chef.id}}&quot;\n            th:text=&quot;${chef.nome} + ' ' + ${chef.cognome}&quot;&gt;Paolo Rossi&lt;/a&gt;\n   &lt;/li&gt;\n   &lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>thymeleaf configuration:</p>\n<pre><code># = Thymeleaf configurations\n#==================================\nspring.thymeleaf.check-template-location=true\nspring.thymeleaf.prefix=classpath:/templates/\nspring.thymeleaf.suffix=.html\nspring.thymeleaf.servlet.content-type=text/html\nspring.thymeleaf.cache=false\nspring.thymeleaf.enabled=true\nspring.thymeleaf.encoding=UTF-8\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/R1dKe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R1dKe.png\" alt=\"enter image description here\" /></a></p>\n<p>I honestly dont know where the problem could be, so I dont know what part of my code you need...ask and i'll post it, thank you for your time and help</p>\n<p>EDIT:</p>\n<p>my controller class:</p>\n<pre><code>package com.example.demo.controller;\n\nimport java.util.List;\n\nimport javax.validation.Valid;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport com.example.demo.model.Chef;\nimport com.example.demo.service.ChefService;\nimport com.example.demo.validator.ChefValidator;\n\n@Controller\npublic class ChefController {\n\n    @Autowired\n    private ChefService cs;\n    @Autowired\n    private ChefValidator cv;\n\n\n    //funzione per aggiungere uno chef\n    @PostMapping(&quot;/chef&quot;)\n    public String addChef(@Valid @ModelAttribute(&quot;chef&quot;) Chef chef, Model model, BindingResult bindingresult) {\n        this.cv.validate(chef, bindingresult);\n        if(!bindingresult.hasErrors()) {\n            this.cs.save(chef);\n            model.addAttribute(&quot;chef&quot;, cs.findById(chef.getId()));\n            return &quot;chef.html&quot;;\n        }\n        else\n            return &quot;chefForm.html&quot;;\n    }\n\n    //funzione per rimuovere uno chef\n    @DeleteMapping(&quot;/deleteChef/{id}&quot;)\n    public String removeChef(@PathVariable(&quot;id&quot;) Long id, Model model) {\n\n        cs.deleteById(id);\n        model.addAttribute(&quot;chefs&quot;, cs.findAll());\n        return &quot;elencochefs.html&quot;;\n    }\n\n\n    //elenco degli chef\n    @GetMapping(&quot;/chefs&quot;)\n    public String getChefs(Model model) {\n\n        List&lt;Chef&gt; chefs = cs.findAll();\n        model.addAttribute(&quot;chefs&quot;, chefs);\n        return &quot;elencochefs.html&quot;;\n    }\n\n    //uno chef in particolare\n    @GetMapping(&quot;/chef/{id}&quot;)\n    public String getChef(@PathVariable(&quot;id&quot;)Long id, Model model) {\n\n        Chef chef = cs.findById(id);\n        model.addAttribute(&quot;chef&quot;,chef);\n        return &quot;chef.html&quot;;\n    }\n\n    //form per aggiungere chef  \n    @GetMapping(&quot;/chefForm&quot;)\n    public String getChef(Model model) {\n\n        model.addAttribute(&quot;chef&quot;, new Chef());\n        return &quot;chefForm.html&quot;;\n    }\n\n\n    //form per rimuovere chef\n    @GetMapping(&quot;/chefToDelete/{id}&quot;)\n    public String deleteChef(@PathVariable(&quot;id&quot;) Long id, Model model) {\n\n        model.addAttribute(&quot;cheftoDelete&quot;, cs.findById(id));\n        return &quot;chefToDelete.html&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","inputstream","classloader"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391118,"creation_date":1655391118,"answer_id":72647804,"question_id":72630502,"body_markdown":"If you open a resource file as a stream, you end up with a `BufferedInputStream` around a `FileInputStream`.\r\n\r\nThe call chain is as follows:\r\n- `java.lang.ClassLoader#getResource` returns an `URL`\r\n- `url.openStream()` is called\r\n- this first opens the Stream; `sun.net.www.protocol.file.Handler#createFileURLConnection`\r\n- then the Stream is connected: `is = new BufferedInputStream(new FileInputStream(filename));` in `sun.net.www.protocol.file.FileURLConnection#connect`\r\n- finally you get this `is` back as `InputStream`\r\n\r\nWhat you&#39;re seeing is the empty internal buffer of the `BufferedInputStream`, which will be used as soon as you start reading from the InputStream.\r\nSee https://stackoverflow.com/questions/52640010/is-fileinputstream-not-buffered-and-why-bufferedinputstream-is-faster\r\n\r\nIf you for example read from the InputStream with all zero&#39;s, you will see it does actually contain data:\r\n```\r\nScanner scanner = new Scanner(inputStream, StandardCharsets.UTF_8.name());\r\nString firstLine = scanner.next();\r\n```\r\nFrom https://www.baeldung.com/convert-input-stream-to-string\r\n\r\nYour workaround works, because after you&#39;ve located the file from the resource URL you actually start reading it directly.\r\n\r\nSo what might be failing in your test; are you not trying to read from the stream in your testcase? How are you using/validating if this inputstream is correct in your test vs the real application? There might be the problem.","title":"classLoader.getResourceAsStream returns an empty Stream in Testing","body":"<p>If you open a resource file as a stream, you end up with a <code>BufferedInputStream</code> around a <code>FileInputStream</code>.</p>\n<p>The call chain is as follows:</p>\n<ul>\n<li><code>java.lang.ClassLoader#getResource</code> returns an <code>URL</code></li>\n<li><code>url.openStream()</code> is called</li>\n<li>this first opens the Stream; <code>sun.net.www.protocol.file.Handler#createFileURLConnection</code></li>\n<li>then the Stream is connected: <code>is = new BufferedInputStream(new FileInputStream(filename));</code> in <code>sun.net.www.protocol.file.FileURLConnection#connect</code></li>\n<li>finally you get this <code>is</code> back as <code>InputStream</code></li>\n</ul>\n<p>What you're seeing is the empty internal buffer of the <code>BufferedInputStream</code>, which will be used as soon as you start reading from the InputStream.\nSee <a href=\"https://stackoverflow.com/questions/52640010/is-fileinputstream-not-buffered-and-why-bufferedinputstream-is-faster\">is FileInputStream not buffered and why BufferedInputStream is faster?</a></p>\n<p>If you for example read from the InputStream with all zero's, you will see it does actually contain data:</p>\n<pre><code>Scanner scanner = new Scanner(inputStream, StandardCharsets.UTF_8.name());\nString firstLine = scanner.next();\n</code></pre>\n<p>From <a href=\"https://www.baeldung.com/convert-input-stream-to-string\" rel=\"nofollow noreferrer\">https://www.baeldung.com/convert-input-stream-to-string</a></p>\n<p>Your workaround works, because after you've located the file from the resource URL you actually start reading it directly.</p>\n<p>So what might be failing in your test; are you not trying to read from the stream in your testcase? How are you using/validating if this inputstream is correct in your test vs the real application? There might be the problem.</p>\n"}],"owner":{"account_id":12526564,"reputation":11,"user_id":9116156,"display_name":"Retros_x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655391118,"creation_date":1655292407,"question_id":72630502,"body_markdown":"I have a method where I need to read a resource file and pass it to another method  as an InputStream. The obvious approach\r\n```\r\nInputStream is = classLoader.getResourceAsStream(&quot;filename.pem&quot;);\r\n```\r\nworks fine when actually running the application, but in testing it returns an empty InputStream (filled with zeros). I don&#39;t think its a problem with the resource path or anything, because when I use a nonsense path like `&quot;filex&quot;` (filex does not exist), I get an actual null pointer exception and not an empty stream. Also in debugger the complete file path of the empty Stream points to the correct path, where the file actually is stored (default class root).\r\n\r\nFurthermore, with the following workaround it works:\r\n```\r\n            File file = new File(classLoader.getResource(&quot;filename.pem&quot;).getFile());\r\n            String fileS= new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\r\n            InputStream is = classLoader.getResourceAsStream(&quot;filename.pem&quot;);\r\n            InputStream is2 = new ByteArrayInputStream(fileS.getBytes(StandardCharsets.UTF_8));\r\n```\r\nIn this example `is2` has the actual content of the file in the InputStream, while `is` has an Stream filled with zeros. I can&#39;t quite explain that behaviour. I double checked with &#39;getClass().getClassLoader().getClass()&#39; if we use some modified ClassLoader in the Application, but it is the original one from `sun.misc.Launcher$AppClassLoader`.\r\n\r\nSo my questions are:\r\n\r\n - Why does the workaround work but not the classic approach?\r\n - Why does it fail only in test class?\r\n - Is there a way to make it work? The workaround is more lines of code and also need to catch IOException because of the `Files.readAllBytes()` call.\r\n\r\nThe only idea I had left: the encoding or charset has something to do with it. But to my knowledge there is no parameter in `getResourceAsStream()` like `Charset` or `StandardCharsets`.\r\n\r\n\r\n\r\n","title":"classLoader.getResourceAsStream returns an empty Stream in Testing","body":"<p>I have a method where I need to read a resource file and pass it to another method  as an InputStream. The obvious approach</p>\n<pre><code>InputStream is = classLoader.getResourceAsStream(&quot;filename.pem&quot;);\n</code></pre>\n<p>works fine when actually running the application, but in testing it returns an empty InputStream (filled with zeros). I don't think its a problem with the resource path or anything, because when I use a nonsense path like <code>&quot;filex&quot;</code> (filex does not exist), I get an actual null pointer exception and not an empty stream. Also in debugger the complete file path of the empty Stream points to the correct path, where the file actually is stored (default class root).</p>\n<p>Furthermore, with the following workaround it works:</p>\n<pre><code>            File file = new File(classLoader.getResource(&quot;filename.pem&quot;).getFile());\n            String fileS= new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\n            InputStream is = classLoader.getResourceAsStream(&quot;filename.pem&quot;);\n            InputStream is2 = new ByteArrayInputStream(fileS.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>In this example <code>is2</code> has the actual content of the file in the InputStream, while <code>is</code> has an Stream filled with zeros. I can't quite explain that behaviour. I double checked with 'getClass().getClassLoader().getClass()' if we use some modified ClassLoader in the Application, but it is the original one from <code>sun.misc.Launcher$AppClassLoader</code>.</p>\n<p>So my questions are:</p>\n<ul>\n<li>Why does the workaround work but not the classic approach?</li>\n<li>Why does it fail only in test class?</li>\n<li>Is there a way to make it work? The workaround is more lines of code and also need to catch IOException because of the <code>Files.readAllBytes()</code> call.</li>\n</ul>\n<p>The only idea I had left: the encoding or charset has something to do with it. But to my knowledge there is no parameter in <code>getResourceAsStream()</code> like <code>Charset</code> or <code>StandardCharsets</code>.</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1654101857,"post_id":72464494,"comment_id":128013376,"body_markdown":"IMO the classes `LocalDate`, `LocalDateTime` and `LocalTime` have not been too fortunate with their names. We need to understand that in these names “local” is intended to mean “without time zone or UTC offset”.","body":"IMO the classes <code>LocalDate</code>, <code>LocalDateTime</code> and <code>LocalTime</code> have not been too fortunate with their names. We need to understand that in these names “local” is intended to mean “without time zone or UTC offset”."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1654097625,"creation_date":1654097625,"answer_id":72464546,"question_id":72464494,"body_markdown":"The problem is your use of `LocalDateTime`. That has no concept of which time zone it&#39;s in - so when you use `LocalDateTime.atZone` it assumes you want to keep that same local date/time.\r\n\r\nThe best fix here is to change `LocalDateTime.now(clock)` to `Instant.now(clock)`. What you&#39;re interested in is &quot;the current instant in time&quot;, not &quot;the local time in UTC&quot;.\r\n\r\nAlternatively, use a `Clock` in the system time zone with `ZonedDateTime.now(clock)`.","title":"Java Time: LocalTime (UTC) to ZonedTime (-05:00) not displaying correct hour","body":"<p>The problem is your use of <code>LocalDateTime</code>. That has no concept of which time zone it's in - so when you use <code>LocalDateTime.atZone</code> it assumes you want to keep that same local date/time.</p>\n<p>The best fix here is to change <code>LocalDateTime.now(clock)</code> to <code>Instant.now(clock)</code>. What you're interested in is &quot;the current instant in time&quot;, not &quot;the local time in UTC&quot;.</p>\n<p>Alternatively, use a <code>Clock</code> in the system time zone with <code>ZonedDateTime.now(clock)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2241017,"reputation":706,"user_id":1975276,"accept_rate":68,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654147114,"creation_date":1654105151,"answer_id":72465991,"question_id":72464494,"body_markdown":"For those who may come across this in the future, here is a snippet of the code in the original post with the fix from the selected answer applied:\r\n\r\n    Instant time = Instant.now();\r\n    ZonedDateTime zonedTime = time.atZone(ZoneId.systemDefault());\r\n    System.out.println(&quot;UTC time: &quot; + time + &quot; Local: &quot; + zonedTime.toOffsetDateTime());","title":"Java Time: LocalTime (UTC) to ZonedTime (-05:00) not displaying correct hour","body":"<p>For those who may come across this in the future, here is a snippet of the code in the original post with the fix from the selected answer applied:</p>\n<pre><code>Instant time = Instant.now();\nZonedDateTime zonedTime = time.atZone(ZoneId.systemDefault());\nSystem.out.println(&quot;UTC time: &quot; + time + &quot; Local: &quot; + zonedTime.toOffsetDateTime());\n</code></pre>\n"}],"owner":{"account_id":2241017,"reputation":706,"user_id":1975276,"accept_rate":68,"display_name":"Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72464546,"answer_count":2,"score":2,"last_activity_date":1655390583,"creation_date":1654097435,"question_id":72464494,"body_markdown":"I&#39;m new to using Java&#39;s built in time API. I&#39;m trying to fetch the current time in UTC, and I want to be able to convert that into the timezone of whoever is running the program. Right now I have this code:\r\n\r\n```java\r\nClock clock = Clock.systemUTC();\r\nLocalDateTime time = LocalDateTime.now(clock);\r\nZonedDateTime zonedTime = time.atZone(ZoneId.systemDefault());\r\nSystem.out.println(&quot;UTC time: &quot; + time + &quot; Local: &quot; + zonedTime);\r\n```\r\n\r\nHowever, this prints out:\r\n\r\n```\r\nUTC time: 2022-06-01T15:25:57.933673600 Local: 2022-06-01T15:25:57.9336736-05:00\r\n```\r\nIt appears to be fetching the correct timezone, but it&#39;s not applying it to the output. So if I print\r\n```\r\ntime.getHour()\r\nzonedTime.getHour()\r\n```\r\nThey both print out &quot;15.&quot; What&#39;s the correct way to get it to give me the time with the timezone offset applied? The UTC time is 15, but my local time is 10. I want to be able to to convert the UTC to the timezone time.\r\n\r\nThe reason why is that I&#39;m setting up save files - so I want to record the UTC time of when the file was saved, but then be able to display the time in the timezone of the user when they check the save date on their computers.\r\n","title":"Java Time: LocalTime (UTC) to ZonedTime (-05:00) not displaying correct hour","body":"<p>I'm new to using Java's built in time API. I'm trying to fetch the current time in UTC, and I want to be able to convert that into the timezone of whoever is running the program. Right now I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Clock clock = Clock.systemUTC();\nLocalDateTime time = LocalDateTime.now(clock);\nZonedDateTime zonedTime = time.atZone(ZoneId.systemDefault());\nSystem.out.println(&quot;UTC time: &quot; + time + &quot; Local: &quot; + zonedTime);\n</code></pre>\n<p>However, this prints out:</p>\n<pre><code>UTC time: 2022-06-01T15:25:57.933673600 Local: 2022-06-01T15:25:57.9336736-05:00\n</code></pre>\n<p>It appears to be fetching the correct timezone, but it's not applying it to the output. So if I print</p>\n<pre><code>time.getHour()\nzonedTime.getHour()\n</code></pre>\n<p>They both print out &quot;15.&quot; What's the correct way to get it to give me the time with the timezone offset applied? The UTC time is 15, but my local time is 10. I want to be able to to convert the UTC to the timezone time.</p>\n<p>The reason why is that I'm setting up save files - so I want to record the UTC time of when the file was saved, but then be able to display the time in the timezone of the user when they check the save date on their computers.</p>\n"},{"tags":["java","android","networking"],"comments":[{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1654893792,"post_id":72549654,"comment_id":128209643,"body_markdown":"This is possible. but the app&#39;s themselves need to explicitly request a particular network type. I.e., if your motor controller app wants to use Wifi for some particular operations, it needs to let Android know that by making a request specifically for Wifi. Here is an example solution here for reference:\nhttps://stackoverflow.com/a/67081087/2267817","body":"This is possible. but the app&#39;s themselves need to explicitly request a particular network type. I.e., if your motor controller app wants to use Wifi for some particular operations, it needs to let Android know that by making a request specifically for Wifi. Here is an example solution here for reference: <a href=\"https://stackoverflow.com/a/67081087/2267817\">stackoverflow.com/a/67081087/2267817</a>"},{"owner":{"account_id":23863320,"reputation":41,"user_id":17865980,"display_name":"Jake "},"score":0,"creation_date":1655221935,"post_id":72549654,"comment_id":128278864,"body_markdown":"@AlwaysLearning, thank you for your answer! Do you happen to know how I would integrate your solution into my project (using the provided code above)?","body":"@AlwaysLearning, thank you for your answer! Do you happen to know how I would integrate your solution into my project (using the provided code above)?"},{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1655222959,"post_id":72549654,"comment_id":128279278,"body_markdown":"Hi @Jake, you need to file two &#39;NetworkRequest&#39; objects as mentioned in the referenced answer. Everything for how to do so is listed so you should be good to go.","body":"Hi @Jake, you need to file two &#39;NetworkRequest&#39; objects as mentioned in the referenced answer. Everything for how to do so is listed so you should be good to go."},{"owner":{"account_id":23863320,"reputation":41,"user_id":17865980,"display_name":"Jake "},"score":0,"creation_date":1655303366,"post_id":72549654,"comment_id":128301242,"body_markdown":"@AlwaysLearning, I guess I don&#39;t understand what exactly I&#39;m supposed to do. I have the code from the post you linked, and the callbacks are being called but I&#39;m still unsure of how I&#39;m supposed to force the modbus stuff to use the local ethernet connection? Right now, it is just giving me errors saying the connection timed out because I assume its trying to use the wifi connection to connect to the specified local IP address/port. I don&#39;t have any experience in Java networking so and I&#39;m a bit of a beginner anyway so this is all a bit confusing to me...","body":"@AlwaysLearning, I guess I don&#39;t understand what exactly I&#39;m supposed to do. I have the code from the post you linked, and the callbacks are being called but I&#39;m still unsure of how I&#39;m supposed to force the modbus stuff to use the local ethernet connection? Right now, it is just giving me errors saying the connection timed out because I assume its trying to use the wifi connection to connect to the specified local IP address/port. I don&#39;t have any experience in Java networking so and I&#39;m a bit of a beginner anyway so this is all a bit confusing to me..."},{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1655315489,"post_id":72549654,"comment_id":128305865,"body_markdown":"Hi @Jake, I updated the referenced answer to include how to use the network that is returned. Hopefully it helps.","body":"Hi @Jake, I updated the referenced answer to include how to use the network that is returned. Hopefully it helps."},{"owner":{"account_id":23863320,"reputation":41,"user_id":17865980,"display_name":"Jake "},"score":0,"creation_date":1655390472,"post_id":72549654,"comment_id":128325420,"body_markdown":"@AlwaysLearning, you&#39;ve definitely put me on the right track! I can use the bindProcessToNetwork() call and the ethernet appears to work (though of course wifi will not work then). My last question for you would be that when I try and bind a socket it appears to hang? I&#39;ve updated my code snippet and the log statement &quot;SOCKET CREATED...&quot; is never called, though no error is ever thrown either. Is there anything that sticks out to you there? I know the address/port for the motor controller is correct. Thanks for all the help you&#39;ve given me so far :)","body":"@AlwaysLearning, you&#39;ve definitely put me on the right track! I can use the bindProcessToNetwork() call and the ethernet appears to work (though of course wifi will not work then). My last question for you would be that when I try and bind a socket it appears to hang? I&#39;ve updated my code snippet and the log statement &quot;SOCKET CREATED...&quot; is never called, though no error is ever thrown either. Is there anything that sticks out to you there? I know the address/port for the motor controller is correct. Thanks for all the help you&#39;ve given me so far :)"},{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1655398903,"post_id":72549654,"comment_id":128328685,"body_markdown":"Have you tried to bind to a socket using the default constructor: `Socket socket = new Socket` as opposed to the one you are currently using when passing in the address/port?","body":"Have you tried to bind to a socket using the default constructor: <code>Socket socket = new Socket</code> as opposed to the one you are currently using when passing in the address/port?"},{"owner":{"account_id":23863320,"reputation":41,"user_id":17865980,"display_name":"Jake "},"score":0,"creation_date":1655408311,"post_id":72549654,"comment_id":128331713,"body_markdown":"@AlwaysLearning, I can make a socket like that but it doesn&#39;t do anything? I don&#39;t know if I&#39;m understanding the network side of this correctly... So the modbus library I&#39;m using is going to open a new connection to the motor controller using the IP address and port I have in the code above, that means I want the app to send anything addressed to that socket over ethernet. So shouldn&#39;t I be binding the socket the Modbus library is going to use to this ethernet network?","body":"@AlwaysLearning, I can make a socket like that but it doesn&#39;t do anything? I don&#39;t know if I&#39;m understanding the network side of this correctly... So the modbus library I&#39;m using is going to open a new connection to the motor controller using the IP address and port I have in the code above, that means I want the app to send anything addressed to that socket over ethernet. So shouldn&#39;t I be binding the socket the Modbus library is going to use to this ethernet network?"},{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1655409872,"post_id":72549654,"comment_id":128332188,"body_markdown":"If you bind to the socket, it&#39;ll be to the network serving the underlying ethernet interface. If however you have additional requirements (e.g. needs to use a specific port, etc.), you may need to set the port as you are doing now.\n\nAt the end of the day, it&#39;s just a plain Java socket and thankfully, there&#39;s a lot of data out there on how to use sockets to connect to networks. Here&#39;s one example: https://stackoverflow.com/q/7384678\n\nHope that helps!","body":"If you bind to the socket, it&#39;ll be to the network serving the underlying ethernet interface. If however you have additional requirements (e.g. needs to use a specific port, etc.), you may need to set the port as you are doing now.  At the end of the day, it&#39;s just a plain Java socket and thankfully, there&#39;s a lot of data out there on how to use sockets to connect to networks. Here&#39;s one example: <a href=\"https://stackoverflow.com/q/7384678\">stackoverflow.com/q/7384678</a>  Hope that helps!"},{"owner":{"account_id":23863320,"reputation":41,"user_id":17865980,"display_name":"Jake "},"score":0,"creation_date":1655500361,"post_id":72549654,"comment_id":128355561,"body_markdown":"@AlwaysLearning, unfortunately I cannot get it to work, no matter what I try it appears to fail. I&#39;ve posted a new question with some more details [here](https://stackoverflow.com/questions/72664814/using-java-connectivitymanager-to-allow-android-to-use-both-wifi-and-local-eth) if you wanted to consider this problem further, otherwise thanks for the help you&#39;ve given me so far, I do appreciate it.","body":"@AlwaysLearning, unfortunately I cannot get it to work, no matter what I try it appears to fail. I&#39;ve posted a new question with some more details <a href=\"https://stackoverflow.com/questions/72664814/using-java-connectivitymanager-to-allow-android-to-use-both-wifi-and-local-eth\">here</a> if you wanted to consider this problem further, otherwise thanks for the help you&#39;ve given me so far, I do appreciate it."},{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1655508557,"post_id":72549654,"comment_id":128356829,"body_markdown":"Yeah, sure thing and if you found the original answer I posted above in the comment thread, please feel free to upvote it. Thanks and best of luck, sounds like you are really close.","body":"Yeah, sure thing and if you found the original answer I posted above in the comment thread, please feel free to upvote it. Thanks and best of luck, sounds like you are really close."}],"owner":{"account_id":23863320,"reputation":41,"user_id":17865980,"display_name":"Jake "},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":685,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1655390521,"creation_date":1654707991,"question_id":72549654,"body_markdown":"Let me quickly describe my setup and goal. I have a android tablet display running Android version 7.1.2\r\n\r\nI have a motor controller that is hooked up to the Android tablet via ethernet. In my Android app that controls the motor controller, I use Wifi to communicate with some servers that provide/store data. Currently, I can use an Android simulator (in Android Studio) that allows me to communicate with the motor controller while also using the wifi for calls to the server. When I run the app on the Android tablet itself, I can only have Wifi ***OR*** Ethernet active at one time.\r\n\r\nAccording to [this post][1] this is a hard limitation in Android itself. It also details some possible fixes, but its quite old and to be honest I do not have any experience in the required steps described by their vague instructions.\r\n\r\nCan anyone provide a more up-to-date solution to this problem, preferably one that is a little more detailed for newbies like me? Even just a pointer to learning how to do the necessary steps for fixing this would be great, I&#39;ve been stuck on this for awhile! Thanks for any help!\r\n\r\nEDIT: Here&#39;s some relevant info in regards to AlwaysLearning&#39;s answer...\r\n\r\n\r\nThe class I use to manage reading from Modbus\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class ModbusRead {\r\n\r\n        private static final String TAG = &quot;MODBUS READ&quot;;\r\n\r\n        ModbusClient mClientReadAll;\r\n\r\n        public ModbusRead()\r\n        {\r\n    //        IP = &quot;192.168.124.2&quot;;\r\n    //        port = 502;\r\n            mClientReadAll = new ModbusClient(Modbus.IP, Integer.valueOf(Modbus.port));\r\n            mClientReadAll.setUnitIdentifier((byte)255);\r\n        }\r\n\r\n        public Runnable readAll()\r\n        {\r\n            return () -&gt; {\r\n\r\n                    ReadAllFromModbus mReadAll = new ReadAllFromModbus();\r\n                    mReadAll.execute();\r\n            };\r\n        }\r\n\r\n        public class ReadAllFromModbus extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n            private final String TAG = &quot;READ ALL FROM MODBUS&quot;;\r\n\r\n            @Override\r\n            protected String doInBackground(String... params) {\r\n\r\n                try\r\n                {\r\n                    mClientReadAll.Connect();\r\n\r\n                    // get all registers\r\n                    int[] registerBlock = mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_MODE.getRegister()- 1, 16);\r\n                    int[] wideRegisters = new int[] {\r\n                            Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_ACTUAL_POSITION.getRegister() - 1, 2)),\r\n                            Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_TARGET_POSITION.getRegister() - 1, 2)),\r\n                            Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_ROM_DELTA.getRegister() - 1, 2)),\r\n                            Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_REWIND_ZERO.getRegister() - 1, 2))\r\n                    };\r\n                    int[] tensionRegister = mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_ACTUAL_TENSION.getRegister() - 1, 1);\r\n\r\n                    Modbus.updateAllRegisters(registerBlock, wideRegisters, tensionRegister);\r\n\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    Log.i(TAG, &quot;ERROR IN GETTING ALL REGISTERS LOOP: &quot; + e.getMessage());\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(String s) {\r\n                super.onPostExecute(s);\r\n\r\n                try\r\n                {\r\n                    mClientReadAll.Disconnect();\r\n                }\r\n                catch(Exception e)\r\n                {\r\n                    Log.i(TAG, &quot;ERROR IN DISCONNECTING&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe relevant part of my Dashboard class that would handle starting the thread that does all the modbus reading\r\n\r\n\r\n\r\nHow would I go about forcing the ModbusRead class to use the Ethernet here?\r\n\r\n        ModbusRead modbusRead = new ModbusRead();\r\n\r\n        final ConnectivityManager connectivityManager = (ConnectivityManager) this.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        final NetworkRequest requestEthernet = new NetworkRequest.Builder()\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_ETHERNET)\r\n                .build();\r\n\r\n        final ConnectivityManager.NetworkCallback cbEthernet = new ConnectivityManager.NetworkCallback() {\r\n            @Override\r\n            public void onAvailable(Network network) {\r\n\r\n                // connectivityManager.bindProcessToNetwork(network);\r\n\r\n                try\r\n                {\r\n                    // Modbus.IP = &quot;192.168.124.2&quot;\r\n                    // Modbus.port = 502\r\n                    Log.i(TAG, &quot;TRYING TO BIND SOCKET...&quot;);\r\n\r\n                    InetAddress address = InetAddress.getByName(Modbus.IP);\r\n\r\n                    Log.i(TAG, &quot;ADDRESS: &quot; + address.toString());\r\n\r\n                    Socket socket = new Socket(address, Modbus.port);\r\n\r\n                    Log.i(TAG, &quot;SOCKET CREATED...&quot; + socket.getInetAddress());\r\n\r\n                    network.bindSocket(socket);\r\n\r\n                    Log.i(TAG, &quot;BOUND ETHERNET&quot;);\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    e.printStackTrace();\r\n                    Log.i(TAG, &quot;EXCEPTION: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        };\r\n\r\n        connectivityManager.requestNetwork(requestEthernet, cbEthernet);\r\n\r\n        ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n        executorService.scheduleAtFixedRate(modbusRead.readAll(), 2000, 250, TimeUnit.MILLISECONDS);\r\n\r\n  [1]: https://stackoverflow.com/questions/18143534/android-ethernet-and-wi-fi-at-the-same-time","title":"Problem Using Ethernet and Wifi on Android at the same time","body":"<p>Let me quickly describe my setup and goal. I have a android tablet display running Android version 7.1.2</p>\n<p>I have a motor controller that is hooked up to the Android tablet via ethernet. In my Android app that controls the motor controller, I use Wifi to communicate with some servers that provide/store data. Currently, I can use an Android simulator (in Android Studio) that allows me to communicate with the motor controller while also using the wifi for calls to the server. When I run the app on the Android tablet itself, I can only have Wifi <em><strong>OR</strong></em> Ethernet active at one time.</p>\n<p>According to <a href=\"https://stackoverflow.com/questions/18143534/android-ethernet-and-wi-fi-at-the-same-time\">this post</a> this is a hard limitation in Android itself. It also details some possible fixes, but its quite old and to be honest I do not have any experience in the required steps described by their vague instructions.</p>\n<p>Can anyone provide a more up-to-date solution to this problem, preferably one that is a little more detailed for newbies like me? Even just a pointer to learning how to do the necessary steps for fixing this would be great, I've been stuck on this for awhile! Thanks for any help!</p>\n<p>EDIT: Here's some relevant info in regards to AlwaysLearning's answer...</p>\n<p>The class I use to manage reading from Modbus\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class ModbusRead {\n\n    private static final String TAG = \"MODBUS READ\";\n\n    ModbusClient mClientReadAll;\n\n    public ModbusRead()\n    {\n//        IP = \"192.168.124.2\";\n//        port = 502;\n        mClientReadAll = new ModbusClient(Modbus.IP, Integer.valueOf(Modbus.port));\n        mClientReadAll.setUnitIdentifier((byte)255);\n    }\n\n    public Runnable readAll()\n    {\n        return () -&gt; {\n\n                ReadAllFromModbus mReadAll = new ReadAllFromModbus();\n                mReadAll.execute();\n        };\n    }\n\n    public class ReadAllFromModbus extends AsyncTask&lt;String, Void, String&gt; {\n\n        private final String TAG = \"READ ALL FROM MODBUS\";\n\n        @Override\n        protected String doInBackground(String... params) {\n\n            try\n            {\n                mClientReadAll.Connect();\n\n                // get all registers\n                int[] registerBlock = mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_MODE.getRegister()- 1, 16);\n                int[] wideRegisters = new int[] {\n                        Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_ACTUAL_POSITION.getRegister() - 1, 2)),\n                        Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_TARGET_POSITION.getRegister() - 1, 2)),\n                        Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_ROM_DELTA.getRegister() - 1, 2)),\n                        Modbus.convertWideRegister(mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_REWIND_ZERO.getRegister() - 1, 2))\n                };\n                int[] tensionRegister = mClientReadAll.ReadHoldingRegisters(Constants.RegisterRead.HR_ACTUAL_TENSION.getRegister() - 1, 1);\n\n                Modbus.updateAllRegisters(registerBlock, wideRegisters, tensionRegister);\n\n            }\n            catch (Exception e)\n            {\n                Log.i(TAG, \"ERROR IN GETTING ALL REGISTERS LOOP: \" + e.getMessage());\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n            super.onPostExecute(s);\n\n            try\n            {\n                mClientReadAll.Disconnect();\n            }\n            catch(Exception e)\n            {\n                Log.i(TAG, \"ERROR IN DISCONNECTING\");\n            }\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The relevant part of my Dashboard class that would handle starting the thread that does all the modbus reading</p>\n<p>How would I go about forcing the ModbusRead class to use the Ethernet here?</p>\n<pre><code>    ModbusRead modbusRead = new ModbusRead();\n\n    final ConnectivityManager connectivityManager = (ConnectivityManager) this.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    final NetworkRequest requestEthernet = new NetworkRequest.Builder()\n            .addTransportType(NetworkCapabilities.TRANSPORT_ETHERNET)\n            .build();\n\n    final ConnectivityManager.NetworkCallback cbEthernet = new ConnectivityManager.NetworkCallback() {\n        @Override\n        public void onAvailable(Network network) {\n\n            // connectivityManager.bindProcessToNetwork(network);\n\n            try\n            {\n                // Modbus.IP = &quot;192.168.124.2&quot;\n                // Modbus.port = 502\n                Log.i(TAG, &quot;TRYING TO BIND SOCKET...&quot;);\n\n                InetAddress address = InetAddress.getByName(Modbus.IP);\n\n                Log.i(TAG, &quot;ADDRESS: &quot; + address.toString());\n\n                Socket socket = new Socket(address, Modbus.port);\n\n                Log.i(TAG, &quot;SOCKET CREATED...&quot; + socket.getInetAddress());\n\n                network.bindSocket(socket);\n\n                Log.i(TAG, &quot;BOUND ETHERNET&quot;);\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n                Log.i(TAG, &quot;EXCEPTION: &quot; + e.getMessage());\n            }\n        }\n    };\n\n    connectivityManager.requestNetwork(requestEthernet, cbEthernet);\n\n    ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n    executorService.scheduleAtFixedRate(modbusRead.readAll(), 2000, 250, TimeUnit.MILLISECONDS);\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":4,"creation_date":1431544087,"post_id":30223079,"comment_id":48550435,"body_markdown":"That is a bit weird. We would expect that if `allMatch` returns true then so should `anyMatch`. Additionally, for the empty case, `allMatch(...) == noneMatch(...)` which is also weird.","body":"That is a bit weird. We would expect that if <code>allMatch</code> returns true then so should <code>anyMatch</code>. Additionally, for the empty case, <code>allMatch(...) == noneMatch(...)</code> which is also weird."},{"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"score":7,"creation_date":1431544246,"post_id":30223079,"comment_id":48550546,"body_markdown":"Wikipedia says it is the convention: http://en.wikipedia.org/wiki/Universal_quantification#The_empty_set","body":"Wikipedia says it is the convention: <a href=\"http://en.wikipedia.org/wiki/Universal_quantification#The_empty_set\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Universal_quantification#The_empty_set</a>"},{"owner":{"account_id":2198238,"reputation":2937,"user_id":1943369,"display_name":"MattPutnam"},"score":0,"creation_date":1431549588,"post_id":30223079,"comment_id":48553356,"body_markdown":"Just a quick aside about syntax: instead of writing your predicate as `i -&gt; i.isValid()`, you can write `Foo::isValid` (where `Foo` is whatever class you&#39;re streaming, of course)","body":"Just a quick aside about syntax: instead of writing your predicate as <code>i -&gt; i.isValid()</code>, you can write <code>Foo::isValid</code> (where <code>Foo</code> is whatever class you&#39;re streaming, of course)"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":2,"creation_date":1431562731,"post_id":30223079,"comment_id":48558321,"body_markdown":"&quot;This operation is used in an imperative way that departs the monad&quot; - I doubt this factors into any decisions.","body":"&quot;This operation is used in an imperative way that departs the monad&quot; - I doubt this factors into any decisions."}],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":165,"is_accepted":true,"score":165,"last_activity_date":1568367992,"creation_date":1431544280,"answer_id":30223378,"question_id":30223079,"body_markdown":"This is known as [vacuous truth][1]. All members of an empty collection satisfy your condition; after all, can you point to one that doesn&#39;t? \r\n\r\nSimilarly, `anyMatch` returns `false`, because you can&#39;t find an element of your collection that does match the condition. This is confusing to a lot of people, but it turns out to be the most useful and consistent way to define &quot;any&quot; and &quot;all&quot; for empty sets.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Vacuous_truth","title":"Why does Stream.allMatch() return true for an empty stream?","body":"<p>This is known as <a href=\"http://en.wikipedia.org/wiki/Vacuous_truth\" rel=\"noreferrer\">vacuous truth</a>. All members of an empty collection satisfy your condition; after all, can you point to one that doesn't? </p>\n\n<p>Similarly, <code>anyMatch</code> returns <code>false</code>, because you can't find an element of your collection that does match the condition. This is confusing to a lot of people, but it turns out to be the most useful and consistent way to define \"any\" and \"all\" for empty sets.</p>\n"},{"tags":[],"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431556180,"creation_date":1431544432,"answer_id":30223427,"question_id":30223079,"body_markdown":"When I call `list.allMatch` (or its analogs in other languages), I want to detect if any items in `list` fail to match the predicate. If there are no items, none might fail to match. My following logic would pick items and expect them to have matched the predicate. For an empty list, I&#39;ll pick no items and the logic will still be sound.\r\n\r\nWhat if `allMatch` returned `false` for an empty list?\r\n\r\nMy straightforward logic would fail:\r\n\r\n     if (!myList.allMatch(predicate)) {\r\n       throw new InvalidDataException(&quot;Some of the items failed to match!&quot;);\r\n     }\r\n     for (Item item : myList) { ... }\r\n\r\nI&#39;ll need to remember to replace the check with `!myList.empty() &amp;&amp; !myList.allMatch()`.\r\n\r\nIn short, `allMatch` returning `true` for an empty list is not only logically sound, it also lies on the happy path of execution, requiring fewer checks.","title":"Why does Stream.allMatch() return true for an empty stream?","body":"<p>When I call <code>list.allMatch</code> (or its analogs in other languages), I want to detect if any items in <code>list</code> fail to match the predicate. If there are no items, none might fail to match. My following logic would pick items and expect them to have matched the predicate. For an empty list, I'll pick no items and the logic will still be sound.</p>\n\n<p>What if <code>allMatch</code> returned <code>false</code> for an empty list?</p>\n\n<p>My straightforward logic would fail:</p>\n\n<pre><code> if (!myList.allMatch(predicate)) {\n   throw new InvalidDataException(\"Some of the items failed to match!\");\n }\n for (Item item : myList) { ... }\n</code></pre>\n\n<p>I'll need to remember to replace the check with <code>!myList.empty() &amp;&amp; !myList.allMatch()</code>.</p>\n\n<p>In short, <code>allMatch</code> returning <code>true</code> for an empty list is not only logically sound, it also lies on the happy path of execution, requiring fewer checks.</p>\n"},{"tags":[],"owner":{"account_id":5591527,"reputation":162,"user_id":4430591,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431545911,"creation_date":1431545118,"answer_id":30223588,"question_id":30223079,"body_markdown":"It looks like the base of it is mathematical induction. For computer science an application of this could be a base case of a recursive algorithm.\r\n\r\n&gt; If the stream is empty, the quantification is said to be vacuously satisfied and is always true. [Oracle Docs: Stream operations and pipelines][1]\r\n\r\nThe key here is that it is &quot;vacuously satisfied&quot; which, by nature, is somewhat misleading. Wikipedia has a decent discussion about it.\r\n\r\n&gt; In pure mathematics, vacuously true statements are not generally of interest by themselves, but they frequently arise as the base case of proofs by mathematical induction. [Wikipedia: Vacuous Truth][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\r\n  [2]: http://en.wikipedia.org/wiki/Vacuous_truth","title":"Why does Stream.allMatch() return true for an empty stream?","body":"<p>It looks like the base of it is mathematical induction. For computer science an application of this could be a base case of a recursive algorithm.</p>\n\n<blockquote>\n  <p>If the stream is empty, the quantification is said to be vacuously satisfied and is always true. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"nofollow\">Oracle Docs: Stream operations and pipelines</a></p>\n</blockquote>\n\n<p>The key here is that it is \"vacuously satisfied\" which, by nature, is somewhat misleading. Wikipedia has a decent discussion about it.</p>\n\n<blockquote>\n  <p>In pure mathematics, vacuously true statements are not generally of interest by themselves, but they frequently arise as the base case of proofs by mathematical induction. <a href=\"http://en.wikipedia.org/wiki/Vacuous_truth\" rel=\"nofollow\">Wikipedia: Vacuous Truth</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":216968,"reputation":2250,"user_id":472522,"accept_rate":62,"display_name":"Hans"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1550050099,"creation_date":1497901625,"answer_id":44638750,"question_id":30223079,"body_markdown":"Here&#39;s another way to think about this:\r\n\r\n`allMatch()` is to `&amp;&amp;` what `sum()` is to `+`\r\n\r\nConsider the following logical statements:\r\n\r\n    IntStream.of(1, 2).sum() + 3 == IntStream.of(1, 2, 3).sum()\r\n    IntStream.of(1).sum() + 2 == IntStream.of(1, 2).sum()\r\n\r\nThis makes sense because `sum()` is just a generalization of `+`. However, what happens when you remove one more element?\r\n\r\n    IntStream.of().sum() + 1 == IntStream.of(1).sum()\r\n\r\nWe can see that it makes sense to define `IntStream.of().sum()`, or the sum of an empty sequence of numbers, in a particular way. This gives us the &quot;identity element&quot; of summation, or the value that, when added to something, has no effect (`0`).\r\n\r\nWe can apply the same logic to `Boolean` algebra.\r\n\r\n    Stream.of(true, true).allMatch(it -&gt; it) == Stream.of(true).allMatch(it -&gt; it) &amp;&amp; true\r\n\r\nMore generically:\r\n\r\n    stream.concat(Stream.of(thing)).allMatch(it -&gt; it) == stream.allMatch(it -&gt; it) &amp;&amp; thing\r\n\r\nIf `stream = Stream.of()` then this rule still needs to apply. We can use the &quot;identity element&quot; of &amp;&amp; to solve this. `true &amp;&amp; thing == thing`, so `Stream.of().allMatch(it -&gt; it) == true`.","title":"Why does Stream.allMatch() return true for an empty stream?","body":"<p>Here's another way to think about this:</p>\n\n<p><code>allMatch()</code> is to <code>&amp;&amp;</code> what <code>sum()</code> is to <code>+</code></p>\n\n<p>Consider the following logical statements:</p>\n\n<pre><code>IntStream.of(1, 2).sum() + 3 == IntStream.of(1, 2, 3).sum()\nIntStream.of(1).sum() + 2 == IntStream.of(1, 2).sum()\n</code></pre>\n\n<p>This makes sense because <code>sum()</code> is just a generalization of <code>+</code>. However, what happens when you remove one more element?</p>\n\n<pre><code>IntStream.of().sum() + 1 == IntStream.of(1).sum()\n</code></pre>\n\n<p>We can see that it makes sense to define <code>IntStream.of().sum()</code>, or the sum of an empty sequence of numbers, in a particular way. This gives us the \"identity element\" of summation, or the value that, when added to something, has no effect (<code>0</code>).</p>\n\n<p>We can apply the same logic to <code>Boolean</code> algebra.</p>\n\n<pre><code>Stream.of(true, true).allMatch(it -&gt; it) == Stream.of(true).allMatch(it -&gt; it) &amp;&amp; true\n</code></pre>\n\n<p>More generically:</p>\n\n<pre><code>stream.concat(Stream.of(thing)).allMatch(it -&gt; it) == stream.allMatch(it -&gt; it) &amp;&amp; thing\n</code></pre>\n\n<p>If <code>stream = Stream.of()</code> then this rule still needs to apply. We can use the \"identity element\" of &amp;&amp; to solve this. <code>true &amp;&amp; thing == thing</code>, so <code>Stream.of().allMatch(it -&gt; it) == true</code>.</p>\n"},{"tags":[],"owner":{"account_id":14524691,"reputation":98,"user_id":10491383,"display_name":"Schlaagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655390518,"creation_date":1601993643,"answer_id":64227648,"question_id":30223079,"body_markdown":"While this question has already been answered correctly multiple times, I want to bring in a more mathematical approach.\r\n\r\nFor that I want to consider the stream as a Set (in the mathematical sense). Then \r\n\r\n    emptyStream.allMatch(x-&gt; p(x))\r\n\r\ncorresponds to [![enter image description here][1]][1] while \r\n\r\n    emtpyStream.anyMatch(x -&gt; p(x))\r\n\r\ncorresponds to [![enter image description here][2]][2].\r\n\r\nThat the second part is false is quite obvious since there are no elements in the empty set. The first one is a bit more tricky. You can either accept it to be true by definition or look into the other answers for some of the reasons why it should be that way.\r\n\r\nAn example to illustrate this difference are propositions like &quot;All humans living on Mars have 3 legs&quot; (true) and &quot;There is a human living on Mars with 3 legs&quot; (false)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kupjt.gif\r\n  [2]: https://i.stack.imgur.com/IRLX5.gif","title":"Why does Stream.allMatch() return true for an empty stream?","body":"<p>While this question has already been answered correctly multiple times, I want to bring in a more mathematical approach.</p>\n<p>For that I want to consider the stream as a Set (in the mathematical sense). Then</p>\n<pre><code>emptyStream.allMatch(x-&gt; p(x))\n</code></pre>\n<p>corresponds to <a href=\"https://i.stack.imgur.com/Kupjt.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kupjt.gif\" alt=\"enter image description here\" /></a> while</p>\n<pre><code>emtpyStream.anyMatch(x -&gt; p(x))\n</code></pre>\n<p>corresponds to <a href=\"https://i.stack.imgur.com/IRLX5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IRLX5.gif\" alt=\"enter image description here\" /></a>.</p>\n<p>That the second part is false is quite obvious since there are no elements in the empty set. The first one is a bit more tricky. You can either accept it to be true by definition or look into the other answers for some of the reasons why it should be that way.</p>\n<p>An example to illustrate this difference are propositions like &quot;All humans living on Mars have 3 legs&quot; (true) and &quot;There is a human living on Mars with 3 legs&quot; (false)</p>\n"},{"tags":[],"owner":{"account_id":2797936,"reputation":1877,"user_id":2406796,"accept_rate":14,"display_name":"Bruno Lee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621523377,"creation_date":1621523377,"answer_id":67623159,"question_id":30223079,"body_markdown":"Workaround not beautiful in some cases.\r\n\r\nexample:to verify if all requests are sent(but request list of some type can be empty)\r\n\r\n    public boolean isAllRequestsSent(String type){\r\n\r\n            //empty request List\r\n    \t\tvar count = requestsList.stream().filter(Request::type).count();\r\n    \t\t\r\n    \t\tif(count &lt;= 0) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\r\n    \t\treturn requestsList.stream().filter(Request::type).allMatch(RequestData::isSent);\r\n    \t\t}","title":"Why does Stream.allMatch() return true for an empty stream?","body":"<p>Workaround not beautiful in some cases.</p>\n<p>example:to verify if all requests are sent(but request list of some type can be empty)</p>\n<pre><code>public boolean isAllRequestsSent(String type){\n\n        //empty request List\n        var count = requestsList.stream().filter(Request::type).count();\n        \n        if(count &lt;= 0) {\n            return false;\n        }\n    \n        return requestsList.stream().filter(Request::type).allMatch(RequestData::isSent);\n        }\n</code></pre>\n"}],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53269,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"accepted_answer_id":30223378,"answer_count":6,"score":117,"last_activity_date":1655390518,"creation_date":1431543218,"question_id":30223079,"body_markdown":"My colleague and I had a bug that was due to our assumption that an empty stream calling `allMatch()` would return `false`. \r\n\r\n    if (myItems.allMatch(i -&gt; i.isValid()) { \r\n        //do something\r\n    }\r\n\r\nOf course, it is kind of our fault for assuming and not reading documentation. But what I don&#39;t understand is why the default `allMatch()` behavior for an empty stream returns `true`. What was the reasoning for this? Like the `anyMatch()` (which contrarily returns false), this operation is used in an imperative way that departs the monad and probably used in an `if` statement. Considering those facts, is there any reason why having `allMatch()` default to `true` on an empty stream be desirable for majority of uses?  ","title":"Why does Stream.allMatch() return true for an empty stream?","body":"<p>My colleague and I had a bug that was due to our assumption that an empty stream calling <code>allMatch()</code> would return <code>false</code>. </p>\n\n<pre><code>if (myItems.allMatch(i -&gt; i.isValid()) { \n    //do something\n}\n</code></pre>\n\n<p>Of course, it is kind of our fault for assuming and not reading documentation. But what I don't understand is why the default <code>allMatch()</code> behavior for an empty stream returns <code>true</code>. What was the reasoning for this? Like the <code>anyMatch()</code> (which contrarily returns false), this operation is used in an imperative way that departs the monad and probably used in an <code>if</code> statement. Considering those facts, is there any reason why having <code>allMatch()</code> default to <code>true</code> on an empty stream be desirable for majority of uses?  </p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655337319,"post_id":72639007,"comment_id":128311550,"body_markdown":"You need to add your test code to your question.","body":"You need to add your test code to your question."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1655337746,"post_id":72639007,"comment_id":128311630,"body_markdown":"MOD  is an array, not an object.","body":"MOD  is an array, not an object."},{"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"score":0,"creation_date":1655340026,"post_id":72639007,"comment_id":128311969,"body_markdown":"not exactly sure how to write it out.","body":"not exactly sure how to write it out."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655374822,"creation_date":1655374822,"answer_id":72644286,"question_id":72639007,"body_markdown":"- `accumDetailsMapList.MOD.individAmt` will return a list of `individAmt`, that&#39;s why it is `[100.0]`, not `100.0`\r\n\r\n- To make it correct, you need add index to take exact `individAmt` you want. In this case, it&#39;s `accumDetailsMapList.MOD[0].individAmt`\r\n\r\nThis code would work:\r\n```\r\nfloat accumlStatement1 = S1Response.jsonPath().get(&quot;accumDetailsMapList.MOD[0].individAmt&quot;);\r\nAssert.assertEquals(100.0, accumlStatement1);\r\n```\r\n\r\n","title":"org.junit.ComparisonFailure Issue - the values should match but they don&#39;t","body":"<ul>\n<li><p><code>accumDetailsMapList.MOD.individAmt</code> will return a list of <code>individAmt</code>, that's why it is <code>[100.0]</code>, not <code>100.0</code></p>\n</li>\n<li><p>To make it correct, you need add index to take exact <code>individAmt</code> you want. In this case, it's <code>accumDetailsMapList.MOD[0].individAmt</code></p>\n</li>\n</ul>\n<p>This code would work:</p>\n<pre><code>float accumlStatement1 = S1Response.jsonPath().get(&quot;accumDetailsMapList.MOD[0].individAmt&quot;);\nAssert.assertEquals(100.0, accumlStatement1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655390452,"creation_date":1655390434,"answer_id":72647665,"question_id":72639007,"body_markdown":"    thanks for the help lucas-nguyen-17\r\n\r\n\r\n    float accumlStatement1 = S1Response.jsonPath().get(&quot;accumDetailsMapList.DED[0].individualLimitAmount&quot;);\r\n        Assert.assertEquals(100.0 ,accumlStatement1,0.0);\r\n\r\n//float expected, float actual , float delta .\r\n\r\nit does not allow only float expected and actual for some reason","title":"org.junit.ComparisonFailure Issue - the values should match but they don&#39;t","body":"<pre><code>thanks for the help lucas-nguyen-17\n\n\nfloat accumlStatement1 = S1Response.jsonPath().get(&quot;accumDetailsMapList.DED[0].individualLimitAmount&quot;);\n    Assert.assertEquals(100.0 ,accumlStatement1,0.0);\n</code></pre>\n<p>//float expected, float actual , float delta .</p>\n<p>it does not allow only float expected and actual for some reason</p>\n"}],"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72644286,"answer_count":2,"score":0,"last_activity_date":1655390452,"creation_date":1655337109,"question_id":72639007,"body_markdown":"    \r\nTrying to validate the 100.0 from JSON response in my test but the output has the brackets in it somehow ;can someone tell me what I am doing wrong ? \r\n\r\n\r\n\r\n\r\n    org.junit.ComparisonFailure: expected:&lt;[100.0]&gt; but was:&lt;[[100.0]]&gt;\r\n        \tat org.junit.Assert.assertEquals(Assert.java:115)\r\n        \tat org.junit.Assert.assertEquals(Assert.java:144)\r\n    \t\r\n\r\n\r\nTHE JSON RESPONSE \r\n\r\n \r\n\r\n    **&quot;currentPlanType&quot;: &quot;CAT&quot;,\r\n        &quot;accumDetailsMapList&quot;: {\r\n            &quot;MOD&quot;: [\r\n                {\r\n                    &quot;accumPlanTypeId&quot;: 0000,\r\n                    &quot;deductiblePlanTypeId&quot;: 123456,\r\n                    &quot;businessTypeCode&quot;: &quot;C&quot;,\r\n                    &quot;planTypeCode&quot;: &quot;EAD&quot;,\r\n                    &quot;limitMetCode&quot;: false,\r\n                    &quot;individAmt&quot;: 100.00,**\r\n\r\nThe Test \r\n\r\n    public void S1StatusCodeValidation() {\r\n       String accumlStatement1 = S1Response.jsonPath().getString(&quot;accumDetailsMapList.MOD.individAmt&quot;);\r\n       Assert.assertEquals(&quot;100.0&quot;,accumlStatement1);","title":"org.junit.ComparisonFailure Issue - the values should match but they don&#39;t","body":"<p>Trying to validate the 100.0 from JSON response in my test but the output has the brackets in it somehow ;can someone tell me what I am doing wrong ?</p>\n<pre><code>org.junit.ComparisonFailure: expected:&lt;[100.0]&gt; but was:&lt;[[100.0]]&gt;\n        at org.junit.Assert.assertEquals(Assert.java:115)\n        at org.junit.Assert.assertEquals(Assert.java:144)\n    \n</code></pre>\n<p>THE JSON RESPONSE</p>\n<pre><code>**&quot;currentPlanType&quot;: &quot;CAT&quot;,\n    &quot;accumDetailsMapList&quot;: {\n        &quot;MOD&quot;: [\n            {\n                &quot;accumPlanTypeId&quot;: 0000,\n                &quot;deductiblePlanTypeId&quot;: 123456,\n                &quot;businessTypeCode&quot;: &quot;C&quot;,\n                &quot;planTypeCode&quot;: &quot;EAD&quot;,\n                &quot;limitMetCode&quot;: false,\n                &quot;individAmt&quot;: 100.00,**\n</code></pre>\n<p>The Test</p>\n<pre><code>public void S1StatusCodeValidation() {\n   String accumlStatement1 = S1Response.jsonPath().getString(&quot;accumDetailsMapList.MOD.individAmt&quot;);\n   Assert.assertEquals(&quot;100.0&quot;,accumlStatement1);\n</code></pre>\n"},{"tags":["java","python","tensorflow","tensorflow-serving"],"answers":[{"tags":[],"owner":{"account_id":9780004,"reputation":1,"user_id":7248464,"display_name":"Shivam Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1559911401,"creation_date":1559911401,"answer_id":56494597,"question_id":56489868,"body_markdown":"I am answering my own question, as I just figured the solution.\r\n\r\nThe thing that I need to fix is to change to ```addFloatVal()``` to ```addIntVal()```.\r\n\r\nHere:\r\n```\r\n    TensorProto.Builder featuresTensorBuilder = TensorProto.newBuilder();\r\n\r\n    for (int i = 0; i &lt; featuresTensorData.length; ++i) {\r\n        for (int j = 0; j &lt; featuresTensorData[i].length; ++j) {\r\n            for (int k = 0; k &lt; featuresTensorData[i][j].length; ++k) {\r\n                for (int l = 0; l &lt; featuresTensorData[i][j][k].length; ++l) {\r\n                    featuresTensorBuilder.addFloatVal(featuresTensorData[i][j][k][l]); //In this line\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSuch a small fix and I have wasted 2 whole days doing everything I could! Sad.","title":"Tensorflow-serving client written in java is not giving correct results","body":"<p>I am answering my own question, as I just figured the solution.</p>\n\n<p>The thing that I need to fix is to change to <code>addFloatVal()</code> to <code>addIntVal()</code>.</p>\n\n<p>Here:</p>\n\n<pre><code>    TensorProto.Builder featuresTensorBuilder = TensorProto.newBuilder();\n\n    for (int i = 0; i &lt; featuresTensorData.length; ++i) {\n        for (int j = 0; j &lt; featuresTensorData[i].length; ++j) {\n            for (int k = 0; k &lt; featuresTensorData[i][j].length; ++k) {\n                for (int l = 0; l &lt; featuresTensorData[i][j][k].length; ++l) {\n                    featuresTensorBuilder.addFloatVal(featuresTensorData[i][j][k][l]); //In this line\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Such a small fix and I have wasted 2 whole days doing everything I could! Sad.</p>\n"},{"tags":[],"owner":{"account_id":25572788,"reputation":1,"user_id":19352858,"display_name":"wang lei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655390323,"creation_date":1655390292,"answer_id":72647638,"question_id":56489868,"body_markdown":"I’v got the similar question: the predict values are not equal between java grpc and python grpc at the same conditions.\r\n\r\nplease note below:\r\n\r\nTensorProto int32 Correspond java Integer\r\n\r\nTensorProto int64 Correspond java Long","title":"Tensorflow-serving client written in java is not giving correct results","body":"<p>I’v got the similar question: the predict values are not equal between java grpc and python grpc at the same conditions.</p>\n<p>please note below:</p>\n<p>TensorProto int32 Correspond java Integer</p>\n<p>TensorProto int64 Correspond java Long</p>\n"}],"owner":{"account_id":9780004,"reputation":1,"user_id":7248464,"display_name":"Shivam Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56494597,"answer_count":2,"score":0,"last_activity_date":1655390323,"creation_date":1559892746,"question_id":56489868,"body_markdown":"Sorry for a long question. But please help.\r\n\r\nI have written a tensorflow-serving client in java, that requests the tensorflow server hosted on another machine. The communication is through GRPC and it is working fine, i.e., responses come for the requests. However, the responses that come are wrong. The model&#39;s job is to predict humans (with helmet and without helmet) in a photo that client sends (and the model is fine). \r\n\r\nSo this problem may have arised due to some bug in formatting the image, maybe in dimensions, etc. But I have tried figuring out all the small detail for days, but in vain.\r\n\r\nMoreover, for this, I have written a client in python also, and surprisingly it works fine. The response from the server is correct. But I need to do this in java. So in a nutshell, I am sending the same image to the same server with a java and a python client, and get two different results.\r\n\r\nHere I put both the clients&#39; codes:\r\n\r\n\r\n\r\nPython-\r\n```\r\n#PYTHON_CLIENT\r\n\r\nfrom __future__ import print_function\r\nfrom grpc.beta import implementations\r\nimport tensorflow as tf\r\nimport glob\r\nimport json\r\nfrom object_detection.utils import visualization_utils as vis_util\r\nfrom object_detection.utils import plot_util\r\nfrom object_detection.utils import label_map_util\r\nimport object_detection.utils.ops as utils_ops\r\nfrom PIL import Image\r\nfrom google.protobuf import json_format as _json_format\r\nimport numpy as np\r\nfrom tensorflow_serving.apis import predict_pb2\r\nfrom tensorflow_serving.apis import prediction_service_pb2\r\nfrom object_detection.protos import string_int_label_map_pb2\r\nfrom object_detection.utils import visualization_utils as vis_util\r\nimport cv2\r\nimport numpy as np\r\n\r\n\r\n\r\ntf.app.flags.DEFINE_string(&#39;server&#39;, &#39;&lt;someIPaddress&gt;:9000&#39;, &#39;PredictionService host:port&#39;)\r\ntf.app.flags.DEFINE_string(&#39;image&#39;, &#39;./&#39;, &#39;path to image in JPEG format&#39;)\r\nFLAGS = tf.app.flags.FLAGS\r\n\r\n\r\ndef out(result):\r\n  detection_boxes=[]\r\n  detection_scores =[]\r\n  detection_classes =[]\r\n  db=[]\r\n  dc=[]\r\n  ds=[]\r\n\r\n  db.append(result.outputs[&#39;detection_boxes&#39;].tensor_shape.dim[0].size)\r\n  db.append(result.outputs[&#39;detection_boxes&#39;].tensor_shape.dim[1].size)\r\n  db.append(result.outputs[&#39;detection_boxes&#39;].tensor_shape.dim[2].size)\r\n\r\n  detection_boxes = np.asarray((result.outputs[&#39;detection_boxes&#39;].float_val))\r\n  detection_boxes =  detection_boxes.reshape([db[0],db[1],db[2]])\r\n  print(detection_boxes)\r\n\r\n  detection_classes = np.asarray((result.outputs[&#39;detection_classes&#39;].float_val))\r\n\r\n  dc.append(result.outputs[&#39;detection_classes&#39;].tensor_shape.dim[0].size)\r\n  dc.append(result.outputs[&#39;detection_classes&#39;].tensor_shape.dim[1].size)\r\n  detection_classes = detection_classes.reshape([dc[0],dc[1]])\r\n  print(detection_classes)\r\n\r\n  detection_scores = np.asarray((result.outputs[&#39;detection_scores&#39;].float_val))\r\n\r\n  ds.append(result.outputs[&#39;detection_scores&#39;].tensor_shape.dim[0].size)\r\n  ds.append(result.outputs[&#39;detection_scores&#39;].tensor_shape.dim[1].size)\r\n  detection_scores = detection_scores.reshape([dc[0],dc[1]])\r\n  print(detection_scores)\r\n\r\n  return detection_classes,detection_scores,detection_boxes\r\n\r\n\r\n\r\n\r\ndef main(_):\r\n    \r\n  host, port = FLAGS.server.split(&#39;:&#39;)\r\n  channel = implementations.insecure_channel(host, int(port))\r\n  stub = prediction_service_pb2.beta_create_PredictionService_stub(channel)\r\n  \r\n  # Create prediction request object  \r\n  request = predict_pb2.PredictRequest()\r\n  request.model_spec.name = &#39;deeplab&#39;\r\n  request.model_spec.signature_name = &#39;predict_images&#39;\r\n  \r\n  image_data = []\r\n\r\n  for image in glob.glob(FLAGS.image+&#39;cde.jpg&#39;):\r\n    # with open(image, &#39;rb&#39;) as f:\r\n    image = cv2.imread(image)    \r\n    image = image.astype(&#39;f&#39;)\r\n    # image = np.expand_dims(image,0)\r\n    image_data.append(image)\r\n    # print(cv2.imread(image))\r\n\r\n\r\n  image_data2 = np.asarray(image_data)  \r\n  # image_data = np.expand_dims(image_data,4)\r\n  request.inputs[&#39;inputs&#39;].CopyFrom(tf.contrib.util.make_tensor_proto(image_data2, dtype=tf.uint8 ,shape=None))  \r\n  result = stub.Predict(request, 10.0)  # 10 secs timeout\r\n  m=[]\r\n  n=[]\r\n  p=[]\r\n  print(result.outputs)\r\n  category_index = label_map_util.create_category_index_from_labelmap(&#39;/home/&lt;somePathHere&gt;/labels.pbtxt&#39;, use_display_name=True)\r\n\r\n  # Visualization of the results of a detection. # image_data = np.expand_dims(image_data,4)\r\n  request.inputs[&#39;inputs&#39;].CopyFrom(tf.contrib.util.make_tensor_proto(image_data2, dtype=tf.uint8 ,shape=None))\r\n\r\n  vis_util.visualize_boxes_and_labels_on_image_array(\r\n            image_data,\r\n            p,\r\n            m,\r\n            n,\r\n            category_index,\r\n            min_score_thresh=.5,\r\n            # instance_masks=output_dict.get(&#39;detection_masks&#39;),\r\n            use_normalized_coordinates=True,\r\n            line_thickness=8,\r\n            )\r\n\r\nif __name__ == &#39;__main__&#39;:\r\n  tf.app.run()\r\n\r\n```\r\n\r\n\r\nJava-\r\n```\r\n//JAVA_CLIENT\r\n\r\npublic static void main(String[] args) {\r\n    String host = &quot;&lt;someIPaddress&gt;&quot;;\r\n    int port = 9000;\r\n    String modelName = &quot;deeplab&quot;;\r\n    long modelVersion = 1;\r\n\r\n    // Run predict client to send request\r\n    PredictClientt_One client = new PredictClientt_One(host, port);\r\n\r\n    try {\r\n        client.do_predict(modelName, modelVersion);\r\n    } catch (Exception e) {\r\n        System.out.println(e);\r\n    } finally {\r\n        try {\r\n            client.shutdown();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n\r\npublic void shutdown() throws InterruptedException {\r\n    channel.shutdown().awaitTermination(5, TimeUnit.SECONDS);\r\n}\r\n\r\n\r\npublic void do_predict(String modelName, long modelVersion) {\r\n    \r\n    // Generate image file to array\r\n    int[][][][] featuresTensorData = new int[1][1080][1920][3];\r\n\r\n    String[] imageFilenames = new String[]{&quot;./cde.jpg&quot;};\r\n\r\n    for (int i = 0; i &lt; imageFilenames.length; i++) {\r\n\r\n        // Convert image file to multi-dimension array\r\n        File imageFile = new File(imageFilenames[i]);\r\n        try {\r\n            BufferedImage preImage = ImageIO.read(imageFile);\r\n            BufferedImage image = new BufferedImage(preImage.getWidth(), preImage.getHeight(), BufferedImage.TYPE_INT_ARGB); //convert to argb\r\n            image.getGraphics().drawImage(preImage, 0, 0, null);\r\n\r\n            logger.info(&quot;Start to convert the image: &quot; + imageFile.getPath());\r\n\r\n            int imageWidth = 1920;\r\n            int imageHeight = 1080;\r\n\r\n            for (int row = 0; row &lt; imageHeight; row++) {\r\n                for (int column = 0; column &lt; imageWidth; column++) {\r\n                    Color col = new Color (image.getRGB(column, row));\r\n\r\n                    // int red = (pixel &gt;&gt; 16) &amp; 0xff;\r\n                    // int green = (pixel &gt;&gt; 8) &amp; 0xff;\r\n                    // int blue = (pixel) &amp; 0xff;\r\n\r\n                    //tried all combination of red, green and blue in [0], [1] and [2]\r\n                    featuresTensorData[i][row][column][0] = col.getBlue(); //blue;\r\n                    featuresTensorData[i][row][column][1] = col.getGreen(); //green\r\n                    featuresTensorData[i][row][column][2] = col.getRed(); //red;\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            logger.log(Level.WARNING, e.getMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    // Generate features TensorProto\r\n    TensorProto.Builder featuresTensorBuilder = TensorProto.newBuilder();\r\n\r\n    for (int i = 0; i &lt; featuresTensorData.length; ++i) {\r\n        for (int j = 0; j &lt; featuresTensorData[i].length; ++j) {\r\n            for (int k = 0; k &lt; featuresTensorData[i][j].length; ++k) {\r\n                for (int l = 0; l &lt; featuresTensorData[i][j][k].length; ++l) {\r\n                    featuresTensorBuilder.addFloatVal(featuresTensorData[i][j][k][l]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    TensorShapeProto.Dim featuresDim1 = TensorShapeProto.Dim.newBuilder().setSize(1).build();\r\n    TensorShapeProto.Dim featuresDim2 = TensorShapeProto.Dim.newBuilder().setSize(1080).build();\r\n    TensorShapeProto.Dim featuresDim3 = TensorShapeProto.Dim.newBuilder().setSize(1920).build();\r\n    TensorShapeProto.Dim featuresDim4 = TensorShapeProto.Dim.newBuilder().setSize(3).build();\r\n    TensorShapeProto featuresShape = TensorShapeProto.newBuilder().addDim(featuresDim1).addDim(featuresDim2).addDim(featuresDim3).addDim(featuresDim4).build();\r\n    featuresTensorBuilder.setDtype(org.tensorflow.framework.DataType.DT_UINT8).setTensorShape(featuresShape);\r\n    TensorProto featuresTensorProto = featuresTensorBuilder.build();\r\n\r\n    // Generate gRPC request\r\n    com.google.protobuf.Int64Value version = com.google.protobuf.Int64Value.newBuilder().setValue(modelVersion).build();\r\n    Model.ModelSpec modelSpec = Model.ModelSpec.newBuilder().setName(modelName).setVersion(version).build();\r\n    Predict.PredictRequest request = Predict.PredictRequest.newBuilder().setModelSpec(modelSpec).putInputs(&quot;inputs&quot;, featuresTensorProto).build();\r\n\r\n    // Request gRPC server\r\n    Predict.PredictResponse response;\r\n    try {\r\n        response = blockingStub.predict(request);\r\n        java.util.Map&lt;java.lang.String, org.tensorflow.framework.TensorProto&gt; outputs = response.getOutputsMap();\r\n        for (java.util.Map.Entry&lt;java.lang.String, org.tensorflow.framework.TensorProto&gt; entry : outputs.entrySet()) {\r\n            System.out.println(&quot;Key: &quot; + entry.getKey() + &quot;,\\nValue: &quot; + entry.getValue());\r\n        }\r\n    } catch (StatusRuntimeException e) {\r\n        logger.log(Level.WARNING, &quot;RPC failed: {0}&quot;, e.getStatus());\r\n        return;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe response from the server comes in the form of a hash-map (or a dictionary) containing four key-value pairs: \r\n```\r\n{\r\n   &#39;detection_scores&#39;:    &lt;some value&gt;,\r\n   &#39;detection_boxes&#39;:    &lt;some value&gt;,\r\n   &#39;detection_classes&#39;:    &lt;some value&gt;,\r\n   &#39;num_detections&#39;:    &lt;some value&gt;\r\n}\r\n```\r\n\r\nThe python&#39;s &#39;detection_scores&#39; have values that goes like: 0.9.., 0.8..., 0.7..., 0.1..., 0.04... (so 3 humans detected).\r\n\r\nWhereas, the java&#39;s &#39;detection_scores&#39; have values starting from: 0.005.. (in the same photo.). Moreover, all the bounding boxes are also placed on the far left of the photo and python&#39;s bounding boxes are on human-faces.\r\n\r\nPlease help. And thank you for reading patiently!","title":"Tensorflow-serving client written in java is not giving correct results","body":"<p>Sorry for a long question. But please help.</p>\n\n<p>I have written a tensorflow-serving client in java, that requests the tensorflow server hosted on another machine. The communication is through GRPC and it is working fine, i.e., responses come for the requests. However, the responses that come are wrong. The model's job is to predict humans (with helmet and without helmet) in a photo that client sends (and the model is fine). </p>\n\n<p>So this problem may have arised due to some bug in formatting the image, maybe in dimensions, etc. But I have tried figuring out all the small detail for days, but in vain.</p>\n\n<p>Moreover, for this, I have written a client in python also, and surprisingly it works fine. The response from the server is correct. But I need to do this in java. So in a nutshell, I am sending the same image to the same server with a java and a python client, and get two different results.</p>\n\n<p>Here I put both the clients' codes:</p>\n\n<p>Python-</p>\n\n<pre><code>#PYTHON_CLIENT\n\nfrom __future__ import print_function\nfrom grpc.beta import implementations\nimport tensorflow as tf\nimport glob\nimport json\nfrom object_detection.utils import visualization_utils as vis_util\nfrom object_detection.utils import plot_util\nfrom object_detection.utils import label_map_util\nimport object_detection.utils.ops as utils_ops\nfrom PIL import Image\nfrom google.protobuf import json_format as _json_format\nimport numpy as np\nfrom tensorflow_serving.apis import predict_pb2\nfrom tensorflow_serving.apis import prediction_service_pb2\nfrom object_detection.protos import string_int_label_map_pb2\nfrom object_detection.utils import visualization_utils as vis_util\nimport cv2\nimport numpy as np\n\n\n\ntf.app.flags.DEFINE_string('server', '&lt;someIPaddress&gt;:9000', 'PredictionService host:port')\ntf.app.flags.DEFINE_string('image', './', 'path to image in JPEG format')\nFLAGS = tf.app.flags.FLAGS\n\n\ndef out(result):\n  detection_boxes=[]\n  detection_scores =[]\n  detection_classes =[]\n  db=[]\n  dc=[]\n  ds=[]\n\n  db.append(result.outputs['detection_boxes'].tensor_shape.dim[0].size)\n  db.append(result.outputs['detection_boxes'].tensor_shape.dim[1].size)\n  db.append(result.outputs['detection_boxes'].tensor_shape.dim[2].size)\n\n  detection_boxes = np.asarray((result.outputs['detection_boxes'].float_val))\n  detection_boxes =  detection_boxes.reshape([db[0],db[1],db[2]])\n  print(detection_boxes)\n\n  detection_classes = np.asarray((result.outputs['detection_classes'].float_val))\n\n  dc.append(result.outputs['detection_classes'].tensor_shape.dim[0].size)\n  dc.append(result.outputs['detection_classes'].tensor_shape.dim[1].size)\n  detection_classes = detection_classes.reshape([dc[0],dc[1]])\n  print(detection_classes)\n\n  detection_scores = np.asarray((result.outputs['detection_scores'].float_val))\n\n  ds.append(result.outputs['detection_scores'].tensor_shape.dim[0].size)\n  ds.append(result.outputs['detection_scores'].tensor_shape.dim[1].size)\n  detection_scores = detection_scores.reshape([dc[0],dc[1]])\n  print(detection_scores)\n\n  return detection_classes,detection_scores,detection_boxes\n\n\n\n\ndef main(_):\n\n  host, port = FLAGS.server.split(':')\n  channel = implementations.insecure_channel(host, int(port))\n  stub = prediction_service_pb2.beta_create_PredictionService_stub(channel)\n\n  # Create prediction request object  \n  request = predict_pb2.PredictRequest()\n  request.model_spec.name = 'deeplab'\n  request.model_spec.signature_name = 'predict_images'\n\n  image_data = []\n\n  for image in glob.glob(FLAGS.image+'cde.jpg'):\n    # with open(image, 'rb') as f:\n    image = cv2.imread(image)    \n    image = image.astype('f')\n    # image = np.expand_dims(image,0)\n    image_data.append(image)\n    # print(cv2.imread(image))\n\n\n  image_data2 = np.asarray(image_data)  \n  # image_data = np.expand_dims(image_data,4)\n  request.inputs['inputs'].CopyFrom(tf.contrib.util.make_tensor_proto(image_data2, dtype=tf.uint8 ,shape=None))  \n  result = stub.Predict(request, 10.0)  # 10 secs timeout\n  m=[]\n  n=[]\n  p=[]\n  print(result.outputs)\n  category_index = label_map_util.create_category_index_from_labelmap('/home/&lt;somePathHere&gt;/labels.pbtxt', use_display_name=True)\n\n  # Visualization of the results of a detection. # image_data = np.expand_dims(image_data,4)\n  request.inputs['inputs'].CopyFrom(tf.contrib.util.make_tensor_proto(image_data2, dtype=tf.uint8 ,shape=None))\n\n  vis_util.visualize_boxes_and_labels_on_image_array(\n            image_data,\n            p,\n            m,\n            n,\n            category_index,\n            min_score_thresh=.5,\n            # instance_masks=output_dict.get('detection_masks'),\n            use_normalized_coordinates=True,\n            line_thickness=8,\n            )\n\nif __name__ == '__main__':\n  tf.app.run()\n\n</code></pre>\n\n<p>Java-</p>\n\n<pre><code>//JAVA_CLIENT\n\npublic static void main(String[] args) {\n    String host = \"&lt;someIPaddress&gt;\";\n    int port = 9000;\n    String modelName = \"deeplab\";\n    long modelVersion = 1;\n\n    // Run predict client to send request\n    PredictClientt_One client = new PredictClientt_One(host, port);\n\n    try {\n        client.do_predict(modelName, modelVersion);\n    } catch (Exception e) {\n        System.out.println(e);\n    } finally {\n        try {\n            client.shutdown();\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n\npublic void shutdown() throws InterruptedException {\n    channel.shutdown().awaitTermination(5, TimeUnit.SECONDS);\n}\n\n\npublic void do_predict(String modelName, long modelVersion) {\n\n    // Generate image file to array\n    int[][][][] featuresTensorData = new int[1][1080][1920][3];\n\n    String[] imageFilenames = new String[]{\"./cde.jpg\"};\n\n    for (int i = 0; i &lt; imageFilenames.length; i++) {\n\n        // Convert image file to multi-dimension array\n        File imageFile = new File(imageFilenames[i]);\n        try {\n            BufferedImage preImage = ImageIO.read(imageFile);\n            BufferedImage image = new BufferedImage(preImage.getWidth(), preImage.getHeight(), BufferedImage.TYPE_INT_ARGB); //convert to argb\n            image.getGraphics().drawImage(preImage, 0, 0, null);\n\n            logger.info(\"Start to convert the image: \" + imageFile.getPath());\n\n            int imageWidth = 1920;\n            int imageHeight = 1080;\n\n            for (int row = 0; row &lt; imageHeight; row++) {\n                for (int column = 0; column &lt; imageWidth; column++) {\n                    Color col = new Color (image.getRGB(column, row));\n\n                    // int red = (pixel &gt;&gt; 16) &amp; 0xff;\n                    // int green = (pixel &gt;&gt; 8) &amp; 0xff;\n                    // int blue = (pixel) &amp; 0xff;\n\n                    //tried all combination of red, green and blue in [0], [1] and [2]\n                    featuresTensorData[i][row][column][0] = col.getBlue(); //blue;\n                    featuresTensorData[i][row][column][1] = col.getGreen(); //green\n                    featuresTensorData[i][row][column][2] = col.getRed(); //red;\n                }\n            }\n        } catch (IOException e) {\n            logger.log(Level.WARNING, e.getMessage());\n            System.exit(1);\n        }\n    }\n\n    // Generate features TensorProto\n    TensorProto.Builder featuresTensorBuilder = TensorProto.newBuilder();\n\n    for (int i = 0; i &lt; featuresTensorData.length; ++i) {\n        for (int j = 0; j &lt; featuresTensorData[i].length; ++j) {\n            for (int k = 0; k &lt; featuresTensorData[i][j].length; ++k) {\n                for (int l = 0; l &lt; featuresTensorData[i][j][k].length; ++l) {\n                    featuresTensorBuilder.addFloatVal(featuresTensorData[i][j][k][l]);\n                }\n            }\n        }\n    }\n\n    TensorShapeProto.Dim featuresDim1 = TensorShapeProto.Dim.newBuilder().setSize(1).build();\n    TensorShapeProto.Dim featuresDim2 = TensorShapeProto.Dim.newBuilder().setSize(1080).build();\n    TensorShapeProto.Dim featuresDim3 = TensorShapeProto.Dim.newBuilder().setSize(1920).build();\n    TensorShapeProto.Dim featuresDim4 = TensorShapeProto.Dim.newBuilder().setSize(3).build();\n    TensorShapeProto featuresShape = TensorShapeProto.newBuilder().addDim(featuresDim1).addDim(featuresDim2).addDim(featuresDim3).addDim(featuresDim4).build();\n    featuresTensorBuilder.setDtype(org.tensorflow.framework.DataType.DT_UINT8).setTensorShape(featuresShape);\n    TensorProto featuresTensorProto = featuresTensorBuilder.build();\n\n    // Generate gRPC request\n    com.google.protobuf.Int64Value version = com.google.protobuf.Int64Value.newBuilder().setValue(modelVersion).build();\n    Model.ModelSpec modelSpec = Model.ModelSpec.newBuilder().setName(modelName).setVersion(version).build();\n    Predict.PredictRequest request = Predict.PredictRequest.newBuilder().setModelSpec(modelSpec).putInputs(\"inputs\", featuresTensorProto).build();\n\n    // Request gRPC server\n    Predict.PredictResponse response;\n    try {\n        response = blockingStub.predict(request);\n        java.util.Map&lt;java.lang.String, org.tensorflow.framework.TensorProto&gt; outputs = response.getOutputsMap();\n        for (java.util.Map.Entry&lt;java.lang.String, org.tensorflow.framework.TensorProto&gt; entry : outputs.entrySet()) {\n            System.out.println(\"Key: \" + entry.getKey() + \",\\nValue: \" + entry.getValue());\n        }\n    } catch (StatusRuntimeException e) {\n        logger.log(Level.WARNING, \"RPC failed: {0}\", e.getStatus());\n        return;\n    }\n}\n\n</code></pre>\n\n<p>The response from the server comes in the form of a hash-map (or a dictionary) containing four key-value pairs: </p>\n\n<pre><code>{\n   'detection_scores':    &lt;some value&gt;,\n   'detection_boxes':    &lt;some value&gt;,\n   'detection_classes':    &lt;some value&gt;,\n   'num_detections':    &lt;some value&gt;\n}\n</code></pre>\n\n<p>The python's 'detection_scores' have values that goes like: 0.9.., 0.8..., 0.7..., 0.1..., 0.04... (so 3 humans detected).</p>\n\n<p>Whereas, the java's 'detection_scores' have values starting from: 0.005.. (in the same photo.). Moreover, all the bounding boxes are also placed on the far left of the photo and python's bounding boxes are on human-faces.</p>\n\n<p>Please help. And thank you for reading patiently!</p>\n"},{"tags":["java","serialization","jackson"],"comments":[{"owner":{"account_id":14008837,"reputation":72,"user_id":10118118,"display_name":"Yohan"},"score":0,"creation_date":1655381758,"post_id":72644562,"comment_id":128322090,"body_markdown":"Why not make 2 class responses, then make a high-level class that both of the classes will inherit from, and make different getter implementation for each class?","body":"Why not make 2 class responses, then make a high-level class that both of the classes will inherit from, and make different getter implementation for each class?"},{"owner":{"account_id":11369816,"reputation":233,"user_id":8335668,"accept_rate":100,"display_name":"SanQA"},"score":0,"creation_date":1655384715,"post_id":72644562,"comment_id":128323201,"body_markdown":"Yohan,I understand that,we can have lot of workaround, for example we can just parse the json,replace the keys with wanted keys as well.\nBut I need to know if there is a solution already using jackson defined methods.","body":"Yohan,I understand that,we can have lot of workaround, for example we can just parse the json,replace the keys with wanted keys as well. But I need to know if there is a solution already using jackson defined methods."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1655500182,"post_id":72644562,"comment_id":128355511,"body_markdown":"Hi did you checked code I posted? I think thats the answer on your question","body":"Hi did you checked code I posted? I think thats the answer on your question"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655389021,"creation_date":1655388408,"answer_id":72647243,"question_id":72644562,"body_markdown":"Since you want serialize the object differently in different cases, using [jackson mix-in][1] is preferred.\r\n\r\nHere is example how to do that.\r\n\r\nIf your pojo looks something like this:\r\n\r\n    public class CustomPojo {\r\n    \r\n    \r\n        private String ruleId;\r\n    \r\n    \r\n        private String ruleName;\r\n    \r\n    \r\n        public String getRuleId() {\r\n            return ruleId;\r\n        }\r\n    \r\n    \r\n        public void setRuleId(String ruleId) {\r\n            this.ruleId = ruleId;\r\n        }\r\n    \r\n    \r\n        public String getRuleName() {\r\n            return ruleName;\r\n        }\r\n    \r\n        public void setRuleName(String ruleName) {\r\n            this.ruleName = ruleName;\r\n        }\r\n    }\r\n\r\nFirst, you need to create one interface (or class) like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public interface CostomPojoMixin {\r\n    \r\n        @JsonProperty(&quot;Id&quot;)\r\n        String getRuleId();\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        String getRuleName();\r\n    }\r\n\r\nThis interface will be used to rename fields `ruleId` and `ruleName` during serilization.\r\n\r\nThen when you have all this setup you can write controller method and customize ObjectMapper:\r\n\r\n   \r\n\r\n     @GetMapping(value = &quot;/test/mixin&quot;)\r\n            public String testMixin() throwsJsonProcessingException {\r\n                CostomPojo cp = new CostomPojo();\r\n                cp.setRuleId(&quot;rule&quot;);\r\n                cp.setRuleName(&quot;name&quot;);\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                objectMapper.addMixIn(CustomPojo.class, CostomPojoMixin.class);\r\n                String json = objectMapper.writeValueAsString(cp);\r\n                return json;\r\n        \r\n            }\r\n\r\nThis endpoint should return response like this:\r\n\r\n    {&quot;Id&quot;:&quot;rule&quot;,&quot;name&quot;:&quot;name&quot;}\r\n\r\n\r\n  [1]: https://www.grabanotherbyte.com/en/jackson/2020/10/18/jackson-mixins.html","title":"How can I have different names for the same field in different APIs?—Jackson","body":"<p>Since you want serialize the object differently in different cases, using <a href=\"https://www.grabanotherbyte.com/en/jackson/2020/10/18/jackson-mixins.html\" rel=\"nofollow noreferrer\">jackson mix-in</a> is preferred.</p>\n<p>Here is example how to do that.</p>\n<p>If your pojo looks something like this:</p>\n<pre><code>public class CustomPojo {\n\n\n    private String ruleId;\n\n\n    private String ruleName;\n\n\n    public String getRuleId() {\n        return ruleId;\n    }\n\n\n    public void setRuleId(String ruleId) {\n        this.ruleId = ruleId;\n    }\n\n\n    public String getRuleName() {\n        return ruleName;\n    }\n\n    public void setRuleName(String ruleName) {\n        this.ruleName = ruleName;\n    }\n}\n</code></pre>\n<p>First, you need to create one interface (or class) like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\n\npublic interface CostomPojoMixin {\n\n    @JsonProperty(&quot;Id&quot;)\n    String getRuleId();\n\n    @JsonProperty(&quot;name&quot;)\n    String getRuleName();\n}\n</code></pre>\n<p>This interface will be used to rename fields <code>ruleId</code> and <code>ruleName</code> during serilization.</p>\n<p>Then when you have all this setup you can write controller method and customize ObjectMapper:</p>\n<pre><code> @GetMapping(value = &quot;/test/mixin&quot;)\n        public String testMixin() throwsJsonProcessingException {\n            CostomPojo cp = new CostomPojo();\n            cp.setRuleId(&quot;rule&quot;);\n            cp.setRuleName(&quot;name&quot;);\n            ObjectMapper objectMapper = new ObjectMapper();\n            objectMapper.addMixIn(CustomPojo.class, CostomPojoMixin.class);\n            String json = objectMapper.writeValueAsString(cp);\n            return json;\n    \n        }\n</code></pre>\n<p>This endpoint should return response like this:</p>\n<pre><code>{&quot;Id&quot;:&quot;rule&quot;,&quot;name&quot;:&quot;name&quot;}\n</code></pre>\n"}],"owner":{"account_id":11369816,"reputation":233,"user_id":8335668,"accept_rate":100,"display_name":"SanQA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655389021,"creation_date":1655376238,"question_id":72644562,"body_markdown":"I have an API whose response is as follows:\r\n\r\n    {\r\n      ruleId:”123”,\r\n      ruleName:”Rule1”\r\n    }\r\n\r\nNow I am introducing a new Api which exactly has these fields but the response should not have name as ruleId ,ruleName but as id,name:\r\n\r\n    {\r\n      id:”123”,\r\n      name:”Rule1”\r\n    }\r\n\r\n\r\n\r\n\r\nI should change in such a way so that the previous Api response should not be impacted.\r\nThought to use JsonProperty /JsonGetter but it will change the previous Api response as well.\r\n\r\nIs there any way that I can have 2 getters for the same field and then use one getter for previous Apis and other one for my purpose? (My concern is only when converting Pojo to JSON)\r\n\r\nCan anyone help?","title":"How can I have different names for the same field in different APIs?—Jackson","body":"<p>I have an API whose response is as follows:</p>\n<pre><code>{\n  ruleId:”123”,\n  ruleName:”Rule1”\n}\n</code></pre>\n<p>Now I am introducing a new Api which exactly has these fields but the response should not have name as ruleId ,ruleName but as id,name:</p>\n<pre><code>{\n  id:”123”,\n  name:”Rule1”\n}\n</code></pre>\n<p>I should change in such a way so that the previous Api response should not be impacted.\nThought to use JsonProperty /JsonGetter but it will change the previous Api response as well.</p>\n<p>Is there any way that I can have 2 getters for the same field and then use one getter for previous Apis and other one for my purpose? (My concern is only when converting Pojo to JSON)</p>\n<p>Can anyone help?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19932541,"reputation":28,"user_id":14605917,"display_name":"Dezrhog"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655377292,"creation_date":1655377292,"answer_id":72644783,"question_id":72644702,"body_markdown":"Try changing `FetchType` values from `LAZY` to `EAGER`. I think that&#39;s the problem. Since `FetchType.LAZY` mode implies loading data on request. `FetchType.EAGER`, in turn, loads the data with all the other fields","title":"I get different results from the &quot;same query&quot; in Hibernate","body":"<p>Try changing <code>FetchType</code> values from <code>LAZY</code> to <code>EAGER</code>. I think that's the problem. Since <code>FetchType.LAZY</code> mode implies loading data on request. <code>FetchType.EAGER</code>, in turn, loads the data with all the other fields</p>\n"},{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655388973,"creation_date":1655380055,"answer_id":72645342,"question_id":72644702,"body_markdown":"There are two issues:\r\n* the mapping\r\n* the stateless session\r\n\r\nRemove the `@JoinColumn` from `Student` and use `mappedBy`:\r\n```\r\n@Entity(name = &quot;Student&quot;)\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;student&quot;)\r\n    private List&lt;Subject&gt; subjectList = new ArrayList&lt;Subject&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;student&quot;)\r\n    private List&lt;Teacher&gt; teacherList = new ArrayList&lt;Teacher&gt;();\r\n}\r\n\r\n```\r\n\r\nYou can find more examples about [mapping bidirectional one-to-many][1] in the documentation.\r\n\r\n[A stateless session has many limitations][2], two of which are:\r\n&gt; * Lazy loading of associations is not supported.\r\n&gt; * Collections are ignored by a stateless session.\r\n\r\nIn this case it would make more sense to use a regular `Session`. This way lazy loading will work.\r\n\r\nNote that mapping an association as eager is usually not recommended unless you know that you always want to load the associations every time you load a student.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#_statelesssession","title":"I get different results from the &quot;same query&quot; in Hibernate","body":"<p>There are two issues:</p>\n<ul>\n<li>the mapping</li>\n<li>the stateless session</li>\n</ul>\n<p>Remove the <code>@JoinColumn</code> from <code>Student</code> and use <code>mappedBy</code>:</p>\n<pre><code>@Entity(name = &quot;Student&quot;)\n@Table(name = &quot;Student&quot;)\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;student&quot;)\n    private List&lt;Subject&gt; subjectList = new ArrayList&lt;Subject&gt;();\n\n    @OneToMany(mappedBy = &quot;student&quot;)\n    private List&lt;Teacher&gt; teacherList = new ArrayList&lt;Teacher&gt;();\n}\n\n</code></pre>\n<p>You can find more examples about <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many\" rel=\"nofollow noreferrer\">mapping bidirectional one-to-many</a> in the documentation.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#_statelesssession\" rel=\"nofollow noreferrer\">A stateless session has many limitations</a>, two of which are:</p>\n<blockquote>\n<ul>\n<li>Lazy loading of associations is not supported.</li>\n<li>Collections are ignored by a stateless session.</li>\n</ul>\n</blockquote>\n<p>In this case it would make more sense to use a regular <code>Session</code>. This way lazy loading will work.</p>\n<p>Note that mapping an association as eager is usually not recommended unless you know that you always want to load the associations every time you load a student.</p>\n"}],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655388973,"creation_date":1655376942,"question_id":72644702,"body_markdown":"## My Case ##\r\n\r\nI have three entities: `student`, `subject` and `teacher` which are structured as follows:\r\n\r\n```java\r\n@Entity(name = &quot;Student&quot;)\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student\r\n{\r\n\t@Id\r\n    @Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;student_id&quot;)\r\n    private List&lt;Subject&gt; subjectList = new ArrayList&lt;Subject&gt;();\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;student_id&quot;)\r\n    private List&lt;Teacher&gt; teacherList = new ArrayList&lt;Teacher&gt;();\r\n}\r\n```\r\n```java\r\n@Entity(name = &quot;Subject&quot;)\r\n@Table(name = &quot;Subject&quot;)\r\npublic class Subject\r\n{\r\n\t@Id\r\n    @Column(name = &quot;id&quot;)\r\n\tprivate Integer id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;student_id&quot;)\r\n\tprivate Student student;\r\n}\r\n```\r\n```java\r\n@Entity(name = &quot;Teacher&quot;)\r\n@Table(name = &quot;Teacher&quot;)\r\npublic class Teacher\r\n{\r\n\t@Id\r\n    @Column(name = &quot;id&quot;)\r\n\tprivate Integer id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;student_id&quot;)\r\n\tprivate Student student;\r\n}\r\n```\r\n**Student**\r\n\r\n| id | name |\r\n|:---- |:------ |\r\n| A  | Albert |\r\n| B  | Jack | \r\n\r\n**Subject**\r\n\r\n| id | name | student_id | \r\n|:---- |:------ |:------ | \r\n| 1 | Math | A |\r\n| 2 | History | B |\r\n| 3 | Math | B |\r\n| 4 | English | A |\r\n\r\n**Teacher**\r\n\r\n| id | name | student_id | \r\n|:---- |:------ |:------ | \r\n| 1 | Mr. H | B |\r\n| 2 | Mr. E | B |\r\n| 3 | Mr. L | A |\r\n| 4 | Mr. P | A |\r\n\r\n## My Problem ##\r\n\r\nI get two different results based on the type of method I try to get the results back, in fact neither of them is correct.\r\n\r\n### Method 1 ###\r\n\r\n```java\r\nStatelessSession session = getSession();\r\nStudent student = (Student) session.get(Student.class, &quot;A&quot;);\r\n```\r\n\r\nIn this case, the id, name and subjectList properties are returned to me correctly. But teacherList is empty!\r\n\r\n### Method 2 ###\r\n\r\n```java\r\nStatelessSession session = getSession();\r\nQuery&lt;V&gt; query = session.createNativeQuery(&quot;SELECT * FROM Student WHERE id = :id&quot;, Student.class);\r\n\r\nList&lt;V&gt; list = query\r\n        .setParameter(&quot;id&quot;, &quot;A&quot;)\r\n        .list();\r\n\r\n```\r\n\r\nIn this second case, the object inside the list contains the properties: id, name and teacherList. But not subjetList, absurd!\r\n\r\n***How can I correctly return the &quot;Student&quot; object? What am I doing wrong?***","title":"I get different results from the &quot;same query&quot; in Hibernate","body":"<h2>My Case</h2>\n<p>I have three entities: <code>student</code>, <code>subject</code> and <code>teacher</code> which are structured as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Student&quot;)\n@Table(name = &quot;Student&quot;)\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private List&lt;Subject&gt; subjectList = new ArrayList&lt;Subject&gt;();\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private List&lt;Teacher&gt; teacherList = new ArrayList&lt;Teacher&gt;();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Subject&quot;)\n@Table(name = &quot;Subject&quot;)\npublic class Subject\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Teacher&quot;)\n@Table(name = &quot;Teacher&quot;)\npublic class Teacher\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n}\n</code></pre>\n<p><strong>Student</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: left;\">Albert</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">B</td>\n<td style=\"text-align: left;\">Jack</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Subject</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">name</th>\n<th style=\"text-align: left;\">student_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">Math</td>\n<td style=\"text-align: left;\">A</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">History</td>\n<td style=\"text-align: left;\">B</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">Math</td>\n<td style=\"text-align: left;\">B</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">A</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Teacher</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">name</th>\n<th style=\"text-align: left;\">student_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">Mr. H</td>\n<td style=\"text-align: left;\">B</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">Mr. E</td>\n<td style=\"text-align: left;\">B</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">Mr. L</td>\n<td style=\"text-align: left;\">A</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">Mr. P</td>\n<td style=\"text-align: left;\">A</td>\n</tr>\n</tbody>\n</table>\n</div><h2>My Problem</h2>\n<p>I get two different results based on the type of method I try to get the results back, in fact neither of them is correct.</p>\n<h3>Method 1</h3>\n<pre class=\"lang-java prettyprint-override\"><code>StatelessSession session = getSession();\nStudent student = (Student) session.get(Student.class, &quot;A&quot;);\n</code></pre>\n<p>In this case, the id, name and subjectList properties are returned to me correctly. But teacherList is empty!</p>\n<h3>Method 2</h3>\n<pre class=\"lang-java prettyprint-override\"><code>StatelessSession session = getSession();\nQuery&lt;V&gt; query = session.createNativeQuery(&quot;SELECT * FROM Student WHERE id = :id&quot;, Student.class);\n\nList&lt;V&gt; list = query\n        .setParameter(&quot;id&quot;, &quot;A&quot;)\n        .list();\n\n</code></pre>\n<p>In this second case, the object inside the list contains the properties: id, name and teacherList. But not subjetList, absurd!</p>\n<p><em><strong>How can I correctly return the &quot;Student&quot; object? What am I doing wrong?</strong></em></p>\n"},{"tags":["java","cron","sunos"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1655389055,"post_id":72647323,"comment_id":128324855,"body_markdown":"How many versions of java do you have on your machine and how is cron calling it? I&#39;d do a `which java` to see which one you&#39;re using when running manually and give the exact same path in the crontab","body":"How many versions of java do you have on your machine and how is cron calling it? I&#39;d do a <code>which java</code> to see which one you&#39;re using when running manually and give the exact same path in the crontab"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655392722,"post_id":72647323,"comment_id":128326348,"body_markdown":"You should probably do `sudo -i which java` in case root&#39;s Java is special","body":"You should probably do <code>sudo -i which java</code> in case root&#39;s Java is special"},{"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"score":0,"creation_date":1655395842,"post_id":72647323,"comment_id":128327641,"body_markdown":"@Fedricko.. The unix server is using Java1.8.0_251 version.. but when i execute the script manually it works fine.. the same script i had mentioned in crontab","body":"@Fedricko.. The unix server is using Java1.8.0_251 version.. but when i execute the script manually it works fine.. the same script i had mentioned in crontab"}],"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655388969,"creation_date":1655388789,"question_id":72647323,"body_markdown":"I am using Sun os 5.10 version unix server and executing a bash script which is calling  a java class.\r\nWhen I run that script manually the java class executes successfully .\r\nBut when I execute the same script using crontab job I am getting the below error\r\n\r\n```Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Bad version number in .class file```\r\n\r\nI had compiled the java class with all Java versions starting from 1.8 to 1.4 but still i get that error.. the unix server has Java 1.6 version\r\n\r\n","title":"Getting `UnsupportedClassVersionError : Bad Version number in .class file` in Sun os 5.10 version","body":"<p>I am using Sun os 5.10 version unix server and executing a bash script which is calling  a java class.\nWhen I run that script manually the java class executes successfully .\nBut when I execute the same script using crontab job I am getting the below error</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Bad version number in .class file</code></p>\n<p>I had compiled the java class with all Java versions starting from 1.8 to 1.4 but still i get that error.. the unix server has Java 1.6 version</p>\n"},{"tags":["java","dto"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":4,"creation_date":1655388740,"post_id":72647167,"comment_id":128324734,"body_markdown":"The whole point of a DTO is to aggregate data to be transferred over expensive calls( like network calls). Indeed, it is recommended not to contain any business logic, just the data. Now, I don&#39;t see anything bad in here, you&#39;re simply providing shortcuts (if you weren&#39;t providing `isStatusSuccess()`, I would have had to do `getStatus() == Status.SUCCESS` to have the same response). However, from a theoretical point of view, if I manipulate a DTO I only expect data and serialization/deseralization features. Any other thing may make me suspicious...","body":"The whole point of a DTO is to aggregate data to be transferred over expensive calls( like network calls). Indeed, it is recommended not to contain any business logic, just the data. Now, I don&#39;t see anything bad in here, you&#39;re simply providing shortcuts (if you weren&#39;t providing <code>isStatusSuccess()</code>, I would have had to do <code>getStatus() == Status.SUCCESS</code> to have the same response). However, from a theoretical point of view, if I manipulate a DTO I only expect data and serialization/deseralization features. Any other thing may make me suspicious..."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1655389005,"post_id":72647167,"comment_id":128324839,"body_markdown":"If your DTOs are auto-generated from schema files you&#39;ll want to avoid hand edits.","body":"If your DTOs are auto-generated from schema files you&#39;ll want to avoid hand edits."}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655388892,"creation_date":1655388092,"question_id":72647167,"body_markdown":"It is &quot;common sense&quot; that a Java data transfer object (DTO) should not contain business logic, database access, etc. But how about getters which only evaluate fields in the DTO itself?\r\n\r\nGiven the following example, would this also be considered &quot;bad practice&quot;?\r\n\r\n```java\r\n@Getter\r\npublic class PaymentRequest {\r\n\r\n    private Status status;\r\n    private PaymentType paymentType;\r\n\r\n    public boolean isPaymentTypeCreditcard() {\r\n        return this.paymentType == PaymentType.CREDITCARD;\r\n    }\r\n\r\n    public boolean isStatusSuccess() {\r\n        return this.status == Status.SUCCESS;\r\n    }\r\n\r\n    public boolean isSuccessfulCreditcardPayment() {\r\n        return this.isPaymentTypeCreditcard() &amp;&amp; this.isStatusSuccess();\r\n    }\r\n}\r\n```","title":"Are getters for &quot;field combinations&quot; in Java DTO considered bad practice?","body":"<p>It is &quot;common sense&quot; that a Java data transfer object (DTO) should not contain business logic, database access, etc. But how about getters which only evaluate fields in the DTO itself?</p>\n<p>Given the following example, would this also be considered &quot;bad practice&quot;?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\npublic class PaymentRequest {\n\n    private Status status;\n    private PaymentType paymentType;\n\n    public boolean isPaymentTypeCreditcard() {\n        return this.paymentType == PaymentType.CREDITCARD;\n    }\n\n    public boolean isStatusSuccess() {\n        return this.status == Status.SUCCESS;\n    }\n\n    public boolean isSuccessfulCreditcardPayment() {\n        return this.isPaymentTypeCreditcard() &amp;&amp; this.isStatusSuccess();\n    }\n}\n</code></pre>\n"},{"tags":["java","node.js","aws-lambda"],"comments":[{"owner":{"account_id":5756205,"reputation":98,"user_id":4544056,"display_name":"Aymen Ben Tanfous"},"score":4,"creation_date":1649326075,"post_id":71780003,"comment_id":126849440,"body_markdown":"Have you thought about containerizing your app and then pushing it to Lambda? fyi, Lambda now supports Container images [link](https://docs.aws.amazon.com/lambda/latest/dg/lambda-images.html)","body":"Have you thought about containerizing your app and then pushing it to Lambda? fyi, Lambda now supports Container images <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-images.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":61155,"reputation":2465,"user_id":182411,"accept_rate":68,"display_name":"Lin"},"score":0,"creation_date":1649326142,"post_id":71780003,"comment_id":126849458,"body_markdown":"yes, but I thought it would be easier as a layer.","body":"yes, but I thought it would be easier as a layer."},{"owner":{"account_id":5756205,"reputation":98,"user_id":4544056,"display_name":"Aymen Ben Tanfous"},"score":0,"creation_date":1649326354,"post_id":71780003,"comment_id":126849531,"body_markdown":"That would be a much cleaner solution imo","body":"That would be a much cleaner solution imo"}],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655388706,"creation_date":1655388706,"answer_id":72647301,"question_id":71780003,"body_markdown":"I don&#39;t think the Lambda layer approach would be very easy to work with. I would use one of the [Lambda base container images][1] and then add any additional binaries you require.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-images.html","title":"Aws Lambda - Using java11 and node.js together","body":"<p>I don't think the Lambda layer approach would be very easy to work with. I would use one of the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-images.html\" rel=\"nofollow noreferrer\">Lambda base container images</a> and then add any additional binaries you require.</p>\n"}],"owner":{"account_id":61155,"reputation":2465,"user_id":182411,"accept_rate":68,"display_name":"Lin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655388706,"creation_date":1649325279,"question_id":71780003,"body_markdown":"I have an AWS java 11 lambda that uses node.js as well - meaning a java application that needs to run something on node.js as well.\r\nIs there a way to deploy a lambda with 2 runtimes (java11 and node.jsX)?\r\n\r\nI know I can add a layer to the lambda with the relevant node.js binaries and use it, but it&#39;s not ideal. \r\n\r\nAny ideas are welcome.","title":"Aws Lambda - Using java11 and node.js together","body":"<p>I have an AWS java 11 lambda that uses node.js as well - meaning a java application that needs to run something on node.js as well.\nIs there a way to deploy a lambda with 2 runtimes (java11 and node.jsX)?</p>\n<p>I know I can add a layer to the lambda with the relevant node.js binaries and use it, but it's not ideal.</p>\n<p>Any ideas are welcome.</p>\n"},{"tags":["java","web-services","jax-ws","soapui","soap-client"],"comments":[{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1415990868,"post_id":26936346,"comment_id":42417839,"body_markdown":"Without further checking the documentations even if something like this is possible id say it barely makes sence because the timeout definition should happen client side and best such definition could give from the servers context is a aprox. Guess on how long the server would wait for the request - but even thus this guess might be quite good the server could never know if you have for example a reverse proxy with filter or malware scanner functionality on client side which will take 90% of the request/response time anyways.","body":"Without further checking the documentations even if something like this is possible id say it barely makes sence because the timeout definition should happen client side and best such definition could give from the servers context is a aprox. Guess on how long the server would wait for the request - but even thus this guess might be quite good the server could never know if you have for example a reverse proxy with filter or malware scanner functionality on client side which will take 90% of the request/response time anyways."},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1415991166,"post_id":26936346,"comment_id":42418009,"body_markdown":"Also note that as faar as i remember you can define the timeouts in SoapUi somewhere under General-&gt; Global HTTP Settings (something in that direction) so you dont have to set the timeout on each new soap ui project (you will still be able to override the global settings on project level","body":"Also note that as faar as i remember you can define the timeouts in SoapUi somewhere under General-&gt; Global HTTP Settings (something in that direction) so you dont have to set the timeout on each new soap ui project (you will still be able to override the global settings on project level"},{"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"score":0,"creation_date":1415991966,"post_id":26936346,"comment_id":42418417,"body_markdown":"user1902288 Not sure if I fully understood you. Do you mean to say that we cannot set anything like a WSS time to live in my jaxws client code?","body":"user1902288 Not sure if I fully understood you. Do you mean to say that we cannot set anything like a WSS time to live in my jaxws client code?"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1415992770,"post_id":26936346,"comment_id":42418812,"body_markdown":"OOOOH sorry!!! YES you can! I totally misunderstood you! I however cant provide a solution right now","body":"OOOOH sorry!!! YES you can! I totally misunderstood you! I however cant provide a solution right now"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1415992991,"post_id":26936346,"comment_id":42418923,"body_markdown":"I also have to admit i overread the Security part and was refering to timeouts like described here - http://stackoverflow.com/questions/2148915/how-do-i-set-the-timeout-for-a-jax-ws-webservice-client let me know if this is the kind of timeout you want to set - otherwise i will delete my comments for simplyfication to others and set a bounty to your question as excuse","body":"I also have to admit i overread the Security part and was refering to timeouts like described here - <a href=\"http://stackoverflow.com/questions/2148915/how-do-i-set-the-timeout-for-a-jax-ws-webservice-client\" title=\"how do i set the timeout for a jax ws webservice client\">stackoverflow.com/questions/2148915/&hellip;</a> let me know if this is the kind of timeout you want to set - otherwise i will delete my comments for simplyfication to others and set a bounty to your question as excuse"},{"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"score":0,"creation_date":1415993765,"post_id":26936346,"comment_id":42419304,"body_markdown":"OK, is this timeout in the link you provided technically the same as WSS TimeToLive request property in SOAP UI?","body":"OK, is this timeout in the link you provided technically the same as WSS TimeToLive request property in SOAP UI?"}],"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655388590,"creation_date":1415988828,"question_id":26936346,"body_markdown":"I generated a WebService from a WSDL using JAXWS and import the finally generated WSDL to my SOAPUI to send out the request and view the response. For some reason, I always have to set WSS TimeToLive as 1000 in the request properties, else I get an error in the response.\r\n\r\nNow, I generated a client from the WSDL. I wonder if I need to set the WSS TimeToLive here as well? If yes, how can I add it?","title":"Can we add WSS TimeToLive request property to jaxws client","body":"<p>I generated a WebService from a WSDL using JAXWS and import the finally generated WSDL to my SOAPUI to send out the request and view the response. For some reason, I always have to set WSS TimeToLive as 1000 in the request properties, else I get an error in the response.</p>\n\n<p>Now, I generated a client from the WSDL. I wonder if I need to set the WSS TimeToLive here as well? If yes, how can I add it?</p>\n"},{"tags":["javascript","java","go","couchdb"],"comments":[{"owner":{"account_id":24719778,"reputation":11,"user_id":18609033,"display_name":"Ravi Kumar"},"score":1,"creation_date":1655391175,"post_id":72647262,"comment_id":128325723,"body_markdown":"use limit and skip","body":"use limit and skip"},{"owner":{"account_id":6402608,"reputation":4883,"user_id":4964791,"display_name":"RamblinRose"},"score":0,"creation_date":1655489067,"post_id":72647262,"comment_id":128352720,"body_markdown":"`skip` is OK for very small values - say 1 - but for large values a significant performance hit can arise because *each* row is still processed by the server.","body":"<code>skip</code> is OK for very small values - say 1 - but for large values a significant performance hit can arise because <i>each</i> row is still processed by the server."}],"owner":{"account_id":24719778,"reputation":11,"user_id":18609033,"display_name":"Ravi Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1655388510,"creation_date":1655388510,"question_id":72647262,"body_markdown":"how to fetch data from couch db use pagination and \r\n without using start_key , end_Key in Hyper Ledger fabric","title":"fetch data from couch db use pagination and without using startkey , endKey in hyperledger fabric","body":"<p>how to fetch data from couch db use pagination and\nwithout using start_key , end_Key in Hyper Ledger fabric</p>\n"},{"tags":["java","spring","lombok"],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655388412,"creation_date":1655387934,"answer_id":72647124,"question_id":72646959,"body_markdown":"If you use `@SuperBuilder`, no constructor is created.\r\nIn Spring in order to inject `OneRepository` and `SuperRepository`, you need a constructor having these two objects as parameters. \r\n\r\nUsing `@AllArgConstructor`, Lombok creates the constructor just for the members of that class, not considering the super class.\r\n*Why? You can read the answer of a Lombok developer [here][1].*\r\n\r\nIn the end, your first solution is a unique solution if you want to have a super class.\r\n\r\n  [1]: https://stackoverflow.com/questions/29740078/how-to-call-super-constructor-in-lombok","title":"Lombok subclass constructor @Autowired","body":"<p>If you use <code>@SuperBuilder</code>, no constructor is created.\nIn Spring in order to inject <code>OneRepository</code> and <code>SuperRepository</code>, you need a constructor having these two objects as parameters.</p>\n<p>Using <code>@AllArgConstructor</code>, Lombok creates the constructor just for the members of that class, not considering the super class.\n<em>Why? You can read the answer of a Lombok developer <a href=\"https://stackoverflow.com/questions/29740078/how-to-call-super-constructor-in-lombok\">here</a>.</em></p>\n<p>In the end, your first solution is a unique solution if you want to have a super class.</p>\n"}],"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72647124,"answer_count":1,"score":0,"last_activity_date":1655388412,"creation_date":1655387223,"question_id":72646959,"body_markdown":"I have superclass:\r\n\r\n    @AllArgsConstructor\r\n    public abstract class AbstractSuperService {\r\n         protected final SuperRepository superRepository;\r\n      \r\n    }\r\nAnd two subclass:\r\n\r\n    @Service\r\n    public class OneSubService extends AbstractSuperService {\r\n         private final OneRepository oneRepository;\r\n         \r\n         public OneSubService(SuperRepository superRepository, OneRepository oneRepository){\r\n             super(superRepository);\r\n             this.oneRepository = oneRepository;\r\n        }\r\n    }\r\n    \r\n    \r\n    @Service\r\n    public class SecondSubService extends AbstractSuperService {\r\n         private final SecondRepository secondRepository;\r\n\r\n         public SecondSubService(SuperRepository superRepository, SecondRepository secondRepository){\r\n             super(superRepository);\r\n             this.secondRepository = secondRepository;\r\n        }\r\n    }\r\n\r\nThis code is work.\r\nBut if I change code: delete constructor in subclasses and add annotation lombok @SuperBuilder in all class. \r\n\r\n    @AllArgsConstructor\r\n    @SuperBuilder\r\n    public abstract class AbstractSuperService {\r\n         protected final SuperRepository superRepository;\r\n      \r\n    }\r\n    \r\n    @Service\r\n    @SuperBuilder\r\n    public class OneSubService extends AbstractSuperService {\r\n         private final OneRepository oneRepository;\r\n         \r\n    }\r\n    \r\n    \r\n    @Service\r\n    @SuperBuilder\r\n    public class SecondSubService extends AbstractSuperService {\r\n         private final SecondRepository secondRepository;\r\n    \r\n    }\r\n\r\nThe following error appears:\r\n\r\n    Description:\r\n    \r\n    Parameter 0 of constructor in OneSubService required a bean of type &#39;OneSubService$OneSubServiceBuilder&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;OneSubService$OneSubServiceBuilder&#39; in your configuration.\r\n\r\nHow to correctly apply the lombok annotation in subclass, so as not to write constructor in subclass?","title":"Lombok subclass constructor @Autowired","body":"<p>I have superclass:</p>\n<pre><code>@AllArgsConstructor\npublic abstract class AbstractSuperService {\n     protected final SuperRepository superRepository;\n  \n}\n</code></pre>\n<p>And two subclass:</p>\n<pre><code>@Service\npublic class OneSubService extends AbstractSuperService {\n     private final OneRepository oneRepository;\n     \n     public OneSubService(SuperRepository superRepository, OneRepository oneRepository){\n         super(superRepository);\n         this.oneRepository = oneRepository;\n    }\n}\n\n\n@Service\npublic class SecondSubService extends AbstractSuperService {\n     private final SecondRepository secondRepository;\n\n     public SecondSubService(SuperRepository superRepository, SecondRepository secondRepository){\n         super(superRepository);\n         this.secondRepository = secondRepository;\n    }\n}\n</code></pre>\n<p>This code is work.\nBut if I change code: delete constructor in subclasses and add annotation lombok @SuperBuilder in all class.</p>\n<pre><code>@AllArgsConstructor\n@SuperBuilder\npublic abstract class AbstractSuperService {\n     protected final SuperRepository superRepository;\n  \n}\n\n@Service\n@SuperBuilder\npublic class OneSubService extends AbstractSuperService {\n     private final OneRepository oneRepository;\n     \n}\n\n\n@Service\n@SuperBuilder\npublic class SecondSubService extends AbstractSuperService {\n     private final SecondRepository secondRepository;\n\n}\n</code></pre>\n<p>The following error appears:</p>\n<pre><code>Description:\n\nParameter 0 of constructor in OneSubService required a bean of type 'OneSubService$OneSubServiceBuilder' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'OneSubService$OneSubServiceBuilder' in your configuration.\n</code></pre>\n<p>How to correctly apply the lombok annotation in subclass, so as not to write constructor in subclass?</p>\n"},{"tags":["java","arrays","string","substring"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1655388194,"post_id":72647134,"comment_id":128324537,"body_markdown":"You&#39;re not allowed to use `String.endsWith`?","body":"You&#39;re not allowed to use <code>String.endsWith</code>?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1655388232,"post_id":72647134,"comment_id":128324545,"body_markdown":"`findCount` *can* in your case return numbers bigger than `1` which makes no sense, either the str ends with suffix or it does not, returning 2 does not make sense. In fact you only check if the string contains the suffix, not if it is at the end. That results in 10 being 2 + 4 (from the first two runs which are incorrectly added on top) + 3 (the matches of &quot;ds&quot;) + 1 (the extra match in &quot;vdsfc&quot;). A string like &quot;dfcdsdfcdsxxx&quot; would throw your script off quite good.","body":"<code>findCount</code> <i>can</i> in your case return numbers bigger than <code>1</code> which makes no sense, either the str ends with suffix or it does not, returning 2 does not make sense. In fact you only check if the string contains the suffix, not if it is at the end. That results in 10 being 2 + 4 (from the first two runs which are incorrectly added on top) + 3 (the matches of &quot;ds&quot;) + 1 (the extra match in &quot;vdsfc&quot;). A string like &quot;dfcdsdfcdsxxx&quot; would throw your script off quite good."}],"answers":[{"tags":[],"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655388183,"creation_date":1655388183,"answer_id":72647195,"question_id":72647134,"body_markdown":"You need to reset `count` to 0 at the beginning of each iteration.  \r\nOtherwise it will count the occurrences of the previous substrings as well.\r\n\r\n    for (int i = 0; i &lt; findStr.length; i++) {\r\n        count = 0;\r\n        for (int j = 0; j &lt; strr.length; j++) {\r\n            count += findCount(strr[j], findStr[i]);\r\n        }\r\n        result[i] = count;\r\n    }","title":"Can someone tell me what am I doing wrong here in my Java code when trying to find count of substrings in given string according to given queries?","body":"<p>You need to reset <code>count</code> to 0 at the beginning of each iteration.<br />\nOtherwise it will count the occurrences of the previous substrings as well.</p>\n<pre><code>for (int i = 0; i &lt; findStr.length; i++) {\n    count = 0;\n    for (int j = 0; j &lt; strr.length; j++) {\n        count += findCount(strr[j], findStr[i]);\n    }\n    result[i] = count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655388247,"creation_date":1655388247,"answer_id":72647216,"question_id":72647134,"body_markdown":"- You should make the `count` variable local to the first loop so that the count starts at 0 for each suffix.\r\n\r\n- Use [`String#endsWith`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-) to check if a string ends with a particular suffix, and increment the count by 1 each time this is true. \r\n\r\n```java\r\nfor (int i = 0; i &lt; findStr.length; i++) {\r\n    int count = 0;\r\n    for(String str: strr)\r\n        if(str.endsWith(findStr[i])) ++count;\r\n    result[i] = count;\r\n}\r\nfor(int l: result)\r\n    System.out.println(l);\r\n```","title":"Can someone tell me what am I doing wrong here in my Java code when trying to find count of substrings in given string according to given queries?","body":"<ul>\n<li><p>You should make the <code>count</code> variable local to the first loop so that the count starts at 0 for each suffix.</p>\n</li>\n<li><p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String#endsWith</code></a> to check if a string ends with a particular suffix, and increment the count by 1 each time this is true.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; findStr.length; i++) {\n    int count = 0;\n    for(String str: strr)\n        if(str.endsWith(findStr[i])) ++count;\n    result[i] = count;\n}\nfor(int l: result)\n    System.out.println(l);\n</code></pre>\n"}],"owner":{"account_id":23641897,"reputation":11,"user_id":17672030,"display_name":"gulzar1337"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655388247,"creation_date":1655387978,"question_id":72647134,"body_markdown":"There are queries in array findStr, and for each query, I am given a target suffix. I have to determine the count of strings in the array strr that have the suffix as the target suffix. The queries are given as an array of strings findStr.\r\n\r\n**Example**\r\n\r\nAssumptions\r\n\r\nstrr = [&quot;asdfc&quot;, &quot;asfc&quot;, &quot;vdsfc&quot;, &quot;trgfds&quot;, &quot;egregds&quot;, &quot;tertdfc&quot;, &quot;rtyergds&quot;]\r\n\r\nfindStr = [&quot;dfc&quot;, &quot;fc&quot;, &quot;ds&quot;]\r\n\r\nApproach:\r\n\r\nIn the 1st Query, the required suffix is &quot;dfc&quot;. The strings that have this suffix are [asdfc, tertdfc]. Hence, the count is 2.\r\n\r\nIn 2nd query, the required suffix is &quot;fc&quot;. The strings that have this suffix are [asdfc, asfc, vdsfc, tertdfc]. Hence, the count is 4.\r\n\r\nIn 3rd query, the required suffix is &quot;ds&quot;. The strings that have this suffix are [trgfds, egregds, rtyergds]. Hence, the count is 3.\r\n\r\n**Hence the output is [2,4,3].**\r\n\r\nBut When I&#39;m trying to do this using my code I&#39;m getting **wrong output [2,6,10]**. Can anyone tell me what I&#39;m doing wrong here ?\r\n\r\n\r\n    class FindCount {\r\n        public static void main(String[] args) {\r\n            String[] strr = new String[]{&quot;asdfc&quot;, &quot;asfc&quot;, &quot;vdsfc&quot;, &quot;trgfds&quot;, &quot;egregds&quot;, &quot;tertdfc&quot;, &quot;rtyergds&quot;};\r\n    \r\n            String[] findStr = new String[]{&quot;dfc&quot;, &quot;fc&quot;, &quot;ds&quot;};\r\n            int count = 0;\r\n            int result[] = new int[findStr.length];\r\n    \r\n            for (int i = 0; i &lt; findStr.length; i++) {\r\n                for (int j = 0; j &lt; strr.length; j++) {\r\n                    count += findCount(strr[j], findStr[i]);\r\n                }\r\n                result[i] = count;\r\n            }\r\n            for(int l: result)\r\n            System.out.println(l);\r\n        }\r\n    \r\n        static int findCount(String str, String findStr) {\r\n            int lastIndex = 0;\r\n            int count = 0;\r\n    \r\n            while (lastIndex != -1) {\r\n    \r\n                lastIndex = str.indexOf(findStr, lastIndex);\r\n                if (lastIndex != -1) {\r\n                    count++;\r\n                    lastIndex += findStr.length();\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Can someone tell me what am I doing wrong here in my Java code when trying to find count of substrings in given string according to given queries?","body":"<p>There are queries in array findStr, and for each query, I am given a target suffix. I have to determine the count of strings in the array strr that have the suffix as the target suffix. The queries are given as an array of strings findStr.</p>\n<p><strong>Example</strong></p>\n<p>Assumptions</p>\n<p>strr = [&quot;asdfc&quot;, &quot;asfc&quot;, &quot;vdsfc&quot;, &quot;trgfds&quot;, &quot;egregds&quot;, &quot;tertdfc&quot;, &quot;rtyergds&quot;]</p>\n<p>findStr = [&quot;dfc&quot;, &quot;fc&quot;, &quot;ds&quot;]</p>\n<p>Approach:</p>\n<p>In the 1st Query, the required suffix is &quot;dfc&quot;. The strings that have this suffix are [asdfc, tertdfc]. Hence, the count is 2.</p>\n<p>In 2nd query, the required suffix is &quot;fc&quot;. The strings that have this suffix are [asdfc, asfc, vdsfc, tertdfc]. Hence, the count is 4.</p>\n<p>In 3rd query, the required suffix is &quot;ds&quot;. The strings that have this suffix are [trgfds, egregds, rtyergds]. Hence, the count is 3.</p>\n<p><strong>Hence the output is [2,4,3].</strong></p>\n<p>But When I'm trying to do this using my code I'm getting <strong>wrong output [2,6,10]</strong>. Can anyone tell me what I'm doing wrong here ?</p>\n<pre><code>class FindCount {\n    public static void main(String[] args) {\n        String[] strr = new String[]{&quot;asdfc&quot;, &quot;asfc&quot;, &quot;vdsfc&quot;, &quot;trgfds&quot;, &quot;egregds&quot;, &quot;tertdfc&quot;, &quot;rtyergds&quot;};\n\n        String[] findStr = new String[]{&quot;dfc&quot;, &quot;fc&quot;, &quot;ds&quot;};\n        int count = 0;\n        int result[] = new int[findStr.length];\n\n        for (int i = 0; i &lt; findStr.length; i++) {\n            for (int j = 0; j &lt; strr.length; j++) {\n                count += findCount(strr[j], findStr[i]);\n            }\n            result[i] = count;\n        }\n        for(int l: result)\n        System.out.println(l);\n    }\n\n    static int findCount(String str, String findStr) {\n        int lastIndex = 0;\n        int count = 0;\n\n        while (lastIndex != -1) {\n\n            lastIndex = str.indexOf(findStr, lastIndex);\n            if (lastIndex != -1) {\n                count++;\n                lastIndex += findStr.length();\n            }\n        }\n        return count;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","amazon-web-services","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649721260,"creation_date":1649721260,"answer_id":71835509,"question_id":71835448,"body_markdown":"If you want to be able to invoke an AWS Lambda function via a Rest call, use Amazon API Gateway. This is a service for creating, publishing, maintaining, monitoring, and securing REST, HTTP, and WebSocket APIs at scale. \r\n\r\nSee this document that discusses how to develop an AWS Lambda function using the Java run-time API and then how to invoke it by using Amazon API Gateway: \r\n\r\n[Using Amazon API Gateway to invoke Lambda functions][1]                                                   \r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_lambda_apigateway","title":"Deserialization exception accessing AWS Lambda Handler","body":"<p>If you want to be able to invoke an AWS Lambda function via a Rest call, use Amazon API Gateway. This is a service for creating, publishing, maintaining, monitoring, and securing REST, HTTP, and WebSocket APIs at scale.</p>\n<p>See this document that discusses how to develop an AWS Lambda function using the Java run-time API and then how to invoke it by using Amazon API Gateway:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_lambda_apigateway\" rel=\"nofollow noreferrer\">Using Amazon API Gateway to invoke Lambda functions</a></p>\n"},{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655387978,"creation_date":1655387978,"answer_id":72647135,"question_id":71835448,"body_markdown":"When you invoke a Lambda function via the console you get to choose the input. The default is what you have in the question. \r\n\r\nWhen you trigger a Lambda function via an event source like Amazon API Gateway the input is actually a JSON document that represents the entire [HTTP request][1]. \r\n\r\nJava representations of these JSON objects can be found in the [aws-lambda-java-events][2] library.\r\n\r\nSo you handler method would look something like this instead:\r\n\r\n    public class ApiRequestHandler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\r\n    \r\n        @Override\r\n        public APIGatewayV2HTTPResponse handleRequest(APIGatewayV2HTTPEvent event, Context context) {\r\n     }\r\n    }\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html\r\n  [2]: https://github.com/aws/aws-lambda-java-libs/tree/master/aws-lambda-java-events","title":"Deserialization exception accessing AWS Lambda Handler","body":"<p>When you invoke a Lambda function via the console you get to choose the input. The default is what you have in the question.</p>\n<p>When you trigger a Lambda function via an event source like Amazon API Gateway the input is actually a JSON document that represents the entire <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html\" rel=\"nofollow noreferrer\">HTTP request</a>.</p>\n<p>Java representations of these JSON objects can be found in the <a href=\"https://github.com/aws/aws-lambda-java-libs/tree/master/aws-lambda-java-events\" rel=\"nofollow noreferrer\">aws-lambda-java-events</a> library.</p>\n<p>So you handler method would look something like this instead:</p>\n<pre><code>public class ApiRequestHandler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\n\n    @Override\n    public APIGatewayV2HTTPResponse handleRequest(APIGatewayV2HTTPEvent event, Context context) {\n }\n}\n</code></pre>\n"}],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1655387978,"creation_date":1649720538,"question_id":71835448,"body_markdown":"I am starting with AWS Lambda. I have the following Java class created by using the Lambda run-time API:\r\n\r\n```\r\npublic class HelloWorld1\r\n\timplements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\r\n\r\n\tpublic String handleRequest(\r\n\t\tfinal Map&lt;String, String&gt; input,\r\n\t\tfinal Context context) {\r\n\t\tcontext.getLogger().log(&quot;Llamada: &quot; + input);\r\n\t\treturn &quot;{\\&quot;HelloWorld\\&quot;: \\&quot;&quot; + input.get(&quot;key1&quot;) + &quot;\\&quot;}&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nI do use the test feature of Lambda, using this &quot;JSON Event&quot; value:\r\n\r\n```\r\n{\r\n  &quot;key1&quot;: &quot;value1&quot;,\r\n  &quot;key2&quot;: &quot;value2&quot;,\r\n  &quot;key3&quot;: &quot;value3&quot;\r\n}\r\n```\r\n\r\nand it works fine.\r\n\r\nBut then I create an URL and try to use Postman to send a POST request to it, and it fails with an Internal Server Error. I am using the URL it was defined by AWS, I set the body to \r\n`{&quot;key1&quot;: &quot;sjuan&quot;, &quot;key2&quot;: &quot;76&quot;}`, and I get in AWS CloudWatch a \r\n\r\n&gt; An error occurred during JSON parsing: java.lang.RuntimeException  \r\njava.lang.RuntimeException: An error occurred during JSON parsing  \r\nCaused by: java.io.UncheckedIOException: com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token\r\n\r\nWhat am I doing wrong?\r\n","title":"Deserialization exception accessing AWS Lambda Handler","body":"<p>I am starting with AWS Lambda. I have the following Java class created by using the Lambda run-time API:</p>\n<pre><code>public class HelloWorld1\n    implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\n\n    public String handleRequest(\n        final Map&lt;String, String&gt; input,\n        final Context context) {\n        context.getLogger().log(&quot;Llamada: &quot; + input);\n        return &quot;{\\&quot;HelloWorld\\&quot;: \\&quot;&quot; + input.get(&quot;key1&quot;) + &quot;\\&quot;}&quot;;\n    }\n}\n</code></pre>\n<p>I do use the test feature of Lambda, using this &quot;JSON Event&quot; value:</p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: &quot;value2&quot;,\n  &quot;key3&quot;: &quot;value3&quot;\n}\n</code></pre>\n<p>and it works fine.</p>\n<p>But then I create an URL and try to use Postman to send a POST request to it, and it fails with an Internal Server Error. I am using the URL it was defined by AWS, I set the body to\n<code>{&quot;key1&quot;: &quot;sjuan&quot;, &quot;key2&quot;: &quot;76&quot;}</code>, and I get in AWS CloudWatch a</p>\n<blockquote>\n<p>An error occurred during JSON parsing: java.lang.RuntimeException<br />\njava.lang.RuntimeException: An error occurred during JSON parsing<br />\nCaused by: java.io.UncheckedIOException: com.amazonaws.lambda.thirdparty.com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of <code>java.lang.String</code> out of START_OBJECT token</p>\n</blockquote>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1655387348,"post_id":72646912,"comment_id":128324209,"body_markdown":"Can you add `com.gtt.wcas.device.root` in `@ComponentScan` ? and check , I&#39;ve observed this issue with Spring boot , sometimes ,it does not identify endpoints if your Controller is in different package and not explicitly Scanned. Also, you don&#39;t need `@ResponseBody` since `@RestController` already has that definition!","body":"Can you add <code>com.gtt.wcas.device.root</code> in <code>@ComponentScan</code> ? and check , I&#39;ve observed this issue with Spring boot , sometimes ,it does not identify endpoints if your Controller is in different package and not explicitly Scanned. Also, you don&#39;t need <code>@ResponseBody</code> since <code>@RestController</code> already has that definition!"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":1,"creation_date":1655387775,"post_id":72646912,"comment_id":128324380,"body_markdown":"@Harsh Dang it! That was a trivial problem. Adding to the `ComponentScan` fixed the problem. Can you please make it the answer. I will select it.","body":"@Harsh Dang it! That was a trivial problem. Adding to the <code>ComponentScan</code> fixed the problem. Can you please make it the answer. I will select it."}],"answers":[{"tags":[],"owner":{"account_id":21285874,"reputation":83,"user_id":15663530,"display_name":"wolle271"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655387338,"creation_date":1655387338,"answer_id":72646990,"question_id":72646912,"body_markdown":"Your controller is in package `com.gtt.wcas.device.root` but you setup `@ComponentScan(basePackages = &quot;com.gtt.wcas.device.details&quot;)`.\r\n\r\nYou controller is never picked up by Spring. Either move it to another package or change your component scan.","title":"RestController Returning 404 (Spring Boot 2.3.7)","body":"<p>Your controller is in package <code>com.gtt.wcas.device.root</code> but you setup <code>@ComponentScan(basePackages = &quot;com.gtt.wcas.device.details&quot;)</code>.</p>\n<p>You controller is never picked up by Spring. Either move it to another package or change your component scan.</p>\n"},{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655387966,"creation_date":1655387966,"answer_id":72647130,"question_id":72646912,"body_markdown":"Can you add `com.gtt.wcas.device.root` in `@ComponentScan` ? and check ,\r\n\r\nI&#39;ve observed this issue with Spring boot , sometimes ,it does not identify endpoints if your Controller is in different package (other than source package) and not explicitly Scanned. \r\n\r\nAlso, you don&#39;t need `@ResponseBody` on top of method definitions since `@RestController` already has that definition!","title":"RestController Returning 404 (Spring Boot 2.3.7)","body":"<p>Can you add <code>com.gtt.wcas.device.root</code> in <code>@ComponentScan</code> ? and check ,</p>\n<p>I've observed this issue with Spring boot , sometimes ,it does not identify endpoints if your Controller is in different package (other than source package) and not explicitly Scanned.</p>\n<p>Also, you don't need <code>@ResponseBody</code> on top of method definitions since <code>@RestController</code> already has that definition!</p>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72647130,"answer_count":2,"score":1,"last_activity_date":1655387966,"creation_date":1655387053,"question_id":72646912,"body_markdown":"I have written a Spring Boot application with RestContoller. But when I hit the URL in a browser, I get a 404 error. But i am not sure what I am doing wrong. Everything seems to be all correct. My controller class looks like this:\r\n\r\n    package com.gtt.wcas.device.root;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @RestController\r\n    public class DeviceConnectionController {\r\n    \r\n    \tLogger logger = LoggerFactory.getLogger(DeviceConnectionController.class.getName());\r\n    \r\n    \t.\r\n    \t.\r\n    \t.\r\n    \t// Lots of variables\r\n    \t.\r\n    \t.\r\n    \t.\r\n    \r\n    \r\n    \t@RequestMapping(value = &quot;/deviceConnection&quot;, method = RequestMethod.GET)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;String&gt; deviceConnection(@RequestParam(value = &quot;verify&quot;, defaultValue = &quot;false&quot;) String verify) {\r\n    \r\n    \t\t.\r\n    \t\t.\r\n    \t\t//Method body.... lots of code...\r\n    \t\t.\r\n    \t\t.\r\n    \r\n    \t\treturn new ResponseEntity&lt;String&gt;(HttpStatus.OK);\r\n    \t}\r\n    \r\n    \r\n    \t@RequestMapping(value = &quot;/error&quot;, method = RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;String&gt; error () {\r\n    \t\treturn new ResponseEntity&lt;String&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t}\r\n    \r\n    \r\n    \t.\r\n    \t.\r\n    \t.\r\n    \t// Lots of other helper methods.\r\n    \t.\r\n    \t.\r\n    \t.\r\n    }\r\n\r\n\r\nMy main class is like this:\r\n\r\n    package com.gtt.wcas.device.root;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.boot.context.properties.ConfigurationPropertiesScan;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.gtt.wcas.device.details&quot;)\r\n    @ConfigurationPropertiesScan(basePackages = &quot;com.gtt.wcas.device.configuration&quot;)\r\n    @EntityScan(basePackages = &quot;com.gtt.wcas.device.db.jpa&quot;)\r\n    public class wcasDeviceConnectionApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(wcasDeviceConnectionApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\nMy application properties are:\r\n\r\n    #datasource configurations\r\n    spring.datasource.url=MY DB URL\r\n    spring.datasource.username=MY DB USERNAME\r\n    spring.datasource.password=MY DB PASSWORD\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    # Enabling H2 Console\r\n    spring.h2.console.enabled=true\r\n    # Custom H2 Console URL\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    # DDL generation\r\n    spring.jpa.generate-ddl=true\r\n    \r\n    logging.level.ch.qos.logback==DEBUG\r\n    spring.devtools.restart.enabled=true\r\n    debug=true\r\n\r\n\r\nAnd when I enter `http://localhost:8080/deviceConnection?verify=true` on the browser, I see this in the logs:\r\n\r\n    2022-06-16 19:00:00.078 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/deviceConnection?verify=true&quot;, parameters={masked}\r\n    2022-06-16 19:00:00.079 DEBUG 19444 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    2022-06-16 19:00:00.082 DEBUG 19444 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2022-06-16 19:00:00.082 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2022-06-16 19:00:00.082 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error?verify=true&quot;, parameters={masked}\r\n    2022-06-16 19:00:00.083 DEBUG 19444 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    2022-06-16 19:00:00.096 DEBUG 19444 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    2022-06-16 19:00:00.097 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\n\r\nCan you please let me know what am I doing wrong. Any help is much appreciated.","title":"RestController Returning 404 (Spring Boot 2.3.7)","body":"<p>I have written a Spring Boot application with RestContoller. But when I hit the URL in a browser, I get a 404 error. But i am not sure what I am doing wrong. Everything seems to be all correct. My controller class looks like this:</p>\n<pre><code>package com.gtt.wcas.device.root;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\npublic class DeviceConnectionController {\n\n    Logger logger = LoggerFactory.getLogger(DeviceConnectionController.class.getName());\n\n    .\n    .\n    .\n    // Lots of variables\n    .\n    .\n    .\n\n\n    @RequestMapping(value = &quot;/deviceConnection&quot;, method = RequestMethod.GET)\n    @ResponseBody\n    public ResponseEntity&lt;String&gt; deviceConnection(@RequestParam(value = &quot;verify&quot;, defaultValue = &quot;false&quot;) String verify) {\n\n        .\n        .\n        //Method body.... lots of code...\n        .\n        .\n\n        return new ResponseEntity&lt;String&gt;(HttpStatus.OK);\n    }\n\n\n    @RequestMapping(value = &quot;/error&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;String&gt; error () {\n        return new ResponseEntity&lt;String&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n\n    .\n    .\n    .\n    // Lots of other helper methods.\n    .\n    .\n    .\n}\n</code></pre>\n<p>My main class is like this:</p>\n<pre><code>package com.gtt.wcas.device.root;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.context.properties.ConfigurationPropertiesScan;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.gtt.wcas.device.details&quot;)\n@ConfigurationPropertiesScan(basePackages = &quot;com.gtt.wcas.device.configuration&quot;)\n@EntityScan(basePackages = &quot;com.gtt.wcas.device.db.jpa&quot;)\npublic class wcasDeviceConnectionApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(wcasDeviceConnectionApplication.class, args);\n    }\n}\n</code></pre>\n<p>My application properties are:</p>\n<pre><code>#datasource configurations\nspring.datasource.url=MY DB URL\nspring.datasource.username=MY DB USERNAME\nspring.datasource.password=MY DB PASSWORD\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n\n# Enabling H2 Console\nspring.h2.console.enabled=true\n# Custom H2 Console URL\nspring.h2.console.path=/h2-console\n\n# DDL generation\nspring.jpa.generate-ddl=true\n\nlogging.level.ch.qos.logback==DEBUG\nspring.devtools.restart.enabled=true\ndebug=true\n</code></pre>\n<p>And when I enter <code>http://localhost:8080/deviceConnection?verify=true</code> on the browser, I see this in the logs:</p>\n<pre><code>2022-06-16 19:00:00.078 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/deviceConnection?verify=true&quot;, parameters={masked}\n2022-06-16 19:00:00.079 DEBUG 19444 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2022-06-16 19:00:00.082 DEBUG 19444 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2022-06-16 19:00:00.082 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2022-06-16 19:00:00.082 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error?verify=true&quot;, parameters={masked}\n2022-06-16 19:00:00.083 DEBUG 19444 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2022-06-16 19:00:00.096 DEBUG 19444 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]\n2022-06-16 19:00:00.097 DEBUG 19444 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>Can you please let me know what am I doing wrong. Any help is much appreciated.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":6527714,"reputation":199,"user_id":5049944,"display_name":"Dharmendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655387045,"creation_date":1655387045,"answer_id":72646911,"question_id":72646648,"body_markdown":"LayoutInflater used to instantiates a layout XML file into its corresponding View objects.\r\nYou can&#39;t use Views directly. By passing content, It will return LayoutInflater object from which you can access the child views and by using dot(.) operator to access View&#39;s properties.\r\n\r\n**parent?.context** used to get whole xml root view as object.\r\nwhile, **conView.context** used to provide access to particular &quot;conView&quot; properties members.","title":"Does XML files also have its context or does only activity have in android development","body":"<p>LayoutInflater used to instantiates a layout XML file into its corresponding View objects.\nYou can't use Views directly. By passing content, It will return LayoutInflater object from which you can access the child views and by using dot(.) operator to access View's properties.</p>\n<p><strong>parent?.context</strong> used to get whole xml root view as object.\nwhile, <strong>conView.context</strong> used to provide access to particular &quot;conView&quot; properties members.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655387914,"creation_date":1655387613,"answer_id":72647057,"question_id":72646648,"body_markdown":"The Context can contain all kinds of information about the current state of the app. The part of the Context that is important for Views and their related classes are the resources.\r\n\r\nAlso keep in mind that Activity is its own Context. It is a subclass of Context. So when you are writing code inside your Activity class, you can pass `this` as the Context parameter. Inside other classes, you cannot use `this` as the context if those classes are not subclasses of Context. (Almost the only classes you&#39;ll ever work with that are subclasses of Context are Activity, Service, and Application.)\r\n\r\nThe XML file doesn&#39;t have context, but when you call `setContentView` in your Activity, the Activity passes itself as the context parameter for each view that it&#39;s inflating, so all of the Views in the layout are referencing the same Activity instance as their own `context`.\r\n\r\nThe Activity&#39;s resources will have the currently selected language for String resources, and the correct layouts for the current screen orientation, etc. That&#39;s what Views are using the Context for.\r\n\r\nInside your adapter, it is fine to use `parent.context`. A child View should always be using the same context as its parent. Incidentally, the parent&#39;s context will actually be the Activity that was used to inflate the view layout in `setContentView`.\r\n\r\nIt&#39;s also fine to use `conview.context`, since this will be the same Context instance that was passed in a previous call to this same function.\r\n\r\nYou should change the function signature so `parent` is not nullable, because it can never be null. This makes it easier to work with. You won&#39;t need the `?.` null-safe call so your code will be clearer.\r\n\r\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {","title":"Does XML files also have its context or does only activity have in android development","body":"<p>The Context can contain all kinds of information about the current state of the app. The part of the Context that is important for Views and their related classes are the resources.</p>\n<p>Also keep in mind that Activity is its own Context. It is a subclass of Context. So when you are writing code inside your Activity class, you can pass <code>this</code> as the Context parameter. Inside other classes, you cannot use <code>this</code> as the context if those classes are not subclasses of Context. (Almost the only classes you'll ever work with that are subclasses of Context are Activity, Service, and Application.)</p>\n<p>The XML file doesn't have context, but when you call <code>setContentView</code> in your Activity, the Activity passes itself as the context parameter for each view that it's inflating, so all of the Views in the layout are referencing the same Activity instance as their own <code>context</code>.</p>\n<p>The Activity's resources will have the currently selected language for String resources, and the correct layouts for the current screen orientation, etc. That's what Views are using the Context for.</p>\n<p>Inside your adapter, it is fine to use <code>parent.context</code>. A child View should always be using the same context as its parent. Incidentally, the parent's context will actually be the Activity that was used to inflate the view layout in <code>setContentView</code>.</p>\n<p>It's also fine to use <code>conview.context</code>, since this will be the same Context instance that was passed in a previous call to this same function.</p>\n<p>You should change the function signature so <code>parent</code> is not nullable, because it can never be null. This makes it easier to work with. You won't need the <code>?.</code> null-safe call so your code will be clearer.</p>\n<pre><code>override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n</code></pre>\n"}],"owner":{"account_id":23444455,"reputation":143,"user_id":17501483,"display_name":"ADITYA RAJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655387914,"creation_date":1655385958,"question_id":72646648,"body_markdown":"I&#39;m Learning Android Development with Kotlin and I was learning about Custom ListView where we need to make an Adapter. But when made it, I found something in the code about which I&#39;m confused what is it and why it is used there. While using LayoutInfalter.from(), in from() method I have to pass the context but whose context to pass as I the whole code different context has been passed.\r\n```\r\npackage com.example.myapplication\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.BaseAdapter\r\nimport android.widget.TextView\r\nimport androidx.core.content.ContextCompat\r\n\r\nclass ItemAdapter(val items : Array&lt;Item&gt;) : BaseAdapter() {\r\n    override fun getCount(): Int {\r\n        return items.size\r\n    }\r\n\r\n    override fun getItem(position: Int): Item {\r\n        return items[position]\r\n    }\r\n\r\n    override fun getItemId(position: Int): Long {\r\n        return items[position].ItemName.hashCode().toLong()\r\n    }\r\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\r\n        val conView = LayoutInflater.from(parent?.context).inflate(R.layout.list_item, parent, false)// in from() why parent?.context is passed.\r\n        val ItemNames : TextView = conView.findViewById(R.id.item_name)\r\n        val ItemPrice : TextView = conView.findViewById(R.id.item_price)\r\n        ItemNames.text = getItem(position).ItemName\r\n        ItemPrice.text = &quot;₹ ${getItem(position).ItemPrice.toString()}&quot;\r\n        val item = getItem(position)\r\n        if(item.isFav){\r\n            conView.setBackgroundColor(ContextCompat.getColor(conView.context, R.color.teal_200)) // in this line why we pass conView.context, why not something else as we usually do by passing &#39;this&#39;.\r\n        }else{\r\n            conView.setBackgroundColor(ContextCompat.getColor(conView.context, R.color.white)) // in this line why we pass conView.context, why not something else as we usually do by passing &#39;this&#39;.\r\n        }\r\n        return conView\r\n    }\r\n}\r\n```\r\nIn the code we have passed two different context, \r\n1. parent?.context \r\n2. conView.context\r\nwhy we needed two context and how to figure out whose context to pass?\r\n\r\nI have marked the line on my code where i&#39;m not able to understand the context as comment.","title":"Does XML files also have its context or does only activity have in android development","body":"<p>I'm Learning Android Development with Kotlin and I was learning about Custom ListView where we need to make an Adapter. But when made it, I found something in the code about which I'm confused what is it and why it is used there. While using LayoutInfalter.from(), in from() method I have to pass the context but whose context to pass as I the whole code different context has been passed.</p>\n<pre><code>package com.example.myapplication\n\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\nimport android.widget.TextView\nimport androidx.core.content.ContextCompat\n\nclass ItemAdapter(val items : Array&lt;Item&gt;) : BaseAdapter() {\n    override fun getCount(): Int {\n        return items.size\n    }\n\n    override fun getItem(position: Int): Item {\n        return items[position]\n    }\n\n    override fun getItemId(position: Int): Long {\n        return items[position].ItemName.hashCode().toLong()\n    }\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val conView = LayoutInflater.from(parent?.context).inflate(R.layout.list_item, parent, false)// in from() why parent?.context is passed.\n        val ItemNames : TextView = conView.findViewById(R.id.item_name)\n        val ItemPrice : TextView = conView.findViewById(R.id.item_price)\n        ItemNames.text = getItem(position).ItemName\n        ItemPrice.text = &quot;₹ ${getItem(position).ItemPrice.toString()}&quot;\n        val item = getItem(position)\n        if(item.isFav){\n            conView.setBackgroundColor(ContextCompat.getColor(conView.context, R.color.teal_200)) // in this line why we pass conView.context, why not something else as we usually do by passing 'this'.\n        }else{\n            conView.setBackgroundColor(ContextCompat.getColor(conView.context, R.color.white)) // in this line why we pass conView.context, why not something else as we usually do by passing 'this'.\n        }\n        return conView\n    }\n}\n</code></pre>\n<p>In the code we have passed two different context,</p>\n<ol>\n<li>parent?.context</li>\n<li>conView.context\nwhy we needed two context and how to figure out whose context to pass?</li>\n</ol>\n<p>I have marked the line on my code where i'm not able to understand the context as comment.</p>\n"},{"tags":["java","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655387111,"creation_date":1655387111,"answer_id":72646925,"question_id":72645823,"body_markdown":"Pass the `configuration` to use:\r\n\r\n    runtimeOnly project(path: &quot;:project1&quot;, configuration: &quot;shadow&quot;)\r\n\r\n","title":"How do I use Gradle to implement an artifact in the custom jar task?","body":"<p>Pass the <code>configuration</code> to use:</p>\n<pre><code>runtimeOnly project(path: &quot;:project1&quot;, configuration: &quot;shadow&quot;)\n</code></pre>\n"}],"owner":{"account_id":25571618,"reputation":5,"user_id":19351882,"display_name":"TheSmileCat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72646925,"answer_count":1,"score":-1,"last_activity_date":1655387111,"creation_date":1655382272,"question_id":72645823,"body_markdown":"Like this: \r\n```kotlin\r\nruntimeOnly(project.project(&quot;:project1&quot;).tasks.getByName&lt;Jar&gt;(&quot;shadowJar&quot;).archiveFile)\r\n```\r\n\r\nI do not want to use `runtimeOnly(project(&quot;project1&quot;))`, because the module has more than 2 jar artifacts.\r\n\r\nBut this is not true.\r\nresult:\r\n\r\n&gt; org.gradle.api.InvalidUserCodeException: Querying the mapped value of\r\n&gt; task &#39;:project1:shadowJar&#39; property &#39;archiveFile&#39; before task\r\n&gt; &#39;:project1:shadowJar&#39; has completed is not supported\r\n\r\n","title":"How do I use Gradle to implement an artifact in the custom jar task?","body":"<p>Like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>runtimeOnly(project.project(&quot;:project1&quot;).tasks.getByName&lt;Jar&gt;(&quot;shadowJar&quot;).archiveFile)\n</code></pre>\n<p>I do not want to use <code>runtimeOnly(project(&quot;project1&quot;))</code>, because the module has more than 2 jar artifacts.</p>\n<p>But this is not true.\nresult:</p>\n<blockquote>\n<p>org.gradle.api.InvalidUserCodeException: Querying the mapped value of\ntask ':project1:shadowJar' property 'archiveFile' before task\n':project1:shadowJar' has completed is not supported</p>\n</blockquote>\n"},{"tags":["java","apache-camel","imap","quoted-printable","apache-camel-mail"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1653662610,"post_id":72406914,"comment_id":127912445,"body_markdown":"Can you show the source message?  Quoted-Printable should absolutely be a support Content-Transfer-Encoding, but perhaps the sender set it in the wrong field (eg, Content-TYpe)","body":"Can you show the source message?  Quoted-Printable should absolutely be a support Content-Transfer-Encoding, but perhaps the sender set it in the wrong field (eg, Content-TYpe)"},{"owner":{"account_id":25405751,"reputation":1,"user_id":19214491,"display_name":"sun Sun"},"score":0,"creation_date":1653664411,"post_id":72406914,"comment_id":127913191,"body_markdown":"@Max i have added some message details. But normaly if Content-Type probleme,  why it throw Exception : &#39; Failed to extract body due to: Unknown encoding: quoted-printable&#39; ? I couldn&#39;t understand. thanks for your reply.","body":"@Max i have added some message details. But normaly if Content-Type probleme,  why it throw Exception : &#39; Failed to extract body due to: Unknown encoding: quoted-printable&#39; ? I couldn&#39;t understand. thanks for your reply."},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1653671831,"post_id":72406914,"comment_id":127915831,"body_markdown":"That looks absolutely fine. Seems like something is wrong with your javax-mail.jar, since supporting quoted-printable is a basic functionality of a MIME/mail library.  For example, this javadoc specifically says that quoted-printable is supported: https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html","body":"That looks absolutely fine. Seems like something is wrong with your javax-mail.jar, since supporting quoted-printable is a basic functionality of a MIME/mail library.  For example, this javadoc specifically says that quoted-printable is supported: <a href=\"https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/mail/internet/&hellip;</a>"},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1653672512,"post_id":72406914,"comment_id":127916029,"body_markdown":"As to your other question: the property is referring to a java property. You would normally provide them this way: https://javaee.github.io/javamail/docs/api/javax/mail/package-summary.html#package.description  (see example in doc), but I’m not sure how you would pass that through camel","body":"As to your other question: the property is referring to a java property. You would normally provide them this way: <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/package-summary.html#package.description\" rel=\"nofollow noreferrer\">javaee.github.io/javamail/docs/api/javax/mail/&hellip;</a>  (see example in doc), but I’m not sure how you would pass that through camel"},{"owner":{"account_id":25405751,"reputation":1,"user_id":19214491,"display_name":"sun Sun"},"score":0,"creation_date":1655363361,"post_id":72406914,"comment_id":128315986,"body_markdown":"@Max, hello, even i have updated my dependency camel-mail:2.19.5, still throw exception **org.apache.camel.RuntimeCamelException: Failed to extract body due to: Unknown encoding: quoted-printable . Exchange: Exchange[]. Message: **. Do you have more idea?","body":"@Max, hello, even i have updated my dependency camel-mail:2.19.5, still throw exception **org.apache.camel.RuntimeCamelException: Failed to extract body due to: Unknown encoding: quoted-printable . Exchange: Exchange[]. Message: **. Do you have more idea?"}],"answers":[{"tags":[],"owner":{"account_id":25405751,"reputation":1,"user_id":19214491,"display_name":"sun Sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655386953,"creation_date":1655386953,"answer_id":72646884,"question_id":72406914,"body_markdown":"finally. I found the solution to modifier the properties before application run.it works.\r\n\r\n    \r\n&gt; System.getProperties().setProperty(&quot;mail.mime.ignoreunknownencoding&quot;,&quot;true&quot;);\r\n&gt; SpringApplication.run(xxx.class, args);","title":"Camel Route read Mail by call url IMAP Server, but will throw RuntimeCamelException if Content-Transfer-Encoding:quoted-printable","body":"<p>finally. I found the solution to modifier the properties before application run.it works.</p>\n<blockquote>\n<p>System.getProperties().setProperty(&quot;mail.mime.ignoreunknownencoding&quot;,&quot;true&quot;);\nSpringApplication.run(xxx.class, args);</p>\n</blockquote>\n"}],"owner":{"account_id":25405751,"reputation":1,"user_id":19214491,"display_name":"sun Sun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655386953,"creation_date":1653661409,"question_id":72406914,"body_markdown":"everyone.\r\nI have an application using camel route to call url IMAP to read mail and retrieve content, `from(&quot;{{route1.imap.protocol}}://{{route1.imap.host}}?username={{route1.imap.username}}&amp;password={{route1.imap.password}}&amp;consumer.delay={{route1.consumer.delay}}&amp;fetchSize={{route1.fetchSize}}{{route1.otherOptions}}&quot;)&quot;`\r\n , most of the emails are read successfully by the application. But recently, we have encountered the client sends email with **Content-Transfer-Encoding:quoted-printable**, then the application will throw RuntimeCamelException\r\n\r\n    org.apache.camel.RuntimeCamelException: Failed to extract body due to: Unknown encoding: quoted-printable . Exchange: Exchange[]. Message: com.sun.mail.imap.IMAPMessage@7970ebf3\r\n    \tat org.apache.camel.component.mail.MailBinding.extractBodyFromMail(MailBinding.java:278) ~[camel-mail-2.18.1.jar:2.18.1]\r\n    \tat org.apache.camel.component.mail.MailMessage.createBody(MailMessage.java:105) ~[camel-mail-2.18.1.jar:2.18.1]\r\n    \tat org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:47) ~[camel-core-2.18.1.jar:2.18.1]\r\n    \tat org.apache.camel.component.mail.MailConsumer.createExchanges(MailConsumer.java:354) ~[camel-mail-2.18.1.jar:2.18.1]\r\n    \tat org.apache.camel.component.mail.MailConsumer.poll(MailConsumer.java:128) ~[camel-mail-2.18.1.jar:2.18.1]\r\n    \tat org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175) [camel-core-2.18.1.jar:2.18.1]\r\n    \tat org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102) [camel-core-2.18.1.jar:2.18.1]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_281]\r\n    \tat java.util.concurrent.FutureTask.runAndReset(Unknown Source) [na:1.8.0_281]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown Source) [na:1.8.0_281]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) [na:1.8.0_281]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_281]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_281]\r\n    \tat java.lang.Thread.run(Unknown Source) [na:1.8.0_281]\r\n    Caused by: java.io.IOException: Unknown encoding: quoted-printable \r\n    \tat javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:115) ~[javax.mail-1.5.5.jar:1.5.5]\r\n    \tat com.sun.mail.handlers.text_plain.getContent(text_plain.java:80) ~[javax.mail-1.5.5.jar:1.5.5]\r\n    \tat javax.activation.DataSourceDataContentHandler.getContent(Unknown Source) ~[na:1.8.0_281]\r\n    \tat javax.activation.DataHandler.getContent(Unknown Source) ~[na:1.8.0_281]\r\n    \tat javax.mail.internet.MimeMessage.getContent(MimeMessage.java:1454) ~[javax.mail-1.5.5.jar:1.5.5]\r\n    \tat org.apache.camel.component.mail.MailBinding.extractBodyFromMail(MailBinding.java:250) ~[camel-mail-2.18.1.jar:2.18.1]\r\n    \t... 13 common frames omitted\r\n    Caused by: javax.mail.MessagingException: Unknown encoding: quoted-printable \r\n    \tat javax.mail.internet.MimeUtility.decode(MimeUtility.java:389) ~[javax.mail-1.5.5.jar:1.5.5]\r\n    \tat javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:108) ~[javax.mail-1.5.5.jar:1.5.5]\r\n\t\r\nI try to find the solution, which i have found maybe to set System property `mail.mime.ignoreunknownencoding` to &quot;true&quot;, but i couldn&#39;t understand where to set `mail.mime.ignoreunknownencoding`. If anyone knows where to set? In Outlook, IMAP Server or my application properties? \r\n\r\nAnd The application using dependency `camel-mail:2.18.1`, the dependency class `MailBinding.class` in the method `extractBodyFromMail` throw this exception. Or should I rewrite the `MailBinding` Class to override method `extractBodyFromMail`.\r\n\r\nif anyone could help me, thank you very much.\r\n\r\nAdd some details the infos email\r\n\r\n    Date: Mon, 23 May 2022 12:50:19 +0000\r\n    From: &lt;xxx@xxxx&gt;\r\n    To: &lt;xxx@xxxxx&gt;, &lt;xx@xxx&gt;, &lt;xx@xxx&gt;\r\n    Subject: 1964790 - SCR_CNX_ADEP_STANDARD\r\n    Content-Transfer-Encoding: quoted-printable \r\n    MIME-Version: 1.0\r\n    Content-Type: text/plain\r\n    Message-ID: &lt;991336a1-5f3d-449a-91af-c9a54cfb2e0f@xx.xx.local&gt;\r\n    Return-Path: xx@xxx\r\n    X-Originating-IP: [10.1.128.112]\r\n    X-ClientProxiedBy: polar.airdolomiti.local (10.1.128.215) To\r\n     polar.airdolomiti.local (10.1.128.215)\r\n    DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=xxxxxx.it; h=date:from:to:subject:content-transfer-encoding:mime-version:content-type:message-id; s=default; bh=2KBKjicvV/qIKyzYQAsZqkpDEKd3+uRQ8VlcakqOVx0=; b=E9wS98Kd+RrFNdRSOdPNwWT4Ga7P0/64LrM8plbjw1Fx7vtI1330ebvhVBjMNOuWlj8ctv+UmUs+GBnrEP/VNdLRv4vX+uPhq7JwWs9A6mlS0hWcOL4S711WLHrHdW8C4wXyQN4VmYfDRHx7jnhPwJBcY5RdWgjHf9sgOAfcdI4=\r\n    X-MS-Exchange-Organization-ExpirationStartTime: 23 May 2022 12:50:20.4282\r\n     (UTC)\r\n    X-MS-Exchange-Organization-ExpirationStartTimeReason: OriginalSubmit\r\n    X-MS-Exchange-Organization-ExpirationInterval: 1:00:00:00.0000000\r\n    X-MS-Exchange-Organization-ExpirationIntervalReason: OriginalSubmit\r\n    X-MS-Exchange-Organization-Network-Message-Id:\r\n     e760ac37-bb92-4d82-685f-08da3cbacba1\r\n    X-EOPAttributedMessage: 0\r\n    X-EOPTenantAttributedMessage: d3fc41ce-14c2-4518-9065-8fe78ff84136:0\r\n    X-MS-Exchange-Organization-MessageDirectionality: Incoming\r\n    X-MS-PublicTrafficType: Email\r\n    X-MS-Exchange-Organization-AuthSource:\r\n     PR2FRA01FT010.eop-fra01.prod.protection.outlook.com\r\n    X-MS-Exchange-Organization-AuthAs: Anonymous\r\n    X-MS-Office365-Filtering-Correlation-Id: e760ac37-bb92-4d82-685f-08da3cbacba1\r\n    X-MS-TrafficTypeDiagnostic: PR0P264MB2439:EE_\r\n    X-MS-Exchange-Organization-SCL: -1\r\n    X-Microsoft-Antispam: BCL:0;\r\n    X-Forefront-Antispam-Report:\r\n     CIP:151.11.112.123;CTRY:IT;LANG:en;SCL:-1;SRV:;IPV:NLI;SFV:SFE;H:mail.airdolomiti.it;PTR:mail.airdolomiti.it;CAT:NONE;SFS:;DIR:INB;\r\n    X-MS-Exchange-CrossTenant-OriginalArrivalTime: 23 May 2022 12:50:20.2876\r\n     (UTC)\r\n    X-MS-Exchange-CrossTenant-Network-Message-Id: e760ac37-bb92-4d82-685f-08da3cbacba1\r\n    X-MS-Exchange-CrossTenant-Id: d3fc41ce-14c2-4518-9065-8fe78ff84136\r\n    X-MS-Exchange-CrossTenant-AuthSource:\r\n     PR2FRA01FT010.eop-fra01.prod.protection.outlook.com\r\n    X-MS-Exchange-CrossTenant-AuthAs: Anonymous\r\n    X-MS-Exchange-CrossTenant-FromEntityHeader: Internet\r\n    X-MS-Exchange-Transport-CrossTenantHeadersStamped: PR0P264MB2439\r\n    X-MS-Exchange-Transport-EndToEndLatency: 00:00:01.9451105\r\n    X-MS-Exchange-Processed-By-BccFoldering: 15.20.5273.022\r\n    X-Microsoft-Antispam-Mailbox-Delivery:","title":"Camel Route read Mail by call url IMAP Server, but will throw RuntimeCamelException if Content-Transfer-Encoding:quoted-printable","body":"<p>everyone.\nI have an application using camel route to call url IMAP to read mail and retrieve content, <code>from(&quot;{{route1.imap.protocol}}://{{route1.imap.host}}?username={{route1.imap.username}}&amp;password={{route1.imap.password}}&amp;consumer.delay={{route1.consumer.delay}}&amp;fetchSize={{route1.fetchSize}}{{route1.otherOptions}}&quot;)&quot;</code>\n, most of the emails are read successfully by the application. But recently, we have encountered the client sends email with <strong>Content-Transfer-Encoding:quoted-printable</strong>, then the application will throw RuntimeCamelException</p>\n<pre><code>org.apache.camel.RuntimeCamelException: Failed to extract body due to: Unknown encoding: quoted-printable . Exchange: Exchange[]. Message: com.sun.mail.imap.IMAPMessage@7970ebf3\n    at org.apache.camel.component.mail.MailBinding.extractBodyFromMail(MailBinding.java:278) ~[camel-mail-2.18.1.jar:2.18.1]\n    at org.apache.camel.component.mail.MailMessage.createBody(MailMessage.java:105) ~[camel-mail-2.18.1.jar:2.18.1]\n    at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:47) ~[camel-core-2.18.1.jar:2.18.1]\n    at org.apache.camel.component.mail.MailConsumer.createExchanges(MailConsumer.java:354) ~[camel-mail-2.18.1.jar:2.18.1]\n    at org.apache.camel.component.mail.MailConsumer.poll(MailConsumer.java:128) ~[camel-mail-2.18.1.jar:2.18.1]\n    at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175) [camel-core-2.18.1.jar:2.18.1]\n    at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102) [camel-core-2.18.1.jar:2.18.1]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_281]\n    at java.util.concurrent.FutureTask.runAndReset(Unknown Source) [na:1.8.0_281]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown Source) [na:1.8.0_281]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) [na:1.8.0_281]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_281]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_281]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_281]\nCaused by: java.io.IOException: Unknown encoding: quoted-printable \n    at javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:115) ~[javax.mail-1.5.5.jar:1.5.5]\n    at com.sun.mail.handlers.text_plain.getContent(text_plain.java:80) ~[javax.mail-1.5.5.jar:1.5.5]\n    at javax.activation.DataSourceDataContentHandler.getContent(Unknown Source) ~[na:1.8.0_281]\n    at javax.activation.DataHandler.getContent(Unknown Source) ~[na:1.8.0_281]\n    at javax.mail.internet.MimeMessage.getContent(MimeMessage.java:1454) ~[javax.mail-1.5.5.jar:1.5.5]\n    at org.apache.camel.component.mail.MailBinding.extractBodyFromMail(MailBinding.java:250) ~[camel-mail-2.18.1.jar:2.18.1]\n    ... 13 common frames omitted\nCaused by: javax.mail.MessagingException: Unknown encoding: quoted-printable \n    at javax.mail.internet.MimeUtility.decode(MimeUtility.java:389) ~[javax.mail-1.5.5.jar:1.5.5]\n    at javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:108) ~[javax.mail-1.5.5.jar:1.5.5]\n</code></pre>\n<p>I try to find the solution, which i have found maybe to set System property <code>mail.mime.ignoreunknownencoding</code> to &quot;true&quot;, but i couldn't understand where to set <code>mail.mime.ignoreunknownencoding</code>. If anyone knows where to set? In Outlook, IMAP Server or my application properties?</p>\n<p>And The application using dependency <code>camel-mail:2.18.1</code>, the dependency class <code>MailBinding.class</code> in the method <code>extractBodyFromMail</code> throw this exception. Or should I rewrite the <code>MailBinding</code> Class to override method <code>extractBodyFromMail</code>.</p>\n<p>if anyone could help me, thank you very much.</p>\n<p>Add some details the infos email</p>\n<pre><code>Date: Mon, 23 May 2022 12:50:19 +0000\nFrom: &lt;xxx@xxxx&gt;\nTo: &lt;xxx@xxxxx&gt;, &lt;xx@xxx&gt;, &lt;xx@xxx&gt;\nSubject: 1964790 - SCR_CNX_ADEP_STANDARD\nContent-Transfer-Encoding: quoted-printable \nMIME-Version: 1.0\nContent-Type: text/plain\nMessage-ID: &lt;991336a1-5f3d-449a-91af-c9a54cfb2e0f@xx.xx.local&gt;\nReturn-Path: xx@xxx\nX-Originating-IP: [10.1.128.112]\nX-ClientProxiedBy: polar.airdolomiti.local (10.1.128.215) To\n polar.airdolomiti.local (10.1.128.215)\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=xxxxxx.it; h=date:from:to:subject:content-transfer-encoding:mime-version:content-type:message-id; s=default; bh=2KBKjicvV/qIKyzYQAsZqkpDEKd3+uRQ8VlcakqOVx0=; b=E9wS98Kd+RrFNdRSOdPNwWT4Ga7P0/64LrM8plbjw1Fx7vtI1330ebvhVBjMNOuWlj8ctv+UmUs+GBnrEP/VNdLRv4vX+uPhq7JwWs9A6mlS0hWcOL4S711WLHrHdW8C4wXyQN4VmYfDRHx7jnhPwJBcY5RdWgjHf9sgOAfcdI4=\nX-MS-Exchange-Organization-ExpirationStartTime: 23 May 2022 12:50:20.4282\n (UTC)\nX-MS-Exchange-Organization-ExpirationStartTimeReason: OriginalSubmit\nX-MS-Exchange-Organization-ExpirationInterval: 1:00:00:00.0000000\nX-MS-Exchange-Organization-ExpirationIntervalReason: OriginalSubmit\nX-MS-Exchange-Organization-Network-Message-Id:\n e760ac37-bb92-4d82-685f-08da3cbacba1\nX-EOPAttributedMessage: 0\nX-EOPTenantAttributedMessage: d3fc41ce-14c2-4518-9065-8fe78ff84136:0\nX-MS-Exchange-Organization-MessageDirectionality: Incoming\nX-MS-PublicTrafficType: Email\nX-MS-Exchange-Organization-AuthSource:\n PR2FRA01FT010.eop-fra01.prod.protection.outlook.com\nX-MS-Exchange-Organization-AuthAs: Anonymous\nX-MS-Office365-Filtering-Correlation-Id: e760ac37-bb92-4d82-685f-08da3cbacba1\nX-MS-TrafficTypeDiagnostic: PR0P264MB2439:EE_\nX-MS-Exchange-Organization-SCL: -1\nX-Microsoft-Antispam: BCL:0;\nX-Forefront-Antispam-Report:\n CIP:151.11.112.123;CTRY:IT;LANG:en;SCL:-1;SRV:;IPV:NLI;SFV:SFE;H:mail.airdolomiti.it;PTR:mail.airdolomiti.it;CAT:NONE;SFS:;DIR:INB;\nX-MS-Exchange-CrossTenant-OriginalArrivalTime: 23 May 2022 12:50:20.2876\n (UTC)\nX-MS-Exchange-CrossTenant-Network-Message-Id: e760ac37-bb92-4d82-685f-08da3cbacba1\nX-MS-Exchange-CrossTenant-Id: d3fc41ce-14c2-4518-9065-8fe78ff84136\nX-MS-Exchange-CrossTenant-AuthSource:\n PR2FRA01FT010.eop-fra01.prod.protection.outlook.com\nX-MS-Exchange-CrossTenant-AuthAs: Anonymous\nX-MS-Exchange-CrossTenant-FromEntityHeader: Internet\nX-MS-Exchange-Transport-CrossTenantHeadersStamped: PR0P264MB2439\nX-MS-Exchange-Transport-EndToEndLatency: 00:00:01.9451105\nX-MS-Exchange-Processed-By-BccFoldering: 15.20.5273.022\nX-Microsoft-Antispam-Mailbox-Delivery:\n</code></pre>\n"},{"tags":["java","maven","log4j","filenotfoundexception"],"comments":[{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1370329091,"post_id":16911535,"comment_id":24409191,"body_markdown":"What does you `log4j.xml` look like?","body":"What does you <code>log4j.xml</code> look like?"},{"owner":{"account_id":1687547,"reputation":3557,"user_id":1550506,"accept_rate":38,"display_name":"ѕтƒ"},"score":0,"creation_date":1370329385,"post_id":16911535,"comment_id":24409326,"body_markdown":"@Tichodroma: Edited the question with `log4j.xml` details","body":"@Tichodroma: Edited the question with <code>log4j.xml</code> details"},{"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"score":0,"creation_date":1370330048,"post_id":16911535,"comment_id":24409641,"body_markdown":"Any specific reason you place your log4j.xml file under `com/my/abc/test` in `resources` Also when you load it you load it using `test/log4j.xml` whereas it should then be `com/my/abc/test/log4j.xml`?","body":"Any specific reason you place your log4j.xml file under <code>com&#47;my&#47;abc&#47;test</code> in <code>resources</code> Also when you load it you load it using <code>test&#47;log4j.xml</code> whereas it should then be <code>com&#47;my&#47;abc&#47;test&#47;log4j.xml</code>?"},{"owner":{"account_id":1687547,"reputation":3557,"user_id":1550506,"accept_rate":38,"display_name":"ѕтƒ"},"score":0,"creation_date":1370330327,"post_id":16911535,"comment_id":24409767,"body_markdown":"@Kal : I edited it in question. Actually I used all the case. non of it works. when i put the jar in a different folder and run it from there it won&#39;t works. I changed the file name like `com/my/abc.test/log4j.xml` ,`log4j.xml`,etc.","body":"@Kal : I edited it in question. Actually I used all the case. non of it works. when i put the jar in a different folder and run it from there it won&#39;t works. I changed the file name like <code>com&#47;my&#47;abc.test&#47;log4j.xml</code> ,<code>log4j.xml</code>,etc."}],"answers":[{"tags":[],"owner":{"account_id":1026140,"reputation":705,"user_id":1035417,"display_name":"Chetan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1370330883,"creation_date":1370330455,"answer_id":16911982,"question_id":16911535,"body_markdown":"As per the [DOMConfigurator][1] code the argument passed to it is treated as a File name. Instead of that try using the classpath resource\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n      public void configLogger()\r\n        {\r\n            URL u = getClass().getClassLoader().getResource(&quot;com/my/abc/test/log4j.xml&quot;);\r\n            DOMConfigurator.configure(u);\r\n        }\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/log4j/log4j/1.2.14/org/apache/log4j/xml/DOMConfigurator.java#595","title":"log4j:ERROR Could not parse file","body":"<p>As per the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/log4j/log4j/1.2.14/org/apache/log4j/xml/DOMConfigurator.java#595\" rel=\"noreferrer\">DOMConfigurator</a> code the argument passed to it is treated as a File name. Instead of that try using the classpath resource</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  public void configLogger()\n    {\n        URL u = getClass().getClassLoader().getResource(\"com/my/abc/test/log4j.xml\");\n        DOMConfigurator.configure(u);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24008120,"reputation":1,"user_id":17992060,"display_name":"Dmytro Morozov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655386854,"creation_date":1655386854,"answer_id":72646863,"question_id":16911535,"body_markdown":"I resolved the exception in the following way. So you can try it for your project maybe it helps you[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Wtni.png","title":"log4j:ERROR Could not parse file","body":"<p>I resolved the exception in the following way. So you can try it for your project maybe it helps you<a href=\"https://i.stack.imgur.com/4Wtni.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":1687547,"reputation":3557,"user_id":1550506,"accept_rate":38,"display_name":"ѕтƒ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16911982,"answer_count":2,"score":2,"last_activity_date":1655386854,"creation_date":1370328883,"question_id":16911535,"body_markdown":"I waste a lot of time to solve this problem. but can&#39;t. may be it is simple.  \r\n\r\nThe jar file of application cant load the log4j.xml file which is the configuration file of log4j.  \r\nHere is the code i am using\r\n\r\n    import org.apache.log4j.xml.DOMConfigurator;\r\n    public class LoggerConfig {\r\n    \tpublic void configLogger()\r\n    \t{\r\n    \t    DOMConfigurator.configure(&quot;log4j.xml&quot;);\r\n    \t}\r\n    }\r\n\r\nIts a maven project. and my dir strucure is:\r\n\r\n    src\r\n      main\r\n        java\r\n        |  com\r\n        |  |  my\r\n        |  |  |  abc\r\n        |  |  |  |  test\r\n        |  |  |  |  |  LoggerConfig.java\r\n        resource\r\n        |   com\r\n        |   |  my \r\n        |   |  |  abc\r\n        |   |  |  |  test\r\n        |   |  |  |  |  log4j.xml\r\n\r\nMy classpath file looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;/&gt; \t\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\n\r\nMy log4j.xml looks like  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;\r\n      &lt;appender name=&quot;file&quot; class=&quot;org.apache.log4j.FileAppender&quot;&gt;\r\n        &lt;param name=&quot;File&quot; value=&quot;target/test.log&quot; /&gt;\r\n        &lt;param name=&quot;Append&quot; value=&quot;false&quot; /&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n           &lt;param name=&quot;ConversionPattern&quot; value=&quot;[%p] [%d{HH:mm:ss.SSS}] %m%n&quot; /&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;\r\n        &lt;param name=&quot;Threshold&quot; value=&quot;DEBUG&quot; /&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n          &lt;!-- The default pattern: Date Priority [Category] Message\\n --&gt;\r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;[%p] [%d{HH:mm:ss.SSS}] %m%n&quot; /&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;root&gt;\r\n        &lt;priority value=&quot;INFO&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/log4j:configuration&gt;\r\n\r\nThanks for any help..","title":"log4j:ERROR Could not parse file","body":"<p>I waste a lot of time to solve this problem. but can't. may be it is simple.  </p>\n\n<p>The jar file of application cant load the log4j.xml file which is the configuration file of log4j.<br>\nHere is the code i am using</p>\n\n<pre><code>import org.apache.log4j.xml.DOMConfigurator;\npublic class LoggerConfig {\n    public void configLogger()\n    {\n        DOMConfigurator.configure(\"log4j.xml\");\n    }\n}\n</code></pre>\n\n<p>Its a maven project. and my dir strucure is:</p>\n\n<pre><code>src\n  main\n    java\n    |  com\n    |  |  my\n    |  |  |  abc\n    |  |  |  |  test\n    |  |  |  |  |  LoggerConfig.java\n    resource\n    |   com\n    |   |  my \n    |   |  |  abc\n    |   |  |  |  test\n    |   |  |  |  |  log4j.xml\n</code></pre>\n\n<p>My classpath file looks like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" output=\"target/classes\" path=\"src/main/java\"/&gt;\n    &lt;classpathentry kind=\"src\" output=\"target/classes\" path=\"src/main/resources\"/&gt;  \n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER\"/&gt;\n    &lt;classpathentry kind=\"output\" path=\"target/classes\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>My log4j.xml looks like  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\" debug=\"false\"&gt;\n  &lt;appender name=\"file\" class=\"org.apache.log4j.FileAppender\"&gt;\n    &lt;param name=\"File\" value=\"target/test.log\" /&gt;\n    &lt;param name=\"Append\" value=\"false\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n       &lt;param name=\"ConversionPattern\" value=\"[%p] [%d{HH:mm:ss.SSS}] %m%n\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=\"console\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;param name=\"Target\" value=\"System.out\" /&gt;\n    &lt;param name=\"Threshold\" value=\"DEBUG\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n      &lt;!-- The default pattern: Date Priority [Category] Message\\n --&gt;\n      &lt;param name=\"ConversionPattern\" value=\"[%p] [%d{HH:mm:ss.SSS}] %m%n\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;root&gt;\n    &lt;priority value=\"INFO\" /&gt;\n    &lt;appender-ref ref=\"console\" /&gt;\n    &lt;appender-ref ref=\"file\" /&gt;\n  &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>Thanks for any help..</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1655379947,"post_id":72645052,"comment_id":128321539,"body_markdown":"Do we talk about a package (java package) or an artifacts (groupId, artifactId, version) ?","body":"Do we talk about a package (java package) or an artifacts (groupId, artifactId, version) ?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678982379,"post_id":72645052,"comment_id":133642247,"body_markdown":"Please do not show code as picture","body":"Please do not show code as picture"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655379470,"creation_date":1655379470,"answer_id":72645210,"question_id":72645052,"body_markdown":"Scope [`provided`](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope) means it&#39;s provided at runtime, which implies that it&#39;s not a package dependency:\r\n\r\n&gt; A dependency with this scope is added to the classpath used for compilation and test, but not the runtime classpath. It is not transitive.","title":"How to list all dependencies of a package from maven (including scopes)","body":"<p>Scope <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope\" rel=\"nofollow noreferrer\"><code>provided</code></a> means it's provided at runtime, which implies that it's not a package dependency:</p>\n<blockquote>\n<p>A dependency with this scope is added to the classpath used for compilation and test, but not the runtime classpath. It is not transitive.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655386835,"creation_date":1655386835,"answer_id":72646859,"question_id":72645052,"body_markdown":"Use **Analyze Dependencies...** [action](https://www.jetbrains.com/help/idea/work-with-maven-dependencies.html#dependency_analyzer) in the Maven tool window:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIt will show the list of dependencies in the project with their scopes and usages in project:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f3Sit.png\r\n  [2]: https://i.stack.imgur.com/5X4wv.png","title":"How to list all dependencies of a package from maven (including scopes)","body":"<p>Use <strong>Analyze Dependencies...</strong> <a href=\"https://www.jetbrains.com/help/idea/work-with-maven-dependencies.html#dependency_analyzer\" rel=\"nofollow noreferrer\">action</a> in the Maven tool window:</p>\n<p><a href=\"https://i.stack.imgur.com/f3Sit.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f3Sit.png\" alt=\"enter image description here\" /></a></p>\n<p>It will show the list of dependencies in the project with their scopes and usages in project:</p>\n<p><a href=\"https://i.stack.imgur.com/5X4wv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5X4wv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20241587,"reputation":23,"user_id":14845317,"display_name":"Denxah129"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679004095,"answer_count":2,"score":0,"last_activity_date":1655386835,"creation_date":1655378672,"question_id":72645052,"body_markdown":"I have a graph with 40K artifacts and I can list all possible dependencies of a package (I do so by parsing a list of effective poms)\r\n\r\nFor example, I have the following for this package:[![enter image description here][1]][1]\r\n\r\n\r\nThere&#39;s 2 dependencies without taking in mind different versions. \r\nI would like to show that this results are valid by showing that maven also lists these dependencies for this package. But when I use `mvn dependency:tree` after I add the `com.google.guava:guava:14.0.1`, I get no dependencies listed. \r\n\r\nThis is the pom file of the package:[![enter image description here][2]][2]\r\n\r\nIt clearly has those 2 dependencies, but their scopes are provided. Even if I use `-Dinclude=provided` or `-Dscope=provided` as a parameter, I still cannot list them. \r\nSo, how do I list all dependencies of a package no matter the scope used?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VY05Y.png\r\n  [2]: https://i.stack.imgur.com/fQxg5.png","title":"How to list all dependencies of a package from maven (including scopes)","body":"<p>I have a graph with 40K artifacts and I can list all possible dependencies of a package (I do so by parsing a list of effective poms)</p>\n<p>For example, I have the following for this package:<a href=\"https://i.stack.imgur.com/VY05Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VY05Y.png\" alt=\"enter image description here\" /></a></p>\n<p>There's 2 dependencies without taking in mind different versions.\nI would like to show that this results are valid by showing that maven also lists these dependencies for this package. But when I use <code>mvn dependency:tree</code> after I add the <code>com.google.guava:guava:14.0.1</code>, I get no dependencies listed.</p>\n<p>This is the pom file of the package:<a href=\"https://i.stack.imgur.com/fQxg5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fQxg5.png\" alt=\"enter image description here\" /></a></p>\n<p>It clearly has those 2 dependencies, but their scopes are provided. Even if I use <code>-Dinclude=provided</code> or <code>-Dscope=provided</code> as a parameter, I still cannot list them.\nSo, how do I list all dependencies of a package no matter the scope used?</p>\n"},{"tags":["java","tomcat","log4j","apache-tomee","web-fragment"],"comments":[{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1655406907,"post_id":72635520,"comment_id":128331273,"body_markdown":"Sounds like a bug. Would you mind creating an issue at jira.apache.org?","body":"Sounds like a bug. Would you mind creating an issue at jira.apache.org?"},{"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"score":0,"creation_date":1655485266,"post_id":72635520,"comment_id":128351671,"body_markdown":"Thank you for your comment. I created a bug: https://bz.apache.org/bugzilla/show_bug.cgi?id=66129","body":"Thank you for your comment. I created a bug: <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=66129\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/show_bug.cgi?id=66129</a>"},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1655491238,"post_id":72635520,"comment_id":128353269,"body_markdown":"Needs to be TomEE, not Tomcat  :)","body":"Needs to be TomEE, not Tomcat  :)"},{"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"score":0,"creation_date":1655714682,"post_id":72635520,"comment_id":128388699,"body_markdown":"I created it in Tomee too now ... https://issues.apache.org/jira/browse/TOMEE-3982\nI hope I got it right this time and will stop spamming everyone with this issue ...","body":"I created it in Tomee too now ... <a href=\"https://issues.apache.org/jira/browse/TOMEE-3982\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/TOMEE-3982</a> I hope I got it right this time and will stop spamming everyone with this issue ..."}],"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655386765,"creation_date":1655314058,"question_id":72635520,"body_markdown":"The library I&#39;m maintaining contains a implementation of `ServletContainerInitializer` which is declared in `META-INF/services/javax.servlet.ServletContainerInitializer` file.\r\n\r\nThis library is used by web applications running on Tomee 8 (Apache Tomcat (TomEE)/9.0.63 (8.0.12)).\r\n\r\nRecently I added the `log4j-web` dependency to the project. Before that my initializer was called as expected but since it is ignored.\r\n\r\nAfter creating a minimal example I identified that my jar is ignored because :\r\n - Its name starts with `spring-` (it is not a library of the Spring Framework, only a poor naming choice) and,\r\n - Another jar in the classpath (log4j-web) contains a `web-fragment.xml` with &quot;ordering&quot; before or after &quot;others&quot; : \r\n```xml\r\n\r\n    &lt;web-fragment xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n                                      http://java.sun.com/xml/ns/javaee/web-fragment_3_0.xsd&quot;\r\n                  version=&quot;3.0&quot; metadata-complete=&quot;true&quot;&gt;\r\n    \r\n        &lt;name&gt;my_web_fragment_xxx&lt;/name&gt;\r\n        &lt;distributable /&gt;\r\n        &lt;ordering&gt;\r\n            &lt;before&gt;\r\n                &lt;others /&gt;\r\n            &lt;/before&gt;\r\n        &lt;/ordering&gt;\r\n    &lt;/web-fragment&gt;\r\n\r\n```\r\n\r\nI activated Tomcat traces logs and noticed that &quot;spring&quot; is listed in some exclusion prefixes as well as many other names. \r\n\r\n```\r\n\r\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.readDefaultExclusions Loaded default.exclusions\r\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions Exclusion prefixes: [\r\n    ...\r\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions -snappy-java-\r\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions -spring-\r\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions -sshd-\r\n    ...\r\n\r\n```\r\n \r\nI noticed that &quot;google&quot; is listed too and when I prefix my jar with &quot;google-&quot; it reproduces the same issue. \r\n\r\nThe default exclusion list comes from `openejb-core` library : \r\nhttps://github.com/apache/tomee/blob/c0928e2aed1713d16d28bffaed11ad5024bc3728/container/openejb-core/src/main/resources/default.exclusions\r\n\r\n\r\n\r\n\r\n## Workarounds ## \r\n- Rename the library (but it will have an impact on applications depending on it),\r\n- Add the name of the ignored jar to the `tomcat.util.scan.StandardJarScanFilter.jarsToScan` jars list (but it has to be done to every environments from dev to production for customers using our products).\r\n\r\n## Question ##\r\nWhat I would like to understand is, why this issue is only triggered when a jar in the classpath contains a *web-fragment* with an `&lt;ordering&gt;` element ?\r\n\r\n## Minimal reproducible sample ##\r\nhttps://github.com/KWSimon/tomcat_jarscanning","title":"ServletContainerInitializer ignored by Tomee because of jar name and web-fragment &quot;ordering&quot;","body":"<p>The library I'm maintaining contains a implementation of <code>ServletContainerInitializer</code> which is declared in <code>META-INF/services/javax.servlet.ServletContainerInitializer</code> file.</p>\n<p>This library is used by web applications running on Tomee 8 (Apache Tomcat (TomEE)/9.0.63 (8.0.12)).</p>\n<p>Recently I added the <code>log4j-web</code> dependency to the project. Before that my initializer was called as expected but since it is ignored.</p>\n<p>After creating a minimal example I identified that my jar is ignored because :</p>\n<ul>\n<li>Its name starts with <code>spring-</code> (it is not a library of the Spring Framework, only a poor naming choice) and,</li>\n<li>Another jar in the classpath (log4j-web) contains a <code>web-fragment.xml</code> with &quot;ordering&quot; before or after &quot;others&quot; :</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;web-fragment xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n                                      http://java.sun.com/xml/ns/javaee/web-fragment_3_0.xsd&quot;\n                  version=&quot;3.0&quot; metadata-complete=&quot;true&quot;&gt;\n    \n        &lt;name&gt;my_web_fragment_xxx&lt;/name&gt;\n        &lt;distributable /&gt;\n        &lt;ordering&gt;\n            &lt;before&gt;\n                &lt;others /&gt;\n            &lt;/before&gt;\n        &lt;/ordering&gt;\n    &lt;/web-fragment&gt;\n\n</code></pre>\n<p>I activated Tomcat traces logs and noticed that &quot;spring&quot; is listed in some exclusion prefixes as well as many other names.</p>\n<pre><code>\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.readDefaultExclusions Loaded default.exclusions\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions Exclusion prefixes: [\n    ...\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions -snappy-java-\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions -spring-\n    TRACE [Thread-2] org.apache.openejb.config.NewLoaderLogic.logExclusions -sshd-\n    ...\n\n</code></pre>\n<p>I noticed that &quot;google&quot; is listed too and when I prefix my jar with &quot;google-&quot; it reproduces the same issue.</p>\n<p>The default exclusion list comes from <code>openejb-core</code> library :\n<a href=\"https://github.com/apache/tomee/blob/c0928e2aed1713d16d28bffaed11ad5024bc3728/container/openejb-core/src/main/resources/default.exclusions\" rel=\"nofollow noreferrer\">https://github.com/apache/tomee/blob/c0928e2aed1713d16d28bffaed11ad5024bc3728/container/openejb-core/src/main/resources/default.exclusions</a></p>\n<h2>Workarounds</h2>\n<ul>\n<li>Rename the library (but it will have an impact on applications depending on it),</li>\n<li>Add the name of the ignored jar to the <code>tomcat.util.scan.StandardJarScanFilter.jarsToScan</code> jars list (but it has to be done to every environments from dev to production for customers using our products).</li>\n</ul>\n<h2>Question</h2>\n<p>What I would like to understand is, why this issue is only triggered when a jar in the classpath contains a <em>web-fragment</em> with an <code>&lt;ordering&gt;</code> element ?</p>\n<h2>Minimal reproducible sample</h2>\n<p><a href=\"https://github.com/KWSimon/tomcat_jarscanning\" rel=\"nofollow noreferrer\">https://github.com/KWSimon/tomcat_jarscanning</a></p>\n"},{"tags":["java","netbeans","codenameone"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1425279063,"creation_date":1425279063,"answer_id":28804121,"question_id":28804049,"body_markdown":"It looks like Codename One has omitted that class - and others, I suspect.\r\n\r\nJudging by the documentation, I suspect you want to use the [`com.codename1.io.FileSystemStorage`][1] class and its [`openInputStream`][2] method.\r\n\r\nYou may well want to watch the [video on storing data to persistent storage][3] too.\r\n\r\n\r\n  [1]: https://codenameone.googlecode.com/svn/trunk/CodenameOne/javadoc/com/codename1/io/FileSystemStorage.html\r\n  [2]: https://codenameone.googlecode.com/svn/trunk/CodenameOne/javadoc/com/codename1/io/FileSystemStorage.html#openInputStream(java.lang.String)\r\n  [3]: http://www.codenameone.com/how-do-i---store-data-to-persistent-storage-storageexternalization.html","title":"In Codename One, why can I not get FileInputStream to import or compile?","body":"<p>It looks like Codename One has omitted that class - and others, I suspect.</p>\n\n<p>Judging by the documentation, I suspect you want to use the <a href=\"https://codenameone.googlecode.com/svn/trunk/CodenameOne/javadoc/com/codename1/io/FileSystemStorage.html\" rel=\"nofollow\"><code>com.codename1.io.FileSystemStorage</code></a> class and its <a href=\"https://codenameone.googlecode.com/svn/trunk/CodenameOne/javadoc/com/codename1/io/FileSystemStorage.html#openInputStream(java.lang.String)\" rel=\"nofollow\"><code>openInputStream</code></a> method.</p>\n\n<p>You may well want to watch the <a href=\"http://www.codenameone.com/how-do-i---store-data-to-persistent-storage-storageexternalization.html\" rel=\"nofollow\">video on storing data to persistent storage</a> too.</p>\n"},{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425291515,"creation_date":1425291515,"answer_id":28807298,"question_id":28804049,"body_markdown":"Jon&#39;s answer is correct but partial. The question is where is the CSV file actually stored... \r\n\r\nIf the file is in the src folder (part of your jar) use `Display.getInstance().getResourceAsStream(getClass(), &quot;/filename&quot;);`.\r\n\r\nIf you downloaded it, then its very likely you downloaded to storage and not necessarily file system (slightly different things in mobile). Both have rather detailed API&#39;s to open/write and the `Util` class has a nice download API. Keep in mind that you can&#39;t just &quot;put&quot; a file on the device like you can in a computer, the filesystem is quite different. \r\n\r\nAs a sidenote, Codename One has a builtin `CSVParser` class which could be useful for you.","title":"In Codename One, why can I not get FileInputStream to import or compile?","body":"<p>Jon's answer is correct but partial. The question is where is the CSV file actually stored... </p>\n\n<p>If the file is in the src folder (part of your jar) use <code>Display.getInstance().getResourceAsStream(getClass(), \"/filename\");</code>.</p>\n\n<p>If you downloaded it, then its very likely you downloaded to storage and not necessarily file system (slightly different things in mobile). Both have rather detailed API's to open/write and the <code>Util</code> class has a nice download API. Keep in mind that you can't just \"put\" a file on the device like you can in a computer, the filesystem is quite different. </p>\n\n<p>As a sidenote, Codename One has a builtin <code>CSVParser</code> class which could be useful for you.</p>\n"}],"owner":{"account_id":5036164,"reputation":13,"user_id":4044859,"display_name":"Isaac Beeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28804121,"answer_count":2,"score":0,"last_activity_date":1655386642,"creation_date":1425278714,"question_id":28804049,"body_markdown":"Here are my imports:\r\n\r\n    import com.codename1.ui.*;\r\n    import com.codename1.ui.util.*;\r\n    import com.codename1.ui.plaf.*;\r\n    import com.codename1.ui.events.*;\r\n    import com.codename1.io.*;\r\n    import com.codename1.ui.layouts.*;\r\n    import java.io.*;\r\nI cannot get this code to compile:\r\n\r\n    InputStream in = new FileInputStream(&quot;users.csv&quot;);\r\nHere is the error: \r\n\r\n    C:\\Users\\Isaac\\Documents\\NetBeansProjects\\CodenameOne_TESTING\\src\\com\\fakecompany\\testapp\\MyApplication.java:119: error: cannot find symbol\r\n        InputStream in = new FileInputStream(&quot;users.csv&quot;);\r\n      symbol:   class FileInputStream\r\n      location: class MyApplication\r\nI thought this might be a problem with the imports, and sure enough, when I specifically imported `java.io.FileImputStream` it gave me an additional error:\r\n\r\n    C:\\Users\\Isaac\\Documents\\NetBeansProjects\\CodenameOne_TESTING\\src\\com\\fakecompany\\testapp\\MyApplication.java:13: error: cannot find symbol\r\n    import java.io.FileInputStream;\r\n      symbol:   class FileInputStream\r\n      location: package java.io\r\nWhat is going on? Is there a different way I am supposed to import files in Codename One? Let me know if this is not enough of my code to find the error.\r\n\r\n\r\nPS: I need to get an input stream implemented so I can parse the csv file: \r\n\r\n        CSVParser parser = new CSVParser();\r\n        String[][] data = parser.parse(in);","title":"In Codename One, why can I not get FileInputStream to import or compile?","body":"<p>Here are my imports:</p>\n\n<pre><code>import com.codename1.ui.*;\nimport com.codename1.ui.util.*;\nimport com.codename1.ui.plaf.*;\nimport com.codename1.ui.events.*;\nimport com.codename1.io.*;\nimport com.codename1.ui.layouts.*;\nimport java.io.*;\n</code></pre>\n\n<p>I cannot get this code to compile:</p>\n\n<pre><code>InputStream in = new FileInputStream(\"users.csv\");\n</code></pre>\n\n<p>Here is the error: </p>\n\n<pre><code>C:\\Users\\Isaac\\Documents\\NetBeansProjects\\CodenameOne_TESTING\\src\\com\\fakecompany\\testapp\\MyApplication.java:119: error: cannot find symbol\n    InputStream in = new FileInputStream(\"users.csv\");\n  symbol:   class FileInputStream\n  location: class MyApplication\n</code></pre>\n\n<p>I thought this might be a problem with the imports, and sure enough, when I specifically imported <code>java.io.FileImputStream</code> it gave me an additional error:</p>\n\n<pre><code>C:\\Users\\Isaac\\Documents\\NetBeansProjects\\CodenameOne_TESTING\\src\\com\\fakecompany\\testapp\\MyApplication.java:13: error: cannot find symbol\nimport java.io.FileInputStream;\n  symbol:   class FileInputStream\n  location: package java.io\n</code></pre>\n\n<p>What is going on? Is there a different way I am supposed to import files in Codename One? Let me know if this is not enough of my code to find the error.</p>\n\n<p>PS: I need to get an input stream implemented so I can parse the csv file: </p>\n\n<pre><code>    CSVParser parser = new CSVParser();\n    String[][] data = parser.parse(in);\n</code></pre>\n"},{"tags":["java","jsonpath","json-patch"],"owner":{"account_id":15043220,"reputation":195,"user_id":10857151,"display_name":"Michael Cauduro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655386516,"creation_date":1655386516,"question_id":72646784,"body_markdown":"In java, is it possible to configure the Json patch to perform operation on collections using id object instead of position?\r\n\r\nfor example:\r\n\r\n    {\r\n       &quot;op&quot;: &quot;replace&quot;,\r\n       &quot;path&quot;: &quot;/collection/0/field&quot;,\r\n       &quot;value&quot;: test\r\n    },\r\n\r\nto:\r\n\r\n    {\r\n       &quot;op&quot;: &quot;replace&quot;,\r\n       &quot;path&quot;: &quot;/collection/id-of-object/field&quot;,\r\n       &quot;value&quot;: test\r\n    },\r\n\r\nIn this way i can avoid order problems of large ammount of data inside collections.\r\n\r\nThanks.","title":"How to use or configure Json Patch with collections and IDs in java","body":"<p>In java, is it possible to configure the Json patch to perform operation on collections using id object instead of position?</p>\n<p>for example:</p>\n<pre><code>{\n   &quot;op&quot;: &quot;replace&quot;,\n   &quot;path&quot;: &quot;/collection/0/field&quot;,\n   &quot;value&quot;: test\n},\n</code></pre>\n<p>to:</p>\n<pre><code>{\n   &quot;op&quot;: &quot;replace&quot;,\n   &quot;path&quot;: &quot;/collection/id-of-object/field&quot;,\n   &quot;value&quot;: test\n},\n</code></pre>\n<p>In this way i can avoid order problems of large ammount of data inside collections.</p>\n<p>Thanks.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","request"],"comments":[{"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"score":0,"creation_date":1648573930,"post_id":71649159,"comment_id":126657217,"body_markdown":"Any useful thoughts?","body":"Any useful thoughts?"}],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655386501,"creation_date":1655386501,"answer_id":72646777,"question_id":71649159,"body_markdown":"Absolutely you can. Your AWS Lambda function will most likely be triggered by an Amazon API Gateway. When you write your Lambda function you can specify the handler method to accept an API Gateway request and return an API Gateway response. All of these events are contained within the [aws-lambda-java-events][1] library.\r\n\r\nYour handler will look something like this:\r\n\r\n    public class ApiRequestHandler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\r\n    \r\n        @Override\r\n        public APIGatewayV2HTTPResponse handleRequest(APIGatewayV2HTTPEvent event, Context context) {\r\n     }\r\n    }\r\n\r\nWithin the [APIGatewayV2HTTPEvent object][2] is information about the request. Include the rest verb and the path. Using this you can create any routing you require.\r\n\r\n\r\n  [1]: https://github.com/aws/aws-lambda-java-libs/tree/master/aws-lambda-java-events\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html","title":"How to handle mutiple request(post, get) within a single AWS Lambda request handler class in java","body":"<p>Absolutely you can. Your AWS Lambda function will most likely be triggered by an Amazon API Gateway. When you write your Lambda function you can specify the handler method to accept an API Gateway request and return an API Gateway response. All of these events are contained within the <a href=\"https://github.com/aws/aws-lambda-java-libs/tree/master/aws-lambda-java-events\" rel=\"nofollow noreferrer\">aws-lambda-java-events</a> library.</p>\n<p>Your handler will look something like this:</p>\n<pre><code>public class ApiRequestHandler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\n\n    @Override\n    public APIGatewayV2HTTPResponse handleRequest(APIGatewayV2HTTPEvent event, Context context) {\n }\n}\n</code></pre>\n<p>Within the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html\" rel=\"nofollow noreferrer\">APIGatewayV2HTTPEvent object</a> is information about the request. Include the rest verb and the path. Using this you can create any routing you require.</p>\n"}],"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1067,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655386501,"creation_date":1648478095,"question_id":71649159,"body_markdown":"I am new to AWS. I have a scenario wherein I am supposed to write Lambda functions for different requests(POST, GET, PUT, DELETE).\r\n\r\nAs I am doing it in java, I implemented the interface &quot;RequestHandler&quot;. I need to override a method &quot;handleRequest&quot;. \r\n\r\nMy question is: Is it possible to write a single java class with different functions to handle different requests(POST, GETC, etc) because there is only one &quot;handleRequest&quot;? I tried with a different randomly named method &quot;handleReques&quot;(removed t to test) to test but that didn&#39;t work and I got an exception on AWS console\r\n\r\n    {\r\n      &quot;errorMessage&quot;: &quot;No public method named handleReques with appropriate method signature found on class\r\n\r\nIf possible can someone share how?\r\n\r\nOr do I need to write different classes for different request types?\r\n\r\nThanks in advance","title":"How to handle mutiple request(post, get) within a single AWS Lambda request handler class in java","body":"<p>I am new to AWS. I have a scenario wherein I am supposed to write Lambda functions for different requests(POST, GET, PUT, DELETE).</p>\n<p>As I am doing it in java, I implemented the interface &quot;RequestHandler&quot;. I need to override a method &quot;handleRequest&quot;.</p>\n<p>My question is: Is it possible to write a single java class with different functions to handle different requests(POST, GETC, etc) because there is only one &quot;handleRequest&quot;? I tried with a different randomly named method &quot;handleReques&quot;(removed t to test) to test but that didn't work and I got an exception on AWS console</p>\n<pre><code>{\n  &quot;errorMessage&quot;: &quot;No public method named handleReques with appropriate method signature found on class\n</code></pre>\n<p>If possible can someone share how?</p>\n<p>Or do I need to write different classes for different request types?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","debugging","apache-camel","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":1320020,"reputation":744,"user_id":1266038,"display_name":"Aur&#233;lien Pupier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655386327,"creation_date":1655386327,"answer_id":72646730,"question_id":72633546,"body_markdown":"You do not need to provide a port. The debugger is attaching directly to the application using its pid. You need to be sure that the camel-debug dependency is added. I recommened to add it through a profile like shown here https://github.com/apache/camel-examples/blob/d1e5022bb1b43565903359aefaf91bcf23fc9c78/examples/main/pom.xml#L105-L120\r\n\r\nPlease note that you need a recent version of Camel (3.16 I think)\r\n","title":"Where the Camel Application is started?","body":"<p>You do not need to provide a port. The debugger is attaching directly to the application using its pid. You need to be sure that the camel-debug dependency is added. I recommened to add it through a profile like shown here <a href=\"https://github.com/apache/camel-examples/blob/d1e5022bb1b43565903359aefaf91bcf23fc9c78/examples/main/pom.xml#L105-L120\" rel=\"nofollow noreferrer\">https://github.com/apache/camel-examples/blob/d1e5022bb1b43565903359aefaf91bcf23fc9c78/examples/main/pom.xml#L105-L120</a></p>\n<p>Please note that you need a recent version of Camel (3.16 I think)</p>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72646730,"answer_count":1,"score":0,"last_activity_date":1655386327,"creation_date":1655304730,"question_id":72633546,"body_markdown":"I have installed [Camel plugin for IntelliJ][1].\r\n\r\nTo start debugging, we must create an ad-hoc application\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow do you know exactly at what port application is locally loaded? How can I change it? I have found no configurations about...\r\n\r\n  [1]: https://github.com/camel-tooling/camel-idea-plugin\r\n  [2]: https://i.stack.imgur.com/ZpxWg.png","title":"Where the Camel Application is started?","body":"<p>I have installed <a href=\"https://github.com/camel-tooling/camel-idea-plugin\" rel=\"nofollow noreferrer\">Camel plugin for IntelliJ</a>.</p>\n<p>To start debugging, we must create an ad-hoc application</p>\n<p><a href=\"https://i.stack.imgur.com/ZpxWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZpxWg.png\" alt=\"enter image description here\" /></a></p>\n<p>How do you know exactly at what port application is locally loaded? How can I change it? I have found no configurations about...</p>\n"},{"tags":["java","android","maven","gradle"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655371332,"post_id":72643410,"comment_id":128318607,"body_markdown":"You need to specify `mavenCentralUsername` &amp; `mavenCentralPassword` but you have `ossrhUsername` &amp; `ossrhPassword` in your `gradle.properties` (old guide?).","body":"You need to specify <code>mavenCentralUsername</code> &amp; <code>mavenCentralPassword</code> but you have <code>ossrhUsername</code> &amp; <code>ossrhPassword</code> in your <code>gradle.properties</code> (old guide?)."},{"owner":{"account_id":14374033,"reputation":230,"user_id":10382935,"display_name":"Tarun Yadvendu"},"score":0,"creation_date":1655372516,"post_id":72643410,"comment_id":128319039,"body_markdown":"Thanks @akarnokd i have uploaded it, a question will my username and password will be visible to others if i upload it like this, is there any way to hide it?","body":"Thanks @akarnokd i have uploaded it, a question will my username and password will be visible to others if i upload it like this, is there any way to hide it?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655372664,"post_id":72643410,"comment_id":128319092,"body_markdown":"Just don&#39;t put those into files you upload to your GitHub repo. There can be a `~/.gradle/gradle.properties` on your local filesystem where it is safe to store such passwords.","body":"Just don&#39;t put those into files you upload to your GitHub repo. There can be a <code>~&#47;.gradle&#47;gradle.properties</code> on your local filesystem where it is safe to store such passwords."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655372888,"post_id":72643410,"comment_id":128319172,"body_markdown":"To be clear, you shouldn&#39;t upload `signing.password` either.","body":"To be clear, you shouldn&#39;t upload <code>signing.password</code> either."},{"owner":{"account_id":14374033,"reputation":230,"user_id":10382935,"display_name":"Tarun Yadvendu"},"score":0,"creation_date":1655373318,"post_id":72643410,"comment_id":128319325,"body_markdown":"isn&#39;t it needed for signing?","body":"isn&#39;t it needed for signing?"},{"owner":{"account_id":14374033,"reputation":230,"user_id":10382935,"display_name":"Tarun Yadvendu"},"score":0,"creation_date":1655373426,"post_id":72643410,"comment_id":128319357,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/245659/discussion-between-tarun-yadvendu-and-akarnokd).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/245659/discussion-between-tarun-yadvendu-and-akarnokd\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":14374033,"reputation":230,"user_id":10382935,"display_name":"Tarun Yadvendu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655381624,"creation_date":1655381624,"answer_id":72645672,"question_id":72643410,"body_markdown":"After [akarnokd][1] help i was able to upload my library to Maven Central.\r\nStep i have taken to resolve this issue:\r\n1. First i have renamed the properties in project root =&gt; gradle.properties\r\n\r\nossrhUsername=[my username]  ==&gt; mavenCentralUsername\r\nossrhPassword=[my password]  ==&gt; mavenCentralPassword\r\n\r\n2. Now the above information is available to everyone, as we have just mention our username and password in a gradle file which will be uploaded with the code. so to prevent that, [akarnokd][1] suggested me to create a new gradle.properties file in C:/users/darkprnce/.gradle/gradle.properties and place the below information in that file : \r\n```\r\nmavenCentralUsername=[my username]\r\nmavenCentralPassword=[my password]\r\n\r\nsigning.keyId=[last 8 digit of your key]\r\nsigning.password=[signing password]\r\nsigning.secretKeyRingFile=secring.gpg\r\n\r\n```\r\n3. we can remove publishing from library build.gradle file as it is already included in library.\r\n\r\n4. run command \r\n```\r\n./gradlew publish --no-daemon --no-parallel\r\n```\r\nIt will upload the library to Maven Central, then you can close the repository and release it. \r\n\r\n  [1]: https://stackoverflow.com/users/61158/akarnokd","title":"How to publish Android Library to Maven Central Gradle 7.2.0","body":"<p>After <a href=\"https://stackoverflow.com/users/61158/akarnokd\">akarnokd</a> help i was able to upload my library to Maven Central.\nStep i have taken to resolve this issue:</p>\n<ol>\n<li>First i have renamed the properties in project root =&gt; gradle.properties</li>\n</ol>\n<p>ossrhUsername=[my username]  ==&gt; mavenCentralUsername\nossrhPassword=[my password]  ==&gt; mavenCentralPassword</p>\n<ol start=\"2\">\n<li>Now the above information is available to everyone, as we have just mention our username and password in a gradle file which will be uploaded with the code. so to prevent that, <a href=\"https://stackoverflow.com/users/61158/akarnokd\">akarnokd</a> suggested me to create a new gradle.properties file in C:/users/darkprnce/.gradle/gradle.properties and place the below information in that file :</li>\n</ol>\n<pre><code>mavenCentralUsername=[my username]\nmavenCentralPassword=[my password]\n\nsigning.keyId=[last 8 digit of your key]\nsigning.password=[signing password]\nsigning.secretKeyRingFile=secring.gpg\n\n</code></pre>\n<ol start=\"3\">\n<li><p>we can remove publishing from library build.gradle file as it is already included in library.</p>\n</li>\n<li><p>run command</p>\n</li>\n</ol>\n<pre><code>./gradlew publish --no-daemon --no-parallel\n</code></pre>\n<p>It will upload the library to Maven Central, then you can close the repository and release it.</p>\n"}],"owner":{"account_id":14374033,"reputation":230,"user_id":10382935,"display_name":"Tarun Yadvendu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72645672,"answer_count":1,"score":3,"last_activity_date":1655386260,"creation_date":1655371085,"question_id":72643410,"body_markdown":"I am trying to upload my first android library to Maven Central, but there is no proper documentation for Gradle 7.2.0 after some research I found some links but they are outdated too.\r\n\r\nThings I have done till now:\r\n- registered on jira\r\n- approved my project on it and got access to nexus repository manager\r\n- generated gpg key\r\n\r\nnow comes configuring the gradle file:\r\nso i have followed this library = https://github.com/vanniktech/gradle-maven-publish-plugin\r\n\r\n1. in project root build.gradle file i have mentioned \r\n ```\r\n     buildscript {\r\n         dependencies {\r\n              classpath &#39;com.vanniktech:gradle-maven-publish-plugin:0.20.0&#39; // NEW\r\n              classpath &#39;org.jetbrains.dokka:dokka-gradle-plugin:1.4.10.2&#39; // NEW\r\n            }\r\n        }\r\n```\r\n2. in library build.gradle i have added this plugin\r\n```\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n        id &#39;com.vanniktech.maven.publish&#39; // NEW\r\n    }\r\n```\r\n\r\n3. in project root gradle.properties i have written this\r\n```\r\nSONATYPE_HOST=S01\r\nRELEASE_SIGNING_ENABLED=true\r\n\r\nGROUP=io.github.Darkprnce\r\nPOM_ARTIFACT_ID=InnerDrawer\r\nVERSION_NAME=1.0.0\r\n\r\nPOM_NAME=InnerDrawer\r\nPOM_PACKAGING=aar\r\n\r\nPOM_DESCRIPTION=Inner Drawer is a highly customizable navigation drawer.\r\nPOM_INCEPTION_YEAR=2022\r\n\r\nPOM_URL=https://github.com/Darkprnce/InnerDrawer\r\nPOM_SCM_URL=https://github.com/Darkprnce/InnerDrawer\r\nPOM_SCM_CONNECTION=scm:git@github.com:Darkprnce/InnerDrawer.git\r\nPOM_SCM_DEV_CONNECTION=scm:git@github.com:Darkprnce/InnerDrawer.git\r\n\r\nPOM_LICENCE_NAME=MIT License\r\nPOM_LICENCE_URL=http://www.opensource.org/licenses/mit-license.php\r\nPOM_LICENCE_DIST=repo\r\n\r\nPOM_DEVELOPER_ID=Darkprnce\r\nPOM_DEVELOPER_NAME=Tarun Yadvendu\r\nPOM_DEVELOPER_URL=https://github.com/Darkprnce\r\n\r\n\r\nsigning.keyId=FCF8EDCA\r\nsigning.password=[my signing password]\r\nsigning.secretKeyRingFile=secret-keys.gpg\r\nossrhUsername=[my username]\r\nossrhPassword=[my password]\r\n```\r\n4. then again in library build.gradle i have mentioned publishing code\r\n```   \r\n publishing {\r\n        repositories {\r\n           maven {\r\n              url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2&quot;\r\n              credentials {\r\n                  username = ossrhUsername\r\n                  password = ossrhPassword\r\n               }\r\n              }\r\n             }\r\n            }\r\n```\r\n\r\nnow comes the issue when i run this command in terminal it gives wrong credentials error\r\n```\r\n* What went wrong:\r\nCredentials required for this build could not be resolved.\r\n&gt; The following Gradle properties are missing for &#39;mavenCentral&#39; credentials:\r\n    - mavenCentralUsername\r\n    - mavenCentralPassword\r\n```\r\n\r\nso if anyone has used this library then help me in this, library is well maintained so no issues in that i only want to know the right way to upload.","title":"How to publish Android Library to Maven Central Gradle 7.2.0","body":"<p>I am trying to upload my first android library to Maven Central, but there is no proper documentation for Gradle 7.2.0 after some research I found some links but they are outdated too.</p>\n<p>Things I have done till now:</p>\n<ul>\n<li>registered on jira</li>\n<li>approved my project on it and got access to nexus repository manager</li>\n<li>generated gpg key</li>\n</ul>\n<p>now comes configuring the gradle file:\nso i have followed this library = <a href=\"https://github.com/vanniktech/gradle-maven-publish-plugin\" rel=\"nofollow noreferrer\">https://github.com/vanniktech/gradle-maven-publish-plugin</a></p>\n<ol>\n<li>in project root build.gradle file i have mentioned</li>\n</ol>\n<pre><code>    buildscript {\n        dependencies {\n             classpath 'com.vanniktech:gradle-maven-publish-plugin:0.20.0' // NEW\n             classpath 'org.jetbrains.dokka:dokka-gradle-plugin:1.4.10.2' // NEW\n           }\n       }\n</code></pre>\n<ol start=\"2\">\n<li>in library build.gradle i have added this plugin</li>\n</ol>\n<pre><code>    plugins {\n        id 'com.android.library'\n        id 'org.jetbrains.kotlin.android'\n        id 'com.vanniktech.maven.publish' // NEW\n    }\n</code></pre>\n<ol start=\"3\">\n<li>in project root gradle.properties i have written this</li>\n</ol>\n<pre><code>SONATYPE_HOST=S01\nRELEASE_SIGNING_ENABLED=true\n\nGROUP=io.github.Darkprnce\nPOM_ARTIFACT_ID=InnerDrawer\nVERSION_NAME=1.0.0\n\nPOM_NAME=InnerDrawer\nPOM_PACKAGING=aar\n\nPOM_DESCRIPTION=Inner Drawer is a highly customizable navigation drawer.\nPOM_INCEPTION_YEAR=2022\n\nPOM_URL=https://github.com/Darkprnce/InnerDrawer\nPOM_SCM_URL=https://github.com/Darkprnce/InnerDrawer\nPOM_SCM_CONNECTION=scm:git@github.com:Darkprnce/InnerDrawer.git\nPOM_SCM_DEV_CONNECTION=scm:git@github.com:Darkprnce/InnerDrawer.git\n\nPOM_LICENCE_NAME=MIT License\nPOM_LICENCE_URL=http://www.opensource.org/licenses/mit-license.php\nPOM_LICENCE_DIST=repo\n\nPOM_DEVELOPER_ID=Darkprnce\nPOM_DEVELOPER_NAME=Tarun Yadvendu\nPOM_DEVELOPER_URL=https://github.com/Darkprnce\n\n\nsigning.keyId=FCF8EDCA\nsigning.password=[my signing password]\nsigning.secretKeyRingFile=secret-keys.gpg\nossrhUsername=[my username]\nossrhPassword=[my password]\n</code></pre>\n<ol start=\"4\">\n<li>then again in library build.gradle i have mentioned publishing code</li>\n</ol>\n<pre><code> publishing {\n        repositories {\n           maven {\n              url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2&quot;\n              credentials {\n                  username = ossrhUsername\n                  password = ossrhPassword\n               }\n              }\n             }\n            }\n</code></pre>\n<p>now comes the issue when i run this command in terminal it gives wrong credentials error</p>\n<pre><code>* What went wrong:\nCredentials required for this build could not be resolved.\n&gt; The following Gradle properties are missing for 'mavenCentral' credentials:\n    - mavenCentralUsername\n    - mavenCentralPassword\n</code></pre>\n<p>so if anyone has used this library then help me in this, library is well maintained so no issues in that i only want to know the right way to upload.</p>\n"},{"tags":["java","smtp","gmail"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1655385951,"post_id":72645540,"comment_id":128323641,"body_markdown":"Pleased edit your question and include [example]","body":"Pleased edit your question and include <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655386054,"creation_date":1655386054,"answer_id":72646675,"question_id":72645540,"body_markdown":"Google removed the option for less secure apps.\r\n\r\n&gt;To help keep your account secure, from May 30, 2022, ​​Google no longer supports the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password.\r\n\r\nIn order to authencate to the smtp server now you need to use an [apps password][1] in replace for the users actual password.\r\n\r\n    final String username = &quot;username@gmail.com&quot;;\r\n            final String password = &quot;appspassword&quot;;\r\n    \r\n            Properties prop = new Properties();\r\n    \t\tprop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); //TLS\r\n\r\n\r\nanother option would be to use xoauth2\r\n\r\n  [1]: https://support.google.com/accounts/answer/185833?hl=en","title":"How to fix javax.mail.SendFailedException: Sending failed Authentication failed exception in Java 7?","body":"<p>Google removed the option for less secure apps.</p>\n<blockquote>\n<p>To help keep your account secure, from May 30, 2022, ​​Google no longer supports the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password.</p>\n</blockquote>\n<p>In order to authencate to the smtp server now you need to use an <a href=\"https://support.google.com/accounts/answer/185833?hl=en\" rel=\"nofollow noreferrer\">apps password</a> in replace for the users actual password.</p>\n<pre><code>final String username = &quot;username@gmail.com&quot;;\n        final String password = &quot;appspassword&quot;;\n\n        Properties prop = new Properties();\n        prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); //TLS\n</code></pre>\n<p>another option would be to use xoauth2</p>\n"}],"owner":{"account_id":22588722,"reputation":91,"user_id":16772190,"display_name":"Rakhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655390443,"answer_count":1,"score":0,"last_activity_date":1655386054,"creation_date":1655381131,"question_id":72645540,"body_markdown":"I am getting javax.mail.SendFailedException: Sending failed;\r\n\r\n    nested exception is:\r\n            class javax.mail.AuthenticationFailedException\r\n            at javax.mail.Transport.send0(Transport.java:218)\r\n            at javax.mail.Transport.send(Transport.java:80)\r\n            at com.wings.util.SendEmail.sendMail(SendEmail.java:81)\r\n\r\nThe application is built on Java 7. I tried another way after researching like somewhere written turned on allow less secure app. So I tried to search this option in GMail setting. Google has by default removed this feature recently. So I tried creating app password also. I used that password in my code. I don&#39;t know why I am getting this exception again.\r\n\r\n    javax.mail.SendFailedException: Sending failed;\r\n      nested exception is:\r\n            class javax.mail.AuthenticationFailedException\r\n            at javax.mail.Transport.send0(Transport.java:218)\r\n            at javax.mail.Transport.send(Transport.java:80)\r\n            at com.wings.util.SendEmail.sendMail(SendEmail.java:81)\r\n            at org.apache.jsp.sendContact_jsp._jspService(sendContact_jsp.java:131)\r\n            at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n            at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:476)\r\n            at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\r\n            at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:622)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Error when sending Msg :: Sending failed;\r\n      nested exception is:\r\n            class javax.mail.AuthenticationFailedException\r\n\r\n","title":"How to fix javax.mail.SendFailedException: Sending failed Authentication failed exception in Java 7?","body":"<p>I am getting javax.mail.SendFailedException: Sending failed;</p>\n<pre><code>nested exception is:\n        class javax.mail.AuthenticationFailedException\n        at javax.mail.Transport.send0(Transport.java:218)\n        at javax.mail.Transport.send(Transport.java:80)\n        at com.wings.util.SendEmail.sendMail(SendEmail.java:81)\n</code></pre>\n<p>The application is built on Java 7. I tried another way after researching like somewhere written turned on allow less secure app. So I tried to search this option in GMail setting. Google has by default removed this feature recently. So I tried creating app password also. I used that password in my code. I don't know why I am getting this exception again.</p>\n<pre><code>javax.mail.SendFailedException: Sending failed;\n  nested exception is:\n        class javax.mail.AuthenticationFailedException\n        at javax.mail.Transport.send0(Transport.java:218)\n        at javax.mail.Transport.send(Transport.java:80)\n        at com.wings.util.SendEmail.sendMail(SendEmail.java:81)\n        at org.apache.jsp.sendContact_jsp._jspService(sendContact_jsp.java:131)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:476)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:622)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\nError when sending Msg :: Sending failed;\n  nested exception is:\n        class javax.mail.AuthenticationFailedException\n</code></pre>\n"},{"tags":["java","r","hadoop","jdbc","hive"],"comments":[{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1453157958,"post_id":34861844,"comment_id":57470540,"body_markdown":"Actually the URL could get as complicated as `jdbc:hive2://&lt;host&gt;:&lt;port&gt;/&lt;db&gt;;principal=hive/_HOST@&lt;REALM&gt;;ssl=true;sslTrustStore=&lt;trust_store_path&gt;;trustStorePassword=&lt;trust_store_password&gt;;transportMode=http;httpPath=&lt;http_endpoint&gt;` with Kerberos authentication and HTTPS transport with dummy SSL certificates. And even worse when throwing High Availability based on ZooKeeper quorum (that&#39;s not a joke, we have all these in Prod...)","body":"Actually the URL could get as complicated as <code>jdbc:hive2:&#47;&#47;&lt;host&gt;:&lt;port&gt;&#47;&lt;db&gt;;principal=hive&#47;_HOST@&lt;REALM&gt;&zwnj;&#8203;;ssl=true;sslTrustSt&zwnj;&#8203;ore=&lt;trust_store_pat&zwnj;&#8203;h&gt;;trustStorePasswor&zwnj;&#8203;d=&lt;trust_store_passw&zwnj;&#8203;ord&gt;;transportMode=h&zwnj;&#8203;ttp;httpPath=&lt;http_e&zwnj;&#8203;ndpoint&gt;</code> with Kerberos authentication and HTTPS transport with dummy SSL certificates. And even worse when throwing High Availability based on ZooKeeper quorum (that&#39;s not a joke, we have all these in Prod...)"},{"owner":{"account_id":4713209,"reputation":7874,"user_id":3857701,"accept_rate":82,"display_name":"Marcin"},"score":0,"creation_date":1453201861,"post_id":34861844,"comment_id":57488340,"body_markdown":"I get it @SamsonScharfrichter :) . That&#39;s quite interesting. But what is the solution to my question? How can I pass those params?","body":"I get it @SamsonScharfrichter :) . That&#39;s quite interesting. But what is the solution to my question? How can I pass those params?"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1453249093,"post_id":34861844,"comment_id":57517120,"body_markdown":"I&#39;ve no idea if, and how, you can pass all these URL options/parameters as JDBC parameters. The SSL options are actually used by the driver so they probably have to be set on the URL; the database can be changed dynamically at any time using a *statement* (i.e. `use MY_DB`); for the rest... did you try to connect with DBVisualizer or a similar tool, then check the list of JDBC params and their default values?","body":"I&#39;ve no idea if, and how, you can pass all these URL options/parameters as JDBC parameters. The SSL options are actually used by the driver so they probably have to be set on the URL; the database can be changed dynamically at any time using a <i>statement</i> (i.e. <code>use MY_DB</code>); for the rest... did you try to connect with DBVisualizer or a similar tool, then check the list of JDBC params and their default values?"},{"owner":{"account_id":4713209,"reputation":7874,"user_id":3857701,"accept_rate":82,"display_name":"Marcin"},"score":0,"creation_date":1453293081,"post_id":34861844,"comment_id":57536521,"body_markdown":"I don&#39;t think you pass it as `JDBC` parameters, but as `dbConnect` parameters on `JDBCDriver` . I haven&#39;t heard about DBVisualizer, but I&#39;ll google it out :)","body":"I don&#39;t think you pass it as <code>JDBC</code> parameters, but as <code>dbConnect</code> parameters on <code>JDBCDriver</code> . I haven&#39;t heard about DBVisualizer, but I&#39;ll google it out :)"},{"owner":{"account_id":4713209,"reputation":7874,"user_id":3857701,"accept_rate":82,"display_name":"Marcin"},"score":0,"creation_date":1453298118,"post_id":34861844,"comment_id":57539905,"body_markdown":"@SamsonScharfrichter I&#39;ve found a list for supported drivers https://www.dbvis.com/doc/database-drivers/ - do you think the H2 driver correspond to the HiveDriver/HiveServer2?","body":"@SamsonScharfrichter I&#39;ve found a list for supported drivers <a href=\"https://www.dbvis.com/doc/database-drivers/\" rel=\"nofollow noreferrer\">dbvis.com/doc/database-drivers</a> - do you think the H2 driver correspond to the HiveDriver/HiveServer2?"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1453299272,"post_id":34861844,"comment_id":57540765,"body_markdown":"By the way I just checked on my PC and... there are no pre-defined Database Properties for Hive. Sorry, that won&#39;t help :-(","body":"By the way I just checked on my PC and... there are no pre-defined Database Properties for Hive. Sorry, that won&#39;t help :-("},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1453299358,"post_id":34861844,"comment_id":57540830,"body_markdown":"*[Edit]* Nope. H2 is a fork from HypersonicSQL (HSQL). DBVis has no predefined settings for &quot;Hive&quot; and they don&#39;t provide a driver *(too many differences between versions and distros)*; you must drop the JARs on your PC and use [Tools][Driver Manager] menu to bind them to a custom &quot;Hive&quot; entry. Then you can create a Connection based on that driver (using &quot;Database URL&quot; settings).","body":"<i><a href=\"https://stackoverflow.com/posts/34861844/edit\">Edit</a></i> Nope. H2 is a fork from HypersonicSQL (HSQL). DBVis has no predefined settings for &quot;Hive&quot; and they don&#39;t provide a driver <i>(too many differences between versions and distros)</i>; you must drop the JARs on your PC and use [Tools][Driver Manager] menu to bind them to a custom &quot;Hive&quot; entry. Then you can create a Connection based on that driver (using &quot;Database URL&quot; settings)."},{"owner":{"account_id":4713209,"reputation":7874,"user_id":3857701,"accept_rate":82,"display_name":"Marcin"},"score":0,"creation_date":1453299700,"post_id":34861844,"comment_id":57541071,"body_markdown":"How have you checked that `... there are no pre-defined Database Properties for Hive` ? And you mean in HypersonicSQL or dbConnect / JDBC ?","body":"How have you checked that <code>... there are no pre-defined Database Properties for Hive</code> ? And you mean in HypersonicSQL or dbConnect / JDBC ?"},{"owner":{"account_id":4713209,"reputation":7874,"user_id":3857701,"accept_rate":82,"display_name":"Marcin"},"score":0,"creation_date":1453302233,"post_id":34861844,"comment_id":57542954,"body_markdown":"But there was a link to setting with hiveser2: https://github.com/cyanfr/dbvis_to_hortonworks_hiveserver2/wiki/How-I-Connected-DBVisualizer-9.2.2-on-Windows-to-Hortonwork-HiveServer2","body":"But there was a link to setting with hiveser2: <a href=\"https://github.com/cyanfr/dbvis_to_hortonworks_hiveserver2/wiki/How-I-Connected-DBVisualizer-9.2.2-on-Windows-to-Hortonwork-HiveServer2\" rel=\"nofollow noreferrer\">github.com/cyanfr/dbvis_to_hortonworks_hiveserver2/wiki/&hellip;</a>"},{"owner":{"account_id":3118441,"reputation":641,"user_id":2638724,"display_name":"roger"},"score":0,"creation_date":1453358770,"post_id":34861844,"comment_id":57568632,"body_markdown":"In DbVisualizer 9.2.10 there were some Hive specific fixes and improvements (https://www.dbvis.com/doc/relnotes/?version=9.2.10). Please note that Hive is still not an officially supported database in DbVisualizer .","body":"In DbVisualizer 9.2.10 there were some Hive specific fixes and improvements (<a href=\"https://www.dbvis.com/doc/relnotes/?version=9.2.10\" rel=\"nofollow noreferrer\">dbvis.com/doc/relnotes/?version=9.2.10</a>). Please note that Hive is still not an officially supported database in DbVisualizer ."},{"owner":{"account_id":19475973,"reputation":1,"user_id":14247361,"display_name":"Lychenus"},"score":0,"creation_date":1655385886,"post_id":34861844,"comment_id":128323625,"body_markdown":"try to use RJDBC. works for me. https://stackoverflow.com/questions/20059378/postgres-db-cant-connect-to-r-with-rjdbc","body":"try to use RJDBC. works for me. <a href=\"https://stackoverflow.com/questions/20059378/postgres-db-cant-connect-to-r-with-rjdbc\" title=\"postgres db cant connect to r with rjdbc\">stackoverflow.com/questions/20059378/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4713209,"reputation":7874,"user_id":3857701,"accept_rate":82,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1453555036,"creation_date":1453555036,"answer_id":34963922,"question_id":34861844,"body_markdown":"According to the author&#39;s answer: https://github.com/s-u/RJDBC/issues/31#issuecomment-173934951\r\n\r\n&gt; Simply anything - all that dbConnect does is to collect whatever you\r\n&gt; pass (including ...) and collect it all into a property dictionary\r\n&gt; (java.util.Properties) that is passed to the driver&#39;s connect()\r\n&gt; method. So any named argument you pass is included. So the only\r\n&gt; special argument is url which is passed directly, everything else is\r\n&gt; included in the properties. How that gets interpreted is out of\r\n&gt; RJDBC&#39;s hands - it&#39;s entirely up to the driver.","title":"Passing additional parameters to dbConnect function for JDBCDriver in R","body":"<p>According to the author's answer: <a href=\"https://github.com/s-u/RJDBC/issues/31#issuecomment-173934951\" rel=\"nofollow\">https://github.com/s-u/RJDBC/issues/31#issuecomment-173934951</a></p>\n\n<blockquote>\n  <p>Simply anything - all that dbConnect does is to collect whatever you\n  pass (including ...) and collect it all into a property dictionary\n  (java.util.Properties) that is passed to the driver's connect()\n  method. So any named argument you pass is included. So the only\n  special argument is url which is passed directly, everything else is\n  included in the properties. How that gets interpreted is out of\n  RJDBC's hands - it's entirely up to the driver.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19475973,"reputation":1,"user_id":14247361,"display_name":"Lychenus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655386039,"creation_date":1655385993,"answer_id":72646658,"question_id":34861844,"body_markdown":"there you can use the full url\r\n\r\n    library(RJDBC)\r\n    drv &lt;- JDBC(&quot;org.postgresql.Driver&quot;,&quot;C:/R/postgresql-9.4.1211.jar&quot;)\r\n    con &lt;- dbConnect(drv, url=&quot;jdbc:postgresql://host:port/dbname&quot;, user=&quot;&lt;user name&gt;&quot;, password=&quot;&lt;password&gt;&quot;)","title":"Passing additional parameters to dbConnect function for JDBCDriver in R","body":"<p>there you can use the full url</p>\n<pre><code>library(RJDBC)\ndrv &lt;- JDBC(&quot;org.postgresql.Driver&quot;,&quot;C:/R/postgresql-9.4.1211.jar&quot;)\ncon &lt;- dbConnect(drv, url=&quot;jdbc:postgresql://host:port/dbname&quot;, user=&quot;&lt;user name&gt;&quot;, password=&quot;&lt;password&gt;&quot;)\n</code></pre>\n"}],"owner":{"account_id":4713209,"reputation":7874,"user_id":3857701,"accept_rate":82,"display_name":"Marcin"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":34963922,"answer_count":2,"score":8,"last_activity_date":1655386039,"creation_date":1453142670,"question_id":34861844,"body_markdown":"I am trying to connect to `HiveServer2` via `JDBC` drivers from `R` using `RJDBC` package. I have seen a broad explanation on passing additional arguments to `dbConnect` wrapper for various `drivers`(https://stackoverflow.com/questions/26119142/what-arguments-can-i-pass-to-dbconnect), but there appear that situation with `JDBCDriver` is a bit tricker than for other drivers. I can connect to `HiveServer2` under this specific URL adress `url = paste0(&quot;jdbc:hive2://&quot;, host = &#39;tools-1.hadoop.srv&#39;, &quot;:&quot;, port = 10000, &quot;/loghost;auth=noSasl&quot;)` . The correspoding code works and enables me to write statements on `Hive` from `R` \r\n\r\n\r\n    library(RJDBC)\r\n    dbConnect(drv = JDBC(driverClass = &quot;org.apache.hive.jdbc.HiveDriver&quot;,\r\n                         classPath = c(&quot;/opt/hive/lib/hive-jdbc-1.0.0-standalone.jar&quot;,\r\n                                       &quot;/usr/share/hadoop/share/hadoop/common/lib/commons-configuration-1.6.jar&quot;,\r\n                                       &quot;/usr/share/hadoop/share/hadoop/common/hadoop-common-2.4.1.jar&quot;),\r\n                         identifier.quote = &quot;`&quot;), # to juz niekoniecznie jest potrzebne\r\n              url = paste0(&quot;jdbc:hive2://&quot;, host = &#39;tools-1.hadoop.srv&#39;, &quot;:&quot;, port = 10000, &quot;/loghost;auth=noSasl&quot;),\r\n              username = &quot;mkosinski&quot;) -&gt; conn\r\n\r\n\r\nI am wondering if there is a way to pass arguments such as database name (`loghost`) or a no_authentication_mode (`auth=noSasl`) to `...` in `dbConnect` such that I could only specify standard URL address (`url = paste0(&quot;jdbc:hive2://&quot;, host = &#39;tools-1.hadoop.srv&#39;, &quot;:&quot;, port = 10000)`) and somehow pass  the rest of parametrs like this\r\n\r\n\r\n\r\n    library(RJDBC)\r\n    dbConnect(drv = JDBC(driverClass = &quot;org.apache.hive.jdbc.HiveDriver&quot;,\r\n                         classPath = c(&quot;/opt/hive/lib/hive-jdbc-1.0.0-standalone.jar&quot;,\r\n                                       &quot;/usr/share/hadoop/share/hadoop/common/lib/commons-configuration-1.6.jar&quot;,\r\n                                       &quot;/usr/share/hadoop/share/hadoop/common/hadoop-common-2.4.1.jar&quot;),\r\n                         identifier.quote = &quot;`&quot;), # to juz niekoniecznie jest potrzebne\r\n              url = paste0(&quot;jdbc:hive2://&quot;, host = &#39;tools-1.hadoop.srv&#39;, &quot;:&quot;, port = 10000),\r\n              username = &quot;mkosinski&quot;, dbname = &quot;loghost&quot;, auth = &quot;noSasl&quot;) -&gt; conn\r\n\r\n\r\nBut the second approach doesn&#39;t look to work, despite the various combinations of names and values of additional arguments I try.\r\n\r\n**Does anyone know how to pass additional arguments to DBI::dbConnect through `...` parameter for `JDBCDriver`?**","title":"Passing additional parameters to dbConnect function for JDBCDriver in R","body":"<p>I am trying to connect to <code>HiveServer2</code> via <code>JDBC</code> drivers from <code>R</code> using <code>RJDBC</code> package. I have seen a broad explanation on passing additional arguments to <code>dbConnect</code> wrapper for various <code>drivers</code>(<a href=\"https://stackoverflow.com/questions/26119142/what-arguments-can-i-pass-to-dbconnect\">What arguments can I pass to dbConnect?</a>), but there appear that situation with <code>JDBCDriver</code> is a bit tricker than for other drivers. I can connect to <code>HiveServer2</code> under this specific URL adress <code>url = paste0(\"jdbc:hive2://\", host = 'tools-1.hadoop.srv', \":\", port = 10000, \"/loghost;auth=noSasl\")</code> . The correspoding code works and enables me to write statements on <code>Hive</code> from <code>R</code> </p>\n\n<pre><code>library(RJDBC)\ndbConnect(drv = JDBC(driverClass = \"org.apache.hive.jdbc.HiveDriver\",\n                     classPath = c(\"/opt/hive/lib/hive-jdbc-1.0.0-standalone.jar\",\n                                   \"/usr/share/hadoop/share/hadoop/common/lib/commons-configuration-1.6.jar\",\n                                   \"/usr/share/hadoop/share/hadoop/common/hadoop-common-2.4.1.jar\"),\n                     identifier.quote = \"`\"), # to juz niekoniecznie jest potrzebne\n          url = paste0(\"jdbc:hive2://\", host = 'tools-1.hadoop.srv', \":\", port = 10000, \"/loghost;auth=noSasl\"),\n          username = \"mkosinski\") -&gt; conn\n</code></pre>\n\n<p>I am wondering if there is a way to pass arguments such as database name (<code>loghost</code>) or a no_authentication_mode (<code>auth=noSasl</code>) to <code>...</code> in <code>dbConnect</code> such that I could only specify standard URL address (<code>url = paste0(\"jdbc:hive2://\", host = 'tools-1.hadoop.srv', \":\", port = 10000)</code>) and somehow pass  the rest of parametrs like this</p>\n\n<pre><code>library(RJDBC)\ndbConnect(drv = JDBC(driverClass = \"org.apache.hive.jdbc.HiveDriver\",\n                     classPath = c(\"/opt/hive/lib/hive-jdbc-1.0.0-standalone.jar\",\n                                   \"/usr/share/hadoop/share/hadoop/common/lib/commons-configuration-1.6.jar\",\n                                   \"/usr/share/hadoop/share/hadoop/common/hadoop-common-2.4.1.jar\"),\n                     identifier.quote = \"`\"), # to juz niekoniecznie jest potrzebne\n          url = paste0(\"jdbc:hive2://\", host = 'tools-1.hadoop.srv', \":\", port = 10000),\n          username = \"mkosinski\", dbname = \"loghost\", auth = \"noSasl\") -&gt; conn\n</code></pre>\n\n<p>But the second approach doesn't look to work, despite the various combinations of names and values of additional arguments I try.</p>\n\n<p><strong>Does anyone know how to pass additional arguments to DBI::dbConnect through <code>...</code> parameter for <code>JDBCDriver</code>?</strong></p>\n"},{"tags":["java","amazon-web-services","aws-lambda","jar"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1648131165,"post_id":71604063,"comment_id":126550720,"body_markdown":"If you cannot reduce the size: use docker images https://hub.docker.com/r/amazon/aws-lambda-java","body":"If you cannot reduce the size: use docker images <a href=\"https://hub.docker.com/r/amazon/aws-lambda-java\" rel=\"nofollow noreferrer\">hub.docker.com/r/amazon/aws-lambda-java</a>"},{"owner":{"account_id":21447325,"reputation":33,"user_id":15800558,"display_name":"Sarimm Chaudhry"},"score":0,"creation_date":1648131351,"post_id":71604063,"comment_id":126550810,"body_markdown":"ok i can try, but aws should still be able to access all the libraries and inline code right?","body":"ok i can try, but aws should still be able to access all the libraries and inline code right?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1648131380,"post_id":71604063,"comment_id":126550825,"body_markdown":"You mean in the lambda console? No, that stops working at a few kilobytes of code. And does not work with java at all afaik.","body":"You mean in the lambda console? No, that stops working at a few kilobytes of code. And does not work with java at all afaik."},{"owner":{"account_id":21447325,"reputation":33,"user_id":15800558,"display_name":"Sarimm Chaudhry"},"score":0,"creation_date":1648131435,"post_id":71604063,"comment_id":126550845,"body_markdown":"no, i mean generally like the code itself","body":"no, i mean generally like the code itself"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1648131470,"post_id":71604063,"comment_id":126550860,"body_markdown":"Unclear what you mean. AWS does not &quot;access&quot; or care about the code, it takes your jar or docker container and &quot;runs&quot; it.","body":"Unclear what you mean. AWS does not &quot;access&quot; or care about the code, it takes your jar or docker container and &quot;runs&quot; it."},{"owner":{"account_id":21447325,"reputation":33,"user_id":15800558,"display_name":"Sarimm Chaudhry"},"score":0,"creation_date":1648131526,"post_id":71604063,"comment_id":126550887,"body_markdown":"yeah, thats what i meant thanks will try it out","body":"yeah, thats what i meant thanks will try it out"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1648131909,"post_id":71604063,"comment_id":126551074,"body_markdown":"@ luk2302 - you can certainly upload a JAR using the AWS Management Console. Now the issue here is the size limit.","body":"@ luk2302 - you can certainly upload a JAR using the AWS Management Console. Now the issue here is the size limit."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1648149661,"post_id":71604063,"comment_id":126558160,"body_markdown":"@smac2020 i was referring to the inline code editor which is simply not available for Java.","body":"@smac2020 i was referring to the inline code editor which is simply not available for Java."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1648160361,"post_id":71604063,"comment_id":126561348,"body_markdown":"That makes sense - thanks for clarifying.","body":"That makes sense - thanks for clarifying."}],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655385563,"creation_date":1655385563,"answer_id":72646550,"question_id":71604063,"body_markdown":"If you upload your artifact to S3 your code can be up to [250MB][1] (when it&#39;s decompressed)\r\n\r\nMy advice would be to check your packaging method and follow the instructions on the [Lambda developer guide][2]. \r\n\r\nIf your code needs more than 250MB when it&#39;s decompressed then you can use the [container image packaging method][3].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/java-package.html\r\n  [3]: https://docs.aws.amazon.com/lambda/latest/dg/java-image.html","title":"My JAR file is too big too upload onto AWS lambda","body":"<p>If you upload your artifact to S3 your code can be up to <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html\" rel=\"nofollow noreferrer\">250MB</a> (when it's decompressed)</p>\n<p>My advice would be to check your packaging method and follow the instructions on the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-package.html\" rel=\"nofollow noreferrer\">Lambda developer guide</a>.</p>\n<p>If your code needs more than 250MB when it's decompressed then you can use the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-image.html\" rel=\"nofollow noreferrer\">container image packaging method</a>.</p>\n"}],"owner":{"account_id":21447325,"reputation":33,"user_id":15800558,"display_name":"Sarimm Chaudhry"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72646550,"answer_count":1,"score":2,"last_activity_date":1655385563,"creation_date":1648131101,"question_id":71604063,"body_markdown":"so i am building an aws project with a lambda function in java i have created the function in INTELLJ as a MAVEN project, and have run the maven package to pakcage my project into a jar file, after i tried directly uploading onto aws lambda but it wouldnt let me because the jar file was too large due to the fact that is was a fat jar, so i tried putting the jar on an s3 bucket and while i was successfully able to put it onto s3 when i tried to refernce from lambda it again gave the size limit error, keeping in mind that my file 65.75 MB and limit was i think 50. So  is there any way i can get around this and still be able to upload the fat 65.75 MB jar onto lambda. Or a way to just cut down the size of the as its kind of a large project.\r\n\r\nAny Help Would be Appreciated, Thanks!","title":"My JAR file is too big too upload onto AWS lambda","body":"<p>so i am building an aws project with a lambda function in java i have created the function in INTELLJ as a MAVEN project, and have run the maven package to pakcage my project into a jar file, after i tried directly uploading onto aws lambda but it wouldnt let me because the jar file was too large due to the fact that is was a fat jar, so i tried putting the jar on an s3 bucket and while i was successfully able to put it onto s3 when i tried to refernce from lambda it again gave the size limit error, keeping in mind that my file 65.75 MB and limit was i think 50. So  is there any way i can get around this and still be able to upload the fat 65.75 MB jar onto lambda. Or a way to just cut down the size of the as its kind of a large project.</p>\n<p>Any Help Would be Appreciated, Thanks!</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655388278,"post_id":72646513,"comment_id":128324563,"body_markdown":"Why do you want to do this? The format looks strange and it is not sortable because you have the da first.","body":"Why do you want to do this? The format looks strange and it is not sortable because you have the da first."},{"owner":{"account_id":8796452,"reputation":440,"user_id":6574204,"accept_rate":33,"display_name":"fbm fatma"},"score":0,"creation_date":1655388723,"post_id":72646513,"comment_id":128324726,"body_markdown":"it is a key of the entity","body":"it is a key of the entity"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655389233,"post_id":72646513,"comment_id":128324931,"body_markdown":"Yes but why so complicated? You could use a simple sequence","body":"Yes but why so complicated? You could use a simple sequence"},{"owner":{"account_id":8796452,"reputation":440,"user_id":6574204,"accept_rate":33,"display_name":"fbm fatma"},"score":0,"creation_date":1655389285,"post_id":72646513,"comment_id":128324955,"body_markdown":"the client want it like that","body":"the client want it like that"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655389883,"post_id":72646513,"comment_id":128325200,"body_markdown":"Does this answer your question? [How to generate Custom Id using hibernate while it must be primary key of table](https://stackoverflow.com/questions/31158509/how-to-generate-custom-id-using-hibernate-while-it-must-be-primary-key-of-table)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31158509/how-to-generate-custom-id-using-hibernate-while-it-must-be-primary-key-of-table\">How to generate Custom Id using hibernate while it must be primary key of table</a>"},{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1655509229,"post_id":72646513,"comment_id":128356895,"body_markdown":"There are times that as a professional you need to tell the customer what they want is a very bad plan; this is one of then. You also **must** tell them why and offer an alternative. In this case it will not perform well in a multi-user environment as you will need to lock the table for every insert to avoid duplicating *n*. The identity is not sort-able; Jan 31 (3101) comes well after Feb 01 (0102). A better approach store the timestamp in ms (still can get duplicates, but less chance). You can then always create a view to generate *n* from the timestamp. Just one of many many possibilities.","body":"There are times that as a professional you need to tell the customer what they want is a very bad plan; this is one of then. You also <b>must</b> tell them why and offer an alternative. In this case it will not perform well in a multi-user environment as you will need to lock the table for every insert to avoid duplicating <i>n</i>. The identity is not sort-able; Jan 31 (3101) comes well after Feb 01 (0102). A better approach store the timestamp in ms (still can get duplicates, but less chance). You can then always create a view to generate <i>n</i> from the timestamp. Just one of many many possibilities."}],"owner":{"account_id":8796452,"reputation":440,"user_id":6574204,"accept_rate":33,"display_name":"fbm fatma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655385409,"creation_date":1655385409,"question_id":72646513,"body_markdown":"I have an entity which contain an identity column which i want it to be automatically generated.\r\nSo the column is formed like that:  DDMMYYYYN so DD is day, MM is month and YYYYY is the year and N is an autoincremnted number which increment each insert and reset to 0 if it is a new year.\r\nIs there a way to do this identity strategy in Jpa.\r\nThere is a solution that i want to avoid: i can get the last record compare the date and increment\r\n N.\r\n I am using jpa, spring boot as framework, and postgres as database","title":"generated identity column in JPA","body":"<p>I have an entity which contain an identity column which i want it to be automatically generated.\nSo the column is formed like that:  DDMMYYYYN so DD is day, MM is month and YYYYY is the year and N is an autoincremnted number which increment each insert and reset to 0 if it is a new year.\nIs there a way to do this identity strategy in Jpa.\nThere is a solution that i want to avoid: i can get the last record compare the date and increment\nN.\nI am using jpa, spring boot as framework, and postgres as database</p>\n"},{"tags":["java","logging","encoding"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655384694,"post_id":72646175,"comment_id":128323194,"body_markdown":"Is the source code (that contains the &quot;planm&#228;&#223;ig&quot; String) in the correct encoding? And does it get compiled with the correct encoding? (Looks like source is in UTF-8 and compiled with ISO8859_1.)","body":"Is the source code (that contains the &quot;planm&#228;&#223;ig&quot; String) in the correct encoding? And does it get compiled with the correct encoding? (Looks like source is in UTF-8 and compiled with ISO8859_1.)"}],"answers":[{"tags":[],"owner":{"account_id":7732499,"reputation":601,"user_id":5855129,"display_name":"Schesam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655385388,"creation_date":1655385388,"answer_id":72646510,"question_id":72646175,"body_markdown":"IntelliJ shows the File-Encoding in the lower right. On the affected Class it shows &quot;UTF-8&quot;, so thats correct.\r\n \r\nBut i found in the Settings in &quot;Editor-&gt;File Encodings&quot; two Settings called &quot;Global Encoding&quot; and &quot;Project Encoding&quot;. The first was already UTF-8, the latter ISO8859_1. I changed that and the Output-File works as intended now, with proper encoding. I just needed to add the Encoding to the ConsoleHandler now too, cause that was broken now.","title":"Properly set UTF-8 encoding to a FileHandler in Java","body":"<p>IntelliJ shows the File-Encoding in the lower right. On the affected Class it shows &quot;UTF-8&quot;, so thats correct.</p>\n<p>But i found in the Settings in &quot;Editor-&gt;File Encodings&quot; two Settings called &quot;Global Encoding&quot; and &quot;Project Encoding&quot;. The first was already UTF-8, the latter ISO8859_1. I changed that and the Output-File works as intended now, with proper encoding. I just needed to add the Encoding to the ConsoleHandler now too, cause that was broken now.</p>\n"}],"owner":{"account_id":7732499,"reputation":601,"user_id":5855129,"display_name":"Schesam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72646510,"answer_count":1,"score":0,"last_activity_date":1655385388,"creation_date":1655383906,"question_id":72646175,"body_markdown":"I initialize my FileHandler as follows:\r\n\r\n    private Handler initializeFileHandler() {\r\n        LogManager.getLogManager().reset();\r\n        Handler handler = null;\r\n        try {\r\n            Files.deleteIfExists(Paths.get(logPath));\r\n            handler = new FileHandler(logPath);\r\n            handler.setLevel(Level.FINER);\r\n            handler.setEncoding(StandardCharsets.UTF_8.name());\r\n            handler.setFormatter(new Formatter() {\r\n                @Override\r\n                public String format(LogRecord record) {\r\n                    return String.format(\r\n                            &quot;%s: Class: %s; Type: %s; %s%s&quot;,\r\n                            formatter.format(LocalDateTime.now()),\r\n                            record.getLoggerName(),\r\n                            record.getLevel(),\r\n                            record.getMessage(),\r\n                            System.lineSeparator()\r\n                    );\r\n                }\r\n            });\r\n        } catch (IOException ex) {\r\n            //noinspection UseOfSystemOutOrSystemErr\r\n            System.err.println(&quot;Fehler beim initialisieren vom FileHandler&quot;);\r\n            //noinspection CallToPrintStackTrace\r\n            ex.printStackTrace();\r\n            //noinspection CallToSystemExit\r\n            System.exit(1);\r\n        }\r\n        return handler;\r\n    }\r\n\r\nand add it to my Logger like this:\r\n\r\n    public ConcurrentLogger initializeLogger(ConcurrentLogger logger) {\r\n        logger.addHandler(fileHandler);\r\n\r\n        Handler handler = new ConsoleHandler();\r\n        handler.setLevel(Level.FINER);\r\n        logger.addHandler(handler);\r\n\r\n        logger.setLevel(Level.ALL);\r\n        return logger;\r\n    }\r\n\r\nIf i remove the `setEncoding` on my FileHandler, its sill is wrong. But strangely, if i add the exact same Encoding to my ConsoleHandler, it stops working too. (But without the explicit set, it works at least in my IntelliJ-Console).\r\nIntelliJ-Console WITHOUT the explicit encoding (same code as above):\r\n\r\n     INFORMATION: BruteForce wird planm&#228;&#223;ig beendet.\r\nOuput in the .log File:\r\n\r\n    INFORMATION: BruteForce wird planm&#195;&#164;&#195;Ÿig beendet.\r\n\r\nIt looks same in Notepad++ and IntelliJ. How do i set the UTF-8 Encoding Properly? Notepad++ show the File is encoded in UTF-8, but still looks broken.\r\n(Btw. it doesnt Matter if i use `.toString()` or `name()` on the `UTF_8` Instance)","title":"Properly set UTF-8 encoding to a FileHandler in Java","body":"<p>I initialize my FileHandler as follows:</p>\n<pre><code>private Handler initializeFileHandler() {\n    LogManager.getLogManager().reset();\n    Handler handler = null;\n    try {\n        Files.deleteIfExists(Paths.get(logPath));\n        handler = new FileHandler(logPath);\n        handler.setLevel(Level.FINER);\n        handler.setEncoding(StandardCharsets.UTF_8.name());\n        handler.setFormatter(new Formatter() {\n            @Override\n            public String format(LogRecord record) {\n                return String.format(\n                        &quot;%s: Class: %s; Type: %s; %s%s&quot;,\n                        formatter.format(LocalDateTime.now()),\n                        record.getLoggerName(),\n                        record.getLevel(),\n                        record.getMessage(),\n                        System.lineSeparator()\n                );\n            }\n        });\n    } catch (IOException ex) {\n        //noinspection UseOfSystemOutOrSystemErr\n        System.err.println(&quot;Fehler beim initialisieren vom FileHandler&quot;);\n        //noinspection CallToPrintStackTrace\n        ex.printStackTrace();\n        //noinspection CallToSystemExit\n        System.exit(1);\n    }\n    return handler;\n}\n</code></pre>\n<p>and add it to my Logger like this:</p>\n<pre><code>public ConcurrentLogger initializeLogger(ConcurrentLogger logger) {\n    logger.addHandler(fileHandler);\n\n    Handler handler = new ConsoleHandler();\n    handler.setLevel(Level.FINER);\n    logger.addHandler(handler);\n\n    logger.setLevel(Level.ALL);\n    return logger;\n}\n</code></pre>\n<p>If i remove the <code>setEncoding</code> on my FileHandler, its sill is wrong. But strangely, if i add the exact same Encoding to my ConsoleHandler, it stops working too. (But without the explicit set, it works at least in my IntelliJ-Console).\nIntelliJ-Console WITHOUT the explicit encoding (same code as above):</p>\n<pre><code> INFORMATION: BruteForce wird planmäßig beendet.\n</code></pre>\n<p>Ouput in the .log File:</p>\n<pre><code>INFORMATION: BruteForce wird planmÃ¤ÃŸig beendet.\n</code></pre>\n<p>It looks same in Notepad++ and IntelliJ. How do i set the UTF-8 Encoding Properly? Notepad++ show the File is encoded in UTF-8, but still looks broken.\n(Btw. it doesnt Matter if i use <code>.toString()</code> or <code>name()</code> on the <code>UTF_8</code> Instance)</p>\n"},{"tags":["java","spring","hibernate","spring-data","hibernate-entitymanager"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654610586,"post_id":72532192,"comment_id":128128175,"body_markdown":"Have you tried `@Transactional(readOnly=true)`, however if you are reading only data the dirty checking shouldn&#39;t kick in, unless you are doing multiple queries and thus probably sub-optimal access in the first place.","body":"Have you tried <code>@Transactional(readOnly=true)</code>, however if you are reading only data the dirty checking shouldn&#39;t kick in, unless you are doing multiple queries and thus probably sub-optimal access in the first place."},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":1,"creation_date":1654683981,"post_id":72532192,"comment_id":128147882,"body_markdown":"@M.Deinum The problem is that I can assemble a complex object. To do this, I can pull data from different repositories and change it. My task is not to make unnecessary checks","body":"@M.Deinum The problem is that I can assemble a complex object. To do this, I can pull data from different repositories and change it. My task is not to make unnecessary checks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654752910,"post_id":72532192,"comment_id":128167680,"body_markdown":"Please add some code, also if you do a lot of queries you are probably doing the wrong thing and should write a dedicated query to retrieve what you want in 1 go instead of reaching out to different repositories, retrieve half the world and ditch 80% of that.","body":"Please add some code, also if you do a lot of queries you are probably doing the wrong thing and should write a dedicated query to retrieve what you want in 1 go instead of reaching out to different repositories, retrieve half the world and ditch 80% of that."},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":1,"creation_date":1654769596,"post_id":72532192,"comment_id":128173173,"body_markdown":"@M.Deinum Update!","body":"@M.Deinum Update!"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1654785176,"post_id":72532192,"comment_id":128179346,"body_markdown":"Fixing `findAllByProfileAndConferenceWithinRange` is not an option?","body":"Fixing <code>findAllByProfileAndConferenceWithinRange</code> is not an option?"},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1654794419,"post_id":72532192,"comment_id":128182980,"body_markdown":"@dpr Of course not, hibernate will constantly do dirty checks on the layers above","body":"@dpr Of course not, hibernate will constantly do dirty checks on the layers above"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1654847709,"post_id":72532192,"comment_id":128194349,"body_markdown":"@WBLord based on your comments in the code snippet I understood, that the large amount of entities read in `findAllByProfileAndConferenceWithinRange` is the root cause of the problem as this adds way too many entities to hibernate and hibernate takes ages for the dirty checks. Right? If that&#39;s correct you could change `findAllByProfileAndConferenceWithinRange` to not fetch managed entities but a custom class that is not managed by hibernate...","body":"@WBLord based on your comments in the code snippet I understood, that the large amount of entities read in <code>findAllByProfileAndConferenceWithinRange</code> is the root cause of the problem as this adds way too many entities to hibernate and hibernate takes ages for the dirty checks. Right? If that&#39;s correct you could change <code>findAllByProfileAndConferenceWithinRange</code> to not fetch managed entities but a custom class that is not managed by hibernate..."},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1654855307,"post_id":72532192,"comment_id":128196954,"body_markdown":"@dpr My task is to have a method that is able to transactionally pull out a large number of entities, while not constantly doing dirty checks. Then transfer these entities to a higher level (there should be one transaction) And there it is already possible to flash entities","body":"@dpr My task is to have a method that is able to transactionally pull out a large number of entities, while not constantly doing dirty checks. Then transfer these entities to a higher level (there should be one transaction) And there it is already possible to flash entities"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654809004,"creation_date":1654809004,"answer_id":72566686,"question_id":72532192,"body_markdown":"One solution is implementing `CustomEntityDirtinessStrategy` \r\n\r\n    properties.setProperty(&quot;hibernate.entity_dirtiness_strategy&quot;, EntityDirtinessStrategy.class.getName());\r\n\r\nDetails in:\r\n\r\n[How to customize Hibernate dirty checking mechanism][1]\r\n\r\nMore in:\r\n\r\n[Options for Entity Dirtness Checking][2]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/how-to-customize-hibernate-dirty-checking-mechanism/\r\n  [2]: https://in.relation.to/2013/04/10/options-for-entity-dirtness-checking/","title":"How to remove the change check in hibernate","body":"<p>One solution is implementing <code>CustomEntityDirtinessStrategy</code></p>\n<pre><code>properties.setProperty(&quot;hibernate.entity_dirtiness_strategy&quot;, EntityDirtinessStrategy.class.getName());\n</code></pre>\n<p>Details in:</p>\n<p><a href=\"https://vladmihalcea.com/how-to-customize-hibernate-dirty-checking-mechanism/\" rel=\"nofollow noreferrer\">How to customize Hibernate dirty checking mechanism</a></p>\n<p>More in:</p>\n<p><a href=\"https://in.relation.to/2013/04/10/options-for-entity-dirtness-checking/\" rel=\"nofollow noreferrer\">Options for Entity Dirtness Checking</a></p>\n"},{"tags":[],"owner":{"account_id":25561456,"reputation":1,"user_id":19344033,"display_name":"Cody Tan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655384729,"creation_date":1655384729,"answer_id":72646357,"question_id":72532192,"body_markdown":"The CustomEntityDirtinessStrategy is a recent Hibernate API addition, allowing us to provide an application-specific dirty checking mechanism. \r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n11\r\n12\r\n13\r\n14\r\n15\r\n16\r\n17\r\n18\r\n19\r\n20\r\n21\r\n22\r\n23\r\n24\r\n25\r\n26\r\n27\r\n28\r\n29\r\n30\r\n31\r\n32\r\n33\r\n34\r\n35\r\n36\r\n37\r\n38\r\n39\r\npublic class EntityDirtinessStrategy implements CustomEntityDirtinessStrategy {\r\n \r\n    @Override\r\n    public boolean canDirtyCheck(Object entity, EntityPersister persister, Session session) {\r\n        return entity instanceof DirtyAware;\r\n    }\r\n \r\n    @Override\r\n    public boolean isDirty(Object entity, EntityPersister persister, Session session) {\r\n        return !cast(entity).getDirtyProperties().isEmpty();\r\n    }\r\n \r\n    @Override\r\n    public void resetDirty(Object entity, EntityPersister persister, Session session) {\r\n        cast(entity).clearDirtyProperties();\r\n    }\r\n \r\n    @Override\r\n    public void findDirty(Object entity, EntityPersister persister, Session session, DirtyCheckContext dirtyCheckContext) {\r\n        final DirtyAware dirtyAware = cast(entity);\r\n        dirtyCheckContext.doDirtyChecking(\r\n            new AttributeChecker() {\r\n                @Override\r\n                public boolean isDirty(AttributeInformation attributeInformation) {\r\n                    String propertyName = attributeInformation.getName();\r\n                    boolean dirty = dirtyAware.getDirtyProperties().contains( propertyName );\r\n                    if (dirty) {\r\n                        LOGGER.info(&quot;The {} property is dirty&quot;, propertyName);\r\n                    }\r\n                    return dirty;\r\n                }\r\n            }\r\n        );\r\n    }\r\n \r\n    private DirtyAware cast(Object entity) {\r\n        return DirtyAware.class.cast(entity);\r\n    }\r\n}","title":"How to remove the change check in hibernate","body":"<p>The CustomEntityDirtinessStrategy is a recent Hibernate API addition, allowing us to provide an application-specific dirty checking mechanism.\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\npublic class EntityDirtinessStrategy implements CustomEntityDirtinessStrategy {</p>\n<pre><code>@Override\npublic boolean canDirtyCheck(Object entity, EntityPersister persister, Session session) {\n    return entity instanceof DirtyAware;\n}\n\n@Override\npublic boolean isDirty(Object entity, EntityPersister persister, Session session) {\n    return !cast(entity).getDirtyProperties().isEmpty();\n}\n\n@Override\npublic void resetDirty(Object entity, EntityPersister persister, Session session) {\n    cast(entity).clearDirtyProperties();\n}\n\n@Override\npublic void findDirty(Object entity, EntityPersister persister, Session session, DirtyCheckContext dirtyCheckContext) {\n    final DirtyAware dirtyAware = cast(entity);\n    dirtyCheckContext.doDirtyChecking(\n        new AttributeChecker() {\n            @Override\n            public boolean isDirty(AttributeInformation attributeInformation) {\n                String propertyName = attributeInformation.getName();\n                boolean dirty = dirtyAware.getDirtyProperties().contains( propertyName );\n                if (dirty) {\n                    LOGGER.info(&quot;The {} property is dirty&quot;, propertyName);\n                }\n                return dirty;\n            }\n        }\n    );\n}\n\nprivate DirtyAware cast(Object entity) {\n    return DirtyAware.class.cast(entity);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1655384729,"creation_date":1654608996,"question_id":72532192,"body_markdown":"Hibernate checks the state of entities when committing transactions. This is useless and performance-critical when fetching large amounts of data to send to the client.\r\n\r\nI found a solution with\r\n\r\n     entityManager.setFlushMode(FlushModeType.COMMIT);\r\n\r\nI put back `auto` after the query. \r\nAre there any normal more compact solutions.\r\n\r\nNow I&#39;m thinking of doing something similar to **aspectJ** so I don&#39;t clutter up the code and I can annotate both the service and the repository. What do you think about this and how do you solve such a problem?\r\n\r\n\r\nExample:\r\n\r\n    @Override\r\n    public Collection&lt;ZoomCallInfoDTO&gt; findZoomCalls(Collection&lt;ContactId&gt; invitedUsers, String name, Date startTime, Date endTime, int offset, int limit, boolean asc, callId callId)\r\n    {\r\n        // Why we did it?\r\n        // Due to bad logic of finding calls in time interval (ZoomCallRepository#findAllByProfileAndcallWithinRange)\r\n        // which loaded all calls for user to compute periodical calls there are TOO many entities in hibernate.\r\n        // So during converting calls to DTOs we also have N x M queries (N - number of call to return, M - number of queries for each call conversion).\r\n        // Each query makes hibernate checks all loaded entities for autoFlush policy. And we have bad performance ((\r\n        // Possible decisions:\r\n        // 1. Switch off autoFlush policy for GET methods:\r\n        //    1.1 - Use readOnly transaction (not good for us now because stating top transaction logic is not managed)\r\n        //    1.2 - Set flushMode manually (not good as persistence decision but the cheapest now) - CURRENTLY USED\r\n        // 2. Decrease number of loaded to hibernate entities - it need to redesign logic of computing periodical calls\r\n        // 3. Merge of 1 and 2 decisions - SHOULD BE IMPLEMENTED IN FUTURE\r\n        entityManager.setFlushMode(FlushModeType.COMMIT);\r\n    \r\n        if (invitedUsers != null &amp;&amp; !invitedUsers.isEmpty())\r\n        {\r\n            throw new RuntimeException(&quot;Search by invited users is not supported.&quot;);\r\n        }\r\n    \r\n        UserProfile profile = callUtil.getCurrentUserProfile();\r\n    \r\n        List&lt;ZoomCallInfoDTO&gt; callDTOs = new ArrayList&lt;&gt;();\r\n        Map&lt;callId, callCacheItem&gt; callCache = new HashMap&lt;&gt;();\r\n        for (ZoomCall call : ZoomCallRepository.findAllByProfileAndcallWithinRange(profile.getId(), name, startTime, endTime, offset, limit, asc, callId))\r\n        {\r\n            callDTOs.add(create(call, profile.getId(), callCache));\r\n        }\r\n    \r\n        entityManager.setFlushMode(FlushModeType.AUTO);\r\n    \r\n        return callDTOs;\r\n    }\r\n\r\nI noticed that after such operations there is an &quot;autoflush&quot; there are too many of them","title":"How to remove the change check in hibernate","body":"<p>Hibernate checks the state of entities when committing transactions. This is useless and performance-critical when fetching large amounts of data to send to the client.</p>\n<p>I found a solution with</p>\n<pre><code> entityManager.setFlushMode(FlushModeType.COMMIT);\n</code></pre>\n<p>I put back <code>auto</code> after the query.\nAre there any normal more compact solutions.</p>\n<p>Now I'm thinking of doing something similar to <strong>aspectJ</strong> so I don't clutter up the code and I can annotate both the service and the repository. What do you think about this and how do you solve such a problem?</p>\n<p>Example:</p>\n<pre><code>@Override\npublic Collection&lt;ZoomCallInfoDTO&gt; findZoomCalls(Collection&lt;ContactId&gt; invitedUsers, String name, Date startTime, Date endTime, int offset, int limit, boolean asc, callId callId)\n{\n    // Why we did it?\n    // Due to bad logic of finding calls in time interval (ZoomCallRepository#findAllByProfileAndcallWithinRange)\n    // which loaded all calls for user to compute periodical calls there are TOO many entities in hibernate.\n    // So during converting calls to DTOs we also have N x M queries (N - number of call to return, M - number of queries for each call conversion).\n    // Each query makes hibernate checks all loaded entities for autoFlush policy. And we have bad performance ((\n    // Possible decisions:\n    // 1. Switch off autoFlush policy for GET methods:\n    //    1.1 - Use readOnly transaction (not good for us now because stating top transaction logic is not managed)\n    //    1.2 - Set flushMode manually (not good as persistence decision but the cheapest now) - CURRENTLY USED\n    // 2. Decrease number of loaded to hibernate entities - it need to redesign logic of computing periodical calls\n    // 3. Merge of 1 and 2 decisions - SHOULD BE IMPLEMENTED IN FUTURE\n    entityManager.setFlushMode(FlushModeType.COMMIT);\n\n    if (invitedUsers != null &amp;&amp; !invitedUsers.isEmpty())\n    {\n        throw new RuntimeException(&quot;Search by invited users is not supported.&quot;);\n    }\n\n    UserProfile profile = callUtil.getCurrentUserProfile();\n\n    List&lt;ZoomCallInfoDTO&gt; callDTOs = new ArrayList&lt;&gt;();\n    Map&lt;callId, callCacheItem&gt; callCache = new HashMap&lt;&gt;();\n    for (ZoomCall call : ZoomCallRepository.findAllByProfileAndcallWithinRange(profile.getId(), name, startTime, endTime, offset, limit, asc, callId))\n    {\n        callDTOs.add(create(call, profile.getId(), callCache));\n    }\n\n    entityManager.setFlushMode(FlushModeType.AUTO);\n\n    return callDTOs;\n}\n</code></pre>\n<p>I noticed that after such operations there is an &quot;autoflush&quot; there are too many of them</p>\n"},{"tags":["java","spring","oop"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1655384620,"post_id":72646297,"comment_id":128323175,"body_markdown":"See https://softwareengineering.stackexchange.com/questions/364496/are-spring-beans-declared-as-static-a-poor-design-choice","body":"See <a href=\"https://softwareengineering.stackexchange.com/questions/364496/are-spring-beans-declared-as-static-a-poor-design-choice\" title=\"are spring beans declared as static a poor design choice\">softwareengineering.stackexchange.com/questions/364496/&hellip;</a>"},{"owner":{"account_id":25571905,"reputation":56,"user_id":19352128,"display_name":"Islam Khabibullin"},"score":0,"creation_date":1655385565,"post_id":72646297,"comment_id":128323509,"body_markdown":"Thank you! I think I should read about the disadvantages of static methods in oop","body":"Thank you! I think I should read about the disadvantages of static methods in oop"}],"owner":{"account_id":25571905,"reputation":56,"user_id":19352128,"display_name":"Islam Khabibullin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655384556,"creation_date":1655384501,"question_id":72646297,"body_markdown":"Most often, when I see a web application using mvc and the spring framework, it contains layers such as services and repositories, which for the most part look like utility methods in a class and this class almost never has a state. My question is, why is this procedural code not in static methods? This is not my suggestion to do so, I just want to know it in order to form a more complete picture of this world.","title":"Why are beans in Spring creating for procedural methods?","body":"<p>Most often, when I see a web application using mvc and the spring framework, it contains layers such as services and repositories, which for the most part look like utility methods in a class and this class almost never has a state. My question is, why is this procedural code not in static methods? This is not my suggestion to do so, I just want to know it in order to form a more complete picture of this world.</p>\n"},{"tags":["java","maven","maven-3","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1655381958,"post_id":72645616,"comment_id":128322159,"body_markdown":"Can you show the run output while trying: ` maven could not find the test here:` and what does that mean? Error output ?","body":"Can you show the run output while trying: ` maven could not find the test here:` and what does that mean? Error output ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1655382809,"post_id":72645616,"comment_id":128322515,"body_markdown":"Furthermore the idea is a directory layout which is called convention to work with. `src/main/java` and `src/test/java` etc. The real question is: Why would you like to change that ? And for what purpose?","body":"Furthermore the idea is a directory layout which is called convention to work with. <code>src&#47;main&#47;java</code> and <code>src&#47;test&#47;java</code> etc. The real question is: Why would you like to change that ? And for what purpose?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1655383213,"post_id":72645616,"comment_id":128322652,"body_markdown":"You probably have to set [project/build/testSourceDirectory](https://maven.apache.org/ref/3.8.6/maven-model/maven.html#class_build). But why do you want to do that?","body":"You probably have to set <a href=\"https://maven.apache.org/ref/3.8.6/maven-model/maven.html#class_build\" rel=\"nofollow noreferrer\">project/build/testSourceDirectory</a>. But why do you want to do that?"},{"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"score":0,"creation_date":1655383839,"post_id":72645616,"comment_id":128322903,"body_markdown":"@khmarbaise, the second folder structure is an existing one which I am kind of compelled to use. As long as there is a way for it to work, I guess its ok to go that way","body":"@khmarbaise, the second folder structure is an existing one which I am kind of compelled to use. As long as there is a way for it to work, I guess its ok to go that way"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1655384028,"post_id":72645616,"comment_id":128322973,"body_markdown":"“Kind of compelled”??","body":"“Kind of compelled”??"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1655384328,"post_id":72645616,"comment_id":128323084,"body_markdown":"The compelling here is that you should follow the convention over configuration paradigm.. and furthermore an existing structure can be renamed (that&#39;s called refactoring) as for intention to make the usage of a project easier..based on what I can see the correct structure `src/test/java` already exist with the intermediate part `demo` which does not make sense. You can remove that simply ...","body":"The compelling here is that you should follow the convention over configuration paradigm.. and furthermore an existing structure can be renamed (that&#39;s called refactoring) as for intention to make the usage of a project easier..based on what I can see the correct structure <code>src&#47;test&#47;java</code> already exist with the intermediate part <code>demo</code> which does not make sense. You can remove that simply ..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1655384392,"post_id":72645616,"comment_id":128323103,"body_markdown":"If you like to create a demo like setup you should make a separate module which shows the usage of something like this..apart from that log output I can that you are using ancient old versions of plugins","body":"If you like to create a demo like setup you should make a separate module which shows the usage of something like this..apart from that log output I can that you are using ancient old versions of plugins"},{"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"score":0,"creation_date":1655384393,"post_id":72645616,"comment_id":128323104,"body_markdown":"@khmarbaise I have updated the question with the logs/output","body":"@khmarbaise I have updated the question with the logs/output"}],"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655384316,"creation_date":1655381410,"question_id":72645616,"body_markdown":"Under the default maven folder structure, my maven test runs perfectly. I tried something slightly different by including a directory between the test directory and the java directly. This way, maven could no longer find the test.\r\n\r\nThis runs OK with `mvn clean install`:\r\n\r\n[Works OK with this folder structure][1]\r\n\r\n\r\nWith the same `mvn clean install`, maven could not find the test here:\r\n\r\n[No test to run with this folder structure][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sNizK.png\r\n  [2]: https://i.stack.imgur.com/00Q6e.png\r\n\r\n  \r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;properties&gt;\r\n                            &lt;configurationParameters&gt;\r\n                                cucumber.junit-platform.naming-strategy=long\r\n                            &lt;/configurationParameters&gt;\r\n                        &lt;/properties&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nNo other configuration was made after changing the folder structure. The only major difference between the two structures is that in the second one, there is a directory `demo` between test and java directories. How can maven run the test OK using the second folder structure?\r\n\r\nOutput:\r\n\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ PGS ---\r\n    [INFO] Deleting C:\\Users\\userhome\\test-automation\\PGS\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ PGS ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\userhome\\test-automation\\PGS\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.0:compile (default-compile) @ PGS ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ PGS ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\userhome\\test-automation\\PGS\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.0:testCompile (default-testCompile) @ PGS ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ PGS ---\r\n    [INFO] No tests to run.\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ PGS ---\r\n    [WARNING] JAR will be empty - no content was marked for inclusion!\r\n    [INFO] Building jar: C:\\Users\\userhome\\test-automation\\PGS\\target\\PGS-1.0.0-SNAPSHOT.jar\r\n    [INFO] \r\n    [INFO] --- maven-cucumber-reporting:5.6.2:generate (execution) @ PGS ---\r\n    [INFO] About to generate Cucumber report.\r\n    Jun 16, 2022 12:42:19 PM net.masterthought.cucumber.ReportBuilder generateErrorPage\r\n    INFO: Unexpected error\r\n    net.masterthought.cucumber.ValidationException: None report file was added!\r\n            at net.masterthought.cucumber.ReportParser.parseJsonFiles(ReportParser.java:61)\r\n            at net.masterthought.cucumber.ReportBuilder.generateReports(ReportBuilder.java:97)\r\n            at net.masterthought.cucumber.CucumberReportGeneratorMojo.execute(CucumberReportGeneratorMojo.java:236)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    [INFO] Installing C:\\Users\\userhome\\test-automation\\PGS\\pom.xml to C:\\Users\\userhome\\.m2\\repository\\com\\demoproject\\testautomation\\webapi\\PGS\\1.0.0-SNAPSHOT\\PGS-1.0.0-SNAPSHOT.pom ","title":"Can maven run test when java directory is not directly under test directory?","body":"<p>Under the default maven folder structure, my maven test runs perfectly. I tried something slightly different by including a directory between the test directory and the java directly. This way, maven could no longer find the test.</p>\n<p>This runs OK with <code>mvn clean install</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/sNizK.png\" rel=\"nofollow noreferrer\">Works OK with this folder structure</a></p>\n<p>With the same <code>mvn clean install</code>, maven could not find the test here:</p>\n<p><a href=\"https://i.stack.imgur.com/00Q6e.png\" rel=\"nofollow noreferrer\">No test to run with this folder structure</a></p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;properties&gt;\n                        &lt;configurationParameters&gt;\n                            cucumber.junit-platform.naming-strategy=long\n                        &lt;/configurationParameters&gt;\n                    &lt;/properties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>No other configuration was made after changing the folder structure. The only major difference between the two structures is that in the second one, there is a directory <code>demo</code> between test and java directories. How can maven run the test OK using the second folder structure?</p>\n<p>Output:</p>\n<pre><code>[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ PGS ---\n[INFO] Deleting C:\\Users\\userhome\\test-automation\\PGS\\target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ PGS ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\userhome\\test-automation\\PGS\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.0:compile (default-compile) @ PGS ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ PGS ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\userhome\\test-automation\\PGS\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.0:testCompile (default-testCompile) @ PGS ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ PGS ---\n[INFO] No tests to run.\n[INFO]\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ PGS ---\n[WARNING] JAR will be empty - no content was marked for inclusion!\n[INFO] Building jar: C:\\Users\\userhome\\test-automation\\PGS\\target\\PGS-1.0.0-SNAPSHOT.jar\n[INFO] \n[INFO] --- maven-cucumber-reporting:5.6.2:generate (execution) @ PGS ---\n[INFO] About to generate Cucumber report.\nJun 16, 2022 12:42:19 PM net.masterthought.cucumber.ReportBuilder generateErrorPage\nINFO: Unexpected error\nnet.masterthought.cucumber.ValidationException: None report file was added!\n        at net.masterthought.cucumber.ReportParser.parseJsonFiles(ReportParser.java:61)\n        at net.masterthought.cucumber.ReportBuilder.generateReports(ReportBuilder.java:97)\n        at net.masterthought.cucumber.CucumberReportGeneratorMojo.execute(CucumberReportGeneratorMojo.java:236)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[INFO] Installing C:\\Users\\userhome\\test-automation\\PGS\\pom.xml to C:\\Users\\userhome\\.m2\\repository\\com\\demoproject\\testautomation\\webapi\\PGS\\1.0.0-SNAPSHOT\\PGS-1.0.0-SNAPSHOT.pom \n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8735,"page":1257,"page_size":100}
