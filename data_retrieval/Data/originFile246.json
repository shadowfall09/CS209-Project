{"items":[{"tags":["java","linux","smb","amazon-fsx","smbj"],"answers":[{"tags":[],"owner":{"account_id":3028611,"reputation":11,"user_id":2568080,"display_name":"Guna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692189978,"creation_date":1692189978,"answer_id":76913686,"question_id":75667411,"body_markdown":"    DiskShare share = getSmbSession();\r\n            Set&lt;SMB2ShareAccess&gt; shareAccessSet = new HashSet();\r\n            shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_READ);\r\n            shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_WRITE);\r\n            shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_DELETE);\r\n            Set&lt;FileAttributes&gt; fileAttributes = new HashSet();\r\n            fileAttributes.add(FileAttributes.FILE_ATTRIBUTE_NORMAL);\r\n            Set&lt;SMB2CreateOptions&gt; createOptions = new HashSet();\r\n            SMB2CreateDisposition smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\r\n            createOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\r\n            smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\r\n            Directory directory = share.openDirectory(pathFrom, EnumSet.of(AccessMask.MAXIMUM_ALLOWED), fileAttributes,\r\n                    shareAccessSet, smb2CreateDisposition, createOptions);","title":"Trouble with setting file mode in SMBJ","body":"<pre><code>DiskShare share = getSmbSession();\n        Set&lt;SMB2ShareAccess&gt; shareAccessSet = new HashSet();\n        shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_READ);\n        shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_WRITE);\n        shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_DELETE);\n        Set&lt;FileAttributes&gt; fileAttributes = new HashSet();\n        fileAttributes.add(FileAttributes.FILE_ATTRIBUTE_NORMAL);\n        Set&lt;SMB2CreateOptions&gt; createOptions = new HashSet();\n        SMB2CreateDisposition smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\n        createOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\n        smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\n        Directory directory = share.openDirectory(pathFrom, EnumSet.of(AccessMask.MAXIMUM_ALLOWED), fileAttributes,\n                shareAccessSet, smb2CreateDisposition, createOptions);\n</code></pre>\n"}],"owner":{"account_id":8025171,"reputation":1,"user_id":6052451,"display_name":"Bahram Zaeri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692189978,"creation_date":1678225152,"question_id":75667411,"body_markdown":"I&#39;m trying to set the file mode of a remote located file in a SMB share though SMBJ library. But I get STATUS_INVALID_PARAMETER error.\r\n\r\nThis is my code snippet:\r\n\r\n```java\r\nSet&lt;FileAttributes&gt; fileAttributes = new HashSet&lt;(Arrays.asList(FileAttributes.FILE_ATTRIBUTE_DIRECTORY));\r\nSet&lt;SMB2CreateOptions&gt; createOptions = new HashSet&lt;&gt;();\r\ncreateOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\r\nFile f = share.openFile(&quot;folder01/abc.sh&quot;, new HashSet&lt;(Collections.singletonList(AccessMask.GENERIC_ALL)), fileAttributes, SMB2ShareAccess.ALL, SMB2CreateDisposition.FILE_OPEN_IF, createOptions);\r\nf.setFileInformation(new FileModeInformation(755));\r\n```\r\n\r\nAnd this is the stack trace I&#39;m seeing\r\n\r\n```\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_INVALID_PARAMETER (0xc000000d): SetInfo failed for SMB2FileId{persistentHandle=f2 29 00 00 01 00 00 01}\r\n    at com.hierynomus.smbj.share.Share.receive(Share.java:380)\r\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\r\n    at com.hierynomus.smbj.share.Share.setInfo(Share.java:191)\r\n    at com.hierynomus.smbj.share.DiskShare.setFileInformation(DiskShare.java:330)\r\n    at com.hierynomus.smbj.share.DiskEntry.setFileInformation(DiskEntry.java:89)\r\n```\r\n","title":"Trouble with setting file mode in SMBJ","body":"<p>I'm trying to set the file mode of a remote located file in a SMB share though SMBJ library. But I get STATUS_INVALID_PARAMETER error.</p>\n<p>This is my code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;FileAttributes&gt; fileAttributes = new HashSet&lt;(Arrays.asList(FileAttributes.FILE_ATTRIBUTE_DIRECTORY));\nSet&lt;SMB2CreateOptions&gt; createOptions = new HashSet&lt;&gt;();\ncreateOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\nFile f = share.openFile(&quot;folder01/abc.sh&quot;, new HashSet&lt;(Collections.singletonList(AccessMask.GENERIC_ALL)), fileAttributes, SMB2ShareAccess.ALL, SMB2CreateDisposition.FILE_OPEN_IF, createOptions);\nf.setFileInformation(new FileModeInformation(755));\n</code></pre>\n<p>And this is the stack trace I'm seeing</p>\n<pre><code>com.hierynomus.mssmb2.SMBApiException: STATUS_INVALID_PARAMETER (0xc000000d): SetInfo failed for SMB2FileId{persistentHandle=f2 29 00 00 01 00 00 01}\n    at com.hierynomus.smbj.share.Share.receive(Share.java:380)\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\n    at com.hierynomus.smbj.share.Share.setInfo(Share.java:191)\n    at com.hierynomus.smbj.share.DiskShare.setFileInformation(DiskShare.java:330)\n    at com.hierynomus.smbj.share.DiskEntry.setFileInformation(DiskEntry.java:89)\n</code></pre>\n"},{"tags":["java","spring","apache","websocket","wildfly"],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692189165,"creation_date":1692189165,"question_id":76913581,"body_markdown":"When i deploy my spring application i get this problem with websocket\r\n\r\n      Forwarding to error page from request [/active-users] due to exception [Servlet request failed to upgrade to WebSocket: https://remote-host/test/active-users; nested exception is javax.servlet.ServletException: java.lang.IllegalStateException: UT000077: The underlying transport does not support HTTP upgrade]\r\n\r\nI currently using Apache 2.2 and wildfly 18 (i can&#39;t update them)\r\n\r\nin my wildfly i have this configuration for websocket:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:10.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;true&quot;&gt;\r\n                &lt;buffer-cache name=&quot;default&quot;/&gt;\r\n                &lt;server name=&quot;default-server&quot;&gt;\r\n                    &lt;ajp-listener name=&quot;ajp&quot; socket-binding=&quot;ajp&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;http&quot;/&gt;\r\n                    &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\r\n                    &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; record-request-start-time=&quot;true&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;true&quot;/&gt;\r\n                    &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\r\n                        &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\r\n                        &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\r\n                    &lt;/host&gt;\r\n                &lt;/server&gt;\r\n                &lt;servlet-container name=&quot;default&quot;&gt;\r\n                    &lt;jsp-config/&gt;\r\n                    &lt;websockets/&gt;\r\n                &lt;/servlet-container&gt;\r\n                &lt;handlers&gt;\r\n                    &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\r\n                &lt;/handlers&gt;\r\n            &lt;/subsystem&gt;\r\n\r\nIn my spring application i have this 2 classes:\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer {\r\n    \r\n        @Autowired\r\n        private ActiveUsersWebSocketHandler activeUsersWebSocketHandler;\r\n    \r\n        @Bean\r\n        public TaskScheduler defaultSockJsTaskScheduler() {\r\n            return new ThreadPoolTaskScheduler();\r\n        }\r\n    \r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n            registry.addHandler(activeUsersWebSocketHandler, &quot;/active-users&quot;)\r\n               .setAllowedOrigins(&quot;*&quot;);\r\n        }\r\n\r\nand:\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class ActiveUsersWebSocketHandler extends TextWebSocketHandler {\r\n    \r\n        private Set&lt;WebSocketSession&gt; activeSessions = new HashSet&lt;&gt;();\r\n    \r\n        @Override\r\n        public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n            log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionEstablished&quot;);\r\n            activeSessions.add(session);\r\n            sendActiveUsersCount();\r\n        }\r\n    \r\n        @Override\r\n        public void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception {\r\n            log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionClosed&quot;);\r\n            activeSessions.remove(session);\r\n            sendActiveUsersCount();\r\n        }\r\n    \r\n        private void sendActiveUsersCount() {\r\n            log.info(&quot;{}.{} sending users count&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;);\r\n            Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\r\n            payload.put(&quot;activeUsersCount&quot;, activeSessions.size());\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            String jsonPayload;\r\n            try {\r\n                jsonPayload = objectMapper.writeValueAsString(payload);\r\n            } catch (JsonProcessingException e) {\r\n                log.error(&quot;{}.{} error: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\r\n                throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\r\n            }\r\n    \r\n            for (WebSocketSession session : activeSessions) {\r\n                try {\r\n                    session.sendMessage(new TextMessage(jsonPayload));\r\n                } catch (IOException e) {\r\n                    log.error(&quot;{}.{} error while sending message: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\r\n                    throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nDo you suggest me anything i can fix the error without update apache to 2.4 also this are my apache config:\r\n\r\n    80:\r\n    # WebSocket proxy\r\n    ProxyPass /ws/ ws://localhost:8009/\r\n    ProxyPassReverse /ws/ ws://localhost:8009/test\r\n    \r\n    # WebSocket Secure proxy\r\n    ProxyPass /wss/ wss://localhost:8009/nnn\r\n    ProxyPassReverse /wss/ wss://localhost:8009/test\r\n    443:\r\n    # WebSocket proxy\r\n    ProxyPass /ws/ ws://localhost:8009/\r\n    ProxyPassReverse /ws/ ws://localhost:8009/test\r\n    \r\n    # WebSocket Secure proxy\r\n    ProxyPass /wss/ wss://localhost:8009/test\r\n    ProxyPassReverse /wss/ wss://localhost:8009/test","title":"WebSocket problem with Apache and Wildfly","body":"<p>When i deploy my spring application i get this problem with websocket</p>\n<pre><code>  Forwarding to error page from request [/active-users] due to exception [Servlet request failed to upgrade to WebSocket: https://remote-host/test/active-users; nested exception is javax.servlet.ServletException: java.lang.IllegalStateException: UT000077: The underlying transport does not support HTTP upgrade]\n</code></pre>\n<p>I currently using Apache 2.2 and wildfly 18 (i can't update them)</p>\n<p>in my wildfly i have this configuration for websocket:</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:10.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;true&quot;&gt;\n            &lt;buffer-cache name=&quot;default&quot;/&gt;\n            &lt;server name=&quot;default-server&quot;&gt;\n                &lt;ajp-listener name=&quot;ajp&quot; socket-binding=&quot;ajp&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;http&quot;/&gt;\n                &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\n                &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; record-request-start-time=&quot;true&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;true&quot;/&gt;\n                &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\n                    &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\n                    &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\n                &lt;/host&gt;\n            &lt;/server&gt;\n            &lt;servlet-container name=&quot;default&quot;&gt;\n                &lt;jsp-config/&gt;\n                &lt;websockets/&gt;\n            &lt;/servlet-container&gt;\n            &lt;handlers&gt;\n                &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\n            &lt;/handlers&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>In my spring application i have this 2 classes:</p>\n<pre><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    @Autowired\n    private ActiveUsersWebSocketHandler activeUsersWebSocketHandler;\n\n    @Bean\n    public TaskScheduler defaultSockJsTaskScheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(activeUsersWebSocketHandler, &quot;/active-users&quot;)\n           .setAllowedOrigins(&quot;*&quot;);\n    }\n</code></pre>\n<p>and:</p>\n<pre><code>@Slf4j\n@Configuration\npublic class ActiveUsersWebSocketHandler extends TextWebSocketHandler {\n\n    private Set&lt;WebSocketSession&gt; activeSessions = new HashSet&lt;&gt;();\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionEstablished&quot;);\n        activeSessions.add(session);\n        sendActiveUsersCount();\n    }\n\n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception {\n        log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionClosed&quot;);\n        activeSessions.remove(session);\n        sendActiveUsersCount();\n    }\n\n    private void sendActiveUsersCount() {\n        log.info(&quot;{}.{} sending users count&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;);\n        Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\n        payload.put(&quot;activeUsersCount&quot;, activeSessions.size());\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        String jsonPayload;\n        try {\n            jsonPayload = objectMapper.writeValueAsString(payload);\n        } catch (JsonProcessingException e) {\n            log.error(&quot;{}.{} error: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\n            throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\n        }\n\n        for (WebSocketSession session : activeSessions) {\n            try {\n                session.sendMessage(new TextMessage(jsonPayload));\n            } catch (IOException e) {\n                log.error(&quot;{}.{} error while sending message: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\n                throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>Do you suggest me anything i can fix the error without update apache to 2.4 also this are my apache config:</p>\n<pre><code>80:\n# WebSocket proxy\nProxyPass /ws/ ws://localhost:8009/\nProxyPassReverse /ws/ ws://localhost:8009/test\n\n# WebSocket Secure proxy\nProxyPass /wss/ wss://localhost:8009/nnn\nProxyPassReverse /wss/ wss://localhost:8009/test\n443:\n# WebSocket proxy\nProxyPass /ws/ ws://localhost:8009/\nProxyPassReverse /ws/ ws://localhost:8009/test\n\n# WebSocket Secure proxy\nProxyPass /wss/ wss://localhost:8009/test\nProxyPassReverse /wss/ wss://localhost:8009/test\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":1,"creation_date":1631101574,"post_id":69100958,"comment_id":122131588,"body_markdown":"I guess you don&#39;t really need tracking for the link \nhttps://stackoverflow.com/questions/25036210/how-to-remove-ga-query-string-from-url/","body":"I guess you don&#39;t really need tracking for the link  <a href=\"https://stackoverflow.com/questions/25036210/how-to-remove-ga-query-string-from-url/\" title=\"how to remove ga query string from url\">stackoverflow.com/questions/25036210/&hellip;</a>"},{"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"score":0,"creation_date":1631104733,"post_id":69100958,"comment_id":122133079,"body_markdown":"_ga parameter removed.","body":"_ga parameter removed."},{"owner":{"account_id":7291747,"reputation":724,"user_id":5557912,"accept_rate":25,"display_name":"CodeBy"},"score":7,"creation_date":1650017331,"post_id":69100958,"comment_id":127023237,"body_markdown":"please provide full example, I&#39;m new to gradle, can&#39;t understand in which part of file I need do changes. thank you","body":"please provide full example, I&#39;m new to gradle, can&#39;t understand in which part of file I need do changes. thank you"}],"tags":[],"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1631104705,"creation_date":1631095256,"answer_id":69100958,"question_id":69100888,"body_markdown":"The maven plugin was [removed][1] in Gradle 7. The documentation suggests to use `maven-publish` plugin instead.\r\n\r\n\r\n  [1]: https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin","title":"Plugin with id &#39;maven&#39; not found","body":"<p>The maven plugin was <a href=\"https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\" rel=\"noreferrer\">removed</a> in Gradle 7. The documentation suggests to use <code>maven-publish</code> plugin instead.</p>\n"},{"comments":[{"owner":{"account_id":22558725,"reputation":125,"user_id":16746658,"display_name":"Four"},"score":3,"creation_date":1649921195,"post_id":69100971,"comment_id":126998257,"body_markdown":"sir, I&#39;m new to react-native\nit stuck in build.gredle file &quot;repository url: &quot;file://${projectDir}/../android/maven&quot;, i dont know why?","body":"sir, I&#39;m new to react-native it stuck in build.gredle file &quot;repository url: &quot;file://${projectDir}/../android/maven&quot;, i dont know why?"},{"owner":{"account_id":7291747,"reputation":724,"user_id":5557912,"accept_rate":25,"display_name":"CodeBy"},"score":18,"creation_date":1650017374,"post_id":69100971,"comment_id":127023251,"body_markdown":"please provide full example, I&#39;m new to gradle, can&#39;t understand in which part of file I need do changes. thank you","body":"please provide full example, I&#39;m new to gradle, can&#39;t understand in which part of file I need do changes. thank you"}],"tags":[],"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"comment_count":2,"down_vote_count":1,"up_vote_count":93,"is_accepted":true,"score":92,"last_activity_date":1631095313,"creation_date":1631095313,"answer_id":69100971,"question_id":69100888,"body_markdown":"In Gradle 7.x, \r\n\r\n&gt; The maven plugin has been removed. You should use the maven-publish\r\n&gt; plugin instead.\r\n\r\n**Reference:** https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin","title":"Plugin with id &#39;maven&#39; not found","body":"<p>In Gradle 7.x,</p>\n<blockquote>\n<p>The maven plugin has been removed. You should use the maven-publish\nplugin instead.</p>\n</blockquote>\n<p><strong>Reference:</strong> <a href=\"https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\" rel=\"noreferrer\">https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin</a></p>\n"},{"tags":[],"owner":{"account_id":18984426,"reputation":418,"user_id":13855094,"display_name":"Krithick S"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1631122872,"creation_date":1631122872,"answer_id":69107530,"question_id":69100888,"body_markdown":"As the [docs][1] says that the _maven plugin was removed and to use the maven-publish plugin instead_\r\n\r\nAnother approach was to use the *gradle wrapper* with version less than 7. Since wrapper is customizable. Creating a wrapper could be found [here][2]\r\n\r\nSo for example\r\n`gradle clean build`\r\nis equivalent to \r\n`./gradlew clean build`\r\n\r\nSince the version of wrapper is less than 7 every task can be ran with the help of `./gradlew &lt;task&gt;` or `./gradlew.bat &lt;task&gt;` \r\n\r\nThis worked for me.\r\n\r\n  [1]: https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\r\n  [2]: https://stackoverflow.com/a/25770202/13855094","title":"Plugin with id &#39;maven&#39; not found","body":"<p>As the <a href=\"https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\" rel=\"noreferrer\">docs</a> says that the <em>maven plugin was removed and to use the maven-publish plugin instead</em></p>\n<p>Another approach was to use the <em>gradle wrapper</em> with version less than 7. Since wrapper is customizable. Creating a wrapper could be found <a href=\"https://stackoverflow.com/a/25770202/13855094\">here</a></p>\n<p>So for example\n<code>gradle clean build</code>\nis equivalent to\n<code>./gradlew clean build</code></p>\n<p>Since the version of wrapper is less than 7 every task can be ran with the help of <code>./gradlew &lt;task&gt;</code> or <code>./gradlew.bat &lt;task&gt;</code></p>\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":23490185,"reputation":67,"user_id":17541309,"display_name":"Ajay Parambath"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692189065,"creation_date":1664214759,"answer_id":73858068,"question_id":69100888,"body_markdown":"I had this same Error when I tried to build a Project.\r\nThe problem was The Gradle version\r\n\r\nmy  Gradle version was above 7 and it showed id &#39;maven&#39; not found error.\r\n\r\n\r\nAndroid Studio go to File-&gt;Project Structure and select:\r\n\r\n&gt; Android Gradle Plugin Version: 4.2.2 \r\n&gt; Gradle Version: 6.7.1\r\n\r\nThis seems to make things work again.\r\n\r\n[Refer github][1]\r\n\r\n\r\n  [1]: https://github.com/auth0/react-native-auth0/issues/403#issuecomment-908874945","title":"Plugin with id &#39;maven&#39; not found","body":"<p>I had this same Error when I tried to build a Project.\nThe problem was The Gradle version</p>\n<p>my  Gradle version was above 7 and it showed id 'maven' not found error.</p>\n<p>Android Studio go to File-&gt;Project Structure and select:</p>\n<blockquote>\n<p>Android Gradle Plugin Version: 4.2.2\nGradle Version: 6.7.1</p>\n</blockquote>\n<p>This seems to make things work again.</p>\n<p><a href=\"https://github.com/auth0/react-native-auth0/issues/403#issuecomment-908874945\" rel=\"nofollow noreferrer\">Refer github</a></p>\n"},{"comments":[{"owner":{"account_id":9193265,"reputation":756,"user_id":6832962,"accept_rate":75,"display_name":"sdexp"},"score":0,"creation_date":1668522571,"post_id":74118097,"comment_id":131422227,"body_markdown":"In addition to this, there may also be some code that needs altering, but that will vary from project to project.","body":"In addition to this, there may also be some code that needs altering, but that will vary from project to project."}],"tags":[],"owner":{"account_id":9252895,"reputation":563,"user_id":6872808,"display_name":"Luisa Restrepo"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1666132082,"creation_date":1666132082,"answer_id":74118097,"question_id":69100888,"body_markdown":"Search for the file build.gradle. It should be in your project directory and change the \r\n\r\n    apply plugin: &#39;maven&#39;\r\n\r\n to \r\n\r\n    apply plugin: &#39;maven-publish&#39;","title":"Plugin with id &#39;maven&#39; not found","body":"<p>Search for the file build.gradle. It should be in your project directory and change the</p>\n<pre><code>apply plugin: 'maven'\n</code></pre>\n<p>to</p>\n<pre><code>apply plugin: 'maven-publish'\n</code></pre>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127441,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":69100971,"answer_count":5,"score":64,"last_activity_date":1692189065,"creation_date":1631095006,"question_id":69100888,"body_markdown":"&gt; Plugin with id &#39;maven&#39; not found.\r\n\r\nI got this error in IDEA that uses with 7.1, that is strange as `maven` is built-in plugin, and should be distributed with gradle.\r\n\r\n```\r\nsubprojects {\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;java-library&#39;\r\n    apply plugin: &#39;maven&#39;\r\n```\r\n\r\nWhen running Gradle 6.3, it seems there is no such error.\r\n","title":"Plugin with id &#39;maven&#39; not found","body":"<blockquote>\n<p>Plugin with id 'maven' not found.</p>\n</blockquote>\n<p>I got this error in IDEA that uses with 7.1, that is strange as <code>maven</code> is built-in plugin, and should be distributed with gradle.</p>\n<pre><code>subprojects {\n    apply plugin: 'java'\n    apply plugin: 'java-library'\n    apply plugin: 'maven'\n</code></pre>\n<p>When running Gradle 6.3, it seems there is no such error.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692082018,"post_id":76903815,"comment_id":135573112,"body_markdown":"There&#39;s no loop in your gameloop.","body":"There&#39;s no loop in your gameloop."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1692082067,"post_id":76903815,"comment_id":135573123,"body_markdown":"additionally to previous comment, `new Display()` being added to the frame is not the same as `new Display()` used in the loop -- the loop is calling `repaint()` from an instance that is not the one being displayed -- solution: create only one single instance of `Display`","body":"additionally to previous comment, <code>new Display()</code> being added to the frame is not the same as <code>new Display()</code> used in the loop -- the loop is calling <code>repaint()</code> from an instance that is not the one being displayed -- solution: create only one single instance of <code>Display</code>"},{"owner":{"account_id":29227471,"reputation":9,"user_id":22391852,"display_name":"SomeoneMissing"},"score":0,"creation_date":1692085905,"post_id":76903815,"comment_id":135573670,"body_markdown":"Didn&#39;t see that coming, it was a silly mistake and thank you so much","body":"Didn&#39;t see that coming, it was a silly mistake and thank you so much"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692087922,"post_id":76903815,"comment_id":135574028,"body_markdown":"You create an instance of Display in GameLoop AND GUI - they are disconnected, so when calling repaint on the instance created in GameLoop, it’s not the instance thats displayed on the screen - see “dependency injection” for a solution","body":"You create an instance of Display in GameLoop AND GUI - they are disconnected, so when calling repaint on the instance created in GameLoop, it’s not the instance thats displayed on the screen - see “dependency injection” for a solution"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692130904,"creation_date":1692100089,"answer_id":76905710,"question_id":76903815,"body_markdown":"The instance of `Display` you create here...\r\n\r\n    Gameloop() {\r\n        display = new Display();\r\n        handler = new Handler();\r\n        \r\n        try {\r\n            t = new Thread(this);\r\n            t.start();\r\n        } catch(Exception ex) { }        \r\n    }\r\n\r\nhas nothing to do with the instance you create here...\r\n\r\n    GUI() {        \r\n        setTitle(&quot;Pong&quot;);\r\n        setSize(600, 400);\r\n        setResizable(false);\r\n        setDefaultCloseOperation(3);\r\n        add(new Display());\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);        \r\n    }\r\n\r\nso, calling `repaint` on the instance of `Display` in the `GameLoop` will have no effect, as it&#39;s not actually displayed on the screen.\r\n\r\nInstead, you should be passing the same instance of `Display` to both `GUI` and `GameLoop` ... although I&#39;d be making use of `interface`s to do this, as `GameLoop` should be doing NOTHING else to the component.\r\n\r\nThis is a concept known as [Dependency Injection](https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae)\r\n\r\nThis...\r\n\r\n    @Override\r\n    public void run() {\r\n        display.getVariableValues();\r\n        display.repaint();\r\n    }\r\n\r\nis some what pointless.  As it&#39;s only going to execute once and then exit (and the associated thread will be terminated).\r\n\r\nInstead, you should be setting up some kind of loop which will continue to run (until you request it to stop via some kind of flag).  This is pretty basic socket handling.\r\n\r\nYou should also consider either making a `protected` inner class that implements `Runnable` or make use of anonymous class instead, for example...\r\n\r\n    t = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Do you game loop logic here\r\n            // or call a protected method to do it\r\n        }\r\n    });\r\n\r\nImplementing the `run` interface will expose the `public` `run` method, and realistically, no one else should be calling `run`\r\n\r\n`setSize(600, 400);` and `int PANEL_WIDTH = 584;`/`int PANEL_HEIGHT = 362;` are bad ideas.\r\n\r\nA window&#39;s viewable area is it&#39;s size minus it&#39;s decoration insets, this will  always make the viewable area smaller then the actual window size.\r\n\r\nInstead, the components should report their `preferredSize` and then the window should be `pack`ed around it.\r\n\r\nI can tell you straight up, on my system, those values are going to produce some very bad results.\r\n\r\nFor example...\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String args[]) throws InterruptedException {\r\n            new Main().start();\r\n        }\r\n\r\n        public void start() throws InterruptedException {\r\n            Display display = new Display();\r\n            Handler handler = new Handler();\r\n            new GUI(display);\r\n            new Gameloop(display, handler);\r\n\r\n        }\r\n\r\n        public class GUI extends JFrame {\r\n\r\n            GUI(Display display) {\r\n\r\n                setTitle(&quot;Pong&quot;);\r\n                //setSize(600, 400);\r\n                //setResizable(false);\r\n                //setDefaultCloseOperation(3);\r\n                add(display);\r\n                setLocationRelativeTo(null);\r\n                pack();\r\n                setVisible(true);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public class Display extends JPanel {\r\n\r\n            private static final long serialVersionUID = 1L;\r\n            int PANEL_WIDTH = 600;\r\n            int PANEL_HEIGHT = 400;\r\n            private int BALL_X;\r\n            private int BALL_Y;\r\n            private int BALL_SIZE;\r\n            private int BALL_X_VELOCITY;\r\n            private int BALL_Y_VELOCITY;\r\n            private int PLAYER_WIDTH;\r\n            private int PLAYER_HEIGHT;\r\n            private int SELF_X;\r\n            private int SELF_Y;\r\n            private int OP_X;\r\n            private int OP_Y;\r\n            boolean gameRunning = true;\r\n            Handler handler;\r\n\r\n            Display() {\r\n                handler = new Handler();\r\n                getConcreteValues();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(PANEL_WIDTH, PANEL_HEIGHT);\r\n            }\r\n\r\n            public void getConcreteValues() {\r\n                BALL_SIZE = handler.getBallSize();\r\n                PLAYER_WIDTH = handler.getPlayerWidth();\r\n                PLAYER_HEIGHT = handler.getPlayerHeight();\r\n            }\r\n\r\n            public void getVariableValues() {\r\n                int[] recievedData = handler.getData();\r\n                BALL_X = recievedData[0];\r\n                BALL_Y = recievedData[1];\r\n                BALL_X_VELOCITY = recievedData[2];\r\n                BALL_Y_VELOCITY = recievedData[3];\r\n                SELF_X = recievedData[4];\r\n                SELF_Y = recievedData[5];\r\n                OP_X = recievedData[6];\r\n                OP_Y = recievedData[7];\r\n\r\n            }\r\n\r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n\r\n                super.paintComponent(g);\r\n\r\n                g.setColor(Color.DARK_GRAY);\r\n                g.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\r\n                g.setColor(Color.WHITE);\r\n                g.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\r\n                g.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n                g.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n\r\n            }\r\n        }\r\n\r\n        public class Handler {\r\n\r\n            private int BALL_X = 100;\r\n            private int BALL_Y = 100;\r\n            private int BALL_SIZE = 15;\r\n            private int BALL_X_VELOCITY = 5;\r\n            private int BALL_Y_VELOCITY;\r\n            private int PLAYER_WIDTH = 8;\r\n            private int PLAYER_HEIGHT = 70;\r\n            private int SELF_X;\r\n            private int SELF_Y;\r\n            private int OP_X;\r\n            private int OP_Y;\r\n\r\n            private PrintWriter writer;\r\n            private BufferedReader reader;\r\n\r\n            public void setUpConnection(String SERVER_IP, int PORT) {\r\n\r\n                try (Socket socket = new Socket(SERVER_IP, PORT)) {\r\n\r\n                    writer = new PrintWriter(socket.getOutputStream());\r\n                    reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                    System.out.println(&quot;Network established!&quot;);\r\n\r\n                } catch (Exception ex) {\r\n\r\n                    System.out.println(&quot;Failed, try again later&quot;);\r\n                    ex.printStackTrace();\r\n\r\n                }\r\n\r\n            }\r\n\r\n            public int[] getData() {\r\n\r\n                BALL_X += BALL_X_VELOCITY;\r\n\r\n                int[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\r\n\r\n                return data;\r\n\r\n            }\r\n\r\n            public int getBallSize() {\r\n                return BALL_SIZE;\r\n            }\r\n\r\n            public int getPlayerWidth() {\r\n                return PLAYER_WIDTH;\r\n            }\r\n\r\n            public int getPlayerHeight() {\r\n                return PLAYER_HEIGHT;\r\n            }\r\n        }\r\n\r\n        public class Gameloop implements Runnable {\r\n\r\n            Thread t;\r\n            Display display;\r\n            Handler handler;\r\n\r\n            public Gameloop(Display display, Handler handler) throws InterruptedException {\r\n                this.display = display;\r\n                this.handler = handler;\r\n                t = new Thread(this);\r\n                t.start();\r\n            }\r\n\r\n            @Override\r\n            public void run() {\r\n                display.getVariableValues();\r\n                display.repaint();\r\n            }\r\n        }\r\n    }\r\n\r\nThis...\r\n\r\n    public void getVariableValues() {\r\n        int[] recievedData = handler.getData();\r\n        BALL_X = recievedData[0];\r\n        BALL_Y = recievedData[1];\r\n        BALL_X_VELOCITY = recievedData[2];\r\n        BALL_Y_VELOCITY = recievedData[3];\r\n        SELF_X = recievedData[4];\r\n        SELF_Y = recievedData[5];\r\n        OP_X = recievedData[6];\r\n        OP_Y = recievedData[7];\r\n    }\r\n\r\nis problematic.  Swing is NOT thread safe (and is single threaded).  This means that you should not be modifying the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.  It also means that you shouldn&#39;t be performing long running or blocking operations on the Event Dispatching Thread either.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nYou&#39;ve, instead, used a `Thread` to poll a `Socket` for data, which is read in the above method, and then which updates state information used by the UI.\r\n\r\nThis can lead to dirty reads (data is not updated correctly across the thread contexts) and/or dirty paints.\r\n\r\nThere is also a potential for long and variable delays between the reads, which would cause the paint pass to also be delayed.\r\n\r\nSo, what&#39;s the solution?  Well, that&#39;s a more difficult answer.\r\n\r\nI would first, have a clock which ticked at a regular interval and repainted the component.  As you seem to have done the past, this could be simply implemented by a Swing `Timer`.\r\n\r\nI would then have a `SwingWorker` read the data from the `Socket` and `publish` the results, which would then be `process`ed safely within the context of the Event Dispatching Thread.  In order to facilitate this, I would wrap this information in some kind of object.\r\n\r\nAt this point, this information would be synced back to the UI via the &quot;main game loop&quot;, but in your case that would probably just mean taking the latest response and updating the &quot;remote player&quot; information on the `Display`.\r\n\r\nRealistically, you should have a `Player` class, you&#39;d then pass two instances to `Display`, one representing the local player and one representing the remote player.\r\n\r\nYour game loop would then be required to process local events and update the local player (possibly submitting those updates to the other party) and updating the remote player instance with the events from the other party.","title":"I need to clear my doubts about the repaint() method","body":"<p>The instance of <code>Display</code> you create here...</p>\n<pre><code>Gameloop() {\n    display = new Display();\n    handler = new Handler();\n    \n    try {\n        t = new Thread(this);\n        t.start();\n    } catch(Exception ex) { }        \n}\n</code></pre>\n<p>has nothing to do with the instance you create here...</p>\n<pre><code>GUI() {        \n    setTitle(&quot;Pong&quot;);\n    setSize(600, 400);\n    setResizable(false);\n    setDefaultCloseOperation(3);\n    add(new Display());\n    setLocationRelativeTo(null);\n    setVisible(true);        \n}\n</code></pre>\n<p>so, calling <code>repaint</code> on the instance of <code>Display</code> in the <code>GameLoop</code> will have no effect, as it's not actually displayed on the screen.</p>\n<p>Instead, you should be passing the same instance of <code>Display</code> to both <code>GUI</code> and <code>GameLoop</code> ... although I'd be making use of <code>interface</code>s to do this, as <code>GameLoop</code> should be doing NOTHING else to the component.</p>\n<p>This is a concept known as <a href=\"https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae\" rel=\"nofollow noreferrer\">Dependency Injection</a></p>\n<p>This...</p>\n<pre><code>@Override\npublic void run() {\n    display.getVariableValues();\n    display.repaint();\n}\n</code></pre>\n<p>is some what pointless.  As it's only going to execute once and then exit (and the associated thread will be terminated).</p>\n<p>Instead, you should be setting up some kind of loop which will continue to run (until you request it to stop via some kind of flag).  This is pretty basic socket handling.</p>\n<p>You should also consider either making a <code>protected</code> inner class that implements <code>Runnable</code> or make use of anonymous class instead, for example...</p>\n<pre><code>t = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        // Do you game loop logic here\n        // or call a protected method to do it\n    }\n});\n</code></pre>\n<p>Implementing the <code>run</code> interface will expose the <code>public</code> <code>run</code> method, and realistically, no one else should be calling <code>run</code></p>\n<p><code>setSize(600, 400);</code> and <code>int PANEL_WIDTH = 584;</code>/<code>int PANEL_HEIGHT = 362;</code> are bad ideas.</p>\n<p>A window's viewable area is it's size minus it's decoration insets, this will  always make the viewable area smaller then the actual window size.</p>\n<p>Instead, the components should report their <code>preferredSize</code> and then the window should be <code>pack</code>ed around it.</p>\n<p>I can tell you straight up, on my system, those values are going to produce some very bad results.</p>\n<p>For example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String args[]) throws InterruptedException {\n        new Main().start();\n    }\n\n    public void start() throws InterruptedException {\n        Display display = new Display();\n        Handler handler = new Handler();\n        new GUI(display);\n        new Gameloop(display, handler);\n\n    }\n\n    public class GUI extends JFrame {\n\n        GUI(Display display) {\n\n            setTitle(&quot;Pong&quot;);\n            //setSize(600, 400);\n            //setResizable(false);\n            //setDefaultCloseOperation(3);\n            add(display);\n            setLocationRelativeTo(null);\n            pack();\n            setVisible(true);\n\n        }\n\n    }\n\n    public class Display extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        int PANEL_WIDTH = 600;\n        int PANEL_HEIGHT = 400;\n        private int BALL_X;\n        private int BALL_Y;\n        private int BALL_SIZE;\n        private int BALL_X_VELOCITY;\n        private int BALL_Y_VELOCITY;\n        private int PLAYER_WIDTH;\n        private int PLAYER_HEIGHT;\n        private int SELF_X;\n        private int SELF_Y;\n        private int OP_X;\n        private int OP_Y;\n        boolean gameRunning = true;\n        Handler handler;\n\n        Display() {\n            handler = new Handler();\n            getConcreteValues();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(PANEL_WIDTH, PANEL_HEIGHT);\n        }\n\n        public void getConcreteValues() {\n            BALL_SIZE = handler.getBallSize();\n            PLAYER_WIDTH = handler.getPlayerWidth();\n            PLAYER_HEIGHT = handler.getPlayerHeight();\n        }\n\n        public void getVariableValues() {\n            int[] recievedData = handler.getData();\n            BALL_X = recievedData[0];\n            BALL_Y = recievedData[1];\n            BALL_X_VELOCITY = recievedData[2];\n            BALL_Y_VELOCITY = recievedData[3];\n            SELF_X = recievedData[4];\n            SELF_Y = recievedData[5];\n            OP_X = recievedData[6];\n            OP_Y = recievedData[7];\n\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n\n            super.paintComponent(g);\n\n            g.setColor(Color.DARK_GRAY);\n            g.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\n            g.setColor(Color.WHITE);\n            g.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\n            g.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n            g.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n\n        }\n    }\n\n    public class Handler {\n\n        private int BALL_X = 100;\n        private int BALL_Y = 100;\n        private int BALL_SIZE = 15;\n        private int BALL_X_VELOCITY = 5;\n        private int BALL_Y_VELOCITY;\n        private int PLAYER_WIDTH = 8;\n        private int PLAYER_HEIGHT = 70;\n        private int SELF_X;\n        private int SELF_Y;\n        private int OP_X;\n        private int OP_Y;\n\n        private PrintWriter writer;\n        private BufferedReader reader;\n\n        public void setUpConnection(String SERVER_IP, int PORT) {\n\n            try (Socket socket = new Socket(SERVER_IP, PORT)) {\n\n                writer = new PrintWriter(socket.getOutputStream());\n                reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                System.out.println(&quot;Network established!&quot;);\n\n            } catch (Exception ex) {\n\n                System.out.println(&quot;Failed, try again later&quot;);\n                ex.printStackTrace();\n\n            }\n\n        }\n\n        public int[] getData() {\n\n            BALL_X += BALL_X_VELOCITY;\n\n            int[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\n\n            return data;\n\n        }\n\n        public int getBallSize() {\n            return BALL_SIZE;\n        }\n\n        public int getPlayerWidth() {\n            return PLAYER_WIDTH;\n        }\n\n        public int getPlayerHeight() {\n            return PLAYER_HEIGHT;\n        }\n    }\n\n    public class Gameloop implements Runnable {\n\n        Thread t;\n        Display display;\n        Handler handler;\n\n        public Gameloop(Display display, Handler handler) throws InterruptedException {\n            this.display = display;\n            this.handler = handler;\n            t = new Thread(this);\n            t.start();\n        }\n\n        @Override\n        public void run() {\n            display.getVariableValues();\n            display.repaint();\n        }\n    }\n}\n</code></pre>\n<p>This...</p>\n<pre><code>public void getVariableValues() {\n    int[] recievedData = handler.getData();\n    BALL_X = recievedData[0];\n    BALL_Y = recievedData[1];\n    BALL_X_VELOCITY = recievedData[2];\n    BALL_Y_VELOCITY = recievedData[3];\n    SELF_X = recievedData[4];\n    SELF_Y = recievedData[5];\n    OP_X = recievedData[6];\n    OP_Y = recievedData[7];\n}\n</code></pre>\n<p>is problematic.  Swing is NOT thread safe (and is single threaded).  This means that you should not be modifying the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.  It also means that you shouldn't be performing long running or blocking operations on the Event Dispatching Thread either.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>You've, instead, used a <code>Thread</code> to poll a <code>Socket</code> for data, which is read in the above method, and then which updates state information used by the UI.</p>\n<p>This can lead to dirty reads (data is not updated correctly across the thread contexts) and/or dirty paints.</p>\n<p>There is also a potential for long and variable delays between the reads, which would cause the paint pass to also be delayed.</p>\n<p>So, what's the solution?  Well, that's a more difficult answer.</p>\n<p>I would first, have a clock which ticked at a regular interval and repainted the component.  As you seem to have done the past, this could be simply implemented by a Swing <code>Timer</code>.</p>\n<p>I would then have a <code>SwingWorker</code> read the data from the <code>Socket</code> and <code>publish</code> the results, which would then be <code>process</code>ed safely within the context of the Event Dispatching Thread.  In order to facilitate this, I would wrap this information in some kind of object.</p>\n<p>At this point, this information would be synced back to the UI via the &quot;main game loop&quot;, but in your case that would probably just mean taking the latest response and updating the &quot;remote player&quot; information on the <code>Display</code>.</p>\n<p>Realistically, you should have a <code>Player</code> class, you'd then pass two instances to <code>Display</code>, one representing the local player and one representing the remote player.</p>\n<p>Your game loop would then be required to process local events and update the local player (possibly submitting those updates to the other party) and updating the remote player instance with the events from the other party.</p>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692188910,"creation_date":1692186757,"answer_id":76913286,"question_id":76903815,"body_markdown":"Try using a while loop like so -&gt;\r\n```\r\n@Override\r\npublic void run() {\r\n\twhile(t!=null) {\r\n\t\t display.getVariableValues();\r\n\t\t display.repaint();\r\n\t}\r\n}\r\n```\r\nAlso your `GUI` class uses one instance of Display, while your `Gameloop` class uses another one. Maybe remove the constructor from your `Main` class and change the `GUI` constructor to this instead -&gt;\r\n```\r\n  GUI() {\r\n        \r\n        setTitle(&quot;Pong&quot;);\r\n        setSize(600, 400);\r\n        setResizable(false);\r\n        setDefaultCloseOperation(3);\r\n        Display display = new Display();\r\n        add(display);\r\n        new Gameloop(display);\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n        \r\n    }\r\n```\r\nChange your `Gameloop` class to use this `Display` passed by GUI\r\n```\r\n Gameloop(Display display) {\r\n        \r\n        this.display = display;\r\n        handler = new Handler();\r\n        \r\n        try {\r\n            t = new Thread(this);\r\n            t.start();\r\n        } catch(Exception ex) { }\r\n        \r\n    }\r\n```","title":"I need to clear my doubts about the repaint() method","body":"<p>Try using a while loop like so -&gt;</p>\n<pre><code>@Override\npublic void run() {\n    while(t!=null) {\n         display.getVariableValues();\n         display.repaint();\n    }\n}\n</code></pre>\n<p>Also your <code>GUI</code> class uses one instance of Display, while your <code>Gameloop</code> class uses another one. Maybe remove the constructor from your <code>Main</code> class and change the <code>GUI</code> constructor to this instead -&gt;</p>\n<pre><code>  GUI() {\n        \n        setTitle(&quot;Pong&quot;);\n        setSize(600, 400);\n        setResizable(false);\n        setDefaultCloseOperation(3);\n        Display display = new Display();\n        add(display);\n        new Gameloop(display);\n        setLocationRelativeTo(null);\n        setVisible(true);\n        \n    }\n</code></pre>\n<p>Change your <code>Gameloop</code> class to use this <code>Display</code> passed by GUI</p>\n<pre><code> Gameloop(Display display) {\n        \n        this.display = display;\n        handler = new Handler();\n        \n        try {\n            t = new Thread(this);\n            t.start();\n        } catch(Exception ex) { }\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":29227471,"reputation":9,"user_id":22391852,"display_name":"SomeoneMissing"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1692188910,"creation_date":1692081228,"question_id":76903815,"body_markdown":"So I have been trying to make a pong game using javax.swing and as many of you know that I will need to call the repaint() method in a loop. It works just fine when I put the timer in the class that extends JPanel (Display.class) but when I use another class as a &quot;gameloop&quot; and call it in a loop (with the help of a timer or a thread) it simply doesn.t work I don&#39;t know what is going on.\r\n\r\nIf someone has a different approach on how to do it please let me know (I would prefer if the timer stayed in the Gameloop.class).\r\n\r\nAnd I want to know the EXACT reason on what&#39;s causing this behavior so I don&#39;t run into the same problem again.\r\n\r\nAny and all help is appreciated. Thanks in advance.\r\n\r\nHere&#39;s the code if you wanna review it, the problems are in the &quot;Display&quot; and &quot;Gameloop&quot; classes\r\n\r\n\r\n```\r\npackage pong;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tnew Main().start();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void start() {\r\n\r\n\t\tnew GUI();\r\n\t\tnew Gameloop();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class GUI extends JFrame {\r\n\r\n\tGUI() {\r\n\t\t\r\n\t\tsetTitle(&quot;Pong&quot;);\r\n\t\tsetSize(600, 400);\r\n\t\tsetResizable(false);\r\n\t\tsetDefaultCloseOperation(3);\r\n\t\tadd(new Display());\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class Display extends JPanel {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tint PANEL_WIDTH = 584;\r\n\tint PANEL_HEIGHT = 362;\r\n\tprivate int BALL_X;\r\n\tprivate int BALL_Y;\r\n\tprivate int BALL_SIZE;\r\n\tprivate int BALL_X_VELOCITY;\r\n\tprivate int BALL_Y_VELOCITY;\r\n\tprivate int PLAYER_WIDTH;\r\n\tprivate int PLAYER_HEIGHT;\r\n\tprivate int SELF_X;\r\n\tprivate int SELF_Y;\r\n\tprivate int OP_X;\r\n\tprivate int OP_Y;\r\n\tboolean gameRunning = true;\r\n\tHandler handler;\r\n\t\r\n\tDisplay() {\r\n\t\t\r\n\t\thandler = new Handler();\r\n\t\tgetConcreteValues();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void getConcreteValues() {\r\n\t\t\r\n\t\tBALL_SIZE = handler.getBallSize();\r\n\t\tPLAYER_WIDTH = handler.getPlayerWidth();\r\n\t\tPLAYER_HEIGHT = handler.getPlayerHeight();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void getVariableValues() {\r\n\t\t\r\n\t\tint[] recievedData = handler.getData();\r\n\t\tBALL_X = recievedData[0];\r\n\t\tBALL_Y = recievedData[1];\r\n\t\tBALL_X_VELOCITY = recievedData[2];\r\n\t\tBALL_Y_VELOCITY = recievedData[3];\r\n\t\tSELF_X = recievedData[4];\r\n\t\tSELF_Y = recievedData[5];\r\n\t\tOP_X = recievedData[6];\r\n\t\tOP_Y = recievedData[7];\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tg.setColor(Color.DARK_GRAY);\r\n\t\tg.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\r\n\t\tg.setColor(Color.WHITE);\r\n\t\tg.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\r\n\t\tg.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n\t\tg.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Handler {\r\n\t\r\n\tprivate int BALL_X = 100;\r\n\tprivate int BALL_Y = 100;\r\n\tprivate int BALL_SIZE = 15;\r\n\tprivate int BALL_X_VELOCITY = 5;\r\n\tprivate int BALL_Y_VELOCITY;\r\n\tprivate int PLAYER_WIDTH = 8;\r\n\tprivate int PLAYER_HEIGHT = 70;\r\n\tprivate int SELF_X;\r\n\tprivate int SELF_Y;\r\n\tprivate int OP_X;\r\n\tprivate int OP_Y;\r\n\t\r\n\tprivate PrintWriter writer;\r\n\tprivate BufferedReader reader;\r\n\t\r\n\tpublic void setUpConnection(String SERVER_IP, int PORT) {\r\n\t\t\r\n\t\ttry(Socket socket = new Socket(SERVER_IP, PORT)) {\r\n\t\t\t\r\n\t\t\twriter = new PrintWriter(socket.getOutputStream());\r\n\t\t\treader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t\t\tSystem.out.println(&quot;Network established!&quot;);\r\n\t\t\t\r\n\t\t} catch (Exception ex) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Failed, try again later&quot;);\r\n\t\t\tex.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int[] getData() {\r\n\t\t\r\n\t\tBALL_X+=BALL_X_VELOCITY;\r\n\t\t\r\n\t\tint[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\r\n\t\t\r\n\t\treturn data;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int getBallSize() {\r\n\t\treturn BALL_SIZE;\r\n\t}\r\n\t\r\n\tpublic int getPlayerWidth() {\r\n\t\treturn PLAYER_WIDTH;\r\n\t}\r\n\t\r\n\tpublic int getPlayerHeight() {\r\n\t\treturn PLAYER_HEIGHT;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class Gameloop implements Runnable {\r\n\t\r\n\tThread t;\r\n\tDisplay display;\r\n\tHandler handler;\r\n\t\r\n\tGameloop() {\r\n\t\t\r\n\t\tdisplay = new Display();\r\n\t\thandler = new Handler();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tt = new Thread(this);\r\n\t\t\tt.start();\r\n\t\t} catch(Exception ex) { }\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t\r\n\t\tdisplay.getVariableValues();\r\n\t\tdisplay.repaint();\r\n\t\t\r\n\t}\r\n\r\n}\t\r\n```\r\n\r\nI hope this is all the info you will need.\r\n\r\nI don&#39;t expect (or ask) anybody to just solve my problem but I want a detailed explanation as to why this behavior is happening.\r\n\r\nAnd yes I also tried using Timer in java.swing to execute the gameloop as well and it still didn&#39;t work","title":"I need to clear my doubts about the repaint() method","body":"<p>So I have been trying to make a pong game using javax.swing and as many of you know that I will need to call the repaint() method in a loop. It works just fine when I put the timer in the class that extends JPanel (Display.class) but when I use another class as a &quot;gameloop&quot; and call it in a loop (with the help of a timer or a thread) it simply doesn.t work I don't know what is going on.</p>\n<p>If someone has a different approach on how to do it please let me know (I would prefer if the timer stayed in the Gameloop.class).</p>\n<p>And I want to know the EXACT reason on what's causing this behavior so I don't run into the same problem again.</p>\n<p>Any and all help is appreciated. Thanks in advance.</p>\n<p>Here's the code if you wanna review it, the problems are in the &quot;Display&quot; and &quot;Gameloop&quot; classes</p>\n<pre><code>package pong;\n\npublic class Main {\n\n    public static void main(String args[]) {\n        \n        new Main().start();\n        \n    }\n    \n    public void start() {\n\n        new GUI();\n        new Gameloop();\n        \n    }\n    \n}\n</code></pre>\n<pre><code>package pong;\n\nimport javax.swing.*;\n\npublic class GUI extends JFrame {\n\n    GUI() {\n        \n        setTitle(&quot;Pong&quot;);\n        setSize(600, 400);\n        setResizable(false);\n        setDefaultCloseOperation(3);\n        add(new Display());\n        setLocationRelativeTo(null);\n        setVisible(true);\n        \n    }\n    \n}\n</code></pre>\n<pre><code>package pong;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class Display extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    int PANEL_WIDTH = 584;\n    int PANEL_HEIGHT = 362;\n    private int BALL_X;\n    private int BALL_Y;\n    private int BALL_SIZE;\n    private int BALL_X_VELOCITY;\n    private int BALL_Y_VELOCITY;\n    private int PLAYER_WIDTH;\n    private int PLAYER_HEIGHT;\n    private int SELF_X;\n    private int SELF_Y;\n    private int OP_X;\n    private int OP_Y;\n    boolean gameRunning = true;\n    Handler handler;\n    \n    Display() {\n        \n        handler = new Handler();\n        getConcreteValues();\n        \n    }\n    \n    public void getConcreteValues() {\n        \n        BALL_SIZE = handler.getBallSize();\n        PLAYER_WIDTH = handler.getPlayerWidth();\n        PLAYER_HEIGHT = handler.getPlayerHeight();\n        \n    }\n    \n    public void getVariableValues() {\n        \n        int[] recievedData = handler.getData();\n        BALL_X = recievedData[0];\n        BALL_Y = recievedData[1];\n        BALL_X_VELOCITY = recievedData[2];\n        BALL_Y_VELOCITY = recievedData[3];\n        SELF_X = recievedData[4];\n        SELF_Y = recievedData[5];\n        OP_X = recievedData[6];\n        OP_Y = recievedData[7];\n        \n    }\n    \n    @Override\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        \n        g.setColor(Color.DARK_GRAY);\n        g.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\n        g.setColor(Color.WHITE);\n        g.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\n        g.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n        g.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n        \n    }\n    \n}\n</code></pre>\n<pre><code>package pong;\n\nimport java.io.*;\nimport java.net.*;\n\npublic class Handler {\n    \n    private int BALL_X = 100;\n    private int BALL_Y = 100;\n    private int BALL_SIZE = 15;\n    private int BALL_X_VELOCITY = 5;\n    private int BALL_Y_VELOCITY;\n    private int PLAYER_WIDTH = 8;\n    private int PLAYER_HEIGHT = 70;\n    private int SELF_X;\n    private int SELF_Y;\n    private int OP_X;\n    private int OP_Y;\n    \n    private PrintWriter writer;\n    private BufferedReader reader;\n    \n    public void setUpConnection(String SERVER_IP, int PORT) {\n        \n        try(Socket socket = new Socket(SERVER_IP, PORT)) {\n            \n            writer = new PrintWriter(socket.getOutputStream());\n            reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            System.out.println(&quot;Network established!&quot;);\n            \n        } catch (Exception ex) {\n            \n            System.out.println(&quot;Failed, try again later&quot;);\n            ex.printStackTrace();\n            \n        }\n        \n    }\n    \n    public int[] getData() {\n        \n        BALL_X+=BALL_X_VELOCITY;\n        \n        int[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\n        \n        return data;\n        \n    }\n    \n    public int getBallSize() {\n        return BALL_SIZE;\n    }\n    \n    public int getPlayerWidth() {\n        return PLAYER_WIDTH;\n    }\n    \n    public int getPlayerHeight() {\n        return PLAYER_HEIGHT;\n    }\n\n}\n</code></pre>\n<pre><code>package pong;\n\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class Gameloop implements Runnable {\n    \n    Thread t;\n    Display display;\n    Handler handler;\n    \n    Gameloop() {\n        \n        display = new Display();\n        handler = new Handler();\n        \n        try {\n            t = new Thread(this);\n            t.start();\n        } catch(Exception ex) { }\n        \n    }\n\n    @Override\n    public void run() {\n        \n        display.getVariableValues();\n        display.repaint();\n        \n    }\n\n}   \n</code></pre>\n<p>I hope this is all the info you will need.</p>\n<p>I don't expect (or ask) anybody to just solve my problem but I want a detailed explanation as to why this behavior is happening.</p>\n<p>And yes I also tried using Timer in java.swing to execute the gameloop as well and it still didn't work</p>\n"},{"tags":["java","caching"],"comments":[{"owner":{"account_id":915836,"reputation":6730,"user_id":948652,"accept_rate":85,"display_name":"arynaq"},"score":1,"creation_date":1371131572,"post_id":17088812,"comment_id":24718162,"body_markdown":"Simplest would be using a HashMap with a timer that releases it every 2 minutes.","body":"Simplest would be using a HashMap with a timer that releases it every 2 minutes."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1371131629,"post_id":17088812,"comment_id":24718205,"body_markdown":"@arynaq That&#39;s hardly the simplest :) You can go simpler by storing the last update, because you do not need to clear unless there&#39;s another request.","body":"@arynaq That&#39;s hardly the simplest :) You can go simpler by storing the last update, because you do not need to clear unless there&#39;s another request."},{"owner":{"account_id":402018,"reputation":16610,"user_id":768935,"accept_rate":93,"display_name":"allprog"},"score":0,"creation_date":1371132228,"post_id":17088812,"comment_id":24718569,"body_markdown":"@arynaq take a look at Google Guava&#39;s LoadingCache. That does this for you. Implementing such functionality is far from simple.","body":"@arynaq take a look at Google Guava&#39;s LoadingCache. That does this for you. Implementing such functionality is far from simple."}],"answers":[{"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371131854,"post_id":17088883,"comment_id":24718329,"body_markdown":"+1, this is a fantastic way of caching, with expiry and all","body":"+1, this is a fantastic way of caching, with expiry and all"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1687815733,"post_id":17088883,"comment_id":134986818,"body_markdown":"can anyone rewrite answer using Caffeine? guava cache is deprecated https://stackoverflow.com/questions/44175085/why-did-spring-framework-deprecate-the-use-of-guava-cache","body":"can anyone rewrite answer using Caffeine? guava cache is deprecated <a href=\"https://stackoverflow.com/questions/44175085/why-did-spring-framework-deprecate-the-use-of-guava-cache\" title=\"why did spring framework deprecate the use of guava cache\">stackoverflow.com/questions/44175085/&hellip;</a>"}],"tags":[],"owner":{"account_id":176297,"reputation":4545,"user_id":406896,"accept_rate":64,"display_name":"Arnab Biswas"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1692188771,"creation_date":1371131701,"answer_id":17088883,"question_id":17088812,"body_markdown":"Check [Guava Cache Builder][1]. It may be useful.\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/CachesExplained\r\n","title":"Caching the result of a method in Java","body":"<p>Check <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"nofollow noreferrer\">Guava Cache Builder</a>. It may be useful.</p>\n"},{"comments":[{"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"score":1,"creation_date":1371133608,"post_id":17088928,"comment_id":24719534,"body_markdown":"This is a lot like what I need, it&#39;s just too verbose. I&#39;ll try to find (or write) a implementation of Supplier which takes a method (or just a method name).","body":"This is a lot like what I need, it&#39;s just too verbose. I&#39;ll try to find (or write) a implementation of Supplier which takes a method (or just a method name)."},{"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"score":0,"creation_date":1371133806,"post_id":17088928,"comment_id":24719669,"body_markdown":"Yes, in Java &lt;8, there is no type-safe way of writing this more concisely. I recommend using another JVM language. ;)","body":"Yes, in Java &lt;8, there is no type-safe way of writing this more concisely. I recommend using another JVM language. ;)"},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1455165243,"post_id":17088928,"comment_id":58369765,"body_markdown":"what about java-8 `Supplier` and caching?","body":"what about java-8 <code>Supplier</code> and caching?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1687815723,"post_id":17088928,"comment_id":134986815,"body_markdown":"can anyone rewrite answer using Caffeine? https://stackoverflow.com/questions/44175085/why-did-spring-framework-deprecate-the-use-of-guava-cache   guava cache is deprecated","body":"can anyone rewrite answer using Caffeine? <a href=\"https://stackoverflow.com/questions/44175085/why-did-spring-framework-deprecate-the-use-of-guava-cache\" title=\"why did spring framework deprecate the use of guava cache\">stackoverflow.com/questions/44175085/&hellip;</a>   guava cache is deprecated"}],"tags":[],"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1371132413,"creation_date":1371131809,"answer_id":17088928,"question_id":17088812,"body_markdown":"Use Guava&#39;s [Suppliers.memoizeWithExpiration(Supplier&lt;T&gt; delegate, long duration, TimeUnit unit)][1]:\r\n\r\n    private final Supplier&lt;List&lt;Something&gt;&gt; cache =\r\n        Suppliers.memoizeWithExpiration(new Supplier&lt;List&lt;Something&gt;&gt;() {\r\n            public List&lt;Something&gt; get() {\r\n                return loadFromDb();\r\n            }\r\n        }, 2, MINUTES);\r\n    \r\n    private List&lt;Something&gt; loadFromDbCached() {\r\n        return cache.get();\r\n    }\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Suppliers.html#memoizeWithExpiration%28com.google.common.base.Supplier,%20long,%20java.util.concurrent.TimeUnit%29","title":"Caching the result of a method in Java","body":"<p>Use Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Suppliers.html#memoizeWithExpiration%28com.google.common.base.Supplier,%20long,%20java.util.concurrent.TimeUnit%29\">Suppliers.memoizeWithExpiration(Supplier delegate, long duration, TimeUnit unit)</a>:</p>\n\n<pre><code>private final Supplier&lt;List&lt;Something&gt;&gt; cache =\n    Suppliers.memoizeWithExpiration(new Supplier&lt;List&lt;Something&gt;&gt;() {\n        public List&lt;Something&gt; get() {\n            return loadFromDb();\n        }\n    }, 2, MINUTES);\n\nprivate List&lt;Something&gt; loadFromDbCached() {\n    return cache.get();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1691060352,"creation_date":1407136171,"answer_id":25113382,"question_id":17088812,"body_markdown":"You can use [`@Cacheable`](http://aspects.jcabi.com/annotation-cacheable.html) annotation from [jcabi-aspects](http://aspects.jcabi.com/):\r\n\r\n    public class Resource {\r\n      @Cacheable(lifetime = 5, unit = TimeUnit.SECONDS)\r\n      public String load(URL url) {\r\n        return url.openConnection().getContent();\r\n      }\r\n    }\r\n\r\nThe result of `load()` will be cached for five seconds. This blog post of mine may help you understand it better: [Cache Java Method Results (2014)](http://www.yegor256.com/2014/08/03/cacheable-java-annotation.html)","title":"Caching the result of a method in Java","body":"<p>You can use <a href=\"http://aspects.jcabi.com/annotation-cacheable.html\" rel=\"nofollow noreferrer\"><code>@Cacheable</code></a> annotation from <a href=\"http://aspects.jcabi.com/\" rel=\"nofollow noreferrer\">jcabi-aspects</a>:</p>\n<pre><code>public class Resource {\n  @Cacheable(lifetime = 5, unit = TimeUnit.SECONDS)\n  public String load(URL url) {\n    return url.openConnection().getContent();\n  }\n}\n</code></pre>\n<p>The result of <code>load()</code> will be cached for five seconds. This blog post of mine may help you understand it better: <a href=\"http://www.yegor256.com/2014/08/03/cacheable-java-annotation.html\" rel=\"nofollow noreferrer\">Cache Java Method Results (2014)</a></p>\n"}],"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18001,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1484847005,"accepted_answer_id":17088928,"answer_count":3,"score":6,"last_activity_date":1692188771,"creation_date":1371131455,"question_id":17088812,"body_markdown":"I have this method that loads a lot of data from the database:\r\n\r\n    private List&lt;Something&gt; loadFromDb() {\r\n        // Some loading which can take a lot of time\r\n    }\r\n\r\nI am looking for a ***simple*** way to cache the results for some fixed time (2 minutes for example). I do not need to intercept the method invocation itself, just to cache the _returned data_. I can write another method that does the caching if necessary.\r\n\r\nI don&#39;t want to:\r\n\r\n- Use [AOP][1] compile time weaving like [this one][2] - it requires changes in the build\r\n- Use `@Cacheable` in Spring. I have to define a cache for each cacheable method\r\n\r\nIs there a library which can simplify this task, or should I do something else? An example use of such library would be\r\n\r\n    private List&lt;Something&gt; loadFromDbCached() {\r\n        // In Java 8, &#39;this::loadFromDb&#39; would be possible instead of a String\r\n        return SimpleCaching.cache(this, &quot;loadFromDb&quot;, 2, MINUTES).call();\r\n    }\r\n\r\nI am looking for a library that does that, managing the cache is more trouble than it seems, especially if you have concurrent access\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Aspect-oriented_programming\r\n  [2]: https://stackoverflow.com/a/14670421/1047448\r\n","title":"Caching the result of a method in Java","body":"<p>I have this method that loads a lot of data from the database:</p>\n<pre><code>private List&lt;Something&gt; loadFromDb() {\n    // Some loading which can take a lot of time\n}\n</code></pre>\n<p>I am looking for a <em><strong>simple</strong></em> way to cache the results for some fixed time (2 minutes for example). I do not need to intercept the method invocation itself, just to cache the <em>returned data</em>. I can write another method that does the caching if necessary.</p>\n<p>I don't want to:</p>\n<ul>\n<li>Use <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow noreferrer\">AOP</a> compile time weaving like <a href=\"https://stackoverflow.com/a/14670421/1047448\">this one</a> - it requires changes in the build</li>\n<li>Use <code>@Cacheable</code> in Spring. I have to define a cache for each cacheable method</li>\n</ul>\n<p>Is there a library which can simplify this task, or should I do something else? An example use of such library would be</p>\n<pre><code>private List&lt;Something&gt; loadFromDbCached() {\n    // In Java 8, 'this::loadFromDb' would be possible instead of a String\n    return SimpleCaching.cache(this, &quot;loadFromDb&quot;, 2, MINUTES).call();\n}\n</code></pre>\n<p>I am looking for a library that does that, managing the cache is more trouble than it seems, especially if you have concurrent access</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692575682,"post_id":76913524,"comment_id":135638052,"body_markdown":"did you use chatgpt or any similar AI at all to write any part of this answer?","body":"did you use chatgpt or any similar AI at all to write any part of this answer?"}],"tags":[],"owner":{"account_id":5221534,"reputation":314,"user_id":4174849,"display_name":"Omid"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692188678,"creation_date":1692188678,"answer_id":76913524,"question_id":76913404,"body_markdown":"The problem lies in the usage of flatMap within the forEach loop. The flatMap operation is used to transform a value and unwrap it from a Mono or Flux. However, in your current code, you are using flatMap within a forEach loop, which does not allow you to return a Mono from inside the forEach loop. You are instead returning values from within the inner subscribe block, which doesn&#39;t work as expected.\r\n\r\n\r\nHere&#39;s a modified version of your saveDeviceDetails method that uses Flux and flatMap correctly to handle the asynchronous operations and compose the final response:\r\n\r\n\r\n    @Override\r\n    public Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\r\n    // ... (previous code)\r\n\r\n    // Process the list of device details using Flux\r\n    return Flux.fromIterable(activeDeviceList)\r\n            .flatMap(activeDevice -&gt; {\r\n                String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\r\n                String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\r\n                LocalDate addedOn = LocalDate.parse(addedOnDate);\r\n                LocalDate updatedOn = LocalDate.parse(updatedOnDate);\r\n                String deviceId = activeDevice.getDeviceId();\r\n\r\n                if (!addedOn.isEqual(updatedOn)) {\r\n                    return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\r\n                            .flatMap(deviceDetails2 -&gt; {\r\n                                // Update device details and save\r\n                                deviceDetails2.setContractId(activeDevice.getContractId());\r\n                                deviceDetails2.setCustomerId(activeDevice.getCustomerId());\r\n                                // ... (set other properties)\r\n                                \r\n                                return activeDevicesRepo.save(deviceDetails2)\r\n                                        .map(savedDeviceDetails -&gt; {\r\n                                            responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\r\n                                            responseDTO.setStatusCode(201);\r\n                                            return responseDTO;\r\n                                        });\r\n                            });\r\n                } else {\r\n                    // Handle the case where addedOn is equal to updatedOn\r\n                    // (You might want to return an appropriate response here)\r\n                    return Mono.empty();\r\n                }\r\n            })\r\n            .last()  // Collect the last emitted value (responseDTO) from the Flux\r\n            .switchIfEmpty(Mono.defer(() -&gt; {\r\n                responseDTO.setResponseMessage(&quot;No records updated&quot;);\r\n                responseDTO.setStatusCode(200);\r\n                return Mono.just(responseDTO);\r\n            }));\r\n    }","title":"SpringBoot WebFlux Update List of Object data and return a Mono","body":"<p>The problem lies in the usage of flatMap within the forEach loop. The flatMap operation is used to transform a value and unwrap it from a Mono or Flux. However, in your current code, you are using flatMap within a forEach loop, which does not allow you to return a Mono from inside the forEach loop. You are instead returning values from within the inner subscribe block, which doesn't work as expected.</p>\n<p>Here's a modified version of your saveDeviceDetails method that uses Flux and flatMap correctly to handle the asynchronous operations and compose the final response:</p>\n<pre><code>@Override\npublic Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\n// ... (previous code)\n\n// Process the list of device details using Flux\nreturn Flux.fromIterable(activeDeviceList)\n        .flatMap(activeDevice -&gt; {\n            String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\n            String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\n            LocalDate addedOn = LocalDate.parse(addedOnDate);\n            LocalDate updatedOn = LocalDate.parse(updatedOnDate);\n            String deviceId = activeDevice.getDeviceId();\n\n            if (!addedOn.isEqual(updatedOn)) {\n                return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\n                        .flatMap(deviceDetails2 -&gt; {\n                            // Update device details and save\n                            deviceDetails2.setContractId(activeDevice.getContractId());\n                            deviceDetails2.setCustomerId(activeDevice.getCustomerId());\n                            // ... (set other properties)\n                            \n                            return activeDevicesRepo.save(deviceDetails2)\n                                    .map(savedDeviceDetails -&gt; {\n                                        responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\n                                        responseDTO.setStatusCode(201);\n                                        return responseDTO;\n                                    });\n                        });\n            } else {\n                // Handle the case where addedOn is equal to updatedOn\n                // (You might want to return an appropriate response here)\n                return Mono.empty();\n            }\n        })\n        .last()  // Collect the last emitted value (responseDTO) from the Flux\n        .switchIfEmpty(Mono.defer(() -&gt; {\n            responseDTO.setResponseMessage(&quot;No records updated&quot;);\n            responseDTO.setStatusCode(200);\n            return Mono.just(responseDTO);\n        }));\n}\n</code></pre>\n"}],"owner":{"account_id":13765213,"reputation":31,"user_id":13387964,"display_name":"Balachander K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692188678,"creation_date":1692187688,"question_id":76913404,"body_markdown":"Im passing a List&lt;Object&gt; in the request body and i need to return a Mono&lt;Object&gt; as the output response.  But while using flatMap after single update the return statement works and it throws error on the IDE.  Is there any way to achieve this?\r\n\r\nReportController.java\r\n\r\n      @ApiOperation(&quot;This is a POST API for saving active Device details.&quot;)\r\n        @PostMapping(value = UrlPaths.ACTIVE_DEVICE_WITH_DISCOUNT)\r\n        public Mono&lt;UserEventsResponseDTO&gt; activeDeviceWithDiscount(\r\n                @Valid @RequestBody List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; userEventsDTOList) {\r\n            logger.info(&quot;Devices details....{}&quot;, userEventsDTOList);\r\n    \r\n            return reportService.saveDeviceDetails(userEventsDTOList);\r\n        }\r\n\r\nReportServiceImpl.java\r\n\r\n     @Override\r\n        public Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(\r\n                List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\r\n            final UserEventsResponseDTO responseDTO = new UserEventsResponseDTO();\r\n            final List&lt;SelectedEventsForActiveDevicesWithDiscount&gt; activeDeviceList = new ArrayList&lt;SelectedEventsForActiveDevicesWithDiscount&gt;();\r\n            deviceList.forEach(device -&gt; {\r\n                SelectedEventsForActiveDevicesWithDiscount deviceDetails = new SelectedEventsForActiveDevicesWithDiscount();\r\n                deviceDetails.setAddedOn(device.getAddedOn());\r\n                deviceDetails.setUpdatedOn(device.getUpdatedOn());\r\n                deviceDetails.setContractId(device.getContractId());\r\n                deviceDetails.setCustomerId(device.getCustomerId());\r\n                deviceDetails.setEventName(device.getEventName());\r\n                deviceDetails.setIsSubscribed(device.getIsSubscribed());\r\n                deviceDetails.setMonthYear(device.getMonthYear());\r\n                deviceDetails.setDeviceType(device.getDeviceType());\r\n                deviceDetails.setProfileId(device.getProfileId());\r\n                deviceDetails.setSourceId(device.getSourceId());\r\n                deviceDetails.setDeviceId(device.getDeviceId());\r\n                activeDeviceList.add(deviceDetails);\r\n            });\r\n            logger.info(&quot;Device Details...{}&quot;, activeDeviceList);\r\n            activeDeviceList.forEach(activeDevice -&gt; {\r\n                String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\r\n                logger.info(&quot;Added on...{}&quot;, addedOnDate);\r\n                String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\r\n                logger.info(&quot;Updated on....{}&quot;, updatedOnDate);\r\n                LocalDate addedOn = LocalDate.parse(addedOnDate);\r\n                LocalDate updatedOn = LocalDate.parse(updatedOnDate);\r\n                String deviceId = activeDevice.getDeviceId();\r\n                logger.info(&quot;Device ID...{}&quot;, deviceId);\r\n                if (!addedOn.isEqual(updatedOn)) {\r\n                    logger.info(&quot;It is a new record...{}&quot;);\r\n                    return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\r\n                            .flatMap(deviceDetails2 -&gt; {\r\n                                logger.info(&quot;Device Details...{}&quot;, deviceDetails2);\r\n                                deviceDetails2.setContractId(activeDevice.getContractId());\r\n                                deviceDetails2.setCustomerId(activeDevice.getCustomerId());\r\n                                deviceDetails2.setDeviceId(activeDevice.getDeviceId());\r\n                                deviceDetails2.setDeviceType(activeDevice.getDeviceType());\r\n                                deviceDetails2.setEventName(activeDevice.getEventName());\r\n                                deviceDetails2.setIsSubscribed(activeDevice.getIsSubscribed());\r\n                                deviceDetails2.setMonthYear(activeDevice.getMonthYear());\r\n                                deviceDetails2.setProfileId(activeDevice.getProfileId());\r\n                                deviceDetails2.setSourceId(activeDevice.getSourceId());\r\n                                deviceDetails2.setUpdatedOn(activeDevice.getUpdatedOn());\r\n                                deviceDetails2.setAddedOn(activeDevice.getAddedOn());\r\n                                activeDevicesRepo.save(deviceDetails2).subscribe(deviceDetails3 -&gt; {\r\n                                    logger.info(&quot;Record updated Successfully...{}&quot;, deviceDetails3);\r\n                                    responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\r\n                                    responseDTO.setStatusCode(201);\r\n                                    return Mono.just(responseDTO);\r\n                                });\r\n                                \r\n                            });\r\n                }\r\n            });\r\n        }","title":"SpringBoot WebFlux Update List of Object data and return a Mono","body":"<p>Im passing a List in the request body and i need to return a Mono as the output response.  But while using flatMap after single update the return statement works and it throws error on the IDE.  Is there any way to achieve this?</p>\n<p>ReportController.java</p>\n<pre><code>  @ApiOperation(&quot;This is a POST API for saving active Device details.&quot;)\n    @PostMapping(value = UrlPaths.ACTIVE_DEVICE_WITH_DISCOUNT)\n    public Mono&lt;UserEventsResponseDTO&gt; activeDeviceWithDiscount(\n            @Valid @RequestBody List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; userEventsDTOList) {\n        logger.info(&quot;Devices details....{}&quot;, userEventsDTOList);\n\n        return reportService.saveDeviceDetails(userEventsDTOList);\n    }\n</code></pre>\n<p>ReportServiceImpl.java</p>\n<pre><code> @Override\n    public Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(\n            List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\n        final UserEventsResponseDTO responseDTO = new UserEventsResponseDTO();\n        final List&lt;SelectedEventsForActiveDevicesWithDiscount&gt; activeDeviceList = new ArrayList&lt;SelectedEventsForActiveDevicesWithDiscount&gt;();\n        deviceList.forEach(device -&gt; {\n            SelectedEventsForActiveDevicesWithDiscount deviceDetails = new SelectedEventsForActiveDevicesWithDiscount();\n            deviceDetails.setAddedOn(device.getAddedOn());\n            deviceDetails.setUpdatedOn(device.getUpdatedOn());\n            deviceDetails.setContractId(device.getContractId());\n            deviceDetails.setCustomerId(device.getCustomerId());\n            deviceDetails.setEventName(device.getEventName());\n            deviceDetails.setIsSubscribed(device.getIsSubscribed());\n            deviceDetails.setMonthYear(device.getMonthYear());\n            deviceDetails.setDeviceType(device.getDeviceType());\n            deviceDetails.setProfileId(device.getProfileId());\n            deviceDetails.setSourceId(device.getSourceId());\n            deviceDetails.setDeviceId(device.getDeviceId());\n            activeDeviceList.add(deviceDetails);\n        });\n        logger.info(&quot;Device Details...{}&quot;, activeDeviceList);\n        activeDeviceList.forEach(activeDevice -&gt; {\n            String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\n            logger.info(&quot;Added on...{}&quot;, addedOnDate);\n            String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\n            logger.info(&quot;Updated on....{}&quot;, updatedOnDate);\n            LocalDate addedOn = LocalDate.parse(addedOnDate);\n            LocalDate updatedOn = LocalDate.parse(updatedOnDate);\n            String deviceId = activeDevice.getDeviceId();\n            logger.info(&quot;Device ID...{}&quot;, deviceId);\n            if (!addedOn.isEqual(updatedOn)) {\n                logger.info(&quot;It is a new record...{}&quot;);\n                return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\n                        .flatMap(deviceDetails2 -&gt; {\n                            logger.info(&quot;Device Details...{}&quot;, deviceDetails2);\n                            deviceDetails2.setContractId(activeDevice.getContractId());\n                            deviceDetails2.setCustomerId(activeDevice.getCustomerId());\n                            deviceDetails2.setDeviceId(activeDevice.getDeviceId());\n                            deviceDetails2.setDeviceType(activeDevice.getDeviceType());\n                            deviceDetails2.setEventName(activeDevice.getEventName());\n                            deviceDetails2.setIsSubscribed(activeDevice.getIsSubscribed());\n                            deviceDetails2.setMonthYear(activeDevice.getMonthYear());\n                            deviceDetails2.setProfileId(activeDevice.getProfileId());\n                            deviceDetails2.setSourceId(activeDevice.getSourceId());\n                            deviceDetails2.setUpdatedOn(activeDevice.getUpdatedOn());\n                            deviceDetails2.setAddedOn(activeDevice.getAddedOn());\n                            activeDevicesRepo.save(deviceDetails2).subscribe(deviceDetails3 -&gt; {\n                                logger.info(&quot;Record updated Successfully...{}&quot;, deviceDetails3);\n                                responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\n                                responseDTO.setStatusCode(201);\n                                return Mono.just(responseDTO);\n                            });\n                            \n                        });\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","spring","database","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":2454359,"reputation":77,"user_id":2139911,"accept_rate":0,"display_name":"Guillermo Garcia"},"score":0,"creation_date":1691195910,"post_id":72701126,"comment_id":135463944,"body_markdown":"Did you found a way to do it?","body":"Did you found a way to do it?"}],"answers":[{"comments":[{"owner":{"account_id":11594476,"reputation":65,"user_id":12377618,"display_name":"Biswambar"},"score":0,"creation_date":1692596132,"post_id":76913471,"comment_id":135639451,"body_markdown":"You dont have to evict the existing connection. Even after the password expire existing connections hold valid.","body":"You dont have to evict the existing connection. Even after the password expire existing connections hold valid."}],"tags":[],"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692188192,"creation_date":1692188192,"answer_id":76913471,"question_id":72701126,"body_markdown":"First of all, you have to find the exact time when the password was going to reset. In my case we are using AWS SecretManager bind with RDS, and password was auto-rotated based on cron expression at 00:00 on the first day of the month. I created scheduler which fetch password just after it was get auto-rotated and update in hikari.\r\n\r\n    @Scheduled(cron = &quot;2 0 1 * *&quot;&quot;)\r\n\tpublic void autoRotatePassword() throws Exception {\r\n\t\tHikariDataSource datasource = (HikariDataSource) dataSource();\r\n\t\tHikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\r\n\t\t\r\n\t\tLOGGER.info(String.format(&quot;Start refreshing passowrd in %s...&quot;, hikariConfigMXBean.getPoolName()));\r\n\t\thikariConfigMXBean.setPassword(getPassword());\r\n\t\t\r\n\t\t HikariPoolMXBean pool = datasource.getHikariPoolMXBean();\r\n\t     if (pool != null) {\r\n\t    \t  pool.softEvictConnections();  // Close unused cnxns &amp; mark open ones for disposal\r\n\t\t      pool.resumePool(); \t// Re-enable connections \r\n\t    }\r\n\t}\r\n\r\nWhere getPassword() contains the mechanism for fetching the password from the SecretManager.","title":"HikariCp change password dynamically after setPassword","body":"<p>First of all, you have to find the exact time when the password was going to reset. In my case we are using AWS SecretManager bind with RDS, and password was auto-rotated based on cron expression at 00:00 on the first day of the month. I created scheduler which fetch password just after it was get auto-rotated and update in hikari.</p>\n<pre><code>@Scheduled(cron = &quot;2 0 1 * *&quot;&quot;)\npublic void autoRotatePassword() throws Exception {\n    HikariDataSource datasource = (HikariDataSource) dataSource();\n    HikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\n    \n    LOGGER.info(String.format(&quot;Start refreshing passowrd in %s...&quot;, hikariConfigMXBean.getPoolName()));\n    hikariConfigMXBean.setPassword(getPassword());\n    \n     HikariPoolMXBean pool = datasource.getHikariPoolMXBean();\n     if (pool != null) {\n          pool.softEvictConnections();  // Close unused cnxns &amp; mark open ones for disposal\n          pool.resumePool();    // Re-enable connections \n    }\n}\n</code></pre>\n<p>Where getPassword() contains the mechanism for fetching the password from the SecretManager.</p>\n"}],"owner":{"account_id":3969072,"reputation":181,"user_id":3274100,"accept_rate":0,"display_name":"user3274100"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692188192,"creation_date":1655815894,"question_id":72701126,"body_markdown":"I developed a spring boot restfull aplication that talk with db2 .\r\n\r\nI used Hikari datasource for good pooling handling (maybe)\r\n\r\nThe password is taken from a safe system and for each getconnection i set the password that i recieved from the safe.\r\n\r\nthe reason why i set the password for each connection is because that The password can be changed in the safe Once a week at an unknown time so i must before get connection to get the new password and set it instead the exist.\r\n\r\nthe problem is that the Hikari keep the old password even if the pool empty and i give the new password\r\n\r\nany idea how can i change the password for each get connection ?\r\n\r\n&gt; this is the configuration file for Hikari\r\n\r\n    #maximum number of milliseconds that a client will wait for a connection\r\n    spring.datasource.connectionTimeout=20000\r\n    #minimum number of idle connections maintained by HikariCP in a connection pool\r\n    spring.datasource.minimumIdle=0\r\n    #maximum pool size\r\n    spring.datasource.maximumPoolSize=100 \r\n    #maximum idle time for connection\r\n    spring.datasource.idleTimeout=30000\r\n    # maximum lifetime in milliseconds of a connection in the pool after it is closed.\r\n    spring.datasource.maxLifetime=0 \r\n    #default auto-commit behavior.\r\n    spring.datasource.autocommit=true \r\n    spring.datasource.poolName=db2Pool\r\n\r\n&gt; create the dataSource\r\n\r\n   \r\n\r\n     @Bean(&quot;dataSourceMF&quot;)\r\n    \t@Order(PriorityOrdered.HIGHEST_PRECEDENCE)\r\n    \tpublic DataSource dataSourceMF() {\r\n    \r\n           PasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\r\n    \t   String userPassword = passwordsMessage.getPassword();\r\n    \r\n            Properties configProps = new Properties();\r\n    \t\tconfigProps.put(&quot;poolName&quot;, poolName);\r\n    \t\tconfigProps.put(&quot;jdbcUrl&quot;, db2Url);\r\n    \t\tconfigProps.put(&quot;driverClassName&quot;, db2Driver);\r\n    \t\tconfigProps.put(&quot;username&quot;, db2User);\r\n    \t\tconfigProps.put(&quot;catalog&quot;, db2Catalog);\r\n    \t\tconfigProps.put(&quot;maximumPoolSize&quot;, maximumPoolSize);\r\n    \t\tconfigProps.put(&quot;minimumIdle&quot;, minimumIdle);\r\n    \t\tconfigProps.put(&quot;connectionTimeout&quot;, connectionTimeout);\r\n    \t\tconfigProps.put(&quot;idleTimeout&quot;, idleTimeout);\r\n    \t\tconfigProps.put(&quot;autoCommit&quot;, autoCommit);\r\n    \t\tconfigProps.put(&quot;dataSource.prepStmtCacheSize&quot;, 250);\r\n    \t\tconfigProps.put(&quot;dataSource.prepStmtCacheSqlLimit&quot;, 2048);\r\n    \t\tconfigProps.put(&quot;dataSource.cachePrepStmts&quot;, Boolean.TRUE);\r\n    \t\tconfigProps.put(&quot;dataSource.useServerPrepStmts&quot;, Boolean.TRUE);\r\n    \t\tconfigProps.put(&quot;password&quot;, userPassword);\r\n    \r\n    \t\tHikariConfig hc = new HikariConfig(configProps);\r\n    \t\tdataSource = new HikariDataSource(hc);\r\n    \r\n            return dataSource;\r\n    \t}\r\n\r\n&gt; get connection\r\n\r\n    public Connection getConnection() throws SQLException, Exception {\r\n    \t\t\r\n    \t\tPasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\r\n    \t\tString userPassword = passwordsMessage.getPassword();\r\n    \t\r\n    \t\ttry {\r\n    \t\t\tdataSource.setPassword(userPassword);\r\n    \t\t\treturn dataSource.getConnection();\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n&gt; pom.xml\r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QPH1N.png\r\n  [2]: https://i.stack.imgur.com/hR6P9.png","title":"HikariCp change password dynamically after setPassword","body":"<p>I developed a spring boot restfull aplication that talk with db2 .</p>\n<p>I used Hikari datasource for good pooling handling (maybe)</p>\n<p>The password is taken from a safe system and for each getconnection i set the password that i recieved from the safe.</p>\n<p>the reason why i set the password for each connection is because that The password can be changed in the safe Once a week at an unknown time so i must before get connection to get the new password and set it instead the exist.</p>\n<p>the problem is that the Hikari keep the old password even if the pool empty and i give the new password</p>\n<p>any idea how can i change the password for each get connection ?</p>\n<blockquote>\n<p>this is the configuration file for Hikari</p>\n</blockquote>\n<pre><code>#maximum number of milliseconds that a client will wait for a connection\nspring.datasource.connectionTimeout=20000\n#minimum number of idle connections maintained by HikariCP in a connection pool\nspring.datasource.minimumIdle=0\n#maximum pool size\nspring.datasource.maximumPoolSize=100 \n#maximum idle time for connection\nspring.datasource.idleTimeout=30000\n# maximum lifetime in milliseconds of a connection in the pool after it is closed.\nspring.datasource.maxLifetime=0 \n#default auto-commit behavior.\nspring.datasource.autocommit=true \nspring.datasource.poolName=db2Pool\n</code></pre>\n<blockquote>\n<p>create the dataSource</p>\n</blockquote>\n<pre><code> @Bean(&quot;dataSourceMF&quot;)\n    @Order(PriorityOrdered.HIGHEST_PRECEDENCE)\n    public DataSource dataSourceMF() {\n\n       PasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\n       String userPassword = passwordsMessage.getPassword();\n\n        Properties configProps = new Properties();\n        configProps.put(&quot;poolName&quot;, poolName);\n        configProps.put(&quot;jdbcUrl&quot;, db2Url);\n        configProps.put(&quot;driverClassName&quot;, db2Driver);\n        configProps.put(&quot;username&quot;, db2User);\n        configProps.put(&quot;catalog&quot;, db2Catalog);\n        configProps.put(&quot;maximumPoolSize&quot;, maximumPoolSize);\n        configProps.put(&quot;minimumIdle&quot;, minimumIdle);\n        configProps.put(&quot;connectionTimeout&quot;, connectionTimeout);\n        configProps.put(&quot;idleTimeout&quot;, idleTimeout);\n        configProps.put(&quot;autoCommit&quot;, autoCommit);\n        configProps.put(&quot;dataSource.prepStmtCacheSize&quot;, 250);\n        configProps.put(&quot;dataSource.prepStmtCacheSqlLimit&quot;, 2048);\n        configProps.put(&quot;dataSource.cachePrepStmts&quot;, Boolean.TRUE);\n        configProps.put(&quot;dataSource.useServerPrepStmts&quot;, Boolean.TRUE);\n        configProps.put(&quot;password&quot;, userPassword);\n\n        HikariConfig hc = new HikariConfig(configProps);\n        dataSource = new HikariDataSource(hc);\n\n        return dataSource;\n    }\n</code></pre>\n<blockquote>\n<p>get connection</p>\n</blockquote>\n<pre><code>public Connection getConnection() throws SQLException, Exception {\n        \n        PasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\n        String userPassword = passwordsMessage.getPassword();\n    \n        try {\n            dataSource.setPassword(userPassword);\n            return dataSource.getConnection();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;version&gt;2.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QPH1N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QPH1N.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hR6P9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hR6P9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","android-camera","android-camera2"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1692195520,"post_id":76913420,"comment_id":135591126,"body_markdown":"What is the reason for scaling the computed red and blue values by 2 - that would potentially put the values out of normalized range of [0.0f, 1.0f].  Algorithm (other than constructor) matches other sources.","body":"What is the reason for scaling the computed red and blue values by 2 - that would potentially put the values out of normalized range of [0.0f, 1.0f].  Algorithm (other than constructor) matches other sources."}],"owner":{"account_id":28678219,"reputation":1,"user_id":21959923,"display_name":"LazyIonEs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692187945,"creation_date":1692187813,"question_id":76913420,"body_markdown":"How can I convert kelvin to RggbChannelVector object and pass it to Camera\r\n\r\nCurrently, my code is like this\r\n\r\n    val c2cc = Camera2CameraControl.from(camera.cameraControl)\r\n            c2cc.clearCaptureRequestOptions()\r\n            c2cc.captureRequestOptions = CaptureRequestOptions.Builder()\r\n                .setCaptureRequestOption(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_OFF)\r\n                .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_MODE, CaptureRequest.COLOR_CORRECTION_MODE_TRANSFORM_MATRIX)\r\n                .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_GAINS, ColorTemperatureConverter.colorTemperature(kelvin))\r\n                .build()\r\n\r\nThe formula I found on the Internet does not convert correctly, it is like this\r\n\r\n    fun colorTemperature(kelvin: Int): RggbChannelVector {\r\n        val temperature = kelvin / 100f\r\n        var red: Float\r\n        var green: Float\r\n        var blue: Float\r\n\r\n        // Calculate red\r\n        if (temperature &lt;= 66) {\r\n            red = 255f\r\n        } else {\r\n            red = temperature - 60\r\n\r\n            red = (329.698727446 * red.toDouble().pow(-0.1332047592)).toFloat()\r\n            if (red &lt; 0) red = 0f\r\n            if (red &gt; 255) red = 255f\r\n        }\r\n\r\n        // Calculate green\r\n        if (temperature &lt;= 66) {\r\n            green = temperature\r\n            green = (99.4708025861 * ln(green.toDouble()) - 161.1195681661).toFloat()\r\n            if (green &lt; 0) {\r\n                green = 0f\r\n            }\r\n            if (green &gt; 255) {\r\n                green = 255f\r\n            }\r\n        } else {\r\n            green = temperature - 60\r\n            green = (288.1221695283 * green.toDouble().pow(-0.0755148492)).toFloat()\r\n            if (green &lt; 0) green = 0f\r\n            if (green &gt; 255) green = 255f\r\n        }\r\n\r\n        // Calculate blue\r\n        if (temperature &gt;= 66) blue = 255f\r\n        else if (temperature &lt;= 19) blue = 0f\r\n        else {\r\n            blue = temperature - 10;\r\n            blue = (138.5177312231 * ln(blue.toDouble()) - 305.0447927307).toFloat()\r\n            if (blue &lt; 0) blue = 0f\r\n            if (blue &gt; 255) blue = 255f\r\n        }\r\n        return RggbChannelVector((red / 255) * 2, green / 255, green / 255, (blue / 255) * 2)\r\n    }\r\n\r\nI want to convert kelvin to RggbChannelVector object, and RggbChannelVector object can also deduce kelvin, thank you","title":"How can I convert kelvin to RggbChannelVector object and pass it to Camera","body":"<p>How can I convert kelvin to RggbChannelVector object and pass it to Camera</p>\n<p>Currently, my code is like this</p>\n<pre><code>val c2cc = Camera2CameraControl.from(camera.cameraControl)\n        c2cc.clearCaptureRequestOptions()\n        c2cc.captureRequestOptions = CaptureRequestOptions.Builder()\n            .setCaptureRequestOption(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_OFF)\n            .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_MODE, CaptureRequest.COLOR_CORRECTION_MODE_TRANSFORM_MATRIX)\n            .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_GAINS, ColorTemperatureConverter.colorTemperature(kelvin))\n            .build()\n</code></pre>\n<p>The formula I found on the Internet does not convert correctly, it is like this</p>\n<pre><code>fun colorTemperature(kelvin: Int): RggbChannelVector {\n    val temperature = kelvin / 100f\n    var red: Float\n    var green: Float\n    var blue: Float\n\n    // Calculate red\n    if (temperature &lt;= 66) {\n        red = 255f\n    } else {\n        red = temperature - 60\n\n        red = (329.698727446 * red.toDouble().pow(-0.1332047592)).toFloat()\n        if (red &lt; 0) red = 0f\n        if (red &gt; 255) red = 255f\n    }\n\n    // Calculate green\n    if (temperature &lt;= 66) {\n        green = temperature\n        green = (99.4708025861 * ln(green.toDouble()) - 161.1195681661).toFloat()\n        if (green &lt; 0) {\n            green = 0f\n        }\n        if (green &gt; 255) {\n            green = 255f\n        }\n    } else {\n        green = temperature - 60\n        green = (288.1221695283 * green.toDouble().pow(-0.0755148492)).toFloat()\n        if (green &lt; 0) green = 0f\n        if (green &gt; 255) green = 255f\n    }\n\n    // Calculate blue\n    if (temperature &gt;= 66) blue = 255f\n    else if (temperature &lt;= 19) blue = 0f\n    else {\n        blue = temperature - 10;\n        blue = (138.5177312231 * ln(blue.toDouble()) - 305.0447927307).toFloat()\n        if (blue &lt; 0) blue = 0f\n        if (blue &gt; 255) blue = 255f\n    }\n    return RggbChannelVector((red / 255) * 2, green / 255, green / 255, (blue / 255) * 2)\n}\n</code></pre>\n<p>I want to convert kelvin to RggbChannelVector object, and RggbChannelVector object can also deduce kelvin, thank you</p>\n"},{"tags":["java","angular","spring-boot","pdf","spring-webflux"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692129139,"post_id":76907924,"comment_id":135581726,"body_markdown":"Maybe I don&#39;t understand how you want to do that, but I don&#39;t see how you split the `resource` in parts","body":"Maybe I don&#39;t understand how you want to do that, but I don&#39;t see how you split the <code>resource</code> in parts"},{"owner":{"account_id":29231318,"reputation":1,"user_id":22394962,"display_name":"PaoloBL"},"score":0,"creation_date":1692130505,"post_id":76907924,"comment_id":135581907,"body_markdown":"@IgorArtamonov No need to split resource in part when using ngx-pdf-viewer it&#39;s automatic.","body":"@IgorArtamonov No need to split resource in part when using ngx-pdf-viewer it&#39;s automatic."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692130862,"post_id":76907924,"comment_id":135581952,"body_markdown":"I&#39;m talking about the backend part, are you sure that only the requested slice of the  `resource` is read into memory?","body":"I&#39;m talking about the backend part, are you sure that only the requested slice of the  <code>resource</code> is read into memory?"},{"owner":{"account_id":29231318,"reputation":1,"user_id":22394962,"display_name":"PaoloBL"},"score":0,"creation_date":1692171779,"post_id":76907924,"comment_id":135586114,"body_markdown":"@IgorArtamonov I modified the code by implementing MinIO which allows to store data remotely and allows to retrieve slices of the resource (offset/length). When I use this code, I receive a lot of client requests in partial content and the streaming is not functional (for large files). The resource is waiting for the end of the download to be displayed.","body":"@IgorArtamonov I modified the code by implementing MinIO which allows to store data remotely and allows to retrieve slices of the resource (offset/length). When I use this code, I receive a lot of client requests in partial content and the streaming is not functional (for large files). The resource is waiting for the end of the download to be displayed."}],"owner":{"account_id":29231318,"reputation":1,"user_id":22394962,"display_name":"PaoloBL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692187828,"creation_date":1692120038,"question_id":76907924,"body_markdown":"I&#39;ve been stuck for several days.\r\nI would like to be able to stream PDF files with many pages.\r\nFor the moment, it works for big files with a number of pages less than thousands.\r\n\r\nHere is my service side backend (My controller is just a call to this function)\r\n  \r\n    public HashMap&lt;String, Long&gt; getRanges(HttpHeaders headers, long size){\r\n        List&lt;HttpRange&gt; rangeHeader = headers.getRange();\r\n        Long start;\r\n        Long end;\r\n        Long contentLength;\r\n        HashMap&lt;String, Long&gt; ranges = new HashMap&lt;&gt;();\r\n        ranges.put(&quot;size&quot;, size);\r\n\r\n        if (!rangeHeader.isEmpty()) {\r\n            start = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeStart(size)));\r\n            ranges.put(&quot;start&quot;, start);\r\n            end = size - 1;\r\n\r\n            if (rangeHeader.get(0).getRangeEnd(size) &gt; 0) {\r\n                end = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeEnd(size)));\r\n            }\r\n\r\n            ranges.put(&quot;end&quot;, end);\r\n\r\n            contentLength = end - start+1;\r\n\r\n            ranges.put(&quot;contentLength&quot;, contentLength);\r\n\r\n        } else {\r\n            ranges.put(&quot;start&quot;, 0L);\r\n            ranges.put(&quot;end&quot;, size-1);\r\n            ranges.put(&quot;contentLength&quot;, size);\r\n\r\n        }\r\n\r\n        return ranges;\r\n    }\r\n\r\n    public Mono&lt;ResponseEntity&lt;Resource&gt;&gt; getStreaming(String path, HttpHeaders headers) {\r\n        return Mono.fromCallable(() -&gt; {\r\n            try {\r\n\r\n                MinioClient minioClient = MinioClient.builder()\r\n                        .endpoint(&quot;http://127.0.0.1:9000&quot;)\r\n                        .credentials(&quot;admin&quot;, &quot;password1&quot;)\r\n                        .build();\r\n\r\n                long size = minioClient.statObject(\r\n                        StatObjectArgs.builder()\r\n                                .bucket(&quot;test&quot;)\r\n                                .object(path)\r\n                                .build()\r\n                ).size();\r\n\r\n                String typeFormat = minioClient.statObject(\r\n                        StatObjectArgs.builder()\r\n                                .bucket(&quot;test&quot;)\r\n                                .object(path)\r\n                                .build()\r\n                ).contentType();\r\n\r\n                GetObjectArgs.Builder argsBuilder = GetObjectArgs\r\n                        .builder()\r\n                        .bucket(&quot;test&quot;)\r\n                        .object(path);\r\n\r\n\r\n                HashMap&lt;String, Long&gt; ranges = getRanges(headers, size);\r\n\r\n                InputStream obj = minioClient.getObject(argsBuilder\r\n                        .offset(ranges.get(&quot;start&quot;))\r\n                        .length(ranges.get(&quot;contentLength&quot;))\r\n                        .build());\r\n\r\n                InputStreamResource resource = new InputStreamResource(obj);\r\n\r\n                HttpHeaders headers1 = new HttpHeaders();\r\n\r\n                headers1.set(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n\r\n                headers1.setContentLength(ranges.get(&quot;contentLength&quot;));\r\n                headers1.set(&quot;Content-Range&quot;, &quot;bytes &quot; + ranges.get(&quot;start&quot;) + &quot;-&quot; + ranges.get(&quot;end&quot;) + &quot;/&quot; + ranges.get(&quot;size&quot;));\r\n\r\n                if(!headers.getRange().isEmpty()){\r\n\r\n                    return ResponseEntity.status(HttpStatus.PARTIAL_CONTENT)\r\n                            .contentType(MediaType.valueOf(typeFormat))\r\n                            .headers(headers1)\r\n                            .body(resource);\r\n                }else {\r\n                    return ResponseEntity.ok()\r\n                            .contentType(MediaType.valueOf(typeFormat))\r\n                            .headers(headers1)\r\n                            .body(resource);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nFront-end side I make a very simple call with ngx-pdf-viewer\r\n`&lt;ngx-pdf-viewer [src]=&quot;&#39;/service?path=pdf/test_262MB.pdf&#39;&quot;&gt;&lt;/ngx-pdf-viewer&gt;\r\n`\r\n\r\nI expect to be able to stream large PDFs\r\n\r\nUPDATE :\r\nAfter several tests I managed to stream PDF files of 226Mb (only 304 pages) and 453Mb (only 608 pages). I concluded that it depends on the number of pages. When I test with some files with big number of pages, I have to download all the content for the viewer to start displaying it. But for others, the viewer only needs a small part to display it. Example on my 226Mb file, the viewer downloads 32Mb and begins to display the PDF. And I can jump between pages, and the content downloads with each page jump. Same for the 453Mb, the viewer downloads 61Mb to start the display. \r\n\r\nIf anyone knows why some files are required to be fully downloaded? \r\nThank you","title":"Streaming big files (pdf) with springboot webflux &amp; angular","body":"<p>I've been stuck for several days.\nI would like to be able to stream PDF files with many pages.\nFor the moment, it works for big files with a number of pages less than thousands.</p>\n<p>Here is my service side backend (My controller is just a call to this function)</p>\n<pre><code>public HashMap&lt;String, Long&gt; getRanges(HttpHeaders headers, long size){\n    List&lt;HttpRange&gt; rangeHeader = headers.getRange();\n    Long start;\n    Long end;\n    Long contentLength;\n    HashMap&lt;String, Long&gt; ranges = new HashMap&lt;&gt;();\n    ranges.put(&quot;size&quot;, size);\n\n    if (!rangeHeader.isEmpty()) {\n        start = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeStart(size)));\n        ranges.put(&quot;start&quot;, start);\n        end = size - 1;\n\n        if (rangeHeader.get(0).getRangeEnd(size) &gt; 0) {\n            end = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeEnd(size)));\n        }\n\n        ranges.put(&quot;end&quot;, end);\n\n        contentLength = end - start+1;\n\n        ranges.put(&quot;contentLength&quot;, contentLength);\n\n    } else {\n        ranges.put(&quot;start&quot;, 0L);\n        ranges.put(&quot;end&quot;, size-1);\n        ranges.put(&quot;contentLength&quot;, size);\n\n    }\n\n    return ranges;\n}\n\npublic Mono&lt;ResponseEntity&lt;Resource&gt;&gt; getStreaming(String path, HttpHeaders headers) {\n    return Mono.fromCallable(() -&gt; {\n        try {\n\n            MinioClient minioClient = MinioClient.builder()\n                    .endpoint(&quot;http://127.0.0.1:9000&quot;)\n                    .credentials(&quot;admin&quot;, &quot;password1&quot;)\n                    .build();\n\n            long size = minioClient.statObject(\n                    StatObjectArgs.builder()\n                            .bucket(&quot;test&quot;)\n                            .object(path)\n                            .build()\n            ).size();\n\n            String typeFormat = minioClient.statObject(\n                    StatObjectArgs.builder()\n                            .bucket(&quot;test&quot;)\n                            .object(path)\n                            .build()\n            ).contentType();\n\n            GetObjectArgs.Builder argsBuilder = GetObjectArgs\n                    .builder()\n                    .bucket(&quot;test&quot;)\n                    .object(path);\n\n\n            HashMap&lt;String, Long&gt; ranges = getRanges(headers, size);\n\n            InputStream obj = minioClient.getObject(argsBuilder\n                    .offset(ranges.get(&quot;start&quot;))\n                    .length(ranges.get(&quot;contentLength&quot;))\n                    .build());\n\n            InputStreamResource resource = new InputStreamResource(obj);\n\n            HttpHeaders headers1 = new HttpHeaders();\n\n            headers1.set(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\n\n            headers1.setContentLength(ranges.get(&quot;contentLength&quot;));\n            headers1.set(&quot;Content-Range&quot;, &quot;bytes &quot; + ranges.get(&quot;start&quot;) + &quot;-&quot; + ranges.get(&quot;end&quot;) + &quot;/&quot; + ranges.get(&quot;size&quot;));\n\n            if(!headers.getRange().isEmpty()){\n\n                return ResponseEntity.status(HttpStatus.PARTIAL_CONTENT)\n                        .contentType(MediaType.valueOf(typeFormat))\n                        .headers(headers1)\n                        .body(resource);\n            }else {\n                return ResponseEntity.ok()\n                        .contentType(MediaType.valueOf(typeFormat))\n                        .headers(headers1)\n                        .body(resource);\n            }\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n</code></pre>\n<p>Front-end side I make a very simple call with ngx-pdf-viewer\n<code>&lt;ngx-pdf-viewer [src]=&quot;'/service?path=pdf/test_262MB.pdf'&quot;&gt;&lt;/ngx-pdf-viewer&gt; </code></p>\n<p>I expect to be able to stream large PDFs</p>\n<p>UPDATE :\nAfter several tests I managed to stream PDF files of 226Mb (only 304 pages) and 453Mb (only 608 pages). I concluded that it depends on the number of pages. When I test with some files with big number of pages, I have to download all the content for the viewer to start displaying it. But for others, the viewer only needs a small part to display it. Example on my 226Mb file, the viewer downloads 32Mb and begins to display the PDF. And I can jump between pages, and the content downloads with each page jump. Same for the 453Mb, the viewer downloads 61Mb to start the display.</p>\n<p>If anyone knows why some files are required to be fully downloaded?\nThank you</p>\n"},{"tags":["python","java","groovy","jmeter"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1692172115,"post_id":76911476,"comment_id":135586177,"body_markdown":"Why don&#39;t you include the results (or a few bytes from the start).","body":"Why don&#39;t you include the results (or a few bytes from the start)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692176270,"post_id":76911476,"comment_id":135586969,"body_markdown":"There&#39;s nothing wrong with the code. What are your inputs?","body":"There&#39;s nothing wrong with the code. What are your inputs?"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692172576,"creation_date":1692172576,"answer_id":76911573,"question_id":76911476,"body_markdown":"There is [__digest() function][1] in JMeter which can encrypt the value using various algorithms.\r\n\r\nIn your case it would be as simple as:\r\n\r\n    ${__digest(SHA-256,string,,,hashedValue)}\r\n\r\nSee [Apache JMeter Functions - An Introduction][2] article to learn more about JMeter Functions concept. \r\n\r\nIf you still want to use Groovy the easiest would be going for [DigestUtils.sha256Hex()][3] function:\r\n\r\n    vars.put(&#39;hashedValue&#39;, org.apache.commons.codec.digest.DigestUtils.sha256Hex(&#39;string&#39;))\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/functions.html#__digest\r\n  [2]: https://www.blazemeter.com/blog/jmeter-functions\r\n  [3]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html#sha256Hex-java.lang.String-","title":"Hash string with sha-256 in Java Groovy on JMeter","body":"<p>There is <a href=\"https://jmeter.apache.org/usermanual/functions.html#__digest\" rel=\"nofollow noreferrer\">__digest() function</a> in JMeter which can encrypt the value using various algorithms.</p>\n<p>In your case it would be as simple as:</p>\n<pre><code>${__digest(SHA-256,string,,,hashedValue)}\n</code></pre>\n<p>See <a href=\"https://www.blazemeter.com/blog/jmeter-functions\" rel=\"nofollow noreferrer\">Apache JMeter Functions - An Introduction</a> article to learn more about JMeter Functions concept.</p>\n<p>If you still want to use Groovy the easiest would be going for <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html#sha256Hex-java.lang.String-\" rel=\"nofollow noreferrer\">DigestUtils.sha256Hex()</a> function:</p>\n<pre><code>vars.put('hashedValue', org.apache.commons.codec.digest.DigestUtils.sha256Hex('string'))\n</code></pre>\n"}],"owner":{"account_id":16710727,"reputation":23,"user_id":12078009,"display_name":"phamthainb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692202787,"accepted_answer_id":76911573,"answer_count":1,"score":0,"last_activity_date":1692187321,"creation_date":1692171658,"question_id":76911476,"body_markdown":"I&#39;m trying to convert a Python script that calculates a SHA-256 hash into Java Groovy for use in JMeter. However, I&#39;m encountering differences in the hash values generated between Python and Groovy. I would appreciate some guidance on how to achieve consistent results.\r\n\r\nPython Code:\r\n```python\r\nimport hashlib\r\n\r\ndef get256SHA(string):\r\n    m = hashlib.sha256()\r\n    m.update(string.encode(&#39;utf-8&#39;))\r\n    return m.hexdigest()\r\n\r\nhashedValue = get256SHA(&quot;string&quot;)\r\n```\r\n\r\nJava Groovy Code:\r\n```groovy\r\nimport java.security.MessageDigest\r\n\r\nString get256SHA(String string) {\r\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;)\r\n    byte[] bytes = string.getBytes(&quot;UTF-8&quot;)\r\n    byte[] digest = md.digest(bytes)\r\n    StringBuffer hexString = new StringBuffer()\r\n\r\n    for (byte b : digest) {\r\n        hexString.append(String.format(&quot;%02x&quot;, b &amp; 0xff))\r\n    }\r\n\r\n    return hexString.toString()\r\n}\r\n\r\nString input = &quot;string&quot;\r\nString hashedValue = get256SHA(input)\r\nvars.put(&quot;hashedValue&quot;, hashedValue)\r\n```\r\n\r\nIn the Java Groovy code, I&#39;ve attempted to replicate the Python logic to calculate a SHA-256 hash. However, the resulting hash values are not matching between Python and Groovy implementations. Could someone help me identify the potential differences causing this inconsistency and suggest corrections to the Java Groovy code?\r\n\r\nAfter debug again, I got the code below is not wrong, the wrong is my input not trim. And this is the long way, you can try below answer, it&#39;s a good way.","title":"Hash string with sha-256 in Java Groovy on JMeter","body":"<p>I'm trying to convert a Python script that calculates a SHA-256 hash into Java Groovy for use in JMeter. However, I'm encountering differences in the hash values generated between Python and Groovy. I would appreciate some guidance on how to achieve consistent results.</p>\n<p>Python Code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import hashlib\n\ndef get256SHA(string):\n    m = hashlib.sha256()\n    m.update(string.encode('utf-8'))\n    return m.hexdigest()\n\nhashedValue = get256SHA(&quot;string&quot;)\n</code></pre>\n<p>Java Groovy Code:</p>\n<pre><code>import java.security.MessageDigest\n\nString get256SHA(String string) {\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;)\n    byte[] bytes = string.getBytes(&quot;UTF-8&quot;)\n    byte[] digest = md.digest(bytes)\n    StringBuffer hexString = new StringBuffer()\n\n    for (byte b : digest) {\n        hexString.append(String.format(&quot;%02x&quot;, b &amp; 0xff))\n    }\n\n    return hexString.toString()\n}\n\nString input = &quot;string&quot;\nString hashedValue = get256SHA(input)\nvars.put(&quot;hashedValue&quot;, hashedValue)\n</code></pre>\n<p>In the Java Groovy code, I've attempted to replicate the Python logic to calculate a SHA-256 hash. However, the resulting hash values are not matching between Python and Groovy implementations. Could someone help me identify the potential differences causing this inconsistency and suggest corrections to the Java Groovy code?</p>\n<p>After debug again, I got the code below is not wrong, the wrong is my input not trim. And this is the long way, you can try below answer, it's a good way.</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692187823,"post_id":76913351,"comment_id":135589264,"body_markdown":"First fix your class, use `JdbcTemplate` instead of the contraption you have now. Also you aren&#39;t testing anything only if you are calling the method (which you do as you can see that).","body":"First fix your class, use <code>JdbcTemplate</code> instead of the contraption you have now. Also you aren&#39;t testing anything only if you are calling the method (which you do as you can see that)."},{"owner":{"account_id":1698884,"reputation":47,"user_id":1559561,"accept_rate":0,"display_name":"Gopal Lal"},"score":0,"creation_date":1692188932,"post_id":76913351,"comment_id":135589504,"body_markdown":"I can&#39;t modify the actual code because that is written by other team member. my responsibility is to write test case. is there a way to do so?","body":"I can&#39;t modify the actual code because that is written by other team member. my responsibility is to write test case. is there a way to do so?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692189493,"post_id":76913351,"comment_id":135589646,"body_markdown":"Convince them, this is the wrong way to write JDBC code with Spring. You would need to mock the JDBC stuff and verify that, I doubt you can intercept the internal method call to get the connection.","body":"Convince them, this is the wrong way to write JDBC code with Spring. You would need to mock the JDBC stuff and verify that, I doubt you can intercept the internal method call to get the connection."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1692189755,"post_id":76913351,"comment_id":135589720,"body_markdown":"I don&#39;t agree with this approach.  Mocking a database?  What is that proving?  If you&#39;re testing a repository, connect to a real database and execute the operations.  Make them transactional so you leave the database in the same state that you found it in.  Mocks aren&#39;t helpful or illustrative in this case.","body":"I don&#39;t agree with this approach.  Mocking a database?  What is that proving?  If you&#39;re testing a repository, connect to a real database and execute the operations.  Make them transactional so you leave the database in the same state that you found it in.  Mocks aren&#39;t helpful or illustrative in this case."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1692189820,"post_id":76913351,"comment_id":135589734,"body_markdown":"That JDBC code is awful.  I thought you were using Spring. Why are you not using JdbcTemplate?  I&#39;d scrap that code and start again.","body":"That JDBC code is awful.  I thought you were using Spring. Why are you not using JdbcTemplate?  I&#39;d scrap that code and start again."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1692202454,"post_id":76913351,"comment_id":135592621,"body_markdown":"What is your test testing? Nothing really: `crud.delete(); verify(crud, times(1)).delete();` – what do you want to verify here; that the Java compiler is generating the correct bytecode and the JVM really called the method?","body":"What is your test testing? Nothing really: <code>crud.delete(); verify(crud, times(1)).delete();</code> – what do you want to verify here; that the Java compiler is generating the correct bytecode and the JVM really called the method?"},{"owner":{"account_id":1698884,"reputation":47,"user_id":1559561,"accept_rate":0,"display_name":"Gopal Lal"},"score":0,"creation_date":1692210344,"post_id":76913351,"comment_id":135594005,"body_markdown":"@knittl : please tell me what changes I should make in the test case.","body":"@knittl : please tell me what changes I should make in the test case."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1692215294,"post_id":76913351,"comment_id":135594914,"body_markdown":"1. Run your test against a real DB (ideally embedded or dockerized) 2. Check that `deleteEmployee` does what it advertises - removes existing employees. How: add employee - check if select query finds them - delete the employee - now same query should not find them. +1 for JdbcTemplate.","body":"1. Run your test against a real DB (ideally embedded or dockerized) 2. Check that <code>deleteEmployee</code> does what it advertises - removes existing employees. How: add employee - check if select query finds them - delete the employee - now same query should not find them. +1 for JdbcTemplate."}],"owner":{"account_id":1698884,"reputation":47,"user_id":1559561,"accept_rate":0,"display_name":"Gopal Lal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692187248,"creation_date":1692187248,"question_id":76913351,"body_markdown":"Below is my main class where main logic delete operation is written:\r\n\r\n    public class EmployeeCrudOperation {\r\n        \r\n    public void deleteEmployee(String id) {\r\n       StringBuilder deleteQuery = new StringBuilder(&quot;DELETE FROM EMPLOYEE WHERE ID = ?&quot;);\r\n       PreparedStatement preparedStapreparedStatement tement = null;\r\n       Connection = null;\r\n\r\n       try{\r\n           //connection = DBConnection.getInstance().getConnection();\r\n           //it contains JNDI connection code called under static block\r\n           connection = getConnection();\r\n           if(connection == null) {\r\n\t           logger.logMessage(&quot;some text&quot;);\r\n        \t   return;\r\n        }\r\n        preparedStatement = connection.PreparedStatement(deleteQuery.toString());\r\n        preparedStatement.setString(1, id);\r\n        int n = preparedStatement.executeUpdate();\r\n        if(n == 0) {\r\n\t        logger.logMessage(&quot;some message&quot;);\r\n        }\r\n        if(preparedStatement != null) {\r\n\t          preparedStatement.close();\r\n        }\r\n       } catch(SQLException e) {\r\n\t     logger.logMessage(&quot;some message&quot;);\r\n       } catch(Exception e) {\r\n    \t logger.logMessage(&quot;some message&quot;);\r\n       } finally {\r\n\t     try {\r\n\t\t    if(preparedStatement != null) {\r\n\t\t\t    preparedStatement.close();\r\n\t\t    }\r\n\t     } catch(Exception e) {\r\n\r\n\t     }\r\n\t     try {\r\n\t\t      if(connection != null) {\r\n\t\t\t         connection.close();\r\n\t\t      }\r\n\t     } catch(Exception e) {}\r\n     }\r\n     }\r\n    public Connection getConnection() {\r\n        return DBConnection.getInstance().getConnection(); \r\n         //it contains JNDI connection code called under static block\r\n    }\r\n\r\n    }\r\n\r\n\r\nJUnit Test case in which I used mockito framework, mock function etc:\r\n\r\n    public class TestEmployeeCrudOperation {\r\n    \r\n    @Mock\r\n    Connection connection;\r\n    \r\n    @Mock\r\n    PreparedStatement preparedStatement;\r\n    \r\n    @Test\r\n    public void testDeleteEmployee() {\r\n    EmployeeCrudOperation employeeCrudOperation = new EmployeeCrudOperation();\r\n    EmployeeCrudOperation spyEmployeeCrudOperation = Mockito.spy(employeeCrudOperation);\r\n    \r\n    try {\r\n    \t\r\n    \twhen(spyEmployeeCrudOperation.getConnection()).thenReturn(connection);\r\n    \twhen(connection.preparedStatement(Mockito.any())).thenReturn(preparedStatement);\r\n    \twhen(preparedStatement.executeUpdate()).thenReturn(1);\r\n    \t\r\n    \tspyEmployeeCrudOperation.deleteEmplotee(&quot;1&quot;);\r\n    \t\r\n    \tverify(spyEmployeeCrudOperation, times(1)).deleteEmplotee(&quot;1&quot;);\r\n    \r\n    } catch(Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n    \r\n    }\r\n    }\r\n\r\nIs this test case correct? Also  code coverage is showing very low. How can I increase the code coverage? \r\nAlso while debugging code is not going inside the actual class. please guide.\r\nThanks in advance.","title":"Junit Test Case Issue With Mockito &amp; Spring Boot","body":"<p>Below is my main class where main logic delete operation is written:</p>\n<pre><code>public class EmployeeCrudOperation {\n    \npublic void deleteEmployee(String id) {\n   StringBuilder deleteQuery = new StringBuilder(&quot;DELETE FROM EMPLOYEE WHERE ID = ?&quot;);\n   PreparedStatement preparedStapreparedStatement tement = null;\n   Connection = null;\n\n   try{\n       //connection = DBConnection.getInstance().getConnection();\n       //it contains JNDI connection code called under static block\n       connection = getConnection();\n       if(connection == null) {\n           logger.logMessage(&quot;some text&quot;);\n           return;\n    }\n    preparedStatement = connection.PreparedStatement(deleteQuery.toString());\n    preparedStatement.setString(1, id);\n    int n = preparedStatement.executeUpdate();\n    if(n == 0) {\n        logger.logMessage(&quot;some message&quot;);\n    }\n    if(preparedStatement != null) {\n          preparedStatement.close();\n    }\n   } catch(SQLException e) {\n     logger.logMessage(&quot;some message&quot;);\n   } catch(Exception e) {\n     logger.logMessage(&quot;some message&quot;);\n   } finally {\n     try {\n        if(preparedStatement != null) {\n            preparedStatement.close();\n        }\n     } catch(Exception e) {\n\n     }\n     try {\n          if(connection != null) {\n                 connection.close();\n          }\n     } catch(Exception e) {}\n }\n }\npublic Connection getConnection() {\n    return DBConnection.getInstance().getConnection(); \n     //it contains JNDI connection code called under static block\n}\n\n}\n</code></pre>\n<p>JUnit Test case in which I used mockito framework, mock function etc:</p>\n<pre><code>public class TestEmployeeCrudOperation {\n\n@Mock\nConnection connection;\n\n@Mock\nPreparedStatement preparedStatement;\n\n@Test\npublic void testDeleteEmployee() {\nEmployeeCrudOperation employeeCrudOperation = new EmployeeCrudOperation();\nEmployeeCrudOperation spyEmployeeCrudOperation = Mockito.spy(employeeCrudOperation);\n\ntry {\n    \n    when(spyEmployeeCrudOperation.getConnection()).thenReturn(connection);\n    when(connection.preparedStatement(Mockito.any())).thenReturn(preparedStatement);\n    when(preparedStatement.executeUpdate()).thenReturn(1);\n    \n    spyEmployeeCrudOperation.deleteEmplotee(&quot;1&quot;);\n    \n    verify(spyEmployeeCrudOperation, times(1)).deleteEmplotee(&quot;1&quot;);\n\n} catch(Exception e) {\n    e.printStackTrace();\n}\n\n}\n}\n</code></pre>\n<p>Is this test case correct? Also  code coverage is showing very low. How can I increase the code coverage?\nAlso while debugging code is not going inside the actual class. please guide.\nThanks in advance.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1691430811,"post_id":76854018,"comment_id":135487762,"body_markdown":"The setup of the `@OneToMany`/`@ManyToOne` relation seems wrong. The `@ManyToOne`-side should be the the owning side, defining the `joinColum`, while the `@OneToMany`-side should use `mappedBy`, and no `@JoinColumn`: `@OneToMany(mappedBy = &quot;hour&quot;, ...)`.","body":"The setup of the <code>@OneToMany</code>/<code>@ManyToOne</code> relation seems wrong. The <code>@ManyToOne</code>-side should be the the owning side, defining the <code>joinColum</code>, while the <code>@OneToMany</code>-side should use <code>mappedBy</code>, and no <code>@JoinColumn</code>: <code>@OneToMany(mappedBy = &quot;hour&quot;, ...)</code>."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691431212,"post_id":76854018,"comment_id":135487830,"body_markdown":"@Turing85 With these suggestions I have the same error","body":"@Turing85 With these suggestions I have the same error"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1691438518,"post_id":76854018,"comment_id":135489116,"body_markdown":"You created a bidirectional relationship with parent(`Hour`) and children(`RegularHour`). If you want to save parent and its children with cascade you need to set the parent on you children also otherwise you will have your error. What about, loop on request and  so you will have the fields values by setter methods ?","body":"You created a bidirectional relationship with parent(<code>Hour</code>) and children(<code>RegularHour</code>). If you want to save parent and its children with cascade you need to set the parent on you children also otherwise you will have your error. What about, loop on request and  so you will have the fields values by setter methods ?"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1691482239,"post_id":76854018,"comment_id":135493980,"body_markdown":"What is the SQL command for creation of the table(s) with the column id_hour?","body":"What is the SQL command for creation of the table(s) with the column id_hour?"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691486683,"post_id":76854018,"comment_id":135494884,"body_markdown":"@dimirsenZ it&#39;s writing on the question. Part of `the error that I am getting`. Which starts with &quot;insert&quot; after &quot;Hibernate:&quot;","body":"@dimirsenZ it&#39;s writing on the question. Part of <code>the error that I am getting</code>. Which starts with &quot;insert&quot; after &quot;Hibernate:&quot;"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1691487237,"post_id":76854018,"comment_id":135494998,"body_markdown":"it&#39;s INSERT command as I can see. Do you have CREATE TABLE command? You can see it if you inspect your DB with say Valentina Studio or some  other GUI for DB navigation.\nThere is a possibility, that you created the table with field description like\nid_hour bigint not null\nIn this case your DB won&#39;t let you insert a null value\nAs a fix I can see\nid_hour bigint not null default &lt;put your default value here&gt;","body":"it&#39;s INSERT command as I can see. Do you have CREATE TABLE command? You can see it if you inspect your DB with say Valentina Studio or some  other GUI for DB navigation. There is a possibility, that you created the table with field description like id_hour bigint not null In this case your DB won&#39;t let you insert a null value As a fix I can see id_hour bigint not null default &lt;put your default value here&gt;"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1691487774,"post_id":76854018,"comment_id":135495107,"body_markdown":"if you want DB to generate hour_id for you, you need to use a specific column type like bigserial","body":"if you want DB to generate hour_id for you, you need to use a specific column type like bigserial"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691495226,"post_id":76854018,"comment_id":135496615,"body_markdown":"@dimirsenZ oh my bad. here is my table creation CREATE TABLE `hour` (\n  `id_hour` int unsigned NOT NULL AUTO_INCREMENT,\n  `twentyfourseven` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id_hour`)","body":"@dimirsenZ oh my bad. here is my table creation CREATE TABLE <code>hour</code> (   <code>id_hour</code> int unsigned NOT NULL AUTO_INCREMENT,   <code>twentyfourseven</code> tinyint(1) NOT NULL,   PRIMARY KEY (<code>id_hour</code>)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1691503225,"post_id":76854018,"comment_id":135498487,"body_markdown":"As someone else commented you need to ensure all references are set. In this case, you have not set the RegularHour.hour reference, which causes the foreign key to be set to null. Set that value, and change your Hour-&gt;RegularHour OneToMany to use mappedby=&quot;hour&quot; and remove the join column definition, and it will work as you expect.","body":"As someone else commented you need to ensure all references are set. In this case, you have not set the RegularHour.hour reference, which causes the foreign key to be set to null. Set that value, and change your Hour-&gt;RegularHour OneToMany to use mappedby=&quot;hour&quot; and remove the join column definition, and it will work as you expect."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691838350,"post_id":76854018,"comment_id":135547589,"body_markdown":"@Chris I changed the relation and updated the question as you mentioned but I am having the same error. On the other hand, I can not set `id_hour` because that is a new record.","body":"@Chris I changed the relation and updated the question as you mentioned but I am having the same error. On the other hand, I can not set <code>id_hour</code> because that is a new record."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1691941598,"post_id":76854018,"comment_id":135555889,"body_markdown":"With the SQL - is the Hour instance being inserted? Unless there is a major bug in Hibernate, there must be some RegularHour instance getting into the context that hasn&#39;t had its hour reference set. Since there is a 1:M from Hour-&gt;RegularHour, are you sure every RegularHour instance managed or persisted in the context has a Hour instance reference? Maybe relax the constraint for testing and see all the RegularHour instances being inserted to make sure they are what you expect and that some other piece of code isn&#39;t doing something wrong","body":"With the SQL - is the Hour instance being inserted? Unless there is a major bug in Hibernate, there must be some RegularHour instance getting into the context that hasn&#39;t had its hour reference set. Since there is a 1:M from Hour-&gt;RegularHour, are you sure every RegularHour instance managed or persisted in the context has a Hour instance reference? Maybe relax the constraint for testing and see all the RegularHour instances being inserted to make sure they are what you expect and that some other piece of code isn&#39;t doing something wrong"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1692337668,"post_id":76854018,"comment_id":135611947,"body_markdown":"Might be related to [this](https://stackoverflow.com/questions/69884667/jpa-hibernate-springboot-inserting-onetomany-relationship-entities/69890168#69890168)","body":"Might be related to <a href=\"https://stackoverflow.com/questions/69884667/jpa-hibernate-springboot-inserting-onetomany-relationship-entities/69890168#69890168\">this</a>"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692187137,"creation_date":1691430173,"question_id":76854018,"body_markdown":"I have 3 classes as below.\r\n\r\nLocation class\r\n```java\r\n@ToString @Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity @Getter @Setter\r\n@Table(name = &quot;location&quot;)\r\npublic class Location {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;id_hour&quot;)\r\n\tprivate Hour hour;\r\n}\r\n```\r\n\r\nHour class\r\n```java\r\n@Setter @Getter @Builder\r\n@AllArgsConstructor @NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;hour&quot;)\r\npublic class Hour {\r\n\t@Id\r\n\t@Column(name = &quot;id_hour&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer idHour;\r\n\t\r\n\t@Column(name = &quot;twentyfourseven&quot;)\r\n\tprivate Boolean twentyfourseven;\r\n\r\n\t@OneToMany(mappedBy=&quot;hour&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;RegularHour&gt; regularHours;\r\n}\r\n```\r\n\r\nRegularHour class\r\n```java\r\n@Setter @Getter @Builder\r\n@AllArgsConstructor @NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;regular_hour&quot;)\r\npublic class RegularHour {\r\n\t@Id\r\n\t@Column(name = &quot;id_regular_hour&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer idRegularHour;\r\n\t\r\n\t@Column(name = &quot;weekday&quot;)\r\n\tprivate Integer weekday;\r\n\t\r\n\t@Column(name = &quot;period_begin&quot;)\r\n\tprivate String periodBegin;\r\n\r\n\t@Column(name = &quot;period_end&quot;)\r\n\tprivate String periodEnd;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;id_hour&quot;)\r\n\tprivate Hour hour;\r\n}\r\n```\r\n**The Problem:**\r\n\r\nI am trying to save my location object like this `locationRepository.save(location);` Then I am having &quot;Column &#39;id_hour&#39; cannot be null&quot; error while hibernate tries to insert data to `regular_hour` table\r\n\r\n\r\n**What I am trying:**\r\n\r\nWhen I run `locationRepository.save(location);` I want all of them saved in the related tables. **PLEASE NOT THAT, I CANNOT SET `id_hour` BECAUSE I AM CREATING NEW RECORD IN DB**\r\n\r\n**What I have tried:**\r\n\r\nI have tried to change `CascadeType` from location and Hour, I replaced `ALL` with `PERSIST` and `MERGE` but none of them worked. \r\n\r\nI tried to change label of Hour class as below\r\n```java\r\n@OneToMany(mappedBy = &quot;hour&quot;, cascade = CascadeType.ALL)\r\nprivate List&lt;HourExceptionalPeriod&gt; exceptionalOpenings;\r\n```\r\nThat didn&#39;t work too.\r\n\r\n**The error that I am getting**\r\n```text\r\nHibernate: \r\n    insert \r\n    into\r\n        regular_hour\r\n        (id_hour, period_begin, period_end, weekday) \r\n    values\r\n        (?, ?, ?, ?)\r\n2023-08-07 20:02:54.802 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [null]\r\n2023-08-07 20:02:54.805 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [07:00]\r\n2023-08-07 20:02:54.808 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [18:00]\r\n2023-08-07 20:02:54.812 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]\r\n2023-08-07 20:02:54.960  WARN 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\r\n2023-08-07 20:02:54.962 ERROR 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;id_hour&#39; cannot be null\r\n```","title":"I can&#39;t save related objects with a single repository - JPA","body":"<p>I have 3 classes as below.</p>\n<p>Location class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString @Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity @Getter @Setter\n@Table(name = &quot;location&quot;)\npublic class Location {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_hour&quot;)\n    private Hour hour;\n}\n</code></pre>\n<p>Hour class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter @Getter @Builder\n@AllArgsConstructor @NoArgsConstructor\n@Entity\n@Table(name = &quot;hour&quot;)\npublic class Hour {\n    @Id\n    @Column(name = &quot;id_hour&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer idHour;\n    \n    @Column(name = &quot;twentyfourseven&quot;)\n    private Boolean twentyfourseven;\n\n    @OneToMany(mappedBy=&quot;hour&quot;, cascade = CascadeType.ALL)\n    private List&lt;RegularHour&gt; regularHours;\n}\n</code></pre>\n<p>RegularHour class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter @Getter @Builder\n@AllArgsConstructor @NoArgsConstructor\n@Entity\n@Table(name = &quot;regular_hour&quot;)\npublic class RegularHour {\n    @Id\n    @Column(name = &quot;id_regular_hour&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer idRegularHour;\n    \n    @Column(name = &quot;weekday&quot;)\n    private Integer weekday;\n    \n    @Column(name = &quot;period_begin&quot;)\n    private String periodBegin;\n\n    @Column(name = &quot;period_end&quot;)\n    private String periodEnd;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_hour&quot;)\n    private Hour hour;\n}\n</code></pre>\n<p><strong>The Problem:</strong></p>\n<p>I am trying to save my location object like this <code>locationRepository.save(location);</code> Then I am having &quot;Column 'id_hour' cannot be null&quot; error while hibernate tries to insert data to <code>regular_hour</code> table</p>\n<p><strong>What I am trying:</strong></p>\n<p>When I run <code>locationRepository.save(location);</code> I want all of them saved in the related tables. <strong>PLEASE NOT THAT, I CANNOT SET <code>id_hour</code> BECAUSE I AM CREATING NEW RECORD IN DB</strong></p>\n<p><strong>What I have tried:</strong></p>\n<p>I have tried to change <code>CascadeType</code> from location and Hour, I replaced <code>ALL</code> with <code>PERSIST</code> and <code>MERGE</code> but none of them worked.</p>\n<p>I tried to change label of Hour class as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;hour&quot;, cascade = CascadeType.ALL)\nprivate List&lt;HourExceptionalPeriod&gt; exceptionalOpenings;\n</code></pre>\n<p>That didn't work too.</p>\n<p><strong>The error that I am getting</strong></p>\n<pre><code>Hibernate: \n    insert \n    into\n        regular_hour\n        (id_hour, period_begin, period_end, weekday) \n    values\n        (?, ?, ?, ?)\n2023-08-07 20:02:54.802 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [null]\n2023-08-07 20:02:54.805 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [07:00]\n2023-08-07 20:02:54.808 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [18:00]\n2023-08-07 20:02:54.812 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]\n2023-08-07 20:02:54.960  WARN 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\n2023-08-07 20:02:54.962 ERROR 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'id_hour' cannot be null\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":21482511,"reputation":3,"user_id":15829656,"display_name":"jijesh vu"},"score":0,"creation_date":1692184495,"post_id":76912939,"comment_id":135588616,"body_markdown":"i dont this will work, since the input has pattern matching.","body":"i dont this will work, since the input has pattern matching."},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1692185685,"post_id":76912939,"comment_id":135588839,"body_markdown":"@jijeshvu I tested it there by defining you element and it works with you element \n`    WebElement numberInput = wdwait.until(ExpectedConditions.visibilityOfElementLocated(new By.ById(&quot;textFieldLength&quot;)));\n        int number = 52;\n        numberInput.sendKeys(String.valueOf(number));`","body":"@jijeshvu I tested it there by defining you element and it works with you element  `    WebElement numberInput = wdwait.until(ExpectedConditions.visibilityOfElementLocated(n&zwnj;&#8203;ew By.ById(&quot;textFieldLength&quot;)));         int number = 52;         numberInput.sendKeys(String.valueOf(number));`"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1692185815,"post_id":76912939,"comment_id":135588866,"body_markdown":"if it doesn&#39;t work for you - so you provided wrong element in your question.","body":"if it doesn&#39;t work for you - so you provided wrong element in your question."},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1692186543,"post_id":76912939,"comment_id":135588992,"body_markdown":"@jijeshvu I provided you link for testing) if it still doesn&#39;t work, you can save your html on that resource and provide me a link. Usage of `JavascriptExecutor` is not recommended instead of cases when you can&#39;t do action with native Selenium methods.","body":"@jijeshvu I provided you link for testing) if it still doesn&#39;t work, you can save your html on that resource and provide me a link. Usage of <code>JavascriptExecutor</code> is not recommended instead of cases when you can&#39;t do action with native Selenium methods."},{"owner":{"account_id":21482511,"reputation":3,"user_id":15829656,"display_name":"jijesh vu"},"score":0,"creation_date":1692254696,"post_id":76912939,"comment_id":135598976,"body_markdown":"Where is your link?","body":"Where is your link?"}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692186638,"creation_date":1692183765,"answer_id":76912939,"question_id":76912732,"body_markdown":"`sendKeys` can enter data into numeric input.\r\nYou can do it just passing number, converted to `String`.\r\n\r\n```java\r\nint number = 42;\r\nelement.sendKeys(String.valueOf(number));\r\n```\r\n\r\nyou can test it by executing code below\r\n\r\n```java\r\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n\r\ndriver.get(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-16.html&quot;);\r\nWebElement numInput = wdwait.until(ExpectedConditions.visibilityOfElementLocated(new By.ById(&quot;textFieldLength&quot;)));\r\nint number = 52;\r\nnumInput.sendKeys(String.valueOf(number));\r\n```","title":"unable to update number input type using selenium","body":"<p><code>sendKeys</code> can enter data into numeric input.\nYou can do it just passing number, converted to <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = 42;\nelement.sendKeys(String.valueOf(number));\n</code></pre>\n<p>you can test it by executing code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wdwait = new WebDriverWait(driver, 10);\n\ndriver.get(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-16.html&quot;);\nWebElement numInput = wdwait.until(ExpectedConditions.visibilityOfElementLocated(new By.ById(&quot;textFieldLength&quot;)));\nint number = 52;\nnumInput.sendKeys(String.valueOf(number));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21482511,"reputation":3,"user_id":15829656,"display_name":"jijesh vu"},"score":1,"creation_date":1692246282,"post_id":76913217,"comment_id":135598080,"body_markdown":"what is this `&quot;arguments[0].value = arguments[1]&quot;` means?","body":"what is this <code>&quot;arguments[0].value = arguments[1]&quot;</code> means?"},{"owner":{"account_id":24284619,"reputation":1,"user_id":18230553,"display_name":"Hasan Gunduz"},"score":0,"creation_date":1692344198,"post_id":76913217,"comment_id":135612819,"body_markdown":"The purpose of this JavaScript code is to change the value of an HTML element named &quot;numberInput&quot; to &quot;valueToSet&quot; by executing JavaScript through the WebDriver.","body":"The purpose of this JavaScript code is to change the value of an HTML element named &quot;numberInput&quot; to &quot;valueToSet&quot; by executing JavaScript through the WebDriver."},{"owner":{"account_id":21482511,"reputation":3,"user_id":15829656,"display_name":"jijesh vu"},"score":0,"creation_date":1692352822,"post_id":76913217,"comment_id":135614466,"body_markdown":"im getting IllegalArgumentException: Argument is of an illegal type","body":"im getting IllegalArgumentException: Argument is of an illegal type"}],"tags":[],"owner":{"account_id":24284619,"reputation":1,"user_id":18230553,"display_name":"Hasan Gunduz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692186360,"creation_date":1692186179,"answer_id":76913217,"question_id":76912732,"body_markdown":"You can use the JavaScript Executor in Selenium to set the value of the input field directly, bypassing the sendKeys method. This allows you to work with numeric values while still adhering to the pattern attribute.\r\n\r\n```\r\nWebElement numberInput = driver.findElement(By.id(&quot;textFieldLength&quot;));\r\nString valueToSet = &quot;123&quot;; \r\nJavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\njsExecutor.executeScript(&quot;arguments[0].value = arguments[1]&quot;, numberInput, valueToSet);\r\n\r\n```\r\n  \r\n\r\n      ","title":"unable to update number input type using selenium","body":"<p>You can use the JavaScript Executor in Selenium to set the value of the input field directly, bypassing the sendKeys method. This allows you to work with numeric values while still adhering to the pattern attribute.</p>\n<pre><code>WebElement numberInput = driver.findElement(By.id(&quot;textFieldLength&quot;));\nString valueToSet = &quot;123&quot;; \nJavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\njsExecutor.executeScript(&quot;arguments[0].value = arguments[1]&quot;, numberInput, valueToSet);\n\n</code></pre>\n"}],"owner":{"account_id":21482511,"reputation":3,"user_id":15829656,"display_name":"jijesh vu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692186638,"creation_date":1692181935,"question_id":76912732,"body_markdown":"Im trying to enter value to number input type text box with pattern using `sendKeys` method, since `sendKeys` only support string data type. Is there any other way i achieve this?\r\n\r\n\r\n\r\n    &lt;input type=&quot;number&quot; pattern=&quot;[0-9]*&quot; id=&quot;textFieldLength&quot;&gt;","title":"unable to update number input type using selenium","body":"<p>Im trying to enter value to number input type text box with pattern using <code>sendKeys</code> method, since <code>sendKeys</code> only support string data type. Is there any other way i achieve this?</p>\n<pre><code>&lt;input type=&quot;number&quot; pattern=&quot;[0-9]*&quot; id=&quot;textFieldLength&quot;&gt;\n</code></pre>\n"},{"tags":["java","wiremock"],"answers":[{"comments":[{"owner":{"account_id":37431,"reputation":837,"user_id":107013,"accept_rate":80,"display_name":"MyKey_"},"score":19,"creation_date":1528284908,"post_id":48505724,"comment_id":88447129,"body_markdown":"If you want to verify that no requests at all have been made: `verify(0, anyRequestFor(anyUrl()));`","body":"If you want to verify that no requests at all have been made: <code>verify(0, anyRequestFor(anyUrl()));</code>"},{"owner":{"account_id":1592441,"reputation":179,"user_id":1475474,"display_name":"Fede"},"score":9,"creation_date":1562657204,"post_id":48505724,"comment_id":100434004,"body_markdown":"The above answer is correct, there is just a small typo, the method is `anyRequestedFor` instead of `anyRequestFor`.","body":"The above answer is correct, there is just a small typo, the method is <code>anyRequestedFor</code> instead of <code>anyRequestFor</code>."}],"tags":[],"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1666321391,"creation_date":1517242987,"answer_id":48505724,"question_id":48432837,"body_markdown":"\r\n\r\n```verify(exactly(0), postRequestedFor(urlEqualTo(&quot;/login&quot;)));```\r\n\r\nBasically checking if exactly 0 calls were made.\r\nTo read more about it. see [here][1]\r\n\r\n\r\n  [1]: http://wiremock.org/docs/verifying/","title":"Using WireMock how can we verify that a request of a given url has NOT been made?","body":"<p><code>verify(exactly(0), postRequestedFor(urlEqualTo(&quot;/login&quot;)));</code></p>\n<p>Basically checking if exactly 0 calls were made.\nTo read more about it. see <a href=\"http://wiremock.org/docs/verifying/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1785286,"reputation":2281,"user_id":1626868,"display_name":"Oleg Nenashev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692186230,"creation_date":1692186230,"answer_id":76913227,"question_id":48432837,"body_markdown":"There response above works. For more complex asserts, WireMock Admin REST API allows retrieving all requests in the journal - [GET: \r\n/__admin/requests][1]. In your unit tests, e.g. with a Native Java library JUnit rules or with a Testcontainers module, you can:\r\n\r\n 1. Provision a fresh instance via a test rule, or do s [DELETE: \r\n/__admin/requests][1] request over the REST API\r\n 2. Run whatever test logic you have\r\n 3. Call [GET: /__admin/requests][1] REST API to retrieve the list of requests\r\n 4. Process this list to see that what actually was received by WireMock and how it was matched\r\n\r\n\r\n  [1]: https://wiremock.org/docs/standalone/admin-api-reference/","title":"Using WireMock how can we verify that a request of a given url has NOT been made?","body":"<p>There response above works. For more complex asserts, WireMock Admin REST API allows retrieving all requests in the journal - <a href=\"https://wiremock.org/docs/standalone/admin-api-reference/\" rel=\"nofollow noreferrer\">GET:\n/__admin/requests</a>. In your unit tests, e.g. with a Native Java library JUnit rules or with a Testcontainers module, you can:</p>\n<ol>\n<li>Provision a fresh instance via a test rule, or do s <a href=\"https://wiremock.org/docs/standalone/admin-api-reference/\" rel=\"nofollow noreferrer\">DELETE:\n/__admin/requests</a> request over the REST API</li>\n<li>Run whatever test logic you have</li>\n<li>Call <a href=\"https://wiremock.org/docs/standalone/admin-api-reference/\" rel=\"nofollow noreferrer\">GET: /__admin/requests</a> REST API to retrieve the list of requests</li>\n<li>Process this list to see that what actually was received by WireMock and how it was matched</li>\n</ol>\n"}],"owner":{"account_id":12804307,"reputation":301,"user_id":9264595,"display_name":"TyrionWebDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29854,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":2,"score":30,"last_activity_date":1692186230,"creation_date":1516833340,"question_id":48432837,"body_markdown":"Given the following unit test, I can easily test if a request of a particular url has been made.  Is there a way to do the opposite, verify that a request of a particular url has NOT been made? \r\n\r\ni.e. verify that a request was made: \r\n\r\n    stubFor(post(urlEqualTo(&quot;/login&quot;)));\r\n\r\n    webclient.submit(testLogin);\r\n\r\n    verify(postRequestedFor(urlMatching(&quot;/login&quot;)\r\n    \r\n\r\n\r\n\r\n\r\nWhat I&#39;d like to do - Verify that a request was NOT made: \r\n\r\n    stubFor(post(urlEqualTo(&quot;/login&quot;)));\r\n\r\n    webclient.submit(testLogin);\r\n\r\n    verify(postRequestedFor(urlNotMatching(&quot;/login&quot;)\r\n\r\n","title":"Using WireMock how can we verify that a request of a given url has NOT been made?","body":"<p>Given the following unit test, I can easily test if a request of a particular url has been made.  Is there a way to do the opposite, verify that a request of a particular url has NOT been made? </p>\n\n<p>i.e. verify that a request was made: </p>\n\n<pre><code>stubFor(post(urlEqualTo(\"/login\")));\n\nwebclient.submit(testLogin);\n\nverify(postRequestedFor(urlMatching(\"/login\")\n</code></pre>\n\n<p>What I'd like to do - Verify that a request was NOT made: </p>\n\n<pre><code>stubFor(post(urlEqualTo(\"/login\")));\n\nwebclient.submit(testLogin);\n\nverify(postRequestedFor(urlNotMatching(\"/login\")\n</code></pre>\n"},{"tags":["java","spring","jwt"],"comments":[{"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"score":0,"creation_date":1606257909,"post_id":64995790,"comment_id":114908924,"body_markdown":"Is your jwtFilter extending OncePerRequestFilter?","body":"Is your jwtFilter extending OncePerRequestFilter?"},{"owner":{"account_id":19518008,"reputation":13,"user_id":14280469,"display_name":"marcOlivr"},"score":0,"creation_date":1606258081,"post_id":64995790,"comment_id":114908974,"body_markdown":"I edited with my jwt filter as u can see yes ! @OnomeSotu","body":"I edited with my jwt filter as u can see yes ! @OnomeSotu"},{"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"score":0,"creation_date":1606258330,"post_id":64995790,"comment_id":114909047,"body_markdown":"Can you check your package structure? What are the package names for your filter and securityConfig class?","body":"Can you check your package structure? What are the package names for your filter and securityConfig class?"},{"owner":{"account_id":19518008,"reputation":13,"user_id":14280469,"display_name":"marcOlivr"},"score":0,"creation_date":1606258614,"post_id":64995790,"comment_id":114909114,"body_markdown":"I edited with the package bro ! @OnomeSotu","body":"I edited with the package bro ! @OnomeSotu"}],"answers":[{"comments":[{"owner":{"account_id":19518008,"reputation":13,"user_id":14280469,"display_name":"marcOlivr"},"score":0,"creation_date":1606259224,"post_id":64996153,"comment_id":114909291,"body_markdown":"Oh my god , how did i missed that , yeah my package was out... i feel so dumb right now .... thank you","body":"Oh my god , how did i missed that , yeah my package was out... i feel so dumb right now .... thank you"},{"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"score":0,"creation_date":1606259388,"post_id":64996153,"comment_id":114909332,"body_markdown":"It happens. Don&#39;t beat yourself up about it. Just always create your packages that way for autoconfiguration to work.","body":"It happens. Don&#39;t beat yourself up about it. Just always create your packages that way for autoconfiguration to work."}],"tags":[],"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1606259227,"creation_date":1606259125,"answer_id":64996153,"question_id":64995790,"body_markdown":"I think the problem is in your package structure. Springboot will scan your app for autoconfiguration starting from the package where you have a class of this structure\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(App.class, args);\r\n    \t}\r\n    \r\n    }\r\n    \r\nIt should be in the package `com.soheibKehal.CashApi`.\r\n\r\nThe solution will be to move the filter package into the `com.soheibKehal.CashApi` just beside your `config` package.\r\n\r\nThen spring will be able to locate the `JwtFilter` for autoconfiguration. ","title":"Field jwtFilter required a bean of type &#39;filter.JwtFilter&#39; that could not be found.?","body":"<p>I think the problem is in your package structure. Springboot will scan your app for autoconfiguration starting from the package where you have a class of this structure</p>\n<pre><code>@SpringBootApplication\npublic class App {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n}\n</code></pre>\n<p>It should be in the package <code>com.soheibKehal.CashApi</code>.</p>\n<p>The solution will be to move the filter package into the <code>com.soheibKehal.CashApi</code> just beside your <code>config</code> package.</p>\n<p>Then spring will be able to locate the <code>JwtFilter</code> for autoconfiguration.</p>\n"}],"owner":{"account_id":19518008,"reputation":13,"user_id":14280469,"display_name":"marcOlivr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64996153,"answer_count":1,"score":0,"last_activity_date":1692186202,"creation_date":1606257004,"question_id":64995790,"body_markdown":"I want to start my spring app after i made some jwt authentification configuration. but i have this issues :\r\n\r\nDescription:\r\n\r\n    Field jwtFilter in com.soheibKehal.CashApi.config.SecurityConfig required a bean of type &#39;filter.JwtFilter&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;filter.JwtFilter&#39; in your configuration.\r\n\r\nThe thing is in my SecurityConfig class, i already Beaned my AuthentificationManager method, so i dont know what is the problem ? \r\n     \r\n        package com.soheibKehal.CashApi.config;\r\n    \r\n    import com.soheibKehal.CashApi.services.CustomUserDetailService;\r\n    import filter.JwtFilter;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        \r\n            @Autowired\r\n            private CustomUserDetailService userDetailsService;\r\n        \r\n            @Autowired\r\n            private JwtFilter jwtFilter;\r\n        \r\n            @Override\r\n            protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                auth.userDetailsService(userDetailsService);\r\n            }\r\n            @Bean\r\n            public PasswordEncoder passwordEncoder(){\r\n                return NoOpPasswordEncoder.getInstance();\r\n            }\r\n        \r\n            @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n            @Override\r\n            public AuthenticationManager authenticationManagerBean() throws Exception {\r\n                return super.authenticationManagerBean();\r\n            }\r\n        \r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http.csrf().disable().authorizeRequests().antMatchers(&quot;/authenticate&quot;)\r\n                        .permitAll().anyRequest().authenticated()\r\n                        .and().exceptionHandling().and().sessionManagement()\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n                http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);;\r\n            }\r\n        }\r\n\r\nmy jwtFilter class : \r\n    \r\n  \r\n\r\n      package filter;\r\n    \r\n    import com.soheibKehal.CashApi.Util.JwtUtil;\r\n    import com.soheibKehal.CashApi.services.CustomUserDetailService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n        @Component\r\n        public class JwtFilter extends OncePerRequestFilter {\r\n        \r\n            @Autowired\r\n            private JwtUtil jwtUtil;\r\n            @Autowired\r\n            private CustomUserDetailService service;\r\n        \r\n        \r\n            @Override\r\n            protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException, IOException, ServletException {\r\n        \r\n                String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n        \r\n                String token = null;\r\n                String userName = null;\r\n        \r\n                if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                    token = authorizationHeader.substring(7);\r\n                    userName = jwtUtil.extractUsername(token);\r\n                }\r\n        \r\n                if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n        \r\n                    UserDetails userDetails = service.loadUserByUsername(userName);\r\n        \r\n                    if (jwtUtil.validateToken(token, userDetails)) {\r\n        \r\n                        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                                new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                        usernamePasswordAuthenticationToken\r\n                                .setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\r\n                        SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                    }\r\n                }\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n        }\r\n\r\nDo you have any idea what is the problem ?\r\n\r\n","title":"Field jwtFilter required a bean of type &#39;filter.JwtFilter&#39; that could not be found.?","body":"<p>I want to start my spring app after i made some jwt authentification configuration. but i have this issues :</p>\n<p>Description:</p>\n<pre><code>Field jwtFilter in com.soheibKehal.CashApi.config.SecurityConfig required a bean of type 'filter.JwtFilter' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'filter.JwtFilter' in your configuration.\n</code></pre>\n<p>The thing is in my SecurityConfig class, i already Beaned my AuthentificationManager method, so i dont know what is the problem ?</p>\n<pre><code>    package com.soheibKehal.CashApi.config;\n\nimport com.soheibKehal.CashApi.services.CustomUserDetailService;\nimport filter.JwtFilter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n        @Autowired\n        private CustomUserDetailService userDetailsService;\n    \n        @Autowired\n        private JwtFilter jwtFilter;\n    \n        @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(userDetailsService);\n        }\n        @Bean\n        public PasswordEncoder passwordEncoder(){\n            return NoOpPasswordEncoder.getInstance();\n        }\n    \n        @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n        @Override\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n    \n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.csrf().disable().authorizeRequests().antMatchers(&quot;/authenticate&quot;)\n                    .permitAll().anyRequest().authenticated()\n                    .and().exceptionHandling().and().sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n            http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);;\n        }\n    }\n</code></pre>\n<p>my jwtFilter class :</p>\n<pre><code>  package filter;\n\nimport com.soheibKehal.CashApi.Util.JwtUtil;\nimport com.soheibKehal.CashApi.services.CustomUserDetailService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n    @Component\n    public class JwtFilter extends OncePerRequestFilter {\n    \n        @Autowired\n        private JwtUtil jwtUtil;\n        @Autowired\n        private CustomUserDetailService service;\n    \n    \n        @Override\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException, IOException, ServletException {\n    \n            String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\n    \n            String token = null;\n            String userName = null;\n    \n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                token = authorizationHeader.substring(7);\n                userName = jwtUtil.extractUsername(token);\n            }\n    \n            if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n    \n                UserDetails userDetails = service.loadUserByUsername(userName);\n    \n                if (jwtUtil.validateToken(token, userDetails)) {\n    \n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                            new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                    usernamePasswordAuthenticationToken\n                            .setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                }\n            }\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n    }\n</code></pre>\n<p>Do you have any idea what is the problem ?</p>\n"},{"tags":["java","hibernate","hibernate3"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692129516,"post_id":76908728,"comment_id":135581771,"body_markdown":"So is the issue that the updates are failing?  Because if they are succeeding then either you are updating existing entities, possibly on account of re-using IDs, or else the entities *are* being inserted at some point.","body":"So is the issue that the updates are failing?  Because if they are succeeding then either you are updating existing entities, possibly on account of re-using IDs, or else the entities <i>are</i> being inserted at some point."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692130449,"post_id":76908728,"comment_id":135581901,"body_markdown":"Also, to the best of my knowledge and ability to search documentation, the `unsaved-value` property is relevant only to *generated* IDs, not to assigned ones.  Hibernate does not rely on ID values to determine how to handle a cascading save for child entities with assigned IDs (except inasmuch as it must fail if such entities have not, in fact, been assigned an ID).","body":"Also, to the best of my knowledge and ability to search documentation, the <code>unsaved-value</code> property is relevant only to <i>generated</i> IDs, not to assigned ones.  Hibernate does not rely on ID values to determine how to handle a cascading save for child entities with assigned IDs (except inasmuch as it must fail if such entities have not, in fact, been assigned an ID)."},{"owner":{"account_id":5207240,"reputation":120,"user_id":4164758,"accept_rate":75,"display_name":"ComeOn"},"score":0,"creation_date":1692166705,"post_id":76908728,"comment_id":135585230,"body_markdown":"Hi John, thank you for you comments.\n\nAll entities should be inserted, not updated. I&#39;m basically copying everything from one structure to another in db. That&#39;s why I know the ids already.\n\nI&#39;ve checked the logs and there is never an insert for Nested entity, it tries to update a record, which doesn&#39;t exist, so I get ```org.hibernate.StaleStateException```","body":"Hi John, thank you for you comments.  All entities should be inserted, not updated. I&#39;m basically copying everything from one structure to another in db. That&#39;s why I know the ids already.  I&#39;ve checked the logs and there is never an insert for Nested entity, it tries to update a record, which doesn&#39;t exist, so I get <code>org.hibernate.StaleStateException</code>"}],"answers":[{"comments":[{"owner":{"account_id":5207240,"reputation":120,"user_id":4164758,"accept_rate":75,"display_name":"ComeOn"},"score":0,"creation_date":1692187361,"post_id":76913202,"comment_id":135589166,"body_markdown":"Hi Pancham, thank you for suggested solution.\n\nIt still uses ```getSession().save(...)``` and for me it doesn&#39;t really matter where to call it (earlier in my method or in this interceptor)\n\nI want to avoid that because in reality I have ~30 linked entities and I don&#39;t want to save them separately.","body":"Hi Pancham, thank you for suggested solution.  It still uses <code>getSession().save(...)</code> and for me it doesn&#39;t really matter where to call it (earlier in my method or in this interceptor)  I want to avoid that because in reality I have ~30 linked entities and I don&#39;t want to save them separately."},{"owner":{"account_id":6607377,"reputation":97,"user_id":5103788,"display_name":"Pancham Goyal"},"score":0,"creation_date":1692204587,"post_id":76913202,"comment_id":135593061,"body_markdown":"Did you tried using `cascade` attribute in the mapping annotations to control the behaviour during save and update operations.\n\n1. In the Main class:\n@OneToMany(mappedBy = &quot;main&quot;, cascade = CascadeType.PERSIST) // Use CascadeType.PERSIST\npublic List&lt;Nested&gt; getNested() {\n    return nested;\n}\n\n2. In the Nested class: \n@ManyToOne(cascade = CascadeType.PERSIST) // Use CascadeType.PERSIST\npublic Main getMain() {\n    return main;\n}","body":"Did you tried using <code>cascade</code> attribute in the mapping annotations to control the behaviour during save and update operations.  1. In the Main class: @OneToMany(mappedBy = &quot;main&quot;, cascade = CascadeType.PERSIST) // Use CascadeType.PERSIST public List&lt;Nested&gt; getNested() {     return nested; }  2. In the Nested class:  @ManyToOne(cascade = CascadeType.PERSIST) // Use CascadeType.PERSIST public Main getMain() {     return main; }"},{"owner":{"account_id":5207240,"reputation":120,"user_id":4164758,"accept_rate":75,"display_name":"ComeOn"},"score":0,"creation_date":1693854740,"post_id":76913202,"comment_id":135812121,"body_markdown":"I did. Unfortunately it didn&#39;t work.","body":"I did. Unfortunately it didn&#39;t work."}],"tags":[],"owner":{"account_id":6607377,"reputation":97,"user_id":5103788,"display_name":"Pancham Goyal"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692186052,"creation_date":1692186052,"answer_id":76913202,"question_id":76908728,"body_markdown":"If you don&#39;t want to save each Nested entity separately, you could use a custom interceptor to modify the Hibernate behaviour for saving the entities.\r\n\r\nBelow is a sample implementation that could be used for the same\r\n\r\n1. Implement a custom interceptor that extends org.hibernate.EmptyInterceptor\r\n\r\n```\r\nimport org.hibernate.EmptyInterceptor;\r\n\r\npublic class CustomSaveInterceptor extends EmptyInterceptor {\r\n\r\n    @Override\r\n    public boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\r\n        if (entity instanceof Main) {\r\n            Main main = (Main) entity;\r\n            for (Nested nested : main.getNested()) {\r\n                getSession().save(nested); // Manually save each nested entity\r\n            }\r\n        }\r\n        return super.onSave(entity, id, state, propertyNames, types);\r\n    }\r\n}\r\n```\r\n\r\n2. Configure the custom interceptor in Hibernate configuration\r\n```\r\nSessionFactory sessionFactory = configuration.buildSessionFactory(\r\n    new CustomSaveInterceptor()); // Pass your interceptor instance here\r\n```\r\n\r\n3. Use the configured SessionFactory to save your entities\r\n```\r\nMain main = new Main();\r\n// Set properties for the Main object\r\n\r\nNested nested1 = new Nested();\r\n// Set properties for the Nested object 1\r\n\r\nNested nested2 = new Nested();\r\n// Set properties for the Nested object 2\r\n\r\nmain.getNested().add(nested1);\r\nmain.getNested().add(nested2);\r\n\r\nsessionFactory.getCurrentSession().save(main); // Trigger saving with the interceptor\r\n```\r\n\r\nThis approach involves intercepting saving process for Main entities using custom interceptor. When a Main entity is saved, the interceptor will manually save each associated Nested entity before proceeding with the normal process for Saving Main entity.\r\n\r\nP.S.: This solution can affect the behaviour of the Hibernate session globally. As always, make sure to thoroughly test the change to make sure it works correctly for your specific use case.","title":"How to save an entity with a nested entity in Hibernate when both have id?","body":"<p>If you don't want to save each Nested entity separately, you could use a custom interceptor to modify the Hibernate behaviour for saving the entities.</p>\n<p>Below is a sample implementation that could be used for the same</p>\n<ol>\n<li>Implement a custom interceptor that extends org.hibernate.EmptyInterceptor</li>\n</ol>\n<pre><code>import org.hibernate.EmptyInterceptor;\n\npublic class CustomSaveInterceptor extends EmptyInterceptor {\n\n    @Override\n    public boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\n        if (entity instanceof Main) {\n            Main main = (Main) entity;\n            for (Nested nested : main.getNested()) {\n                getSession().save(nested); // Manually save each nested entity\n            }\n        }\n        return super.onSave(entity, id, state, propertyNames, types);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Configure the custom interceptor in Hibernate configuration</li>\n</ol>\n<pre><code>SessionFactory sessionFactory = configuration.buildSessionFactory(\n    new CustomSaveInterceptor()); // Pass your interceptor instance here\n</code></pre>\n<ol start=\"3\">\n<li>Use the configured SessionFactory to save your entities</li>\n</ol>\n<pre><code>Main main = new Main();\n// Set properties for the Main object\n\nNested nested1 = new Nested();\n// Set properties for the Nested object 1\n\nNested nested2 = new Nested();\n// Set properties for the Nested object 2\n\nmain.getNested().add(nested1);\nmain.getNested().add(nested2);\n\nsessionFactory.getCurrentSession().save(main); // Trigger saving with the interceptor\n</code></pre>\n<p>This approach involves intercepting saving process for Main entities using custom interceptor. When a Main entity is saved, the interceptor will manually save each associated Nested entity before proceeding with the normal process for Saving Main entity.</p>\n<p>P.S.: This solution can affect the behaviour of the Hibernate session globally. As always, make sure to thoroughly test the change to make sure it works correctly for your specific use case.</p>\n"}],"owner":{"account_id":5207240,"reputation":120,"user_id":4164758,"accept_rate":75,"display_name":"ComeOn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692186052,"creation_date":1692128667,"question_id":76908728,"body_markdown":"We are using old Hibernate on our project (version 3.6.10), upgrade is not an option at this moment unfortunately. \r\n\r\nI&#39;m trying to save entities **with assigned ids** that have the following structure:\r\n\r\nI have a ```Base``` class that contains ```id``` field. Please note ```generator-class=&quot;assigned&quot;```\r\n\r\n```\r\npublic abstract class Base {\r\n\r\n    private Long id;\r\n\r\n    // contructor\r\n\r\n    /**\r\n     * @hibernate.id generator-class=&quot;assigned&quot; unsaved-value=&quot;null&quot;\r\n     */\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    // setter\r\n}\r\n```\r\n\r\nThen I have a class ```Nested```\r\n\r\n\r\n```\r\npublic class Nested extends Base {\r\n\r\n    private Main main;\r\n\r\n    // constructor\r\n\r\n    /**\r\n     * @hibernate.many-to-one column=&quot;main_id&quot; not-null=&quot;true&quot; fetch=&quot;join&quot;\r\n     * lazy=&quot;false&quot; cascade=&quot;all&quot;\r\n     * class=&quot;Main&quot;\r\n     */\r\n    public Main getMain() {\r\n        return main;\r\n    }\r\n    \r\n    // setter\r\n}\r\n```\r\n\r\nAnd class ```Main```:\r\n\r\n\r\n```\r\n\r\npublic class Main extends Base {\r\n\r\n    private List&lt;Nested&gt; nested;\r\n\r\n    /**\r\n     * @hibernate.bag cascade=&quot;all-delete-orphan&quot; inverse=&quot;true&quot; batch-size=&quot;10&quot; lazy=&quot;false&quot;\r\n     * @hibernate.key column=&quot;main_id&quot; on-delete=&quot;cascade&quot;\r\n     * @hibernate.one-to-many class=&quot;Nested&quot;\r\n     */\r\n    public List&lt;Nested&gt; getNested() {\r\n        return nested;\r\n    }\r\n    // setter\r\n}\r\n```\r\n\r\nWhen I construct Main object with a list of Nested object (all of them have ids) and try to save it (```getHibernateTemplate().save(main)```), I see in generated SQL queries:\r\n\r\n```insert into main... ```\r\n\r\nand then\r\n\r\n```update nested ...``` I assume that&#39;s because nested records have ids already.\r\n\r\nHow can I make Hibernate insert records for ```Nested``` instances? \r\n\r\nI know that I can save each entity separately, but I&#39;d prefer to avoid that.\r\n\r\n","title":"How to save an entity with a nested entity in Hibernate when both have id?","body":"<p>We are using old Hibernate on our project (version 3.6.10), upgrade is not an option at this moment unfortunately.</p>\n<p>I'm trying to save entities <strong>with assigned ids</strong> that have the following structure:</p>\n<p>I have a <code>Base</code> class that contains <code>id</code> field. Please note <code>generator-class=&quot;assigned&quot;</code></p>\n<pre><code>public abstract class Base {\n\n    private Long id;\n\n    // contructor\n\n    /**\n     * @hibernate.id generator-class=&quot;assigned&quot; unsaved-value=&quot;null&quot;\n     */\n    public Long getId() {\n        return id;\n    }\n\n    // setter\n}\n</code></pre>\n<p>Then I have a class <code>Nested</code></p>\n<pre><code>public class Nested extends Base {\n\n    private Main main;\n\n    // constructor\n\n    /**\n     * @hibernate.many-to-one column=&quot;main_id&quot; not-null=&quot;true&quot; fetch=&quot;join&quot;\n     * lazy=&quot;false&quot; cascade=&quot;all&quot;\n     * class=&quot;Main&quot;\n     */\n    public Main getMain() {\n        return main;\n    }\n    \n    // setter\n}\n</code></pre>\n<p>And class <code>Main</code>:</p>\n<pre><code>\npublic class Main extends Base {\n\n    private List&lt;Nested&gt; nested;\n\n    /**\n     * @hibernate.bag cascade=&quot;all-delete-orphan&quot; inverse=&quot;true&quot; batch-size=&quot;10&quot; lazy=&quot;false&quot;\n     * @hibernate.key column=&quot;main_id&quot; on-delete=&quot;cascade&quot;\n     * @hibernate.one-to-many class=&quot;Nested&quot;\n     */\n    public List&lt;Nested&gt; getNested() {\n        return nested;\n    }\n    // setter\n}\n</code></pre>\n<p>When I construct Main object with a list of Nested object (all of them have ids) and try to save it (<code>getHibernateTemplate().save(main)</code>), I see in generated SQL queries:</p>\n<p><code>insert into main... </code></p>\n<p>and then</p>\n<p><code>update nested ...</code> I assume that's because nested records have ids already.</p>\n<p>How can I make Hibernate insert records for <code>Nested</code> instances?</p>\n<p>I know that I can save each entity separately, but I'd prefer to avoid that.</p>\n"},{"tags":["java","urlconnection"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1560328072,"post_id":56557647,"comment_id":99695663,"body_markdown":"he just doesn&#39;t know the content type","body":"he just doesn&#39;t know the content type"},{"owner":{"account_id":14331879,"reputation":177,"user_id":10352428,"display_name":"萝莉w"},"score":0,"creation_date":1560328310,"post_id":56557647,"comment_id":99695796,"body_markdown":"I used F12 to check, and found that this link doesn&#39;t have context type.","body":"I used F12 to check, and found that this link doesn&#39;t have context type."},{"owner":{"account_id":7952758,"reputation":73,"user_id":6003099,"display_name":"Rahul Pandey"},"score":0,"creation_date":1560331313,"post_id":56557647,"comment_id":99697474,"body_markdown":"what can be the solution because I am using this in my project where I have to save the content type in JSON ?","body":"what can be the solution because I am using this in my project where I have to save the content type in JSON ?"}],"answers":[{"tags":[],"owner":{"account_id":13191407,"reputation":1054,"user_id":9527593,"display_name":"z11i"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1560329234,"creation_date":1560328184,"answer_id":56557777,"question_id":56557647,"body_markdown":"In the URLConnection#getContentType [documentation](https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getContentType--), it says\r\n&gt; Returns the value of the content-type header field.\r\n\r\nSo if the header value is missing the `content-type` header, the method will return null.\r\n\r\nUse `curl` to check:\r\n```\r\ncurl -I https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg\r\n\r\nHTTP/1.1 200 OK\r\nCache-Control: public, max-age=31622400\r\nContent-Length: 2794649\r\nLast-Modified: Sun, 02 Jun 2019 00:25:00 GMT\r\nETag: 0x8D6E6F0BFBA22BC\r\nVary: Origin\r\nServer: Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0\r\nx-ms-request-id: f5962c19-901e-0083-78f8-20a0ca000000\r\nx-ms-version: 2009-09-19\r\nx-ms-lease-status: unlocked\r\nx-ms-blob-type: BlockBlob\r\nDate: Wed, 12 Jun 2019 08:24:58 GMT\r\n```\r\n\r\n```\r\ncurl -I https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3\r\n\r\nHTTP/1.1 200 OK\r\nx-amz-id-2: LXyjyXfMWNmwYfkUhiGnbyJBE4WovVwUTNi7ELXmDYpLtwGHVl1BfBPYgxgDazK44sIIwXFMv+4=\r\nx-amz-request-id: FF7CE75150E28EB3\r\nDate: Wed, 12 Jun 2019 08:25:15 GMT\r\nLast-Modified: Thu, 11 Oct 2018 02:15:15 GMT\r\nETag: &quot;15ad210d28be6a37af2c0e37a5c30e6b&quot;\r\nx-amz-storage-class: STANDARD_IA\r\nAccept-Ranges: bytes\r\nContent-Type: image/jpeg\r\nContent-Length: 200785\r\nServer: AmazonS3\r\n```\r\n\r\nAs you can see, only one of them has the `content-type` field in the response headers.\r\n\r\nAn alternative way is to download the file and check. See: https://www.baeldung.com/java-file-mime-type","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<p>In the URLConnection#getContentType <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getContentType--\" rel=\"nofollow noreferrer\">documentation</a>, it says</p>\n\n<blockquote>\n  <p>Returns the value of the content-type header field.</p>\n</blockquote>\n\n<p>So if the header value is missing the <code>content-type</code> header, the method will return null.</p>\n\n<p>Use <code>curl</code> to check:</p>\n\n<pre><code>curl -I https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg\n\nHTTP/1.1 200 OK\nCache-Control: public, max-age=31622400\nContent-Length: 2794649\nLast-Modified: Sun, 02 Jun 2019 00:25:00 GMT\nETag: 0x8D6E6F0BFBA22BC\nVary: Origin\nServer: Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0\nx-ms-request-id: f5962c19-901e-0083-78f8-20a0ca000000\nx-ms-version: 2009-09-19\nx-ms-lease-status: unlocked\nx-ms-blob-type: BlockBlob\nDate: Wed, 12 Jun 2019 08:24:58 GMT\n</code></pre>\n\n<pre><code>curl -I https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3\n\nHTTP/1.1 200 OK\nx-amz-id-2: LXyjyXfMWNmwYfkUhiGnbyJBE4WovVwUTNi7ELXmDYpLtwGHVl1BfBPYgxgDazK44sIIwXFMv+4=\nx-amz-request-id: FF7CE75150E28EB3\nDate: Wed, 12 Jun 2019 08:25:15 GMT\nLast-Modified: Thu, 11 Oct 2018 02:15:15 GMT\nETag: \"15ad210d28be6a37af2c0e37a5c30e6b\"\nx-amz-storage-class: STANDARD_IA\nAccept-Ranges: bytes\nContent-Type: image/jpeg\nContent-Length: 200785\nServer: AmazonS3\n</code></pre>\n\n<p>As you can see, only one of them has the <code>content-type</code> field in the response headers.</p>\n\n<p>An alternative way is to download the file and check. See: <a href=\"https://www.baeldung.com/java-file-mime-type\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-file-mime-type</a></p>\n"},{"tags":[],"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560328185,"creation_date":1560328185,"answer_id":56557778,"question_id":56557647,"body_markdown":"According to the API documentation\r\n\r\nReturns:\r\nthe content type of the resource that the URL references, or null if not known.\r\n\r\nIf the server does not return the Content-Type header the getContentType() method cannot know the type.","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<p>According to the API documentation</p>\n\n<p>Returns:\nthe content type of the resource that the URL references, or null if not known.</p>\n\n<p>If the server does not return the Content-Type header the getContentType() method cannot know the type.</p>\n"},{"tags":[],"owner":{"account_id":3311735,"reputation":21,"user_id":2785082,"display_name":"user2785082"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692185668,"creation_date":1692185668,"answer_id":76913166,"question_id":56557647,"body_markdown":"    URLConnection.getFileNameMap().getContentTypeFor(fileName)\r\nwas returning **null** to me, because the **fileName** contained &quot; &quot; - space character.\r\nFixed it by:\r\n\r\n    URLConnection.getFileNameMap().getContentTypeFor(fileName.substringAfterLast(&quot; &quot;))\r\n\r\n*This may not be exactly your problem, but i decided to leave it here for others searching for similar issue.*","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<pre><code>URLConnection.getFileNameMap().getContentTypeFor(fileName)\n</code></pre>\n<p>was returning <strong>null</strong> to me, because the <strong>fileName</strong> contained &quot; &quot; - space character.\nFixed it by:</p>\n<pre><code>URLConnection.getFileNameMap().getContentTypeFor(fileName.substringAfterLast(&quot; &quot;))\n</code></pre>\n<p><em>This may not be exactly your problem, but i decided to leave it here for others searching for similar issue.</em></p>\n"}],"owner":{"account_id":7952758,"reputation":73,"user_id":6003099,"display_name":"Rahul Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56557777,"answer_count":3,"score":2,"last_activity_date":1692185668,"creation_date":1560327725,"question_id":56557647,"body_markdown":"I am working on Java 7 and tried to read mime type from an URL by below code. In maximum scenario urlConnection.getContentType() gives content type but in some specific scenario it gives null.\r\n\r\nFor example, in the below code, I am able to read mime type for url2 but url1 is giving null.  \r\n\r\n```import javax.net.ssl.HttpsURLConnection;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\n\r\nclass readMimeType{\r\n\r\n    public static void main(String args[]) {\r\n        String url1 = &quot;https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg&quot;;\r\n        String url2 = &quot;https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3&quot;;\r\n\r\n        try {\r\n            URL serverUrl = new URL(url1);\r\n            URLConnection urlConnection = serverUrl.openConnection();\r\n            HttpsURLConnection httpConnection = (HttpsURLConnection) urlConnection;\r\n            httpConnection.setInstanceFollowRedirects(false);\r\n            httpConnection.setDoOutput(true);\r\n\r\n            InputStream initialStream = httpConnection.getInputStream();\r\n\r\n            String mimeType = urlConnection.getContentType();\r\n\r\n            System.out.println(&quot;mimeType::::&quot; + mimeType);\r\n        } catch (Exception exception) {\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<p>I am working on Java 7 and tried to read mime type from an URL by below code. In maximum scenario urlConnection.getContentType() gives content type but in some specific scenario it gives null.</p>\n\n<p>For example, in the below code, I am able to read mime type for url2 but url1 is giving null.  </p>\n\n<pre><code>import java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\n\nclass readMimeType{\n\n    public static void main(String args[]) {\n        String url1 = \"https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg\";\n        String url2 = \"https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3\";\n\n        try {\n            URL serverUrl = new URL(url1);\n            URLConnection urlConnection = serverUrl.openConnection();\n            HttpsURLConnection httpConnection = (HttpsURLConnection) urlConnection;\n            httpConnection.setInstanceFollowRedirects(false);\n            httpConnection.setDoOutput(true);\n\n            InputStream initialStream = httpConnection.getInputStream();\n\n            String mimeType = urlConnection.getContentType();\n\n            System.out.println(\"mimeType::::\" + mimeType);\n        } catch (Exception exception) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1691937208,"post_id":76893800,"comment_id":135555457,"body_markdown":"`a.var` would work, but that code won&#39;t compile since the `fun()` method cannot be declared abstract in the anonymous class. So, in class B, it is not `public abstract void fun() {` but rather `public void fun() {`","body":"<code>a.var</code> would work, but that code won&#39;t compile since the <code>fun()</code> method cannot be declared abstract in the anonymous class. So, in class B, it is not <code>public abstract void fun() {</code> but rather <code>public void fun() {</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1691937355,"post_id":76893800,"comment_id":135555475,"body_markdown":"What&#39;s wrong with simply `var`? https://ideone.com/NE8Kye","body":"What&#39;s wrong with simply <code>var</code>? <a href=\"https://ideone.com/NE8Kye\" rel=\"nofollow noreferrer\">ideone.com/NE8Kye</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1691937382,"post_id":76893800,"comment_id":135555480,"body_markdown":"Within the anonymous class implementation of `A`, using `this` references the instance of said implementation. In other words, using `this.var`, or simply just `var`, inside the `fun()` method override will work.","body":"Within the anonymous class implementation of <code>A</code>, using <code>this</code> references the instance of said implementation. In other words, using <code>this.var</code>, or simply just <code>var</code>, inside the <code>fun()</code> method override will work."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1691943631,"post_id":76894211,"comment_id":135556100,"body_markdown":"Note that `a.var` only works because `a == this` in this case. However, it&#39;s possible for `a != this` in other contexts.","body":"Note that <code>a.var</code> only works because <code>a == this</code> in this case. However, it&#39;s possible for <code>a != this</code> in other contexts."}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692185266,"creation_date":1691943120,"answer_id":76894211,"question_id":76893800,"body_markdown":"In an anonymous class, you can use `this.var`, `a.var` or the variable `var` itself. Since it is an anonymous class you can access all its public or its package visible fields\r\nHere&#39;s and example\r\n```\r\nabstract class A {\r\n\tpublic int var = 0;\r\n\tpublic abstract void fun();\r\n}\r\nclass B {\r\n\tA a;\r\n\tpublic B() {\r\n\t\ta = new A() {\r\n\t\t\tpublic void fun() {\r\n\t\t\t\tSystem.out.println(var);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew B().a.fun();\r\n\t}\r\n}\r\n```\r\nIn other cases where `a == null` or `a != this` you cannot use `a.var` for example\r\n```\r\nclass B {\r\n\tA a;\r\n\tA a2;\r\n\tpublic B() {\r\n\t\ta2 = new A() {\r\n\t\t\tpublic void fun() {\r\n\t\t\t\tSystem.out.println(a.var);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\nYou would end up getting a `NullPointerException`","title":"How can I access the var member inside anonymous class?","body":"<p>In an anonymous class, you can use <code>this.var</code>, <code>a.var</code> or the variable <code>var</code> itself. Since it is an anonymous class you can access all its public or its package visible fields\nHere's and example</p>\n<pre><code>abstract class A {\n    public int var = 0;\n    public abstract void fun();\n}\nclass B {\n    A a;\n    public B() {\n        a = new A() {\n            public void fun() {\n                System.out.println(var);\n            }\n        };\n    }\n}\npublic class Main {\n    public static void main(String[] args) {\n        new B().a.fun();\n    }\n}\n</code></pre>\n<p>In other cases where <code>a == null</code> or <code>a != this</code> you cannot use <code>a.var</code> for example</p>\n<pre><code>class B {\n    A a;\n    A a2;\n    public B() {\n        a2 = new A() {\n            public void fun() {\n                System.out.println(a.var);\n            }\n        };\n    }\n}\n</code></pre>\n<p>You would end up getting a <code>NullPointerException</code></p>\n"}],"owner":{"account_id":1430866,"reputation":177,"user_id":1353368,"accept_rate":40,"display_name":"Jackey Cheung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76894211,"answer_count":1,"score":0,"last_activity_date":1692185266,"creation_date":1691936876,"question_id":76893800,"body_markdown":"I suddenly found myself facing a problem:\r\n\r\n```\r\npublic abstract class A {\r\n  public int var = 0;\r\n  public abstract void fun();\r\n}\r\n\r\npublic class B {\r\n  private A a;\r\n\r\n  public B() {\r\n    a = new A() {\r\n      public abstract void fun() {\r\n        // How to access A.var\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nAs the above comment goes: How can I access the `var` member? Or am I making mistake?\r\n\r\nP.S. I&#39;m not accessing containing class member (not B.this).","title":"How can I access the var member inside anonymous class?","body":"<p>I suddenly found myself facing a problem:</p>\n<pre><code>public abstract class A {\n  public int var = 0;\n  public abstract void fun();\n}\n\npublic class B {\n  private A a;\n\n  public B() {\n    a = new A() {\n      public abstract void fun() {\n        // How to access A.var\n      }\n    };\n  }\n}\n</code></pre>\n<p>As the above comment goes: How can I access the <code>var</code> member? Or am I making mistake?</p>\n<p>P.S. I'm not accessing containing class member (not B.this).</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":28864428,"reputation":1,"user_id":22107499,"display_name":"Himanshu Satone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692185254,"creation_date":1692185157,"answer_id":76913110,"question_id":76831755,"body_markdown":"Suppose you want to delete an item from the list, you have to specify some things before proceed to delete it.\r\n\r\n 1. Define the position of the item you want to delete. You can achieve it using getAdapterPosition() method.\r\n 2. Pass this position to you delete function(User defined function).\r\n    \r\n   \r\n\r\n      deleteItem(int position){\r\n          listItem.remove(position);\r\n          notifyItemRemoved(position);\r\n         }\r\n\r\n 3. The above code will simply remove the item from your array list and then notify the adapter that particular item from particular position have been removed so rearrange the RecyclerView accordingly. \r\n\r\nYou can refer this answer [notifyItemRemoved()][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28189371/using-notifyitemremoved-or-notifydatasetchanged-with-recyclerview-in-android","title":"Does Android provide a RecyclerView/Dyanmic List tutorial outlining how deletion of items and refreshing the list?","body":"<p>Suppose you want to delete an item from the list, you have to specify some things before proceed to delete it.</p>\n<ol>\n<li><p>Define the position of the item you want to delete. You can achieve it using getAdapterPosition() method.</p>\n</li>\n<li><p>Pass this position to you delete function(User defined function).</p>\n<p>deleteItem(int position){\nlistItem.remove(position);\nnotifyItemRemoved(position);\n}</p>\n</li>\n<li><p>The above code will simply remove the item from your array list and then notify the adapter that particular item from particular position have been removed so rearrange the RecyclerView accordingly.</p>\n</li>\n</ol>\n<p>You can refer this answer <a href=\"https://stackoverflow.com/questions/28189371/using-notifyitemremoved-or-notifydatasetchanged-with-recyclerview-in-android\">notifyItemRemoved()</a></p>\n"}],"owner":{"account_id":4780772,"reputation":798,"user_id":3862607,"accept_rate":0,"display_name":"Drew Gallagher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692185254,"creation_date":1691098834,"question_id":76831755,"body_markdown":"I am struggling to find a Android official document for updating recycler view/dynamic list items upon a delete item operation. This for Java primarily, or Kotlin if applicable.\r\n\r\nThis is the only doc section I found and the one listed below it. The examples appear to lack this info too.\r\n\r\nhttps://developer.android.com/develop/ui/views/layout/recyclerview#additional-resources\r\n\r\nI know how to do it from past experience and other guides, but I&#39;m trying to share an official reference from Android with a student of mine.\r\n\r\nAll of the docs I have seen just demonstrate adding items to a list but not deleting them. \r\n\r\nThere also appear to be no docs that show refreshing the list after an item has been deleted/added (i.e. notifyDataSetChanged and related functions)\r\n\r\nWhere are the official docs?\r\n\r\n","title":"Does Android provide a RecyclerView/Dyanmic List tutorial outlining how deletion of items and refreshing the list?","body":"<p>I am struggling to find a Android official document for updating recycler view/dynamic list items upon a delete item operation. This for Java primarily, or Kotlin if applicable.</p>\n<p>This is the only doc section I found and the one listed below it. The examples appear to lack this info too.</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/layout/recyclerview#additional-resources\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/layout/recyclerview#additional-resources</a></p>\n<p>I know how to do it from past experience and other guides, but I'm trying to share an official reference from Android with a student of mine.</p>\n<p>All of the docs I have seen just demonstrate adding items to a list but not deleting them.</p>\n<p>There also appear to be no docs that show refreshing the list after an item has been deleted/added (i.e. notifyDataSetChanged and related functions)</p>\n<p>Where are the official docs?</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":1658045,"reputation":8000,"user_id":1527018,"accept_rate":33,"display_name":"mic4ael"},"score":2,"creation_date":1386429020,"post_id":20442862,"comment_id":30540029,"body_markdown":"Try [link](http://stackoverflow.com/questions/1615352/why-doesnt-mavens-mvn-clean-ever-work-the-first-time)","body":"Try <a href=\"http://stackoverflow.com/questions/1615352/why-doesnt-mavens-mvn-clean-ever-work-the-first-time\">link</a>"}],"answers":[{"comments":[{"owner":{"account_id":2627294,"reputation":906,"user_id":2274060,"accept_rate":0,"display_name":"user2274060"},"score":0,"creation_date":1386431881,"post_id":20443141,"comment_id":30540965,"body_markdown":"I always have the same problem","body":"I always have the same problem"},{"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":1,"creation_date":1386433304,"post_id":20443141,"comment_id":30541406,"body_markdown":"I think there is a running process, which has the jar loaded.","body":"I think there is a running process, which has the jar loaded."},{"owner":{"account_id":1107510,"reputation":514,"user_id":1098628,"accept_rate":100,"display_name":"alextsil"},"score":1,"creation_date":1427534301,"post_id":20443141,"comment_id":46823319,"body_markdown":"Glassfish server in my case. Not only you have to undeploy your applications but stop the server as well.","body":"Glassfish server in my case. Not only you have to undeploy your applications but stop the server as well."},{"owner":{"account_id":2569832,"reputation":393,"user_id":2228854,"accept_rate":50,"display_name":"SoProgram"},"score":1,"creation_date":1494171607,"post_id":20443141,"comment_id":74703439,"body_markdown":"In my case also it is GlassFish server. Have to stop it as well before doing clean and build.","body":"In my case also it is GlassFish server. Have to stop it as well before doing clean and build."},{"owner":{"account_id":8003765,"reputation":167,"user_id":6037662,"accept_rate":100,"display_name":"Rajesh Qa"},"score":0,"creation_date":1671771161,"post_id":20443141,"comment_id":132172991,"body_markdown":"I tried all the solutions but nothing is worked in Client VDI,facing same issue from day 1 of Eclipse","body":"I tried all the solutions but nothing is worked in Client VDI,facing same issue from day 1 of Eclipse"}],"tags":[],"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"comment_count":5,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1386430621,"creation_date":1386430621,"answer_id":20443141,"question_id":20442862,"body_markdown":"&gt; Failed to delete\r\n&gt; C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar\r\n\r\nBecause of the path `C:\\EclipseProjects` i guess you have eclipse running on that project. If you application runs, you cannot clean the output, because it may be in use.\r\n\r\nStop the application and maybe eclipse and try again.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<blockquote>\n  <p>Failed to delete\n  C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar</p>\n</blockquote>\n\n<p>Because of the path <code>C:\\EclipseProjects</code> i guess you have eclipse running on that project. If you application runs, you cannot clean the output, because it may be in use.</p>\n\n<p>Stop the application and maybe eclipse and try again.</p>\n"},{"tags":[],"owner":{"account_id":2167953,"reputation":773,"user_id":1920619,"accept_rate":82,"display_name":"Kworks"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1399646857,"creation_date":1399646857,"answer_id":23567587,"question_id":20442862,"body_markdown":"Make sure that your permissions are correct on the folder.As i faced same problem and after changing the ownership of the folder and files the problem was solved.\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Make sure that your permissions are correct on the folder.As i faced same problem and after changing the ownership of the folder and files the problem was solved.</p>\n"},{"tags":[],"owner":{"display_name":"user2208931"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402048694,"creation_date":1402048694,"answer_id":24079095,"question_id":20442862,"body_markdown":"if you run a server instance, stop it for the time of build process. worked for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>if you run a server instance, stop it for the time of build process. worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1373850,"reputation":730,"user_id":1308262,"accept_rate":50,"display_name":"shashi009"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402375020,"creation_date":1402298096,"answer_id":24115382,"question_id":20442862,"body_markdown":"Try changing the permissions on the workspace folder. Make sure you have sufficient permissions to delete files in this folder.\r\nI faced the same problem and when i provided full control over the project folder (changing windows security permissions), it worked fine for me.\r\n\r\nJust to update, this morning it again started giving the same error even when i have given all the permissions. So i tried to delete the particular file (pointed in the error logs) manually to find out what&#39;s exactly the problem.\r\n\r\nI got the error &quot;can not delete file because it&#39;s in use by Java TM SE&quot;. So the file was being used by java process due to which eclipse was not able to delete it.\r\n\r\nI closed the java process from task manager and after that it worked fine. Although its kinda hectic to close the java process every time I need to execute my project, its the working solution right now for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Try changing the permissions on the workspace folder. Make sure you have sufficient permissions to delete files in this folder.\nI faced the same problem and when i provided full control over the project folder (changing windows security permissions), it worked fine for me.</p>\n\n<p>Just to update, this morning it again started giving the same error even when i have given all the permissions. So i tried to delete the particular file (pointed in the error logs) manually to find out what's exactly the problem.</p>\n\n<p>I got the error \"can not delete file because it's in use by Java TM SE\". So the file was being used by java process due to which eclipse was not able to delete it.</p>\n\n<p>I closed the java process from task manager and after that it worked fine. Although its kinda hectic to close the java process every time I need to execute my project, its the working solution right now for me.</p>\n"},{"tags":[],"owner":{"account_id":4078308,"reputation":3661,"user_id":3349358,"accept_rate":88,"display_name":"gmode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404736114,"creation_date":1404736114,"answer_id":24610642,"question_id":20442862,"body_markdown":"In my case, it was Subversion, TortoiseSVN clinging to those files, so I just clicked on SVN in the Eclipse menu and then disconnect. Worked for me. ","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>In my case, it was Subversion, TortoiseSVN clinging to those files, so I just clicked on SVN in the Eclipse menu and then disconnect. Worked for me. </p>\n"},{"tags":[],"owner":{"account_id":5688780,"reputation":1,"user_id":4497432,"display_name":"masthan rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422362919,"creation_date":1422362919,"answer_id":28170920,"question_id":20442862,"body_markdown":"If you open the directory which it is trying to delete then also you will face same error so first close the folder.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>If you open the directory which it is trying to delete then also you will face same error so first close the folder.</p>\n"},{"comments":[{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":1,"creation_date":1459171335,"post_id":29388554,"comment_id":60154496,"body_markdown":"User is running on Windows not a *NIX environment","body":"User is running on Windows not a *NIX environment"}],"tags":[],"owner":{"account_id":991147,"reputation":2131,"user_id":1008424,"accept_rate":82,"display_name":"Anuruddha Lanka Liyanarachchi"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1427884465,"creation_date":1427884465,"answer_id":29388554,"question_id":20442862,"body_markdown":"In my case I changed the owner of all the files and it worked.\r\n\r\n    sudo chown -R anuruddha *\r\n\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>In my case I changed the owner of all the files and it worked.</p>\n\n<pre><code>sudo chown -R anuruddha *\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937090,"reputation":947,"user_id":965830,"accept_rate":65,"display_name":"tanvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449118005,"creation_date":1449118005,"answer_id":34058063,"question_id":20442862,"body_markdown":"For me it worked by closing the Eclipse and using the command line to build the project. Seems like Eclipse had taken a lock on the files.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For me it worked by closing the Eclipse and using the command line to build the project. Seems like Eclipse had taken a lock on the files.</p>\n"},{"tags":[],"owner":{"account_id":7253967,"reputation":11,"user_id":5826279,"display_name":"mak k"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1639071093,"creation_date":1459169859,"answer_id":36262854,"question_id":20442862,"body_markdown":"Kill the &quot;Java (TM)&quot; process from processes in your computer. Re-run the `mvn` command. It should work now.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Kill the &quot;Java (TM)&quot; process from processes in your computer. Re-run the <code>mvn</code> command. It should work now.</p>\n"},{"comments":[{"owner":{"account_id":132300,"reputation":2222,"user_id":332897,"accept_rate":76,"display_name":"Enrique San Mart&#237;n"},"score":0,"creation_date":1584193958,"post_id":37696887,"comment_id":107364407,"body_markdown":"In my case it was just try to restart the IDE (Eclipse), like in the &quot;IT Crowd&quot; TV show.","body":"In my case it was just try to restart the IDE (Eclipse), like in the &quot;IT Crowd&quot; TV show."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1648563283,"post_id":37696887,"comment_id":126652707,"body_markdown":"A restart of IntelliJ worked for me","body":"A restart of IntelliJ worked for me"}],"tags":[],"owner":{"account_id":8596228,"reputation":191,"user_id":6439168,"display_name":"sdfs"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1465373764,"creation_date":1465373764,"answer_id":37696887,"question_id":20442862,"body_markdown":"Delete the java.exe process in Task Manager and re-execute.It worked for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Delete the java.exe process in Task Manager and re-execute.It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11153685,"reputation":461,"user_id":8186067,"display_name":"Vic.Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506650488,"creation_date":1506650488,"answer_id":46480680,"question_id":20442862,"body_markdown":"you may need to check whether the **`settings.xml`** file is correct.\r\nsuch as user name, password, third party url.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>you may need to check whether the <strong><code>settings.xml</code></strong> file is correct.\nsuch as user name, password, third party url.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533725459,"creation_date":1533725459,"answer_id":51744842,"question_id":20442862,"body_markdown":"I&#39;ve noticed that sometimes eclipse somehow picks up some of the jars and keeps a lock on them (in Windows only) and when you try to do mvn clean it says:\r\n\r\n`[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.2:clean (default-clean) on project`\r\n\r\nThe only solution so far is to close eclipse and run the mvn build again.\r\n\r\nAnd these are random jars - it can pick up anything it wants... \r\nWhy that happens is a mystery to me. Probably eclipse opens the jars when you do Type Search or Resource Search and forgets to close them / release the file handlers..","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>I've noticed that sometimes eclipse somehow picks up some of the jars and keeps a lock on them (in Windows only) and when you try to do mvn clean it says:</p>\n\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.2:clean (default-clean) on project</code></p>\n\n<p>The only solution so far is to close eclipse and run the mvn build again.</p>\n\n<p>And these are random jars - it can pick up anything it wants... \nWhy that happens is a mystery to me. Probably eclipse opens the jars when you do Type Search or Resource Search and forgets to close them / release the file handlers..</p>\n"},{"tags":[],"owner":{"account_id":6953348,"reputation":629,"user_id":5335255,"display_name":"PulkitRajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556541346,"creation_date":1556541346,"answer_id":55903540,"question_id":20442862,"body_markdown":"**Reason and solution-**\r\n\r\nEverything happens for a reason :)\r\n\r\n**[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.1.0:clean (default-clean) on project**\r\n\r\n- The reason of this problem is that the target folder is already in use. That means any jar or any war or any application is using that target folder\r\n\r\n**Solution-**\r\n1) Check the war and jar (also check jar if any running in background), terminate it.\r\n\r\n2) if u have opened command prompt (cmd), and are using that path to execute the jar, close it or change the path in cmd. This was the reason in my case. Do check this.\r\n\r\nOnce u do this , u would be able to delete the contents of the target folder and and can also perform maven clean and maven install.\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p><strong>Reason and solution-</strong></p>\n\n<p>Everything happens for a reason :)</p>\n\n<p><strong>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.1.0:clean (default-clean) on project</strong></p>\n\n<ul>\n<li>The reason of this problem is that the target folder is already in use. That means any jar or any war or any application is using that target folder</li>\n</ul>\n\n<p><strong>Solution-</strong>\n1) Check the war and jar (also check jar if any running in background), terminate it.</p>\n\n<p>2) if u have opened command prompt (cmd), and are using that path to execute the jar, close it or change the path in cmd. This was the reason in my case. Do check this.</p>\n\n<p>Once u do this , u would be able to delete the contents of the target folder and and can also perform maven clean and maven install.</p>\n"},{"tags":[],"owner":{"account_id":16819303,"reputation":1,"user_id":12160197,"display_name":"Debasis Parida"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570117352,"creation_date":1570117352,"answer_id":58222629,"question_id":20442862,"body_markdown":"If you have opened the command prompt(cmd) to run the jar on current folder,then the error will come as above.so close the command prompt and try maven clean and install,it will work definitely.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>If you have opened the command prompt(cmd) to run the jar on current folder,then the error will come as above.so close the command prompt and try maven clean and install,it will work definitely.</p>\n"},{"tags":[],"owner":{"account_id":11129738,"reputation":101,"user_id":8170051,"display_name":"PrathiSaiHarika"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1583312473,"creation_date":1580793862,"answer_id":60051085,"question_id":20442862,"body_markdown":"* Solution 1:\r\n  Sometimes the build fails because, the target folder cannot be deleted.\r\n  (It might be open in the backend due to the previous builds.)\r\n\r\n    -&gt; Open Task Manager\r\n\r\n    -&gt; In the Process tab\r\n\r\n    -&gt; Do &quot;End Process&quot; for the running &quot;java.exe&quot; processess\r\n* Solution 2:\r\n\r\n    -&gt; Restart eclipse\r\n\r\n    -&gt; Perform Maven Build with command : clean install -DSkipTests\r\n\r\n    ","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<ul>\n<li><p>Solution 1:\nSometimes the build fails because, the target folder cannot be deleted.\n(It might be open in the backend due to the previous builds.)</p>\n\n<p>-> Open Task Manager</p>\n\n<p>-> In the Process tab</p>\n\n<p>-> Do \"End Process\" for the running \"java.exe\" processess</p></li>\n<li><p>Solution 2:</p>\n\n<p>-> Restart eclipse</p>\n\n<p>-> Perform Maven Build with command : clean install -DSkipTests</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2152996,"reputation":2196,"user_id":1908827,"display_name":"Akash Yellappa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581092781,"creation_date":1581092781,"answer_id":60117430,"question_id":20442862,"body_markdown":"For IntelliJ users, \r\n\r\n    1. File -&gt; Invalidate your cache/restart the ide \r\n    2. clean install -DSkipTests\r\n\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For IntelliJ users, </p>\n\n<pre><code>1. File -&gt; Invalidate your cache/restart the ide \n2. clean install -DSkipTests\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4329338,"reputation":31,"user_id":3535249,"display_name":"Mohammed Furquan Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591859582,"creation_date":1591859582,"answer_id":62318967,"question_id":20442862,"body_markdown":"On Windows, I got &quot;Unable to delete directory&quot;. What&#39;s wrong?\r\nFor instance, clean could fail if you already have opened a command line with target as the current dir. Windows locks some ressources and you need to close the handles on these ressources.\r\n\r\nThis works for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>On Windows, I got \"Unable to delete directory\". What's wrong?\nFor instance, clean could fail if you already have opened a command line with target as the current dir. Windows locks some ressources and you need to close the handles on these ressources.</p>\n\n<p>This works for me.</p>\n"},{"tags":[],"owner":{"account_id":19319731,"reputation":13,"user_id":14123660,"display_name":"Akhilesh Raturi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639070938,"creation_date":1639070938,"answer_id":70294177,"question_id":20442862,"body_markdown":"In my case in my background I was inside the folder from command prompt after closing the command prompt. I was able to run the maven clean command.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>In my case in my background I was inside the folder from command prompt after closing the command prompt. I was able to run the maven clean command.</p>\n"},{"tags":[],"owner":{"account_id":22068744,"reputation":464,"user_id":16330119,"display_name":"Aamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655682202,"creation_date":1655682202,"answer_id":72681002,"question_id":20442862,"body_markdown":"For me clearing the previous maven tasks worked.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Taenq.png\r\n\r\nAfter clearing this, from eclipse project properties &gt; run as &gt; maven &gt; clean followed by try maven build. \r\n\r\nBest luck!","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For me clearing the previous maven tasks worked.\n<a href=\"https://i.stack.imgur.com/Taenq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Taenq.png\" alt=\"enter image description here\" /></a></p>\n<p>After clearing this, from eclipse project properties &gt; run as &gt; maven &gt; clean followed by try maven build.</p>\n<p>Best luck!</p>\n"},{"tags":[],"owner":{"account_id":3786709,"reputation":71,"user_id":3144447,"display_name":"wi7sonjoseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663042618,"creation_date":1663042618,"answer_id":73697504,"question_id":20442862,"body_markdown":"For me manually deleting the files in target folder using sudo worked. It&#39;s the need for root permission to delete files in the target folder.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For me manually deleting the files in target folder using sudo worked. It's the need for root permission to delete files in the target folder.</p>\n"},{"tags":[],"owner":{"account_id":2862907,"reputation":193,"user_id":2457774,"accept_rate":100,"display_name":"10101101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692184531,"creation_date":1692184531,"answer_id":76913037,"question_id":20442862,"body_markdown":"If you were doing some changes in maven build part in pom.xml. And you have a cmd window opened before making those changes. Then close / kill cmd process first, then rerun Clean/Build and it succeeds.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>If you were doing some changes in maven build part in pom.xml. And you have a cmd window opened before making those changes. Then close / kill cmd process first, then rerun Clean/Build and it succeeds.</p>\n"}],"owner":{"account_id":2627294,"reputation":906,"user_id":2274060,"accept_rate":0,"display_name":"user2274060"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159311,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":21,"score":18,"last_activity_date":1692184531,"creation_date":1386428799,"question_id":20442862,"body_markdown":"I&#39;ve a problem with the following dependency in my pom.xml where org.springframework.version = 3.1.0.RELEASE:\r\n\r\n    &lt;!-- Spring MVC framework --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I execute the command line &#39;mvn clean install&#39;, I&#39;ve the following error : \r\n\r\n     [INFO] BUILD FAILURE\r\n     [INFO] ------------------------------------------------------------------------\r\n     [INFO] Total time: 1.052s\r\n     [INFO] Finished at: Sat Dec 07 15:49:04 CET 2013\r\n     [INFO] Final Memory: 4M/15M\r\n     [INFO] ------------------------------------------------------------------------\r\n     [ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project myGoogleAppEngine: Failed to clean project: Failed to delete C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar -&gt; [Help 1]\r\n     [ERROR] \r\n     [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n     [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n     [ERROR] \r\n     [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n     [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nBy seeing on http://mvnrepository.com/artifact/org.springframework/spring-webmvc/3.1.0.RELEASE , there aren&#39;t any errors in my dependency.\r\n\r\nDo you have any solutions? ","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>I've a problem with the following dependency in my pom.xml where org.springframework.version = 3.1.0.RELEASE:</p>\n\n<pre><code>&lt;!-- Spring MVC framework --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I execute the command line 'mvn clean install', I've the following error : </p>\n\n<pre><code> [INFO] BUILD FAILURE\n [INFO] ------------------------------------------------------------------------\n [INFO] Total time: 1.052s\n [INFO] Finished at: Sat Dec 07 15:49:04 CET 2013\n [INFO] Final Memory: 4M/15M\n [INFO] ------------------------------------------------------------------------\n [ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project myGoogleAppEngine: Failed to clean project: Failed to delete C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar -&gt; [Help 1]\n [ERROR] \n [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n [ERROR] \n [ERROR] For more information about the errors and possible solutions, please read the following articles:\n [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>By seeing on <a href=\"http://mvnrepository.com/artifact/org.springframework/spring-webmvc/3.1.0.RELEASE\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.springframework/spring-webmvc/3.1.0.RELEASE</a> , there aren't any errors in my dependency.</p>\n\n<p>Do you have any solutions? </p>\n"},{"tags":["java","hibernate","playframework"],"comments":[{"owner":{"account_id":877405,"reputation":6423,"user_id":103605,"accept_rate":60,"display_name":"rapha&#235;λ"},"score":0,"creation_date":1337495563,"post_id":10671050,"comment_id":13844646,"body_markdown":"Can you show the `Photo` class as well? The `mappedBy` value looks suspicious.  Something btw to always give a try is drop your database and have your JPA impl generate it again.","body":"Can you show the <code>Photo</code> class as well? The <code>mappedBy</code> value looks suspicious.  Something btw to always give a try is drop your database and have your JPA impl generate it again."}],"answers":[{"comments":[{"owner":{"account_id":1501365,"reputation":11,"user_id":1405888,"accept_rate":0,"display_name":"Bj bhatta"},"score":0,"creation_date":1337582588,"post_id":10671205,"comment_id":13860134,"body_markdown":"how can i allow JPA impl generate my database.","body":"how can i allow JPA impl generate my database."},{"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"score":0,"creation_date":1337583992,"post_id":10671205,"comment_id":13860561,"body_markdown":"@user1405888: I&#39;m not familiar with Play-framework, but this could probably help: http://www.playframework.org/documentation/1.2.3/configuration#jpa  (see the `jpa.ddl` -setting, you want to set it to &quot;create-drop&quot;, but NEVER leave it at this setting in production, or it&#39;ll wipe out the production DB).","body":"@user1405888: I&#39;m not familiar with Play-framework, but this could probably help: <a href=\"http://www.playframework.org/documentation/1.2.3/configuration#jpa\" rel=\"nofollow noreferrer\">playframework.org/documentation/1.2.3/configuration#jpa</a>  (see the <code>jpa.ddl</code> -setting, you want to set it to &quot;create-drop&quot;, but NEVER leave it at this setting in production, or it&#39;ll wipe out the production DB)."}],"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337494125,"creation_date":1337494125,"answer_id":10671205,"question_id":10671050,"body_markdown":"Check that your entity isn&#39;t missing any required fields when it&#39;s being persisted / updated. Also check what constraints are set on the User-table in the DB (unique keys, foreign keys, non nulls...).","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>Check that your entity isn't missing any required fields when it's being persisted / updated. Also check what constraints are set on the User-table in the DB (unique keys, foreign keys, non nulls...).</p>\n"},{"tags":[],"owner":{"account_id":877405,"reputation":6423,"user_id":103605,"accept_rate":60,"display_name":"rapha&#235;λ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337496153,"creation_date":1337496153,"answer_id":10671351,"question_id":10671050,"body_markdown":"Your `mappedBy` value makes little sense. It is used on the passive end of a bi-directional association. In those cases it points to the attribute on the other class on the other side of the relationship. You are pointing it to one of the attributes of the `User` class. Perhaps your Photo class has a `email` attribute, but is that of type `User` ( i am guessing not). So if this is a bi-directional association, set the `mappedBy` value to the attribute on `Photo` having the corresponding `@ManyToOne` &quot;back&quot; to the `User`. If it is a unidirectional association, remove the mappedBy and perhaps use @JoinColumn to use the foreign key mapping strategy of unidirectional one-to-many","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>Your <code>mappedBy</code> value makes little sense. It is used on the passive end of a bi-directional association. In those cases it points to the attribute on the other class on the other side of the relationship. You are pointing it to one of the attributes of the <code>User</code> class. Perhaps your Photo class has a <code>email</code> attribute, but is that of type <code>User</code> ( i am guessing not). So if this is a bi-directional association, set the <code>mappedBy</code> value to the attribute on <code>Photo</code> having the corresponding <code>@ManyToOne</code> \"back\" to the <code>User</code>. If it is a unidirectional association, remove the mappedBy and perhaps use @JoinColumn to use the foreign key mapping strategy of unidirectional one-to-many</p>\n"},{"tags":[],"owner":{"account_id":2972271,"reputation":53,"user_id":2524094,"display_name":"Abhishek Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372258131,"creation_date":1372250617,"answer_id":17320384,"question_id":10671050,"body_markdown":"I was facing same issue and it got resolved by changing relationship related notation from `OneToMany` to `ManyToMany`. In My case there was `ManyToMany` relation between Job and Person Table and I was trying to add same jobList to multiple person object in a loop.\r\n\r\nThe problem was with the annotation used in Person Entity class for Job Entity:\r\n \r\n    @ManyToMany // Changed from OneToMany to ManyToMany\r\n    private List&lt;Job&gt; jobList = new ArrayList&lt;Job&gt;();","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>I was facing same issue and it got resolved by changing relationship related notation from <code>OneToMany</code> to <code>ManyToMany</code>. In My case there was <code>ManyToMany</code> relation between Job and Person Table and I was trying to add same jobList to multiple person object in a loop.</p>\n\n<p>The problem was with the annotation used in Person Entity class for Job Entity:</p>\n\n<pre><code>@ManyToMany // Changed from OneToMany to ManyToMany\nprivate List&lt;Job&gt; jobList = new ArrayList&lt;Job&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1083121,"reputation":126,"user_id":1079542,"display_name":"developer9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384773668,"creation_date":1384773668,"answer_id":20046510,"question_id":10671050,"body_markdown":"Try editing the code as below - \r\nIn User Model\r\n\r\n        @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n\t    public List&lt;Photo&gt; photos;\r\n\r\nIn Photo Model        \r\n\r\n        @ManyToOne\r\n\t    @NotFound(action = NotFoundAction.IGNORE)\r\n\t    @JoinColumn(name = &quot;email&quot;, nullable = false, insertable = false, updatable = false)\r\n\t    public User user;\r\n\r\nCheck this for reference - http://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_relationship_and_inverse_ManyToOne_annotations","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>Try editing the code as below - \nIn User Model</p>\n\n<pre><code>    @OneToMany(mappedBy = \"user\", cascade = CascadeType.ALL)\n    public List&lt;Photo&gt; photos;\n</code></pre>\n\n<p>In Photo Model        </p>\n\n<pre><code>    @ManyToOne\n    @NotFound(action = NotFoundAction.IGNORE)\n    @JoinColumn(name = \"email\", nullable = false, insertable = false, updatable = false)\n    public User user;\n</code></pre>\n\n<p>Check this for reference - <a href=\"http://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_relationship_and_inverse_ManyToOne_annotations\" rel=\"nofollow\">http://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_relationship_and_inverse_ManyToOne_annotations</a></p>\n"}],"owner":{"account_id":1501365,"reputation":11,"user_id":1405888,"accept_rate":0,"display_name":"Bj bhatta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692184080,"creation_date":1337491945,"question_id":10671050,"body_markdown":"I have got this exception!!\r\nhere is my model class\r\n\r\n\r\n    @Entity\r\n    public class User extends Model {\r\n    \r\n        @OneToMany(mappedBy=&quot;email&quot;, cascade=CascadeType.ALL)\r\n        public List&lt;Photo&gt; photo;\r\n        \r\n        @Email\r\n        @Required\r\n        @Unique\r\n        public String email;\r\n        \r\n        @Required\r\n        public String passwordHash;\r\n        \r\n        @Required\r\n        public String education;\r\n        \r\n        @Required\r\n        public String fname;\r\n        \r\n        @Required\r\n        public String lname;\r\n        \r\n        @Required\r\n        public Date dob;\r\n        \r\n        @Required\r\n        public String gender;\r\n        \r\n        @Required\r\n        public String country;\r\n        \r\n        @Required\r\n        public Long phone;\r\n        \r\n        @Required\r\n        public String status;\r\n        \r\n        @Required\r\n        public String jobtitle;\r\n        \r\n        @Required\r\n        public String company;\r\n        \r\n        @Required\r\n        public String industry;\r\n        \r\n        @Required\r\n        public Date addDate;\r\n        \r\n        public String needConfirmation;\r\n    \r\n    public User(String email, String password, String fname,\r\n                    String lname, Date dob, String gender, String country,\r\n                    Long phone, String status, String education, String jobtitle, String company, String industry) {\r\n            //all initialization here\r\n        }\r\n    }\r\n\r\ncan you please tell me where I am going wrong\r\nplayframework&#215; 2289\r\n\r\n\r\n---\r\n\r\n    this is my photo class, and please tell me how can I allow JPA to generate my database\r\n    \r\n    \r\n    /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package models;\r\n    \r\n    import controllers.Users;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.ManyToOne;\r\n    import play.db.jpa.Model;\r\n    \r\n    /**\r\n     *\r\n     * @author nPandey\r\n     */\r\n    @Entity\r\n    public class Photo extends Model{\r\n        \r\n        public String photoname;\r\n        \r\n        @ManyToOne\r\n        public User email;\r\n        \r\n        public String owner;\r\n        \r\n        public Photo(){\r\n            \r\n        }\r\n        \r\n        public Photo(User email, String photo){\r\n            this.photoname=photo;\r\n            this.email=email;\r\n            this.owner=email.email;\r\n        }\r\n        \r\n    }\r\n\r\n","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>I have got this exception!!\nhere is my model class</p>\n\n<pre><code>@Entity\npublic class User extends Model {\n\n    @OneToMany(mappedBy=\"email\", cascade=CascadeType.ALL)\n    public List&lt;Photo&gt; photo;\n\n    @Email\n    @Required\n    @Unique\n    public String email;\n\n    @Required\n    public String passwordHash;\n\n    @Required\n    public String education;\n\n    @Required\n    public String fname;\n\n    @Required\n    public String lname;\n\n    @Required\n    public Date dob;\n\n    @Required\n    public String gender;\n\n    @Required\n    public String country;\n\n    @Required\n    public Long phone;\n\n    @Required\n    public String status;\n\n    @Required\n    public String jobtitle;\n\n    @Required\n    public String company;\n\n    @Required\n    public String industry;\n\n    @Required\n    public Date addDate;\n\n    public String needConfirmation;\n\npublic User(String email, String password, String fname,\n                String lname, Date dob, String gender, String country,\n                Long phone, String status, String education, String jobtitle, String company, String industry) {\n        //all initialization here\n    }\n}\n</code></pre>\n\n<p>can you please tell me where I am going wrong\nplayframework× 2289</p>\n\n<hr>\n\n<pre><code>this is my photo class, and please tell me how can I allow JPA to generate my database\n\n\n/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\npackage models;\n\nimport controllers.Users;\nimport javax.persistence.Entity;\nimport javax.persistence.ManyToOne;\nimport play.db.jpa.Model;\n\n/**\n *\n * @author nPandey\n */\n@Entity\npublic class Photo extends Model{\n\n    public String photoname;\n\n    @ManyToOne\n    public User email;\n\n    public String owner;\n\n    public Photo(){\n\n    }\n\n    public Photo(User email, String photo){\n        this.photoname=photo;\n        this.email=email;\n        this.owner=email.email;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","inheritance","methods"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1428616758,"post_id":29549771,"comment_id":47251132,"body_markdown":"What do you imagine this would do if it existed?","body":"What do you imagine this would do if it existed?"},{"owner":{"account_id":5425943,"reputation":1238,"user_id":4318200,"display_name":"fzzfzzfzz"},"score":0,"creation_date":1428616795,"post_id":29549771,"comment_id":47251149,"body_markdown":"I don&#39;t think so. If you extend the class, you can call `super()` in the methods you override. That&#39;s the most similar thing I can think of.","body":"I don&#39;t think so. If you extend the class, you can call <code>super()</code> in the methods you override. That&#39;s the most similar thing I can think of."}],"answers":[{"tags":[],"owner":{"account_id":4687954,"reputation":58,"user_id":3794870,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428616878,"creation_date":1428616878,"answer_id":29549832,"question_id":29549771,"body_markdown":"If they are in the same class, no. However, assuming you want to run all of generateAnimal() then add your generateDog() specific code you could do this: \r\n\r\n    public void generateDog(){\r\n        generateAnimal();\r\n        ///do the rest of generateDog()\r\n    }\r\n\r\nI hope that helps.","title":"Is it possible to extend Methods in Java?","body":"<p>If they are in the same class, no. However, assuming you want to run all of generateAnimal() then add your generateDog() specific code you could do this: </p>\n\n<pre><code>public void generateDog(){\n    generateAnimal();\n    ///do the rest of generateDog()\n}\n</code></pre>\n\n<p>I hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428616921,"creation_date":1428616921,"answer_id":29549840,"question_id":29549771,"body_markdown":"Yes.\r\n\r\nIt was done exactly as you showed there, without the `extends generateAnimal()` and by changing that method name to `generateAnimal()`.\r\n\r\nThis is called Overriding. And allows you to utilize the annotation `@Override`.\r\n\r\n---\r\n\r\n    public class A {\r\n    \r\n        public void print(){\r\n            System.out.println(&quot;Hello from A!&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public class B extends A {\r\n    \r\n        @Override  // This method overrides A#print() \r\n        public void print(){\r\n            System.out.println(&quot;Hello from B!&quot;);\r\n        }\r\n\r\n    }\r\n\r\nThen, calling some action like:\r\n\r\n    B b = new B();\r\n    b.print();\r\n\r\nWill print out:\r\n\r\n    Hello from B!\r\n\r\n---\r\n\r\nThis is more widely known as [Inheritance](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)","title":"Is it possible to extend Methods in Java?","body":"<p>Yes.</p>\n\n<p>It was done exactly as you showed there, without the <code>extends generateAnimal()</code> and by changing that method name to <code>generateAnimal()</code>.</p>\n\n<p>This is called Overriding. And allows you to utilize the annotation <code>@Override</code>.</p>\n\n<hr>\n\n<pre><code>public class A {\n\n    public void print(){\n        System.out.println(\"Hello from A!\");\n    }\n\n}\n\npublic class B extends A {\n\n    @Override  // This method overrides A#print() \n    public void print(){\n        System.out.println(\"Hello from B!\");\n    }\n\n}\n</code></pre>\n\n<p>Then, calling some action like:</p>\n\n<pre><code>B b = new B();\nb.print();\n</code></pre>\n\n<p>Will print out:</p>\n\n<pre><code>Hello from B!\n</code></pre>\n\n<hr>\n\n<p>This is more widely known as <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow\">Inheritance</a></p>\n"},{"comments":[{"owner":{"account_id":10749480,"reputation":157,"user_id":7909504,"accept_rate":20,"display_name":"Harel Farkash"},"score":0,"creation_date":1655720091,"post_id":29549850,"comment_id":128390559,"body_markdown":"Note that the order of the output is incorrect: first you get `from Animal` and only then, `from Dog`","body":"Note that the order of the output is incorrect: first you get <code>from Animal</code> and only then, <code>from Dog</code>"}],"tags":[],"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692183964,"creation_date":1428616964,"answer_id":29549850,"question_id":29549771,"body_markdown":"Yes.\r\n\r\n    public class Animal {\r\n       public void someAction() {\r\n          System.out.println(&quot;from Animal class&quot;);\r\n       }\r\n    }\r\n\r\n    public class Dog extends Animal {\r\n       public void someAction() {\r\n          super.someAction();\r\n          System.out.println(&quot;from Dog class&quot;);\r\n       }\r\n    }\r\n\r\n    public class Main {\r\n\r\n      public static void main(String[] args){\r\n          Animal dog = new Dog();\r\n          dog.someAction();\r\n      }\r\n    }\r\n\r\n\r\nOutput:\r\n&lt;!-- language: lang-none --&gt;\r\n    from Animal class    \r\n    from Dog class\r\n\r\nSo you extend functionality of method, but better to use composition instead of inheritance.","title":"Is it possible to extend Methods in Java?","body":"<p>Yes.</p>\n<pre><code>public class Animal {\n   public void someAction() {\n      System.out.println(&quot;from Animal class&quot;);\n   }\n}\n\npublic class Dog extends Animal {\n   public void someAction() {\n      super.someAction();\n      System.out.println(&quot;from Dog class&quot;);\n   }\n}\n\npublic class Main {\n\n  public static void main(String[] args){\n      Animal dog = new Dog();\n      dog.someAction();\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>from Animal class    \nfrom Dog class\n</code></pre>\n<p>So you extend functionality of method, but better to use composition instead of inheritance.</p>\n"},{"tags":[],"owner":{"account_id":3856284,"reputation":7406,"user_id":3195128,"display_name":"ucsunil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428617095,"creation_date":1428617095,"answer_id":29549876,"question_id":29549771,"body_markdown":"You cannot extend a method the way you are describing but you can inherit the method and then call the method from the superclass as follows:\r\n\r\n    @Override\r\n    public void inheritedMethod() {\r\n        super.inheritedMethod(); // This will call method from super class\r\n    \r\n        // Do subclass specific work here\r\n    }\r\n\r\nA method is not an object by itself. Methods are meant to be called.","title":"Is it possible to extend Methods in Java?","body":"<p>You cannot extend a method the way you are describing but you can inherit the method and then call the method from the superclass as follows:</p>\n\n<pre><code>@Override\npublic void inheritedMethod() {\n    super.inheritedMethod(); // This will call method from super class\n\n    // Do subclass specific work here\n}\n</code></pre>\n\n<p>A method is not an object by itself. Methods are meant to be called.</p>\n"}],"owner":{"account_id":5845072,"reputation":1689,"user_id":4605456,"accept_rate":70,"display_name":"Fish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7783,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":29549850,"answer_count":4,"score":0,"last_activity_date":1692183964,"creation_date":1428616643,"question_id":29549771,"body_markdown":"I know it is possible to do this in Java:\r\n\r\n    public class animal {...}\r\n\r\nAnd then \r\n\r\n    public class dog extends animal {...}\r\n\r\nThen you can write whatever dog methods that can access animal method.\r\n\r\nHowever, I am wondering is there a way to extend methods\r\n\r\nfor example\r\n\r\n    public void generateAnimal() {...}\r\n\r\nand then \r\n\r\n    public void generateDog() extends generateAnimal() {...}\r\n\r\nBut this is not passing the compiler.\r\nSo my question is: \r\n\r\nIs it possible to inherit methods in Java?\r\n\r\n","title":"Is it possible to extend Methods in Java?","body":"<p>I know it is possible to do this in Java:</p>\n\n<pre><code>public class animal {...}\n</code></pre>\n\n<p>And then </p>\n\n<pre><code>public class dog extends animal {...}\n</code></pre>\n\n<p>Then you can write whatever dog methods that can access animal method.</p>\n\n<p>However, I am wondering is there a way to extend methods</p>\n\n<p>for example</p>\n\n<pre><code>public void generateAnimal() {...}\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>public void generateDog() extends generateAnimal() {...}\n</code></pre>\n\n<p>But this is not passing the compiler.\nSo my question is: </p>\n\n<p>Is it possible to inherit methods in Java?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1692166424,"post_id":76910719,"comment_id":135585194,"body_markdown":"[Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a>"}],"answers":[{"comments":[{"owner":{"account_id":26666644,"reputation":11,"user_id":20278635,"display_name":"AlpacaWarrior"},"score":0,"creation_date":1692183020,"post_id":76910987,"comment_id":135588330,"body_markdown":"I think it&#39;s already there, I just checked the lib contains &quot;commons-lang3-3.12.0.jar&quot;","body":"I think it&#39;s already there, I just checked the lib contains &quot;commons-lang3-3.12.0.jar&quot;"}],"tags":[],"owner":{"account_id":29220915,"reputation":1,"user_id":22386656,"display_name":"Souhaila"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692167128,"creation_date":1692167128,"answer_id":76910987,"question_id":76910719,"body_markdown":"Check Java Build Path of the JAR.\r\n\r\nIf you are deploying it and running it on a server try to put the JAR file in the \\lib subfolder of the Apache Tomcat installation.","title":"java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>Check Java Build Path of the JAR.</p>\n<p>If you are deploying it and running it on a server try to put the JAR file in the \\lib subfolder of the Apache Tomcat installation.</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692177911,"post_id":76911699,"comment_id":135587325,"body_markdown":"Probably a good idea as that will probably save an extra dependency. Mystifying why this is functionality is not in the JRE (afaik)","body":"Probably a good idea as that will probably save an extra dependency. Mystifying why this is functionality is not in the JRE (afaik)"},{"owner":{"account_id":26666644,"reputation":11,"user_id":20278635,"display_name":"AlpacaWarrior"},"score":0,"creation_date":1692182802,"post_id":76911699,"comment_id":135588280,"body_markdown":"I tried and it shows &quot;&#39;org.apache.commons.lang3.StringUtils&#39; is already defined in a single-type import&quot;","body":"I tried and it shows &quot;&#39;org.apache.commons.lang3.StringUtils&#39; is already defined in a single-type import&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692182990,"post_id":76911699,"comment_id":135588323,"body_markdown":"Remove that import and replace with `import org.springframework.util.StringUtils;`","body":"Remove that import and replace with <code>import org.springframework.util.StringUtils;</code>"},{"owner":{"account_id":26666644,"reputation":11,"user_id":20278635,"display_name":"AlpacaWarrior"},"score":0,"creation_date":1692183548,"post_id":76911699,"comment_id":135588433,"body_markdown":"then if (StringUtils.isBlank(user.getUsername())) &quot;isBlank&quot; turns to red and report error","body":"then if (StringUtils.isBlank(user.getUsername())) &quot;isBlank&quot; turns to red and report error"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692184815,"post_id":76911699,"comment_id":135588664,"body_markdown":"Try changing `isBlank` to `isEmpty`","body":"Try changing <code>isBlank</code> to <code>isEmpty</code>"}],"tags":[],"owner":{"account_id":29067225,"reputation":1,"user_id":22266510,"display_name":"shuai shao"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692173711,"creation_date":1692173711,"answer_id":76911699,"question_id":76910719,"body_markdown":"i think you may import this package\r\nimport org.springframework.util.StringUtils;","title":"java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>i think you may import this package\nimport org.springframework.util.StringUtils;</p>\n"}],"owner":{"account_id":26666644,"reputation":11,"user_id":20278635,"display_name":"AlpacaWarrior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692183398,"creation_date":1692163649,"question_id":76910719,"body_markdown":"I&#39;m using Spring Boot to develop a community website, when I try to test the &quot;registration&quot; function it shows this error:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n    Wed Aug 16 01:02:01 EDT 2023\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    org/apache/commons/lang3/StringUtils\r\n    java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\r\n    \tat com.nowcoder.community.service.UserService.register(UserService.java:48)\r\n    \tat com.nowcoder.community.controller.LoginController.register(LoginController.java:26)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nAs it mentions the line 48 staring from &quot;if(StringUtils.isBlank(user.getUsername())) &quot;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public Map&lt;String, Object&gt; register(User user) {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n            // Empty value\r\n            if (user == null) {\r\n                throw new IllegalArgumentException(&quot;User cannot be null!&quot;);\r\n            }\r\n            if (StringUtils.isBlank(user.getUsername())) {\r\n                map.put(&quot;usernameMsg&quot;, &quot;Username cannot be empty!&quot;);\r\n                return map;\r\n            }\r\n            if (StringUtils.isBlank(user.getPassword())) {\r\n                map.put(&quot;passwordMsg&quot;, &quot;Password cannot be empty!&quot;);\r\n                return map;\r\n            }\r\n            if (StringUtils.isBlank(user.getEmail())) {\r\n                map.put(&quot;emailMsg&quot;, &quot;Email cannot be empty!&quot;);\r\n                return map;\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have added commons-lang3 in the pom.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.13.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m using IntelliJ, not sure if it&#39;s related.\r\nI have imported the import org.apache.commons.lang3.StringUtils;\r\n","title":"java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>I'm using Spring Boot to develop a community website, when I try to test the &quot;registration&quot; function it shows this error:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nWed Aug 16 01:02:01 EDT 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\norg/apache/commons/lang3/StringUtils\njava.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\n    at com.nowcoder.community.service.UserService.register(UserService.java:48)\n    at com.nowcoder.community.controller.LoginController.register(LoginController.java:26)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>As it mentions the line 48 staring from &quot;if(StringUtils.isBlank(user.getUsername())) &quot;</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public Map&lt;String, Object&gt; register(User user) {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n        // Empty value\n        if (user == null) {\n            throw new IllegalArgumentException(\"User cannot be null!\");\n        }\n        if (StringUtils.isBlank(user.getUsername())) {\n            map.put(\"usernameMsg\", \"Username cannot be empty!\");\n            return map;\n        }\n        if (StringUtils.isBlank(user.getPassword())) {\n            map.put(\"passwordMsg\", \"Password cannot be empty!\");\n            return map;\n        }\n        if (StringUtils.isBlank(user.getEmail())) {\n            map.put(\"emailMsg\", \"Email cannot be empty!\");\n            return map;\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have added commons-lang3 in the pom.xml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm using IntelliJ, not sure if it's related.\nI have imported the import org.apache.commons.lang3.StringUtils;</p>\n"},{"tags":["java","spring","spring-boot","list","spring-data-jpa"],"comments":[{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1692180403,"post_id":76911684,"comment_id":135587826,"body_markdown":"can you post your repository code","body":"can you post your repository code"}],"answers":[{"tags":[],"owner":{"account_id":22096745,"reputation":11,"user_id":16353902,"display_name":"Innocent"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692183236,"creation_date":1692183236,"answer_id":76912869,"question_id":76911684,"body_markdown":"Have you tried saving the courier first before adding it to the list?\r\n\r\nAlso `List.of()` creates an immutable list. \r\nhttps://www.baeldung.com/java-9-collections-factory-methods\r\n\r\nIf the courier list is empty, you can add the new courier to it and set it to the group.\r\n\r\nP.S: I guess this line `GroupResponse groupToAdd = getGroupById(id);` is converting the Group entity to GroupResponse and `mapToGroup(groupToAdd)` is mapping the GroupResponse to Group entity before saving.","title":"Can not set List&lt;Entity&gt; in another Entity using Java Spring?","body":"<p>Have you tried saving the courier first before adding it to the list?</p>\n<p>Also <code>List.of()</code> creates an immutable list.\n<a href=\"https://www.baeldung.com/java-9-collections-factory-methods\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-9-collections-factory-methods</a></p>\n<p>If the courier list is empty, you can add the new courier to it and set it to the group.</p>\n<p>P.S: I guess this line <code>GroupResponse groupToAdd = getGroupById(id);</code> is converting the Group entity to GroupResponse and <code>mapToGroup(groupToAdd)</code> is mapping the GroupResponse to Group entity before saving.</p>\n"}],"owner":{"account_id":28530763,"reputation":11,"user_id":21838225,"display_name":"ubovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692183236,"creation_date":1692173630,"question_id":76911684,"body_markdown":"I want to create a Tree structure like;\r\n\r\n```\r\n\r\n    istanbul fleet\r\n    \teurope group\r\n    \t\ta\r\n    \t\tb\r\n    \t\tc\r\n    \t\teurope courier\r\n    \t\t\td\r\n    \t\t\te\r\n    \tasia group\r\n    \t\tf\r\n    \t\tg\r\n    ankara fleet\r\n    \th\r\n    \tı\r\n\r\n```\r\n\r\nI have repository, service, controller structure and I have 4 models Fleet,Group and Corrier, the hiearchy will be as shown in the tree. I have mapped entities as OneToMany as you can see in the entity classes.\r\n\r\nI have service as;\r\n\r\n\r\n```\r\npublic void createCourierForGroup(CourierRequest request, Integer id) {\r\n        Courier courier = Courier.builder()\r\n                .courierName(request.getCourierName())\r\n                .build();\r\n\r\n        GroupResponse groupToAdd = getGroupById(id);\r\n\r\n        List&lt;Courier&gt; courierList = groupToAdd.getCouriers();\r\n\r\n\r\n        if (courierList.isEmpty()) {\r\n            groupToAdd.setCouriers(List.of(courier));\r\n        } else {\r\n            courierList.add(courier);\r\n            groupToAdd.setCouriers(courierList);\r\n        }\r\n\r\n        groupRepository.save(mapToGroup(groupToAdd));\r\n        log.info(&quot;Group with name: {} is updated with inner groups of: {}&quot;, groupToAdd.getGroupName(),groupToAdd.getCouriers());\r\n    }\r\n```\r\n\r\nFleet entity;\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class Fleet{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    \r\n    private String fleetName;\r\n    \r\n    @ManyToMany(cascade = CascadeType.REMOVE)\r\n    private List&lt;CarRegistry&gt; carRegistries;\r\n    \r\n    @OneToMany(mappedBy = &quot;fleet&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\r\n    private List&lt;Group&gt; groups;\r\n\r\n}\r\n```\r\n\r\nGroup entity;\r\n\r\n```\r\n@Entity(name = &quot;group_table&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Group {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String groupName;\r\n\r\n    @ManyToMany(cascade = CascadeType.REMOVE)\r\n    private List&lt;CarRegistry&gt; carRegistries;\r\n\r\n    @ManyToOne\r\n    private Fleet fleet;\r\n\r\n    @OneToMany(mappedBy = &quot;group&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\r\n    private List&lt;Courier&gt; couriers;\r\n\r\n\r\n}\r\n```\r\n\r\nand response as\r\n\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;fleetName&quot;: &quot;Avrupa fleet&quot;,\r\n            &quot;carRegistries&quot;: [],\r\n            &quot;groups&quot;: []\r\n        }\r\n    ],\r\n    &quot;message&quot;: &quot;Fleets are listed successfully.&quot;,\r\n    &quot;status&quot;: 200\r\n}\r\n```\r\n\r\nMy repositories are like this, nothing fancy just data jpa.\r\n\r\n```\r\n@Repository\r\npublic interface GroupRepository extends JpaRepository&lt;Group, Integer&gt; {\r\n}\r\n\r\n```\r\n\r\nAs you can see groups are empty, what can be wrong?\r\n\r\nI did try List.Of() method or creating new List and passing it to save method but it didn&#39;t work.","title":"Can not set List&lt;Entity&gt; in another Entity using Java Spring?","body":"<p>I want to create a Tree structure like;</p>\n<pre><code>\n    istanbul fleet\n        europe group\n            a\n            b\n            c\n            europe courier\n                d\n                e\n        asia group\n            f\n            g\n    ankara fleet\n        h\n        ı\n\n</code></pre>\n<p>I have repository, service, controller structure and I have 4 models Fleet,Group and Corrier, the hiearchy will be as shown in the tree. I have mapped entities as OneToMany as you can see in the entity classes.</p>\n<p>I have service as;</p>\n<pre><code>public void createCourierForGroup(CourierRequest request, Integer id) {\n        Courier courier = Courier.builder()\n                .courierName(request.getCourierName())\n                .build();\n\n        GroupResponse groupToAdd = getGroupById(id);\n\n        List&lt;Courier&gt; courierList = groupToAdd.getCouriers();\n\n\n        if (courierList.isEmpty()) {\n            groupToAdd.setCouriers(List.of(courier));\n        } else {\n            courierList.add(courier);\n            groupToAdd.setCouriers(courierList);\n        }\n\n        groupRepository.save(mapToGroup(groupToAdd));\n        log.info(&quot;Group with name: {} is updated with inner groups of: {}&quot;, groupToAdd.getGroupName(),groupToAdd.getCouriers());\n    }\n</code></pre>\n<p>Fleet entity;</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Fleet{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String fleetName;\n    \n    @ManyToMany(cascade = CascadeType.REMOVE)\n    private List&lt;CarRegistry&gt; carRegistries;\n    \n    @OneToMany(mappedBy = &quot;fleet&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\n    private List&lt;Group&gt; groups;\n\n}\n</code></pre>\n<p>Group entity;</p>\n<pre><code>@Entity(name = &quot;group_table&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Group {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String groupName;\n\n    @ManyToMany(cascade = CascadeType.REMOVE)\n    private List&lt;CarRegistry&gt; carRegistries;\n\n    @ManyToOne\n    private Fleet fleet;\n\n    @OneToMany(mappedBy = &quot;group&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\n    private List&lt;Courier&gt; couriers;\n\n\n}\n</code></pre>\n<p>and response as</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;fleetName&quot;: &quot;Avrupa fleet&quot;,\n            &quot;carRegistries&quot;: [],\n            &quot;groups&quot;: []\n        }\n    ],\n    &quot;message&quot;: &quot;Fleets are listed successfully.&quot;,\n    &quot;status&quot;: 200\n}\n</code></pre>\n<p>My repositories are like this, nothing fancy just data jpa.</p>\n<pre><code>@Repository\npublic interface GroupRepository extends JpaRepository&lt;Group, Integer&gt; {\n}\n\n</code></pre>\n<p>As you can see groups are empty, what can be wrong?</p>\n<p>I did try List.Of() method or creating new List and passing it to save method but it didn't work.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692002680,"post_id":76896286,"comment_id":135561913,"body_markdown":"Your `InstanceConfig` class should be annotated with `@Configuration` (and the class name should start with an uppercase `I`).","body":"Your <code>InstanceConfig</code> class should be annotated with <code>@Configuration</code> (and the class name should start with an uppercase <code>I</code>)."}],"answers":[{"tags":[],"owner":{"account_id":21731885,"reputation":165,"user_id":16040518,"display_name":"SWARNAVA DUTTA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691988010,"creation_date":1691988010,"answer_id":76896304,"question_id":76896286,"body_markdown":"You should create a Spring **@Bean** method which will return a new instance of a class in the following cases:\r\n\r\n - When you need to create a bean that is state-full, meaning that it has its own internal state that is not shared with other beans. For example, a bean that holds a connection to a database or a file.\r\n - When you need to create a bean that is dependent on other beans, and you want to control the order in which the beans are created. For example, you might have a bean that depends on a database connection, and you want to make sure that the database connection is created before the bean that depends on it.\r\n - When you want to create a bean that is not a singleton, meaning that there can be multiple instances of the bean in the Spring container. This is useful for beans that are expensive to create, or for beans that need to be customized for each request.\r\n\r\n\r\nIn your example, the RunInstancesRequest bean is state-full, because it has its own internal state (the list of instances to create). It is also dependent on other beans, because it needs a database connection to create the instances. Finally, it is not a singleton, because there can be multiple requests to create instances at the same time.\r\n\r\nThe someClass bean uses the **@Autowired** annotation to inject the RunInstancesRequest bean into its own instance. This allows the someClass bean to use the RunInstancesRequest bean to create instances.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>You should create a Spring <strong>@Bean</strong> method which will return a new instance of a class in the following cases:</p>\n<ul>\n<li>When you need to create a bean that is state-full, meaning that it has its own internal state that is not shared with other beans. For example, a bean that holds a connection to a database or a file.</li>\n<li>When you need to create a bean that is dependent on other beans, and you want to control the order in which the beans are created. For example, you might have a bean that depends on a database connection, and you want to make sure that the database connection is created before the bean that depends on it.</li>\n<li>When you want to create a bean that is not a singleton, meaning that there can be multiple instances of the bean in the Spring container. This is useful for beans that are expensive to create, or for beans that need to be customized for each request.</li>\n</ul>\n<p>In your example, the RunInstancesRequest bean is state-full, because it has its own internal state (the list of instances to create). It is also dependent on other beans, because it needs a database connection to create the instances. Finally, it is not a singleton, because there can be multiple requests to create instances at the same time.</p>\n<p>The someClass bean uses the <strong>@Autowired</strong> annotation to inject the RunInstancesRequest bean into its own instance. This allows the someClass bean to use the RunInstancesRequest bean to create instances.</p>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691990729,"creation_date":1691990352,"answer_id":76896423,"question_id":76896286,"body_markdown":"Generally, `@Bean` is used to define application level configurations which can be used by other components when needed. For example, if I am using ***Kafka*** in my project, I will be using `@Bean` annotation to define its configurations.\r\n\r\n    @Configuration\r\n    public class KafkaConfig {\r\n    \r\n      @Bean\r\n      public Map&lt;String, Object&gt; kafkaConfigs() {\r\n\r\n         Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    \r\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n                JsonSerializer.class);\r\n        return config;\r\n      }\r\n\r\nNow, you can autowire this Bean inside any class that needs the ***Kafka*** configuration.\r\n\r\nNote that ```@Bean``` is defined inside the ```@Configuration``` class.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>Generally, <code>@Bean</code> is used to define application level configurations which can be used by other components when needed. For example, if I am using <em><strong>Kafka</strong></em> in my project, I will be using <code>@Bean</code> annotation to define its configurations.</p>\n<pre><code>@Configuration\npublic class KafkaConfig {\n\n  @Bean\n  public Map&lt;String, Object&gt; kafkaConfigs() {\n\n     Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n            StringSerializer.class);\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n            JsonSerializer.class);\n    return config;\n  }\n</code></pre>\n<p>Now, you can autowire this Bean inside any class that needs the <em><strong>Kafka</strong></em> configuration.</p>\n<p>Note that <code>@Bean</code> is defined inside the <code>@Configuration</code> class.</p>\n"},{"tags":[],"owner":{"account_id":8396586,"reputation":16,"user_id":6452025,"display_name":"Kasun Udayanga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691991905,"creation_date":1691991905,"answer_id":76896511,"question_id":76896286,"body_markdown":"`@Bean` is a method-level annotation that is used to declare a bean and register with the spring container.\r\n\r\nIn simple terms, `@Bean` annotation will tell to the Spring container here is my instance of the class, Keep hold and give it back when I asked.\r\n\r\nExample:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n          @Bean\r\n          public MultiplierService multiplier() {\r\n              return new MultiplierService(2);\r\n          }\r\n\r\n    }\r\n\r\nIn this example, MultiplierService is a class that provides some service that other components might use. The multiplier() method is annotated with @Bean, which tells Spring to treat it as a bean. When the Spring container starts up, it will call this method to create a new instance of MultiplierService. This instance will be managed by Spring and can be injected into other components that depend on it.\r\n\r\n**Please note that `@Bean` annotation is used within a `@Configuration` class, Which is a special type of Spring component that defines the configuration for the application.**\r\n\r\nYou have created `@Bean` inside the Spring Container. Now problem arises **How to use that Bean?**\r\n\r\nNow `@Autowiring` come to a place,\r\n\r\nHere is the example of autowiring the **MultiplerService** into the AppService class\r\n\r\n    @Service\r\n    public class AppService {\r\n\r\n           private final MultiplierService multiplierService;\r\n\r\n           public AppService(@Autowired MultiplierService multiplierService) {\r\n                 this.multiplierService = multiplierService;\r\n           }\r\n\r\n           public int calculate(int aValue) {\r\n                 return multiplierService.multiply(aValue);\r\n           }\r\n\r\n    }\r\n\r\n\r\n**Conclusion:**\r\n\r\n`@Bean` is an object that is managed by Spring Framework and it can be used to provide services or functionality to other parts of the application. Also `@Beans` should be under `@Configuration` which treated as a **source of bean definition**\r\n\r\n`@Autowired` is an annotation used in Spring Boot to enable automatic dependency injection. It allows the Spring container to provide an instance of a required dependency when a bean is created. This annotation can be used on fields, constructors, and methods to have Spring provide the dependencies automatically.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p><code>@Bean</code> is a method-level annotation that is used to declare a bean and register with the spring container.</p>\n<p>In simple terms, <code>@Bean</code> annotation will tell to the Spring container here is my instance of the class, Keep hold and give it back when I asked.</p>\n<p>Example:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n      @Bean\n      public MultiplierService multiplier() {\n          return new MultiplierService(2);\n      }\n\n}\n</code></pre>\n<p>In this example, MultiplierService is a class that provides some service that other components might use. The multiplier() method is annotated with @Bean, which tells Spring to treat it as a bean. When the Spring container starts up, it will call this method to create a new instance of MultiplierService. This instance will be managed by Spring and can be injected into other components that depend on it.</p>\n<p><strong>Please note that <code>@Bean</code> annotation is used within a <code>@Configuration</code> class, Which is a special type of Spring component that defines the configuration for the application.</strong></p>\n<p>You have created <code>@Bean</code> inside the Spring Container. Now problem arises <strong>How to use that Bean?</strong></p>\n<p>Now <code>@Autowiring</code> come to a place,</p>\n<p>Here is the example of autowiring the <strong>MultiplerService</strong> into the AppService class</p>\n<pre><code>@Service\npublic class AppService {\n\n       private final MultiplierService multiplierService;\n\n       public AppService(@Autowired MultiplierService multiplierService) {\n             this.multiplierService = multiplierService;\n       }\n\n       public int calculate(int aValue) {\n             return multiplierService.multiply(aValue);\n       }\n\n}\n</code></pre>\n<p><strong>Conclusion:</strong></p>\n<p><code>@Bean</code> is an object that is managed by Spring Framework and it can be used to provide services or functionality to other parts of the application. Also <code>@Beans</code> should be under <code>@Configuration</code> which treated as a <strong>source of bean definition</strong></p>\n<p><code>@Autowired</code> is an annotation used in Spring Boot to enable automatic dependency injection. It allows the Spring container to provide an instance of a required dependency when a bean is created. This annotation can be used on fields, constructors, and methods to have Spring provide the dependencies automatically.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691992287,"creation_date":1691992287,"answer_id":76896536,"question_id":76896286,"body_markdown":"When we annotate a method with `@Bean`, it tells Spring to instantiate and configure an object of that class as a bean. We typically use `@Bean` in a configuration class (annotated with `@Configuration`) to define beans that are managed by Spring&#39;s container. It gives us fine-grained control over the instantiation and configuration of beans.\r\n\r\n        @Component\r\n        public class instanceConfig {\r\n                \r\n                @Bean\r\n                public RunInstancesRequest runInstancesRequest() {\r\n                        return new RunInstancesRequest();\r\n                }\r\n        }\r\n\r\n`@Autowired` annotation is used for automatic dependency injection. When we  annotate a field, constructor, or setter method with `@Autowired`, Spring will automatically wire (inject) the dependencies at runtime. Spring looks for a bean of the required type and injects it into the annotated field or method parameter. It enables us to achieve loose coupling and promotes easier testing and maintainability.\r\n\r\nRelationship between `@Bean` and `@Autowired`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you donot declare a method with @Bean and try to inject it in some class using @Autowired, then spring will not be able to find the instance of that particular class to be injected in spring container and could give errors like:\r\n\r\n - **NoSuchBeanDefinitionException:** This exception is thrown when Spring\r\n   cannot find a bean of the required type. It usually occurs if you\r\n   haven&#39;t defined the bean using @Bean or if there is a typo in the\r\n   bean name.\r\n\r\n - **BeanCreationException:** This exception is a general exception that can\r\n   occur for various reasons, including missing dependencies.\r\n\r\n  [1]: https://i.stack.imgur.com/dIdme.png","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>When we annotate a method with <code>@Bean</code>, it tells Spring to instantiate and configure an object of that class as a bean. We typically use <code>@Bean</code> in a configuration class (annotated with <code>@Configuration</code>) to define beans that are managed by Spring's container. It gives us fine-grained control over the instantiation and configuration of beans.</p>\n<pre><code>    @Component\n    public class instanceConfig {\n            \n            @Bean\n            public RunInstancesRequest runInstancesRequest() {\n                    return new RunInstancesRequest();\n            }\n    }\n</code></pre>\n<p><code>@Autowired</code> annotation is used for automatic dependency injection. When we  annotate a field, constructor, or setter method with <code>@Autowired</code>, Spring will automatically wire (inject) the dependencies at runtime. Spring looks for a bean of the required type and injects it into the annotated field or method parameter. It enables us to achieve loose coupling and promotes easier testing and maintainability.</p>\n<p>Relationship between <code>@Bean</code> and <code>@Autowired</code></p>\n<p><a href=\"https://i.stack.imgur.com/dIdme.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIdme.png\" alt=\"enter image description here\" /></a></p>\n<p>If you donot declare a method with @Bean and try to inject it in some class using @Autowired, then spring will not be able to find the instance of that particular class to be injected in spring container and could give errors like:</p>\n<ul>\n<li><p><strong>NoSuchBeanDefinitionException:</strong> This exception is thrown when Spring\ncannot find a bean of the required type. It usually occurs if you\nhaven't defined the bean using @Bean or if there is a typo in the\nbean name.</p>\n</li>\n<li><p><strong>BeanCreationException:</strong> This exception is a general exception that can\noccur for various reasons, including missing dependencies.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692183049,"creation_date":1692000523,"answer_id":76897283,"question_id":76896286,"body_markdown":"Just Imagine you want to create spring managed instance of a class whose source code you don&#39;t have in your project but you are using it from some library in your project class path. In this case you can&#39;t use `@Component` or `@Configuration` because you don&#39;t have the source code of that class. You can use `@Bean` annotation to create the spring managed instance of that class e.g. datasource, Kafka etc.\r\n\r\n`@Autowired` annotation is used only to create a relationship among these spring managed objects.\r\n\r\nSo if you have created an instance on your own like using a `new` operator. In this case spring is not responsible to manage it hence you can&#39;t autowire it.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>Just Imagine you want to create spring managed instance of a class whose source code you don't have in your project but you are using it from some library in your project class path. In this case you can't use <code>@Component</code> or <code>@Configuration</code> because you don't have the source code of that class. You can use <code>@Bean</code> annotation to create the spring managed instance of that class e.g. datasource, Kafka etc.</p>\n<p><code>@Autowired</code> annotation is used only to create a relationship among these spring managed objects.</p>\n<p>So if you have created an instance on your own like using a <code>new</code> operator. In this case spring is not responsible to manage it hence you can't autowire it.</p>\n"},{"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":3,"creation_date":1692004976,"post_id":76897532,"comment_id":135562335,"body_markdown":"Very friendly and understandable example.","body":"Very friendly and understandable example."}],"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692004172,"creation_date":1692002967,"answer_id":76897532,"question_id":76896286,"body_markdown":"Let me answer this question, because this question has troubled me for a long time.\r\n\r\nFirst, let&#39;s agree on:\r\n\r\n 1. I&#39;m your housekeeper, my name is spring;\r\n 2. You like to eat beans, but you neither grow beans nor distinguish beans by shape;\r\n 3. The buyer will go to buy various kinds of beans, put the bags of beans into boxes, and put labels on the bags of various beans;\r\n 4. Whenever you want a certain bean, you can always ask me for it;\r\n 5. There are several packages of special beans, which are breakfast beans, lunch beans, and dinner beans;\r\n 6. As a housekeeper, I will make your breakfast nutritionally balanced (put in a variety of beans).\r\n\r\nThen, let&#39;s look at the code:\r\n\r\n    package com;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.*;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    public class Index {\r\n        public static void main(String[] args) {\r\n            // The housekeeper got a box of beans. \r\n            // At the same time, he needs to manage a breakfast of beans\r\n            ApplicationContext housekeeper = new AnnotationConfigApplicationContext(BeanBox.class, BreakfastBeans.class);\r\n            \r\n            // If you want breakfast, just ask the butler for breakfast beans\r\n            BreakfastBeans breakfast = housekeeper.getBean(&quot;breakfastBeans&quot;, BreakfastBeans.class);\r\n            breakfast.eat();\r\n    \r\n            System.out.println();\r\n    \r\n            System.out.println(&quot;It&#39;s ten o&#39;clock in the morning, I&#39;ve worked for two hours, I&#39;m in a bad mood, I want to eat sweet red beans&quot;);\r\n            // If you want red beans, ask the butler directly for red beans\r\n            EdibleBeans wantToEatRedBeans = housekeeper.getBean(&quot;redBean&quot;, EdibleBeans.class);\r\n            wantToEatRedBeans.eat();\r\n        }\r\n    }\r\n    \r\n    // This is a box of beans I bought back. @Configuration tell the housekeeper that he need to manage these beans according to the labels inside\r\n    @Configuration\r\n    class BeanBox {\r\n        // label the coffee beans\r\n        @Bean(name=&quot;coffeeBean&quot;)\r\n        public EdibleBeans oh_thisIsCoffeeBeans() { return new CoffeeBeans(); }\r\n    \r\n        // label the kidney beans\r\n        @Bean(name=&quot;kidneyBean&quot;)\r\n        public EdibleBeans oh_thisIsKidneyBeans() { return new KidneyBeans(); }\r\n    \r\n        // label the red beans\r\n        @Bean(name=&quot;redBean&quot;)\r\n        public EdibleBeans oh_thisIsRedBeans() { return new RedBeans(); }\r\n    \r\n        // label the green beans\r\n        @Bean(name=&quot;greenBean&quot;)\r\n        public EdibleBeans oh_thisIsGreenBeans() { return new GreenBeans(); }\r\n    }\r\n    \r\n    // Mark a special class of beans\r\n    @Component\r\n    class BreakfastBeans {\r\n        // I am a housekeeper. \r\n        // I think there should be some coffee beans and kidney beans for breakfast. \r\n        // I want to see if there are such beans in the beans I manage. \r\n        // If there are, then put them directly in the breakfast bean category\r\n        @Autowired\r\n        private EdibleBeans coffeeBean;\r\n        @Autowired\r\n        private EdibleBeans kidneyBean;\r\n    \r\n        public void eat() {\r\n            System.out.println(&quot;breakfast time:&quot;);\r\n            coffeeBean.eat();\r\n            kidneyBean.eat();\r\n        }\r\n    }\r\n    \r\n    interface EdibleBeans {\r\n        public void eat();\r\n    }\r\n    \r\n    class CoffeeBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Coffee Beans&quot;);\r\n        }\r\n    }\r\n    class KidneyBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Kidney Beans&quot;);\r\n        }\r\n    }\r\n    class RedBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Red Beans&quot;);\r\n        }\r\n    }\r\n    class GreenBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Green Beans&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe result of code execution is:\r\n\r\n    breakfast time:\r\n    \tEat Coffee Beans\r\n    \tEat Kidney Beans\r\n    It&#39;s ten o&#39;clock in the morning, I&#39;ve worked for two hours, I&#39;m in a bad mood, I want to eat sweet red beans\r\n    \tEat Red Beans\r\n\r\nSee, you don&#39;t need to manage any beans yourself, you just tell the housekeeper what beans you want and you will get it.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>Let me answer this question, because this question has troubled me for a long time.</p>\n<p>First, let's agree on:</p>\n<ol>\n<li>I'm your housekeeper, my name is spring;</li>\n<li>You like to eat beans, but you neither grow beans nor distinguish beans by shape;</li>\n<li>The buyer will go to buy various kinds of beans, put the bags of beans into boxes, and put labels on the bags of various beans;</li>\n<li>Whenever you want a certain bean, you can always ask me for it;</li>\n<li>There are several packages of special beans, which are breakfast beans, lunch beans, and dinner beans;</li>\n<li>As a housekeeper, I will make your breakfast nutritionally balanced (put in a variety of beans).</li>\n</ol>\n<p>Then, let's look at the code:</p>\n<pre><code>package com;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.*;\nimport org.springframework.stereotype.Component;\n\npublic class Index {\n    public static void main(String[] args) {\n        // The housekeeper got a box of beans. \n        // At the same time, he needs to manage a breakfast of beans\n        ApplicationContext housekeeper = new AnnotationConfigApplicationContext(BeanBox.class, BreakfastBeans.class);\n        \n        // If you want breakfast, just ask the butler for breakfast beans\n        BreakfastBeans breakfast = housekeeper.getBean(&quot;breakfastBeans&quot;, BreakfastBeans.class);\n        breakfast.eat();\n\n        System.out.println();\n\n        System.out.println(&quot;It's ten o'clock in the morning, I've worked for two hours, I'm in a bad mood, I want to eat sweet red beans&quot;);\n        // If you want red beans, ask the butler directly for red beans\n        EdibleBeans wantToEatRedBeans = housekeeper.getBean(&quot;redBean&quot;, EdibleBeans.class);\n        wantToEatRedBeans.eat();\n    }\n}\n\n// This is a box of beans I bought back. @Configuration tell the housekeeper that he need to manage these beans according to the labels inside\n@Configuration\nclass BeanBox {\n    // label the coffee beans\n    @Bean(name=&quot;coffeeBean&quot;)\n    public EdibleBeans oh_thisIsCoffeeBeans() { return new CoffeeBeans(); }\n\n    // label the kidney beans\n    @Bean(name=&quot;kidneyBean&quot;)\n    public EdibleBeans oh_thisIsKidneyBeans() { return new KidneyBeans(); }\n\n    // label the red beans\n    @Bean(name=&quot;redBean&quot;)\n    public EdibleBeans oh_thisIsRedBeans() { return new RedBeans(); }\n\n    // label the green beans\n    @Bean(name=&quot;greenBean&quot;)\n    public EdibleBeans oh_thisIsGreenBeans() { return new GreenBeans(); }\n}\n\n// Mark a special class of beans\n@Component\nclass BreakfastBeans {\n    // I am a housekeeper. \n    // I think there should be some coffee beans and kidney beans for breakfast. \n    // I want to see if there are such beans in the beans I manage. \n    // If there are, then put them directly in the breakfast bean category\n    @Autowired\n    private EdibleBeans coffeeBean;\n    @Autowired\n    private EdibleBeans kidneyBean;\n\n    public void eat() {\n        System.out.println(&quot;breakfast time:&quot;);\n        coffeeBean.eat();\n        kidneyBean.eat();\n    }\n}\n\ninterface EdibleBeans {\n    public void eat();\n}\n\nclass CoffeeBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Coffee Beans&quot;);\n    }\n}\nclass KidneyBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Kidney Beans&quot;);\n    }\n}\nclass RedBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Red Beans&quot;);\n    }\n}\nclass GreenBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Green Beans&quot;);\n    }\n}\n</code></pre>\n<p>The result of code execution is:</p>\n<pre><code>breakfast time:\n    Eat Coffee Beans\n    Eat Kidney Beans\nIt's ten o'clock in the morning, I've worked for two hours, I'm in a bad mood, I want to eat sweet red beans\n    Eat Red Beans\n</code></pre>\n<p>See, you don't need to manage any beans yourself, you just tell the housekeeper what beans you want and you will get it.</p>\n"}],"owner":{"account_id":4141233,"reputation":177,"user_id":3396478,"accept_rate":50,"display_name":"user3396478"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":6,"score":1,"last_activity_date":1692183049,"creation_date":1691987552,"question_id":76896286,"body_markdown":"I&#39;m trying to understand exactly in which cases I should create a spring @Bean method which will return a new instance of a class. and I will @autowired that @Bean method in other classes to use it. I know this is at the very basic of spring but I don&#39;t seems to get hold on to it. Here are some code sample to clarify my need in more details. I understand the basic theory behind it but want to get in more depth knowledge. \r\n\r\n```\r\n@Component\r\n\r\npublic class instanceConfig {\r\n        \r\n        @Bean\r\n        public RunInstancesRequest runInstancesRequest() {\r\n                return new RunInstancesRequest();\r\n        }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class someClsss {\r\n        \r\n        @Autowired\r\n        private RunInstancesRequest runInstancesRequest; \r\n\r\n        //do some work using the runInstancesRequest\r\n}\r\n``` ","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>I'm trying to understand exactly in which cases I should create a spring @Bean method which will return a new instance of a class. and I will @autowired that @Bean method in other classes to use it. I know this is at the very basic of spring but I don't seems to get hold on to it. Here are some code sample to clarify my need in more details. I understand the basic theory behind it but want to get in more depth knowledge.</p>\n<pre><code>@Component\n\npublic class instanceConfig {\n        \n        @Bean\n        public RunInstancesRequest runInstancesRequest() {\n                return new RunInstancesRequest();\n        }\n}\n</code></pre>\n<pre><code>@Component\npublic class someClsss {\n        \n        @Autowired\n        private RunInstancesRequest runInstancesRequest; \n\n        //do some work using the runInstancesRequest\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","dependencies","nosuchmethoderror"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692179418,"post_id":76912334,"comment_id":135587615,"body_markdown":"So you are using incompatible versions in different modules and expect everything to work... Change your expectations or unify the dependencies.","body":"So you are using incompatible versions in different modules and expect everything to work... Change your expectations or unify the dependencies."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692182627,"creation_date":1692182627,"answer_id":76912802,"question_id":76912334,"body_markdown":"At runtime, ordinarily, java just tosses it all on a big pile, hence, if you depend (transitively or not) on library &#39;SomeLib&#39; version X, and you _also_ depend on &#39;SomeLib&#39; version Y, where X and Y aren&#39;t compatible, then it&#39;s just not going to work and you need to put in a lot of effort to fix it.\r\n\r\n## Option A: Unify\r\n\r\nUpdate some of your dependencies (possibly using &#39;overrides&#39; if the reason you depend on SomeLib@X is because it&#39;s a 3-ways-removed transitive (you want to use `LibA@most recent version`, which itself needs `LibB@v20`, which needs `LibC@v5`, and that in turn requires `SomeLib@X`, which is the problem. it is possible/likely that LibA&#39;s dep on `LibB@v20` could be upgraded to use `LibB@v25` instead (that this doesn&#39;t break stuff), and that needs `LibC@8`, and that depends on `SomeLib@Y`, thus getting rid of your SomeLib@X problem.\r\n\r\nThere are various dependency chain checkers; they make nice graphs showing how your `LibA` ends up needing `SomeLib@X` via LibB and LibC. You can use these to figure out which deps you want to try newer versions of, or alternatively if they are already at newest, which of _their_ deps you can force upwards.\r\n\r\nIf this is not possible, the more drastic solution is to __downgrade__ whatever dependency(ies) require `SomeFoo@Y`.\r\n\r\n## Option B: Per-dep-shading\r\n\r\nIf `LibA` is causing a problem (directly or transitively pulling `SomeFoo@X`), __as long as__ its API does not communicate in terms of `SomeFoo` (none of its parameters and none of its return types amongst methods you actually invoke), you can use a shading tool to rewrite `com.someFoo.SomeClass` into `shade.lib.libA.com.someFoo.SomeClass` in every constant pool of LibA and its chain of dependencies, and at the same time rename the class itself. Customarily all of libA&#39;s deps are not just modified like that but then also packed up into one much larger `jar` file that now appears to have no further dependencies.\r\n\r\nFolks usually do this to _their entire project_ to end up with a single jar, but you can do that to a single dependency as well, and now a JVM _can_ load conflicting versions, because one of them is no longer called `com.someFoo.SomeClass`.\r\n\r\n## Option C: ClassLoaders\r\n\r\nJVMs can load 2 classes with the same name - by using class loaders. OSGi is one such framework, that uses classloaders to modularize a project such that individual parts can&#39;t see each other at all, _and_ can therefore both load a library without that being a &#39;global choice&#39;. JVM Runtimes don&#39;t do this by default and there is no way to make them do this with a setting - you do it with code, writing a ClassLoader (`public class MyLoader extends ClassLoader`) and carefully managing the fact that any types involved in chat between libraries (such as `java.lang.String`) isn&#39;t loaded separately - that has to be loaded &#39;globally&#39; (by the parent loader - classloaders have a hierarchy). This is rather tricky, so I suggest some framework or other.\r\n\r\nOne advantage of classloaders is that you can make a new one and thus load the same class again - many web frameworks therefore have this setup, because it means you can just &#39;reload&#39; a web page without shutting down the JVM and still see the effects of that code update you just made: It&#39;s convenient for debugging if you aren&#39;t using a hot-code-replace debugger like eclipse has. There are also more generalized &#39;app frameworks&#39; that are designed to let you run lots of simple applications on a single JVM.\r\n\r\nThat&#39;s another source of ready-made classloader-based runtime-modularization systems.\r\n\r\nBut note that especially those web framework getups aren&#39;t necessarily designed to enable this, they just do it &#39;by accident&#39;. And the current trend is to microservice everything.\r\n\r\n## Option D: Microservices\r\n\r\nLet your libraries chat to each other over HTTPS and run a ton of little JVMs on multiple machines in an IAAS fleet setup. This is incredibly inefficient (JVMs have overhead; not to mention virtual machines. Running multiple JVMs on a single physical box is inefficient) and is mostly a silly application of [Conway&#39;s Law](https://en.wikipedia.org/wiki/Conway%27s_law) - a solution to a development management problem. But then I might just be old man yelling at cloud (literally) on that one.\r\n\r\nStill, it of course solves the problem too. Each microservice is in its own JVM and thus no library conflicts to trip you up.\r\n","title":"Java NoSuchMethodError - Imported Third Party Library Call Wrong Package (There Are Packagaes With Same Name)","body":"<p>At runtime, ordinarily, java just tosses it all on a big pile, hence, if you depend (transitively or not) on library 'SomeLib' version X, and you <em>also</em> depend on 'SomeLib' version Y, where X and Y aren't compatible, then it's just not going to work and you need to put in a lot of effort to fix it.</p>\n<h2>Option A: Unify</h2>\n<p>Update some of your dependencies (possibly using 'overrides' if the reason you depend on SomeLib@X is because it's a 3-ways-removed transitive (you want to use <code>LibA@most recent version</code>, which itself needs <code>LibB@v20</code>, which needs <code>LibC@v5</code>, and that in turn requires <code>SomeLib@X</code>, which is the problem. it is possible/likely that LibA's dep on <code>LibB@v20</code> could be upgraded to use <code>LibB@v25</code> instead (that this doesn't break stuff), and that needs <code>LibC@8</code>, and that depends on <code>SomeLib@Y</code>, thus getting rid of your SomeLib@X problem.</p>\n<p>There are various dependency chain checkers; they make nice graphs showing how your <code>LibA</code> ends up needing <code>SomeLib@X</code> via LibB and LibC. You can use these to figure out which deps you want to try newer versions of, or alternatively if they are already at newest, which of <em>their</em> deps you can force upwards.</p>\n<p>If this is not possible, the more drastic solution is to <strong>downgrade</strong> whatever dependency(ies) require <code>SomeFoo@Y</code>.</p>\n<h2>Option B: Per-dep-shading</h2>\n<p>If <code>LibA</code> is causing a problem (directly or transitively pulling <code>SomeFoo@X</code>), <strong>as long as</strong> its API does not communicate in terms of <code>SomeFoo</code> (none of its parameters and none of its return types amongst methods you actually invoke), you can use a shading tool to rewrite <code>com.someFoo.SomeClass</code> into <code>shade.lib.libA.com.someFoo.SomeClass</code> in every constant pool of LibA and its chain of dependencies, and at the same time rename the class itself. Customarily all of libA's deps are not just modified like that but then also packed up into one much larger <code>jar</code> file that now appears to have no further dependencies.</p>\n<p>Folks usually do this to <em>their entire project</em> to end up with a single jar, but you can do that to a single dependency as well, and now a JVM <em>can</em> load conflicting versions, because one of them is no longer called <code>com.someFoo.SomeClass</code>.</p>\n<h2>Option C: ClassLoaders</h2>\n<p>JVMs can load 2 classes with the same name - by using class loaders. OSGi is one such framework, that uses classloaders to modularize a project such that individual parts can't see each other at all, <em>and</em> can therefore both load a library without that being a 'global choice'. JVM Runtimes don't do this by default and there is no way to make them do this with a setting - you do it with code, writing a ClassLoader (<code>public class MyLoader extends ClassLoader</code>) and carefully managing the fact that any types involved in chat between libraries (such as <code>java.lang.String</code>) isn't loaded separately - that has to be loaded 'globally' (by the parent loader - classloaders have a hierarchy). This is rather tricky, so I suggest some framework or other.</p>\n<p>One advantage of classloaders is that you can make a new one and thus load the same class again - many web frameworks therefore have this setup, because it means you can just 'reload' a web page without shutting down the JVM and still see the effects of that code update you just made: It's convenient for debugging if you aren't using a hot-code-replace debugger like eclipse has. There are also more generalized 'app frameworks' that are designed to let you run lots of simple applications on a single JVM.</p>\n<p>That's another source of ready-made classloader-based runtime-modularization systems.</p>\n<p>But note that especially those web framework getups aren't necessarily designed to enable this, they just do it 'by accident'. And the current trend is to microservice everything.</p>\n<h2>Option D: Microservices</h2>\n<p>Let your libraries chat to each other over HTTPS and run a ton of little JVMs on multiple machines in an IAAS fleet setup. This is incredibly inefficient (JVMs have overhead; not to mention virtual machines. Running multiple JVMs on a single physical box is inefficient) and is mostly a silly application of <a href=\"https://en.wikipedia.org/wiki/Conway%27s_law\" rel=\"nofollow noreferrer\">Conway's Law</a> - a solution to a development management problem. But then I might just be old man yelling at cloud (literally) on that one.</p>\n<p>Still, it of course solves the problem too. Each microservice is in its own JVM and thus no library conflicts to trip you up.</p>\n"}],"owner":{"account_id":11613250,"reputation":13,"user_id":8506870,"display_name":"nairsirk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76912802,"answer_count":1,"score":0,"last_activity_date":1692182627,"creation_date":1692178610,"question_id":76912334,"body_markdown":"I failed to run my Java app due to NoSuchMethodError exception. Exception is coming from a third party library initializing an object which has dependency to a certain class name.\r\n\r\nThis certain class name is actually available from two different transitive packages from two different libraries.\r\n\r\nLet say there is a dependency mapping like this:\r\n\r\n- Library A -\\&gt; Dependency to class B (package p) (lib C)\r\n- Library B -\\&gt; Dependency to class B (package p) (lib D)\r\n\r\nInstead of using its own dependency mapping, somehow library A uses the dependency of class B on second point.\r\n\r\nThis is the full error logs.\r\n\r\n```\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    com.mongodb.MongoClientOptions.&lt;init&gt;(MongoClientOptions.java:157)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;com.mongodb.connection.ConnectionPoolSettings$Builder com.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)&#39;\r\n\r\nThe calling method&#39;s class, com.mongodb.MongoClientOptions, was loaded from the following location:\r\n\r\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/MongoClientOptions.class\r\n\r\nThe called method&#39;s class, com.mongodb.connection.ConnectionPoolSettings$Builder, is available from the following locations:\r\n\r\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\r\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    com.mongodb.connection.ConnectionPoolSettings.Builder: file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes com.mongodb.MongoClientOptions and com.mongodb.connection.ConnectionPoolSettings$Builder\r\n```\r\n\r\nAnyone knows how to fix this issue?\r\n\r\nLibraries I used:\r\n\r\n- org.mongodb:mongodb-driver-core\r\n- org.mongodb:mongo-java-driver\r\n\r\nI expect the app is running fine without exception.","title":"Java NoSuchMethodError - Imported Third Party Library Call Wrong Package (There Are Packagaes With Same Name)","body":"<p>I failed to run my Java app due to NoSuchMethodError exception. Exception is coming from a third party library initializing an object which has dependency to a certain class name.</p>\n<p>This certain class name is actually available from two different transitive packages from two different libraries.</p>\n<p>Let say there is a dependency mapping like this:</p>\n<ul>\n<li>Library A -&gt; Dependency to class B (package p) (lib C)</li>\n<li>Library B -&gt; Dependency to class B (package p) (lib D)</li>\n</ul>\n<p>Instead of using its own dependency mapping, somehow library A uses the dependency of class B on second point.</p>\n<p>This is the full error logs.</p>\n<pre><code>Description:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    com.mongodb.MongoClientOptions.&lt;init&gt;(MongoClientOptions.java:157)\n\nThe following method did not exist:\n\n    'com.mongodb.connection.ConnectionPoolSettings$Builder com.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)'\n\nThe calling method's class, com.mongodb.MongoClientOptions, was loaded from the following location:\n\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/MongoClientOptions.class\n\nThe called method's class, com.mongodb.connection.ConnectionPoolSettings$Builder, is available from the following locations:\n\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    com.mongodb.connection.ConnectionPoolSettings.Builder: file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes com.mongodb.MongoClientOptions and com.mongodb.connection.ConnectionPoolSettings$Builder\n</code></pre>\n<p>Anyone knows how to fix this issue?</p>\n<p>Libraries I used:</p>\n<ul>\n<li>org.mongodb:mongodb-driver-core</li>\n<li>org.mongodb:mongo-java-driver</li>\n</ul>\n<p>I expect the app is running fine without exception.</p>\n"},{"tags":["javascript","python","java","css","reactjs"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692189303,"post_id":76912733,"comment_id":135589595,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29235719,"reputation":1,"user_id":22398399,"display_name":"shraddha jivanapurkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692181936,"creation_date":1692181936,"question_id":76912733,"body_markdown":"* I want to call the function from sdk file to my ionic project by using custom plugin.\r\n* All versions:- cordova 10.0.0, ionic 7.0.1, ng version 9.1.13, node 16.20.0, gradle 6.5.1\r\n\r\nI tried with the help of plugin. plugin was created successfully but not integrate in my ionic project. also i integrated sdk in ionic but I failed in calling the function from sdk to plugin.","title":"I have an (name: &#39;xyzsdk_v1.0.20&#39;, ext: &#39;aar&#39;) file and i want to integrate it in my ionic project and also i created one custome plugin","body":"<ul>\n<li>I want to call the function from sdk file to my ionic project by using custom plugin.</li>\n<li>All versions:- cordova 10.0.0, ionic 7.0.1, ng version 9.1.13, node 16.20.0, gradle 6.5.1</li>\n</ul>\n<p>I tried with the help of plugin. plugin was created successfully but not integrate in my ionic project. also i integrated sdk in ionic but I failed in calling the function from sdk to plugin.</p>\n"},{"tags":["java","mysql","hibernate","enums","nativequery"],"comments":[{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692193302,"post_id":76912719,"comment_id":135590608,"body_markdown":"could you test your nativeQuery with : MyTableModel  class like that : Query query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;,MyTableModel .class); ?","body":"could you test your nativeQuery with : MyTableModel  class like that : Query query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;,MyTableModel .class); ?"},{"owner":{"account_id":29235938,"reputation":11,"user_id":22398574,"display_name":"ArturM"},"score":0,"creation_date":1692261595,"post_id":76912719,"comment_id":135600142,"body_markdown":"still same issue:\nCaused by: java.sql.SQLException: Incorrect string value: &#39;\\xAC\\xED\\x00\\x05~r...&#39; for column &#39;myenum&#39; at row 1\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\norg.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.GenericJDBCException: could not execute statement; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute statement","body":"still same issue: Caused by: java.sql.SQLException: Incorrect string value: &#39;\\xAC\\xED\\x00\\x05~r...&#39; for column &#39;myenum&#39; at row 1 Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement org.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.GenericJDBCException: could not execute statement; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute statement"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692278438,"post_id":76912719,"comment_id":135603585,"body_markdown":"and for the MySQL dialect is the correct one ?","body":"and for the MySQL dialect is the correct one ?"},{"owner":{"account_id":29235938,"reputation":11,"user_id":22398574,"display_name":"ArturM"},"score":0,"creation_date":1692343071,"post_id":76912719,"comment_id":135612635,"body_markdown":"yes, I tried for older version dialct mysql, mysql5, mysql57 and i have ported mysql8... for newer version the mysql8 is already there - with same issue each time","body":"yes, I tried for older version dialct mysql, mysql5, mysql57 and i have ported mysql8... for newer version the mysql8 is already there - with same issue each time"}],"owner":{"account_id":29235938,"reputation":11,"user_id":22398574,"display_name":"ArturM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692181806,"creation_date":1692181806,"question_id":76912719,"body_markdown":"I have an issue with @Enumerated(EnumType.STRING) enum passed as param to native query after mysql upgrade from 5.7 to 8.0.34.\r\n\r\nMy simplified setup:\r\n    \r\n```\r\npublic enum MyEnum {\r\n       A,B;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Audited\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTableModel {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;, unique = true)\r\n      private Long id;\r\n\r\n      @Column(name = &quot;myenum&quot;)\r\n      @NotNull\r\n      @Enumerated(EnumType.STRING)\r\n      private MyEnum myEnum;\r\n      .....\r\n```\r\n\r\nThe problem arise when I try to update this enum using a native query like this:\r\n```\r\nQuery query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;);\r\n        query.setParameter(&quot;id&quot;, id);\r\n        query.setParameter(&quot;myenum&quot;, MyEnum.B);\r\n        query.executeUpdate();\r\n```\r\n\r\nI was a working code before in mysql 5.7 pior upgrade to 8.0.34\r\n\r\nI tested above with few diffrent hibernate/spring versions:\r\nHibernate 4.2.21 and Spring 4.3.13 gave following error:\r\n```\r\nCaused by: java.sql.SQLException: Incorrect string value: &#39;\\xAC\\xED\\x00\\x05~r...&#39; for column     &#39;myenum&#39; at row 1\r\n```\r\nHibernate 5.4.3 and Spring 5.3.27 gave following error:\r\n```\r\njava.lang.IllegalArgumentException: No enum constant com.example.MyEnum.&#172;&#237;~rFcom.example.MyEnumnxrjava.lang.EnumxptA\r\nat java.base/java.lang.Enum.valueOf(Enum.java:240)\r\nat org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84)\r\n\r\n```\r\nAm I doing something wrong here with enum? I am not able to update the older version of hibernate/spring and I need to find a way to fix it.\r\n\r\nWhen I change above code to following - it is working as expected - but that would mean I have to change this in a lot of places, why this is a problem upgrading to newer mysql version?\r\n```\r\nquery.setParameter(&quot;myenum&quot;, MyEnum.B.name())\r\n```\r\n\r\nI verify database/column encoding, change dialect to latest available in given hibernate versions, updated mysql connector to one of the latest one 8.0.15. As above I have tried to manually change enum to plain string using name() and that worked as expected.\r\nIs there something missing in the config, model/entity, hibernate etc to continue using just enum instead of plain string in above query? ","title":"Mysql 8 @Enumerated(EnumType.STRING) java enum hibernate native query param problem upgrade from mysql 5.7","body":"<p>I have an issue with @Enumerated(EnumType.STRING) enum passed as param to native query after mysql upgrade from 5.7 to 8.0.34.</p>\n<p>My simplified setup:</p>\n<pre><code>public enum MyEnum {\n       A,B;\n    }\n\n\n    @Entity\n    @Audited\n    @Table(name = &quot;my_table&quot;)\n    public class MyTableModel {\n      @Id\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\n      @Column(name = &quot;id&quot;, unique = true)\n      private Long id;\n\n      @Column(name = &quot;myenum&quot;)\n      @NotNull\n      @Enumerated(EnumType.STRING)\n      private MyEnum myEnum;\n      .....\n</code></pre>\n<p>The problem arise when I try to update this enum using a native query like this:</p>\n<pre><code>Query query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;);\n        query.setParameter(&quot;id&quot;, id);\n        query.setParameter(&quot;myenum&quot;, MyEnum.B);\n        query.executeUpdate();\n</code></pre>\n<p>I was a working code before in mysql 5.7 pior upgrade to 8.0.34</p>\n<p>I tested above with few diffrent hibernate/spring versions:\nHibernate 4.2.21 and Spring 4.3.13 gave following error:</p>\n<pre><code>Caused by: java.sql.SQLException: Incorrect string value: '\\xAC\\xED\\x00\\x05~r...' for column     'myenum' at row 1\n</code></pre>\n<p>Hibernate 5.4.3 and Spring 5.3.27 gave following error:</p>\n<pre><code>java.lang.IllegalArgumentException: No enum constant com.example.MyEnum.¬í~rFcom.example.MyEnumnxrjava.lang.EnumxptA\nat java.base/java.lang.Enum.valueOf(Enum.java:240)\nat org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84)\n\n</code></pre>\n<p>Am I doing something wrong here with enum? I am not able to update the older version of hibernate/spring and I need to find a way to fix it.</p>\n<p>When I change above code to following - it is working as expected - but that would mean I have to change this in a lot of places, why this is a problem upgrading to newer mysql version?</p>\n<pre><code>query.setParameter(&quot;myenum&quot;, MyEnum.B.name())\n</code></pre>\n<p>I verify database/column encoding, change dialect to latest available in given hibernate versions, updated mysql connector to one of the latest one 8.0.15. As above I have tried to manually change enum to plain string using name() and that worked as expected.\nIs there something missing in the config, model/entity, hibernate etc to continue using just enum instead of plain string in above query?</p>\n"},{"tags":["java","soap","cxf","interceptor"],"owner":{"account_id":7066200,"reputation":43,"user_id":5569569,"display_name":"martino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692181750,"creation_date":1692181750,"question_id":76912705,"body_markdown":"I am attempting to implement a logic where I add some HTTP headers to my SOAP request before sending the request onwards to the target webservice. More specifically I am attempting to implement signing HTTP messages as described in this [IETF draft](https://datatracker.ietf.org/doc/html/draft-cavage-http-signatures-12). My implementation needs to be applied to a multitude of webservices and therefore agnostic with respect to this.\r\n\r\nI am relatively new to SOAP, and Apache CXF which I am using. But my thought was to create an Interceptor implementation which could be easily added to the relevant SOAP-services in my apps. My attempt looks like this.\r\n```lang-java\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.cxf.binding.soap.SoapMessage;\r\nimport org.apache.cxf.binding.soap.interceptor.AbstractSoapInterceptor;\r\nimport org.apache.cxf.interceptor.Fault;\r\nimport org.apache.cxf.io.CachedOutputStream;\r\nimport org.apache.cxf.message.Message;\r\n\r\npublic class MyInterceptor extends AbstractSoapInterceptor {\r\n\r\n    @Override\r\n    public void handleMessage(SoapMessage message) throws Fault {\r\n        // Fetch headers\r\n        Map&lt;String, List&lt;String&gt;&gt; requestHeaders = (Map&lt;String, List&lt;String&gt;&gt;) message.get(Message.PROTOCOL_HEADERS);\r\n\r\n        // Fetch request-body as String, this seems a bit hacky...\r\n        OutputStream outputStream = message.getContent(OutputStream.class);\r\n        CachedOutputStream cachedOutputStream = (CachedOutputStream) outputStream;\r\n        StringBuilder builder = new StringBuilder();\r\n        try {\r\n            cachedOutputStream.writeCacheTo(builder);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        String requestBody = builder.toString();\r\n\r\n        // External API requires the HTTP headers and body\r\n        Map&lt;String, List&lt;String&gt;&gt; headersToAddToRequest = externalApiService.fetchSignedHeaders(requestHeaders, requestBody);\r\n\r\n        // Add headers to message\r\n        message.put(Message.PROTOCOL_HEADERS, headersToAddToRequest);\r\n\r\n    }\r\n\r\n}\r\n```\r\nNow this seems to &quot;work&quot;, but it feels a bit &quot;hacky&quot;. Is there an &quot;easier&quot; way to achieve this, or any big mistakes in the logic here?\r\n\r\nSorry If such an open-ended question is disallowed. Feel free to close this if it doesn&#39;t comply with SE guidelines. ","title":"Add HTTP headers to SOAP request with data from external API using Interceptor","body":"<p>I am attempting to implement a logic where I add some HTTP headers to my SOAP request before sending the request onwards to the target webservice. More specifically I am attempting to implement signing HTTP messages as described in this <a href=\"https://datatracker.ietf.org/doc/html/draft-cavage-http-signatures-12\" rel=\"nofollow noreferrer\">IETF draft</a>. My implementation needs to be applied to a multitude of webservices and therefore agnostic with respect to this.</p>\n<p>I am relatively new to SOAP, and Apache CXF which I am using. But my thought was to create an Interceptor implementation which could be easily added to the relevant SOAP-services in my apps. My attempt looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.cxf.binding.soap.SoapMessage;\nimport org.apache.cxf.binding.soap.interceptor.AbstractSoapInterceptor;\nimport org.apache.cxf.interceptor.Fault;\nimport org.apache.cxf.io.CachedOutputStream;\nimport org.apache.cxf.message.Message;\n\npublic class MyInterceptor extends AbstractSoapInterceptor {\n\n    @Override\n    public void handleMessage(SoapMessage message) throws Fault {\n        // Fetch headers\n        Map&lt;String, List&lt;String&gt;&gt; requestHeaders = (Map&lt;String, List&lt;String&gt;&gt;) message.get(Message.PROTOCOL_HEADERS);\n\n        // Fetch request-body as String, this seems a bit hacky...\n        OutputStream outputStream = message.getContent(OutputStream.class);\n        CachedOutputStream cachedOutputStream = (CachedOutputStream) outputStream;\n        StringBuilder builder = new StringBuilder();\n        try {\n            cachedOutputStream.writeCacheTo(builder);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        String requestBody = builder.toString();\n\n        // External API requires the HTTP headers and body\n        Map&lt;String, List&lt;String&gt;&gt; headersToAddToRequest = externalApiService.fetchSignedHeaders(requestHeaders, requestBody);\n\n        // Add headers to message\n        message.put(Message.PROTOCOL_HEADERS, headersToAddToRequest);\n\n    }\n\n}\n</code></pre>\n<p>Now this seems to &quot;work&quot;, but it feels a bit &quot;hacky&quot;. Is there an &quot;easier&quot; way to achieve this, or any big mistakes in the logic here?</p>\n<p>Sorry If such an open-ended question is disallowed. Feel free to close this if it doesn't comply with SE guidelines.</p>\n"},{"tags":["java","xcode","kotlin-multiplatform"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1692017369,"post_id":76898701,"comment_id":135564670,"body_markdown":"I&#39;m guessing that xcode ignores the JAVA_HOME environment variable and likely needs some manual config to tell it where you&#39;ve installed the jdk","body":"I&#39;m guessing that xcode ignores the JAVA_HOME environment variable and likely needs some manual config to tell it where you&#39;ve installed the jdk"},{"owner":{"account_id":4399745,"reputation":73438,"user_id":3585796,"display_name":"Phil Dukhov"},"score":0,"creation_date":1692017986,"post_id":76898701,"comment_id":135564792,"body_markdown":"try [kdoctor](https://github.com/Kotlin/kdoctor)","body":"try <a href=\"https://github.com/Kotlin/kdoctor\" rel=\"nofollow noreferrer\">kdoctor</a>"}],"answers":[{"tags":[],"owner":{"account_id":7623864,"reputation":636,"user_id":5781026,"display_name":"Magnus Lundberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692181709,"creation_date":1692181709,"answer_id":76912698,"question_id":76898701,"body_markdown":"I managed to solve the problem myself by changing the build script in xcode to:\r\n\r\n```\r\nJAVA_HOME=&quot;/Users/xxx/.sdkman/candidates/java/current&quot; &quot;$REPO_ROOT/../gradlew&quot; -p &quot;$REPO_ROOT&quot; $KOTLIN_PROJECT_PATH:syncFramework                     -Pkotlin.native.cocoapods.platform=$PLATFORM_NAME                     -Pkotlin.native.cocoapods.archs=&quot;$ARCHS&quot;                     -Pkotlin.native.cocoapods.configuration=&quot;$CONFIGURATION&quot;\r\n```","title":"Xcode cannot locate java runtime","body":"<p>I managed to solve the problem myself by changing the build script in xcode to:</p>\n<pre><code>JAVA_HOME=&quot;/Users/xxx/.sdkman/candidates/java/current&quot; &quot;$REPO_ROOT/../gradlew&quot; -p &quot;$REPO_ROOT&quot; $KOTLIN_PROJECT_PATH:syncFramework                     -Pkotlin.native.cocoapods.platform=$PLATFORM_NAME                     -Pkotlin.native.cocoapods.archs=&quot;$ARCHS&quot;                     -Pkotlin.native.cocoapods.configuration=&quot;$CONFIGURATION&quot;\n</code></pre>\n"}],"owner":{"account_id":7623864,"reputation":636,"user_id":5781026,"display_name":"Magnus Lundberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692181709,"creation_date":1692013796,"question_id":76898701,"body_markdown":"I am writing a Kotlin Multiplatform project and everything are compiling fine when I compile it in Android Studio, however when I try to compile it in Xcode I get a compile error:\r\n\r\n```\r\nThe operation couldn’t be completed. Unable to locate a Java Runtime.\r\n\r\nPlease visit http://www.java.com for information on installing Java.\r\n\r\n```\r\nI have installed Java and can in a terminal find it so it seems like the problem is in Xcode:\r\n```\r\n$ echo $JAVA_HOME\r\n/Users/xxx/.sdkman/candidates/java/current\r\n$ java --version\r\nopenjdk 17.0.6 2023-01-17\r\nOpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode)\r\n```\r\n\r\nI have executed kdoctor and it finds no issue with my setup:\r\n```\r\n$ kdoctor\r\nEnvironment diagnose (to see all details, use -v option):\r\n[✓] Operation System\r\n[✓] Java\r\n[✓] Android Studio\r\n[✓] Xcode\r\n[✓] Cocoapods\r\n\r\nConclusion:\r\n  ✓ Your system is ready for Kotlin Multiplatform Mobile Development!\r\n```","title":"Xcode cannot locate java runtime","body":"<p>I am writing a Kotlin Multiplatform project and everything are compiling fine when I compile it in Android Studio, however when I try to compile it in Xcode I get a compile error:</p>\n<pre><code>The operation couldn’t be completed. Unable to locate a Java Runtime.\n\nPlease visit http://www.java.com for information on installing Java.\n\n</code></pre>\n<p>I have installed Java and can in a terminal find it so it seems like the problem is in Xcode:</p>\n<pre><code>$ echo $JAVA_HOME\n/Users/xxx/.sdkman/candidates/java/current\n$ java --version\nopenjdk 17.0.6 2023-01-17\nOpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\nOpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode)\n</code></pre>\n<p>I have executed kdoctor and it finds no issue with my setup:</p>\n<pre><code>$ kdoctor\nEnvironment diagnose (to see all details, use -v option):\n[✓] Operation System\n[✓] Java\n[✓] Android Studio\n[✓] Xcode\n[✓] Cocoapods\n\nConclusion:\n  ✓ Your system is ready for Kotlin Multiplatform Mobile Development!\n</code></pre>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1692177393,"post_id":76911744,"comment_id":135587227,"body_markdown":"This is nowhere near a _minimal_ example of the problem as Stack policy calls for, but your `EncryptionHelper` correctly uses `GCMParameterSpec` with the IV saved from the encryption; your `PasswordEntryAdapter` uses **`IvParameterSpec` which is wrong and a newly generated IV which is also wrong** (for decrypt).","body":"This is nowhere near a <i>minimal</i> example of the problem as Stack policy calls for, but your <code>EncryptionHelper</code> correctly uses <code>GCMParameterSpec</code> with the IV saved from the encryption; your <code>PasswordEntryAdapter</code> uses <b><code>IvParameterSpec</code> which is wrong and a newly generated IV which is also wrong</b> (for decrypt)."},{"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"score":0,"creation_date":1692181128,"post_id":76911744,"comment_id":135587971,"body_markdown":"Ive posted an answer post so you can see the changes, because I get this exception, javax.crypto.AEADBadTagException, and my iv does not get initialized properly.","body":"Ive posted an answer post so you can see the changes, because I get this exception, javax.crypto.AEADBadTagException, and my iv does not get initialized properly."}],"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692181063,"creation_date":1692174075,"question_id":76911744,"body_markdown":"Im making an app in android studio using Java which is going to be like a password vault. So the user registers, logs in and can then add login details to various websites, the details get encrypted and the user has to re-enter their main account password to decrypt the details. The problem im having is that during the decrypting process when decrypting and showing the login details, I get an exception thrown from my decryption methods that I do not know how to solve. And im guessing it&#39;s what causes the username and password field to be null since they never pass through the decryption. \r\n\r\nI&#39;ll provide all code for the classes relevant in that process. \r\n\r\n\r\nIn RegisterActivity the user registers their account, details are stored in sharedpreferences for future access. \r\n```\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    private EditText firstNameEditText, lastNameEditText, emailEditText, passwordEditText;\r\n    private Button registerButton;\r\n    private TextView backToLoginLinkText;\r\n\r\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    private final Handler mainHandler = new Handler(Looper.getMainLooper());\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.createaccount_activity);\r\n\r\n        // Initialize views\r\n        firstNameEditText = findViewById(R.id.firstNameEditText);\r\n        lastNameEditText = findViewById(R.id.lastNameEditText);\r\n        emailEditText = findViewById(R.id.emailEditText);\r\n        passwordEditText = findViewById(R.id.passwordEditText);\r\n        registerButton = findViewById(R.id.registerButton);\r\n        backToLoginLinkText = findViewById(R.id.loginLinkText);\r\n\r\n        // Set click listener for the &quot;Register&quot; button\r\n        registerButton.setOnClickListener(v -&gt; {\r\n            String firstName = firstNameEditText.getText().toString();\r\n            String lastName = lastNameEditText.getText().toString();\r\n            String email = emailEditText.getText().toString();\r\n            String password = passwordEditText.getText().toString();\r\n\r\n            if (firstName.isEmpty() || lastName.isEmpty() || email.isEmpty() || password.isEmpty()) {\r\n                Toast.makeText(RegisterActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            // Create a new User instance (This will integrate with the Room database)\r\n            User newUser = new User(firstName, lastName, email, password);\r\n\r\n            // Use ExecutorService to insert the user on a background thread\r\n            executorService.submit(() -&gt; {\r\n                try {\r\n                    AppDatabase.getInstance(RegisterActivity.this).userDao().insertUser(newUser);\r\n\r\n                    // Log success\r\n                    Log.d(&quot;Registration&quot;, &quot;User registered successfully: &quot; + newUser.getEmail());\r\n\r\n                    // Store the password in SharedPreferences\r\n                    storeUserPassword(RegisterActivity.this, password);\r\n                    //storeUserPassword(RegisterActivity.this, password);\r\n\r\n                    // Show a toast message on the main thread\r\n                    mainHandler.post(() -&gt; {\r\n                        String message = &quot;Registration successful for &quot; + firstName + &quot; &quot; + lastName;\r\n                        Toast.makeText(RegisterActivity.this, message, Toast.LENGTH_SHORT).show();\r\n                    });\r\n\r\n                    // Navigate back to the login activity on the main thread\r\n                    mainHandler.post(() -&gt; onBackPressed());\r\n                } catch (Exception e) {\r\n                    // Log error\r\n                    Log.e(&quot;Registration&quot;, &quot;Error inserting user: &quot; + e.getMessage());\r\n\r\n                    // Show a toast message on the main thread\r\n                    mainHandler.post(() -&gt; Toast.makeText(RegisterActivity.this, &quot;Error during registration&quot;, Toast.LENGTH_LONG).show());\r\n                }\r\n            });\r\n        });\r\n\r\n        // Set click listener for the &quot;Back to Login&quot; link\r\n        backToLoginLinkText.setOnClickListener(v -&gt; {\r\n            // Navigate back to the login activity\r\n            onBackPressed();\r\n        });\r\n    }\r\n\r\n    private void storeUserPassword(Context context, String password) {\r\n        try {\r\n            EncryptionHelper.generateKey(context); // Generate a key (if not already generated)\r\n\r\n            // Encrypt the password using EncryptionHelper\r\n            byte[] encryptedPassword = EncryptionHelper.encryptData(context, password.getBytes());\r\n\r\n            // Store the encrypted password in SharedPreferences\r\n            if (context != null) {\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n                sharedPreferences.edit()\r\n                        .putString(&quot;encryptedPassword&quot;, Base64.encodeToString(encryptedPassword, Base64.DEFAULT))\r\n                        .putString(&quot;userPassword&quot;, password)\r\n                        .apply();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            // Handle encryption error\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // Clean up the ExecutorService when the activity is destroyed\r\n        executorService.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nPasswordAddActivity lets the user create a login to a certain website and save it in their vault. The username and password inputted gets encrypted by the encryptData(). \r\n```\r\npublic class PasswordAddActivity extends AppCompatActivity {\r\n\r\n    private EditText websiteEditText, usernameEditText, passwordEditText;\r\n    private Button saveButton, cancelButton;\r\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.password_add_activity);\r\n        int userId = getIntent().getIntExtra(&quot;userId&quot;, -1);\r\n\r\n        websiteEditText = findViewById(R.id.websiteEditText);\r\n        usernameEditText = findViewById(R.id.usernameEditText);\r\n        passwordEditText = findViewById(R.id.passwordEditText);\r\n        saveButton = findViewById(R.id.saveButton);\r\n        cancelButton = findViewById(R.id.cancelButton);\r\n\r\n        saveButton.setOnClickListener(v -&gt; {\r\n            String website = websiteEditText.getText().toString();\r\n            String username = encryptData(usernameEditText.getText().toString()); // Encrypt the username\r\n            String password = encryptData(passwordEditText.getText().toString()); // Encrypt the password\r\n\r\n            if (website.isEmpty() || username.isEmpty() || password.isEmpty()) {\r\n                Toast.makeText(PasswordAddActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            // Create a new PasswordEntry instance\r\n            PasswordEntry newPasswordEntry = new PasswordEntry(website, username, password, userId); // userId is the current user&#39;s ID\r\n\r\n            // Use ExecutorService to insert the password entry on a background thread\r\n            executorService.submit(() -&gt; {\r\n                AppDatabase.getInstance(PasswordAddActivity.this)\r\n                        .passwordEntryDao()\r\n                        .insertPasswordEntry(newPasswordEntry);\r\n\r\n                // Show a toast message on the main thread\r\n                runOnUiThread(() -&gt; {\r\n                    Toast.makeText(PasswordAddActivity.this, &quot;Password entry saved&quot;, Toast.LENGTH_SHORT).show();\r\n                    onBackPressed();\r\n                });\r\n            });\r\n        });\r\n\r\n        cancelButton.setOnClickListener(v -&gt; {\r\n            onBackPressed();\r\n        });\r\n    }\r\n\r\n    private String encryptData(String data) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n            if (!keyStore.containsAlias(&quot;password_key&quot;)) {\r\n                KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n                keyGenerator.init(new KeyGenParameterSpec.Builder(&quot;password_key&quot;, KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                        .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\r\n                        .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\r\n                        .setRandomizedEncryptionRequired(true)\r\n                        .build());\r\n                keyGenerator.generateKey();\r\n            }\r\n\r\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\r\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\r\n            byte[] encryptedData = cipher.doFinal(data.getBytes());\r\n            return Base64.encodeToString(encryptedData, Base64.DEFAULT);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // Clean up the ExecutorService when the activity is destroyed\r\n        executorService.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nThe PasswordEntry class is where the password and username is passed in and should be decrypted. \r\n```\r\n@Entity(tableName = &quot;password_entries&quot;,\r\n        foreignKeys = @ForeignKey(entity = User.class,\r\n                parentColumns = &quot;id&quot;,\r\n                childColumns = &quot;userId&quot;,\r\n                onDelete = ForeignKey.CASCADE))\r\npublic class PasswordEntry {\r\n    @PrimaryKey(autoGenerate = true)\r\n    public int id;\r\n    public int userId;\r\n    public String website;\r\n    public String username;\r\n    public String encryptedPassword; // Use the encryptedPassword field\r\n\r\n    // Use the encryptedPassword field in the constructor\r\n    public PasswordEntry(String website, String username, String encryptedPassword, int userId) {\r\n        this.userId = userId;\r\n        this.website = website;\r\n        this.username = username;\r\n        this.encryptedPassword = encryptedPassword; // Set the encrypted password\r\n    }\r\n\r\n    public String getWebsite() {\r\n        return website;\r\n    }\r\n\r\n    public void setWebsite(String website) {\r\n        this.website = website;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return decryptData(encryptedPassword); // Decrypt and return the password\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.encryptedPassword = encryptData(password); // Encrypt and set the password\r\n    }\r\n\r\n    private String encryptData(String data) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n\r\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n            KeyGenParameterSpec keyGenParameterSpec = new KeyGenParameterSpec.Builder(&quot;password_key&quot;,\r\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                    .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\r\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\r\n                    .setKeySize(256)\r\n                    .setUserAuthenticationRequired(false)\r\n                    .build();\r\n            keyGenerator.init(keyGenParameterSpec);\r\n\r\n            SecretKey secretKey = keyGenerator.generateKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\r\n            byte[] encryptedBytes = cipher.doFinal(data.getBytes());\r\n            return Base64.encodeToString(encryptedBytes, Base64.DEFAULT);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n    private String decryptData(String encryptedData) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n\r\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\r\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\r\n\r\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\r\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\r\n\r\n            return new String(decryptedBytes);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the PasswordEntryAdapter class which handles the decryption and is responsible for retrieving decrypted details and showing them in the alert dialog that shows up. \r\n\r\n```\r\npublic class PasswordEntryAdapter extends RecyclerView.Adapter&lt;PasswordEntryAdapter.ViewHolder&gt; {\r\n\r\n    private List&lt;PasswordEntry&gt; passwordEntries;\r\n    private Context context; // Add this field\r\n\r\n    public PasswordEntryAdapter(Context context, List&lt;PasswordEntry&gt; passwordEntries) {\r\n        this.context = context;\r\n        this.passwordEntries = passwordEntries;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_password_entry, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        PasswordEntry entry = passwordEntries.get(position);\r\n        holder.websiteTextView.setText(entry.getWebsite());\r\n\r\n        // Set click listener on the lock container\r\n        holder.lockContainer.setOnClickListener(v -&gt; showPasswordDetailsPopup(entry));\r\n    }\r\n\r\n    private void showPasswordDetailsPopup(PasswordEntry entry) {\r\n        // Inflate the custom dialog layout for entering the password\r\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_decrypt_details, null);\r\n\r\n        // Initialize dialog components\r\n        EditText passwordEditText = dialogView.findViewById(R.id.passwordEditText);\r\n        Button cancelButton = dialogView.findViewById(R.id.cancelButton);\r\n        Button confirmButton = dialogView.findViewById(R.id.confirmButton);\r\n\r\n        // Create and show the password entry dialog\r\n        AlertDialog passwordDialog = new AlertDialog.Builder(context)\r\n                .setView(dialogView)\r\n                .create();\r\n\r\n        // Set click listener for the confirm button\r\n        confirmButton.setOnClickListener(v -&gt; {\r\n            String enteredPassword = passwordEditText.getText().toString();\r\n            // Check if the entered password is correct\r\n            if (verifyPassword(context, enteredPassword)) {\r\n                passwordDialog.dismiss();\r\n                // Decrypt and show the login details dialog\r\n                showDecryptedPasswordDetailsDialog(entry);\r\n            } else {\r\n                Toast.makeText(context, &quot;Incorrect password&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        // Set click listener for the cancel button\r\n        cancelButton.setOnClickListener(v -&gt; passwordDialog.dismiss());\r\n\r\n        passwordDialog.show();\r\n    }\r\n\r\n    private boolean verifyPassword(Context context, String enteredPassword) {\r\n        // Retrieve the user&#39;s encrypted password and related data from SharedPreferences\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n        String encryptedPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;);\r\n        String encodedSecretKey = sharedPreferences.getString(&quot;secretKey&quot;, &quot;&quot;);\r\n        String encodedIV = sharedPreferences.getString(&quot;iv&quot;, &quot;&quot;);  // Retrieve the stored IV\r\n\r\n        try {\r\n            // Decrypt the password using EncryptionHelper\r\n            byte[] decryptedPasswordBytes = EncryptionHelper.decryptData(context, Base64.decode(encryptedPassword, Base64.DEFAULT));\r\n            String decryptedPassword = new String(decryptedPasswordBytes, StandardCharsets.UTF_8);\r\n\r\n            return enteredPassword.equals(decryptedPassword);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private void showDecryptedPasswordDetailsDialog(PasswordEntry entry) {\r\n        // Inflate your custom dialog layout for displaying decrypted username and password\r\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_details, null);\r\n\r\n        // Initialize dialog components\r\n        TextView usernameTextView = dialogView.findViewById(R.id.usernameTextView);\r\n        TextView passwordTextView = dialogView.findViewById(R.id.passwordTextView);\r\n\r\n        // Retrieve the user&#39;s password from SharedPreferences\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n        String userPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;); // Change to &quot;encryptedPassword&quot;\r\n\r\n        // Decrypt and set username and password\r\n        String decryptedUsername = decryptData(entry.getUsername(), userPassword);\r\n        String decryptedPassword = decryptData(entry.getPassword(), userPassword);\r\n        usernameTextView.setText(&quot;Username: &quot; + decryptedUsername);\r\n        passwordTextView.setText(&quot;Password: &quot; + decryptedPassword);\r\n\r\n        // Create and show the dialog\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context)\r\n                .setTitle(&quot;Password Details&quot;)\r\n                .setView(dialogView)\r\n                .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss());\r\n\r\n        AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n    }\r\n\r\n\r\n    private String decryptData(String encryptedData, String userPassword) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\r\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;); // Use AES/GCM/NoPadding\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\r\n\r\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\r\n            byte[] decryptedData = cipher.doFinal(decodedData);\r\n\r\n            return new String(decryptedData, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return passwordEntries.size();\r\n    }\r\n\r\n    static class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView websiteTextView;\r\n        LinearLayout lockContainer; // Add this field\r\n\r\n        ViewHolder(View itemView) {\r\n            super(itemView);\r\n            websiteTextView = itemView.findViewById(R.id.websiteTextView);\r\n            lockContainer = itemView.findViewById(R.id.lockContainer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the EncryptionHelper class that helps with the encryption and decryption process during the first registration so maybe it&#39;s not that relevant, but maybe ive used different encryption processes there which can interfere with the future decryption. \r\n\r\n```\r\npublic class EncryptionHelper {\r\n\r\n    private static final String KEY_ALIAS = &quot;my_secure_key_alias&quot;;\r\n\r\n    public static void generateKey(Context context) throws Exception {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(\r\n                KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n\r\n        keyGenerator.init(new KeyGenParameterSpec.Builder(\r\n                KEY_ALIAS,\r\n                KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\r\n                .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\r\n                .build());\r\n\r\n        keyGenerator.generateKey();\r\n    }\r\n\r\n    public static byte[] encryptData(Context context, byte[] data) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(context));\r\n\r\n        byte[] encryptedData = cipher.doFinal(data);\r\n        byte[] iv = cipher.getIV();\r\n\r\n        // Combine IV and encrypted data\r\n        byte[] combined = new byte[iv.length + encryptedData.length];\r\n        System.arraycopy(iv, 0, combined, 0, iv.length);\r\n        System.arraycopy(encryptedData, 0, combined, iv.length, encryptedData.length);\r\n\r\n        return combined;\r\n    }\r\n\r\n    public static byte[] decryptData(Context context, byte[] combined) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        byte[] iv = new byte[12]; // IV length for AES GCM mode\r\n\r\n        System.arraycopy(combined, 0, iv, 0, iv.length);\r\n        GCMParameterSpec ivSpec = new GCMParameterSpec(128, iv);\r\n\r\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(context), ivSpec);\r\n        return cipher.doFinal(combined, iv.length, combined.length - iv.length);\r\n    }\r\n\r\n    private static SecretKey getSecretKey(Context context) throws Exception {\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n        keyStore.load(null);\r\n        return (SecretKey) keyStore.getKey(KEY_ALIAS, null);\r\n    }\r\n}\r\n```\r\n\r\nIf you need additional information or code let me know and I&#39;ll provide it for you. ","title":"Exception &quot;Only GCMParameterSpec supported&quot; during decryption","body":"<p>Im making an app in android studio using Java which is going to be like a password vault. So the user registers, logs in and can then add login details to various websites, the details get encrypted and the user has to re-enter their main account password to decrypt the details. The problem im having is that during the decrypting process when decrypting and showing the login details, I get an exception thrown from my decryption methods that I do not know how to solve. And im guessing it's what causes the username and password field to be null since they never pass through the decryption.</p>\n<p>I'll provide all code for the classes relevant in that process.</p>\n<p>In RegisterActivity the user registers their account, details are stored in sharedpreferences for future access.</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity {\n\n    private EditText firstNameEditText, lastNameEditText, emailEditText, passwordEditText;\n    private Button registerButton;\n    private TextView backToLoginLinkText;\n\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\n    private final Handler mainHandler = new Handler(Looper.getMainLooper());\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.createaccount_activity);\n\n        // Initialize views\n        firstNameEditText = findViewById(R.id.firstNameEditText);\n        lastNameEditText = findViewById(R.id.lastNameEditText);\n        emailEditText = findViewById(R.id.emailEditText);\n        passwordEditText = findViewById(R.id.passwordEditText);\n        registerButton = findViewById(R.id.registerButton);\n        backToLoginLinkText = findViewById(R.id.loginLinkText);\n\n        // Set click listener for the &quot;Register&quot; button\n        registerButton.setOnClickListener(v -&gt; {\n            String firstName = firstNameEditText.getText().toString();\n            String lastName = lastNameEditText.getText().toString();\n            String email = emailEditText.getText().toString();\n            String password = passwordEditText.getText().toString();\n\n            if (firstName.isEmpty() || lastName.isEmpty() || email.isEmpty() || password.isEmpty()) {\n                Toast.makeText(RegisterActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            // Create a new User instance (This will integrate with the Room database)\n            User newUser = new User(firstName, lastName, email, password);\n\n            // Use ExecutorService to insert the user on a background thread\n            executorService.submit(() -&gt; {\n                try {\n                    AppDatabase.getInstance(RegisterActivity.this).userDao().insertUser(newUser);\n\n                    // Log success\n                    Log.d(&quot;Registration&quot;, &quot;User registered successfully: &quot; + newUser.getEmail());\n\n                    // Store the password in SharedPreferences\n                    storeUserPassword(RegisterActivity.this, password);\n                    //storeUserPassword(RegisterActivity.this, password);\n\n                    // Show a toast message on the main thread\n                    mainHandler.post(() -&gt; {\n                        String message = &quot;Registration successful for &quot; + firstName + &quot; &quot; + lastName;\n                        Toast.makeText(RegisterActivity.this, message, Toast.LENGTH_SHORT).show();\n                    });\n\n                    // Navigate back to the login activity on the main thread\n                    mainHandler.post(() -&gt; onBackPressed());\n                } catch (Exception e) {\n                    // Log error\n                    Log.e(&quot;Registration&quot;, &quot;Error inserting user: &quot; + e.getMessage());\n\n                    // Show a toast message on the main thread\n                    mainHandler.post(() -&gt; Toast.makeText(RegisterActivity.this, &quot;Error during registration&quot;, Toast.LENGTH_LONG).show());\n                }\n            });\n        });\n\n        // Set click listener for the &quot;Back to Login&quot; link\n        backToLoginLinkText.setOnClickListener(v -&gt; {\n            // Navigate back to the login activity\n            onBackPressed();\n        });\n    }\n\n    private void storeUserPassword(Context context, String password) {\n        try {\n            EncryptionHelper.generateKey(context); // Generate a key (if not already generated)\n\n            // Encrypt the password using EncryptionHelper\n            byte[] encryptedPassword = EncryptionHelper.encryptData(context, password.getBytes());\n\n            // Store the encrypted password in SharedPreferences\n            if (context != null) {\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n                sharedPreferences.edit()\n                        .putString(&quot;encryptedPassword&quot;, Base64.encodeToString(encryptedPassword, Base64.DEFAULT))\n                        .putString(&quot;userPassword&quot;, password)\n                        .apply();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            // Handle encryption error\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // Clean up the ExecutorService when the activity is destroyed\n        executorService.shutdown();\n    }\n}\n</code></pre>\n<p>PasswordAddActivity lets the user create a login to a certain website and save it in their vault. The username and password inputted gets encrypted by the encryptData().</p>\n<pre><code>public class PasswordAddActivity extends AppCompatActivity {\n\n    private EditText websiteEditText, usernameEditText, passwordEditText;\n    private Button saveButton, cancelButton;\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.password_add_activity);\n        int userId = getIntent().getIntExtra(&quot;userId&quot;, -1);\n\n        websiteEditText = findViewById(R.id.websiteEditText);\n        usernameEditText = findViewById(R.id.usernameEditText);\n        passwordEditText = findViewById(R.id.passwordEditText);\n        saveButton = findViewById(R.id.saveButton);\n        cancelButton = findViewById(R.id.cancelButton);\n\n        saveButton.setOnClickListener(v -&gt; {\n            String website = websiteEditText.getText().toString();\n            String username = encryptData(usernameEditText.getText().toString()); // Encrypt the username\n            String password = encryptData(passwordEditText.getText().toString()); // Encrypt the password\n\n            if (website.isEmpty() || username.isEmpty() || password.isEmpty()) {\n                Toast.makeText(PasswordAddActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            // Create a new PasswordEntry instance\n            PasswordEntry newPasswordEntry = new PasswordEntry(website, username, password, userId); // userId is the current user's ID\n\n            // Use ExecutorService to insert the password entry on a background thread\n            executorService.submit(() -&gt; {\n                AppDatabase.getInstance(PasswordAddActivity.this)\n                        .passwordEntryDao()\n                        .insertPasswordEntry(newPasswordEntry);\n\n                // Show a toast message on the main thread\n                runOnUiThread(() -&gt; {\n                    Toast.makeText(PasswordAddActivity.this, &quot;Password entry saved&quot;, Toast.LENGTH_SHORT).show();\n                    onBackPressed();\n                });\n            });\n        });\n\n        cancelButton.setOnClickListener(v -&gt; {\n            onBackPressed();\n        });\n    }\n\n    private String encryptData(String data) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n            if (!keyStore.containsAlias(&quot;password_key&quot;)) {\n                KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n                keyGenerator.init(new KeyGenParameterSpec.Builder(&quot;password_key&quot;, KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                        .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\n                        .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                        .setRandomizedEncryptionRequired(true)\n                        .build());\n                keyGenerator.generateKey();\n            }\n\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n            byte[] encryptedData = cipher.doFinal(data.getBytes());\n            return Base64.encodeToString(encryptedData, Base64.DEFAULT);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n    \n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // Clean up the ExecutorService when the activity is destroyed\n        executorService.shutdown();\n    }\n}\n</code></pre>\n<p>The PasswordEntry class is where the password and username is passed in and should be decrypted.</p>\n<pre><code>@Entity(tableName = &quot;password_entries&quot;,\n        foreignKeys = @ForeignKey(entity = User.class,\n                parentColumns = &quot;id&quot;,\n                childColumns = &quot;userId&quot;,\n                onDelete = ForeignKey.CASCADE))\npublic class PasswordEntry {\n    @PrimaryKey(autoGenerate = true)\n    public int id;\n    public int userId;\n    public String website;\n    public String username;\n    public String encryptedPassword; // Use the encryptedPassword field\n\n    // Use the encryptedPassword field in the constructor\n    public PasswordEntry(String website, String username, String encryptedPassword, int userId) {\n        this.userId = userId;\n        this.website = website;\n        this.username = username;\n        this.encryptedPassword = encryptedPassword; // Set the encrypted password\n    }\n\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return decryptData(encryptedPassword); // Decrypt and return the password\n    }\n\n    public void setPassword(String password) {\n        this.encryptedPassword = encryptData(password); // Encrypt and set the password\n    }\n\n    private String encryptData(String data) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n            KeyGenParameterSpec keyGenParameterSpec = new KeyGenParameterSpec.Builder(&quot;password_key&quot;,\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                    .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                    .setKeySize(256)\n                    .setUserAuthenticationRequired(false)\n                    .build();\n            keyGenerator.init(keyGenParameterSpec);\n\n            SecretKey secretKey = keyGenerator.generateKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n            byte[] encryptedBytes = cipher.doFinal(data.getBytes());\n            return Base64.encodeToString(encryptedBytes, Base64.DEFAULT);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n\n    private String decryptData(String encryptedData) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\n\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\n\n            return new String(decryptedBytes);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n}\n</code></pre>\n<p>This is the PasswordEntryAdapter class which handles the decryption and is responsible for retrieving decrypted details and showing them in the alert dialog that shows up.</p>\n<pre><code>public class PasswordEntryAdapter extends RecyclerView.Adapter&lt;PasswordEntryAdapter.ViewHolder&gt; {\n\n    private List&lt;PasswordEntry&gt; passwordEntries;\n    private Context context; // Add this field\n\n    public PasswordEntryAdapter(Context context, List&lt;PasswordEntry&gt; passwordEntries) {\n        this.context = context;\n        this.passwordEntries = passwordEntries;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_password_entry, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        PasswordEntry entry = passwordEntries.get(position);\n        holder.websiteTextView.setText(entry.getWebsite());\n\n        // Set click listener on the lock container\n        holder.lockContainer.setOnClickListener(v -&gt; showPasswordDetailsPopup(entry));\n    }\n\n    private void showPasswordDetailsPopup(PasswordEntry entry) {\n        // Inflate the custom dialog layout for entering the password\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_decrypt_details, null);\n\n        // Initialize dialog components\n        EditText passwordEditText = dialogView.findViewById(R.id.passwordEditText);\n        Button cancelButton = dialogView.findViewById(R.id.cancelButton);\n        Button confirmButton = dialogView.findViewById(R.id.confirmButton);\n\n        // Create and show the password entry dialog\n        AlertDialog passwordDialog = new AlertDialog.Builder(context)\n                .setView(dialogView)\n                .create();\n\n        // Set click listener for the confirm button\n        confirmButton.setOnClickListener(v -&gt; {\n            String enteredPassword = passwordEditText.getText().toString();\n            // Check if the entered password is correct\n            if (verifyPassword(context, enteredPassword)) {\n                passwordDialog.dismiss();\n                // Decrypt and show the login details dialog\n                showDecryptedPasswordDetailsDialog(entry);\n            } else {\n                Toast.makeText(context, &quot;Incorrect password&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        // Set click listener for the cancel button\n        cancelButton.setOnClickListener(v -&gt; passwordDialog.dismiss());\n\n        passwordDialog.show();\n    }\n\n    private boolean verifyPassword(Context context, String enteredPassword) {\n        // Retrieve the user's encrypted password and related data from SharedPreferences\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n        String encryptedPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;);\n        String encodedSecretKey = sharedPreferences.getString(&quot;secretKey&quot;, &quot;&quot;);\n        String encodedIV = sharedPreferences.getString(&quot;iv&quot;, &quot;&quot;);  // Retrieve the stored IV\n\n        try {\n            // Decrypt the password using EncryptionHelper\n            byte[] decryptedPasswordBytes = EncryptionHelper.decryptData(context, Base64.decode(encryptedPassword, Base64.DEFAULT));\n            String decryptedPassword = new String(decryptedPasswordBytes, StandardCharsets.UTF_8);\n\n            return enteredPassword.equals(decryptedPassword);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n\n    private void showDecryptedPasswordDetailsDialog(PasswordEntry entry) {\n        // Inflate your custom dialog layout for displaying decrypted username and password\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_details, null);\n\n        // Initialize dialog components\n        TextView usernameTextView = dialogView.findViewById(R.id.usernameTextView);\n        TextView passwordTextView = dialogView.findViewById(R.id.passwordTextView);\n\n        // Retrieve the user's password from SharedPreferences\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n        String userPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;); // Change to &quot;encryptedPassword&quot;\n\n        // Decrypt and set username and password\n        String decryptedUsername = decryptData(entry.getUsername(), userPassword);\n        String decryptedPassword = decryptData(entry.getPassword(), userPassword);\n        usernameTextView.setText(&quot;Username: &quot; + decryptedUsername);\n        passwordTextView.setText(&quot;Password: &quot; + decryptedPassword);\n\n        // Create and show the dialog\n        AlertDialog.Builder builder = new AlertDialog.Builder(context)\n                .setTitle(&quot;Password Details&quot;)\n                .setView(dialogView)\n                .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss());\n\n        AlertDialog dialog = builder.create();\n        dialog.show();\n    }\n\n\n    private String decryptData(String encryptedData, String userPassword) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;); // Use AES/GCM/NoPadding\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\n\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\n            byte[] decryptedData = cipher.doFinal(decodedData);\n\n            return new String(decryptedData, StandardCharsets.UTF_8);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return passwordEntries.size();\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n        TextView websiteTextView;\n        LinearLayout lockContainer; // Add this field\n\n        ViewHolder(View itemView) {\n            super(itemView);\n            websiteTextView = itemView.findViewById(R.id.websiteTextView);\n            lockContainer = itemView.findViewById(R.id.lockContainer);\n        }\n    }\n}\n</code></pre>\n<p>This is the EncryptionHelper class that helps with the encryption and decryption process during the first registration so maybe it's not that relevant, but maybe ive used different encryption processes there which can interfere with the future decryption.</p>\n<pre><code>public class EncryptionHelper {\n\n    private static final String KEY_ALIAS = &quot;my_secure_key_alias&quot;;\n\n    public static void generateKey(Context context) throws Exception {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(\n                KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n\n        keyGenerator.init(new KeyGenParameterSpec.Builder(\n                KEY_ALIAS,\n                KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\n                .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                .build());\n\n        keyGenerator.generateKey();\n    }\n\n    public static byte[] encryptData(Context context, byte[] data) throws Exception {\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(context));\n\n        byte[] encryptedData = cipher.doFinal(data);\n        byte[] iv = cipher.getIV();\n\n        // Combine IV and encrypted data\n        byte[] combined = new byte[iv.length + encryptedData.length];\n        System.arraycopy(iv, 0, combined, 0, iv.length);\n        System.arraycopy(encryptedData, 0, combined, iv.length, encryptedData.length);\n\n        return combined;\n    }\n\n    public static byte[] decryptData(Context context, byte[] combined) throws Exception {\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        byte[] iv = new byte[12]; // IV length for AES GCM mode\n\n        System.arraycopy(combined, 0, iv, 0, iv.length);\n        GCMParameterSpec ivSpec = new GCMParameterSpec(128, iv);\n\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(context), ivSpec);\n        return cipher.doFinal(combined, iv.length, combined.length - iv.length);\n    }\n\n    private static SecretKey getSecretKey(Context context) throws Exception {\n        KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n        keyStore.load(null);\n        return (SecretKey) keyStore.getKey(KEY_ALIAS, null);\n    }\n}\n</code></pre>\n<p>If you need additional information or code let me know and I'll provide it for you.</p>\n"},{"tags":["java","arraylist"],"answers":[{"comments":[{"owner":{"account_id":2460436,"reputation":142,"user_id":2144732,"display_name":"Trent Steele"},"score":0,"creation_date":1522843389,"post_id":15963575,"comment_id":86309033,"body_markdown":"`words.set(0, words.set(n-1, words.get(0)));`","body":"<code>words.set(0, words.set(n-1, words.get(0)));</code>"},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":1,"creation_date":1569439441,"post_id":15963575,"comment_id":102601452,"body_markdown":"@Evgeniy Dorofeev  Is there an advantage to using Collections.swap() rather than for example, userList.remove(oldPosition), userList.add(newPosition) and then NotifyItemMoved(oldPosition, newPosition)?","body":"@Evgeniy Dorofeev  Is there an advantage to using Collections.swap() rather than for example, userList.remove(oldPosition), userList.add(newPosition) and then NotifyItemMoved(oldPosition, newPosition)?"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":288,"is_accepted":false,"score":288,"last_activity_date":1365756018,"creation_date":1365743696,"answer_id":15963575,"question_id":15963549,"body_markdown":"You can use `Collections.swap(List&lt;?&gt; list, int i, int j);`\r\n","title":"Arraylist swap elements","body":"<p>You can use <code>Collections.swap(List&lt;?&gt; list, int i, int j);</code></p>\n"},{"tags":[],"owner":{"account_id":1299099,"reputation":26248,"user_id":2218452,"accept_rate":36,"display_name":"Nikhil Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1385356356,"creation_date":1365743792,"answer_id":15963597,"question_id":15963549,"body_markdown":"Use like this. Here is the online compilation of the code. Take a look http://ideone.com/MJJwtc   \r\n\r\n    public static void swap(List list,\r\n                            int i,\r\n                            int j)\r\n\r\nSwaps the elements at the specified positions in the specified list. (If the specified positions are equal, invoking this method leaves the list unchanged.)\r\n\r\nParameters:\r\n    list - The list in which to swap elements.\r\n    i - the index of one element to be swapped.\r\n    j - the index of the other element to be swapped. \r\n\r\nRead The official Docs of collection\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#swap%28java.util.List,%20int,%20int%29\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) throws java.lang.Exception       \r\n        {    \r\n            //create an ArrayList object\r\n            ArrayList words = new ArrayList();\r\n    \r\n            //Add elements to Arraylist\r\n            words.add(&quot;A&quot;);\r\n            words.add(&quot;B&quot;);\r\n            words.add(&quot;C&quot;);\r\n            words.add(&quot;D&quot;);\r\n            words.add(&quot;E&quot;);\r\n    \r\n            System.out.println(&quot;Before swaping, ArrayList contains : &quot; + words);\r\n    \r\n            /*\r\n          To swap elements of Java ArrayList use,\r\n          static void swap(List list, int firstElement, int secondElement)\r\n          method of Collections class. Where firstElement is the index of first\r\n          element to be swapped and secondElement is the index of the second element\r\n          to be swapped.\r\n         \r\n          If the specified positions are equal, list remains unchanged.\r\n         \r\n          Please note that, this method can throw IndexOutOfBoundsException if\r\n          any of the index values is not in range.        */\r\n    \r\n            Collections.swap(words, 0, words.size() - 1);\r\n    \r\n            System.out.println(&quot;After swaping, ArrayList contains : &quot; + words);    \r\n    \r\n        }\r\n    }\r\n\r\n**Oneline compilation example http://ideone.com/MJJwtc**   \r\n\r\n","title":"Arraylist swap elements","body":"<p>Use like this. Here is the online compilation of the code. Take a look <a href=\"http://ideone.com/MJJwtc\" rel=\"noreferrer\">http://ideone.com/MJJwtc</a>   </p>\n\n<pre><code>public static void swap(List list,\n                        int i,\n                        int j)\n</code></pre>\n\n<p>Swaps the elements at the specified positions in the specified list. (If the specified positions are equal, invoking this method leaves the list unchanged.)</p>\n\n<p>Parameters:\n    list - The list in which to swap elements.\n    i - the index of one element to be swapped.\n    j - the index of the other element to be swapped. </p>\n\n<p>Read The official Docs of collection</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#swap%28java.util.List,%20int,%20int%29\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#swap%28java.util.List,%20int,%20int%29</a></p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\n\nclass Main {\n    public static void main(String[] args) throws java.lang.Exception       \n    {    \n        //create an ArrayList object\n        ArrayList words = new ArrayList();\n\n        //Add elements to Arraylist\n        words.add(\"A\");\n        words.add(\"B\");\n        words.add(\"C\");\n        words.add(\"D\");\n        words.add(\"E\");\n\n        System.out.println(\"Before swaping, ArrayList contains : \" + words);\n\n        /*\n      To swap elements of Java ArrayList use,\n      static void swap(List list, int firstElement, int secondElement)\n      method of Collections class. Where firstElement is the index of first\n      element to be swapped and secondElement is the index of the second element\n      to be swapped.\n\n      If the specified positions are equal, list remains unchanged.\n\n      Please note that, this method can throw IndexOutOfBoundsException if\n      any of the index values is not in range.        */\n\n        Collections.swap(words, 0, words.size() - 1);\n\n        System.out.println(\"After swaping, ArrayList contains : \" + words);    \n\n    }\n}\n</code></pre>\n\n<p><strong>Oneline compilation example <a href=\"http://ideone.com/MJJwtc\" rel=\"noreferrer\">http://ideone.com/MJJwtc</a></strong>   </p>\n"},{"tags":[],"owner":{"account_id":339463,"reputation":11888,"user_id":668963,"accept_rate":87,"display_name":"neevek"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1365743894,"creation_date":1365743894,"answer_id":15963622,"question_id":15963549,"body_markdown":"In Java, you cannot set a value in ArrayList by assigning to it, there&#39;s a `set()` method to call:\r\n\r\n    String a = words.get(0);\r\n    words.set(0, words.get(words.size() - 1));\r\n    words.set(words.size() - 1, a)","title":"Arraylist swap elements","body":"<p>In Java, you cannot set a value in ArrayList by assigning to it, there's a <code>set()</code> method to call:</p>\n\n<pre><code>String a = words.get(0);\nwords.set(0, words.get(words.size() - 1));\nwords.set(words.size() - 1, a)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1830106,"reputation":556,"user_id":1661754,"accept_rate":0,"display_name":"radiopassive"},"score":0,"creation_date":1431583608,"post_id":24968456,"comment_id":48563853,"body_markdown":"mate! Thanks. I was searching for a way of sorting ArrayList without using the inbuilt sort. Probably, I overlooked the fact that add(index,object) method of ArrayList adds object to the index and rightshifts the object already existing in that position (if any). The list.remove(i+1) did the trick!","body":"mate! Thanks. I was searching for a way of sorting ArrayList without using the inbuilt sort. Probably, I overlooked the fact that add(index,object) method of ArrayList adds object to the index and rightshifts the object already existing in that position (if any). The list.remove(i+1) did the trick!"},{"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"score":0,"creation_date":1503804508,"post_id":24968456,"comment_id":78761609,"body_markdown":"Be careful, I used the remove() then add() method at first, but got some IndexOutOfBounds errors. The set method worked better, at least for me.","body":"Be careful, I used the remove() then add() method at first, but got some IndexOutOfBounds errors. The set method worked better, at least for me."}],"tags":[],"owner":{"account_id":4320263,"reputation":45,"user_id":3528738,"display_name":"Pankaj"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1406359032,"creation_date":1406357875,"answer_id":24968456,"question_id":15963549,"body_markdown":"\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\tif (i &lt; list.size() - 1) {\r\n\t\t\t\tif (list.get(i) &gt; list.get(i + 1)) {\r\n\t\t\t\t\tint j = list.get(i);\r\n\t\t\t\t\tlist.remove(i);\r\n\t\t\t\t\tlist.add(i, list.get(i));\r\n\t\t\t\t\tlist.remove(i + 1);\r\n\t\t\t\t\tlist.add(j);\r\n\t\t\t\t\ti = -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"Arraylist swap elements","body":"<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n        if (i &lt; list.size() - 1) {\n            if (list.get(i) &gt; list.get(i + 1)) {\n                int j = list.get(i);\n                list.remove(i);\n                list.add(i, list.get(i));\n                list.remove(i + 1);\n                list.add(j);\n                i = -1;\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2605328,"reputation":1007,"user_id":2256602,"accept_rate":0,"display_name":"qvd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163157,"favorite_count":0,"down_vote_count":2,"up_vote_count":91,"answer_count":4,"score":89,"last_activity_date":1692180681,"creation_date":1365743564,"question_id":15963549,"body_markdown":"How do I swap the the first and last elements of an `ArrayList`?\r\nI know how to swap the elements of an array: setting a temporary value to store the first element, letting the first element equal the last element, then letting the last element equal the stored first element.\r\n\r\n    int a = values[0];\r\n    int n = values.length;\r\n    values[0] = values[n-1];\r\n    values[n-1] = a;\r\n\r\nSo for an `ArrayList&lt;String&gt;` would it be like this?\r\r\n\n    String a = words.get(0);\r\n    int n = words.size();\r\n    words.get(0) = words.get(n-1);\r\n    words.get(n-1) = a\r\n","title":"Arraylist swap elements","body":"<p>How do I swap the the first and last elements of an <code>ArrayList</code>?\nI know how to swap the elements of an array: setting a temporary value to store the first element, letting the first element equal the last element, then letting the last element equal the stored first element.</p>\n\n<pre><code>int a = values[0];\nint n = values.length;\nvalues[0] = values[n-1];\nvalues[n-1] = a;\n</code></pre>\n\n<p>So for an <code>ArrayList&lt;String&gt;</code> would it be like this?</p>\n\n<pre><code>String a = words.get(0);\nint n = words.size();\nwords.get(0) = words.get(n-1);\nwords.get(n-1) = a\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692174867,"post_id":76911794,"comment_id":135586686,"body_markdown":"Why share a topic between post and comment? Multiplexing them on different partitions seems kinda hacky and not future-proof.","body":"Why share a topic between post and comment? Multiplexing them on different partitions seems kinda hacky and not future-proof."},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1692174973,"post_id":76911794,"comment_id":135586701,"body_markdown":"@Kayaman yeah it&#39;s better to separate topic for posts and comments however this is dummy project for learning purpose I&#39;m just curious if I will be able to do this or not","body":"@Kayaman yeah it&#39;s better to separate topic for posts and comments however this is dummy project for learning purpose I&#39;m just curious if I will be able to do this or not"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692175179,"post_id":76911794,"comment_id":135586741,"body_markdown":"Did you try it?","body":"Did you try it?"}],"answers":[{"tags":[],"owner":{"account_id":5221534,"reputation":314,"user_id":4174849,"display_name":"Omid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692180484,"creation_date":1692180484,"answer_id":76912562,"question_id":76911794,"body_markdown":"Yes, you can process messages from different partitions of the same topic using Kafka listeners in Spring Kafka. In your case, you have defined two Kafka listeners, each processing messages from different partitions of the same topic (KafkaTopic.POST).\r\n\r\nThe @KafkaListener annotation allows you to specify both the topic and the partitions from which you want to consume messages. Since you&#39;re using different partitions for posts and comments (KafkaPartition.POST and KafkaPartition.COMMENT), your Kafka listeners will be able to process messages concurrently from those partitions.","title":"Spring Kafka, can I have 2 message consumers with the same topic in the same class (bean)","body":"<p>Yes, you can process messages from different partitions of the same topic using Kafka listeners in Spring Kafka. In your case, you have defined two Kafka listeners, each processing messages from different partitions of the same topic (KafkaTopic.POST).</p>\n<p>The @KafkaListener annotation allows you to specify both the topic and the partitions from which you want to consume messages. Since you're using different partitions for posts and comments (KafkaPartition.POST and KafkaPartition.COMMENT), your Kafka listeners will be able to process messages concurrently from those partitions.</p>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692180484,"creation_date":1692174515,"question_id":76911794,"body_markdown":"I&#39;m implementing social media platform for learning purpose. So basically I have Posts and Comments entities. I want to use the same topic `KafkaTopic.POST` but difference partition `KafkaPartition.POST, KafkaPartition.COMMENT`. I wonder if it will be able to process 2 messages `POST` and `COMMENT` at the same time or not when defining it in the same bean?\r\n\r\n\r\n    @Component\r\n    public class PostListener {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(PostListener.class);\r\n        private final PostService postService;\r\n    \r\n        private final CommentService commentService;\r\n    \r\n        public PostListener(PostService postService, CommentService commentService) {\r\n            this.postService = postService;\r\n            this.commentService = commentService;\r\n        }\r\n    \r\n        @KafkaListener(topics = KafkaTopic.POST,\r\n                         groupId = KafkaGroup.POST_GROUP,\r\n                         topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.POST })})\r\n        public void on(@Payload PostPayload payload,\r\n                       @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\r\n\r\n            postService.createPost(payload.getSenderId(), payload.getContent(), timestamp)\r\n                       .subscribe();\r\n        }\r\n    \r\n        @KafkaListener(topics = KafkaTopic.POST,\r\n                         groupId = KafkaGroup.POST_GROUP,\r\n                         topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.COMMENT })})\r\n        public void on(@Payload CommentPayload payload,\r\n                       @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\r\n\r\n            commentService.createComment(payload.getPostId(), payload.getSenderId(), payload.getContent(), timestamp)\r\n                          .subscribe();\r\n        }\r\n    }\r\n\r\n","title":"Spring Kafka, can I have 2 message consumers with the same topic in the same class (bean)","body":"<p>I'm implementing social media platform for learning purpose. So basically I have Posts and Comments entities. I want to use the same topic <code>KafkaTopic.POST</code> but difference partition <code>KafkaPartition.POST, KafkaPartition.COMMENT</code>. I wonder if it will be able to process 2 messages <code>POST</code> and <code>COMMENT</code> at the same time or not when defining it in the same bean?</p>\n<pre><code>@Component\npublic class PostListener {\n\n    private static final Logger logger = LoggerFactory.getLogger(PostListener.class);\n    private final PostService postService;\n\n    private final CommentService commentService;\n\n    public PostListener(PostService postService, CommentService commentService) {\n        this.postService = postService;\n        this.commentService = commentService;\n    }\n\n    @KafkaListener(topics = KafkaTopic.POST,\n                     groupId = KafkaGroup.POST_GROUP,\n                     topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.POST })})\n    public void on(@Payload PostPayload payload,\n                   @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\n\n        postService.createPost(payload.getSenderId(), payload.getContent(), timestamp)\n                   .subscribe();\n    }\n\n    @KafkaListener(topics = KafkaTopic.POST,\n                     groupId = KafkaGroup.POST_GROUP,\n                     topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.COMMENT })})\n    public void on(@Payload CommentPayload payload,\n                   @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\n\n        commentService.createComment(payload.getPostId(), payload.getSenderId(), payload.getContent(), timestamp)\n                      .subscribe();\n    }\n}\n</code></pre>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":2,"creation_date":1689246141,"post_id":76678562,"comment_id":135187629,"body_markdown":"Are there any additional constraints, such as the array (except for the -1) being sorted in ascending/descending order? Otherwise it is impossible to get better than a linear search: You *have* to look at every position in the array to tell where the -1 is.","body":"Are there any additional constraints, such as the array (except for the -1) being sorted in ascending/descending order? Otherwise it is impossible to get better than a linear search: You <i>have</i> to look at every position in the array to tell where the -1 is."},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1689246261,"post_id":76678562,"comment_id":135187661,"body_markdown":"@Luatic there is no specific  ordering of elements","body":"@Luatic there is no specific  ordering of elements"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1689247543,"post_id":76678562,"comment_id":135187952,"body_markdown":"Unclear. Do you mean that the array contains exactly 1000000 elements, with one each of every value from 1 to 1000000?","body":"Unclear. Do you mean that the array contains exactly 1000000 elements, with one each of every value from 1 to 1000000?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689288754,"post_id":76678562,"comment_id":135196333,"body_markdown":"By the way, if there is a web page that states the original problem, it would be a good idea to edit the question to include a link to that page.  Questions like this might be on programming practice / challenge sites, such as LeetCode, CodeSignal, HackerRank, ...","body":"By the way, if there is a web page that states the original problem, it would be a good idea to edit the question to include a link to that page.  Questions like this might be on programming practice / challenge sites, such as LeetCode, CodeSignal, HackerRank, ..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689294093,"post_id":76678562,"comment_id":135196784,"body_markdown":"@OldDogProgrammer No, it would be good practice to *quote the web page here.*","body":"@OldDogProgrammer No, it would be good practice to <i>quote the web page here.</i>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1689296830,"post_id":76678562,"comment_id":135196989,"body_markdown":"@user207421 I didn&#39;t intend to mean &quot;either or&quot;. I think *both* is a good idea.","body":"@user207421 I didn&#39;t intend to mean &quot;either or&quot;. I think <i>both</i> is a good idea."}],"answers":[{"comments":[{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1689246897,"post_id":76678673,"comment_id":135187821,"body_markdown":"Agree this is one of the best possible ways. Just curious is there any other way to identify such differences when the data set is large?","body":"Agree this is one of the best possible ways. Just curious is there any other way to identify such differences when the data set is large?"},{"owner":{"account_id":27349436,"reputation":156,"user_id":20858835,"display_name":"ECHU"},"score":1,"creation_date":1689247421,"post_id":76678673,"comment_id":135187930,"body_markdown":"You can divide dataset in small packages and calculate for them sum of their elements  asynchronously and on every thread end subtract partial sum from base sum of an arithmetic sequence -&gt; this is the same answer, but I want to pointed out You can easily use it asynchronously.\nI do not know any better (and dont think there is any better which is also that simply) - maybe if only time is important some dynamic trick with memory usage can do thing faster","body":"You can divide dataset in small packages and calculate for them sum of their elements  asynchronously and on every thread end subtract partial sum from base sum of an arithmetic sequence -&gt; this is the same answer, but I want to pointed out You can easily use it asynchronously. I do not know any better (and dont think there is any better which is also that simply) - maybe if only time is important some dynamic trick with memory usage can do thing faster"},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":1,"creation_date":1689249875,"post_id":76678673,"comment_id":135188448,"body_markdown":"How is this better than a linear search? It just seems more complex to me.","body":"How is this better than a linear search? It just seems more complex to me."},{"owner":{"account_id":26879596,"reputation":1092,"user_id":20460267,"display_name":"Simon Goater"},"score":3,"creation_date":1689254318,"post_id":76678673,"comment_id":135189495,"body_markdown":"@Luatic Linear search only gives you the position of the -1, not the value it replaced. I misunderstood the question too. If the array is randomly shuffled values from 1 to n and 1 &lt;= x &lt;=n is replaced by -1, then x = (n(n+1)/2) - arraysum - 1.","body":"@Luatic Linear search only gives you the position of the -1, not the value it replaced. I misunderstood the question too. If the array is randomly shuffled values from 1 to n and 1 &lt;= x &lt;=n is replaced by -1, then x = (n(n+1)/2) - arraysum - 1."},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1689327422,"post_id":76678673,"comment_id":135200902,"body_markdown":"@SimonGoater ah, thanks for clarifying that. In that case, this is indeed the way to go.","body":"@SimonGoater ah, thanks for clarifying that. In that case, this is indeed the way to go."}],"tags":[],"owner":{"account_id":27349436,"reputation":156,"user_id":20858835,"display_name":"ECHU"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689246391,"creation_date":1689246391,"answer_id":76678673,"question_id":76678562,"body_markdown":"I assume that array is not sorted.\r\n\r\nYou can calculate the sum of an arithmetic sequence and in one loop subtract every element from this sum.\r\n\r\nAnswer is value of sum variable-1 (because we subtract -1 from array somewhere)","title":"Quickest way to find the replaced number","body":"<p>I assume that array is not sorted.</p>\n<p>You can calculate the sum of an arithmetic sequence and in one loop subtract every element from this sum.</p>\n<p>Answer is value of sum variable-1 (because we subtract -1 from array somewhere)</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689261186,"creation_date":1689261186,"answer_id":76680958,"question_id":76678562,"body_markdown":"Try it like this.\r\n- populate the numbers in a list.\r\n- shuffle them (to make the choice random).\r\n- replace any index with -1 (returning the original value)\r\n- Now compute the sum of numbers from 1 to 1,000,000 inclusive.\r\n- then iterate thru the list, subtracting each number in the list from that sum.\r\n- then correct the subtraction of `-1` by adding `1` to the sum\r\n- sum now contains the replaced number\r\n```\r\nint n = 1_000_000;\r\nList&lt;Integer&gt; list = IntStream.rangeClosed(1, n).boxed()\r\n        .collect(Collectors.toCollection(ArrayList::new));\r\n\r\nCollections.shuffle(list);\r\n\r\nint index = 132939; // select a value between 1 and 1,000,000 inclusive\r\n\r\nint originalValue = list.set(index, -1);\r\nlong sum = ((long)n*(n+1))/2L;\r\n\r\nfor (int i = 0; i &lt; list.size();i++) {\r\n      sum -= list.get(i);\r\n}\r\n\r\nSystem.out.println(sum - 1);\r\nSystem.out.println(originalValue);\r\n```\r\nprints\r\n```\r\n351316\r\n351316\r\n        ","title":"Quickest way to find the replaced number","body":"<p>Try it like this.</p>\n<ul>\n<li>populate the numbers in a list.</li>\n<li>shuffle them (to make the choice random).</li>\n<li>replace any index with -1 (returning the original value)</li>\n<li>Now compute the sum of numbers from 1 to 1,000,000 inclusive.</li>\n<li>then iterate thru the list, subtracting each number in the list from that sum.</li>\n<li>then correct the subtraction of <code>-1</code> by adding <code>1</code> to the sum</li>\n<li>sum now contains the replaced number</li>\n</ul>\n<pre><code>int n = 1_000_000;\nList&lt;Integer&gt; list = IntStream.rangeClosed(1, n).boxed()\n        .collect(Collectors.toCollection(ArrayList::new));\n\nCollections.shuffle(list);\n\nint index = 132939; // select a value between 1 and 1,000,000 inclusive\n\nint originalValue = list.set(index, -1);\nlong sum = ((long)n*(n+1))/2L;\n\nfor (int i = 0; i &lt; list.size();i++) {\n      sum -= list.get(i);\n}\n\nSystem.out.println(sum - 1);\nSystem.out.println(originalValue);\n</code></pre>\n<p>prints</p>\n<pre><code>351316\n351316\n        \n</code></pre>\n"}],"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1692180244,"creation_date":1689245583,"question_id":76678562,"body_markdown":"Let&#39;s say we have an Integer array with values from 1 to 1000000. Suppose a single number is replaced with &#39;-1&#39;. What is the quickest way to find the number that is replaced? Is there a better way apart from the normal looping/searching linearly? \r\n\r\nPlease note the size of the array can be anything, the above is just an example to consider data of large size. Consider the array size as &quot;N&quot; containing the values from 1 to N.","title":"Quickest way to find the replaced number","body":"<p>Let's say we have an Integer array with values from 1 to 1000000. Suppose a single number is replaced with '-1'. What is the quickest way to find the number that is replaced? Is there a better way apart from the normal looping/searching linearly?</p>\n<p>Please note the size of the array can be anything, the above is just an example to consider data of large size. Consider the array size as &quot;N&quot; containing the values from 1 to N.</p>\n"},{"tags":["java","java-time","fabric8","zoneddatetime","fabric8-maven-plugin"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1691480332,"post_id":76857285,"comment_id":135493551,"body_markdown":"A zone is more than just an offset, so you may want to switch to `java.time.OffsetDateTime`.","body":"A zone is more than just an offset, so you may want to switch to <code>java.time.OffsetDateTime</code>."},{"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"score":0,"creation_date":1691481695,"post_id":76857285,"comment_id":135493834,"body_markdown":"How do I do that? The Java code is autogenerated.","body":"How do I do that? The Java code is autogenerated."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1691484099,"post_id":76857285,"comment_id":135494352,"body_markdown":"That&#39;s a good question, I have no idea… Hopefully, it is in the docs of fabric8.","body":"That&#39;s a good question, I have no idea… Hopefully, it is in the docs of fabric8."},{"owner":{"account_id":979180,"reputation":2939,"user_id":999375,"display_name":"Marc Nuri"},"score":1,"creation_date":1691587029,"post_id":76857285,"comment_id":135511619,"body_markdown":"This is not supported at the moment, the field format is hard-coded.\nhttps://github.com/fabric8io/kubernetes-client/blob/a7c630bbd368a976d6b0e72287dcf4f7348c54bd/java-generator/core/src/main/java/io/fabric8/java/generator/nodes/JObject.java#L221","body":"This is not supported at the moment, the field format is hard-coded. <a href=\"https://github.com/fabric8io/kubernetes-client/blob/a7c630bbd368a976d6b0e72287dcf4f7348c54bd/java-generator/core/src/main/java/io/fabric8/java/generator/nodes/JObject.java#L221\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/blob/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"score":0,"creation_date":1691592680,"post_id":76868397,"comment_id":135513012,"body_markdown":"The date I mentioned in the question(2023-08-07T06:43:19+00:00) seems to fit the RFC 3339 standard: https://utcc.utoronto.ca/~cks/space/blog/unix/GNUDateAndRFC3339#:~:text=RFC%203339%20is%20an%20RFC,some%20Prometheus%20tools%20use%20it.\nThe project emitting the date format is in another language and out of my hand. Changing the field type to string is not ideal, as I would like to stick to the original CRD yaml.","body":"The date I mentioned in the question(2023-08-07T06:43:19+00:00) seems to fit the RFC 3339 standard: <a href=\"https://utcc.utoronto.ca/~cks/space/blog/unix/GNUDateAndRFC3339#:~:text=RFC%203339%20is%20an%20RFC,some%20Prometheus%20tools%20use%20it\" rel=\"nofollow noreferrer\">utcc.utoronto.ca/~cks/space/blog/unix/&hellip;</a>. The project emitting the date format is in another language and out of my hand. Changing the field type to string is not ideal, as I would like to stick to the original CRD yaml."},{"owner":{"account_id":10732353,"reputation":106,"user_id":7898052,"display_name":"andreaTP"},"score":0,"creation_date":1691662857,"post_id":76868397,"comment_id":135523069,"body_markdown":"Sadly the proposed date doesn&#39;t conform to the specification, it should be something like: `2023-08-07T06:42:19Z` ( [reference](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6) ).\n\nI&#39;m afraid this is a bug in the project producing it ... if it&#39;s open-source we can file an issue, if not, please report it somehow.\n\nYou can automate the workaround with something like `kustomize`, but I&#39;m not sure how to help any further ...","body":"Sadly the proposed date doesn&#39;t conform to the specification, it should be something like: <code>2023-08-07T06:42:19Z</code> ( <a href=\"https://datatracker.ietf.org/doc/html/rfc3339#section-5.6\" rel=\"nofollow noreferrer\">reference</a> ).  I&#39;m afraid this is a bug in the project producing it ... if it&#39;s open-source we can file an issue, if not, please report it somehow.  You can automate the workaround with something like <code>kustomize</code>, but I&#39;m not sure how to help any further ..."},{"owner":{"account_id":10732353,"reputation":106,"user_id":7898052,"display_name":"andreaTP"},"score":0,"creation_date":1691745812,"post_id":76868397,"comment_id":135536307,"body_markdown":"I step back :-)\nI&#39;m reading again the specification and using the time offset is indeed allowed by the spec.\nLet&#39;s follow up on this upstream issue: https://github.com/fabric8io/kubernetes-client/issues/5382\nWe will ship a fix soon, thanks for reporting.","body":"I step back :-) I&#39;m reading again the specification and using the time offset is indeed allowed by the spec. Let&#39;s follow up on this upstream issue: <a href=\"https://github.com/fabric8io/kubernetes-client/issues/5382\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/issues/5382</a> We will ship a fix soon, thanks for reporting."},{"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"score":0,"creation_date":1691751513,"post_id":76868397,"comment_id":135537360,"body_markdown":"Thanks. For now, I&#39;ll just comment out the format.","body":"Thanks. For now, I&#39;ll just comment out the format."},{"owner":{"account_id":10732353,"reputation":106,"user_id":7898052,"display_name":"andreaTP"},"score":0,"creation_date":1691758877,"post_id":76868397,"comment_id":135538877,"body_markdown":"I provided the relevant fix [here](https://github.com/fabric8io/kubernetes-client/pull/5384), feel free to review the changes.","body":"I provided the relevant fix <a href=\"https://github.com/fabric8io/kubernetes-client/pull/5384\" rel=\"nofollow noreferrer\">here</a>, feel free to review the changes."}],"tags":[],"owner":{"account_id":10732353,"reputation":106,"user_id":7898052,"display_name":"andreaTP"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691588819,"creation_date":1691588819,"answer_id":76868397,"question_id":76857285,"body_markdown":"This is not possible at the moment in the fabric8 java-generator.\r\nA date-time field should be RFC 3339 according to the [OpenAPI spec](https://swagger.io/docs/specification/data-models/data-types/).\r\n\r\nWould you mind elaborating on the use-case/project that is emitting the incorrect date format?\r\n\r\nAnyhow, the viable workaround would be to comment out `format: date-time` in the CRD before the generation, so that you can receive a `String`.\r\n\r\nNote on the version:\r\nI do believe that you are using java-generator with version &gt; 6.8 as native support for date-time has only been [recently released](https://github.com/fabric8io/kubernetes-client/releases/tag/v6.8.0).","title":"How to add a custom serializer/format for Java zoneddatetime with fabric8 maven plugin?","body":"<p>This is not possible at the moment in the fabric8 java-generator.\nA date-time field should be RFC 3339 according to the <a href=\"https://swagger.io/docs/specification/data-models/data-types/\" rel=\"nofollow noreferrer\">OpenAPI spec</a>.</p>\n<p>Would you mind elaborating on the use-case/project that is emitting the incorrect date format?</p>\n<p>Anyhow, the viable workaround would be to comment out <code>format: date-time</code> in the CRD before the generation, so that you can receive a <code>String</code>.</p>\n<p>Note on the version:\nI do believe that you are using java-generator with version &gt; 6.8 as native support for date-time has only been <a href=\"https://github.com/fabric8io/kubernetes-client/releases/tag/v6.8.0\" rel=\"nofollow noreferrer\">recently released</a>.</p>\n"},{"tags":[],"owner":{"account_id":10732353,"reputation":106,"user_id":7898052,"display_name":"andreaTP"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692179786,"creation_date":1692179786,"answer_id":76912483,"question_id":76857285,"body_markdown":"Version 6.8.1 of the fabric8 java-generator has been released and includes the relevant fix for this issue.","title":"How to add a custom serializer/format for Java zoneddatetime with fabric8 maven plugin?","body":"<p>Version 6.8.1 of the fabric8 java-generator has been released and includes the relevant fix for this issue.</p>\n"}],"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76912483,"answer_count":2,"score":0,"last_activity_date":1692179786,"creation_date":1691479422,"question_id":76857285,"body_markdown":"I am using fabric8 maven plugin to autogenerate Java classes for a CRD from it&#39;s yaml file. One of the fields is:\r\n\r\n    updated_time:\r\n      format: date-time\r\n      type: string\r\n\r\nIt&#39;s getting converted to a `java.time.zoneddatetime` field:\r\n\r\n    @com.fasterxml.jackson.annotation.JsonFormat(timezone = &quot;UTC&quot;, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;)\r\n    private java.time.ZonedDateTime updated_time;\r\n\r\nI want to change the pattern above to `yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX` , a timestamp with offset, so it can parse timestamps like  `2023-08-07T06:43:19+00:00`.\r\nHow can I achieve this? On java-generator-maven-plugin v6.2.0, open to upgrade.","title":"How to add a custom serializer/format for Java zoneddatetime with fabric8 maven plugin?","body":"<p>I am using fabric8 maven plugin to autogenerate Java classes for a CRD from it's yaml file. One of the fields is:</p>\n<pre><code>updated_time:\n  format: date-time\n  type: string\n</code></pre>\n<p>It's getting converted to a <code>java.time.zoneddatetime</code> field:</p>\n<pre><code>@com.fasterxml.jackson.annotation.JsonFormat(timezone = &quot;UTC&quot;, pattern = &quot;yyyy-MM-dd'T'HH:mm:ssX&quot;)\nprivate java.time.ZonedDateTime updated_time;\n</code></pre>\n<p>I want to change the pattern above to <code>yyyy-MM-dd'T'HH:mm:ssXXX</code> , a timestamp with offset, so it can parse timestamps like  <code>2023-08-07T06:43:19+00:00</code>.\nHow can I achieve this? On java-generator-maven-plugin v6.2.0, open to upgrade.</p>\n"},{"tags":["java","reactjs","react-native","debugging","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":24258537,"reputation":806,"user_id":18208472,"display_name":"Z Hu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692179038,"creation_date":1692179038,"answer_id":76912387,"question_id":76912243,"body_markdown":"&quot;Could not install the app on the device.&quot; It&#39;s clear that the Android environment hasn&#39;t been set up correctly. Refer to this [guide][1]\r\n\r\n\r\n  [1]: https://reactnative.dev/docs/environment-setup?guide=native","title":"I have a problem with my react native application. When I try to run my application, this message pops up:","body":"<p>&quot;Could not install the app on the device.&quot; It's clear that the Android environment hasn't been set up correctly. Refer to this <a href=\"https://reactnative.dev/docs/environment-setup?guide=native\" rel=\"nofollow noreferrer\">guide</a></p>\n"}],"owner":{"account_id":29235696,"reputation":11,"user_id":22398380,"display_name":"Jarvin78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692179038,"creation_date":1692178039,"question_id":76912243,"body_markdown":"[enter image description here](https://i.stack.imgur.com/AkULZ.png)\r\n\r\n\r\nI tried add into android studio setings&gt;build, execution, deployment&gt;compiler few opction into gradle, like &quot;--stacktrace or --debug&quot; but that dont work. Give me a few solutions what i can do with this problem.                                  ","title":"I have a problem with my react native application. When I try to run my application, this message pops up:","body":"<p><a href=\"https://i.stack.imgur.com/AkULZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried add into android studio setings&gt;build, execution, deployment&gt;compiler few opction into gradle, like &quot;--stacktrace or --debug&quot; but that dont work. Give me a few solutions what i can do with this problem.</p>\n"},{"tags":["java","cucumber","testng","allure","qaf"],"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692178957,"creation_date":1692178688,"question_id":76912344,"body_markdown":"Allure Report not generating in QAF framework (testng). I have configured the below config in pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\r\n    &lt;version&gt;2.23.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso added below config inside &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\r\n\r\n```\r\n&lt;allure.results.directory&gt;${project.basedir}/allure-results&lt;/allure.results.directory&gt;\r\n```\r\n\r\nNote: I do understand QAF provides inbuilt reporting, but we require this framework to be integrated to Allure.\r\n\r\nExpecting Allure reports (json) to be generated.\r\n\r\nNote: I&#39;m using QAF 4.0.0-RC1\r\n","title":"QAF Allure Report not generating","body":"<p>Allure Report not generating in QAF framework (testng). I have configured the below config in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n    &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\n    &lt;version&gt;2.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also added below config inside maven-surefire-plugin</p>\n<pre><code>&lt;allure.results.directory&gt;${project.basedir}/allure-results&lt;/allure.results.directory&gt;\n</code></pre>\n<p>Note: I do understand QAF provides inbuilt reporting, but we require this framework to be integrated to Allure.</p>\n<p>Expecting Allure reports (json) to be generated.</p>\n<p>Note: I'm using QAF 4.0.0-RC1</p>\n"},{"tags":["java","windows","maven"],"answers":[{"comments":[{"owner":{"display_name":"user22211327"},"score":0,"creation_date":1690445593,"post_id":76679521,"comment_id":135355705,"body_markdown":"Thank you for your answer it&#39;s very kind of you however it doesn&#39;t seem to fix my problem :/","body":"Thank you for your answer it&#39;s very kind of you however it doesn&#39;t seem to fix my problem :/"}],"tags":[],"owner":{"account_id":2039154,"reputation":702,"user_id":1820778,"display_name":"Pedro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689252169,"creation_date":1689252169,"answer_id":76679521,"question_id":76664571,"body_markdown":"The environment variable MAVEN_HOME was applicable only in maven 1 [(further information here)][1].  Just define the PATH to the maven binary without using it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17137183/1820778","title":"mvn commands always get java error with &#39; &#39; not recognized as an internal or external command","body":"<p>The environment variable MAVEN_HOME was applicable only in maven 1 <a href=\"https://stackoverflow.com/a/17137183/1820778\">(further information here)</a>.  Just define the PATH to the maven binary without using it.</p>\n"},{"tags":[],"owner":{"display_name":"user22211327"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692178861,"creation_date":1692178803,"answer_id":76912359,"question_id":76664571,"body_markdown":"Okay so I&#39;m very dumb but I finally understood what was the problem :\r\n\r\nI&#39;m using MAVEN_OPTS environnement variable to set a local proxy in maven but this variable wasn&#39;t correctly set.\r\n\r\nIt contained -Djdk.http.auth.tunneling.disabledSchemes=&#39;&#39;&quot;\r\nwhere it should have been \r\n-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\r\nor\r\n-Djdk.http.auth.tunneling.disabledSchemes=&#39;&#39;\r\n\r\nFixing this made the error disappeared.","title":"mvn commands always get java error with &#39; &#39; not recognized as an internal or external command","body":"<p>Okay so I'm very dumb but I finally understood what was the problem :</p>\n<p>I'm using MAVEN_OPTS environnement variable to set a local proxy in maven but this variable wasn't correctly set.</p>\n<p>It contained -Djdk.http.auth.tunneling.disabledSchemes=''&quot;\nwhere it should have been\n-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\nor\n-Djdk.http.auth.tunneling.disabledSchemes=''</p>\n<p>Fixing this made the error disappeared.</p>\n"}],"owner":{"display_name":"user22211327"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76912359,"answer_count":2,"score":0,"last_activity_date":1692178861,"creation_date":1689097761,"question_id":76664571,"body_markdown":"# The problem\r\nHello, I have maven and Java installed at the specified path and my env fully set up like so: \r\n[environment variables][1]\r\n\r\nWith my path being : \r\n[path][2]\r\n\r\njava -version runs perfectly but I constently get this error when typing any mvn command : \r\n```\r\nc:\\Program Files\\Java&gt;mvn -version\r\nUsage: java [options] &lt;mainclass&gt; [args...]\r\n           (to execute a class)\r\n   or  java [options] -jar &lt;jarfile&gt; [args...]\r\n           (to execute a jar file)\r\n   or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n       java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n           (to execute the main class in a module)\r\n   or  java [options] &lt;sourcefile&gt; [args]\r\n           (to execute a single source-file program)\r\n\r\n Arguments following the main class, source file, -jar &lt;jarfile&gt;,\r\n -m or --module &lt;module&gt;/&lt;mainclass&gt; are passed as the arguments to\r\n main class.\r\n\r\n where options include:\r\n\r\n    -cp &lt;class search path of directories and zip/jar files&gt;\r\n    -classpath &lt;class search path of directories and zip/jar files&gt;\r\n    --class-path &lt;class search path of directories and zip/jar files&gt;\r\n                  A ; separated list of directories, JAR archives,\r\n                  and ZIP archives to search for class files.\r\n    -p &lt;module path&gt;\r\n    --module-path &lt;module path&gt;...\r\n                  A ; separated list of directories, each directory\r\n                  is a directory of modules.\r\n    --upgrade-module-path &lt;module path&gt;...\r\n                  A ; separated list of directories, each directory\r\n                  is a directory of modules that replace upgradeable\r\n                  modules in the runtime image\r\n    --add-modules &lt;module name&gt;[,&lt;module name&gt;...]\r\n                  root modules to resolve in addition to the initial module.\r\n                  &lt;module name&gt; can also be ALL-DEFAULT, ALL-SYSTEM,\r\n                  ALL-MODULE-PATH.\r\n    --enable-native-access &lt;module name&gt;[,&lt;module name&gt;...]\r\n                  modules that are permitted to perform restricted native operations.\r\n                  &lt;module name&gt; can also be ALL-UNNAMED.\r\n    --list-modules\r\n                  list observable modules and exit\r\n    -d &lt;module name&gt;\r\n    --describe-module &lt;module name&gt;\r\n                  describe a module and exit\r\n    --dry-run     create VM and load main class but do not execute main method.\r\n                  The --dry-run option may be useful for validating the\r\n                  command-line options such as the module system configuration.\r\n    --validate-modules\r\n                  validate all modules and exit\r\n                  The --validate-modules option may be useful for finding\r\n                  conflicts and other errors with modules on the module path.\r\n    -D&lt;name&gt;=&lt;value&gt;\r\n                  set a system property\r\n    -verbose:[class|module|gc|jni]\r\n                  enable verbose output for the given subsystem\r\n    -version      print product version to the error stream and exit\r\n    --version     print product version to the output stream and exit\r\n    -showversion  print product version to the error stream and continue\r\n    --show-version\r\n                  print product version to the output stream and continue\r\n    --show-module-resolution\r\n                  show module resolution output during startup\r\n    -? -h -help\r\n                  print this help message to the error stream\r\n    --help        print this help message to the output stream\r\n    -X            print help on extra options to the error stream\r\n    --help-extra  print help on extra options to the output stream\r\n    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                  enable assertions with specified granularity\r\n    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                  disable assertions with specified granularity\r\n    -esa | -enablesystemassertions\r\n                  enable system assertions\r\n    -dsa | -disablesystemassertions\r\n                  disable system assertions\r\n    -agentlib:&lt;libname&gt;[=&lt;options&gt;]\r\n                  load native agent library &lt;libname&gt;, e.g. -agentlib:jdwp\r\n                  see also -agentlib:jdwp=help\r\n    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\r\n                  load native agent library by full pathname\r\n    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\r\n                  load Java programming language agent, see java.lang.instrument\r\n    -splash:&lt;imagepath&gt;\r\n                  show splash screen with specified image\r\n                  HiDPI scaled images are automatically supported and used\r\n                  if available. The unscaled image filename, e.g. image.ext,\r\n                  should always be passed as the argument to the -splash option.\r\n                  The most appropriate scaled image provided will be picked up\r\n                  automatically.\r\n                  See the SplashScreen API documentation for more information\r\n    @argument files\r\n                  one or more argument files containing options\r\n    -disable-@files\r\n                  prevent further argument file expansion\r\n    --enable-preview\r\n                  allow classes to depend on preview features of this release\r\nTo specify an argument for a long option, you can use --&lt;name&gt;=&lt;value&gt; or\r\n--&lt;name&gt; &lt;value&gt;.\r\n\r\n&#39; &#39; n’est pas reconnu en tant que commande interne\r\nou externe, un programme ex&#233;cutable ou un fichier de commandes.\r\n\r\nc:\\Program Files\\Java&gt;java -version\r\njava version &quot;17.0.7&quot; 2023-04-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.7+8-LTS-224, mixed mode, sharing) \r\n```\r\n\r\n# What I tried \r\n\r\nI already tried changing java version, maven version, put java in a no-white-space path folder, I have installed maven at least 100 times by now and the same error persists. \r\n\r\nWith the same configuration in git bash I don&#39;t have any problem but it doesn&#39;t work in windows command prompt. \r\n[mvn -version result in git bash][6]\r\n\r\nTrying launching the command directly from C:\\Dev\\Programmes\\apache-maven-3.8.8\\bin got the same results such as \r\n```\r\n%maven_home%\\bin\\mvn -version\r\n```\r\n\r\nThe same configuration works perfectly fine on my other computer.\r\n\r\nYou should also notice that **if maven wasn&#39;t correctly set it would probably give me the classic &quot;&#39;mvn&#39; is not recognized&quot;, where I actually get &quot;&#39; &#39; is not recognized&quot;** which is really weird.\r\n\r\nI really don&#39;t understand what is happening, but I really need to make it work in the windows cmd, and this just upset me so much, does anyone has a clue please ? :( \r\n\r\n  [1]: https://i.stack.imgur.com/g9nPI.png\r\n  [2]: https://i.stack.imgur.com/KWlef.png\r\n  [3]: https://i.stack.imgur.com/LxJqU.png\r\n  [4]: https://i.stack.imgur.com/SfcVj.png\r\n  [5]: https://i.stack.imgur.com/tXUk9.png\r\n  [6]: https://i.stack.imgur.com/bkqaQ.png","title":"mvn commands always get java error with &#39; &#39; not recognized as an internal or external command","body":"<h1>The problem</h1>\n<p>Hello, I have maven and Java installed at the specified path and my env fully set up like so:\n<a href=\"https://i.stack.imgur.com/g9nPI.png\" rel=\"nofollow noreferrer\">environment variables</a></p>\n<p>With my path being :\n<a href=\"https://i.stack.imgur.com/KWlef.png\" rel=\"nofollow noreferrer\">path</a></p>\n<p>java -version runs perfectly but I constently get this error when typing any mvn command :</p>\n<pre><code>c:\\Program Files\\Java&gt;mvn -version\nUsage: java [options] &lt;mainclass&gt; [args...]\n           (to execute a class)\n   or  java [options] -jar &lt;jarfile&gt; [args...]\n           (to execute a jar file)\n   or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n       java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n           (to execute the main class in a module)\n   or  java [options] &lt;sourcefile&gt; [args]\n           (to execute a single source-file program)\n\n Arguments following the main class, source file, -jar &lt;jarfile&gt;,\n -m or --module &lt;module&gt;/&lt;mainclass&gt; are passed as the arguments to\n main class.\n\n where options include:\n\n    -cp &lt;class search path of directories and zip/jar files&gt;\n    -classpath &lt;class search path of directories and zip/jar files&gt;\n    --class-path &lt;class search path of directories and zip/jar files&gt;\n                  A ; separated list of directories, JAR archives,\n                  and ZIP archives to search for class files.\n    -p &lt;module path&gt;\n    --module-path &lt;module path&gt;...\n                  A ; separated list of directories, each directory\n                  is a directory of modules.\n    --upgrade-module-path &lt;module path&gt;...\n                  A ; separated list of directories, each directory\n                  is a directory of modules that replace upgradeable\n                  modules in the runtime image\n    --add-modules &lt;module name&gt;[,&lt;module name&gt;...]\n                  root modules to resolve in addition to the initial module.\n                  &lt;module name&gt; can also be ALL-DEFAULT, ALL-SYSTEM,\n                  ALL-MODULE-PATH.\n    --enable-native-access &lt;module name&gt;[,&lt;module name&gt;...]\n                  modules that are permitted to perform restricted native operations.\n                  &lt;module name&gt; can also be ALL-UNNAMED.\n    --list-modules\n                  list observable modules and exit\n    -d &lt;module name&gt;\n    --describe-module &lt;module name&gt;\n                  describe a module and exit\n    --dry-run     create VM and load main class but do not execute main method.\n                  The --dry-run option may be useful for validating the\n                  command-line options such as the module system configuration.\n    --validate-modules\n                  validate all modules and exit\n                  The --validate-modules option may be useful for finding\n                  conflicts and other errors with modules on the module path.\n    -D&lt;name&gt;=&lt;value&gt;\n                  set a system property\n    -verbose:[class|module|gc|jni]\n                  enable verbose output for the given subsystem\n    -version      print product version to the error stream and exit\n    --version     print product version to the output stream and exit\n    -showversion  print product version to the error stream and continue\n    --show-version\n                  print product version to the output stream and continue\n    --show-module-resolution\n                  show module resolution output during startup\n    -? -h -help\n                  print this help message to the error stream\n    --help        print this help message to the output stream\n    -X            print help on extra options to the error stream\n    --help-extra  print help on extra options to the output stream\n    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  enable assertions with specified granularity\n    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  disable assertions with specified granularity\n    -esa | -enablesystemassertions\n                  enable system assertions\n    -dsa | -disablesystemassertions\n                  disable system assertions\n    -agentlib:&lt;libname&gt;[=&lt;options&gt;]\n                  load native agent library &lt;libname&gt;, e.g. -agentlib:jdwp\n                  see also -agentlib:jdwp=help\n    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\n                  load native agent library by full pathname\n    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\n                  load Java programming language agent, see java.lang.instrument\n    -splash:&lt;imagepath&gt;\n                  show splash screen with specified image\n                  HiDPI scaled images are automatically supported and used\n                  if available. The unscaled image filename, e.g. image.ext,\n                  should always be passed as the argument to the -splash option.\n                  The most appropriate scaled image provided will be picked up\n                  automatically.\n                  See the SplashScreen API documentation for more information\n    @argument files\n                  one or more argument files containing options\n    -disable-@files\n                  prevent further argument file expansion\n    --enable-preview\n                  allow classes to depend on preview features of this release\nTo specify an argument for a long option, you can use --&lt;name&gt;=&lt;value&gt; or\n--&lt;name&gt; &lt;value&gt;.\n\n' ' n’est pas reconnu en tant que commande interne\nou externe, un programme exécutable ou un fichier de commandes.\n\nc:\\Program Files\\Java&gt;java -version\njava version &quot;17.0.7&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.7+8-LTS-224, mixed mode, sharing) \n</code></pre>\n<h1>What I tried</h1>\n<p>I already tried changing java version, maven version, put java in a no-white-space path folder, I have installed maven at least 100 times by now and the same error persists.</p>\n<p>With the same configuration in git bash I don't have any problem but it doesn't work in windows command prompt.\n<a href=\"https://i.stack.imgur.com/bkqaQ.png\" rel=\"nofollow noreferrer\">mvn -version result in git bash</a></p>\n<p>Trying launching the command directly from C:\\Dev\\Programmes\\apache-maven-3.8.8\\bin got the same results such as</p>\n<pre><code>%maven_home%\\bin\\mvn -version\n</code></pre>\n<p>The same configuration works perfectly fine on my other computer.</p>\n<p>You should also notice that <strong>if maven wasn't correctly set it would probably give me the classic &quot;'mvn' is not recognized&quot;, where I actually get &quot;' ' is not recognized&quot;</strong> which is really weird.</p>\n<p>I really don't understand what is happening, but I really need to make it work in the windows cmd, and this just upset me so much, does anyone has a clue please ? :(</p>\n"},{"tags":["java","spring","solr","dependencies"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692178987,"post_id":76912329,"comment_id":135587525,"body_markdown":"You are mixing Spring Boot 3.1 and 2.4 modules. That isn&#39;t goig to work. SOLR support has been dropped long time ago as well as maintaining Spring Data SOLR (https://spring.io/projects/spring-data-solr). Hence it isn&#39;t going to work with Spring Boot 3.1.","body":"You are mixing Spring Boot 3.1 and 2.4 modules. That isn&#39;t goig to work. SOLR support has been dropped long time ago as well as maintaining Spring Data SOLR (<a href=\"https://spring.io/projects/spring-data-solr\" rel=\"nofollow noreferrer\">spring.io/projects/spring-data-solr</a>). Hence it isn&#39;t going to work with Spring Boot 3.1."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692179264,"post_id":76912329,"comment_id":135587572,"body_markdown":"@M.Deinum so I should drop the spring-boot-starter-data-solr or downgrade the spring boot 3.1?","body":"@M.Deinum so I should drop the spring-boot-starter-data-solr or downgrade the spring boot 3.1?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692179313,"post_id":76912329,"comment_id":135587591,"body_markdown":"That is for you to decide. Spring Boot 2.4 isn&#39;t supported anymore as well. Read the link (and links in that link) as what to use (ElasticSearch for instance) instead of Solr.","body":"That is for you to decide. Spring Boot 2.4 isn&#39;t supported anymore as well. Read the link (and links in that link) as what to use (ElasticSearch for instance) instead of Solr."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692179538,"post_id":76912329,"comment_id":135587645,"body_markdown":"So basically I am stuck because I really need to use Solr","body":"So basically I am stuck because I really need to use Solr"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692179664,"post_id":76912329,"comment_id":135587670,"body_markdown":"Well downgrade to Spring Boot 2.4, but really reconsider SOLR. As Spring Data SOLR has been abandonded for quite some time already, ad Spring Boot 2.4 has been out of support for some time as well.","body":"Well downgrade to Spring Boot 2.4, but really reconsider SOLR. As Spring Data SOLR has been abandonded for quite some time already, ad Spring Boot 2.4 has been out of support for some time as well."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692183957,"post_id":76912329,"comment_id":135588505,"body_markdown":"I will reconsider SOLR but thank you for the help.","body":"I will reconsider SOLR but thank you for the help."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692208658,"post_id":76912329,"comment_id":135593698,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254937/discussion-between-cosmin-drgusanu-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254937/discussion-between-cosmin-drgusanu-and-m-deinum\">continue this discussion in chat</a>."}],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692178590,"creation_date":1692178590,"question_id":76912329,"body_markdown":"After I added the dependencies to my app, I am trying to set the host for the solr connection  in my application.properties file but it tells me that the configuration property is not recognised.\r\nThese are my dependencies:\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-solr&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI am suspecting that it is because of dependency missmatches but I have tried all possible versions.\r\nI say that because when I am running the app I am getting the EntityInstantiators NoClassFound exception which is related to component&#39;s versions missmatch.","title":"Cannot resolve configuration property &#39;spring.data.solr.host&#39;","body":"<p>After I added the dependencies to my app, I am trying to set the host for the solr connection  in my application.properties file but it tells me that the configuration property is not recognised.\nThese are my dependencies:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\n            &lt;version&gt;4.3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-solr&lt;/artifactId&gt;\n            &lt;version&gt;2.4.13&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I am suspecting that it is because of dependency missmatches but I have tried all possible versions.\nI say that because when I am running the app I am getting the EntityInstantiators NoClassFound exception which is related to component's versions missmatch.</p>\n"},{"tags":["java","string","lowercase"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1271329611,"post_id":2644665,"comment_id":2659682,"body_markdown":"This is fine for an `ArrayList`, but the performance is `O(N^2)` for a `LinkedList`.","body":"This is fine for an <code>ArrayList</code>, but the performance is <code>O(N^2)</code> for a <code>LinkedList</code>."},{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":0,"creation_date":1271329999,"post_id":2644665,"comment_id":2659722,"body_markdown":"Yes. for yours, the opposit is true.","body":"Yes. for yours, the opposit is true."},{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":0,"creation_date":1271330517,"post_id":2644665,"comment_id":2659779,"body_markdown":"Sorry, for the original algorithm, the opposit is true.","body":"Sorry, for the original algorithm, the opposit is true."}],"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271329463,"creation_date":1271329463,"answer_id":2644665,"question_id":2644637,"body_markdown":"This is probably faster:\r\n\r\n    for(int i=0,l=strings.size();i&lt;l;++i)\r\n    {\r\n      strings.set(i, strings.get(i).toLowerCase());\r\n    }\r\n\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>This is probably faster:</p>\n\n<pre><code>for(int i=0,l=strings.size();i&lt;l;++i)\n{\n  strings.set(i, strings.get(i).toLowerCase());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1271329803,"creation_date":1271329803,"answer_id":2644697,"question_id":2644637,"body_markdown":"Well, there is no real elegant solution due to two facts:\r\n\r\n -  `String`s in Java are immutable\r\n - Java gives you no real nice `map(f, list)` function as you have in functional languages.\r\n\r\nAsymptotically speaking, you can&#39;t get a better run time than your current method. You will have to create a new string using `toLowerCase()` and you will need to iterate by yourself over the list and generate each new lower-case string, replacing it with the existing one.","title":"How to lowercase every element of a collection efficiently?","body":"<p>Well, there is no real elegant solution due to two facts:</p>\n\n<ul>\n<li><code>String</code>s in Java are immutable</li>\n<li>Java gives you no real nice <code>map(f, list)</code> function as you have in functional languages.</li>\n</ul>\n\n<p>Asymptotically speaking, you can't get a better run time than your current method. You will have to create a new string using <code>toLowerCase()</code> and you will need to iterate by yourself over the list and generate each new lower-case string, replacing it with the existing one.</p>\n"},{"tags":[],"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271330058,"creation_date":1271330058,"answer_id":2644719,"question_id":2644637,"body_markdown":"Try [CollectionUtils#transform in Commons Collections][1] for an in-place solution, or [Collections2#transform in Guava][2] if you need a live view.\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)\r\n  [2]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html#transform(java.util.Collection,%20com.google.common.base.Function)","title":"How to lowercase every element of a collection efficiently?","body":"<p>Try <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)\" rel=\"nofollow noreferrer\">CollectionUtils#transform in Commons Collections</a> for an in-place solution, or <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html#transform(java.util.Collection,%20com.google.common.base.Function)\" rel=\"nofollow noreferrer\">Collections2#transform in Guava</a> if you need a live view.</p>\n"},{"tags":[],"owner":{"account_id":13695,"reputation":5380,"user_id":27653,"accept_rate":92,"display_name":"Tarski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271330095,"creation_date":1271330095,"answer_id":2644722,"question_id":2644637,"body_markdown":"I don&#39;t believe it is possible to do the manipulation in place (without creating another Collection) if you change strings to be a Set. This is because you can only iterate over the Set using an iterator or a for each loop, and cannot insert new objects whilst doing so (it throws an exception)","title":"How to lowercase every element of a collection efficiently?","body":"<p>I don't believe it is possible to do the manipulation in place (without creating another Collection) if you change strings to be a Set. This is because you can only iterate over the Set using an iterator or a for each loop, and cannot insert new objects whilst doing so (it throws an exception)</p>\n"},{"comments":[{"owner":{"account_id":105984,"reputation":2828,"user_id":282544,"accept_rate":70,"display_name":"leba-lev"},"score":0,"creation_date":1336428799,"post_id":2644731,"comment_id":13557704,"body_markdown":"Referring to your first solution: how would one return a ListIterator as List?","body":"Referring to your first solution: how would one return a ListIterator as List?"},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1336487332,"post_id":2644731,"comment_id":13574111,"body_markdown":"@rookie, Your question isn&#39;t clear. Are you asking how to use a ListIterator as a List? If so, then you can&#39;t. An Iterator is not a collection, but a pointer into one.","body":"@rookie, Your question isn&#39;t clear. Are you asking how to use a ListIterator as a List? If so, then you can&#39;t. An Iterator is not a collection, but a pointer into one."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1575538068,"post_id":2644731,"comment_id":104602688,"body_markdown":"With Java&#160;8, the first example can be simplified to `strings.replaceAll(String::toLowerCase);` You could do a similar thing with the second, using `Arrays.asList(stringsArray).replaceAll(String::toLowerCase);`","body":"With Java 8, the first example can be simplified to <code>strings.replaceAll(String::toLowerCase);</code> You could do a similar thing with the second, using <code>Arrays.asList(stringsArray).replaceAll(String::toLowerCase);</code>"},{"owner":{"account_id":1435603,"reputation":316,"user_id":1357069,"display_name":"Eki"},"score":0,"creation_date":1695422692,"post_id":2644731,"comment_id":136027380,"body_markdown":"This solution (for Lists) will fail with an `UnsupportedOperationException` on `iterator.set()` if the List passed is a `SingletonList`.","body":"This solution (for Lists) will fail with an <code>UnsupportedOperationException</code> on <code>iterator.set()</code> if the List passed is a <code>SingletonList</code>."}],"tags":[],"owner":{"account_id":121256,"reputation":4806,"user_id":314215,"display_name":"Matthew T. Staebler"},"comment_count":4,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1271331999,"creation_date":1271330196,"answer_id":2644731,"question_id":2644637,"body_markdown":"This seems like a fairly clean solution for lists.  It should allow for the particular List implementation being used to provide an implementation that is optimal for both the traversal of the list--in linear time--and the replacing of the string--in constant time.\r\n\r\n\tpublic static void replace(List&lt;String&gt; strings)\r\n\t{\r\n\t\tListIterator&lt;String&gt; iterator = strings.listIterator();\r\n\t\twhile (iterator.hasNext())\r\n\t\t{\r\n\t\t\titerator.set(iterator.next().toLowerCase());\r\n\t\t}\r\n\t}\r\n\r\n\r\n----------\r\nThis is the best that I can come up with for sets.  As others have said, the operation cannot be performed in-place in the set for a number of reasons.  The lower-case string may need to be placed in a different location in the set than the string it is replacing.  Moreover, the lower-case string may not be added to the set at all if it is identical to another lower-case string that has already been added (e.g., &quot;HELLO&quot; and &quot;Hello&quot; will both yield &quot;hello&quot;, which will only be added to the set once).\r\n\r\n\tpublic static void replace(Set&lt;String&gt; strings)\r\n\t{\r\n\t\tString[] stringsArray = strings.toArray(new String[0]);\r\n\t\tfor (int i=0; i&lt;stringsArray.length; ++i)\r\n\t\t{\r\n\t\t\tstringsArray[i] = stringsArray[i].toLowerCase();\r\n\t\t}\r\n\t\tstrings.clear();\r\n\t\tstrings.addAll(Arrays.asList(stringsArray));\r\n\t}\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>This seems like a fairly clean solution for lists.  It should allow for the particular List implementation being used to provide an implementation that is optimal for both the traversal of the list--in linear time--and the replacing of the string--in constant time.</p>\n\n<pre><code>public static void replace(List&lt;String&gt; strings)\n{\n    ListIterator&lt;String&gt; iterator = strings.listIterator();\n    while (iterator.hasNext())\n    {\n        iterator.set(iterator.next().toLowerCase());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>This is the best that I can come up with for sets.  As others have said, the operation cannot be performed in-place in the set for a number of reasons.  The lower-case string may need to be placed in a different location in the set than the string it is replacing.  Moreover, the lower-case string may not be added to the set at all if it is identical to another lower-case string that has already been added (e.g., \"HELLO\" and \"Hello\" will both yield \"hello\", which will only be added to the set once).</p>\n\n<pre><code>public static void replace(Set&lt;String&gt; strings)\n{\n    String[] stringsArray = strings.toArray(new String[0]);\n    for (int i=0; i&lt;stringsArray.length; ++i)\n    {\n        stringsArray[i] = stringsArray[i].toLowerCase();\n    }\n    strings.clear();\n    strings.addAll(Arrays.asList(stringsArray));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1271330561,"creation_date":1271330561,"answer_id":2644764,"question_id":2644637,"body_markdown":"You can do this with Google Collections:\r\n\r\n        Collection&lt;String&gt; lowerCaseStrings = Collections2.transform(strings,\r\n            new Function&lt;String, String&gt;() {\r\n                public String apply(String str) {\r\n                    return str.toLowerCase();\r\n                }\r\n            }\r\n        );","title":"How to lowercase every element of a collection efficiently?","body":"<p>You can do this with Google Collections:</p>\n\n<pre><code>    Collection&lt;String&gt; lowerCaseStrings = Collections2.transform(strings,\n        new Function&lt;String, String&gt;() {\n            public String apply(String str) {\n                return str.toLowerCase();\n            }\n        }\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105984,"reputation":2828,"user_id":282544,"accept_rate":70,"display_name":"leba-lev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336486828,"creation_date":1336429535,"answer_id":10489981,"question_id":2644637,"body_markdown":"Referring to the ListIterator method in the accepted (Matthew T. Staebler&#39;s) solution. How is using the ListIterator better than the method here?\r\n    \r\n    public static Set&lt;String&gt; replace(List&lt;String&gt; strings) {\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n        for (String s: strings)\r\n            set.add(s.toLowerCase());\r\n        return set;\r\n    }","title":"How to lowercase every element of a collection efficiently?","body":"<p>Referring to the ListIterator method in the accepted (Matthew T. Staebler's) solution. How is using the ListIterator better than the method here?</p>\n\n<pre><code>public static Set&lt;String&gt; replace(List&lt;String&gt; strings) {\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    for (String s: strings)\n        set.add(s.toLowerCase());\n    return set;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93443,"reputation":398,"user_id":255650,"accept_rate":71,"display_name":"thisisananth"},"score":1,"creation_date":1529685312,"post_id":31104211,"comment_id":88979097,"body_markdown":"Though this is more elegant, this is not the more performant solution. [Angelica&#39;s benchmark](https://jaxenter.com/java-performance-tutorial-how-fast-are-the-java-8-streams-118830.html) for finding the max value in a list of boxed ints:\n\nArrayList, for-loop : 6.55 ms\nArrayList, seq. stream: 8.33 ms","body":"Though this is more elegant, this is not the more performant solution. <a href=\"https://jaxenter.com/java-performance-tutorial-how-fast-are-the-java-8-streams-118830.html\" rel=\"nofollow noreferrer\">Angelica&#39;s benchmark</a> for finding the max value in a list of boxed ints:  ArrayList, for-loop : 6.55 ms ArrayList, seq. stream: 8.33 ms"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1575538491,"post_id":31104211,"comment_id":104602931,"body_markdown":"@thisisananth a benchmark (if we dare to call the undocumented methodology a benchmark) of an operation that searches for a maximum in an `int[]` array, is entirely unrelated to an operation converting a collection of strings to lower case. A list of boxed ints would be a `List&lt;Integer&gt;`, by the way, but that linked article uses `int[]`, which is an array of primitive ints. And since that will yield an `IntStream`, a serious developer would use `max()` rather than `reduce(Integer.MIN_VALUE, Math::max)` for that.","body":"@thisisananth a benchmark (if we dare to call the undocumented methodology a benchmark) of an operation that searches for a maximum in an <code>int[]</code> array, is entirely unrelated to an operation converting a collection of strings to lower case. A list of boxed ints would be a <code>List&lt;Integer&gt;</code>, by the way, but that linked article uses <code>int[]</code>, which is an array of primitive ints. And since that will yield an <code>IntStream</code>, a serious developer would use <code>max()</code> rather than <code>reduce(Integer.MIN_VALUE, Math::max)</code> for that."},{"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"score":0,"creation_date":1643357172,"post_id":31104211,"comment_id":125322682,"body_markdown":"Also if there is really large List it should be mentioned that there is an parrallelStream that can improve the performance for larger list.","body":"Also if there is really large List it should be mentioned that there is an parrallelStream that can improve the performance for larger list."}],"tags":[],"owner":{"account_id":1724767,"reputation":6919,"user_id":1579718,"accept_rate":75,"display_name":"Igor G."},"comment_count":3,"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1559728138,"creation_date":1435521936,"answer_id":31104211,"question_id":2644637,"body_markdown":"Yet another solution, but with Java 8 and above:\r\n\r\n    List&lt;String&gt; result = strings.stream()\r\n                                 .map(String::toLowerCase)\r\n                                 .collect(Collectors.toList());\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>Yet another solution, but with Java 8 and above:</p>\n\n<pre><code>List&lt;String&gt; result = strings.stream()\n                             .map(String::toLowerCase)\n                             .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4870666,"reputation":547,"user_id":3927323,"display_name":"NIKHIL CHAURASIA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450440537,"creation_date":1450440537,"answer_id":34355390,"question_id":2644637,"body_markdown":"I was looking for similar stuff, but was stuck because my ***ArrayList*** object was not declared as **GENERIC** and it was available as raw **List** type object from somewhere. I was just getting an ***ArrayList*** object &quot;_products&quot;. So, what I did is mentioned below and it worked for me perfectly :: \r\n\r\n    List&lt;String&gt; dbProducts = _products;\r\n        for(int i = 0; i&lt;dbProducts.size(); i++) {\r\n        \tdbProducts.add(dbProducts.get(i).toLowerCase());         \r\n        }\r\n\r\nThat is, I first took my available **_products** and made a **GENERIC** list object (As I were getting only strings in same) then I applied the **toLowerCase()** method on list elements which was not working previously because of non-generic ***ArrayList*** object.\r\n\r\nAnd the method ***toLowerCase()*** we are using here is of **String** class.\r\n\r\n&gt; String java.lang.String.toLowerCase()\r\n\r\nnot of **ArrayList** or **Object** class.\r\n\r\nPlease correct if m wrong. Newbie in JAVA seeks guidance. :)","title":"How to lowercase every element of a collection efficiently?","body":"<p>I was looking for similar stuff, but was stuck because my <strong><em>ArrayList</em></strong> object was not declared as <strong>GENERIC</strong> and it was available as raw <strong>List</strong> type object from somewhere. I was just getting an <strong><em>ArrayList</em></strong> object \"_products\". So, what I did is mentioned below and it worked for me perfectly :: </p>\n\n<pre><code>List&lt;String&gt; dbProducts = _products;\n    for(int i = 0; i&lt;dbProducts.size(); i++) {\n        dbProducts.add(dbProducts.get(i).toLowerCase());         \n    }\n</code></pre>\n\n<p>That is, I first took my available <strong>_products</strong> and made a <strong>GENERIC</strong> list object (As I were getting only strings in same) then I applied the <strong>toLowerCase()</strong> method on list elements which was not working previously because of non-generic <strong><em>ArrayList</em></strong> object.</p>\n\n<p>And the method <strong><em>toLowerCase()</em></strong> we are using here is of <strong>String</strong> class.</p>\n\n<blockquote>\n  <p>String java.lang.String.toLowerCase()</p>\n</blockquote>\n\n<p>not of <strong>ArrayList</strong> or <strong>Object</strong> class.</p>\n\n<p>Please correct if m wrong. Newbie in JAVA seeks guidance. :)</p>\n"},{"comments":[{"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"score":0,"creation_date":1475098260,"post_id":38787059,"comment_id":66812003,"body_markdown":"The order of strings in the result will be different","body":"The order of strings in the result will be different"}],"tags":[],"owner":{"account_id":8589811,"reputation":301,"user_id":6434737,"display_name":"Ankur Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470393117,"creation_date":1470393117,"answer_id":38787059,"question_id":2644637,"body_markdown":"Using JAVA 8 parallel stream it becomes faster \r\n    \r\n    List&lt;String&gt; output= new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; input= new ArrayList&lt;&gt;();\r\n    input.add(&quot;A&quot;);\r\n    input.add(&quot;B&quot;);\r\n    input.add(&quot;C&quot;);\r\n    input.add(&quot;D&quot;);\r\n    input.stream().parallel().map((item) -&gt; item.toLowerCase())\r\n\t\t\t\t.collect(Collectors.toCollection(() -&gt; output));","title":"How to lowercase every element of a collection efficiently?","body":"<p>Using JAVA 8 parallel stream it becomes faster </p>\n\n<pre><code>List&lt;String&gt; output= new ArrayList&lt;&gt;();\nList&lt;String&gt; input= new ArrayList&lt;&gt;();\ninput.add(\"A\");\ninput.add(\"B\");\ninput.add(\"C\");\ninput.add(\"D\");\ninput.stream().parallel().map((item) -&gt; item.toLowerCase())\n            .collect(Collectors.toCollection(() -&gt; output));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10368026,"reputation":479,"user_id":7646504,"display_name":"Domadin"},"score":1,"creation_date":1624534114,"post_id":54105619,"comment_id":120388213,"body_markdown":"This won&#39;t work with immutable collections, like ones created using List.of(). Although, an elegant solution.","body":"This won&#39;t work with immutable collections, like ones created using List.of(). Although, an elegant solution."}],"tags":[],"owner":{"account_id":895130,"reputation":7386,"user_id":932584,"display_name":"Arindam Nayak"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547021228,"creation_date":1547021228,"answer_id":54105619,"question_id":2644637,"body_markdown":"If you are fine with changing the input list here is one more way to achieve it.\r\n\r\n`strings.replaceAll(String::toLowerCase)`","title":"How to lowercase every element of a collection efficiently?","body":"<p>If you are fine with changing the input list here is one more way to achieve it.</p>\n\n<p><code>strings.replaceAll(String::toLowerCase)</code></p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677484165,"creation_date":1677484165,"answer_id":75577919,"question_id":2644637,"body_markdown":"Have used Java8 **streams** for **lowercase** of every element in a Collection.\r\n\r\n    List&lt;String&gt; groupNamesList =  new ArrayList&lt;&gt;();\r\n    groupNamesList.add(&quot;GroupOne&quot;);\r\n    groupNamesList.add(&quot;GroupTwo&quot;);\r\n    groupNamesList.add(&quot;GroupThree&quot;);\r\n    groupNamesList = groupNamesList.stream().map(groupName -&gt; groupName.toLowerCase()).collect(Collectors.toList());\r\n\r\nOutput:\r\n\r\n    [groupone,grouptwo,groupthree]","title":"How to lowercase every element of a collection efficiently?","body":"<p>Have used Java8 <strong>streams</strong> for <strong>lowercase</strong> of every element in a Collection.</p>\n<pre><code>List&lt;String&gt; groupNamesList =  new ArrayList&lt;&gt;();\ngroupNamesList.add(&quot;GroupOne&quot;);\ngroupNamesList.add(&quot;GroupTwo&quot;);\ngroupNamesList.add(&quot;GroupThree&quot;);\ngroupNamesList = groupNamesList.stream().map(groupName -&gt; groupName.toLowerCase()).collect(Collectors.toList());\n</code></pre>\n<p>Output:</p>\n<pre><code>[groupone,grouptwo,groupthree]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684810971,"post_id":76310933,"comment_id":134567642,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76310933/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28658914,"reputation":1,"user_id":21944242,"display_name":"Raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684856475,"creation_date":1684808405,"answer_id":76310933,"question_id":2644637,"body_markdown":"&lt;!-- language: java --&gt;\r\n\r\n    private static void getOccuranceCount() {\r\n        List&lt;String&gt; listdemo=Arrays.asList(&quot;saradhi&quot;,&quot;bill&quot;,&quot;mike&quot;,&quot;Bill&quot;,&quot;MIKE&quot;);\r\n       \r\n        Map&lt;String, Long&gt; collect = listdemo.stream().map(**String::toLowerCase**).collect(Collectors.groupingBy(e-&gt;e,Collectors.counting()));\r\n        System.out.println(&quot;collector printing is : &quot;+collect);\r\n    }","title":"How to lowercase every element of a collection efficiently?","body":"<pre class=\"lang-java prettyprint-override\"><code>private static void getOccuranceCount() {\n    List&lt;String&gt; listdemo=Arrays.asList(&quot;saradhi&quot;,&quot;bill&quot;,&quot;mike&quot;,&quot;Bill&quot;,&quot;MIKE&quot;);\n   \n    Map&lt;String, Long&gt; collect = listdemo.stream().map(**String::toLowerCase**).collect(Collectors.groupingBy(e-&gt;e,Collectors.counting()));\n    System.out.println(&quot;collector printing is : &quot;+collect);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26362734,"reputation":1,"user_id":20018691,"display_name":"Bala Chandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692178576,"creation_date":1692178403,"answer_id":76912301,"question_id":2644637,"body_markdown":"\r\n For UppperCase\r\n\r\n\r\n`val originalList = arrayListOf(&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;)`\r\n\r\n`val upperCaseList = originalList.map { it.toUpperCase() }`\r\n\r\n For LowerCase\r\n\r\n`val originalList = arrayListOf(&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;)`\r\n \r\n`val lowerCaseList = originalList.map { it.toLowerCase() }`\r\n\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>For UppperCase</p>\n<p><code>val originalList = arrayListOf(&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;)</code></p>\n<p><code>val upperCaseList = originalList.map { it.toUpperCase() }</code></p>\n<p>For LowerCase</p>\n<p><code>val originalList = arrayListOf(&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;)</code></p>\n<p><code>val lowerCaseList = originalList.map { it.toLowerCase() }</code></p>\n"}],"owner":{"account_id":33225,"reputation":15469,"user_id":92813,"accept_rate":71,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108395,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":2644731,"answer_count":14,"score":53,"last_activity_date":1692178576,"creation_date":1271329208,"question_id":2644637,"body_markdown":"What&#39;s the most efficient way to lower case every element of a List or Set?\r\n\r\nMy idea for a List&lt;String&gt;:\r\n\r\n    final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n    strings.add(&quot;HELLO&quot;);\r\n    strings.add(&quot;WORLD&quot;);\r\n    \r\n    for(int i=0,l=strings.size();i&lt;l;++i)\r\n    {\r\n      strings.add(strings.remove(0).toLowerCase());\r\n    }\r\n\r\nIs there a better, faster way? How would this example look like for a Set? As there is currently no method for applying an operation to each element of a Set (or List) can it be done without creating an additional temporary Set?\r\n\r\nSomething like this would be nice:\r\n\r\n    Set&lt;String&gt; strings = new HashSet&lt;String&gt;();\r\n    strings.apply(\r\n      function (element)\r\n      { this.replace(element, element.toLowerCase();) } \r\n    );\r\n\r\nThanks,\r\n\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>What's the most efficient way to lower case every element of a List or Set?</p>\n\n<p>My idea for a List:</p>\n\n<pre><code>final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nstrings.add(\"HELLO\");\nstrings.add(\"WORLD\");\n\nfor(int i=0,l=strings.size();i&lt;l;++i)\n{\n  strings.add(strings.remove(0).toLowerCase());\n}\n</code></pre>\n\n<p>Is there a better, faster way? How would this example look like for a Set? As there is currently no method for applying an operation to each element of a Set (or List) can it be done without creating an additional temporary Set?</p>\n\n<p>Something like this would be nice:</p>\n\n<pre><code>Set&lt;String&gt; strings = new HashSet&lt;String&gt;();\nstrings.apply(\n  function (element)\n  { this.replace(element, element.toLowerCase();) } \n);\n</code></pre>\n\n<p>Thanks,</p>\n"},{"tags":["java","reflection","java-native-interface","method-signature"],"comments":[{"owner":{"account_id":24460,"reputation":42736,"user_id":62192,"accept_rate":65,"display_name":"alex2k8"},"score":0,"creation_date":1292467388,"post_id":4456881,"comment_id":4869350,"body_markdown":"@bemace, @birryre. Sorry to be not clear, added more details.","body":"@bemace, @birryre. Sorry to be not clear, added more details."},{"owner":{"account_id":1126637,"reputation":24248,"user_id":1113772,"accept_rate":100,"display_name":"Paul Sweatte"},"score":0,"creation_date":1411072283,"post_id":4456881,"comment_id":40577832,"body_markdown":"possible duplicate of [Get JNI Signature for methods of nested classes](http://stackoverflow.com/questions/11444407/get-jni-signature-for-methods-of-nested-classes)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11444407/get-jni-signature-for-methods-of-nested-classes\">Get JNI Signature for methods of nested classes</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1477281691,"post_id":4456881,"comment_id":67685136,"body_markdown":"Why? You know what methods you&#39;re going to call at complle time. Otherwise you can&#39;t compile your code. You don&#39;t need to generate this information at runtime. Or are you looking for the Reflection API?","body":"Why? You know what methods you&#39;re going to call at complle time. Otherwise you can&#39;t compile your code. You don&#39;t need to generate this information at runtime. Or are you looking for the Reflection API?"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1477281835,"post_id":4457135,"comment_id":67685164,"body_markdown":"Hard to see how this qualifies as an answer.","body":"Hard to see how this qualifies as an answer."}],"tags":[],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1292469302,"creation_date":1292469302,"answer_id":4457135,"question_id":4456881,"body_markdown":"I was once trying to create this long back about the generating the method signature, I remember doing this by following style, but i am not sure its a quiet long time\r\n\r\n1) I have written my own class to generate the method signature\r\n2) I have used the reflection class to get the method Names dynamically.\r\n\r\nI hope this may help you to get an idea, if not the full solution for your problem\r\n","title":"How to generate method signature?","body":"<p>I was once trying to create this long back about the generating the method signature, I remember doing this by following style, but i am not sure its a quiet long time</p>\n\n<p>1) I have written my own class to generate the method signature\n2) I have used the reflection class to get the method Names dynamically.</p>\n\n<p>I hope this may help you to get an idea, if not the full solution for your problem</p>\n"},{"tags":[],"owner":{"account_id":253401,"reputation":1583,"user_id":532070,"accept_rate":25,"display_name":"Ratna Dinakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292476492,"creation_date":1292476492,"answer_id":4457643,"question_id":4456881,"body_markdown":"User ASM Library of Objectweb. Its not only fast but you can have choice about traversing through class","title":"How to generate method signature?","body":"<p>User ASM Library of Objectweb. Its not only fast but you can have choice about traversing through class</p>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1330821465,"creation_date":1330821465,"answer_id":9551236,"question_id":4456881,"body_markdown":"http://asm.ow2.org/asm31/javadoc/user/org/objectweb/asm/Type.html#getMethodDescriptor%28java.lang.reflect.Method%29 provides exactly the result what you expect.\r\n\r\nOfftopic note for the sake of completeness:\r\nIn my use case I needed also conversion vice-versa. This can be achieved by methods Type.getArgumentTypes(sig) and Type.getReturnType(sig). Resulting array elements of type Type provide method getClassName() from which you obtain reference class via Class.forName or primitive class via simple if statement or map.\r\n","title":"How to generate method signature?","body":"<p><a href=\"http://asm.ow2.org/asm31/javadoc/user/org/objectweb/asm/Type.html#getMethodDescriptor%28java.lang.reflect.Method%29\" rel=\"nofollow\">http://asm.ow2.org/asm31/javadoc/user/org/objectweb/asm/Type.html#getMethodDescriptor%28java.lang.reflect.Method%29</a> provides exactly the result what you expect.</p>\n\n<p>Offtopic note for the sake of completeness:\nIn my use case I needed also conversion vice-versa. This can be achieved by methods Type.getArgumentTypes(sig) and Type.getReturnType(sig). Resulting array elements of type Type provide method getClassName() from which you obtain reference class via Class.forName or primitive class via simple if statement or map.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1477282163,"post_id":40210452,"comment_id":67685233,"body_markdown":"Not every parameter or return type is an array ... but some are.","body":"Not every parameter or return type is an array ... but some are."},{"owner":{"account_id":4847997,"reputation":281,"user_id":3911119,"accept_rate":50,"display_name":"user3911119"},"score":0,"creation_date":1499512018,"post_id":40210452,"comment_id":76945479,"body_markdown":"great idea! wonder why OP has not accepted this as the answer.","body":"great idea! wonder why OP has not accepted this as the answer."}],"tags":[],"owner":{"account_id":9367531,"reputation":91,"user_id":6951916,"display_name":"Summer"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1477281237,"creation_date":1477281237,"answer_id":40210452,"question_id":4456881,"body_markdown":"    I generate like this:\r\n    \r\n    private static String calculateMethodSignature(Method method){\r\n            String signature = &quot;&quot;;\r\n            if(method != null){\r\n                signature += &quot;(&quot;;\r\n                for(Class&lt;?&gt; c:method.getParameterTypes()){\r\n                    String Lsig = Array.newInstance(c,1).getClass().getName();\r\n                    signature += Lsig.substring(1);\r\n                }\r\n                signature += &quot;)&quot;;\r\n    \r\n                Class&lt;?&gt; returnType = method.getReturnType();\r\n                if(returnType == void.class){\r\n                    signature += &quot;V&quot;;\r\n                }else{\r\n                    signature += Array.newInstance(returnType,1).getClass().getName();\r\n                }\r\n    \r\n                signature = signature.replace(&#39;.&#39;,&#39;/&#39;);\r\n            }\r\n    \r\n            return signature;\r\n        }","title":"How to generate method signature?","body":"<pre><code>I generate like this:\n\nprivate static String calculateMethodSignature(Method method){\n        String signature = \"\";\n        if(method != null){\n            signature += \"(\";\n            for(Class&lt;?&gt; c:method.getParameterTypes()){\n                String Lsig = Array.newInstance(c,1).getClass().getName();\n                signature += Lsig.substring(1);\n            }\n            signature += \")\";\n\n            Class&lt;?&gt; returnType = method.getReturnType();\n            if(returnType == void.class){\n                signature += \"V\";\n            }else{\n                signature += Array.newInstance(returnType,1).getClass().getName();\n            }\n\n            signature = signature.replace('.','/');\n        }\n\n        return signature;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17043227,"reputation":691,"user_id":12330595,"display_name":"Timur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692178520,"creation_date":1692178520,"answer_id":76912318,"question_id":4456881,"body_markdown":"In Android Studio, the IDE itself create those signature automatically.\r\nJust declare your function and press `Alt+Ctl` then choose create JNI function for functionName.","title":"How to generate method signature?","body":"<p>In Android Studio, the IDE itself create those signature automatically.\nJust declare your function and press <code>Alt+Ctl</code> then choose create JNI function for functionName.</p>\n"}],"owner":{"account_id":24460,"reputation":42736,"user_id":62192,"accept_rate":65,"display_name":"alex2k8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9956,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":5,"score":12,"last_activity_date":1692178520,"creation_date":1292465519,"question_id":4456881,"body_markdown":"Desired output examples:\r\n\r\n    (Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;\r\n    (Ljava/lang/String;)Lorg/w3c/dom/Attr;\r\n\r\nSuch signatures can be generated using javap utility:\r\n\r\n    javap -s -p org.w3c.dom.Node\r\n\r\nBut is there any way to generate them programmatically. I dont&#39; want to manually code all the rules from [jni][1] specification.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/jni/spec/types.html#wp16432","title":"How to generate method signature?","body":"<p>Desired output examples:</p>\n\n<pre><code>(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;\n(Ljava/lang/String;)Lorg/w3c/dom/Attr;\n</code></pre>\n\n<p>Such signatures can be generated using javap utility:</p>\n\n<pre><code>javap -s -p org.w3c.dom.Node\n</code></pre>\n\n<p>But is there any way to generate them programmatically. I dont' want to manually code all the rules from <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/jni/spec/types.html#wp16432\" rel=\"noreferrer\">jni</a> specification.</p>\n"},{"tags":["java","json","serialization","gson"],"answers":[{"comments":[{"owner":{"account_id":280121,"reputation":2742,"user_id":575643,"accept_rate":54,"display_name":"Marcelo Idemax"},"score":2,"creation_date":1496761568,"post_id":31867120,"comment_id":75786935,"body_markdown":"is there a way to do the vice versa?","body":"is there a way to do the vice versa?"},{"owner":{"account_id":4160650,"reputation":632,"user_id":3410835,"display_name":"K Pradeep Kumar Reddy"},"score":0,"creation_date":1579588465,"post_id":31867120,"comment_id":105805854,"body_markdown":"jsonParser.parse(object.toString()) is returning JsonElement object. I&#39;m not able to cast it to org.json.JSONObject. I&#39;m trying to convert from gson.JsonObject to org.json.JSONObject.","body":"jsonParser.parse(object.toString()) is returning JsonElement object. I&#39;m not able to cast it to org.json.JSONObject. I&#39;m trying to convert from gson.JsonObject to org.json.JSONObject."},{"owner":{"account_id":8100922,"reputation":504,"user_id":6103967,"display_name":"Piotrek Zatorski"},"score":3,"creation_date":1581341456,"post_id":31867120,"comment_id":106388771,"body_markdown":"@Marcelo Filho How about `JSONObject jsonObject = new JSONObject(jsonObject.toString());`","body":"@Marcelo Filho How about <code>JSONObject jsonObject = new JSONObject(jsonObject.toString());</code>"}],"tags":[],"owner":{"account_id":5621346,"reputation":629,"user_id":4451076,"display_name":"Scott Schechter"},"comment_count":3,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1438901830,"creation_date":1438901830,"answer_id":31867120,"question_id":31866834,"body_markdown":"The easiest way is to serialize your JSONObject to a json string using toString(), then parsing that json string into a JsonObject:\r\n\r\n        org.json.JSONObject object = &lt;your defined object&gt;;\r\n        JsonParser jsonParser = new JsonParser();\r\n        JsonObject gsonObject = (JsonObject)jsonParser.parse(object.toString());\r\n\r\nNote that serializing and deserializing an object can be an expensive operation. If you have to do this a lot in your code (inside loops), it can affect your performance.","title":"How can I convert a JSONObject to a gson.JsonObject?","body":"<p>The easiest way is to serialize your JSONObject to a json string using toString(), then parsing that json string into a JsonObject:</p>\n\n<pre><code>    org.json.JSONObject object = &lt;your defined object&gt;;\n    JsonParser jsonParser = new JsonParser();\n    JsonObject gsonObject = (JsonObject)jsonParser.parse(object.toString());\n</code></pre>\n\n<p>Note that serializing and deserializing an object can be an expensive operation. If you have to do this a lot in your code (inside loops), it can affect your performance.</p>\n"},{"tags":[],"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692177995,"creation_date":1692177995,"answer_id":76912237,"question_id":31866834,"body_markdown":"in Kotlin use this extension:\r\n\r\n\r\n    fun JSONObject.toGsonJsonObject():JsonObject{\r\n        return JsonParser().parse(this.toString()) as JsonObject\r\n    }","title":"How can I convert a JSONObject to a gson.JsonObject?","body":"<p>in Kotlin use this extension:</p>\n<pre><code>fun JSONObject.toGsonJsonObject():JsonObject{\n    return JsonParser().parse(this.toString()) as JsonObject\n}\n</code></pre>\n"}],"owner":{"account_id":54272,"reputation":6123,"user_id":162345,"accept_rate":48,"display_name":"special0ne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25609,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":31867120,"answer_count":2,"score":27,"last_activity_date":1692177995,"creation_date":1438900176,"question_id":31866834,"body_markdown":"I have a `org.json.JSONObject` object.\r\n\r\nWhat&#39;s the easiest way to create a `gson.JsonObject` object from it?\r\n\r\nThanks","title":"How can I convert a JSONObject to a gson.JsonObject?","body":"<p>I have a <code>org.json.JSONObject</code> object.</p>\n\n<p>What's the easiest way to create a <code>gson.JsonObject</code> object from it?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","gradle","github-package-registry","github-packages"],"owner":{"account_id":29235654,"reputation":1,"user_id":22398346,"display_name":"rocket_charm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692177921,"creation_date":1692177921,"question_id":76912220,"body_markdown":"I want to create a multi module project where each module is an individual library with **individual version**.\r\nThe problem is that when I update one module/subproject I need to increase the version of every other module/subproject because **github throws 409 conflict**. How can i bypass that?\r\n\r\nthis is one of the modules/subproject  \\*\\*build.gradle \\*\\*:\r\n\r\n```\r\ngroup = projectGroup\r\nversion = projectVersion\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    api &#39;org.springframework.boot:spring-boot-starter-web:2.7.4&#39;\r\n}\r\n```\r\n\r\nthis is the main **build.gradle** :\r\n\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.4&#39; apply false\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsubprojects {\r\n\r\n    apply plugin:&#39;java-library&#39;\r\n    apply plugin:&#39;maven-publish&#39;\r\n    apply plugin:&#39;io.spring.dependency-management&#39;\r\n    sourceCompatibility = 11\r\n\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\r\n        }\r\n    }\r\n\r\n    publishing {\r\n        repositories {\r\n            maven {\r\n                name = &quot;GitHubPackages&quot;\r\n                url = &quot;http://....&quot;\r\n                credentials {\r\n                    username System.getenv(&quot;GITHUB_ACTOR&quot;)\r\n                    password System.getenv(&quot;GITHUB_TOKEN&quot;)\r\n                }\r\n            }\r\n        }\r\n        publications {\r\n            gpr(MavenPublication) {\r\n                from(components.java)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m expecting to be able to update one module/subproject without having to update all modules/subprojects","title":"Java Gradle Gitub packages unable to update and publish individual modules without updating all the versions or have same version for all modules","body":"<p>I want to create a multi module project where each module is an individual library with <strong>individual version</strong>.\nThe problem is that when I update one module/subproject I need to increase the version of every other module/subproject because <strong>github throws 409 conflict</strong>. How can i bypass that?</p>\n<p>this is one of the modules/subproject  **build.gradle **:</p>\n<pre><code>group = projectGroup\nversion = projectVersion\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    api 'org.springframework.boot:spring-boot-starter-web:2.7.4'\n}\n</code></pre>\n<p>this is the main <strong>build.gradle</strong> :</p>\n<pre><code>plugins {\n    id 'java-library'\n    id 'org.springframework.boot' version '2.7.4' apply false\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'maven-publish'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nsubprojects {\n\n    apply plugin:'java-library'\n    apply plugin:'maven-publish'\n    apply plugin:'io.spring.dependency-management'\n    sourceCompatibility = 11\n\n    dependencyManagement {\n        imports {\n            mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\n        }\n    }\n\n    publishing {\n        repositories {\n            maven {\n                name = &quot;GitHubPackages&quot;\n                url = &quot;http://....&quot;\n                credentials {\n                    username System.getenv(&quot;GITHUB_ACTOR&quot;)\n                    password System.getenv(&quot;GITHUB_TOKEN&quot;)\n                }\n            }\n        }\n        publications {\n            gpr(MavenPublication) {\n                from(components.java)\n            }\n        }\n    }\n}\n</code></pre>\n<p>I'm expecting to be able to update one module/subproject without having to update all modules/subprojects</p>\n"},{"tags":["java","refactoring","tooling"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1692175689,"post_id":76911930,"comment_id":135586842,"body_markdown":"If you don&#39;t actually want to provide real implementations in every class, maybe just make it virtual instead of abstract? (You could always take the time to override it with a real implementation in every class and *then* make it abstract.)","body":"If you don&#39;t actually want to provide real implementations in every class, maybe just make it virtual instead of abstract? (You could always take the time to override it with a real implementation in every class and <i>then</i> make it abstract.)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1692175808,"post_id":76911930,"comment_id":135586864,"body_markdown":"Maybe make the method non-abstract with basic no-op implementation and override only where necessary?","body":"Maybe make the method non-abstract with basic no-op implementation and override only where necessary?"}],"owner":{"account_id":5994021,"reputation":23,"user_id":4709252,"display_name":"e v e r n i t e"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692177877,"creation_date":1692175626,"question_id":76911930,"body_markdown":"I have an abstract class which is being extended by 100 classes. I add another abstract method to the abstract class. How can I implement a stub method into all subclasses at once?","title":"Auto-implement abstract methods in Java with Visual Studio Code","body":"<p>I have an abstract class which is being extended by 100 classes. I add another abstract method to the abstract class. How can I implement a stub method into all subclasses at once?</p>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1448555265,"post_id":33943213,"comment_id":55645609,"body_markdown":"Unclear and / or too broad. And &quot;Why isn&#39;t my code working?&quot;.","body":"Unclear and / or too broad. And &quot;Why isn&#39;t my code working?&quot;."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1448555686,"post_id":33943213,"comment_id":55645853,"body_markdown":"It&#39;s that kind of humor you will appreciate when you will have some more reputation... ;)","body":"It&#39;s that kind of humor you will appreciate when you will have some more reputation... ;)"},{"owner":{"account_id":6271232,"reputation":282,"user_id":4875417,"display_name":"Balira"},"score":0,"creation_date":1448561966,"post_id":33943213,"comment_id":55648863,"body_markdown":"@FrankN.Stein I hope it&#39;s clear now","body":"@FrankN.Stein I hope it&#39;s clear now"}],"answers":[{"comments":[{"owner":{"account_id":6271232,"reputation":282,"user_id":4875417,"display_name":"Balira"},"score":0,"creation_date":1448556841,"post_id":33943547,"comment_id":55646517,"body_markdown":"Thanks for your answer, I know it&#39;s return number, but the thing I&#39;m looking for is there a way that I can use to check if the permissions revoked by user or not?  and you said no . thank you","body":"Thanks for your answer, I know it&#39;s return number, but the thing I&#39;m looking for is there a way that I can use to check if the permissions revoked by user or not?  and you said no . thank you"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1448556295,"creation_date":1448556295,"answer_id":33943547,"question_id":33943213,"body_markdown":"`PERMISSION_GRANTED` is a number. Specifically, [it has a value of 0][1]. You cannot use a number to check anything.\r\n\r\nYou *can* [use `checkPermission()` on `PackageManager`][2] to see whether a particular app (identified by its application ID, a.k.a. package name) holds a particular permission. That method returns either `PERMISSION_GRANTED` or `PERMISSION_DENIED`.\r\n\r\nHowever, note that on Android 6.0+ devices, if the app you are checking is compiled with a `targetSdkVersion` of 22 or lower, `checkPermission()` will return `PERMISSION_GRANTED` so long as the permission was requested in the manifest (at least for `normal` and `dangerous` permissions, which are usually the ones that concern you). While the user can &quot;revoke permissions&quot; from those apps via the Settings app, that status is not reported by `checkPermission()`, and indeed I know of no way to find out whether the user revoked permissions from an app this way. You may see similar behavior on some custom ROMs that added this sort of permission control mechanism prior to Android 6.0.\r\n\r\n  [1]: http://developer.android.com/reference/android/content/pm/PackageManager.html#PERMISSION_GRANTED\r\n  [2]: http://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission%28java.lang.String,%20java.lang.String%29","title":"How to check what permissions another app has been granted","body":"<p><code>PERMISSION_GRANTED</code> is a number. Specifically, <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html#PERMISSION_GRANTED\" rel=\"noreferrer\">it has a value of 0</a>. You cannot use a number to check anything.</p>\n\n<p>You <em>can</em> <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\">use <code>checkPermission()</code> on <code>PackageManager</code></a> to see whether a particular app (identified by its application ID, a.k.a. package name) holds a particular permission. That method returns either <code>PERMISSION_GRANTED</code> or <code>PERMISSION_DENIED</code>.</p>\n\n<p>However, note that on Android 6.0+ devices, if the app you are checking is compiled with a <code>targetSdkVersion</code> of 22 or lower, <code>checkPermission()</code> will return <code>PERMISSION_GRANTED</code> so long as the permission was requested in the manifest (at least for <code>normal</code> and <code>dangerous</code> permissions, which are usually the ones that concern you). While the user can \"revoke permissions\" from those apps via the Settings app, that status is not reported by <code>checkPermission()</code>, and indeed I know of no way to find out whether the user revoked permissions from an app this way. You may see similar behavior on some custom ROMs that added this sort of permission control mechanism prior to Android 6.0.</p>\n"}],"owner":{"account_id":6271232,"reputation":282,"user_id":4875417,"display_name":"Balira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1448575540,"answer_count":1,"score":2,"last_activity_date":1692177584,"creation_date":1448555034,"question_id":33943213,"body_markdown":"Can I use ` checkPermission (String permName, String pkgName)` or something similar inside my application to check other apps granted permissions?\r\n\r\nfor example If I want to check if app1 which is installed in my device granted `android.permission.WRITE_CONTACTS` , can I use `checkPermission` to check that in my app or not ?\r\nI know the new release of marshmallow allow users to revoke some permissions, for that I want to check it \r\n\r\nIf that is not allowed please suggest alternative method.\r\n[This more information about checkPermission ][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission(java.lang.String,%20java.lang.String)","title":"How to check what permissions another app has been granted","body":"<p>Can I use <code> checkPermission (String permName, String pkgName)</code> or something similar inside my application to check other apps granted permissions?</p>\n<p>for example If I want to check if app1 which is installed in my device granted <code>android.permission.WRITE_CONTACTS</code> , can I use <code>checkPermission</code> to check that in my app or not ?\nI know the new release of marshmallow allow users to revoke some permissions, for that I want to check it</p>\n<p>If that is not allowed please suggest alternative method.\n<a href=\"https://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">This more information about checkPermission </a></p>\n"},{"tags":["java","php","host"],"comments":[{"owner":{"account_id":204006,"reputation":48699,"user_id":451969,"accept_rate":84,"display_name":"Jared Farrish"},"score":0,"creation_date":1355619822,"post_id":13897290,"comment_id":19148964,"body_markdown":"And on the subject of interacting with whatever parts of the app are *completed* in Java, see [Guzzle](http://guzzlephp.org/). This also is built to easily integrate into Symfony. Find more out about [Sonata](https://github.com/sonata-project/) and [KnpBundles](http://knpbundles.com/). Don&#39;t reinvent the wheel.","body":"And on the subject of interacting with whatever parts of the app are <i>completed</i> in Java, see <a href=\"http://guzzlephp.org/\" rel=\"nofollow noreferrer\">Guzzle</a>. This also is built to easily integrate into Symfony. Find more out about <a href=\"https://github.com/sonata-project/\" rel=\"nofollow noreferrer\">Sonata</a> and <a href=\"http://knpbundles.com/\" rel=\"nofollow noreferrer\">KnpBundles</a>. Don&#39;t reinvent the wheel."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1355643725,"post_id":13897290,"comment_id":19152095,"body_markdown":"Having half of app in Java and switching to PHP? That&#39;s like having half-built Ferarri and towing it with Wartburg.","body":"Having half of app in Java and switching to PHP? That&#39;s like having half-built Ferarri and towing it with Wartburg."}],"answers":[{"comments":[{"owner":{"account_id":2150559,"reputation":59,"user_id":1907060,"display_name":"jack"},"score":0,"creation_date":1355852648,"post_id":13897347,"comment_id":19218922,"body_markdown":"Thank you very much for your answers, as I am a newbie I will look for a hosting company that will host both Apache/PHP and Tomcat. Thanks again for your time in answering and the resource links you provided I will look at those also for the integration part","body":"Thank you very much for your answers, as I am a newbie I will look for a hosting company that will host both Apache/PHP and Tomcat. Thanks again for your time in answering and the resource links you provided I will look at those also for the integration part"}],"tags":[],"owner":{"account_id":1434342,"reputation":14396,"user_id":1356062,"accept_rate":75,"display_name":"Igwe Kalu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355661201,"creation_date":1355615995,"answer_id":13897347,"question_id":13897290,"body_markdown":"You don&#39;t need any bridge. But you may use the Java app as a service... Simply make a request to it from your PHP (using an AJAX call possibly) and then display the response as it was returned.\r\n\r\nThat&#39;s the simplest solution I can offer.\r\n\r\nBefore you ask more question I suggest you read a bit about AJAX [here][1] and web service [here][2]. :-)\r\n\r\njQuery Ajax has the dataType property by which you can clearly specify how you wish to receive a response, and HTML is one of the options. But he doesn&#39;t even have to tweak that since Ajax can intelligently guess the nature of the data and return it as expected. The only issue that may exist in this method is that it may introduce some latency.\r\n\r\nYou can find out about how you can use jQuery/Ajax to solve this problem by reading this [doc][3] and read about the options [here][4].\r\n\r\nRead my comments on the other answers too, if you will...\r\n\r\n\r\n  [1]: http://www.w3schools.com/ajax/default.asp\r\n  [2]: http://www.w3schools.com/webservices/default.asp\r\n  [3]: http://docs.jquery.com/Ajax/jQuery.ajax\r\n  [4]: http://api.jquery.com/jQuery.ajax/","title":"Hosting php and Java together","body":"<p>You don't need any bridge. But you may use the Java app as a service... Simply make a request to it from your PHP (using an AJAX call possibly) and then display the response as it was returned.</p>\n\n<p>That's the simplest solution I can offer.</p>\n\n<p>Before you ask more question I suggest you read a bit about AJAX <a href=\"http://www.w3schools.com/ajax/default.asp\" rel=\"nofollow\">here</a> and web service <a href=\"http://www.w3schools.com/webservices/default.asp\" rel=\"nofollow\">here</a>. :-)</p>\n\n<p>jQuery Ajax has the dataType property by which you can clearly specify how you wish to receive a response, and HTML is one of the options. But he doesn't even have to tweak that since Ajax can intelligently guess the nature of the data and return it as expected. The only issue that may exist in this method is that it may introduce some latency.</p>\n\n<p>You can find out about how you can use jQuery/Ajax to solve this problem by reading this <a href=\"http://docs.jquery.com/Ajax/jQuery.ajax\" rel=\"nofollow\">doc</a> and read about the options <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Read my comments on the other answers too, if you will...</p>\n"},{"comments":[{"owner":{"account_id":2150559,"reputation":59,"user_id":1907060,"display_name":"jack"},"score":0,"creation_date":1355851188,"post_id":13899394,"comment_id":19218272,"body_markdown":"Thank you @Ondra Žižka, the Red Hat&#39;s OpenShift project is interesting I will look in to that, thanks again for your time in answering, it is very appreciated.","body":"Thank you @Ondra Žižka, the Red Hat&#39;s OpenShift project is interesting I will look in to that, thanks again for your time in answering, it is very appreciated."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1355854571,"post_id":13899394,"comment_id":19219675,"body_markdown":"You can say all that by clicking on the up arrow, saves time ;-)","body":"You can say all that by clicking on the up arrow, saves time ;-)"}],"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355643787,"creation_date":1355642538,"answer_id":13899394,"question_id":13897290,"body_markdown":"Regarding (even free) Java and PHP hosting, try [Red Hat&#39;s OpenShift](https://openshift.redhat.com/app/)\r\n\r\nRegarding PHP interacting with Java and vice versa - there&#39;s multitude of ways:\r\n\r\n* XMLRPC\r\n* REST - see https://stackoverflow.com/questions/1628628/how-to-write-rest-in-php and e.g. RestEasy http://www.jboss.org/resteasy\r\n* PHP&#39;s Java integration - http://php.net/manual/en/book.java.php  \r\netc.\r\n\r\nAlso, there was [Caucho Quercus](http://www.caucho.com/resin-3.1/doc/quercus.xtp), PHP interpreted in Java. But that&#39;s a dead project AFAIK","title":"Hosting php and Java together","body":"<p>Regarding (even free) Java and PHP hosting, try <a href=\"https://openshift.redhat.com/app/\" rel=\"nofollow noreferrer\">Red Hat's OpenShift</a></p>\n\n<p>Regarding PHP interacting with Java and vice versa - there's multitude of ways:</p>\n\n<ul>\n<li>XMLRPC</li>\n<li>REST - see <a href=\"https://stackoverflow.com/questions/1628628/how-to-write-rest-in-php\">Can you use REST in PHP? If so how?</a> and e.g. RestEasy <a href=\"http://www.jboss.org/resteasy\" rel=\"nofollow noreferrer\">http://www.jboss.org/resteasy</a></li>\n<li>PHP's Java integration - <a href=\"http://php.net/manual/en/book.java.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/book.java.php</a><br>\netc.</li>\n</ul>\n\n<p>Also, there was <a href=\"http://www.caucho.com/resin-3.1/doc/quercus.xtp\" rel=\"nofollow noreferrer\">Caucho Quercus</a>, PHP interpreted in Java. But that's a dead project AFAIK</p>\n"},{"comments":[{"owner":{"account_id":204006,"reputation":48699,"user_id":451969,"accept_rate":84,"display_name":"Jared Farrish"},"score":0,"creation_date":1355644439,"post_id":13899454,"comment_id":19152213,"body_markdown":"That&#39;s a great point about the &quot;code conversion&quot; vaporware. Didn&#39;t Microsoft have a tool they released a while back that &quot;converted&quot; Java to C#. Everyone got all excited, then it came out; they pulled up the &quot;converted&quot; files, whole and massive chunks of code had been wholesale commented out? With the development and proliferation of transport systems and layers for data, you just work out a REST service and all the PHP and Rube Rails geeks are getting all in your business. We have a JIRA system and I had *VBA* grabbing data for reports.","body":"That&#39;s a great point about the &quot;code conversion&quot; vaporware. Didn&#39;t Microsoft have a tool they released a while back that &quot;converted&quot; Java to C#. Everyone got all excited, then it came out; they pulled up the &quot;converted&quot; files, whole and massive chunks of code had been wholesale commented out? With the development and proliferation of transport systems and layers for data, you just work out a REST service and all the PHP and Rube Rails geeks are getting all in your business. We have a JIRA system and I had <i>VBA</i> grabbing data for reports."},{"owner":{"account_id":1434342,"reputation":14396,"user_id":1356062,"accept_rate":75,"display_name":"Igwe Kalu"},"score":0,"creation_date":1355660619,"post_id":13899454,"comment_id":19155185,"body_markdown":"You&#39;ve only just suggested how to go about getting support for Apache and Tomcat, but nothing you said answers the question on how to create a channel of interaction between both systems. The reason why I suggested AJAX is this: there&#39;s no need for PHP to do the job that Java has done already. So, simply ask Java to give you a copy of the page it would have rendered if called directly by a user-agent, get it as a response and render it too. Finished - it&#39;s that easy.","body":"You&#39;ve only just suggested how to go about getting support for Apache and Tomcat, but nothing you said answers the question on how to create a channel of interaction between both systems. The reason why I suggested AJAX is this: there&#39;s no need for PHP to do the job that Java has done already. So, simply ask Java to give you a copy of the page it would have rendered if called directly by a user-agent, get it as a response and render it too. Finished - it&#39;s that easy."},{"owner":{"account_id":1434342,"reputation":14396,"user_id":1356062,"accept_rate":75,"display_name":"Igwe Kalu"},"score":0,"creation_date":1355660998,"post_id":13899454,"comment_id":19155266,"body_markdown":"jQuery Ajax has the dataType property by which you can clearly specify how you wish to receive a response, and HTML is one of the options. But he doesn&#39;t even have to tweak that since Ajax can intelligently guess the nature of the data and return it as expected. The only issue that may exist in this method is that it may introduce some latency.","body":"jQuery Ajax has the dataType property by which you can clearly specify how you wish to receive a response, and HTML is one of the options. But he doesn&#39;t even have to tweak that since Ajax can intelligently guess the nature of the data and return it as expected. The only issue that may exist in this method is that it may introduce some latency."},{"owner":{"account_id":2150559,"reputation":59,"user_id":1907060,"display_name":"jack"},"score":0,"creation_date":1355851654,"post_id":13899454,"comment_id":19218492,"body_markdown":"@paulsm4 Thank you for your answers, definitely clarified a couple of issues I had, I had no idea that there were hosting companies currently supporting both Apache/PHP and Tomcat I am currently with Go Daddy - from what I can tell they have stopped Java hosting, thanks again for your time in answering, it is really appreciated.","body":"@paulsm4 Thank you for your answers, definitely clarified a couple of issues I had, I had no idea that there were hosting companies currently supporting both Apache/PHP and Tomcat I am currently with Go Daddy - from what I can tell they have stopped Java hosting, thanks again for your time in answering, it is really appreciated."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1438648591,"post_id":13899454,"comment_id":51525147,"body_markdown":"I might be trying 3) soon myself... Has anyone had success so far with it?","body":"I might be trying 3) soon myself... Has anyone had success so far with it?"}],"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1355643592,"creation_date":1355643268,"answer_id":13899454,"question_id":13897290,"body_markdown":"1) Most web hosting sites offer *some* provision for JSP/Servlets  (e.g. Tomcat).  Even the least expensive web site hosting services.  So looking for another provider isn&#39;t necessarily a bad idea.\r\n\r\n2) Java code can&#39;t talk directly to PHP code, and PHP code can&#39;t directly talk to Java code.  \r\n\r\n3) HOWEVER: the same web server can be configured to run both PHP/Apache and Tomcat.  For example:\r\n\r\n  * http://robjames.name/2010/01/29/configure-apache-to-run-tomcat-and-php-2/\r\n\r\n4) The same *server* can *easily* support both PHP/Apache and Tomcat as separate *services*.  In other words, the same host (e.g. www.myserver.com) can easily run Apache/PHP (e.g. http://www.myserver.com:80) and Tomcat (e.g. http://www.myserver.com:8080) concurrently.  This is a very common configuration.\r\n\r\n5) Do *not* look at any &quot;translators&quot;.  Even if you find a tool that claims to be able to do it, converting from PHP to Java, or Java to PHP, is probably going to me more trouble than it&#39;s worth.\r\n\r\n6) Unless there&#39;s a *lot* of code, I wouldn&#39;t really consider Web services (or Ajax) either. \r\n\r\n7) Just find a provider who supports Apache/PHP, Tomcat and your database of choice; create the &quot;main page&quot; on whichever one you feel most comfortable with, and modify your PHP and your JSP pages to rely on CSS to insure both have a consistent look and feel.\r\n\r\nThis approach is the easiest ... and it *might* just be all you need!\r\n\r\nGood luck","title":"Hosting php and Java together","body":"<p>1) Most web hosting sites offer <em>some</em> provision for JSP/Servlets  (e.g. Tomcat).  Even the least expensive web site hosting services.  So looking for another provider isn't necessarily a bad idea.</p>\n\n<p>2) Java code can't talk directly to PHP code, and PHP code can't directly talk to Java code.  </p>\n\n<p>3) HOWEVER: the same web server can be configured to run both PHP/Apache and Tomcat.  For example:</p>\n\n<ul>\n<li><a href=\"http://robjames.name/2010/01/29/configure-apache-to-run-tomcat-and-php-2/\" rel=\"nofollow\">http://robjames.name/2010/01/29/configure-apache-to-run-tomcat-and-php-2/</a></li>\n</ul>\n\n<p>4) The same <em>server</em> can <em>easily</em> support both PHP/Apache and Tomcat as separate <em>services</em>.  In other words, the same host (e.g. www.myserver.com) can easily run Apache/PHP (e.g. <a href=\"http://www.myserver.com:80\" rel=\"nofollow\">http://www.myserver.com:80</a>) and Tomcat (e.g. <a href=\"http://www.myserver.com:8080\" rel=\"nofollow\">http://www.myserver.com:8080</a>) concurrently.  This is a very common configuration.</p>\n\n<p>5) Do <em>not</em> look at any \"translators\".  Even if you find a tool that claims to be able to do it, converting from PHP to Java, or Java to PHP, is probably going to me more trouble than it's worth.</p>\n\n<p>6) Unless there's a <em>lot</em> of code, I wouldn't really consider Web services (or Ajax) either. </p>\n\n<p>7) Just find a provider who supports Apache/PHP, Tomcat and your database of choice; create the \"main page\" on whichever one you feel most comfortable with, and modify your PHP and your JSP pages to rely on CSS to insure both have a consistent look and feel.</p>\n\n<p>This approach is the easiest ... and it <em>might</em> just be all you need!</p>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":2040356,"reputation":36,"user_id":1821720,"display_name":"Nam Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356124581,"creation_date":1356124581,"answer_id":13997291,"question_id":13897290,"body_markdown":"Without knowing how your Java and PHP are written, AJAX may be your best bet.  But it may be possible to use Quercus to both execute your PHP code and call into your Java routines, all on the same Java server.  Of course, that will require running on a server that supports servlets.\r\n\r\n@Ondra Žižka, Quercus is alive and well, thank you very much :).","title":"Hosting php and Java together","body":"<p>Without knowing how your Java and PHP are written, AJAX may be your best bet.  But it may be possible to use Quercus to both execute your PHP code and call into your Java routines, all on the same Java server.  Of course, that will require running on a server that supports servlets.</p>\n\n<p>@Ondra Žižka, Quercus is alive and well, thank you very much :).</p>\n"},{"tags":[],"owner":{"account_id":246737,"reputation":685,"user_id":521030,"display_name":"vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360689204,"creation_date":1360689204,"answer_id":14838013,"question_id":13897290,"body_markdown":"Recently we used mod_jk for Apache(for PHP) and JBOSS for JAVA. \r\nSo, base server will be Apache and from where request redirect to JBOSS. \r\n[This might be helpful for you][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2430938/configuring-mod-rewrite-and-mod-jk-for-apache-2-2-and-jboss-4-2-3","title":"Hosting php and Java together","body":"<p>Recently we used mod_jk for Apache(for PHP) and JBOSS for JAVA. \nSo, base server will be Apache and from where request redirect to JBOSS. \n<a href=\"https://stackoverflow.com/questions/2430938/configuring-mod-rewrite-and-mod-jk-for-apache-2-2-and-jboss-4-2-3\">This might be helpful for you</a></p>\n"},{"tags":[],"owner":{"account_id":4987410,"reputation":147,"user_id":4010583,"display_name":"Ion Stefanache"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692176611,"creation_date":1692176611,"answer_id":76912062,"question_id":13897290,"body_markdown":"mod_php can be other solution if php and java working on same servers/hostings\r\nFastCGI if php and java working on different machines(servers or hostings)\r\n\r\nanyway(do not matter which method will use!) is good as practice  to use APC or other caching(PoC) to improve the site&#39;s speed","title":"Hosting php and Java together","body":"<p>mod_php can be other solution if php and java working on same servers/hostings\nFastCGI if php and java working on different machines(servers or hostings)</p>\n<p>anyway(do not matter which method will use!) is good as practice  to use APC or other caching(PoC) to improve the site's speed</p>\n"}],"owner":{"account_id":2150559,"reputation":59,"user_id":1907060,"display_name":"jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13132,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":13899454,"answer_count":6,"score":4,"last_activity_date":1692176611,"creation_date":1355615331,"question_id":13897290,"body_markdown":"I am new to web development, bear with me, the problem is that I am writing a web application that is mostly written in PHP. Although half the code has already been written in Java by a different developer, my hosting server doesn&#39;t support java. Can anyone help me with what my options are, I have googled and I&#39;ve seen a php to java bridge as a possible solution. The thing is that I can&#39;t do that because I can&#39;t currently host java servlets. If that is my only option I will have to use a different hosting company, though it is not my preferred solution. \r\n\r\nI don&#39;t know Java - is it possible to compile the java files into .class files and reference it from my php code, could my Apache server host the java .class files.\r\n\r\nIn short I need to host the Java and php code as well as reference the Java code from my php code, can I do this or would I have to rewrite the Java code in php for this to work.","title":"Hosting php and Java together","body":"<p>I am new to web development, bear with me, the problem is that I am writing a web application that is mostly written in PHP. Although half the code has already been written in Java by a different developer, my hosting server doesn't support java. Can anyone help me with what my options are, I have googled and I've seen a php to java bridge as a possible solution. The thing is that I can't do that because I can't currently host java servlets. If that is my only option I will have to use a different hosting company, though it is not my preferred solution. </p>\n\n<p>I don't know Java - is it possible to compile the java files into .class files and reference it from my php code, could my Apache server host the java .class files.</p>\n\n<p>In short I need to host the Java and php code as well as reference the Java code from my php code, can I do this or would I have to rewrite the Java code in php for this to work.</p>\n"},{"tags":["java","talend"],"answers":[{"comments":[{"owner":{"account_id":22244635,"reputation":117,"user_id":16478523,"display_name":"Jayven Javier"},"score":0,"creation_date":1692329514,"post_id":76911994,"comment_id":135611335,"body_markdown":"It works. Thanks!","body":"It works. Thanks!"}],"tags":[],"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692176045,"creation_date":1692176045,"answer_id":76911994,"question_id":76904432,"body_markdown":"Your field &quot;address&quot; seems to be a json. You should get it as a string from your first input component. Then you could parsethis string with a tExtractJsonFields component to extract data from it. Check documentation of tExtractJsonFields component to know more about it. ","title":"Java Code to get Object Data Type in Talend using tJava or tJavaRow","body":"<p>Your field &quot;address&quot; seems to be a json. You should get it as a string from your first input component. Then you could parsethis string with a tExtractJsonFields component to extract data from it. Check documentation of tExtractJsonFields component to know more about it.</p>\n"}],"owner":{"account_id":22244635,"reputation":117,"user_id":16478523,"display_name":"Jayven Javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76911994,"answer_count":1,"score":0,"last_activity_date":1692176045,"creation_date":1692088200,"question_id":76904432,"body_markdown":"I&#39;m trying to get a data from an Object Type. Any idea how to create java code to retrieve data from it? I am getting data from a MongoDB database.\r\n\r\n\r\n\r\n    .------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------.\r\n    |                                                                                                                                                                                                                                      #1. tLogRow_2                                                                                                                                                                                                                                       |\r\n    +----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    | key            | value                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\r\n    +----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    | patient_oid    | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\r\n    | mrn            | MRN23051413                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\r\n    | registereddate | 2023-08-07 12:10:29.088                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\r\n    | test           | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\r\n    | address        | {&quot;_id&quot;: {&quot;$oid&quot;: &quot;64d06eb518977e642aea2c31&quot;}, &quot;address&quot;: &quot;20 ROSAL SAMPAGUITA MALANDAY&quot;, &quot;area&quot;: &quot;Malanday&quot;, &quot;areauid&quot;: {&quot;$oid&quot;: &quot;5fe31af39034622774565a25&quot;}, &quot;city&quot;: &quot;Marikina&quot;, &quot;cityuid&quot;: {&quot;$oid&quot;: &quot;5f6ad6f56714265e8bbbba51&quot;}, &quot;state&quot;: &quot;NCR, 2nd district&quot;, &quot;stateuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3716714265e8bb9b73b&quot;}, &quot;country&quot;: &quot;Philippines&quot;, &quot;countryuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3706714265e8bb9b631&quot;}, &quot;zipcode&quot;: &quot;1805&quot;, &quot;zipcodeuid&quot;: {&quot;$oid&quot;: &quot;5fe306599034622774557943&quot;}} |\r\n    +----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    \r\n    [statistics] disconnected\r\n    \r\n    Job testmongodb ended at 16:18 15/08/2023. [Exit code  = 0]\r\n\r\n\r\nI want to have this kind of output\r\n\r\n    patient_oid        | null\r\n    mrn                | MRN23051413           \r\n    registereddate     | 2023-08-07 12:10:29.088 \r\n    address_address    | 20 ROSAL SAMPAGUITA MALANDAY\r\n    address_area       | Malanday\r\n    address_city       | Marikina\r\n    and so on......\r\n\r\n\r\nThe application is accepting java code hopefully someone can help how they did it in java in other application\r\n\r\nThis is the auto generated code in tJavaRow which return the same object type\r\n[![enter image description here][1]][1]\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                          \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ruy5x.png\r\n\r\n\r\nThank you in advance","title":"Java Code to get Object Data Type in Talend using tJava or tJavaRow","body":"<p>I'm trying to get a data from an Object Type. Any idea how to create java code to retrieve data from it? I am getting data from a MongoDB database.</p>\n<pre><code>.------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------.\n|                                                                                                                                                                                                                                      #1. tLogRow_2                                                                                                                                                                                                                                       |\n+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| key            | value                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| patient_oid    | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| mrn            | MRN23051413                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n| registereddate | 2023-08-07 12:10:29.088                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| test           | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| address        | {&quot;_id&quot;: {&quot;$oid&quot;: &quot;64d06eb518977e642aea2c31&quot;}, &quot;address&quot;: &quot;20 ROSAL SAMPAGUITA MALANDAY&quot;, &quot;area&quot;: &quot;Malanday&quot;, &quot;areauid&quot;: {&quot;$oid&quot;: &quot;5fe31af39034622774565a25&quot;}, &quot;city&quot;: &quot;Marikina&quot;, &quot;cityuid&quot;: {&quot;$oid&quot;: &quot;5f6ad6f56714265e8bbbba51&quot;}, &quot;state&quot;: &quot;NCR, 2nd district&quot;, &quot;stateuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3716714265e8bb9b73b&quot;}, &quot;country&quot;: &quot;Philippines&quot;, &quot;countryuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3706714265e8bb9b631&quot;}, &quot;zipcode&quot;: &quot;1805&quot;, &quot;zipcodeuid&quot;: {&quot;$oid&quot;: &quot;5fe306599034622774557943&quot;}} |\n+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n\n[statistics] disconnected\n\nJob testmongodb ended at 16:18 15/08/2023. [Exit code  = 0]\n</code></pre>\n<p>I want to have this kind of output</p>\n<pre><code>patient_oid        | null\nmrn                | MRN23051413           \nregistereddate     | 2023-08-07 12:10:29.088 \naddress_address    | 20 ROSAL SAMPAGUITA MALANDAY\naddress_area       | Malanday\naddress_city       | Marikina\nand so on......\n</code></pre>\n<p>The application is accepting java code hopefully someone can help how they did it in java in other application</p>\n<p>This is the auto generated code in tJavaRow which return the same object type\n<a href=\"https://i.stack.imgur.com/ruy5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ruy5x.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you in advance</p>\n"},{"tags":["java","lexicographic"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1539783397,"post_id":52856171,"comment_id":92627539,"body_markdown":"If you&#39;re asking about improving working code, then you have come to the wrong place, and *perhaps* the [code-review stackexchange](https://codereview.stackexchange.com/) is a better fit, but before asking there, do check their [help](https://codereview.stackexchange.com/help) links to find out about their question requirements. I believe that you would need to provide metrics to quantify what you mean by &quot;improved&quot;, but I could be wrong.","body":"If you&#39;re asking about improving working code, then you have come to the wrong place, and <i>perhaps</i> the <a href=\"https://codereview.stackexchange.com/\">code-review stackexchange</a> is a better fit, but before asking there, do check their <a href=\"https://codereview.stackexchange.com/help\">help</a> links to find out about their question requirements. I believe that you would need to provide metrics to quantify what you mean by &quot;improved&quot;, but I could be wrong."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1539783446,"post_id":52856171,"comment_id":92627574,"body_markdown":"Look at the source of the `compareTo` implementation http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java","body":"Look at the source of the <code>compareTo</code> implementation <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/&hellip;</a>"},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":0,"creation_date":1539783590,"post_id":52856171,"comment_id":92627673,"body_markdown":"My hint rather than providing a solution as this is an assignment is to write a function that compares 2 chars (after all they are if I am not mistaken represented as an 16 bit unsigned integer). I would then write another function that would take 2 char arrays, and that would loop through them, using the function above to do an equality check.","body":"My hint rather than providing a solution as this is an assignment is to write a function that compares 2 chars (after all they are if I am not mistaken represented as an 16 bit unsigned integer). I would then write another function that would take 2 char arrays, and that would loop through them, using the function above to do an equality check."}],"answers":[{"comments":[{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":0,"creation_date":1539962559,"post_id":52856308,"comment_id":92703417,"body_markdown":"Here is the ASCII table. UTF-8 respects the ASCII table int values for char, and by inference therefore in Java (if you use UTF-8). Given the certification information for Java fundamentals, the ASCII table below honours the lexographic ordering in Java: https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html So, the int values are correctly ordered and int comparison therefore is valid [Numbers before Uppercase before Lowercase]. I would therefore really like to know how this reasoning is falwed?","body":"Here is the ASCII table. UTF-8 respects the ASCII table int values for char, and by inference therefore in Java (if you use UTF-8). Given the certification information for Java fundamentals, the ASCII table below honours the lexographic ordering in Java: <a href=\"https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html\" rel=\"nofollow noreferrer\">cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html</a> So, the int values are correctly ordered and int comparison therefore is valid [Numbers before Uppercase before Lowercase]. I would therefore really like to know how this reasoning is falwed?"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1539963809,"post_id":52856308,"comment_id":92704040,"body_markdown":"@Beezer - I think most programmers mean &quot;alphabetic&quot; when they say &quot;lexicographic.&quot; Alphabetically in any locale you want to pick, the `&#224;` in &quot;voil&#224;&quot; comes before any of the other letters in it if you sort them. And it does with a `Collator`. It doesn&#39;t if you do a na&#239;ve numeric comparison. I&#39;ve updated the answer to draw the distinction.","body":"@Beezer - I think most programmers mean &quot;alphabetic&quot; when they say &quot;lexicographic.&quot; Alphabetically in any locale you want to pick, the <code>&#224;</code> in &quot;voil&#224;&quot; comes before any of the other letters in it if you sort them. And it does with a <code>Collator</code>. It doesn&#39;t if you do a na&#239;ve numeric comparison. I&#39;ve updated the answer to draw the distinction."},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":1,"creation_date":1540049857,"post_id":52856308,"comment_id":92725356,"body_markdown":"I see. Then actually the question I read was not the one posed. Thanks very much. This is actually a very subtle difference. Many thanks; I will check out Collator.","body":"I see. Then actually the question I read was not the one posed. Thanks very much. This is actually a very subtle difference. Many thanks; I will check out Collator."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1540057573,"post_id":52856308,"comment_id":92727560,"body_markdown":"@Beezer - I think you can read the question either way, actually. :-) In any case, your comment helped improve the answer. Thanks!","body":"@Beezer - I think you can read the question either way, actually. :-) In any case, your comment helped improve the answer. Thanks!"},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":0,"creation_date":1540145317,"post_id":52856308,"comment_id":92746537,"body_markdown":"I just looked up the differences between Lexico and Alpha: https://www.quora.com/Whats-the-difference-between-lexicographical-and-alphabetical-order ... the question clearly asks for Lexico...:=) so maybe I was being self-deprecating a little too soon. Thanks all the same....I will read on.","body":"I just looked up the differences between Lexico and Alpha: <a href=\"https://www.quora.com/Whats-the-difference-between-lexicographical-and-alphabetical-order\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a> ... the question clearly asks for Lexico...:=) so maybe I was being self-deprecating a little too soon. Thanks all the same....I will read on."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1540145428,"post_id":52856308,"comment_id":92746575,"body_markdown":"@Beezer - Mathematics is just one domain where the word is used. In non-mathematics use, I believe you can ready &quot;lexicographic order&quot; as &quot;dictionary order&quot; -- e.g., alphabetical (mostly).","body":"@Beezer - Mathematics is just one domain where the word is used. In non-mathematics use, I believe you can ready &quot;lexicographic order&quot; as &quot;dictionary order&quot; -- e.g., alphabetical (mostly)."},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":0,"creation_date":1540237308,"post_id":52856308,"comment_id":92782392,"body_markdown":"Thanks. I mean the more I dig the crazier this subject matter gets. :=)","body":"Thanks. I mean the more I dig the crazier this subject matter gets. :=)"}],"tags":[],"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539963675,"creation_date":1539783553,"answer_id":52856308,"question_id":52856171,"body_markdown":"A couple of notes for you:\r\n\r\n* You only need one loop: From the beginning to the lower of the two lengths. If the arrays are the same up until the lower of the two lengths and their lengths are different, your assignment should tell you what to return (normally it would be -1 if the left array was shorter than the right, 1 otherwise).\r\n\r\n* `a &lt; b` isn&#39;t a valid alphabetic comparison of two characters (what most programmers mean when they say &quot;lexicographic&quot;, the &quot;lexico&quot; meaning &quot;pertaining to words&quot;), it&#39;s a *numeric* comparison. Now, `String`&#39;s [`compareTo`][1] claims to use &quot;lexicographic ordering,&quot; but it really just uses numeric ordering, so that may be good enough for what you&#39;re doing. If you want alphabetic ordering, I can&#39;t think of a JDK comparison method that accepts two single *chars* to compare rather than strings. There may be one I don&#39;t know of, or you may have to create one-character strings to do the comparison (with a [`Collator`][2]), which will (for instance) correctly identify that the `&#224;` in &quot;voil&#224;&quot; should be before any of the other letters in it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#compareTo(java.lang.String)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/text/Collator.html","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<p>A couple of notes for you:</p>\n\n<ul>\n<li><p>You only need one loop: From the beginning to the lower of the two lengths. If the arrays are the same up until the lower of the two lengths and their lengths are different, your assignment should tell you what to return (normally it would be -1 if the left array was shorter than the right, 1 otherwise).</p></li>\n<li><p><code>a &lt; b</code> isn't a valid alphabetic comparison of two characters (what most programmers mean when they say \"lexicographic\", the \"lexico\" meaning \"pertaining to words\"), it's a <em>numeric</em> comparison. Now, <code>String</code>'s <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\"><code>compareTo</code></a> claims to use \"lexicographic ordering,\" but it really just uses numeric ordering, so that may be good enough for what you're doing. If you want alphabetic ordering, I can't think of a JDK comparison method that accepts two single <em>chars</em> to compare rather than strings. There may be one I don't know of, or you may have to create one-character strings to do the comparison (with a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>), which will (for instance) correctly identify that the <code>à</code> in \"voilà\" should be before any of the other letters in it.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1539789241,"post_id":52857074,"comment_id":92631358,"body_markdown":"Why would you bother with a BiFunction here instead of another method?","body":"Why would you bother with a BiFunction here instead of another method?"},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":0,"creation_date":1539860471,"post_id":52857074,"comment_id":92658505,"body_markdown":"Because I felt like it Louis. I am free to express myself in a language that you are not the police of, even if you work for Google. Freedom of expression. 1st amendment right I believe. Feeling like it...the same way you felt like commenting and maybe down-voting it. But i don&#39;t care. Its not your language. It belongs to anyone and everyone that feels like using it to express themselves to have Fun. You remember FUN right Louis? Fun trumps ego.","body":"Because I felt like it Louis. I am free to express myself in a language that you are not the police of, even if you work for Google. Freedom of expression. 1st amendment right I believe. Feeling like it...the same way you felt like commenting and maybe down-voting it. But i don&#39;t care. Its not your language. It belongs to anyone and everyone that feels like using it to express themselves to have Fun. You remember FUN right Louis? Fun trumps ego."}],"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1539786558,"creation_date":1539785781,"answer_id":52857074,"question_id":52856171,"body_markdown":"okay I gave up and wrote it...no Unit testing (always delivery code Unit Tested) but I think this should give you a good idea to work functionally (there are like edge cases like different lengths etc. I have not dealt with but you get the idea right?)...cheers and have fun :=)...it can be done more efficiently i guess with streams...\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Character&gt; firstCharArr = new ArrayList&lt;&gt;(Arrays.asList(&#39;a&#39;, &#39;c&#39;));\r\n        List&lt;Character&gt; secondCharArr = new ArrayList&lt;&gt;(Arrays.asList(&#39;x&#39;, &#39;c&#39;));\r\n\r\n        BiFunction&lt;Character, Character, Integer&gt; charCompareFunction = new BiFunction&lt;Character, Character, Integer&gt;() {\r\n            @Override\r\n            public Integer apply(Character character, Character character2) {\r\n                if (character.charValue() &lt; character2.charValue()) {\r\n                    return -1;\r\n                } else if (character.charValue() == character2.charValue()) {\r\n                    return 0;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        };\r\n\r\n        int i = 0;\r\n        for (Character firstLineChar : firstCharArr) {\r\n            if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) == 0) {\r\n                continue;\r\n            } else {\r\n                if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) &lt; 0) {\r\n                    System.out.println(&quot;FirstLine is Smaller&quot;);\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;FirstLine is Larger&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIn fact, you can using the above, prove the character lexicographic order of Java:\r\nNumbers before letters\r\nUppercase before lowercase ","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<p>okay I gave up and wrote it...no Unit testing (always delivery code Unit Tested) but I think this should give you a good idea to work functionally (there are like edge cases like different lengths etc. I have not dealt with but you get the idea right?)...cheers and have fun :=)...it can be done more efficiently i guess with streams...</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Character&gt; firstCharArr = new ArrayList&lt;&gt;(Arrays.asList('a', 'c'));\n    List&lt;Character&gt; secondCharArr = new ArrayList&lt;&gt;(Arrays.asList('x', 'c'));\n\n    BiFunction&lt;Character, Character, Integer&gt; charCompareFunction = new BiFunction&lt;Character, Character, Integer&gt;() {\n        @Override\n        public Integer apply(Character character, Character character2) {\n            if (character.charValue() &lt; character2.charValue()) {\n                return -1;\n            } else if (character.charValue() == character2.charValue()) {\n                return 0;\n            } else {\n                return 1;\n            }\n        }\n    };\n\n    int i = 0;\n    for (Character firstLineChar : firstCharArr) {\n        if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) == 0) {\n            continue;\n        } else {\n            if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) &lt; 0) {\n                System.out.println(\"FirstLine is Smaller\");\n                break;\n            } else {\n                System.out.println(\"FirstLine is Larger\");\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In fact, you can using the above, prove the character lexicographic order of Java:\nNumbers before letters\nUppercase before lowercase </p>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692175870,"creation_date":1692175870,"answer_id":76911973,"question_id":52856171,"body_markdown":"    Sharing a custom method for comparing two char array lexicographically\r\n    \r\n     public static int lexicographicalSort(char[] chArr1, char[] chArr2){\r\n    \r\n            // return -ve means chArr1 or first word comes before the second in a \r\n               lexicographical order\r\n            // return  +ve means chArr1 or first word comes after the second in a \r\n               lexicographical order\r\n            // return  0 means chArr1 and chArr2 contents are same\r\n\r\n            int min = Math.min(chArr1.length,chArr2.length);\r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( chArr1[k] != chArr2[k]){\r\n                    return chArr1[k]-chArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return chArr1.length-chArr2.length;\r\n        }","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<pre><code>Sharing a custom method for comparing two char array lexicographically\n\n public static int lexicographicalSort(char[] chArr1, char[] chArr2){\n\n        // return -ve means chArr1 or first word comes before the second in a \n           lexicographical order\n        // return  +ve means chArr1 or first word comes after the second in a \n           lexicographical order\n        // return  0 means chArr1 and chArr2 contents are same\n\n        int min = Math.min(chArr1.length,chArr2.length);\n        int k = 0;\n\n        while(k&lt;min){\n            if( chArr1[k] != chArr2[k]){\n                return chArr1[k]-chArr2[k];\n            }\n            k++;\n        }\n\n        return chArr1.length-chArr2.length;\n    }\n</code></pre>\n"}],"owner":{"account_id":10706994,"reputation":83,"user_id":8760898,"accept_rate":88,"display_name":"Blebhebhe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52856308,"answer_count":3,"score":0,"last_activity_date":1692175870,"creation_date":1539783102,"question_id":52856171,"body_markdown":"I have to write a function that takes 2 `char[]`s and returns:\r\n\r\n* `-1` if the the first word comes before the second in a lexicographical order\r\n* `0` if they are the same word\r\n* `1` if it comes after\r\n\r\nI&#39;m aware of `compareTo()` method but this is an assignment, I need to avoid using it. So far, my code is working well, I&#39;ve done a few tests with different words.\r\n\r\nI was wondering if there was another way of doing it, my code doesn&#39;t feel optimized, it&#39;s long and repetitive:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static int lexico(char[] word1, char[] word2) {\r\n    \t\tint length1 = word1.length;\r\n    \t\tint length2 = word2.length;\r\n    \r\n    \t\tif (length1 == length2) {\r\n    \t\t\tfor (int i = 0; i &lt; length1; i++) {\r\n    \t\t\t\tif (word1[i] &lt; word2[i]) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t} else if (word1[i] &gt; word2[i]) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t} else if (i == length1 - 1) {\r\n    \t\t\t\t\treturn 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (length1 &lt; length2) {\r\n    \t\t\tfor (int i = 0; i &lt; length1; i++) {\r\n    \t\t\t\tif (word1[i] &lt; word2[i]) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t} else if (word1[i] &gt; word2[i]) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t} else if (i == length1 - 1) {\r\n    \t\t\t\t\t// If I&#39;m here then it means that all of the characters\r\n    \t\t\t\t\t// from 0 to length1-1 are equals\r\n    \t\t\t\t\t// but since length of the first string is shorter than the second,\r\n    \t\t\t\t\t// the first string will be put before the second\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (length1 &gt; length2) {\r\n    \t\t\tfor (int i = 0; i &lt; length2; i++) {\r\n    \t\t\t\tif (word1[i] &lt; word2[i]) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t} else if (word1[i] &gt; word2[i]) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t} else if (i == length1 - 1) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn -999;\r\n    \t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tchar[] share = { &#39;s&#39;, &#39;h&#39;, &#39;a&#39;, &#39;r&#39;, &#39;e&#39; };\r\n\t\tchar[] ship = { &#39;s&#39;, &#39;h&#39;, &#39;i&#39;, &#39;p&#39; };\r\n\r\n\t\tSystem.out.println(lexico(share, ship)); // -1 share is before ship\r\n\t\tSystem.out.println(lexico(ship, share)); // 1 ship is after share\r\n\t\tSystem.out.println(lexico(ship, ship)); // 0 same word\r\n\r\n\t}","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<p>I have to write a function that takes 2 <code>char[]</code>s and returns:</p>\n\n<ul>\n<li><code>-1</code> if the the first word comes before the second in a lexicographical order</li>\n<li><code>0</code> if they are the same word</li>\n<li><code>1</code> if it comes after</li>\n</ul>\n\n<p>I'm aware of <code>compareTo()</code> method but this is an assignment, I need to avoid using it. So far, my code is working well, I've done a few tests with different words.</p>\n\n<p>I was wondering if there was another way of doing it, my code doesn't feel optimized, it's long and repetitive:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int lexico(char[] word1, char[] word2) {\n        int length1 = word1.length;\n        int length2 = word2.length;\n\n        if (length1 == length2) {\n            for (int i = 0; i &lt; length1; i++) {\n                if (word1[i] &lt; word2[i]) {\n                    return -1;\n                } else if (word1[i] &gt; word2[i]) {\n                    return 1;\n                } else if (i == length1 - 1) {\n                    return 0;\n                }\n            }\n        }\n\n        if (length1 &lt; length2) {\n            for (int i = 0; i &lt; length1; i++) {\n                if (word1[i] &lt; word2[i]) {\n                    return -1;\n                } else if (word1[i] &gt; word2[i]) {\n                    return 1;\n                } else if (i == length1 - 1) {\n                    // If I'm here then it means that all of the characters\n                    // from 0 to length1-1 are equals\n                    // but since length of the first string is shorter than the second,\n                    // the first string will be put before the second\n                    return -1;\n                }\n\n            }\n        }\n\n        if (length1 &gt; length2) {\n            for (int i = 0; i &lt; length2; i++) {\n                if (word1[i] &lt; word2[i]) {\n                    return -1;\n                } else if (word1[i] &gt; word2[i]) {\n                    return 1;\n                } else if (i == length1 - 1) {\n                    return 1;\n                }\n            }\n        }\n\n        return -999;\n    }\n\npublic static void main(String[] args) {\n    char[] share = { 's', 'h', 'a', 'r', 'e' };\n    char[] ship = { 's', 'h', 'i', 'p' };\n\n    System.out.println(lexico(share, ship)); // -1 share is before ship\n    System.out.println(lexico(ship, share)); // 1 ship is after share\n    System.out.println(lexico(ship, ship)); // 0 same word\n\n}\n</code></pre>\n"},{"tags":["java","out-of-memory","hl7-fhir"],"answers":[{"tags":[],"owner":{"account_id":2766933,"reputation":6533,"user_id":2382420,"display_name":"Lloyd McKenzie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691762184,"creation_date":1691762184,"answer_id":76884207,"question_id":76880958,"body_markdown":"-Xmx2048M is extremely low for running the publisher.  It&#39;s quite possible you&#39;re just hitting the memory limitations of the process.  (The publisher is loading all of the UTG terminology, all of the core specification profiles, all the standard extensions, plus any of your dependent IGs before it even starts to load your own content.)  Typically you&#39;d want at least a 16 GB machine and more is better.","title":"HL7 FSH IG Publisher java.lang.OutOfMemoryError: Java heap space issue","body":"<p>-Xmx2048M is extremely low for running the publisher.  It's quite possible you're just hitting the memory limitations of the process.  (The publisher is loading all of the UTG terminology, all of the core specification profiles, all the standard extensions, plus any of your dependent IGs before it even starts to load your own content.)  Typically you'd want at least a 16 GB machine and more is better.</p>\n"}],"owner":{"account_id":14784034,"reputation":401,"user_id":10676790,"display_name":"srijan439"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692175658,"creation_date":1691732729,"question_id":76880958,"body_markdown":"I have upgraded the FSH publisher.jar to 1.3.28 and getting the following exception.\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\nat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read0(StreamDecoder.java:137)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:122)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:169)\r\n\tat org.hl7.fhir.utilities.TextFile.streamToString(TextFile.java:177)\r\n\tat org.hl7.fhir.r4.formats.JsonParserBase.loadJson(JsonParserBase.java:220)\r\n\tat org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:130)\r\n\tat org.hl7.fhir.convertors.loaders.loaderR5.R4ToR5Loader.loadResource(R4ToR5Loader.java:114)\r\n\tat org.hl7.fhir.r5.context.SimpleWorkerContext$PackageResourceLoader.loadResource(SimpleWorkerContext.java:112)\r\n\tat org.hl7.fhir.r5.context.CanonicalResourceManager$CanonicalResourceProxy.getResource(CanonicalResourceManager.java:80)\r\n\tat org.hl7.fhir.r5.context.CanonicalResourceManager$CachedCanonicalResource.getResource(CanonicalResourceManager.java:140)\r\n\tat org.hl7.fhir.r5.context.CanonicalResourceManager.getList(CanonicalResourceManager.java:618)\r\n\tat org.hl7.fhir.r5.context.BaseWorkerContext.fetchResourcesByType(BaseWorkerContext.java:2014)\r\n\tat org.hl7.fhir.igtools.renderers.ValueSetRenderer.xref(ValueSetRenderer.java:106)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generateOutputsValueSet(Publisher.java:10579)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:9727)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:9593)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:7053)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1103)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:933)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:11666)\r\n\r\n```\r\n\r\n\r\nI have tried updating the jvm arguments as well with the following command but still it takes around 1hr 20 mins to build the project even though the project was building in 30 minutes earlier.\r\n\r\n&gt; JAVA -Xms1024M -Xmx2048M -jar &quot;..\\input-cache\\%publisher_jar%&quot; -ig . %* \r\n\r\nPlease help. Thanks.\r\n","title":"HL7 FSH IG Publisher java.lang.OutOfMemoryError: Java heap space issue","body":"<p>I have upgraded the FSH publisher.jar to 1.3.28 and getting the following exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\nat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/sun.nio.cs.StreamDecoder.read0(StreamDecoder.java:137)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:122)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:169)\n    at org.hl7.fhir.utilities.TextFile.streamToString(TextFile.java:177)\n    at org.hl7.fhir.r4.formats.JsonParserBase.loadJson(JsonParserBase.java:220)\n    at org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:130)\n    at org.hl7.fhir.convertors.loaders.loaderR5.R4ToR5Loader.loadResource(R4ToR5Loader.java:114)\n    at org.hl7.fhir.r5.context.SimpleWorkerContext$PackageResourceLoader.loadResource(SimpleWorkerContext.java:112)\n    at org.hl7.fhir.r5.context.CanonicalResourceManager$CanonicalResourceProxy.getResource(CanonicalResourceManager.java:80)\n    at org.hl7.fhir.r5.context.CanonicalResourceManager$CachedCanonicalResource.getResource(CanonicalResourceManager.java:140)\n    at org.hl7.fhir.r5.context.CanonicalResourceManager.getList(CanonicalResourceManager.java:618)\n    at org.hl7.fhir.r5.context.BaseWorkerContext.fetchResourcesByType(BaseWorkerContext.java:2014)\n    at org.hl7.fhir.igtools.renderers.ValueSetRenderer.xref(ValueSetRenderer.java:106)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateOutputsValueSet(Publisher.java:10579)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:9727)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:9593)\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:7053)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1103)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:933)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:11666)\n\n</code></pre>\n<p>I have tried updating the jvm arguments as well with the following command but still it takes around 1hr 20 mins to build the project even though the project was building in 30 minutes earlier.</p>\n<blockquote>\n<p>JAVA -Xms1024M -Xmx2048M -jar &quot;..\\input-cache%publisher_jar%&quot; -ig . %*</p>\n</blockquote>\n<p>Please help. Thanks.</p>\n"},{"tags":["java","recursion","memory","arraylist","coin-change"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1692162426,"post_id":76910595,"comment_id":135584777,"body_markdown":"You can&#39;t and shouldn&#39;t try to avoid duplicating the list. Without duplicating the list, the result will contain multiple references to the same list object, which is not what you want.","body":"You can&#39;t and shouldn&#39;t try to avoid duplicating the list. Without duplicating the list, the result will contain multiple references to the same list object, which is not what you want."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1692162467,"post_id":76910595,"comment_id":135584785,"body_markdown":"The copy is necessary to capture the state of `list` when you add it to `result`. Otherwise `list.add()` and `list.remove()` would continue modifying it in place.","body":"The copy is necessary to capture the state of <code>list</code> when you add it to <code>result</code>. Otherwise <code>list.add()</code> and <code>list.remove()</code> would continue modifying it in place."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692163662,"creation_date":1692163662,"answer_id":76910720,"question_id":76910595,"body_markdown":"Elaborating to what @shmosel pointed out, if you do: ```result.add(list);``` you are directly adding the list to the `result`. So, when you do: ```list.add(candidates[ind]);``` and ```list.remove(list.size()-1);``` later on, it will modify the ```list``` and consequently the ```result``` list as well. It is because, the ```list``` you have stored inside the ```result``` and the one you are modifying later on with `add` and `remove` is the same list.\r\n\r\nSo, to make sure that it does not happen, you need to create a copy of the ```list``` and store it in the ```result``` instead of using the original list directly.","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<p>Elaborating to what @shmosel pointed out, if you do: <code>result.add(list);</code> you are directly adding the list to the <code>result</code>. So, when you do: <code>list.add(candidates[ind]);</code> and <code>list.remove(list.size()-1);</code> later on, it will modify the <code>list</code> and consequently the <code>result</code> list as well. It is because, the <code>list</code> you have stored inside the <code>result</code> and the one you are modifying later on with <code>add</code> and <code>remove</code> is the same list.</p>\n<p>So, to make sure that it does not happen, you need to create a copy of the <code>list</code> and store it in the <code>result</code> instead of using the original list directly.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692164000,"creation_date":1692164000,"answer_id":76910748,"question_id":76910595,"body_markdown":"&gt; This solution does not work if I replace the 5th line `result.add(new ArrayList&lt;&gt;(list));` with `result.add(list);`\r\n\r\nCorrect.  You seem already to understand that the latter adds the working list itself, not a copy of it, so you should also understand that in that case, the subsequent invocations of `list.add()` and `list.remove()` affect the same list that you added to the result, however many times you added it.  That&#39;s not what you want.  To be able to return multiple solutions, you need multiple lists, just as your original code provides.\r\n","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<blockquote>\n<p>This solution does not work if I replace the 5th line <code>result.add(new ArrayList&lt;&gt;(list));</code> with <code>result.add(list);</code></p>\n</blockquote>\n<p>Correct.  You seem already to understand that the latter adds the working list itself, not a copy of it, so you should also understand that in that case, the subsequent invocations of <code>list.add()</code> and <code>list.remove()</code> affect the same list that you added to the result, however many times you added it.  That's not what you want.  To be able to return multiple solutions, you need multiple lists, just as your original code provides.</p>\n"},{"tags":[],"owner":{"account_id":6607377,"reputation":97,"user_id":5103788,"display_name":"Pancham Goyal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692174293,"creation_date":1692174293,"answer_id":76911765,"question_id":76910595,"body_markdown":"The issue you&#39;re encountering is related to how Java handles objects and references. When you add the list to the result without creating a new instance of ArrayList, you&#39;re actually adding a reference to the same list object. As a result, when you later modify the list (by adding or removing elements), those changes are reflected in the previously added lists as well, since they all point to the same underlying object.\r\n\r\nTo fix this issue, you will need to create a new instance of ArrayList each time you want to add it to the result. This ensures that each combination is stored separately and not affected by future modifications. This is why the line `result.add(new ArrayList&lt;&gt;(list));` works correctly.\r\n\r\nIn contrast, when you use `result.add(list);`, you&#39;re adding a reference to the existing list, and subsequent modifications will impact all the references to that list.\r\n\r\nI hope that answers your question. \r\n\r\nBelow is my solution to `Combination Sum` problem that you&#39;re trying to solve\r\n\r\n```\r\npublic class CombinationSum {\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        backtrack(result, new ArrayList&lt;&gt;(), candidates, target, 0);\r\n        return result;\r\n    }\r\n\r\n    private void backtrack(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; current, int[] candidates, int target, int start) {\r\n        if (target &lt; 0) {\r\n            return;\r\n        } else if (target == 0) {\r\n            result.add(new ArrayList&lt;&gt;(current));\r\n        } else {\r\n            for (int i = start; i &lt; candidates.length; i++) {\r\n                current.add(candidates[i]);\r\n                backtrack(result, current, candidates, target - candidates[i], i);\r\n                current.remove(current.size() - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CombinationSum solution = new CombinationSum();\r\n        int[] candidates = {2, 3, 6, 7};\r\n        int target = 7;\r\n        List&lt;List&lt;Integer&gt;&gt; result = solution.combinationSum(candidates, target);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<p>The issue you're encountering is related to how Java handles objects and references. When you add the list to the result without creating a new instance of ArrayList, you're actually adding a reference to the same list object. As a result, when you later modify the list (by adding or removing elements), those changes are reflected in the previously added lists as well, since they all point to the same underlying object.</p>\n<p>To fix this issue, you will need to create a new instance of ArrayList each time you want to add it to the result. This ensures that each combination is stored separately and not affected by future modifications. This is why the line <code>result.add(new ArrayList&lt;&gt;(list));</code> works correctly.</p>\n<p>In contrast, when you use <code>result.add(list);</code>, you're adding a reference to the existing list, and subsequent modifications will impact all the references to that list.</p>\n<p>I hope that answers your question.</p>\n<p>Below is my solution to <code>Combination Sum</code> problem that you're trying to solve</p>\n<pre><code>public class CombinationSum {\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        backtrack(result, new ArrayList&lt;&gt;(), candidates, target, 0);\n        return result;\n    }\n\n    private void backtrack(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; current, int[] candidates, int target, int start) {\n        if (target &lt; 0) {\n            return;\n        } else if (target == 0) {\n            result.add(new ArrayList&lt;&gt;(current));\n        } else {\n            for (int i = start; i &lt; candidates.length; i++) {\n                current.add(candidates[i]);\n                backtrack(result, current, candidates, target - candidates[i], i);\n                current.remove(current.size() - 1);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        CombinationSum solution = new CombinationSum();\n        int[] candidates = {2, 3, 6, 7};\n        int target = 7;\n        List&lt;List&lt;Integer&gt;&gt; result = solution.combinationSum(candidates, target);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17382773,"reputation":13,"user_id":12594675,"display_name":"Harshith Pillai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76910748,"answer_count":3,"score":1,"last_activity_date":1692175341,"creation_date":1692161354,"question_id":76910595,"body_markdown":"I have been trying to solve this leetcode question [Combination Sum](https://leetcode.com/problems/combination-sum) \r\n\r\n&gt;Given an array of distinct integers candidates and a target integer, &gt;return a list of all unique combinations of candidates where the &gt;chosen numbers sum to target. You may return the combinations in any &gt;order.\r\n&gt;\r\n&gt;The same number may be chosen from candidates an unlimited number of &gt;times. Two combinations are unique if the frequency of at least one of &gt;the chosen numbers is different.\r\n\r\nAnd I came up with this solution:\r\n```\r\nclass Solution {\r\n    public void recUtil(List&lt;List&lt;Integer&gt;&gt; result, int[] candidates, List&lt;Integer&gt; list, int sum, int target, int ind) {\r\n        if(sum&gt;target || ind&gt;=candidates.length) return;\r\n        if(sum==target) {\r\n            result.add(new ArrayList&lt;&gt;(list));\r\n            return;\r\n        }\r\n\r\n        recUtil(result, candidates, list, sum, target, ind+1);\r\n        list.add(candidates[ind]);\r\n        recUtil(result, candidates, list, sum+candidates[ind], target, ind);\r\n        list.remove(list.size()-1);\r\n    }\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        \r\n        recUtil(result, candidates, new ArrayList&lt;&gt;(), 0, target, 0);\r\n\r\n        return result;        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThis solution does not work if I replace the 5th line `result.add(new ArrayList&lt;&gt;(list));` with `result.add(list);` \r\n\r\n\r\nFor the input:\r\n&gt;[2,3,6,7]\r\n\r\nAnd target `7`, I get two empty ArrayLists in the result ArrayList\r\n&gt;[[],[]]\r\n\r\nInstead of \r\n&gt;[[2,2,3],[7]]\r\n\r\n\r\nI know it must be something stupid, so I was afraid to ask here.\r\nI am new to java, can anyone please explain why just adding the list to the result does not work.","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<p>I have been trying to solve this leetcode question <a href=\"https://leetcode.com/problems/combination-sum\" rel=\"nofollow noreferrer\">Combination Sum</a></p>\n<blockquote>\n<p>Given an array of distinct integers candidates and a target integer, &gt;return a list of all unique combinations of candidates where the &gt;chosen numbers sum to target. You may return the combinations in any &gt;order.</p>\n<p>The same number may be chosen from candidates an unlimited number of &gt;times. Two combinations are unique if the frequency of at least one of &gt;the chosen numbers is different.</p>\n</blockquote>\n<p>And I came up with this solution:</p>\n<pre><code>class Solution {\n    public void recUtil(List&lt;List&lt;Integer&gt;&gt; result, int[] candidates, List&lt;Integer&gt; list, int sum, int target, int ind) {\n        if(sum&gt;target || ind&gt;=candidates.length) return;\n        if(sum==target) {\n            result.add(new ArrayList&lt;&gt;(list));\n            return;\n        }\n\n        recUtil(result, candidates, list, sum, target, ind+1);\n        list.add(candidates[ind]);\n        recUtil(result, candidates, list, sum+candidates[ind], target, ind);\n        list.remove(list.size()-1);\n    }\n\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        \n        recUtil(result, candidates, new ArrayList&lt;&gt;(), 0, target, 0);\n\n        return result;        \n    }\n}\n</code></pre>\n<p>This solution does not work if I replace the 5th line <code>result.add(new ArrayList&lt;&gt;(list));</code> with <code>result.add(list);</code></p>\n<p>For the input:</p>\n<blockquote>\n<p>[2,3,6,7]</p>\n</blockquote>\n<p>And target <code>7</code>, I get two empty ArrayLists in the result ArrayList</p>\n<blockquote>\n<p>[[],[]]</p>\n</blockquote>\n<p>Instead of</p>\n<blockquote>\n<p>[[2,2,3],[7]]</p>\n</blockquote>\n<p>I know it must be something stupid, so I was afraid to ask here.\nI am new to java, can anyone please explain why just adding the list to the result does not work.</p>\n"},{"tags":["java","wsdl","maven-plugin","wsimport"],"answers":[{"tags":[],"owner":{"account_id":1220934,"reputation":23,"user_id":1313117,"display_name":"davosian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692175314,"creation_date":1692175314,"answer_id":76911891,"question_id":75629349,"body_markdown":"This is what I am using with Spring Boot 3.0 and Java 17:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n              xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;\r\n              version=&quot;3.0&quot;&gt;\r\n        &lt;jaxb:bindings schemaLocation=&quot;service.xsd&quot;&gt;\r\n            &lt;jaxb:bindings node=&quot;//xs:simpleType[@name=&#39;OperationOne&#39;]&quot;&gt;\r\n                &lt;jaxb:javaType name=&quot;com.example.api.gen.OperationOne&quot; \r\n                          parseMethod=&quot;valueOf&quot; \r\n                          printMethod=&quot;toString&quot;/&gt;\r\n            &lt;/jaxb:bindings&gt;\r\n            &lt;jaxb:bindings node=&quot;//xs:complexType[@name=&#39;OperationTwo&#39;]&quot;&gt;\r\n                &lt;jaxb:class name=&quot;com.example.api.gen.OperationTwo&quot;/&gt;\r\n            &lt;/jaxb:bindings&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n\r\nIt differs slightly from your version in the jaxb definition. I am then referencing the binding file (bindings.xml in my case) in the plugin configuration:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\r\n    \t\t&lt;wsdlFiles&gt;\r\n    \t\t\t&lt;wsdlFile&gt;service.wsdl&lt;/wsdlFile&gt;\r\n    \t\t&lt;/wsdlFiles&gt;\r\n    \t\t&lt;packageName&gt;com.example.api.gen&lt;/packageName&gt;\r\n    \t\t&lt;sourceDestDir&gt;${sourcesDir}&lt;/sourceDestDir&gt;\r\n    \t\t&lt;bindingFiles&gt;\r\n    \t\t\t&lt;bindingFile&gt;${project.basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\r\n    \t\t&lt;/bindingFiles&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nMore information about the currently valid schema can be found on the [Jakarta EE][1] homepage.\r\n\r\n\r\n  [1]: https://jakarta.ee/xml/ns/jaxb/","title":"jaxws 4 / java 17: it is not a jaxws or a jaxb binding file","body":"<p>This is what I am using with Spring Boot 3.0 and Java 17:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n          xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;\n          version=&quot;3.0&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;service.xsd&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:simpleType[@name='OperationOne']&quot;&gt;\n            &lt;jaxb:javaType name=&quot;com.example.api.gen.OperationOne&quot; \n                      parseMethod=&quot;valueOf&quot; \n                      printMethod=&quot;toString&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;//xs:complexType[@name='OperationTwo']&quot;&gt;\n            &lt;jaxb:class name=&quot;com.example.api.gen.OperationTwo&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>It differs slightly from your version in the jaxb definition. I am then referencing the binding file (bindings.xml in my case) in the plugin configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;executions&gt;\n            &lt;execution&gt;\n                    &lt;goals&gt;\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                    &lt;/goals&gt;\n            &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\n        &lt;wsdlFiles&gt;\n            &lt;wsdlFile&gt;service.wsdl&lt;/wsdlFile&gt;\n        &lt;/wsdlFiles&gt;\n        &lt;packageName&gt;com.example.api.gen&lt;/packageName&gt;\n        &lt;sourceDestDir&gt;${sourcesDir}&lt;/sourceDestDir&gt;\n        &lt;bindingFiles&gt;\n            &lt;bindingFile&gt;${project.basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\n        &lt;/bindingFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>More information about the currently valid schema can be found on the <a href=\"https://jakarta.ee/xml/ns/jaxb/\" rel=\"nofollow noreferrer\">Jakarta EE</a> homepage.</p>\n"}],"owner":{"account_id":8866868,"reputation":280,"user_id":6621774,"accept_rate":60,"display_name":"Harry Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692175314,"creation_date":1677859378,"question_id":75629349,"body_markdown":"I used to generate sources from WSDL/bindings, using jaxws-maven-plugin with spring-boot 2.3.7 and java 11. Now, after upgrading to spring-boot 3.0 and java 17, code generation fails, because my bindings files are ignored with error message\r\n\r\n`bindings.xml: not a XML-WS- or XML-B-binding file`\r\n\r\nI&#39;ve seen this error being discussed on StackOverflow, but none with spring-boot 3.0. Here is an example to reproduce error:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;xdebug&gt;true&lt;/xdebug&gt;\r\n\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;packageName&gt;com.daimler.daivb.cat.pkimgmt.bl.internal&lt;/packageName&gt;\r\n\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t&lt;xdebug&gt;true&lt;/xdebug&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nWSDL-File:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;definitions name=&quot;HelloWorldService&quot;\r\n\t\t\t\t targetNamespace=&quot;http://example.com/helloworld&quot;\r\n\t\t\t\t xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n\t\t\t\t xmlns:tns=&quot;http://example.com/helloworld&quot;\r\n\t\t\t\t xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\t\t\t xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\r\n\t\t\t\t xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\r\n\t\t\t\t xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;\r\n\r\n\t  &lt;types&gt;\r\n\t\t&lt;xsd:schema targetNamespace=&quot;http://example.com/helloworld&quot;&gt;\r\n\t\t  &lt;xsd:element name=&quot;sayHello&quot;&gt;\r\n\t\t\t&lt;xsd:complexType&gt;\r\n\t\t\t  &lt;xsd:sequence&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;name&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t\t  &lt;/xsd:sequence&gt;\r\n\t\t\t&lt;/xsd:complexType&gt;\r\n\t\t  &lt;/xsd:element&gt;\r\n\t\t  &lt;xsd:element name=&quot;sayHelloResponse&quot;&gt;\r\n\t\t\t&lt;xsd:complexType&gt;\r\n\t\t\t  &lt;xsd:sequence&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;greeting&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t\t  &lt;/xsd:sequence&gt;\r\n\t\t\t&lt;/xsd:complexType&gt;\r\n\t\t  &lt;/xsd:element&gt;\r\n\t\t&lt;/xsd:schema&gt;\r\n\t  &lt;/types&gt;\r\n\r\n\t  &lt;message name=&quot;sayHelloRequest&quot;&gt;\r\n\t\t&lt;part name=&quot;parameters&quot; element=&quot;tns:sayHello&quot;/&gt;\r\n\t  &lt;/message&gt;\r\n\t  &lt;message name=&quot;sayHelloResponse&quot;&gt;\r\n\t\t&lt;part name=&quot;parameters&quot; element=&quot;tns:sayHelloResponse&quot;/&gt;\r\n\t  &lt;/message&gt;\r\n\r\n\t  &lt;portType name=&quot;HelloWorldPortType&quot;&gt;\r\n\t\t&lt;operation name=&quot;sayHello&quot;&gt;\r\n\t\t  &lt;input message=&quot;tns:sayHelloRequest&quot;/&gt;\r\n\t\t  &lt;output message=&quot;tns:sayHelloResponse&quot;/&gt;\r\n\t\t&lt;/operation&gt;\r\n\t  &lt;/portType&gt;\r\n\r\n\t  &lt;binding name=&quot;HelloWorldBinding&quot; type=&quot;tns:HelloWorldPortType&quot;&gt;\r\n\t\t&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n\t\t&lt;operation name=&quot;sayHello&quot;&gt;\r\n\t\t  &lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n\t\t  &lt;input&gt;\r\n\t\t\t&lt;soap:body use=&quot;literal&quot;/&gt;\r\n\t\t  &lt;/input&gt;\r\n\t\t  &lt;output&gt;\r\n\t\t\t&lt;soap:body use=&quot;literal&quot;/&gt;\r\n\t\t  &lt;/output&gt;\r\n\t\t&lt;/operation&gt;\r\n\t  &lt;/binding&gt;\r\n\r\n\t  &lt;service name=&quot;HelloWorldService&quot;&gt;\r\n\t\t&lt;port name=&quot;HelloWorldPort&quot; binding=&quot;tns:HelloWorldBinding&quot;&gt;\r\n\t\t  &lt;soap:address location=&quot;http://localhost:8080/HelloWorld&quot;/&gt;\r\n\t\t&lt;/port&gt;\r\n\t  &lt;/service&gt;\r\n\r\n\t&lt;/definitions&gt;\r\n\r\nBinding file:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;jaxb:bindings xmlns:jaxb=&quot;http://jakarta.ee/xml/ns/jaxb&quot;\r\n\t\t\t\t   xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\t\t\t   xmlns:xjc=&quot;http://jakarta.ee/xml/ns/jaxb/xjc&quot;\r\n\t\t\t\t   jaxb:extensionBindingPrefixes=&quot;xjc&quot;\r\n\t\t\t\t   jaxb:version=&quot;3.0&quot;&gt;\r\n\t\t&lt;jaxb:bindings schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;&gt;\r\n\t\t\t&lt;!-- Map xsd:date to java.time.LocalDate --&gt;\r\n\t\t\t&lt;jaxb:javaType name=&quot;java.time.LocalDate&quot;\r\n\t\t\t\t\t\t   xmlType=&quot;xs:date&quot;\r\n\t\t\t\t\t\t   parseMethod=&quot;java.time.LocalDate.parse&quot;\r\n\t\t\t\t\t\t   printMethod=&quot;java.time.LocalDate.toString&quot;/&gt;\r\n\t\t\t&lt;!-- Map xsd:time to java.time.LocalTime --&gt;\r\n\t\t\t&lt;jaxb:javaType name=&quot;java.time.LocalTime&quot;\r\n\t\t\t\t\t\t   xmlType=&quot;xs:time&quot;\r\n\t\t\t\t\t\t   parseMethod=&quot;java.time.LocalTime.parse&quot;\r\n\t\t\t\t\t\t   printMethod=&quot;java.time.LocalTime.toString&quot;/&gt;\r\n\t\t\t&lt;!-- Map xsd:dateTime to java.time.LocalDateTime --&gt;\r\n\t\t\t&lt;jaxb:javaType name=&quot;java.time.LocalDateTime&quot;\r\n\t\t\t\t\t\t   xmlType=&quot;xs:dateTime&quot;\r\n\t\t\t\t\t\t   parseMethod=&quot;java.time.LocalDateTime.parse&quot;\r\n\t\t\t\t\t\t   printMethod=&quot;java.time.LocalDateTime.toString&quot;/&gt;\r\n\t\t&lt;/jaxb:bindings&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n\r\nAny ideas, why this happens? Please give only working answers. I&#39;ve already tried any hint I could find. I&#39;ve also tried different plugins (org.codehouse.mojo, com.sun.xml.ws, org.apache.xcf). None of them worked.","title":"jaxws 4 / java 17: it is not a jaxws or a jaxb binding file","body":"<p>I used to generate sources from WSDL/bindings, using jaxws-maven-plugin with spring-boot 2.3.7 and java 11. Now, after upgrading to spring-boot 3.0 and java 17, code generation fails, because my bindings files are ignored with error message</p>\n<p><code>bindings.xml: not a XML-WS- or XML-B-binding file</code></p>\n<p>I've seen this error being discussed on StackOverflow, but none with spring-boot 3.0. Here is an example to reproduce error:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n            &lt;xdebug&gt;true&lt;/xdebug&gt;\n            &lt;verbose&gt;true&lt;/verbose&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;packageName&gt;com.daimler.daivb.cat.pkimgmt.bl.internal&lt;/packageName&gt;\n        &lt;verbose&gt;true&lt;/verbose&gt;\n        &lt;xdebug&gt;true&lt;/xdebug&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>WSDL-File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;definitions name=&quot;HelloWorldService&quot;\n             targetNamespace=&quot;http://example.com/helloworld&quot;\n             xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n             xmlns:tns=&quot;http://example.com/helloworld&quot;\n             xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n             xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\n             xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\n             xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;\n\n  &lt;types&gt;\n    &lt;xsd:schema targetNamespace=&quot;http://example.com/helloworld&quot;&gt;\n      &lt;xsd:element name=&quot;sayHello&quot;&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;name&quot; type=&quot;xsd:string&quot;/&gt;\n          &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n      &lt;xsd:element name=&quot;sayHelloResponse&quot;&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;greeting&quot; type=&quot;xsd:string&quot;/&gt;\n          &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n    &lt;/xsd:schema&gt;\n  &lt;/types&gt;\n\n  &lt;message name=&quot;sayHelloRequest&quot;&gt;\n    &lt;part name=&quot;parameters&quot; element=&quot;tns:sayHello&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;sayHelloResponse&quot;&gt;\n    &lt;part name=&quot;parameters&quot; element=&quot;tns:sayHelloResponse&quot;/&gt;\n  &lt;/message&gt;\n\n  &lt;portType name=&quot;HelloWorldPortType&quot;&gt;\n    &lt;operation name=&quot;sayHello&quot;&gt;\n      &lt;input message=&quot;tns:sayHelloRequest&quot;/&gt;\n      &lt;output message=&quot;tns:sayHelloResponse&quot;/&gt;\n    &lt;/operation&gt;\n  &lt;/portType&gt;\n\n  &lt;binding name=&quot;HelloWorldBinding&quot; type=&quot;tns:HelloWorldPortType&quot;&gt;\n    &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n    &lt;operation name=&quot;sayHello&quot;&gt;\n      &lt;soap:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n    &lt;/operation&gt;\n  &lt;/binding&gt;\n\n  &lt;service name=&quot;HelloWorldService&quot;&gt;\n    &lt;port name=&quot;HelloWorldPort&quot; binding=&quot;tns:HelloWorldBinding&quot;&gt;\n      &lt;soap:address location=&quot;http://localhost:8080/HelloWorld&quot;/&gt;\n    &lt;/port&gt;\n  &lt;/service&gt;\n\n&lt;/definitions&gt;\n</code></pre>\n<p>Binding file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;http://jakarta.ee/xml/ns/jaxb&quot;\n               xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n               xmlns:xjc=&quot;http://jakarta.ee/xml/ns/jaxb/xjc&quot;\n               jaxb:extensionBindingPrefixes=&quot;xjc&quot;\n               jaxb:version=&quot;3.0&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;&gt;\n        &lt;!-- Map xsd:date to java.time.LocalDate --&gt;\n        &lt;jaxb:javaType name=&quot;java.time.LocalDate&quot;\n                       xmlType=&quot;xs:date&quot;\n                       parseMethod=&quot;java.time.LocalDate.parse&quot;\n                       printMethod=&quot;java.time.LocalDate.toString&quot;/&gt;\n        &lt;!-- Map xsd:time to java.time.LocalTime --&gt;\n        &lt;jaxb:javaType name=&quot;java.time.LocalTime&quot;\n                       xmlType=&quot;xs:time&quot;\n                       parseMethod=&quot;java.time.LocalTime.parse&quot;\n                       printMethod=&quot;java.time.LocalTime.toString&quot;/&gt;\n        &lt;!-- Map xsd:dateTime to java.time.LocalDateTime --&gt;\n        &lt;jaxb:javaType name=&quot;java.time.LocalDateTime&quot;\n                       xmlType=&quot;xs:dateTime&quot;\n                       parseMethod=&quot;java.time.LocalDateTime.parse&quot;\n                       printMethod=&quot;java.time.LocalDateTime.toString&quot;/&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>Any ideas, why this happens? Please give only working answers. I've already tried any hint I could find. I've also tried different plugins (org.codehouse.mojo, com.sun.xml.ws, org.apache.xcf). None of them worked.</p>\n"},{"tags":["java","string","sorting","arraylist","lexicographic"],"comments":[{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":1,"creation_date":1276013689,"post_id":2999129,"comment_id":3063197,"body_markdown":"&quot;I know to use Collections.sort, but it only sorts Strings that contain letters&quot; uh?","body":"&quot;I know to use Collections.sort, but it only sorts Strings that contain letters&quot; uh?"},{"owner":{"account_id":112735,"reputation":1572,"user_id":297216,"accept_rate":80,"display_name":"Cobusve"},"score":1,"creation_date":1276013718,"post_id":2999129,"comment_id":3063207,"body_markdown":"Not sure what you are trying to do, sorting the collection will sort everything (including &quot;7&quot;) alphabetically. Numbers are placed before A, so they would end up on top.\n\nIf you want 7 to be stored under &quot;s&quot; you would have to create a dictionary with something like the Generic Collections dictionary class, which has the display string &quot;7&quot; as well as the code/text representation &quot;Seven&quot;, or something like that.","body":"Not sure what you are trying to do, sorting the collection will sort everything (including &quot;7&quot;) alphabetically. Numbers are placed before A, so they would end up on top.  If you want 7 to be stored under &quot;s&quot; you would have to create a dictionary with something like the Generic Collections dictionary class, which has the display string &quot;7&quot; as well as the code/text representation &quot;Seven&quot;, or something like that."}],"answers":[{"comments":[{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":0,"creation_date":1276013853,"post_id":2999164,"comment_id":3063228,"body_markdown":"yep - http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#compareTo(java.lang.String)","body":"yep - <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/lang/&hellip;</a>"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1276013672,"creation_date":1276013672,"answer_id":2999164,"question_id":2999129,"body_markdown":"No, `Collections.sort` will sort everything, using an Unicode ordinal lexicographic comparison as that&#39;s the behaviour of [`String.compareTo`][1]. &quot;7&quot; will come before &quot;King&quot;, and &quot;10&quot; will come before &quot;2&quot;.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#compareTo(java.lang.String)","title":"How do I sort an ArrayList lexicographically?","body":"<p>No, <code>Collections.sort</code> will sort everything, using an Unicode ordinal lexicographic comparison as that's the behaviour of <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"noreferrer\"><code>String.compareTo</code></a>. \"7\" will come before \"King\", and \"10\" will come before \"2\".</p>\n"},{"comments":[{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":0,"creation_date":1276013760,"post_id":2999165,"comment_id":3063211,"body_markdown":"It&#39;s not what he&#39;s asking. I think he wants you to write custom Comparator for all card names.","body":"It&#39;s not what he&#39;s asking. I think he wants you to write custom Comparator for all card names."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1276013844,"post_id":2999165,"comment_id":3063227,"body_markdown":"@Nikita: I understand that he &quot;thinks&quot; numbers are not including in the sort. Probably the OP needs some clarification.","body":"@Nikita: I understand that he &quot;thinks&quot; numbers are not including in the sort. Probably the OP needs some clarification."}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276014828,"creation_date":1276013676,"answer_id":2999165,"question_id":2999129,"body_markdown":"&gt;*I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?*\r\n\r\nIf the string is a number it is already being sorted ( as an String though ) look:\r\n\r\n\r\n    import java.util.*;\r\n    class Sort {\r\n        public static void main( String [] args  ) {\r\n            List list = Arrays.asList(&quot;Kings&quot;,&quot;7&quot;, &quot;Abcd&quot;, &quot;3.1416&quot;);\r\n            Collections.sort( list );\r\n            System.out.println( list );\r\n        }\r\n    }\r\n\r\nPrints \r\n\r\n    $ java Sort\r\n    [3.1416, 7, Abcd, Kings]\r\n\r\n\r\nIs that what you need? \r\n\r\n**edit**\r\n\r\nAssuming ( guessing )  what you need is to sort  a deck of cards, which have both numbers and &quot;letters&quot; ( J, Q, K, A )  you may try to use a custom comparator.\r\n\r\n\r\nHere&#39;s one that takes into consideration the numbers &quot;as numbers&quot; the the rest as strings, so &quot;10&quot; comes after &quot;2&quot; but before &quot;Kings&quot; \r\n\r\n\r\n\r\n    import java.util.*;\r\n    class Sort {\r\n        public static void main( String [] args  ) {\r\n            \r\n            List&lt;String&gt; list = Arrays.asList(&quot;Kings&quot;,&quot;7&quot;, &quot;Queen&quot;, &quot;3&quot;, &quot;10&quot;, &quot;A&quot;, &quot;2&quot;, &quot;8&quot;, &quot;Joker&quot;);\r\n            Collections.sort( list , new Comparator&lt;String&gt;(){\r\n                public int compare( String a, String b ){\r\n                    // if both are numbers\r\n                    if( a.matches(&quot;\\\\d+&quot;) &amp;&amp; b.matches(&quot;\\\\d+&quot;)) {\r\n                        return new Integer( a ) - new Integer( b );\r\n                    }\r\n                    // else, compare normally. \r\n                    return a.compareTo( b );\r\n                }\r\n            });\r\n            System.out.println( list );\r\n        }\r\n    }\r\n\r\n    $ java Sort\r\n    [2, 3, 7, 8, 10, A, Joker, Kings, Queen]\r\n\r\n\r\nIf that&#39;s what you need I guess this would help you to figure out the rest. Probably the next thing would be how to sort spades vs. hearts. \r\n\r\n\r\nFollowing the answer by [Roman][1] you could create a class and implement the [Comparable][2] interface:\r\n\r\n\r\n      class Card implements Comparable&lt;Card&gt; {\r\n           public int compareTo( Card other ) {  \r\n               // add custom logic to compare one card with other \r\n           }\r\n       }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically/2999209#2999209\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html","title":"How do I sort an ArrayList lexicographically?","body":"<blockquote>\n  <p><em>I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?</em></p>\n</blockquote>\n\n<p>If the string is a number it is already being sorted ( as an String though ) look:</p>\n\n<pre><code>import java.util.*;\nclass Sort {\n    public static void main( String [] args  ) {\n        List list = Arrays.asList(\"Kings\",\"7\", \"Abcd\", \"3.1416\");\n        Collections.sort( list );\n        System.out.println( list );\n    }\n}\n</code></pre>\n\n<p>Prints </p>\n\n<pre><code>$ java Sort\n[3.1416, 7, Abcd, Kings]\n</code></pre>\n\n<p>Is that what you need? </p>\n\n<p><strong>edit</strong></p>\n\n<p>Assuming ( guessing )  what you need is to sort  a deck of cards, which have both numbers and \"letters\" ( J, Q, K, A )  you may try to use a custom comparator.</p>\n\n<p>Here's one that takes into consideration the numbers \"as numbers\" the the rest as strings, so \"10\" comes after \"2\" but before \"Kings\" </p>\n\n<pre><code>import java.util.*;\nclass Sort {\n    public static void main( String [] args  ) {\n\n        List&lt;String&gt; list = Arrays.asList(\"Kings\",\"7\", \"Queen\", \"3\", \"10\", \"A\", \"2\", \"8\", \"Joker\");\n        Collections.sort( list , new Comparator&lt;String&gt;(){\n            public int compare( String a, String b ){\n                // if both are numbers\n                if( a.matches(\"\\\\d+\") &amp;&amp; b.matches(\"\\\\d+\")) {\n                    return new Integer( a ) - new Integer( b );\n                }\n                // else, compare normally. \n                return a.compareTo( b );\n            }\n        });\n        System.out.println( list );\n    }\n}\n\n$ java Sort\n[2, 3, 7, 8, 10, A, Joker, Kings, Queen]\n</code></pre>\n\n<p>If that's what you need I guess this would help you to figure out the rest. Probably the next thing would be how to sort spades vs. hearts. </p>\n\n<p>Following the answer by <a href=\"https://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically/2999209#2999209\">Roman</a> you could create a class and implement the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> interface:</p>\n\n<pre><code>  class Card implements Comparable&lt;Card&gt; {\n       public int compareTo( Card other ) {  \n           // add custom logic to compare one card with other \n       }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33515,"reputation":6921,"user_id":93910,"accept_rate":86,"display_name":"Sanjay Manohar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276022812,"creation_date":1276013767,"answer_id":2999176,"question_id":2999129,"body_markdown":"Sort will sort everything according to your charset. In otherwords, all numbers will come before letters in the lexicographic order. For example, decimal numbers start with a &#39;.&#39; and out of order lexicographically.\r\n\r\nIf you want to change this, make Comparator object. You could then put the items in whatever order you like.\r\n\r\nFor example, this will sort numbers in numerical order, and also words in lexical order:\r\n\r\n    class CardComparator extends Object implements Comparator{\r\n     public int compare(Object a, Object b){\r\n      try{\r\n       double d1=Double.valueOf(a.toString());\r\n       try{\r\n         double d2=Double.valueOf(b.toString());\r\n         return (d2&gt;d1)?1:-1;            // both numeric\r\n       }catch(NumberFormatException e){ // a is numeric but b isn&#39;t\r\n         return 1;\r\n       }\r\n      }catch(NumberFormatException e){  \r\n        try{\r\n         double d2=Double.valueOf(b.toString()); \r\n         return -1;                       // a is nonnumeric but b is\r\n        }catch(NumberFormatException e){  // both nonnumeric\r\n          return a.toString().compareTo(b.toString);\r\n        }\r\n      }\r\n     }\r\n    }\r\n    Comparator comparator=new CardComparator();\r\n    Collections.sort(cards, comparator);\r\nPS not tested!","title":"How do I sort an ArrayList lexicographically?","body":"<p>Sort will sort everything according to your charset. In otherwords, all numbers will come before letters in the lexicographic order. For example, decimal numbers start with a '.' and out of order lexicographically.</p>\n\n<p>If you want to change this, make Comparator object. You could then put the items in whatever order you like.</p>\n\n<p>For example, this will sort numbers in numerical order, and also words in lexical order:</p>\n\n<pre><code>class CardComparator extends Object implements Comparator{\n public int compare(Object a, Object b){\n  try{\n   double d1=Double.valueOf(a.toString());\n   try{\n     double d2=Double.valueOf(b.toString());\n     return (d2&gt;d1)?1:-1;            // both numeric\n   }catch(NumberFormatException e){ // a is numeric but b isn't\n     return 1;\n   }\n  }catch(NumberFormatException e){  \n    try{\n     double d2=Double.valueOf(b.toString()); \n     return -1;                       // a is nonnumeric but b is\n    }catch(NumberFormatException e){  // both nonnumeric\n      return a.toString().compareTo(b.toString);\n    }\n  }\n }\n}\nComparator comparator=new CardComparator();\nCollections.sort(cards, comparator);\n</code></pre>\n\n<p>PS not tested!</p>\n"},{"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276014003,"creation_date":1276014003,"answer_id":2999208,"question_id":2999129,"body_markdown":"As @Jon Skeet said, the built-in sort will compare based on Unicode values.  You&#39;d have to write your own sorting method.\r\n\r\nAs long as you&#39;re writing your own code, though, might I suggest an enumeration?  A deck of cards is one of the canonical examples for use of enums.  The short version is that you can declare your own sort order for a group of things; you could even make the king of spades outrank the king of diamonds, if you wanted.  Check out Sun&#39;s tutorial [here](http://java.sun.com/docs/books/tutorial/java/javaOO/enum.html).","title":"How do I sort an ArrayList lexicographically?","body":"<p>As @Jon Skeet said, the built-in sort will compare based on Unicode values.  You'd have to write your own sorting method.</p>\n\n<p>As long as you're writing your own code, though, might I suggest an enumeration?  A deck of cards is one of the canonical examples for use of enums.  The short version is that you can declare your own sort order for a group of things; you could even make the king of spades outrank the king of diamonds, if you wanted.  Check out Sun's tutorial <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":36238,"reputation":57579,"user_id":103225,"accept_rate":80,"display_name":"fmark"},"score":1,"creation_date":1276014709,"post_id":2999209,"comment_id":3063372,"body_markdown":"`&lt;nitpick&gt;` As a convention, cards generally also have &quot;suits&quot;.  `&lt;/nitpick&gt;`","body":"<code>&lt;nitpick&gt;</code> As a convention, cards generally also have &quot;suits&quot;.  <code>&lt;&#47;nitpick&gt;</code>"}],"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1276014021,"creation_date":1276014021,"answer_id":2999209,"question_id":2999129,"body_markdown":"As I understand, you have an array like `[&quot;7&quot;, &quot;Queen&quot;, &quot;9&quot;, &quot;6&quot;]` and you want it to look like `[&quot;Queen&quot;, &quot;9&quot;, &quot;7&quot;, &quot;6&quot;]` (or in reverse order) after sorting is done.\r\n\r\nI&#39;d recommend to make it a bit more object-oriented i.e. create class Card with fields name and value:\r\n\r\n    class Card {\r\n       private final String name;\r\n       private final int value;\r\n       ...\r\n       //constructor and getters\r\n    }\r\n\r\nand after that create instances in this manner:\r\n\r\n    Card six = new Card(&quot;6&quot;, 6);\r\n    Card ten = new Card(&quot;10&quot;, 10);\r\n    Card queen = new Card(&quot;Queen&quot;, 12);\r\n\r\nAfter that it&#39;ll be much easier to make all operations with cards (and sorting particularly) using field `value` instead of cards&#39; names.\r\n\r\n","title":"How do I sort an ArrayList lexicographically?","body":"<p>As I understand, you have an array like <code>[\"7\", \"Queen\", \"9\", \"6\"]</code> and you want it to look like <code>[\"Queen\", \"9\", \"7\", \"6\"]</code> (or in reverse order) after sorting is done.</p>\n\n<p>I'd recommend to make it a bit more object-oriented i.e. create class Card with fields name and value:</p>\n\n<pre><code>class Card {\n   private final String name;\n   private final int value;\n   ...\n   //constructor and getters\n}\n</code></pre>\n\n<p>and after that create instances in this manner:</p>\n\n<pre><code>Card six = new Card(\"6\", 6);\nCard ten = new Card(\"10\", 10);\nCard queen = new Card(\"Queen\", 12);\n</code></pre>\n\n<p>After that it'll be much easier to make all operations with cards (and sorting particularly) using field <code>value</code> instead of cards' names.</p>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692175073,"creation_date":1692175073,"answer_id":76911866,"question_id":2999129,"body_markdown":"    Sharing an example where I have created two comparator for Lexicographical order, one for Integers and other for String\r\n    Note: String by default support Lexicographical order \r\n    \r\n    import java.util.*;\r\n    \r\n    public class ArrayListLexicographicalSort {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            //Comparator for Lexicographical order for Integer\r\n            Comparator&lt;Integer&gt; comparator = (i,j)-&gt;ArrayListLexicographicalSort.lexicographicalSort(i,j);\r\n            //Comparator for Lexicographical order for String\r\n            Comparator&lt;String&gt; stringComparator = (i,j)-&gt;i.compareTo(j);\r\n    \r\n            //list of integers\r\n           List&lt;Integer&gt; integerList = Arrays.asList(101,11,2,100,10);\r\n            System.out.println(integerList);\r\n            //o/p-&gt;[101, 11, 2, 100, 10]\r\n            //creating a treeset with Lexicographical sort order for Integer\r\n            TreeSet&lt;Integer&gt; integerTreeSet = new TreeSet&lt;&gt;(comparator);\r\n            integerTreeSet.addAll(integerList);\r\n            //resultant Lexicographical order for integers\r\n            System.out.println(integerTreeSet);\r\n            //o/p-&gt;[10, 100, 101, 11, 2]\r\n    \r\n            //list of Strings\r\n            List&lt;String&gt; stringList = Arrays.asList(&quot;Abhinav&quot;,&quot;Kumar&quot;,&quot;Aabhinav&quot;,&quot;101&quot;,&quot;100&quot;,&quot;2&quot;);\r\n            System.out.println(stringList);\r\n            //o/p-&gt;[Abhinav, Kumar, Aabhinav, 101, 100, 2]\r\n            //creating a treeset with Lexicographical sort order for String\r\n            TreeSet&lt;String&gt; stringTreeSet = new TreeSet&lt;&gt;(stringComparator);\r\n            stringTreeSet.addAll(stringList);\r\n            //resultant Lexicographical order for strings\r\n            System.out.println(stringTreeSet);\r\n            //o/p-&gt;[100, 101, 2, Aabhinav, Abhinav, Kumar]\r\n        }\r\n    \r\n       // method to compare two integer lexicographically\r\n        private static int lexicographicalSort(long input1, long input2){\r\n    \r\n            // -ve means input1 is smaller\r\n            //  +ve means input1 is larger\r\n            //  0 means input1 and input2 are same\r\n            long inp1 = input1;\r\n            long inp2 = input2;\r\n            int input1Length = 1;\r\n            int input2Length = 1;\r\n    \r\n            while(inp1/10&gt;0){\r\n                input1Length++;\r\n                inp1 = inp1/10;\r\n            }\r\n    \r\n            while(inp2/10&gt;0){\r\n                input2Length++;\r\n                inp2 = inp2/10;\r\n            }\r\n    \r\n            int[] inArr1 = new int[input1Length];\r\n            int[] inArr2 = new int[input2Length];\r\n    \r\n            inp1 = input1;\r\n            inp2 = input2;\r\n    \r\n            int min = Math.min(input1Length,input2Length);\r\n    \r\n            while(inp1/10&gt;0){\r\n                inArr1[--input1Length] = (int)inp1%10;\r\n                inp1 = inp1/10;\r\n            }\r\n            inArr1[--input1Length] = (int)inp1;\r\n    \r\n            while(inp2/10&gt;0){\r\n                inArr2[--input2Length] = (int)inp2%10;\r\n                inp2 = inp2/10;\r\n            }\r\n            inArr2[--input2Length] = (int)inp2;\r\n    \r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( inArr1[k] != inArr2[k]){\r\n                    return inArr1[k]-inArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return inArr1.length-inArr2.length;\r\n        }\r\n    }\r\n\r\n","title":"How do I sort an ArrayList lexicographically?","body":"<pre><code>Sharing an example where I have created two comparator for Lexicographical order, one for Integers and other for String\nNote: String by default support Lexicographical order \n\nimport java.util.*;\n\npublic class ArrayListLexicographicalSort {\n\n    public static void main(String[] args) {\n\n        //Comparator for Lexicographical order for Integer\n        Comparator&lt;Integer&gt; comparator = (i,j)-&gt;ArrayListLexicographicalSort.lexicographicalSort(i,j);\n        //Comparator for Lexicographical order for String\n        Comparator&lt;String&gt; stringComparator = (i,j)-&gt;i.compareTo(j);\n\n        //list of integers\n       List&lt;Integer&gt; integerList = Arrays.asList(101,11,2,100,10);\n        System.out.println(integerList);\n        //o/p-&gt;[101, 11, 2, 100, 10]\n        //creating a treeset with Lexicographical sort order for Integer\n        TreeSet&lt;Integer&gt; integerTreeSet = new TreeSet&lt;&gt;(comparator);\n        integerTreeSet.addAll(integerList);\n        //resultant Lexicographical order for integers\n        System.out.println(integerTreeSet);\n        //o/p-&gt;[10, 100, 101, 11, 2]\n\n        //list of Strings\n        List&lt;String&gt; stringList = Arrays.asList(&quot;Abhinav&quot;,&quot;Kumar&quot;,&quot;Aabhinav&quot;,&quot;101&quot;,&quot;100&quot;,&quot;2&quot;);\n        System.out.println(stringList);\n        //o/p-&gt;[Abhinav, Kumar, Aabhinav, 101, 100, 2]\n        //creating a treeset with Lexicographical sort order for String\n        TreeSet&lt;String&gt; stringTreeSet = new TreeSet&lt;&gt;(stringComparator);\n        stringTreeSet.addAll(stringList);\n        //resultant Lexicographical order for strings\n        System.out.println(stringTreeSet);\n        //o/p-&gt;[100, 101, 2, Aabhinav, Abhinav, Kumar]\n    }\n\n   // method to compare two integer lexicographically\n    private static int lexicographicalSort(long input1, long input2){\n\n        // -ve means input1 is smaller\n        //  +ve means input1 is larger\n        //  0 means input1 and input2 are same\n        long inp1 = input1;\n        long inp2 = input2;\n        int input1Length = 1;\n        int input2Length = 1;\n\n        while(inp1/10&gt;0){\n            input1Length++;\n            inp1 = inp1/10;\n        }\n\n        while(inp2/10&gt;0){\n            input2Length++;\n            inp2 = inp2/10;\n        }\n\n        int[] inArr1 = new int[input1Length];\n        int[] inArr2 = new int[input2Length];\n\n        inp1 = input1;\n        inp2 = input2;\n\n        int min = Math.min(input1Length,input2Length);\n\n        while(inp1/10&gt;0){\n            inArr1[--input1Length] = (int)inp1%10;\n            inp1 = inp1/10;\n        }\n        inArr1[--input1Length] = (int)inp1;\n\n        while(inp2/10&gt;0){\n            inArr2[--input2Length] = (int)inp2%10;\n            inp2 = inp2/10;\n        }\n        inArr2[--input2Length] = (int)inp2;\n\n        int k = 0;\n\n        while(k&lt;min){\n            if( inArr1[k] != inArr2[k]){\n                return inArr1[k]-inArr2[k];\n            }\n            k++;\n        }\n\n        return inArr1.length-inArr2.length;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":620538,"reputation":81,"user_id":361564,"display_name":"Jake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43688,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1692175073,"creation_date":1276013383,"question_id":2999129,"body_markdown":"I am trying to sort an ArrayList of Strings that represent card values. So, some cards contain letters (&quot;King&quot;) and some contain Strings containing only a number (&quot;7&quot;). I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?\r\n\r\nEdit: Sorry, I must not have been paying much attention when I looked at the sorting. The sort works correctly, I must have just been thrown off by the fact that a 10 will come before a 2. Thanks","title":"How do I sort an ArrayList lexicographically?","body":"<p>I am trying to sort an ArrayList of Strings that represent card values. So, some cards contain letters (\"King\") and some contain Strings containing only a number (\"7\"). I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?</p>\n\n<p>Edit: Sorry, I must not have been paying much attention when I looked at the sorting. The sort works correctly, I must have just been thrown off by the fact that a 10 will come before a 2. Thanks</p>\n"},{"tags":["java","sql","hibernate","join","hql"],"answers":[{"comments":[{"owner":{"account_id":1628990,"reputation":29,"user_id":1503931,"display_name":"wadjo"},"score":0,"creation_date":1363782339,"post_id":15514105,"comment_id":21987417,"body_markdown":"dosen&#39;t work .\n\n\n&quot;could not resolve property: idClient of: com.isamm.beans.Widhdrawal&quot;\n\nI think that&#39;s because of attribut in Widhdrawal :\n\n\n&#39;\npublic class Widhdrawal{\n\n\tprivate int idWidh;\n\tprivate String libelle;\n\tprivate String date;\n\tprivate double somme;\n\tprivate Client client;\n&#39;","body":"dosen&#39;t work .   &quot;could not resolve property: idClient of: com.isamm.beans.Widhdrawal&quot;  I think that&#39;s because of attribut in Widhdrawal :   &#39; public class Widhdrawal{  \tprivate int idWidh; \tprivate String libelle; \tprivate String date; \tprivate double somme; \tprivate Client client; &#39;"}],"tags":[],"owner":{"account_id":1152215,"reputation":9967,"user_id":1133674,"accept_rate":52,"display_name":"Rahul Tapali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363745901,"creation_date":1363745901,"answer_id":15514105,"question_id":15514021,"body_markdown":"Try this:\r\n\r\n     String hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \r\n              &quot;where W.idClient = :employee_id)&quot;;","title":"Update with Join hibernate (HQL)","body":"<p>Try this:</p>\n\n<pre><code> String hql = \"UPDATE Widhdrawal W set W.cost = :salary \"  + \n          \"where W.idClient = :employee_id)\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628990,"reputation":29,"user_id":1503931,"display_name":"wadjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363786425,"creation_date":1363786425,"answer_id":15525074,"question_id":15514021,"body_markdown":"Thank you, i found the solution.\r\nI hope that this can help other people ...\r\nThis problem is du to lowerCase.\r\n\r\n    \t\t\t\tString hql = &quot;UPDATE Widhdrawal W set W.cost= :newCost &quot;  + \r\n\t\t\t\t          &quot;where W.client.id_client = :id_cl&quot;;\r\n\r\n\t\t\t\tQuery query = session.createQuery(hql);","title":"Update with Join hibernate (HQL)","body":"<p>Thank you, i found the solution.\nI hope that this can help other people ...\nThis problem is du to lowerCase.</p>\n\n<pre><code>                String hql = \"UPDATE Widhdrawal W set W.cost= :newCost \"  + \n                      \"where W.client.id_client = :id_cl\";\n\n            Query query = session.createQuery(hql);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5080395,"reputation":9,"user_id":4076682,"display_name":"kuldip phadatare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692174773,"creation_date":1509358477,"answer_id":47012753,"question_id":15514021,"body_markdown":"Try this:\r\n\r\n```java\r\nString hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \r\n    &quot;where W.id_client =(select id_client from client where id_client = :employee_id)&quot;;\r\n```\r\n\r\nWidhdrawal  and client is POJO class name.","title":"Update with Join hibernate (HQL)","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \n    &quot;where W.id_client =(select id_client from client where id_client = :employee_id)&quot;;\n</code></pre>\n<p>Widhdrawal  and client is POJO class name.</p>\n"}],"owner":{"account_id":1628990,"reputation":29,"user_id":1503931,"display_name":"wadjo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692174773,"creation_date":1363745208,"question_id":15514021,"body_markdown":"I&#39;m on trouble with an hql problem.\r\n\r\nI would like to write a query, that updates an attribut, and that&#39;s based on a value on another table.\r\n\r\nThis is my example, I have those two tables : Client and Widhdrawal.\r\n\r\nClient : idClient, name ...\r\n\r\nWidhdrawal : idWidh, cost, and the idClient (foreign key)\r\n\r\nNow if i would update the client, under the condition of (idClient = 5 for example), i can&#39;t.\r\n\r\nI tried this, but in vain :\r\n\r\n    \t\tString hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \r\n\t\t&quot;where W.Client.id_client = :employee_id)&quot;;\r\n\t\t\r\n\t\tQuery query = session.createQuery(hql);\r\n\t\tquery.setParameter(&quot;salary&quot;, 1000);\r\n\t\tquery.setParameter(&quot;employee_id&quot;, 5);\r\n\t\tint result = query.executeUpdate();\r\n\r\nI hope that someone can have some advices, thank you.","title":"Update with Join hibernate (HQL)","body":"<p>I'm on trouble with an hql problem.</p>\n\n<p>I would like to write a query, that updates an attribut, and that's based on a value on another table.</p>\n\n<p>This is my example, I have those two tables : Client and Widhdrawal.</p>\n\n<p>Client : idClient, name ...</p>\n\n<p>Widhdrawal : idWidh, cost, and the idClient (foreign key)</p>\n\n<p>Now if i would update the client, under the condition of (idClient = 5 for example), i can't.</p>\n\n<p>I tried this, but in vain :</p>\n\n<pre><code>        String hql = \"UPDATE Widhdrawal W set W.cost = :salary \"  + \n    \"where W.Client.id_client = :employee_id)\";\n\n    Query query = session.createQuery(hql);\n    query.setParameter(\"salary\", 1000);\n    query.setParameter(\"employee_id\", 5);\n    int result = query.executeUpdate();\n</code></pre>\n\n<p>I hope that someone can have some advices, thank you.</p>\n"},{"tags":["java","android","android-animation","android-button"],"comments":[{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1691164012,"post_id":76743065,"comment_id":135459492,"body_markdown":"try this one https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/","body":"try this one <a href=\"https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/\" rel=\"nofollow noreferrer\">parallelcodes.com/&hellip;</a>"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1691164496,"post_id":76743065,"comment_id":135459584,"body_markdown":"@AniruddhParihar: Thanks for your comment. What exactly shall I try there? I had a look at the link but don&#39;t see at all how this should be related to my question","body":"@AniruddhParihar: Thanks for your comment. What exactly shall I try there? I had a look at the link but don&#39;t see at all how this should be related to my question"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1691397457,"post_id":76743065,"comment_id":135480693,"body_markdown":"try this gradient https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/#:~:text=res%3Edrawable%3Ebuttonstyle1.xml%3A","body":"try this gradient <a href=\"https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/#:~:text=res%3Edrawable%3Ebuttonstyle1.xml%3A\" rel=\"nofollow noreferrer\">parallelcodes.com/&hellip;</a>"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1691397599,"post_id":76743065,"comment_id":135480730,"body_markdown":"Or try this Gradient for button\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;https://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;@color/red&quot;/&gt;\n    &lt;item android:state_focused=&quot;true&quot; android:color=&quot;@color/yellow&quot;/&gt;\n    &lt;item android:color=&quot;@color/green&quot;/&gt;\n&lt;/selector&gt;","body":"Or try this Gradient for button  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;selector xmlns:android=&quot;<a href=\"https://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt;     &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;@color/red&quot;/&gt;     &lt;item android:state_focused=&quot;true&quot; android:color=&quot;@color/yellow&quot;/&gt;     &lt;item android:color=&quot;@color/green&quot;/&gt; &lt;/selector&gt;"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1691521054,"post_id":76743065,"comment_id":135502146,"body_markdown":"@AniruddhParihar: Thanks for your comment. Actually not the button should change when pressing (that would be easy). When the button is hold pressed the custom made rectangle view should change and this makes the whole thing difficult","body":"@AniruddhParihar: Thanks for your comment. Actually not the button should change when pressing (that would be easy). When the button is hold pressed the custom made rectangle view should change and this makes the whole thing difficult"}],"answers":[{"comments":[{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1690034376,"post_id":76743477,"comment_id":135298144,"body_markdown":"Thanks for your answer. I indeed forgot to poste the code of the RepeatListener. I now updated the question and you can see the code. Thanks for the hint.","body":"Thanks for your answer. I indeed forgot to poste the code of the RepeatListener. I now updated the question and you can see the code. Thanks for the hint."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1690043968,"post_id":76743477,"comment_id":135299375,"body_markdown":"So you handle ACTION_DOWN/ACTION_UP as I suspected, if you want to keep the color intact for the time of touch down on the button, then you must tract when the color gets changed. I suppose its in those runnables you are calling. Code is quite complicated, I would suggest getting rid of those runnable and just set the color in ACTION_DOWN, and bring that color back in ACTION_UP.","body":"So you handle ACTION_DOWN/ACTION_UP as I suspected, if you want to keep the color intact for the time of touch down on the button, then you must tract when the color gets changed. I suppose its in those runnables you are calling. Code is quite complicated, I would suggest getting rid of those runnable and just set the color in ACTION_DOWN, and bring that color back in ACTION_UP."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1690100193,"post_id":76743477,"comment_id":135303731,"body_markdown":"Thanks for your answer. I have to admit that I don&#39;t understand at all what I should do. Where and how shall I change the color of the custom view? And what do you mean by ACTION_DOWN and ACTION_UP? Actually I only have one button, so there is no such thing as up or down in the button. Further, I need to change the color in the main fragment `Test ` as I have multiple different versions of the custom view rectangle and they should change to different background colors. Also, where shall I get rid of the runnable? I think I need them for the repeatListener and to change the color","body":"Thanks for your answer. I have to admit that I don&#39;t understand at all what I should do. Where and how shall I change the color of the custom view? And what do you mean by ACTION_DOWN and ACTION_UP? Actually I only have one button, so there is no such thing as up or down in the button. Further, I need to change the color in the main fragment <code>Test </code> as I have multiple different versions of the custom view rectangle and they should change to different background colors. Also, where shall I get rid of the runnable? I think I need them for the repeatListener and to change the color"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1690128935,"post_id":76743477,"comment_id":135307041,"body_markdown":"You currently change colors in Runnables which are posted with delay. I suppose this is what causes the flicker. You could easily simply change the color at the place where you currently post your Runnables. Events ACTION_DOWN is when user presses button, and ACTION_UP when releases. So thats when you want to change colors. So instead of changeing back the background color in posted Runnable, do it when ACTION_UP of your button arrives (your have code for it in RepeatListener).","body":"You currently change colors in Runnables which are posted with delay. I suppose this is what causes the flicker. You could easily simply change the color at the place where you currently post your Runnables. Events ACTION_DOWN is when user presses button, and ACTION_UP when releases. So thats when you want to change colors. So instead of changeing back the background color in posted Runnable, do it when ACTION_UP of your button arrives (your have code for it in RepeatListener)."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1690229624,"post_id":76743477,"comment_id":135321518,"body_markdown":"Thanks for your answer. In the class of the RepeatListener I don&#39;t know which custom made rectangle view is currently running. Not only do I have to know which of the rectangles is curring, but in my real app (instead of this example) there are many custom made rectangle views at the same time on the screen and only for some of them that fulfil a special condition, the background color should be changed. So either I don&#39;t understand your suggested approach, or it is simply not applicable to my question.","body":"Thanks for your answer. In the class of the RepeatListener I don&#39;t know which custom made rectangle view is currently running. Not only do I have to know which of the rectangles is curring, but in my real app (instead of this example) there are many custom made rectangle views at the same time on the screen and only for some of them that fulfil a special condition, the background color should be changed. So either I don&#39;t understand your suggested approach, or it is simply not applicable to my question."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1690271953,"post_id":76743477,"comment_id":135326265,"body_markdown":"Iam afraid your problem require debugging of your real code. Often simplification might help find out problem, like my suggestion to remove posted runnables. This might show that problem might be in views animation, have you checked it? Here is related so: https://stackoverflow.com/questions/9387711/android-animation-flicker","body":"Iam afraid your problem require debugging of your real code. Often simplification might help find out problem, like my suggestion to remove posted runnables. This might show that problem might be in views animation, have you checked it? Here is related so: <a href=\"https://stackoverflow.com/questions/9387711/android-animation-flicker\" title=\"android animation flicker\">stackoverflow.com/questions/9387711/android-animation-flicke&zwnj;&#8203;r</a>"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1690306227,"post_id":76743477,"comment_id":135333981,"body_markdown":"Thanks for your comment. Actually the animation itself works fine and there is no flickering. The flickering just comes when I want to change the color as long as the button is pressed. If I just want to change the color once (in a while) there is also no flickering. So I&#39;d assume that there is no issue with the flickering. I still don&#39;t understand your suggested approach. How can I change something in the RepeatListener?","body":"Thanks for your comment. Actually the animation itself works fine and there is no flickering. The flickering just comes when I want to change the color as long as the button is pressed. If I just want to change the color once (in a while) there is also no flickering. So I&#39;d assume that there is no issue with the flickering. I still don&#39;t understand your suggested approach. How can I change something in the RepeatListener?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1690553564,"post_id":76743477,"comment_id":135374201,"body_markdown":"Thanks for your comments. Any comments to my last comment? I&#39;ll highly appreciate every further comment from you.","body":"Thanks for your comments. Any comments to my last comment? I&#39;ll highly appreciate every further comment from you."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1690575905,"post_id":76743477,"comment_id":135378096,"body_markdown":"No, sorry - nothing new comes to mind","body":"No, sorry - nothing new comes to mind"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1692358823,"post_id":76743477,"comment_id":135615577,"body_markdown":"Thanks marcinj. I could solve the problem by using your approach. It was not easy and I have to use a static variable and static method in the RepeatListener class to pass the the view that should be changed, but by doing this, I could solve the problem.","body":"Thanks marcinj. I could solve the problem by using your approach. It was not easy and I have to use a static variable and static method in the RepeatListener class to pass the the view that should be changed, but by doing this, I could solve the problem."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690023732,"creation_date":1690023732,"answer_id":76743477,"question_id":76743065,"body_markdown":"&gt; What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed.\r\n\r\nColor of you rectangle is changed back after 300ms, thats what you have coded. This might give a flicker.\r\n\r\nIts hard to tell from the provided code what is exactly wrong. You have not provided code for `RepeatListener`. I suspect that the code inside:\r\n\r\n    public void onClick(View view) {\r\n\r\ngets executed even after first time button was touched. You should execute your on touch code when `event.getAction() == MotionEvent.ACTION_DOWN` and when its `event.getAction() == MotionEvent.ACTION_UP`, handle touch up action. Otherwise you will intercept also `MotionEvent.ACTION_MOVE` events which can give you flicker. I assume this is not implemented in `RepeatListener`.\r\n\r\nSo, when `MotionEvent.ACTION_DOWN` change color to the one you want to stay for the time user touches button. Then when `MotionEvent.ACTION_UP` comes, change the color back. I dont see a need for `postDelayed` here.\r\n\r\n\r\n\r\n","title":"How to change the color of a view in Android as long as a repeatListener button is pressed without flickering","body":"<blockquote>\n<p>What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed.</p>\n</blockquote>\n<p>Color of you rectangle is changed back after 300ms, thats what you have coded. This might give a flicker.</p>\n<p>Its hard to tell from the provided code what is exactly wrong. You have not provided code for <code>RepeatListener</code>. I suspect that the code inside:</p>\n<pre><code>public void onClick(View view) {\n</code></pre>\n<p>gets executed even after first time button was touched. You should execute your on touch code when <code>event.getAction() == MotionEvent.ACTION_DOWN</code> and when its <code>event.getAction() == MotionEvent.ACTION_UP</code>, handle touch up action. Otherwise you will intercept also <code>MotionEvent.ACTION_MOVE</code> events which can give you flicker. I assume this is not implemented in <code>RepeatListener</code>.</p>\n<p>So, when <code>MotionEvent.ACTION_DOWN</code> change color to the one you want to stay for the time user touches button. Then when <code>MotionEvent.ACTION_UP</code> comes, change the color back. I dont see a need for <code>postDelayed</code> here.</p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76743477,"answer_count":1,"score":0,"last_activity_date":1692174580,"creation_date":1690017036,"question_id":76743065,"body_markdown":"I have the following Java code\r\n\r\n    package com.example.game;\r\n    \r\n    import android.content.pm.ActivityInfo;\r\n    import android.graphics.Point;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Bundle;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Handler;\r\n    import android.view.Display;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.WindowManager;\r\n    import android.view.animation.LinearInterpolator;\r\n    import androidx.constraintlayout.widget.ConstraintLayout;\r\n    import androidx.constraintlayout.widget.ConstraintSet;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.fragment.app.Fragment;\r\n    import com.example.game.databinding.FragmentTestBinding;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class Test extends Fragment {\r\n        /*\r\n        Game variables\r\n         */\r\n    \r\n        private Handler handler = new Handler();\r\n    \r\n        private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 8000;\r\n    \r\n        private int currentTimeSlot;\r\n    \r\n        private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\r\n        private float percentageHeightOfEventElement = 0.071f;\r\n    \r\n        int widthDisplay;\r\n        int heightDisplay;\r\n    \r\n        //Type of View_Game_Events\r\n        public static final String VIEW_EVENT_RECTANGLE_SOLAR = &quot;Solar&quot;;\r\n    \r\n        private FragmentTestBinding binding;\r\n    \r\n        private ConstraintLayout constraintLayout;\r\n        ConstraintSet constraintSet ;\r\n    \r\n        //Variables for the single view event\r\n        View_Game_Event_Rectangle[] viewEvent;\r\n        boolean [] isViewEventActive;\r\n        Drawable[] drawingsForTheViewEvents;\r\n        private static int nextFreeIndexForViewEvent;\r\n        private static int numberOfViewEventInArray = 10;\r\n        ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\r\n    \r\n        private int [] orangeRectangleValuesForTheLevel;\r\n    \r\n        private boolean fragmentViewHasBeenCreated = false;\r\n    \r\n        private CountDownTimer cdt;\r\n    \r\n        private  final long DELAY_COUNT_DOWN_TIMER = 100; //100ms\r\n    \r\n        private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\r\n    \r\n    \r\n        public Test() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            nextFreeIndexForViewEvent = 0;\r\n            viewEvent = new View_Game_Event_Rectangle[numberOfViewEventInArray];\r\n            drawingsForTheViewEvents = new Drawable[numberOfViewEventInArray];\r\n            arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\r\n            isViewEventActive = new boolean[numberOfViewEventInArray];\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTestBinding.inflate(inflater, container, false);\r\n    \r\n            WindowManager wm = (WindowManager) getActivity().getWindowManager();\r\n            Display display = wm.getDefaultDisplay();\r\n            Point size = new Point();\r\n            display.getSize(size);\r\n            widthDisplay = size.x;\r\n            heightDisplay = size.y;\r\n    \r\n    \r\n            container.getContext();\r\n            constraintLayout= binding.constraintLayout;\r\n    \r\n    \r\n            fragmentViewHasBeenCreated = true;\r\n            getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n            constraintLayout = binding.constraintLayout;\r\n            constraintSet = new ConstraintSet();\r\n    \r\n            //Define the repeatListener\r\n            binding.repeatButton.setOnTouchListener((View.OnTouchListener) new RepeatListener(30, 30, new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n                    View_Game_Event_Rectangle activeElement = null;\r\n                    for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n                        activeElement = arrayList_GameEventRectangles.get(currentElement);\r\n                    }\r\n    \r\n                    if (activeElement!=null) {\r\n                        activeElement.setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_2).mutate());\r\n                        // Schedule the change back to R.drawable.game_event_rectangle_solar_1 after 10 milliseconds\r\n                        Handler handler = new Handler();\r\n                        View_Game_Event_Rectangle finalActiveElement = activeElement;\r\n                        handler.postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                // Change the background back to R.drawable.game_event_rectangle_solar_1\r\n                                finalActiveElement.setBackground(ContextCompat.getDrawable(getActivity(), R.drawable.game_event_rectangle_solar_1).mutate());\r\n                            }\r\n                        }, 300);\r\n                    }\r\n    \r\n    \r\n    \r\n                }\r\n            }));\r\n    \r\n    \r\n            startGame();\r\n            return binding.getRoot();\r\n        }\r\n    \r\n        public void startGame () {\r\n            startRound();\r\n        }\r\n    \r\n        public void startRound () {\r\n            orangeRectangleValuesForTheLevel = new int[5000];\r\n            orangeRectangleValuesForTheLevel [54] = 20;\r\n    \r\n    \r\n    \r\n            //Create the array list with the Game_Event_Rectangles\r\n            for (int i =0; i&lt;orangeRectangleValuesForTheLevel.length; i++) {\r\n                if (orangeRectangleValuesForTheLevel[i] &gt;0) {\r\n                    arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), VIEW_EVENT_RECTANGLE_SOLAR, i+1, orangeRectangleValuesForTheLevel[i]));\r\n                }\r\n            }\r\n    \r\n            countDownTime();\r\n    \r\n        }\r\n    \r\n        private void updateScreen() {\r\n    \r\n            /*\r\n            Iterate through all elements\r\n             */\r\n            for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n    \r\n    \r\n                //Create view and set\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 15) {\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setActive(true);\r\n    \r\n    \r\n                    //Set the parameters and the backgorund of the view element\r\n                    arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\r\n    \r\n                    if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(VIEW_EVENT_RECTANGLE_SOLAR)) {\r\n                        arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_1).mutate());\r\n                    }\r\n    \r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\r\n    \r\n                    //Make the view invisible (before it&#39;s appearence time)\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\r\n    \r\n                    // Set the ConstraintLayout programatically for the view\r\n                    constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\r\n                    constraintSet.clone(constraintLayout);\r\n                    constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\r\n    \r\n                    float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\r\n                    float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\r\n    \r\n    \r\n                    constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\r\n    \r\n                    float horizontalBias = 1.0f ;\r\n                    constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\r\n                    constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\r\n                    constraintSet.applyTo(constraintLayout);\r\n    \r\n                }\r\n    \r\n                //Shift the view to the right border of the display\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 10) {\r\n    \r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\r\n                }\r\n    \r\n    \r\n                //Animate view element\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\r\n                    View rectangle = arrayList_GameEventRectangles.get(currentElement);\r\n                    int rectangleWidth = rectangle.getWidth();\r\n                    float distanceToCover_current = widthDisplay + rectangleWidth;\r\n                    float distanceToCover_normalizedObject = widthDisplay + 20;\r\n                    double ratioDistanceDifference = distanceToCover_current /distanceToCover_normalizedObject;\r\n                    long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * ratioDistanceDifference);\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).setInterpolator(new LinearInterpolator()).start();\r\n    \r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private void countDownTime(){\r\n    \r\n    \r\n            cdt = new CountDownTimer(100000, DELAY_COUNT_DOWN_TIMER) {\r\n                boolean delay = true;\r\n                public void onTick(long millisUntilFinished) {\r\n                    if(delay) {\r\n                        delay = false;\r\n                    } else {\r\n                        currentTimeSlot++;\r\n    \r\n                        updateScreen();\r\n                        delay = true;\r\n                    }\r\n                }\r\n                public void onFinish() {\r\n                    updateScreen();\r\n                }\r\n            }.start();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n    \r\n            // Reset your variable to false\r\n            fragmentViewHasBeenCreated = false;\r\n    \r\n            // And clean up any postDelayed callbacks that are waiting to fire\r\n            cdt.cancel();\r\n            handler.removeCallbacksAndMessages(null);\r\n        }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code for the RepeatListener:\r\n\r\n    package com.example.game;\r\n    \r\n    import android.os.Handler;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    \r\n    /**\r\n     * A class, that can be used as a TouchListener on any view (e.g. a Button).\r\n     * It cyclically runs a clickListener, emulating keyboard-like behaviour. First\r\n     * click is fired immediately, next one after the initialInterval, and subsequent\r\n     * ones after the normalInterval.\r\n     *\r\n     * &lt;p&gt;Interval is scheduled after the onClick completes, so it has to run fast.\r\n     * If it runs slow, it does not generate skipped onClicks. Can be rewritten to\r\n     * achieve this.\r\n     */\r\n    public class RepeatListener implements View.OnTouchListener {\r\n    \r\n        private Handler handler = new Handler();\r\n    \r\n        private int initialInterval;\r\n        private final int normalInterval;\r\n        private final View.OnClickListener clickListener;\r\n        private View touchedView;\r\n    \r\n        private Runnable handlerRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if(touchedView.isEnabled()) {\r\n                    handler.postDelayed(this, normalInterval);\r\n                    clickListener.onClick(touchedView);\r\n                } else {\r\n                    // if the view was disabled by the clickListener, remove the callback\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    touchedView.setPressed(false);\r\n                    touchedView = null;\r\n                }\r\n            }\r\n        };\r\n    \r\n        /**\r\n         * @param initialInterval The interval after first click event\r\n         * @param normalInterval The interval after second and subsequent click\r\n         *       events\r\n         * @param clickListener The OnClickListener, that will be called\r\n         *       periodically\r\n         */\r\n        public RepeatListener(int initialInterval, int normalInterval,\r\n                              View.OnClickListener clickListener) {\r\n            if (clickListener == null)\r\n                throw new IllegalArgumentException(&quot;null runnable&quot;);\r\n            if (initialInterval &lt; 0 || normalInterval &lt; 0)\r\n                throw new IllegalArgumentException(&quot;negative interval&quot;);\r\n    \r\n            this.initialInterval = initialInterval;\r\n            this.normalInterval = normalInterval;\r\n            this.clickListener = clickListener;\r\n        }\r\n    \r\n        public boolean onTouch(View view, MotionEvent motionEvent) {\r\n            switch (motionEvent.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    handler.postDelayed(handlerRunnable, initialInterval);\r\n                    touchedView = view;\r\n                    touchedView.setPressed(true);\r\n                    clickListener.onClick(view);\r\n                    return true;\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL:\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    touchedView.setPressed(false);\r\n                    touchedView = null;\r\n                    return true;\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nWhat happens is that a simple custom made view rectangle `View_Game_Event_Rectangle` is animated from the right to the left.Then I have a repeat listener. When the repeat listener is pressed the background color of the custom view is changed from its original one `R.drawable.game_event_rectangle_solar_1` to a new one `R.drawable.game_event_rectangle_solar_2`. A handler then changes the color back after some time. The problem is, that the custom made view rectangle flickers while holding the repeatListener pressed. I tried to change the time delay for the handler but this did not solve the problem (when the delay is too high, the color remains changed for a long time). What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed. After the repeatListener button is not pressed any more, the color should change back to its original one. The improtant aspect is that while the button is pressed, the custom made view rectangle should not flicker but just have the alternative color `R.drawable.game_event_rectangle_solar_2`.\r\n\r\n**Please**: Please can someone share his/her idea? I&#39;d be quite thankful.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ihf5q.png","title":"How to change the color of a view in Android as long as a repeatListener button is pressed without flickering","body":"<p>I have the following Java code</p>\n<pre><code>package com.example.game;\n\nimport android.content.pm.ActivityInfo;\nimport android.graphics.Point;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.os.Handler;\nimport android.view.Display;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\nimport android.view.animation.LinearInterpolator;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.constraintlayout.widget.ConstraintSet;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.Fragment;\nimport com.example.game.databinding.FragmentTestBinding;\nimport java.util.ArrayList;\n\n\npublic class Test extends Fragment {\n    /*\n    Game variables\n     */\n\n    private Handler handler = new Handler();\n\n    private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 8000;\n\n    private int currentTimeSlot;\n\n    private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\n    private float percentageHeightOfEventElement = 0.071f;\n\n    int widthDisplay;\n    int heightDisplay;\n\n    //Type of View_Game_Events\n    public static final String VIEW_EVENT_RECTANGLE_SOLAR = &quot;Solar&quot;;\n\n    private FragmentTestBinding binding;\n\n    private ConstraintLayout constraintLayout;\n    ConstraintSet constraintSet ;\n\n    //Variables for the single view event\n    View_Game_Event_Rectangle[] viewEvent;\n    boolean [] isViewEventActive;\n    Drawable[] drawingsForTheViewEvents;\n    private static int nextFreeIndexForViewEvent;\n    private static int numberOfViewEventInArray = 10;\n    ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\n\n    private int [] orangeRectangleValuesForTheLevel;\n\n    private boolean fragmentViewHasBeenCreated = false;\n\n    private CountDownTimer cdt;\n\n    private  final long DELAY_COUNT_DOWN_TIMER = 100; //100ms\n\n    private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\n\n\n    public Test() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        nextFreeIndexForViewEvent = 0;\n        viewEvent = new View_Game_Event_Rectangle[numberOfViewEventInArray];\n        drawingsForTheViewEvents = new Drawable[numberOfViewEventInArray];\n        arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\n        isViewEventActive = new boolean[numberOfViewEventInArray];\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTestBinding.inflate(inflater, container, false);\n\n        WindowManager wm = (WindowManager) getActivity().getWindowManager();\n        Display display = wm.getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        widthDisplay = size.x;\n        heightDisplay = size.y;\n\n\n        container.getContext();\n        constraintLayout= binding.constraintLayout;\n\n\n        fragmentViewHasBeenCreated = true;\n        getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        constraintLayout = binding.constraintLayout;\n        constraintSet = new ConstraintSet();\n\n        //Define the repeatListener\n        binding.repeatButton.setOnTouchListener((View.OnTouchListener) new RepeatListener(30, 30, new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                View_Game_Event_Rectangle activeElement = null;\n                for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n                    activeElement = arrayList_GameEventRectangles.get(currentElement);\n                }\n\n                if (activeElement!=null) {\n                    activeElement.setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_2).mutate());\n                    // Schedule the change back to R.drawable.game_event_rectangle_solar_1 after 10 milliseconds\n                    Handler handler = new Handler();\n                    View_Game_Event_Rectangle finalActiveElement = activeElement;\n                    handler.postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            // Change the background back to R.drawable.game_event_rectangle_solar_1\n                            finalActiveElement.setBackground(ContextCompat.getDrawable(getActivity(), R.drawable.game_event_rectangle_solar_1).mutate());\n                        }\n                    }, 300);\n                }\n\n\n\n            }\n        }));\n\n\n        startGame();\n        return binding.getRoot();\n    }\n\n    public void startGame () {\n        startRound();\n    }\n\n    public void startRound () {\n        orangeRectangleValuesForTheLevel = new int[5000];\n        orangeRectangleValuesForTheLevel [54] = 20;\n\n\n\n        //Create the array list with the Game_Event_Rectangles\n        for (int i =0; i&lt;orangeRectangleValuesForTheLevel.length; i++) {\n            if (orangeRectangleValuesForTheLevel[i] &gt;0) {\n                arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), VIEW_EVENT_RECTANGLE_SOLAR, i+1, orangeRectangleValuesForTheLevel[i]));\n            }\n        }\n\n        countDownTime();\n\n    }\n\n    private void updateScreen() {\n\n        /*\n        Iterate through all elements\n         */\n        for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n\n\n            //Create view and set\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 15) {\n\n                arrayList_GameEventRectangles.get(currentElement).setActive(true);\n\n\n                //Set the parameters and the backgorund of the view element\n                arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\n\n                if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(VIEW_EVENT_RECTANGLE_SOLAR)) {\n                    arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_1).mutate());\n                }\n\n\n                arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\n\n                //Make the view invisible (before it's appearence time)\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\n\n                // Set the ConstraintLayout programatically for the view\n                constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\n                constraintSet.clone(constraintLayout);\n                constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\n\n                float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\n                float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\n\n\n                constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\n\n                float horizontalBias = 1.0f ;\n                constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\n                constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\n                constraintSet.applyTo(constraintLayout);\n\n            }\n\n            //Shift the view to the right border of the display\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 10) {\n\n\n                arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\n            }\n\n\n            //Animate view element\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\n                View rectangle = arrayList_GameEventRectangles.get(currentElement);\n                int rectangleWidth = rectangle.getWidth();\n                float distanceToCover_current = widthDisplay + rectangleWidth;\n                float distanceToCover_normalizedObject = widthDisplay + 20;\n                double ratioDistanceDifference = distanceToCover_current /distanceToCover_normalizedObject;\n                long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * ratioDistanceDifference);\n\n                arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).setInterpolator(new LinearInterpolator()).start();\n\n            }\n        }\n\n    }\n\n    private void countDownTime(){\n\n\n        cdt = new CountDownTimer(100000, DELAY_COUNT_DOWN_TIMER) {\n            boolean delay = true;\n            public void onTick(long millisUntilFinished) {\n                if(delay) {\n                    delay = false;\n                } else {\n                    currentTimeSlot++;\n\n                    updateScreen();\n                    delay = true;\n                }\n            }\n            public void onFinish() {\n                updateScreen();\n            }\n        }.start();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        // Reset your variable to false\n        fragmentViewHasBeenCreated = false;\n\n        // And clean up any postDelayed callbacks that are waiting to fire\n        cdt.cancel();\n        handler.removeCallbacksAndMessages(null);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ihf5q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ihf5q.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code for the RepeatListener:</p>\n<pre><code>package com.example.game;\n\nimport android.os.Handler;\nimport android.view.MotionEvent;\nimport android.view.View;\n\n/**\n * A class, that can be used as a TouchListener on any view (e.g. a Button).\n * It cyclically runs a clickListener, emulating keyboard-like behaviour. First\n * click is fired immediately, next one after the initialInterval, and subsequent\n * ones after the normalInterval.\n *\n * &lt;p&gt;Interval is scheduled after the onClick completes, so it has to run fast.\n * If it runs slow, it does not generate skipped onClicks. Can be rewritten to\n * achieve this.\n */\npublic class RepeatListener implements View.OnTouchListener {\n\n    private Handler handler = new Handler();\n\n    private int initialInterval;\n    private final int normalInterval;\n    private final View.OnClickListener clickListener;\n    private View touchedView;\n\n    private Runnable handlerRunnable = new Runnable() {\n        @Override\n        public void run() {\n            if(touchedView.isEnabled()) {\n                handler.postDelayed(this, normalInterval);\n                clickListener.onClick(touchedView);\n            } else {\n                // if the view was disabled by the clickListener, remove the callback\n                handler.removeCallbacks(handlerRunnable);\n                touchedView.setPressed(false);\n                touchedView = null;\n            }\n        }\n    };\n\n    /**\n     * @param initialInterval The interval after first click event\n     * @param normalInterval The interval after second and subsequent click\n     *       events\n     * @param clickListener The OnClickListener, that will be called\n     *       periodically\n     */\n    public RepeatListener(int initialInterval, int normalInterval,\n                          View.OnClickListener clickListener) {\n        if (clickListener == null)\n            throw new IllegalArgumentException(&quot;null runnable&quot;);\n        if (initialInterval &lt; 0 || normalInterval &lt; 0)\n            throw new IllegalArgumentException(&quot;negative interval&quot;);\n\n        this.initialInterval = initialInterval;\n        this.normalInterval = normalInterval;\n        this.clickListener = clickListener;\n    }\n\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n        switch (motionEvent.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                handler.removeCallbacks(handlerRunnable);\n                handler.postDelayed(handlerRunnable, initialInterval);\n                touchedView = view;\n                touchedView.setPressed(true);\n                clickListener.onClick(view);\n                return true;\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL:\n                handler.removeCallbacks(handlerRunnable);\n                touchedView.setPressed(false);\n                touchedView = null;\n                return true;\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n<p>What happens is that a simple custom made view rectangle <code>View_Game_Event_Rectangle</code> is animated from the right to the left.Then I have a repeat listener. When the repeat listener is pressed the background color of the custom view is changed from its original one <code>R.drawable.game_event_rectangle_solar_1</code> to a new one <code>R.drawable.game_event_rectangle_solar_2</code>. A handler then changes the color back after some time. The problem is, that the custom made view rectangle flickers while holding the repeatListener pressed. I tried to change the time delay for the handler but this did not solve the problem (when the delay is too high, the color remains changed for a long time). What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed. After the repeatListener button is not pressed any more, the color should change back to its original one. The improtant aspect is that while the button is pressed, the custom made view rectangle should not flicker but just have the alternative color <code>R.drawable.game_event_rectangle_solar_2</code>.</p>\n<p><strong>Please</strong>: Please can someone share his/her idea? I'd be quite thankful.</p>\n"},{"tags":["java","json","amazon-dynamodb"],"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":1,"creation_date":1645772952,"post_id":43812278,"comment_id":125964288,"body_markdown":"Most of the answers here are obsolete so I posted a new related question at https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x","body":"Most of the answers here are obsolete so I posted a new related question at <a href=\"https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x\" title=\"where did the classes internalutils and itemutils go in aws sdx 2 x\">stackoverflow.com/questions/71262197/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7276753,"reputation":427,"user_id":5547938,"accept_rate":17,"display_name":"Himanshu Parmar"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1494516130,"creation_date":1494516130,"answer_id":43919594,"question_id":43812278,"body_markdown":"Below is the complete code for converting from Dynamo JSON to Standard JSON:\r\n\r\n    import com.amazonaws.services.dynamodbv2.document.Item;\r\n    import com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    import com.amazonaws.services.lambda.runtime.events.DynamodbEvent;\r\n    import com.amazonaws.services.lambda.runtime.events.DynamodbEvent.DynamodbStreamRecord;\r\n    import com.google.gson.Gson;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * Main Lambda class to receive event stream, parse it to Survey\r\n     * and process them.\r\n     */\r\n    public class SurveyEventProcessor implements\r\n            RequestHandler&lt;DynamodbEvent, String&gt; {\r\n    \r\n        private static final String INSERT = &quot;INSERT&quot;;\r\n    \r\n        private static final String MODIFY = &quot;MODIFY&quot;;\r\n    \r\n        public String handleRequest(DynamodbEvent ddbEvent, Context context) {\r\n    \r\n            List&lt;Item&gt; listOfItem = new ArrayList&lt;&gt;();\r\n            List&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = null;\r\n            for (DynamodbStreamRecord record : ddbEvent.getRecords()) {\r\n    \r\n                if (INSERT.equals(record.getEventName()) || MODIFY.equals(record.getEventName())) {\r\n                    listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\r\n                    listOfMaps.add(record.getDynamodb().getNewImage());\r\n                    listOfItem = InternalUtils.toItemList(listOfMaps);\r\n                }\r\n    \r\n                System.out.println(listOfItem);\r\n                try {\r\n                   // String json = new ObjectMapper().writeValueAsString(listOfItem.get(0));\r\n                    Gson gson = new Gson();\r\n                    Item item = listOfItem.get(0);\r\n    \r\n                    String json = gson.toJson(item.asMap());\r\n                    System.out.println(&quot;JSON is &quot;);\r\n                    System.out.println(json);\r\n                }catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n    \r\n            return &quot;Successfully processed &quot; + ddbEvent.getRecords().size() + &quot; records.&quot;;\r\n        }\r\n    } ","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Below is the complete code for converting from Dynamo JSON to Standard JSON:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.document.Item;\nimport com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.DynamodbEvent;\nimport com.amazonaws.services.lambda.runtime.events.DynamodbEvent.DynamodbStreamRecord;\nimport com.google.gson.Gson;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * Main Lambda class to receive event stream, parse it to Survey\n * and process them.\n */\npublic class SurveyEventProcessor implements\n        RequestHandler&lt;DynamodbEvent, String&gt; {\n\n    private static final String INSERT = \"INSERT\";\n\n    private static final String MODIFY = \"MODIFY\";\n\n    public String handleRequest(DynamodbEvent ddbEvent, Context context) {\n\n        List&lt;Item&gt; listOfItem = new ArrayList&lt;&gt;();\n        List&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = null;\n        for (DynamodbStreamRecord record : ddbEvent.getRecords()) {\n\n            if (INSERT.equals(record.getEventName()) || MODIFY.equals(record.getEventName())) {\n                listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\n                listOfMaps.add(record.getDynamodb().getNewImage());\n                listOfItem = InternalUtils.toItemList(listOfMaps);\n            }\n\n            System.out.println(listOfItem);\n            try {\n               // String json = new ObjectMapper().writeValueAsString(listOfItem.get(0));\n                Gson gson = new Gson();\n                Item item = listOfItem.get(0);\n\n                String json = gson.toJson(item.asMap());\n                System.out.println(\"JSON is \");\n                System.out.println(json);\n            }catch (Exception e){\n                e.printStackTrace();\n            }\n        }\n\n\n        return \"Successfully processed \" + ddbEvent.getRecords().size() + \" records.\";\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11206844,"reputation":115,"user_id":8222199,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501958533,"creation_date":1501958533,"answer_id":45525300,"question_id":43812278,"body_markdown":"Following is a simple solution which can be applied to convert any DynamoDB Json to Simple JSON.\r\n\r\n    //passing the reponse.getItems() \r\n\tpublic static Object getJson(List&lt;Map&lt;String,AttributeValue&gt;&gt; mapList) {\r\n\t\tList&lt;Object&gt; finalJson= new ArrayList();\r\n\t\tfor(Map&lt;String,AttributeValue&gt; eachEntry : mapList) {\r\n\t\t\tfinalJson.add(mapToJson(eachEntry));\r\n\t\t}\r\n\t\treturn finalJson;\r\n\t}\r\n\t\r\n\t\r\n\t//if the map is null then it add the key and value(string) in the finalKeyValueMap\r\n\tpublic static Map&lt;String,Object&gt; mapToJson(Map&lt;String,AttributeValue&gt; keyValueMap){\r\n\t\tMap&lt;String,Object&gt; finalKeyValueMap = new HashMap();\r\n\t\tfor(Map.Entry&lt;String, AttributeValue&gt; entry : keyValueMap.entrySet()) \r\n\t\t{\r\n\t\t\tif(entry.getValue().getM() == null) {\r\n\t\t\t\tfinalKeyValueMap.put(entry.getKey(),entry.getValue().getS());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfinalKeyValueMap.put(entry.getKey(),mapToJson(entry.getValue().getM()));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn finalKeyValueMap;\r\n\t}\r\n\r\nThis will produce your desired Json in the form of List&lt;Map&lt;String,Object&gt;&gt;. Then using the Gson you can convert it into the Json format. \r\n\r\n    Gson gson = new Gson();\r\n    String jsonString = gson.toJson(getJson(response.getItems()));\r\n\r\n\r\n\r\n ","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Following is a simple solution which can be applied to convert any DynamoDB Json to Simple JSON.</p>\n\n<pre><code>//passing the reponse.getItems() \npublic static Object getJson(List&lt;Map&lt;String,AttributeValue&gt;&gt; mapList) {\n    List&lt;Object&gt; finalJson= new ArrayList();\n    for(Map&lt;String,AttributeValue&gt; eachEntry : mapList) {\n        finalJson.add(mapToJson(eachEntry));\n    }\n    return finalJson;\n}\n\n\n//if the map is null then it add the key and value(string) in the finalKeyValueMap\npublic static Map&lt;String,Object&gt; mapToJson(Map&lt;String,AttributeValue&gt; keyValueMap){\n    Map&lt;String,Object&gt; finalKeyValueMap = new HashMap();\n    for(Map.Entry&lt;String, AttributeValue&gt; entry : keyValueMap.entrySet()) \n    {\n        if(entry.getValue().getM() == null) {\n            finalKeyValueMap.put(entry.getKey(),entry.getValue().getS());\n        }\n        else {\n            finalKeyValueMap.put(entry.getKey(),mapToJson(entry.getValue().getM()));\n        }\n    }\n    return finalKeyValueMap;\n}\n</code></pre>\n\n<p>This will produce your desired Json in the form of List>. Then using the Gson you can convert it into the Json format. </p>\n\n<pre><code>Gson gson = new Gson();\nString jsonString = gson.toJson(getJson(response.getItems()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9596714,"reputation":567,"user_id":7125614,"display_name":"Yuri Bushnev"},"score":0,"creation_date":1527111162,"post_id":48916925,"comment_id":88008425,"body_markdown":"Nice and helpful. The exact solution which I was looking for. Just need to keep in mind that it works only for new aws versions (not sure which version exactly but didn&#39;t work until I upgraded to the latest while before that I was using version from December 2017)","body":"Nice and helpful. The exact solution which I was looking for. Just need to keep in mind that it works only for new aws versions (not sure which version exactly but didn&#39;t work until I upgraded to the latest while before that I was using version from December 2017)"},{"owner":{"account_id":6317042,"reputation":5554,"user_id":4906597,"accept_rate":29,"display_name":"dudi"},"score":1,"creation_date":1639558992,"post_id":48916925,"comment_id":124376891,"body_markdown":"this solution don&#39;t work with Java SDK 2.X dependencies for AWS. The ItemUtils class is not implemented here ```implementation platform(&#39;software.amazon.awssdk:bom:2.17.100&#39;)\n    implementation &#39;software.amazon.awssdk:dynamodb&#39;```","body":"this solution don&#39;t work with Java SDK 2.X dependencies for AWS. The ItemUtils class is not implemented here <code>implementation platform(&#39;software.amazon.awssdk:bom:2.17.100&#39;)     implementation &#39;software.amazon.awssdk:dynamodb&#39;</code>"},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1645772876,"post_id":48916925,"comment_id":125964275,"body_markdown":"This answer is no longer valid; see https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x","body":"This answer is no longer valid; see <a href=\"https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x\" title=\"where did the classes internalutils and itemutils go in aws sdx 2 x\">stackoverflow.com/questions/71262197/&hellip;</a>"}],"tags":[],"owner":{"account_id":4967795,"reputation":935,"user_id":3996525,"accept_rate":17,"display_name":"shamanth Gowdra Shankaramurthy"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1519253754,"creation_date":1519253754,"answer_id":48916925,"question_id":43812278,"body_markdown":"You can use [ItemUtils][1] class in aws sdk. Below is sample code using Kotlin:\r\n\r\n    import com.amazonaws.services.dynamodbv2.document.ItemUtils\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        val data = HashMap&lt;String,AttributeValue&gt;()\r\n        data.put(&quot;hello&quot;,AttributeValue().withS(&quot;world&quot;))\r\n        println(data.toString())\r\n        println(ItemUtils.toItem(data).toJSON())\r\n    }\r\nOutput:\r\n\r\n    {hello={S: world,}}\r\n    {&quot;hello&quot;:&quot;world&quot;}\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/ItemUtils.html\r\n","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>You can use <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/ItemUtils.html\" rel=\"noreferrer\">ItemUtils</a> class in aws sdk. Below is sample code using Kotlin:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.document.ItemUtils\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue\n\nfun main(args: Array&lt;String&gt;) {\n    val data = HashMap&lt;String,AttributeValue&gt;()\n    data.put(\"hello\",AttributeValue().withS(\"world\"))\n    println(data.toString())\n    println(ItemUtils.toItem(data).toJSON())\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{hello={S: world,}}\n{\"hello\":\"world\"}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":1,"creation_date":1645772922,"post_id":53975281,"comment_id":125964285,"body_markdown":"This no longer works in current SDK. See https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x","body":"This no longer works in current SDK. See <a href=\"https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x\" title=\"where did the classes internalutils and itemutils go in aws sdx 2 x\">stackoverflow.com/questions/71262197/&hellip;</a>"}],"tags":[],"owner":{"account_id":2588064,"reputation":1022,"user_id":2767348,"accept_rate":80,"display_name":"mzimmermann"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546144023,"creation_date":1546144023,"answer_id":53975281,"question_id":43812278,"body_markdown":"Amazon has an internal utility that can do the core of the job in 1 line.\r\n\r\n\r\n\r\n    Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\r\n\r\n\r\nA long version which contains some configurations:\r\n\r\n\r\n    import com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import java.lang.Map;\r\n    import java.lang.HashMap;\r\n\r\n    public class JsonConvert {\r\n        public static void main(String[] args) {\r\n            Map&lt;String,Object&gt; jsonMap = new HashMap();\r\n            jsonMap.put(&quot;string&quot;, &quot;foo&quot;);\r\n            jsonMap.put(&quot;number&quot;, 123);\r\n            Map&lt;String,Object&gt; innerMap = new HashMap();\r\n            innerMap.put(&quot;key&quot;, &quot;value&quot;);\r\n            jsonMap.put(&quot;map&quot;, innerMap);\r\n            AttributeValue attributeValue = InternalUtils.toAttributeValue(jsonMap);\r\n            Map&lt;String, AttributeValue&gt; attributeValueMap = new HashMap();\r\n            attributeValueMap.put(&quot;id&quot;, attributeValue);\r\n\r\n            Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\r\n            Map&lt;String, Object&gt; jsonMap = jsonMapWithId.get(&quot;id&quot;); // This is a regular map, values are not Amazon AttributeValue\r\n\r\n            Gson gson = new Gson(); \r\n            String json = gson.toJson(jsonMap); \r\n\r\n            System.out.println(json);\r\n        }\r\n    }","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Amazon has an internal utility that can do the core of the job in 1 line.</p>\n\n<pre><code>Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\n</code></pre>\n\n<p>A long version which contains some configurations:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport java.lang.Map;\nimport java.lang.HashMap;\n\npublic class JsonConvert {\n    public static void main(String[] args) {\n        Map&lt;String,Object&gt; jsonMap = new HashMap();\n        jsonMap.put(\"string\", \"foo\");\n        jsonMap.put(\"number\", 123);\n        Map&lt;String,Object&gt; innerMap = new HashMap();\n        innerMap.put(\"key\", \"value\");\n        jsonMap.put(\"map\", innerMap);\n        AttributeValue attributeValue = InternalUtils.toAttributeValue(jsonMap);\n        Map&lt;String, AttributeValue&gt; attributeValueMap = new HashMap();\n        attributeValueMap.put(\"id\", attributeValue);\n\n        Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\n        Map&lt;String, Object&gt; jsonMap = jsonMapWithId.get(\"id\"); // This is a regular map, values are not Amazon AttributeValue\n\n        Gson gson = new Gson(); \n        String json = gson.toJson(jsonMap); \n\n        System.out.println(json);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10322487,"reputation":1569,"user_id":7614909,"accept_rate":80,"display_name":"Akshay Apte"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551877680,"creation_date":1551877680,"answer_id":55023864,"question_id":43812278,"body_markdown":"Convert your JSON string to a Map first using\r\n\r\n    JSONObject jsonObj = new JSONObject(logString);\r\n    HashMap&lt;String, Object&gt; myMap = new Gson().fromJson(jsonObj.toString(), HashMap.class);\r\n\r\nFunction for converting DynamoDB JSON to Standard JSON\r\n\r\n    public static Map&lt;String,Object&gt; mapToJson(Map map){\r\n    \t    Map&lt;String,Object&gt; finalKeyValueMap = new HashMap();\r\n    \t    Iterator it = map.entrySet().iterator();\r\n    \r\n    \t    while(it.hasNext()) {\r\n    \t    \tMap.Entry pair = (Map.Entry)it.next();\r\n    \t    \t\r\n    \t    \tMap obj1 = (Map) pair.getValue();\r\n    \t    \tif(obj1.get(&quot;m&quot;) == null) {\r\n    \t    \t\tif(obj1.get(&quot;n&quot;) != null)\r\n    \t    \t\t\tfinalKeyValueMap.put(pair.getKey().toString(),obj1.get(&quot;n&quot;));\r\n    \t    \t\telse if(obj1.get(&quot;s&quot;) != null)\r\n    \t    \t\t\tfinalKeyValueMap.put(pair.getKey().toString(),obj1.get(&quot;s&quot;));\r\n    \t    \t}\r\n    \t    \telse {\r\n    \t    \t\tMap obj2 = (Map) pair.getValue();\r\n    \t    \t\tMap obj3 = (Map) obj2.get(&quot;m&quot;);\r\n    \t    \t\tfinalKeyValueMap.put(pair.getKey().toString(),mapToJson(obj3));\r\n    \t    \t}\r\n    \t    \t\r\n    \t    }\r\n    \t    System.out.println(finalKeyValueMap.toString());\r\n    \t    return finalKeyValueMap;\r\n    \t}\r\n\r\ncalling `mapToJson(myMap);` will return a standard Map which you can convert back to JSON","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Convert your JSON string to a Map first using</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(logString);\nHashMap&lt;String, Object&gt; myMap = new Gson().fromJson(jsonObj.toString(), HashMap.class);\n</code></pre>\n\n<p>Function for converting DynamoDB JSON to Standard JSON</p>\n\n<pre><code>public static Map&lt;String,Object&gt; mapToJson(Map map){\n        Map&lt;String,Object&gt; finalKeyValueMap = new HashMap();\n        Iterator it = map.entrySet().iterator();\n\n        while(it.hasNext()) {\n            Map.Entry pair = (Map.Entry)it.next();\n\n            Map obj1 = (Map) pair.getValue();\n            if(obj1.get(\"m\") == null) {\n                if(obj1.get(\"n\") != null)\n                    finalKeyValueMap.put(pair.getKey().toString(),obj1.get(\"n\"));\n                else if(obj1.get(\"s\") != null)\n                    finalKeyValueMap.put(pair.getKey().toString(),obj1.get(\"s\"));\n            }\n            else {\n                Map obj2 = (Map) pair.getValue();\n                Map obj3 = (Map) obj2.get(\"m\");\n                finalKeyValueMap.put(pair.getKey().toString(),mapToJson(obj3));\n            }\n\n        }\n        System.out.println(finalKeyValueMap.toString());\n        return finalKeyValueMap;\n    }\n</code></pre>\n\n<p>calling <code>mapToJson(myMap);</code> will return a standard Map which you can convert back to JSON</p>\n"},{"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1645772905,"post_id":68694424,"comment_id":125964282,"body_markdown":"This is answer is no longer valid in current versions of the SDK, see https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x","body":"This is answer is no longer valid in current versions of the SDK, see <a href=\"https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x\" title=\"where did the classes internalutils and itemutils go in aws sdx 2 x\">stackoverflow.com/questions/71262197/&hellip;</a>"},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1692175690,"post_id":68694424,"comment_id":135586844,"body_markdown":"Please read [answer] and [edit] your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/68694424/edit\">edit</a> your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post."}],"tags":[],"owner":{"account_id":22399012,"reputation":1,"user_id":16609812,"display_name":"6f8g8"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628368779,"creation_date":1628355196,"answer_id":68694424,"question_id":43812278,"body_markdown":"\r\n\r\n```\r\nimport com.amazonaws.services.dynamodbv2.document.ItemUtils;\r\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.MapperFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\npublic final class Utility {\r\n\r\n  public static &lt;T&gt; String convertDynamoDbJsonToNormalJson(final JsonNode node, final Class&lt;T&gt; type)\r\n      throws IOException {\r\n    final var objectMapper =\r\n        new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n\r\n    final Map&lt;String, AttributeValue&gt; itemMap =\r\n        objectMapper.convertValue(node, new TypeReference&lt;&gt;() {});\r\n    final var item = ItemUtils.toItem(itemMap);\r\n    final var asPojo = objectMapper.readValue(item.toJSON(), type);\r\n    return objectMapper.writeValueAsString((Object) asPojo);\r\n  }\r\n}\r\n\r\n```","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<pre><code>import com.amazonaws.services.dynamodbv2.document.ItemUtils;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.MapperFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.util.Map;\n\npublic final class Utility {\n\n  public static &lt;T&gt; String convertDynamoDbJsonToNormalJson(final JsonNode node, final Class&lt;T&gt; type)\n      throws IOException {\n    final var objectMapper =\n        new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n\n    final Map&lt;String, AttributeValue&gt; itemMap =\n        objectMapper.convertValue(node, new TypeReference&lt;&gt;() {});\n    final var item = ItemUtils.toItem(itemMap);\n    final var asPojo = objectMapper.readValue(item.toJSON(), type);\n    return objectMapper.writeValueAsString((Object) asPojo);\n  }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1692175682,"post_id":76911752,"comment_id":135586840,"body_markdown":"Whilst this may theoretically answer the question, [it would be preferable](//meta.stackexchange.com/q/8259) to include the essential parts of the answer here, and provide the link for reference. Please [edit] the answer with all relevant information. Make sure to use your own words, [answers comprised entirely of a quote (sourced or not) will often be deleted since they do not contain any original content](/help/referencing).","body":"Whilst this may theoretically answer the question, <a href=\"//meta.stackexchange.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference. Please <a href=\"https://stackoverflow.com/posts/76911752/edit\">edit</a> the answer with all relevant information. Make sure to use your own words, <a href=\"/help/referencing\">answers comprised entirely of a quote (sourced or not) will often be deleted since they do not contain any original content</a>."}],"tags":[],"owner":{"account_id":10658366,"reputation":11,"user_id":7847169,"display_name":"raghavreddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692174153,"creation_date":1692174153,"answer_id":76911752,"question_id":43812278,"body_markdown":"There is now EnhancedDocument interface to address this \r\nhttps://aws.amazon.com/blogs/devops/introducing-the-enhanced-document-api-for-dynamodb-in-the-aws-sdk-for-java-2-x/","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>There is now EnhancedDocument interface to address this\n<a href=\"https://aws.amazon.com/blogs/devops/introducing-the-enhanced-document-api-for-dynamodb-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/devops/introducing-the-enhanced-document-api-for-dynamodb-in-the-aws-sdk-for-java-2-x/</a></p>\n"}],"owner":{"account_id":1691660,"reputation":1564,"user_id":1553874,"accept_rate":88,"display_name":"Nir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36451,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":43919594,"answer_count":7,"score":12,"last_activity_date":1692174153,"creation_date":1494011654,"question_id":43812278,"body_markdown":"I need to convert a AWS DYNAMODB JSON to a standard JSON object.\r\nso I can remove the data type from the DynamoDB JSON\r\nSomething more like:\r\n\r\nin DYNAMODB JSON:\r\n\r\n    &quot;videos&quot;: [\r\n        {\r\n          &quot;file&quot;: {\r\n            &quot;S&quot;: &quot;file1.mp4&quot;\r\n          },\r\n          &quot;id&quot;: {\r\n            &quot;S&quot;: &quot;1&quot;\r\n          },\r\n          &quot;canvas&quot;: {\r\n            &quot;S&quot;: &quot;This is Canvas1&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;file&quot;: {\r\n            &quot;S&quot;: &quot;main.mp4&quot;\r\n          },\r\n          &quot;id&quot;: {\r\n            &quot;S&quot;: &quot;0&quot;\r\n          },\r\n          &quot;canvas&quot;: {\r\n            &quot;S&quot;: &quot;this is a canvas&quot;\r\n          }\r\n        }\r\n      ]\r\n    \r\n    to Standard JSON\r\n     &quot;videos&quot;: [\r\n        {\r\n          &quot;file&quot;: &quot;file1.mp4&quot;\r\n          ,\r\n          &quot;id&quot;: &quot;1&quot;\r\n          ,\r\n          &quot;canvas&quot;:  &quot;This is Canvas1&quot;\r\n          ,\r\n          &quot;file&quot;: &quot;main.mp4&quot;\r\n      \t  ,\r\n          &quot;id&quot;:  &quot;0&quot;\r\n          ,\r\n          &quot;canvas&quot;: &quot;this is a canvas&quot;\r\n    \r\n        }\r\n      ]\r\n\r\nI found a nice tool in Javascript but is there any tool in Java in order to do that?\r\n\r\n","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>I need to convert a AWS DYNAMODB JSON to a standard JSON object.\nso I can remove the data type from the DynamoDB JSON\nSomething more like:</p>\n\n<p>in DYNAMODB JSON:</p>\n\n<pre><code>\"videos\": [\n    {\n      \"file\": {\n        \"S\": \"file1.mp4\"\n      },\n      \"id\": {\n        \"S\": \"1\"\n      },\n      \"canvas\": {\n        \"S\": \"This is Canvas1\"\n      }\n    },\n    {\n      \"file\": {\n        \"S\": \"main.mp4\"\n      },\n      \"id\": {\n        \"S\": \"0\"\n      },\n      \"canvas\": {\n        \"S\": \"this is a canvas\"\n      }\n    }\n  ]\n\nto Standard JSON\n \"videos\": [\n    {\n      \"file\": \"file1.mp4\"\n      ,\n      \"id\": \"1\"\n      ,\n      \"canvas\":  \"This is Canvas1\"\n      ,\n      \"file\": \"main.mp4\"\n      ,\n      \"id\":  \"0\"\n      ,\n      \"canvas\": \"this is a canvas\"\n\n    }\n  ]\n</code></pre>\n\n<p>I found a nice tool in Javascript but is there any tool in Java in order to do that?</p>\n"},{"tags":["java","ssl","intellij-idea","ssl-certificate"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692173738,"post_id":76910142,"comment_id":135586466,"body_markdown":"&#39;I&#39;ve added `-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;`&#39;: this is completely pointless, as that&#39;s the default. Duplicate.","body":"&#39;I&#39;ve added <code>-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;</code>&#39;: this is completely pointless, as that&#39;s the default. Duplicate."},{"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"score":0,"creation_date":1692191862,"post_id":76910142,"comment_id":135590268,"body_markdown":"What would make you think that the solution is in the referenced question? I of course found that question before posting, and none of the answers seems to be the case.  An identical error message doesn&#39;t indicate identical root cause.  Yes, I&#39;m aware that cacerts is the default but explicitly set it so that I could be sure of where it is pointing.  I would think people would appreciate that, but hey.","body":"What would make you think that the solution is in the referenced question? I of course found that question before posting, and none of the answers seems to be the case.  An identical error message doesn&#39;t indicate identical root cause.  Yes, I&#39;m aware that cacerts is the default but explicitly set it so that I could be sure of where it is pointing.  I would think people would appreciate that, but hey."}],"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692173704,"answer_count":0,"score":0,"last_activity_date":1692173815,"creation_date":1692153024,"question_id":76910142,"body_markdown":"I&#39;m aware that this error has quite a history and a number of causes, some simple and some less than simple.  I&#39;m trying to connect to an SSL socket in a program running manually in IntelliJ on Windows.  \r\n\r\n- I&#39;ve imported all three (machine, intermediate, root) certs into the Java cacerts store\r\n\r\n- I&#39;ve tried importing them in order root --&gt; intermediate --&gt; machine\r\n\r\n- I&#39;ve tried just the root cert using `-trustcacerts`\r\n\r\n- I&#39;ve verified that I&#39;m using the cacerts file of the JDK that IntelliJ is using, though `-Djavax.net.debug=all` in the CLI args in Intellij doesn&#39;t log anything to the console.\r\n\r\n- I&#39;ve added `-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;`, pointing explicitly absolute path to the keystore with no luck.\r\n\r\n\r\n        C:\\WINDOWS\\system32&gt;keytool -list -keystore &quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot; -storepass changeit | findstr dev\r\n\r\n        devissuingcert, Aug 15, 2023, trustedCertEntry,\r\n        devrcmcert, Aug 15, 2023, trustedCertEntry,\r\n        devrootcert, Aug 15, 2023, trustedCertEntry,\r\n\r\n\r\nThoughts?\r\n\r\n","title":"java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty - have tried all potential solutions I&#39;ve found","body":"<p>I'm aware that this error has quite a history and a number of causes, some simple and some less than simple.  I'm trying to connect to an SSL socket in a program running manually in IntelliJ on Windows.</p>\n<ul>\n<li><p>I've imported all three (machine, intermediate, root) certs into the Java cacerts store</p>\n</li>\n<li><p>I've tried importing them in order root --&gt; intermediate --&gt; machine</p>\n</li>\n<li><p>I've tried just the root cert using <code>-trustcacerts</code></p>\n</li>\n<li><p>I've verified that I'm using the cacerts file of the JDK that IntelliJ is using, though <code>-Djavax.net.debug=all</code> in the CLI args in Intellij doesn't log anything to the console.</p>\n</li>\n<li><p>I've added <code>-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;</code>, pointing explicitly absolute path to the keystore with no luck.</p>\n<pre><code>  C:\\WINDOWS\\system32&gt;keytool -list -keystore &quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot; -storepass changeit | findstr dev\n\n  devissuingcert, Aug 15, 2023, trustedCertEntry,\n  devrcmcert, Aug 15, 2023, trustedCertEntry,\n  devrootcert, Aug 15, 2023, trustedCertEntry,\n</code></pre>\n</li>\n</ul>\n<p>Thoughts?</p>\n"},{"tags":["java","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419604212,"post_id":27658343,"comment_id":43732419,"body_markdown":"would you please try setting another version of tomcat in Intellij and test.","body":"would you please try setting another version of tomcat in Intellij and test."},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":1,"creation_date":1419605061,"post_id":27658343,"comment_id":43732662,"body_markdown":"Tried with tomcat6. same error","body":"Tried with tomcat6. same error"},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419607241,"post_id":27658343,"comment_id":43733316,"body_markdown":"Try checking tomcat log file and paste the error it here","body":"Try checking tomcat log file and paste the error it here"},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419834070,"post_id":27658343,"comment_id":43782784,"body_markdown":"@HBizhi: I added the log above.","body":"@HBizhi: I added the log above."},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419834798,"post_id":27658343,"comment_id":43782978,"body_markdown":"You have no error in tomcat log, it means maybe some software seems to block tomcat socket. Try disable all antivirus or applications you think may interfere. Also, please check in Run/Debug configuration, where you defined a tomcat server if the artifact is exists in the box named `Before lunch:Make, Build Artifacts`. If there does not exist try adding it.If this is ok then try changing the port number of the defined tomcat server.","body":"You have no error in tomcat log, it means maybe some software seems to block tomcat socket. Try disable all antivirus or applications you think may interfere. Also, please check in Run/Debug configuration, where you defined a tomcat server if the artifact is exists in the box named <code>Before lunch:Make, Build Artifacts</code>. If there does not exist try adding it.If this is ok then try changing the port number of the defined tomcat server."},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419846641,"post_id":27658343,"comment_id":43786863,"body_markdown":"@HBizhi I have Make, Build Artifacts in Before launch. Tried changing the port number as well. same error","body":"@HBizhi I have Make, Build Artifacts in Before launch. Tried changing the port number as well. same error"},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419848360,"post_id":27658343,"comment_id":43787595,"body_markdown":"Is there `java.net.BindException: Address already in use` in error message? If there is, be sure some other application in using the port. You can find PID of the process that takes the port with `netstat -ano | findstr 8080` and try to kill him.","body":"Is there <code>java.net.BindException: Address already in use</code> in error message? If there is, be sure some other application in using the port. You can find PID of the process that takes the port with <code>netstat -ano | findstr 8080</code> and try to kill him."},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419848722,"post_id":27658343,"comment_id":43787759,"body_markdown":"No such exception. :(","body":"No such exception. :("},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419849190,"post_id":27658343,"comment_id":43787967,"body_markdown":"I&#39;m really trying hard to solve your question. Hope this happen soon :) please paste whole stack error in your question","body":"I&#39;m really trying hard to solve your question. Hope this happen soon :) please paste whole stack error in your question"},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419852703,"post_id":27658343,"comment_id":43789505,"body_markdown":"@HBizhi: Added event log. Something wrong with JMX port I guess","body":"@HBizhi: Added event log. Something wrong with JMX port I guess"},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419854998,"post_id":27658343,"comment_id":43790530,"body_markdown":"Is the artifact you created Exploded? when creating artifact did you choose `Web Application:Exploded`?","body":"Is the artifact you created Exploded? when creating artifact did you choose <code>Web Application:Exploded</code>?"}],"answers":[{"comments":[{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":2,"creation_date":1419605169,"post_id":27658399,"comment_id":43732701,"body_markdown":"I have already gone through this thread. I dont have setenv.sh in $CATALINA_HOME/bin","body":"I have already gone through this thread. I dont have setenv.sh in $CATALINA_HOME/bin"},{"owner":{"account_id":478791,"reputation":2082,"user_id":891092,"accept_rate":57,"display_name":"ZakiMak"},"score":0,"creation_date":1419606778,"post_id":27658399,"comment_id":43733164,"body_markdown":"After deleting I would restart the machine to see how it affects. If you have already done this then I am not sure what else could be wrong :(","body":"After deleting I would restart the machine to see how it affects. If you have already done this then I am not sure what else could be wrong :("},{"owner":{"account_id":134214,"reputation":4545,"user_id":336175,"accept_rate":66,"display_name":"Gank"},"score":1,"creation_date":1445594681,"post_id":27658399,"comment_id":54398333,"body_markdown":"Where is $CATALINA_HOME in Windows? I&#39;ve only set $JAVA_HOME","body":"Where is $CATALINA_HOME in Windows? I&#39;ve only set $JAVA_HOME"},{"owner":{"account_id":134214,"reputation":4545,"user_id":336175,"accept_rate":66,"display_name":"Gank"},"score":2,"creation_date":1445594752,"post_id":27658399,"comment_id":54398372,"body_markdown":"I don&#39;t have C:\\java\\apache-tomcat-6.0.16\\bin\\setenv.sh","body":"I don&#39;t have C:\\java\\apache-tomcat-6.0.16\\bin\\setenv.sh"},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1470836252,"post_id":27658399,"comment_id":65111399,"body_markdown":"Don&#39;t remove files, that&#39;s crazy. Just make sure that if you override CATALINA_OPTS, do it with inclusion of previous value - e.g. CATALINA_OPTS=&quot;&lt;your new stuff&gt; $CATALINA_OPTS&quot;","body":"Don&#39;t remove files, that&#39;s crazy. Just make sure that if you override CATALINA_OPTS, do it with inclusion of previous value - e.g. CATALINA_OPTS=&quot;&lt;your new stuff&gt; $CATALINA_OPTS&quot;"},{"owner":{"account_id":48928,"reputation":9763,"user_id":145499,"accept_rate":88,"display_name":"inanutshellus"},"score":0,"creation_date":1478268027,"post_id":27658399,"comment_id":68097313,"body_markdown":"@mvmn If you have a `setenv.sh` it&#39;s because you manually added it, so removing it isn&#39;t &quot;crazy.&quot; If you&#39;re having issues with it, it&#39;s likely because of what you put in the file.","body":"@mvmn If you have a <code>setenv.sh</code> it&#39;s because you manually added it, so removing it isn&#39;t &quot;crazy.&quot; If you&#39;re having issues with it, it&#39;s likely because of what you put in the file."},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1478268195,"post_id":27658399,"comment_id":68097434,"body_markdown":"&quot;it&#39;s because you manually added it, so removing it isn&#39;t &quot;crazy.&quot;\nStill is - if I added it, I must&#39;ve done that for a reason.","body":"&quot;it&#39;s because you manually added it, so removing it isn&#39;t &quot;crazy.&quot; Still is - if I added it, I must&#39;ve done that for a reason."}],"tags":[],"owner":{"account_id":478791,"reputation":2082,"user_id":891092,"accept_rate":57,"display_name":"ZakiMak"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419604421,"creation_date":1419604421,"answer_id":27658399,"question_id":27658343,"body_markdown":"Please check this answer posted by Christian and also read that thread.\r\n[Tomcat deployment issue via IntelliJ ][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22821256/891092\r\n\r\nSimply try removing **setenv.sh** in $CATALINA_HOME/bin","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>Please check this answer posted by Christian and also read that thread.\n<a href=\"https://stackoverflow.com/a/22821256/891092\">Tomcat deployment issue via IntelliJ </a></p>\n\n<p>Simply try removing <strong>setenv.sh</strong> in $CATALINA_HOME/bin</p>\n"},{"tags":[],"owner":{"account_id":5746277,"reputation":91,"user_id":4537436,"display_name":"mattyboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423229785,"creation_date":1423229785,"answer_id":28367006,"question_id":27658343,"body_markdown":"I had this issue today and it wasn&#39;t due to setenv.sh as discussed on the other thread. In the end it was an issue with $CATALINA_BASE/conf/server.xml.\r\n\r\nFor some reason in our server.xml we were using a custom engine name for example\r\n\r\n    &lt;Engine name=&quot;custom-value&quot; defaultHost=&quot;localhost&quot;&gt;\r\n\r\nI tried again with a clean server.xml from tomcat 7.0.57 and the artifact deployed perfectly. After trial and error it came down to this one line.\r\n\r\nChanging engine name to &#39;Catalina&#39; as shown below value fixed our issue and allowed our exploded artifact to deploy using our customised server.xml\r\n\r\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\r\n\r\nIf you are seeing this issue try a clean server.xml and work backwards from there.","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>I had this issue today and it wasn't due to setenv.sh as discussed on the other thread. In the end it was an issue with $CATALINA_BASE/conf/server.xml.</p>\n\n<p>For some reason in our server.xml we were using a custom engine name for example</p>\n\n<pre><code>&lt;Engine name=\"custom-value\" defaultHost=\"localhost\"&gt;\n</code></pre>\n\n<p>I tried again with a clean server.xml from tomcat 7.0.57 and the artifact deployed perfectly. After trial and error it came down to this one line.</p>\n\n<p>Changing engine name to 'Catalina' as shown below value fixed our issue and allowed our exploded artifact to deploy using our customised server.xml</p>\n\n<pre><code>&lt;Engine name=\"Catalina\" defaultHost=\"localhost\"&gt;\n</code></pre>\n\n<p>If you are seeing this issue try a clean server.xml and work backwards from there.</p>\n"},{"tags":[],"owner":{"account_id":362391,"reputation":60,"user_id":2200271,"display_name":"Maks Danylenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428187437,"creation_date":1428187437,"answer_id":29452209,"question_id":27658343,"body_markdown":"[tomcat-7.0-doc RUNNING][1]\n\n(3.2) Set JRE_HOME or JAVA_HOME (required)\n\nThese variables are used to specify location of a Java Runtime\nEnvironment or of a Java Development Kit that is used to start Tomcat.\n\nThe JRE_HOME variable is used to specify location of a JRE. The JAVA_HOME\nvariable is used to specify location of a JDK.\n\nUsing JAVA_HOME provides access to certain additional startup options that\nare not allowed when JRE_HOME is used.\n\nIf both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used.\n\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p><a href=\"http://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\">tomcat-7.0-doc RUNNING</a></p>\n<p>(3.2) Set JRE_HOME or JAVA_HOME (required)</p>\n<p>These variables are used to specify location of a Java Runtime\nEnvironment or of a Java Development Kit that is used to start Tomcat.</p>\n<p>The JRE_HOME variable is used to specify location of a JRE. The JAVA_HOME\nvariable is used to specify location of a JDK.</p>\n<p>Using JAVA_HOME provides access to certain additional startup options that\nare not allowed when JRE_HOME is used.</p>\n<p>If both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used.</p>\n"},{"tags":[],"owner":{"display_name":"user6042021"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457564307,"creation_date":1457564307,"answer_id":35904378,"question_id":27658343,"body_markdown":"In my case, Intellij IDEA doesn&#39;t support run tomcat8 installed from linux repositories.\r\n /usr/share/tomcat/bin/catalina.sh start  (not support)\r\n /usr/share/tomcat/bin/catalina.sh run  (supported)\r\n\r\nOnly tomcat8 installed from official website. I tried with distribution downloaded from http://tomcat.apache.org/download-80.cgi. So I got successful results.\r\n\r\nThe reason is in the catalina.sh file from linux distribution, where there isn&#39;t &quot;run&quot; command. But in the tomcat downloaded there is &quot;run&quot; command. [catalina.sh_InstalledFromLinuxRepository][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8KqvG.png","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>In my case, Intellij IDEA doesn't support run tomcat8 installed from linux repositories.\n /usr/share/tomcat/bin/catalina.sh start  (not support)\n /usr/share/tomcat/bin/catalina.sh run  (supported)</p>\n\n<p>Only tomcat8 installed from official website. I tried with distribution downloaded from <a href=\"http://tomcat.apache.org/download-80.cgi\" rel=\"nofollow\">http://tomcat.apache.org/download-80.cgi</a>. So I got successful results.</p>\n\n<p>The reason is in the catalina.sh file from linux distribution, where there isn't \"run\" command. But in the tomcat downloaded there is \"run\" command. <a href=\"https://i.stack.imgur.com/8KqvG.png\" rel=\"nofollow\">catalina.sh_InstalledFromLinuxRepository</a></p>\n"},{"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470836312,"creation_date":1470836312,"answer_id":38875080,"question_id":27658343,"body_markdown":"Do you set JAVA_OPTS anywhere in Tomcat bat/sh files?\r\nIf you do, make sure to keep previous values also - IDEA seems to use those to specify some connection options to Tomcat.\r\nE.g. in .sh files do\r\n\r\n    JAVA_OPTS=&quot;&lt;your new stuff&gt; $JAVA_OPTS&quot;\r\n\r\ninstead of just\r\n\r\n    JAVA_OPTS=&lt;your new stuff&gt;\r\n\r\nP.S. Same answer as this actually: https://stackoverflow.com/a/28867346/307295","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>Do you set JAVA_OPTS anywhere in Tomcat bat/sh files?\nIf you do, make sure to keep previous values also - IDEA seems to use those to specify some connection options to Tomcat.\nE.g. in .sh files do</p>\n\n<pre><code>JAVA_OPTS=\"&lt;your new stuff&gt; $JAVA_OPTS\"\n</code></pre>\n\n<p>instead of just</p>\n\n<pre><code>JAVA_OPTS=&lt;your new stuff&gt;\n</code></pre>\n\n<p>P.S. Same answer as this actually: <a href=\"https://stackoverflow.com/a/28867346/307295\">https://stackoverflow.com/a/28867346/307295</a></p>\n"}],"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16165,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1692173175,"creation_date":1419603957,"question_id":27658343,"body_markdown":"Trying to run my app with IntelliJ 13 and Apache tomcat 7.0.42. JDK1.6\r\n\r\nAlways getting the error **Artifact app:war exploded: Server is not connected. Deploy is not available.**\r\n\r\nBut when I deploy through terminal with **catalina.sh start** it works perfectly fine.\r\n\r\nI referred this link for setup: http://confluence.jetbrains.com/display/IntelliJIDEA/Application+Servers\r\n\r\nAny idea what am I missing?\r\n\r\nHere is the Tomcat Catalina log:\r\n\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: .:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 614 ms\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.42\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 44 ms\r\n    Dec 29, 2014 11:43:39 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory /Users/yesuagg/apache-tomcat-7.0.42/webapps/manager\r\n\r\nException in Event log\r\n\r\n    4:58:40 PM Compilation completed successfully with 104 warnings in 6 sec\r\n    4:58:42 PM Application Server was not connected before run configuration stop, reason:\r\n           java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \r\n           java.net.ConnectException: Connection refused]\r\n\r\n","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>Trying to run my app with IntelliJ 13 and Apache tomcat 7.0.42. JDK1.6</p>\n\n<p>Always getting the error <strong>Artifact app:war exploded: Server is not connected. Deploy is not available.</strong></p>\n\n<p>But when I deploy through terminal with <strong>catalina.sh start</strong> it works perfectly fine.</p>\n\n<p>I referred this link for setup: <a href=\"http://confluence.jetbrains.com/display/IntelliJIDEA/Application+Servers\" rel=\"noreferrer\">http://confluence.jetbrains.com/display/IntelliJIDEA/Application+Servers</a></p>\n\n<p>Any idea what am I missing?</p>\n\n<p>Here is the Tomcat Catalina log:</p>\n\n<pre><code>Dec 29, 2014 11:43:29 AM org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: .:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8080\"]\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]\nDec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 614 ms\nDec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nDec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.42\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8080\"]\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"ajp-bio-8009\"]\nDec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 44 ms\nDec 29, 2014 11:43:39 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory /Users/yesuagg/apache-tomcat-7.0.42/webapps/manager\n</code></pre>\n\n<p>Exception in Event log</p>\n\n<pre><code>4:58:40 PM Compilation completed successfully with 104 warnings in 6 sec\n4:58:42 PM Application Server was not connected before run configuration stop, reason:\n       java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \n       java.net.ConnectException: Connection refused]\n</code></pre>\n"},{"tags":["java","arrays","json","jackson"],"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1369732987,"post_id":16788213,"comment_id":24192262,"body_markdown":"Unfortunately I cannot use full mapping because the data does not fixed field names.","body":"Unfortunately I cannot use full mapping because the data does not fixed field names."},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":1,"creation_date":1369733305,"post_id":16788213,"comment_id":24192442,"body_markdown":"If the field names come from a limited set you may want to define a class featuring all of them, and use the deserializer&#39;s `FAIL_ON_UNKNOWN_PROPERTIES` feature to just get nulls returned in the unused fields.  But that&#39;s of course only an option if the field name set is relatively limited.","body":"If the field names come from a limited set you may want to define a class featuring all of them, and use the deserializer&#39;s <code>FAIL_ON_UNKNOWN_PROPERTIES</code> feature to just get nulls returned in the unused fields.  But that&#39;s of course only an option if the field name set is relatively limited."},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1369817662,"post_id":16788213,"comment_id":24228896,"body_markdown":"Hm I think this solution doesn&#39;t fit best in my case but I will remember it in case I will have a problem with a limited set which is known in advance!","body":"Hm I think this solution doesn&#39;t fit best in my case but I will remember it in case I will have a problem with a limited set which is known in advance!"}],"answers":[{"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1369817402,"post_id":16788349,"comment_id":24228724,"body_markdown":"Ah ok so I could just catch a ClassCastException, thanks! For my taste it is a bit less elegant than having a specific JsonException but if is not possible otherwise that is still good.","body":"Ah ok so I could just catch a ClassCastException, thanks! For my taste it is a bit less elegant than having a specific JsonException but if is not possible otherwise that is still good."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369733179,"creation_date":1369732850,"answer_id":16788349,"question_id":16788213,"body_markdown":"&gt;  Is there a method equivalent to getJSONArray in org.json so that I have proper error handling in case it isn&#39;t an array?\r\n\r\nIt depends on your input; i.e. the stuff you fetch from the URL.  If the value of the &quot;datasets&quot; attribute is an associative array rather than a plain array, you will get a `ClassCastException`.\r\n\r\nBut then again, the correctness of your old version *also* depends on the input.  In the situation where your new version throws a `ClassCastException`, the old version will throw `JSONException`.  Reference: http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray(java.lang.String)","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<blockquote>\n  <p>Is there a method equivalent to getJSONArray in org.json so that I have proper error handling in case it isn't an array?</p>\n</blockquote>\n\n<p>It depends on your input; i.e. the stuff you fetch from the URL.  If the value of the \"datasets\" attribute is an associative array rather than a plain array, you will get a <code>ClassCastException</code>.</p>\n\n<p>But then again, the correctness of your old version <em>also</em> depends on the input.  In the situation where your new version throws a <code>ClassCastException</code>, the old version will throw <code>JSONException</code>.  Reference: <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray(java.lang.String)\" rel=\"nofollow\">http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray(java.lang.String)</a></p>\n"},{"comments":[{"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"score":0,"creation_date":1590415297,"post_id":16793133,"comment_id":109663326,"body_markdown":"May I know why &quot;final&quot; is used in the line &quot;for (final JsonNode objNode : arrNode) &quot;?","body":"May I know why &quot;final&quot; is used in the line &quot;for (final JsonNode objNode : arrNode) &quot;?"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":2,"creation_date":1628837480,"post_id":16793133,"comment_id":121532010,"body_markdown":"@AnthonyVinay To make the variables immutable; many programmers consider this a good coding practice. See also [this](https://softwareengineering.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java) discussion!","body":"@AnthonyVinay To make the variables immutable; many programmers consider this a good coding practice. See also <a href=\"https://softwareengineering.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java\">this</a> discussion!"}],"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"comment_count":2,"down_vote_count":0,"up_vote_count":314,"is_accepted":true,"score":314,"last_activity_date":1692172988,"creation_date":1369747119,"answer_id":16793133,"question_id":16788213,"body_markdown":"Yes, the Jackson manual parser design is quite different from other libraries. In particular, you will notice that `JsonNode` has most of the functions that you would typically associate with array nodes from other APIs. As such, you do not need to cast to an `ArrayNode` to use. Here&#39;s an example:\r\n\r\n***JSON:***\r\n\r\n    {\r\n        &quot;objects&quot; : [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]\r\n    }\r\n\r\n***Code:***\r\n\r\n    final String json = &quot;{\\&quot;objects\\&quot; : [\\&quot;One\\&quot;, \\&quot;Two\\&quot;, \\&quot;Three\\&quot;]}&quot;;\r\n\r\n    final JsonNode arrNode = new ObjectMapper().readTree(json).get(&quot;objects&quot;);\r\n    if (arrNode.isArray()) {\r\n        for (final JsonNode objNode : arrNode) {\r\n            System.out.println(objNode);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&gt;&quot;One&quot;&lt;br&gt;\r\n&quot;Two&quot;&lt;br&gt;\r\n&quot;Three&quot;&lt;br&gt;\r\n\r\nNote the use of `isArray` to verify that the node is actually an array before iterating. The check is not necessary if you are absolutely confident in your data structure, but it&#39;s available should you need it (and this is no different from most other JSON libraries).","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>Yes, the Jackson manual parser design is quite different from other libraries. In particular, you will notice that <code>JsonNode</code> has most of the functions that you would typically associate with array nodes from other APIs. As such, you do not need to cast to an <code>ArrayNode</code> to use. Here's an example:</p>\n<p><em><strong>JSON:</strong></em></p>\n<pre><code>{\n    &quot;objects&quot; : [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]\n}\n</code></pre>\n<p><em><strong>Code:</strong></em></p>\n<pre><code>final String json = &quot;{\\&quot;objects\\&quot; : [\\&quot;One\\&quot;, \\&quot;Two\\&quot;, \\&quot;Three\\&quot;]}&quot;;\n\nfinal JsonNode arrNode = new ObjectMapper().readTree(json).get(&quot;objects&quot;);\nif (arrNode.isArray()) {\n    for (final JsonNode objNode : arrNode) {\n        System.out.println(objNode);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>&quot;One&quot;<br>\n&quot;Two&quot;<br>\n&quot;Three&quot;<br></p>\n</blockquote>\n<p>Note the use of <code>isArray</code> to verify that the node is actually an array before iterating. The check is not necessary if you are absolutely confident in your data structure, but it's available should you need it (and this is no different from most other JSON libraries).</p>\n"},{"tags":[],"owner":{"account_id":3047300,"reputation":2037,"user_id":2582581,"display_name":"Wildhammer"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1543587331,"creation_date":1543587331,"answer_id":53559230,"question_id":16788213,"body_markdown":"I would assume at the end of the day you want to consume the data in the ArrayNode by iterating it. For that: \r\n\r\n    Iterator&lt;JsonNode&gt; iterator = datasets.withArray(&quot;datasets&quot;).elements();\r\n    while (iterator.hasNext()) \r\n            System.out.print(iterator.next().toString() + &quot; &quot;); \r\n\r\nor if you&#39;re into streams and lambda functions:\r\n\r\n    import com.google.common.collect.Streams;\r\n    Streams.stream(datasets.withArray(&quot;datasets&quot;).elements())\r\n        .forEach( item -&gt; System.out.print(item.toString()) )","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>I would assume at the end of the day you want to consume the data in the ArrayNode by iterating it. For that: </p>\n\n<pre><code>Iterator&lt;JsonNode&gt; iterator = datasets.withArray(\"datasets\").elements();\nwhile (iterator.hasNext()) \n        System.out.print(iterator.next().toString() + \" \"); \n</code></pre>\n\n<p>or if you're into streams and lambda functions:</p>\n\n<pre><code>import com.google.common.collect.Streams;\nStreams.stream(datasets.withArray(\"datasets\").elements())\n    .forEach( item -&gt; System.out.print(item.toString()) )\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"score":0,"creation_date":1613403912,"post_id":61658747,"comment_id":117058254,"body_markdown":"I wonder why they didn&#39;t they add a `stream()` method in `Spliterator`.","body":"I wonder why they didn&#39;t they add a <code>stream()</code> method in <code>Spliterator</code>."}],"tags":[],"owner":{"account_id":32915,"reputation":10482,"user_id":1038182,"accept_rate":78,"display_name":"Ori Popowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1618421059,"creation_date":1588857334,"answer_id":61658747,"question_id":16788213,"body_markdown":"In Java 8 you can do it like this:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\nList&lt;JsonNode&gt; datasets = StreamSupport\r\n    .stream(obj.get(&quot;datasets&quot;).spliterator(), false)\r\n    .collect(Collectors.toList())\r\n```","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>In Java 8 you can do it like this:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\nList&lt;JsonNode&gt; datasets = StreamSupport\n    .stream(obj.get(&quot;datasets&quot;).spliterator(), false)\n    .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646309967,"creation_date":1646309967,"answer_id":71337126,"question_id":16788213,"body_markdown":"Obtain an iterator by calling the JsonNode&#39;s `iterator()` method, and go on...\r\n\r\n      JsonNode array = datasets.get(&quot;datasets&quot;);\r\n\r\n      if (array.isArray()) {\r\n          Iterator&lt;JsonNode&gt; itr = array.iterator();\r\n          /* Set up a loop that makes a call to hasNext().\r\n          Have the loop iterate as long as hasNext() returns true.*/\r\n          while (itr.hasNext()) {\r\n              JsonNode item=itr.next();\r\n              // do something with array elements\r\n          }\r\n      }","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>Obtain an iterator by calling the JsonNode's <code>iterator()</code> method, and go on...</p>\n<pre><code>  JsonNode array = datasets.get(&quot;datasets&quot;);\n\n  if (array.isArray()) {\n      Iterator&lt;JsonNode&gt; itr = array.iterator();\n      /* Set up a loop that makes a call to hasNext().\n      Have the loop iterate as long as hasNext() returns true.*/\n      while (itr.hasNext()) {\n          JsonNode item=itr.next();\n          // do something with array elements\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313717,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":16793133,"answer_count":5,"score":165,"last_activity_date":1692172988,"creation_date":1369732476,"question_id":16788213,"body_markdown":"I am changing my JSON library from org.json to Jackson and I want to migrate the following code:\r\n\r\n    JSONObject datasets = readJSON(new URL(DATASETS));\r\n    JSONArray datasetArray =  datasets.getJSONArray(&quot;datasets&quot;);\r\n\r\nNow in Jackson I have the following:\r\n\r\n    ObjectMapper m = new ObjectMapper();\r\n    JsonNode datasets = m.readTree(new URL(DATASETS));\t\t\r\n    ArrayNode datasetArray = (ArrayNode)datasets.get(&quot;datasets&quot;);\r\n\r\nHowever I don&#39;t like the cast there, is there the possibility for a `ClassCastException`?\r\nIs there a method equivalent to `getJSONArray` in `org.json` so that I have proper error handling in case it isn&#39;t an array?","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>I am changing my JSON library from org.json to Jackson and I want to migrate the following code:</p>\n\n<pre><code>JSONObject datasets = readJSON(new URL(DATASETS));\nJSONArray datasetArray =  datasets.getJSONArray(\"datasets\");\n</code></pre>\n\n<p>Now in Jackson I have the following:</p>\n\n<pre><code>ObjectMapper m = new ObjectMapper();\nJsonNode datasets = m.readTree(new URL(DATASETS));      \nArrayNode datasetArray = (ArrayNode)datasets.get(\"datasets\");\n</code></pre>\n\n<p>However I don't like the cast there, is there the possibility for a <code>ClassCastException</code>?\nIs there a method equivalent to <code>getJSONArray</code> in <code>org.json</code> so that I have proper error handling in case it isn't an array?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8699802,"reputation":2057,"user_id":6510101,"accept_rate":100,"display_name":"D3181"},"score":0,"creation_date":1469414977,"post_id":38558720,"comment_id":64509038,"body_markdown":"Theres a somewhat sound solution for this problem here worth reading: http://stackoverflow.com/questions/7808664/how-to-get-maven-project-basedir-from-java-code - in short you can get the maven  project base directory and that may be what you are looking for, hope it works out if not let me know :)","body":"Theres a somewhat sound solution for this problem here worth reading: <a href=\"http://stackoverflow.com/questions/7808664/how-to-get-maven-project-basedir-from-java-code\" title=\"how to get maven project basedir from java code\">stackoverflow.com/questions/7808664/&hellip;</a> - in short you can get the maven  project base directory and that may be what you are looking for, hope it works out if not let me know :)"}],"answers":[{"tags":[],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1469505668,"creation_date":1469505668,"answer_id":38580817,"question_id":38558720,"body_markdown":"I got the solution for this. Here is how I am implementing. I have my own class CSVReader which uses CSVReader library. I am writing my results in results.csv file under target directory. \r\n\r\n    URL location = CSVReader.class.getProtectionDomain().getCodeSource().getLocation();\r\n    String path = location.getFile().replace(&quot;classes/&quot;,&quot;&quot;) + &quot;results.csv&quot;;\r\n\r\nIn the above code I am getting the target directory path and removing the classes/ by string replace method and appending my desired file name. Hope this might help someone.","title":"Get the target directory path in Maven (Java)","body":"<p>I got the solution for this. Here is how I am implementing. I have my own class CSVReader which uses CSVReader library. I am writing my results in results.csv file under target directory. </p>\n\n<pre><code>URL location = CSVReader.class.getProtectionDomain().getCodeSource().getLocation();\nString path = location.getFile().replace(\"classes/\",\"\") + \"results.csv\";\n</code></pre>\n\n<p>In the above code I am getting the target directory path and removing the classes/ by string replace method and appending my desired file name. Hope this might help someone.</p>\n"},{"comments":[{"owner":{"account_id":360617,"reputation":1261,"user_id":702708,"accept_rate":70,"display_name":"Madrugada"},"score":0,"creation_date":1503565957,"post_id":41619365,"comment_id":78672803,"body_markdown":"Why this.getClass().getProtectionDomain().getCodeSource().getLocation().getPath()   would give you the path with a slash appended to the front?","body":"Why this.getClass().getProtectionDomain().getCodeSource().getLoc&zwnj;&#8203;ation().getPath()   would give you the path with a slash appended to the front?"}],"tags":[],"owner":{"account_id":8317892,"reputation":51,"user_id":6250561,"display_name":"Mia Mano"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484241901,"creation_date":1484241901,"answer_id":41619365,"question_id":38558720,"body_markdown":"I used the answer above with a slight modification (I can&#39;t add comments).\r\nSince tests are placed into the &#39;test&#39; folder, their classes will reside in &#39;target/test-classes&#39; (so replacing &#39;classes&#39; might not give you the expected result). Instead, I used the following:\r\n\r\n    File targetClassesDir = new File(ExportDataTest.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\n    File targetDir = targetClassesDir.getParentFile();\r\n\r\n","title":"Get the target directory path in Maven (Java)","body":"<p>I used the answer above with a slight modification (I can't add comments).\nSince tests are placed into the 'test' folder, their classes will reside in 'target/test-classes' (so replacing 'classes' might not give you the expected result). Instead, I used the following:</p>\n\n<pre><code>File targetClassesDir = new File(ExportDataTest.class.getProtectionDomain().getCodeSource().getLocation().getPath());\nFile targetDir = targetClassesDir.getParentFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":425684,"reputation":2594,"user_id":806430,"display_name":"twalthr"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1520252246,"creation_date":1520252246,"answer_id":49110347,"question_id":38558720,"body_markdown":"You could also use `java.nio.file.Paths`:\r\n\r\n    URL url = Paths.get(&quot;target&quot;, &quot;results.csv&quot;).toUri().toURL();","title":"Get the target directory path in Maven (Java)","body":"<p>You could also use <code>java.nio.file.Paths</code>:</p>\n\n<pre><code>URL url = Paths.get(\"target\", \"results.csv\").toUri().toURL();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619424417,"creation_date":1619424417,"answer_id":67262972,"question_id":38558720,"body_markdown":"I&#39;m using the classloaders root resource path for retrieving projects build directory with following single line:\r\n```\r\nPath targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\r\n```\r\n\r\nThe root resource path points to `test-classes` and it&#39;s parent is the desired path regardless of running the test via maven surefire or a JUnit runner of the IDE like Eclipse.","title":"Get the target directory path in Maven (Java)","body":"<p>I'm using the classloaders root resource path for retrieving projects build directory with following single line:</p>\n<pre><code>Path targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\n</code></pre>\n<p>The root resource path points to <code>test-classes</code> and it's parent is the desired path regardless of running the test via maven surefire or a JUnit runner of the IDE like Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619516254,"creation_date":1619516254,"answer_id":67280563,"question_id":38558720,"body_markdown":"The following solutions work for me:\r\n\r\n    URL location = YourClass.class.getProtectionDomain().getCodeSource().getLocation();\r\n    String path = location.getFile().replace(&quot;/test-classes/&quot;,&quot;&quot;).replace(&quot;/classes/&quot;,&quot;&quot;);\r\n\r\nor\r\n\r\n    Path targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\r\n    String path = targetPath.toString();\r\n","title":"Get the target directory path in Maven (Java)","body":"<p>The following solutions work for me:</p>\n<pre><code>URL location = YourClass.class.getProtectionDomain().getCodeSource().getLocation();\nString path = location.getFile().replace(&quot;/test-classes/&quot;,&quot;&quot;).replace(&quot;/classes/&quot;,&quot;&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>Path targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\nString path = targetPath.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20105929,"reputation":1,"user_id":14743469,"display_name":"Virtuos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692172599,"creation_date":1692172526,"answer_id":76911567,"question_id":38558720,"body_markdown":"You need to obtain the location of the class, where you are running your logic in order to get the location of the target path. I use the following code in order to achieve that:\r\n\r\n```\r\nURL target = this.getClass().getClassLoader().getResource(&quot;org/mycomp/home/model&quot;).toURI().toURL();\r\n```","title":"Get the target directory path in Maven (Java)","body":"<p>You need to obtain the location of the class, where you are running your logic in order to get the location of the target path. I use the following code in order to achieve that:</p>\n<pre><code>URL target = this.getClass().getClassLoader().getResource(&quot;org/mycomp/home/model&quot;).toURI().toURL();\n</code></pre>\n"}],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22880,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":38580817,"answer_count":6,"score":11,"last_activity_date":1692172599,"creation_date":1469411860,"question_id":38558720,"body_markdown":"In a Maven project I want write some test results into a file in target directory of the project. Whenever, I get the project directory, it is actually getting the IntelliJ project directory instead of actual Maven directory.\r\n","title":"Get the target directory path in Maven (Java)","body":"<p>In a Maven project I want write some test results into a file in target directory of the project. Whenever, I get the project directory, it is actually getting the IntelliJ project directory instead of actual Maven directory.</p>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":624674,"reputation":81,"user_id":363154,"display_name":"PleaseHelpMe"},"score":1,"creation_date":1276152704,"post_id":3012124,"comment_id":3078561,"body_markdown":"AppletViewr execute applet ojut of browser but i need to get java applet without html page","body":"AppletViewr execute applet ojut of browser but i need to get java applet without html page"}],"answers":[{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486470112,"creation_date":1276151921,"answer_id":3012187,"question_id":3012124,"body_markdown":"Run `appletviewer [ options  ] urls ..`. \r\n\r\n[Documentation](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/appletviewer.html)","title":"Run Java-applets directly ( without html page )","body":"<p>Run <code>appletviewer [ options  ] urls ..</code>. </p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/appletviewer.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276208354,"creation_date":1276153159,"answer_id":3012282,"question_id":3012124,"body_markdown":"Appletviewer is the way to go, BUT, **it still requires a webpage with an applet-tag**.\r\n\r\n\r\nAn alternative solution is to write a stub class, with a main method, that instantiates the applet, calls `init()`, `start()`, `stop()` and `destroy()` as would otherwise have been done by the browser or appletviewer.","title":"Run Java-applets directly ( without html page )","body":"<p>Appletviewer is the way to go, BUT, <strong>it still requires a webpage with an applet-tag</strong>.</p>\n\n<p>An alternative solution is to write a stub class, with a main method, that instantiates the applet, calls <code>init()</code>, <code>start()</code>, <code>stop()</code> and <code>destroy()</code> as would otherwise have been done by the browser or appletviewer.</p>\n"},{"tags":[],"owner":{"account_id":143688,"reputation":89,"user_id":352200,"display_name":"springfeld"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276154824,"creation_date":1276154824,"answer_id":3012428,"question_id":3012124,"body_markdown":"Build a subclass, which implements main-method, and call init(), start(), stop(), destroy as needed.","title":"Run Java-applets directly ( without html page )","body":"<p>Build a subclass, which implements main-method, and call init(), start(), stop(), destroy as needed.</p>\n"},{"tags":[],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276209985,"creation_date":1276209985,"answer_id":3019086,"question_id":3012124,"body_markdown":"If you use eclipse: Right-Click on your main java file (the one which extends Applet), select the &#39;Run As&#39; submenu, and select &#39;Applet.","title":"Run Java-applets directly ( without html page )","body":"<p>If you use eclipse: Right-Click on your main java file (the one which extends Applet), select the 'Run As' submenu, and select 'Applet.</p>\n"},{"comments":[{"owner":{"account_id":1198933,"reputation":2779,"user_id":1170023,"display_name":"Kevin"},"score":0,"creation_date":1493740839,"post_id":21397097,"comment_id":74527719,"body_markdown":"Consider avoiding all uppercase, and use code tags where appropriate.","body":"Consider avoiding all uppercase, and use code tags where appropriate."}],"tags":[],"owner":{"account_id":3920890,"reputation":9,"user_id":3243082,"display_name":"JADAV AKASH"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508238653,"creation_date":1390884736,"answer_id":21397097,"question_id":3012124,"body_markdown":"    &lt;applet code=classname height=200 width=200&gt;\r\n    \r\n    &lt;/applet&gt;\r\n\r\nSimply write this code in your java program and first run using:\r\n\r\n    javac classname.java\r\n\r\nafter \r\n\r\n    run:appletviewer classname.java","title":"Run Java-applets directly ( without html page )","body":"<pre><code>&lt;applet code=classname height=200 width=200&gt;\n\n&lt;/applet&gt;\n</code></pre>\n\n<p>Simply write this code in your java program and first run using:</p>\n\n<pre><code>javac classname.java\n</code></pre>\n\n<p>after </p>\n\n<pre><code>run:appletviewer classname.java\n</code></pre>\n"},{"comments":[{"owner":{"account_id":304252,"reputation":785,"user_id":613651,"display_name":"Keith Tyler"},"score":0,"creation_date":1498517403,"post_id":21411151,"comment_id":76520463,"body_markdown":"Any idea how to pass &lt;PARAM&gt; values?","body":"Any idea how to pass &lt;PARAM&gt; values?"},{"owner":{"account_id":933895,"reputation":7857,"user_id":963195,"display_name":"Andrew E"},"score":1,"creation_date":1499438734,"post_id":21411151,"comment_id":76922298,"body_markdown":"@KeithTyler combine the above code, which goes in a `public static void main(String[] args)` with the stub approach from [this answer](https://stackoverflow.com/a/6131260).","body":"@KeithTyler combine the above code, which goes in a <code>public static void main(String[] args)</code> with the stub approach from <a href=\"https://stackoverflow.com/a/6131260\">this answer</a>."}],"tags":[],"owner":{"account_id":2265631,"reputation":984,"user_id":1994394,"display_name":"spgodara"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1390926193,"creation_date":1390926193,"answer_id":21411151,"question_id":3012124,"body_markdown":"Use below code with your code, where AppletClass is your Applet class.\r\n\r\n    AppletClass appletClass = new AppletClass ();\r\n    \r\n    JFrame frame = new JFrame();\r\n    frame.setLayout(new GridLayout(1, 1));\r\n    frame.add(appletClass );\r\n    \r\n    // Set frame size and other properties\r\n    ...\r\n    \r\n    // Call applet methods\r\n    appletClass .init();\r\n    appletClass .start();\r\n    \r\n    frame.setVisible(true);\r\n\r\nMore customizations can be done as required.","title":"Run Java-applets directly ( without html page )","body":"<p>Use below code with your code, where AppletClass is your Applet class.</p>\n\n<pre><code>AppletClass appletClass = new AppletClass ();\n\nJFrame frame = new JFrame();\nframe.setLayout(new GridLayout(1, 1));\nframe.add(appletClass );\n\n// Set frame size and other properties\n...\n\n// Call applet methods\nappletClass .init();\nappletClass .start();\n\nframe.setVisible(true);\n</code></pre>\n\n<p>More customizations can be done as required.</p>\n"},{"tags":[],"owner":{"account_id":3894154,"reputation":11,"user_id":3223638,"display_name":"Pratik M."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403256442,"creation_date":1403256442,"answer_id":24324067,"question_id":3012124,"body_markdown":"Use `/*&lt;applet code=&quot;java file name &quot; height=150 width=150&gt;&lt;/applet&gt;*/`\r\nbefore declaring applet class and then compile java program and run applet by using appletviewer it execute perfectly don&#39;t require any html file","title":"Run Java-applets directly ( without html page )","body":"<p>Use <code>/*&lt;applet code=\"java file name \" height=150 width=150&gt;&lt;/applet&gt;*/</code>\nbefore declaring applet class and then compile java program and run applet by using appletviewer it execute perfectly don't require any html file</p>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692176656,"post_id":76911548,"comment_id":135587086,"body_markdown":"any affiliation? [/help/promotion](/help/promotion)","body":"any affiliation? <a href=\"/help/promotion\">/help/promotion</a>"}],"tags":[],"owner":{"account_id":46671,"reputation":1229,"user_id":137965,"display_name":"tesla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692172372,"creation_date":1692172372,"answer_id":76911548,"question_id":3012124,"body_markdown":"This browser extension works quite well. Supports Chrome and Edge. \r\n\r\nhttps://leaningtech.com/cheerpj-applet-runner/","title":"Run Java-applets directly ( without html page )","body":"<p>This browser extension works quite well. Supports Chrome and Edge.</p>\n<p><a href=\"https://leaningtech.com/cheerpj-applet-runner/\" rel=\"nofollow noreferrer\">https://leaningtech.com/cheerpj-applet-runner/</a></p>\n"}],"owner":{"account_id":624674,"reputation":81,"user_id":363154,"display_name":"PleaseHelpMe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21405,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":8,"score":7,"last_activity_date":1692172372,"creation_date":1276151313,"question_id":3012124,"body_markdown":"I have  a problem. \r\n\r\nHow i can run my java-applet directly without embedded in my web page?\r\n\r\n\r\nI know appletViewr can execute applet without a browser but I need to get java applet without html page.\r\n","title":"Run Java-applets directly ( without html page )","body":"<p>I have  a problem. </p>\n\n<p>How i can run my java-applet directly without embedded in my web page?</p>\n\n<p>I know appletViewr can execute applet without a browser but I need to get java applet without html page.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6607377,"reputation":97,"user_id":5103788,"display_name":"Pancham Goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692172361,"creation_date":1692172361,"answer_id":76911545,"question_id":76910148,"body_markdown":"This thread appears to be a worker thread handling an HTTP request, and it&#39;s trying to obtain a database connection from a connection pool. However, since the pool might be empty or there could be some contention, the thread is currently waiting for a connection to become available. \r\n\r\nTo address this issue, ensure that the connection pool configuration is appropriate for your application&#39;s requirements and expected load. Increasing the number of connections in a database connection pool by configuring the data source properties appropriately may resolve the issue.","title":"Java springboot process stuck","body":"<p>This thread appears to be a worker thread handling an HTTP request, and it's trying to obtain a database connection from a connection pool. However, since the pool might be empty or there could be some contention, the thread is currently waiting for a connection to become available.</p>\n<p>To address this issue, ensure that the connection pool configuration is appropriate for your application's requirements and expected load. Increasing the number of connections in a database connection pool by configuring the data source properties appropriately may resolve the issue.</p>\n"}],"owner":{"account_id":19487994,"reputation":1636,"user_id":14256876,"display_name":"Brandon Kauffman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692172361,"creation_date":1692153193,"question_id":76910148,"body_markdown":"I have a java springboot process that gets hung after multiple requests to an endpoint.\r\n\r\nThere are no blocking threads but there are threads stuck waiting. Here is an example:\r\n\r\n```\r\n&quot;http-nio-8080-exec-50&quot; #2144 daemon prio=5 os_prio=0 cpu=12.18ms elapsed=1266.15s allocated=217K defined_classes=0 tid=0x00007f919c049000 nid=0xcd8 waiting on condition  [0x00007f910bcf8000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at jdk.internal.misc.Unsafe.park(java.base@11.0.8/Native Method)\r\n        - parking to wait for  &lt;0x0000000701e9ef98&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(java.base@11.0.8/LockSupport.java:194)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@11.0.8/AbstractQueuedSynchronizer.java:2081)\r\n        at org.apache.commons.pool2.impl.LinkedBlockingDeque.takeFirst(LinkedBlockingDeque.java:1323)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:306)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:223)\r\n        at org.apache.commons.dbcp2.PoolingDataSource.getConnection(PoolingDataSource.java:141)\r\n        at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:731)\r\n        at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)\r\n        at org.springframework.session.jdbc.JdbcIndexedSessionRepository.findById(JdbcIndexedSessionRepository.java:427)\r\n        at org.springframework.session.jdbc.JdbcIndexedSessionRepository.findById(JdbcIndexedSessionRepository.java:133)\r\n        at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getRequestedSession(SessionRepositoryFilter.java:356)\r\n        at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:290)\r\n        at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:193)\r\n        at org.springframework.web.servlet.support.SessionFlashMapManager.retrieveFlashMaps(SessionFlashMapManager.java:48)\r\n        at org.springframework.web.servlet.support.AbstractFlashMapManager.retrieveAndUpdate(AbstractFlashMapManager.java:95)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:948)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\r\n        at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        - locked &lt;0x000000072758cb60&gt; (a org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.lang.Thread.run(java.base@11.0.8/Thread.java:834)\r\n\r\n   Locked ownable synchronizers:\r\n        - &lt;0x00000007276fd9e8&gt; (a org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker)\r\n\r\n```\r\n\r\nHow do I go about debugging this? Dump came from jstack and the process runs in a kubernetes container. \r\n\r\nI am the system engineer not developer so I don&#39;t have much experience with dubugging java","title":"Java springboot process stuck","body":"<p>I have a java springboot process that gets hung after multiple requests to an endpoint.</p>\n<p>There are no blocking threads but there are threads stuck waiting. Here is an example:</p>\n<pre><code>&quot;http-nio-8080-exec-50&quot; #2144 daemon prio=5 os_prio=0 cpu=12.18ms elapsed=1266.15s allocated=217K defined_classes=0 tid=0x00007f919c049000 nid=0xcd8 waiting on condition  [0x00007f910bcf8000]\n   java.lang.Thread.State: WAITING (parking)\n        at jdk.internal.misc.Unsafe.park(java.base@11.0.8/Native Method)\n        - parking to wait for  &lt;0x0000000701e9ef98&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(java.base@11.0.8/LockSupport.java:194)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@11.0.8/AbstractQueuedSynchronizer.java:2081)\n        at org.apache.commons.pool2.impl.LinkedBlockingDeque.takeFirst(LinkedBlockingDeque.java:1323)\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:306)\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:223)\n        at org.apache.commons.dbcp2.PoolingDataSource.getConnection(PoolingDataSource.java:141)\n        at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:731)\n        at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)\n        at org.springframework.session.jdbc.JdbcIndexedSessionRepository.findById(JdbcIndexedSessionRepository.java:427)\n        at org.springframework.session.jdbc.JdbcIndexedSessionRepository.findById(JdbcIndexedSessionRepository.java:133)\n        at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getRequestedSession(SessionRepositoryFilter.java:356)\n        at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:290)\n        at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:193)\n        at org.springframework.web.servlet.support.SessionFlashMapManager.retrieveFlashMaps(SessionFlashMapManager.java:48)\n        at org.springframework.web.servlet.support.AbstractFlashMapManager.retrieveAndUpdate(AbstractFlashMapManager.java:95)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:948)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\n        at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        - locked &lt;0x000000072758cb60&gt; (a org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(java.base@11.0.8/Thread.java:834)\n\n   Locked ownable synchronizers:\n        - &lt;0x00000007276fd9e8&gt; (a org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker)\n\n</code></pre>\n<p>How do I go about debugging this? Dump came from jstack and the process runs in a kubernetes container.</p>\n<p>I am the system engineer not developer so I don't have much experience with dubugging java</p>\n"},{"tags":["java","abstract-syntax-tree","jython"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1691440881,"post_id":76854980,"comment_id":135489517,"body_markdown":"What are you trying to achieve? Why exactly do you want to modify the AST and how are you changing it?","body":"What are you trying to achieve? Why exactly do you want to modify the AST and how are you changing it?"},{"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"score":0,"creation_date":1691447382,"post_id":76854980,"comment_id":135490343,"body_markdown":"@aled, thank you for your question, I have included the XY-problem to answer your question.","body":"@aled, thank you for your question, I have included the XY-problem to answer your question."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1691447667,"post_id":76854980,"comment_id":135490385,"body_markdown":"Sounds like the `ast.parse()` function is expecting a `PyObject[]` first argument, which doesn&#39;t match the current API AFAICT.  A complete stack trace would be very helpful here.","body":"Sounds like the <code>ast.parse()</code> function is expecting a <code>PyObject[]</code> first argument, which doesn&#39;t match the current API AFAICT.  A complete stack trace would be very helpful here."},{"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"score":0,"creation_date":1691491744,"post_id":76854980,"comment_id":135495879,"body_markdown":"@JimGarrison Thank you for your question, I have included the complete stack trace in the question using `-Xdiags:&#39;verbose&#39;`.","body":"@JimGarrison Thank you for your question, I have included the complete stack trace in the question using <code>-Xdiags:&#39;verbose&#39;</code>."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1691542932,"post_id":76854980,"comment_id":135504859,"body_markdown":"Is that caret (`^`) in the message really pointing to the first `Py.None`?  If so, that&#39;s the argument that&#39;s expecting an array.","body":"Is that caret (<code>^</code>) in the message really pointing to the first <code>Py.None</code>?  If so, that&#39;s the argument that&#39;s expecting an array."}],"answers":[{"tags":[],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691753914,"creation_date":1691753914,"answer_id":76883211,"question_id":76854980,"body_markdown":"## Scope\r\nThe syntax error, on the `Py.None` argument was resolved. However, it seems to me that converting an AST back into python code is non-trivial. Hence, this is not an answer to the XY-problem.\r\n\r\n\r\n## Syntax Error Solution\r\nThis code resolves the syntax error:\r\n\r\n```java\r\npackage com.doctestbot.cli;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport org.python.core.PyObject;\r\nimport org.python.core.PyString;\r\nimport org.python.util.PythonInterpreter;\r\n\r\n/**\r\n * A class to retrieve the Python abstract syntax tree using Jython. This is a utility class,\r\n * meaning one only calls its method, and one does not instantiate the object.\r\n */\r\npublic final class PythonAstRetriever {\r\n  /**\r\n   * Retrieves the Python abstract syntax tree for the given Python code.\r\n   *\r\n   * @param pythonCode The Python code for which to retrieve the AST.\r\n   * @return The Python abstract syntax tree as a PyObject.\r\n   */\r\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\r\n  public static PyObject getPythonAst(String pythonCode) {\r\n    // Create a PythonInterpreter\r\n    PythonInterpreter interpreter = new PythonInterpreter();\r\n    System.out.println(&quot;pythonCode&quot; + pythonCode);\r\n\r\n    // Import the ast module\r\n    interpreter.exec(&quot;import ast&quot;);\r\n\r\n    // Parse the Python code and generate the AST\r\n    PyObject invokeArg = new PyString(pythonCode);\r\n    PyObject astModule = interpreter.get(&quot;ast&quot;);\r\n    PyObject parseFunction = astModule.__getattr__(&quot;parse&quot;);\r\n\r\n    // Return object\r\n    return parseFunction.__call__(invokeArg);\r\n  }\r\n\r\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\r\n  public static String pythonAstToString(PyObject pythonModule) {\r\n    // Initialise Python code and imports.\r\n    PythonInterpreter interpreter = new PythonInterpreter();\r\n    interpreter.exec(&quot;import ast&quot;);\r\n    PyObject astModule = interpreter.get(&quot;ast&quot;);\r\n    // PyObject compileFunction = astModule.__getattr__(&quot;compile&quot;);\r\n\r\n    // Get a string representation of the AST\r\n    PyObject dumpFunction = astModule.__getattr__(&quot;dump&quot;);\r\n    PyObject astDump = dumpFunction.__call__(pythonModule);\r\n\r\n    // PyObject compiledCode = compileFunction.__call__(pythonModule, Py.None, Py.None, Py.None);\r\n\r\n    // Get the code as a string\r\n    String generatedCode = astDump.toString();\r\n    System.out.println(&quot;generatedCode&quot; + generatedCode);\r\n\r\n    return generatedCode;\r\n  }\r\n\r\n  // Parse the Python code and generate the AST\r\n  // PyObject invokeArg = new PyString(pythonCode);\r\n\r\n  // return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\r\n  // return (PyObject[]) astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\r\n\r\n  // }\r\n\r\n  /**\r\n   * Reads the content of a Python code file from the specified file path.\r\n   *\r\n   * @param filePath The path to the Python code file to read.\r\n   * @return The content of the Python code file as a string.\r\n   * @throws IOException If an I/O error occurs while reading the file.\r\n   */\r\n  public static String readPythonCodeFromFile(String filePath) throws IOException {\r\n    Path path = Paths.get(filePath);\r\n    return Files.readString(path);\r\n  }\r\n\r\n  // Private constructor to prevent instantiation of the utility class.\r\n  private PythonAstRetriever() {\r\n    throw new AssertionError(&quot;PythonAstRetriever class should not be instantiated.&quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n## Test File\r\nWhich was tested with the following test file:\r\n```java\r\npackage com.doctestbot;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\nimport com.doctestbot.cli.Constants;\r\nimport com.doctestbot.cli.PythonAstRetriever;\r\nimport com.doctestbot.cli.SubmoduleManager;\r\nimport java.io.IOException;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.python.core.PyObject;\r\n\r\n/**\r\n * Test scenarios for parsing and rewriting a Python file.\r\n *\r\n * &lt;p&gt;The following scenarios are tested:\r\n *\r\n * &lt;pre&gt;\r\n * * Tests a Python file with:\r\n *   - methods\r\n *   - documentation + methods\r\n *   - docstring, documentation + methods\r\n *\r\n * * class\r\n *   - documentation + class\r\n *   - docstring + documentation + class\r\n *\r\n * * class + classmethods\r\n *   - documentation + class + classmethods\r\n *   - docstring + documentation + class + classmethods\r\n *\r\n * * class + methods\r\n *   - documentation + class + methods\r\n *   - docstring + documentation + class + methods\r\n *\r\n * * class + classmethods + methods\r\n *   - documentation + class + classmethods + methods\r\n *   - docstring + documentation + class + classmethods + methods\r\n *\r\n * * gets parsed and rewritten correctly.\r\n * &lt;/pre&gt;\r\n */\r\n@SuppressWarnings({&quot;PMD.AtLeastOneConstructor&quot;})\r\npublic class TestPythonParsing {\r\n\r\n  @BeforeAll\r\n  public static void setupOnce() {\r\n    SubmoduleManager.checkoutTestRepoBranch(\r\n        &quot;test-parsing&quot;, &quot;854f5ccb7954350b51d02532295c05b65fbdc6d8&quot;);\r\n  }\r\n\r\n  /**\r\n   * Tests the addition operation. It verifies that adding two positive integers results in the\r\n   * correct sum.\r\n   */\r\n  @Test\r\n  void testAddition() {\r\n    int result = 3 + 5;\r\n    assertEquals(8, result, &quot;Addition operation should yield the sum of two numbers.&quot;);\r\n    assertNotNull(result, &quot;msg&quot;);\r\n  }\r\n\r\n  /** Tests parsing and recreating a Python file with only methods. */\r\n  @Test\r\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\r\n  public void testParseAndRecreateMethodsOnly() throws IOException {\r\n    // Path to the Python code file\r\n    String filePath = Constants.testRepoPath + &quot;/src/pythontemplate/methods.py&quot;;\r\n\r\n    // Read Python code from the file\r\n    String pythonCode = PythonAstRetriever.readPythonCodeFromFile(filePath);\r\n\r\n    // Parse the Python code\r\n    PyObject astTree = PythonAstRetriever.getPythonAst(pythonCode);\r\n\r\n    PythonAstRetriever.pythonAstToString(astTree);\r\n\r\n    // Recreate the Python code from the AST\r\n    String recreatedCode = astTree.toString();\r\n\r\n    System.out.println(&quot;recreatedCode&quot; + recreatedCode);\r\n\r\n    // Assert the parsed and recreated code match\r\n    assertEquals(pythonCode, recreatedCode, &quot;Parsed and recreated code should match&quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\n","title":"How to get AST from Python code, change it, and write it back to file, in Java?","body":"<h2>Scope</h2>\n<p>The syntax error, on the <code>Py.None</code> argument was resolved. However, it seems to me that converting an AST back into python code is non-trivial. Hence, this is not an answer to the XY-problem.</p>\n<h2>Syntax Error Solution</h2>\n<p>This code resolves the syntax error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.doctestbot.cli;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport org.python.core.PyObject;\nimport org.python.core.PyString;\nimport org.python.util.PythonInterpreter;\n\n/**\n * A class to retrieve the Python abstract syntax tree using Jython. This is a utility class,\n * meaning one only calls its method, and one does not instantiate the object.\n */\npublic final class PythonAstRetriever {\n  /**\n   * Retrieves the Python abstract syntax tree for the given Python code.\n   *\n   * @param pythonCode The Python code for which to retrieve the AST.\n   * @return The Python abstract syntax tree as a PyObject.\n   */\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\n  public static PyObject getPythonAst(String pythonCode) {\n    // Create a PythonInterpreter\n    PythonInterpreter interpreter = new PythonInterpreter();\n    System.out.println(&quot;pythonCode&quot; + pythonCode);\n\n    // Import the ast module\n    interpreter.exec(&quot;import ast&quot;);\n\n    // Parse the Python code and generate the AST\n    PyObject invokeArg = new PyString(pythonCode);\n    PyObject astModule = interpreter.get(&quot;ast&quot;);\n    PyObject parseFunction = astModule.__getattr__(&quot;parse&quot;);\n\n    // Return object\n    return parseFunction.__call__(invokeArg);\n  }\n\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\n  public static String pythonAstToString(PyObject pythonModule) {\n    // Initialise Python code and imports.\n    PythonInterpreter interpreter = new PythonInterpreter();\n    interpreter.exec(&quot;import ast&quot;);\n    PyObject astModule = interpreter.get(&quot;ast&quot;);\n    // PyObject compileFunction = astModule.__getattr__(&quot;compile&quot;);\n\n    // Get a string representation of the AST\n    PyObject dumpFunction = astModule.__getattr__(&quot;dump&quot;);\n    PyObject astDump = dumpFunction.__call__(pythonModule);\n\n    // PyObject compiledCode = compileFunction.__call__(pythonModule, Py.None, Py.None, Py.None);\n\n    // Get the code as a string\n    String generatedCode = astDump.toString();\n    System.out.println(&quot;generatedCode&quot; + generatedCode);\n\n    return generatedCode;\n  }\n\n  // Parse the Python code and generate the AST\n  // PyObject invokeArg = new PyString(pythonCode);\n\n  // return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\n  // return (PyObject[]) astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\n\n  // }\n\n  /**\n   * Reads the content of a Python code file from the specified file path.\n   *\n   * @param filePath The path to the Python code file to read.\n   * @return The content of the Python code file as a string.\n   * @throws IOException If an I/O error occurs while reading the file.\n   */\n  public static String readPythonCodeFromFile(String filePath) throws IOException {\n    Path path = Paths.get(filePath);\n    return Files.readString(path);\n  }\n\n  // Private constructor to prevent instantiation of the utility class.\n  private PythonAstRetriever() {\n    throw new AssertionError(&quot;PythonAstRetriever class should not be instantiated.&quot;);\n  }\n}\n\n</code></pre>\n<h2>Test File</h2>\n<p>Which was tested with the following test file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.doctestbot;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport com.doctestbot.cli.Constants;\nimport com.doctestbot.cli.PythonAstRetriever;\nimport com.doctestbot.cli.SubmoduleManager;\nimport java.io.IOException;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.python.core.PyObject;\n\n/**\n * Test scenarios for parsing and rewriting a Python file.\n *\n * &lt;p&gt;The following scenarios are tested:\n *\n * &lt;pre&gt;\n * * Tests a Python file with:\n *   - methods\n *   - documentation + methods\n *   - docstring, documentation + methods\n *\n * * class\n *   - documentation + class\n *   - docstring + documentation + class\n *\n * * class + classmethods\n *   - documentation + class + classmethods\n *   - docstring + documentation + class + classmethods\n *\n * * class + methods\n *   - documentation + class + methods\n *   - docstring + documentation + class + methods\n *\n * * class + classmethods + methods\n *   - documentation + class + classmethods + methods\n *   - docstring + documentation + class + classmethods + methods\n *\n * * gets parsed and rewritten correctly.\n * &lt;/pre&gt;\n */\n@SuppressWarnings({&quot;PMD.AtLeastOneConstructor&quot;})\npublic class TestPythonParsing {\n\n  @BeforeAll\n  public static void setupOnce() {\n    SubmoduleManager.checkoutTestRepoBranch(\n        &quot;test-parsing&quot;, &quot;854f5ccb7954350b51d02532295c05b65fbdc6d8&quot;);\n  }\n\n  /**\n   * Tests the addition operation. It verifies that adding two positive integers results in the\n   * correct sum.\n   */\n  @Test\n  void testAddition() {\n    int result = 3 + 5;\n    assertEquals(8, result, &quot;Addition operation should yield the sum of two numbers.&quot;);\n    assertNotNull(result, &quot;msg&quot;);\n  }\n\n  /** Tests parsing and recreating a Python file with only methods. */\n  @Test\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\n  public void testParseAndRecreateMethodsOnly() throws IOException {\n    // Path to the Python code file\n    String filePath = Constants.testRepoPath + &quot;/src/pythontemplate/methods.py&quot;;\n\n    // Read Python code from the file\n    String pythonCode = PythonAstRetriever.readPythonCodeFromFile(filePath);\n\n    // Parse the Python code\n    PyObject astTree = PythonAstRetriever.getPythonAst(pythonCode);\n\n    PythonAstRetriever.pythonAstToString(astTree);\n\n    // Recreate the Python code from the AST\n    String recreatedCode = astTree.toString();\n\n    System.out.println(&quot;recreatedCode&quot; + recreatedCode);\n\n    // Assert the parsed and recreated code match\n    assertEquals(pythonCode, recreatedCode, &quot;Parsed and recreated code should match&quot;);\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76883211,"answer_count":1,"score":0,"last_activity_date":1692171872,"creation_date":1691440045,"question_id":76854980,"body_markdown":"## Question\r\n\r\nHow can one read an arbitrary Python file, build an abstract syntax tree from it, modify that, and then write the modified AST back to file, in Java? (Small note, for a concrete syntax tree (which includes spacing comments etc), one could [call this pip package](https://github.com/Instagram/LibCST) from Java.)\r\n \r\n## Approach\r\nI tried the following method to first read the Python code to generate the abstract syntax tree (AST):\r\n```java\r\npackage com.doctestbot.cli;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport org.python.core.Py;\r\nimport org.python.core.PyObject;\r\nimport org.python.core.PyString;\r\nimport org.python.util.PythonInterpreter;\r\n\r\n/**\r\n * A class to retrieve the Python abstract syntax tree using Jython. This is a utility class,\r\n * meaning one only calls its method, and one does not instantiate the object.\r\n */\r\npublic final class PythonAstRetriever {\r\n  /**\r\n   * Retrieves the Python abstract syntax tree for the given Python code.\r\n   *\r\n   * @param pythonCode The Python code for which to retrieve the AST.\r\n   * @return The Python abstract syntax tree as a PyObject.\r\n   */\r\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\r\n  public static PyObject getPythonAst(String pythonCode) {\r\n    // Create a PythonInterpreter\r\n    PythonInterpreter interpreter = new PythonInterpreter();\r\n\r\n    // Access the &quot;ast&quot; module from Python\r\n    PyObject astModule = interpreter.get(&quot;ast&quot;);\r\n\r\n    // Parse the Python code and generate the AST\r\n    PyObject invokeArg = new PyString(pythonCode);\r\n\r\n    return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\r\n  }\r\n\r\n  /**\r\n   * Reads the content of a Python code file from the specified file path.\r\n   *\r\n   * @param filePath The path to the Python code file to read.\r\n   * @return The content of the Python code file as a string.\r\n   * @throws IOException If an I/O error occurs while reading the file.\r\n   */\r\n  public static String readPythonCodeFromFile(String filePath) throws IOException {\r\n    Path path = Paths.get(filePath);\r\n    return Files.readString(path);\r\n  }\r\n\r\n  // Private constructor to prevent instantiation of the utility class.\r\n  private PythonAstRetriever() {\r\n    throw new AssertionError(&quot;PythonAstRetriever class should not be instantiated.&quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\nHowever, when I run it with:\r\n```java\r\nString pythonCode = \r\n            &quot;\\&quot;\\&quot;\\&quot;Example python file with a function.\\&quot;\\&quot;\\&quot;\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;from typeguard import typechecked\\n&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;@typechecked\\n&quot; +\r\n            &quot;def add_two(*, x: int) -&gt; int:\\n&quot; +\r\n            &quot;    \\&quot;\\&quot;\\&quot;Adds a value to an incoming number.\\&quot;\\&quot;\\&quot;\\n&quot; +\r\n            &quot;    return x + 2&quot;;\r\nPyObject astTree = PythonAstRetriever.getPythonAst(pythonCode);\r\n```\r\nHowever, that yields error:\r\n\r\n## Error\r\n\r\n```java\r\nPythonAstRetriever.java:34: error: incompatible types: PyObject cannot be converted to PyObject[]\r\n    return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\r\n                                                  ^\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n```\r\n\r\n### Full Stacktrace\r\nIn response to the comments, below is the full stacktrace:\r\n```java\r\nPythonAstRetriever.java:34: error: no suitable method found for invoke(String,PyObject,PyObject,PyObject)\r\n    return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\r\n                    ^\r\n    method PyObject.invoke(String,PyObject[],String[]) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    method PyObject.invoke(String,PyObject[]) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    method PyObject.invoke(String) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    method PyObject.invoke(String,PyObject) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    method PyObject.invoke(String,PyObject,PyObject) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    method PyObject.invoke(String,PyObject,PyObject[],String[]) is not applicable\r\n      (argument mismatch; PyObject cannot be converted to PyObject[])\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n```\r\n\r\n\r\n## XY-problem\r\nIn response to the comments, the XY-problem is a bot that modifies code: changes or writes docstrings, function documentations and/or function comments, and writes tests for those functions. I would like to perform a separate modification/creation per modular component of the code of a file. So instead of writing a regex, or a manual Python code parser, I assumed using the AST could be an effective strategy to obtain the code components in a hierarchical and modular fashion.","title":"How to get AST from Python code, change it, and write it back to file, in Java?","body":"<h2>Question</h2>\n<p>How can one read an arbitrary Python file, build an abstract syntax tree from it, modify that, and then write the modified AST back to file, in Java? (Small note, for a concrete syntax tree (which includes spacing comments etc), one could <a href=\"https://github.com/Instagram/LibCST\" rel=\"nofollow noreferrer\">call this pip package</a> from Java.)</p>\n<h2>Approach</h2>\n<p>I tried the following method to first read the Python code to generate the abstract syntax tree (AST):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.doctestbot.cli;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport org.python.core.Py;\nimport org.python.core.PyObject;\nimport org.python.core.PyString;\nimport org.python.util.PythonInterpreter;\n\n/**\n * A class to retrieve the Python abstract syntax tree using Jython. This is a utility class,\n * meaning one only calls its method, and one does not instantiate the object.\n */\npublic final class PythonAstRetriever {\n  /**\n   * Retrieves the Python abstract syntax tree for the given Python code.\n   *\n   * @param pythonCode The Python code for which to retrieve the AST.\n   * @return The Python abstract syntax tree as a PyObject.\n   */\n  @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;})\n  public static PyObject getPythonAst(String pythonCode) {\n    // Create a PythonInterpreter\n    PythonInterpreter interpreter = new PythonInterpreter();\n\n    // Access the &quot;ast&quot; module from Python\n    PyObject astModule = interpreter.get(&quot;ast&quot;);\n\n    // Parse the Python code and generate the AST\n    PyObject invokeArg = new PyString(pythonCode);\n\n    return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\n  }\n\n  /**\n   * Reads the content of a Python code file from the specified file path.\n   *\n   * @param filePath The path to the Python code file to read.\n   * @return The content of the Python code file as a string.\n   * @throws IOException If an I/O error occurs while reading the file.\n   */\n  public static String readPythonCodeFromFile(String filePath) throws IOException {\n    Path path = Paths.get(filePath);\n    return Files.readString(path);\n  }\n\n  // Private constructor to prevent instantiation of the utility class.\n  private PythonAstRetriever() {\n    throw new AssertionError(&quot;PythonAstRetriever class should not be instantiated.&quot;);\n  }\n}\n\n</code></pre>\n<p>However, when I run it with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pythonCode = \n            &quot;\\&quot;\\&quot;\\&quot;Example python file with a function.\\&quot;\\&quot;\\&quot;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;from typeguard import typechecked\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;@typechecked\\n&quot; +\n            &quot;def add_two(*, x: int) -&gt; int:\\n&quot; +\n            &quot;    \\&quot;\\&quot;\\&quot;Adds a value to an incoming number.\\&quot;\\&quot;\\&quot;\\n&quot; +\n            &quot;    return x + 2&quot;;\nPyObject astTree = PythonAstRetriever.getPythonAst(pythonCode);\n</code></pre>\n<p>However, that yields error:</p>\n<h2>Error</h2>\n<pre class=\"lang-java prettyprint-override\"><code>PythonAstRetriever.java:34: error: incompatible types: PyObject cannot be converted to PyObject[]\n    return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\n                                                  ^\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n</code></pre>\n<h3>Full Stacktrace</h3>\n<p>In response to the comments, below is the full stacktrace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PythonAstRetriever.java:34: error: no suitable method found for invoke(String,PyObject,PyObject,PyObject)\n    return astModule.invoke(&quot;parse&quot;, invokeArg, Py.None, Py.None);\n                    ^\n    method PyObject.invoke(String,PyObject[],String[]) is not applicable\n      (actual and formal argument lists differ in length)\n    method PyObject.invoke(String,PyObject[]) is not applicable\n      (actual and formal argument lists differ in length)\n    method PyObject.invoke(String) is not applicable\n      (actual and formal argument lists differ in length)\n    method PyObject.invoke(String,PyObject) is not applicable\n      (actual and formal argument lists differ in length)\n    method PyObject.invoke(String,PyObject,PyObject) is not applicable\n      (actual and formal argument lists differ in length)\n    method PyObject.invoke(String,PyObject,PyObject[],String[]) is not applicable\n      (argument mismatch; PyObject cannot be converted to PyObject[])\n1 error\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<h2>XY-problem</h2>\n<p>In response to the comments, the XY-problem is a bot that modifies code: changes or writes docstrings, function documentations and/or function comments, and writes tests for those functions. I would like to perform a separate modification/creation per modular component of the code of a file. So instead of writing a regex, or a manual Python code parser, I assumed using the AST could be an effective strategy to obtain the code components in a hierarchical and modular fashion.</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1692167285,"post_id":76910182,"comment_id":135585337,"body_markdown":"You need to separate nesting into methods and isolate the mappings. It would help you to identify what&#39;s wrong.","body":"You need to separate nesting into methods and isolate the mappings. It would help you to identify what&#39;s wrong."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1692171265,"post_id":76910182,"comment_id":135586008,"body_markdown":"@NikolasCharalambidis while the nesting is definitely making this code unreadable, making it more readable won&#39;t solve the issue. The issue is that the declared return type (`Mono&lt;String&gt;`) doesn&#39;t match what&#39;s being returned (`Flux&lt;String&gt;`).","body":"@NikolasCharalambidis while the nesting is definitely making this code unreadable, making it more readable won&#39;t solve the issue. The issue is that the declared return type (<code>Mono&lt;String&gt;</code>) doesn&#39;t match what&#39;s being returned (<code>Flux&lt;String&gt;</code>)."},{"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"score":0,"creation_date":1692171635,"post_id":76910182,"comment_id":135586073,"body_markdown":"@RobSpoor is there any way it can be converted to Mono&lt;String&gt; from Flux&lt;String&gt; without changing main method return type","body":"@RobSpoor is there any way it can be converted to Mono&lt;String&gt; from Flux&lt;String&gt; without changing main method return type"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1692171842,"post_id":76910182,"comment_id":135586126,"body_markdown":"@suresh see the answer I just added.","body":"@suresh see the answer I just added."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1692174677,"post_id":76910182,"comment_id":135586648,"body_markdown":"@RobSpoor Yes, it does. It helps to resolve compilation and IDE errors.","body":"@RobSpoor Yes, it does. It helps to resolve compilation and IDE errors."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1692176579,"post_id":76910182,"comment_id":135587054,"body_markdown":"@NikolasCharalambidis while it certainly can help resolve errors like you said, it won&#39;t help resolve the `Mono` vs `Flux` issue, as that originates from the outermost `Flux` and the method&#39;s return type.","body":"@NikolasCharalambidis while it certainly can help resolve errors like you said, it won&#39;t help resolve the <code>Mono</code> vs <code>Flux</code> issue, as that originates from the outermost <code>Flux</code> and the method&#39;s return type."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692221279,"post_id":76910182,"comment_id":135595944,"body_markdown":"the code is completely unreadable","body":"the code is completely unreadable"}],"answers":[{"comments":[{"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"score":0,"creation_date":1692533196,"post_id":76911490,"comment_id":135633599,"body_markdown":"Rob Spoor Thanks a lot, these approached are really helpful to resolve the issue.","body":"Rob Spoor Thanks a lot, these approached are really helpful to resolve the issue."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692171818,"creation_date":1692171818,"answer_id":76911490,"question_id":76910182,"body_markdown":"Your method declares to return a `Mono&lt;String&gt;`. The return value is the result of the outer `Flux.fromIterable` call. That&#39;s a `Flux` (probably a `Flux&lt;String&gt;`).\r\n\r\nI know of a few ways to solve this:\r\n\r\n1. Change the method declaration to return `Flux&lt;String&gt;` (obviously).\r\n\r\n1. If the result of the body is a `Flux` with at most one element, call `singleOrEmpty()` on it right at the end. You can also use `single()` if there&#39;s exactly one element, or `single(&lt;some default&gt;)` to use a default value if there are no elements.\r\n\r\n1. Call `.collect(&lt;some Collector&lt;String, ?, String&gt;&gt;)` right at the end. This will collect all String elements into one String element. Alternatively, use the overloaded `collect` method, `reduce` or `reduceWith`.\r\n\r\n1. Call `.last()` or `.last(&lt;some default&gt;)` right at the end, to return the last element (or a default).\r\n\r\n1. Call `.next()` right at the end, to return the first element (if there is one).","title":"no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Mono&lt;? extends R&gt;","body":"<p>Your method declares to return a <code>Mono&lt;String&gt;</code>. The return value is the result of the outer <code>Flux.fromIterable</code> call. That's a <code>Flux</code> (probably a <code>Flux&lt;String&gt;</code>).</p>\n<p>I know of a few ways to solve this:</p>\n<ol>\n<li><p>Change the method declaration to return <code>Flux&lt;String&gt;</code> (obviously).</p>\n</li>\n<li><p>If the result of the body is a <code>Flux</code> with at most one element, call <code>singleOrEmpty()</code> on it right at the end. You can also use <code>single()</code> if there's exactly one element, or <code>single(&lt;some default&gt;)</code> to use a default value if there are no elements.</p>\n</li>\n<li><p>Call <code>.collect(&lt;some Collector&lt;String, ?, String&gt;&gt;)</code> right at the end. This will collect all String elements into one String element. Alternatively, use the overloaded <code>collect</code> method, <code>reduce</code> or <code>reduceWith</code>.</p>\n</li>\n<li><p>Call <code>.last()</code> or <code>.last(&lt;some default&gt;)</code> right at the end, to return the last element (or a default).</p>\n</li>\n<li><p>Call <code>.next()</code> right at the end, to return the first element (if there is one).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692171818,"creation_date":1692153916,"question_id":76910182,"body_markdown":"Hi I am using the following Flux for iterating the list of records for a JSON payload wherein I am using Flux.fromIterable() function and the return type of main method in Mono&lt;String&gt;.\r\nIt shows the below error: \r\n\r\n&quot;no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Mono&lt;? extends R&gt;&quot;\r\n\r\n\r\n\r\nThe code snipet is as below:\r\n\r\n```java\r\nprivate Mono&lt;String&gt; createContentForTOC(GenerateToc generateTocRequest, String token, boolean isAutoNumberingEnabled, String projectUrn, String parentEntityUrn, LinkedList&lt;String&gt; volumeList) {\r\n\t\treturn Flux.fromIterable(generateTocRequest.getVolumes()).\r\n\t\t\t\tflatMap(volume -&gt; createTOCContainer(new Container(projectUrn, TocConstants.VOLUME.toLowerCase(), parentEntityUrn, TocConstants.BODYMATTER, 0),\r\n\t\t\t\t\t\tvolume.getVolumeTitle().toLowerCase(), token, isAutoNumberingEnabled)\r\n\t\t\t\t\t\t.flatMap(containerVolume-&gt; Flux.fromIterable(volume.getUnits()).\r\n\t\t\t\t\t\t\t\tflatMap(unit -&gt; {\r\n\t\t\t\t\t\t\t\t\treturn createTOCContainer(new Container(projectUrn, TocConstants.PART.toLowerCase(),\r\n\t\t\t\t\t\t\t\t\t\t\tcontainerVolume.getEntityUrn(), TocConstants.BODYMATTER, 0), unit.getUnitTitle().toLowerCase(), token, isAutoNumberingEnabled)\r\n\t\t\t\t\t\t\t\t\t\t\t.flatMap(containerUnit-&gt; Flux.fromIterable(unit.getChapters()).\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflatMap(chapter -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn createTOCContainer(new Container(projectUrn, TocConstants.CHAPTER.toLowerCase(), containerUnit.getEntityUrn(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTocConstants.BODYMATTER, 0), chapter.getChapterTitle().toLowerCase(), token, isAutoNumberingEnabled)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.flatMap(containerChapter-&gt;{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn Flux.fromIterable(chapter.getModules()).\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflatMap(module -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn createTOCContainer(new Container(projectUrn, TocConstants.MODULE.toLowerCase(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontainerChapter.getEntityUrn(), TocConstants.BODYMATTER, 0), module.getModuleName().toLowerCase(), token, isAutoNumberingEnabled)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.flatMap(containerModule-&gt;{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn Flux.fromIterable(module.getSections()).\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflatMap(section -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn createTOCContainer(new Container(projectUrn, TocConstants.SECTION.toLowerCase(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontainerModule.getEntityUrn(), TocConstants.BODYMATTER, 0), section.getSectionName().toLowerCase(), token, isAutoNumberingEnabled);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t})));\r\n\t}\r\n```\r\n\r\nThe return type of above function is Mono String\r\n\r\n//createTOCContainer function code is as below:\r\n\r\n```java\r\npublic Mono&lt;ContainerMetadata&gt; createTOCContainer(final Container containerRequest, final String title, final String token, boolean isAutoNumberingEnabled) {\r\n\t\tLOGGER.info(&quot;Inside StructureServiceImpl.createTOCContainer&quot;);\r\n\t\tString uri = tocStructureContextPath + TocConstants.SEPERATOR + containerRequest.getProjectUrn()\r\n\t\t\t\t+ TocConstants.SEPERATOR + TocConstants.CONTAINER + TocConstants.SEPERATOR\r\n\t\t\t\t+ containerRequest.getParentEntityUrn() + TocConstants.SEPERATOR\r\n\t\t\t\t+ TocConstants.SECTION + TocConstants.SEPERATOR + TocConstants.BODYMATTER\r\n\t\t\t\t+ TocConstants.SEPERATOR + TocConstants.CHILD_CONTAINER;\r\n\t\ttry {\r\n\t\t\treturn createContainerMetaData(containerRequest, token, uri, title)\r\n\t\t\t\t\t.flatMap(result-&gt;{\r\n\t\t\t\t\t\tLOGGER.info(&quot;Result : [{}]&quot;, result);\r\n\t\t\t\t\t\tContainerMetadata containerMetaData = null;\r\n\t\t\t\t\t\tcontainerMetaData = gson.fromJson(result, ContainerMetadata.class);\r\n\t\t\t\t\t\t\r\n\t\t\t            Title title1 = new Title(title);\r\n\t\t\t\t\t\ttitle1.setEs(title);\r\n\t\t\t\t\t\tcontainerMetaData.setTitle(title1);\r\n\t\t\t\t\t\tif(StringUtils.isNotBlank(title))\r\n\t\t\t\t\t\t\trenameTocContainer(title,  containerRequest.getProjectUrn(),  containerMetaData.getEntityUrn(), token);\r\n\t\t\t\t\t\tLOGGER.info(&quot;Title has been updated&quot;);\r\n\t\t\t\t\t\tif(isAutoNumberingEnabled)\r\n\t\t\t\t\t\t\tLOGGER.info(&quot;StructureAPIService.addContainerMetaData()&quot;);\r\n\t\t\t\t\t\taddContainerMetaData(result.toString(), containerRequest, title, token, Boolean.TRUE).subscribe();\r\n\r\n\t\t\t\t\t\treturn Mono.just(containerMetaData);\r\n\t\t\t\t\t});\r\n\r\n\t\t} catch (HttpClientErrorException e) {\r\n\t\t\tLOGGER.error(&quot;Container element creation failed for the Container and Title [{} {}]&quot;, containerRequest.getParentEntityUrn(), title);\r\n\r\n\t\t}\r\n\t\treturn Mono.empty();\r\n\t}\r\n```\r\n\r\nThe return type of above function is Mono (ContainerMetaData)\r\n\r\nThe error showing as: \r\n&quot;no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Mono&lt;? extends R&gt;&quot; in first call (createTOCContent() function), please let me know if anything need to be corrected. Thanks","title":"no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Mono&lt;? extends R&gt;","body":"<p>Hi I am using the following Flux for iterating the list of records for a JSON payload wherein I am using Flux.fromIterable() function and the return type of main method in Mono.\nIt shows the below error:</p>\n<p>&quot;no instance(s) of type variable(s) R exist so that Flux conforms to Mono&lt;? extends R&gt;&quot;</p>\n<p>The code snipet is as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;String&gt; createContentForTOC(GenerateToc generateTocRequest, String token, boolean isAutoNumberingEnabled, String projectUrn, String parentEntityUrn, LinkedList&lt;String&gt; volumeList) {\n        return Flux.fromIterable(generateTocRequest.getVolumes()).\n                flatMap(volume -&gt; createTOCContainer(new Container(projectUrn, TocConstants.VOLUME.toLowerCase(), parentEntityUrn, TocConstants.BODYMATTER, 0),\n                        volume.getVolumeTitle().toLowerCase(), token, isAutoNumberingEnabled)\n                        .flatMap(containerVolume-&gt; Flux.fromIterable(volume.getUnits()).\n                                flatMap(unit -&gt; {\n                                    return createTOCContainer(new Container(projectUrn, TocConstants.PART.toLowerCase(),\n                                            containerVolume.getEntityUrn(), TocConstants.BODYMATTER, 0), unit.getUnitTitle().toLowerCase(), token, isAutoNumberingEnabled)\n                                            .flatMap(containerUnit-&gt; Flux.fromIterable(unit.getChapters()).\n                                                    flatMap(chapter -&gt; {\n                                                        return createTOCContainer(new Container(projectUrn, TocConstants.CHAPTER.toLowerCase(), containerUnit.getEntityUrn(),\n                                                                TocConstants.BODYMATTER, 0), chapter.getChapterTitle().toLowerCase(), token, isAutoNumberingEnabled)\n                                                                .flatMap(containerChapter-&gt;{\n                                                                    return Flux.fromIterable(chapter.getModules()).\n                                                                            flatMap(module -&gt; {\n                                                                                return createTOCContainer(new Container(projectUrn, TocConstants.MODULE.toLowerCase(),\n                                                                                        containerChapter.getEntityUrn(), TocConstants.BODYMATTER, 0), module.getModuleName().toLowerCase(), token, isAutoNumberingEnabled)\n                                                                                        .flatMap(containerModule-&gt;{\n\n                                                                                            return Flux.fromIterable(module.getSections()).\n                                                                                                    flatMap(section -&gt; {\n                                                                                                        return createTOCContainer(new Container(projectUrn, TocConstants.SECTION.toLowerCase(),\n                                                                                                                containerModule.getEntityUrn(), TocConstants.BODYMATTER, 0), section.getSectionName().toLowerCase(), token, isAutoNumberingEnabled);\n\n                                                                                                    });\n                                                                            });\n\n                                                                });\n                                                    });\n                                        }));\n            })));\n    }\n</code></pre>\n<p>The return type of above function is Mono String</p>\n<p>//createTOCContainer function code is as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;ContainerMetadata&gt; createTOCContainer(final Container containerRequest, final String title, final String token, boolean isAutoNumberingEnabled) {\n        LOGGER.info(&quot;Inside StructureServiceImpl.createTOCContainer&quot;);\n        String uri = tocStructureContextPath + TocConstants.SEPERATOR + containerRequest.getProjectUrn()\n                + TocConstants.SEPERATOR + TocConstants.CONTAINER + TocConstants.SEPERATOR\n                + containerRequest.getParentEntityUrn() + TocConstants.SEPERATOR\n                + TocConstants.SECTION + TocConstants.SEPERATOR + TocConstants.BODYMATTER\n                + TocConstants.SEPERATOR + TocConstants.CHILD_CONTAINER;\n        try {\n            return createContainerMetaData(containerRequest, token, uri, title)\n                    .flatMap(result-&gt;{\n                        LOGGER.info(&quot;Result : [{}]&quot;, result);\n                        ContainerMetadata containerMetaData = null;\n                        containerMetaData = gson.fromJson(result, ContainerMetadata.class);\n                        \n                        Title title1 = new Title(title);\n                        title1.setEs(title);\n                        containerMetaData.setTitle(title1);\n                        if(StringUtils.isNotBlank(title))\n                            renameTocContainer(title,  containerRequest.getProjectUrn(),  containerMetaData.getEntityUrn(), token);\n                        LOGGER.info(&quot;Title has been updated&quot;);\n                        if(isAutoNumberingEnabled)\n                            LOGGER.info(&quot;StructureAPIService.addContainerMetaData()&quot;);\n                        addContainerMetaData(result.toString(), containerRequest, title, token, Boolean.TRUE).subscribe();\n\n                        return Mono.just(containerMetaData);\n                    });\n\n        } catch (HttpClientErrorException e) {\n            LOGGER.error(&quot;Container element creation failed for the Container and Title [{} {}]&quot;, containerRequest.getParentEntityUrn(), title);\n\n        }\n        return Mono.empty();\n    }\n</code></pre>\n<p>The return type of above function is Mono (ContainerMetaData)</p>\n<p>The error showing as:\n&quot;no instance(s) of type variable(s) R exist so that Flux conforms to Mono&lt;? extends R&gt;&quot; in first call (createTOCContent() function), please let me know if anything need to be corrected. Thanks</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":2,"creation_date":1551962198,"post_id":32698691,"comment_id":96838591,"body_markdown":"The Spring IO documentation addresses this concern exactly and shows how to do it with Spring Boot (see my answer further down)","body":"The Spring IO documentation addresses this concern exactly and shows how to do it with Spring Boot (see my answer further down)"}],"tags":[],"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"comment_count":1,"down_vote_count":21,"up_vote_count":12,"is_accepted":true,"score":-9,"last_activity_date":1442848240,"creation_date":1442848240,"answer_id":32698691,"question_id":32696080,"body_markdown":"According to the [documentation][1]:\r\n\r\n&gt; Spring Boot makes it easy to create **stand-alone,** **production-grade**\r\n&gt; Spring based **Applications** that you can &quot;just run&quot;.\r\n\r\nBut Spring Boot is not the silver bullet which matches all situations. If you want to create a library, you can create a regular spring project which builds a jar and stores it in your company&#39;s repository, if you have one.\r\n\r\n\r\n  [1]: http://projects.spring.io/spring-boot/","title":"How to use spring boot making a common library","body":"<p>According to the <a href=\"http://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Spring Boot makes it easy to create <strong>stand-alone,</strong> <strong>production-grade</strong>\n  Spring based <strong>Applications</strong> that you can \"just run\".</p>\n</blockquote>\n\n<p>But Spring Boot is not the silver bullet which matches all situations. If you want to create a library, you can create a regular spring project which builds a jar and stores it in your company's repository, if you have one.</p>\n"},{"comments":[{"owner":{"account_id":1405987,"reputation":16394,"user_id":1385441,"accept_rate":77,"display_name":"Ram Patra"},"score":3,"creation_date":1484670275,"post_id":32711287,"comment_id":70600133,"body_markdown":"@sanjay And where you use Spring Lemon as a dependency, do you add this annotation `@SpringBootApplication(scanBasePackages = {&quot;com.naturalprogrammer.spring&quot;})` to the main class where you start the application. In other words, how do u springify all the classes in Spring Lemon so that Spring handles it, if you know what I mean.","body":"@sanjay And where you use Spring Lemon as a dependency, do you add this annotation <code>@SpringBootApplication(scanBasePackages = {&quot;com.naturalprogrammer.spring&quot;})</code> to the main class where you start the application. In other words, how do u springify all the classes in Spring Lemon so that Spring handles it, if you know what I mean."},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":0,"creation_date":1484839585,"post_id":32711287,"comment_id":70683803,"body_markdown":"Correct, in https://github.com/naturalprogrammer/lemon-demo I&#39;ve used `@SpringBootApplication(scanBasePackageClasses = {LemonDemoApplication.class, LemonConfig.class})`. (AutoConfiguration could also be tried, I think, but the above works well)","body":"Correct, in <a href=\"https://github.com/naturalprogrammer/lemon-demo\" rel=\"nofollow noreferrer\">github.com/naturalprogrammer/lemon-demo</a> I&#39;ve used <code>@SpringBootApplication(scanBasePackageClasses = {LemonDemoApplication.class, LemonConfig.class})</code>. (AutoConfiguration could also be tried, I think, but the above works well)"},{"owner":{"account_id":365271,"reputation":30305,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1535484177,"post_id":32711287,"comment_id":91080340,"body_markdown":"@Sanjay is it possible to create a shared library that would contain dao implementations? If so, how would it be possible to create test cases in the shared library without a running app?","body":"@Sanjay is it possible to create a shared library that would contain dao implementations? If so, how would it be possible to create test cases in the shared library without a running app?"},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":0,"creation_date":1535636311,"post_id":32711287,"comment_id":91147324,"body_markdown":"@FedericoPiazza, yes possible. For testing, I haven&#39;t tried it before, but there should be ways, and need some thought on what might be the best way.","body":"@FedericoPiazza, yes possible. For testing, I haven&#39;t tried it before, but there should be ways, and need some thought on what might be the best way."},{"owner":{"account_id":5295306,"reputation":1098,"user_id":4226637,"accept_rate":60,"display_name":"Bhargav Patel"},"score":0,"creation_date":1544073370,"post_id":32711287,"comment_id":94148806,"body_markdown":"@Sanjay but this could be fit if we have single app. how do you use same common module in another app ? if we have to do same replica there then how do we maintain changes to each copy ?","body":"@Sanjay but this could be fit if we have single app. how do you use same common module in another app ? if we have to do same replica there then how do we maintain changes to each copy ?"},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":0,"creation_date":1544098320,"post_id":32711287,"comment_id":94160365,"body_markdown":"@BhargavPatel why not, it&#39;s just a maven library. For example, see the modules of spring lemon: https://github.com/naturalprogrammer/spring-lemon.","body":"@BhargavPatel why not, it&#39;s just a maven library. For example, see the modules of spring lemon: <a href=\"https://github.com/naturalprogrammer/spring-lemon\" rel=\"nofollow noreferrer\">github.com/naturalprogrammer/spring-lemon</a>."},{"owner":{"account_id":234267,"reputation":2509,"user_id":500312,"accept_rate":65,"display_name":"HairOfTheDog"},"score":0,"creation_date":1550039160,"post_id":32711287,"comment_id":96118155,"body_markdown":"@Sanjay lemon-demo and its replacement project spring-lemon no longer use `scanBasePackageClasses`. How does the application find the Spring components in library jar files?","body":"@Sanjay lemon-demo and its replacement project spring-lemon no longer use <code>scanBasePackageClasses</code>. How does the application find the Spring components in library jar files?"},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":0,"creation_date":1550239825,"post_id":32711287,"comment_id":96207534,"body_markdown":"Yep @HairOfTheDog, Spring Lemon modules are now auto-configured ( https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-custom-starter-module-autoconfigure ).","body":"Yep @HairOfTheDog, Spring Lemon modules are now auto-configured ( <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-custom-starter-module-autoconfigure\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a> )."},{"owner":{"account_id":284637,"reputation":3927,"user_id":582862,"accept_rate":43,"display_name":"Ikthiander"},"score":0,"creation_date":1557324900,"post_id":32711287,"comment_id":98727630,"body_markdown":"This answer is also right answer, the chosen answer is absolutely misguiding. what a shame!","body":"This answer is also right answer, the chosen answer is absolutely misguiding. what a shame!"},{"owner":{"account_id":7263842,"reputation":332,"user_id":5539413,"accept_rate":0,"display_name":"Sidath Bhanuka Randeniya"},"score":0,"creation_date":1567580019,"post_id":32711287,"comment_id":101999685,"body_markdown":"Removing spring-boot-maven-plugin was just enough for me from my spring boot library project. Perfect answer","body":"Removing spring-boot-maven-plugin was just enough for me from my spring boot library project. Perfect answer"},{"owner":{"account_id":2737704,"reputation":581,"user_id":2359997,"accept_rate":10,"display_name":"user2359997"},"score":1,"creation_date":1567612681,"post_id":32711287,"comment_id":102017316,"body_markdown":"@Sanjay could we use spring-lemon as dependency in a non-spring regular java project ? if so how do the beans get instantiated","body":"@Sanjay could we use spring-lemon as dependency in a non-spring regular java project ? if so how do the beans get instantiated"},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":1,"creation_date":1567912962,"post_id":32711287,"comment_id":102105979,"body_markdown":"@user2359997, Spring Lemon has dependencies on spring modules, as youll see in its poms. So, it can&#39;t be used in non-spring projects.","body":"@user2359997, Spring Lemon has dependencies on spring modules, as youll see in its poms. So, it can&#39;t be used in non-spring projects."}],"tags":[],"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"comment_count":12,"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1550368505,"creation_date":1442908208,"answer_id":32711287,"question_id":32696080,"body_markdown":"[Spring Lemon][1] would be a good example for this. It uses Spring Boot, and is meant to be included in other Spring Boot applications. This is what we did to create it:\r\n\r\n1. Created a Spring Boot application, using the *Spring Boot Starter Wizard* of *STS*.\r\n1. Removed the generated application and test class.\r\n1. Removed `spring-boot-maven-plugin`, i.e. the *build* and the *pluginRepositories* sections in pom.xml. (See how a [pom.xml][2] would look without these sections).\r\n\r\n\r\n  [1]: https://github.com/naturalprogrammer/spring-lemon\r\n  [2]: https://github.com/naturalprogrammer/spring-lemon/blob/master/spring-lemon-exceptions/pom.xml","title":"How to use spring boot making a common library","body":"<p><a href=\"https://github.com/naturalprogrammer/spring-lemon\" rel=\"noreferrer\">Spring Lemon</a> would be a good example for this. It uses Spring Boot, and is meant to be included in other Spring Boot applications. This is what we did to create it:</p>\n\n<ol>\n<li>Created a Spring Boot application, using the <em>Spring Boot Starter Wizard</em> of <em>STS</em>.</li>\n<li>Removed the generated application and test class.</li>\n<li>Removed <code>spring-boot-maven-plugin</code>, i.e. the <em>build</em> and the <em>pluginRepositories</em> sections in pom.xml. (See how a <a href=\"https://github.com/naturalprogrammer/spring-lemon/blob/master/spring-lemon-exceptions/pom.xml\" rel=\"noreferrer\">pom.xml</a> would look without these sections).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2443056,"reputation":936,"user_id":2131040,"accept_rate":57,"display_name":"prash"},"score":4,"creation_date":1551862192,"post_id":45060285,"comment_id":96791509,"body_markdown":"This is the best Answer!","body":"This is the best Answer!"},{"owner":{"account_id":3438358,"reputation":127,"user_id":2880893,"display_name":"Amol Pednekar"},"score":1,"creation_date":1577962757,"post_id":45060285,"comment_id":105292002,"body_markdown":"Perfect! Worked for me.","body":"Perfect! Worked for me."},{"owner":{"account_id":5631340,"reputation":163,"user_id":4458220,"display_name":"Lubco"},"score":0,"creation_date":1683556091,"post_id":45060285,"comment_id":134380617,"body_markdown":"IMHO the key was the 3rd point of [this answer](https://stackoverflow.com/a/32711287/4458220)","body":"IMHO the key was the 3rd point of <a href=\"https://stackoverflow.com/a/32711287/4458220\">this answer</a>"}],"tags":[],"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"comment_count":3,"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1499869132,"creation_date":1499869132,"answer_id":45060285,"question_id":32696080,"body_markdown":"The Spring documentation addresses this concern exactly and shows the correct way of implementing a common library with/for Spring boot: \r\n\r\nhttps://spring.io/guides/gs/multi-module/\r\n\r\nAs the documentation states: **Although the Spring Boot Maven plugin is not being used, you do want to take advantage of Spring Boot dependency management**.","title":"How to use spring boot making a common library","body":"<p>The Spring documentation addresses this concern exactly and shows the correct way of implementing a common library with/for Spring boot: </p>\n\n<p><a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"noreferrer\">https://spring.io/guides/gs/multi-module/</a></p>\n\n<p>As the documentation states: <strong>Although the Spring Boot Maven plugin is not being used, you do want to take advantage of Spring Boot dependency management</strong>.</p>\n"},{"comments":[{"owner":{"account_id":367521,"reputation":6910,"user_id":713777,"accept_rate":90,"display_name":"Ahmed Ghoneim"},"score":0,"creation_date":1660420379,"post_id":47319112,"comment_id":129530720,"body_markdown":"You need to add &lt;id&gt;repackage&lt;/id&gt; after execution above &lt;goals&gt; to override it.","body":"You need to add &lt;id&gt;repackage&lt;/id&gt; after execution above &lt;goals&gt; to override it."}],"tags":[],"owner":{"account_id":465807,"reputation":456,"user_id":870149,"display_name":"darkstar_mx"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510788723,"creation_date":1510788723,"answer_id":47319112,"question_id":32696080,"body_markdown":"I had a similar need as yours, so far I managed to build a library usable on other projects with following configuration:\r\n\r\n\r\n`&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;mx.grailscoder&lt;/groupId&gt;\r\n    &lt;artifactId&gt;library&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;My Custom Library built on Spring Boot&lt;/name&gt;\r\n    &lt;description&gt;Spring Boot Project library&lt;/description&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;logentries-appender&gt;RELEASE&lt;/logentries-appender&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skip&gt;true&lt;/skip&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n`\r\n\r\nIt&#39;s important to mention I skipped the `repackage` task since my library didn&#39;t have any main class, then issuing the `mvn install` task does not fail.","title":"How to use spring boot making a common library","body":"<p>I had a similar need as yours, so far I managed to build a library usable on other projects with following configuration:</p>\n\n<p>`</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;mx.grailscoder&lt;/groupId&gt;\n&lt;artifactId&gt;library&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;My Custom Library built on Spring Boot&lt;/name&gt;\n&lt;description&gt;Spring Boot Project library&lt;/description&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;logentries-appender&gt;RELEASE&lt;/logentries-appender&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>`</p>\n\n<p>It's important to mention I skipped the <code>repackage</code> task since my library didn't have any main class, then issuing the <code>mvn install</code> task does not fail.</p>\n"},{"tags":[],"owner":{"account_id":7499374,"reputation":365,"user_id":5698386,"display_name":"Mohamed Aymen Charrada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692171677,"creation_date":1692171677,"answer_id":76911478,"question_id":32696080,"body_markdown":"I have those projects in my microservice architecture:\r\n\r\n--`account` (first microservice)\r\n\r\n--`loan` (second microservice)\r\n\r\n--`shared` (SpringBoot project)\r\n\r\n`account` microservice and `loan` microservice use a common Pojo class in the `shared` project.\r\n\r\nHow can I configure the `pom.xml` of `account` and `card` microservices to use the `shared` project?\r\n\r\nI found a solution to my question:\r\n\r\n1- Go to `pom.xml` in `shared` project and add this:\r\n\r\n               &lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;classifier&gt;origin&lt;/classifier&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\n2- Inside the folder where exists the `pom.xml` in the `shared` project execute this:\r\n\r\n    mvn clean install\r\n\r\n3- Go inside `shared` folder and Install the jar (change the `file`, `groupId` and the `artifactId`):\r\n\r\n    mvn install:install-file -Dfile=./target/shared-0.0.1-SNAPSHOT-origin.jar -DgroupId=com.anchtun -DartifactId=shared -Dversion=1.0 -Dpackaging=jar\r\n\r\n\r\n4- Go inside `account` project and add in `pom.xml` this dependency (change the `groupId` and the `artifactId`):\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.anchtun&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;shared&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n5- You can use the `jar` now!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6bDiM.png\r\n\r\n6- When you try to create the other jar (in `account-service` for example that uses the `shared.jar`) do:\r\n\r\n    mvn initialize\r\nthen \r\n\r\n    mvn clean install\r\n\r\n\r\n","title":"How to use spring boot making a common library","body":"<p>I have those projects in my microservice architecture:</p>\n<p>--<code>account</code> (first microservice)</p>\n<p>--<code>loan</code> (second microservice)</p>\n<p>--<code>shared</code> (SpringBoot project)</p>\n<p><code>account</code> microservice and <code>loan</code> microservice use a common Pojo class in the <code>shared</code> project.</p>\n<p>How can I configure the <code>pom.xml</code> of <code>account</code> and <code>card</code> microservices to use the <code>shared</code> project?</p>\n<p>I found a solution to my question:</p>\n<p>1- Go to <code>pom.xml</code> in <code>shared</code> project and add this:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;origin&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>2- Inside the folder where exists the <code>pom.xml</code> in the <code>shared</code> project execute this:</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>3- Go inside <code>shared</code> folder and Install the jar (change the <code>file</code>, <code>groupId</code> and the <code>artifactId</code>):</p>\n<pre><code>mvn install:install-file -Dfile=./target/shared-0.0.1-SNAPSHOT-origin.jar -DgroupId=com.anchtun -DartifactId=shared -Dversion=1.0 -Dpackaging=jar\n</code></pre>\n<p>4- Go inside <code>account</code> project and add in <code>pom.xml</code> this dependency (change the <code>groupId</code> and the <code>artifactId</code>):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.anchtun&lt;/groupId&gt;\n    &lt;artifactId&gt;shared&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>5- You can use the <code>jar</code> now!</p>\n<p><a href=\"https://i.stack.imgur.com/6bDiM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6bDiM.png\" alt=\"enter image description here\" /></a></p>\n<p>6- When you try to create the other jar (in <code>account-service</code> for example that uses the <code>shared.jar</code>) do:</p>\n<pre><code>mvn initialize\n</code></pre>\n<p>then</p>\n<pre><code>mvn clean install\n</code></pre>\n"}],"owner":{"account_id":3783077,"reputation":1391,"user_id":3141951,"accept_rate":78,"display_name":"GrapeBaBa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101843,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":32698691,"answer_count":5,"score":64,"last_activity_date":1692171677,"creation_date":1442840882,"question_id":32696080,"body_markdown":"Now I want to develop a common mail service for our systems.\r\nAs we design, we want to develop a `RabbitMQ` producer and consumer. On consumer side, we could develop and deploy a `Spring Boot` or `Spring Cloud` application, but on producer side we want to give a common mail client like the interface below and make a jar dependency for other system.\r\n\r\n    interface MailClient {\r\n      ListentableFuture send(Message message);\r\n    }\r\n\r\nBut i see spring boot and spring cloud using many declarative method and seems must use a application class, but i just want a class reference and not need deploy. i do not know how to implement it.","title":"How to use spring boot making a common library","body":"<p>Now I want to develop a common mail service for our systems.\nAs we design, we want to develop a <code>RabbitMQ</code> producer and consumer. On consumer side, we could develop and deploy a <code>Spring Boot</code> or <code>Spring Cloud</code> application, but on producer side we want to give a common mail client like the interface below and make a jar dependency for other system.</p>\n\n<pre><code>interface MailClient {\n  ListentableFuture send(Message message);\n}\n</code></pre>\n\n<p>But i see spring boot and spring cloud using many declarative method and seems must use a application class, but i just want a class reference and not need deploy. i do not know how to implement it.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1535714046,"post_id":52113855,"comment_id":91178865,"body_markdown":"you read this?https://github.com/brettwooldridge/HikariCP/wiki/Dropwizard-HealthChecks","body":"you read this?<a href=\"https://github.com/brettwooldridge/HikariCP/wiki/Dropwizard-HealthChecks\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/HikariCP/wiki/&hellip;</a>"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1535714105,"post_id":52113855,"comment_id":91178902,"body_markdown":"or this: https://www.stubbornjava.com/posts/database-connection-pooling-in-java-with-hikaricp","body":"or this: <a href=\"https://www.stubbornjava.com/posts/database-connection-pooling-in-java-with-hikaricp\" rel=\"nofollow noreferrer\">stubbornjava.com/posts/&hellip;</a>"},{"owner":{"account_id":1104491,"reputation":1018,"user_id":1096193,"accept_rate":0,"display_name":"aravindaM"},"score":0,"creation_date":1535726846,"post_id":52113855,"comment_id":91186766,"body_markdown":"yes. these docs are about hikari pool, but question is about spring boot.","body":"yes. these docs are about hikari pool, but question is about spring boot."}],"answers":[{"tags":[],"owner":{"account_id":17335028,"reputation":41,"user_id":12557126,"display_name":"mohammad.sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692171306,"creation_date":1692171306,"answer_id":76911442,"question_id":52113855,"body_markdown":"With healthCheckRegistry and healthCheckProperties, you can register HealthCheck and test it after execution, for example by calling the url.\r\nSample:\r\n\r\n      HealthCheckRegistry healthCheckRegistry = new HealthCheckRegistry();\r\n      healthCheckRegistry.register(&quot;Database&quot;, new DatabaseHealthCheck());\r\n\r\nand run it:\r\n\r\n      healthCheckRegistry.runHealthCheck(&quot;database&quot;);\r\n\r\nOr you can unregister it:\r\n\r\n      healthCheckRegistry.unregister(&quot;database&quot;);\r\n\r\n [For more review][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/dropwizard-metrics","title":"How to specify custom health check registry in spring boot (application.yml)","body":"<p>With healthCheckRegistry and healthCheckProperties, you can register HealthCheck and test it after execution, for example by calling the url.\nSample:</p>\n<pre><code>  HealthCheckRegistry healthCheckRegistry = new HealthCheckRegistry();\n  healthCheckRegistry.register(&quot;Database&quot;, new DatabaseHealthCheck());\n</code></pre>\n<p>and run it:</p>\n<pre><code>  healthCheckRegistry.runHealthCheck(&quot;database&quot;);\n</code></pre>\n<p>Or you can unregister it:</p>\n<pre><code>  healthCheckRegistry.unregister(&quot;database&quot;);\n</code></pre>\n<p><a href=\"https://www.baeldung.com/dropwizard-metrics\" rel=\"nofollow noreferrer\">For more review</a></p>\n"}],"owner":{"account_id":1104491,"reputation":1018,"user_id":1096193,"accept_rate":0,"display_name":"aravindaM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2139,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692171306,"creation_date":1535712604,"question_id":52113855,"body_markdown":"Is it possible to inject a custom `com.codahale.metrics.health.HealthCheckRegistry`in a spring boot application using the property `spring.datasource.hikari.health-check-registry` in application.yml ?  And how to do that?\r\n\r\n    spring:\r\n      datasource:\r\n        driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n        url: jdbc:sqlserver://localhost:1433;databaseName=mydb;failoverPatner=\r\n        username: db_user\r\n        password: db_pass\r\n        hikari:\r\n          data-source-properties:\r\n            cachePrepStmts: true\r\n            prepStmtCacheSize: 250\r\n          health-check-registry: ???????\r\n        jmx-enabled: true","title":"How to specify custom health check registry in spring boot (application.yml)","body":"<p>Is it possible to inject a custom <code>com.codahale.metrics.health.HealthCheckRegistry</code>in a spring boot application using the property <code>spring.datasource.hikari.health-check-registry</code> in application.yml ?  And how to do that?</p>\n\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver\n    url: jdbc:sqlserver://localhost:1433;databaseName=mydb;failoverPatner=\n    username: db_user\n    password: db_pass\n    hikari:\n      data-source-properties:\n        cachePrepStmts: true\n        prepStmtCacheSize: 250\n      health-check-registry: ???????\n    jmx-enabled: true\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1625091355,"post_id":68202081,"comment_id":120538703,"body_markdown":"Have you tried using `optional` in your proto schema?","body":"Have you tried using <code>optional</code> in your proto schema?"},{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":1,"creation_date":1625091435,"post_id":68202081,"comment_id":120538724,"body_markdown":"I use proto3 , by default all fields is optional . (not need)","body":"I use proto3 , by default all fields is optional . (not need)"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1625091632,"post_id":68202081,"comment_id":120538776,"body_markdown":"If that&#39;s the case, the tutorial needs updated https://developers.google.com/protocol-buffers/docs/javatutorial","body":"If that&#39;s the case, the tutorial needs updated <a href=\"https://developers.google.com/protocol-buffers/docs/javatutorial\" rel=\"nofollow noreferrer\">developers.google.com/protocol-buffers/docs/javatutorial</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1625113242,"post_id":68202081,"comment_id":120542010,"body_markdown":"Yes, the code you wrote there is how to correctly handle this with Protos.","body":"Yes, the code you wrote there is how to correctly handle this with Protos."}],"answers":[{"tags":[],"owner":{"account_id":136975,"reputation":1350,"user_id":340862,"display_name":"Rafael Lerm"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1625147651,"creation_date":1625147651,"answer_id":68211500,"question_id":68202081,"body_markdown":"`DoubleValue` is meant to handle **missing** values, not necessarily `null`. Protobuf libraries are intended to never involve nulls - for example, it never returns `null`, even for missing fields. Also, as you&#39;ve found out, setters don&#39;t accept null. For example, to clear a field you&#39;d use `clearField` instead of `setField(null)`.\r\n\r\nOne of the big differences between proto2 and proto3 is that ([initially](https://stackoverflow.com/a/62566052/340862))  &quot;hazzers&quot; for primitive fields (e.g. `hasField`) were removed. That is, if you have a `double my_field`, there is no way to tell if it was never set, or set explicitly to zero. `getMyField()` would return 0 in both cases.\r\n\r\nNote that messages still have hazzers, so if you want that functionality, you could wrap your primitive field in a message. Which is exactly what [`DoubleValue` is](https://github.com/protocolbuffers/protobuf/blob/e60ec85b9f6ec4a3b45a25848922bd3571b59de8/src/google/protobuf/wrappers.proto#L56). So if you have a field `DoubleValue age = 1`, you could use `hasAge()` to determine if it&#39;s set. In newer protobuf version, you could do the same with `optional double age = 1`.\r\n\r\nNote that all of this has no relation with `null` in the Java generated code. There really is no way a setter would accept a null value. \r\n\r\nTL;DR: Your first suggestion is good and very common:\r\n\r\n```\r\nDoubleValue a = null;\r\nPerson.Builder builder = Person.newBuilder();\r\nif (a != null) {\r\n    builder.setAge(a);\r\n}\r\nPerson build = builder.build();     \r\n```\r\n\r\nIf instead of null you have an `Optional`, you could use a similar variant:\r\n\r\n```\r\nOptionalDouble a = OptionalDouble.empty();\r\nPerson.Builder builder = Person.newBuilder();\r\na.ifPresent(value-&gt; builder.getAgeBuilder().setValue(value));\r\n\r\nPerson build = builder.build();\r\n```","title":"Google Protobuf handle null values","body":"<p><code>DoubleValue</code> is meant to handle <strong>missing</strong> values, not necessarily <code>null</code>. Protobuf libraries are intended to never involve nulls - for example, it never returns <code>null</code>, even for missing fields. Also, as you've found out, setters don't accept null. For example, to clear a field you'd use <code>clearField</code> instead of <code>setField(null)</code>.</p>\n<p>One of the big differences between proto2 and proto3 is that (<a href=\"https://stackoverflow.com/a/62566052/340862\">initially</a>)  &quot;hazzers&quot; for primitive fields (e.g. <code>hasField</code>) were removed. That is, if you have a <code>double my_field</code>, there is no way to tell if it was never set, or set explicitly to zero. <code>getMyField()</code> would return 0 in both cases.</p>\n<p>Note that messages still have hazzers, so if you want that functionality, you could wrap your primitive field in a message. Which is exactly what <a href=\"https://github.com/protocolbuffers/protobuf/blob/e60ec85b9f6ec4a3b45a25848922bd3571b59de8/src/google/protobuf/wrappers.proto#L56\" rel=\"nofollow noreferrer\"><code>DoubleValue</code> is</a>. So if you have a field <code>DoubleValue age = 1</code>, you could use <code>hasAge()</code> to determine if it's set. In newer protobuf version, you could do the same with <code>optional double age = 1</code>.</p>\n<p>Note that all of this has no relation with <code>null</code> in the Java generated code. There really is no way a setter would accept a null value.</p>\n<p>TL;DR: Your first suggestion is good and very common:</p>\n<pre><code>DoubleValue a = null;\nPerson.Builder builder = Person.newBuilder();\nif (a != null) {\n    builder.setAge(a);\n}\nPerson build = builder.build();     \n</code></pre>\n<p>If instead of null you have an <code>Optional</code>, you could use a similar variant:</p>\n<pre><code>OptionalDouble a = OptionalDouble.empty();\nPerson.Builder builder = Person.newBuilder();\na.ifPresent(value-&gt; builder.getAgeBuilder().setValue(value));\n\nPerson build = builder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6632465,"reputation":521,"user_id":5120705,"display_name":"Tushar Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692168733,"creation_date":1692168733,"answer_id":76911144,"question_id":68202081,"body_markdown":"For dart you can set it as:\r\n\r\n&gt; DoubleValue(value: null)","title":"Google Protobuf handle null values","body":"<p>For dart you can set it as:</p>\n<blockquote>\n<p>DoubleValue(value: null)</p>\n</blockquote>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7590,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68211500,"answer_count":2,"score":5,"last_activity_date":1692168733,"creation_date":1625090726,"question_id":68202081,"body_markdown":"somebody explain me how can handle null values in google protobuf .     \r\ni have structure like this :    \r\n\r\n    syntax = &quot;proto3&quot;;\r\n    import &quot;google/protobuf/wrappers.proto&quot;;\r\n    message Person {\r\n      google.protobuf.DoubleValue age = 4;\r\n    }     \r\nand java code :\r\n\r\n        \r\n    DoubleValue myAge = null;\r\n    Person build = Person.newBuilder()\r\n                    .setAge(myAge)  // &lt;- NPE\r\n                    .build();\r\n\r\nthis code result null pointer exception on `.setAge(myAge)` line.    \r\nso what is use case of protobuf DoubleValue ? I thought it was used to manage null values . but still receive NullPointerException .    \r\n\r\nDo you use code like this for handle this problem ? \r\n\r\n    DoubleValue a = null;\r\n    Person.Builder builder = Person.newBuilder();\r\n    if (a != null) {\r\n        builder.setAge(a);\r\n    }\r\n    \r\n    Person build = builder.build();     \r\n**UPDATE:**    \r\nthis is part of code generated by protoc command :    \r\n\r\n    /**\r\n    * &lt;code&gt;.google.protobuf.DoubleValue age = 9;&lt;/code&gt;\r\n    */\r\n    public Builder setAge(com.google.protobuf.DoubleValue value) {\r\n    if (ageBuilder_ == null) {\r\n        if (value == null) {        //&lt;-- Additional statement\r\n            throw new NullPointerException();\r\n        }\r\n        age_ = value;\r\n        onChanged();\r\n    } else {\r\n        ageBuilder_.setMessage(value);\r\n    }   \r\nWhy set additional `if` statement in generated code ?  \r\nI think this is a bug for google protocol buffer.    \r\nfinally i wrote this code:        \r\n\r\n    DoubleValue.Builder builder = DoubleValue.newBuilder();\r\n    DoubleValue myAge = null;\r\n    Person build = Person.newBuilder()\r\n                    .setAge(myAge != null ? myAge : builder )\r\n                    .build();","title":"Google Protobuf handle null values","body":"<p>somebody explain me how can handle null values in google protobuf .<br />\ni have structure like this :</p>\n<pre><code>syntax = &quot;proto3&quot;;\nimport &quot;google/protobuf/wrappers.proto&quot;;\nmessage Person {\n  google.protobuf.DoubleValue age = 4;\n}     \n</code></pre>\n<p>and java code :</p>\n<pre><code>DoubleValue myAge = null;\nPerson build = Person.newBuilder()\n                .setAge(myAge)  // &lt;- NPE\n                .build();\n</code></pre>\n<p>this code result null pointer exception on <code>.setAge(myAge)</code> line.<br />\nso what is use case of protobuf DoubleValue ? I thought it was used to manage null values . but still receive NullPointerException .</p>\n<p>Do you use code like this for handle this problem ?</p>\n<pre><code>DoubleValue a = null;\nPerson.Builder builder = Person.newBuilder();\nif (a != null) {\n    builder.setAge(a);\n}\n\nPerson build = builder.build();     \n</code></pre>\n<p><strong>UPDATE:</strong><br />\nthis is part of code generated by protoc command :</p>\n<pre><code>/**\n* &lt;code&gt;.google.protobuf.DoubleValue age = 9;&lt;/code&gt;\n*/\npublic Builder setAge(com.google.protobuf.DoubleValue value) {\nif (ageBuilder_ == null) {\n    if (value == null) {        //&lt;-- Additional statement\n        throw new NullPointerException();\n    }\n    age_ = value;\n    onChanged();\n} else {\n    ageBuilder_.setMessage(value);\n}   \n</code></pre>\n<p>Why set additional <code>if</code> statement in generated code ?<br />\nI think this is a bug for google protocol buffer.<br />\nfinally i wrote this code:</p>\n<pre><code>DoubleValue.Builder builder = DoubleValue.newBuilder();\nDoubleValue myAge = null;\nPerson build = Person.newBuilder()\n                .setAge(myAge != null ? myAge : builder )\n                .build();\n</code></pre>\n"},{"tags":["java","json","enums","jackson"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692106624,"post_id":76906134,"comment_id":135577414,"body_markdown":"You are using `rlType` in your JSON and `tlType` in your code","body":"You are using <code>rlType</code> in your JSON and <code>tlType</code> in your code"},{"owner":{"account_id":1995673,"reputation":726,"user_id":1788702,"accept_rate":68,"display_name":"igor"},"score":0,"creation_date":1692107354,"post_id":76906134,"comment_id":135577597,"body_markdown":"just a typo here.","body":"just a typo here."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1692168886,"post_id":76906134,"comment_id":135585583,"body_markdown":"Why do you need an empty interface?","body":"Why do you need an empty interface?"}],"answers":[{"comments":[{"owner":{"account_id":1995673,"reputation":726,"user_id":1788702,"accept_rate":68,"display_name":"igor"},"score":0,"creation_date":1692114054,"post_id":76906945,"comment_id":135578978,"body_markdown":"shouldn&#39;t @JsonSubTypes({\n        @JsonSubTypes.Type(value = B.class, name = &quot;X&quot;)\n}) provide it with info which type to use?","body":"shouldn&#39;t @JsonSubTypes({         @JsonSubTypes.Type(value = B.class, name = &quot;X&quot;) }) provide it with info which type to use?"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1692114592,"post_id":76906945,"comment_id":135579087,"body_markdown":"No, with this you just would give your Java enum type B a new name X within your JSON document. Just for interest: Do you really need the interface? There would be no need if you only ever will have the one implementation B.","body":"No, with this you just would give your Java enum type B a new name X within your JSON document. Just for interest: Do you really need the interface? There would be no need if you only ever will have the one implementation B."},{"owner":{"account_id":1995673,"reputation":726,"user_id":1788702,"accept_rate":68,"display_name":"igor"},"score":0,"creation_date":1692114966,"post_id":76906945,"comment_id":135579176,"body_markdown":"I do, I have 3 different enums creating the same classes and controllers.\nI want to use an interface instead and remove all this duplication.","body":"I do, I have 3 different enums creating the same classes and controllers. I want to use an interface instead and remove all this duplication."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1692116954,"post_id":76906945,"comment_id":135579599,"body_markdown":"I fear if you rely on Jackson default mechanisms there is no way to evade a type/value combination. Just imagine non unique value names on two of your enums. Just an idea: create an enum with each value pointing to an IA instance and use this as the key for your settings. The downside is that you have to keep track of new values.","body":"I fear if you rely on Jackson default mechanisms there is no way to evade a type/value combination. Just imagine non unique value names on two of your enums. Just an idea: create an enum with each value pointing to an IA instance and use this as the key for your settings. The downside is that you have to keep track of new values."},{"owner":{"account_id":1995673,"reputation":726,"user_id":1788702,"accept_rate":68,"display_name":"igor"},"score":0,"creation_date":1692168478,"post_id":76906945,"comment_id":135585516,"body_markdown":"was able to do it with a deserializer :)","body":"was able to do it with a deserializer :)"}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692118894,"creation_date":1692111323,"answer_id":76906945,"question_id":76906134,"body_markdown":"Meanwhile as we found out the interface is necessary, this solution will work:\r\n\r\n```\r\n    @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property=&quot;riType&quot;)\r\n    @JsonSubTypes({ @JsonSubTypes.Type(B.class) })\r\n    public interface IA {\r\n    }\r\n\r\n    public enum B implements IA {\r\n        X,\r\n        Y,\r\n        Z\r\n    }\r\n    \r\n    public record Settings(IA key, int myint1, int myint2)\r\n    {\r\n        \r\n    }\r\n    \r\n    @Test\r\n    void testJson() throws Exception\r\n    {\r\n        String json = &quot;&quot;&quot;\r\n                {\r\n                &quot;key&quot;: [&quot;B&quot;, &quot;X&quot;],\r\n                &quot;myint1&quot;:&quot;1&quot;,\r\n                &quot;myint2&quot;:&quot;2&quot;\r\n                }\r\n                &quot;&quot;&quot;;\r\n        System.out.println(new ObjectMapper().readValue(json, Settings.class));\r\n    }\r\n```\r\n\r\nObviously Jackson uses a different syntax for (de)serializing enum values and ordinary classes. For an enum instance just a `[&quot;type&quot;, &quot;value&quot;]` is used, for a class instance the full object notation `{ &quot;riType&quot;:..., &quot;property&quot;:&quot;value&quot;, etc. }`.","title":"Java Json enum deserialization","body":"<p>Meanwhile as we found out the interface is necessary, this solution will work:</p>\n<pre><code>    @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property=&quot;riType&quot;)\n    @JsonSubTypes({ @JsonSubTypes.Type(B.class) })\n    public interface IA {\n    }\n\n    public enum B implements IA {\n        X,\n        Y,\n        Z\n    }\n    \n    public record Settings(IA key, int myint1, int myint2)\n    {\n        \n    }\n    \n    @Test\n    void testJson() throws Exception\n    {\n        String json = &quot;&quot;&quot;\n                {\n                &quot;key&quot;: [&quot;B&quot;, &quot;X&quot;],\n                &quot;myint1&quot;:&quot;1&quot;,\n                &quot;myint2&quot;:&quot;2&quot;\n                }\n                &quot;&quot;&quot;;\n        System.out.println(new ObjectMapper().readValue(json, Settings.class));\n    }\n</code></pre>\n<p>Obviously Jackson uses a different syntax for (de)serializing enum values and ordinary classes. For an enum instance just a <code>[&quot;type&quot;, &quot;value&quot;]</code> is used, for a class instance the full object notation <code>{ &quot;riType&quot;:..., &quot;property&quot;:&quot;value&quot;, etc. }</code>.</p>\n"},{"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":1,"creation_date":1692193613,"post_id":76911138,"comment_id":135590692,"body_markdown":"This is a solution. But be aware that if you have two values with the same name on your enums, you may not get the expected result. I would write a unit test to check this.","body":"This is a solution. But be aware that if you have two values with the same name on your enums, you may not get the expected result. I would write a unit test to check this."},{"owner":{"account_id":1995673,"reputation":726,"user_id":1788702,"accept_rate":68,"display_name":"igor"},"score":0,"creation_date":1693385401,"post_id":76911138,"comment_id":135752297,"body_markdown":"ya, this is an issue. but I will have it with any other deserialization solution in this case.\ntoo bad there is no easy way to do that with annotations.","body":"ya, this is an issue. but I will have it with any other deserialization solution in this case. too bad there is no easy way to do that with annotations."}],"tags":[],"owner":{"account_id":1995673,"reputation":726,"user_id":1788702,"accept_rate":68,"display_name":"igor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692168679,"creation_date":1692168679,"answer_id":76911138,"question_id":76906134,"body_markdown":"Was able to solve that with a JsonDeserializer.\r\n\r\n    public class IADeserializer extends JsonDeserializer&lt;IA&gt; {\r\n    \r\n        @Override\r\n        public IA deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            String typeName = p.getValueAsString();\r\n    \r\n            // Try to match with the first enum\r\n            try {\r\n                return B.valueOf(typeName);\r\n            } catch (IllegalArgumentException e) {\r\n                // Ignored\r\n            }\r\n    \r\n            // Try to match with the second enum\r\n            try {\r\n                return C.valueOf(typeName);\r\n            } catch (IllegalArgumentException e) {\r\n                // Ignored\r\n            }\r\n    \r\n            // Handle case where the value doesn&#39;t match any known enum\r\n            throw new IOException(&quot;Invalid rlType value: &quot; + typeName);\r\n        }\r\n    }\r\n\r\nAnd \r\n\r\n    @JsonDeserialize(using = IADeserializer.class)\r\n        public interface IRateLimiterType {\r\n    }\r\n\r\n","title":"Java Json enum deserialization","body":"<p>Was able to solve that with a JsonDeserializer.</p>\n<pre><code>public class IADeserializer extends JsonDeserializer&lt;IA&gt; {\n\n    @Override\n    public IA deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        String typeName = p.getValueAsString();\n\n        // Try to match with the first enum\n        try {\n            return B.valueOf(typeName);\n        } catch (IllegalArgumentException e) {\n            // Ignored\n        }\n\n        // Try to match with the second enum\n        try {\n            return C.valueOf(typeName);\n        } catch (IllegalArgumentException e) {\n            // Ignored\n        }\n\n        // Handle case where the value doesn't match any known enum\n        throw new IOException(&quot;Invalid rlType value: &quot; + typeName);\n    }\n}\n</code></pre>\n<p>And</p>\n<pre><code>@JsonDeserialize(using = IADeserializer.class)\n    public interface IRateLimiterType {\n}\n</code></pre>\n"}],"owner":{"account_id":1995673,"reputation":726,"user_id":1788702,"accept_rate":68,"display_name":"igor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692168679,"creation_date":1692104095,"question_id":76906134,"body_markdown":"JSON enum deserialization is not working.\r\n\r\nInterface:\r\n\r\n    @JsonTypeInfo(\r\n            use = JsonTypeInfo.Id.NAME,\r\n            include = JsonTypeInfo.As.PROPERTY,\r\n            property=&quot;rlType&quot;\r\n    )\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = B.class)\r\n    })\r\n    public interface IA {\r\n    }\r\n\r\nB class\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NONE)\r\n    public enum B implements IA {\r\n        X,\r\n        Y,\r\n        Z\r\n    }\r\n\r\nSettings\r\n\r\n    public record Settings(IA rlType, int myint1, int myint2) {}\r\n\r\nHere is a unit test of how i want to use it:\r\n\r\n    @Test\r\n    void testDeserialization() throws Exception {\r\n            String json = &quot;&quot;&quot;\r\n                {\r\n                    &quot;rlType&quot;: &quot;X&quot;,\r\n                    &quot;myint1&quot;: 5,\r\n                    &quot;myint2&quot;: 10\r\n                }\r\n            &quot;&quot;&quot;;\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            RateLimiterSettings settings = objectMapper.readValue(json, Settings.class);\r\n\r\n\r\nI&#39;m getting the following error:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not\r\n&gt; resolve subtype of [simple type, class IA]: missing type id property\r\n&gt; &#39;tlType&#39; (for POJO property &#39;rlType&#39;)  at [Source: (String)&quot;    {\r\n&gt;         &quot;rlType&quot;: &quot;X&quot;,\r\n&gt;         &quot;myint1&quot;: 5,\r\n&gt;         &quot;myint2&quot;: 10\r\n&gt;     } &quot;; line: 2, column: 19] (through reference chain: Settings[&quot;rlType&quot;])\r\n\r\nI tried to use `Settings(**B** rlType, int myint1, int myint2)` and it worked but I want to do that with the interface.\r\nWhat am I missing here?\r\n\r\nWhen I write the object to json string I get:\r\n{&quot;rlType&quot;:[&quot;B&quot;,&quot;X&quot;], .. } - why is it array?","title":"Java Json enum deserialization","body":"<p>JSON enum deserialization is not working.</p>\n<p>Interface:</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property=&quot;rlType&quot;\n)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = B.class)\n})\npublic interface IA {\n}\n</code></pre>\n<p>B class</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NONE)\npublic enum B implements IA {\n    X,\n    Y,\n    Z\n}\n</code></pre>\n<p>Settings</p>\n<pre><code>public record Settings(IA rlType, int myint1, int myint2) {}\n</code></pre>\n<p>Here is a unit test of how i want to use it:</p>\n<pre><code>@Test\nvoid testDeserialization() throws Exception {\n        String json = &quot;&quot;&quot;\n            {\n                &quot;rlType&quot;: &quot;X&quot;,\n                &quot;myint1&quot;: 5,\n                &quot;myint2&quot;: 10\n            }\n        &quot;&quot;&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        RateLimiterSettings settings = objectMapper.readValue(json, Settings.class);\n</code></pre>\n<p>I'm getting the following error:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not\nresolve subtype of [simple type, class IA]: missing type id property\n'tlType' (for POJO property 'rlType')  at [Source: (String)&quot;    {\n&quot;rlType&quot;: &quot;X&quot;,\n&quot;myint1&quot;: 5,\n&quot;myint2&quot;: 10\n} &quot;; line: 2, column: 19] (through reference chain: Settings[&quot;rlType&quot;])</p>\n</blockquote>\n<p>I tried to use <code>Settings(**B** rlType, int myint1, int myint2)</code> and it worked but I want to do that with the interface.\nWhat am I missing here?</p>\n<p>When I write the object to json string I get:\n{&quot;rlType&quot;:[&quot;B&quot;,&quot;X&quot;], .. } - why is it array?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692167738,"creation_date":1692167738,"answer_id":76911052,"question_id":76908078,"body_markdown":"Here are some other &quot;tricks&quot; that might be sufficient:\r\n\r\n- If your queries are always `SELECT` queries, you could wrap them in a derived table like `SELECT * FROM (...) t WHERE false`. This probably helps cover 95% of all syntaxes, and most optimisers should be smart enough to avoid running the derived table (do check). Some caveats:\r\n  - `FOR UPDATE` clauses and other similar `SELECT` features won&#39;t work this way\r\n  - The derived table isn&#39;t allowed to project the same column name multiple times\r\n- Use [jOOQ&#39;s SQL parser][1] to parse your query. It can parse a lot of SQL, though obviously not everything, so you might run into parser limitations for perfectly fine vendor specific SQL\r\n- Run your query against a dummy schema / database in your actual RDBMS. If you are certain that your plain SQL template doesn&#39;t access your production schema directly, then using a different database on the same instance with the same logical schema could help validate the query without any performance issues, as you wouldn&#39;t have any data.\r\n- Run your query against a dummy RDBMS instance, e.g. run from docker. You could even spin it up on the fly using [testcontainers][2]. It is likely you already have (or soon will have) an integration test setup using testcontainers anyway, so you could simply re-use that to some extent.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\r\n  [2]: https://testcontainers.com","title":"How to check if a Query is VALID or not using JOOQ?","body":"<p>Here are some other &quot;tricks&quot; that might be sufficient:</p>\n<ul>\n<li>If your queries are always <code>SELECT</code> queries, you could wrap them in a derived table like <code>SELECT * FROM (...) t WHERE false</code>. This probably helps cover 95% of all syntaxes, and most optimisers should be smart enough to avoid running the derived table (do check). Some caveats:\n<ul>\n<li><code>FOR UPDATE</code> clauses and other similar <code>SELECT</code> features won't work this way</li>\n<li>The derived table isn't allowed to project the same column name multiple times</li>\n</ul>\n</li>\n<li>Use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\" rel=\"nofollow noreferrer\">jOOQ's SQL parser</a> to parse your query. It can parse a lot of SQL, though obviously not everything, so you might run into parser limitations for perfectly fine vendor specific SQL</li>\n<li>Run your query against a dummy schema / database in your actual RDBMS. If you are certain that your plain SQL template doesn't access your production schema directly, then using a different database on the same instance with the same logical schema could help validate the query without any performance issues, as you wouldn't have any data.</li>\n<li>Run your query against a dummy RDBMS instance, e.g. run from docker. You could even spin it up on the fly using <a href=\"https://testcontainers.com\" rel=\"nofollow noreferrer\">testcontainers</a>. It is likely you already have (or soon will have) an integration test setup using testcontainers anyway, so you could simply re-use that to some extent.</li>\n</ul>\n"}],"owner":{"account_id":1931674,"reputation":529,"user_id":1740939,"accept_rate":69,"display_name":"Philipp Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76911052,"answer_count":1,"score":1,"last_activity_date":1692167738,"creation_date":1692121457,"question_id":76908078,"body_markdown":"I am using the Framework Jooq in the persistence layer of my Java application and I would like to allow a part of a condition of a specific select query to be created via [plain SQL API][1] in a certain context. The string that makes up the plain SQL part is to be saved at a certain point in runtime and the query is to be executed at a later point in time va a background job.\r\n\r\nIs there a way to verify that a Jooq query can be executed without error without actually executing it? For example, I have found \r\n\r\n    ctx.explain(query)\r\n\r\nwhich I could use as a workaround, but actually I don&#39;t want to execute explain. Is there an alternative to this?\r\n\r\nThank you very much.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/","title":"How to check if a Query is VALID or not using JOOQ?","body":"<p>I am using the Framework Jooq in the persistence layer of my Java application and I would like to allow a part of a condition of a specific select query to be created via <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/\" rel=\"nofollow noreferrer\">plain SQL API</a> in a certain context. The string that makes up the plain SQL part is to be saved at a certain point in runtime and the query is to be executed at a later point in time va a background job.</p>\n<p>Is there a way to verify that a Jooq query can be executed without error without actually executing it? For example, I have found</p>\n<pre><code>ctx.explain(query)\n</code></pre>\n<p>which I could use as a workaround, but actually I don't want to execute explain. Is there an alternative to this?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator","spring-retry"],"answers":[{"comments":[{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1642284619,"post_id":70716375,"comment_id":125031605,"body_markdown":"I do, actually. Otherwise bootstrap.yml is not read.","body":"I do, actually. Otherwise bootstrap.yml is not read."}],"tags":[],"owner":{"account_id":15487722,"reputation":55,"user_id":11227589,"display_name":"kemalturgul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642405667,"creation_date":1642193417,"answer_id":70716375,"question_id":70650793,"body_markdown":"You do not need to add below dependency on complete/configuration-client module since you have already added spring-cloud-starter-config.\r\n\r\n```implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;```\r\n\r\n\r\nYou can add your configurations to application.properties file complete/configuration-client like below:\r\n\r\n```spring.application.name=a-bootiful-client\r\nspring.config.import=optional:configserver:http://localhost:8888/\r\nmanagement.endpoints.web.exposure.include=*\r\n\r\nlogging.level.root=debug\r\n\r\nspring.cloud.config.fail-fast=true\r\nspring.cloud.config.uri=http://localhost:8888\r\nspring.cloud.config.enabled=true\r\n\r\nspring.cloud.config.retry.initial-interval=2500\r\nspring.cloud.config.retry.max-attempts=10\r\nspring.cloud.config.retry.max-interval=7000\r\nspring.cloud.config.retry.multiplier=1.5\r\n```\r\n\r\n***bootstrap.yml*** is config file for *spring-cloud-starter-bootstrap* but you do not need this dependency and this config file.\r\nI tested it and worked for me.","title":"Spring bootstrap + retry + actuator refresh fails the attempt","body":"<p>You do not need to add below dependency on complete/configuration-client module since you have already added spring-cloud-starter-config.</p>\n<p><code>implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap'</code></p>\n<p>You can add your configurations to application.properties file complete/configuration-client like below:</p>\n<pre><code>spring.config.import=optional:configserver:http://localhost:8888/\nmanagement.endpoints.web.exposure.include=*\n\nlogging.level.root=debug\n\nspring.cloud.config.fail-fast=true\nspring.cloud.config.uri=http://localhost:8888\nspring.cloud.config.enabled=true\n\nspring.cloud.config.retry.initial-interval=2500\nspring.cloud.config.retry.max-attempts=10\nspring.cloud.config.retry.max-interval=7000\nspring.cloud.config.retry.multiplier=1.5\n</code></pre>\n<p><em><strong>bootstrap.yml</strong></em> is config file for <em>spring-cloud-starter-bootstrap</em> but you do not need this dependency and this config file.\nI tested it and worked for me.</p>\n"},{"comments":[{"owner":{"account_id":6613027,"reputation":788,"user_id":5107365,"display_name":"Raj"},"score":1,"creation_date":1664352781,"post_id":70898282,"comment_id":130449396,"body_markdown":"Got any solution to your this problem with JDK17 ?","body":"Got any solution to your this problem with JDK17 ?"}],"tags":[],"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643393045,"creation_date":1643393045,"answer_id":70898282,"question_id":70650793,"body_markdown":"The problem was in Java version. It disappeared when I switched from Java 16 to Java 8.","title":"Spring bootstrap + retry + actuator refresh fails the attempt","body":"<p>The problem was in Java version. It disappeared when I switched from Java 16 to Java 8.</p>\n"},{"tags":[],"owner":{"account_id":1557966,"reputation":3735,"user_id":1448509,"accept_rate":38,"display_name":"Olga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655301234,"creation_date":1655301234,"answer_id":72632730,"question_id":70650793,"body_markdown":"Another workaround is add the following JVM option. Likely the reason is stricter visibility rules for Java Module System.\r\n\r\n&gt; --add-opens java.base/java.lang=ALL-UNNAMED\r\n","title":"Spring bootstrap + retry + actuator refresh fails the attempt","body":"<p>Another workaround is add the following JVM option. Likely the reason is stricter visibility rules for Java Module System.</p>\n<blockquote>\n<p>--add-opens java.base/java.lang=ALL-UNNAMED</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687382145,"post_id":76508783,"comment_id":134930705,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76508783/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18104797,"reputation":3,"user_id":13162200,"display_name":"Surya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687194858,"creation_date":1687194858,"answer_id":76508783,"question_id":70650793,"body_markdown":"For me\r\n\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;\r\n\r\nthis guy caused so much nightmare for me.I have maintained the configs in application.properties as opposed to bootstrap.yml, so no need to add above dependency. If its in classpath, when you hit actuator/refresh, spring will use LegacyContextRefresher instead of  ConfigDataContextRefresher. What was happening in case of LegacyContextRefresher , the envrionment variable internally used as StandardEnvironment instead of ApplicationServletEnvironment, so properties are not getting read from application.properties.","title":"Spring bootstrap + retry + actuator refresh fails the attempt","body":"<p>For me</p>\n<p>implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap'</p>\n<p>this guy caused so much nightmare for me.I have maintained the configs in application.properties as opposed to bootstrap.yml, so no need to add above dependency. If its in classpath, when you hit actuator/refresh, spring will use LegacyContextRefresher instead of  ConfigDataContextRefresher. What was happening in case of LegacyContextRefresher , the envrionment variable internally used as StandardEnvironment instead of ApplicationServletEnvironment, so properties are not getting read from application.properties.</p>\n"}],"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70898282,"answer_count":4,"score":4,"last_activity_date":1692167523,"creation_date":1641809847,"question_id":70650793,"body_markdown":"Here is the Spring repo that was used as a reference (same happened to my project): https://github.com/spring-guides/gs-centralized-configuration.git\r\n\r\nIf I add these dependencies to `complete/configuration-client` module\r\n```\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;\r\nimplementation &#39;org.springframework:spring-aspects&#39;\r\nimplementation &#39;org.springframework.retry:spring-retry&#39;\r\n```\r\nAdd such `bootstrap.yml` to the same module:\r\n```yml\r\nspring:\r\n  cloud:\r\n    config:\r\n      enabled: true\r\n      uri: http://localhost:8888\r\n      retry:\r\n        initial-interval: 2500\r\n        max-attempts: 10\r\n        max-interval: 7000\r\n        multiplier: 1.5\r\n      fail-fast: true # line 1\r\n```\r\n\r\nAnd if I launch config server (`complete/configuration-service`) and the client with above configuration, I will not be able to refresh the client via `actuator/refresh` endpoint. I am getting the following error:\r\n```\r\n2022-01-10 12:11:55.412 ERROR 6868 --- [nio-8090-exec-1] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configServicePropertySource&#39; defined in class path resource [org/springframework/cloud/config/client/ConfigServiceBootstrapConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.cloud.config.client.ConfigServicePropertySourceLocator: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:610) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:197) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:114) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:77) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:362) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:320) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.cloud.context.refresh.LegacyContextRefresher.addConfigFilesToEnvironment(LegacyContextRefresher.java:60) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.context.refresh.LegacyContextRefresher.updateEnvironment(LegacyContextRefresher.java:46) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.context.refresh.ContextRefresher.refreshEnvironment(ContextRefresher.java:90) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.context.refresh.ContextRefresher.refresh(ContextRefresher.java:83) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.endpoint.RefreshEndpoint.refresh(RefreshEndpoint.java:41) ~[spring-cloud-context-3.0.0.jar:3.0.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:290) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:373) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.cloud.config.client.ConfigServicePropertySourceLocator: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:209) ~[spring-aop-5.3.4.jar:5.3.4]\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.4.jar:5.3.4]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:461) ~[spring-aop-5.3.4.jar:5.3.4]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:340) ~[spring-aop-5.3.4.jar:5.3.4]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:289) ~[spring-aop-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:437) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\t... 97 common frames omitted\r\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:578) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.3.4.jar:5.3.4]\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.3.4.jar:5.3.4]\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:206) ~[spring-aop-5.3.4.jar:5.3.4]\r\n\t... 104 common frames omitted\r\nCaused by: java.lang.LinkageError: loader &#39;app&#39; attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader &#39;app&#39;)\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2193) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2446) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2423) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1850) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:575) ~[spring-core-5.3.4.jar:5.3.4]\r\n\t... 118 common frames omitted\r\n```\r\n\r\nAnd if I remove `line 1` in `bootstrap.yml`, refresh attempt is successful.\r\n\r\nIs there any mistake in Spring retry usage?","title":"Spring bootstrap + retry + actuator refresh fails the attempt","body":"<p>Here is the Spring repo that was used as a reference (same happened to my project): <a href=\"https://github.com/spring-guides/gs-centralized-configuration.git\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-centralized-configuration.git</a></p>\n<p>If I add these dependencies to <code>complete/configuration-client</code> module</p>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap'\nimplementation 'org.springframework:spring-aspects'\nimplementation 'org.springframework.retry:spring-retry'\n</code></pre>\n<p>Add such <code>bootstrap.yml</code> to the same module:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    config:\n      enabled: true\n      uri: http://localhost:8888\n      retry:\n        initial-interval: 2500\n        max-attempts: 10\n        max-interval: 7000\n        multiplier: 1.5\n      fail-fast: true # line 1\n</code></pre>\n<p>And if I launch config server (<code>complete/configuration-service</code>) and the client with above configuration, I will not be able to refresh the client via <code>actuator/refresh</code> endpoint. I am getting the following error:</p>\n<pre><code>2022-01-10 12:11:55.412 ERROR 6868 --- [nio-8090-exec-1] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configServicePropertySource' defined in class path resource [org/springframework/cloud/config/client/ConfigServiceBootstrapConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.cloud.config.client.ConfigServicePropertySourceLocator: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader 'app')\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:610) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:197) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:114) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:77) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63) ~[spring-boot-2.4.3.jar:2.4.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:362) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:320) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.cloud.context.refresh.LegacyContextRefresher.addConfigFilesToEnvironment(LegacyContextRefresher.java:60) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.context.refresh.LegacyContextRefresher.updateEnvironment(LegacyContextRefresher.java:46) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.context.refresh.ContextRefresher.refreshEnvironment(ContextRefresher.java:90) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.context.refresh.ContextRefresher.refresh(ContextRefresher.java:83) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.endpoint.RefreshEndpoint.refresh(RefreshEndpoint.java:41) ~[spring-cloud-context-3.0.0.jar:3.0.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\n    at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:290) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\n    at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:373) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.3.jar:2.4.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.cloud.config.client.ConfigServicePropertySourceLocator: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader 'app')\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:209) ~[spring-aop-5.3.4.jar:5.3.4]\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.4.jar:5.3.4]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:461) ~[spring-aop-5.3.4.jar:5.3.4]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:340) ~[spring-aop-5.3.4.jar:5.3.4]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:289) ~[spring-aop-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:437) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.4.jar:5.3.4]\n    ... 97 common frames omitted\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader 'app')\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:578) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.3.4.jar:5.3.4]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.3.4.jar:5.3.4]\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.3.4.jar:5.3.4]\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:206) ~[spring-aop-5.3.4.jar:5.3.4]\n    ... 104 common frames omitted\nCaused by: java.lang.LinkageError: loader 'app' attempted duplicate class definition for org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf. (org.springframework.cloud.config.client.ConfigServicePropertySourceLocator$$EnhancerBySpringCGLIB$$d7f246cf is in unnamed module of loader 'app')\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\n    at java.base/java.lang.System$2.defineClass(System.java:2193) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2446) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2423) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1850) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:575) ~[spring-core-5.3.4.jar:5.3.4]\n    ... 118 common frames omitted\n</code></pre>\n<p>And if I remove <code>line 1</code> in <code>bootstrap.yml</code>, refresh attempt is successful.</p>\n<p>Is there any mistake in Spring retry usage?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":6730431,"reputation":103,"user_id":5186979,"display_name":"Murat &#214;ter"},"score":0,"creation_date":1700479309,"post_id":76866061,"comment_id":136655485,"body_markdown":"Why does PackageManager.DONT_KILL_APP cause the close app? Is there any way to do this without closing?","body":"Why does PackageManager.DONT_KILL_APP cause the close app? Is there any way to do this without closing?"}],"tags":[],"owner":{"account_id":18690762,"reputation":31,"user_id":13625137,"display_name":"chetan vaghela"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692166894,"creation_date":1691571100,"answer_id":76866061,"question_id":76865844,"body_markdown":"You can change the App Icon and Name dynamically by following method.\r\n\r\n```\r\n &lt;activity-alias\r\n            android:name=&quot;.SplashActivityAlias1&quot;\r\n            android:enabled=&quot;false&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher_1&quot;\r\n            android:label=&quot;Calculator&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_1&quot;\r\n            android:targetActivity=&quot;.SplashActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity-alias&gt;\r\n        &lt;activity-alias\r\n            android:name=&quot;.SplashActivityAlias2&quot;\r\n            android:enabled=&quot;false&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher_2&quot;\r\n            android:label=&quot;Calculator&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_2&quot;\r\n            android:targetActivity=&quot;.SplashActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity-alias&gt;\r\n\r\n```\r\n\r\nYou have to add Multiple Alias for Laucher activity as many Icons you want to change. Like this. \r\n\r\n```\r\nval pm = packageManager\r\n                            pm.setComponentEnabledSetting(\r\n                                ComponentName(\r\n                                    this,\r\n                                    &quot;com.photovideolocker.SplashActivity&quot;\r\n                                ),\r\n                                PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\r\n                                PackageManager.DONT_KILL_APP\r\n                            )\r\n                            pm.setComponentEnabledSetting(\r\n                                ComponentName(\r\n                                    this,\r\n                                    &quot;com.photovideolocker.SplashActivityAlias1&quot;\r\n                                ),\r\n                                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\r\n                                PackageManager.DONT_KILL_APP\r\n                            )\r\n                            pm.setComponentEnabledSetting(\r\n                                ComponentName(\r\n                                    this,\r\n                                    &quot;com.photovideolocker.SplashActivityAlias2&quot;\r\n                                ),\r\n                                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\r\n                                PackageManager.DONT_KILL_APP\r\n                            )\r\n\r\n```\r\n\r\nYou can enable and disable the icon you want to set by this method.\r\n","title":"Changing the application icon dynamically with activity alias","body":"<p>You can change the App Icon and Name dynamically by following method.</p>\n<pre><code> &lt;activity-alias\n            android:name=&quot;.SplashActivityAlias1&quot;\n            android:enabled=&quot;false&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@mipmap/ic_launcher_1&quot;\n            android:label=&quot;Calculator&quot;\n            android:roundIcon=&quot;@mipmap/ic_launcher_1&quot;\n            android:targetActivity=&quot;.SplashActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n        &lt;activity-alias\n            android:name=&quot;.SplashActivityAlias2&quot;\n            android:enabled=&quot;false&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@mipmap/ic_launcher_2&quot;\n            android:label=&quot;Calculator&quot;\n            android:roundIcon=&quot;@mipmap/ic_launcher_2&quot;\n            android:targetActivity=&quot;.SplashActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n\n</code></pre>\n<p>You have to add Multiple Alias for Laucher activity as many Icons you want to change. Like this.</p>\n<pre><code>val pm = packageManager\n                            pm.setComponentEnabledSetting(\n                                ComponentName(\n                                    this,\n                                    &quot;com.photovideolocker.SplashActivity&quot;\n                                ),\n                                PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\n                                PackageManager.DONT_KILL_APP\n                            )\n                            pm.setComponentEnabledSetting(\n                                ComponentName(\n                                    this,\n                                    &quot;com.photovideolocker.SplashActivityAlias1&quot;\n                                ),\n                                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\n                                PackageManager.DONT_KILL_APP\n                            )\n                            pm.setComponentEnabledSetting(\n                                ComponentName(\n                                    this,\n                                    &quot;com.photovideolocker.SplashActivityAlias2&quot;\n                                ),\n                                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\n                                PackageManager.DONT_KILL_APP\n                            )\n\n</code></pre>\n<p>You can enable and disable the icon you want to set by this method.</p>\n"}],"owner":{"account_id":29190258,"reputation":1,"user_id":22362527,"display_name":"H&#252;seyin Cnb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692167028,"creation_date":1691569192,"question_id":76865844,"body_markdown":"I have two icons in the API, and I want the application icon to be the 1st icon from the API when Button 1 is pressed, and the 2nd icon from the API when Button 2 is pressed. How can I achieve this?\r\n\r\nI couldn&#39;t achieve it using the API, but I managed to save the local icons and use them with aliases.\r\n\r\n```\r\n&lt;activity-alias\r\n            android:name=&quot;OneLauncherAlias&quot;\r\n            android:targetActivity=&quot;.MainActivity&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher_verisoft1&quot;\r\n            android:label=&quot;@string/verisoft_name&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;&gt;&lt;/action&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;&gt;&lt;/category&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity-alias&gt;\r\n```\r\n\r\n","title":"Changing the application icon dynamically with activity alias","body":"<p>I have two icons in the API, and I want the application icon to be the 1st icon from the API when Button 1 is pressed, and the 2nd icon from the API when Button 2 is pressed. How can I achieve this?</p>\n<p>I couldn't achieve it using the API, but I managed to save the local icons and use them with aliases.</p>\n<pre><code>&lt;activity-alias\n            android:name=&quot;OneLauncherAlias&quot;\n            android:targetActivity=&quot;.MainActivity&quot;\n            android:icon=&quot;@mipmap/ic_launcher_verisoft1&quot;\n            android:label=&quot;@string/verisoft_name&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;&gt;&lt;/action&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;&gt;&lt;/category&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n</code></pre>\n"},{"tags":["java","linux","redisson","oom"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692195267,"post_id":76910960,"comment_id":135591063,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26587623,"reputation":1,"user_id":20211325,"display_name":"luochen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692166985,"creation_date":1692166985,"question_id":76910960,"body_markdown":"This is the oomkill log for linux\r\nAug 16 13:37:15 node-172020002225 kernel: redisson-netty- invoked oom-killer: gfp_mask=0x6000c0(GFP_KERNEL), nodemask=(null), order=0, oom_score_adj=-997\r\nAug 16 13:37:15 node-172020002225 kernel:  oom_kill_process+0x219/0x310\r\nAug 16 13:37:15 node-172020002225 kernel: [  pid  ]   uid  tgid total_vm      rss pgtables_bytes swapents oom_score_adj name\r\nAug 16 13:37:15 node-172020002225 kernel: oom_reaper: reaped process 105600 (java), now anon-rss:0kB, file-rss:0kB, shmem-rss:0kB\r\nBut at the time of the memory snapshot, there was one gigabyte of heap memory free, and a total of eight gigabytes of system memory and one gigabyte unused. Should not trigger oomkill。\r\nMaybe it&#39;s Redisson&#39;s bug?\r\n\r\nMaybe it&#39;s Redisson&#39;s bug?\r\nThe physical memory is 8GB in total, with 5GB allocated to the heap memory. At the time of the memory snapshot, there was still 1GB of free space in the heap memory, and the physical memory was fully utilized, occupying a total of 7GB.","title":"redisson-netty- invoked oom-killer","body":"<p>This is the oomkill log for linux\nAug 16 13:37:15 node-172020002225 kernel: redisson-netty- invoked oom-killer: gfp_mask=0x6000c0(GFP_KERNEL), nodemask=(null), order=0, oom_score_adj=-997\nAug 16 13:37:15 node-172020002225 kernel:  oom_kill_process+0x219/0x310\nAug 16 13:37:15 node-172020002225 kernel: [  pid  ]   uid  tgid total_vm      rss pgtables_bytes swapents oom_score_adj name\nAug 16 13:37:15 node-172020002225 kernel: oom_reaper: reaped process 105600 (java), now anon-rss:0kB, file-rss:0kB, shmem-rss:0kB\nBut at the time of the memory snapshot, there was one gigabyte of heap memory free, and a total of eight gigabytes of system memory and one gigabyte unused. Should not trigger oomkill。\nMaybe it's Redisson's bug?</p>\n<p>Maybe it's Redisson's bug?\nThe physical memory is 8GB in total, with 5GB allocated to the heap memory. At the time of the memory snapshot, there was still 1GB of free space in the heap memory, and the physical memory was fully utilized, occupying a total of 7GB.</p>\n"},{"tags":["java","json","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1692168082,"post_id":76910925,"comment_id":135585454,"body_markdown":"Short answer is that neither Hibernate nor JPA  handle recursion.   If your database handles it (eg Oracle’s CONNECT BY ) you could use a native query.  Otherwise you could try the ideas here : https://stackoverflow.com/a/3639538/681444","body":"Short answer is that neither Hibernate nor JPA  handle recursion.   If your database handles it (eg Oracle’s CONNECT BY ) you could use a native query.  Otherwise you could try the ideas here : <a href=\"https://stackoverflow.com/a/3639538/681444\">stackoverflow.com/a/3639538/681444</a>"}],"owner":{"account_id":18943456,"reputation":1,"user_id":18794403,"display_name":"Alexey Pavlovskiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692166611,"creation_date":1692166492,"question_id":76910925,"body_markdown":"A simple rest api application, where json of this format is received at the endpoint. Let&#39;s call the main object &#39;unload type&#39;, the enrich field in this object contains the same objects, in fact, the nesting can be deep. Using JdbcTemplate, I used my sql query and collected everything in the application, but this is a voluminous solution. I would like to bring everything to the hibernate level. How can I work with such nesting?\r\n\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;SCHEMA_NAME&quot;,\r\n    &quot;isMandatory&quot;: &quot;Y&quot;,\r\n    &quot;default&quot;: &quot;&quot;,\r\n    &quot;description&quot;: &quot;description more&quot;,\r\n    &quot;choose&quot;: [],\r\n    &quot;enrich&quot;: {},\r\n    &quot;exclude&quot;: {}\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;TABLE_NAME&quot;,\r\n    &quot;isMandatory&quot;: &quot;Y&quot;,\r\n    &quot;default&quot;: &quot;&quot;,\r\n    &quot;description&quot;: &quot;description more&quot;,\r\n    &quot;choose&quot;: [\r\n      &quot;ARC&quot;,\r\n      &quot;INC&quot;\r\n    ],\r\n    &quot;enrich&quot;: {\r\n      &quot;INC&quot;: [\r\n        {\r\n          &quot;id&quot;: 3,\r\n          &quot;name&quot;: &quot;STAT_ID&quot;,\r\n          &quot;isMandatory&quot;: &quot;Y&quot;,\r\n          &quot;default&quot;: &quot;1&quot;,\r\n          &quot;description&quot;: &quot;description more&quot;,\r\n          &quot;choose&quot;: [],\r\n          &quot;enrich&quot;: {},\r\n          &quot;exclude&quot;: {}\r\n        },\r\n        {\r\n          &quot;id&quot;: 4,\r\n          &quot;name&quot;: &quot;STAT_ENTITY_ID&quot;,\r\n          &quot;isMandatory&quot;: &quot;Y&quot;,\r\n          &quot;default&quot;: &quot;&quot;,\r\n          &quot;description&quot;: &quot;description more&quot;,\r\n          &quot;choose&quot;: [],\r\n          &quot;enrich&quot;: {},\r\n          &quot;exclude&quot;: {}\r\n        }\r\n      ]\r\n    },\r\n    &quot;exclude&quot;: {\r\n      &quot;FALSE&quot;: [\r\n        &quot;ISHEADERDEFAULT&quot;\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    &quot;id&quot;: 5,\r\n    &quot;name&quot;: &quot;SCHEMA_NAME&quot;,\r\n    &quot;isMandatory&quot;: &quot;Y&quot;,\r\n    &quot;default&quot;: &quot;&quot;,\r\n    &quot;description&quot;: &quot;description more&quot;,\r\n    &quot;choose&quot;: [],\r\n    &quot;enrich&quot;: {},\r\n    &quot;exclude&quot;: {}\r\n  }\r\n]\r\n```\r\n\r\n\r\nI am waiting for help in the direction of a solution. Spring, hibernate + jpa, java.","title":"Recursive entities and hibernate + jpa for entity communication. Help me figure it out","body":"<p>A simple rest api application, where json of this format is received at the endpoint. Let's call the main object 'unload type', the enrich field in this object contains the same objects, in fact, the nesting can be deep. Using JdbcTemplate, I used my sql query and collected everything in the application, but this is a voluminous solution. I would like to bring everything to the hibernate level. How can I work with such nesting?</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;SCHEMA_NAME&quot;,\n    &quot;isMandatory&quot;: &quot;Y&quot;,\n    &quot;default&quot;: &quot;&quot;,\n    &quot;description&quot;: &quot;description more&quot;,\n    &quot;choose&quot;: [],\n    &quot;enrich&quot;: {},\n    &quot;exclude&quot;: {}\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;TABLE_NAME&quot;,\n    &quot;isMandatory&quot;: &quot;Y&quot;,\n    &quot;default&quot;: &quot;&quot;,\n    &quot;description&quot;: &quot;description more&quot;,\n    &quot;choose&quot;: [\n      &quot;ARC&quot;,\n      &quot;INC&quot;\n    ],\n    &quot;enrich&quot;: {\n      &quot;INC&quot;: [\n        {\n          &quot;id&quot;: 3,\n          &quot;name&quot;: &quot;STAT_ID&quot;,\n          &quot;isMandatory&quot;: &quot;Y&quot;,\n          &quot;default&quot;: &quot;1&quot;,\n          &quot;description&quot;: &quot;description more&quot;,\n          &quot;choose&quot;: [],\n          &quot;enrich&quot;: {},\n          &quot;exclude&quot;: {}\n        },\n        {\n          &quot;id&quot;: 4,\n          &quot;name&quot;: &quot;STAT_ENTITY_ID&quot;,\n          &quot;isMandatory&quot;: &quot;Y&quot;,\n          &quot;default&quot;: &quot;&quot;,\n          &quot;description&quot;: &quot;description more&quot;,\n          &quot;choose&quot;: [],\n          &quot;enrich&quot;: {},\n          &quot;exclude&quot;: {}\n        }\n      ]\n    },\n    &quot;exclude&quot;: {\n      &quot;FALSE&quot;: [\n        &quot;ISHEADERDEFAULT&quot;\n      ]\n    }\n  },\n  {\n    &quot;id&quot;: 5,\n    &quot;name&quot;: &quot;SCHEMA_NAME&quot;,\n    &quot;isMandatory&quot;: &quot;Y&quot;,\n    &quot;default&quot;: &quot;&quot;,\n    &quot;description&quot;: &quot;description more&quot;,\n    &quot;choose&quot;: [],\n    &quot;enrich&quot;: {},\n    &quot;exclude&quot;: {}\n  }\n]\n</code></pre>\n<p>I am waiting for help in the direction of a solution. Spring, hibernate + jpa, java.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","token","pre-signed-url"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1692167163,"post_id":76910903,"comment_id":135585315,"body_markdown":"EC2 credentials are not valid for 36 hours and therefore a presigned url they create cannot be valid for that long. If you need a presigned url with that expiration you would need long lived credentials.","body":"EC2 credentials are not valid for 36 hours and therefore a presigned url they create cannot be valid for that long. If you need a presigned url with that expiration you would need long lived credentials."},{"owner":{"account_id":16367667,"reputation":11,"user_id":11821695,"display_name":"HotTime11"},"score":0,"creation_date":1692167671,"post_id":76910903,"comment_id":135585392,"body_markdown":"The official documentation states that using the sts policy, pre-signed urls can be maintained for up to 36 hours.\n\nWhat are long-lived credentials?","body":"The official documentation states that using the sts policy, pre-signed urls can be maintained for up to 36 hours.  What are long-lived credentials?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1692169893,"post_id":76910903,"comment_id":135585757,"body_markdown":"IAM user access + secret keys are long-lived, everything else can at max be valid for 12 hours.","body":"IAM user access + secret keys are long-lived, everything else can at max be valid for 12 hours."}],"owner":{"account_id":16367667,"reputation":11,"user_id":11821695,"display_name":"HotTime11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692166189,"creation_date":1692166189,"question_id":76910903,"body_markdown":"I set the pre-signed url&#39;s expiration to 36 hours (sts max time), but I get the error &quot;the provided token has expired&quot;.\r\n\r\nThe credentials are being supplied with the ec2 instance profile and the STS temporary accesskey issued starts with ASIA.\r\n\r\n\r\n\r\nI am generating presigned-url with JAVA.\r\n\r\nIn the local environment (accesskey starting with AKIA), we confirmed that the pre-signed url normally expires after 36 hours without token expiration.\r\n\r\nPlease reply if you know how to solve the token has expired error.","title":"AWS S3 Pre-Signed URL &quot;the provided token has expired&quot; error","body":"<p>I set the pre-signed url's expiration to 36 hours (sts max time), but I get the error &quot;the provided token has expired&quot;.</p>\n<p>The credentials are being supplied with the ec2 instance profile and the STS temporary accesskey issued starts with ASIA.</p>\n<p>I am generating presigned-url with JAVA.</p>\n<p>In the local environment (accesskey starting with AKIA), we confirmed that the pre-signed url normally expires after 36 hours without token expiration.</p>\n<p>Please reply if you know how to solve the token has expired error.</p>\n"},{"tags":["java","database","oracle","logging","stored-procedures"],"answers":[{"comments":[{"owner":{"account_id":1294484,"reputation":1311,"user_id":1245910,"accept_rate":59,"display_name":"User 4.5.5"},"score":0,"creation_date":1338371255,"post_id":10811863,"comment_id":14073313,"body_markdown":"getting error as  &quot; Fail to construct descriptor: Unable to resolve type: &quot;SYSTEM.EXTRACTION_LOG_TYPE&quot; &quot;","body":"getting error as  &quot; Fail to construct descriptor: Unable to resolve type: &quot;SYSTEM.EXTRACTION_LOG_TYPE&quot; &quot;"},{"owner":{"account_id":1294484,"reputation":1311,"user_id":1245910,"accept_rate":59,"display_name":"User 4.5.5"},"score":0,"creation_date":1338371341,"post_id":10811863,"comment_id":14073353,"body_markdown":"i have that in my database but throwing this exception.","body":"i have that in my database but throwing this exception."},{"owner":{"account_id":905208,"reputation":2437,"user_id":940246,"accept_rate":65,"display_name":"sebastian"},"score":0,"creation_date":1338378592,"post_id":10811863,"comment_id":14076272,"body_markdown":"@Jeevan Is the type EXTRACTION_LOG_TYPE part of the schema SYSTEM? Where do you create the type? In a package?","body":"@Jeevan Is the type EXTRACTION_LOG_TYPE part of the schema SYSTEM? Where do you create the type? In a package?"},{"owner":{"account_id":905208,"reputation":2437,"user_id":940246,"accept_rate":65,"display_name":"sebastian"},"score":0,"creation_date":1338379565,"post_id":10811863,"comment_id":14076685,"body_markdown":"@Jeevan may be it works with ArrayDescriptor.createDescriptor(&quot;SYSTEM.EXTRACTION_LOG_TYPE&quot;, con);","body":"@Jeevan may be it works with ArrayDescriptor.createDescriptor(&quot;SYSTEM.EXTRACTION_LOG_TYPE&zwnj;&#8203;&quot;, con);"},{"owner":{"account_id":1294484,"reputation":1311,"user_id":1245910,"accept_rate":59,"display_name":"User 4.5.5"},"score":0,"creation_date":1338436155,"post_id":10811863,"comment_id":14094880,"body_markdown":"No Luck. Still the same exception","body":"No Luck. Still the same exception"}],"tags":[],"owner":{"account_id":905208,"reputation":2437,"user_id":940246,"accept_rate":65,"display_name":"sebastian"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338363134,"creation_date":1338363134,"answer_id":10811863,"question_id":10810563,"body_markdown":"You will have to define a array descriptor for your database type, this example could help you:\r\n\r\n    final ArrayDescriptor descriptor = ArrayDescriptor.createDescriptor(&quot;EXTRACTION_LOG_TYPE&quot;, con);\r\n    // create an Object Array\r\n    Object[] data = new Object[2];\r\n    // set the values in order of appearance\r\n    data[0] = elt.getUSER_NAME();\r\n    data[1] = elt.getR_OBJECT_ID();\r\n    // Create the Array\r\n    ARRAY array = new ARRAY(descriptor, con, data);\r\n    // put it on your statement\r\n    cs.setArray(1, array);\r\n    // execute ...","title":"how to pass a java object to oracle stored procedure with following details","body":"<p>You will have to define a array descriptor for your database type, this example could help you:</p>\n\n<pre><code>final ArrayDescriptor descriptor = ArrayDescriptor.createDescriptor(\"EXTRACTION_LOG_TYPE\", con);\n// create an Object Array\nObject[] data = new Object[2];\n// set the values in order of appearance\ndata[0] = elt.getUSER_NAME();\ndata[1] = elt.getR_OBJECT_ID();\n// Create the Array\nARRAY array = new ARRAY(descriptor, con, data);\n// put it on your statement\ncs.setArray(1, array);\n// execute ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4220083,"reputation":499,"user_id":3455071,"accept_rate":50,"display_name":"smoczyna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532326116,"creation_date":1532326116,"answer_id":51472476,"question_id":10810563,"body_markdown":"This is terrible idea to create any objects in SYSTEM schema of the database. It is the same bad idea to connect your app straight to this scheme either. \r\nThis looks like a lack of privileges disallowing you to get what you want. Create new schema, dedicated user of this schema and then create all required object using this new user (it will be the owner of your objects). This way you can avoid &quot;issue&quot; where you cannot access something you supposed to have an access to. ","title":"how to pass a java object to oracle stored procedure with following details","body":"<p>This is terrible idea to create any objects in SYSTEM schema of the database. It is the same bad idea to connect your app straight to this scheme either. \nThis looks like a lack of privileges disallowing you to get what you want. Create new schema, dedicated user of this schema and then create all required object using this new user (it will be the owner of your objects). This way you can avoid \"issue\" where you cannot access something you supposed to have an access to. </p>\n"}],"owner":{"account_id":1294484,"reputation":1311,"user_id":1245910,"accept_rate":59,"display_name":"User 4.5.5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13308,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1692166131,"creation_date":1338356453,"question_id":10810563,"body_markdown":"I have my ORACLE table with structure as \r\n\r\n    desc extraction_log1\r\n               Name                           Null                        \r\n                                                         Type                                                                                                                                                                                          \r\n\r\n     ------------------------------ -------- ------------------------------------------------------------     ----------------------------------------------------------------------------------------------------      ----------------------------- \r\n     ROW_NUM                        NOT NULL            NUMBER                                                                                                                                                                                        \r\n    DATE_TIME                                        TIMESTAMP(8)                                                                                                                                                                                  \r\n    USER_NAME                                         VARCHAR2(32)                                                                                                                                                                                  \r\n    PLATFORM_NAME                                      VARCHAR2(20)                                                                                                                                                                                  \r\n    R_OBJECT_ID                                       VARCHAR2(16)   \r\n    \r\nThen I created an object type in oracle as  \r\n\r\n    create or replace type EXTRACTION_LOG_TYPE as object    (          \r\n\t  \r\n\t USER_NAME VARCHAR2(32), \r\n\t R_OBJECT_ID VARCHAR2(16), \r\n\t \r\n      );\r\n\r\nThen I created procedure in a package as\r\n\r\n    create or replace package body PAC_BEAN is \r\n      --The insert procedure will receive EXTRACTION_LOG_TYPE and put it into table EXTRACTION_LOG1.  \r\n\r\n       procedure PRO_INSERT_LOG(ELT in EXTRACTION_LOG_TYPE) is \r\n\r\n       begin \r\n\r\n          insert into EXTRACTION_LOG1 ( R_OBJECT_ID, USER_NAME)\r\n               values (ELT.R_OBJECT_ID, ELT.USER_NAME);  \r\n\r\n          commit;  \r\n\r\n     exception  \r\n\r\n      when others then \r\n        rollback;  \r\n\r\n      end PRO_INSERT_LOG;  \r\n      end PAC_BEAN; \r\n\r\nand coming to my java side I have declared a bean with\r\n\r\n    public class ExtractionLogType {        \r\n\t        //Name declared in Oracle        \r\n\t   public static final String ORACLE_OBJECT_NAME = &quot;EXTRACTION_LOG_TYPE&quot;;            \r\n\t   //The attributes        \r\n\t  private String  R_OBJECT_ID;        \r\n\t  private String USER_NAME;      \r\n\t  //setters and getters      \r\n\t  public  String getR_OBJECT_ID() {\r\n\t\treturn R_OBJECT_ID;\r\n\t  }\r\n\t  public  void setR_OBJECT_ID(String rOBJECTID) {\r\n\t\tR_OBJECT_ID = rOBJECTID;\r\n\t    }\r\n\t  public  String getUSER_NAME() {\r\n\t\treturn USER_NAME;\r\n\t   }\r\n\t  public  void setUSER_NAME(String uSERNAME) {\r\n\t\tUSER_NAME = uSERNAME;\r\n\t   }\r\n\t\r\n\r\n                } \r\n    \r\nin my Class containing main\r\n\r\n                   import java.sql.CallableStatement;\r\n                   import java.sql.Connection;\r\n                     import java.sql.DriverManager;\r\n                   import java.sql.SQLException;\r\n\r\n                public class DBLogger{     \r\n\t          String dbUrl;     \r\n\t        Connection con;      \r\n\t     //constructor for creation of  connection object \r\n            as and when an object of DBLogger is instantiated     \r\n\t        public DBLogger(){           \r\n\t\tdbUrl = &quot;jdbc:oracle:thin@my url&quot;;        \r\n\t\t     try {             \r\n\t\t\t//load Oracle Driver class             \r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);     \r\n\t\t\t} catch (ClassNotFoundException e) {         \r\n\t\t\t\te.printStackTrace();         \r\n\t\t\t\tSystem.err.println(&quot;Oracle driver class not found&quot;);       \r\n\t\t\t\t}      \r\n\t\t\ttry {         \r\n\t\t\t\t//instantiate connection object       \r\n\t            con = DriverManager.getConnectio (dbUrl,&quot;userId&quot;,&quot;pwd&quot;);                \r\n\t\t\t\t} catch (SQLException e) {      \r\n\t\t\t\t\te.printStackTrace();                       \r\n                  System.err.println(&quot;Connection object to oracle cant be established&quot;);   \r\n\t\t\t\t\t}    \r\n\t\t\t\t} \r\n\t        public static void main(String args[]){  \r\n\t\t try{\r\n\t\tDBLogger db=new DBLogger();        \r\n\t\tCallableStatement cs = null;        \r\n\t\tExtractionLogType elt=new  ExtractionLogType();         \r\n\t\telt.setR_OBJECT_ID(&quot;79479479A900&quot;);       \r\n\t\telt.setUSER_NAME(&quot;Jeevan&quot;);               \r\n\t\tcs = db.con.prepareCall(&quot;{call PAC_BEAN.PRO_INSERT_LOG(?)}&quot;);                \r\n\t\t/*                     \r\n\t\t * *code to insert the above object into our Database               \r\n\t\t *       \r\n\t\t*/\r\n\t\tcs.execute();           \r\n\t\tSystem.out.println(&quot;insert procedure executed successfully&quot;);                  \r\n\t\tdb.con.close();      \r\n\t\t}  //end try  \r\n\tcatch (SQLException e) {      \r\n\t\te.printStackTrace();   }     \r\n\tcatch(Exception e) {             e.printStackTrace();        \r\n\t}   \r\n\t}\r\n\t\r\n           }         \r\n\r\nI can&#39;t figure out the code to make the object get inserted into my database.  \r\ncan anyone suggest me regarding this.\r\n\r\nThank You.","title":"how to pass a java object to oracle stored procedure with following details","body":"<p>I have my ORACLE table with structure as </p>\n\n<pre><code>desc extraction_log1\n           Name                           Null                        \n                                                     Type                                                                                                                                                                                          \n\n ------------------------------ -------- ------------------------------------------------------------     ----------------------------------------------------------------------------------------------------      ----------------------------- \n ROW_NUM                        NOT NULL            NUMBER                                                                                                                                                                                        \nDATE_TIME                                        TIMESTAMP(8)                                                                                                                                                                                  \nUSER_NAME                                         VARCHAR2(32)                                                                                                                                                                                  \nPLATFORM_NAME                                      VARCHAR2(20)                                                                                                                                                                                  \nR_OBJECT_ID                                       VARCHAR2(16)   \n</code></pre>\n\n<p>Then I created an object type in oracle as  </p>\n\n<pre><code>create or replace type EXTRACTION_LOG_TYPE as object    (          \n\n USER_NAME VARCHAR2(32), \n R_OBJECT_ID VARCHAR2(16), \n\n  );\n</code></pre>\n\n<p>Then I created procedure in a package as</p>\n\n<pre><code>create or replace package body PAC_BEAN is \n  --The insert procedure will receive EXTRACTION_LOG_TYPE and put it into table EXTRACTION_LOG1.  \n\n   procedure PRO_INSERT_LOG(ELT in EXTRACTION_LOG_TYPE) is \n\n   begin \n\n      insert into EXTRACTION_LOG1 ( R_OBJECT_ID, USER_NAME)\n           values (ELT.R_OBJECT_ID, ELT.USER_NAME);  \n\n      commit;  \n\n exception  \n\n  when others then \n    rollback;  \n\n  end PRO_INSERT_LOG;  \n  end PAC_BEAN; \n</code></pre>\n\n<p>and coming to my java side I have declared a bean with</p>\n\n<pre><code>public class ExtractionLogType {        \n        //Name declared in Oracle        \n   public static final String ORACLE_OBJECT_NAME = \"EXTRACTION_LOG_TYPE\";            \n   //The attributes        \n  private String  R_OBJECT_ID;        \n  private String USER_NAME;      \n  //setters and getters      \n  public  String getR_OBJECT_ID() {\n    return R_OBJECT_ID;\n  }\n  public  void setR_OBJECT_ID(String rOBJECTID) {\n    R_OBJECT_ID = rOBJECTID;\n    }\n  public  String getUSER_NAME() {\n    return USER_NAME;\n   }\n  public  void setUSER_NAME(String uSERNAME) {\n    USER_NAME = uSERNAME;\n   }\n\n\n            } \n</code></pre>\n\n<p>in my Class containing main</p>\n\n<pre><code>               import java.sql.CallableStatement;\n               import java.sql.Connection;\n                 import java.sql.DriverManager;\n               import java.sql.SQLException;\n\n            public class DBLogger{     \n          String dbUrl;     \n        Connection con;      \n     //constructor for creation of  connection object \n        as and when an object of DBLogger is instantiated     \n        public DBLogger(){           \n    dbUrl = \"jdbc:oracle:thin@my url\";        \n         try {             \n        //load Oracle Driver class             \n        Class.forName(\"oracle.jdbc.driver.OracleDriver\");     \n        } catch (ClassNotFoundException e) {         \n            e.printStackTrace();         \n            System.err.println(\"Oracle driver class not found\");       \n            }      \n        try {         \n            //instantiate connection object       \n            con = DriverManager.getConnectio (dbUrl,\"userId\",\"pwd\");                \n            } catch (SQLException e) {      \n                e.printStackTrace();                       \n              System.err.println(\"Connection object to oracle cant be established\");   \n                }    \n            } \n        public static void main(String args[]){  \n     try{\n    DBLogger db=new DBLogger();        \n    CallableStatement cs = null;        \n    ExtractionLogType elt=new  ExtractionLogType();         \n    elt.setR_OBJECT_ID(\"79479479A900\");       \n    elt.setUSER_NAME(\"Jeevan\");               \n    cs = db.con.prepareCall(\"{call PAC_BEAN.PRO_INSERT_LOG(?)}\");                \n    /*                     \n     * *code to insert the above object into our Database               \n     *       \n    */\n    cs.execute();           \n    System.out.println(\"insert procedure executed successfully\");                  \n    db.con.close();      \n    }  //end try  \ncatch (SQLException e) {      \n    e.printStackTrace();   }     \ncatch(Exception e) {             e.printStackTrace();        \n}   \n}\n\n       }         \n</code></pre>\n\n<p>I can't figure out the code to make the object get inserted into my database.<br>\ncan anyone suggest me regarding this.</p>\n\n<p>Thank You.</p>\n"},{"tags":["java","spring","h2","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":5411899,"reputation":372,"user_id":4308371,"display_name":"Krishnakumar R"},"score":2,"creation_date":1540307729,"post_id":52949164,"comment_id":92812760,"body_markdown":"Thank you. That will suffice and is perfect for my requirement. Amazed at the way people get over things.","body":"Thank you. That will suffice and is perfect for my requirement. Amazed at the way people get over things."},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":2,"creation_date":1554700879,"post_id":52949164,"comment_id":97832430,"body_markdown":"hi , used same code as above , getting error like  &quot;File not found: h2&quot;","body":"hi , used same code as above , getting error like  &quot;File not found: h2&quot;"},{"owner":{"account_id":109456,"reputation":2823,"user_id":3120460,"accept_rate":82,"display_name":"EvilJinious1"},"score":1,"creation_date":1569506982,"post_id":52949164,"comment_id":102626278,"body_markdown":"same issue as @prasannajoshi, &quot;File not found: h2-console&quot;, no exceptions or stack trace","body":"same issue as @prasannajoshi, &quot;File not found: h2-console&quot;, no exceptions or stack trace"},{"owner":{"account_id":1075349,"reputation":249,"user_id":1073634,"display_name":"Rodrigo Ribeiro"},"score":2,"creation_date":1574334340,"post_id":52949164,"comment_id":104200344,"body_markdown":"Remove the url path. It&#39;s accessible on http://localhost:8082","body":"Remove the url path. It&#39;s accessible on <a href=\"http://localhost:8082\" rel=\"nofollow noreferrer\">localhost:8082</a>"},{"owner":{"account_id":4953381,"reputation":490,"user_id":4040483,"accept_rate":100,"display_name":"NMP"},"score":0,"creation_date":1581258091,"post_id":52949164,"comment_id":106362780,"body_markdown":"You can move the start method to your application class and just start it there inside the main() function and it works. Just access localhost:8082","body":"You can move the start method to your application class and just start it there inside the main() function and it works. Just access localhost:8082"},{"owner":{"account_id":12456171,"reputation":339,"user_id":9069309,"display_name":"Cebrail Yilmaz"},"score":0,"creation_date":1602367775,"post_id":52949164,"comment_id":113699436,"body_markdown":"@Sp00m thank you for the great solution. Do you know why this problem happens? It&#39;s interesting.","body":"@Sp00m thank you for the great solution. Do you know why this problem happens? It&#39;s interesting."},{"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"score":0,"creation_date":1612334887,"post_id":52949164,"comment_id":116730882,"body_markdown":"@prasannajoshi don&#39;t add &#39;h2/console&#39; just &quot;http://localhost:8082&quot;","body":"@prasannajoshi don&#39;t add &#39;h2/console&#39; just &quot;<a href=\"http://localhost:8082\" rel=\"nofollow noreferrer\">localhost:8082</a>&quot;"},{"owner":{"account_id":12366930,"reputation":769,"user_id":9018573,"accept_rate":43,"display_name":"AKJ"},"score":0,"creation_date":1620280931,"post_id":52949164,"comment_id":119155022,"body_markdown":"I cannot seem to get it to work, when i hit localhost:8082, i get the following error: &quot;This site can’t be reached&quot;","body":"I cannot seem to get it to work, when i hit localhost:8082, i get the following error: &quot;This site can’t be reached&quot;"}],"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"comment_count":8,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1596445430,"creation_date":1540297847,"answer_id":52949164,"question_id":52949088,"body_markdown":"I had the same issue, I ended up booting the console server manually on another port:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Component\r\n    @Profile(&quot;test&quot;) // &lt;-- up to you\r\n    public class H2 {\r\n\r\n        private org.h2.tools.Server webServer;\r\n\r\n        private org.h2.tools.Server tcpServer;\r\n\r\n        @EventListener(org.springframework.context.event.ContextRefreshedEvent.class)\r\n        public void start() throws java.sql.SQLException {\r\n            this.webServer = org.h2.tools.Server.createWebServer(&quot;-webPort&quot;, &quot;8082&quot;, &quot;-tcpAllowOthers&quot;).start();\r\n            this.tcpServer = org.h2.tools.Server.createTcpServer(&quot;-tcpPort&quot;, &quot;9092&quot;, &quot;-tcpAllowOthers&quot;).start();\r\n        }\r\n\r\n        @EventListener(org.springframework.context.event.ContextClosedEvent.class)\r\n        public void stop() {\r\n            this.tcpServer.stop();\r\n            this.webServer.stop();\r\n        }\r\n\r\n    }\r\n\r\n\r\nThen navigate to http://localhost:8082 (without /h2-console).","title":"H2 db not accessible at localhost:8080/h2-console when using webflux","body":"<p>I had the same issue, I ended up booting the console server manually on another port:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(&quot;test&quot;) // &lt;-- up to you\npublic class H2 {\n\n    private org.h2.tools.Server webServer;\n\n    private org.h2.tools.Server tcpServer;\n\n    @EventListener(org.springframework.context.event.ContextRefreshedEvent.class)\n    public void start() throws java.sql.SQLException {\n        this.webServer = org.h2.tools.Server.createWebServer(&quot;-webPort&quot;, &quot;8082&quot;, &quot;-tcpAllowOthers&quot;).start();\n        this.tcpServer = org.h2.tools.Server.createTcpServer(&quot;-tcpPort&quot;, &quot;9092&quot;, &quot;-tcpAllowOthers&quot;).start();\n    }\n\n    @EventListener(org.springframework.context.event.ContextClosedEvent.class)\n    public void stop() {\n        this.tcpServer.stop();\n        this.webServer.stop();\n    }\n\n}\n</code></pre>\n<p>Then navigate to http://localhost:8082 (without /h2-console).</p>\n"},{"tags":[],"owner":{"account_id":6362915,"reputation":998,"user_id":4937841,"accept_rate":65,"display_name":"DamienMiheev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638657346,"creation_date":1638657346,"answer_id":70230048,"question_id":52949088,"body_markdown":"I found a library that does exactly the same sp00m described, it may be helpful for somebody. It works out of the box.\r\n\r\nhttps://mvnrepository.com/artifact/me.yaman.can/spring-boot-webflux-h2-console\r\n\r\nAnd github page: https://github.com/canyaman/spring-boot-webflux-h2-console","title":"H2 db not accessible at localhost:8080/h2-console when using webflux","body":"<p>I found a library that does exactly the same sp00m described, it may be helpful for somebody. It works out of the box.</p>\n<p><a href=\"https://mvnrepository.com/artifact/me.yaman.can/spring-boot-webflux-h2-console\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/me.yaman.can/spring-boot-webflux-h2-console</a></p>\n<p>And github page: <a href=\"https://github.com/canyaman/spring-boot-webflux-h2-console\" rel=\"nofollow noreferrer\">https://github.com/canyaman/spring-boot-webflux-h2-console</a></p>\n"}],"owner":{"account_id":5411899,"reputation":372,"user_id":4308371,"display_name":"Krishnakumar R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7748,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":52949164,"answer_count":2,"score":20,"last_activity_date":1692165925,"creation_date":1540297640,"question_id":52949088,"body_markdown":"H2 db is not accessible at `localhost:8080/h2-console` when using `webflux`. I read somewhere that this is available only when developing a Servlet-based application. But I am using Webflux with Netty. So is there a way to see the h2 console in such an application?","title":"H2 db not accessible at localhost:8080/h2-console when using webflux","body":"<p>H2 db is not accessible at <code>localhost:8080/h2-console</code> when using <code>webflux</code>. I read somewhere that this is available only when developing a Servlet-based application. But I am using Webflux with Netty. So is there a way to see the h2 console in such an application?</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692020171,"post_id":76899392,"comment_id":135565313,"body_markdown":"Just move the `SomeClass.method` invocation to the first `if`","body":"Just move the <code>SomeClass.method</code> invocation to the first <code>if</code>"},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1692023518,"post_id":76899392,"comment_id":135566125,"body_markdown":"may I ask what the purpose of this value is? Background to this question: Maybe the logic is better placed elsewhere than the jsp depending on the purpose of &quot;value&quot;.","body":"may I ask what the purpose of this value is? Background to this question: Maybe the logic is better placed elsewhere than the jsp depending on the purpose of &quot;value&quot;."},{"owner":{"account_id":19503247,"reputation":83,"user_id":14268800,"display_name":"ironmanAJ"},"score":0,"creation_date":1692165180,"post_id":76899392,"comment_id":135585068,"body_markdown":"I am working in a project and the structure of the project does not allow to change the jsp page and for movie the block to if those or different logics execute at different times say for example SomeClass.method does run after few filters are executed.","body":"I am working in a project and the structure of the project does not allow to change the jsp page and for movie the block to if those or different logics execute at different times say for example SomeClass.method does run after few filters are executed."}],"answers":[{"tags":[],"owner":{"account_id":3261687,"reputation":317,"user_id":4129917,"display_name":"Tony Weston"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692023410,"creation_date":1692023410,"answer_id":76899852,"question_id":76899392,"body_markdown":"I think you need to make value a local variable, so it is not updated by other requests. Once it has been set as an attribute in the unique request, it can not be updated by other concurrent requests.\r\n\r\n    if(request.getParamter(&quot;VALUE&quot;) != null)\r\n    {\r\n      String value = request.getParamter(&quot;VALUE&quot;);\r\n      request.setAttribute(&quot;VALUE&quot;,value) \r\n    } \r\n    /// other logics\r\n    if(true)\r\n    {\r\n    SomeClass.method(request);\r\n    }","title":"Maintain a Servlet request attribute state","body":"<p>I think you need to make value a local variable, so it is not updated by other requests. Once it has been set as an attribute in the unique request, it can not be updated by other concurrent requests.</p>\n<pre><code>if(request.getParamter(&quot;VALUE&quot;) != null)\n{\n  String value = request.getParamter(&quot;VALUE&quot;);\n  request.setAttribute(&quot;VALUE&quot;,value) \n} \n/// other logics\nif(true)\n{\nSomeClass.method(request);\n}\n</code></pre>\n"}],"owner":{"account_id":19503247,"reputation":83,"user_id":14268800,"display_name":"ironmanAJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1692165339,"creation_date":1692020005,"question_id":76899392,"body_markdown":"Consider a JSP page and it has following values.\r\n\r\n```java\r\nString value = null;\r\nif (request.getParamter(&quot;VALUE&quot;) != null) {\r\n\tvalue = request.getParamter(&quot;VALUE&quot;);\r\n}\r\n/// other logics\r\nif (true) {\r\n\trequest.setAttribute(&quot;VALUE&quot;, value);\r\n\tSomeClass.method(request);\r\n}\r\n```\r\n\r\nNow only when a particular request will have value in request and it will be assigned \r\nIf other request without that the value will make it null before calling SomeClass is method then I wont have the value in the SomeClass method.\r\nHow to over come this without using session and cookies because I may get concurrent values if session or cookies used it can cause issue.\r\nUsing static may result problems with different thread situations.\r\nIs there any Tomcat solution to this.\r\nNote to set the request attribute inside the first block itself since other logics may include calling filters and other flow where i may lose the value from the request.","title":"Maintain a Servlet request attribute state","body":"<p>Consider a JSP page and it has following values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String value = null;\nif (request.getParamter(&quot;VALUE&quot;) != null) {\n    value = request.getParamter(&quot;VALUE&quot;);\n}\n/// other logics\nif (true) {\n    request.setAttribute(&quot;VALUE&quot;, value);\n    SomeClass.method(request);\n}\n</code></pre>\n<p>Now only when a particular request will have value in request and it will be assigned\nIf other request without that the value will make it null before calling SomeClass is method then I wont have the value in the SomeClass method.\nHow to over come this without using session and cookies because I may get concurrent values if session or cookies used it can cause issue.\nUsing static may result problems with different thread situations.\nIs there any Tomcat solution to this.\nNote to set the request attribute inside the first block itself since other logics may include calling filters and other flow where i may lose the value from the request.</p>\n"},{"tags":["java","android","ftp","apache-ftpserver"],"answers":[{"tags":[],"owner":{"account_id":9681002,"reputation":1,"user_id":7182701,"display_name":"Alessio Lai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673821395,"creation_date":1673821395,"answer_id":75128808,"question_id":74841935,"body_markdown":"Hello this method is supported since one specific version of the api. I I remember well, since api 20, and in jdk this method there is since jdk 1.7.\r\nTo resolve I have used an earlier version of apache mina, that is compliant with a version earlier of jdk 1.7, because this method wasn&#39;t available in jdk before 1.7.\r\nThen I have replaced the library with dependencies with the older version and the project started to work and the error not raising again.\r\n\r\nAlessio","title":"Java Apache FTP Server import libraries","body":"<p>Hello this method is supported since one specific version of the api. I I remember well, since api 20, and in jdk this method there is since jdk 1.7.\nTo resolve I have used an earlier version of apache mina, that is compliant with a version earlier of jdk 1.7, because this method wasn't available in jdk before 1.7.\nThen I have replaced the library with dependencies with the older version and the project started to work and the error not raising again.</p>\n<p>Alessio</p>\n"},{"tags":[],"owner":{"account_id":23224850,"reputation":69,"user_id":17316514,"display_name":"ShaRy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692164994,"creation_date":1692164994,"answer_id":76910824,"question_id":74841935,"body_markdown":"Yes, that was the issue...Lib version.&lt;br /&gt;\r\nAnyway, I have used this combination and it worked for me.\r\n\r\n\r\n    implementation &#39;log4j:log4j:1.2.17&#39;\r\n    implementation &#39;org.slf4j:slf4j-api:2.0.6&#39;\r\n    implementation &#39;org.slf4j:slf4j-log4j12:1.7.21&#39;\r\n    implementation &#39;org.apache.mina:mina-core:2.1.3&#39;\r\n    implementation &#39;org.apache.ftpserver:ftplet-api:1.1.2&#39;\r\n    implementation &#39;org.apache.ftpserver:ftpserver-core:1.1.2&#39;","title":"Java Apache FTP Server import libraries","body":"<p>Yes, that was the issue...Lib version.<br />\nAnyway, I have used this combination and it worked for me.</p>\n<pre><code>implementation 'log4j:log4j:1.2.17'\nimplementation 'org.slf4j:slf4j-api:2.0.6'\nimplementation 'org.slf4j:slf4j-log4j12:1.7.21'\nimplementation 'org.apache.mina:mina-core:2.1.3'\nimplementation 'org.apache.ftpserver:ftplet-api:1.1.2'\nimplementation 'org.apache.ftpserver:ftpserver-core:1.1.2'\n</code></pre>\n"}],"owner":{"account_id":23224850,"reputation":69,"user_id":17316514,"display_name":"ShaRy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692164994,"creation_date":1671371879,"question_id":74841935,"body_markdown":"I am getting this error while starting the server.\r\n\r\n```\r\njava.lang.NoSuchMethodError: No virtual method supportedOptions()Ljava/util/Set; in class Ljava/nio/channels/ServerSocketChannel; or its super classes (declaration of &#39;java.nio.channels.ServerSocketChannel&#39; appears in /system/framework/core-libart.jar)\r\n            at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:259)\r\n            at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:52)\r\n            at org.apache.mina.core.polling.AbstractPollingIoAcceptor$Acceptor.registerHandles(AbstractPollingIoAcceptor.java:591)\r\n            at org.apache.mina.core.polling.AbstractPollingIoAcceptor$Acceptor.run(AbstractPollingIoAcceptor.java:460)\r\n            at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n            at java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nImport Libraries are...\r\n```\r\n    implementation &#39;org.apache.mina:mina-core:2.1.6&#39;\r\n    implementation &#39;org.slf4j:slf4j-api:2.0.6&#39;\r\n    implementation &#39;org.slf4j:slf4j-simple:2.0.6&#39;\r\n    implementation &#39;org.apache.ftpserver:ftplet-api:1.2.0&#39;\r\n    implementation &#39;org.apache.ftpserver:ftpserver-core:1.2.0&#39;\r\n```\r\n\r\n","title":"Java Apache FTP Server import libraries","body":"<p>I am getting this error while starting the server.</p>\n<pre><code>java.lang.NoSuchMethodError: No virtual method supportedOptions()Ljava/util/Set; in class Ljava/nio/channels/ServerSocketChannel; or its super classes (declaration of 'java.nio.channels.ServerSocketChannel' appears in /system/framework/core-libart.jar)\n            at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:259)\n            at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:52)\n            at org.apache.mina.core.polling.AbstractPollingIoAcceptor$Acceptor.registerHandles(AbstractPollingIoAcceptor.java:591)\n            at org.apache.mina.core.polling.AbstractPollingIoAcceptor$Acceptor.run(AbstractPollingIoAcceptor.java:460)\n            at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n            at java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Import Libraries are...</p>\n<pre><code>    implementation 'org.apache.mina:mina-core:2.1.6'\n    implementation 'org.slf4j:slf4j-api:2.0.6'\n    implementation 'org.slf4j:slf4j-simple:2.0.6'\n    implementation 'org.apache.ftpserver:ftplet-api:1.2.0'\n    implementation 'org.apache.ftpserver:ftpserver-core:1.2.0'\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-sdk","opensearch","aws-credentials"],"answers":[{"tags":[],"owner":{"account_id":13625558,"reputation":25,"user_id":12613525,"display_name":"Suvid Sahay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692164387,"creation_date":1692164387,"answer_id":76910776,"question_id":76856949,"body_markdown":"The temporary solution that I used for this was to not let the credentials be picked up from the aws config, but rather assign it in the config class only:\r\n\r\n```\r\n@Bean\r\n    public OpenSearchClient getClient() {\r\n        AwsCredentialsProvider credentialsProvider =\r\n                StaticCredentialsProvider.create(AwsBasicCredentials.create(accessKey, secretKey));\r\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n        return new OpenSearchClient(\r\n                new AwsSdk2Transport(\r\n                        httpClient,\r\n                        host,\r\n                        region,\r\n                        AwsSdk2TransportOptions.builder().setCredentials(credentialsProvider).build()));\r\n\r\n    }\r\n```","title":"Connecting to OpenSearchService fails with the message: Request failed: [security_exception] authentication/authorization failure","body":"<p>The temporary solution that I used for this was to not let the credentials be picked up from the aws config, but rather assign it in the config class only:</p>\n<pre><code>@Bean\n    public OpenSearchClient getClient() {\n        AwsCredentialsProvider credentialsProvider =\n                StaticCredentialsProvider.create(AwsBasicCredentials.create(accessKey, secretKey));\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n        return new OpenSearchClient(\n                new AwsSdk2Transport(\n                        httpClient,\n                        host,\n                        region,\n                        AwsSdk2TransportOptions.builder().setCredentials(credentialsProvider).build()));\n\n    }\n</code></pre>\n"}],"owner":{"account_id":13625558,"reputation":25,"user_id":12613525,"display_name":"Suvid Sahay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692164387,"creation_date":1691476134,"question_id":76856949,"body_markdown":"I am trying to connect to OpenSearchService via Java SDK deployed on EC2 instance. I have tried setting the credentials via aws configure but I am getting the following error message: \r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failure] with root cause\r\norg.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failure\r\n```\r\n\r\nHere is the output of my aws configure list:\r\n```\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile                &lt;not set&gt;             None    None\r\naccess_key     ****************2Y4Y shared-credentials-file    \r\nsecret_key     ****************NjjN shared-credentials-file    \r\n    region               ap-south-1      config-file    ~/.aws/config\r\n```\r\n\r\nMy client is set up as follows: \r\n```\r\n@Bean\r\npublic OpenSearchClient getClient() {\r\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n        return new OpenSearchClient(\r\n                new AwsSdk2Transport(\r\n                        httpClient,\r\n                        host,\r\n                        region,\r\n                        AwsSdk2TransportOptions.builder().build()));\r\n\r\n    }\r\n```\r\n\r\nI am able to connect to the opensearch service from my local machine but for some reason I am not able to connect to it via the EC2 instance. \r\n\r\nFine grain access control is also enabled on my domain and I am using the domain level access policy which looks something like this:\r\n\r\n```\r\n{\r\n  &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n  &quot;Statement&quot;: [\r\n    {\r\n      &quot;Effect&quot;: &quot;Allow&quot;,\r\n      &quot;Principal&quot;: {\r\n        &quot;AWS&quot;: &quot;*&quot;\r\n      },\r\n      &quot;Action&quot;: &quot;es:*&quot;,\r\n      &quot;Resource&quot;: &quot;arn:aws:es:ap-south-1:************:domain/opensearch-domain/*&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"Connecting to OpenSearchService fails with the message: Request failed: [security_exception] authentication/authorization failure","body":"<p>I am trying to connect to OpenSearchService via Java SDK deployed on EC2 instance. I have tried setting the credentials via aws configure but I am getting the following error message:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failure] with root cause\norg.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failure\n</code></pre>\n<p>Here is the output of my aws configure list:</p>\n<pre><code>      Name                    Value             Type    Location\n      ----                    -----             ----    --------\n   profile                &lt;not set&gt;             None    None\naccess_key     ****************2Y4Y shared-credentials-file    \nsecret_key     ****************NjjN shared-credentials-file    \n    region               ap-south-1      config-file    ~/.aws/config\n</code></pre>\n<p>My client is set up as follows:</p>\n<pre><code>@Bean\npublic OpenSearchClient getClient() {\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n        return new OpenSearchClient(\n                new AwsSdk2Transport(\n                        httpClient,\n                        host,\n                        region,\n                        AwsSdk2TransportOptions.builder().build()));\n\n    }\n</code></pre>\n<p>I am able to connect to the opensearch service from my local machine but for some reason I am not able to connect to it via the EC2 instance.</p>\n<p>Fine grain access control is also enabled on my domain and I am using the domain level access policy which looks something like this:</p>\n<pre><code>{\n  &quot;Version&quot;: &quot;2012-10-17&quot;,\n  &quot;Statement&quot;: [\n    {\n      &quot;Effect&quot;: &quot;Allow&quot;,\n      &quot;Principal&quot;: {\n        &quot;AWS&quot;: &quot;*&quot;\n      },\n      &quot;Action&quot;: &quot;es:*&quot;,\n      &quot;Resource&quot;: &quot;arn:aws:es:ap-south-1:************:domain/opensearch-domain/*&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","rows","gridlayoutmanager"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1615416840,"post_id":66573880,"comment_id":117687705,"body_markdown":"Have you tried after items are deleted/added, [force to redraw recyclerview&#39;s items](https://stackoverflow.com/questions/36495009/force-recyclerview-to-redraw-its-items) ?","body":"Have you tried after items are deleted/added, <a href=\"https://stackoverflow.com/questions/36495009/force-recyclerview-to-redraw-its-items\">force to redraw recyclerview&#39;s items</a> ?"},{"owner":{"account_id":4313301,"reputation":45,"user_id":3523864,"display_name":"user3523864"},"score":0,"creation_date":1615417823,"post_id":66573880,"comment_id":117687919,"body_markdown":"@javdromero I tried, but then I loose the current scroll state.","body":"@javdromero I tried, but then I loose the current scroll state."},{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1615418527,"post_id":66573880,"comment_id":117688097,"body_markdown":"Ok, another edge: Can you post your item.xml and the recycler view&#39;s layout ? Maybe some width have to be wrapcontent also","body":"Ok, another edge: Can you post your item.xml and the recycler view&#39;s layout ? Maybe some width have to be wrapcontent also"},{"owner":{"account_id":4313301,"reputation":45,"user_id":3523864,"display_name":"user3523864"},"score":0,"creation_date":1615419092,"post_id":66573880,"comment_id":117688262,"body_markdown":"@javdromero jup","body":"@javdromero jup"},{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1615419504,"post_id":66573880,"comment_id":117688383,"body_markdown":"Try to set android:layout_width=&quot;wrap_content&quot; to your first RelativeLayout and LinearLayout on your item.xml, widths are inherited","body":"Try to set android:layout_width=&quot;wrap_content&quot; to your first RelativeLayout and LinearLayout on your item.xml, widths are inherited"},{"owner":{"account_id":4313301,"reputation":45,"user_id":3523864,"display_name":"user3523864"},"score":0,"creation_date":1615419964,"post_id":66573880,"comment_id":117688500,"body_markdown":"@javdromero still same behaviour....","body":"@javdromero still same behaviour...."}],"answers":[{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692163925,"creation_date":1692163925,"answer_id":76910741,"question_id":66573880,"body_markdown":"I ran into the same issue; fixed it by adding some code to `RecyclerView.Adapter.onBindViewHolder`.\r\n\r\n```kotlin\r\noverride fun onBindViewHolder(holder:ItemVH,position:Int)\r\n{\r\n    // do the binding\r\n    ......\r\n\r\n    // after binding item to view holder, request UI to re-layout items\r\n    holder.itemView.requestLayout()\r\n}\r\n```\r\n\r\nsee [the documentation for requestLayout()](https://developer.android.com/reference/android/view/View.html#requestLayout())\r\n&gt; Call this when something has changed which has invalidated the layout of this view. This will schedule a layout pass of the view tree. This should not be called while the view hierarchy is currently in a layout pass (isInLayout(). If layout is happening, the request may be honored at the end of the current layout pass (and then layout will run again) or after the current frame is drawn and the next layout occurs.\r\n&gt; \r\n&gt; Subclasses which override this method should call the superclass method to handle possible request-during-layout errors correctly.\r\n&gt; \r\n&gt; If you override this method you must call through to the superclass implementation.","title":"Items height in GridLayoutManager after dynamic action","body":"<p>I ran into the same issue; fixed it by adding some code to <code>RecyclerView.Adapter.onBindViewHolder</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onBindViewHolder(holder:ItemVH,position:Int)\n{\n    // do the binding\n    ......\n\n    // after binding item to view holder, request UI to re-layout items\n    holder.itemView.requestLayout()\n}\n</code></pre>\n<p>see <a href=\"https://developer.android.com/reference/android/view/View.html#requestLayout()\" rel=\"nofollow noreferrer\">the documentation for requestLayout()</a></p>\n<blockquote>\n<p>Call this when something has changed which has invalidated the layout of this view. This will schedule a layout pass of the view tree. This should not be called while the view hierarchy is currently in a layout pass (isInLayout(). If layout is happening, the request may be honored at the end of the current layout pass (and then layout will run again) or after the current frame is drawn and the next layout occurs.</p>\n<p>Subclasses which override this method should call the superclass method to handle possible request-during-layout errors correctly.</p>\n<p>If you override this method you must call through to the superclass implementation.</p>\n</blockquote>\n"}],"owner":{"account_id":4313301,"reputation":45,"user_id":3523864,"display_name":"user3523864"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692163925,"creation_date":1615415684,"question_id":66573880,"body_markdown":"I have a RecyclerView and GridLayoutManager with 2 columns. Items are populated with DiffUtil and everything works fine so far.\r\nThe items consist of an image (always the same height) and a text, which can vary in length and has therefore an dynamic heigth.\r\n\r\nThe GridLayoutManager seems to arrange each item of a row with the same height. But it&#180;s not recalculating them once they&#180;re changing rows -&gt; height of a cell remains static as long as they are currently visible.\r\n\r\nExample: 6 Items in total.\r\n\r\n     A | B\r\n     C | D \r\n     E | F \r\n\r\n\r\n\r\nSo if item E has a short text, lets say height 100, and item F has a long text, heigt 500, both items semms to have the height of 500.\r\n\r\nIf item B gets deleted, E is changing the row from 3 to 2, but still has height 500 and item D may have only 150. E has then &quot;350 too much height&quot;.\r\nThis creates a strange look, as there is then a lot of white space between row 2 and 3...\r\n\r\nOnce you scroll (= those items are not visible anymore) an scroll back, everything is measured fine again.\r\n\r\nHow can I solve this problem? \r\n\r\nThanks for your help.\r\n\r\nUpdate: \r\n\r\nitem.xml:\r\n\r\n        &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/items_folder_item_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:paddingTop=&quot;15dp&quot;\r\n        android:paddingStart=&quot;10dp&quot;\r\n        android:paddingEnd=&quot;10dp&quot;\r\n        android:paddingBottom=&quot;15dp&quot;\r\n        android:background=&quot;?android:attr/selectableItemBackground&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_weight=&quot;1&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;127dp&quot;\r\n                android:id=&quot;@+id/items_folder_item_folder_container&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_height=&quot;127dp&quot;&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/items_folder_item_folder&quot;\r\n                    android:layout_width=&quot;127dp&quot;\r\n                    android:layout_height=&quot;127dp&quot;\r\n                    android:src=&quot;@{folder.homeFolder ? (folder.homeIconType == 1 ? @drawable/ic_ordner_weis : (folder.homeIconType == 2 ? @drawable/ic_navi_bons : @drawable/ic_home_grey_48px)) : @drawable/ic_ordner_weis }&quot;\r\n                    android:tint=&quot;@{folder.folderColorCode}&quot;\r\n                    android:contentDescription=&quot;@null&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;17dp&quot;\r\n                    android:layout_height=&quot;17dp&quot;\r\n                    android:contentDescription=&quot;@null&quot;\r\n                    android:layout_alignParentBottom=&quot;true&quot;\r\n                    android:layout_marginBottom=&quot;30dp&quot;\r\n                    android:layout_marginStart=&quot;24dp&quot;\r\n                    android:visibility=&quot;@{item.selectionMode ? selectedFolders.contains(item)  View.GONE : View.VISIBLE : View.GONE}&quot;\r\n                    android:src=&quot;@drawable/ic_item_selection_placeholder&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;27dp&quot;\r\n                    android:layout_height=&quot;27dp&quot;\r\n                    android:contentDescription=&quot;@null&quot;\r\n                    android:layout_alignParentBottom=&quot;true&quot;\r\n                    android:layout_marginBottom=&quot;27dp&quot;\r\n                    android:layout_marginStart=&quot;22dp&quot;\r\n                    android:visibility=&quot;@{selectedFolders.contains(item) == true ? View.VISIBLE : View.GONE}&quot;\r\n                    android:src=&quot;@drawable/ic_item_selected&quot; /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/items_folder_item_content&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;16dp&quot;\r\n                        android:layout_height=&quot;16dp&quot;\r\n                        android:layout_marginEnd=&quot;9dp&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:src=&quot;@{item.item.visibleToContact ? @drawable/ic_shared : @drawable/ic_shared_in_progress}&quot;\r\n                        android:visibility=&quot;@{item.item.itemPermitted ? View.VISIBLE : View.GONE}&quot;\r\n                        android:contentDescription=&quot;@null&quot; /&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;16dp&quot;\r\n                        android:layout_height=&quot;16dp&quot;\r\n                        android:layout_marginEnd=&quot;7dp&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:visibility=&quot;@{folder.folderIsFavorite == true ? View.VISIBLE : View.GONE}&quot;\r\n                        android:src=&quot;@drawable/ic_favorite_set&quot;\r\n                        android:contentDescription=&quot;@null&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:gravity=&quot;center_horizontal&quot;\r\n                        style=&quot;@style/ItemNameGrid&quot;\r\n                        android:textColor=&quot;@{selectedFolders.contains(item) ? @color/gridItemSelectedTextColor : @color/brownGreyText}&quot;\r\n                        android:text=&quot;@{folder.folderName}&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:visibility=&quot;@{folder.homeFolder ? View.GONE : View.VISIBLE}&quot;\r\n                    style=&quot;@style/ItemInfoTextGrid&quot;\r\n                    android:textColor=&quot;@{selectedFolders.contains(item) ? @color/gridItemSelectedTextColor : @color/bluishGreyText}&quot;\r\n                    android:text=&#39;@{folder.folderItemCount == 1 ? String.format(@string/items_item_element, folder.folderItemCount) : String.format(@string/items_item_elements, folder.folderItemCount) }&#39; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/items_folder_item_more_container&quot;\r\n            android:layout_width=&quot;37dp&quot;\r\n            android:clickable=&quot;true&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:visibility=&quot;@{inChoosingMode ? folder.homeFolder ? View.INVISIBLE : View.VISIBLE : item.selectionMode ? View.INVISIBLE : View.VISIBLE}&quot;\r\n            android:layout_height=&quot;37dp&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;27dp&quot;\r\n                android:layout_height=&quot;27dp&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:background=&quot;?selectableItemBackgroundBorderless&quot;\r\n                android:src=&quot;@{inChoosingMode ? @drawable/ic_arrow_right : @drawable/ic_more}&quot;\r\n                android:contentDescription=&quot;@null&quot; /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\nRecyclerView layout:\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_marginTop=&quot;20dp&quot;\r\n    android:background=&quot;@color/defaultBackgroundColor&quot;\r\n    android:id=&quot;@+id/items_root&quot;&gt;\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/items_refresh_layout&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:id=&quot;@+id/items_content&quot;&gt;\r\n\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginEnd=&quot;22dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:layout_marginStart=&quot;22dp&quot;\r\n                    android:id=&quot;@+id/items_topbar&quot;&gt;\r\n\r\n                    &lt;com.fm.atmin.controls.sortfilter.sort.SortControl\r\n                        android:id=&quot;@+id/items_topbar_sort_control&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:background=&quot;?android:attr/selectableItemBackground&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot;\r\n                        android:id=&quot;@+id/items_view_mode_container&quot;\r\n                        android:focusable=&quot;true&quot;&gt;\r\n\r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/items_view_mode&quot;\r\n                            android:layout_width=&quot;27dp&quot;\r\n                            android:layout_height=&quot;27dp&quot;\r\n                            android:src=&quot;@drawable/ic_view_module_grid&quot;\r\n                            /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:id=&quot;@+id/items_recyclerview&quot;\r\n                    android:layout_below=&quot;@id/items_topbar&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n            &lt;include\r\n                layout=&quot;@layout/items_no_content&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:visibility=&quot;gone&quot;/&gt;\r\n\r\n            &lt;include\r\n                layout=&quot;@layout/no_network_layout&quot;\r\n                android:visibility=&quot;gone&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;","title":"Items height in GridLayoutManager after dynamic action","body":"<p>I have a RecyclerView and GridLayoutManager with 2 columns. Items are populated with DiffUtil and everything works fine so far.\nThe items consist of an image (always the same height) and a text, which can vary in length and has therefore an dynamic heigth.</p>\n<p>The GridLayoutManager seems to arrange each item of a row with the same height. But it´s not recalculating them once they´re changing rows -&gt; height of a cell remains static as long as they are currently visible.</p>\n<p>Example: 6 Items in total.</p>\n<pre><code> A | B\n C | D \n E | F \n</code></pre>\n<p>So if item E has a short text, lets say height 100, and item F has a long text, heigt 500, both items semms to have the height of 500.</p>\n<p>If item B gets deleted, E is changing the row from 3 to 2, but still has height 500 and item D may have only 150. E has then &quot;350 too much height&quot;.\nThis creates a strange look, as there is then a lot of white space between row 2 and 3...</p>\n<p>Once you scroll (= those items are not visible anymore) an scroll back, everything is measured fine again.</p>\n<p>How can I solve this problem?</p>\n<p>Thanks for your help.</p>\n<p>Update:</p>\n<p>item.xml:</p>\n<pre><code>    &lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n&lt;LinearLayout\n    android:id=&quot;@+id/items_folder_item_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:paddingTop=&quot;15dp&quot;\n    android:paddingStart=&quot;10dp&quot;\n    android:paddingEnd=&quot;10dp&quot;\n    android:paddingBottom=&quot;15dp&quot;\n    android:background=&quot;?android:attr/selectableItemBackground&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_weight=&quot;1&quot;&gt;\n        &lt;RelativeLayout\n            android:layout_width=&quot;127dp&quot;\n            android:id=&quot;@+id/items_folder_item_folder_container&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_height=&quot;127dp&quot;&gt;\n            &lt;ImageView\n                android:id=&quot;@+id/items_folder_item_folder&quot;\n                android:layout_width=&quot;127dp&quot;\n                android:layout_height=&quot;127dp&quot;\n                android:src=&quot;@{folder.homeFolder ? (folder.homeIconType == 1 ? @drawable/ic_ordner_weis : (folder.homeIconType == 2 ? @drawable/ic_navi_bons : @drawable/ic_home_grey_48px)) : @drawable/ic_ordner_weis }&quot;\n                android:tint=&quot;@{folder.folderColorCode}&quot;\n                android:contentDescription=&quot;@null&quot; /&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;17dp&quot;\n                android:layout_height=&quot;17dp&quot;\n                android:contentDescription=&quot;@null&quot;\n                android:layout_alignParentBottom=&quot;true&quot;\n                android:layout_marginBottom=&quot;30dp&quot;\n                android:layout_marginStart=&quot;24dp&quot;\n                android:visibility=&quot;@{item.selectionMode ? selectedFolders.contains(item)  View.GONE : View.VISIBLE : View.GONE}&quot;\n                android:src=&quot;@drawable/ic_item_selection_placeholder&quot; /&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;27dp&quot;\n                android:layout_height=&quot;27dp&quot;\n                android:contentDescription=&quot;@null&quot;\n                android:layout_alignParentBottom=&quot;true&quot;\n                android:layout_marginBottom=&quot;27dp&quot;\n                android:layout_marginStart=&quot;22dp&quot;\n                android:visibility=&quot;@{selectedFolders.contains(item) == true ? View.VISIBLE : View.GONE}&quot;\n                android:src=&quot;@drawable/ic_item_selected&quot; /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/items_folder_item_content&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;16dp&quot;\n                    android:layout_height=&quot;16dp&quot;\n                    android:layout_marginEnd=&quot;9dp&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;\n                    android:src=&quot;@{item.item.visibleToContact ? @drawable/ic_shared : @drawable/ic_shared_in_progress}&quot;\n                    android:visibility=&quot;@{item.item.itemPermitted ? View.VISIBLE : View.GONE}&quot;\n                    android:contentDescription=&quot;@null&quot; /&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;16dp&quot;\n                    android:layout_height=&quot;16dp&quot;\n                    android:layout_marginEnd=&quot;7dp&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;\n                    android:visibility=&quot;@{folder.folderIsFavorite == true ? View.VISIBLE : View.GONE}&quot;\n                    android:src=&quot;@drawable/ic_favorite_set&quot;\n                    android:contentDescription=&quot;@null&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_horizontal&quot;\n                    style=&quot;@style/ItemNameGrid&quot;\n                    android:textColor=&quot;@{selectedFolders.contains(item) ? @color/gridItemSelectedTextColor : @color/brownGreyText}&quot;\n                    android:text=&quot;@{folder.folderName}&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:visibility=&quot;@{folder.homeFolder ? View.GONE : View.VISIBLE}&quot;\n                style=&quot;@style/ItemInfoTextGrid&quot;\n                android:textColor=&quot;@{selectedFolders.contains(item) ? @color/gridItemSelectedTextColor : @color/bluishGreyText}&quot;\n                android:text='@{folder.folderItemCount == 1 ? String.format(@string/items_item_element, folder.folderItemCount) : String.format(@string/items_item_elements, folder.folderItemCount) }' /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/items_folder_item_more_container&quot;\n        android:layout_width=&quot;37dp&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;true&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        android:visibility=&quot;@{inChoosingMode ? folder.homeFolder ? View.INVISIBLE : View.VISIBLE : item.selectionMode ? View.INVISIBLE : View.VISIBLE}&quot;\n        android:layout_height=&quot;37dp&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;27dp&quot;\n            android:layout_height=&quot;27dp&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:background=&quot;?selectableItemBackgroundBorderless&quot;\n            android:src=&quot;@{inChoosingMode ? @drawable/ic_arrow_right : @drawable/ic_more}&quot;\n            android:contentDescription=&quot;@null&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>RecyclerView layout:</p>\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_marginTop=&quot;20dp&quot;\nandroid:background=&quot;@color/defaultBackgroundColor&quot;\nandroid:id=&quot;@+id/items_root&quot;&gt;\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:id=&quot;@+id/items_refresh_layout&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:id=&quot;@+id/items_content&quot;&gt;\n\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginEnd=&quot;22dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_marginStart=&quot;22dp&quot;\n                android:id=&quot;@+id/items_topbar&quot;&gt;\n\n                &lt;com.fm.atmin.controls.sortfilter.sort.SortControl\n                    android:id=&quot;@+id/items_topbar_sort_control&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:clickable=&quot;true&quot;\n                    android:background=&quot;?android:attr/selectableItemBackground&quot;\n                    android:layout_alignParentEnd=&quot;true&quot;\n                    android:id=&quot;@+id/items_view_mode_container&quot;\n                    android:focusable=&quot;true&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/items_view_mode&quot;\n                        android:layout_width=&quot;27dp&quot;\n                        android:layout_height=&quot;27dp&quot;\n                        android:src=&quot;@drawable/ic_view_module_grid&quot;\n                        /&gt;\n                &lt;/LinearLayout&gt;\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:id=&quot;@+id/items_recyclerview&quot;\n                android:layout_below=&quot;@id/items_topbar&quot;\n                android:layout_marginTop=&quot;25dp&quot; /&gt;\n        &lt;/RelativeLayout&gt;\n        &lt;include\n            layout=&quot;@layout/items_no_content&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:visibility=&quot;gone&quot;/&gt;\n\n        &lt;include\n            layout=&quot;@layout/no_network_layout&quot;\n            android:visibility=&quot;gone&quot;/&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n\n"},{"tags":["java","oop","inheritance","hashmap"],"owner":{"account_id":17878106,"reputation":634,"user_id":13218799,"display_name":"Fitri Halim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692164923,"answer_count":0,"score":0,"last_activity_date":1692163739,"creation_date":1692163739,"question_id":76910727,"body_markdown":"I&#39;m trying to understand the behavior of Java generics when it comes to assigning a concrete class to an interface type. I have a scenario involving a HashMap where I want to assign instances of a concrete class to an interface type. Here&#39;s the relevant code:\r\n\r\n```\r\npublic interface iPara\r\n{\r\n  // Interface methods here\r\n}\r\n\r\npublic class Para implements iPara\r\n{\r\n  // implementation here\r\n}\r\n\r\npublic interface iBehaviour {\r\n    public void setParameter(Map&lt;String, iPara&gt; parameterlist);\r\n}\r\n\r\npublic class Behaviour implements iBehaviour {\r\n    public void setParameter(Map&lt;String, Para&gt; parameterlist){\r\n        // Implementation here\r\n    }\r\n}\r\n```\r\nUnfortunately I got an error \r\n\r\n&gt; &quot;Name clash: The method setParameter(Map&lt;String,Para&gt;) of type Behaviour has the same erasure as setParameter(Map&lt;String,iPara&gt;) of type iBehaviour but does not override it&quot;\r\n\r\nI&#39;d appreciate any insights and explanations that could help me grasp this concept better. Thanks in advance!","title":"Understanding Java Generics: Assigning Concrete Class to Interface","body":"<p>I'm trying to understand the behavior of Java generics when it comes to assigning a concrete class to an interface type. I have a scenario involving a HashMap where I want to assign instances of a concrete class to an interface type. Here's the relevant code:</p>\n<pre><code>public interface iPara\n{\n  // Interface methods here\n}\n\npublic class Para implements iPara\n{\n  // implementation here\n}\n\npublic interface iBehaviour {\n    public void setParameter(Map&lt;String, iPara&gt; parameterlist);\n}\n\npublic class Behaviour implements iBehaviour {\n    public void setParameter(Map&lt;String, Para&gt; parameterlist){\n        // Implementation here\n    }\n}\n</code></pre>\n<p>Unfortunately I got an error</p>\n<blockquote>\n<p>&quot;Name clash: The method setParameter(Map&lt;String,Para&gt;) of type Behaviour has the same erasure as setParameter(Map&lt;String,iPara&gt;) of type iBehaviour but does not override it&quot;</p>\n</blockquote>\n<p>I'd appreciate any insights and explanations that could help me grasp this concept better. Thanks in advance!</p>\n"},{"tags":["java","windows","button","swt","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692171660,"post_id":76910711,"comment_id":135586078,"body_markdown":"You can&#39;t use `setSize` when you are using Layouts - the layout will override the size. You might be able to do something with the `widthHint` and `heightHint` fields of `GridData`. But the native button control may not support the image completely filling the buton.","body":"You can&#39;t use <code>setSize</code> when you are using Layouts - the layout will override the size. You might be able to do something with the <code>widthHint</code> and <code>heightHint</code> fields of <code>GridData</code>. But the native button control may not support the image completely filling the buton."},{"owner":{"account_id":29234206,"reputation":1,"user_id":22397160,"display_name":"Siddhi Bansal"},"score":0,"creation_date":1692180299,"post_id":76910711,"comment_id":135587805,"body_markdown":"Is there any way to add the image to fill the button?","body":"Is there any way to add the image to fill the button?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692180661,"post_id":76910711,"comment_id":135587881,"body_markdown":"As I already said you can only do what the native control will allow you to do. If you want complete control you will need to use a `Canvas` control and handle drawing and mouse clicks yourself.","body":"As I already said you can only do what the native control will allow you to do. If you want complete control you will need to use a <code>Canvas</code> control and handle drawing and mouse clicks yourself."}],"owner":{"account_id":29234206,"reputation":1,"user_id":22397160,"display_name":"Siddhi Bansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692163521,"creation_date":1692163521,"question_id":76910711,"body_markdown":"I have added a button in SWT and then added image using setImage(). There is some margin around the image. I want the image to cover the whole background of the button.\r\n\r\n[Screenshot for your reference](https://i.stack.imgur.com/Ca3IG.png)\r\n\r\n\r\n```\r\nSection sctnScript = toolkit.createSection(this, Section.TITLE_BAR);\r\nsctnScript.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));\r\ntoolkit.paintBordersFor(sctnScript);\r\nsctnScript.setText(&quot;Script&quot;);\r\n\r\nComposite titleBar = toolkit.createComposite(sctnScript);\r\ntitleBar.setBackground(new Color(Display.getCurrent(), 240, 243, 247));\r\n\r\nGridLayout titleBarLayout = new GridLayout(2, false);\r\ntitleBarLayout.marginWidth = 0;\r\ntitleBarLayout.marginHeight = 0;\r\ntitleBar.setLayout(titleBarLayout);\r\n\r\nsctnScript.setExpanded(true);\r\ntoolBar = new ToolBar(titleBar, SWT.FLAT | SWT.RIGHT);\r\ntoolkit.paintBordersFor(toolBar);\r\n\r\nButton button = toolkit.createButton(titleBar, &quot;&quot;, SWT.PUSH);\r\nGridData buttonData = new GridData(SWT.END, SWT.CENTER, false, false);\r\nbutton.setBackground(new Color(Display.getCurrent(), 240, 243, 247));\r\nbutton.setImage(buttonImage);\r\nbutton.setSize(buttonImage.getBounds().width, buttonImage.getBounds().height);\r\n```\r\n","title":"The SWT button image is not taking the width and height equal to the button and is leaving some margin","body":"<p>I have added a button in SWT and then added image using setImage(). There is some margin around the image. I want the image to cover the whole background of the button.</p>\n<p><a href=\"https://i.stack.imgur.com/Ca3IG.png\" rel=\"nofollow noreferrer\">Screenshot for your reference</a></p>\n<pre><code>Section sctnScript = toolkit.createSection(this, Section.TITLE_BAR);\nsctnScript.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));\ntoolkit.paintBordersFor(sctnScript);\nsctnScript.setText(&quot;Script&quot;);\n\nComposite titleBar = toolkit.createComposite(sctnScript);\ntitleBar.setBackground(new Color(Display.getCurrent(), 240, 243, 247));\n\nGridLayout titleBarLayout = new GridLayout(2, false);\ntitleBarLayout.marginWidth = 0;\ntitleBarLayout.marginHeight = 0;\ntitleBar.setLayout(titleBarLayout);\n\nsctnScript.setExpanded(true);\ntoolBar = new ToolBar(titleBar, SWT.FLAT | SWT.RIGHT);\ntoolkit.paintBordersFor(toolBar);\n\nButton button = toolkit.createButton(titleBar, &quot;&quot;, SWT.PUSH);\nGridData buttonData = new GridData(SWT.END, SWT.CENTER, false, false);\nbutton.setBackground(new Color(Display.getCurrent(), 240, 243, 247));\nbutton.setImage(buttonImage);\nbutton.setSize(buttonImage.getBounds().width, buttonImage.getBounds().height);\n</code></pre>\n"},{"tags":["java","zebra-printers","zpl"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1692167872,"post_id":76910519,"comment_id":135585419,"body_markdown":"It&#39;s not a direct duplicate, but this [SO answer](https://stackoverflow.com/a/65609238/2846138) could solve your problem: don&#39;t use system scope.","body":"It&#39;s not a direct duplicate, but this <a href=\"https://stackoverflow.com/a/65609238/2846138\">SO answer</a> could solve your problem: don&#39;t use system scope."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692180034,"post_id":76910519,"comment_id":135587749,"body_markdown":"You can use `mvn install:install-file` to make sure you can add it just like any other dependency","body":"You can use <code>mvn install:install-file</code> to make sure you can add it just like any other dependency"}],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692163441,"creation_date":1692159906,"question_id":76910519,"body_markdown":"I have included zebra SDK external lib in my project it is inside lib folder in my project.\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;your.groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;external-library&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.2275&lt;/version&gt;\r\n    &lt;scope&gt;system&lt;/scope&gt;\r\n    &lt;systemPath&gt;${project.basedir}${file.separator}lib${file.separator}ZSDK_ANDROID_API.jar&lt;/systemPath&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n------------\r\n```java\r\nprivate boolean checkPrinterStatus(String ipAddress, int portNumber) {\r\n    try {\r\n        Connection connection = new TcpConnection(ipAddress, portNumber);\r\n        connection.open();\r\n        ZebraPrinter printer = ZebraPrinterFactory.getInstance(connection);\r\n        PrinterStatus printerStatus = printer.getCurrentStatus();\r\n        return printerStatus.isReadyToPrint &amp;&amp; !printerStatus.isPaused;\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        return false;\r\n    }\r\n}\r\n```\r\nWhen I compile it is working fine, when I maven clean and install it generates JAR file without any problem.\r\n\r\nWhen I run the JAR file in command prompt \r\nthe below error I am getting.\r\n```none\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.launch(ThinJarWrapper.java:139)\r\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.main(ThinJarWrapper.java:107)\r\nCaused by: java.lang.IllegalStateException: Cannot build model\r\n        at org.springframework.boot.loader.thin.DependencyResolver.dependencies(DependencyResolver.java:254)\r\n        at org.springframework.boot.loader.thin.PathResolver.extract(PathResolver.java:265)\r\n        at org.springframework.boot.loader.thin.PathResolver.resolve(PathResolver.java:111)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:393)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:376)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchivesIterator(ThinJarLauncher.java:226)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.launch(ThinJarLauncher.java:221)\r\n        at org.springframework.boot.loader.thin.ThinJarLauncher.main(ThinJarLauncher.java:168)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        ... 3 more\r\nCaused by: hidden.org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n[WARNING] &#39;dependencies.dependency.systemPath&#39; for your.groupId:external-library:jar should not point at files within the project directory, ${basedir}/lib/ZSDK_ANDROID_API.jar will be unresolvable by dependent projects @ line 78, column 25[ERROR] &#39;dependencies.dependency.systemPath&#39; for your.groupId:external-library:jar must specify an absolute path but is ${basedir}/lib/ZSDK_ANDROID_API.jar @ line 78, column 25\r\n\r\n        at hidden.org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:192)\r\n        at hidden.org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:123)\r\n        at org.springframework.boot.loader.thin.DependencyResolver.dependencies(DependencyResolver.java:213)\r\n        ... 12 more\r\nCaused by: hidden.org.apache.maven.model.building.ModelBuildingException: 2 problems were encountered while building the effective model for com.example:Atlas_Printer_Project:0.0.1-SNAPSHOT\r\n[WARNING] &#39;dependencies.dependency.systemPath&#39; for your.groupId:external-library:jar should not point at files within the project directory, ${basedir}/lib/ZSDK_ANDROID_API.jar will be unresolvable by dependent projects @ line 78, column 25[ERROR] &#39;dependencies.dependency.systemPath&#39; for your.groupId:external-library:jar must specify an absolute path but is ${basedir}/lib/ZSDK_ANDROID_API.jar @ line 78, column 25\r\n\r\n        at hidden.org.apache.maven.model.building.DefaultModelProblemCollector.newModelBuildingException(DefaultModelProblemCollector.java:197)\r\n        at hidden.org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:482)\r\n        at hidden.org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:424)\r\n        at hidden.org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:414)\r\n        at hidden.org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:158)\r\n        ... 14 more\r\n```\r\n","title":"when I run the jar file in command prompt i am getting error?","body":"<p>I have included zebra SDK external lib in my project it is inside lib folder in my project.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;your.groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;external-library&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2275&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}${file.separator}lib${file.separator}ZSDK_ANDROID_API.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>private boolean checkPrinterStatus(String ipAddress, int portNumber) {\n    try {\n        Connection connection = new TcpConnection(ipAddress, portNumber);\n        connection.open();\n        ZebraPrinter printer = ZebraPrinterFactory.getInstance(connection);\n        PrinterStatus printerStatus = printer.getCurrentStatus();\n        return printerStatus.isReadyToPrint &amp;&amp; !printerStatus.isPaused;\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n<p>When I compile it is working fine, when I maven clean and install it generates JAR file without any problem.</p>\n<p>When I run the JAR file in command prompt\nthe below error I am getting.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.launch(ThinJarWrapper.java:139)\n        at org.springframework.boot.loader.wrapper.ThinJarWrapper.main(ThinJarWrapper.java:107)\nCaused by: java.lang.IllegalStateException: Cannot build model\n        at org.springframework.boot.loader.thin.DependencyResolver.dependencies(DependencyResolver.java:254)\n        at org.springframework.boot.loader.thin.PathResolver.extract(PathResolver.java:265)\n        at org.springframework.boot.loader.thin.PathResolver.resolve(PathResolver.java:111)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:393)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchives(ThinJarLauncher.java:376)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.getClassPathArchivesIterator(ThinJarLauncher.java:226)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.launch(ThinJarLauncher.java:221)\n        at org.springframework.boot.loader.thin.ThinJarLauncher.main(ThinJarLauncher.java:168)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        ... 3 more\nCaused by: hidden.org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n[WARNING] 'dependencies.dependency.systemPath' for your.groupId:external-library:jar should not point at files within the project directory, ${basedir}/lib/ZSDK_ANDROID_API.jar will be unresolvable by dependent projects @ line 78, column 25[ERROR] 'dependencies.dependency.systemPath' for your.groupId:external-library:jar must specify an absolute path but is ${basedir}/lib/ZSDK_ANDROID_API.jar @ line 78, column 25\n\n        at hidden.org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:192)\n        at hidden.org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:123)\n        at org.springframework.boot.loader.thin.DependencyResolver.dependencies(DependencyResolver.java:213)\n        ... 12 more\nCaused by: hidden.org.apache.maven.model.building.ModelBuildingException: 2 problems were encountered while building the effective model for com.example:Atlas_Printer_Project:0.0.1-SNAPSHOT\n[WARNING] 'dependencies.dependency.systemPath' for your.groupId:external-library:jar should not point at files within the project directory, ${basedir}/lib/ZSDK_ANDROID_API.jar will be unresolvable by dependent projects @ line 78, column 25[ERROR] 'dependencies.dependency.systemPath' for your.groupId:external-library:jar must specify an absolute path but is ${basedir}/lib/ZSDK_ANDROID_API.jar @ line 78, column 25\n\n        at hidden.org.apache.maven.model.building.DefaultModelProblemCollector.newModelBuildingException(DefaultModelProblemCollector.java:197)\n        at hidden.org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:482)\n        at hidden.org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:424)\n        at hidden.org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:414)\n        at hidden.org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:158)\n        ... 14 more\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","window-handles","webdriverwait"],"comments":[{"owner":{"account_id":9933941,"reputation":1741,"user_id":7352883,"accept_rate":50,"display_name":"Shivam Mishra"},"score":0,"creation_date":1533293508,"post_id":51670893,"comment_id":90304531,"body_markdown":"The code you wrote will make your selenium driver to switch to the new window which gets opened. What is your expected scenario?","body":"The code you wrote will make your selenium driver to switch to the new window which gets opened. What is your expected scenario?"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":2,"creation_date":1533309553,"post_id":51670893,"comment_id":90314419,"body_markdown":"Possible duplicate of [How to switch to the new browser window, which opens after click on the button?](https://stackoverflow.com/questions/9588827/how-to-switch-to-the-new-browser-window-which-opens-after-click-on-the-button)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9588827/how-to-switch-to-the-new-browser-window-which-opens-after-click-on-the-button\">How to switch to the new browser window, which opens after click on the button?</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1533309580,"post_id":51670893,"comment_id":90314430,"body_markdown":"From your question, it sounds like you *DON&#39;T* want to switch to the new window ... if this is the case, you don&#39;t have to do anything. Selenium doesn&#39;t switch context to the new window unless you tell it to.","body":"From your question, it sounds like you <i>DON&#39;T</i> want to switch to the new window ... if this is the case, you don&#39;t have to do anything. Selenium doesn&#39;t switch context to the new window unless you tell it to."}],"answers":[{"comments":[{"owner":{"account_id":11159610,"reputation":9,"user_id":8190211,"display_name":"nikhil naphade"},"score":0,"creation_date":1533294488,"post_id":51671055,"comment_id":90305050,"body_markdown":"getting an error message for - if(!parent_window.equals(handle1))","body":"getting an error message for - if(!parent_window.equals(handle1))"},{"owner":{"account_id":11159610,"reputation":9,"user_id":8190211,"display_name":"nikhil naphade"},"score":0,"creation_date":1533295501,"post_id":51671055,"comment_id":90305574,"body_markdown":"Please check I have  updated my code. and Instead By.name I have put Xpath. Check it As I am not able to switch within same tab. It will allows me to redirect on another chrome window. Link for the screenshot:   https://i.stack.imgur.com/xw5ue.jpg","body":"Please check I have  updated my code. and Instead By.name I have put Xpath. Check it As I am not able to switch within same tab. It will allows me to redirect on another chrome window. Link for the screenshot:   <a href=\"https://i.stack.imgur.com/xw5ue.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/xw5ue.jpg</a>"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1533295724,"post_id":51671055,"comment_id":90305697,"body_markdown":"@nikhilnaphade This question was about **How to switch to a new window in through Selenium**. Once you have received well researched answers you must not change the original question as per stackoverflow rules. If your requirements have changed feel free to raise a new question. Stackoverflow volunteers will be happy to help you out. As of this occasion I am reverting the question to the initial state.","body":"@nikhilnaphade This question was about <b>How to switch to a new window in through Selenium</b>. Once you have received well researched answers you must not change the original question as per stackoverflow rules. If your requirements have changed feel free to raise a new question. Stackoverflow volunteers will be happy to help you out. As of this occasion I am reverting the question to the initial state."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":2,"creation_date":1533309546,"post_id":51671055,"comment_id":90314412,"body_markdown":"Why are you adding an answer to a question that is clearly a dup?","body":"Why are you adding an answer to a question that is clearly a dup?"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1533324684,"post_id":51671055,"comment_id":90321225,"body_markdown":"@JeffC The possible duplicate which you have marked is of 2012. Since then _Selenium_ have evolved a lot. Until and unless you update yourself with the recent implementation of _Selenium_ you won&#39;t be able to use the new features introduced by _Selenium Team_. In the recent implementation of _Selenium_ as per best practices switching window requires _WebDrierWait_. Hence was my Answer. Let know if you require further help.","body":"@JeffC The possible duplicate which you have marked is of 2012. Since then <i>Selenium</i> have evolved a lot. Until and unless you update yourself with the recent implementation of <i>Selenium</i> you won&#39;t be able to use the new features introduced by <i>Selenium Team</i>. In the recent implementation of <i>Selenium</i> as per best practices switching window requires <i>WebDrierWait</i>. Hence was my Answer. Let know if you require further help."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1533329480,"post_id":51671055,"comment_id":90323110,"body_markdown":"@DebanjanB We don&#39;t need all the new features implemented in the last 5 years, we only need to switch windows which doesn&#39;t require any new code other than what I linked as a dup.","body":"@DebanjanB We don&#39;t need all the new features implemented in the last 5 years, we only need to switch windows which doesn&#39;t require any new code other than what I linked as a dup."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1533329763,"post_id":51671055,"comment_id":90323201,"body_markdown":"@JeffC Of-coarse you shouldn&#39;t expect everyone to believe in the old school thoughts like you. Why don&#39;t you let others learn the implementation of `Selenium` as per the current updates? Why do you want to keep the new users in dark? That&#39;s total injustice.","body":"@JeffC Of-coarse you shouldn&#39;t expect everyone to believe in the old school thoughts like you. Why don&#39;t you let others learn the implementation of <code>Selenium</code> as per the current updates? Why do you want to keep the new users in dark? That&#39;s total injustice."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1533329852,"post_id":51671055,"comment_id":90323226,"body_markdown":"@DebanjanB That&#39;s not what I was saying... what I was saying was that all the code necessary to answer this question exists in the dup I linked. Your point that a lot has changed in the last five years isn&#39;t relevant to this question.","body":"@DebanjanB That&#39;s not what I was saying... what I was saying was that all the code necessary to answer this question exists in the dup I linked. Your point that a lot has changed in the last five years isn&#39;t relevant to this question."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1533330150,"post_id":51671055,"comment_id":90323347,"body_markdown":"@JeffC Once again, I would suggest you, read the documentation again. You are still dealing with a 5 years old implementation. If you don&#39;t update yourself with `Selenium 3.x` you wouldn&#39;t be able to make a fruitful transition to `Selenium 4.x` from this October, 2018. Rest is upto you.","body":"@JeffC Once again, I would suggest you, read the documentation again. You are still dealing with a 5 years old implementation. If you don&#39;t update yourself with <code>Selenium 3.x</code> you wouldn&#39;t be able to make a fruitful transition to <code>Selenium 4.x</code> from this October, 2018. Rest is upto you."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1533330279,"post_id":51671055,"comment_id":90323402,"body_markdown":"@DebanjanB What in the world are you talking about? You really need to work on reading and understanding people&#39;s comments.","body":"@DebanjanB What in the world are you talking about? You really need to work on reading and understanding people&#39;s comments."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533294635,"creation_date":1533293642,"answer_id":51671055,"question_id":51670893,"body_markdown":"To switch to a _new window_ you need to induce _WebDriverWait_ with _ExpectedConditions_ set as `numberOfWindowsToBe()` as follows:\r\n\r\n\r\n\tString parent_handle= driver.getWindowHandle();\r\n\tSystem.out.println(parent_handle);\r\n\tdriver.findElement(By.name(&quot;New Message Window&quot;)).click();\r\n\tnew WebDriverWait(driver,10).until(ExpectedConditions.numberOfWindowsToBe(2));\r\n\tSet&lt;String&gt; handles = driver.getWindowHandles();\r\n\tSystem.out.println(handles);\r\n\tfor(String handle1:handles)\r\n\t\tif(!parent_handle.equals(handle1))\r\n\t\t{\r\n\t\t\tdriver.switchTo().window(handle1);\r\n\t\t\tSystem.out.println(handle1);\r\n\t\t}","title":"How to switch to a new window in through Selenium","body":"<p>To switch to a <em>new window</em> you need to induce <em>WebDriverWait</em> with <em>ExpectedConditions</em> set as <code>numberOfWindowsToBe()</code> as follows:</p>\n\n<pre><code>String parent_handle= driver.getWindowHandle();\nSystem.out.println(parent_handle);\ndriver.findElement(By.name(\"New Message Window\")).click();\nnew WebDriverWait(driver,10).until(ExpectedConditions.numberOfWindowsToBe(2));\nSet&lt;String&gt; handles = driver.getWindowHandles();\nSystem.out.println(handles);\nfor(String handle1:handles)\n    if(!parent_handle.equals(handle1))\n    {\n        driver.switchTo().window(handle1);\n        System.out.println(handle1);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12906105,"reputation":690,"user_id":9333353,"display_name":"PersianIronwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566568279,"creation_date":1566568279,"answer_id":57627759,"question_id":51670893,"body_markdown":"I have a test environment for selenium using protractor within which there will be a `driver` indicating the webdriver.  I am using the `selenium-webdriver` npm package in my js code and I have a function that switches between the old and new tab/popup  : \r\n\r\n    goToTab(driver, tab) {\r\n        if (tab !== 1 || tab !== 0) {\r\n          throw new Error(`Tab ${tab} doesn&#39;t exist`);\r\n        }\r\n        return driver\r\n          .then(() =&gt; driver.getAllWindowHandles())\r\n          .then((handles) =&gt; {\r\n            driver.switchTo().window(handles[tab]);\r\n          })\r\n          .catch((err) =&gt; {\r\n            console.error(&#39;error in goToTab: &#39; + err);\r\n            throw err;\r\n          });\r\n      }","title":"How to switch to a new window in through Selenium","body":"<p>I have a test environment for selenium using protractor within which there will be a <code>driver</code> indicating the webdriver.  I am using the <code>selenium-webdriver</code> npm package in my js code and I have a function that switches between the old and new tab/popup  : </p>\n\n<pre><code>goToTab(driver, tab) {\n    if (tab !== 1 || tab !== 0) {\n      throw new Error(`Tab ${tab} doesn't exist`);\n    }\n    return driver\n      .then(() =&gt; driver.getAllWindowHandles())\n      .then((handles) =&gt; {\n        driver.switchTo().window(handles[tab]);\n      })\n      .catch((err) =&gt; {\n        console.error('error in goToTab: ' + err);\n        throw err;\n      });\n  }\n</code></pre>\n"}],"owner":{"account_id":11159610,"reputation":9,"user_id":8190211,"display_name":"nikhil naphade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692162526,"creation_date":1533293004,"question_id":51670893,"body_markdown":"I have 1 3rd party integration as Paypal. When I will click on Place Order button it will navigate me from Place Order page to paypal page.\r\nCan you please let me know how it will be work. I have tried below code and I will redirect to Paypal Page but new window gets appears instead of same page. \r\nPlease let me know how I will able to stay on same screen.\r\n\r\n\r\n\tString handle= driver.getWindowHandle();\r\n    System.out.println(handle);\r\n    driver.findElement(By.name(&quot;New Message Window&quot;)).click();\r\n    Set handles = driver.getWindowHandles();\r\n    System.out.println(handles);\r\n    for (String handle1 : driver.getWindowHandles()) {\r\n    \tSystem.out.println(handle1);\r\n     \tdriver.switchTo().window(handle1);\r\n   \t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t","title":"How to switch to a new window in through Selenium","body":"<p>I have 1 3rd party integration as Paypal. When I will click on Place Order button it will navigate me from Place Order page to paypal page.\nCan you please let me know how it will be work. I have tried below code and I will redirect to Paypal Page but new window gets appears instead of same page. \nPlease let me know how I will able to stay on same screen.</p>\n\n<pre><code>String handle= driver.getWindowHandle();\nSystem.out.println(handle);\ndriver.findElement(By.name(\"New Message Window\")).click();\nSet handles = driver.getWindowHandles();\nSystem.out.println(handles);\nfor (String handle1 : driver.getWindowHandles()) {\n    System.out.println(handle1);\n    driver.switchTo().window(handle1);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","synchronization","h2"],"comments":[{"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"score":0,"creation_date":1589146711,"post_id":61714899,"comment_id":109171222,"body_markdown":"Don&#39;t think there is some &#39;out-of-box&#39; solution, even blind merging of rows as import/export from one database to another will work by default - due to ids sequencing  at least.","body":"Don&#39;t think there is some &#39;out-of-box&#39; solution, even blind merging of rows as import/export from one database to another will work by default - due to ids sequencing  at least."}],"answers":[{"tags":[],"owner":{"account_id":9685841,"reputation":1379,"user_id":7436256,"display_name":"Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601720167,"creation_date":1601720167,"answer_id":64183104,"question_id":61714899,"body_markdown":"Recently, I started working on a project that has similar requirements. I haven&#39;t fully implemented it but I&#39;ll tell you how I planned it out. Here, I assume you have a single database on the online server to synchronize the data from the local applications.\r\n\r\n\r\n1. Ensure each record (both local and online) has a status properties that shows it has been synchronized. All local records are then marked as unsynchronized during creation or updation. \r\n\r\n2. Ensure there&#39;s no primary key(p.k) collision in your online databases. For example, applications 1 and 2 might have db tables called &quot;users&quot; that contain records with p.k of 10 each. Because of this, it&#39;s advisable to use non-numeric p.k designs like UUID (though with some tradeoffs) for this kind of systems.\r\n\r\n3. Since only the local applications that know the address of the online server, Synchronisation is initiated by by the local applications by using Crontasks. Synchronisation can also be user-triggered or the application can listen to network connection and triggers synchronisation when connected.\r\n\r\n4. To ensure that data are synchronised properly between the local applications and the online server, bidirectional connection is required. Initial connection requests are made by the local applications since they know the server address. Such connection will help the server to inform a local application about other data collected from another local application.\r\n\r\n5. When the online server receives a record from an application, it saves it as synchronised and then informs the local application about the successful save. The local application should mark the record as synchronised before sending it to the online server. When an unsuccessful synchronisation is received by the local application from the online server, the record is marked as unsynchronized. The reason for marking a record as synchronised before sending it to the online server is because the local application may have altered the state of the record before a synchronisation response comes back from the online server. When a local application is done sending unsynchronized data to the online server, the online server starts sending data collected from the other local applications which the current local application does not have already.\r\n\r\n6. Even the above setup can be implemented using HTTP request/response approach, it&#39;s clear that ```RSocket``` has more advantages in this application due to its numerous features: \r\n- Connection is bidirectional\r\n- Both ends can serve as client and server by sending requests and receiving responses\r\n- Back pressure to control sending and receipts of data\r\n- Requests and responses are binary data streams, hence speed is guaranteed\r\n- etc.\r\n\r\nThere are lots of ```Rsocket``` materials to help you get started in spring boot. \r\n[Here&#39;s is the official doc.][1] \r\nThere are wonderful [YouTube videos][2] on it as well by Josh Long.\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/03/02/getting-started-with-rsocket-spring-boot-server\r\n  [2]: https://youtu.be/ipVfRdl5SP0","title":"Synchronize database between client and app","body":"<p>Recently, I started working on a project that has similar requirements. I haven't fully implemented it but I'll tell you how I planned it out. Here, I assume you have a single database on the online server to synchronize the data from the local applications.</p>\n<ol>\n<li><p>Ensure each record (both local and online) has a status properties that shows it has been synchronized. All local records are then marked as unsynchronized during creation or updation.</p>\n</li>\n<li><p>Ensure there's no primary key(p.k) collision in your online databases. For example, applications 1 and 2 might have db tables called &quot;users&quot; that contain records with p.k of 10 each. Because of this, it's advisable to use non-numeric p.k designs like UUID (though with some tradeoffs) for this kind of systems.</p>\n</li>\n<li><p>Since only the local applications that know the address of the online server, Synchronisation is initiated by by the local applications by using Crontasks. Synchronisation can also be user-triggered or the application can listen to network connection and triggers synchronisation when connected.</p>\n</li>\n<li><p>To ensure that data are synchronised properly between the local applications and the online server, bidirectional connection is required. Initial connection requests are made by the local applications since they know the server address. Such connection will help the server to inform a local application about other data collected from another local application.</p>\n</li>\n<li><p>When the online server receives a record from an application, it saves it as synchronised and then informs the local application about the successful save. The local application should mark the record as synchronised before sending it to the online server. When an unsuccessful synchronisation is received by the local application from the online server, the record is marked as unsynchronized. The reason for marking a record as synchronised before sending it to the online server is because the local application may have altered the state of the record before a synchronisation response comes back from the online server. When a local application is done sending unsynchronized data to the online server, the online server starts sending data collected from the other local applications which the current local application does not have already.</p>\n</li>\n<li><p>Even the above setup can be implemented using HTTP request/response approach, it's clear that <code>RSocket</code> has more advantages in this application due to its numerous features:</p>\n</li>\n</ol>\n<ul>\n<li>Connection is bidirectional</li>\n<li>Both ends can serve as client and server by sending requests and receiving responses</li>\n<li>Back pressure to control sending and receipts of data</li>\n<li>Requests and responses are binary data streams, hence speed is guaranteed</li>\n<li>etc.</li>\n</ul>\n<p>There are lots of <code>Rsocket</code> materials to help you get started in spring boot.\n<a href=\"https://spring.io/blog/2020/03/02/getting-started-with-rsocket-spring-boot-server\" rel=\"nofollow noreferrer\">Here's is the official doc.</a>\nThere are wonderful <a href=\"https://youtu.be/ipVfRdl5SP0\" rel=\"nofollow noreferrer\">YouTube videos</a> on it as well by Josh Long.</p>\n"},{"tags":[],"owner":{"account_id":26762084,"reputation":1,"user_id":20359867,"display_name":"meer34"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692162362,"creation_date":1666975406,"answer_id":74238440,"question_id":61714899,"body_markdown":"Recently, I had a similar requirement from a client. My approach was similar to the approach used by Wilson. But I used numerical id only for the objects.\r\n\r\nBelow are the details:\r\n\r\n1. Each model has 2 additional fields - remoteId and synced. The remoteId is the id of the other server. Whenever any entity is created or updated the synced flag is set to false.\r\n2. Sync gets triggered by the local server using a cron schedular.\r\n3. Local server fetches all non synchronized data(synced=false) and send them to the online server in json format.\r\n4. Remote server receives the data, interchanges the values of id &amp; remoteId, marks synced flag as true and then saves the data.\r\n5. Upon successful processing of the data online server sends an acknowledgement to the local server with the saved id.\r\n6. Once acknowledgement is received, the local server updates the sent object marking the remoteId as online id and synced flag as true.\r\n8. Similarly local server requests online server for any non synced data. The online server fetches all the non synced online data and sends them to local server.\r\n9. Local server saves received data changing the id to remoteId and marking synced flag as true. Once done the local server sends an acknowledgement to the online server with the id of the saved object.\r\n10. Upon receiving acknowledgement, the online server updates the object with received id as remote id and synced flag as true.\r\n\r\nFor handing the delete sync an entity listener is used. The lister makes a table entry whenever any entity is deleted which has a not null remoteId. The delete records are interchanged between the servers at the time of sync and then processed. Once processing is done the other server is acknowledged and delete sync table data is cleared there.\r\n","title":"Synchronize database between client and app","body":"<p>Recently, I had a similar requirement from a client. My approach was similar to the approach used by Wilson. But I used numerical id only for the objects.</p>\n<p>Below are the details:</p>\n<ol>\n<li>Each model has 2 additional fields - remoteId and synced. The remoteId is the id of the other server. Whenever any entity is created or updated the synced flag is set to false.</li>\n<li>Sync gets triggered by the local server using a cron schedular.</li>\n<li>Local server fetches all non synchronized data(synced=false) and send them to the online server in json format.</li>\n<li>Remote server receives the data, interchanges the values of id &amp; remoteId, marks synced flag as true and then saves the data.</li>\n<li>Upon successful processing of the data online server sends an acknowledgement to the local server with the saved id.</li>\n<li>Once acknowledgement is received, the local server updates the sent object marking the remoteId as online id and synced flag as true.</li>\n<li>Similarly local server requests online server for any non synced data. The online server fetches all the non synced online data and sends them to local server.</li>\n<li>Local server saves received data changing the id to remoteId and marking synced flag as true. Once done the local server sends an acknowledgement to the online server with the id of the saved object.</li>\n<li>Upon receiving acknowledgement, the online server updates the object with received id as remote id and synced flag as true.</li>\n</ol>\n<p>For handing the delete sync an entity listener is used. The lister makes a table entry whenever any entity is deleted which has a not null remoteId. The delete records are interchanged between the servers at the time of sync and then processed. Once processing is done the other server is acknowledged and delete sync table data is cleared there.</p>\n"}],"owner":{"account_id":2796857,"reputation":2787,"user_id":2405937,"accept_rate":89,"display_name":"G&#225;bor Csik&#243;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692162362,"creation_date":1589126601,"question_id":61714899,"body_markdown":"I have the following setup. I have a server, and several applications (Spring boot java apps).\r\nThe server and the applications have separate (h2) databases, so that they can do offline work.\r\n\r\nThe client knows the servers address, but the server does not know the clients address.\r\nHow can I synchronize the databases between them?\r\nI thought to implement a schedule table and when the client is online send the data to the server, but than the server can make changes as well....and I have several objects to sync.\r\n\r\nIsn&#39;t there any out-of-the box solution?\r\nI checked SymmetricDS but the there everybody must know each others address.","title":"Synchronize database between client and app","body":"<p>I have the following setup. I have a server, and several applications (Spring boot java apps).\nThe server and the applications have separate (h2) databases, so that they can do offline work.</p>\n\n<p>The client knows the servers address, but the server does not know the clients address.\nHow can I synchronize the databases between them?\nI thought to implement a schedule table and when the client is online send the data to the server, but than the server can make changes as well....and I have several objects to sync.</p>\n\n<p>Isn't there any out-of-the box solution?\nI checked SymmetricDS but the there everybody must know each others address.</p>\n"},{"tags":["java","jit","jmh"],"comments":[{"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"score":0,"creation_date":1694766374,"post_id":76910568,"comment_id":135937148,"body_markdown":"I don&#39;t see any vector instruction in both runs, which is kind of expected since vectorisation of matrix multiplication is not trivial.","body":"I don&#39;t see any vector instruction in both runs, which is kind of expected since vectorisation of matrix multiplication is not trivial."},{"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"score":0,"creation_date":1694766481,"post_id":76910568,"comment_id":135937162,"body_markdown":"`vadd` and `vmov` do not mean vector instructions, in this case `vaddss` and `vmovss` are scalar instructions working on single single-precision elements (hence `ss`).","body":"<code>vadd</code> and <code>vmov</code> do not mean vector instructions, in this case <code>vaddss</code> and <code>vmovss</code> are scalar instructions working on single single-precision elements (hence <code>ss</code>)."},{"owner":{"account_id":1046777,"reputation":261,"user_id":9963146,"display_name":"Styp"},"score":0,"creation_date":1696948799,"post_id":76910568,"comment_id":136216229,"body_markdown":"This statement is wrong, vadd and vmov do operations on the XMM register which is MMX so, therefore, we have SIMD acceleration...","body":"This statement is wrong, vadd and vmov do operations on the XMM register which is MMX so, therefore, we have SIMD acceleration..."},{"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"score":0,"creation_date":1696990631,"post_id":76910568,"comment_id":136222053,"body_markdown":"In x86, vector registers are also floating point registers, so all fp operations operate on vector registers.","body":"In x86, vector registers are also floating point registers, so all fp operations operate on vector registers."},{"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"score":0,"creation_date":1696990808,"post_id":76910568,"comment_id":136222062,"body_markdown":"Also, just because an instruction operate on vector registers, one cannot imply that it is a vector instruction. In this case, the instruction `vmovss` stands for Vex-prefixed, MOV Single Single-precision floating point value, which is a scalar instruction. The corresponding vector instruction is `vmovps` which stands for Vex-prefixed, MOV Packed Single-precision floating point values.","body":"Also, just because an instruction operate on vector registers, one cannot imply that it is a vector instruction. In this case, the instruction <code>vmovss</code> stands for Vex-prefixed, MOV Single Single-precision floating point value, which is a scalar instruction. The corresponding vector instruction is <code>vmovps</code> which stands for Vex-prefixed, MOV Packed Single-precision floating point values."}],"owner":{"account_id":1046777,"reputation":261,"user_id":9963146,"display_name":"Styp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692161573,"creation_date":1692160890,"question_id":76910568,"body_markdown":"I am benchmarking some algorithms, wondering how much the JIT applies auto-vectorization. I set up a JMH project and am trying to turn auto-vectorization off.\r\n\r\nThe code snipped and the results can be found in the following gist: https://gist.github.com/Styp/16e8a20fedfb771107377407fc1cf210 (Sorry too long to post here).\r\n\r\nThe results indicate that one is faster than the other, which is expected. Nevertheless, the deviation is so high that the benchmark is not representative. What irritates me the most is that the version with turned of SuperWord still contains vadd and vmove instructions in the Jit-generated code. Do I miss something? How can I enforce vectorization turned off for good?\r\nAny ideas? ","title":"UseSuperWord turned off, and still getting vectorized code?","body":"<p>I am benchmarking some algorithms, wondering how much the JIT applies auto-vectorization. I set up a JMH project and am trying to turn auto-vectorization off.</p>\n<p>The code snipped and the results can be found in the following gist: <a href=\"https://gist.github.com/Styp/16e8a20fedfb771107377407fc1cf210\" rel=\"nofollow noreferrer\">https://gist.github.com/Styp/16e8a20fedfb771107377407fc1cf210</a> (Sorry too long to post here).</p>\n<p>The results indicate that one is faster than the other, which is expected. Nevertheless, the deviation is so high that the benchmark is not representative. What irritates me the most is that the version with turned of SuperWord still contains vadd and vmove instructions in the Jit-generated code. Do I miss something? How can I enforce vectorization turned off for good?\nAny ideas?</p>\n"},{"tags":["java","performance-testing","gatling"],"comments":[{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":1,"creation_date":1692167371,"post_id":76910540,"comment_id":135585349,"body_markdown":"Sorry, but it&#39;s unclear what you&#39;re asking for. From my understanding, there&#39;s a design issue with your in-house extension and the way you register your listeners and the way you correlate events. You&#39;re maybe looking for consulting.","body":"Sorry, but it&#39;s unclear what you&#39;re asking for. From my understanding, there&#39;s a design issue with your in-house extension and the way you register your listeners and the way you correlate events. You&#39;re maybe looking for consulting."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1692177252,"post_id":76910540,"comment_id":135587203,"body_markdown":"I am an ordinary developer and have no financial decisions power. What I am after is to find out if there is a way to postpone in a `Gating` scenario the decision if OK or KO until the moment we know for sure it was an OK or a KO. Hope it brings some clarifications","body":"I am an ordinary developer and have no financial decisions power. What I am after is to find out if there is a way to postpone in a <code>Gating</code> scenario the decision if OK or KO until the moment we know for sure it was an OK or a KO. Hope it brings some clarifications"},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1692192030,"post_id":76910540,"comment_id":135590310,"body_markdown":"&quot;find out if there is a way to postpone in a Gating scenario the decision if OK or KO&quot;. No. You must define the status when you&#39;re logging the &quot;response&quot; event.","body":"&quot;find out if there is a way to postpone in a Gating scenario the decision if OK or KO&quot;. No. You must define the status when you&#39;re logging the &quot;response&quot; event."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1692227613,"post_id":76910540,"comment_id":135596634,"body_markdown":"Hmmm This is what I thought too, unfortunately. Tell me pls, is there a way to delay the performance run finish for a given period of time (configurable) after the injection is done?","body":"Hmmm This is what I thought too, unfortunately. Tell me pls, is there a way to delay the performance run finish for a given period of time (configurable) after the injection is done?"},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1692247883,"post_id":76910540,"comment_id":135598210,"body_markdown":"Disclaimer: I&#39;m the creator of Gatling and the CTO of the company. My understanding is that you have to build a complex system coordinating asynchronous events from multiple sources. This is a complex task that requires time to collect private information about your system and then design. I can only help with this through corporate consulting under NDA. Your managers can reach out here if interested: https://gatling.io/contact/. Regards.","body":"Disclaimer: I&#39;m the creator of Gatling and the CTO of the company. My understanding is that you have to build a complex system coordinating asynchronous events from multiple sources. This is a complex task that requires time to collect private information about your system and then design. I can only help with this through corporate consulting under NDA. Your managers can reach out here if interested: <a href=\"https://gatling.io/contact/\" rel=\"nofollow noreferrer\">gatling.io/contact</a>. Regards."}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692160407,"creation_date":1692160407,"question_id":76910540,"body_markdown":"We are using Gatling framework to run performance test on our micro services. All our micro services are backend ones and integrates between them either via JMS or Kafka. Usually a message enters one of our micro-services either as an API call or as a JMS message or as a Kafka record and exits either as an API call or JMS message or as Kafka record.\r\n\r\nTo be able to support our testing we built some in house custom actions implementing `io.gatling.core.action.ChainableAction` and `com.typesafe.scalalogging.StrictLogging` interfaces. These actions are base on the input and the output on some micro service so we ended up with some `HttpToKafkaAction`, `HttpToJmsAction`, `KafkaToJmsAction` and so on.\r\n\r\nThe way these actions work is by initiating a request and asynchronously waiting for the output to arrive. If the output is produced within less than a timeout period we mark the execution as `OK`, if the output does not pops up within this timeout period we mark the execution as `KO`.\r\n\r\nThis looked all right at a very first look but we started noticing false negatives (false `KO`s) when it took the application close to nothing to process a message (request) but gatling did not get the output within the timeout period. **This highlighted a major design issue because the time taking gatling to get the response should have nothing to do with when the processing started and ended.**\r\n\r\nDuring test execution there are output listeners (Kafka, or MQ) that will keep getting the outputs and record the end times together with the start time in some `key, startTime, endTime` structure. So at this point we could know accurately whether the message was processed within the expected time or not.\r\nThe issue is that these listeners are totally decoupled from the asynchronous process waiting for these structure to be populated and if not populated it will timeout. In other words at the moment output arrived the message is already marked as timeout.\r\n\r\nWhat we like is to have the possibility to decouple input producing from output receiving and take the decision of whether it was in time or not based on the start time and end time rather than how long we waited for the output.\r\n\r\nHope I managed to make myself clear and open to suggestions about how to achieve this. Gatling is a performance framework enforced to use at enterprise level. It would take us a small effort to implement what we want without Gatling but this is not an option. Also Gatling execution reports look nice and easy to read so somehow hard to give up on them. ","title":"Gatling setting OK or KO in asynchronous processing","body":"<p>We are using Gatling framework to run performance test on our micro services. All our micro services are backend ones and integrates between them either via JMS or Kafka. Usually a message enters one of our micro-services either as an API call or as a JMS message or as a Kafka record and exits either as an API call or JMS message or as Kafka record.</p>\n<p>To be able to support our testing we built some in house custom actions implementing <code>io.gatling.core.action.ChainableAction</code> and <code>com.typesafe.scalalogging.StrictLogging</code> interfaces. These actions are base on the input and the output on some micro service so we ended up with some <code>HttpToKafkaAction</code>, <code>HttpToJmsAction</code>, <code>KafkaToJmsAction</code> and so on.</p>\n<p>The way these actions work is by initiating a request and asynchronously waiting for the output to arrive. If the output is produced within less than a timeout period we mark the execution as <code>OK</code>, if the output does not pops up within this timeout period we mark the execution as <code>KO</code>.</p>\n<p>This looked all right at a very first look but we started noticing false negatives (false <code>KO</code>s) when it took the application close to nothing to process a message (request) but gatling did not get the output within the timeout period. <strong>This highlighted a major design issue because the time taking gatling to get the response should have nothing to do with when the processing started and ended.</strong></p>\n<p>During test execution there are output listeners (Kafka, or MQ) that will keep getting the outputs and record the end times together with the start time in some <code>key, startTime, endTime</code> structure. So at this point we could know accurately whether the message was processed within the expected time or not.\nThe issue is that these listeners are totally decoupled from the asynchronous process waiting for these structure to be populated and if not populated it will timeout. In other words at the moment output arrived the message is already marked as timeout.</p>\n<p>What we like is to have the possibility to decouple input producing from output receiving and take the decision of whether it was in time or not based on the start time and end time rather than how long we waited for the output.</p>\n<p>Hope I managed to make myself clear and open to suggestions about how to achieve this. Gatling is a performance framework enforced to use at enterprise level. It would take us a small effort to implement what we want without Gatling but this is not an option. Also Gatling execution reports look nice and easy to read so somehow hard to give up on them.</p>\n"},{"tags":["java","spring","database","oracle","ucp"],"answers":[{"tags":[],"owner":{"account_id":17598499,"reputation":166,"user_id":12768970,"display_name":"Saurabh Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692159628,"creation_date":1692159628,"answer_id":76910503,"question_id":76908597,"body_markdown":"Could you please tell the JDBC/UCP jar version being used?\r\nStaring 12c, calling PoolDataSource.setONSConfiguration() is optional. If you need ONS or fast connection failover feature in your application, you can simply set PoolDataSource.setFastConnectionFailoverEnabled(true), this should be good enough.","title":"How do I set up Oracle ONS in spring boot microservice using PoolDataSource.setONSConfiguration?","body":"<p>Could you please tell the JDBC/UCP jar version being used?\nStaring 12c, calling PoolDataSource.setONSConfiguration() is optional. If you need ONS or fast connection failover feature in your application, you can simply set PoolDataSource.setFastConnectionFailoverEnabled(true), this should be good enough.</p>\n"}],"owner":{"account_id":6997024,"reputation":11,"user_id":5364388,"display_name":"P.Rosario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692159628,"creation_date":1692127126,"question_id":76908597,"body_markdown":"I have read the ONS part of the Oracle documentation on this. It says it requires 3 parameters of localport remoteport and nodes. Can someone post an example of how these 3 parameters would look filled out? \r\n\r\n\r\nI tried setting my local host port, and also the local host port of my oracle database team, I’ve also tried setting the address of the nodes. However it looks like the formatting might be wrong.\r\n\r\nI’m getting ONS failed to connect, server timeout when I try running the microservice. ","title":"How do I set up Oracle ONS in spring boot microservice using PoolDataSource.setONSConfiguration?","body":"<p>I have read the ONS part of the Oracle documentation on this. It says it requires 3 parameters of localport remoteport and nodes. Can someone post an example of how these 3 parameters would look filled out?</p>\n<p>I tried setting my local host port, and also the local host port of my oracle database team, I’ve also tried setting the address of the nodes. However it looks like the formatting might be wrong.</p>\n<p>I’m getting ONS failed to connect, server timeout when I try running the microservice.</p>\n"},{"tags":["javascript","java","deployment","discord"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692127492,"post_id":76908617,"comment_id":135581478,"body_markdown":"Hello, welcome to Stack Overflow! Maybe you should [read this](https://stackoverflow.com/help/how-to-ask), and then edit your question.","body":"Hello, welcome to Stack Overflow! Maybe you should <a href=\"https://stackoverflow.com/help/how-to-ask\">read this</a>, and then edit your question."}],"owner":{"account_id":29231995,"reputation":1,"user_id":22395486,"display_name":"FataL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692155171,"creation_date":1692127320,"question_id":76908617,"body_markdown":"```bash\r\n&gt; discord-musicbot@5.0.0-beta deploy\r\n&gt; node deploy/deployGlobal\r\n```\r\n\r\n```\r\n\\\\wsl.localhost\\Debian\\home\\fatalog\\Discord-MusicBot&#39;\r\nCMD.EXE was started with the above path as the current directory.\r\nUNC paths are not supported.  Defaulting to Windows directory.\r\nnode:internal/modules/cjs/loader:1080\r\n  throw err;\r\n  ^\r\n\r\nError: Cannot find module &#39;C:\\Windows\\deploy\\deployGlobal&#39;\r\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)\r\n    at Module._load (node:internal/modules/cjs/loader:922:27)\r\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\r\n    at node:internal/main/run_main_module:23:47 {\r\n  code: &#39;MODULE_NOT_FOUND&#39;,\r\n  requireStack: []\r\n}\r\n```\r\n\r\ni wanted to run the deploy command to initiate node `index.js`","title":"error when using deploy, npm run deploy says no file found in directory use stack","body":"<pre class=\"lang-bash prettyprint-override\"><code>&gt; discord-musicbot@5.0.0-beta deploy\n&gt; node deploy/deployGlobal\n</code></pre>\n<pre><code>\\\\wsl.localhost\\Debian\\home\\fatalog\\Discord-MusicBot'\nCMD.EXE was started with the above path as the current directory.\nUNC paths are not supported.  Defaulting to Windows directory.\nnode:internal/modules/cjs/loader:1080\n  throw err;\n  ^\n\nError: Cannot find module 'C:\\Windows\\deploy\\deployGlobal'\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)\n    at Module._load (node:internal/modules/cjs/loader:922:27)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\n    at node:internal/main/run_main_module:23:47 {\n  code: 'MODULE_NOT_FOUND',\n  requireStack: []\n}\n</code></pre>\n<p>i wanted to run the deploy command to initiate node <code>index.js</code></p>\n"},{"tags":["java","spring","mapping","mapstruct","mapper"],"comments":[{"owner":{"account_id":17359971,"reputation":2702,"user_id":12576497,"display_name":"RUARO Thibault"},"score":0,"creation_date":1596532733,"post_id":63243473,"comment_id":111834034,"body_markdown":"Have you checked this https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class ?","body":"Have you checked this <a href=\"https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class\" title=\"mapstruct how can i inject a spring dependency in the generated mapper class\">stackoverflow.com/questions/38807415/&hellip;</a> ?"},{"owner":{"account_id":13467270,"reputation":1,"user_id":9717070,"display_name":"Shashank"},"score":0,"creation_date":1596539586,"post_id":63243473,"comment_id":111837226,"body_markdown":"@RUAROThibault Yes I checked that. Still after following that post no result in my favour.","body":"@RUAROThibault Yes I checked that. Still after following that post no result in my favour."}],"answers":[{"comments":[{"owner":{"account_id":13467270,"reputation":1,"user_id":9717070,"display_name":"Shashank"},"score":0,"creation_date":1596539761,"post_id":63243836,"comment_id":111837312,"body_markdown":"I am using  mapstruct version 1.3.0 But this method too didn&#39;t fetch me my result. The fields in `FilesDTO` are still null.","body":"I am using  mapstruct version 1.3.0 But this method too didn&#39;t fetch me my result. The fields in <code>FilesDTO</code> are still null."}],"tags":[],"owner":{"account_id":3653540,"reputation":868,"user_id":3045105,"accept_rate":83,"display_name":"Pavel Polivka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596533030,"creation_date":1596533030,"answer_id":63243836,"question_id":63243473,"body_markdown":"Since mapstruct 1.2 you can use a combination of @AfterMapping and @Context.\r\n```\r\n@Mapper(componentModel=&quot;spring&quot;)\r\npublic interface FilesDTOMapper { \r\n\r\n   @Mapping(target = &quot;xyz&quot;, ignore = true)\r\n   @Mapping(target = &quot;issue&quot;, source = &quot;domain.issueNumber&quot;)\r\n   @Mapping(target = &quot;DOI&quot;, source = &quot;domain.doi&quot;)\r\n   FilesDTO map( BackHalfDomain domain, @Context MyRepo repo);\r\n\r\n   @AfterMapping\r\n   default void map( @MappingTarget FilesDTO target, BackHalfDomain domain, @Context MyRepo repo) {\r\n        target.setXYZ(repo.findById(domain.getId()));\r\n   }\r\n }\r\n```\r\n\r\nIn 1.1 you would need to transform the mapper to a abstract class\r\n\r\n```\r\n@Mapper(unmappedTargetPolicy = org.mapstruct.ReportingPolicy.IGNORE,\r\n        componentModel = &quot;spring&quot;,\r\n        uses = {})\r\npublic abstract class FilesDTOMapper {\r\n\r\n    @Autowired\r\n    protected MyRepo repo;\r\n\r\n\r\n    @Mapping(target = &quot;issue&quot;, source = &quot;domain.issueNumber&quot;)\r\n    @Mapping(target = &quot;DOI&quot;, source = &quot;domain.doi&quot;)\r\n    @Mapping(target=&quot;xyz&quot;, expression=&quot;java(repo.findById(domain.getId())))&quot;)\r\n    public FilesDTO map(BackHalfDomain domain);\r\n\r\n}\r\n```","title":"How can I use spring injection, A repository class in a mapstruct mapper?","body":"<p>Since mapstruct 1.2 you can use a combination of @AfterMapping and @Context.</p>\n<pre><code>@Mapper(componentModel=&quot;spring&quot;)\npublic interface FilesDTOMapper { \n\n   @Mapping(target = &quot;xyz&quot;, ignore = true)\n   @Mapping(target = &quot;issue&quot;, source = &quot;domain.issueNumber&quot;)\n   @Mapping(target = &quot;DOI&quot;, source = &quot;domain.doi&quot;)\n   FilesDTO map( BackHalfDomain domain, @Context MyRepo repo);\n\n   @AfterMapping\n   default void map( @MappingTarget FilesDTO target, BackHalfDomain domain, @Context MyRepo repo) {\n        target.setXYZ(repo.findById(domain.getId()));\n   }\n }\n</code></pre>\n<p>In 1.1 you would need to transform the mapper to a abstract class</p>\n<pre><code>@Mapper(unmappedTargetPolicy = org.mapstruct.ReportingPolicy.IGNORE,\n        componentModel = &quot;spring&quot;,\n        uses = {})\npublic abstract class FilesDTOMapper {\n\n    @Autowired\n    protected MyRepo repo;\n\n\n    @Mapping(target = &quot;issue&quot;, source = &quot;domain.issueNumber&quot;)\n    @Mapping(target = &quot;DOI&quot;, source = &quot;domain.doi&quot;)\n    @Mapping(target=&quot;xyz&quot;, expression=&quot;java(repo.findById(domain.getId())))&quot;)\n    public FilesDTO map(BackHalfDomain domain);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148297,"reputation":2213,"user_id":359974,"accept_rate":85,"display_name":"Federico Cristina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642167682,"creation_date":1642167372,"answer_id":70711403,"question_id":63243473,"body_markdown":"I ran into this same problem.  The solution was to use a Decorator as suggested in [this answer][1].  Following your code, the solution would be something like the following.\r\n\r\nFirst, we have to specifiy the Decorator in the Mapper:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    @Primary\r\n    @DecoratedWith(FilesDTOMapperDecorator.class)\r\n    public interface FilesDTOMapper {\r\n          // basic mapping here\r\n          public FilesDTO map(BackHalfDomain domain);\r\n    }\r\n\r\nThen, implement the Decorator:\r\n\r\n    public abstract class FilesDTOMapperDecorator implements FilesDTOMapper {\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;delegate&quot;)\r\n        private FilesDTOMapper delegate;\r\n\r\n        @Autowired\r\n        private SomeRepository someRepository;\r\n\r\n        @Override\r\n        public FilesDTO map(BackHalfDomain domain) {\r\n            // Delegate basic mapping\r\n            FilesDTO filesDTO = delegate.map(domain);\r\n \r\n            // Use the repository as needed to set additional mapping\r\n            filesDTO.setSomeValue(repo.findById(id).getSomeValue());\r\n\r\n            return filesDTO;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60217018/359974","title":"How can I use spring injection, A repository class in a mapstruct mapper?","body":"<p>I ran into this same problem.  The solution was to use a Decorator as suggested in <a href=\"https://stackoverflow.com/a/60217018/359974\">this answer</a>.  Following your code, the solution would be something like the following.</p>\n<p>First, we have to specifiy the Decorator in the Mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\n@Primary\n@DecoratedWith(FilesDTOMapperDecorator.class)\npublic interface FilesDTOMapper {\n      // basic mapping here\n      public FilesDTO map(BackHalfDomain domain);\n}\n</code></pre>\n<p>Then, implement the Decorator:</p>\n<pre><code>public abstract class FilesDTOMapperDecorator implements FilesDTOMapper {\n\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    private FilesDTOMapper delegate;\n\n    @Autowired\n    private SomeRepository someRepository;\n\n    @Override\n    public FilesDTO map(BackHalfDomain domain) {\n        // Delegate basic mapping\n        FilesDTO filesDTO = delegate.map(domain);\n\n        // Use the repository as needed to set additional mapping\n        filesDTO.setSomeValue(repo.findById(id).getSomeValue());\n\n        return filesDTO;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28766792,"reputation":1,"user_id":22031515,"display_name":"Rtem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686072247,"creation_date":1686072247,"answer_id":76417041,"question_id":63243473,"body_markdown":"You need to inject mapper into service like a bean. ","title":"How can I use spring injection, A repository class in a mapstruct mapper?","body":"<p>You need to inject mapper into service like a bean.</p>\n"}],"owner":{"account_id":13467270,"reputation":1,"user_id":9717070,"display_name":"Shashank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692155155,"creation_date":1596531681,"question_id":63243473,"body_markdown":"```\r\n@Data\r\npublic class FilesDTO {\r\n\r\n\tprivate int issue;\r\n\tprivate String uniqueStr;\r\n\tprivate StorageDomain xml;\r\n\tprivate StorageDomain pdf;\r\n\tprivate StorageDomain stop;\r\n}\r\n@Data\r\npublic class BackHalfDomain {\r\n\tprivate int articleId;\r\n\tprivate String uniqueStrr;\r\n\tprivate long xmlContentId;\r\n\tprivate long pdfContentId;\r\n\tprivate long stopId;\r\n\tprivate int issueNumber;\r\n}\r\n```\r\nUsing a repository class I have to fetch a `StorageDomain` object from the ID in `BackHalfDomain`. So I have to map `StorageDomain` object with respective fields.\r\nlike `StorgeDomain sd = repo.findById(id).get();` and set this `sd` object in `FilesDTO`&#39;s xml field and so on.\r\nThis is my mapper\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface FilesDTOMapper {\r\n\r\n\tpublic static final FilesDTOMapper fileDTOMapper = Mappers.getMapper(FilesDTOMapper.class);\r\n\r\n\t@Mapping(target = &quot;issue&quot;, source = &quot;domain.issueNumber&quot;)\r\n\t@Mapping(target = &quot;DOI&quot;, source = &quot;domain.doi&quot;)\r\n\tpublic FilesDTO map(BackHalfDomain domain);\r\n\r\n}\r\n```\r\nI have used `uses` but wasn&#39;t successful.\r\nI have used `@Mapping(target=&quot;xyz&quot;, expression=&quot;java(repo.findById(id))&quot;)&quot;`\r\nbut all I got was `NullPointerException`\r\nSpring injection isin&#39;t working.\r\nCan someone have a solution for this? I am just started with `mapstruct`","title":"How can I use spring injection, A repository class in a mapstruct mapper?","body":"<pre><code>@Data\npublic class FilesDTO {\n\n    private int issue;\n    private String uniqueStr;\n    private StorageDomain xml;\n    private StorageDomain pdf;\n    private StorageDomain stop;\n}\n@Data\npublic class BackHalfDomain {\n    private int articleId;\n    private String uniqueStrr;\n    private long xmlContentId;\n    private long pdfContentId;\n    private long stopId;\n    private int issueNumber;\n}\n</code></pre>\n<p>Using a repository class I have to fetch a <code>StorageDomain</code> object from the ID in <code>BackHalfDomain</code>. So I have to map <code>StorageDomain</code> object with respective fields.\nlike <code>StorgeDomain sd = repo.findById(id).get();</code> and set this <code>sd</code> object in <code>FilesDTO</code>'s xml field and so on.\nThis is my mapper</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface FilesDTOMapper {\n\n    public static final FilesDTOMapper fileDTOMapper = Mappers.getMapper(FilesDTOMapper.class);\n\n    @Mapping(target = &quot;issue&quot;, source = &quot;domain.issueNumber&quot;)\n    @Mapping(target = &quot;DOI&quot;, source = &quot;domain.doi&quot;)\n    public FilesDTO map(BackHalfDomain domain);\n\n}\n</code></pre>\n<p>I have used <code>uses</code> but wasn't successful.\nI have used <code>@Mapping(target=&quot;xyz&quot;, expression=&quot;java(repo.findById(id))&quot;)&quot;</code>\nbut all I got was <code>NullPointerException</code>\nSpring injection isin't working.\nCan someone have a solution for this? I am just started with <code>mapstruct</code></p>\n"},{"tags":["java","constraints","jsprit"],"answers":[{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692154358,"creation_date":1692154358,"answer_id":76910218,"question_id":76908275,"body_markdown":"I&#39;ve solved this by using `JSprit.setObjectiveFunction()` instead of a custom constraint. Much simpler to implement. \r\n\r\n\r\n\tpublic double getCosts( VehicleRoutingProblemSolution solution ) {\r\n\t\tdouble costPerPassengerSecond = 0.001;\r\n\t\tdouble costs = 0.0;\r\n\t\tint passengersInVehicle = 0;\r\n\t\tfor ( VehicleRoute route : solution.getRoutes() ) {\r\n\t\t\tcosts += route.getVehicle().getType().getVehicleCostParams().fix;\r\n\t\t\tTourActivity prevAct = route.getStart();\r\n\r\n\t\t\tfor ( TourActivity act : route.getActivities() ) {\r\n\t\t\t\tcosts += vrp.getTransportCosts().getTransportCost(prevAct.getLocation(), act.getLocation(), prevAct.getEndTime(), route.getDriver(), route.getVehicle());\r\n\t\t\t\t//costs += vrp.getActivityCosts().getActivityCost(act, act.getArrTime(), route.getDriver(), route.getVehicle()); // there are no activity costs, because CostPerServiceTime is zero\r\n\t\t\t\tcosts += costPerPassengerSecond * passengersInVehicle * vrp.getTransportCosts().getTransportTime(prevAct.getLocation(), act.getLocation(), prevAct.getEndTime(), route.getDriver(), route.getVehicle());\r\n\t\t\t\tpassengersInVehicle += act.getSize().get(0);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tcosts += vrp.getTransportCosts().getTransportCost(prevAct.getLocation(), route.getEnd().getLocation(), prevAct.getEndTime(), route.getDriver(), route.getVehicle());\r\n\t\t\t//if ( route.getVehicle().getBreak() != null &amp;&amp; !hasBreak &amp;&amp; route.getEnd().getArrTime() &gt; route.getVehicle().getBreak().getTimeWindow().getEnd() ) {\r\n\t\t\t//\tcosts += 4.0 * (maxCosts * 2.0 + route.getVehicle().getBreak().getServiceDuration() * route.getVehicle().getType().getVehicleCostParams().perServiceTimeUnit);\r\n\t\t\t//}\r\n\r\n\t\t}\r\n\t\treturn costs;\r\n\t}\r\n","title":"JSprit penalize extra shipment minutes in vehicle","body":"<p>I've solved this by using <code>JSprit.setObjectiveFunction()</code> instead of a custom constraint. Much simpler to implement.</p>\n<pre><code>public double getCosts( VehicleRoutingProblemSolution solution ) {\n    double costPerPassengerSecond = 0.001;\n    double costs = 0.0;\n    int passengersInVehicle = 0;\n    for ( VehicleRoute route : solution.getRoutes() ) {\n        costs += route.getVehicle().getType().getVehicleCostParams().fix;\n        TourActivity prevAct = route.getStart();\n\n        for ( TourActivity act : route.getActivities() ) {\n            costs += vrp.getTransportCosts().getTransportCost(prevAct.getLocation(), act.getLocation(), prevAct.getEndTime(), route.getDriver(), route.getVehicle());\n            //costs += vrp.getActivityCosts().getActivityCost(act, act.getArrTime(), route.getDriver(), route.getVehicle()); // there are no activity costs, because CostPerServiceTime is zero\n            costs += costPerPassengerSecond * passengersInVehicle * vrp.getTransportCosts().getTransportTime(prevAct.getLocation(), act.getLocation(), prevAct.getEndTime(), route.getDriver(), route.getVehicle());\n            passengersInVehicle += act.getSize().get(0);\n        }\n\n\n        costs += vrp.getTransportCosts().getTransportCost(prevAct.getLocation(), route.getEnd().getLocation(), prevAct.getEndTime(), route.getDriver(), route.getVehicle());\n        //if ( route.getVehicle().getBreak() != null &amp;&amp; !hasBreak &amp;&amp; route.getEnd().getArrTime() &gt; route.getVehicle().getBreak().getTimeWindow().getEnd() ) {\n        //  costs += 4.0 * (maxCosts * 2.0 + route.getVehicle().getBreak().getServiceDuration() * route.getVehicle().getType().getVehicleCostParams().perServiceTimeUnit);\n        //}\n\n    }\n    return costs;\n}\n</code></pre>\n"}],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692154358,"creation_date":1692123673,"question_id":76908275,"body_markdown":"I am scheduling passenger pickup/dropoff routes. \r\n\r\nMultiple passengers in a vehicle is good!\r\n\r\nPassenger extra time in vehicle is bad.\r\n\r\nIf Bob lives close to dest and Alice lives far from dest, ideally we would pick up Alice, then Bob, then drop them both off. JSprit doesn&#39;t seem to have a built-in constraint for this. \r\n\r\nEssentially, I want a soft constraint for passenger extra minutes in vehicle, above the straight-shot drive time from pickup to dropoff. I think a simple penalty for overall time in vehicle would work all right instead of calculating the extra. Any thoughts about how to structure this constraint in JSprit? Is it a soft version of MaxTimeInVehicleConstraint?","title":"JSprit penalize extra shipment minutes in vehicle","body":"<p>I am scheduling passenger pickup/dropoff routes.</p>\n<p>Multiple passengers in a vehicle is good!</p>\n<p>Passenger extra time in vehicle is bad.</p>\n<p>If Bob lives close to dest and Alice lives far from dest, ideally we would pick up Alice, then Bob, then drop them both off. JSprit doesn't seem to have a built-in constraint for this.</p>\n<p>Essentially, I want a soft constraint for passenger extra minutes in vehicle, above the straight-shot drive time from pickup to dropoff. I think a simple penalty for overall time in vehicle would work all right instead of calculating the extra. Any thoughts about how to structure this constraint in JSprit? Is it a soft version of MaxTimeInVehicleConstraint?</p>\n"},{"tags":["java","arraylist","java-stream"],"answers":[{"tags":[],"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692009073,"creation_date":1692009073,"answer_id":76898168,"question_id":76898020,"body_markdown":"Sorry for the rudimentary code (don&#39;t have access to my IDE right now), but here&#39;s how I would approach it.\r\n\r\nFirst, extend your `Movie` class with a list of strings that will hold the genres.\r\n\r\n    class Movie {\r\n            int id;\r\n            String name;\r\n            List&lt;String&gt; genres;\r\n            \r\n            Movie(int id, String name) {\r\n                this.id = id;\r\n                this.name = name;\r\n            }\r\n        }\r\n        \r\n    class Genres {\r\n            int id;\r\n            String name;\r\n            \r\n            Genres(int id, String name) {\r\n                this.id = id;\r\n                this.name = name;\r\n            }\r\n        }\r\n\r\nSecond, group your list of genres by their IDs:\r\n\r\n    Map&lt;Integer, List&lt;Genres&gt;&gt; genresGroupedById = genres.stream().collect(Collectors.groupingBy(g -&gt; g.id));\r\n\r\nFinally, iterate through your list of movies and assign the appropriate genres like so:\r\n\r\n    movies.forEach(m -&gt; m.genres = genresGroupedById.get(m.id).stream().map(g -&gt; g.name).collect(Collectors.toList()));\r\n\r\nThat should get you started to make the code a little bit cleaner. :) ","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<p>Sorry for the rudimentary code (don't have access to my IDE right now), but here's how I would approach it.</p>\n<p>First, extend your <code>Movie</code> class with a list of strings that will hold the genres.</p>\n<pre><code>class Movie {\n        int id;\n        String name;\n        List&lt;String&gt; genres;\n        \n        Movie(int id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n    }\n    \nclass Genres {\n        int id;\n        String name;\n        \n        Genres(int id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n    }\n</code></pre>\n<p>Second, group your list of genres by their IDs:</p>\n<pre><code>Map&lt;Integer, List&lt;Genres&gt;&gt; genresGroupedById = genres.stream().collect(Collectors.groupingBy(g -&gt; g.id));\n</code></pre>\n<p>Finally, iterate through your list of movies and assign the appropriate genres like so:</p>\n<pre><code>movies.forEach(m -&gt; m.genres = genresGroupedById.get(m.id).stream().map(g -&gt; g.name).collect(Collectors.toList()));\n</code></pre>\n<p>That should get you started to make the code a little bit cleaner. :)</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692009943,"creation_date":1692009943,"answer_id":76898247,"question_id":76898020,"body_markdown":"```java\r\n@Getter\r\n@RequiredArgsConstructor\r\npublic final class Movie {\r\n\r\n    private final int id;\r\n    private final String title;\r\n\r\n}\r\n\r\n@Getter\r\n@RequiredArgsConstructor\r\npublic final class Genre {\r\n\r\n    private final int id;\r\n    private final String title;\r\n\r\n}\r\n\r\n@Getter\r\n@RequiredArgsConstructor\r\npublic final class MovieData {\r\n\r\n    private final int id;\r\n    private final String title;\r\n    private final Set&lt;String&gt; genres;\r\n\r\n}\r\n```\r\n\r\nThen the main `combine()` method will look like:\r\n\r\n```java\r\npublic static List&lt;MovieData&gt; combine(List&lt;Movie&gt; movies, List&lt;Genre&gt; genres) {\r\n    Map&lt;Integer, List&lt;Genre&gt;&gt; mapGenres = genres.stream()\r\n            .collect(Collectors.groupingBy(Genre::getId));\r\n\r\n    return movies.stream()\r\n            .map(movie -&gt; new MovieData(\r\n                    movie.getId(),\r\n                    movie.getTitle(),\r\n                    mapGenres.getOrDefault(movie.getId(), List.of()).stream()\r\n                            .map(Genre::getTitle)\r\n                            .collect(Collectors.toSet())))\r\n            .collect(Collectors.toList());\r\n}\r\n```","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@RequiredArgsConstructor\npublic final class Movie {\n\n    private final int id;\n    private final String title;\n\n}\n\n@Getter\n@RequiredArgsConstructor\npublic final class Genre {\n\n    private final int id;\n    private final String title;\n\n}\n\n@Getter\n@RequiredArgsConstructor\npublic final class MovieData {\n\n    private final int id;\n    private final String title;\n    private final Set&lt;String&gt; genres;\n\n}\n</code></pre>\n<p>Then the main <code>combine()</code> method will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;MovieData&gt; combine(List&lt;Movie&gt; movies, List&lt;Genre&gt; genres) {\n    Map&lt;Integer, List&lt;Genre&gt;&gt; mapGenres = genres.stream()\n            .collect(Collectors.groupingBy(Genre::getId));\n\n    return movies.stream()\n            .map(movie -&gt; new MovieData(\n                    movie.getId(),\n                    movie.getTitle(),\n                    mapGenres.getOrDefault(movie.getId(), List.of()).stream()\n                            .map(Genre::getTitle)\n                            .collect(Collectors.toSet())))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692010061,"creation_date":1692010061,"answer_id":76898259,"question_id":76898020,"body_markdown":"First I&#39;ll represent the end result with another class, record is perfect for this use case:\r\n```\r\nrecord MovieWithGenres(int id, String name, List&lt;String&gt; genres) {\r\n\r\n  MovieWithGenres(Movie movie, List&lt;Genre&gt; genres) {\r\n    this(movie.id(), movie.name(), genres.stream().map(Genre::name).toList());\r\n  }\r\n}\r\n```\r\nNotice the additional constructor, which transforms the list of genres into a list of strings.\r\n\r\nThen you have to group the genres by their movie id:\r\n```\r\nMap&lt;Integer, List&lt;Genre&gt;&gt; movieIdToGenres = genres.stream()\r\n        .collect(Collectors.groupingBy(Genre::movieId));\r\n```\r\nNow transforming list of `Movie` to list of `MovieWithGenres` is easy:\r\n```\r\nList&lt;MovieWithGenres&gt; result = movies.stream()\r\n        .map(movie -&gt; new MovieWithGenres(movie, movieIdToGenres.get(movie.id())))\r\n        .toList();\r\n```","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<p>First I'll represent the end result with another class, record is perfect for this use case:</p>\n<pre><code>record MovieWithGenres(int id, String name, List&lt;String&gt; genres) {\n\n  MovieWithGenres(Movie movie, List&lt;Genre&gt; genres) {\n    this(movie.id(), movie.name(), genres.stream().map(Genre::name).toList());\n  }\n}\n</code></pre>\n<p>Notice the additional constructor, which transforms the list of genres into a list of strings.</p>\n<p>Then you have to group the genres by their movie id:</p>\n<pre><code>Map&lt;Integer, List&lt;Genre&gt;&gt; movieIdToGenres = genres.stream()\n        .collect(Collectors.groupingBy(Genre::movieId));\n</code></pre>\n<p>Now transforming list of <code>Movie</code> to list of <code>MovieWithGenres</code> is easy:</p>\n<pre><code>List&lt;MovieWithGenres&gt; result = movies.stream()\n        .map(movie -&gt; new MovieWithGenres(movie, movieIdToGenres.get(movie.id())))\n        .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692014024,"creation_date":1692014024,"answer_id":76898724,"question_id":76898020,"body_markdown":"Yes, or:\r\n\r\n    Map&lt;Integer,List&lt;String&gt;&gt; genresById = genres.stream()\r\n            .collect(Collectors.groupingBy(\r\n                    Genres::getId, \r\n                    Collectors.mapping(\r\n                            Genres::getName, \r\n                            Collectors.toList())));\r\n    movies.forEach(m-&gt;m.genres = genresById.getOrDefault(\r\n            m.getId(),Collections.emptyList()));\r\n\r\n","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<p>Yes, or:</p>\n<pre><code>Map&lt;Integer,List&lt;String&gt;&gt; genresById = genres.stream()\n        .collect(Collectors.groupingBy(\n                Genres::getId, \n                Collectors.mapping(\n                        Genres::getName, \n                        Collectors.toList())));\nmovies.forEach(m-&gt;m.genres = genresById.getOrDefault(\n        m.getId(),Collections.emptyList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692033053,"creation_date":1692027218,"answer_id":76900302,"question_id":76898020,"body_markdown":"First, I am not certain of the resulting data structure but it appears to be a list of maps.  The problem with the maps is that each value is a different type.  For `id` it is `Integer`, for `name` it is `String` and for `genres` is is `List&lt;String&gt;`\r\n\r\nSo I would opt for a class or record that combines the information.\r\n\r\nIn lieu of classes I am using records.  In the `Combined` record I am overriding `toString` to adjust the formatting. \r\n```\r\nrecord Movie(int id, String name) {\r\n}\r\n\r\nrecord Genre(int id, String genre) {\r\n}\r\n\r\nrecord Combined(int id, String name, List&lt;String&gt; genres) {\r\n    @Override\r\n    public String toString() {\r\n        return  &quot;&quot;&quot;       \r\n    id     = %d\r\n    name   = %s\r\n    genres = %s%n&quot;&quot;&quot;.formatted(id, name, genres);\r\n    }\r\n}\r\n```\r\n**The Data**\r\n\r\nI changed `Peral` to `Pearl` and used `genres` as a list of `Genre` \r\n```  \r\nList&lt;Movie&gt; movies = new ArrayList&lt;&gt;();\r\nmovies.add(new Movie(1, &quot;Titanic&quot;));\r\nmovies.add(new Movie(2, &quot;Batman&quot;));\r\nmovies.add(new Movie(3, &quot;Silence of the Lambs&quot;));\r\nmovies.add(new Movie(4, &quot;1917&quot;));\r\nmovies.add(new Movie(5, &quot;Fight club&quot;));\r\nmovies.add(new Movie(6, &quot;Inception&quot;));\r\nmovies.add(new Movie(7, &quot;The Godfather&quot;));\r\nmovies.add(new Movie(8, &quot;Pearl Harbor&quot;));\r\n\r\nList&lt;Genre&gt; genres = new ArrayList&lt;&gt;();\r\ngenres.add(new Genre(1, &quot;Drama&quot;));\r\ngenres.add(new Genre(4, &quot;Drama&quot;));\r\ngenres.add(new Genre(8, &quot;Drama&quot;));\r\ngenres.add(new Genre(7, &quot;Drama&quot;));\r\ngenres.add(new Genre(2, &quot;Action&quot;));\r\ngenres.add(new Genre(5, &quot;Action&quot;));\r\ngenres.add(new Genre(6, &quot;SF&quot;));\r\ngenres.add(new Genre(3, &quot;Thriller&quot;));\r\ngenres.add(new Genre(5, &quot;Thriller&quot;));\r\ngenres.add(new Genre(5, &quot;Crime&quot;));\r\ngenres.add(new Genre(16, &quot;Comedy&quot;));\r\ngenres.add(new Genre(3, &quot;Horror&quot;));\r\ngenres.add(new Genre(1, &quot;Disaster&quot;));\r\ngenres.add(new Genre(7, &quot;Noir&quot;));\r\ngenres.add(new Genre(1, &quot;Romance&quot;));\r\n\r\n```\r\n- First, I would simply group the genres by Id.  This is done as follows using `Collectors.groupingBy`.  `Collectors.mapping` is used to extract the genre name prior to adding in a list.\r\n```\r\nMap&lt;Integer, List&lt;String&gt;&gt; idToGenreList = genres.stream()\r\n         .collect(Collectors.groupingBy(Genre::id,\r\n                 Collectors.mapping(Genre::genre, Collectors.toList())));\r\n```\r\n- Now create a list of the combined information and populate using a loop.\r\n- In the event that a genre does not exist for the map id, an empty list is used by default.\r\n``` \r\nList&lt;Combined&gt; result = new ArrayList&lt;&gt;();\r\nfor (Movie m : movies) {\r\n     result.add(new Combined(m.id(), m.name(),\r\n             idToGenreList.getOrDefault(m.id(), List.of())));\r\n};\r\n\r\nresult.forEach(System.out::println)\r\n```\r\nprints\r\n```\r\nid = 1\r\nname = Titanic\r\ngenres = [Drama, Disaster, Romance]\r\nid = 2\r\nname = Batman\r\ngenres = [Action]\r\nid = 3\r\nname = Silence of the Lambs\r\ngenres = [Thriller, Horror]\r\nid = 4\r\nname = 1917\r\ngenres = [Drama]\r\nid = 5\r\nname = Fight club\r\ngenres = [Action, Thriller, Crime]\r\nid = 6\r\nname = Inception\r\ngenres = [SF]\r\nid = 7\r\nname = The Godfather\r\ngenres = [Drama, Noir]\r\nid = 8\r\nname = Pearl Harbor\r\ngenres = [Drama]\r\n\r\n","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<p>First, I am not certain of the resulting data structure but it appears to be a list of maps.  The problem with the maps is that each value is a different type.  For <code>id</code> it is <code>Integer</code>, for <code>name</code> it is <code>String</code> and for <code>genres</code> is is <code>List&lt;String&gt;</code></p>\n<p>So I would opt for a class or record that combines the information.</p>\n<p>In lieu of classes I am using records.  In the <code>Combined</code> record I am overriding <code>toString</code> to adjust the formatting.</p>\n<pre><code>record Movie(int id, String name) {\n}\n\nrecord Genre(int id, String genre) {\n}\n\nrecord Combined(int id, String name, List&lt;String&gt; genres) {\n    @Override\n    public String toString() {\n        return  &quot;&quot;&quot;       \n    id     = %d\n    name   = %s\n    genres = %s%n&quot;&quot;&quot;.formatted(id, name, genres);\n    }\n}\n</code></pre>\n<p><strong>The Data</strong></p>\n<p>I changed <code>Peral</code> to <code>Pearl</code> and used <code>genres</code> as a list of <code>Genre</code></p>\n<pre><code>List&lt;Movie&gt; movies = new ArrayList&lt;&gt;();\nmovies.add(new Movie(1, &quot;Titanic&quot;));\nmovies.add(new Movie(2, &quot;Batman&quot;));\nmovies.add(new Movie(3, &quot;Silence of the Lambs&quot;));\nmovies.add(new Movie(4, &quot;1917&quot;));\nmovies.add(new Movie(5, &quot;Fight club&quot;));\nmovies.add(new Movie(6, &quot;Inception&quot;));\nmovies.add(new Movie(7, &quot;The Godfather&quot;));\nmovies.add(new Movie(8, &quot;Pearl Harbor&quot;));\n\nList&lt;Genre&gt; genres = new ArrayList&lt;&gt;();\ngenres.add(new Genre(1, &quot;Drama&quot;));\ngenres.add(new Genre(4, &quot;Drama&quot;));\ngenres.add(new Genre(8, &quot;Drama&quot;));\ngenres.add(new Genre(7, &quot;Drama&quot;));\ngenres.add(new Genre(2, &quot;Action&quot;));\ngenres.add(new Genre(5, &quot;Action&quot;));\ngenres.add(new Genre(6, &quot;SF&quot;));\ngenres.add(new Genre(3, &quot;Thriller&quot;));\ngenres.add(new Genre(5, &quot;Thriller&quot;));\ngenres.add(new Genre(5, &quot;Crime&quot;));\ngenres.add(new Genre(16, &quot;Comedy&quot;));\ngenres.add(new Genre(3, &quot;Horror&quot;));\ngenres.add(new Genre(1, &quot;Disaster&quot;));\ngenres.add(new Genre(7, &quot;Noir&quot;));\ngenres.add(new Genre(1, &quot;Romance&quot;));\n\n</code></pre>\n<ul>\n<li>First, I would simply group the genres by Id.  This is done as follows using <code>Collectors.groupingBy</code>.  <code>Collectors.mapping</code> is used to extract the genre name prior to adding in a list.</li>\n</ul>\n<pre><code>Map&lt;Integer, List&lt;String&gt;&gt; idToGenreList = genres.stream()\n         .collect(Collectors.groupingBy(Genre::id,\n                 Collectors.mapping(Genre::genre, Collectors.toList())));\n</code></pre>\n<ul>\n<li>Now create a list of the combined information and populate using a loop.</li>\n<li>In the event that a genre does not exist for the map id, an empty list is used by default.</li>\n</ul>\n<pre><code>List&lt;Combined&gt; result = new ArrayList&lt;&gt;();\nfor (Movie m : movies) {\n     result.add(new Combined(m.id(), m.name(),\n             idToGenreList.getOrDefault(m.id(), List.of())));\n};\n\nresult.forEach(System.out::println)\n</code></pre>\n<p>prints</p>\n<pre><code>id = 1\nname = Titanic\ngenres = [Drama, Disaster, Romance]\nid = 2\nname = Batman\ngenres = [Action]\nid = 3\nname = Silence of the Lambs\ngenres = [Thriller, Horror]\nid = 4\nname = 1917\ngenres = [Drama]\nid = 5\nname = Fight club\ngenres = [Action, Thriller, Crime]\nid = 6\nname = Inception\ngenres = [SF]\nid = 7\nname = The Godfather\ngenres = [Drama, Noir]\nid = 8\nname = Pearl Harbor\ngenres = [Drama]\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692041203,"creation_date":1692040898,"answer_id":76901628,"question_id":76898020,"body_markdown":"**Using Java Streams:**\r\n\r\nYou can try it with the below approach:\r\n\r\n***Logic Here:***\r\n\r\nHere, I have grouped the genres list by Id and created a map with key as id and value as List of String of genres. And then stream the movie list and created a new Object of Movie while streaming on the list and set the value of genres list using the map created above based on movie id.\r\n\r\n**Code:**\r\n\r\n    Map&lt;Integer,List&lt;String&gt;&gt; groupById =\r\n                genres.stream().collect(Collectors.groupingBy(Genres::getId,\r\n                    Collectors.mapping(Genres::getType,Collectors.toList())));\r\n\r\n    List&lt;Movie&gt; finalMovieList =\r\n                movies.stream().map(x -&gt; new Movie(x.getId(),x.getName(),\r\n                        groupById.getOrDefault(x.getId(),Collections.emptyList())))\r\n                        .collect(Collectors.toList());\r\n\r\n**Output:**\r\n\r\n    [{id=1, name=Titanic, genres=[Drama, Disaster, Romance]}\r\n    , {id=2, name=Batman, genres=[Action]}\r\n    , {id=3, name=Silence of the Lambs, genres=[Thriller, Horror]}\r\n    , {id=4, name=1917, genres=[Drama]}\r\n    , {id=5, name=Fight club, genres=[Action, Thriller, Crime]}\r\n    , {id=6, name=Inception, genres=[SF]}\r\n    , {id=7, name=The Godfather, genres=[Drama, Noir]}\r\n    , {id=8, name=Peral Harbor, genres=[Drama]}\r\n    ]\r\n\r\n**Movie.java**\r\n\r\n    public class Movie {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private List&lt;String&gt; genreType;\r\n    \r\n        public Movie(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n    \r\n        public Movie(int id, String name, List&lt;String&gt; genreType) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.genreType = genreType;\r\n        }","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<p><strong>Using Java Streams:</strong></p>\n<p>You can try it with the below approach:</p>\n<p><em><strong>Logic Here:</strong></em></p>\n<p>Here, I have grouped the genres list by Id and created a map with key as id and value as List of String of genres. And then stream the movie list and created a new Object of Movie while streaming on the list and set the value of genres list using the map created above based on movie id.</p>\n<p><strong>Code:</strong></p>\n<pre><code>Map&lt;Integer,List&lt;String&gt;&gt; groupById =\n            genres.stream().collect(Collectors.groupingBy(Genres::getId,\n                Collectors.mapping(Genres::getType,Collectors.toList())));\n\nList&lt;Movie&gt; finalMovieList =\n            movies.stream().map(x -&gt; new Movie(x.getId(),x.getName(),\n                    groupById.getOrDefault(x.getId(),Collections.emptyList())))\n                    .collect(Collectors.toList());\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[{id=1, name=Titanic, genres=[Drama, Disaster, Romance]}\n, {id=2, name=Batman, genres=[Action]}\n, {id=3, name=Silence of the Lambs, genres=[Thriller, Horror]}\n, {id=4, name=1917, genres=[Drama]}\n, {id=5, name=Fight club, genres=[Action, Thriller, Crime]}\n, {id=6, name=Inception, genres=[SF]}\n, {id=7, name=The Godfather, genres=[Drama, Noir]}\n, {id=8, name=Peral Harbor, genres=[Drama]}\n]\n</code></pre>\n<p><strong>Movie.java</strong></p>\n<pre><code>public class Movie {\n\n    private int id;\n    private String name;\n    private List&lt;String&gt; genreType;\n\n    public Movie(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Movie(int id, String name, List&lt;String&gt; genreType) {\n        this.id = id;\n        this.name = name;\n        this.genreType = genreType;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29233445,"reputation":1,"user_id":22396580,"display_name":"lubenwei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692154181,"creation_date":1692154181,"answer_id":76910204,"question_id":76898020,"body_markdown":"Use Stream and Lambda expressions to merge datasets. By mapping the movie stream (movies. stream()) to the result stream (Result), for each movie, we filter out the genre that matches the movie ID (genres. stream(). filter (genre -&gt;genre. getId()==movie. getId()), then map the genre name to a string list (. map (Genes:: getName)), and finally collect the results in a list (. collect (Collectors. toList())).\r\n\r\n\r\n\r\nPlease note that this code assumes that each movie ID has a corresponding match in the genre dataset. If there are no matches, an empty list of genres will be returned.\r\n\r\n        List&lt;Result&gt; result = movies.stream()\r\n                        .map(movie -&gt; new Result(movie.getId(), movie.getName(), genres.stream()\r\n                                .filter(genre -&gt; genre.getId() == movie.getId())\r\n                                .map(Genres::getName)\r\n                                .collect(Collectors.toList())))\r\n                        .collect(Collectors.toList());\r\n        \r\n        System.out.println(result);\r\n\r\nEntity Class\r\n\r\n    class Result {\r\n                private int id;\r\n                private String name;\r\n                private List&lt;String&gt; genres;\r\n        \r\n                public Result(int id, String name, List&lt;String&gt; genres) {\r\n                    this.id = id;\r\n                    this.name = name;\r\n                    this.genres = genres;\r\n                }\r\n        \r\n                public int getId() {\r\n                    return id;\r\n                }\r\n        \r\n                public String getName() {\r\n                    return name;\r\n                }\r\n        \r\n                public List&lt;String&gt; getGenres() {\r\n                    return genres;\r\n                }\r\n        \r\n                @Override\r\n                public String toString() {\r\n                    return &quot;{&quot; +\r\n                            &quot;\\&quot;id\\&quot;: &quot; + id +\r\n                            &quot;, \\&quot;name\\&quot;: \\&quot;&quot; + name + &#39;\\&quot;&#39; +\r\n                            &quot;, \\&quot;genres\\&quot;: &quot; + genres +\r\n                            &#39;}&#39;;\r\n                }\r\n        }","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<p>Use Stream and Lambda expressions to merge datasets. By mapping the movie stream (movies. stream()) to the result stream (Result), for each movie, we filter out the genre that matches the movie ID (genres. stream(). filter (genre -&gt;genre. getId()==movie. getId()), then map the genre name to a string list (. map (Genes:: getName)), and finally collect the results in a list (. collect (Collectors. toList())).</p>\n<p>Please note that this code assumes that each movie ID has a corresponding match in the genre dataset. If there are no matches, an empty list of genres will be returned.</p>\n<pre><code>    List&lt;Result&gt; result = movies.stream()\n                    .map(movie -&gt; new Result(movie.getId(), movie.getName(), genres.stream()\n                            .filter(genre -&gt; genre.getId() == movie.getId())\n                            .map(Genres::getName)\n                            .collect(Collectors.toList())))\n                    .collect(Collectors.toList());\n    \n    System.out.println(result);\n</code></pre>\n<p>Entity Class</p>\n<pre><code>class Result {\n            private int id;\n            private String name;\n            private List&lt;String&gt; genres;\n    \n            public Result(int id, String name, List&lt;String&gt; genres) {\n                this.id = id;\n                this.name = name;\n                this.genres = genres;\n            }\n    \n            public int getId() {\n                return id;\n            }\n    \n            public String getName() {\n                return name;\n            }\n    \n            public List&lt;String&gt; getGenres() {\n                return genres;\n            }\n    \n            @Override\n            public String toString() {\n                return &quot;{&quot; +\n                        &quot;\\&quot;id\\&quot;: &quot; + id +\n                        &quot;, \\&quot;name\\&quot;: \\&quot;&quot; + name + '\\&quot;' +\n                        &quot;, \\&quot;genres\\&quot;: &quot; + genres +\n                        '}';\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":12467042,"reputation":343,"user_id":9076591,"display_name":"footlessbird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76898168,"answer_count":7,"score":2,"last_activity_date":1692154181,"creation_date":1692007736,"question_id":76898020,"body_markdown":"Trying to combine two data, one for movies, the other for genres, only if the ids are the same from both properties.\r\n\r\nBoth got id, name fields, please consider the id in Movie is PK and Genre uses it as FK\r\nlike below so.\r\n```\r\n  List&lt;Movie&gt; movies = new ArrayList&lt;&gt;();\r\n        movies.add(new Movie(1, &quot;Titanic&quot;));\r\n        movies.add(new Movie(2, &quot;Batman&quot;));\r\n        movies.add(new Movie(3, &quot;Silence of the Lambs&quot;));\r\n        movies.add(new Movie(4, &quot;1917&quot;));\r\n        movies.add(new Movie(5, &quot;Fight Club&quot;));\r\n        movies.add(new Movie(6, &quot;Inception&quot;));\r\n        movies.add(new Movie(7, &quot;The Godfather&quot;));\r\n        movies.add(new Movie(8, &quot;Peral Harbor&quot;));\r\n\r\n        List&lt;Genres&gt; genres = new ArrayList&lt;&gt;();\r\n        genres.add(new Genres(1, &quot;Drama&quot;));\r\n        genres.add(new Genres(4, &quot;Drama&quot;));\r\n        genres.add(new Genres(8, &quot;Drama&quot;));\r\n        genres.add(new Genres(7, &quot;Drama&quot;));\r\n        genres.add(new Genres(2, &quot;Action&quot;));\r\n        genres.add(new Genres(5, &quot;Action&quot;));\r\n        genres.add(new Genres(6, &quot;SF&quot;));\r\n        genres.add(new Genres(3, &quot;Thriller&quot;));\r\n        genres.add(new Genres(5, &quot;Thriller&quot;));\r\n        genres.add(new Genres(5, &quot;Crime&quot;));\r\n        genres.add(new Genres(16, &quot;Comedy&quot;));\r\n        genres.add(new Genres(3, &quot;Horror&quot;));\r\n        genres.add(new Genres(1, &quot;Disaster&quot;));\r\n        genres.add(new Genres(7, &quot;Noir&quot;));\r\n        genres.add(new Genres(1, &quot;Romance&quot;));\r\n                       ...\r\n```\r\nI wanted to tie them together if ids are equals and put genres array.  \r\n\r\nThe result should looke like below:\r\n```\r\nresult: [\r\n                {&quot;id&quot;: 1, &quot;name&quot;: &quot;Titanic&quot;, &quot;genres&quot;: [&quot;Drama&quot;, &quot;Disaster&quot;, &quot;Romance&quot;] },\r\n                                                  ...\r\n                {&quot;id&quot;: 5, &quot;name&quot;: &quot;Fight Club&quot;, &quot;genres&quot;: [&quot;Action&quot;, &quot;Thriller&quot;, &quot;Crime&quot;] },\r\n\r\n        ]\r\n```\r\n\r\nBarely got an idea to use stream or maybe not.\r\n\r\nThanks in advance.\r\n","title":"Using stream if property values are equal in both ArrayLists then combine them together in Java?","body":"<p>Trying to combine two data, one for movies, the other for genres, only if the ids are the same from both properties.</p>\n<p>Both got id, name fields, please consider the id in Movie is PK and Genre uses it as FK\nlike below so.</p>\n<pre><code>  List&lt;Movie&gt; movies = new ArrayList&lt;&gt;();\n        movies.add(new Movie(1, &quot;Titanic&quot;));\n        movies.add(new Movie(2, &quot;Batman&quot;));\n        movies.add(new Movie(3, &quot;Silence of the Lambs&quot;));\n        movies.add(new Movie(4, &quot;1917&quot;));\n        movies.add(new Movie(5, &quot;Fight Club&quot;));\n        movies.add(new Movie(6, &quot;Inception&quot;));\n        movies.add(new Movie(7, &quot;The Godfather&quot;));\n        movies.add(new Movie(8, &quot;Peral Harbor&quot;));\n\n        List&lt;Genres&gt; genres = new ArrayList&lt;&gt;();\n        genres.add(new Genres(1, &quot;Drama&quot;));\n        genres.add(new Genres(4, &quot;Drama&quot;));\n        genres.add(new Genres(8, &quot;Drama&quot;));\n        genres.add(new Genres(7, &quot;Drama&quot;));\n        genres.add(new Genres(2, &quot;Action&quot;));\n        genres.add(new Genres(5, &quot;Action&quot;));\n        genres.add(new Genres(6, &quot;SF&quot;));\n        genres.add(new Genres(3, &quot;Thriller&quot;));\n        genres.add(new Genres(5, &quot;Thriller&quot;));\n        genres.add(new Genres(5, &quot;Crime&quot;));\n        genres.add(new Genres(16, &quot;Comedy&quot;));\n        genres.add(new Genres(3, &quot;Horror&quot;));\n        genres.add(new Genres(1, &quot;Disaster&quot;));\n        genres.add(new Genres(7, &quot;Noir&quot;));\n        genres.add(new Genres(1, &quot;Romance&quot;));\n                       ...\n</code></pre>\n<p>I wanted to tie them together if ids are equals and put genres array.</p>\n<p>The result should looke like below:</p>\n<pre><code>result: [\n                {&quot;id&quot;: 1, &quot;name&quot;: &quot;Titanic&quot;, &quot;genres&quot;: [&quot;Drama&quot;, &quot;Disaster&quot;, &quot;Romance&quot;] },\n                                                  ...\n                {&quot;id&quot;: 5, &quot;name&quot;: &quot;Fight Club&quot;, &quot;genres&quot;: [&quot;Action&quot;, &quot;Thriller&quot;, &quot;Crime&quot;] },\n\n        ]\n</code></pre>\n<p>Barely got an idea to use stream or maybe not.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","dependencies"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1692124053,"post_id":76908104,"comment_id":135580969,"body_markdown":"Is `{&quot;&lt;project_b&gt;&quot;, &quot;&lt;project_b&gt;&quot;}` a typo?","body":"Is <code>{&quot;&lt;project_b&gt;&quot;, &quot;&lt;project_b&gt;&quot;}</code> a typo?"},{"owner":{"account_id":21589628,"reputation":3,"user_id":15919464,"display_name":"Andres Jalife"},"score":0,"creation_date":1692124786,"post_id":76908104,"comment_id":135581088,"body_markdown":"@Sam Oh yes, sorry.","body":"@Sam Oh yes, sorry."}],"answers":[{"comments":[{"owner":{"account_id":21589628,"reputation":3,"user_id":15919464,"display_name":"Andres Jalife"},"score":0,"creation_date":1692151950,"post_id":76908670,"comment_id":135583977,"body_markdown":"Thank you for your answer. \n\nApplication A doesn&#39;t need a specific configuration.  Application B does.\n\nThe problem is that if I replicate the configuration of A in B, I wouldn&#39;t even need project A because B has all it&#39;s functionality (and configuration), if I understand correctly. \n\nThe thing is how to delegate the responsability of the configuration of A to A, and of B to B. I will have many applications &quot;B&quot; that depend on A, and it doesn&#39;t seem correct to duplicate in each the configuration of A (but if it comes to that, I won&#39;t have any other choice).","body":"Thank you for your answer.   Application A doesn&#39;t need a specific configuration.  Application B does.  The problem is that if I replicate the configuration of A in B, I wouldn&#39;t even need project A because B has all it&#39;s functionality (and configuration), if I understand correctly.   The thing is how to delegate the responsability of the configuration of A to A, and of B to B. I will have many applications &quot;B&quot; that depend on A, and it doesn&#39;t seem correct to duplicate in each the configuration of A (but if it comes to that, I won&#39;t have any other choice)."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1692154080,"post_id":76908670,"comment_id":135584156,"body_markdown":"Added two more solutions to your problem. Each one requires extra work but they both should do the job.","body":"Added two more solutions to your problem. Each one requires extra work but they both should do the job."},{"owner":{"account_id":21589628,"reputation":3,"user_id":15919464,"display_name":"Andres Jalife"},"score":0,"creation_date":1692187966,"post_id":76908670,"comment_id":135589293,"body_markdown":"The second solution worked just fine! Thanks","body":"The second solution worked just fine! Thanks"}],"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692154013,"creation_date":1692127887,"answer_id":76908670,"question_id":76908104,"body_markdown":"I don&#39;t think you can have two application.properties or at least I never tried to join them to be honest. But an easy solution (and clear) for your problem would be to have `project A` functionality published as a library (just a jar and its dependencies) and have `application A` depend on that plus the configuration specific to it in an `application.property` file.\r\n\r\nThen you have a second `application B` depend on the same common jar plus additional `application B` specific functionality and also have its own configuration specific to both `application A` and `application B` in a joined `application.properties` file.\r\n\r\nA bit of duplication but it will work. With a bit of structural organization of that file it would not even be a messy thing. Something like below:\r\n\r\n    application.properties:\r\n    \r\n    # application A specific: \r\n    ...\r\n    \r\n    # application B specific:\r\n    ...   \r\n\r\n\r\nIf you don&#39;t have to have both files called `application.properties` another way would be to have a separate file for each application say you have `application-a.properties` and `application-b.properties` then in each application you create its own `@Configuration` class pointing to its own related properties file like below:\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application-a.properties&quot;)\r\n    public class ApplicationAConfig {\r\n        //...\r\n    }\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application-b.properties&quot;)\r\n    public class ApplicationBConfig {\r\n        //...\r\n    }\r\n\r\nThen you use the two `Configuration` beans to build up your other beans in each of your applications. This will make it a bit harder to have it environment specific but of course you can manipulate (copy) files at deploy time.\r\n\r\nAnother way would be to pass it as a `spring.config.location` system property when running the app.\r\n\r\nI don&#39;t know your running environment but for the last two solutions there are devops steps to include so it will run the way you want. Say if you ran as docker images you will have some commands to execute in dockerfile, and so on \r\n\r\n","title":"How to use a spring boot dependency functionality configured with it&#39;s own properties file?","body":"<p>I don't think you can have two application.properties or at least I never tried to join them to be honest. But an easy solution (and clear) for your problem would be to have <code>project A</code> functionality published as a library (just a jar and its dependencies) and have <code>application A</code> depend on that plus the configuration specific to it in an <code>application.property</code> file.</p>\n<p>Then you have a second <code>application B</code> depend on the same common jar plus additional <code>application B</code> specific functionality and also have its own configuration specific to both <code>application A</code> and <code>application B</code> in a joined <code>application.properties</code> file.</p>\n<p>A bit of duplication but it will work. With a bit of structural organization of that file it would not even be a messy thing. Something like below:</p>\n<pre><code>application.properties:\n\n# application A specific: \n...\n\n# application B specific:\n...   \n</code></pre>\n<p>If you don't have to have both files called <code>application.properties</code> another way would be to have a separate file for each application say you have <code>application-a.properties</code> and <code>application-b.properties</code> then in each application you create its own <code>@Configuration</code> class pointing to its own related properties file like below:</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application-a.properties&quot;)\npublic class ApplicationAConfig {\n    //...\n}\n\n@Configuration\n@PropertySource(&quot;classpath:application-b.properties&quot;)\npublic class ApplicationBConfig {\n    //...\n}\n</code></pre>\n<p>Then you use the two <code>Configuration</code> beans to build up your other beans in each of your applications. This will make it a bit harder to have it environment specific but of course you can manipulate (copy) files at deploy time.</p>\n<p>Another way would be to pass it as a <code>spring.config.location</code> system property when running the app.</p>\n<p>I don't know your running environment but for the last two solutions there are devops steps to include so it will run the way you want. Say if you ran as docker images you will have some commands to execute in dockerfile, and so on</p>\n"}],"owner":{"account_id":21589628,"reputation":3,"user_id":15919464,"display_name":"Andres Jalife"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76908670,"answer_count":1,"score":0,"last_activity_date":1692154013,"creation_date":1692121657,"question_id":76908104,"body_markdown":"I have a Spring Boot project (project A) that has some main functionality. I have another Spring Boot projeect (project B) that has some custom functionality. I&#39;m doing this because I have different clients that need different custom implementations, but all need the main functionality.\r\n\r\nI&#39;m uploading project a&#39;s jar to archiva (a private maven repository) and using it as a dependency in project b. \r\n\r\nI&#39;m adding project a&#39;s functionality with this configuration in my main class of project b: \r\n\r\n```@SpringBootApplication(scanBasePackages = {&quot;&lt;project_a&gt;&quot;, &quot;&lt;project_b&gt;&quot;})```\r\n\r\nThe problem is that I want each project configured with its own properties files when I run project B (while also running project A functionality). Is that possible?\r\n\r\nIn both projects, the application properties file it&#39;s called application.properties, and has different profiles based on the environment is run --&gt; application-dev.properties, application-test.properties, application-prod.properties.\r\n\r\nThis is the file structure of the JAR of project A:\r\n\r\n```\r\n-- bundles/\r\n-- com/     (application files)\r\n-- META-INF/\r\n-- application.properties\r\n-- application-dev.properties\r\n-- application-test.properties\r\n-- application-prod.properties\r\n```","title":"How to use a spring boot dependency functionality configured with it&#39;s own properties file?","body":"<p>I have a Spring Boot project (project A) that has some main functionality. I have another Spring Boot projeect (project B) that has some custom functionality. I'm doing this because I have different clients that need different custom implementations, but all need the main functionality.</p>\n<p>I'm uploading project a's jar to archiva (a private maven repository) and using it as a dependency in project b.</p>\n<p>I'm adding project a's functionality with this configuration in my main class of project b:</p>\n<p><code>@SpringBootApplication(scanBasePackages = {&quot;&lt;project_a&gt;&quot;, &quot;&lt;project_b&gt;&quot;})</code></p>\n<p>The problem is that I want each project configured with its own properties files when I run project B (while also running project A functionality). Is that possible?</p>\n<p>In both projects, the application properties file it's called application.properties, and has different profiles based on the environment is run --&gt; application-dev.properties, application-test.properties, application-prod.properties.</p>\n<p>This is the file structure of the JAR of project A:</p>\n<pre><code>-- bundles/\n-- com/     (application files)\n-- META-INF/\n-- application.properties\n-- application-dev.properties\n-- application-test.properties\n-- application-prod.properties\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":29148507,"reputation":1,"user_id":22329873,"display_name":"haojiang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692154001,"creation_date":1692154001,"question_id":76910192,"body_markdown":"I want to know that when I get the number of steps through the TYPE_STEP_COUNTER,the steps are pure hardware returned data, and not through the major phone manufacturers through their own algorithms returned\r\n\r\n    private void addCountStepListener() {\r\n      Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n      if (countSensor != null) {\r\n        stepSensorType = Sensor.TYPE_STEP_COUNTER;\r\n        Log.d(TAG, &quot;Sensor.TYPE_STEP_COUNTER&quot;);\r\n        sensorManager.registerListener(StepService.this, countSensor, SensorManager.SENSOR_DELAY_FASTEST);\r\n      }\r\n    }\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n        Log.d(TAG,&quot;onSensorChanged&quot;);\r\n        if (stepSensorType == Sensor.TYPE_STEP_COUNTER) {\r\n            int tempStep = (int) event.values[0];\r\n        }\r\n    }","title":"Is the number of steps obtained from the TYPE_STEP_COUNTER a purely hardware return?","body":"<p>I want to know that when I get the number of steps through the TYPE_STEP_COUNTER,the steps are pure hardware returned data, and not through the major phone manufacturers through their own algorithms returned</p>\n<pre><code>private void addCountStepListener() {\n  Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n  if (countSensor != null) {\n    stepSensorType = Sensor.TYPE_STEP_COUNTER;\n    Log.d(TAG, &quot;Sensor.TYPE_STEP_COUNTER&quot;);\n    sensorManager.registerListener(StepService.this, countSensor, SensorManager.SENSOR_DELAY_FASTEST);\n  }\n}\n\n@Override\npublic void onSensorChanged(SensorEvent event) {\n    Log.d(TAG,&quot;onSensorChanged&quot;);\n    if (stepSensorType == Sensor.TYPE_STEP_COUNTER) {\n        int tempStep = (int) event.values[0];\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","jackson"],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692012688,"post_id":76898493,"comment_id":135563786,"body_markdown":"No need for a custom serializer, especially not one for *the whole object*. Just use `@JsonInclude(NON_ABSENT)`","body":"No need for a custom serializer, especially not one for <i>the whole object</i>. Just use <code>@JsonInclude(NON_ABSENT)</code>"},{"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"score":0,"creation_date":1692013033,"post_id":76898493,"comment_id":135563851,"body_markdown":"@Jorn you are absolutely right. That was just the first solution that came to my mind, so I specified that he CAN do it that way because I was almost certain that there could be a better way to do so.","body":"@Jorn you are absolutely right. That was just the first solution that came to my mind, so I specified that he CAN do it that way because I was almost certain that there could be a better way to do so."},{"owner":{"account_id":13740609,"reputation":32,"user_id":9915820,"display_name":"Zeeshan"},"score":0,"creation_date":1692013542,"post_id":76898493,"comment_id":135563931,"body_markdown":"@tamtejszystan is there any way of doing it without editing Employee class?","body":"@tamtejszystan is there any way of doing it without editing Employee class?"}],"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692012003,"creation_date":1692012003,"answer_id":76898493,"question_id":76898394,"body_markdown":"You can create a custom serializer:\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class EmployeeSerializer extends JsonSerializer&lt;Employee&gt; {\r\n    @Override\r\n    public void serialize(Employee employee, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        jsonGenerator.writeStartObject();\r\n        \r\n        employee.getFirstName().ifPresent(firstName -&gt; {\r\n            try {\r\n                jsonGenerator.writeStringField(&quot;firstName&quot;, firstName);\r\n            } catch (IOException e) {\r\n                e.printStackTrace(); // Handle the exception\r\n            }\r\n        });\r\n\r\n        employee.getSecondName().ifPresent(secondName -&gt; {\r\n            try {\r\n                jsonGenerator.writeStringField(&quot;secondName&quot;, secondName);\r\n            } catch (IOException e) {\r\n                e.printStackTrace(); // Handle the exception\r\n            }\r\n        });\r\n\r\n        jsonGenerator.writeEndObject();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThen add this annotation to your `Employee` class:\r\n```\r\n@JsonSerialize(using = EmployeeSerializer.class)\r\n```\r\n\r\nHere you can read more:\r\nhttps://www.baeldung.com/jackson-custom-serialization\r\n\r\nHope it helps!","title":"How to ignore empty Optional field during Jackson Serialization","body":"<p>You can create a custom serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class EmployeeSerializer extends JsonSerializer&lt;Employee&gt; {\n    @Override\n    public void serialize(Employee employee, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeStartObject();\n        \n        employee.getFirstName().ifPresent(firstName -&gt; {\n            try {\n                jsonGenerator.writeStringField(&quot;firstName&quot;, firstName);\n            } catch (IOException e) {\n                e.printStackTrace(); // Handle the exception\n            }\n        });\n\n        employee.getSecondName().ifPresent(secondName -&gt; {\n            try {\n                jsonGenerator.writeStringField(&quot;secondName&quot;, secondName);\n            } catch (IOException e) {\n                e.printStackTrace(); // Handle the exception\n            }\n        });\n\n        jsonGenerator.writeEndObject();\n    }\n}\n</code></pre>\n<p>Then add this annotation to your <code>Employee</code> class:</p>\n<pre><code>@JsonSerialize(using = EmployeeSerializer.class)\n</code></pre>\n<p>Here you can read more:\n<a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-custom-serialization</a></p>\n<p>Hope it helps!</p>\n"},{"comments":[{"owner":{"account_id":13740609,"reputation":32,"user_id":9915820,"display_name":"Zeeshan"},"score":0,"creation_date":1692013323,"post_id":76898556,"comment_id":135563893,"body_markdown":"I used objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY) to resolve this but later discovered NON_ABSENT is more accurate in Optional context.\nHoping it wont mess up with non Optional fields of DTO.","body":"I used objectMapper.setSerializationInclusion(JsonInclude.Include.N&zwnj;&#8203;ON_EMPTY) to resolve this but later discovered NON_ABSENT is more accurate in Optional context. Hoping it wont mess up with non Optional fields of DTO."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692013487,"post_id":76898556,"comment_id":135563919,"body_markdown":"Both `NON_ABSENT` and `NON_EMPTY` have good javadoc entries that explain when exactly they do and don&#39;t ignore a field. If you are worried about the setting affecting other objects you didn&#39;t intend to, you can use the annotation on one dto object or even one field, instead of on the whole `ObjectMapper`.","body":"Both <code>NON_ABSENT</code> and <code>NON_EMPTY</code> have good javadoc entries that explain when exactly they do and don&#39;t ignore a field. If you are worried about the setting affecting other objects you didn&#39;t intend to, you can use the annotation on one dto object or even one field, instead of on the whole <code>ObjectMapper</code>."},{"owner":{"account_id":13740609,"reputation":32,"user_id":9915820,"display_name":"Zeeshan"},"score":0,"creation_date":1692013977,"post_id":76898556,"comment_id":135564015,"body_markdown":"I dont want to edit dto class, the other way of doing it could be creating a custom serializer for the Optional type that ignores empty Optionals during serialization and registering the custom serializer with Jackson. But I think that would be unnecessary and I should go with your solution","body":"I dont want to edit dto class, the other way of doing it could be creating a custom serializer for the Optional type that ignores empty Optionals during serialization and registering the custom serializer with Jackson. But I think that would be unnecessary and I should go with your solution"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692012584,"creation_date":1692012584,"answer_id":76898556,"question_id":76898394,"body_markdown":"The [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html) for `Optional` states:\r\n\r\n&gt; Optional is primarily intended for use as a method return type where there is a clear need to represent &quot;no result,&quot; and where using null is likely to cause errors.\r\n\r\nIn other words, you shouldn&#39;t be using `Optional` here in the first place.\r\n\r\nHowever, if you still want to, `@JsonInclude(NON_ABSENT)` ([doc](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonInclude.Include.html#NON_ABSENT)) should work just fine.","title":"How to ignore empty Optional field during Jackson Serialization","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Optional</code> states:</p>\n<blockquote>\n<p>Optional is primarily intended for use as a method return type where there is a clear need to represent &quot;no result,&quot; and where using null is likely to cause errors.</p>\n</blockquote>\n<p>In other words, you shouldn't be using <code>Optional</code> here in the first place.</p>\n<p>However, if you still want to, <code>@JsonInclude(NON_ABSENT)</code> (<a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonInclude.Include.html#NON_ABSENT\" rel=\"nofollow noreferrer\">doc</a>) should work just fine.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692195212,"post_id":76910127,"comment_id":135591049,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76910127/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29233445,"reputation":1,"user_id":22396580,"display_name":"lubenwei"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692153022,"creation_date":1692152609,"answer_id":76910127,"question_id":76898394,"body_markdown":"Rewrite message converters to configure global serialization settings\r\n\r\n\r\n    @Configuration\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n        \r\n        /**/\r\n        \r\n        @Override\r\n        public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            Iterator&lt;HttpMessageConverter&lt;?&gt;&gt; iterator = converters.iterator();\r\n            while (iterator.hasNext()) {\r\n                HttpMessageConverter&lt;?&gt; next = iterator.next();\r\n                if (next instanceof MappingJackson2HttpMessageConverter jackson2HttpMessageConverter) {\r\n                    ObjectMapper objectMapper = jackson2HttpMessageConverter.getObjectMapper();\r\n                    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n                } else if (next instanceof MappingJackson2XmlHttpMessageConverter) {\r\n                    iterator.remove();\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**/\r\n    \r\n    }","title":"How to ignore empty Optional field during Jackson Serialization","body":"<p>Rewrite message converters to configure global serialization settings</p>\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n    \n    /**/\n    \n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        Iterator&lt;HttpMessageConverter&lt;?&gt;&gt; iterator = converters.iterator();\n        while (iterator.hasNext()) {\n            HttpMessageConverter&lt;?&gt; next = iterator.next();\n            if (next instanceof MappingJackson2HttpMessageConverter jackson2HttpMessageConverter) {\n                ObjectMapper objectMapper = jackson2HttpMessageConverter.getObjectMapper();\n                objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n            } else if (next instanceof MappingJackson2XmlHttpMessageConverter) {\n                iterator.remove();\n            }\n        }\n    }\n\n    /**/\n\n}\n</code></pre>\n"}],"owner":{"account_id":13740609,"reputation":32,"user_id":9915820,"display_name":"Zeeshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76898556,"answer_count":3,"score":0,"last_activity_date":1692153022,"creation_date":1692011080,"question_id":76898394,"body_markdown":"I want to ignore an Optional field value during serialization if its value is null.\r\n\r\n&gt; Employee.java\r\n\r\n    class Employee {\r\n \r\n    private String firstName;\r\n\r\n    private String secondName;\r\n\r\n    public Optional&lt;String&gt; getFirstName() {\r\n        return Optional.ofNullable(firstName);\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public Optional&lt;String&gt; getSecondName() {\r\n        return Optional.ofNullable(secondName);\r\n    }\r\n    public void setSecondName(String secondName) {\r\n        this.secondName = secondName;\r\n    }\r\n    }\r\nhave configured Jackson as below:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new Jdk8Module());\r\n    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    System.out.println(objectMapper.writeValueAsString(employee));\r\n\r\nThe serialization method is giving below output:\r\n\r\n    {&quot;firstName&quot;:&quot;foo&quot;, &quot;secondName&quot;:null}\r\n\r\nBut we want result like below:\r\n\r\n    {&quot;firstName&quot;:&quot;foo&quot;}","title":"How to ignore empty Optional field during Jackson Serialization","body":"<p>I want to ignore an Optional field value during serialization if its value is null.</p>\n<blockquote>\n<p>Employee.java</p>\n</blockquote>\n<pre><code>class Employee {\n\nprivate String firstName;\n\nprivate String secondName;\n\npublic Optional&lt;String&gt; getFirstName() {\n    return Optional.ofNullable(firstName);\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic Optional&lt;String&gt; getSecondName() {\n    return Optional.ofNullable(secondName);\n}\npublic void setSecondName(String secondName) {\n    this.secondName = secondName;\n}\n}\n</code></pre>\n<p>have configured Jackson as below:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new Jdk8Module());\nobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\nSystem.out.println(objectMapper.writeValueAsString(employee));\n</code></pre>\n<p>The serialization method is giving below output:</p>\n<pre><code>{&quot;firstName&quot;:&quot;foo&quot;, &quot;secondName&quot;:null}\n</code></pre>\n<p>But we want result like below:</p>\n<pre><code>{&quot;firstName&quot;:&quot;foo&quot;}\n</code></pre>\n"},{"tags":["java","eclipse","idempiere"],"comments":[{"owner":{"account_id":2230829,"reputation":381,"user_id":1968443,"display_name":"CarlosRuiz"},"score":0,"creation_date":1692267916,"post_id":76910128,"comment_id":135601396,"body_markdown":"Which iDempiere version are you trying to use?\nWhich installation guide are you following?","body":"Which iDempiere version are you trying to use? Which installation guide are you following?"}],"owner":{"account_id":29133262,"reputation":13,"user_id":22318012,"display_name":"NgThang2001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692152614,"creation_date":1692152614,"question_id":76910128,"body_markdown":"When I build project iDempiere in eclipse got error \r\nJava problems: \r\n\r\n```\r\n_interp cannot be resolved to a variable\r\n_zclass cannot be resolved or is not a field\r\n_zclass cannot be resolved or is not a field\r\nAbsolutechildren cannot be resolved to a type\r\nAbsolutechildren cannot be resolved to a type\r\n...\r\n```\r\n\r\nPlug-in problems: \r\n```\r\nHost bundle &#39;net.sf.jasperreports.engine&#39; cannot be resolved\r\nHost bundle &#39;org.eclipse.jetty.osgi.boot&#39; cannot be resolved\r\nNo available bundle exports package &#39;com.google.common.annotations&#39;\r\nNo available bundle exports package &#39;com.google.common.base&#39;\r\n....\r\n```\r\n\r\n\r\n\r\n\r\nI try to reinstall eclipse and idempiere but still got this error.\r\n\r\nEclip version : \r\n\r\n    Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)\r\n    Version: 2023-06 (4.28.0)\r\n    Build id: 20230608-1333\r\n\r\nMaven version: \r\n\r\n    Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\n    Maven home: E:\\DATA\\Java\\apache-maven-3.8.1\\bin\\..\r\n    Java version: 11.0.4, vendor: Oracle Corporation, runtime: E:\\DATA\\Java\\jdk-11.0.4\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;","title":"Installing iDempiere Dev Environment-Error Java problems and Plug-in problems when build in Eclipse","body":"<p>When I build project iDempiere in eclipse got error\nJava problems:</p>\n<pre><code>_interp cannot be resolved to a variable\n_zclass cannot be resolved or is not a field\n_zclass cannot be resolved or is not a field\nAbsolutechildren cannot be resolved to a type\nAbsolutechildren cannot be resolved to a type\n...\n</code></pre>\n<p>Plug-in problems:</p>\n<pre><code>Host bundle 'net.sf.jasperreports.engine' cannot be resolved\nHost bundle 'org.eclipse.jetty.osgi.boot' cannot be resolved\nNo available bundle exports package 'com.google.common.annotations'\nNo available bundle exports package 'com.google.common.base'\n....\n</code></pre>\n<p>I try to reinstall eclipse and idempiere but still got this error.</p>\n<p>Eclip version :</p>\n<pre><code>Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)\nVersion: 2023-06 (4.28.0)\nBuild id: 20230608-1333\n</code></pre>\n<p>Maven version:</p>\n<pre><code>Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: E:\\DATA\\Java\\apache-maven-3.8.1\\bin\\..\nJava version: 11.0.4, vendor: Oracle Corporation, runtime: E:\\DATA\\Java\\jdk-11.0.4\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n"},{"tags":["java","json","parsing","jsonpath","jayway"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692050426,"post_id":76880540,"comment_id":135570656,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76880540/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20282836,"reputation":1,"user_id":14876149,"display_name":"xiaoyi-byte"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692151780,"creation_date":1691725193,"answer_id":76880540,"question_id":76835807,"body_markdown":"First, I think you may mean \r\n```java\r\nJsonPath.parse(jsonResponse).read(&quot;DataValues&quot;)\r\n```\r\nbut not\r\n```java\r\nJsonPath.parse(jsonResponse).read(&quot;NumberList&quot;)\r\n```\r\nSecond, it&#39;s better to use net.minidev.json.JSONArray.get() instead of toString() like this.\r\n```java\r\nString jsonResponse = &quot;{  \r\n                           \\&quot;MyData\\&quot;: {\r\n                               \\&quot;Type\\&quot;: \\&quot;ABC\\&quot;,\r\n                               \\&quot;Id\\&quot;: \\&quot;567\\&quot;,\r\n                               \\&quot;Number\\&quot;: \\&quot;888\\&quot;\r\n                           },\r\n                           \\&quot;RefId\\&quot;: \\&quot;9999\\&quot;,\r\n                           \\&quot;DataValues\\&quot;: [{\r\n                               \\&quot;NumberList\\&quot;: [\\&quot;7777777\\&quot;],\r\n                               \\&quot;NumberId\\&quot;: \\&quot;888888888\\&quot;,\r\n                               \\&quot;Phone\\&quot;: \\&quot;0000000\\&quot; \r\n                           }]\r\n                       }&quot;;\r\n// Get &quot;DataValues&quot; in json\r\nList&lt;Map&lt;String, Object&gt;&gt; responseValue = com.jayway.jsonpath.JsonPath.parse(jsonResponse).read(&quot;DataValues&quot;);\r\n// Get &quot;NumberList&quot; in json. Note that &quot;DataValues&quot; is an array\r\nnet.minidev.json.JSONArray jsonArray = (net.minidev.json.JSONArray) responseValue.get(0).get(&quot;NumberList&quot;);\r\n// Get the first element in &quot;NumberList&quot;\r\nString number = (String) jsonArray.get(0);\r\nSystem.out.println(&quot;number --&gt; &quot; + number);\r\n```\r\nThe output is\r\n\r\n&gt; number --&gt; 7777777","title":"Parsing a Json response using Jayway JsonPath","body":"<p>First, I think you may mean</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonPath.parse(jsonResponse).read(&quot;DataValues&quot;)\n</code></pre>\n<p>but not</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonPath.parse(jsonResponse).read(&quot;NumberList&quot;)\n</code></pre>\n<p>Second, it's better to use net.minidev.json.JSONArray.get() instead of toString() like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonResponse = &quot;{  \n                           \\&quot;MyData\\&quot;: {\n                               \\&quot;Type\\&quot;: \\&quot;ABC\\&quot;,\n                               \\&quot;Id\\&quot;: \\&quot;567\\&quot;,\n                               \\&quot;Number\\&quot;: \\&quot;888\\&quot;\n                           },\n                           \\&quot;RefId\\&quot;: \\&quot;9999\\&quot;,\n                           \\&quot;DataValues\\&quot;: [{\n                               \\&quot;NumberList\\&quot;: [\\&quot;7777777\\&quot;],\n                               \\&quot;NumberId\\&quot;: \\&quot;888888888\\&quot;,\n                               \\&quot;Phone\\&quot;: \\&quot;0000000\\&quot; \n                           }]\n                       }&quot;;\n// Get &quot;DataValues&quot; in json\nList&lt;Map&lt;String, Object&gt;&gt; responseValue = com.jayway.jsonpath.JsonPath.parse(jsonResponse).read(&quot;DataValues&quot;);\n// Get &quot;NumberList&quot; in json. Note that &quot;DataValues&quot; is an array\nnet.minidev.json.JSONArray jsonArray = (net.minidev.json.JSONArray) responseValue.get(0).get(&quot;NumberList&quot;);\n// Get the first element in &quot;NumberList&quot;\nString number = (String) jsonArray.get(0);\nSystem.out.println(&quot;number --&gt; &quot; + number);\n</code></pre>\n<p>The output is</p>\n<blockquote>\n<p>number --&gt; 7777777</p>\n</blockquote>\n"}],"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692151780,"creation_date":1691151412,"question_id":76835807,"body_markdown":"i have the below Json structure,\r\n```\r\n{\r\n  &quot;MyData&quot;: {\r\n    &quot;Type&quot;: &quot;ABC&quot;,\r\n    &quot;Id&quot;: &quot;567&quot;,\r\n    &quot;Number&quot;: &quot;888&quot;\r\n  },\r\n  &quot;RefId&quot;: &quot;9999&quot;,\r\n  &quot;DataValues&quot;: [\r\n    {\r\n      &quot;NumberList&quot;: [\r\n        &quot;7777777&quot;\r\n      ],\r\n      &quot;NumberId&quot;: &quot;888888888&quot;,\r\n      &quot;Phone&quot;: &quot;0000000&quot;,\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nBelow is my code to parse the Json to fetch the value in NumberList,\r\n\r\n```\r\nString jsonResponse = &quot;{  \\&quot;MyData\\&quot;: {\\&quot;Type\\&quot;: \\&quot;ABC\\&quot;,\\&quot;Id\\&quot;: \\&quot;567\\&quot;,\\&quot;Number\\&quot;: \\&quot;888\\&quot;},\\&quot;RefId\\&quot;: \\&quot;9999\\&quot;,\\&quot;DataValues\\&quot;: [{\\&quot;NumberList\\&quot;: [\\&quot;7777777\\&quot;],\\&quot;NumberId\\&quot;: \\&quot;888888888\\&quot;,\\&quot;Phone\\&quot;: \\&quot;0000000\\&quot; }]}&quot;;\r\n        List&lt;Map&lt;String, Object&gt;&gt; responseValue = com.jayway.jsonpath.JsonPath.parse(jsonResponse).read(&quot;NumberList&quot;);\r\n        String number = responseValue.get(0).get(&quot;NumberList&quot;).toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\nSystem.out.println(&quot;number --&gt; &quot; + number);\r\n```\r\n\r\nThe output is  \r\nnumber --&gt; &quot;7777777&quot;\r\n\r\nDouble inverted quotes are present in the output\r\n\r\nHow to get the correct output here, need just the value 7777777\r\n\r\nWith restassured jsonPath, i get the correct output for below code.\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; responseValue = new io.restassured.path.json.JsonPath(jsonResponse).get(&quot;NumberList&quot;);\r\n        String number = responseValue.get(0).get(&quot;NumberList&quot;).toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n```\r\n\r\nBut i dont want to use rest assured jsonPath.\r\n\r\nHow to get the correct output with jayway JsonPath ??\r\n","title":"Parsing a Json response using Jayway JsonPath","body":"<p>i have the below Json structure,</p>\n<pre><code>{\n  &quot;MyData&quot;: {\n    &quot;Type&quot;: &quot;ABC&quot;,\n    &quot;Id&quot;: &quot;567&quot;,\n    &quot;Number&quot;: &quot;888&quot;\n  },\n  &quot;RefId&quot;: &quot;9999&quot;,\n  &quot;DataValues&quot;: [\n    {\n      &quot;NumberList&quot;: [\n        &quot;7777777&quot;\n      ],\n      &quot;NumberId&quot;: &quot;888888888&quot;,\n      &quot;Phone&quot;: &quot;0000000&quot;,\n    }\n  ]\n}\n</code></pre>\n<p>Below is my code to parse the Json to fetch the value in NumberList,</p>\n<pre><code>String jsonResponse = &quot;{  \\&quot;MyData\\&quot;: {\\&quot;Type\\&quot;: \\&quot;ABC\\&quot;,\\&quot;Id\\&quot;: \\&quot;567\\&quot;,\\&quot;Number\\&quot;: \\&quot;888\\&quot;},\\&quot;RefId\\&quot;: \\&quot;9999\\&quot;,\\&quot;DataValues\\&quot;: [{\\&quot;NumberList\\&quot;: [\\&quot;7777777\\&quot;],\\&quot;NumberId\\&quot;: \\&quot;888888888\\&quot;,\\&quot;Phone\\&quot;: \\&quot;0000000\\&quot; }]}&quot;;\n        List&lt;Map&lt;String, Object&gt;&gt; responseValue = com.jayway.jsonpath.JsonPath.parse(jsonResponse).read(&quot;NumberList&quot;);\n        String number = responseValue.get(0).get(&quot;NumberList&quot;).toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\nSystem.out.println(&quot;number --&gt; &quot; + number);\n</code></pre>\n<p>The output is<br />\nnumber --&gt; &quot;7777777&quot;</p>\n<p>Double inverted quotes are present in the output</p>\n<p>How to get the correct output here, need just the value 7777777</p>\n<p>With restassured jsonPath, i get the correct output for below code.</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; responseValue = new io.restassured.path.json.JsonPath(jsonResponse).get(&quot;NumberList&quot;);\n        String number = responseValue.get(0).get(&quot;NumberList&quot;).toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\n</code></pre>\n<p>But i dont want to use rest assured jsonPath.</p>\n<p>How to get the correct output with jayway JsonPath ??</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681591088,"post_id":76021331,"comment_id":134082236,"body_markdown":"That line isn&#39;t an error.... If your job fails, open `The url to track the job` link. For example, if jobs are stuck, maybe YARN processes aren&#39;t actually running","body":"That line isn&#39;t an error.... If your job fails, open <code>The url to track the job</code> link. For example, if jobs are stuck, maybe YARN processes aren&#39;t actually running"},{"owner":{"account_id":28302866,"reputation":1,"user_id":21641304,"display_name":"Shekhar Gangal"},"score":0,"creation_date":1681665640,"post_id":76021331,"comment_id":134089622,"body_markdown":"@OneCricketeer when i run jps command on cmd all 5 operations are running","body":"@OneCricketeer when i run jps command on cmd all 5 operations are running"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681734589,"post_id":76021331,"comment_id":134099563,"body_markdown":"Okay, and when you open YARN UI? You see your job? But how many healthy nodes? How much cluster memory is available?","body":"Okay, and when you open YARN UI? You see your job? But how many healthy nodes? How much cluster memory is available?"}],"answers":[{"tags":[],"owner":{"account_id":19200752,"reputation":1,"user_id":14028754,"display_name":"solo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692151641,"creation_date":1692151641,"answer_id":76910073,"question_id":76021331,"body_markdown":"Had the same error, This helped me solve my error. In my case the health report \r\nfrom http://localhost:8088/cluster/nodes/unhealthy indicated a directory that had permission issues.\r\nSaved me a lot of trouble.\r\n\r\nThis was the origin solution\r\nhttps://stackoverflow.com/a/64079458/14028754","title":"Unable to find &#39;resource-types.xml&#39;. This shows while I try to run wordcount job on hadoop on win 10","body":"<p>Had the same error, This helped me solve my error. In my case the health report\nfrom http://localhost:8088/cluster/nodes/unhealthy indicated a directory that had permission issues.\nSaved me a lot of trouble.</p>\n<p>This was the origin solution\n<a href=\"https://stackoverflow.com/a/64079458/14028754\">https://stackoverflow.com/a/64079458/14028754</a></p>\n"}],"owner":{"account_id":28302866,"reputation":1,"user_id":21641304,"display_name":"Shekhar Gangal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692151641,"creation_date":1681549952,"question_id":76021331,"body_markdown":"The job would start but just get stuck and wont do anything. The files and job info are as follows:\r\n**1. Job Information on cmd**\r\n\r\n    PS C:\\hadoop-env\\hadoop-3.2.1&gt; hadoop jar C:\\hadoop-env\\hadoop-3.2.1\\share\\hadoop\\mapreduce\\hadoop-mapreduce-examples-3.2.1.jar wordcount /input/senbad.txt /output\r\n    2023-04-15 14:03:47,011 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\r\n    2023-04-15 14:03:47,856 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/shekh/.staging/job_1681547354686_0002\r\n    2023-04-15 14:03:47,960 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\r\n    2023-04-15 14:03:48,095 INFO input.FileInputFormat: Total input files to process : 1\r\n    2023-04-15 14:03:48,150 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\r\n    2023-04-15 14:03:48,176 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\r\n    2023-04-15 14:03:48,189 INFO mapreduce.JobSubmitter: number of splits:1\r\n    2023-04-15 14:03:48,286 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\r\n    2023-04-15 14:03:48,302 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1681547354686_0002\r\n    2023-04-15 14:03:48,303 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n    2023-04-15 14:03:48,498 INFO conf.Configuration: resource-types.xml not found\r\n    2023-04-15 14:03:48,499 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n    2023-04-15 14:03:48,969 INFO impl.YarnClientImpl: Submitted application application_1681547354686_0002\r\n    2023-04-15 14:03:49,014 INFO mapreduce.Job: The url to track the job: http://LAPTOP-SEF3N6DS:8088/proxy/application_1681547354686_0002/\r\n    2023-04-15 14:03:49,015 INFO mapreduce.Job: Running job: job_1681547354686_0002\r\n\r\n**2. core site config**\r\n\r\n```\r\n&lt;configuration&gt;\r\n   &lt;property&gt;\r\n       &lt;name&gt;fs.defaultFS&lt;/name&gt;\r\n       &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\r\n   &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n**3. hdfs site config**\r\n\r\n```\r\n&lt;configuration&gt;\r\n&lt;property&gt;\r\n       &lt;name&gt;dfs.replication&lt;/name&gt;\r\n       &lt;value&gt;1&lt;/value&gt;\r\n   &lt;/property&gt;\r\n   &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\r\n       &lt;value&gt;C:\\hadoop-env\\hadoop-3.2.1\\data\\dfs\\namenode&lt;/value&gt;\r\n   &lt;/property&gt;\r\n   &lt;property&gt;\r\n       &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;\r\n       &lt;value&gt;C:\\hadoop-env\\hadoop-3.2.1\\data\\dfs\\datanode&lt;/value&gt;\r\n   &lt;/property&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\n**4. mapred site config**\r\n\r\n```\r\n&lt;configuration&gt;\r\n   &lt;property&gt;\r\n       &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n       &lt;value&gt;yarn&lt;/value&gt;\r\n   &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n**5. yarn site config**\r\n\r\n```\r\n&lt;configuration&gt;\r\n   &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\r\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\r\n   &lt;/property&gt;\r\n   &lt;property&gt;\r\n          &lt;name&gt;yarn.nodemanager.auxservices.mapreduce.shuffle.class&lt;/name&gt;  \r\n    &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\r\n   &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\n\r\nI created a resource-types.xml file in the path where all xml files are located and i reffered to the answer in this link\r\n\r\nhttps://stackoverflow.com/questions/63664467/how-do-i-fix-a-resouce-types-xml-error\r\n\r\n**resource-type config**\r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;resources&gt;\r\n    &lt;resourceType name=&quot;GPU&quot; units=&quot;NONE&quot;&gt;\r\n      &lt;schedulerInclude&gt;true&lt;/schedulerInclude&gt;\r\n      &lt;yarnInclude&gt;true&lt;/yarnInclude&gt;\r\n    &lt;/resourceType&gt;\r\n    &lt;resourceType name=&quot;FPGA&quot; units=&quot;NONE&quot;&gt;\r\n      &lt;schedulerInclude&gt;true&lt;/schedulerInclude&gt;\r\n      &lt;yarnInclude&gt;true&lt;/yarnInclude&gt;\r\n    &lt;/resourceType&gt;\r\n  &lt;/resources&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\nMy friends which dont have this resource-type file were able to run the job fine but I am having this issue.\r\n","title":"Unable to find &#39;resource-types.xml&#39;. This shows while I try to run wordcount job on hadoop on win 10","body":"<p>The job would start but just get stuck and wont do anything. The files and job info are as follows:\n<strong>1. Job Information on cmd</strong></p>\n<pre><code>PS C:\\hadoop-env\\hadoop-3.2.1&gt; hadoop jar C:\\hadoop-env\\hadoop-3.2.1\\share\\hadoop\\mapreduce\\hadoop-mapreduce-examples-3.2.1.jar wordcount /input/senbad.txt /output\n2023-04-15 14:03:47,011 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\n2023-04-15 14:03:47,856 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/shekh/.staging/job_1681547354686_0002\n2023-04-15 14:03:47,960 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2023-04-15 14:03:48,095 INFO input.FileInputFormat: Total input files to process : 1\n2023-04-15 14:03:48,150 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2023-04-15 14:03:48,176 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2023-04-15 14:03:48,189 INFO mapreduce.JobSubmitter: number of splits:1\n2023-04-15 14:03:48,286 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2023-04-15 14:03:48,302 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1681547354686_0002\n2023-04-15 14:03:48,303 INFO mapreduce.JobSubmitter: Executing with tokens: []\n2023-04-15 14:03:48,498 INFO conf.Configuration: resource-types.xml not found\n2023-04-15 14:03:48,499 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n2023-04-15 14:03:48,969 INFO impl.YarnClientImpl: Submitted application application_1681547354686_0002\n2023-04-15 14:03:49,014 INFO mapreduce.Job: The url to track the job: http://LAPTOP-SEF3N6DS:8088/proxy/application_1681547354686_0002/\n2023-04-15 14:03:49,015 INFO mapreduce.Job: Running job: job_1681547354686_0002\n</code></pre>\n<p><strong>2. core site config</strong></p>\n<pre><code>&lt;configuration&gt;\n   &lt;property&gt;\n       &lt;name&gt;fs.defaultFS&lt;/name&gt;\n       &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\n   &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>3. hdfs site config</strong></p>\n<pre><code>&lt;configuration&gt;\n&lt;property&gt;\n       &lt;name&gt;dfs.replication&lt;/name&gt;\n       &lt;value&gt;1&lt;/value&gt;\n   &lt;/property&gt;\n   &lt;property&gt;\n       &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\n       &lt;value&gt;C:\\hadoop-env\\hadoop-3.2.1\\data\\dfs\\namenode&lt;/value&gt;\n   &lt;/property&gt;\n   &lt;property&gt;\n       &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;\n       &lt;value&gt;C:\\hadoop-env\\hadoop-3.2.1\\data\\dfs\\datanode&lt;/value&gt;\n   &lt;/property&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>4. mapred site config</strong></p>\n<pre><code>&lt;configuration&gt;\n   &lt;property&gt;\n       &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n       &lt;value&gt;yarn&lt;/value&gt;\n   &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>5. yarn site config</strong></p>\n<pre><code>&lt;configuration&gt;\n   &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n   &lt;/property&gt;\n   &lt;property&gt;\n          &lt;name&gt;yarn.nodemanager.auxservices.mapreduce.shuffle.class&lt;/name&gt;  \n    &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\n   &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I created a resource-types.xml file in the path where all xml files are located and i reffered to the answer in this link</p>\n<p><a href=\"https://stackoverflow.com/questions/63664467/how-do-i-fix-a-resouce-types-xml-error\">How do I fix a &quot;resouce-types.xml&quot; error?</a></p>\n<p><strong>resource-type config</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;resources&gt;\n    &lt;resourceType name=&quot;GPU&quot; units=&quot;NONE&quot;&gt;\n      &lt;schedulerInclude&gt;true&lt;/schedulerInclude&gt;\n      &lt;yarnInclude&gt;true&lt;/yarnInclude&gt;\n    &lt;/resourceType&gt;\n    &lt;resourceType name=&quot;FPGA&quot; units=&quot;NONE&quot;&gt;\n      &lt;schedulerInclude&gt;true&lt;/schedulerInclude&gt;\n      &lt;yarnInclude&gt;true&lt;/yarnInclude&gt;\n    &lt;/resourceType&gt;\n  &lt;/resources&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My friends which dont have this resource-type file were able to run the job fine but I am having this issue.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1692121059,"post_id":76907551,"comment_id":135580408,"body_markdown":"If you don&#39;t have same classes at compile time and runtime, this is definitely the kind of errors you&#39;ll get. Make sure you compile using the same version of Spark that you&#39;ll be running on.","body":"If you don&#39;t have same classes at compile time and runtime, this is definitely the kind of errors you&#39;ll get. Make sure you compile using the same version of Spark that you&#39;ll be running on."},{"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"score":0,"creation_date":1692122377,"post_id":76907551,"comment_id":135580676,"body_markdown":"@Ga&#235;lJ I understand how this type of exception can occur. I just don&#39;t know how to interpret this specific one","body":"@Ga&#235;lJ I understand how this type of exception can occur. I just don&#39;t know how to interpret this specific one"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692123355,"post_id":76907551,"comment_id":135580845,"body_markdown":"Are you supposed to fix the exception, or interpret it?","body":"Are you supposed to fix the exception, or interpret it?"},{"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"score":0,"creation_date":1692123810,"post_id":76907551,"comment_id":135580916,"body_markdown":"@Kayaman I&#39;m supposed to interpret it","body":"@Kayaman I&#39;m supposed to interpret it"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1692125069,"post_id":76907551,"comment_id":135581136,"body_markdown":"This is kinda the internals of the Scala compiler. If you really want to understand, I guess you should look at the compiled code and &quot;map&quot; it to the source code.","body":"This is kinda the internals of the Scala compiler. If you really want to understand, I guess you should look at the compiled code and &quot;map&quot; it to the source code."}],"answers":[{"comments":[{"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"score":0,"creation_date":1692199128,"post_id":76909985,"comment_id":135591922,"body_markdown":"Thanks for actually answering the question!","body":"Thanks for actually answering the question!"}],"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692150031,"creation_date":1692150031,"answer_id":76909985,"question_id":76907551,"body_markdown":"from the javadocs of [NoSuchMethodError](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NoSuchMethodError.html)\r\n\r\n&gt; Thrown if an application tries to call a specified method of a class (either static or instance), and that class no longer has a definition of that method.\r\n&gt;\r\n&gt; Normally, this error is caught by the compiler; this error can only occur at run time if the definition of a class has incompatibly changed.\r\n\r\nBased on the details of the question, I guess you were able to compile the project because you have the correct dependency set during the compilation time, but at runtime you used another version.\r\n\r\n----------\r\n\r\n- From `scala spark sql 3.2.4`: [ClusteredDistribution](https://github.com/apache/spark/blob/v3.2.4/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/plans/physical/partitioning.scala#L73)  (similar to the one from compile time)\r\n\r\n```scala\r\ncase class ClusteredDistribution(\r\n    clustering: Seq[Expression],\r\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\r\n  require(\r\n    clustering != Nil,\r\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\r\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\r\n      &quot;a single partition.&quot;)\r\n```\r\n\r\n- From `scala spark sql 3.4.1`: [ClusteredDistribution](https://github.com/apache/spark/blob/v3.4.1/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/plans/physical/partitioning.scala#L82)  (similar to the one from runtime)\r\n\r\n```scala\r\ncase class ClusteredDistribution(\r\n    clustering: Seq[Expression],\r\n    requireAllClusterKeys: Boolean = SQLConf.get.getConf(\r\n      SQLConf.REQUIRE_ALL_CLUSTER_KEYS_FOR_DISTRIBUTION),\r\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\r\n  require(\r\n    clustering != Nil,\r\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\r\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\r\n      &quot;a single partition.&quot;)\r\n```\r\n\r\nAs you can see, the constructor of each `case class` is different. They don&#39;t have the same signature. So, if you compile the project using one version and during runtime you have another version where they don&#39;t have the same signature, you can end in that type of error.\r\n\r\n----------\r\n\r\nYou want to understand the error message that says\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;boolean org.apache.spark.sql.catalyst.plans.physical.ClusteredDistribution$.apply$default$2()&#39;\r\n```\r\n\r\nLets try to throw the same error message. To do that, we can create a project `compile` with two files.\r\n\r\n- `Main.scala`\r\n\r\n```scala\r\nobject Main extends App {\r\n  new ClusteredDistribution(Seq(&quot;Hello&quot;))\r\n}\r\n```\r\n\r\n- `ClusteredDistribution.scala` (similar to the class at compile time)\r\n\r\n```scala\r\nclass ClusteredDistribution(\r\n  clustering: Seq[String],\r\n  requireAllClusterKeys: Boolean = true,\r\n  requiredNumPartitions: Option[Int] = None\r\n)\r\n```\r\n\r\nthen compile the project using `scalac`\r\n\r\n```scala\r\nscalac *.scala\r\n```\r\n\r\nThen create another project called `runtime` just using the `*.class` files generated from the `runtime` project\r\n\r\n```scala\r\ncp compile/*.class runtime/\r\n```\r\n\r\ninside `runtime` project create a new `ClusteredDistribution.scala` with the following code\r\n\r\n```scala\r\nclass ClusteredDistribution(\r\n  clustering: Seq[String],\r\n  requiredNumPartitions: Option[Int] = None\r\n)\r\n```\r\n\r\ncompile just this class\r\n\r\n```scala\r\nscalac *.scala\r\n```\r\n\r\nand then run the `Main` class with\r\n\r\n```scala\r\nscala Main\r\n```\r\n\r\nthere you are, a similar error message\r\n\r\n```scala\r\njava.lang.NoSuchMethodError: &#39;boolean ClusteredDistribution$.$lessinit$greater$default$2()&#39;\r\n```\r\n\r\n----------\r\n\r\nfrom [How can I see in what [Java/Scala?] code does Scala compiler rewrites original Scala-code](https://stackoverflow.com/questions/3784926/how-can-i-see-in-what-java-scala-code-does-scala-compiler-rewrites-original-s)\r\n\r\n&gt; use &quot;scalac -print&quot; to compile it, you will get the following Scala code\r\n\r\nIf we try to compile the files we created in the previous step with that flag, this is what you get\r\n\r\n- from `compile` (`&lt;init&gt;$default$2(): Boolean`)\r\n\r\n```scala\r\n[[syntax trees at end of                   cleanup]] // ClusteredDistribution.scala\r\npackage &lt;empty&gt; {\r\n  class ClusteredDistribution extends Object {\r\n    def &lt;init&gt;(clustering: Seq, requireAllClusterKeys: Boolean, requiredNumPartitions: Option): ClusteredDistribution = {\r\n      ClusteredDistribution.super.&lt;init&gt;();\r\n      ()\r\n    }\r\n  };\r\n  &lt;synthetic&gt; object ClusteredDistribution extends Object {\r\n    &lt;synthetic&gt; def &lt;init&gt;$default$2(): Boolean = true;\r\n    &lt;synthetic&gt; def &lt;init&gt;$default$3(): Option = scala.None;\r\n    def &lt;init&gt;(): ClusteredDistribution.type = {\r\n      ClusteredDistribution.super.&lt;init&gt;();\r\n      ()\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n- from `runtime` (`&lt;init&gt;$default$2(): Option`)\r\n\r\n```scala\r\n[[syntax trees at end of                   cleanup]] // ClusteredDistribution.scala\r\npackage &lt;empty&gt; {\r\n  class ClusteredDistribution extends Object {\r\n    def &lt;init&gt;(clustering: Seq, requiredNumPartitions: Option): ClusteredDistribution = {\r\n      ClusteredDistribution.super.&lt;init&gt;();\r\n      ()\r\n    }\r\n  };\r\n  &lt;synthetic&gt; object ClusteredDistribution extends Object {\r\n    &lt;synthetic&gt; def &lt;init&gt;$default$2(): Option = scala.None;\r\n    def &lt;init&gt;(): ClusteredDistribution.type = {\r\n      ClusteredDistribution.super.&lt;init&gt;();\r\n      ()\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nFrom there, we can observe that the number from `$default$2` is related with the position of the parameter where you put a default value. You can also see that there is a `$default$3` for the one from `compile` project which belong to the third param of the class. \r\n\r\n----------\r\n\r\nYou can find that in [http4s 0.23.23](https://github.com/http4s/http4s), for keeping binary compatibility with `http4s 0.23.12`, they did the following in [Multipart](https://github.com/http4s/http4s/blob/v0.23.23/core/shared/src/main/scala/org/http4s/multipart/Multipart.scala#L48) companion object\r\n\r\n```scala\r\nobject Multipart {\r\n  @deprecated(&quot;Retaining for binary-compatibility&quot;, &quot;0.23.12&quot;)\r\n  def `&lt;init&gt;$default$2`: String = apply$default$2\r\n  @deprecated(&quot;Retaining for binary-compatibility&quot;, &quot;0.23.12&quot;)\r\n  def apply$default$2: String = Boundary.unsafeCreate().value\r\n\r\n  @deprecated(\r\n    &quot;Creating a boundary is an effect.  Use Multiparts.multipart to generate an F[Multipart[F]], or call the two-parameter apply with your own boundary.&quot;,\r\n    &quot;0.23.12&quot;,\r\n  )\r\n  def apply[F[_]](parts: Vector[Part[F]]) = new Multipart(parts)\r\n}\r\n```","title":"Interpreting NoSuchMethodError","body":"<p>from the javadocs of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NoSuchMethodError.html\" rel=\"nofollow noreferrer\">NoSuchMethodError</a></p>\n<blockquote>\n<p>Thrown if an application tries to call a specified method of a class (either static or instance), and that class no longer has a definition of that method.</p>\n<p>Normally, this error is caught by the compiler; this error can only occur at run time if the definition of a class has incompatibly changed.</p>\n</blockquote>\n<p>Based on the details of the question, I guess you were able to compile the project because you have the correct dependency set during the compilation time, but at runtime you used another version.</p>\n<hr />\n<ul>\n<li>From <code>scala spark sql 3.2.4</code>: <a href=\"https://github.com/apache/spark/blob/v3.2.4/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/plans/physical/partitioning.scala#L73\" rel=\"nofollow noreferrer\">ClusteredDistribution</a>  (similar to the one from compile time)</li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>case class ClusteredDistribution(\n    clustering: Seq[Expression],\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\n  require(\n    clustering != Nil,\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\n      &quot;a single partition.&quot;)\n</code></pre>\n<ul>\n<li>From <code>scala spark sql 3.4.1</code>: <a href=\"https://github.com/apache/spark/blob/v3.4.1/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/plans/physical/partitioning.scala#L82\" rel=\"nofollow noreferrer\">ClusteredDistribution</a>  (similar to the one from runtime)</li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>case class ClusteredDistribution(\n    clustering: Seq[Expression],\n    requireAllClusterKeys: Boolean = SQLConf.get.getConf(\n      SQLConf.REQUIRE_ALL_CLUSTER_KEYS_FOR_DISTRIBUTION),\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\n  require(\n    clustering != Nil,\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\n      &quot;a single partition.&quot;)\n</code></pre>\n<p>As you can see, the constructor of each <code>case class</code> is different. They don't have the same signature. So, if you compile the project using one version and during runtime you have another version where they don't have the same signature, you can end in that type of error.</p>\n<hr />\n<p>You want to understand the error message that says</p>\n<pre><code>java.lang.NoSuchMethodError: 'boolean org.apache.spark.sql.catalyst.plans.physical.ClusteredDistribution$.apply$default$2()'\n</code></pre>\n<p>Lets try to throw the same error message. To do that, we can create a project <code>compile</code> with two files.</p>\n<ul>\n<li><code>Main.scala</code></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>object Main extends App {\n  new ClusteredDistribution(Seq(&quot;Hello&quot;))\n}\n</code></pre>\n<ul>\n<li><code>ClusteredDistribution.scala</code> (similar to the class at compile time)</li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>class ClusteredDistribution(\n  clustering: Seq[String],\n  requireAllClusterKeys: Boolean = true,\n  requiredNumPartitions: Option[Int] = None\n)\n</code></pre>\n<p>then compile the project using <code>scalac</code></p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalac *.scala\n</code></pre>\n<p>Then create another project called <code>runtime</code> just using the <code>*.class</code> files generated from the <code>runtime</code> project</p>\n<pre class=\"lang-scala prettyprint-override\"><code>cp compile/*.class runtime/\n</code></pre>\n<p>inside <code>runtime</code> project create a new <code>ClusteredDistribution.scala</code> with the following code</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class ClusteredDistribution(\n  clustering: Seq[String],\n  requiredNumPartitions: Option[Int] = None\n)\n</code></pre>\n<p>compile just this class</p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalac *.scala\n</code></pre>\n<p>and then run the <code>Main</code> class with</p>\n<pre class=\"lang-scala prettyprint-override\"><code>scala Main\n</code></pre>\n<p>there you are, a similar error message</p>\n<pre class=\"lang-scala prettyprint-override\"><code>java.lang.NoSuchMethodError: 'boolean ClusteredDistribution$.$lessinit$greater$default$2()'\n</code></pre>\n<hr />\n<p>from <a href=\"https://stackoverflow.com/questions/3784926/how-can-i-see-in-what-java-scala-code-does-scala-compiler-rewrites-original-s\">How can I see in what [Java/Scala?] code does Scala compiler rewrites original Scala-code</a></p>\n<blockquote>\n<p>use &quot;scalac -print&quot; to compile it, you will get the following Scala code</p>\n</blockquote>\n<p>If we try to compile the files we created in the previous step with that flag, this is what you get</p>\n<ul>\n<li>from <code>compile</code> (<code>&lt;init&gt;$default$2(): Boolean</code>)</li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>[[syntax trees at end of                   cleanup]] // ClusteredDistribution.scala\npackage &lt;empty&gt; {\n  class ClusteredDistribution extends Object {\n    def &lt;init&gt;(clustering: Seq, requireAllClusterKeys: Boolean, requiredNumPartitions: Option): ClusteredDistribution = {\n      ClusteredDistribution.super.&lt;init&gt;();\n      ()\n    }\n  };\n  &lt;synthetic&gt; object ClusteredDistribution extends Object {\n    &lt;synthetic&gt; def &lt;init&gt;$default$2(): Boolean = true;\n    &lt;synthetic&gt; def &lt;init&gt;$default$3(): Option = scala.None;\n    def &lt;init&gt;(): ClusteredDistribution.type = {\n      ClusteredDistribution.super.&lt;init&gt;();\n      ()\n    }\n  }\n}\n</code></pre>\n<ul>\n<li>from <code>runtime</code> (<code>&lt;init&gt;$default$2(): Option</code>)</li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>[[syntax trees at end of                   cleanup]] // ClusteredDistribution.scala\npackage &lt;empty&gt; {\n  class ClusteredDistribution extends Object {\n    def &lt;init&gt;(clustering: Seq, requiredNumPartitions: Option): ClusteredDistribution = {\n      ClusteredDistribution.super.&lt;init&gt;();\n      ()\n    }\n  };\n  &lt;synthetic&gt; object ClusteredDistribution extends Object {\n    &lt;synthetic&gt; def &lt;init&gt;$default$2(): Option = scala.None;\n    def &lt;init&gt;(): ClusteredDistribution.type = {\n      ClusteredDistribution.super.&lt;init&gt;();\n      ()\n    }\n  }\n}\n</code></pre>\n<p>From there, we can observe that the number from <code>$default$2</code> is related with the position of the parameter where you put a default value. You can also see that there is a <code>$default$3</code> for the one from <code>compile</code> project which belong to the third param of the class.</p>\n<hr />\n<p>You can find that in <a href=\"https://github.com/http4s/http4s\" rel=\"nofollow noreferrer\">http4s 0.23.23</a>, for keeping binary compatibility with <code>http4s 0.23.12</code>, they did the following in <a href=\"https://github.com/http4s/http4s/blob/v0.23.23/core/shared/src/main/scala/org/http4s/multipart/Multipart.scala#L48\" rel=\"nofollow noreferrer\">Multipart</a> companion object</p>\n<pre class=\"lang-scala prettyprint-override\"><code>object Multipart {\n  @deprecated(&quot;Retaining for binary-compatibility&quot;, &quot;0.23.12&quot;)\n  def `&lt;init&gt;$default$2`: String = apply$default$2\n  @deprecated(&quot;Retaining for binary-compatibility&quot;, &quot;0.23.12&quot;)\n  def apply$default$2: String = Boundary.unsafeCreate().value\n\n  @deprecated(\n    &quot;Creating a boundary is an effect.  Use Multiparts.multipart to generate an F[Multipart[F]], or call the two-parameter apply with your own boundary.&quot;,\n    &quot;0.23.12&quot;,\n  )\n  def apply[F[_]](parts: Vector[Part[F]]) = new Multipart(parts)\n}\n</code></pre>\n"}],"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76909985,"answer_count":1,"score":0,"last_activity_date":1692150031,"creation_date":1692116407,"question_id":76907551,"body_markdown":"I&#39;m running into this when running some code that&#39;s different at compile time\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;boolean org.apache.spark.sql.catalyst.plans.physical.ClusteredDistribution$.apply$default$2()&#39;\r\n```\r\n\r\nClass at compile time:\r\n```\r\ncase class ClusteredDistribution(\r\n    clustering: Seq[Expression],\r\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\r\n  require(\r\n    clustering != Nil,\r\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\r\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\r\n      &quot;a single partition.&quot;)\r\n}\r\n```\r\n\r\nClass at run time:\r\n```\r\ncase class ClusteredDistribution(\r\n    clustering: Seq[Expression],\r\n    requireAllClusterKeys: Boolean = SQLConf.get.getConf(\r\n      SQLConf.REQUIRE_ALL_CLUSTER_KEYS_FOR_DISTRIBUTION),\r\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\r\n  require(\r\n    clustering != Nil,\r\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\r\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\r\n      &quot;a single partition.&quot;)\r\n}\r\n```\r\n\r\nis this exception complaining about parameter `requireAllClusterKeys` with default value `SQLConf.get.getConf(\r\n      SQLConf.REQUIRE_ALL_CLUSTER_KEYS_FOR_DISTRIBUTION)` because that parameter doesn&#39;t exist at compile time? I&#39;m assuming this is the case because otherwise I don&#39;t know how the `boolean` in that exception is relevant. Basically what I think is happening is that this case class is instantiated at runtime using a boolean parameter, but the class in the compiled jar doesn&#39;t have a boolean parameter thus failing to find the method being called\r\n\r\nI&#39;ve been reading other posts about interpreting these exceptions such as [this post](https://stackoverflow.com/questions/2945862/interpreting-java-lang-nosuchmethoderror-message) but mine is different in that the namespace is prefaced with `boolean` and I don&#39;t know how to interpret `.apply$default$2()` (which I&#39;m assuming is just complaining about a default parameter in the apply method)","title":"Interpreting NoSuchMethodError","body":"<p>I'm running into this when running some code that's different at compile time</p>\n<pre><code>java.lang.NoSuchMethodError: 'boolean org.apache.spark.sql.catalyst.plans.physical.ClusteredDistribution$.apply$default$2()'\n</code></pre>\n<p>Class at compile time:</p>\n<pre><code>case class ClusteredDistribution(\n    clustering: Seq[Expression],\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\n  require(\n    clustering != Nil,\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\n      &quot;a single partition.&quot;)\n}\n</code></pre>\n<p>Class at run time:</p>\n<pre><code>case class ClusteredDistribution(\n    clustering: Seq[Expression],\n    requireAllClusterKeys: Boolean = SQLConf.get.getConf(\n      SQLConf.REQUIRE_ALL_CLUSTER_KEYS_FOR_DISTRIBUTION),\n    requiredNumPartitions: Option[Int] = None) extends Distribution {\n  require(\n    clustering != Nil,\n    &quot;The clustering expressions of a ClusteredDistribution should not be Nil. &quot; +\n      &quot;An AllTuples should be used to represent a distribution that only has &quot; +\n      &quot;a single partition.&quot;)\n}\n</code></pre>\n<p>is this exception complaining about parameter <code>requireAllClusterKeys</code> with default value <code>SQLConf.get.getConf( SQLConf.REQUIRE_ALL_CLUSTER_KEYS_FOR_DISTRIBUTION)</code> because that parameter doesn't exist at compile time? I'm assuming this is the case because otherwise I don't know how the <code>boolean</code> in that exception is relevant. Basically what I think is happening is that this case class is instantiated at runtime using a boolean parameter, but the class in the compiled jar doesn't have a boolean parameter thus failing to find the method being called</p>\n<p>I've been reading other posts about interpreting these exceptions such as <a href=\"https://stackoverflow.com/questions/2945862/interpreting-java-lang-nosuchmethoderror-message\">this post</a> but mine is different in that the namespace is prefaced with <code>boolean</code> and I don't know how to interpret <code>.apply$default$2()</code> (which I'm assuming is just complaining about a default parameter in the apply method)</p>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":5066786,"reputation":690,"user_id":4066708,"display_name":"Malcolm"},"score":2,"creation_date":1690565993,"post_id":76789919,"comment_id":135376620,"body_markdown":"You are not using the correct method to compare two strings in Java.  See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"You are not using the correct method to compare two strings in Java.  See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":5066786,"reputation":690,"user_id":4066708,"display_name":"Malcolm"},"score":0,"creation_date":1690566181,"post_id":76789919,"comment_id":135376654,"body_markdown":"Actually that answer is not the best as you don&#39;t need to reference the Object method.  You really want &quot;if(goal.equals(builder.toString())){&quot;","body":"Actually that answer is not the best as you don&#39;t need to reference the Object method.  You really want &quot;if(goal.equals(builder.toString())){&quot;"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690572254,"post_id":76789919,"comment_id":135377603,"body_markdown":"It&#39;s perhaps worth pointing out that you don&#39;t need to rotate the StringBuilder at all - or even use a StringBuilder. You can efficiently compare regions of a String using [`regionMatches`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#regionMatches-int-java.lang.String-int-int-): just compare `s.regionMatches(0, goal, i, goal.length() - i) &amp;&amp; s.regionMatches(i, goal, 0, s.length() - i)` (or something like that).","body":"It&#39;s perhaps worth pointing out that you don&#39;t need to rotate the StringBuilder at all - or even use a StringBuilder. You can efficiently compare regions of a String using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#regionMatches-int-java.lang.String-int-int-\" rel=\"nofollow noreferrer\"><code>regionMatches</code></a>: just compare <code>s.regionMatches(0, goal, i, goal.length() - i) &amp;&amp; s.regionMatches(i, goal, 0, s.length() - i)</code> (or something like that)."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690565819,"creation_date":1690565819,"answer_id":76789957,"question_id":76789919,"body_markdown":"The reason the `flag` remains *false* even when `builder.toString()` and `goal` seem to have the same value is because you are using the &quot;==&quot; operator to compare the two strings. \r\n\r\nIn Java, the &quot;==&quot; operator checks for reference equality, **not the content equality of strings**.\r\n\r\nYou should do this way:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n\tSystem.out.println(rotateString(&quot;abcd&quot;, &quot;cdab&quot;));\r\n\r\n}\r\n\r\npublic static boolean rotateString(String s, String goal) {\r\n\tBoolean flag = false;\r\n\tStringBuilder builder = new StringBuilder(s);\r\n\r\n\tfor (int i = 0; i &lt;= s.length() - 1; i++) {\r\n        \r\n        // Use equals() to compare strings.\r\n\t\tif (builder.toString().equals(goal)) {\r\n\t\t\tflag = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tchar temp = builder.charAt(builder.length() - 1);\r\n\t\tfor (int j = s.length() - 1; j &gt;= 0; j--) {\r\n\r\n\t\t\tif (j == 0)\r\n\t\t\t\tcontinue;\r\n\t\t\tbuilder.setCharAt(j, builder.charAt(j - 1));\r\n\r\n\t\t}\r\n\t\tbuilder.setCharAt(0, temp);\r\n\t}\r\n\r\n\treturn flag;\r\n}\r\n```\r\n\r\nCheck this out: [What is the difference between == and equals() in Java?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java","title":"How do I compare a rotating StringBuilder with a normal String in Java","body":"<p>The reason the <code>flag</code> remains <em>false</em> even when <code>builder.toString()</code> and <code>goal</code> seem to have the same value is because you are using the &quot;==&quot; operator to compare the two strings.</p>\n<p>In Java, the &quot;==&quot; operator checks for reference equality, <strong>not the content equality of strings</strong>.</p>\n<p>You should do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    System.out.println(rotateString(&quot;abcd&quot;, &quot;cdab&quot;));\n\n}\n\npublic static boolean rotateString(String s, String goal) {\n    Boolean flag = false;\n    StringBuilder builder = new StringBuilder(s);\n\n    for (int i = 0; i &lt;= s.length() - 1; i++) {\n        \n        // Use equals() to compare strings.\n        if (builder.toString().equals(goal)) {\n            flag = true;\n            break;\n        }\n\n        char temp = builder.charAt(builder.length() - 1);\n        for (int j = s.length() - 1; j &gt;= 0; j--) {\n\n            if (j == 0)\n                continue;\n            builder.setCharAt(j, builder.charAt(j - 1));\n\n        }\n        builder.setCharAt(0, temp);\n    }\n\n    return flag;\n}\n</code></pre>\n<p>Check this out: <a href=\"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java\">What is the difference between == and equals() in Java?</a></p>\n"},{"comments":[{"owner":{"display_name":"user2453382"},"score":1,"creation_date":1690567537,"post_id":76790067,"comment_id":135376908,"body_markdown":"Hi, while your answer can be useful in a different context, it is not a direct anser to OP&#39;s question. I highly recommend reading [What is an acceptable answer?](https://meta.stackexchange.com/a/118694/387003) to learn about answering to-the-point when needed.","body":"Hi, while your answer can be useful in a different context, it is not a direct anser to OP&#39;s question. I highly recommend reading <a href=\"https://meta.stackexchange.com/a/118694/387003\">What is an acceptable answer?</a> to learn about answering to-the-point when needed."},{"owner":{"account_id":9180858,"reputation":1,"user_id":22302323,"display_name":"suape"},"score":1,"creation_date":1690658171,"post_id":76790067,"comment_id":135385291,"body_markdown":"Thanks @Rakib, will do! New to the platform, so I gotta get up to speed.","body":"Thanks @Rakib, will do! New to the platform, so I gotta get up to speed."}],"tags":[],"owner":{"account_id":9180858,"reputation":1,"user_id":22302323,"display_name":"suape"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690567042,"creation_date":1690566941,"answer_id":76790067,"question_id":76789919,"body_markdown":"Since your question already has been answered, this is just to give you some more context.\r\n\r\nIn Java primitive types (like int, char, and double) can be compared using `==` no problem, but you generally will want to use the object&#39;s `classInstance.equals()` method for comparisons. This is because `==` returns true if and only if the objects being compared refer to the same memory address. The `StringBuilder` and `String s` are referring to different objects so they are different in the eyes of `==`.\r\n\r\nThink about it this way:\r\n\r\nLet&#39;s make a class called Data as follows\r\n```\r\npublic class Data {\r\n    public int value;\r\n\r\n    public Data(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\nand let&#39;s add an override to Data&#39;s inherited .equals method (which it inherits from Object&#39;s)\r\n```\r\npublic boolean equals(Object obj) {\r\n    if (this == obj) {\r\n        return true;\r\n    }\r\n    if (obj == null || getClass() != obj.getClass()) {\r\n        return false;\r\n    }\r\n    Data otherData = (Data) obj;\r\n    return this.value == otherData.value;\r\n}\r\n```\r\n\r\nNow if we run the following code:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Data data1 = new Data(0);\r\n        Data data2 = new Data(0);\r\n\r\n        boolean usingDoubleEquals = data1 == data2;\r\n        boolean usingEqualsMethod = data1.equals(data2);\r\n    }\r\n}\r\n```\r\nWe will get `usingDoubleEquals = false` and `usingEqualsMethod = true`. Note how we are using `==` in the return statement of the `.equals` method, but now it&#39;s evaluating two primitives: `int value` of the Data instance that is calling the method and `int value` of the Data instance that is being passed to the method.\r\n\r\nNow, if you want to have even more fun, look into Java&#39;s String Pool for some exceptions to this rule that are unique to String types, and look up the Knuth–Morris–Pratt algorithm for a faster solution to the algorithm!","title":"How do I compare a rotating StringBuilder with a normal String in Java","body":"<p>Since your question already has been answered, this is just to give you some more context.</p>\n<p>In Java primitive types (like int, char, and double) can be compared using <code>==</code> no problem, but you generally will want to use the object's <code>classInstance.equals()</code> method for comparisons. This is because <code>==</code> returns true if and only if the objects being compared refer to the same memory address. The <code>StringBuilder</code> and <code>String s</code> are referring to different objects so they are different in the eyes of <code>==</code>.</p>\n<p>Think about it this way:</p>\n<p>Let's make a class called Data as follows</p>\n<pre><code>public class Data {\n    public int value;\n\n    public Data(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>and let's add an override to Data's inherited .equals method (which it inherits from Object's)</p>\n<pre><code>public boolean equals(Object obj) {\n    if (this == obj) {\n        return true;\n    }\n    if (obj == null || getClass() != obj.getClass()) {\n        return false;\n    }\n    Data otherData = (Data) obj;\n    return this.value == otherData.value;\n}\n</code></pre>\n<p>Now if we run the following code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Data data1 = new Data(0);\n        Data data2 = new Data(0);\n\n        boolean usingDoubleEquals = data1 == data2;\n        boolean usingEqualsMethod = data1.equals(data2);\n    }\n}\n</code></pre>\n<p>We will get <code>usingDoubleEquals = false</code> and <code>usingEqualsMethod = true</code>. Note how we are using <code>==</code> in the return statement of the <code>.equals</code> method, but now it's evaluating two primitives: <code>int value</code> of the Data instance that is calling the method and <code>int value</code> of the Data instance that is being passed to the method.</p>\n<p>Now, if you want to have even more fun, look into Java's String Pool for some exceptions to this rule that are unique to String types, and look up the Knuth–Morris–Pratt algorithm for a faster solution to the algorithm!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692149430,"creation_date":1692149430,"answer_id":76909956,"question_id":76789919,"body_markdown":"&gt; _&quot;... I don&#39;t know how the flag is still `false` I also tried debugging it, it shows value of `builder.toString()` and `goal` is same. ...&quot;_\r\n\r\nSince you&#39;re comparing _String_ values you&#39;ll need to use the _[equals](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equals(java.lang.Object))_ method.\r\n\r\nIf you change the conditional statement to the following, the _flag_ value returns _true_.\r\n\r\n```java\r\nif (builder.toString().equals(goal))\r\n```\r\n\r\nAdditionally, you can rotate the string much simpler.\r\n\r\n```java\r\npublic static boolean rotateString(String s, String goal) {\r\n    StringBuilder builder = new StringBuilder(s);\r\n    for (int count = 0; count &lt; s.length(); count++) {\r\n        builder.insert(builder.length(), builder.charAt(0));\r\n        builder.deleteCharAt(0);\r\n        if (builder.toString().equals(goal)) return true;\r\n    }\r\n    return false;\r\n}\r\n```","title":"How do I compare a rotating StringBuilder with a normal String in Java","body":"<blockquote>\n<p><em>&quot;... I don't know how the flag is still <code>false</code> I also tried debugging it, it shows value of <code>builder.toString()</code> and <code>goal</code> is same. ...&quot;</em></p>\n</blockquote>\n<p>Since you're comparing <em>String</em> values you'll need to use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals</a></em> method.</p>\n<p>If you change the conditional statement to the following, the <em>flag</em> value returns <em>true</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (builder.toString().equals(goal))\n</code></pre>\n<p>Additionally, you can rotate the string much simpler.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean rotateString(String s, String goal) {\n    StringBuilder builder = new StringBuilder(s);\n    for (int count = 0; count &lt; s.length(); count++) {\n        builder.insert(builder.length(), builder.charAt(0));\n        builder.deleteCharAt(0);\n        if (builder.toString().equals(goal)) return true;\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":24059060,"reputation":1,"user_id":18036530,"display_name":"Aditya Simant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692149430,"creation_date":1690565318,"question_id":76789919,"body_markdown":"Here is the question: Given two strings `s` and `goal`, return `true` if and only if `s` can become `goal` after some number of shifts on `s`.\r\n\r\nA shift on s consists of moving the leftmost character of s to the rightmost position.\r\n\r\nFor example, if s = &quot;abcde&quot;, then it will be &quot;bcdea&quot; after one shift.\r\n- Input: `s` = &quot;abcde&quot;, `goal` = &quot;cdeab&quot;\r\nOutput: `true`\r\n- Input: `s` = &quot;abcde&quot;, `goal` = &quot;abced&quot;\r\nOutput: `false`\r\n\r\nHere is the code I wrote:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\r\n    System.out.println(rotateString(&quot;abcd&quot;,&quot;cdab&quot;));\r\n\r\n    }\r\n\r\npublic static boolean rotateString(String s, String goal) {\r\n        Boolean flag = false;\r\n        StringBuilder builder = new StringBuilder(s);\r\n\r\n            for (int i=0;i&lt;=s.length()-1;i++){\r\n            if (builder.toString() == goal) {\r\n                flag= true;\r\n                break;\r\n            }\r\n\r\n            char temp = builder.charAt(builder.length()-1);\r\n            for (int j=s.length()-1;j&gt;=0;j--){\r\n\r\n                if (j==0) continue;\r\n                builder.setCharAt(j, builder.charAt(j-1));\r\n\r\n            }\r\n            builder.setCharAt(0,temp);\r\n            }\r\n\r\n        return flag;\r\n    }\r\n```\r\n\r\nI don&#39;t know how the flag is still `false` I also tried debugging it, it shows value of `builder.toString()` and `goal` is same. \r\n\r\n\r\n\r\nI was expecting the `flag` to be `true` but it always stays `false`. ","title":"How do I compare a rotating StringBuilder with a normal String in Java","body":"<p>Here is the question: Given two strings <code>s</code> and <code>goal</code>, return <code>true</code> if and only if <code>s</code> can become <code>goal</code> after some number of shifts on <code>s</code>.</p>\n<p>A shift on s consists of moving the leftmost character of s to the rightmost position.</p>\n<p>For example, if s = &quot;abcde&quot;, then it will be &quot;bcdea&quot; after one shift.</p>\n<ul>\n<li>Input: <code>s</code> = &quot;abcde&quot;, <code>goal</code> = &quot;cdeab&quot;\nOutput: <code>true</code></li>\n<li>Input: <code>s</code> = &quot;abcde&quot;, <code>goal</code> = &quot;abced&quot;\nOutput: <code>false</code></li>\n</ul>\n<p>Here is the code I wrote:</p>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(rotateString(&quot;abcd&quot;,&quot;cdab&quot;));\n\n    }\n\npublic static boolean rotateString(String s, String goal) {\n        Boolean flag = false;\n        StringBuilder builder = new StringBuilder(s);\n\n            for (int i=0;i&lt;=s.length()-1;i++){\n            if (builder.toString() == goal) {\n                flag= true;\n                break;\n            }\n\n            char temp = builder.charAt(builder.length()-1);\n            for (int j=s.length()-1;j&gt;=0;j--){\n\n                if (j==0) continue;\n                builder.setCharAt(j, builder.charAt(j-1));\n\n            }\n            builder.setCharAt(0,temp);\n            }\n\n        return flag;\n    }\n</code></pre>\n<p>I don't know how the flag is still <code>false</code> I also tried debugging it, it shows value of <code>builder.toString()</code> and <code>goal</code> is same.</p>\n<p>I was expecting the <code>flag</code> to be <code>true</code> but it always stays <code>false</code>.</p>\n"},{"tags":["java","oop","inheritance","dependency-injection"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1691364077,"post_id":76848094,"comment_id":135477566,"body_markdown":"`However, if an injected field is private, or even protected, needing to create a constructor in the subclass feeding a value up into the super class, runs contrary to the the beauty of inheritance`  Can you justify this statement?  What actual arguments do you have that support the idea that constructors are &quot;contrary&quot; to some kind of &quot;beauty&quot;?  I&#39;m asking because I don&#39;t understand.  If you remove the `@Autowire` annotation above, what you have is perfectly normal Java inheritance tree, and all of those elements are required, none can be omitted.","body":"<code>However, if an injected field is private, or even protected, needing to create a constructor in the subclass feeding a value up into the super class, runs contrary to the the beauty of inheritance</code>  Can you justify this statement?  What actual arguments do you have that support the idea that constructors are &quot;contrary&quot; to some kind of &quot;beauty&quot;?  I&#39;m asking because I don&#39;t understand.  If you remove the <code>@Autowire</code> annotation above, what you have is perfectly normal Java inheritance tree, and all of those elements are required, none can be omitted."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1691364175,"post_id":76848094,"comment_id":135477574,"body_markdown":"`Immutability: A private field is already immutable`  **NO** Java has a specific definition of immutability, you don&#39;t get to pick your own.  The JVM needs to understand what you are doing or you do *NOT* get an immutable object.  Go read the spec: https://docs.oracle.com/javase/specs/jls/se20/html/jls-17.html#jls-17.5","body":"<code>Immutability: A private field is already immutable</code>  <b>NO</b> Java has a specific definition of immutability, you don&#39;t get to pick your own.  The JVM needs to understand what you are doing or you do <i>NOT</i> get an immutable object.  Go read the spec: <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se20/html/jls-17.html#jls-1&zwnj;&#8203;7.5</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1691364352,"post_id":76848094,"comment_id":135477585,"body_markdown":"And I think points 2 through 4 are really weak, you should justify those much better imo.","body":"And I think points 2 through 4 are really weak, you should justify those much better imo."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1691365336,"post_id":76848094,"comment_id":135477649,"body_markdown":"Don&#39;t sweat it. If you can write a good unit test fro your class, it&#39;s a good class. I don&#39;t know why you need a constructor in `A` in this case,  but it&#39;s ok too. Doesn&#39;t matter what it&#39;s called as long as it works.","body":"Don&#39;t sweat it. If you can write a good unit test fro your class, it&#39;s a good class. I don&#39;t know why you need a constructor in <code>A</code> in this case,  but it&#39;s ok too. Doesn&#39;t matter what it&#39;s called as long as it works."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691369354,"post_id":76848094,"comment_id":135477896,"body_markdown":"1. Having no shared mutable state allows you to quickly see that a class is thread safe, and final fields are an important part of that. 2. You need to explain better what you mean. Usually a class which is extended would be `abstract`, so never created. 3. What increased complexity do you mean? The only difference is a constructor. 4. As syllogistyc suggests, you can use composition to avoid coupling. If the subclass is overriding methods, then it is already tightly coupled.","body":"1. Having no shared mutable state allows you to quickly see that a class is thread safe, and final fields are an important part of that. 2. You need to explain better what you mean. Usually a class which is extended would be <code>abstract</code>, so never created. 3. What increased complexity do you mean? The only difference is a constructor. 4. As syllogistyc suggests, you can use composition to avoid coupling. If the subclass is overriding methods, then it is already tightly coupled."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691372684,"post_id":76848094,"comment_id":135478088,"body_markdown":"As a general rule, using words like &#39;beauty&#39;, or making statements like &#39;more complex&#39; without explaining how or defining what such a complex (ha!) word as &#39;complex&#39; means - is a big mistake. Programming isn&#39;t like painting. It&#39;s like bridge building. It works, or it falls. It was built efficiently, or it went way over budget and is a maintenance nightmare. Yes, a bridge __can__ be a work of art, and so can some code - but if you local bridge builder harps on and on about how pretty the bridges are and goes &#39;wha?&#39; when you ask about safety - run for the hills.","body":"As a general rule, using words like &#39;beauty&#39;, or making statements like &#39;more complex&#39; without explaining how or defining what such a complex (ha!) word as &#39;complex&#39; means - is a big mistake. Programming isn&#39;t like painting. It&#39;s like bridge building. It works, or it falls. It was built efficiently, or it went way over budget and is a maintenance nightmare. Yes, a bridge <b>can</b> be a work of art, and so can some code - but if you local bridge builder harps on and on about how pretty the bridges are and goes &#39;wha?&#39; when you ask about safety - run for the hills."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691372740,"post_id":76848094,"comment_id":135478092,"body_markdown":"Imagine you tried to be a biologist and you preferred one explanation (let&#39;s say, that the humours of the body being out of whack causes disease) because you find this more &#39;elegant&#39; than an explanation with viruses but also bacteria and even parasites. It&#39;s idiotic. Don&#39;t apply it to programming, either.","body":"Imagine you tried to be a biologist and you preferred one explanation (let&#39;s say, that the humours of the body being out of whack causes disease) because you find this more &#39;elegant&#39; than an explanation with viruses but also bacteria and even parasites. It&#39;s idiotic. Don&#39;t apply it to programming, either."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691372781,"post_id":76848094,"comment_id":135478096,"body_markdown":"Presumably this is why SO has a rule against precisely this kind of question. It just pits my innate sense of aesthetics against yours. It&#39;s as useful as me telling you: &quot;I find this painting quite pretty&quot; and you going: &quot;What?? It&#39;s an ugly mess!&quot; - that&#39;s not a debate. That&#39;s just pointless yelling.","body":"Presumably this is why SO has a rule against precisely this kind of question. It just pits my innate sense of aesthetics against yours. It&#39;s as useful as me telling you: &quot;I find this painting quite pretty&quot; and you going: &quot;What?? It&#39;s an ugly mess!&quot; - that&#39;s not a debate. That&#39;s just pointless yelling."}],"answers":[{"tags":[],"owner":{"account_id":11473462,"reputation":41,"user_id":8409571,"display_name":"syllogistyc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692148477,"creation_date":1691365351,"answer_id":76848144,"question_id":76848094,"body_markdown":"The point of a subclass is to create different, specialised versions of the parent and should be reserved for an &quot;IS-A&quot; relationship. You&#39;ve probably heard [&quot;always prefer composition over inheritance&quot;](https://stackoverflow.com/a/4989777/8409571).\r\n\r\nWith that in mind, class B still needs an input `Foo` for all the same reasons that class A needs one - by merit of B &quot;being&quot; an A (&quot;is-a&quot;).\r\n\r\nIn answer to your points:\r\n 1. Immutability is a best practice to help you or other developers avoid errors. Same motivations as using non-nullable types. And it&#39;s self-documenting. Imagine coming across a reasonably complex class written by someone else - you don&#39;t know if that field is _intended_ to be mutated.\r\n 2. Inversion of Control is actually part of the point. That&#39;s why DI is used at all (see https://stackoverflow.com/a/3140/8409571). If `A` breaks because `B` gave it a different dependency, that suggests other problems with your code.\r\n 3. Many layers of dependency can easily get complex if not designed carefully. Some languages are more verbose than others (Java). There are other ways to get around this problem e.g. Builders or Options objects. If those constructor args seem unnecessary, then you might have misused inheritance.\r\n 4. Tight Coupling: Yes. Exactly. `B` _is_ an `A`. It inherits all of `A`&#39;s baggage. Though it should only be one-way coupling B -&gt; A.\r\n\r\nFor all these reasons, you need to implement inheritance carefully. Kotlin, for example, defaults everything to `final` unless you specify `open`.\r\n\r\n---\r\n\r\nTL;DR\r\n\r\nIf `B` wants to reuse code from `A` but shouldn&#39;t have to worry about `Foo`, then use Composition instead:\r\n\r\n```\r\npublic class A {\r\n  private final Foo foo;\r\n\r\n  public A(Foo foo) {\r\n    this.foo = foo;\r\n  }\r\n}\r\n\r\npublic class B {\r\n  private final A a\r\n\r\n  public B(A a) {\r\n    this.a = a\r\n  }\r\n}\r\n```","title":"Field Injection and Inheritance","body":"<p>The point of a subclass is to create different, specialised versions of the parent and should be reserved for an &quot;IS-A&quot; relationship. You've probably heard <a href=\"https://stackoverflow.com/a/4989777/8409571\">&quot;always prefer composition over inheritance&quot;</a>.</p>\n<p>With that in mind, class B still needs an input <code>Foo</code> for all the same reasons that class A needs one - by merit of B &quot;being&quot; an A (&quot;is-a&quot;).</p>\n<p>In answer to your points:</p>\n<ol>\n<li>Immutability is a best practice to help you or other developers avoid errors. Same motivations as using non-nullable types. And it's self-documenting. Imagine coming across a reasonably complex class written by someone else - you don't know if that field is <em>intended</em> to be mutated.</li>\n<li>Inversion of Control is actually part of the point. That's why DI is used at all (see <a href=\"https://stackoverflow.com/a/3140/8409571\">https://stackoverflow.com/a/3140/8409571</a>). If <code>A</code> breaks because <code>B</code> gave it a different dependency, that suggests other problems with your code.</li>\n<li>Many layers of dependency can easily get complex if not designed carefully. Some languages are more verbose than others (Java). There are other ways to get around this problem e.g. Builders or Options objects. If those constructor args seem unnecessary, then you might have misused inheritance.</li>\n<li>Tight Coupling: Yes. Exactly. <code>B</code> <em>is</em> an <code>A</code>. It inherits all of <code>A</code>'s baggage. Though it should only be one-way coupling B -&gt; A.</li>\n</ol>\n<p>For all these reasons, you need to implement inheritance carefully. Kotlin, for example, defaults everything to <code>final</code> unless you specify <code>open</code>.</p>\n<hr />\n<p>TL;DR</p>\n<p>If <code>B</code> wants to reuse code from <code>A</code> but shouldn't have to worry about <code>Foo</code>, then use Composition instead:</p>\n<pre><code>public class A {\n  private final Foo foo;\n\n  public A(Foo foo) {\n    this.foo = foo;\n  }\n}\n\npublic class B {\n  private final A a\n\n  public B(A a) {\n    this.a = a\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":29173285,"reputation":1,"user_id":22349108,"display_name":"Madhu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691372407,"answer_count":1,"score":0,"last_activity_date":1692148477,"creation_date":1691363621,"question_id":76848094,"body_markdown":"In Dependency Injection, field injection is generally discouraged in favor of constructor argument injection so that one can make the injected field final (immutable). Constructor argument injection also offers a few other conveniences. However, if an injected field is private, or even protected, needing to create a constructor in the subclass feeding a value up into the super class that is otherwise should not be the concern of the subclass, runs contrary to the the beauty of inheritance - a subclass getting the provisions of the parent class. Assuming that there is no subclass-specific value for the field in question, every single subclass would have to just repeat the same constructor code. This can make the code more complex and harder to understand, especially when there are multiple dependencies and multiple levels of inheritance.\r\n\r\n```\r\npublic class A {\r\n  private final Foo foo;\r\n\r\n  public A(Foo foo) {\r\n    this.foo = foo;\r\n  }\r\n}\r\n\r\npublic class B extends A {\r\n  @Autowired\r\n  public B(Foo foo) {\r\n    super(foo);\r\n  }\r\n}\r\n```\r\n\r\nThe immutability in the above mainly refers to the prevention of inadvertent reassignment and not necessarily any performance optimization that the final qualifier can impart to the field. In spite of this, some insist that all injected fields must be made final. What are the other pros and cons?","title":"Field Injection and Inheritance","body":"<p>In Dependency Injection, field injection is generally discouraged in favor of constructor argument injection so that one can make the injected field final (immutable). Constructor argument injection also offers a few other conveniences. However, if an injected field is private, or even protected, needing to create a constructor in the subclass feeding a value up into the super class that is otherwise should not be the concern of the subclass, runs contrary to the the beauty of inheritance - a subclass getting the provisions of the parent class. Assuming that there is no subclass-specific value for the field in question, every single subclass would have to just repeat the same constructor code. This can make the code more complex and harder to understand, especially when there are multiple dependencies and multiple levels of inheritance.</p>\n<pre><code>public class A {\n  private final Foo foo;\n\n  public A(Foo foo) {\n    this.foo = foo;\n  }\n}\n\npublic class B extends A {\n  @Autowired\n  public B(Foo foo) {\n    super(foo);\n  }\n}\n</code></pre>\n<p>The immutability in the above mainly refers to the prevention of inadvertent reassignment and not necessarily any performance optimization that the final qualifier can impart to the field. In spite of this, some insist that all injected fields must be made final. What are the other pros and cons?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9888,"page":246,"page_size":100}
