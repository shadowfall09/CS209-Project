{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1669064677,"post_id":74524803,"comment_id":131554112,"body_markdown":"That&#39;s what&#39;s chopping it. It&#39;s removing characters from the end of `output` one at a time until `strs[i].indexOf(output) != 0` is `false` (`strs[i]` starts with `output`), then it has to do the same thing for every string in order to make sure to get the actual common prefix. Have you read the documentation on the various methods in here? This seems like something that would be covered by it.","body":"That&#39;s what&#39;s chopping it. It&#39;s removing characters from the end of <code>output</code> one at a time until <code>strs[i].indexOf(output) != 0</code> is <code>false</code> (<code>strs[i]</code> starts with <code>output</code>), then it has to do the same thing for every string in order to make sure to get the actual common prefix. Have you read the documentation on the various methods in here? This seems like something that would be covered by it."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1669330744,"post_id":74524803,"comment_id":131624727,"body_markdown":"Could add some context here? What is &quot;this solution&quot; a reference to? Could you link to the problem (if it is on a public website) or restate the problem in the question?","body":"Could add some context here? What is &quot;this solution&quot; a reference to? Could you link to the problem (if it is on a public website) or restate the problem in the question?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669064674,"creation_date":1669064674,"answer_id":74524869,"question_id":74524803,"body_markdown":"Much more understandable (and efficient) would be to use &quot;not `startWith`.&quot;\r\n\r\n        while (!strs[i].startsWith(output)) {\r\n            output = output.substring(0, output.length() - 1);\r\n        }\r\n\r\n`indexOf` would also search at other positions for a substring equal to `output`.\r\n\r\nThis would be more readable as &quot;as long as `strs[i]` does not start with the prefix, shorten the prefix by 1. An empty prefix (`output`) would exit the loop. (You might then also break out of the _for_ loop.)","title":"Leetcode longest common prefix","body":"<p>Much more understandable (and efficient) would be to use &quot;not <code>startWith</code>.&quot;</p>\n<pre><code>    while (!strs[i].startsWith(output)) {\n        output = output.substring(0, output.length() - 1);\n    }\n</code></pre>\n<p><code>indexOf</code> would also search at other positions for a substring equal to <code>output</code>.</p>\n<p>This would be more readable as &quot;as long as <code>strs[i]</code> does not start with the prefix, shorten the prefix by 1. An empty prefix (<code>output</code>) would exit the loop. (You might then also break out of the <em>for</em> loop.)</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669065208,"creation_date":1669064813,"answer_id":74524889,"question_id":74524803,"body_markdown":"`!= 0` means that the prefix string did not start at the beginning of the string. If the index `&gt; 0` it was further into the string.  If it was `-1` it didn&#39;t exist in the string at all.  If it was `== 0` it started at the beginning.\r\n\r\nNotice that the while loop keeps backing up using `substring` until a prefix matches the beginning.  Then it exits the while loop.  Then it continues to see if the next string contains the first and backs up until they share an equal prefix.  This continues until either a longest common prefix is returned or an empty string.","title":"Leetcode longest common prefix","body":"<p><code>!= 0</code> means that the prefix string did not start at the beginning of the string. If the index <code>&gt; 0</code> it was further into the string.  If it was <code>-1</code> it didn't exist in the string at all.  If it was <code>== 0</code> it started at the beginning.</p>\n<p>Notice that the while loop keeps backing up using <code>substring</code> until a prefix matches the beginning.  Then it exits the while loop.  Then it continues to see if the next string contains the first and backs up until they share an equal prefix.  This continues until either a longest common prefix is returned or an empty string.</p>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1669334342,"accepted_answer_id":74524869,"answer_count":2,"score":-3,"last_activity_date":1669330698,"creation_date":1669064232,"question_id":74524803,"body_markdown":"I am having a hard time following this solution. I understand we set a prefix, and loop through the remainder of the array and keep chopping the prefix until prefix fully exists in each string but why are we doing `strs[i].indexOf(output) != 0` in the while loop?\r\n\r\n    public String longestCommonPrefix(String[] strs) {\r\n        if(strs.length == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n        String output = strs[0];\r\n        for(int i = 1; i &lt; strs.length; i++) {\r\n            while(strs[i].indexOf(output) != 0) {\r\n                output = output.substring(0, output.length() - 1);\r\n            }\r\n        }\r\n        return output;\r\n    }","title":"Leetcode longest common prefix","body":"<p>I am having a hard time following this solution. I understand we set a prefix, and loop through the remainder of the array and keep chopping the prefix until prefix fully exists in each string but why are we doing <code>strs[i].indexOf(output) != 0</code> in the while loop?</p>\n<pre><code>public String longestCommonPrefix(String[] strs) {\n    if(strs.length == 0) {\n        return &quot;&quot;;\n    }\n    String output = strs[0];\n    for(int i = 1; i &lt; strs.length; i++) {\n        while(strs[i].indexOf(output) != 0) {\n            output = output.substring(0, output.length() - 1);\n        }\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668942253,"post_id":74498476,"comment_id":131524141,"body_markdown":"Hi there Cataster. I&#39;ve repaired a number of spellings in your posts - the number of them is distracting and makes questions harder to read. The sheer number of them suggests they are being made for stylistic reasons i.e. they are deliberate. That doesn&#39;t work so well for Stack Overflow, where good on-topic posts are kept for posterity.","body":"Hi there Cataster. I&#39;ve repaired a number of spellings in your posts - the number of them is distracting and makes questions harder to read. The sheer number of them suggests they are being made for stylistic reasons i.e. they are deliberate. That doesn&#39;t work so well for Stack Overflow, where good on-topic posts are kept for posterity."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668942363,"post_id":74498476,"comment_id":131524156,"body_markdown":"For your reference I list here the misspellings across your account. 14 instances of ive; 14 didnt; 34 im; 13 cant; 12 whats; 34 doesnt; 22 thats; 46 dont; 10 isnt. There are two more (lets and its) but the (mis)spelling of those are dependent on context.","body":"For your reference I list here the misspellings across your account. 14 instances of ive; 14 didnt; 34 im; 13 cant; 12 whats; 34 doesnt; 22 thats; 46 dont; 10 isnt. There are two more (lets and its) but the (mis)spelling of those are dependent on context."},{"owner":{"account_id":11457187,"reputation":3173,"user_id":8397835,"display_name":"Cataster"},"score":0,"creation_date":1668970134,"post_id":74498476,"comment_id":131529797,"body_markdown":"@halfer Oh come on, we really going as far as apostrophes now?","body":"@halfer Oh come on, we really going as far as apostrophes now?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668973531,"post_id":74498476,"comment_id":131530672,"body_markdown":"I am intrigued by the inference - that one kind of spelling error is less of an error than another. It&#39;s simplest if we just say that an English spelling checker can clear up any disagreements - if you get wavy underlines in your browser then please fix them. I believe that to be the community view. Thanks!","body":"I am intrigued by the inference - that one kind of spelling error is less of an error than another. It&#39;s simplest if we just say that an English spelling checker can clear up any disagreements - if you get wavy underlines in your browser then please fix them. I believe that to be the community view. Thanks!"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668973605,"post_id":74498476,"comment_id":131530687,"body_markdown":"(I acknowledge that can&#39;t and won&#39;t are troublesome, because cant (bluster intended to mislead) and wont (preference or habit) are also correctly spelled words, though these are possibly regarded as arcane these days).","body":"(I acknowledge that can&#39;t and won&#39;t are troublesome, because cant (bluster intended to mislead) and wont (preference or habit) are also correctly spelled words, though these are possibly regarded as arcane these days)."}],"answers":[{"tags":[],"owner":{"account_id":11457187,"reputation":3173,"user_id":8397835,"display_name":"Cataster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669330344,"creation_date":1669330307,"answer_id":74566908,"question_id":74498476,"body_markdown":"I still don&#39;t know why, but I went ahead and recreated the project and this time I checked the sub-screens settings when creating a settings activity template to create various settings screens instead of the root_preferences screen.\r\n\r\n[![subscreens][1]][1]\r\n\r\nThis time I see -1 displayed the first time so it&#39;s working this way now.\r\n\r\n  [1]: https://i.stack.imgur.com/cdKuF.png","title":"Why am I getting the default value the first time running the app?","body":"<p>I still don't know why, but I went ahead and recreated the project and this time I checked the sub-screens settings when creating a settings activity template to create various settings screens instead of the root_preferences screen.</p>\n<p><a href=\"https://i.stack.imgur.com/cdKuF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cdKuF.png\" alt=\"subscreens\" /></a></p>\n<p>This time I see -1 displayed the first time so it's working this way now.</p>\n"}],"owner":{"account_id":11457187,"reputation":3173,"user_id":8397835,"display_name":"Cataster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74566908,"answer_count":1,"score":-1,"last_activity_date":1669330344,"creation_date":1668845826,"question_id":74498476,"body_markdown":"I&#39;m following the steps [laid out here][1] for using the Settings Activity Template and despite some changes (e.g. now a `root_preferences.xml` file gets created instead of multiple XML files for different preference screens when selecting the Settings Activity template) I pretty much have nailed down the steps very similarly. \r\n\r\nIt says towards the end: \r\n\r\n&gt; The first time you run the app, you should see &quot;-1&quot; displayed in the\r\n&gt; Toast because you haven&#39;t changed the setting yet.\r\n\r\nHowever, instead of -1, I&#39;m seeing US as the toast message. I&#39;m thinking that&#39;s because it&#39;s the default value, but they also set the default value as the US, yet the expectation according to the instructions is -1 the first time they run the app...how come?\r\n\r\nHere is my code and the result I&#39;m getting first time running the app:\r\n\r\n**SettingsActivity.java**:\r\n\r\n    package com.example.droidcafe;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.appcompat.app.ActionBar;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.preference.PreferenceFragmentCompat;\r\n    \r\n    public class SettingsActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.settings_activity);\r\n            if (savedInstanceState == null) {\r\n                getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .replace(R.id.settings, new SettingsFragment())\r\n                        .commit();\r\n            }\r\n            ActionBar actionBar = getSupportActionBar();\r\n            if (actionBar != null) {\r\n                actionBar.setDisplayHomeAsUpEnabled(true);\r\n            }\r\n        }\r\n    \r\n        public static class SettingsFragment extends PreferenceFragmentCompat {\r\n            @Override\r\n            public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n                setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n            }\r\n        }\r\n    }\r\n\r\n**MainActivity.java:**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent =\r\n                        new Intent(MainActivity.this, OrderActivity.class);\r\n                intent.putExtra(EXTRA_MESSAGE, mOrderMessage);\r\n                startActivity(intent);\r\n            }\r\n\r\n        });\r\n\r\n        PreferenceManager.setDefaultValues(this,\r\n                R.xml.root_preferences, false);\r\n\r\n        SharedPreferences sharedPref = PreferenceManager\r\n                .getDefaultSharedPreferences(this);\r\n        String marketPref = sharedPref\r\n                .getString(&quot;market&quot;, &quot;-1&quot;);\r\n        displayToast(marketPref);\r\n\r\n    }\r\n\r\n**root_preferences.xml**\r\n\r\n    &lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;PreferenceCategory app:title=&quot;@string/pref_header_account&quot;&gt;\r\n    \r\n            &lt;ListPreference\r\n                app:defaultValue=&quot;US&quot;\r\n                app:entries=&quot;@array/pref_market_titles&quot;\r\n                app:entryValues=&quot;@array/pref_market_values&quot;\r\n                app:key=&quot;market&quot;\r\n                app:negativeButtonText=&quot;@null&quot;\r\n                app:positiveButtonText=&quot;@null&quot;\r\n                app:title=&quot;@string/pref_title_account&quot; /&gt;\r\n    \r\n        &lt;/PreferenceCategory&gt;\r\n    \r\n    &lt;/PreferenceScreen&gt;\r\n\r\n**strings.xml:**\r\n\r\n    &lt;string name=&quot;pref_header_account&quot;&gt;Account&lt;/string&gt;\r\n    &lt;!-- Sync Preferences --&gt;\r\n    &lt;string name=&quot;pref_title_account&quot;&gt;Market&lt;/string&gt;\r\n    &lt;string-array name=&quot;pref_market_titles&quot;&gt;\r\n        &lt;item&gt;United States&lt;/item&gt;\r\n        &lt;item&gt;Canada&lt;/item&gt;\r\n        &lt;item&gt;United Kingdom&lt;/item&gt;\r\n        &lt;item&gt;India&lt;/item&gt;\r\n        &lt;item&gt;Japan&lt;/item&gt;\r\n        &lt;item&gt;Other&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;pref_market_values&quot;&gt;\r\n        &lt;item&gt;US&lt;/item&gt;\r\n        &lt;item&gt;CA&lt;/item&gt;\r\n        &lt;item&gt;UK&lt;/item&gt;\r\n        &lt;item&gt;IN&lt;/item&gt;\r\n        &lt;item&gt;JA0&lt;/item&gt;\r\n        &lt;item&gt;-1&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nFirst time running the app:\r\n\r\n[![US][2]][2]\r\n\r\nExpectation: -1\r\n\r\nI realize the default value is US, but their codelab default is also US, yet the codelab says it should display first time -1. \r\n\r\n[![default][3]][3]\r\n\r\n  [1]: https://developer.android.com/codelabs/android-training-adding-settings-to-app?index=..%2F..%2Fandroid-training#3\r\n  [2]: https://i.stack.imgur.com/R9N0Y.png\r\n  [3]: https://i.stack.imgur.com/gFVoN.png","title":"Why am I getting the default value the first time running the app?","body":"<p>I'm following the steps <a href=\"https://developer.android.com/codelabs/android-training-adding-settings-to-app?index=..%2F..%2Fandroid-training#3\" rel=\"nofollow noreferrer\">laid out here</a> for using the Settings Activity Template and despite some changes (e.g. now a <code>root_preferences.xml</code> file gets created instead of multiple XML files for different preference screens when selecting the Settings Activity template) I pretty much have nailed down the steps very similarly.</p>\n<p>It says towards the end:</p>\n<blockquote>\n<p>The first time you run the app, you should see &quot;-1&quot; displayed in the\nToast because you haven't changed the setting yet.</p>\n</blockquote>\n<p>However, instead of -1, I'm seeing US as the toast message. I'm thinking that's because it's the default value, but they also set the default value as the US, yet the expectation according to the instructions is -1 the first time they run the app...how come?</p>\n<p>Here is my code and the result I'm getting first time running the app:</p>\n<p><strong>SettingsActivity.java</strong>:</p>\n<pre><code>package com.example.droidcafe;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class SettingsActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.settings_activity);\n        if (savedInstanceState == null) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.settings, new SettingsFragment())\n                    .commit();\n        }\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setDisplayHomeAsUpEnabled(true);\n        }\n    }\n\n    public static class SettingsFragment extends PreferenceFragmentCompat {\n        @Override\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\n        }\n    }\n}\n</code></pre>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    FloatingActionButton fab = findViewById(R.id.fab);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent =\n                    new Intent(MainActivity.this, OrderActivity.class);\n            intent.putExtra(EXTRA_MESSAGE, mOrderMessage);\n            startActivity(intent);\n        }\n\n    });\n\n    PreferenceManager.setDefaultValues(this,\n            R.xml.root_preferences, false);\n\n    SharedPreferences sharedPref = PreferenceManager\n            .getDefaultSharedPreferences(this);\n    String marketPref = sharedPref\n            .getString(&quot;market&quot;, &quot;-1&quot;);\n    displayToast(marketPref);\n\n}\n</code></pre>\n<p><strong>root_preferences.xml</strong></p>\n<pre><code>&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;PreferenceCategory app:title=&quot;@string/pref_header_account&quot;&gt;\n\n        &lt;ListPreference\n            app:defaultValue=&quot;US&quot;\n            app:entries=&quot;@array/pref_market_titles&quot;\n            app:entryValues=&quot;@array/pref_market_values&quot;\n            app:key=&quot;market&quot;\n            app:negativeButtonText=&quot;@null&quot;\n            app:positiveButtonText=&quot;@null&quot;\n            app:title=&quot;@string/pref_title_account&quot; /&gt;\n\n    &lt;/PreferenceCategory&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p><strong>strings.xml:</strong></p>\n<pre><code>&lt;string name=&quot;pref_header_account&quot;&gt;Account&lt;/string&gt;\n&lt;!-- Sync Preferences --&gt;\n&lt;string name=&quot;pref_title_account&quot;&gt;Market&lt;/string&gt;\n&lt;string-array name=&quot;pref_market_titles&quot;&gt;\n    &lt;item&gt;United States&lt;/item&gt;\n    &lt;item&gt;Canada&lt;/item&gt;\n    &lt;item&gt;United Kingdom&lt;/item&gt;\n    &lt;item&gt;India&lt;/item&gt;\n    &lt;item&gt;Japan&lt;/item&gt;\n    &lt;item&gt;Other&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=&quot;pref_market_values&quot;&gt;\n    &lt;item&gt;US&lt;/item&gt;\n    &lt;item&gt;CA&lt;/item&gt;\n    &lt;item&gt;UK&lt;/item&gt;\n    &lt;item&gt;IN&lt;/item&gt;\n    &lt;item&gt;JA0&lt;/item&gt;\n    &lt;item&gt;-1&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>First time running the app:</p>\n<p><a href=\"https://i.stack.imgur.com/R9N0Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9N0Y.png\" alt=\"US\" /></a></p>\n<p>Expectation: -1</p>\n<p>I realize the default value is US, but their codelab default is also US, yet the codelab says it should display first time -1.</p>\n<p><a href=\"https://i.stack.imgur.com/gFVoN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gFVoN.png\" alt=\"default\" /></a></p>\n"},{"tags":["java","java-time","duration","argparse4j"],"answers":[{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1669316659,"post_id":74565218,"comment_id":131621947,"body_markdown":"Wow, searched for `valueOf` interface-support, where did you find (link to docs)?\nThen, what about wrapping any final class like `Duration` here? Appreciate feedback to [my answer](https://stackoverflow.com/a/74565221/5730279).","body":"Wow, searched for <code>valueOf</code> interface-support, where did you find (link to docs)? Then, what about wrapping any final class like <code>Duration</code> here? Appreciate feedback to <a href=\"https://stackoverflow.com/a/74565221/5730279\">my answer</a>."}],"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669316335,"creation_date":1669316335,"answer_id":74565218,"question_id":74564952,"body_markdown":"The documentation says that it can convert to any object with a public static &quot;valueOf(String)&quot; method in addition to the primitives.\r\n\r\nDuration is a final class, and does not have a &quot;valueOf&quot; method, just parse(), as you noted.\r\n\r\nSo TLDR; No.","title":"Accept Duration parameter as command line argument in java","body":"<p>The documentation says that it can convert to any object with a public static &quot;valueOf(String)&quot; method in addition to the primitives.</p>\n<p>Duration is a final class, and does not have a &quot;valueOf&quot; method, just parse(), as you noted.</p>\n<p>So TLDR; No.</p>\n"},{"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":2,"creation_date":1669392498,"post_id":74565221,"comment_id":131638380,"body_markdown":"Commenting here because hc_dev asked.\nThis is a great answer. I thought about recommending the wrapper solution in my answer, and wondered whether there was a way to do the adapter that you have shown.\n\nI didn&#39;t get into that because OP asked for a &quot;better or direct&quot; way to do this.\nMy opinion is that if you&#39;re going to do a lot of this, the adapter is probably the right way.  But if it&#39;s a one-off, simply accepting a string and calling Duration.parse to do the conversion is a lot simpler, and in my opinion, therefore a &quot;better&quot; solution.","body":"Commenting here because hc_dev asked. This is a great answer. I thought about recommending the wrapper solution in my answer, and wondered whether there was a way to do the adapter that you have shown.  I didn&#39;t get into that because OP asked for a &quot;better or direct&quot; way to do this. My opinion is that if you&#39;re going to do a lot of this, the adapter is probably the right way.  But if it&#39;s a one-off, simply accepting a string and calling Duration.parse to do the conversion is a lot simpler, and in my opinion, therefore a &quot;better&quot; solution."}],"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669330217,"creation_date":1669316351,"answer_id":74565221,"question_id":74564952,"body_markdown":"Seems *ArgParse4j* has no out-of-the box support for Java-Time classes but it offers 2 patterns that can be useful:\r\n\r\n### Creational pattern with `valueOf` factory-method\r\nUsually the `T valueOf(String text)` [factory-method][1] is a very idiomatic creational pattern for text-parsing in Java.\r\n\r\nIf a class `T` has no `T valueOf(String)` method, you could just extend it and decorate it with the method.\r\n\r\nUnfortunately the immutable `java.time` types like `java.time.Duration` are not designed to be extended or sub-typed - they are `final` classes. So, I agree partly with [GreyBeardedGeeks&#39;s answer][2]: No, there is no direct way to accept a `Duration` argument.\r\n\r\nBut the indirect way is to define a wrapper-class which implements `valueOf` delegating to `Duration.parse(CharSequence text)`:\r\n\r\n```java\r\nprivate static class IsoDuration {\r\n\r\n    public static Duration valueOf(String isoFormat) throws ArgumentParserException {\r\n        try {\r\n            return Duration.parse(isoFormat);  // the method you found\r\n        } catch (DateTimeParseException  e) {\r\n            throw new ArgumentParserException(e, parser);\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\r\n    parser.addArgument(&quot;duration&quot;).type(IsoDuration.class);\r\n    try {\r\n        System.out.println(parser.parseArgs(args));\r\n    } catch (ArgumentParserException e) {\r\n        parser.handleError(e);\r\n    }\r\n}\r\n``` \r\n\r\n### Adapter pattern with `convert` instance-method\r\nCould also use a custom-type as converter or [adapter][3], a class which implements `ArgumentType&lt;Duration&gt;` and uses [`Duration.parse(CharSequence text)`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-) to parse the ISO-8601 string and convert to the desired duration-type:\r\n```\r\nprivate static class IsoDurationArgument implements ArgumentType&lt;Duration&gt; {\r\n\r\n    @Override\r\n    public Duration convert(ArgumentParser parser, Argument arg, String value) throws ArgumentParserException {\r\n        try {\r\n            return Duration.parse(value);  // the method you found\r\n        } catch (DateTimeParseException  e) {\r\n            throw new ArgumentParserException(e, parser);\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\r\n    parser.addArgument(&quot;duration&quot;).type(new IsoDurationArgument());\r\n    try {\r\n        System.out.println(parser.parseArgs(args));\r\n    } catch (ArgumentParserException e) {\r\n        parser.handleError(e);\r\n    }\r\n}\r\n```\r\n\r\nExample copied and adapted from: [The Argparse4j User Manual — `Argument.type()`](https://argparse4j.github.io/usage.html#argument-type), search and scroll down to the example using a custom type `PerfectSquare`:\r\n&gt; The `Argument.type()` has a version which accepts an object which implements `ArgumentType` interface\r\n\r\nSee also: https://stackoverflow.com/questions/42802863/pass-optional-parameters-to-a-cli-program-java/42803081#42803081\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [2]: https://stackoverflow.com/a/74565218/5730279\r\n  [3]: https://en.wikipedia.org/wiki/Adapter_pattern","title":"Accept Duration parameter as command line argument in java","body":"<p>Seems <em>ArgParse4j</em> has no out-of-the box support for Java-Time classes but it offers 2 patterns that can be useful:</p>\n<h3>Creational pattern with <code>valueOf</code> factory-method</h3>\n<p>Usually the <code>T valueOf(String text)</code> <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">factory-method</a> is a very idiomatic creational pattern for text-parsing in Java.</p>\n<p>If a class <code>T</code> has no <code>T valueOf(String)</code> method, you could just extend it and decorate it with the method.</p>\n<p>Unfortunately the immutable <code>java.time</code> types like <code>java.time.Duration</code> are not designed to be extended or sub-typed - they are <code>final</code> classes. So, I agree partly with <a href=\"https://stackoverflow.com/a/74565218/5730279\">GreyBeardedGeeks's answer</a>: No, there is no direct way to accept a <code>Duration</code> argument.</p>\n<p>But the indirect way is to define a wrapper-class which implements <code>valueOf</code> delegating to <code>Duration.parse(CharSequence text)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class IsoDuration {\n\n    public static Duration valueOf(String isoFormat) throws ArgumentParserException {\n        try {\n            return Duration.parse(isoFormat);  // the method you found\n        } catch (DateTimeParseException  e) {\n            throw new ArgumentParserException(e, parser);\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\n    parser.addArgument(&quot;duration&quot;).type(IsoDuration.class);\n    try {\n        System.out.println(parser.parseArgs(args));\n    } catch (ArgumentParserException e) {\n        parser.handleError(e);\n    }\n}\n</code></pre>\n<h3>Adapter pattern with <code>convert</code> instance-method</h3>\n<p>Could also use a custom-type as converter or <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">adapter</a>, a class which implements <code>ArgumentType&lt;Duration&gt;</code> and uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Duration.parse(CharSequence text)</code></a> to parse the ISO-8601 string and convert to the desired duration-type:</p>\n<pre><code>private static class IsoDurationArgument implements ArgumentType&lt;Duration&gt; {\n\n    @Override\n    public Duration convert(ArgumentParser parser, Argument arg, String value) throws ArgumentParserException {\n        try {\n            return Duration.parse(value);  // the method you found\n        } catch (DateTimeParseException  e) {\n            throw new ArgumentParserException(e, parser);\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\n    parser.addArgument(&quot;duration&quot;).type(new IsoDurationArgument());\n    try {\n        System.out.println(parser.parseArgs(args));\n    } catch (ArgumentParserException e) {\n        parser.handleError(e);\n    }\n}\n</code></pre>\n<p>Example copied and adapted from: <a href=\"https://argparse4j.github.io/usage.html#argument-type\" rel=\"nofollow noreferrer\">The Argparse4j User Manual — <code>Argument.type()</code></a>, search and scroll down to the example using a custom type <code>PerfectSquare</code>:</p>\n<blockquote>\n<p>The <code>Argument.type()</code> has a version which accepts an object which implements <code>ArgumentType</code> interface</p>\n</blockquote>\n<p>See also: <a href=\"https://stackoverflow.com/questions/42802863/pass-optional-parameters-to-a-cli-program-java/42803081#42803081\">Pass optional parameters to a CLI program - Java</a></p>\n"}],"owner":{"account_id":13950646,"reputation":254,"user_id":10074233,"display_name":"Tarishi Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669330217,"creation_date":1669314530,"question_id":74564952,"body_markdown":"I want to accept a input with java.time.Duration data type in java using net.sourceforge.argparse4j.ArgumentParsers . However since Duration is a non-primitive data type, it is not directly supported to be passed as one of the argument. Is there any better or direct way to accept Duration as paramter in java other than specifying it as String in ISO-8601 format and using Duration.parse() (https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-) to convert it to Duration type.?","title":"Accept Duration parameter as command line argument in java","body":"<p>I want to accept a input with java.time.Duration data type in java using net.sourceforge.argparse4j.ArgumentParsers . However since Duration is a non-primitive data type, it is not directly supported to be passed as one of the argument. Is there any better or direct way to accept Duration as paramter in java other than specifying it as String in ISO-8601 format and using Duration.parse() (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-</a>) to convert it to Duration type.?</p>\n"},{"tags":["java","security","cryptography","uuid"],"answers":[{"comments":[{"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"score":0,"creation_date":1642030114,"post_id":70674149,"comment_id":124967338,"body_markdown":"thanks thats pretty much what i though, in java the default implementation shares a random instance which has synchronizations in it, so if you create uuids from many threads at the same time you get locks thats why its slow... but the second reason is the algo they use by default","body":"thanks thats pretty much what i though, in java the default implementation shares a random instance which has synchronizations in it, so if you create uuids from many threads at the same time you get locks thats why its slow... but the second reason is the algo they use by default"},{"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"score":0,"creation_date":1643297922,"post_id":70674149,"comment_id":125307177,"body_markdown":"You can choose the SHA1PRNG algorithm to be used by `SecureRandom`. It is faster than the native PRNG on Linux. On Windows that algorithm is the default. Some people use `ThreadLocal&lt;SecureRandom&gt;` to reduce thread contention: \nhttps://github.com/google/tink/issues/72","body":"You can choose the SHA1PRNG algorithm to be used by <code>SecureRandom</code>. It is faster than the native PRNG on Linux. On Windows that algorithm is the default. Some people use <code>ThreadLocal&lt;SecureRandom&gt;</code> to reduce thread contention:  <a href=\"https://github.com/google/tink/issues/72\" rel=\"nofollow noreferrer\">github.com/google/tink/issues/72</a>"},{"owner":{"account_id":11896030,"reputation":68161,"user_id":8705432,"display_name":"bk2204"},"score":0,"creation_date":1643322697,"post_id":70674149,"comment_id":125316331,"body_markdown":"SHA1PRNG is not a great algorithm.  You&#39;d likely get better performance and a better algorithm by using the newer CTR_DRBG options with AES-256, since most modern processors have AES built into the hardware.","body":"SHA1PRNG is not a great algorithm.  You&#39;d likely get better performance and a better algorithm by using the newer CTR_DRBG options with AES-256, since most modern processors have AES built into the hardware."}],"tags":[],"owner":{"account_id":11896030,"reputation":68161,"user_id":8705432,"display_name":"bk2204"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641939815,"creation_date":1641939815,"answer_id":70674149,"question_id":70665728,"body_markdown":"A random (v4) UUID has to provide approximately 128 bits of randomness.  In order to do that correctly, it&#39;s required to use a PRNG with at least 128 bits of entropy so that the outputs don&#39;t end up being correlated or having patterns that prevent them from being independent.  That PRNG must also not expose its internal state for the same reason, which means it almost certainly needs to be a CSPRNG.\r\n\r\nIn addition, UUIDs need to be universally unique: that&#39;s why they&#39;re called universally unique identifiers.  If they were based on a weak PRNG, like one with a 32-bit seed, especially where that seed is based on something simple like the time, different systems could generate identical UUIDs.  This could especially be the case if you have a large fleet of systems being deployed at once which all started their time-based weak PRNGs around the same time.\r\n\r\nFurthermore, there are CSPRNGs that are extremely fast.  ChaCha20, which is the PRNG used in the Linux kernel, can output over 3 GB/s per core.  Rust uses ChaCha12 as its default PRNG, which is also cryptographically secure and even faster, and it can be configured to use a per-thread option.  I don&#39;t know what the default option is for Java, but there&#39;s no reason it intriniscally needs to be slow, and since there are many fast, secure options, there&#39;s little reason to use weak options when you don&#39;t have to.\r\n\r\nFinally, it makes sense to use secure defaults.  If we gave people an option between fast but non-unique and slower but unique, many people would choose wrong and end up with breakage or security problems because it&#39;s a little bit faster.  We don&#39;t offer those options because, as I mentioned, it&#39;s not prudent to offer options which are likely to lead to breakage or security vulnerabilities when there is little need for them and a lot of downsides.","title":"Do you really need secure random UUIDs?","body":"<p>A random (v4) UUID has to provide approximately 128 bits of randomness.  In order to do that correctly, it's required to use a PRNG with at least 128 bits of entropy so that the outputs don't end up being correlated or having patterns that prevent them from being independent.  That PRNG must also not expose its internal state for the same reason, which means it almost certainly needs to be a CSPRNG.</p>\n<p>In addition, UUIDs need to be universally unique: that's why they're called universally unique identifiers.  If they were based on a weak PRNG, like one with a 32-bit seed, especially where that seed is based on something simple like the time, different systems could generate identical UUIDs.  This could especially be the case if you have a large fleet of systems being deployed at once which all started their time-based weak PRNGs around the same time.</p>\n<p>Furthermore, there are CSPRNGs that are extremely fast.  ChaCha20, which is the PRNG used in the Linux kernel, can output over 3 GB/s per core.  Rust uses ChaCha12 as its default PRNG, which is also cryptographically secure and even faster, and it can be configured to use a per-thread option.  I don't know what the default option is for Java, but there's no reason it intriniscally needs to be slow, and since there are many fast, secure options, there's little reason to use weak options when you don't have to.</p>\n<p>Finally, it makes sense to use secure defaults.  If we gave people an option between fast but non-unique and slower but unique, many people would choose wrong and end up with breakage or security problems because it's a little bit faster.  We don't offer those options because, as I mentioned, it's not prudent to offer options which are likely to lead to breakage or security vulnerabilities when there is little need for them and a lot of downsides.</p>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70674149,"answer_count":1,"score":2,"last_activity_date":1669329153,"creation_date":1641899150,"question_id":70665728,"body_markdown":"I&#39;m encountering this issue not the first time, projects that use UUID a lot have performance impact generating them sometimes having seconds to generate a UUID.\r\n\r\nI know why this happens. This question is not about how to fix it there is plenty of information there. I&#39;m more curious if it&#39;s actually so common that it deserves to be a default.\r\n\r\nJava defensively made it default to use SecureRandom when you generate `UUID.randomUUID()`, however most people use UUIDs as IDs for different things they put into a database, like a user, trade, order id, or any other entity id... but those are not sensitive in terms of security (or am I wrong?), if you are a hacker and you figured out how to guess these ids it does not give you any edge. It matters if someone generates a uuid and does MD5 over it and stores it as default password for new accounts... very rare scenario, but is obvious that it is sensitive data and true randomness is important here.\r\n\r\nMy argument here is that 99% of uses of UUID.randomUUID() do not actually care about true randomness and using secure random is not desirable behaviour for them. Have I missed something here? I&#39;m not a hacker and I had situations where something seemed harmless but ended up being huge deal in terms of security. \r\n\r\n**So my question is : assuming that people don&#39;t use generated UUIDs on sensitive data such as private key/password generation, is it really important to have secure randomness for entity ids? What are the cases where this really matters in UUID generation?**","title":"Do you really need secure random UUIDs?","body":"<p>I'm encountering this issue not the first time, projects that use UUID a lot have performance impact generating them sometimes having seconds to generate a UUID.</p>\n<p>I know why this happens. This question is not about how to fix it there is plenty of information there. I'm more curious if it's actually so common that it deserves to be a default.</p>\n<p>Java defensively made it default to use SecureRandom when you generate <code>UUID.randomUUID()</code>, however most people use UUIDs as IDs for different things they put into a database, like a user, trade, order id, or any other entity id... but those are not sensitive in terms of security (or am I wrong?), if you are a hacker and you figured out how to guess these ids it does not give you any edge. It matters if someone generates a uuid and does MD5 over it and stores it as default password for new accounts... very rare scenario, but is obvious that it is sensitive data and true randomness is important here.</p>\n<p>My argument here is that 99% of uses of UUID.randomUUID() do not actually care about true randomness and using secure random is not desirable behaviour for them. Have I missed something here? I'm not a hacker and I had situations where something seemed harmless but ended up being huge deal in terms of security.</p>\n<p><strong>So my question is : assuming that people don't use generated UUIDs on sensitive data such as private key/password generation, is it really important to have secure randomness for entity ids? What are the cases where this really matters in UUID generation?</strong></p>\n"},{"tags":["java","android","augmented-reality","arkit","arcore"],"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1592864809,"post_id":62513460,"comment_id":110572883,"body_markdown":"Please remove the tag &quot;Java 3D&quot; as you don&#39;t use the Java 3D API","body":"Please remove the tag &quot;Java 3D&quot; as you don&#39;t use the Java 3D API"}],"answers":[{"comments":[{"owner":{"account_id":6792405,"reputation":31,"user_id":5229043,"display_name":"raji"},"score":0,"creation_date":1592907280,"post_id":62528175,"comment_id":110586245,"body_markdown":"Thanks. I have created Vuforia developer account. But I cannot login for downloading the SDK. It prompts error saying that entered credentials does not match with stored data. But I have entered correct credentials only.","body":"Thanks. I have created Vuforia developer account. But I cannot login for downloading the SDK. It prompts error saying that entered credentials does not match with stored data. But I have entered correct credentials only."},{"owner":{"account_id":4878800,"reputation":977,"user_id":3933141,"accept_rate":80,"display_name":"Ram&#243;n Wilhelm"},"score":1,"creation_date":1604398753,"post_id":62528175,"comment_id":114329482,"body_markdown":"How can I get the ARCore 1.18?","body":"How can I get the ARCore 1.18?"},{"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"score":0,"creation_date":1604400005,"post_id":62528175,"comment_id":114330089,"body_markdown":"At the moment there&#39;s the actual version ARCore 1.20. But you can download any current and previous versions via GitHub: https://github.com/google-ar/arcore-android-sdk/releases","body":"At the moment there&#39;s the actual version ARCore 1.20. But you can download any current and previous versions via GitHub: <a href=\"https://github.com/google-ar/arcore-android-sdk/releases\" rel=\"nofollow noreferrer\">github.com/google-ar/arcore-android-sdk/releases</a>"}],"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669328677,"creation_date":1592891483,"answer_id":62528175,"question_id":62513460,"body_markdown":"## ARCore 1.18\r\n\r\nARCore 1.18 now does support `Occlusion` feature via brand-new Depth API. Check [a list of Depth API supported devices][1] to find out whether your Android smartphone supports Occlusion capabilities or not.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nGoogle documentation says about Depth API the following:\r\n\r\n&gt;The Depth API uses a depth-from-motion algorithm to create depth maps, which you can obtain using `acquireDepthImage()` method. This algorithm takes multiple device images from different angles and compares them to estimate the distance to every pixel as a user moves their phone. If the device has an active depth sensor, such as a time-of-flight sensor (or ToF sensor), that data is automatically included in the processed depth. This enhances the existing depth map and enables depth even when the camera is not moving. It also provides better depth on surfaces with few or no features, such as white walls, or in dynamic scenes with moving people or objects.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n## ARCore 1.17\r\n\r\nBut you can&#39;t do any `Object Occlusion` ops in previous ARCore 1.17. It doesn&#39;t support Depth channel compositing and Depth channel ops, except camera defocus feature. So all virtual models you use in your AR app is just placed over a real world video using [Over][3] compositing operation with the following formula:\r\n\r\n## Argb * Aa + Brgb * (1.0 – Aa) \r\n\r\n    //  where Argb is RGB of a foreground image\r\n    //  Aa is Alpha channel of a foreground image\r\n    //  Brgb is RGB of a background video\r\n    //  and 1.0 is a normalised value (in range 0.0...1.0)\r\n\r\n    //  (Argb * Aa) is a premultiplied RGBA image\r\n    //  (1.0 – Aa) is an inversion of a foreground alpha\r\n\r\nHowever, you can get an [Occlusion Management][4] feature (Virtual Buttons sample) if you use `PTC Vuforia 9.0` in Unity for Android devices. Or if you use ARKit 3.5 or ARKit 4.0 for iOS devices. ARKit 4.0 gives you the widest set of toolkits for working with Depth channel, including new **`Depth API`**. There are [People Occlusion][5], Face Occlusion and [Object Occlusion][6] features.\r\n\r\nIn [this post][7] you can read about main principles of `Occlusion` in ARKit.\r\n\r\n\r\n  [1]: https://developers.google.com/ar/discover/supported-devices\r\n  [2]: https://i.stack.imgur.com/1JqPH.jpg\r\n  [3]: https://learn.foundry.com/nuke/8.0/content/user_guide/merging/merge_operations.html\r\n  [4]: https://developer.vuforia.com/downloads/samples\r\n  [5]: https://developer.apple.com/documentation/arkit/occluding_virtual_content_with_people\r\n  [6]: https://developer.apple.com/documentation/arkit/world_tracking/visualizing_and_interacting_with_a_reconstructed_scene\r\n  [7]: https://stackoverflow.com/questions/58269394/how-to-improve-people-occlusion-in-arkit-3-0/58326062#58326062","title":"ARCore – How to place a Real World object in front of a 3d model?","body":"<h2>ARCore 1.18</h2>\n<p>ARCore 1.18 now does support <code>Occlusion</code> feature via brand-new Depth API. Check <a href=\"https://developers.google.com/ar/discover/supported-devices\" rel=\"nofollow noreferrer\">a list of Depth API supported devices</a> to find out whether your Android smartphone supports Occlusion capabilities or not.</p>\n<p><a href=\"https://i.stack.imgur.com/1JqPH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JqPH.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Google documentation says about Depth API the following:</p>\n<blockquote>\n<p>The Depth API uses a depth-from-motion algorithm to create depth maps, which you can obtain using <code>acquireDepthImage()</code> method. This algorithm takes multiple device images from different angles and compares them to estimate the distance to every pixel as a user moves their phone. If the device has an active depth sensor, such as a time-of-flight sensor (or ToF sensor), that data is automatically included in the processed depth. This enhances the existing depth map and enables depth even when the camera is not moving. It also provides better depth on surfaces with few or no features, such as white walls, or in dynamic scenes with moving people or objects.</p>\n</blockquote>\n<p><br></p>\n<h2>ARCore 1.17</h2>\n<p>But you can't do any <code>Object Occlusion</code> ops in previous ARCore 1.17. It doesn't support Depth channel compositing and Depth channel ops, except camera defocus feature. So all virtual models you use in your AR app is just placed over a real world video using <a href=\"https://learn.foundry.com/nuke/8.0/content/user_guide/merging/merge_operations.html\" rel=\"nofollow noreferrer\">Over</a> compositing operation with the following formula:</p>\n<h2>Argb * Aa + Brgb * (1.0 – Aa)</h2>\n<pre><code>//  where Argb is RGB of a foreground image\n//  Aa is Alpha channel of a foreground image\n//  Brgb is RGB of a background video\n//  and 1.0 is a normalised value (in range 0.0...1.0)\n\n//  (Argb * Aa) is a premultiplied RGBA image\n//  (1.0 – Aa) is an inversion of a foreground alpha\n</code></pre>\n<p>However, you can get an <a href=\"https://developer.vuforia.com/downloads/samples\" rel=\"nofollow noreferrer\">Occlusion Management</a> feature (Virtual Buttons sample) if you use <code>PTC Vuforia 9.0</code> in Unity for Android devices. Or if you use ARKit 3.5 or ARKit 4.0 for iOS devices. ARKit 4.0 gives you the widest set of toolkits for working with Depth channel, including new <strong><code>Depth API</code></strong>. There are <a href=\"https://developer.apple.com/documentation/arkit/occluding_virtual_content_with_people\" rel=\"nofollow noreferrer\">People Occlusion</a>, Face Occlusion and <a href=\"https://developer.apple.com/documentation/arkit/world_tracking/visualizing_and_interacting_with_a_reconstructed_scene\" rel=\"nofollow noreferrer\">Object Occlusion</a> features.</p>\n<p>In <a href=\"https://stackoverflow.com/questions/58269394/how-to-improve-people-occlusion-in-arkit-3-0/58326062#58326062\">this post</a> you can read about main principles of <code>Occlusion</code> in ARKit.</p>\n"}],"owner":{"account_id":6792405,"reputation":31,"user_id":5229043,"display_name":"raji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2010,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669328677,"creation_date":1592825592,"question_id":62513460,"body_markdown":"I have created an Android AR app using `ARCore Sceneform` plugin. I am able to place 3D models on the highlighted plane. But even if I&#39;m placing a real object in front of the camera (or just waving my hands in front of the camera) it is visible only behind the 3d object.\r\n\r\nHow can I place real-world objects in front of the 3D objects in Android?\r\n\r\nCan we use any other plugin to achieve this?\r\n ","title":"ARCore – How to place a Real World object in front of a 3d model?","body":"<p>I have created an Android AR app using <code>ARCore Sceneform</code> plugin. I am able to place 3D models on the highlighted plane. But even if I'm placing a real object in front of the camera (or just waving my hands in front of the camera) it is visible only behind the 3d object.</p>\n<p>How can I place real-world objects in front of the 3D objects in Android?</p>\n<p>Can we use any other plugin to achieve this?</p>\n"},{"tags":["java","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1669329496,"post_id":74566511,"comment_id":131624537,"body_markdown":"Sorry cannot reproduce/sounds really weird! Please do a [mre]. (I can name variable&amp;&quot;accessors&quot; anyhow. As long (db) data is consistent, i get a non-null relationship)","body":"Sorry cannot reproduce/sounds really weird! Please do a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. (I can name variable&amp;&quot;accessors&quot; anyhow. As long (db) data is consistent, i get a non-null relationship)"},{"owner":{"account_id":19792051,"reputation":15,"user_id":14496543,"display_name":"Daniel Angel"},"score":0,"creation_date":1669652364,"post_id":74566511,"comment_id":131685463,"body_markdown":"Sorry I updated my question check the followed link :https://stackoverflow.com/questions/74603524/spring-data-rest-relationship-return-null-and-not-save-and-not-update","body":"Sorry I updated my question check the followed link :<a href=\"https://stackoverflow.com/questions/74603524/spring-data-rest-relationship-return-null-and-not-save-and-not-update\" title=\"spring data rest relationship return null and not save and not update\">stackoverflow.com/questions/74603524/&hellip;</a>"}],"owner":{"account_id":19792051,"reputation":15,"user_id":14496543,"display_name":"Daniel Angel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669327207,"creation_date":1669326696,"question_id":74566511,"body_markdown":"In spring boot starter data rest &lt;version&gt;2.7.4&lt;/version&gt; the following problem arises when defining a relationship in this way.\r\n\r\n\r\n```Customer.class\r\n        @ManyToOne\r\n\t@JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Country country;\r\n\r\n       \r\n    public Country getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\r\n\tpublic void setCountry(Country country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\r\n```\r\nAll time return a relation user:null \r\n\r\nThe only solution I have found is to modify it as follows.\r\n\r\n\r\n```Customer.class\r\n        @ManyToOne\r\n\t@JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Country countries;\r\n\r\n      \r\n    public Country getCountry() {\r\n\t\treturn countries;\r\n\t}\r\n\r\n\tpublic void setCountry(Country country) {\r\n\t\tthis.countries = country;\r\n\t}\r\n\r\n```\r\nby changing the name of the property and leaving the setter and getter different if the relationship resolves.\r\n\r\n\r\n\r\n\r\n\r\nI will appreciate any help or information regarding this.","title":"Why Spring data rest repositories return relationship null","body":"<p>In spring boot starter data rest 2.7.4 the following problem arises when defining a relationship in this way.</p>\n<pre><code>        @ManyToOne\n    @JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Country country;\n\n       \n    public Country getCountry() {\n        return country;\n    }\n\n    public void setCountry(Country country) {\n        this.country = country;\n    }\n\n</code></pre>\n<p>All time return a relation user:null</p>\n<p>The only solution I have found is to modify it as follows.</p>\n<pre><code>        @ManyToOne\n    @JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Country countries;\n\n      \n    public Country getCountry() {\n        return countries;\n    }\n\n    public void setCountry(Country country) {\n        this.countries = country;\n    }\n\n</code></pre>\n<p>by changing the name of the property and leaving the setter and getter different if the relationship resolves.</p>\n<p>I will appreciate any help or information regarding this.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1488570177,"post_id":42587115,"comment_id":72306487,"body_markdown":"Marking as a dupe of this one: [&quot;How can I verify that a method is called with a parameter that contains a certain value, without verifying the whole parameter?&quot;](http://stackoverflow.com/a/40617085/1426891). In short, use an ArgumentMatcher or Hamcrest Matcher to check.","body":"Marking as a dupe of this one: <a href=\"http://stackoverflow.com/a/40617085/1426891\">&quot;How can I verify that a method is called with a parameter that contains a certain value, without verifying the whole parameter?&quot;</a>. In short, use an ArgumentMatcher or Hamcrest Matcher to check."}],"answers":[{"comments":[{"owner":{"account_id":82070,"reputation":939,"user_id":231039,"accept_rate":57,"display_name":"eflat"},"score":1,"creation_date":1488906850,"post_id":42590886,"comment_id":72434457,"body_markdown":"Thanks for this. Something in the project doesn&#39;t seem to be set up right and doesn&#39;t like argThat. I&#39;ll troubleshoot that later.","body":"Thanks for this. Something in the project doesn&#39;t seem to be set up right and doesn&#39;t like argThat. I&#39;ll troubleshoot that later."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":3,"creation_date":1488907843,"post_id":42590886,"comment_id":72435012,"body_markdown":"@eflat Check your versions. `argThat` changed between 1.x and 2.x; in 1.x Mockito&#39;s `ArgumentMatcher` extended Hamcrest&#39;s `Matcher` and `Matchers.argThat` supported both, but they diverged for better versioning in 2.x and the Hamcrest `argThat` became `MockitoHamcrest.argThat`. If you&#39;ve got both versions on your classpath, crazy things can happen.","body":"@eflat Check your versions. <code>argThat</code> changed between 1.x and 2.x; in 1.x Mockito&#39;s <code>ArgumentMatcher</code> extended Hamcrest&#39;s <code>Matcher</code> and <code>Matchers.argThat</code> supported both, but they diverged for better versioning in 2.x and the Hamcrest <code>argThat</code> became <code>MockitoHamcrest.argThat</code>. If you&#39;ve got both versions on your classpath, crazy things can happen."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1669326599,"creation_date":1488589494,"answer_id":42590886,"question_id":42587115,"body_markdown":"Reopening as requested, but the solution (use an ArgumentMatcher) is identical to [the one in the linked answer](https://stackoverflow.com/a/40617085/1426891). Naturally, you can&#39;t use an `ArgumentCaptor` when stubbing, but everything else is the same.\r\n\r\n    class OfficeWithId implements ArgumentMatcher&lt;Office&gt; {\r\n      long id;\r\n\r\n      OfficeWithId(long id) {\r\n        this.id = id;\r\n      }\r\n\r\n      @Override public boolean matches(Office office) {\r\n        return office.id == id;\r\n      }\r\n\r\n      @Override public String toString() {\r\n        return &quot;[Office with id &quot; + id + &quot;]&quot;;\r\n      }\r\n    }\r\n\r\n    when(client.callApi(anyString(), argThat(new IsOfficeWithId(123L)))\r\n        .thenReturn(responseOne);\r\n\r\nBecause ArgumentMatcher has a single method, you can even make it a lambda in Java 8:\r\n\r\n    when(client.callApi(anyString(), argThat(office -&gt; office.id == 123L))\r\n        .thenReturn(responseOne);\r\n\r\nIf you&#39;re already using Hamcrest, you can adapt a Hamcrest matcher using `MockitoHamcrest.argThat`, or use the built-in [`hasProperty`](http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasProperty(java.lang.String,%20org.hamcrest.Matcher)):\r\n\r\n```java\r\nwhen(client.callApi(\r\n  anyString(),\r\n  MockitoHamcrest.argThat(\r\n    hasProperty(&quot;id&quot;, equalTo(123L)))))\r\n  .thenReturn(responseOne);\r\n```","title":"Mockito when checking for specific object property value","body":"<p>Reopening as requested, but the solution (use an ArgumentMatcher) is identical to <a href=\"https://stackoverflow.com/a/40617085/1426891\">the one in the linked answer</a>. Naturally, you can't use an <code>ArgumentCaptor</code> when stubbing, but everything else is the same.</p>\n<pre><code>class OfficeWithId implements ArgumentMatcher&lt;Office&gt; {\n  long id;\n\n  OfficeWithId(long id) {\n    this.id = id;\n  }\n\n  @Override public boolean matches(Office office) {\n    return office.id == id;\n  }\n\n  @Override public String toString() {\n    return &quot;[Office with id &quot; + id + &quot;]&quot;;\n  }\n}\n\nwhen(client.callApi(anyString(), argThat(new IsOfficeWithId(123L)))\n    .thenReturn(responseOne);\n</code></pre>\n<p>Because ArgumentMatcher has a single method, you can even make it a lambda in Java 8:</p>\n<pre><code>when(client.callApi(anyString(), argThat(office -&gt; office.id == 123L))\n    .thenReturn(responseOne);\n</code></pre>\n<p>If you're already using Hamcrest, you can adapt a Hamcrest matcher using <code>MockitoHamcrest.argThat</code>, or use the built-in <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasProperty(java.lang.String,%20org.hamcrest.Matcher)\" rel=\"noreferrer\"><code>hasProperty</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(client.callApi(\n  anyString(),\n  MockitoHamcrest.argThat(\n    hasProperty(&quot;id&quot;, equalTo(123L)))))\n  .thenReturn(responseOne);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82070,"reputation":939,"user_id":231039,"accept_rate":57,"display_name":"eflat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488906526,"creation_date":1488906526,"answer_id":42654167,"question_id":42587115,"body_markdown":"I ended up going with &quot;eq&quot;. This was ok in this case because the objects are pretty simple. First I created an object that is the same as what I expect to get back.\r\n\r\n    Office officeExpected = new Office();\r\n    officeExpected.setId(22L);\r\n\r\nThen my &#39;when&#39; statement becomes:\r\n\r\n    when(client.callApi(anyString(), eq(officeExpected))).thenReturn(responseOne);\r\n\r\nThis allows me to have better checking than &quot;isA(Office.class)&quot;. ","title":"Mockito when checking for specific object property value","body":"<p>I ended up going with \"eq\". This was ok in this case because the objects are pretty simple. First I created an object that is the same as what I expect to get back.</p>\n\n<pre><code>Office officeExpected = new Office();\nofficeExpected.setId(22L);\n</code></pre>\n\n<p>Then my 'when' statement becomes:</p>\n\n<pre><code>when(client.callApi(anyString(), eq(officeExpected))).thenReturn(responseOne);\n</code></pre>\n\n<p>This allows me to have better checking than \"isA(Office.class)\". </p>\n"},{"tags":[],"owner":{"account_id":2580852,"reputation":556,"user_id":2237583,"display_name":"lipeiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639184556,"creation_date":1639184556,"answer_id":70311899,"question_id":42587115,"body_markdown":"adding an answer for anyone with a more complex object.\r\n\r\nanswer from OP uses [eq](https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#eq-T-) which works for simple objects.\r\n\r\nHowever, I had a more complex object with many more fields. Its quite painful to create Mock object and fill in all the fields\r\n```\r\npublic class CreateTenantRequest {\r\n  @NotBlank private String id;\r\n  @NotBlank private String a;\r\n  @NotBlank private String b;\r\n  ...\r\n  ...\r\n  \r\n}\r\n```\r\n\r\nI was able to use [refEq](https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#refEq-T-java.lang.String...-) to achieve the same thing without setting a value of each field.\r\n\r\n\r\n```\r\nOffice officeExpected = new Office();\r\nofficeExpected.setId(22L);\r\n\r\nverify(demoMock, Mockito.atLeastOnce()).foobarMethod(refEq(officeExpected, &quot;a&quot;, &quot;b&quot;));\r\n```\r\n","title":"Mockito when checking for specific object property value","body":"<p>adding an answer for anyone with a more complex object.</p>\n<p>answer from OP uses <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#eq-T-\" rel=\"nofollow noreferrer\">eq</a> which works for simple objects.</p>\n<p>However, I had a more complex object with many more fields. Its quite painful to create Mock object and fill in all the fields</p>\n<pre><code>public class CreateTenantRequest {\n  @NotBlank private String id;\n  @NotBlank private String a;\n  @NotBlank private String b;\n  ...\n  ...\n  \n}\n</code></pre>\n<p>I was able to use <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#refEq-T-java.lang.String...-\" rel=\"nofollow noreferrer\">refEq</a> to achieve the same thing without setting a value of each field.</p>\n<pre><code>Office officeExpected = new Office();\nofficeExpected.setId(22L);\n\nverify(demoMock, Mockito.atLeastOnce()).foobarMethod(refEq(officeExpected, &quot;a&quot;, &quot;b&quot;));\n</code></pre>\n"}],"owner":{"account_id":82070,"reputation":939,"user_id":231039,"accept_rate":57,"display_name":"eflat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28843,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1669326599,"creation_date":1488570004,"question_id":42587115,"body_markdown":"I have the following in a working test:\r\n\r\n    when(client.callApi(anyString(), isA(Office.class))).thenReturn(responseOne);\r\nNote that client is a Mock of class Client.\r\n\r\nI want to change &quot;isA(Office.class)&quot; to tell it to match where the &quot;id&quot; property of an Office instance is &quot;123L&quot;. How can I specify that I want a specific argument value in the method of a mocked object?\r\n\r\nEdit: Not a duplicate because I&#39;m trying to use it on a &quot;when&quot; and the linked question (and other resources I&#39;ve found) are using ArgumentCaptor and ArgumentMatcher on &quot;verify&quot; and &quot;assert&quot;. I&#39;m thinking I can&#39;t actually do what I&#39;m trying and will try out another way. Of course, I&#39;m willing to be shown otherwise.","title":"Mockito when checking for specific object property value","body":"<p>I have the following in a working test:</p>\n\n<pre><code>when(client.callApi(anyString(), isA(Office.class))).thenReturn(responseOne);\n</code></pre>\n\n<p>Note that client is a Mock of class Client.</p>\n\n<p>I want to change \"isA(Office.class)\" to tell it to match where the \"id\" property of an Office instance is \"123L\". How can I specify that I want a specific argument value in the method of a mocked object?</p>\n\n<p>Edit: Not a duplicate because I'm trying to use it on a \"when\" and the linked question (and other resources I've found) are using ArgumentCaptor and ArgumentMatcher on \"verify\" and \"assert\". I'm thinking I can't actually do what I'm trying and will try out another way. Of course, I'm willing to be shown otherwise.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1669323638,"post_id":74566145,"comment_id":131623396,"body_markdown":"You need loop to iterate `howMany` times.","body":"You need loop to iterate <code>howMany</code> times."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669323925,"post_id":74566145,"comment_id":131623442,"body_markdown":"[The Java Tutorials - The for Statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">The Java Tutorials - The for Statement</a>"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1669334949,"post_id":74566145,"comment_id":131625325,"body_markdown":"Look at the JavaDoc for Random.nextInt.  You are misunderstanding the parameter.","body":"Look at the JavaDoc for Random.nextInt.  You are misunderstanding the parameter."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669324276,"creation_date":1669324276,"answer_id":74566222,"question_id":74566145,"body_markdown":"```java\r\n\r\npublic void printMultiRandom(int howMany){\r\n    new Random().ints(howMany)\r\n       .forEach(System.out::println);\r\n\r\n}\r\n```","title":"How would i make this method print multiple random integers, based on the number entered in the parameter","body":"<pre class=\"lang-java prettyprint-override\"><code>\npublic void printMultiRandom(int howMany){\n    new Random().ints(howMany)\n       .forEach(System.out::println);\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26992863,"reputation":11,"user_id":20555484,"display_name":"Sean Pilan"},"score":0,"creation_date":1669325840,"post_id":74566289,"comment_id":131623832,"body_markdown":"this gives me an error variable num is already defined in this method","body":"this gives me an error variable num is already defined in this method"},{"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"score":0,"creation_date":1669326490,"post_id":74566289,"comment_id":131623952,"body_markdown":"yes, just had to give it a different name","body":"yes, just had to give it a different name"},{"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"score":0,"creation_date":1669326521,"post_id":74566289,"comment_id":131623958,"body_markdown":"But this approach only generates random number between 0 and 100","body":"But this approach only generates random number between 0 and 100"},{"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"score":0,"creation_date":1669326791,"post_id":74566289,"comment_id":131624014,"body_markdown":"Unless you want integer values in which case you can just cast the gen to int before printing","body":"Unless you want integer values in which case you can just cast the gen to int before printing"}],"tags":[],"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669326454,"creation_date":1669324800,"answer_id":74566289,"question_id":74566145,"body_markdown":"If you do not have any bounds on what the random number should be, you should use this..\r\n\r\n```\r\npublic void printMultiRandom(int num){\r\n    while(num-- &gt; 0){\r\n        double gen= 100 * Math.random();\r\n        System.out.println(gen);\r\n    }\r\n}\r\n```","title":"How would i make this method print multiple random integers, based on the number entered in the parameter","body":"<p>If you do not have any bounds on what the random number should be, you should use this..</p>\n<pre><code>public void printMultiRandom(int num){\n    while(num-- &gt; 0){\n        double gen= 100 * Math.random();\n        System.out.println(gen);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26992863,"reputation":11,"user_id":20555484,"display_name":"Sean Pilan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669326454,"creation_date":1669323595,"question_id":74566145,"body_markdown":"At the moment my method only prints a random number.\r\n\r\nHeres the method.\r\n\r\n```\r\n    public void   printMultiRandom(int howMany){\r\n        Random rand = new Random();\r\n        System.out.println(rand.nextInt(howMany));\r\n```\r\n","title":"How would i make this method print multiple random integers, based on the number entered in the parameter","body":"<p>At the moment my method only prints a random number.</p>\n<p>Heres the method.</p>\n<pre><code>    public void   printMultiRandom(int howMany){\n        Random rand = new Random();\n        System.out.println(rand.nextInt(howMany));\n</code></pre>\n"},{"tags":["java","arrays","json","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669326122,"post_id":74566436,"comment_id":131623877,"body_markdown":"That looks like it&#39;s Base64 encoded.","body":"That looks like it&#39;s Base64 encoded."}],"answers":[{"comments":[{"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"score":0,"creation_date":1669326610,"post_id":74566461,"comment_id":131623978,"body_markdown":"I tried to turn the string into an array of byte with byte [] byteArray = outStreamObj.toByteArray(); but when I set ImageIO.read I get null","body":"I tried to turn the string into an array of byte with byte [] byteArray = outStreamObj.toByteArray(); but when I set ImageIO.read I get null"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669328940,"post_id":74566461,"comment_id":131624436,"body_markdown":"As I said above, the data is Base64 encoded -- you need to decode it to a byte[]","body":"As I said above, the data is Base64 encoded -- you need to decode it to a byte[]"},{"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"score":0,"creation_date":1669330839,"post_id":74566461,"comment_id":131624742,"body_markdown":"Yes, thanks. this Base64 stuff gave some insights to look at on Google.","body":"Yes, thanks. this Base64 stuff gave some insights to look at on Google."}],"tags":[],"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669326199,"creation_date":1669326199,"answer_id":74566461,"question_id":74566436,"body_markdown":"You can use the `javax.ImageIO` package to achieve this.\r\n\r\n```\r\nByteArrayInputStream bis = new ByteArrayInputStream(imageBytesdata);\r\nBufferedImage image = ImageIO.read(bis);\r\nImageIO.write(imagee, &quot;jpg&quot;, new File(&quot;output.jpg&quot;) );\r\n```\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#write-java.awt.image.RenderedImage-java.lang.String-java.io.File-","title":"Convert an ByteArray from a JSON to an Image with Java or Spring","body":"<p>You can use the <code>javax.ImageIO</code> package to achieve this.</p>\n<pre><code>ByteArrayInputStream bis = new ByteArrayInputStream(imageBytesdata);\nBufferedImage image = ImageIO.read(bis);\nImageIO.write(imagee, &quot;jpg&quot;, new File(&quot;output.jpg&quot;) );\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#write-java.awt.image.RenderedImage-java.lang.String-java.io.File-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#write-java.awt.image.RenderedImage-java.lang.String-java.io.File-</a></p>\n"}],"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669326199,"creation_date":1669325993,"question_id":74566436,"body_markdown":"I need some help please.\r\nI can get a JSON from an API. This JSON has a pair key value (among others) that contains an array of byte that I need to convert it into an image. \r\neg: \r\n\r\n`{\r\n &quot;id&quot;: &quot;63044&quot;,\r\n &quot;image&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACsgSURBVHhe7Z1b7MVpdZY5CDIwwzADM8xw6ABaa9PaUDBGKaapF6YX1ko10tQLFI22mJAQE+MxWi88YOMpVqO3Vm3SaGgqJhprbVr1pqGaINB6Qwu9KCUCQjnDdr4/+51Z88x691rfPnx77P49yRvnPXy/k9mdYWZon7Xb2Nj4Dc/2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A5T/0Zz3rWUdJuJxwJzmybZRweZfqXLx2tmMvCeeZC5c74rXiua5nLthLgl64XLCXZy6qnD3zrlaz/I7ZS3ckXE64kxzZNkq4vEt1Ll4727GXhPPMhcsd8VrxXNczF+wlQS9cLtjLMxdVzp55V6tZfsfZF+VenhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL/jqR9GnhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL8jX1SeEs5TpJt3d0I5e+aSyLohwrzyorsT6iuRKq8knKdE5UW1k3dyuJ3zlKBfxfI7uhenhPMU6ebdnVDOnrkksm6IMK+86O6E+kqkyisJ5ylReVHt5J0cbuc8JehXsfyO7sUpQe9w57qqqPYuF/FsVEV2Zkhk3ZDIulMkjvUun6V7nWpXeVLt5SlBv4rld3QvTgl6hzvXVUW1d7mIZ6MqsjNDIuuGRNadInGsd/ks3etUu8qTai9PCfpVLL+je3FK0HeJ14rn6UXcHhJxuSNe65CEy4XLj4XXk2dOuKtEmMdt1Lnq9ySmRdlMi6QxLOMyfcSYR55YVy9swpkm2GVrP+jiD7CEPCeUrQk3gmE2EetzEXLhfx7CGJyhPXVzklsi5KZN0hCeeZE+4kwrzyQjl75hTJNkOrWX5HvqjzzLu487OeuD3Vhft4jUyOqhfxWofkqHaud7lwfZU7unvl7J3vqqK7OzfL78gXdZ55F3d+1hO3p7pwH6+RyVH1Il7rkBzVzvUuF66vckd3r5y9811VdHfnZvkd+aLyzAX7SsLlDrenF+fezaLruOuxl2apzrucxGscs+9KVLlw/lSRqr80y+/IF40vH3PBvpJwucPt6cW5d7PoOu567KVZqvMuJ/Eax+y7ElUunD9VpOovzfI78kXjy0c5su1QRXYmirieviJeIzs321PCeeYO7uLZmItuL5yvckrQC5cL9dzRC5cL9dXu2ix/Mn6Q+JGiHNl2qCI7E0VcT18Rr5Gdm+0p4TxzB3fxbMxFtxfOVzkl6IXLhXru6IXLhfpqd22WPxk/DCVcXsG981UuiW4ukWwz1IV7d97lDu0pkXVRxOWCvdsrZ+88c+HyLvHahyScZ76a5Xfmi1PC5RXcO1/lkujmEsk2Q124d+dd7tCeElkXRVwu2Lu9cvbOMxcu7xKvfUjCeearWX5nvnglwtzthPpqR47d85zLRZVTJNsMVWRnooTLRdWL2d75KpcEvZjdsT/Vr2b5nfXCXRHmbifUVzty7J7nXC6qnCLZZqgiOxMlXC6qXsz2zle5JOjF7I79qX41y+/cfWHtuGdeSbhcMK92TqfirtfNK5GqF9xJwnnmgvnsjiJVL9jHM1Ei64Yc7Kv9pVh+x+6Lasc980rC5YJ5tXM6FXe9bl6JVL3gThLOMxfMZ3cUqXrBPp6JElk35GBf7S/F+jsC9+LM3a7CXYcizCsvqp28k3C5g7vqnPpKousvlRO36+ZSl+zskOh65qtYf0fgXpy521W461CEeeVFtZN3Ei53cFedU19JdP2lcuJ23Vzqkp0dEl3PfBXr77iHL06JyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoAziJyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoA8x+iOqc...........................&quot;\r\n}`\r\n\r\n \r\n\r\nI need that image key value to turn it into an image jpg or png.\r\nIs there a way to do it with Java or Spring?\r\nThanks in advance.","title":"Convert an ByteArray from a JSON to an Image with Java or Spring","body":"<p>I need some help please.\nI can get a JSON from an API. This JSON has a pair key value (among others) that contains an array of byte that I need to convert it into an image.\neg:</p>\n<p><code>{ &quot;id&quot;: &quot;63044&quot;, &quot;image&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACsgSURBVHhe7Z1b7MVpdZY5CDIwwzADM8xw6ABaa9PaUDBGKaapF6YX1ko10tQLFI22mJAQE+MxWi88YOMpVqO3Vm3SaGgqJhprbVr1pqGaINB6Qwu9KCUCQjnDdr4/+51Z88x691rfPnx77P49yRvnPXy/k9mdYWZon7Xb2Nj4Dc/2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A5T/0Zz3rWUdJuJxwJzmybZRweZfqXLx2tmMvCeeZC5c74rXiua5nLthLgl64XLCXZy6qnD3zrlaz/I7ZS3ckXE64kxzZNkq4vEt1Ll4727GXhPPMhcsd8VrxXNczF+wlQS9cLtjLMxdVzp55V6tZfsfZF+VenhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL/jqR9GnhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL8jX1SeEs5TpJt3d0I5e+aSyLohwrzyorsT6iuRKq8knKdE5UW1k3dyuJ3zlKBfxfI7uhenhPMU6ebdnVDOnrkksm6IMK+86O6E+kqkyisJ5ylReVHt5J0cbuc8JehXsfyO7sUpQe9w57qqqPYuF/FsVEV2Zkhk3ZDIulMkjvUun6V7nWpXeVLt5SlBv4rld3QvTgl6hzvXVUW1d7mIZ6MqsjNDIuuGRNadInGsd/ks3etUu8qTai9PCfpVLL+je3FK0HeJ14rn6UXcHhJxuSNe65CEy4XLj4XXk2dOuKtEmMdt1Lnq9ySmRdlMi6QxLOMyfcSYR55YVy9swpkm2GVrP+jiD7CEPCeUrQk3gmE2EetzEXLhfx7CGJyhPXVzklsi5KZN0hCeeZE+4kwrzyQjl75hTJNkOrWX5HvqjzzLu487OeuD3Vhft4jUyOqhfxWofkqHaud7lwfZU7unvl7J3vqqK7OzfL78gXdZ55F3d+1hO3p7pwH6+RyVH1Il7rkBzVzvUuF66vckd3r5y9811VdHfnZvkd+aLyzAX7SsLlDrenF+fezaLruOuxl2apzrucxGscs+9KVLlw/lSRqr80y+/IF40vH3PBvpJwucPt6cW5d7PoOu567KVZqvMuJ/Eax+y7ElUunD9VpOovzfI78kXjy0c5su1QRXYmirieviJeIzs321PCeeYO7uLZmItuL5yvckrQC5cL9dzRC5cL9dXu2ix/Mn6Q+JGiHNl2qCI7E0VcT18Rr5Gdm+0p4TxzB3fxbMxFtxfOVzkl6IXLhXru6IXLhfpqd22WPxk/DCVcXsG981UuiW4ukWwz1IV7d97lDu0pkXVRxOWCvdsrZ+88c+HyLvHahyScZ76a5Xfmi1PC5RXcO1/lkujmEsk2Q124d+dd7tCeElkXRVwu2Lu9cvbOMxcu7xKvfUjCeearWX5nvnglwtzthPpqR47d85zLRZVTJNsMVWRnooTLRdWL2d75KpcEvZjdsT/Vr2b5nfXCXRHmbifUVzty7J7nXC6qnCLZZqgiOxMlXC6qXsz2zle5JOjF7I79qX41y+/cfWHtuGdeSbhcMK92TqfirtfNK5GqF9xJwnnmgvnsjiJVL9jHM1Ei64Yc7Kv9pVh+x+6Lasc980rC5YJ5tXM6FXe9bl6JVL3gThLOMxfMZ3cUqXrBPp6JElk35GBf7S/F+jsC9+LM3a7CXYcizCsvqp28k3C5g7vqnPpKousvlRO36+ZSl+zskOh65qtYf0fgXpy521W461CEeeVFtZN3Ei53cFedU19JdP2lcuJ23Vzqkp0dEl3PfBXr77iHL06JyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoAziJyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoA8x+iOqc...........................&quot; }</code></p>\n<p>I need that image key value to turn it into an image jpg or png.\nIs there a way to do it with Java or Spring?\nThanks in advance.</p>\n"},{"tags":["java","spring","datetime","jenkins","jodatime"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1669202831,"post_id":74545998,"comment_id":131589790,"body_markdown":"You should also post the test case code.","body":"You should also post the test case code."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1669202876,"post_id":74545998,"comment_id":131589816,"body_markdown":"So you&#39;re setting the start date and time as a String containing the number of seconds since epoch? Why not just the long value in that case? And I don&#39;t see how this could fail, do you get any exception or failed assertations?","body":"So you&#39;re setting the start date and time as a String containing the number of seconds since epoch? Why not just the long value in that case? And I don&#39;t see how this could fail, do you get any exception or failed assertations?"},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669203858,"post_id":74545998,"comment_id":131590148,"body_markdown":"@ArvindKumarAvinash you mean the entire test case code?","body":"@ArvindKumarAvinash you mean the entire test case code?"},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669204065,"post_id":74545998,"comment_id":131590223,"body_markdown":"@Thomas in shopDTO this StartDateAndTime is a string i cannot change it so that&#39;s why converting it to a string. it is giving failed assertion.","body":"@Thomas in shopDTO this StartDateAndTime is a string i cannot change it so that&#39;s why converting it to a string. it is giving failed assertion."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669205936,"post_id":74545998,"comment_id":131590881,"body_markdown":"That failing test code doesn&#39;t seem to be connected to your first line, at least I can&#39;t see any obvious connection. I _guess_ that `start.toEpochMilli()` is somehow related to `setStartDateAndTime()` but since that takes a string there&#39;s still a lot missing. Also, _what_ assertation if failing, are you getting that `BadRequestException` but don&#39;t expect it?","body":"That failing test code doesn&#39;t seem to be connected to your first line, at least I can&#39;t see any obvious connection. I <i>guess</i> that <code>start.toEpochMilli()</code> is somehow related to <code>setStartDateAndTime()</code> but since that takes a string there&#39;s still a lot missing. Also, <i>what</i> assertation if failing, are you getting that <code>BadRequestException</code> but don&#39;t expect it?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1669206021,"post_id":74545998,"comment_id":131590908,"body_markdown":"Btw, you are using Joda Time, aren&#39;t you? `DateTime` isn&#39;t a `java.time` class.","body":"Btw, you are using Joda Time, aren&#39;t you? <code>DateTime</code> isn&#39;t a <code>java.time</code> class."},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669223518,"post_id":74545998,"comment_id":131597746,"body_markdown":"Yes i am using joda time","body":"Yes i am using joda time"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669224814,"post_id":74545998,"comment_id":131598243,"body_markdown":"Isn’t that a matter of specifying your intended time zone instead of `DateTimeZone.getDefault()`? For example `DateTimeZone.forID(&quot;America/Tortola&quot;)` (don’t know which time zone you wanted).","body":"Isn’t that a matter of specifying your intended time zone instead of <code>DateTimeZone.getDefault()</code>? For example <code>DateTimeZone.forID(&quot;America&#47;Tortola&quot;)</code> (don’t know which time zone you wanted)."},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":1,"creation_date":1669269832,"post_id":74545998,"comment_id":131607276,"body_markdown":"@OleV.V. Updated the code with minimal reproducible example.","body":"@OleV.V. Updated the code with minimal reproducible example."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669271797,"post_id":74545998,"comment_id":131607700,"body_markdown":"I can’t reproduce. I rewrote your code a bit, but your `if` statement is intact. I ran it in different time zones behind, on and ahead of UTC. Your method always returned an empty list and never threw. Which is your local default time zone and the default time zone of your Jenkins? At which time(s) of day does your test fail on Jenkins? I figure the time of day could make a difference.","body":"I can’t reproduce. I rewrote your code a bit, but your <code>if</code> statement is intact. I ran it in different time zones behind, on and ahead of UTC. Your method always returned an empty list and never threw. Which is your local default time zone and the default time zone of your Jenkins? At which time(s) of day does your test fail on Jenkins? I figure the time of day could make a difference."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669272372,"post_id":74545998,"comment_id":131607831,"body_markdown":"To me it makes no sense that this test should fail in any time zone whatsoever. Your test takes the current time. Throws away fraction of second, which gives us a slightly earlier time. Your method regulates the time back to the start of day in some time zone, giving us a yet earlier time (even in all the corner cases I can think of). Then comparing the obtained time to the current time now (which is some nanos later than the time the method was called). And apparently thinks that the earlier time is later and throws the exception?? Are you sure you can still reproduce your example?","body":"To me it makes no sense that this test should fail in any time zone whatsoever. Your test takes the current time. Throws away fraction of second, which gives us a slightly earlier time. Your method regulates the time back to the start of day in some time zone, giving us a yet earlier time (even in all the corner cases I can think of). Then comparing the obtained time to the current time now (which is some nanos later than the time the method was called). And apparently thinks that the earlier time is later and throws the exception?? Are you sure you can still reproduce your example?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669272886,"post_id":74545998,"comment_id":131607934,"body_markdown":"If your test is still failing, insert some debug logging printing the values of all dates and times in play whether as `Instant`, `long`, `String` or `DateTime` to narrow down where something doesn’t go as expected.","body":"If your test is still failing, insert some debug logging printing the values of all dates and times in play whether as <code>Instant</code>, <code>long</code>, <code>String</code> or <code>DateTime</code> to narrow down where something doesn’t go as expected."},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669275771,"post_id":74545998,"comment_id":131608722,"body_markdown":"when i tried to print the `Instant.now()` in test cases i am getting `1970-01-20` but that same value in my code is giving today&#39;s date `24-11-2022`","body":"when i tried to print the <code>Instant.now()</code> in test cases i am getting <code>1970-01-20</code> but that same value in my code is giving today&#39;s date <code>24-11-2022</code>"},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669276033,"post_id":74545998,"comment_id":131608799,"body_markdown":"My local default time zone is UTC and my Jenkins default time zone is also UTC","body":"My local default time zone is UTC and my Jenkins default time zone is also UTC"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669325736,"post_id":74545998,"comment_id":131623812,"body_markdown":"1970-01-20 comes from confusing seconds and milliseconds since the epoch at some point. Current seconds since the epoch are 1 669 325 605. This many *milliseconds* since the epoch equals `1970-01-20T07:42:05.605Z` (UTC). And the other date you mentioned, 1970-01-01, is the epoch (or 0 seconds since the epoch).","body":"1970-01-20 comes from confusing seconds and milliseconds since the epoch at some point. Current seconds since the epoch are 1 669 325 605. This many <i>milliseconds</i> since the epoch equals <code>1970-01-20T07:42:05.605Z</code> (UTC). And the other date you mentioned, 1970-01-01, is the epoch (or 0 seconds since the epoch)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669326099,"post_id":74545998,"comment_id":131623872,"body_markdown":"The results you are reporting are not coming out of the code you are showing us. In this situation we can’t help.","body":"The results you are reporting are not coming out of the code you are showing us. In this situation we can’t help."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1669224611,"post_id":74546519,"comment_id":131598174,"body_markdown":"Thanks for your contribution. You don’t want to set the default time zone. You want to correct your code to work regardless of the default time zone. You also want to avoid using the `TimeZone` class since it is troublesome and outdated.","body":"Thanks for your contribution. You don’t want to set the default time zone. You want to correct your code to work regardless of the default time zone. You also want to avoid using the <code>TimeZone</code> class since it is troublesome and outdated."},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":1,"creation_date":1669275655,"post_id":74546519,"comment_id":131608680,"body_markdown":"this @DefaultTimeZone notation is not present how to enable it","body":"this @DefaultTimeZone notation is not present how to enable it"}],"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669205141,"creation_date":1669205141,"answer_id":74546519,"question_id":74545998,"body_markdown":"I would still need more code from your test, but I have the following assumption:\r\n\r\nThe test is failing because your Jenkins server operates on a different timezone than your local machine. You need to adapt your unit test, so that the result is independent of the executing environment.\r\n\r\nYou can set the default TimeZone for unit tests as follows:\r\n\r\n    @Test\r\n    @DefaultTimeZone(&quot;CET&quot;)\r\n    void test_with_short_zone_id() {\r\n        assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;CET&quot;));\r\n    }\r\n    \r\n    @Test\r\n    @DefaultTimeZone(&quot;Africa/Juba&quot;)\r\n    void test_with_long_zone_id() {\r\n        assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;Africa/Juba&quot;));\r\n    }\r\n\r\n\r\nsource: https://junit-pioneer.org/docs/default-locale-timezone/#defaulttimezone","title":"Tests pass in my timezone, but fail on the remote/onshore/offshore Jenkins server","body":"<p>I would still need more code from your test, but I have the following assumption:</p>\n<p>The test is failing because your Jenkins server operates on a different timezone than your local machine. You need to adapt your unit test, so that the result is independent of the executing environment.</p>\n<p>You can set the default TimeZone for unit tests as follows:</p>\n<pre><code>@Test\n@DefaultTimeZone(&quot;CET&quot;)\nvoid test_with_short_zone_id() {\n    assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;CET&quot;));\n}\n\n@Test\n@DefaultTimeZone(&quot;Africa/Juba&quot;)\nvoid test_with_long_zone_id() {\n    assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;Africa/Juba&quot;));\n}\n</code></pre>\n<p>source: <a href=\"https://junit-pioneer.org/docs/default-locale-timezone/#defaulttimezone\" rel=\"nofollow noreferrer\">https://junit-pioneer.org/docs/default-locale-timezone/#defaulttimezone</a></p>\n"}],"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669325951,"creation_date":1669202604,"question_id":74545998,"body_markdown":"When I am running my test cases locally it is running fine, but running in the Jenkins server it is failing. can someone help me with this?\r\n\r\nTestCase Code:\r\n\r\n    \r\n    @Test\r\n    public void testingError(){\r\n        List&lt;Error&gt; validationError = subscriptionValidator.testError(String.valueOf(Instant.now().getEpochSecond()));\r\n        Assert.assertEquals(Boolean.TRUE,validationError.isEmpty());\r\n    }\r\n\r\n\r\nCode which i am testing:\r\n\r\n    public List&lt;Error&gt; testError(String epoch){\r\n        List&lt;Error&gt; listError = new ArrayList&lt;&gt;();\r\n        final Instant start = Instant.ofEpochSecond(Long.valueOf(epoch));\r\n\r\n        //I need to check here if the date in start is a future date (only date)\r\n        if(new DateTime(start.toEpochMilli(), DateTimeZone.getDefault()).withTimeAtStartOfDay().isAfter(DateTime.now())){\r\n            final BadRequestException badRequestException =\r\n                    new BadRequestException(messageByLocale.getMessage(&quot;error-message.invalid-start-date&quot;));\r\n            throw badRequestException;\r\n        }\r\n        return listError;\r\n    }\r\n\r\nEven if i run the test cases using the command `mvn  -Dspring.profiles.active=local -Djava.net.preferIPv4Stack=true test package\r\n` in my local it is giving this error\r\n\r\n        testingError(com.demo.service.v1.subscription.ValidatorTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\r\n    com.impelsys.catalog.exception.BadRequestException: null\r\n            at com.demo.service.v1.subscription.Validator.testError(Validator.java:305)\r\n            at com.demo.service.v1.subscription.ValidatorTest.testingError(ValidatorTest.java:319)\r\n\r\nMy local default time zone is UTC and my Jenkins default time zone is also UTC.\r\n\r\n-----------------------------UPDATE--------------------------------------\r\n\r\n\r\nWith the above code when running the test cases `Instant.now() or DateTime.now()` are giving the date `1970-01-01` that why the if the condition becomes true and it is throwing the BadRequestException.\r\n\r\nnow the question is why it is giving `1970-01-01`?","title":"Tests pass in my timezone, but fail on the remote/onshore/offshore Jenkins server","body":"<p>When I am running my test cases locally it is running fine, but running in the Jenkins server it is failing. can someone help me with this?</p>\n<p>TestCase Code:</p>\n<pre><code>@Test\npublic void testingError(){\n    List&lt;Error&gt; validationError = subscriptionValidator.testError(String.valueOf(Instant.now().getEpochSecond()));\n    Assert.assertEquals(Boolean.TRUE,validationError.isEmpty());\n}\n</code></pre>\n<p>Code which i am testing:</p>\n<pre><code>public List&lt;Error&gt; testError(String epoch){\n    List&lt;Error&gt; listError = new ArrayList&lt;&gt;();\n    final Instant start = Instant.ofEpochSecond(Long.valueOf(epoch));\n\n    //I need to check here if the date in start is a future date (only date)\n    if(new DateTime(start.toEpochMilli(), DateTimeZone.getDefault()).withTimeAtStartOfDay().isAfter(DateTime.now())){\n        final BadRequestException badRequestException =\n                new BadRequestException(messageByLocale.getMessage(&quot;error-message.invalid-start-date&quot;));\n        throw badRequestException;\n    }\n    return listError;\n}\n</code></pre>\n<p>Even if i run the test cases using the command <code>mvn  -Dspring.profiles.active=local -Djava.net.preferIPv4Stack=true test package </code> in my local it is giving this error</p>\n<pre><code>    testingError(com.demo.service.v1.subscription.ValidatorTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\ncom.impelsys.catalog.exception.BadRequestException: null\n        at com.demo.service.v1.subscription.Validator.testError(Validator.java:305)\n        at com.demo.service.v1.subscription.ValidatorTest.testingError(ValidatorTest.java:319)\n</code></pre>\n<p>My local default time zone is UTC and my Jenkins default time zone is also UTC.</p>\n<p>-----------------------------UPDATE--------------------------------------</p>\n<p>With the above code when running the test cases <code>Instant.now() or DateTime.now()</code> are giving the date <code>1970-01-01</code> that why the if the condition becomes true and it is throwing the BadRequestException.</p>\n<p>now the question is why it is giving <code>1970-01-01</code>?</p>\n"},{"tags":["java","lambda","java-stream","option-type"],"answers":[{"comments":[{"owner":{"account_id":3082985,"reputation":54173,"user_id":2610810,"display_name":"Caleth"},"score":1,"creation_date":1666690727,"post_id":74191962,"comment_id":130991505,"body_markdown":"Second example should be `Optional.of`, I agree this was just a &quot;do you know how to `.map`&quot; question","body":"Second example should be <code>Optional.of</code>, I agree this was just a &quot;do you know how to <code>.map</code>&quot; question"},{"owner":{"account_id":13342140,"reputation":23,"user_id":9630045,"display_name":"r.lally91"},"score":0,"creation_date":1666691083,"post_id":74191962,"comment_id":130991620,"body_markdown":"You are right, they weren&#39;t implying this code was a good candidate for streams/optional, they were just seeing if I knew how to do it (I didn&#39;t!). So thanks a million for showing me what they wanted!","body":"You are right, they weren&#39;t implying this code was a good candidate for streams/optional, they were just seeing if I knew how to do it (I didn&#39;t!). So thanks a million for showing me what they wanted!"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1666691570,"post_id":74191962,"comment_id":130991774,"body_markdown":"@r.lally91 I assume that maybe it was kind of &quot;double dip&quot; question. The interviewer possibly wanted not only to find out are you familiar with functional programming features of Java, but also to test your ability to evaluate the code you&#39;ve just written.","body":"@r.lally91 I assume that maybe it was kind of &quot;double dip&quot; question. The interviewer possibly wanted not only to find out are you familiar with functional programming features of Java, but also to test your ability to evaluate the code you&#39;ve just written."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666770569,"post_id":74191962,"comment_id":131012268,"body_markdown":"Letting aside that this is using the APIs in an unintended way, the interviewer’s task was “*to reduce these 2 lines*” and this result will only be one line if we make the line very long. It’s not as if we couldn’t write the original `gameDto = gameplay.playRandomGame(gameDto); repo.updateTotals(gameDto .getResult());` in a single line too; it’s even shorter. We can even write it as a single *statement* if that syntactic peculiarity was the goal: `repo.updateTotals((gameDto = gameplay.playRandomGame( gameDto)).getResult());` (it even works if getting questionable code was the actual goal).","body":"Letting aside that this is using the APIs in an unintended way, the interviewer’s task was “<i>to reduce these 2 lines</i>” and this result will only be one line if we make the line very long. It’s not as if we couldn’t write the original <code>gameDto = gameplay.playRandomGame(gameDto); repo.updateTotals(gameDto .getResult());</code> in a single line too; it’s even shorter. We can even write it as a single <i>statement</i> if that syntactic peculiarity was the goal: <code>repo.updateTotals((gameDto = gameplay.playRandomGame( gameDto)).getResult());</code> (it even works if getting questionable code was the actual goal)."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1666696880,"creation_date":1666690501,"answer_id":74191962,"question_id":74191732,"body_markdown":"First of all, this code is fishy: `@Autowired` on fields, reassigned method argument.\r\n\r\nAnd if you ask my opinion, this code doesn&#39;t need neither Streams, no Optional (since there&#39;s no method involved which return one). It seems like you were asked to rewrite the code in an obscuring way so that it would **abuse** either an Optional or Stream.\r\n\r\nNumber of lines is **not** a metric for code quality.\r\n\r\nHere&#39;s an example of a Stream-abuse:\r\n\r\n    @Override\r\n    public ResponseDto addGameToSession(GameDto gameDto) {\r\n        \r\n        Stream.of(gameDto)\r\n            .map(gameplay::playRandomGame)\r\n            .forEach(gDto -&gt; repo.updateTotals(gDto.getResult()));\r\n        \r\n        return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\r\n    }\r\n\r\nThe code above unnecessarily operates via *side-effects*, which is disparaged be the [Stream API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects). \r\n\r\n\r\n\r\nAnd here&#39;s an example of an Optional-abuse (it can be more frequently observed with `Optional.ofNullable()`):\r\n\r\n    @Override\r\n    public ResponseDto addGameToSession(GameDto gameDto) {\r\n        \r\n        Optional.of(gameDto)\r\n            .map(gameplay::playRandomGame)\r\n            .ifPresent(gDto -&gt; repo.updateTotals(gDto.getResult()));\r\n        \r\n        return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\r\n    }\r\n\r\nIn a nut-shell, `Optional` is a container of data, which is intended to represent a **return type**. You can wrap it around something nullable and that would allow to interact safely with a result of a method call regardless whether it contains the actual value or not.\r\n\r\nCreation an Optional only in order chain methods on it, goes against its design goal. It&#39;s a smell and should be avoided.\r\n\r\nRegarding the usage of Optional, see [*this*](https://stackoverflow.com/a/34458582/17949945) and [*this*](https://stackoverflow.com/a/23464794/17949945) answers by [*@Stuart Marks*](https://stackoverflow.com/users/1441122/stuart-marks), Java and OpenJDK developer.","title":"Interview question - How to use Optional.of() or Stream.of() to reduce code","body":"<p>First of all, this code is fishy: <code>@Autowired</code> on fields, reassigned method argument.</p>\n<p>And if you ask my opinion, this code doesn't need neither Streams, no Optional (since there's no method involved which return one). It seems like you were asked to rewrite the code in an obscuring way so that it would <strong>abuse</strong> either an Optional or Stream.</p>\n<p>Number of lines is <strong>not</strong> a metric for code quality.</p>\n<p>Here's an example of a Stream-abuse:</p>\n<pre><code>@Override\npublic ResponseDto addGameToSession(GameDto gameDto) {\n    \n    Stream.of(gameDto)\n        .map(gameplay::playRandomGame)\n        .forEach(gDto -&gt; repo.updateTotals(gDto.getResult()));\n    \n    return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\n}\n</code></pre>\n<p>The code above unnecessarily operates via <em>side-effects</em>, which is disparaged be the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">Stream API documentation</a>.</p>\n<p>And here's an example of an Optional-abuse (it can be more frequently observed with <code>Optional.ofNullable()</code>):</p>\n<pre><code>@Override\npublic ResponseDto addGameToSession(GameDto gameDto) {\n    \n    Optional.of(gameDto)\n        .map(gameplay::playRandomGame)\n        .ifPresent(gDto -&gt; repo.updateTotals(gDto.getResult()));\n    \n    return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\n}\n</code></pre>\n<p>In a nut-shell, <code>Optional</code> is a container of data, which is intended to represent a <strong>return type</strong>. You can wrap it around something nullable and that would allow to interact safely with a result of a method call regardless whether it contains the actual value or not.</p>\n<p>Creation an Optional only in order chain methods on it, goes against its design goal. It's a smell and should be avoided.</p>\n<p>Regarding the usage of Optional, see <a href=\"https://stackoverflow.com/a/34458582/17949945\"><em>this</em></a> and <a href=\"https://stackoverflow.com/a/23464794/17949945\"><em>this</em></a> answers by <a href=\"https://stackoverflow.com/users/1441122/stuart-marks\"><em>@Stuart Marks</em></a>, Java and OpenJDK developer.</p>\n"}],"owner":{"account_id":13342140,"reputation":23,"user_id":9630045,"display_name":"r.lally91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74191962,"answer_count":1,"score":0,"last_activity_date":1669325885,"creation_date":1666689327,"question_id":74191732,"body_markdown":"I recently made it through to the final round of interview.\r\n\r\nAt one point in the interview, they asked me to demonstrate my Java 8 knowledge on the following piece of code. They asked me to reduce the following code using either `Optional.of()` or `Stream.of()`. And I was completely frozen, I only ever used streams on lists and didn&#39;t know how to use the optional approach. I didn&#39;t get the job specifically for this reason, as they said my understanding of java8 wasn&#39;t good enough. Can someone please tell me what they were looking for?\r\n\r\n**Summary**\r\n\r\nI&#39;ve been specifically asked to reduce these `2` lines with `Optional.of()` or `Stream.of()`:\r\n\r\n    gameDto = gameplay.playRandomGame(gameDto);\r\n    repo.updateTotals(gameDto.getResult());\r\n\r\nOverall snippet for a bit of context:\r\n\r\n```\r\n@Service(&quot;gameService&quot;)\r\npublic class GameServiceImpl implements GameService{\r\n\t\r\n\t@Autowired\r\n\tprivate SessionInMemoryRegistry sessionRegistry;\r\n\t\r\n\t@Autowired\r\n\tprivate GameInMemoryRepo repo;\r\n\t\r\n\t@Autowired\r\n\tprivate GamePlay gameplay;\r\n\r\n\t@Override\r\n\tpublic ResponseDto addGameToSession(GameDto gameDto) {\r\n\t\tgameDto = gameplay.playRandomGame(gameDto);\r\n\t\trepo.updateTotals(gameDto.getResult());\r\n\t\treturn sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\r\n\t}\r\n}\r\n```","title":"Interview question - How to use Optional.of() or Stream.of() to reduce code","body":"<p>I recently made it through to the final round of interview.</p>\n<p>At one point in the interview, they asked me to demonstrate my Java 8 knowledge on the following piece of code. They asked me to reduce the following code using either <code>Optional.of()</code> or <code>Stream.of()</code>. And I was completely frozen, I only ever used streams on lists and didn't know how to use the optional approach. I didn't get the job specifically for this reason, as they said my understanding of java8 wasn't good enough. Can someone please tell me what they were looking for?</p>\n<p><strong>Summary</strong></p>\n<p>I've been specifically asked to reduce these <code>2</code> lines with <code>Optional.of()</code> or <code>Stream.of()</code>:</p>\n<pre><code>gameDto = gameplay.playRandomGame(gameDto);\nrepo.updateTotals(gameDto.getResult());\n</code></pre>\n<p>Overall snippet for a bit of context:</p>\n<pre><code>@Service(&quot;gameService&quot;)\npublic class GameServiceImpl implements GameService{\n    \n    @Autowired\n    private SessionInMemoryRegistry sessionRegistry;\n    \n    @Autowired\n    private GameInMemoryRepo repo;\n    \n    @Autowired\n    private GamePlay gameplay;\n\n    @Override\n    public ResponseDto addGameToSession(GameDto gameDto) {\n        gameDto = gameplay.playRandomGame(gameDto);\n        repo.updateTotals(gameDto.getResult());\n        return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\n    }\n}\n</code></pre>\n"},{"tags":["java","binary-tree","binary-search-tree","binary-search"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1667912299,"post_id":74361081,"comment_id":131276513,"body_markdown":"And what exactly is your question? Meaning: you have a binary tree **solely** ordered on the price property, ignoring the its other properties. So ... you probably have to iterate the whole tree ... and compare all entries to identify min/max. Given that this is probably your homework ... what exactly have you done so far to solve it?","body":"And what exactly is your question? Meaning: you have a binary tree <b>solely</b> ordered on the price property, ignoring the its other properties. So ... you probably have to iterate the whole tree ... and compare all entries to identify min/max. Given that this is probably your homework ... what exactly have you done so far to solve it?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667912467,"post_id":74361081,"comment_id":131276583,"body_markdown":"Some things are not clearly stated, a simple language problem maybe. The `price` of an Order may no longer be changed, as then the tree structure is corrupted, possibly .","body":"Some things are not clearly stated, a simple language problem maybe. The <code>price</code> of an Order may no longer be changed, as then the tree structure is corrupted, possibly ."},{"owner":{"account_id":26751646,"reputation":13,"user_id":20350899,"display_name":"Данил Денк"},"score":0,"creation_date":1667912959,"post_id":74361081,"comment_id":131276788,"body_markdown":"@GhostCat i make update about my current solution","body":"@GhostCat i make update about my current solution"}],"owner":{"account_id":26751646,"reputation":13,"user_id":20350899,"display_name":"Данил Денк"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669325879,"creation_date":1667911981,"question_id":74361081,"body_markdown":"My POJO object is\r\n\r\n```\r\npublic class Order {\r\n  int price;\r\n  int size;\r\n  boolean isBid;\r\n```\r\n\r\nI need to write 2 methods.\r\nFirst should return Order with max price and isBid = true;\r\nSecond should return Order with min price and isBid = false;\r\n\r\nP.S. This is Market Order Book, so object with isBid = true can&#39;t have price more than Object with isBid = false;\r\n\r\nP.S.S. I choose binary tree as data structure, but maybe there are even better structure for this case.\r\n\r\n\r\n\r\nBelow you can see my method to add new Node\r\n\r\n\r\n```\r\nprivate Node updateOrderBook(Node current,Order order) {\r\n  if (current == null) {\r\n    return new Node(order);\r\n  }\r\n  if (order.getPrice() &lt; current.order.getPrice()) {\r\n    current.left = updateOrderBook(current.left,order);\r\n  } else if (order.getPrice() &gt; current.order.getPrice()) {\r\n    current.right = updateOrderBook(current.right,order);\r\n  } else {\r\n    current.order.setSize(order.getSize());\r\n  }\r\n  return current;\r\n}\r\n```\r\nSo you can see my Tree is sorted based on Price;\r\n\r\nThank you for answer\r\n\r\nUPD. My current solution is \r\n \r\n\r\n    private Order findBestBid(Node current) {\r\n        if (current == null) {\r\n          return null;\r\n        }\r\n    \r\n        if (current.order.isBid() &amp;&amp; current.right == null) {\r\n          return current.order;\r\n        }\r\n        \r\n        return current.order.isBid()\r\n            ? findBestBid(current.right)\r\n            : findBestBid(current.left);\r\n\r\nBut it is not work if last find Order is Ask.\r\nI understand that means i have to find the last found Bid (this is going to be the Best Bid)\r\n\r\nBut i don&#39;t understand how to do this.\r\n","title":"How to find max or min Object in binary tree depends on specific field","body":"<p>My POJO object is</p>\n<pre><code>public class Order {\n  int price;\n  int size;\n  boolean isBid;\n</code></pre>\n<p>I need to write 2 methods.\nFirst should return Order with max price and isBid = true;\nSecond should return Order with min price and isBid = false;</p>\n<p>P.S. This is Market Order Book, so object with isBid = true can't have price more than Object with isBid = false;</p>\n<p>P.S.S. I choose binary tree as data structure, but maybe there are even better structure for this case.</p>\n<p>Below you can see my method to add new Node</p>\n<pre><code>private Node updateOrderBook(Node current,Order order) {\n  if (current == null) {\n    return new Node(order);\n  }\n  if (order.getPrice() &lt; current.order.getPrice()) {\n    current.left = updateOrderBook(current.left,order);\n  } else if (order.getPrice() &gt; current.order.getPrice()) {\n    current.right = updateOrderBook(current.right,order);\n  } else {\n    current.order.setSize(order.getSize());\n  }\n  return current;\n}\n</code></pre>\n<p>So you can see my Tree is sorted based on Price;</p>\n<p>Thank you for answer</p>\n<p>UPD. My current solution is</p>\n<pre><code>private Order findBestBid(Node current) {\n    if (current == null) {\n      return null;\n    }\n\n    if (current.order.isBid() &amp;&amp; current.right == null) {\n      return current.order;\n    }\n    \n    return current.order.isBid()\n        ? findBestBid(current.right)\n        : findBestBid(current.left);\n</code></pre>\n<p>But it is not work if last find Order is Ask.\nI understand that means i have to find the last found Bid (this is going to be the Best Bid)</p>\n<p>But i don't understand how to do this.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669321896,"post_id":74565890,"comment_id":131623078,"body_markdown":"To match types you can convert String to enum value with `switch (TiposDeOperacoes.valueOf(operacao)){ `, but be sure that enum contains such value, otherwise `valueOf` will throw `IllegalArgumentException`","body":"To match types you can convert String to enum value with <code>switch (TiposDeOperacoes.valueOf(operacao)){ </code>, but be sure that enum contains such value, otherwise <code>valueOf</code> will throw <code>IllegalArgumentException</code>"}],"answers":[{"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":1,"creation_date":1669322373,"post_id":74566005,"comment_id":131623171,"body_markdown":"`TiposDeOperacoes.SOMA.name()` would be better.","body":"<code>TiposDeOperacoes.SOMA.name()</code> would be better."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669322446,"post_id":74566005,"comment_id":131623187,"body_markdown":"@Stewart Good point! I made the change.","body":"@Stewart Good point! I made the change."},{"owner":{"account_id":20870824,"reputation":63,"user_id":15330823,"display_name":"Caio"},"score":0,"creation_date":1669322474,"post_id":74566005,"comment_id":131623193,"body_markdown":"I&#39;m using String because I get this info through a path like:\n&quot;http://localhost:8080/calculadora_Single?op=soma&amp;v1=1-&amp;v2=20&quot;, where op is the operacao","body":"I&#39;m using String because I get this info through a path like: &quot;<a href=\"http://localhost:8080/calculadora_Single?op=soma&amp;v1=1-&amp;v2=20\" rel=\"nofollow noreferrer\">localhost:8080/calculadora_Single?op=soma&amp;v1=1-&amp;v2=20</a>&quot;, where op is the operacao"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669322622,"post_id":74566005,"comment_id":131623220,"body_markdown":"Doesn&#39;t `case` require *compilation time constant* as value which prevents `.name()` from being used?","body":"Doesn&#39;t <code>case</code> require <i>compilation time constant</i> as value which prevents <code>.name()</code> from being used?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669322629,"post_id":74566005,"comment_id":131623221,"body_markdown":"@CaioHenriquePortella Very well, but generally best for a method to focus on a single responsibility. So I suggest you call one method to figure out the mapping between string input and the enum object, and a second method taking an enum object that performs your calculation. Two jobs: (a) mapping text to enum, and (b) performing calculation, should be two separate methods.","body":"@CaioHenriquePortella Very well, but generally best for a method to focus on a single responsibility. So I suggest you call one method to figure out the mapping between string input and the enum object, and a second method taking an enum object that performs your calculation. Two jobs: (a) mapping text to enum, and (b) performing calculation, should be two separate methods."},{"owner":{"account_id":20870824,"reputation":63,"user_id":15330823,"display_name":"Caio"},"score":0,"creation_date":1669322800,"post_id":74566005,"comment_id":131623258,"body_markdown":"@BasilBourque makes total sense, thank you so much!","body":"@BasilBourque makes total sense, thank you so much!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669325352,"creation_date":1669322254,"answer_id":74566005,"question_id":74565890,"body_markdown":"# tl;dr\r\n\r\n    Mode.valueOf( &quot;ADD&quot; )  // returns `Mode.ADD` object. \r\n\r\n… or:\r\n\r\n```java\r\nswitch ( modeText )\r\n        {\r\n            case &quot;adding&quot; -&gt; Mode.ADD;\r\n            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\r\n            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\r\n            case &quot;division&quot; -&gt; Mode.DIVIDE;\r\n            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\r\n        };\r\n```\r\n\r\n# Details\r\n\r\nThe ideal solution is for the method to take an enum object rather than mere text. If you are testing for enums, then pass enums. Using mere text is fragile, error-prone.\r\n\r\n     public float Calculo( TiposDeOperacoes tiposDeOperacoes , float valor1 , float valor2 ) { … }\r\n\r\nBut if you insist on strings, you can ask the enum object for its name by calling [`Enum#name`][1]. \r\n\r\n    switch ( operacao ) \r\n        case TiposDeOperacoes.SOMA.name() : … \r\n\r\nBut you do not need a `switch` for that behavior. Just call [`Enum#valueOf`][2].\r\n\r\n    TiposDeOperacoes tiposDeOperacoes = TiposDeOperacoes.valueOf( operacao ) ;\r\n\r\n## Separation of concerns\r\n\r\nLearn about [separation of concerns][3], with regard to software design. \r\n\r\nI suggest you call one method to figure out the mapping between string input and the enum object, and a second method taking an enum object that performs your calculation. Two jobs: (a) mapping text to enum, and (b) performing calculation, should be two separate methods.\r\n\r\nFor example, let&#39;s define an enum.\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\npublic enum Mode { ADD, SUBTRACT, MULTIPLY, DIVIDE; }\r\n```\r\n\r\nAnd define a `Calculator` class with our core business logic.\r\n\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\npublic class Calculator\r\n{\r\n    public float calculate ( final Mode mode , final float x , final float y )\r\n    {\r\n        float result =\r\n                switch ( mode )\r\n                        {\r\n                            case ADD -&gt; ( x + y );\r\n                            case SUBTRACT -&gt; ( x - y );\r\n                            case MULTIPLY -&gt; ( x * y );\r\n                            case DIVIDE -&gt; ( x / y );\r\n                        };\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nAnd an app to put those above classes into action.\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\npublic class CalcApp\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        CalcApp calcApp = new CalcApp();\r\n        calcApp.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        String modeText = &quot;minus&quot;;\r\n        float inputX = 42.0f;\r\n        float inputY = 7.0f;\r\n\r\n        Mode mode = this.modeForText( modeText );\r\n        Calculator calculator = new Calculator();\r\n        float result = calculator.calculate( mode , inputX , inputY );\r\n        System.out.println( &quot;result = &quot; + result );\r\n    }\r\n\r\n    private Mode modeForText ( String modeText )\r\n    {\r\n        Mode mode =\r\n                switch ( modeText )\r\n                        {\r\n                            case &quot;adding&quot; -&gt; Mode.ADD;\r\n                            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\r\n                            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\r\n                            case &quot;division&quot; -&gt; Mode.DIVIDE;\r\n                            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\r\n                        };\r\n        return mode;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, FYI, as of Java 16 an enum can be defined locally, within a method. This came from work on the [records][4] feature.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#name()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\r\n  [3]: https://en.wikipedia.org/wiki/Separation_of_concerns\r\n  [4]: https://openjdk.org/jeps/395","title":"Switch case with String and Enum","body":"<h1>tl;dr</h1>\n<pre><code>Mode.valueOf( &quot;ADD&quot; )  // returns `Mode.ADD` object. \n</code></pre>\n<p>… or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch ( modeText )\n        {\n            case &quot;adding&quot; -&gt; Mode.ADD;\n            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\n            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\n            case &quot;division&quot; -&gt; Mode.DIVIDE;\n            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\n        };\n</code></pre>\n<h1>Details</h1>\n<p>The ideal solution is for the method to take an enum object rather than mere text. If you are testing for enums, then pass enums. Using mere text is fragile, error-prone.</p>\n<pre><code> public float Calculo( TiposDeOperacoes tiposDeOperacoes , float valor1 , float valor2 ) { … }\n</code></pre>\n<p>But if you insist on strings, you can ask the enum object for its name by calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\"><code>Enum#name</code></a>.</p>\n<pre><code>switch ( operacao ) \n    case TiposDeOperacoes.SOMA.name() : … \n</code></pre>\n<p>But you do not need a <code>switch</code> for that behavior. Just call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Enum#valueOf</code></a>.</p>\n<pre><code>TiposDeOperacoes tiposDeOperacoes = TiposDeOperacoes.valueOf( operacao ) ;\n</code></pre>\n<h2>Separation of concerns</h2>\n<p>Learn about <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">separation of concerns</a>, with regard to software design.</p>\n<p>I suggest you call one method to figure out the mapping between string input and the enum object, and a second method taking an enum object that performs your calculation. Two jobs: (a) mapping text to enum, and (b) performing calculation, should be two separate methods.</p>\n<p>For example, let's define an enum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\npublic enum Mode { ADD, SUBTRACT, MULTIPLY, DIVIDE; }\n</code></pre>\n<p>And define a <code>Calculator</code> class with our core business logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\npublic class Calculator\n{\n    public float calculate ( final Mode mode , final float x , final float y )\n    {\n        float result =\n                switch ( mode )\n                        {\n                            case ADD -&gt; ( x + y );\n                            case SUBTRACT -&gt; ( x - y );\n                            case MULTIPLY -&gt; ( x * y );\n                            case DIVIDE -&gt; ( x / y );\n                        };\n        return result;\n    }\n}\n</code></pre>\n<p>And an app to put those above classes into action.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\npublic class CalcApp\n{\n    public static void main ( String[] args )\n    {\n        CalcApp calcApp = new CalcApp();\n        calcApp.demo();\n    }\n\n    private void demo ( )\n    {\n        String modeText = &quot;minus&quot;;\n        float inputX = 42.0f;\n        float inputY = 7.0f;\n\n        Mode mode = this.modeForText( modeText );\n        Calculator calculator = new Calculator();\n        float result = calculator.calculate( mode , inputX , inputY );\n        System.out.println( &quot;result = &quot; + result );\n    }\n\n    private Mode modeForText ( String modeText )\n    {\n        Mode mode =\n                switch ( modeText )\n                        {\n                            case &quot;adding&quot; -&gt; Mode.ADD;\n                            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\n                            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\n                            case &quot;division&quot; -&gt; Mode.DIVIDE;\n                            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\n                        };\n        return mode;\n    }\n}\n</code></pre>\n<hr />\n<p>By the way, FYI, as of Java 16 an enum can be defined locally, within a method. This came from work on the <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature.</p>\n"}],"owner":{"account_id":20870824,"reputation":63,"user_id":15330823,"display_name":"Caio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669325352,"creation_date":1669321301,"question_id":74565890,"body_markdown":"TiposDeOperacoes is an enum and operacao is a String, how can I use Enums in this case, since VSCode tells me it&#39;s a type mismatch?        \r\n\r\n        public float Calculo(String operacao, float valor1, float valor2){\r\n                float resultado = 0;\r\n        \r\n                switch (operacao) {\r\n                    case TiposDeOperacoes.SOMA:\r\n                        \r\n                        break;\r\n                \r\n                    default:\r\n                        break;\r\n                }\r\n    }\r\n\r\nTiposDeOperacoes.SOMA.name() also gives me &quot;case expressions must be constant expressions&quot;","title":"Switch case with String and Enum","body":"<p>TiposDeOperacoes is an enum and operacao is a String, how can I use Enums in this case, since VSCode tells me it's a type mismatch?</p>\n<pre><code>    public float Calculo(String operacao, float valor1, float valor2){\n            float resultado = 0;\n    \n            switch (operacao) {\n                case TiposDeOperacoes.SOMA:\n                    \n                    break;\n            \n                default:\n                    break;\n            }\n}\n</code></pre>\n<p>TiposDeOperacoes.SOMA.name() also gives me &quot;case expressions must be constant expressions&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668732006,"post_id":10025239,"comment_id":131484334,"body_markdown":"A canonical is *[How does Java import work?](https://stackoverflow.com/questions/12620369/how-does-java-import-work)*.","body":"A canonical is <i><a href=\"https://stackoverflow.com/questions/12620369/how-does-java-import-work\">How does Java import work?</a></i>."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1669324993,"post_id":10025239,"comment_id":131623663,"body_markdown":"Re &quot;`0,0f`&quot;: Do you mean &quot;`0.0f`&quot;?","body":"Re &quot;<code>0,0f</code>&quot;: Do you mean &quot;<code>0.0f</code>&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":18865,"reputation":25722,"user_id":43677,"accept_rate":100,"display_name":"bezmax"},"score":2,"creation_date":1333615398,"post_id":10025271,"comment_id":12821202,"body_markdown":"I don&#39;t think &quot;unfortunately&quot; is an appropriate word in this context.","body":"I don&#39;t think &quot;unfortunately&quot; is an appropriate word in this context."},{"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"score":0,"creation_date":1333615666,"post_id":10025271,"comment_id":12821299,"body_markdown":"There are a few cases where it would be handy, like virtual machine code where inlining method calls at compile time is critical.","body":"There are a few cases where it would be handy, like virtual machine code where inlining method calls at compile time is critical."}],"tags":[],"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333615387,"creation_date":1333615008,"answer_id":10025271,"question_id":10025239,"body_markdown":"Unfortunately it is not possible to split a Java class definition into multiple files.\r\n\r\nTry to restructure your code so that a huge class definition isn&#39;t necessary. Often this means exposing some state through getter and setter methods, and writing supporting classes which use these methods to add functionality to your main class.\r\n\r\nIn your case, you might consider adding supporting classes like `ImageFilters`, or even something more narrow like `ImageNormalizer` if you like very small classes.","title":"$Include #include equivalent in Java","body":"<p>Unfortunately it is not possible to split a Java class definition into multiple files.</p>\n\n<p>Try to restructure your code so that a huge class definition isn't necessary. Often this means exposing some state through getter and setter methods, and writing supporting classes which use these methods to add functionality to your main class.</p>\n\n<p>In your case, you might consider adding supporting classes like <code>ImageFilters</code>, or even something more narrow like <code>ImageNormalizer</code> if you like very small classes.</p>\n"},{"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1333625868,"post_id":10025310,"comment_id":12824785,"body_markdown":"I thought about that, but it isn&#39;t transparent to the user. However, in accordance with phlogratos&#39; answer I did this anyway but also made delegate methods in the main class, so it becomes transparent.","body":"I thought about that, but it isn&#39;t transparent to the user. However, in accordance with phlogratos&#39; answer I did this anyway but also made delegate methods in the main class, so it becomes transparent."},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1333626762,"post_id":10025310,"comment_id":12825112,"body_markdown":"@Zom-B: Yes that is why I mentioned `to a certain extent`. You then had to implement one large wrapper class for everything.","body":"@Zom-B: Yes that is why I mentioned <code>to a certain extent</code>. You then had to implement one large wrapper class for everything."}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669324736,"creation_date":1333615189,"answer_id":10025310,"question_id":10025239,"body_markdown":"You can&#39;t split a Java class across files. If each of your methods is self-contained, you could create classes with static methods. So to a certain extent, you would only need to cut and paste code.\r\n\r\n\r\n","title":"$Include #include equivalent in Java","body":"<p>You can't split a Java class across files. If each of your methods is self-contained, you could create classes with static methods. So to a certain extent, you would only need to cut and paste code.</p>\n"},{"tags":[],"owner":{"account_id":981311,"reputation":13552,"user_id":1000959,"accept_rate":67,"display_name":"scibuff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333615256,"creation_date":1333615256,"answer_id":10025332,"question_id":10025239,"body_markdown":"Well, you could create a more generic class and put more generic methods there and then have `ImageMatrix` extends that one. Also, if you have a lot of matrix manipulation functions you will probably end up with a lot of code duplication, i.e. repeating the same code in different methods instead of moving the common code into an aux method and calling it from different places, etc.","title":"$Include #include equivalent in Java","body":"<p>Well, you could create a more generic class and put more generic methods there and then have <code>ImageMatrix</code> extends that one. Also, if you have a lot of matrix manipulation functions you will probably end up with a lot of code duplication, i.e. repeating the same code in different methods instead of moving the common code into an aux method and calling it from different places, etc.</p>\n"},{"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":1,"creation_date":1333616013,"post_id":10025407,"comment_id":12821401,"body_markdown":"This sounds like the best way. I&#39;ll make external classes with static methods, called from within ImageMatrix.","body":"This sounds like the best way. I&#39;ll make external classes with static methods, called from within ImageMatrix."}],"tags":[],"owner":{"account_id":428412,"reputation":13424,"user_id":810720,"display_name":"phlogratos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1333615631,"creation_date":1333615631,"answer_id":10025407,"question_id":10025239,"body_markdown":"You can also use delegate methods. This means the definitions of your methods are still in `ImageMatrix`, but they are implemented in another class. Depending on the complexity of your methods this could reduce the amount of code in `ImageMatrix`.\r\n\r\n    class ImageMatrix {\r\n\r\n        MatrixHelperOne helperOne = new MatrixHelperOne();\r\n\r\n        ...\r\n\r\n        public void complexMethod1(Arg arg) {\r\n            helperOne.complexMethod1(arg);\r\n        }\r\n\r\n        ...\r\n    }\r\n   ","title":"$Include #include equivalent in Java","body":"<p>You can also use delegate methods. This means the definitions of your methods are still in <code>ImageMatrix</code>, but they are implemented in another class. Depending on the complexity of your methods this could reduce the amount of code in <code>ImageMatrix</code>.</p>\n\n<pre><code>class ImageMatrix {\n\n    MatrixHelperOne helperOne = new MatrixHelperOne();\n\n    ...\n\n    public void complexMethod1(Arg arg) {\n        helperOne.complexMethod1(arg);\n    }\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10025407,"answer_count":4,"score":1,"last_activity_date":1669324943,"creation_date":1333614896,"question_id":10025239,"body_markdown":"I have a very large and bloated class and I want to split it into separate files, but it should be completely transparent to the user and compatible with existing projects that use the class.\r\n\r\nIn particular, I have my own `ImageMatrix ` class and it defines a ton of unary functions, a ton of binary functions with a scalar, a ton of binary functions with another image, etc. To keep the class clean and maintainable, I wish to put each class of operators in a separate file.\r\n\r\nIs there a way to just cut/paste these methods into a file and include them in the source?\r\n\r\nSo I wish that I can still do this, but the methods actually reside in different files:\r\n\r\n        ImageMatrix img = new ImageMatrix(800, 600, 3);\r\n        img.clear(0.5f, 0.0f, 0,0f);\r\n        img.addSelf(anotherImg);\r\n        img.normalize();\r\n        img.abs();\r\n        img.addSelf(0.5);\r\n\r\nEach method is around 15-30 lines of code because the implementations are extremely optimized for performance, the like of which is impossible to achieve with Bufferedimage or even a plain int[]. There is a lot of code duplication, which is the main reason to group similar methods together. If I add a function or if I change global behavior (like error checking), I can easily keep things coherent.\r\n\r\n\r\n\r\n\r\n","title":"$Include #include equivalent in Java","body":"<p>I have a very large and bloated class and I want to split it into separate files, but it should be completely transparent to the user and compatible with existing projects that use the class.</p>\n<p>In particular, I have my own <code>ImageMatrix </code> class and it defines a ton of unary functions, a ton of binary functions with a scalar, a ton of binary functions with another image, etc. To keep the class clean and maintainable, I wish to put each class of operators in a separate file.</p>\n<p>Is there a way to just cut/paste these methods into a file and include them in the source?</p>\n<p>So I wish that I can still do this, but the methods actually reside in different files:</p>\n<pre><code>    ImageMatrix img = new ImageMatrix(800, 600, 3);\n    img.clear(0.5f, 0.0f, 0,0f);\n    img.addSelf(anotherImg);\n    img.normalize();\n    img.abs();\n    img.addSelf(0.5);\n</code></pre>\n<p>Each method is around 15-30 lines of code because the implementations are extremely optimized for performance, the like of which is impossible to achieve with Bufferedimage or even a plain int[]. There is a lot of code duplication, which is the main reason to group similar methods together. If I add a function or if I change global behavior (like error checking), I can easily keep things coherent.</p>\n"},{"tags":["java","github","intellij-idea","commit"],"owner":{"account_id":27039049,"reputation":13,"user_id":20594147,"display_name":"tzvezdov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669324784,"creation_date":1669324784,"question_id":74566286,"body_markdown":"I am kinda new in the Java world and I was wondering how can I get the latest commit of a Repo that I do not own.\r\nFor example I want to take only the last commit from the VsVim repository.\r\n\r\n\r\nI tried looking into some solutions using GitHubBuilder :\r\n\r\n\r\n```\r\n\r\n```\r\ngitHubConnection.getRepository(url).listCommits().toList().get(0).getCommitDate()\r\n```\r\n\r\n```\r\nFor example I want to extract the commit date and massage. This works, however it is extremely slow(does not even load for couple of minutes and I just stop the programm) when we talk about big repositories with lots of commits like the above mentioned example VsVim.\r\n\r\nThe second attempt was to try use the \r\n```\r\nGHCommitQueryBuilder\r\n```\r\n\r\n```\r\n\r\n```\r\nGHCommitQueryBuilder queryBuilder = gitHubConnection.getRepository(url).queryCommits().since(since).until(until);\r\n\r\n```\r\nGHCommit latestCommit = queryBuilder.list().toList().get(0);\r\nlatestCommit.getCommitDate();\r\n```\r\n\r\n```\r\n\r\n```\r\nHere I have to define with a Date variable the &quot;since&quot; and &quot;until&quot;. For example if I define a 1-month range for the VsVim repository it will load for about 10-12 seconds which is fair enough. However, I do not want to hardcode such time range since it throws an error if the requested repo does not have a commit in this range. For example if the repo does not have a commit for 3 months and I hard code &quot;since&quot; and &quot;until&quot; it will break my programm.\r\n\r\nThe solution I came up with would be to accept Date input from the user so that I can use it when building this GHCommitQueryBuilder. \r\n\r\nI also saw a method called &quot;getCommit(String sha1) which accepts the Sha of the last commit. Maybe if I can somehow automate the process of retrieving the Sha1 I can use this method :) \r\n\r\nPlease let me know if there is a way.\r\n\r\nThanks for the help guys. Appreciate all the answers!","title":"How to get latest commit from a repository in IntelliJ using GitHub Api-Kohsuke?","body":"<p>I am kinda new in the Java world and I was wondering how can I get the latest commit of a Repo that I do not own.\nFor example I want to take only the last commit from the VsVim repository.</p>\n<p>I tried looking into some solutions using GitHubBuilder :</p>\n<pre><code>\n</code></pre>\n<p>gitHubConnection.getRepository(url).listCommits().toList().get(0).getCommitDate()</p>\n<pre><code>\n</code></pre>\n<p>For example I want to extract the commit date and massage. This works, however it is extremely slow(does not even load for couple of minutes and I just stop the programm) when we talk about big repositories with lots of commits like the above mentioned example VsVim.</p>\n<p>The second attempt was to try use the</p>\n<pre><code>GHCommitQueryBuilder\n</code></pre>\n<pre><code>\n</code></pre>\n<p>GHCommitQueryBuilder queryBuilder = gitHubConnection.getRepository(url).queryCommits().since(since).until(until);</p>\n<pre><code>GHCommit latestCommit = queryBuilder.list().toList().get(0);\nlatestCommit.getCommitDate();\n</code></pre>\n<pre><code>\n</code></pre>\n<p>Here I have to define with a Date variable the &quot;since&quot; and &quot;until&quot;. For example if I define a 1-month range for the VsVim repository it will load for about 10-12 seconds which is fair enough. However, I do not want to hardcode such time range since it throws an error if the requested repo does not have a commit in this range. For example if the repo does not have a commit for 3 months and I hard code &quot;since&quot; and &quot;until&quot; it will break my programm.</p>\n<p>The solution I came up with would be to accept Date input from the user so that I can use it when building this GHCommitQueryBuilder.</p>\n<p>I also saw a method called &quot;getCommit(String sha1) which accepts the Sha of the last commit. Maybe if I can somehow automate the process of retrieving the Sha1 I can use this method :)</p>\n<p>Please let me know if there is a way.</p>\n<p>Thanks for the help guys. Appreciate all the answers!</p>\n"},{"tags":["java","algorithm","priority-queue"],"comments":[{"owner":{"account_id":10369,"reputation":42194,"user_id":19540,"display_name":"Lazarus"},"score":0,"creation_date":1279108345,"post_id":3245736,"comment_id":3353158,"body_markdown":"How many items? Are they being persisted anywhere, if so how?","body":"How many items? Are they being persisted anywhere, if so how?"},{"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"score":5,"creation_date":1279108479,"post_id":3245736,"comment_id":3353178,"body_markdown":"Say more about how efficient you want *insertion*, *retrieval* (of priority items), and *removal* to be, relative to each other.","body":"Say more about how efficient you want <i>insertion</i>, <i>retrieval</i> (of priority items), and <i>removal</i> to be, relative to each other."},{"owner":{"account_id":166856,"reputation":1518,"user_id":391290,"accept_rate":71,"display_name":"ladi"},"score":0,"creation_date":1279109868,"post_id":3245736,"comment_id":3353380,"body_markdown":"I Would like to rate the items first and then retrive the first x top scoring items in the right order. So as there are many insertions the insertion should be rather efficient. The retrival could be less efficient.","body":"I Would like to rate the items first and then retrive the first x top scoring items in the right order. So as there are many insertions the insertion should be rather efficient. The retrival could be less efficient."},{"owner":{"display_name":"Aryabhatta"},"score":0,"creation_date":1279120479,"post_id":3245736,"comment_id":3355399,"body_markdown":"How does x compare to n? x &lt;= 100? x close to n/2 what?","body":"How does x compare to n? x &lt;= 100? x close to n/2 what?"},{"owner":{"account_id":90081,"reputation":17174,"user_id":248123,"accept_rate":100,"display_name":"andand"},"score":1,"creation_date":1279122409,"post_id":3245736,"comment_id":3355805,"body_markdown":"Heaps are the standard way of doing this, but you seem to object to the fact that this reorders the heap contents upon removal of the top element.  Why is that a problem?  What is it you&#39;re really trying to do?","body":"Heaps are the standard way of doing this, but you seem to object to the fact that this reorders the heap contents upon removal of the top element.  Why is that a problem?  What is it you&#39;re really trying to do?"}],"answers":[{"comments":[{"owner":{"display_name":"Aryabhatta"},"score":0,"creation_date":1279127981,"post_id":3245758,"comment_id":3356782,"body_markdown":"Heaps are better than skip lists if you use them correctly. Use a min-heap of x elements, when you need the top x. You don&#39;t have to construct a tree/heap of all the n. Just x.","body":"Heaps are better than skip lists if you use them correctly. Use a min-heap of x elements, when you need the top x. You don&#39;t have to construct a tree/heap of all the n. Just x."},{"owner":{"account_id":20514,"reputation":7078,"user_id":49107,"accept_rate":84,"display_name":"Maciej Piechotka"},"score":0,"creation_date":1279141898,"post_id":3245758,"comment_id":3359075,"body_markdown":"Sorry - my fault I misread the text (I understood he wants fast poll even at cost of slow add).","body":"Sorry - my fault I misread the text (I understood he wants fast poll even at cost of slow add)."}],"tags":[],"owner":{"account_id":20514,"reputation":7078,"user_id":49107,"accept_rate":84,"display_name":"Maciej Piechotka"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1279108818,"creation_date":1279108278,"answer_id":3245758,"question_id":3245736,"body_markdown":"Hmm. [Skip lists][1]? They should have O(log n) insertion (as heap-based queue) but getting top element should be O(1) [including removing it]. They could be even implemented using lock-free algorithm.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Skip_list","title":"Efficient priority list","body":"<p>Hmm. <a href=\"http://en.wikipedia.org/wiki/Skip_list\" rel=\"nofollow noreferrer\">Skip lists</a>? They should have O(log n) insertion (as heap-based queue) but getting top element should be O(1) [including removing it]. They could be even implemented using lock-free algorithm.</p>\n"},{"comments":[{"owner":{"account_id":20514,"reputation":7078,"user_id":49107,"accept_rate":84,"display_name":"Maciej Piechotka"},"score":0,"creation_date":1279108668,"post_id":3245770,"comment_id":3353213,"body_markdown":"As far as I understand him he finds getNext in O(log n) not acceptable.","body":"As far as I understand him he finds getNext in O(log n) not acceptable."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1279108773,"post_id":3245770,"comment_id":3353223,"body_markdown":"The problem seems to be that ladi wants to be able to get the x first items without removing any of them. That&#39;s not typically an operation supported by priority lists.","body":"The problem seems to be that ladi wants to be able to get the x first items without removing any of them. That&#39;s not typically an operation supported by priority lists."},{"owner":{"account_id":166856,"reputation":1518,"user_id":391290,"accept_rate":71,"display_name":"ladi"},"score":0,"creation_date":1279109470,"post_id":3245770,"comment_id":3353306,"body_markdown":"I would like rate some items and only get the top n scoring items. So I was wandering if there are any datastructures that only hold the top scoring items but offer a list interface. That means I could go through the list of the top scoring items sequentially.\n\nI could of course use a priority queue based on a heap algorithm which has O(log n) insertion and O(n) retrival, get the top scoring elements and add them to a list. I was just curious if there exists something better than that.","body":"I would like rate some items and only get the top n scoring items. So I was wandering if there are any datastructures that only hold the top scoring items but offer a list interface. That means I could go through the list of the top scoring items sequentially.  I could of course use a priority queue based on a heap algorithm which has O(log n) insertion and O(n) retrival, get the top scoring elements and add them to a list. I was just curious if there exists something better than that."},{"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"score":1,"creation_date":1279111394,"post_id":3245770,"comment_id":3353633,"body_markdown":"@ladi: Not sure what you mean by O(n) retrieval -- extracting the top item from a heap is O(log n).  Only if you need to find a specific (non-minimal) element is retrieval O(n).  If all you can do is compare 2 items and determine which is bigger, then nothing is asymptotically faster than a heap for the problem you&#39;re looking at.","body":"@ladi: Not sure what you mean by O(n) retrieval -- extracting the top item from a heap is O(log n).  Only if you need to find a specific (non-minimal) element is retrieval O(n).  If all you can do is compare 2 items and determine which is bigger, then nothing is asymptotically faster than a heap for the problem you&#39;re looking at."}],"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279108468,"creation_date":1279108468,"answer_id":3245770,"question_id":3245736,"body_markdown":"The JDK has a built-in pqueue class (java.util.PriorityQueue) which is based on a heap algorithm.\r\n\r\nSorry, I only just saw the bit about heaps not fitting your needs. Can you explain why? You can write a custom comparator (or make your items comparable) and the PriorityQueue will order your items appropriately.","title":"Efficient priority list","body":"<p>The JDK has a built-in pqueue class (java.util.PriorityQueue) which is based on a heap algorithm.</p>\n\n<p>Sorry, I only just saw the bit about heaps not fitting your needs. Can you explain why? You can write a custom comparator (or make your items comparable) and the PriorityQueue will order your items appropriately.</p>\n"},{"comments":[{"owner":{"display_name":"Aryabhatta"},"score":1,"creation_date":1279127899,"post_id":3246015,"comment_id":3356768,"body_markdown":"Instead of a list, if you use min-heap (see my answer), the worst case time is O(logK). The rest is similar. In fact using min-heaps like is quite a standard method for this problem! (When x is small compared to n).","body":"Instead of a list, if you use min-heap (see my answer), the worst case time is O(logK). The rest is similar. In fact using min-heaps like is quite a standard method for this problem! (When x is small compared to n)."}],"tags":[],"owner":{"account_id":133105,"reputation":14274,"user_id":334220,"accept_rate":95,"display_name":"Mau"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279120708,"creation_date":1279110336,"answer_id":3246015,"question_id":3245736,"body_markdown":"If you need only the *k* top items and you *never* need to look a the others, you can use a simple linked list or array storing only the current top *k* items, plus a number (the worst score of the elements in the list).\r\n\r\nIn the `Add()` operation you simply compare the item with the worst value in the list and, if better, you swap the current worst with the added item. This takes *O(k)* time in the *worst case* for insertion because you need to find the element that has currently the worst score. The the average case, however, is *O(1)*, since, as you add better elements to the list, the probability of having to do a swap tends to 0 (that is, you&#39;re not actually adding any items).\r\n\r\nSo if you generate elements at random, your performance is likely to be very good. Even if you generate ordered items (worst case), it might be fast enough for your value of *k*.","title":"Efficient priority list","body":"<p>If you need only the <em>k</em> top items and you <em>never</em> need to look a the others, you can use a simple linked list or array storing only the current top <em>k</em> items, plus a number (the worst score of the elements in the list).</p>\n\n<p>In the <code>Add()</code> operation you simply compare the item with the worst value in the list and, if better, you swap the current worst with the added item. This takes <em>O(k)</em> time in the <em>worst case</em> for insertion because you need to find the element that has currently the worst score. The the average case, however, is <em>O(1)</em>, since, as you add better elements to the list, the probability of having to do a swap tends to 0 (that is, you're not actually adding any items).</p>\n\n<p>So if you generate elements at random, your performance is likely to be very good. Even if you generate ordered items (worst case), it might be fast enough for your value of <em>k</em>.</p>\n"},{"comments":[{"owner":{"account_id":166856,"reputation":1518,"user_id":391290,"accept_rate":71,"display_name":"ladi"},"score":0,"creation_date":1279133208,"post_id":3247604,"comment_id":3357605,"body_markdown":"I didn&#39;t think of it this way. This looks very promising.","body":"I didn&#39;t think of it this way. This looks very promising."}],"tags":[],"owner":{"display_name":"Aryabhatta"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1279120451,"creation_date":1279120451,"answer_id":3247604,"question_id":3245736,"body_markdown":"Heaps seem very suitable, and it seems like you are going about it wrongly.\r\n\r\nSay you wanted the top x elements (how does this x compare to n, btw?)\r\n\r\nWhat you are doing is putting all into a max-heap and getting the top x.\r\n\r\nI suggest instead, you use a min-heap of exactly x elements.\r\n\r\nFirst x elements you insert into heap.\r\n\r\nNext incoming element, you compare against the min which can be done very quickly (O(1) time) in the heap. If smaller, you just ignore the incoming element.\r\n\r\nIf incoming element is larger than min, then you increase the min to the incoming element and sift it down in the heap. This should be logx time at worst.\r\n\r\nOnce done (in nlogx time), you can retrieve the elements from the heap in sorted order in O(xlogx) time.\r\n\r\nDepending on how your data is (and how small x is), using this min-heap solution can be really fast.\r\n\r\n----------------------------------------\r\n\r\n\r\nIf you really really want the inserts to be super-fast and don&#39;t care much about the retrieval then you can also do the following.\r\n\r\nInsert the elements into a vector (array with amortized O(1) insert time) in the order they come.\r\n\r\nThe use the Selection algorithm to find the xth largest element (in O(n) time, but the constants might be big). Say that number is S.\r\n\r\nNow walk the array comparing each element with S and select the ones as large as S.\r\n\r\nIf x is reasonably sized and comparable to n (like n/2 or something) this might work out fine, but if x is small compared to n, I would suggest go with the min-heap. \r\n\r\n","title":"Efficient priority list","body":"<p>Heaps seem very suitable, and it seems like you are going about it wrongly.</p>\n\n<p>Say you wanted the top x elements (how does this x compare to n, btw?)</p>\n\n<p>What you are doing is putting all into a max-heap and getting the top x.</p>\n\n<p>I suggest instead, you use a min-heap of exactly x elements.</p>\n\n<p>First x elements you insert into heap.</p>\n\n<p>Next incoming element, you compare against the min which can be done very quickly (O(1) time) in the heap. If smaller, you just ignore the incoming element.</p>\n\n<p>If incoming element is larger than min, then you increase the min to the incoming element and sift it down in the heap. This should be logx time at worst.</p>\n\n<p>Once done (in nlogx time), you can retrieve the elements from the heap in sorted order in O(xlogx) time.</p>\n\n<p>Depending on how your data is (and how small x is), using this min-heap solution can be really fast.</p>\n\n<hr>\n\n<p>If you really really want the inserts to be super-fast and don't care much about the retrieval then you can also do the following.</p>\n\n<p>Insert the elements into a vector (array with amortized O(1) insert time) in the order they come.</p>\n\n<p>The use the Selection algorithm to find the xth largest element (in O(n) time, but the constants might be big). Say that number is S.</p>\n\n<p>Now walk the array comparing each element with S and select the ones as large as S.</p>\n\n<p>If x is reasonably sized and comparable to n (like n/2 or something) this might work out fine, but if x is small compared to n, I would suggest go with the min-heap. </p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38701,"user_id":10262805,"display_name":"Yilmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669324744,"creation_date":1634850976,"answer_id":69668883,"question_id":3245736,"body_markdown":"&gt; A balanced tree would always guarantee a logarithmic worst case.\r\n&gt; Although linear time is usually regarded as feasible, there is still a\r\n&gt; tremendous difference between logarithmic and linear: \r\n&gt; \r\n&gt; for a billion elements, the difference is between 1 billion operations\r\n&gt; and a few dozens. If each operation takes 1 millisecond, that means\r\n&gt; going from 11 days to less than a second.\r\n\r\n- Every node has at most two children.\r\n\r\n\r\n- The heap tree is complete and left-adjusted. Complete means\r\nthat if the heap has height H, every leaf node is either at level H or H-1. All the levels are left-adjusted, which means that no right sub-tree has a height greater than its left sibling. So, if a leaf is at the same height as an internal node, the\r\nleaf can’t be on the left of that node.\r\n\r\n- Every node holds the highest priority in the subtree rooted at that node.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; Binary search trees are the most common kind of trees, but we can use\r\n&gt; d&#39;ary trees. we can use any value greater than 2, and use the same\r\n&gt; array representation for the heap.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n&gt; But the improvement we get with trees comes with a price. First, as\r\n&gt; with any data structure that uses pointers (lists, graphs, trees, and\r\n&gt; so on) we have a memory overhead in comparison to arrays. While with\r\n&gt; the latter we just need to reserve space for the data (plus maybe,\r\n&gt; depending on the implementation details, some constant space for\r\n&gt; pointers and the node structure itself), every tree node requires\r\n&gt; extra space for the pointers to its children and possibly to its\r\n&gt; parent.\r\n\r\n[Reference][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JueaS.png\r\n  [2]: https://i.stack.imgur.com/I8Hwh.png\r\n  [3]: https://freecontent.manning.com/marcello-la-rocca-advanced-algorithms-and-data-structures/","title":"Efficient priority list","body":"<blockquote>\n<p>A balanced tree would always guarantee a logarithmic worst case.\nAlthough linear time is usually regarded as feasible, there is still a\ntremendous difference between logarithmic and linear:</p>\n<p>for a billion elements, the difference is between 1 billion operations\nand a few dozens. If each operation takes 1 millisecond, that means\ngoing from 11 days to less than a second.</p>\n</blockquote>\n<ul>\n<li><p>Every node has at most two children.</p>\n</li>\n<li><p>The heap tree is complete and left-adjusted. Complete means\nthat if the heap has height H, every leaf node is either at level H or H-1. All the levels are left-adjusted, which means that no right sub-tree has a height greater than its left sibling. So, if a leaf is at the same height as an internal node, the\nleaf can’t be on the left of that node.</p>\n</li>\n<li><p>Every node holds the highest priority in the subtree rooted at that node.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/JueaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JueaS.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>Binary search trees are the most common kind of trees, but we can use\nd'ary trees. we can use any value greater than 2, and use the same\narray representation for the heap.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/I8Hwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8Hwh.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>But the improvement we get with trees comes with a price. First, as\nwith any data structure that uses pointers (lists, graphs, trees, and\nso on) we have a memory overhead in comparison to arrays. While with\nthe latter we just need to reserve space for the data (plus maybe,\ndepending on the implementation details, some constant space for\npointers and the node structure itself), every tree node requires\nextra space for the pointers to its children and possibly to its\nparent.</p>\n</blockquote>\n<p><a href=\"https://freecontent.manning.com/marcello-la-rocca-advanced-algorithms-and-data-structures/\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":166856,"reputation":1518,"user_id":391290,"accept_rate":71,"display_name":"ladi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7494,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3247604,"answer_count":5,"score":5,"last_activity_date":1669324744,"creation_date":1279108056,"question_id":3245736,"body_markdown":"I am looking for an efficient data structure to represent a priority list. Specifically I need to assign a priority to a set of items and return only the top scoring items. I have looked into priority queues which operate on heaps, but they don&#39;t seem to really suit my needs. They will reorganize the heap structure as soon as I will poll the top rating item from the queue.\r\n\r\nThe simplest solution would of course be a linked list, which in the worst case would take quite long for the insertion operation. \r\n\r\nDoes anyone have a better solution?","title":"Efficient priority list","body":"<p>I am looking for an efficient data structure to represent a priority list. Specifically I need to assign a priority to a set of items and return only the top scoring items. I have looked into priority queues which operate on heaps, but they don't seem to really suit my needs. They will reorganize the heap structure as soon as I will poll the top rating item from the queue.</p>\n\n<p>The simplest solution would of course be a linked list, which in the worst case would take quite long for the insertion operation. </p>\n\n<p>Does anyone have a better solution?</p>\n"},{"tags":["java","include"],"comments":[{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":4,"creation_date":1318411527,"post_id":7737766,"comment_id":9416066,"body_markdown":"C++ knowledge doesn&#39;t directly transfer to Java even though they are similar. There really are many pitfalls and many things that are done differently. There are a large number of tutorials aimed specifically at people who are used to C++ however, try googling `java for c++ programmers`.","body":"C++ knowledge doesn&#39;t directly transfer to Java even though they are similar. There really are many pitfalls and many things that are done differently. There are a large number of tutorials aimed specifically at people who are used to C++ however, try googling <code>java for c++ programmers</code>."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668730493,"post_id":7737766,"comment_id":131484057,"body_markdown":"All the answers are lacking examples.","body":"All the answers are lacking examples."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668730632,"post_id":7737766,"comment_id":131484087,"body_markdown":"[Related question](https://stackoverflow.com/questions/1417291/no-simple-way-to-include-in-java) (from 2009). And [from 2012](https://stackoverflow.com/questions/10025239/include-include-equivalent-in-java).","body":"<a href=\"https://stackoverflow.com/questions/1417291/no-simple-way-to-include-in-java\">Related question</a> (from 2009). And <a href=\"https://stackoverflow.com/questions/10025239/include-include-equivalent-in-java\">from 2012</a>."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668731862,"post_id":7737766,"comment_id":131484305,"body_markdown":"Related: *[How does Java import work?](https://stackoverflow.com/questions/12620369/how-does-java-import-work)*","body":"Related: <i><a href=\"https://stackoverflow.com/questions/12620369/how-does-java-import-work\">How does Java import work?</a></i>"}],"answers":[{"comments":[{"owner":{"account_id":143015,"reputation":547,"user_id":351069,"accept_rate":75,"display_name":"MrJackV"},"score":0,"creation_date":1318411432,"post_id":7737814,"comment_id":9416033,"body_markdown":"Ok, &lt;code&gt;funcs.java&lt;/code&gt; just contains FUNCTIONS that I use frequently, not variables. Stuff and Stuff2 are just dummy examples. What I meant is that I am doing already a class extend, so I was wondering if I could do it again.","body":"Ok, &lt;code&gt;funcs.java&lt;/code&gt; just contains FUNCTIONS that I use frequently, not variables. Stuff and Stuff2 are just dummy examples. What I meant is that I am doing already a class extend, so I was wondering if I could do it again."},{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":0,"creation_date":1318411845,"post_id":7737814,"comment_id":9416158,"body_markdown":"If code is common between *similar* Classes it makes sense to make a base Class and placing the methods there. That doesn&#39;t mean you should make a library of whatever useful generic methods you may have in a single Class and always extend that. You can extend a Class as many times as you like and you can extend an extended Class, but you can&#39;t extend more than a single Class (only interfaces, which you `implement` rather than `extend`).","body":"If code is common between <i>similar</i> Classes it makes sense to make a base Class and placing the methods there. That doesn&#39;t mean you should make a library of whatever useful generic methods you may have in a single Class and always extend that. You can extend a Class as many times as you like and you can extend an extended Class, but you can&#39;t extend more than a single Class (only interfaces, which you <code>implement</code> rather than <code>extend</code>)."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1318411955,"post_id":7737814,"comment_id":9416191,"body_markdown":"Java only supports single inheritance of implementation, but you can implement as many interfaces as you&#39;d like.  I don&#39;t know what &quot;could do it again&quot; means.  Sounds like you need to read a lot of basic Java.","body":"Java only supports single inheritance of implementation, but you can implement as many interfaces as you&#39;d like.  I don&#39;t know what &quot;could do it again&quot; means.  Sounds like you need to read a lot of basic Java."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1318411147,"creation_date":1318411147,"answer_id":7737814,"question_id":7737766,"body_markdown":"There&#39;s no `#include` in Java.\r\n\r\nI would not like a design that had a `funcs.java` that stored all the variables.  Objects are state and behavior encapsulated into a single component.  You aren&#39;t designing in an object-oriented way if you do that.\r\n\r\nGood names matter.  A class named `Stuff` that extends `Stuff2` had better just be a poor example.  \r\n\r\nThat&#39;s not good Java.  I wouldn&#39;t consider it to be good C++, either.\r\n","title":"How do you #include files in Java?","body":"<p>There's no <code>#include</code> in Java.</p>\n\n<p>I would not like a design that had a <code>funcs.java</code> that stored all the variables.  Objects are state and behavior encapsulated into a single component.  You aren't designing in an object-oriented way if you do that.</p>\n\n<p>Good names matter.  A class named <code>Stuff</code> that extends <code>Stuff2</code> had better just be a poor example.  </p>\n\n<p>That's not good Java.  I wouldn't consider it to be good C++, either.</p>\n"},{"comments":[{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":0,"creation_date":1318411400,"post_id":7737841,"comment_id":9416026,"body_markdown":"Nitpick: it&#39;s `import static package.Class.staticMethodOfClass`, if you leave out the static it won&#39;t build.","body":"Nitpick: it&#39;s <code>import static package.Class.staticMethodOfClass</code>, if you leave out the static it won&#39;t build."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":4,"creation_date":1318411698,"post_id":7737841,"comment_id":9416112,"body_markdown":"import is not at all the same thing as a #include in C++.  All the import does is let you type Baz instead of foo.bar.Baz.  It&#39;s a keystroke saving device, nothing more.","body":"import is not at all the same thing as a #include in C++.  All the import does is let you type Baz instead of foo.bar.Baz.  It&#39;s a keystroke saving device, nothing more."},{"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"score":0,"creation_date":1318411789,"post_id":7737841,"comment_id":9416137,"body_markdown":"@duffymo I don&#39;t imply it&#39;s the same as an include, I probably should have made it clear-er. My core point here was the static import, which appears to be what the OP looks for - somehow.","body":"@duffymo I don&#39;t imply it&#39;s the same as an include, I probably should have made it clear-er. My core point here was the static import, which appears to be what the OP looks for - somehow."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1318411844,"post_id":7737841,"comment_id":9416157,"body_markdown":"Yes, you should.  I read it to say that it&#39;s exactly equivalent.  Don&#39;t worry about what the OP is looking for; make sure the answers are correct.","body":"Yes, you should.  I read it to say that it&#39;s exactly equivalent.  Don&#39;t worry about what the OP is looking for; make sure the answers are correct."},{"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"score":0,"creation_date":1318411917,"post_id":7737841,"comment_id":9416183,"body_markdown":"@duffymo Have added a paragraph specifically about this.","body":"@duffymo Have added a paragraph specifically about this."},{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":0,"creation_date":1318412070,"post_id":7737841,"comment_id":9416213,"body_markdown":"@duffymo I certainly didn&#39;t read it as &quot;exactly equivalent&quot;. It sounds like you&#39;re assuming quite a bit from very little text. More like that was his only alternative because there *isn&#39;t* an exact equivalent.","body":"@duffymo I certainly didn&#39;t read it as &quot;exactly equivalent&quot;. It sounds like you&#39;re assuming quite a bit from very little text. More like that was his only alternative because there <i>isn&#39;t</i> an exact equivalent."},{"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"score":0,"creation_date":1318412094,"post_id":7737841,"comment_id":9416222,"body_markdown":"@Thor84no I believe duffymo downvoted because it was indirectly implying `import` was semantically equivalent to `#include`, which is wrong. Now that it&#39;s fixed he should remove the downvote.","body":"@Thor84no I believe duffymo downvoted because it was indirectly implying <code>import</code> was semantically equivalent to <code>#include</code>, which is wrong. Now that it&#39;s fixed he should remove the downvote."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1318412720,"post_id":7737841,"comment_id":9416377,"body_markdown":"Done.  Your answer changed quite a lot from the first reading.","body":"Done.  Your answer changed quite a lot from the first reading."},{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":0,"creation_date":1318412779,"post_id":7737841,"comment_id":9416398,"body_markdown":"@Romain Yeah his comment wasn&#39;t on here as I was typing that.","body":"@Romain Yeah his comment wasn&#39;t on here as I was typing that."}],"tags":[],"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"comment_count":9,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1669323622,"creation_date":1318411274,"answer_id":7737841,"question_id":7737766,"body_markdown":"You don&#39;t `#include` in Java; you `import package.Class`. Since Java 6 (or was it 5?), you can also `import static package.Class.staticMethodOfClass`, which would achieve some forms of what you&#39;re trying to do.\r\n\r\nAlso, as @duffymo noted, `import` only saves you from systematically prefixing the imported class names with the package name, or the imported static method names with the package and class name. The actual `#include` semantics doesn&#39;t exist in Java - at all.\r\n\r\nThat said, having a &quot;funcs.java&quot; file seems to me like you are starting to dip your toes into some anti-patterns... And you should stay away from these.\r\n","title":"How do you #include files in Java?","body":"<p>You don't <code>#include</code> in Java; you <code>import package.Class</code>. Since Java 6 (or was it 5?), you can also <code>import static package.Class.staticMethodOfClass</code>, which would achieve some forms of what you're trying to do.</p>\n<p>Also, as @duffymo noted, <code>import</code> only saves you from systematically prefixing the imported class names with the package name, or the imported static method names with the package and class name. The actual <code>#include</code> semantics doesn't exist in Java - at all.</p>\n<p>That said, having a &quot;funcs.java&quot; file seems to me like you are starting to dip your toes into some anti-patterns... And you should stay away from these.</p>\n"},{"tags":[],"owner":{"account_id":164435,"reputation":1140,"user_id":387174,"display_name":"skyuzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669323696,"creation_date":1318411546,"answer_id":7737901,"question_id":7737766,"body_markdown":"It sounds like you&#39;re putting all your methods in the same class. You should separate them:\r\n\r\n**Utility classes**\r\n\r\nThese should contain static methods that do things like get the contents of a file, show a dialog screen, or add two numbers together. They don&#39;t really belong in an object class, they don&#39;t require instances, and they&#39;re used widely throughout the program. See [java.lang.Math][1] for a good example of this.\r\n\r\n**Constant class or configuration files**\r\n\r\nThis can be a `Constants` class that contains `static final` members, like `PI = 3.1415`. You can access them using `Constants.PI`.\r\n\r\nOr, you can use configuration files and load them into `Configuration` and access the configuration variables with something like `config.get(&quot;database&quot;)`.\r\n\r\n**Other**\r\n\r\nIf your code doesn&#39;t fit into any of these, you will want to put it into some class such that your code fits [object-oriented programming concepts][2]. From your question, it sounds like you&#39;ll want to read up on this. I would first read *[Head First Java][3]*, then maybe some other books on [object-oriented programming in Java][4]. After that, I&#39;d look at some [design patterns][5].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\r\n  [2]: http://download.oracle.com/javase/tutorial/java/concepts/\r\n  [3]: http://headfirstlabs.com/books/hfjava/\r\n  [4]: http://www.google.com/search?gcx=c&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java%20books#sclient=psy-ab&amp;hl=en&amp;source=hp&amp;q=java%20object%20oriented%20programming%20book&amp;pbx=1&amp;oq=java%20object%20oriented%20programming%20book&amp;aq=f&amp;aqi=g1g-v2&amp;aql=&amp;gs_sm=e&amp;gs_upl=1221l6370l0l6583l37l18l0l14l14l3l300l2981l1.13.3.1l26l0&amp;bav=on.2,or.r_gc.r_pw.r_cp.,cf.osb&amp;fp=18aa9f7b4fee5b6d&amp;biw=1349&amp;bih=780\r\n  [5]: http://www.oodesign.com/\r\n\r\n\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>It sounds like you're putting all your methods in the same class. You should separate them:</p>\n<p><strong>Utility classes</strong></p>\n<p>These should contain static methods that do things like get the contents of a file, show a dialog screen, or add two numbers together. They don't really belong in an object class, they don't require instances, and they're used widely throughout the program. See <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow noreferrer\">java.lang.Math</a> for a good example of this.</p>\n<p><strong>Constant class or configuration files</strong></p>\n<p>This can be a <code>Constants</code> class that contains <code>static final</code> members, like <code>PI = 3.1415</code>. You can access them using <code>Constants.PI</code>.</p>\n<p>Or, you can use configuration files and load them into <code>Configuration</code> and access the configuration variables with something like <code>config.get(&quot;database&quot;)</code>.</p>\n<p><strong>Other</strong></p>\n<p>If your code doesn't fit into any of these, you will want to put it into some class such that your code fits <a href=\"http://download.oracle.com/javase/tutorial/java/concepts/\" rel=\"nofollow noreferrer\">object-oriented programming concepts</a>. From your question, it sounds like you'll want to read up on this. I would first read <em><a href=\"http://headfirstlabs.com/books/hfjava/\" rel=\"nofollow noreferrer\">Head First Java</a></em>, then maybe some other books on <a href=\"http://www.google.com/search?gcx=c&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java%20books#sclient=psy-ab&amp;hl=en&amp;source=hp&amp;q=java%20object%20oriented%20programming%20book&amp;pbx=1&amp;oq=java%20object%20oriented%20programming%20book&amp;aq=f&amp;aqi=g1g-v2&amp;aql=&amp;gs_sm=e&amp;gs_upl=1221l6370l0l6583l37l18l0l14l14l3l300l2981l1.13.3.1l26l0&amp;bav=on.2,or.r_gc.r_pw.r_cp.,cf.osb&amp;fp=18aa9f7b4fee5b6d&amp;biw=1349&amp;bih=780\" rel=\"nofollow noreferrer\">object-oriented programming in Java</a>. After that, I'd look at some <a href=\"http://www.oodesign.com/\" rel=\"nofollow noreferrer\">design patterns</a>.</p>\n"},{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1318411877,"post_id":7737931,"comment_id":9416167,"body_markdown":"C++ is object-oriented too; this is just bad design in every language.","body":"C++ is object-oriented too; this is just bad design in every language."},{"owner":{"account_id":937545,"reputation":7036,"user_id":966196,"accept_rate":76,"display_name":"Zohaib"},"score":0,"creation_date":1318412156,"post_id":7737931,"comment_id":9416237,"body_markdown":"@dyffymo agreed...just said so because C++ also supports programming without object oriented approach and java does&#39;nt.","body":"@dyffymo agreed...just said so because C++ also supports programming without object oriented approach and java does&#39;nt."}],"tags":[],"owner":{"account_id":937545,"reputation":7036,"user_id":966196,"accept_rate":76,"display_name":"Zohaib"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669324028,"creation_date":1318411664,"answer_id":7737931,"question_id":7737766,"body_markdown":"Java is an object-oriented programming language, and there is a reason for it.\r\n\r\nThere isn&#39;t any #include in Java, although you can import classes from other packages.\r\nMaking separate class, func.java, to store variables might not be a good idea, until or unless all of them are constants.\r\n\r\nBy extending some class, you can reuse the function. But does extending class pass the *is a* test? If not that, this might be a bad idea.\r\n\r\nIf moving from C++, going through some good book, for example, *[Head First Java][1]* might help a lot.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Head_First_(book_series)#Books\r\n\r\n\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>Java is an object-oriented programming language, and there is a reason for it.</p>\n<p>There isn't any #include in Java, although you can import classes from other packages.\nMaking separate class, func.java, to store variables might not be a good idea, until or unless all of them are constants.</p>\n<p>By extending some class, you can reuse the function. But does extending class pass the <em>is a</em> test? If not that, this might be a bad idea.</p>\n<p>If moving from C++, going through some good book, for example, <em><a href=\"https://en.wikipedia.org/wiki/Head_First_(book_series)#Books\" rel=\"nofollow noreferrer\">Head First Java</a></em> might help a lot.</p>\n"},{"tags":[],"owner":{"account_id":232234,"reputation":3842,"user_id":496934,"accept_rate":80,"display_name":"user496934"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669324133,"creation_date":1318411683,"answer_id":7737937,"question_id":7737766,"body_markdown":"There isn&#39;t any #include in Java. You can use the *import* statement to make classes and interfaces available in your file.\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>There isn't any #include in Java. You can use the <em>import</em> statement to make classes and interfaces available in your file.</p>\n"},{"tags":[],"owner":{"account_id":3861979,"reputation":99,"user_id":3199507,"display_name":"догонят"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669324435,"creation_date":1437661681,"answer_id":31590299,"question_id":7737766,"body_markdown":"Actually... There is a way to have the same semantics as in C&#39;s #include (the keyword was later borrowed by C++ for the sake of looking fancy...). It&#39;s just not defined with the same words, but it does exactly what you are looking for.\r\n\r\nFirst, let&#39;s see what you do with #include in C++ to understand the question:\r\n\r\n - include &lt;code&gt;#defines&lt;/code&gt;,\r\n - &quot;forward&quot; function definitions (their &quot;body&quot; being defined elsewhere, in a class implementation, if you remember Turbo Pascal, you get my point),\r\n - define structures,\r\n\r\nand that&#39;s pretty much it.\r\n\r\nFor the structure definitions, there isn&#39;t any point. That&#39;s old-school C: in C++ you don&#39;t define &lt;code&gt;struct {}&lt;/code&gt; anymore for ages; you define &lt;code&gt;class&lt;/code&gt; structures with properties and accessor methods. It&#39;s the same in Java: no &lt;code&gt;typedef struct {}&lt;/code&gt; here either.\r\n\r\nFor this, you have the &quot;interface&quot; declaration (see *[Interfaces (The Java&amp;trade; Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)][1]*):\r\n\r\nIt does exactly what you&#39;re looking for:\r\n\r\n        public interface MyDefines {\r\n            final CHAR_SPACE : &#39; &#39;;               // ugly #define\r\n            int detectSpace(FileInputStream fis); // function declaration\r\n            // and so on\r\n        }\r\n\r\nThen, to use:\r\n\r\n        public class MyClass extends MyAncestor implements MyDefines {\r\n            ...\r\n            // implementation of detectSpace()\r\n            int detectSpace(FileInputStream fis) {\r\n                int ret = 0;\r\n                char Car;\r\n                if((Car = fis.read()) != -1) &amp;&amp; (Car == CHAR_SPACE)) ret++;\r\n                ...\r\n            }\r\n\r\nRead the link given above; it&#39;s full of useful cases.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\r\n\r\n","title":"How do you #include files in Java?","body":"<p>Actually... There is a way to have the same semantics as in C's #include (the keyword was later borrowed by C++ for the sake of looking fancy...). It's just not defined with the same words, but it does exactly what you are looking for.</p>\n<p>First, let's see what you do with #include in C++ to understand the question:</p>\n<ul>\n<li>include <code>#defines</code>,</li>\n<li>&quot;forward&quot; function definitions (their &quot;body&quot; being defined elsewhere, in a class implementation, if you remember Turbo Pascal, you get my point),</li>\n<li>define structures,</li>\n</ul>\n<p>and that's pretty much it.</p>\n<p>For the structure definitions, there isn't any point. That's old-school C: in C++ you don't define <code>struct {}</code> anymore for ages; you define <code>class</code> structures with properties and accessor methods. It's the same in Java: no <code>typedef struct {}</code> here either.</p>\n<p>For this, you have the &quot;interface&quot; declaration (see <em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"nofollow noreferrer\">Interfaces (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>):</p>\n<p>It does exactly what you're looking for:</p>\n<pre><code>    public interface MyDefines {\n        final CHAR_SPACE : ' ';               // ugly #define\n        int detectSpace(FileInputStream fis); // function declaration\n        // and so on\n    }\n</code></pre>\n<p>Then, to use:</p>\n<pre><code>    public class MyClass extends MyAncestor implements MyDefines {\n        ...\n        // implementation of detectSpace()\n        int detectSpace(FileInputStream fis) {\n            int ret = 0;\n            char Car;\n            if((Car = fis.read()) != -1) &amp;&amp; (Car == CHAR_SPACE)) ret++;\n            ...\n        }\n</code></pre>\n<p>Read the link given above; it's full of useful cases.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1669324289,"post_id":53723457,"comment_id":131623511,"body_markdown":"The second link is broken (404).","body":"The second link is broken (404)."}],"tags":[],"owner":{"account_id":3255669,"reputation":259,"user_id":5130486,"display_name":"Adam P. Goucher"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669324277,"creation_date":1544528565,"answer_id":53723457,"question_id":7737766,"body_markdown":"You can run the C preprocessor on a Java file, ensuring you use the -P flag to disable line annotations. A quick Google search confirms that this has been attempted at least twice, and is even used in the popular **fastutil** library:\r\n\r\n* *[Using C style macros in Java][1]* \r\n* https://lyubomyr-shaydariv.github.io/posts/2016-09-06-fun-with-java-and-c-preprocessor/\r\n\r\nThis works for all directives (#include, #define, #ifdef, and so forth) and is both syntactically and semantically identical to the equivalent statements in C/C++.\r\n\r\n\r\n  [1]: https://programming.guide/java/macros-in-java-source-files.html","title":"How do you #include files in Java?","body":"<p>You can run the C preprocessor on a Java file, ensuring you use the -P flag to disable line annotations. A quick Google search confirms that this has been attempted at least twice, and is even used in the popular <strong>fastutil</strong> library:</p>\n<ul>\n<li><em><a href=\"https://programming.guide/java/macros-in-java-source-files.html\" rel=\"nofollow noreferrer\">Using C style macros in Java</a></em></li>\n<li><a href=\"https://lyubomyr-shaydariv.github.io/posts/2016-09-06-fun-with-java-and-c-preprocessor/\" rel=\"nofollow noreferrer\">https://lyubomyr-shaydariv.github.io/posts/2016-09-06-fun-with-java-and-c-preprocessor/</a></li>\n</ul>\n<p>This works for all directives (#include, #define, #ifdef, and so forth) and is both syntactically and semantically identical to the equivalent statements in C/C++.</p>\n"}],"owner":{"account_id":143015,"reputation":547,"user_id":351069,"accept_rate":75,"display_name":"MrJackV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107640,"favorite_count":0,"down_vote_count":8,"up_vote_count":22,"accepted_answer_id":7737841,"answer_count":7,"score":14,"last_activity_date":1669324435,"creation_date":1318410940,"question_id":7737766,"body_markdown":"Coming from a C++ environment I got used to splitting up many of the functions that I needed into an &lt;code&gt;funcs.h&lt;/code&gt; file and then do &lt;code&gt;#include &quot;funcs.h&quot;&lt;/code&gt; and then adding the functions prototypes into the main .cpp file.\r\n\r\nNow I am starting to work with Java (mainly with [Minecraft][1] ModloeaderMp), and I already made a &lt;code&gt;funcs.java&lt;/code&gt; file where there are some premade functions (e.g., some functions for file copying, giving stacks of items, etc.). Since I am already using the statement &lt;code&gt;Public class mod_mine extends BaseModMp&lt;/code&gt;, is there a way I can import the functions or do I can I just do another &lt;code&gt;Public class mod_mine extends funcs&lt;/code&gt;?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Minecraft\r\n\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>Coming from a C++ environment I got used to splitting up many of the functions that I needed into an <code>funcs.h</code> file and then do <code>#include &quot;funcs.h&quot;</code> and then adding the functions prototypes into the main .cpp file.</p>\n<p>Now I am starting to work with Java (mainly with <a href=\"https://en.wikipedia.org/wiki/Minecraft\" rel=\"nofollow noreferrer\">Minecraft</a> ModloeaderMp), and I already made a <code>funcs.java</code> file where there are some premade functions (e.g., some functions for file copying, giving stacks of items, etc.). Since I am already using the statement <code>Public class mod_mine extends BaseModMp</code>, is there a way I can import the functions or do I can I just do another <code>Public class mod_mine extends funcs</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1732698,"reputation":2791,"user_id":1585970,"accept_rate":70,"display_name":"Curious"},"score":2,"creation_date":1348745600,"post_id":12620369,"comment_id":17014782,"body_markdown":"possible duplicate of [How is import done in Java?](http://stackoverflow.com/questions/1053658/how-is-import-done-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1053658/how-is-import-done-in-java\">How is import done in Java?</a>"},{"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"score":3,"creation_date":1348745733,"post_id":12620369,"comment_id":17014858,"body_markdown":"I read this thread but the thread don&#39;t answer my question","body":"I read this thread but the thread don&#39;t answer my question"}],"answers":[{"tags":[],"owner":{"account_id":1732698,"reputation":2791,"user_id":1585970,"accept_rate":70,"display_name":"Curious"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348746020,"creation_date":1348746020,"answer_id":12620549,"question_id":12620369,"body_markdown":"`javac` (or `java` during runtime) looks for the `classes` being imported in the `classpath`. If they are not there in the `classpath` then `classnotfound` exceptions are thrown.\r\n\r\n`classpath` is just like the `path` variable in a shell, which is used by the shell to find a command or executable.\r\n\r\nEntire directories or individual jar files can be put in the `classpath`. Also, yes a `classpath` can perhaps include a path which is not local but is somewhere on the internet. Please read more about classpath to resolve your doubts.","title":"How does Java import work?","body":"<p><code>javac</code> (or <code>java</code> during runtime) looks for the <code>classes</code> being imported in the <code>classpath</code>. If they are not there in the <code>classpath</code> then <code>classnotfound</code> exceptions are thrown.</p>\n\n<p><code>classpath</code> is just like the <code>path</code> variable in a shell, which is used by the shell to find a command or executable.</p>\n\n<p>Entire directories or individual jar files can be put in the <code>classpath</code>. Also, yes a <code>classpath</code> can perhaps include a path which is not local but is somewhere on the internet. Please read more about classpath to resolve your doubts.</p>\n"},{"comments":[{"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"score":0,"creation_date":1348747237,"post_id":12620559,"comment_id":17015574,"body_markdown":"I host my `jar` file in my server, so I need to edit the classpath of my server to all users access the applet without problem ?","body":"I host my <code>jar</code> file in my server, so I need to edit the classpath of my server to all users access the applet without problem ?"},{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":0,"creation_date":1348747396,"post_id":12620559,"comment_id":17015644,"body_markdown":"No, the applet will actually run on the client side. The client&#39;s classpath is the important one.","body":"No, the applet will actually run on the client side. The client&#39;s classpath is the important one."},{"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"score":0,"creation_date":1348747550,"post_id":12620559,"comment_id":17015726,"body_markdown":"So I think the problem is not in my classpath, because in localhost the applet runs normally. But when I put the jar file in my server, the applet runs until found a method that are in a imported class like the import google. Don&#39;t generate error.","body":"So I think the problem is not in my classpath, because in localhost the applet runs normally. But when I put the jar file in my server, the applet runs until found a method that are in a imported class like the import google. Don&#39;t generate error."},{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":0,"creation_date":1348747810,"post_id":12620559,"comment_id":17015883,"body_markdown":"Try to specify the location of the missing .jar file in the archive tag of your applet (the html code you updated).","body":"Try to specify the location of the missing .jar file in the archive tag of your applet (the html code you updated)."}],"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348746044,"creation_date":1348746044,"answer_id":12620559,"question_id":12620369,"body_markdown":"The classes which you are importing have to be on the classpath. So either the users of your Applet have to have the libraries in the right place or you simply provide those libraries by including them in your jar file. For example like this: https://stackoverflow.com/questions/81260/java-easiest-way-to-merge-a-release-into-one-jar-file","title":"How does Java import work?","body":"<p>The classes which you are importing have to be on the classpath. So either the users of your Applet have to have the libraries in the right place or you simply provide those libraries by including them in your jar file. For example like this: <a href=\"https://stackoverflow.com/questions/81260/java-easiest-way-to-merge-a-release-into-one-jar-file\">Easiest way to merge a release into one JAR file</a></p>\n"},{"comments":[{"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"score":0,"creation_date":1348746601,"post_id":12620604,"comment_id":17015257,"body_markdown":"What happens, is that my applet stop in a line where I call a method that exist in a `import static com.googlecode.javacv.jna.highgui.cvCreateCameraCapture;`. But `localhost` works fine, I got this problem just when I hot the `jar` file in my server. So, if the `applet` stops in line where call a method that exists in this imported package, maybe a internet access rule can resolve ?","body":"What happens, is that my applet stop in a line where I call a method that exist in a <code>import static com.googlecode.javacv.jna.highgui.cvCreateCameraCapture;</code>. But <code>localhost</code> works fine, I got this problem just when I hot the <code>jar</code> file in my server. So, if the <code>applet</code> stops in line where call a method that exists in this imported package, maybe a internet access rule can resolve ?"},{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":1,"creation_date":1348746809,"post_id":12620604,"comment_id":17015371,"body_markdown":"Post your object tag and directory structure.  Usually applets have access to server they come from","body":"Post your object tag and directory structure.  Usually applets have access to server they come from"}],"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506162477,"creation_date":1348746199,"answer_id":12620604,"question_id":12620369,"body_markdown":"Import in Java does not work at all, as it is evaluated at compile time only.\r\n(Treat it as shortcuts so you do not have to write fully qualified class names). At runtime there is no import at all, just FQCNs.\r\n\r\nAt runtime it is necessary that all classes you have referenced can be found by classloaders. (classloader infrastructure is sometimes dark magic and highly dependent on environment.) In case of an applet you will have to rig up your HTML tag properly and also provide necessary JAR archives on your server.\r\n\r\nPS: Matching at runtime is done via qualified class names - class found under this name is not necessarily the same or compatible with class you have compiled against.\r\n\r\n","title":"How does Java import work?","body":"<p>Import in Java does not work at all, as it is evaluated at compile time only.\n(Treat it as shortcuts so you do not have to write fully qualified class names). At runtime there is no import at all, just FQCNs.</p>\n\n<p>At runtime it is necessary that all classes you have referenced can be found by classloaders. (classloader infrastructure is sometimes dark magic and highly dependent on environment.) In case of an applet you will have to rig up your HTML tag properly and also provide necessary JAR archives on your server.</p>\n\n<p>PS: Matching at runtime is done via qualified class names - class found under this name is not necessarily the same or compatible with class you have compiled against.</p>\n"},{"comments":[{"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"score":1,"creation_date":1348747107,"post_id":12620773,"comment_id":17015513,"body_markdown":"And when a external package is called in my import, like google (look at my imports). What will be done ? I need a free internet access ?","body":"And when a external package is called in my import, like google (look at my imports). What will be done ? I need a free internet access ?"},{"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"score":0,"creation_date":1348747554,"post_id":12620773,"comment_id":17015729,"body_markdown":"It seems your archives must be put in the same location pointed to by `codebase`, and referenced by simple names `myjar.jar` and `foobar.jar`. See [this doc](http://docs.oracle.com/javase/6/docs/technotes/guides/deployment/deployment-guide/applet.html)","body":"It seems your archives must be put in the same location pointed to by <code>codebase</code>, and referenced by simple names <code>myjar.jar</code> and <code>foobar.jar</code>. See <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/deployment/deployment-guide/applet.html\" rel=\"nofollow noreferrer\">this doc</a>"},{"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"score":0,"creation_date":1348748758,"post_id":12620773,"comment_id":17016402,"body_markdown":"I tryied put the `&lt;applet&gt;` tag like you said, but doesn&#39;t work. You can saw my code at http://stackoverflow.com/questions/12604767/load-dll-library-in-my-applet","body":"I tryied put the <code>&lt;applet&gt;</code> tag like you said, but doesn&#39;t work. You can saw my code at <a href=\"http://stackoverflow.com/questions/12604767/load-dll-library-in-my-applet\" title=\"load dll library in my applet\">stackoverflow.com/questions/12604767/&hellip;</a>"},{"owner":{"account_id":4056826,"reputation":2400,"user_id":3334520,"accept_rate":58,"display_name":"Niko Bellic"},"score":3,"creation_date":1406415561,"post_id":12620773,"comment_id":38825639,"body_markdown":"Where is $CLASSPATH defined? Can I change it? Does each Java application have its own $CLASSPATH?","body":"Where is $CLASSPATH defined? Can I change it? Does each Java application have its own $CLASSPATH?"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1556183960,"post_id":12620773,"comment_id":98353839,"body_markdown":"I think this is not really correct: ```If it can&#39;t find the class, a ClassNotFoundException is thrown.``` If the class loader doesn&#39;t find a class, it will throw `NoClassDefFoundError`","body":"I think this is not really correct: <code>If it can&#39;t find the class, a ClassNotFoundException is thrown.</code> If the class loader doesn&#39;t find a class, it will throw <code>NoClassDefFoundError</code>"}],"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"comment_count":5,"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1556273728,"creation_date":1348746785,"answer_id":12620773,"question_id":12620369,"body_markdown":"In dynamic languages, when the interpreter `import`s, it simply reads a file and evaluates it.\r\n\r\nIn C, external libraries are located by the linker at compile time to build the final object if the library is *statically compiled*, while for *dynamic libraries* a smaller version of the linker is called at runtime which remaps addresses and so makes code in the library available to the executable.\r\n\r\nIn Java, `import` is simply used by the compiler to let you name your classes by their unqualified name, let&#39;s say `String` instead of `java.lang.String`. You don&#39;t really need to import `java.lang.*` because the compiler does it by default. However this mechanism is just to save you some typing. Types in Java are fully qualified class names, so a `String` is really a `java.lang.String` object when the code is run. Packages are intended to prevent name clashes and allow two classes to have the same *simple name*, instead of relying on the *old* C convention of prefixing types like this. `java_lang_String`. This is called *namespacing*.\r\n\r\nBTW, in Java there&#39;s the *static import* construct, which allows to further save typing if you use lots of constants from a certain class. In a compilation unit (a .java file) which declares\r\n\r\n    import static java.lang.Math.*;\r\n\r\nyou can use the constant `PI` in your code, instead of referencing it through `Math.PI`, and the method `cos()` instead of `Math.cos()`. So for example you can write\r\n\r\n    double r = cos(PI * theta);\r\n\r\nOnce you understand that classes are always referenced by their fully qualified name in the final bytecode, you must understand how the class code is actually loaded. This happens the first time an object of that class is created, or the first time a static member of the class is accessed. At this time, the `ClassLoader` tries to locate the class and instantiate it. If it can&#39;t find the class a `NoClassDefFoundError` is thrown (or a a `ClassNotFoundException` if the class is searched programmatically). To locate the class, the `ClassLoader` usually checks the paths listed in the `$CLASSPATH` environment variable.\r\n\r\nTo solve your problem, [it seems][1] you need an `applet` element like this\r\n\r\n    &lt;applet\r\n      codebase = &quot;http://san.redenetimoveis.com&quot;\r\n      archive=&quot;test.jar, core.jar&quot;\r\n      code=&quot;com.colorfulwolf.webcamapplet.WebcamApplet&quot;      \r\n      width=&quot;550&quot; height=&quot;550&quot; &gt;\r\n\r\nBTW, you don&#39;t need to import the archives in the standard JRE.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/deployment/deployment-guide/applet.html","title":"How does Java import work?","body":"<p>In dynamic languages, when the interpreter <code>import</code>s, it simply reads a file and evaluates it.</p>\n\n<p>In C, external libraries are located by the linker at compile time to build the final object if the library is <em>statically compiled</em>, while for <em>dynamic libraries</em> a smaller version of the linker is called at runtime which remaps addresses and so makes code in the library available to the executable.</p>\n\n<p>In Java, <code>import</code> is simply used by the compiler to let you name your classes by their unqualified name, let's say <code>String</code> instead of <code>java.lang.String</code>. You don't really need to import <code>java.lang.*</code> because the compiler does it by default. However this mechanism is just to save you some typing. Types in Java are fully qualified class names, so a <code>String</code> is really a <code>java.lang.String</code> object when the code is run. Packages are intended to prevent name clashes and allow two classes to have the same <em>simple name</em>, instead of relying on the <em>old</em> C convention of prefixing types like this. <code>java_lang_String</code>. This is called <em>namespacing</em>.</p>\n\n<p>BTW, in Java there's the <em>static import</em> construct, which allows to further save typing if you use lots of constants from a certain class. In a compilation unit (a .java file) which declares</p>\n\n<pre><code>import static java.lang.Math.*;\n</code></pre>\n\n<p>you can use the constant <code>PI</code> in your code, instead of referencing it through <code>Math.PI</code>, and the method <code>cos()</code> instead of <code>Math.cos()</code>. So for example you can write</p>\n\n<pre><code>double r = cos(PI * theta);\n</code></pre>\n\n<p>Once you understand that classes are always referenced by their fully qualified name in the final bytecode, you must understand how the class code is actually loaded. This happens the first time an object of that class is created, or the first time a static member of the class is accessed. At this time, the <code>ClassLoader</code> tries to locate the class and instantiate it. If it can't find the class a <code>NoClassDefFoundError</code> is thrown (or a a <code>ClassNotFoundException</code> if the class is searched programmatically). To locate the class, the <code>ClassLoader</code> usually checks the paths listed in the <code>$CLASSPATH</code> environment variable.</p>\n\n<p>To solve your problem, <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/deployment/deployment-guide/applet.html\" rel=\"noreferrer\">it seems</a> you need an <code>applet</code> element like this</p>\n\n<pre><code>&lt;applet\n  codebase = \"http://san.redenetimoveis.com\"\n  archive=\"test.jar, core.jar\"\n  code=\"com.colorfulwolf.webcamapplet.WebcamApplet\"      \n  width=\"550\" height=\"550\" &gt;\n</code></pre>\n\n<p>BTW, you don't need to import the archives in the standard JRE.</p>\n"},{"comments":[{"owner":{"account_id":5952031,"reputation":1986,"user_id":4679727,"accept_rate":88,"display_name":"Gab是好人"},"score":4,"creation_date":1479721176,"post_id":12621026,"comment_id":68660962,"body_markdown":"Good for using the term &quot;[syntactical sugar](https://en.wikipedia.org/wiki/Syntactic_sugar)&quot;","body":"Good for using the term &quot;<a href=\"https://en.wikipedia.org/wiki/Syntactic_sugar\" rel=\"nofollow noreferrer\">syntactical sugar</a>&quot;"}],"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":1,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1669323275,"creation_date":1348747690,"answer_id":12621026,"question_id":12620369,"body_markdown":"Java&#39;s *import* statement is pure syntactic sugar. *import* is only evaluated at compile time to indicate to the compiler where to find the *names* in the code.\r\n\r\nYou may live without any *import* statements when you always specify the full qualified name of classes. Like this line doesn&#39;t need any *import* statement at all:\r\n\r\n    javax.swing.JButton but = new javax.swing.JButton();\r\n\r\nThe *import* statement will make your code more readable like this:\r\n\r\n    import javax.swing.*;\r\n\r\n    JButton but = new JButton();\r\n","title":"How does Java import work?","body":"<p>Java's <em>import</em> statement is pure syntactic sugar. <em>import</em> is only evaluated at compile time to indicate to the compiler where to find the <em>names</em> in the code.</p>\n<p>You may live without any <em>import</em> statements when you always specify the full qualified name of classes. Like this line doesn't need any <em>import</em> statement at all:</p>\n<pre><code>javax.swing.JButton but = new javax.swing.JButton();\n</code></pre>\n<p>The <em>import</em> statement will make your code more readable like this:</p>\n<pre><code>import javax.swing.*;\n\nJButton but = new JButton();\n</code></pre>\n"}],"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147569,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":12620773,"answer_count":5,"score":65,"last_activity_date":1669323275,"creation_date":1348745403,"question_id":12620369,"body_markdown":"I would like to know how the `import` statement works.\r\n\r\nI&#39;m asking this because I have the following `imports` in my project:\r\n\r\n    import static com.googlecode.javacv.jna.highgui.cvCreateCameraCapture;\r\n    import static com.googlecode.javacv.jna.highgui.cvGrabFrame;\r\n    import static com.googlecode.javacv.jna.highgui.cvReleaseCapture;\r\n    import com.googlecode.javacv.CanvasFrame;\r\n    import com.googlecode.javacv.FrameGrabber;\r\n    import com.colorfulwolf.webcamapplet.gui.ImagePanel;\r\n    import com.googlecode.javacv.OpenCVFrameGrabber;\r\n    import com.googlecode.javacv.jna.cxcore.IplImage;\r\n\r\nI don&#39;t have these packages in my project, so, how will this be imported?\r\n\r\nIf I create a JAR file with all my classes, my server where will host this JAR file, has to be free Internet access to get these `package`?\r\n\r\nI got some problem in my `Applet` that has these imports, and I&#39;m asking this question, to understand if can be an Internet rule.\r\n\r\n    &lt;applet code=&quot;com.colorfulwolf.webcamapplet.WebcamApplet&quot;\r\n    archive=&quot;http://san.redenetimoveis.com/teste.jar, http://san.redenetimoveis.com/core.jar, http://san.redenetimoveis.com/javacv.jar, http://san.redenetimoveis.com/javase.jar, http://san.redenetimoveis.com/jna.jar, http://san.redenetimoveis.com/customizer.jar, http://san.redenetimoveis.com/jmf.jar, http://san.redenetimoveis.com/mediaplayer.jar, http://san.redenetimoveis.com/multiplayer.jar, http://san.redenetimoveis.com/sound.jar&quot;\r\n        height=&quot;550&quot; width=&quot;550&quot;&gt;\r\n    &lt;/applet&gt;\r\n\r\n","title":"How does Java import work?","body":"<p>I would like to know how the <code>import</code> statement works.</p>\n\n<p>I'm asking this because I have the following <code>imports</code> in my project:</p>\n\n<pre><code>import static com.googlecode.javacv.jna.highgui.cvCreateCameraCapture;\nimport static com.googlecode.javacv.jna.highgui.cvGrabFrame;\nimport static com.googlecode.javacv.jna.highgui.cvReleaseCapture;\nimport com.googlecode.javacv.CanvasFrame;\nimport com.googlecode.javacv.FrameGrabber;\nimport com.colorfulwolf.webcamapplet.gui.ImagePanel;\nimport com.googlecode.javacv.OpenCVFrameGrabber;\nimport com.googlecode.javacv.jna.cxcore.IplImage;\n</code></pre>\n\n<p>I don't have these packages in my project, so, how will this be imported?</p>\n\n<p>If I create a JAR file with all my classes, my server where will host this JAR file, has to be free Internet access to get these <code>package</code>?</p>\n\n<p>I got some problem in my <code>Applet</code> that has these imports, and I'm asking this question, to understand if can be an Internet rule.</p>\n\n<pre><code>&lt;applet code=\"com.colorfulwolf.webcamapplet.WebcamApplet\"\narchive=\"http://san.redenetimoveis.com/teste.jar, http://san.redenetimoveis.com/core.jar, http://san.redenetimoveis.com/javacv.jar, http://san.redenetimoveis.com/javase.jar, http://san.redenetimoveis.com/jna.jar, http://san.redenetimoveis.com/customizer.jar, http://san.redenetimoveis.com/jmf.jar, http://san.redenetimoveis.com/mediaplayer.jar, http://san.redenetimoveis.com/multiplayer.jar, http://san.redenetimoveis.com/sound.jar\"\n    height=\"550\" width=\"550\"&gt;\n&lt;/applet&gt;\n</code></pre>\n"},{"tags":["java","php"],"answers":[{"comments":[{"owner":{"account_id":3955047,"reputation":1506,"user_id":3263885,"display_name":"Tularis"},"score":0,"creation_date":1391392085,"post_id":21518606,"comment_id":32489469,"body_markdown":"http://stackoverflow.com/questions/12517978/java-constant-variable-examples\nAlso has a good answer to this.","body":"<a href=\"http://stackoverflow.com/questions/12517978/java-constant-variable-examples\" title=\"java constant variable examples\">stackoverflow.com/questions/12517978/&hellip;</a> Also has a good answer to this."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1391392158,"post_id":21518606,"comment_id":32489478,"body_markdown":"Even better if you make it static too.","body":"Even better if you make it static too."},{"owner":{"account_id":3955047,"reputation":1506,"user_id":3263885,"display_name":"Tularis"},"score":1,"creation_date":1391392275,"post_id":21518606,"comment_id":32489501,"body_markdown":"That&#39;s true; but it really depends on the context. Could also make it public ;)","body":"That&#39;s true; but it really depends on the context. Could also make it public ;)"}],"tags":[],"owner":{"account_id":3955047,"reputation":1506,"user_id":3263885,"display_name":"Tularis"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669322912,"creation_date":1391391949,"answer_id":21518606,"question_id":21518594,"body_markdown":"Java as such does not exactly &quot;have&quot; constants (which is what you define using the define() function in PHP). Rather, you can make the variable final. This way, it behaves like a constant value (i.e., can not be changed).\r\n\r\nSo something like:\r\n\r\n    final int NUMBER_OF_HOURS_IN_A_DAY = 24;\r\n\r\nwill create a &quot;constant&quot; integer with a value of 24.\r\n\r\n\r\n","title":"What is the Java equivalent of &#39;define&#39; in PHP?","body":"<p>Java as such does not exactly &quot;have&quot; constants (which is what you define using the define() function in PHP). Rather, you can make the variable final. This way, it behaves like a constant value (i.e., can not be changed).</p>\n<p>So something like:</p>\n<pre><code>final int NUMBER_OF_HOURS_IN_A_DAY = 24;\n</code></pre>\n<p>will create a &quot;constant&quot; integer with a value of 24.</p>\n"},{"comments":[{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1391392043,"post_id":21518608,"comment_id":32489463,"body_markdown":"That&#39;s not a valid example.","body":"That&#39;s not a valid example."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1391392186,"post_id":21518608,"comment_id":32489483,"body_markdown":"Even better if you make it `static` too.","body":"Even better if you make it <code>static</code> too."},{"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"score":0,"creation_date":1391392293,"post_id":21518608,"comment_id":32489508,"body_markdown":"I agree. Edited my answer.","body":"I agree. Edited my answer."},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391394861,"post_id":21518608,"comment_id":32489925,"body_markdown":"How could I make multiple strings = 9000?","body":"How could I make multiple strings = 9000?"},{"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"score":0,"creation_date":1391411587,"post_id":21518608,"comment_id":32494307,"body_markdown":"What do you mean by multiple strings = 9000 ?\nYou can make many constants as you want :\nstatic final String MAX_VALUE = &quot;9000&quot;;\nstatic final String MAX_VALUE2 = &quot;9000&quot;; static final String MAX_VALUE3 = &quot;9000&quot;;","body":"What do you mean by multiple strings = 9000 ? You can make many constants as you want : static final String MAX_VALUE = &quot;9000&quot;; static final String MAX_VALUE2 = &quot;9000&quot;; static final String MAX_VALUE3 = &quot;9000&quot;;"}],"tags":[],"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669323007,"creation_date":1391391958,"answer_id":21518608,"question_id":21518594,"body_markdown":"Use:\r\n\r\n    final String key = Value;\r\n\r\nFor example,\r\n\r\n    final String MAX_VALUE = &quot;9000&quot;;\r\n\r\nAnd it&#39;s better to add *static* too:\r\n\r\n    static final String MAX_VALUE = &quot;9000&quot;;\r\n\r\n","title":"What is the Java equivalent of &#39;define&#39; in PHP?","body":"<p>Use:</p>\n<pre><code>final String key = Value;\n</code></pre>\n<p>For example,</p>\n<pre><code>final String MAX_VALUE = &quot;9000&quot;;\n</code></pre>\n<p>And it's better to add <em>static</em> too:</p>\n<pre><code>static final String MAX_VALUE = &quot;9000&quot;;\n</code></pre>\n"}],"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1391395675,"accepted_answer_id":21518608,"answer_count":2,"score":-1,"last_activity_date":1669323007,"creation_date":1391391803,"question_id":21518594,"body_markdown":"I&#39;m trying to define something in my code, but there isn&#39;t any [`define`][1] in Java.\r\n\r\n  [1]: http://www.php.net/define\r\n\r\n\r\n\r\n\r\n","title":"What is the Java equivalent of &#39;define&#39; in PHP?","body":"<p>I'm trying to define something in my code, but there isn't any <a href=\"http://www.php.net/define\" rel=\"nofollow noreferrer\"><code>define</code></a> in Java.</p>\n"},{"tags":["java","c++","require"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1391556640,"post_id":21565750,"comment_id":32573108,"body_markdown":"Do you mean importing another file with `import`?","body":"Do you mean importing another file with <code>import</code>?"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":4,"creation_date":1391556704,"post_id":21565750,"comment_id":32573135,"body_markdown":"Have you cracked a Java book? Ever? It&#39;s on page 1 usually...","body":"Have you cracked a Java book? Ever? It&#39;s on page 1 usually..."},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391556711,"post_id":21565750,"comment_id":32573143,"body_markdown":"Yes, would this work in java?","body":"Yes, would this work in java?"},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391556731,"post_id":21565750,"comment_id":32573150,"body_markdown":"Yes, I read the oracle docs xD","body":"Yes, I read the oracle docs xD"},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391556770,"post_id":21565750,"comment_id":32573166,"body_markdown":"Would Import work with a file, or just a project?","body":"Would Import work with a file, or just a project?"}],"answers":[{"comments":[{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391556820,"post_id":21565767,"comment_id":32573188,"body_markdown":"Could I include a file, rather than a project?","body":"Could I include a file, rather than a project?"},{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1391556892,"post_id":21565767,"comment_id":32573222,"body_markdown":"You can **only** `import` classes (which are more or less equal to files). Importing projects is not called importing. You have to add them to the classpath.","body":"You can <b>only</b> <code>import</code> classes (which are more or less equal to files). Importing projects is not called importing. You have to add them to the classpath."},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":1,"creation_date":1391556954,"post_id":21565767,"comment_id":32573260,"body_markdown":"I&#39;m not looking for import, as I already said xD","body":"I&#39;m not looking for import, as I already said xD"},{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1391557184,"post_id":21565767,"comment_id":32573358,"body_markdown":"I&#39;m afraid you *are* looking for `import`, but you simply didn&#39;t get it yet :)","body":"I&#39;m afraid you <i>are</i> looking for <code>import</code>, but you simply didn&#39;t get it yet :)"}],"tags":[],"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669322698,"creation_date":1391556701,"answer_id":21565767,"question_id":21565750,"body_markdown":"You are looking for the `import` keyword. For example:\r\n\r\n    import java.util.ArrayList;\r\n","title":"How do I require a file in Java?","body":"<p>You are looking for the <code>import</code> keyword. For example:</p>\n<pre><code>import java.util.ArrayList;\n</code></pre>\n"}],"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1391556914,"answer_count":1,"score":-7,"last_activity_date":1669322698,"creation_date":1391556615,"question_id":21565750,"body_markdown":"How do I require a file in Java? Much like require(); in PHP, and #include in C++.\r\nWould I use #include as in C++ or is there another function?\r\n\r\nI&#39;m not looking for *import*.\r\n\r\n\r\n\r\n\r\n","title":"How do I require a file in Java?","body":"<p>How do I require a file in Java? Much like require(); in PHP, and #include in C++.\nWould I use #include as in C++ or is there another function?</p>\n<p>I'm not looking for <em>import</em>.</p>\n"},{"tags":["java","libraries"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1668731332,"post_id":5112607,"comment_id":131484211,"body_markdown":"Programmer&#39;s Notepad is too obscure even for Wikipedia. Is it Simon Steele&#39;s creation?","body":"Programmer&#39;s Notepad is too obscure even for Wikipedia. Is it Simon Steele&#39;s creation?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1669321008,"post_id":5112607,"comment_id":131622934,"body_markdown":"OK, the OP has left the building: *&quot;Last seen more than 8 years ago&quot;*","body":"OK, the OP has left the building: <i>&quot;Last seen more than 8 years ago&quot;</i>"}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1599792052,"post_id":5112624,"comment_id":112890114,"body_markdown":"What I am really trying to say is that if you rely on the `CLASSPATH` environment variable to find JARs, there is a risk that the `CLASSPATH` settings for one Java application with conflict with the settings needed for another one.  This can be mitigated, but it is liable to trip you up.  A better way (less error prone) is to either write a wrapper script (or custom launcher) to launch the app, or turn it into an &quot;executable&quot; JAR which deals with its own classpath, and run it using `java -jar ...`","body":"What I am really trying to say is that if you rely on the <code>CLASSPATH</code> environment variable to find JARs, there is a risk that the <code>CLASSPATH</code> settings for one Java application with conflict with the settings needed for another one.  This can be mitigated, but it is liable to trip you up.  A better way (less error prone) is to either write a wrapper script (or custom launcher) to launch the app, or turn it into an &quot;executable&quot; JAR which deals with its own classpath, and run it using <code>java -jar ...</code>"},{"owner":{"account_id":154352,"reputation":3715,"user_id":370238,"accept_rate":64,"display_name":"Ray Foss"},"score":0,"creation_date":1599793179,"post_id":5112624,"comment_id":112890351,"body_markdown":"@StephenC sorry, got frustrated... ended up going with shebang java source. `FOO=bar java...` is technically an env var, but in my head it&#39;s a benign parameter. env stands for environment... modifying a large environments to manipulate large tenants, is the bad idea... i would argue `CLASSPATH=. java` is no worse than `java -classpath .`","body":"@StephenC sorry, got frustrated... ended up going with shebang java source. <code>FOO=bar java...</code> is technically an env var, but in my head it&#39;s a benign parameter. env stands for environment... modifying a large environments to manipulate large tenants, is the bad idea... i would argue <code>CLASSPATH=. java</code> is no worse than <code>java -classpath .</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1599794777,"post_id":5112624,"comment_id":112890623,"body_markdown":"I would agree with that.  But it is not how your typical Linux / Windows / Java beginner would set CLASSPATH.","body":"I would agree with that.  But it is not how your typical Linux / Windows / Java beginner would set CLASSPATH."}],"tags":[],"owner":{"account_id":52690,"reputation":548,"user_id":157460,"accept_rate":80,"display_name":"f0ster"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668731402,"creation_date":1298597369,"answer_id":5112624,"question_id":5112607,"body_markdown":"Put the JAR files in your classpath. classpath is an environment variable.\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>Put the JAR files in your classpath. classpath is an environment variable.</p>\n"},{"comments":[{"owner":{"account_id":79450,"reputation":10773,"user_id":225269,"accept_rate":91,"display_name":"user225269"},"score":1,"creation_date":1298605579,"post_id":5112638,"comment_id":5733576,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Quizzer\nCaused by: java.lang.ClassNotFoundException: Quizzer\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\nCould not find the main class: Quizzer.  Program will exit.","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Quizzer Caused by: java.lang.ClassNotFoundException: Quizzer         at java.net.URLClassLoader$1.run(Unknown Source)         at java.security.AccessController.doPrivileged(Native Method)         at java.net.URLClassLoader.findClass(Unknown Source)         at java.lang.ClassLoader.loadClass(Unknown Source)         at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)         at java.lang.ClassLoader.loadClass(Unknown Source) Could not find the main class: Quizzer.  Program will exit."},{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":0,"creation_date":1298605965,"post_id":5112638,"comment_id":5733628,"body_markdown":"does your main class have a package name?","body":"does your main class have a package name?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1298606250,"post_id":5112638,"comment_id":5733667,"body_markdown":"@StackOverflowError - you also need a `-classpath` argument on the `java` command.","body":"@StackOverflowError - you also need a <code>-classpath</code> argument on the <code>java</code> command."},{"owner":{"account_id":6776074,"reputation":856,"user_id":5217790,"display_name":"Halil İbrahim Oymacı"},"score":0,"creation_date":1468830824,"post_id":5112638,"comment_id":64269749,"body_markdown":"If you compile in directory that .java file is in you use that: `java -classpath external.jar:com.mycompany myClass`","body":"If you compile in directory that .java file is in you use that: <code>java -classpath external.jar:com.mycompany myClass</code>"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1474069837,"post_id":5112638,"comment_id":66396808,"body_markdown":"Do I need to type exactly `-classpath` or do I need replace &quot;classpath&quot; with an actual path like `E:\\some folder\\my_lib.jar`??","body":"Do I need to type exactly <code>-classpath</code> or do I need replace &quot;classpath&quot; with an actual path like <code>E:\\some folder\\my_lib.jar</code>??"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1600070913,"post_id":5112638,"comment_id":112961108,"body_markdown":"@parsecer - Not sure what you are asking.  If you don&#39;t understand this Answer, I recommend that you read the Oracle (web) manual pages for the `java` and `javac` commands for your platform.  Don&#39;t forget to follow the link to the page that explains the classpath and read that as well.","body":"@parsecer - Not sure what you are asking.  If you don&#39;t understand this Answer, I recommend that you read the Oracle (web) manual pages for the <code>java</code> and <code>javac</code> commands for your platform.  Don&#39;t forget to follow the link to the page that explains the classpath and read that as well."}],"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"comment_count":6,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1669321080,"creation_date":1298597450,"answer_id":5112638,"question_id":5112607,"body_markdown":"Use:\r\n\r\n    javac -classpath external.jar myClass.java\r\n\r\nIf your main class is in a package,\r\n\r\n    package com.mycompany;\r\n\r\n    public class myClass\r\n    {\r\n    ...\r\n    ...\r\n\r\nthen you&#39;ll need\r\n\r\n    javac -classpath external.jar com/mycompany/myClass.java\r\n\r\nAnd to run:\r\n\r\n    java -classpath external.jar com.mycompany.myClass\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>Use:</p>\n<pre><code>javac -classpath external.jar myClass.java\n</code></pre>\n<p>If your main class is in a package,</p>\n<pre><code>package com.mycompany;\n\npublic class myClass\n{\n...\n...\n</code></pre>\n<p>then you'll need</p>\n<pre><code>javac -classpath external.jar com/mycompany/myClass.java\n</code></pre>\n<p>And to run:</p>\n<pre><code>java -classpath external.jar com.mycompany.myClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74895,"reputation":9448,"user_id":214998,"accept_rate":92,"display_name":"Derek Beattie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669321136,"creation_date":1298597461,"answer_id":5112639,"question_id":5112607,"body_markdown":"Make sure the JAR file is in your classpath and you have the *import* statement.\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>Make sure the JAR file is in your classpath and you have the <em>import</em> statement.</p>\n"},{"comments":[{"owner":{"account_id":14587195,"reputation":413,"user_id":10535574,"display_name":"RAZAFINARIVO Hanania"},"score":0,"creation_date":1663162548,"post_id":5112684,"comment_id":130174275,"body_markdown":"Thanks for the last sentence. I don&#39;t know for other distribution linux but for ubuntu &quot;:&quot; works instead of &quot;;&quot;","body":"Thanks for the last sentence. I don&#39;t know for other distribution linux but for ubuntu &quot;:&quot; works instead of &quot;;&quot;"}],"tags":[],"owner":{"account_id":315747,"reputation":259,"user_id":631578,"display_name":"Simon David Kelly"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1669321293,"creation_date":1298597865,"answer_id":5112684,"question_id":5112607,"body_markdown":"In addition to [Bala R&#39;s post][1], adding multiple files and locations is perfectly OK too...\r\n\r\n    javac -cp location1/;location2/;file1.jar;file2.jar fileToCompile\r\n\r\nNotes:\r\n\r\n*-cp* and *-classpath* are the same thing.\r\n\r\nIf you&#39;re on [Solaris][2] (and some other Unix flavors), change the &#39;`;`&#39; to &#39;`:`&#39;.\r\n\r\n  [1]: https://stackoverflow.com/questions/5112607/how-to-include-libraries-in-java-without-using-an-ide/5112638#5112638\r\n  [2]: https://en.wikipedia.org/wiki/Solaris_%28operating_system%29\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>In addition to <a href=\"https://stackoverflow.com/questions/5112607/how-to-include-libraries-in-java-without-using-an-ide/5112638#5112638\">Bala R's post</a>, adding multiple files and locations is perfectly OK too...</p>\n<pre><code>javac -cp location1/;location2/;file1.jar;file2.jar fileToCompile\n</code></pre>\n<p>Notes:</p>\n<p><em>-cp</em> and <em>-classpath</em> are the same thing.</p>\n<p>If you're on <a href=\"https://en.wikipedia.org/wiki/Solaris_%28operating_system%29\" rel=\"nofollow noreferrer\">Solaris</a> (and some other Unix flavors), change the '<code>;</code>' to '<code>:</code>'.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1298606398,"post_id":5112762,"comment_id":5733684,"body_markdown":"this might work.  But it is not best practice to dump all of your JARs in one place.","body":"this might work.  But it is not best practice to dump all of your JARs in one place."}],"tags":[],"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1669322434,"creation_date":1298598671,"answer_id":5112762,"question_id":5112607,"body_markdown":"All of the other posters are spot on; you just need to add the JAR file to your classpath.\r\n\r\nJava offers many mechanisms for setting the classpath, including via the command line, via an environment variable, and through setting it in the MANIFEST.MF of an executable Java JAR file.\r\n\r\nThese are all a pain in the neck to manage. It&#39;s good to know the technique, and understand the basics. But it&#39;s really a bad idea to actually use them.\r\n\r\nYou should do this.\r\n\r\nFirst, put all of your Java libraries in a single place on your system. *C:\\java\\libraries*, or whatever. Someplace that you remember, and someplace accessible by all of your projects.\r\n\r\nNext, name all of your libraries using their version numbers. If you using [Log4j][1] v1.4.1, then put the JAR file in a log4j-1.4.1 directory in your library area. This gives you &quot;free&quot; library versioning.\r\n\r\nFinally, learn [Ant][2]. For simple projects, Ant is simple. Use the Ant *build.xml* file to compile, test, and run your application.\r\n\r\nWhy? Several reasons.\r\n\r\nBecause once it&#39;s set up, adding a new library to your project is trivial; you add a line to your *build.xml* file. Ant lets you more easily handle simple abstractions (like where all of your libraries are located).\r\n\r\nThe *build.xml* file is self-contained. If you use, say, an environment variable for the classpath, then the classpath for one project may be different from that of another. That means resetting the environment variable. Continue this and you&#39;ll end up swearing at some &quot;new problem&quot; where it &quot;worked before&quot; when it&#39;s because you had your classpath set wrong. Set it once in the *build.xml* file, and forget it.\r\n\r\nAnt is portable. It runs the same on Windows, on Linux, on Mac, on [AS/400][3], it runs everywhere that Java runs, unlike shells scripts or BAT files.\r\n\r\nIt&#39;s lightweight. Simple Ant scripts are simple. They don&#39;t bring a lot of baggage with them, and you can always make them scary complicated. It&#39;s much simpler than [Maven][4] for just builds.\r\n\r\nMost IDEs support Ant directly. If you decided to go back to an IDE, most can simply use your Ant build file with minimal configuration.\r\n\r\nThis is how you solve your classpath problem with [Notepad++][5]. Setting the classpath works, but it doesn&#39;t go far enough. It&#39;s a pain to administer and manage. Learning the basics of Ant will take you much farther with minimal work.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Log4j\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Ant\r\n  [3]: https://en.wikipedia.org/wiki/IBM_AS/400\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [5]: https://en.wikipedia.org/wiki/Notepad%2B%2B\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>All of the other posters are spot on; you just need to add the JAR file to your classpath.</p>\n<p>Java offers many mechanisms for setting the classpath, including via the command line, via an environment variable, and through setting it in the MANIFEST.MF of an executable Java JAR file.</p>\n<p>These are all a pain in the neck to manage. It's good to know the technique, and understand the basics. But it's really a bad idea to actually use them.</p>\n<p>You should do this.</p>\n<p>First, put all of your Java libraries in a single place on your system. <em>C:\\java\\libraries</em>, or whatever. Someplace that you remember, and someplace accessible by all of your projects.</p>\n<p>Next, name all of your libraries using their version numbers. If you using <a href=\"https://en.wikipedia.org/wiki/Log4j\" rel=\"nofollow noreferrer\">Log4j</a> v1.4.1, then put the JAR file in a log4j-1.4.1 directory in your library area. This gives you &quot;free&quot; library versioning.</p>\n<p>Finally, learn <a href=\"https://en.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a>. For simple projects, Ant is simple. Use the Ant <em>build.xml</em> file to compile, test, and run your application.</p>\n<p>Why? Several reasons.</p>\n<p>Because once it's set up, adding a new library to your project is trivial; you add a line to your <em>build.xml</em> file. Ant lets you more easily handle simple abstractions (like where all of your libraries are located).</p>\n<p>The <em>build.xml</em> file is self-contained. If you use, say, an environment variable for the classpath, then the classpath for one project may be different from that of another. That means resetting the environment variable. Continue this and you'll end up swearing at some &quot;new problem&quot; where it &quot;worked before&quot; when it's because you had your classpath set wrong. Set it once in the <em>build.xml</em> file, and forget it.</p>\n<p>Ant is portable. It runs the same on Windows, on Linux, on Mac, on <a href=\"https://en.wikipedia.org/wiki/IBM_AS/400\" rel=\"nofollow noreferrer\">AS/400</a>, it runs everywhere that Java runs, unlike shells scripts or BAT files.</p>\n<p>It's lightweight. Simple Ant scripts are simple. They don't bring a lot of baggage with them, and you can always make them scary complicated. It's much simpler than <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> for just builds.</p>\n<p>Most IDEs support Ant directly. If you decided to go back to an IDE, most can simply use your Ant build file with minimal configuration.</p>\n<p>This is how you solve your classpath problem with <a href=\"https://en.wikipedia.org/wiki/Notepad%2B%2B\" rel=\"nofollow noreferrer\">Notepad++</a>. Setting the classpath works, but it doesn't go far enough. It's a pain to administer and manage. Learning the basics of Ant will take you much farther with minimal work.</p>\n"},{"tags":[],"owner":{"display_name":"user1249380"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669322147,"creation_date":1357205036,"answer_id":14136032,"question_id":5112607,"body_markdown":"You should put them on your classpath, like\r\n\r\n`java -classpath someJar.jar YourMainClass`\r\n\r\nAnd, of course, you can do the same for `javac`.\r\n\r\nIf you need to have more than one JAR file or directory on your classpath, you&#39;ll need to use your platform&#39;s default path separator. For example, on Windows,\r\n\r\n`java -classpath someJar.jar;myJar.jar YourMainClass`\r\n\r\nOn a side note, you might find it easier to use an IDE to manage this sort of stuff. I&#39;ve personally used just my slightly scriptable editor and have managed fine. But it&#39;s good to know how to do this stuff by the command line.\r\n\r\n\r\n\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>You should put them on your classpath, like</p>\n<p><code>java -classpath someJar.jar YourMainClass</code></p>\n<p>And, of course, you can do the same for <code>javac</code>.</p>\n<p>If you need to have more than one JAR file or directory on your classpath, you'll need to use your platform's default path separator. For example, on Windows,</p>\n<p><code>java -classpath someJar.jar;myJar.jar YourMainClass</code></p>\n<p>On a side note, you might find it easier to use an IDE to manage this sort of stuff. I've personally used just my slightly scriptable editor and have managed fine. But it's good to know how to do this stuff by the command line.</p>\n"}],"owner":{"account_id":79450,"reputation":10773,"user_id":225269,"accept_rate":91,"display_name":"user225269"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90415,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":5112638,"answer_count":6,"score":36,"last_activity_date":1669322434,"creation_date":1298597219,"question_id":5112607,"body_markdown":"How do I import libraries in my Java program without using an IDE, like [NetBeans][1]?\r\n\r\nIn NetBeans I do it this way:\r\n\r\n![Enter image description here][2]\r\n\r\nHow can I achieve the same thing by just using [Notepad++][3] or [Programmer&#39;s Notepad][4].\r\nAs much as possible I don&#39;t want to use NetBeans because it would be overkill since I&#39;m only working on simple projects.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/NetBeans\r\n  [2]: http://i.stack.imgur.com/lWlzb.png\r\n  [3]: https://en.wikipedia.org/wiki/Notepad%2B%2B\r\n  [4]: https://github.com/simonsteele/pn\r\n\r\n\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>How do I import libraries in my Java program without using an IDE, like <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a>?</p>\n<p>In NetBeans I do it this way:</p>\n<p><img src=\"https://i.stack.imgur.com/lWlzb.png\" alt=\"Enter image description here\" /></p>\n<p>How can I achieve the same thing by just using <a href=\"https://en.wikipedia.org/wiki/Notepad%2B%2B\" rel=\"nofollow noreferrer\">Notepad++</a> or <a href=\"https://github.com/simonsteele/pn\" rel=\"nofollow noreferrer\">Programmer's Notepad</a>.\nAs much as possible I don't want to use NetBeans because it would be overkill since I'm only working on simple projects.</p>\n"},{"tags":["java","spring-boot","spring-security","openapi","springdoc"],"answers":[{"comments":[{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1675864574,"post_id":74566026,"comment_id":133019321,"body_markdown":"Also created an article on how to use Springdoc with form login and basic auth: https://www.baeldung.com/springdoc-openapi-form-login-and-basic-authentication","body":"Also created an article on how to use Springdoc with form login and basic auth: <a href=\"https://www.baeldung.com/springdoc-openapi-form-login-and-basic-authentication\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669322409,"creation_date":1669322409,"answer_id":74566026,"question_id":74337522,"body_markdown":"I&#39;ve raised an [issue][1] which was categorised as a bug and fixed. The latest [release][2] does not have this problem anymore, version 1.6.13.\r\n\r\n\r\n  [1]: https://github.com/springdoc/springdoc-openapi/issues/1931\r\n  [2]: https://github.com/springdoc/springdoc-openapi/blob/master/CHANGELOG.md#1613---2022-11-20","title":"Documenting Spring Security&#39;s form login endpoint with springdoc-openapi","body":"<p>I've raised an <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1931\" rel=\"nofollow noreferrer\">issue</a> which was categorised as a bug and fixed. The latest <a href=\"https://github.com/springdoc/springdoc-openapi/blob/master/CHANGELOG.md#1613---2022-11-20\" rel=\"nofollow noreferrer\">release</a> does not have this problem anymore, version 1.6.13.</p>\n"}],"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74566026,"answer_count":1,"score":2,"last_activity_date":1669322409,"creation_date":1667750721,"question_id":74337522,"body_markdown":"I need help finding a way to make Spring Security&#39;s form login endpoint work in swagger-ui with springdoc-openapi. I&#39;m using SpringBoot 2.7.5 and Spring Security 5.7.4, and these are the rest of the project&#39;s dependencies:\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\nSpring Security simple configuration for securing /foos/ endpoints with form login and defining user login details.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/foos/**&quot;)\r\n                .authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth, PasswordEncoder passwordEncoder) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;user&quot;)\r\n                .password(passwordEncoder.encode(&quot;password&quot;))\r\n                .roles(&quot;USER&quot;);\r\n    }\r\n    }\r\n\r\nAnd the foos Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;foos&quot;)\r\n    public class FooController {\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public Foo findById(@PathVariable(&quot;id&quot;) final Long id) {\r\n        return new Foo(randomAlphabetic(6));\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Foo&gt; findAll() {\r\n        return Lists.newArrayList(new Foo(randomAlphabetic(6)));\r\n    }\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Foo create(@RequestBody final Foo foo) {\r\n        return foo;\r\n    }\r\n    }\r\nAlso supplying this property: `springdoc.show-login-endpoint=true` and the login endpoint is exposed in swagger-ui but the only problem is that the only request body type is `application/json` and this sends the credentials as json in the request body which results in null username/password in `UsernamePasswordAuthenticationFilter`. &lt;br/&gt;\r\n&lt;br/&gt;\r\nSample code repo: https://github.com/adrianbob/springdoc-form-login\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nCan the request body type be configured to application/x-www-form-urlencoded, so that form login works?","title":"Documenting Spring Security&#39;s form login endpoint with springdoc-openapi","body":"<p>I need help finding a way to make Spring Security's form login endpoint work in swagger-ui with springdoc-openapi. I'm using SpringBoot 2.7.5 and Spring Security 5.7.4, and these are the rest of the project's dependencies:</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n        &lt;version&gt;1.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Spring Security simple configuration for securing /foos/ endpoints with form login and defining user login details.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable().authorizeRequests()\n            .antMatchers(&quot;/foos/**&quot;)\n            .authenticated()\n            .and()\n            .formLogin()\n            .permitAll()\n            .and()\n            .logout()\n            .permitAll();\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth, PasswordEncoder passwordEncoder) throws Exception {\n    auth.inMemoryAuthentication()\n            .withUser(&quot;user&quot;)\n            .password(passwordEncoder.encode(&quot;password&quot;))\n            .roles(&quot;USER&quot;);\n}\n}\n</code></pre>\n<p>And the foos Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;foos&quot;)\npublic class FooController {\n\n@GetMapping(value = &quot;/{id}&quot;)\npublic Foo findById(@PathVariable(&quot;id&quot;) final Long id) {\n    return new Foo(randomAlphabetic(6));\n}\n\n@GetMapping\npublic List&lt;Foo&gt; findAll() {\n    return Lists.newArrayList(new Foo(randomAlphabetic(6)));\n}\n\n@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic Foo create(@RequestBody final Foo foo) {\n    return foo;\n}\n}\n</code></pre>\n<p>Also supplying this property: <code>springdoc.show-login-endpoint=true</code> and the login endpoint is exposed in swagger-ui but the only problem is that the only request body type is <code>application/json</code> and this sends the credentials as json in the request body which results in null username/password in <code>UsernamePasswordAuthenticationFilter</code>. <br/>\n<br/>\nSample code repo: <a href=\"https://github.com/adrianbob/springdoc-form-login\" rel=\"nofollow noreferrer\">https://github.com/adrianbob/springdoc-form-login</a>\n<br/>\n<br/>\nCan the request body type be configured to application/x-www-form-urlencoded, so that form login works?</p>\n"},{"tags":["java","android","classloader","dexclassloader"],"owner":{"account_id":7787202,"reputation":168,"user_id":5891566,"display_name":"el_chupacabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669321633,"creation_date":1669321633,"question_id":74565919,"body_markdown":"I have two separate ClassLoaders, one have loaded the package private interface A:\r\n\r\n    package com.example;    \r\n\r\n    interface A {}\r\n\r\nAnd I have another class loader created from a dex file containing class B:\r\n\r\n    package com.example;\r\n\r\n    class B implements A {\r\n         B() {}\r\n    }\r\n\r\nThe second class loader is an ```InMemoryDexLoader``` which receives another ClassLoader as parent that can load the interface A, however it does **not** contain class B. (The ```byteBuffer``` contains the dex file containing the definition for class B).\r\n\r\n    ClassLoader bLoader = new InMemoryDexClassLoader(byteBuffer, parentLoader);\r\n    bLoader.loadClass(&quot;com.example.B&quot;).newInstance();\r\n\r\nAt this point I am - quite regrettably - receiving an ```IllegalAccessOperation```. Even though the two classes are in the same package, they have been loaded by separate loaders, and this seems to make their package relation null and void. Is there some way around this?","title":"Is it possible to use a ClassLoader to load a class implementing a package private interface loaded by another ClassLoader?","body":"<p>I have two separate ClassLoaders, one have loaded the package private interface A:</p>\n<pre><code>package com.example;    \n\ninterface A {}\n</code></pre>\n<p>And I have another class loader created from a dex file containing class B:</p>\n<pre><code>package com.example;\n\nclass B implements A {\n     B() {}\n}\n</code></pre>\n<p>The second class loader is an <code>InMemoryDexLoader</code> which receives another ClassLoader as parent that can load the interface A, however it does <strong>not</strong> contain class B. (The <code>byteBuffer</code> contains the dex file containing the definition for class B).</p>\n<pre><code>ClassLoader bLoader = new InMemoryDexClassLoader(byteBuffer, parentLoader);\nbLoader.loadClass(&quot;com.example.B&quot;).newInstance();\n</code></pre>\n<p>At this point I am - quite regrettably - receiving an <code>IllegalAccessOperation</code>. Even though the two classes are in the same package, they have been loaded by separate loaders, and this seems to make their package relation null and void. Is there some way around this?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":18458411,"reputation":288,"user_id":13446550,"display_name":"Aynos"},"score":0,"creation_date":1669321660,"post_id":74564668,"comment_id":131623030,"body_markdown":"Did I add the minimal reproducible example correctly? @dbc","body":"Did I add the minimal reproducible example correctly? @dbc"},{"owner":{"account_id":4617916,"reputation":107707,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1669326957,"post_id":74564668,"comment_id":131624049,"body_markdown":"Looks good in my opinion.","body":"Looks good in my opinion."}],"owner":{"account_id":18458411,"reputation":288,"user_id":13446550,"display_name":"Aynos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669321589,"creation_date":1669312477,"question_id":74564668,"body_markdown":"I want to implement some preferences (settings) into my app and that did work. Additionally, I want to display the _value_ of the current preference as it&#39;s _summary_.\r\n\r\nMy solution for this problem is to use the &quot;[SimpleSummaryProvider](https://developer.android.com/reference/androidx/preference/EditTextPreference.SimpleSummaryProvider)&quot; in the preferences.xml file, as suggested [in this post](https://stackoverflow.com/a/53722223). This solution does not throw an error and also works in the preview. However, in the compiled app, there simply is no summary at all.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Glfxj.png)](https://i.stack.imgur.com/Glfxj.png)\r\n\r\n\r\n\r\nTo reproduce this error:\r\n\r\nAndroid Studio -&gt; Empty Activity\r\n\r\nMainActivity.java\r\n```java\r\npackage com.test.simplesummary;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.preference.PreferenceFragment;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getFragmentManager().beginTransaction().replace(R.id.idFrameLayout, new SettingsFragment()).commit();\r\n    }\r\n\r\n    public static class SettingsFragment extends PreferenceFragment {\r\n\r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            addPreferencesFromResource(R.xml.root_preferences);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nactivity_main.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/idFrameLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nroot_preferences.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;PreferenceCategory&gt;\r\n        &lt;EditTextPreference\r\n            android:key=&quot;test_key&quot;\r\n            android:title=&quot;test_title&quot;\r\n            app:useSimpleSummaryProvider=&quot;true&quot;\r\n            /&gt;\r\n    &lt;/PreferenceCategory&gt;\r\n&lt;/PreferenceScreen&gt;\r\n```\r\nbuild.gradle\r\n```gradle\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.test.simplesummary&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.test.simplesummary&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.+&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n}\r\n```","title":"How to use the &quot;useSimpleSummaryProvider&quot; in the preferences for android?","body":"<p>I want to implement some preferences (settings) into my app and that did work. Additionally, I want to display the <em>value</em> of the current preference as it's <em>summary</em>.</p>\n<p>My solution for this problem is to use the &quot;<a href=\"https://developer.android.com/reference/androidx/preference/EditTextPreference.SimpleSummaryProvider\" rel=\"nofollow noreferrer\">SimpleSummaryProvider</a>&quot; in the preferences.xml file, as suggested <a href=\"https://stackoverflow.com/a/53722223\">in this post</a>. This solution does not throw an error and also works in the preview. However, in the compiled app, there simply is no summary at all.</p>\n<p><a href=\"https://i.stack.imgur.com/Glfxj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Glfxj.png\" alt=\"enter image description here\" /></a></p>\n<p>To reproduce this error:</p>\n<p>Android Studio -&gt; Empty Activity</p>\n<p>MainActivity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test.simplesummary;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.preference.PreferenceFragment;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getFragmentManager().beginTransaction().replace(R.id.idFrameLayout, new SettingsFragment()).commit();\n    }\n\n    public static class SettingsFragment extends PreferenceFragment {\n\n        @Override\n        public void onCreate(@Nullable Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n\n            addPreferencesFromResource(R.xml.root_preferences);\n\n        }\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/idFrameLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>root_preferences.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;PreferenceCategory&gt;\n        &lt;EditTextPreference\n            android:key=&quot;test_key&quot;\n            android:title=&quot;test_title&quot;\n            app:useSimpleSummaryProvider=&quot;true&quot;\n            /&gt;\n    &lt;/PreferenceCategory&gt;\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.test.simplesummary'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.test.simplesummary&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.preference:preference:1.1.+'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":3063445,"reputation":3948,"user_id":2595658,"accept_rate":64,"display_name":"Paco Abato"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549184833,"creation_date":1549184833,"answer_id":54501397,"question_id":54501280,"body_markdown":"    @Bean DataSource sqlDataSource() {\r\n         // some logic\r\n    }\r\n\r\nThis defines a singleton instance of DataSource. So everytime you request an instance of SomeObject a new SomeObject will be created (while it is defined in the prototype scope) but all of them will share the same DataSource object (since it&#39;s a singleton bean).","title":"Getting Spring beans by method invocation vs new operator","body":"<pre><code>@Bean DataSource sqlDataSource() {\n     // some logic\n}\n</code></pre>\n\n<p>This defines a singleton instance of DataSource. So everytime you request an instance of SomeObject a new SomeObject will be created (while it is defined in the prototype scope) but all of them will share the same DataSource object (since it's a singleton bean).</p>\n"},{"tags":[],"owner":{"account_id":3323798,"reputation":254,"user_id":2794276,"display_name":"Jose Luis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549185187,"creation_date":1549185187,"answer_id":54501437,"question_id":54501280,"body_markdown":"@Bean is a method-level annotation that indicates Spring to create a bean when that method is invoked. It means to have the same functionality thatn &lt;bean&gt; tag in XML config.\r\n\r\nThis annotation must be used inside of a @Configuration annotated class, otherwise if you invoke the method from another method it will be a normal java new operation, not spring&#39;s. See this post --&gt; https://stackoverflow.com/questions/3330618/bean-inside-class-with-configuration-and-witout-it\r\n\r\nBearing this in mind new SomeObject(sqlDataSource()); would be equal to new SomeObject(new SqlDataSource());\r\n\r\nif you annotate Example with @Configuration what will happen is that you&#39;ll get always a new SomeObject instance with the same sqlDataSource object, this means that Spring will take care of creating ONLY ONE sqlDataSource because it is singleton.","title":"Getting Spring beans by method invocation vs new operator","body":"<p>@Bean is a method-level annotation that indicates Spring to create a bean when that method is invoked. It means to have the same functionality thatn  tag in XML config.</p>\n\n<p>This annotation must be used inside of a @Configuration annotated class, otherwise if you invoke the method from another method it will be a normal java new operation, not spring's. See this post --> <a href=\"https://stackoverflow.com/questions/3330618/bean-inside-class-with-configuration-and-witout-it\">@Bean inside class with @Configuration and witout it</a></p>\n\n<p>Bearing this in mind new SomeObject(sqlDataSource()); would be equal to new SomeObject(new SqlDataSource());</p>\n\n<p>if you annotate Example with @Configuration what will happen is that you'll get always a new SomeObject instance with the same sqlDataSource object, this means that Spring will take care of creating ONLY ONE sqlDataSource because it is singleton.</p>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54501437,"answer_count":2,"score":2,"last_activity_date":1669321337,"creation_date":1549183770,"question_id":54501280,"body_markdown":"I am confused about this little topic. Somewhere I read that if a class is annotated with `@Component`, it is spring managed bean and whenever it is required, spring will provide it. I am confusing it with scope of a bean. Let me explain:\r\n\r\nLet&#39;s say a class\r\n\r\n    @Component\r\n    public class Example{ }\r\n\r\nIf I instantiate this class in other class using `new Example()`, would container always provide me the same Example object all the time? Or would it return me new object every time? \r\n\r\nHere comes the confusing part:\r\n\r\nIf in the same class I have two beans like this:\r\n\r\n    @Component\r\n    public class Example {\r\n        @Bean DataSource sqlDataSource() {\r\n             // some logic\r\n        }\r\n        @Bean @Scope(&quot;prototype&quot;) SomeObject getSomeObject() {\r\n             return new SomeObject(sqlDataSource()); //**\r\n        }\r\n\r\n    }\r\n\r\nWhat will happen in this case? sqlDataSource() method invocation would return the same object again and again every time SomeObject bean is requested, or new instance of DataSource will be returned every time SomeObject is requested?","title":"Getting Spring beans by method invocation vs new operator","body":"<p>I am confused about this little topic. Somewhere I read that if a class is annotated with <code>@Component</code>, it is spring managed bean and whenever it is required, spring will provide it. I am confusing it with scope of a bean. Let me explain:</p>\n<p>Let's say a class</p>\n<pre><code>@Component\npublic class Example{ }\n</code></pre>\n<p>If I instantiate this class in other class using <code>new Example()</code>, would container always provide me the same Example object all the time? Or would it return me new object every time?</p>\n<p>Here comes the confusing part:</p>\n<p>If in the same class I have two beans like this:</p>\n<pre><code>@Component\npublic class Example {\n    @Bean DataSource sqlDataSource() {\n         // some logic\n    }\n    @Bean @Scope(&quot;prototype&quot;) SomeObject getSomeObject() {\n         return new SomeObject(sqlDataSource()); //**\n    }\n\n}\n</code></pre>\n<p>What will happen in this case? sqlDataSource() method invocation would return the same object again and again every time SomeObject bean is requested, or new instance of DataSource will be returned every time SomeObject is requested?</p>\n"},{"tags":["java","json","jackson","polymorphism","jsonschema"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667111162,"post_id":74250334,"comment_id":131090556,"body_markdown":"Please show an example of some classes, the generated schema you&#39;d expect, and what you actually get.","body":"Please show an example of some classes, the generated schema you&#39;d expect, and what you actually get."},{"owner":{"account_id":8842223,"reputation":113,"user_id":6604312,"display_name":"JaVanna"},"score":0,"creation_date":1667119242,"post_id":74250334,"comment_id":131091622,"body_markdown":"@tgdavies, I&#39;ve added the picture to describe it.","body":"@tgdavies, I&#39;ve added the picture to describe it."},{"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"score":0,"creation_date":1668928728,"post_id":74250334,"comment_id":131522336,"body_markdown":"@JaVanna perhaps raise an issue for this on my jsonschema generator library and we can take a look together: https://github.com/victools/jsonschema-generator/issues","body":"@JaVanna perhaps raise an issue for this on my jsonschema generator library and we can take a look together: <a href=\"https://github.com/victools/jsonschema-generator/issues\" rel=\"nofollow noreferrer\">github.com/victools/jsonschema-generator/issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669320835,"creation_date":1669320413,"answer_id":74565785,"question_id":74250334,"body_markdown":"Since the Jackson schema generation module is not being actively maintained at the moment, it may be a good idea to look for an alternative, e.g.\r\n- https://github.com/victools/jsonschema-generator\r\n- https://github.com/mbknor/mbknor-jackson-jsonSchema\r\n\r\n&gt; Disclaimer: I&#39;m the maintainer of the `victools` JSON Schema Generator.\r\n\r\nWith the `victools`:`jsonschema-generator`, this basic configuration should get you in the right direction:\r\n```java\r\npublic static void main(String[] args) {\r\n    SchemaGeneratorConfigBuilder configBuilder = new SchemaGeneratorConfigBuilder(\r\n            SchemaVersion.DRAFT_2019_09, OptionPreset.PLAIN_JSON);\r\n    configBuilder.with(new JacksonModule());\r\n    SchemaGenerator generator = new SchemaGenerator(configBuilder.build());\r\n    JsonNode jsonSchema = generator.generateSchema(Container.class);\r\n\r\n    System.out.println(jsonSchema.toPrettyString());\r\n}\r\n```\r\nThe produced schema looks like this:\r\n```json\r\n{\r\n  &quot;$schema&quot; : &quot;https://json-schema.org/draft/2019-09/schema&quot;,\r\n  &quot;type&quot; : &quot;object&quot;,\r\n  &quot;properties&quot; : {\r\n    &quot;field&quot; : {\r\n      &quot;anyOf&quot; : [ {\r\n        &quot;type&quot; : &quot;object&quot;,\r\n        &quot;properties&quot; : {\r\n          &quot;value&quot; : {\r\n            &quot;type&quot; : &quot;integer&quot;\r\n          }\r\n        }\r\n      }, {\r\n        &quot;type&quot; : &quot;object&quot;,\r\n        &quot;properties&quot; : {\r\n          &quot;text&quot; : {\r\n            &quot;type&quot; : &quot;string&quot;\r\n          }\r\n        }\r\n      } ]\r\n    },\r\n    &quot;name&quot; : {\r\n      &quot;type&quot; : &quot;string&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"Jackson and schema generation for Deduction-Based Polymorphism","body":"<p>Since the Jackson schema generation module is not being actively maintained at the moment, it may be a good idea to look for an alternative, e.g.</p>\n<ul>\n<li><a href=\"https://github.com/victools/jsonschema-generator\" rel=\"nofollow noreferrer\">https://github.com/victools/jsonschema-generator</a></li>\n<li><a href=\"https://github.com/mbknor/mbknor-jackson-jsonSchema\" rel=\"nofollow noreferrer\">https://github.com/mbknor/mbknor-jackson-jsonSchema</a></li>\n</ul>\n<blockquote>\n<p>Disclaimer: I'm the maintainer of the <code>victools</code> JSON Schema Generator.</p>\n</blockquote>\n<p>With the <code>victools</code>:<code>jsonschema-generator</code>, this basic configuration should get you in the right direction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    SchemaGeneratorConfigBuilder configBuilder = new SchemaGeneratorConfigBuilder(\n            SchemaVersion.DRAFT_2019_09, OptionPreset.PLAIN_JSON);\n    configBuilder.with(new JacksonModule());\n    SchemaGenerator generator = new SchemaGenerator(configBuilder.build());\n    JsonNode jsonSchema = generator.generateSchema(Container.class);\n\n    System.out.println(jsonSchema.toPrettyString());\n}\n</code></pre>\n<p>The produced schema looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot; : &quot;https://json-schema.org/draft/2019-09/schema&quot;,\n  &quot;type&quot; : &quot;object&quot;,\n  &quot;properties&quot; : {\n    &quot;field&quot; : {\n      &quot;anyOf&quot; : [ {\n        &quot;type&quot; : &quot;object&quot;,\n        &quot;properties&quot; : {\n          &quot;value&quot; : {\n            &quot;type&quot; : &quot;integer&quot;\n          }\n        }\n      }, {\n        &quot;type&quot; : &quot;object&quot;,\n        &quot;properties&quot; : {\n          &quot;text&quot; : {\n            &quot;type&quot; : &quot;string&quot;\n          }\n        }\n      } ]\n    },\n    &quot;name&quot; : {\n      &quot;type&quot; : &quot;string&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8842223,"reputation":113,"user_id":6604312,"display_name":"JaVanna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669320835,"creation_date":1667100800,"question_id":74250334,"body_markdown":"StackOverflow.\r\nI have a tricky task and I can&#39;t find a solution.\r\n\r\nI&#39;m using Jackson to create JSON AND JSON schema out of java classes with annotations.\r\nI have a JSON property of some abstract type (for example, &quot;AbstractType&quot;) inside my java class.\r\nAlso, I have several AbstractType implementations that can be used as this JSON property (i.e. in this field of type AbstractType).\r\n\r\nTo generate a JSON I&#39;m using Deduction-Based Polymorphism (@JsonTypeInfo(use = Id.DEDUCTION)) and it works fine.\r\nBut I can&#39;t find any solutions (even as a workaround) to show fields with inheritance inside a JSON schema.\r\n\r\nI&#39;ve tried to find examples of:\r\n- Override JSON property class in runtime (replace AbstractType by implementation in the schema generation process)\r\n- generate a &quot;oneOf&quot; block instead of a field with the abstract type\r\n- enable something somewhere to do it out-of-the-box\r\n- replace Jackson with something else?\r\n- insert JSON property of the proper type in runtime (like MixIn but with totally new JSON property, not just with annotation overriding)\r\n\r\nDoes anyone have any examples/hints/ideas?\r\n\r\nThank you in advance.\r\n\r\nAdditional info:\r\n```java\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n@JsonSubTypes({\r\n    @JsonSubTypes.Type(value = TypeImpl1.class, name = &quot;type1&quot;),\r\n    @JsonSubTypes.Type(value = TypeImpl2.class, name = &quot;type2&quot;)\r\n})\r\npublic abstract class AbstractType {\r\n}\r\n\r\npublic class TypeImpl1 extends AbstractType {\r\n    @JsonProperty(&quot;value&quot;)\r\n    public Integer value = 10;\r\n}\r\n\r\npublic class TypeImpl2 extends AbstractType {\r\n    @JsonProperty(&quot;text&quot;)\r\n    public String text = &quot;test&quot;;\r\n}\r\n\r\npublic class Container {\r\n    @JsonProperty(&quot;name&quot;)\r\n    public String name = &quot;test&quot;;\r\n    @JsonProperty(&quot;field&quot;)\r\n    public AbstractType field;\r\n}\r\n```\r\n[![example code with incomplete schema][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jtIfJ.png","title":"Jackson and schema generation for Deduction-Based Polymorphism","body":"<p>StackOverflow.\nI have a tricky task and I can't find a solution.</p>\n<p>I'm using Jackson to create JSON AND JSON schema out of java classes with annotations.\nI have a JSON property of some abstract type (for example, &quot;AbstractType&quot;) inside my java class.\nAlso, I have several AbstractType implementations that can be used as this JSON property (i.e. in this field of type AbstractType).</p>\n<p>To generate a JSON I'm using Deduction-Based Polymorphism (@JsonTypeInfo(use = Id.DEDUCTION)) and it works fine.\nBut I can't find any solutions (even as a workaround) to show fields with inheritance inside a JSON schema.</p>\n<p>I've tried to find examples of:</p>\n<ul>\n<li>Override JSON property class in runtime (replace AbstractType by implementation in the schema generation process)</li>\n<li>generate a &quot;oneOf&quot; block instead of a field with the abstract type</li>\n<li>enable something somewhere to do it out-of-the-box</li>\n<li>replace Jackson with something else?</li>\n<li>insert JSON property of the proper type in runtime (like MixIn but with totally new JSON property, not just with annotation overriding)</li>\n</ul>\n<p>Does anyone have any examples/hints/ideas?</p>\n<p>Thank you in advance.</p>\n<p>Additional info:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = TypeImpl1.class, name = &quot;type1&quot;),\n    @JsonSubTypes.Type(value = TypeImpl2.class, name = &quot;type2&quot;)\n})\npublic abstract class AbstractType {\n}\n\npublic class TypeImpl1 extends AbstractType {\n    @JsonProperty(&quot;value&quot;)\n    public Integer value = 10;\n}\n\npublic class TypeImpl2 extends AbstractType {\n    @JsonProperty(&quot;text&quot;)\n    public String text = &quot;test&quot;;\n}\n\npublic class Container {\n    @JsonProperty(&quot;name&quot;)\n    public String name = &quot;test&quot;;\n    @JsonProperty(&quot;field&quot;)\n    public AbstractType field;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jtIfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jtIfJ.png\" alt=\"example code with incomplete schema\" /></a></p>\n"},{"tags":["java","import","insert","include","extend"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668731948,"post_id":1417291,"comment_id":131484318,"body_markdown":"A canonical is *[How does Java import work?](https://stackoverflow.com/questions/12620369/how-does-java-import-work)*.","body":"A canonical is <i><a href=\"https://stackoverflow.com/questions/12620369/how-does-java-import-work\">How does Java import work?</a></i>."}],"answers":[{"comments":[{"owner":{"display_name":"John R"},"score":0,"creation_date":1252839640,"post_id":1417296,"comment_id":1260444,"body_markdown":"Thanks.  My needs are really basic.  I just need a way that works and that is easy.  I only code for myself.","body":"Thanks.  My needs are really basic.  I just need a way that works and that is easy.  I only code for myself."}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669319878,"creation_date":1252834421,"answer_id":1417296,"question_id":1417291,"body_markdown":"Make the algorithm method `static`. That way you can call it by `Object whateverItReturns = NameOfClass.nameOfStaticMethod(args);`\r\n\r\nContent import can generally be done in multiple ways, depending on exactly what kind of content you want to export. How you want to update it is the key to selecting the correct way.\r\n","title":"Isn&#39;t there a simple way to &quot;include&quot; in Java?","body":"<p>Make the algorithm method <code>static</code>. That way you can call it by <code>Object whateverItReturns = NameOfClass.nameOfStaticMethod(args);</code></p>\n<p>Content import can generally be done in multiple ways, depending on exactly what kind of content you want to export. How you want to update it is the key to selecting the correct way.</p>\n"},{"tags":[],"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1252834497,"creation_date":1252834497,"answer_id":1417302,"question_id":1417291,"body_markdown":"File1.java:\r\n\r\n    class File1 {\r\n        static int[] bigArray = {1,2,3};\r\n    }\r\n\r\nFile2.java:\r\n\r\n    class File2 {\r\n        static int main(String[] args) {\r\n            doSomeThingWith(File1.bigArray);\r\n        }\r\n    }\r\n\r\nYou may also use static import to be able to use bigArray without prepending `File1.`.","title":"Isn&#39;t there a simple way to &quot;include&quot; in Java?","body":"<p>File1.java:</p>\n\n<pre><code>class File1 {\n    static int[] bigArray = {1,2,3};\n}\n</code></pre>\n\n<p>File2.java:</p>\n\n<pre><code>class File2 {\n    static int main(String[] args) {\n        doSomeThingWith(File1.bigArray);\n    }\n}\n</code></pre>\n\n<p>You may also use static import to be able to use bigArray without prepending <code>File1.</code>.</p>\n"},{"comments":[{"owner":{"display_name":"John R"},"score":0,"creation_date":1252838334,"post_id":1417321,"comment_id":1260396,"body_markdown":"Interesting.  It&#39;s like the antitheses to the *nix philosophy.\n\nThe array is ~140K.  Does that break the bank?  It&#39;s a list of prime number gaps from 1 to 550,000 so hopefully it will never change.","body":"Interesting.  It&#39;s like the antitheses to the *nix philosophy.  The array is ~140K.  Does that break the bank?  It&#39;s a list of prime number gaps from 1 to 550,000 so hopefully it will never change."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1252840426,"post_id":1417321,"comment_id":1260470,"body_markdown":"The size limit on methods is 64K, which includes instructions, so yes, that&#39;s too big. You could split it over several methods, I guess, but it&#39;s still ugly. Teh data may not change, but you may still want to extend it.","body":"The size limit on methods is 64K, which includes instructions, so yes, that&#39;s too big. You could split it over several methods, I guess, but it&#39;s still ugly. Teh data may not change, but you may still want to extend it."},{"owner":{"display_name":"John R"},"score":0,"creation_date":1252859871,"post_id":1417321,"comment_id":1261170,"body_markdown":"I like the serialization idea, but it won&#39;t work in this application.  The starting point in the array depends on the number the user wants to factor, then from there the array can be traversed in either direction depending on the number, then it is continually traversed in both directions (the dataset is symmetrical so I threw away half of it) until factors are found.  The serialized file could be sqrt(2^64) in size.\n\nI got the previous data set below 100k, but for my Java version I made a new dataset without using the number 17. Now it is 6k.","body":"I like the serialization idea, but it won&#39;t work in this application.  The starting point in the array depends on the number the user wants to factor, then from there the array can be traversed in either direction depending on the number, then it is continually traversed in both directions (the dataset is symmetrical so I threw away half of it) until factors are found.  The serialized file could be sqrt(2^64) in size.  I got the previous data set below 100k, but for my Java version I made a new dataset without using the number 17. Now it is 6k."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1252862909,"post_id":1417321,"comment_id":1261342,"body_markdown":"I don&#39;t really understand why you think serialization wouldn&#39;t work. You&#39;re creating the data structure in memory - what could be problematic about writing that exact data structure to disk?","body":"I don&#39;t really understand why you think serialization wouldn&#39;t work. You&#39;re creating the data structure in memory - what could be problematic about writing that exact data structure to disk?"},{"owner":{"display_name":"John R"},"score":0,"creation_date":1252866990,"post_id":1417321,"comment_id":1261598,"body_markdown":"My thinking was that 1) the serialization is custom for every program run, 2) the serialization is very large, and 3) disk caching is slow.  However I think I misunderstood what you really meant.  I&#39;m now thinking you are talking about jumping around in the file as if it were the array instead of reading it in a strictly start-to-finish fashion.","body":"My thinking was that 1) the serialization is custom for every program run, 2) the serialization is very large, and 3) disk caching is slow.  However I think I misunderstood what you really meant.  I&#39;m now thinking you are talking about jumping around in the file as if it were the array instead of reading it in a strictly start-to-finish fashion."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1252876741,"post_id":1417321,"comment_id":1262023,"body_markdown":"No, I&#39;m talking about reading the entire file into memory in one go (once for each program run) - which would have the same end result as your original plan of intializing it through code, and probably be somewhat faster.","body":"No, I&#39;m talking about reading the entire file into memory in one go (once for each program run) - which would have the same end result as your original plan of intializing it through code, and probably be somewhat faster."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":6,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1669319964,"creation_date":1252835153,"answer_id":1417321,"question_id":1417291,"body_markdown":"The basic units of code in Java are classes, not files. Importing files simply makes no sense; it&#39;s the wrong level of abstraction. Stop thinking about files; think about code in different classes and how you can call that code. What file the class is defined in (and it doesn&#39;t have to be a file at all!) does not matter.\r\n\r\nBTW, with 40,000 elements, you may run into limitations on the size of a method if you define them directly in code. It would be better to put the data into a text file and parse that. That way, you also don&#39;t have to recompile anything when you change the data.\r\n\r\nAn alternative to writing a parser for the file would be to calculate the data once, put it into an appropriate Java data structure (array, List, Map, whatever) and then serialize that into a file using ObjectOutputStream. Note that this will cause problems if the data is stored in classes that later change their signature.\r\n\r\n\r\n","title":"Isn&#39;t there a simple way to &quot;include&quot; in Java?","body":"<p>The basic units of code in Java are classes, not files. Importing files simply makes no sense; it's the wrong level of abstraction. Stop thinking about files; think about code in different classes and how you can call that code. What file the class is defined in (and it doesn't have to be a file at all!) does not matter.</p>\n<p>BTW, with 40,000 elements, you may run into limitations on the size of a method if you define them directly in code. It would be better to put the data into a text file and parse that. That way, you also don't have to recompile anything when you change the data.</p>\n<p>An alternative to writing a parser for the file would be to calculate the data once, put it into an appropriate Java data structure (array, List, Map, whatever) and then serialize that into a file using ObjectOutputStream. Note that this will cause problems if the data is stored in classes that later change their signature.</p>\n"},{"comments":[{"owner":{"display_name":"John R"},"score":0,"creation_date":1252838851,"post_id":1417324,"comment_id":1260423,"body_markdown":"64k! wha?!  Perhaps the data in an array does not get converted to byte code?","body":"64k! wha?!  Perhaps the data in an array does not get converted to byte code?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1252839882,"post_id":1417324,"comment_id":1260456,"body_markdown":"Frankly I&#39;m not sure.  I know, however, that the Jasper compiler in Tomcat (which compiles JSP&#39;s to servlets) do al kinds of tricks to avoid hitting the boundary.     You may want to look at it to see exactly what it does.","body":"Frankly I&#39;m not sure.  I know, however, that the Jasper compiler in Tomcat (which compiles JSP&#39;s to servlets) do al kinds of tricks to avoid hitting the boundary.     You may want to look at it to see exactly what it does."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1252840487,"post_id":1417324,"comment_id":1260471,"body_markdown":"It&#39;s 64K per method, not per class. And I&#39;m pretty sure it includes data.","body":"It&#39;s 64K per method, not per class. And I&#39;m pretty sure it includes data."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669320075,"creation_date":1252835266,"answer_id":1417324,"question_id":1417291,"body_markdown":"No, there isn&#39;t any #include facility in Java.  The preprocessor known from the C world was not included, which&amp;mdash;after a while&amp;mdash;turns out to make more robust programs (in my opinion).\r\n\r\nYou need to create a new class containing what you want, and then refer to it.  Java 6 allows for static imports which makes this almost transparent.\r\n\r\nNote, that you may risk reaching the maximum byte code size of a single class.  I believe it is 64&amp;nbsp;KB.\r\n\r\n\r\n\r\n\r\n","title":"Isn&#39;t there a simple way to &quot;include&quot; in Java?","body":"<p>No, there isn't any #include facility in Java.  The preprocessor known from the C world was not included, which—after a while—turns out to make more robust programs (in my opinion).</p>\n<p>You need to create a new class containing what you want, and then refer to it.  Java 6 allows for static imports which makes this almost transparent.</p>\n<p>Note, that you may risk reaching the maximum byte code size of a single class.  I believe it is 64 KB.</p>\n"},{"comments":[{"owner":{"display_name":"John R"},"score":0,"creation_date":1252839085,"post_id":1417326,"comment_id":1260433,"body_markdown":"Thanks! Everyone seems to be using Java these days. At this point I still prefer the C-style macro hell.","body":"Thanks! Everyone seems to be using Java these days. At this point I still prefer the C-style macro hell."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1252840041,"post_id":1417326,"comment_id":1260459,"body_markdown":"The full blown macro system allows for redefining things &quot;out of scope&quot;.  The Java approach basically say - here is the source, everything in HERE is defined in _this_ class.   What is called in other classes is defined THERE - you do not have to look all include files through to get the full definition.  Helps maintainers a lot","body":"The full blown macro system allows for redefining things &quot;out of scope&quot;.  The Java approach basically say - here is the source, everything in HERE is defined in <i>this</i> class.   What is called in other classes is defined THERE - you do not have to look all include files through to get the full definition.  Helps maintainers a lot"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1252840831,"post_id":1417326,"comment_id":1260481,"body_markdown":"However, this locality of definition breaks when you include inheritance and overwritten methods. And disappears completely with stuff like AOP and metaprogramming that&#39;s included in more &quot;modern&quot; JVm languages.","body":"However, this locality of definition breaks when you include inheritance and overwritten methods. And disappears completely with stuff like AOP and metaprogramming that&#39;s included in more &quot;modern&quot; JVm languages."}],"tags":[],"owner":{"account_id":56574,"reputation":10477,"user_id":169484,"accept_rate":100,"display_name":"David Crawshaw"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669320165,"creation_date":1252835325,"answer_id":1417326,"question_id":1417291,"body_markdown":"It is a deliberate design decision in the Java platform to not preprocess .java files. This keeps things simple, and simple is what Java is all about.\r\n\r\nAs others have suggested, use a static import. Sometimes it feels limiting, but it is wonderful not having to debug a C-style macro hell.\r\n\r\n\r\n","title":"Isn&#39;t there a simple way to &quot;include&quot; in Java?","body":"<p>It is a deliberate design decision in the Java platform to not preprocess .java files. This keeps things simple, and simple is what Java is all about.</p>\n<p>As others have suggested, use a static import. Sometimes it feels limiting, but it is wonderful not having to debug a C-style macro hell.</p>\n"},{"comments":[{"owner":{"display_name":"John R"},"score":0,"creation_date":1252840165,"post_id":1417450,"comment_id":1260462,"body_markdown":"Thanks.  I don&#39;t need primes, I actually need the composites between them created by the primes through 17.  I&#39;m using the array to speed up a general purpose factorization algorithm that I thought up this morning.  Calculating on the fly would slow it down.","body":"Thanks.  I don&#39;t need primes, I actually need the composites between them created by the primes through 17.  I&#39;m using the array to speed up a general purpose factorization algorithm that I thought up this morning.  Calculating on the fly would slow it down."},{"owner":{"display_name":"John R"},"score":0,"creation_date":1252840378,"post_id":1417450,"comment_id":1260467,"body_markdown":"That second bit you posted is handy.  I&#39;m keeping a copy of that for future reference.","body":"That second bit you posted is handy.  I&#39;m keeping a copy of that for future reference."},{"owner":{"account_id":34563,"reputation":19814,"user_id":97754,"accept_rate":90,"display_name":"Margus"},"score":0,"creation_date":1252858157,"post_id":1417450,"comment_id":1261100,"body_markdown":"Depending on size of max, getSoE execution times are on my 3 year old laptop: 100k (0.015s), 1m (0.077s), 10m (0.933s). \n\nIf you are NOT solving Euler problems (spoiler alert), you can take a look at my blog, http://margusmartseppcode.blogspot.com/ (probably not indexed by GoogleBot yet). Solutions 3 and 47 are similar to, what you are trying to do.","body":"Depending on size of max, getSoE execution times are on my 3 year old laptop: 100k (0.015s), 1m (0.077s), 10m (0.933s).   If you are NOT solving Euler problems (spoiler alert), you can take a look at my blog, <a href=\"http://margusmartseppcode.blogspot.com/\" rel=\"nofollow noreferrer\">margusmartseppcode.blogspot.com</a> (probably not indexed by GoogleBot yet). Solutions 3 and 47 are similar to, what you are trying to do."}],"tags":[],"owner":{"account_id":34563,"reputation":19814,"user_id":97754,"accept_rate":90,"display_name":"Margus"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669320701,"creation_date":1252839146,"answer_id":1417450,"question_id":1417291,"body_markdown":"Please read [Michael Borgwardt&#39;s answer][1] first. It’s like all I wanted to say anyhow.\r\n\r\nIf you need some prime numbers, you can just calculate them on the fly:\r\n\r\n    /** Sieve of Eratosthenes. Return prime numbers &lt;= max */\r\n    static Integer[] getSoE(int max) {\r\n        if (max &lt; 1)\r\n            return new Integer[0];\r\n\r\n        BitSet sieve = new BitSet(max / 2);\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n        if (max &gt; 1)\r\n            list.add(2);\r\n        if (max &gt; 2)\r\n            list.add(3);\r\n\r\n        for (int i = 5, f = 1; i &lt;= max; i += 3 - f, f = -f)\r\n            if (sieve.get(i &gt;&gt; 1) == false) {\r\n                for (int add, j = i + (add = i &lt;&lt; 1); j &lt; max; j += add)\r\n                    sieve.set(j &gt;&gt; 1, true);\r\n                list.add(i);\r\n            }\r\n\r\n        return list.toArray(new Integer[0]);\r\n    }\r\n\r\nAssuming you want to read them in from a file:\r\n\r\n    static Integer[] getPrimeFromFile(String Filename) throws FileNotFoundException {\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n        Scanner sc = new Scanner(new File(Filename));\r\n        while (sc.hasNext())\r\n            list.add(sc.nextInt());\r\n        sc.close();\r\n\r\n        return list.toArray(new Integer[0]);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/1417291/isnt-there-a-simple-way-to-include-in-java/1417321#1417321\r\n\r\n","title":"Isn&#39;t there a simple way to &quot;include&quot; in Java?","body":"<p>Please read <a href=\"https://stackoverflow.com/questions/1417291/isnt-there-a-simple-way-to-include-in-java/1417321#1417321\">Michael Borgwardt's answer</a> first. It’s like all I wanted to say anyhow.</p>\n<p>If you need some prime numbers, you can just calculate them on the fly:</p>\n<pre><code>/** Sieve of Eratosthenes. Return prime numbers &lt;= max */\nstatic Integer[] getSoE(int max) {\n    if (max &lt; 1)\n        return new Integer[0];\n\n    BitSet sieve = new BitSet(max / 2);\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    if (max &gt; 1)\n        list.add(2);\n    if (max &gt; 2)\n        list.add(3);\n\n    for (int i = 5, f = 1; i &lt;= max; i += 3 - f, f = -f)\n        if (sieve.get(i &gt;&gt; 1) == false) {\n            for (int add, j = i + (add = i &lt;&lt; 1); j &lt; max; j += add)\n                sieve.set(j &gt;&gt; 1, true);\n            list.add(i);\n        }\n\n    return list.toArray(new Integer[0]);\n}\n</code></pre>\n<p>Assuming you want to read them in from a file:</p>\n<pre><code>static Integer[] getPrimeFromFile(String Filename) throws FileNotFoundException {\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n    Scanner sc = new Scanner(new File(Filename));\n    while (sc.hasNext())\n        list.add(sc.nextInt());\n    sc.close();\n\n    return list.toArray(new Integer[0]);\n}\n</code></pre>\n"}],"owner":{"display_name":"John R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1669320701,"creation_date":1252834163,"question_id":1417291,"body_markdown":"When logically something seems as if it would be dead simple, then it turns out to be completely convoluted.\r\n\r\nI have not used Java much, so please forgive my ignorance. Here is what I am trying to do:\r\n\r\nI have a nice clean algorithm in one .java file, and I want to feed it from an initialized array. The array contains over 40,000 elements, so I want it in a separate file all by itself. How do I do this? Isn&#39;t there a quick way to just say {insert contents of filename.txt here}?\r\n\r\n\r\n","title":"Isn&#39;t there a simple way to &quot;include&quot; in Java?","body":"<p>When logically something seems as if it would be dead simple, then it turns out to be completely convoluted.</p>\n<p>I have not used Java much, so please forgive my ignorance. Here is what I am trying to do:</p>\n<p>I have a nice clean algorithm in one .java file, and I want to feed it from an initialized array. The array contains over 40,000 elements, so I want it in a separate file all by itself. How do I do this? Isn't there a quick way to just say {insert contents of filename.txt here}?</p>\n"},{"tags":["java","angular","spring-boot","api","authentication"],"comments":[{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1649255510,"post_id":71767751,"comment_id":126830186,"body_markdown":"role vs roleS my friend. you did a typo misstake on your SignUpRequest object","body":"role vs roleS my friend. you did a typo misstake on your SignUpRequest object"},{"owner":{"account_id":12875623,"reputation":35,"user_id":9312432,"display_name":" Aziz"},"score":0,"creation_date":1649256404,"post_id":71767751,"comment_id":126830617,"body_markdown":"do you mean that i need to change   private Set&lt;String&gt; role to \t  private Set&lt;String&gt; roles ?","body":"do you mean that i need to change   private Set&lt;String&gt; role to \t  private Set&lt;String&gt; roles ?"},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1649256599,"post_id":71767751,"comment_id":126830689,"body_markdown":"yes of course. Look at your payload, its &quot;roles&quot;","body":"yes of course. Look at your payload, its &quot;roles&quot;"},{"owner":{"account_id":12875623,"reputation":35,"user_id":9312432,"display_name":" Aziz"},"score":0,"creation_date":1649257229,"post_id":71767751,"comment_id":126830969,"body_markdown":"Let me explain more what my problem is , i could pass the role as an array of string , but somehow the server reads my input as null and assign the role admin directly , even though i put in user which means according to my controller it&#39;s the hr agent role , that is what i&#39;m stuck at.","body":"Let me explain more what my problem is , i could pass the role as an array of string , but somehow the server reads my input as null and assign the role admin directly , even though i put in user which means according to my controller it&#39;s the hr agent role , that is what i&#39;m stuck at."},{"owner":{"account_id":12875623,"reputation":35,"user_id":9312432,"display_name":" Aziz"},"score":0,"creation_date":1649257353,"post_id":71767751,"comment_id":126831015,"body_markdown":"I tried changing to roles still not working , always assigning ADMIN role","body":"I tried changing to roles still not working , always assigning ADMIN role"},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":1,"creation_date":1649257641,"post_id":71767751,"comment_id":126831159,"body_markdown":"have you as well renamed your accessors ? getRoles setRoles ? (mapping between payload and java object is made thanks to the accessors by reflection)","body":"have you as well renamed your accessors ? getRoles setRoles ? (mapping between payload and java object is made thanks to the accessors by reflection)"},{"owner":{"account_id":12875623,"reputation":35,"user_id":9312432,"display_name":" Aziz"},"score":0,"creation_date":1649258295,"post_id":71767751,"comment_id":126831474,"body_markdown":"Thank you very much stephane you saved me a lot of time , i changed it in getters and setters and it worked , i never realized this was this sensitive , thanks for your time ! :D","body":"Thank you very much stephane you saved me a lot of time , i changed it in getters and setters and it worked , i never realized this was this sensitive , thanks for your time ! :D"},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1649260137,"post_id":71767751,"comment_id":126832243,"body_markdown":"tip : when you rename a field, do it with the &#39;REFACTORING&#39; functionality of your IDE, and choose to include accessors ;)","body":"tip : when you rename a field, do it with the &#39;REFACTORING&#39; functionality of your IDE, and choose to include accessors ;)"}],"owner":{"account_id":12875623,"reputation":35,"user_id":9312432,"display_name":" Aziz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1669320513,"creation_date":1649252060,"question_id":71767751,"body_markdown":"So i&#39;m trying to add role to my user when i create a new one but it doesn&#39;t seem to work , i don&#39;t understand the reason.\r\n\r\n&gt; This is my model for user\r\n\r\n    @Entity\r\n    @Table(\tname = &quot;users&quot;)\r\n    public class User {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t\r\n    \t@NotBlank\r\n    \tprivate String first_name;\r\n    \t\r\n    \t@NotBlank\r\n    \tprivate String last_name;\r\n    \t\r\n    \t@NotBlank\r\n    \tprivate String profession;\r\n    \t\r\n    \t@NotBlank\r\n    \t@Size(max = 20)\r\n    \tprivate String username;\r\n    \t\r\n    \t@NotBlank\r\n    \t@Size(max = 50)\r\n    \t@Email\r\n    \tprivate String email;\r\n    \t\r\n    \t@NotBlank\r\n    \t@Size(max = 120)\r\n    \tprivate String password;\r\n    \t\r\n    \t\r\n    \t@ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(\tname = &quot;user_roles&quot;, \r\n    \t\t\t\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n    \t\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    \tprivate Set&lt;Role&gt; roles = new HashSet&lt;Role&gt;();\r\n        \r\n    \tpublic User(){\r\n    \t\t\r\n    \t}\r\n    \tpublic User(String username,String first_name, String last_name, String profession,String email, String password) {\r\n    \t\tsuper();\r\n    \t\tthis.username = username;\r\n    \t\tthis.first_name = first_name;\r\n    \t\tthis.last_name = last_name;\r\n    \t\tthis.profession = profession;\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirst_name() {\r\n    \t\treturn first_name;\r\n    \t}\r\n    \r\n    \tpublic void setFirst_name(String first_name) {\r\n    \t\tthis.first_name = first_name;\r\n    \t}\r\n    \r\n    \tpublic String getLast_name() {\r\n    \t\treturn last_name;\r\n    \t}\r\n    \r\n    \tpublic void setLast_name(String last_name) {\r\n    \t\tthis.last_name = last_name;\r\n    \t}\r\n    \r\n    \tpublic String getProfession() {\r\n    \t\treturn profession;\r\n    \t}\r\n    \r\n    \tpublic void setProfession(String profession) {\r\n    \t\tthis.profession = profession;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Role&gt; getRoles() {\r\n    \t\treturn roles;\r\n    \t}\r\n    \r\n    \tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n    \t\tthis.roles = roles;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;User [id=&quot; + id + &quot;, first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name + &quot;, profession=&quot;\r\n    \t\t\t\t+ profession + &quot;, username=&quot; + username + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, roles=&quot;\r\n    \t\t\t\t+ roles + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; This is my controller\r\n\r\n    //Register user\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signupRequest) {\r\n    \tif (userRepository.existsByUsername(signupRequest.getUsername())) {\r\n    \t\treturn ResponseEntity\r\n    \t\t\t\t.badRequest()\r\n    \t\t\t\t.body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n    \t}\r\n    \tif (userRepository.existsByEmail(signupRequest.getEmail())) {\r\n    \t\treturn ResponseEntity\r\n    \t\t\t\t.badRequest()\r\n    \t\t\t\t.body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\r\n    \t}\r\n    \t\r\n    \tUser user = new User(\r\n    \t\t\tsignupRequest.getUsername(),\r\n    \t\t\tsignupRequest.getFirst_name(),\r\n    \t\t\tsignupRequest.getLast_name(),\r\n    \t\t\tsignupRequest.getProfession(),\r\n    \t\t\tsignupRequest.getEmail(),\r\n    \t\t\tencoder.encode(signupRequest.getPassword())\r\n    \t\t\t);\r\n    \t\r\n    \tSet&lt;String&gt; strRoles = signupRequest.getRole();\r\n    \tSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \tif (strRoles == null) {\r\n    \t\tRole userRole = roleRepository.findByName(ERoles.ROLE_ADMIN)\r\n    \t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\troles.add(userRole);\r\n    \t} else {\r\n    \t\tstrRoles.forEach(role -&gt; {\r\n    \t\t\tswitch (role) {\r\n    \t\t\tcase &quot;manager&quot;:\r\n    \t\t\t\tRole hrManagerRole = roleRepository.findByName(ERoles.ROLE_HR_MANAGER)\r\n    \t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\troles.add(hrManagerRole);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;user&quot;:\r\n    \t\t\t\tRole hrAgent = roleRepository.findByName(ERoles.ROLE_HR_AGENT)\r\n    \t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\troles.add(hrAgent);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;technical&quot;:\r\n    \t\t\t\tRole techInterviewer = roleRepository.findByName(ERoles.ROLE_TECHNICAL_INTERVIEWER)\r\n    \t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\troles.add(techInterviewer);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \tuser.setRoles(roles);\r\n    \tuserRepository.save(user);\r\n    \treturn ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n    }\r\n\r\n&gt; this is my signup reqeust page\r\n\r\n    @NotBlank\r\n      @Size(min = 3, max = 20)\r\n      private String username;\r\n      \r\n      @NotBlank\r\n      @Size(min = 6, max = 35)\r\n      private String first_name;\r\n      \r\n      @NotBlank\r\n      @Size(min = 4, max = 20)\r\n      private String last_name;\r\n      \r\n      @NotBlank\r\n      @Size(min =10, max = 50)\r\n      private String profession;\r\n    \r\n      @NotBlank\r\n      @Size(max = 50)\r\n      @Email\r\n      private String email;\r\n    \r\n      private Set&lt;String&gt; role;\r\n    \r\n      @NotBlank\r\n      @Size(min = 6, max = 40)\r\n      private String password;\r\n      \r\n      public SignUpRequest(){\r\n    \t  \r\n      }\r\n    \r\n      public SignUpRequest(@NotBlank @Size(min = 3, max = 20) String username,\r\n    \t\t@NotBlank @Size(min = 6, max = 35) String first_name, @NotBlank @Size(min = 4, max = 20) String last_name,\r\n    \t\t@NotBlank @Size(min = 10, max = 50) String profession, @NotBlank @Size(max = 50) @Email String email,\r\n    \t\t@NotBlank @Size(min = 6, max = 40) String password) {\r\n    \tsuper();\r\n    \tthis.username = username;\r\n    \tthis.first_name = first_name;\r\n    \tthis.last_name = last_name;\r\n    \tthis.profession = profession;\r\n    \tthis.email = email;\r\n    \tthis.password = password;\r\n    }\r\n    \r\n    public String getUsername() {\r\n        return username;\r\n      }\r\n    \r\n      public void setUsername(String username) {\r\n        this.username = username;\r\n      }\r\n    \r\n      public String getEmail() {\r\n        return email;\r\n      }\r\n    \r\n      public void setEmail(String email) {\r\n        this.email = email;\r\n      }\r\n    \r\n      public String getPassword() {\r\n        return password;\r\n      }\r\n    \r\n      public void setPassword(String password) {\r\n        this.password = password;\r\n      }\r\n    \r\n    \r\n    public Set&lt;String&gt; getRole() {\r\n    \treturn role;\r\n    }\r\n    \r\n    public void setRole(Set&lt;String&gt; role) {\r\n    \tthis.role = role;\r\n    }\r\n    \r\n    public String getFirst_name() {\r\n    \treturn first_name;\r\n    }\r\n    \r\n    public void setFirst_name(String first_name) {\r\n    \tthis.first_name = first_name;\r\n    }\r\n    \r\n    public String getLast_name() {\r\n    \treturn last_name;\r\n    }\r\n    \r\n    public void setLast_name(String last_name) {\r\n    \tthis.last_name = last_name;\r\n    }\r\n    \r\n    public String getProfession() {\r\n    \treturn profession;\r\n    }\r\n    \r\n    public void setProfession(String profession) {\r\n    \tthis.profession = profession;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n    \treturn &quot;SignUpRequest [username=&quot; + username + &quot;, first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name\r\n    \t\t\t+ &quot;, profession=&quot; + profession + &quot;, email=&quot; + email + &quot;, role=&quot; + role + &quot;, password=&quot; + password + &quot;]&quot;;\r\n    }\r\n\r\n&gt; This is my model in angular\r\n\r\n        export class User {\r\n        id? : any;\r\n        first_name? : string;\r\n        last_name? : string;\r\n        profession? : string;\r\n        username? : string;\r\n        email? : string;\r\n        password? : string;\r\n        roles? : string[];\r\n    }\r\n\r\n&gt; this is my register method\r\n\r\n        onSubmit(){\r\n        const {username , first_name , last_name , profession , email , password , roles} = this.form;\r\n        const userData : SignUpData = {username , first_name , last_name , profession , email , password , roles : [roles]};\r\n        this.authSerivce.register_user(userData).subscribe(\r\n          data =&gt; {\r\n            console.log(data);\r\n            this.isSuccessful = true;\r\n            this.isSignedUpFailed = false;\r\n            console.log(userData)\r\n          },\r\n          err =&gt; {\r\n            this.errorMessage = err.error.message;\r\n            this.isSignedUpFailed = true;\r\n          }\r\n        );\r\n      }\r\n    \r\n     \r\n\r\n\r\n&gt; this is my role input in html\r\n\r\n   \r\n\r\n     &lt;div class=&quot;form-group&quot;&gt;\r\n              &lt;label for=&quot;roles&quot;&gt;Role&lt;/label&gt;\r\n              &lt;input\r\n                type=&quot;text&quot;\r\n                class=&quot;form-control&quot;\r\n                name=&quot;roles&quot;\r\n                [(ngModel)]=&quot;form.roles&quot;\r\n                required\r\n                #roles=&quot;ngModel&quot;\r\n              /&gt;\r\n    \r\n            &lt;/div&gt;\r\n\r\n\r\n&gt; this my service class\r\n\r\n   \r\n\r\n     import { HttpClient,HttpHeaders } from &#39;@angular/common/http&#39;;\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n    import { Observable } from &#39;rxjs&#39;;\r\n    import { User } from &#39;app/models/user.model&#39;;\r\n    \r\n    const AUTH_API = &#39;http://localhost:8080/api/auth/&#39;;\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({ &#39;Content-Type&#39;: &#39;application/json&#39; })\r\n    };\r\n    \r\n    export interface SignUpData {\r\n      username: string;\r\n      first_name : string;\r\n      last_name : string;\r\n      profession : string;\r\n      email: string;\r\n      password: string;\r\n      roles: string[];\r\n    }\r\n    \r\n    \r\n    \r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    export class AuthenticationService {\r\n    user : User;\r\n    \r\n      \r\n      constructor(private http : HttpClient) { }\r\n    \r\n      //Login service for user authentication , sends data inside observable through the AUTH_API/signin and if it matches existing user , authenticates\r\n      login_user(username: string, password: string): Observable&lt;any&gt; {\r\n        return this.http.post(AUTH_API + &#39;signin&#39;, {\r\n          username,\r\n          password\r\n        }, httpOptions);\r\n      }\r\n    \r\n    \r\n      //Signup service for user account creation , sends data inside observable throught the AUTH_API/signup and if data is valid , creates account\r\n      register_user(user : SignUpData) : Observable&lt;any&gt;{\r\n        return this.http.post(AUTH_API + &#39;signup&#39;,user,httpOptions);\r\n      }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n&gt; This is the payload after i submit my form \r\n\r\n   \r\n\r\n     {username: &quot;aziza&quot;, first_name: &quot;aziza&quot;, last_name: &quot;chouchane&quot;, profession: \r\n     &quot;student&quot;,…}\r\n    email: &quot;aziza@gmail.com&quot;\r\n    first_name: &quot;aziza&quot;\r\n    last_name: &quot;chouchane&quot;\r\n    password: &quot;poiuraze&quot;\r\n    profession: &quot;student&quot;\r\n    roles: [&quot;user&quot;]\r\n    0: &quot;user&quot;\r\n    username: &quot;aziza&quot;\r\n\r\n    \r\n\r\n\r\n  \r\n\r\n\r\n\r\n","title":"Is there way that i can pass role for user in user registration , i&#39;m currently passing a list of strings and it&#39;s working is postman but not in front","body":"<p>So i'm trying to add role to my user when i create a new one but it doesn't seem to work , i don't understand the reason.</p>\n<blockquote>\n<p>This is my model for user</p>\n</blockquote>\n<pre><code>@Entity\n@Table( name = &quot;users&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @NotBlank\n    private String first_name;\n    \n    @NotBlank\n    private String last_name;\n    \n    @NotBlank\n    private String profession;\n    \n    @NotBlank\n    @Size(max = 20)\n    private String username;\n    \n    @NotBlank\n    @Size(max = 50)\n    @Email\n    private String email;\n    \n    @NotBlank\n    @Size(max = 120)\n    private String password;\n    \n    \n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable( name = &quot;user_roles&quot;, \n                joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;Role&gt;();\n    \n    public User(){\n        \n    }\n    public User(String username,String first_name, String last_name, String profession,String email, String password) {\n        super();\n        this.username = username;\n        this.first_name = first_name;\n        this.last_name = last_name;\n        this.profession = profession;\n        this.email = email;\n        this.password = password;\n    \n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirst_name() {\n        return first_name;\n    }\n\n    public void setFirst_name(String first_name) {\n        this.first_name = first_name;\n    }\n\n    public String getLast_name() {\n        return last_name;\n    }\n\n    public void setLast_name(String last_name) {\n        this.last_name = last_name;\n    }\n\n    public String getProfession() {\n        return profession;\n    }\n\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name + &quot;, profession=&quot;\n                + profession + &quot;, username=&quot; + username + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, roles=&quot;\n                + roles + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>This is my controller</p>\n</blockquote>\n<pre><code>//Register user\n@PostMapping(&quot;/signup&quot;)\npublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signupRequest) {\n    if (userRepository.existsByUsername(signupRequest.getUsername())) {\n        return ResponseEntity\n                .badRequest()\n                .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n    }\n    if (userRepository.existsByEmail(signupRequest.getEmail())) {\n        return ResponseEntity\n                .badRequest()\n                .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\n    }\n    \n    User user = new User(\n            signupRequest.getUsername(),\n            signupRequest.getFirst_name(),\n            signupRequest.getLast_name(),\n            signupRequest.getProfession(),\n            signupRequest.getEmail(),\n            encoder.encode(signupRequest.getPassword())\n            );\n    \n    Set&lt;String&gt; strRoles = signupRequest.getRole();\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    if (strRoles == null) {\n        Role userRole = roleRepository.findByName(ERoles.ROLE_ADMIN)\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n        roles.add(userRole);\n    } else {\n        strRoles.forEach(role -&gt; {\n            switch (role) {\n            case &quot;manager&quot;:\n                Role hrManagerRole = roleRepository.findByName(ERoles.ROLE_HR_MANAGER)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(hrManagerRole);\n                break;\n            case &quot;user&quot;:\n                Role hrAgent = roleRepository.findByName(ERoles.ROLE_HR_AGENT)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(hrAgent);\n                break;\n            case &quot;technical&quot;:\n                Role techInterviewer = roleRepository.findByName(ERoles.ROLE_TECHNICAL_INTERVIEWER)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(techInterviewer);\n                break;\n            \n            }\n        });\n    }\n    user.setRoles(roles);\n    userRepository.save(user);\n    return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n}\n</code></pre>\n<blockquote>\n<p>this is my signup reqeust page</p>\n</blockquote>\n<pre><code>@NotBlank\n  @Size(min = 3, max = 20)\n  private String username;\n  \n  @NotBlank\n  @Size(min = 6, max = 35)\n  private String first_name;\n  \n  @NotBlank\n  @Size(min = 4, max = 20)\n  private String last_name;\n  \n  @NotBlank\n  @Size(min =10, max = 50)\n  private String profession;\n\n  @NotBlank\n  @Size(max = 50)\n  @Email\n  private String email;\n\n  private Set&lt;String&gt; role;\n\n  @NotBlank\n  @Size(min = 6, max = 40)\n  private String password;\n  \n  public SignUpRequest(){\n      \n  }\n\n  public SignUpRequest(@NotBlank @Size(min = 3, max = 20) String username,\n        @NotBlank @Size(min = 6, max = 35) String first_name, @NotBlank @Size(min = 4, max = 20) String last_name,\n        @NotBlank @Size(min = 10, max = 50) String profession, @NotBlank @Size(max = 50) @Email String email,\n        @NotBlank @Size(min = 6, max = 40) String password) {\n    super();\n    this.username = username;\n    this.first_name = first_name;\n    this.last_name = last_name;\n    this.profession = profession;\n    this.email = email;\n    this.password = password;\n}\n\npublic String getUsername() {\n    return username;\n  }\n\n  public void setUsername(String username) {\n    this.username = username;\n  }\n\n  public String getEmail() {\n    return email;\n  }\n\n  public void setEmail(String email) {\n    this.email = email;\n  }\n\n  public String getPassword() {\n    return password;\n  }\n\n  public void setPassword(String password) {\n    this.password = password;\n  }\n\n\npublic Set&lt;String&gt; getRole() {\n    return role;\n}\n\npublic void setRole(Set&lt;String&gt; role) {\n    this.role = role;\n}\n\npublic String getFirst_name() {\n    return first_name;\n}\n\npublic void setFirst_name(String first_name) {\n    this.first_name = first_name;\n}\n\npublic String getLast_name() {\n    return last_name;\n}\n\npublic void setLast_name(String last_name) {\n    this.last_name = last_name;\n}\n\npublic String getProfession() {\n    return profession;\n}\n\npublic void setProfession(String profession) {\n    this.profession = profession;\n}\n\n@Override\npublic String toString() {\n    return &quot;SignUpRequest [username=&quot; + username + &quot;, first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name\n            + &quot;, profession=&quot; + profession + &quot;, email=&quot; + email + &quot;, role=&quot; + role + &quot;, password=&quot; + password + &quot;]&quot;;\n}\n</code></pre>\n<blockquote>\n<p>This is my model in angular</p>\n</blockquote>\n<pre><code>    export class User {\n    id? : any;\n    first_name? : string;\n    last_name? : string;\n    profession? : string;\n    username? : string;\n    email? : string;\n    password? : string;\n    roles? : string[];\n}\n</code></pre>\n<blockquote>\n<p>this is my register method</p>\n</blockquote>\n<pre><code>    onSubmit(){\n    const {username , first_name , last_name , profession , email , password , roles} = this.form;\n    const userData : SignUpData = {username , first_name , last_name , profession , email , password , roles : [roles]};\n    this.authSerivce.register_user(userData).subscribe(\n      data =&gt; {\n        console.log(data);\n        this.isSuccessful = true;\n        this.isSignedUpFailed = false;\n        console.log(userData)\n      },\n      err =&gt; {\n        this.errorMessage = err.error.message;\n        this.isSignedUpFailed = true;\n      }\n    );\n  }\n\n \n</code></pre>\n<blockquote>\n<p>this is my role input in html</p>\n</blockquote>\n<pre><code> &lt;div class=&quot;form-group&quot;&gt;\n          &lt;label for=&quot;roles&quot;&gt;Role&lt;/label&gt;\n          &lt;input\n            type=&quot;text&quot;\n            class=&quot;form-control&quot;\n            name=&quot;roles&quot;\n            [(ngModel)]=&quot;form.roles&quot;\n            required\n            #roles=&quot;ngModel&quot;\n          /&gt;\n\n        &lt;/div&gt;\n</code></pre>\n<blockquote>\n<p>this my service class</p>\n</blockquote>\n<pre><code> import { HttpClient,HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { User } from 'app/models/user.model';\n\nconst AUTH_API = 'http://localhost:8080/api/auth/';\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\nexport interface SignUpData {\n  username: string;\n  first_name : string;\n  last_name : string;\n  profession : string;\n  email: string;\n  password: string;\n  roles: string[];\n}\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationService {\nuser : User;\n\n  \n  constructor(private http : HttpClient) { }\n\n  //Login service for user authentication , sends data inside observable through the AUTH_API/signin and if it matches existing user , authenticates\n  login_user(username: string, password: string): Observable&lt;any&gt; {\n    return this.http.post(AUTH_API + 'signin', {\n      username,\n      password\n    }, httpOptions);\n  }\n\n\n  //Signup service for user account creation , sends data inside observable throught the AUTH_API/signup and if data is valid , creates account\n  register_user(user : SignUpData) : Observable&lt;any&gt;{\n    return this.http.post(AUTH_API + 'signup',user,httpOptions);\n  }\n\n\n}\n</code></pre>\n<blockquote>\n<p>This is the payload after i submit my form</p>\n</blockquote>\n<pre><code> {username: &quot;aziza&quot;, first_name: &quot;aziza&quot;, last_name: &quot;chouchane&quot;, profession: \n &quot;student&quot;,…}\nemail: &quot;aziza@gmail.com&quot;\nfirst_name: &quot;aziza&quot;\nlast_name: &quot;chouchane&quot;\npassword: &quot;poiuraze&quot;\nprofession: &quot;student&quot;\nroles: [&quot;user&quot;]\n0: &quot;user&quot;\nusername: &quot;aziza&quot;\n</code></pre>\n"},{"tags":["java","jsp","struts"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1314948557,"post_id":7280324,"comment_id":8766017,"body_markdown":"Please post the complete exception stacktrace.","body":"Please post the complete exception stacktrace."},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1314948624,"post_id":7280324,"comment_id":8766039,"body_markdown":"Where does the error happen within your code, and what is the exact error message? What are the steps to reproduce the error?","body":"Where does the error happen within your code, and what is the exact error message? What are the steps to reproduce the error?"},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314952651,"post_id":7280324,"comment_id":8766925,"body_markdown":"yes i have added my Exception .Please go through it","body":"yes i have added my Exception .Please go through it"}],"answers":[{"comments":[{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314949054,"post_id":7280429,"comment_id":8766143,"body_markdown":"i am not using Spring and we are making the connection only hibernate .there we are not using any kind of mapping.is there any kind of things by which i can get the book object from booklist","body":"i am not using Spring and we are making the connection only hibernate .there we are not using any kind of mapping.is there any kind of things by which i can get the book object from booklist"},{"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"score":0,"creation_date":1314949270,"post_id":7280429,"comment_id":8766179,"body_markdown":"you must be using some kind of way to tell hibernate to populate the values to a pojo.. \n - using xml mapping files (.hbm.xml)\n - using annotations\nsince your pojo didn&#39;t have an annotation i assumed you were using xmls. you need to create a simple .hbm.xml file  (as shown in the link) &amp; add its reference to your hibernate.cfg.xml (&lt;resource file=&quot;&lt;&lt;path to he file&gt;&gt;&quot;/&gt;)","body":"you must be using some kind of way to tell hibernate to populate the values to a pojo..   - using xml mapping files (.hbm.xml)  - using annotations since your pojo didn&#39;t have an annotation i assumed you were using xmls. you need to create a simple .hbm.xml file  (as shown in the link) &amp; add its reference to your hibernate.cfg.xml (&lt;resource file=&quot;&lt;&lt;path to he file&gt;&gt;&quot;/&gt;)"},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314952572,"post_id":7280429,"comment_id":8766906,"body_markdown":"We are not using any kind of mapping here.using that i can easily insert data but tel me if i can pass my booklist to another method and change it to book object","body":"We are not using any kind of mapping here.using that i can easily insert data but tel me if i can pass my booklist to another method and change it to book object"},{"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"score":0,"creation_date":1314953883,"post_id":7280429,"comment_id":8767251,"body_markdown":"yes you can.. you need to figure out  which array index has which field value, iterate through the list, set the pojo fields, add the pojo to a list &amp; return it..","body":"yes you can.. you need to figure out  which array index has which field value, iterate through the list, set the pojo fields, add the pojo to a list &amp; return it.."},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314954484,"post_id":7280429,"comment_id":8767405,"body_markdown":"Plz show me like a example .Am not getting the idea to itarate it.plz help .......","body":"Plz show me like a example .Am not getting the idea to itarate it.plz help ......."},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314955740,"post_id":7280429,"comment_id":8767735,"body_markdown":"thanks .i need to pass &quot;books&quot; to my Dao so that i can use it in my action. i am not able to pass it","body":"thanks .i need to pass &quot;books&quot; to my Dao so that i can use it in my action. i am not able to pass it"},{"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"score":0,"creation_date":1314960432,"post_id":7280429,"comment_id":8768942,"body_markdown":"booklist=getList(query.list());\nhere convertObjectArray2List is the method which does the conversion..","body":"booklist=getList(query.list()); here convertObjectArray2List is the method which does the conversion.."},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314960628,"post_id":7280429,"comment_id":8768985,"body_markdown":"Can u explain me this things using my Code.plz do this help am in very big problem","body":"Can u explain me this things using my Code.plz do this help am in very big problem"},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314960885,"post_id":7280429,"comment_id":8769050,"body_markdown":"just use my  code and mention there plz.in my DAO itself shall i use it","body":"just use my  code and mention there plz.in my DAO itself shall i use it"},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314961613,"post_id":7280429,"comment_id":8769195,"body_markdown":"i have some problem when i implemented you code that isHibernate: {call SP_bookRequestTable()}\nException in BookREqueststatus::java.lang.UnsupportedOperationException: Not yet implemented\nSep 2, 2011 4:30:22 PM org.apache.struts.action.RequestProcessor processException\nWARNING: Unhandled Exception thrown: class java.lang.NullPointerException plz help me","body":"i have some problem when i implemented you code that isHibernate: {call SP_bookRequestTable()} Exception in BookREqueststatus::java.lang.UnsupportedOperationException: Not yet implemented Sep 2, 2011 4:30:22 PM org.apache.struts.action.RequestProcessor processException WARNING: Unhandled Exception thrown: class java.lang.NullPointerException plz help me"},{"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"score":0,"creation_date":1314962248,"post_id":7280429,"comment_id":8769351,"body_markdown":"please update your question with the problem... we can take this further from there, this comment thread is getting way too big. you can also ping me via email.","body":"please update your question with the problem... we can take this further from there, this comment thread is getting way too big. you can also ping me via email."},{"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"score":0,"creation_date":1314967113,"post_id":7280429,"comment_id":8770631,"body_markdown":"check my profile for my blog... you can find your answers there. your questions are very trivial very basic.","body":"check my profile for my blog... you can find your answers there. your questions are very trivial very basic."},{"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"score":0,"creation_date":1314968629,"post_id":7280429,"comment_id":8771127,"body_markdown":"i have send my doubt to your mail plz check it","body":"i have send my doubt to your mail plz check it"}],"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314961314,"creation_date":1314948818,"answer_id":7280429,"question_id":7280324,"body_markdown":"the reason why you are getting the exception is because the call to the stored procedure is returning an array of values which is not directly convertable to a class..\r\nyou can do one of the 2 things to get a list of books instead of list of object[].\r\n\r\n - you can map the procedure in your .hbm.xml file &amp; call it. ([example][1])\r\n - you can use a RowMapper class instance to map the rows. (this is something available in [spring][2]).\r\n\r\npersonally I&#39;d prefer mapping the procedure, its a lot more elegant.\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=965213\r\n  [2]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/jdbc/core/RowMapper.html\r\n\r\nexample to iterate :\r\n\r\n    // can be used in DAO to convert the object array into List of Objects\r\n        public List&lt;Book&gt; getList(List&lt;Object[]&gt; bookResult){\r\n        List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\r\n        for(Object[] array:bookResult){\r\n        Book book= new Book();\r\n        book.setTitle(arr[0]); // you need to set the value of each pojo field here.\r\n        books.add(book);\r\n        }\r\n        return books;\r\n        }","title":"java.lang.ClassCastException: [Ljava.lang.Object; and how to Convert the Class","body":"<p>the reason why you are getting the exception is because the call to the stored procedure is returning an array of values which is not directly convertable to a class..\nyou can do one of the 2 things to get a list of books instead of list of object[].</p>\n\n<ul>\n<li>you can map the procedure in your .hbm.xml file &amp; call it. (<a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=965213\" rel=\"nofollow\">example</a>)</li>\n<li>you can use a RowMapper class instance to map the rows. (this is something available in <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/jdbc/core/RowMapper.html\" rel=\"nofollow\">spring</a>).</li>\n</ul>\n\n<p>personally I'd prefer mapping the procedure, its a lot more elegant.</p>\n\n<p>example to iterate :</p>\n\n<pre><code>// can be used in DAO to convert the object array into List of Objects\n    public List&lt;Book&gt; getList(List&lt;Object[]&gt; bookResult){\n    List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\n    for(Object[] array:bookResult){\n    Book book= new Book();\n    book.setTitle(arr[0]); // you need to set the value of each pojo field here.\n    books.add(book);\n    }\n    return books;\n    }\n</code></pre>\n"}],"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669320340,"creation_date":1314948214,"question_id":7280324,"body_markdown":"my DAO is\r\n\r\n    public class bookRequestStatusDAO {\r\n     \r\n        public static  List&lt;Book&gt; getbookRequest()\r\n        {\r\n           \r\n               Session session=null;\r\n               try\r\n               {\r\n                     List booklist=new ArrayList();\r\n             \r\n                session = HibernateUtil.getSession();\r\n                System.out.println(&quot; Session :: &quot;+session);\r\n                Query query=session.createSQLQuery(&quot;{call SP_bookRequestTable()}&quot;);\r\n                booklist=query.list();\r\n                System.out.println(&quot;in dao getrequest----&quot;+booklist.size());\r\n                if(booklist!=null)\r\n                return booklist;\r\n                else\r\n                    return new ArrayList();\r\n               }\r\n               catch(Exception e)\r\n               {\r\n                   System.out.println(&quot;Exception in BookREqueststatus::&quot;+e);\r\n                   return  null;\r\n               }\r\n               finally\r\n               {\r\n                   session.close();\r\n                    \r\n               }\r\n         \r\n        }\r\n\r\nmy Struts Action Class is\r\n\r\n\r\n    public ActionForward execute(ActionMapping mapping, ActionForm  form,\r\n                HttpServletRequest request, HttpServletResponse response)\r\n                throws Exception {\r\n              System.out.println(&quot; exce -----&quot;);\r\n            BookrequeststatusForm bookrequeststatusForm=(BookrequeststatusForm)form;\r\n            List&lt;Book&gt; convertlist=new ArrayList&lt;Book&gt;();\r\n               convertlist=bookRequestStatusDAO.getbookRequest();\r\n              \r\n              \r\n             System.out.println(&quot;list in Action::&quot; +convertlist.size() );\r\n              request.setAttribute(&quot;bookDeatils&quot;,convertlist );\r\n            System.out.print(&quot;request in Action::&quot;+request.getAttribute(&quot;bookDeatils&quot;));\r\n            return mapping.findForward(Constants.ACTION_FORWARD_SUCCESS);\r\n            \r\n        }\r\n    }\r\n\r\nand in my jsp\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/REC_BookBank/css/bookRequestStatus.css&quot;&gt;\r\n    &lt;% \r\n       List&lt;Book&gt;list=new ArrayList&lt;Book&gt;();\r\n        if(request.getAttribute(&quot;bookDeatils&quot;)!=null)\r\n        {\r\n          \r\n            list = (ArrayList)request.getAttribute(&quot;bookDeatils&quot;);\r\n                System.out.println(&quot;inside loop List --- &quot;+list.size());\r\n                for(Book book : list)\r\n                    {\r\n                    out.println(&quot;&lt;tr&gt;&lt;td&gt;&quot;+book.getId()+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n                }\r\n                   }\r\n        System.out.println(&quot; List --- &quot;+list.size());\r\n    %&gt;\r\n\r\nmy Book.java\r\n\r\n\r\n\r\n    import java.io.Serializable;\r\n    \r\n    /**\r\n     *\r\n     * @author Administrator\r\n     */\r\n    public class Book implements Serializable {\r\n     private String id;\r\n     private String subject;\r\n     private String title;\r\n     private String author;\r\n     private String publication;\r\n     private String edition;\r\n     private String status;\r\n     private String mode;\r\n    \r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n    \r\n        public void setAuthor(String author) {\r\n            this.author = author;\r\n        }\r\n    \r\n        public String getEdition() {\r\n            return edition;\r\n        }\r\n    \r\n        public void setEdition(String edition) {\r\n            this.edition = edition;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getMode() {\r\n            return mode;\r\n        }\r\n    \r\n        public void setMode(String mode) {\r\n            this.mode = mode;\r\n        }\r\n    \r\n        public String getPublication() {\r\n            return publication;\r\n        }\r\n    \r\n        public void setPublication(String publication) {\r\n            this.publication = publication;\r\n        }\r\n    \r\n        public String getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(String status) {\r\n            this.status = status;\r\n        }\r\n    \r\n        public String getSubject() {\r\n            return subject;\r\n        }\r\n    \r\n        public void setSubject(String subject) {\r\n            this.subject = subject;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n     \r\n    }\r\nin tomcat Consul\r\n \r\n\r\n     exce -----\r\n     Session :: SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=[] updates=[] deletions=[] collectionCreations=[] collectionRemovals=[] collectionUpdates=[]])\r\n    Hibernate: {call SP_bookRequestTable()}\r\n    in dao getrequest----1\r\n    list in Action::1\r\n    request in Action::[[Ljava.lang.Object;@14ef239]inside loop List --- 1\r\n\r\nException\r\nHTTP Status 500 - \r\n\r\n--------------------------------------------------------------------------------\r\n\r\ntype Exception report\r\n\r\nmessage \r\n\r\ndescription The server encountered an internal error () that prevented it from fulfilling this request.\r\n\r\nexception in\r\n\r\n    org.apache.jasper.JasperException: java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to com.rec.bookbank.persitencejavafile.Book\r\n    \torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:541)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:435)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\r\n    \torg.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085)\r\n    \torg.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)\r\n    \torg.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:398)\r\n    \torg.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:318)\r\n    \torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241)\r\n    \torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\r\n    \torg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\r\n    \r\n    \r\n    root cause \r\n    \r\n    java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to com.rec.bookbank.persitencejavafile.Book\r\n    \torg.apache.jsp.jsp.bookRequestStatus_jsp._jspService(bookRequestStatus_jsp.java:82)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\r\n    \torg.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085)\r\n    \torg.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)\r\n    \torg.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:398)\r\n    \torg.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:318)\r\n    \torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241)\r\n    \torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\r\n    \torg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\r\n    \r\n    \r\n    note The full stack trace of the root cause is available in the Apache Tomcat/6.0.14 logs.\r\n\r\n\r\n\r\n\r\nI need to print the value here, but it showing the Exception `ClassCastException`.\r\n","title":"java.lang.ClassCastException: [Ljava.lang.Object; and how to Convert the Class","body":"<p>my DAO is</p>\n\n<pre><code>public class bookRequestStatusDAO {\n\n    public static  List&lt;Book&gt; getbookRequest()\n    {\n\n           Session session=null;\n           try\n           {\n                 List booklist=new ArrayList();\n\n            session = HibernateUtil.getSession();\n            System.out.println(\" Session :: \"+session);\n            Query query=session.createSQLQuery(\"{call SP_bookRequestTable()}\");\n            booklist=query.list();\n            System.out.println(\"in dao getrequest----\"+booklist.size());\n            if(booklist!=null)\n            return booklist;\n            else\n                return new ArrayList();\n           }\n           catch(Exception e)\n           {\n               System.out.println(\"Exception in BookREqueststatus::\"+e);\n               return  null;\n           }\n           finally\n           {\n               session.close();\n\n           }\n\n    }\n</code></pre>\n\n<p>my Struts Action Class is</p>\n\n<pre><code>public ActionForward execute(ActionMapping mapping, ActionForm  form,\n            HttpServletRequest request, HttpServletResponse response)\n            throws Exception {\n          System.out.println(\" exce -----\");\n        BookrequeststatusForm bookrequeststatusForm=(BookrequeststatusForm)form;\n        List&lt;Book&gt; convertlist=new ArrayList&lt;Book&gt;();\n           convertlist=bookRequestStatusDAO.getbookRequest();\n\n\n         System.out.println(\"list in Action::\" +convertlist.size() );\n          request.setAttribute(\"bookDeatils\",convertlist );\n        System.out.print(\"request in Action::\"+request.getAttribute(\"bookDeatils\"));\n        return mapping.findForward(Constants.ACTION_FORWARD_SUCCESS);\n\n    }\n}\n</code></pre>\n\n<p>and in my jsp</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"/REC_BookBank/css/bookRequestStatus.css\"&gt;\n&lt;% \n   List&lt;Book&gt;list=new ArrayList&lt;Book&gt;();\n    if(request.getAttribute(\"bookDeatils\")!=null)\n    {\n\n        list = (ArrayList)request.getAttribute(\"bookDeatils\");\n            System.out.println(\"inside loop List --- \"+list.size());\n            for(Book book : list)\n                {\n                out.println(\"&lt;tr&gt;&lt;td&gt;\"+book.getId()+\"&lt;/td&gt;&lt;/tr&gt;\");\n            }\n               }\n    System.out.println(\" List --- \"+list.size());\n%&gt;\n</code></pre>\n\n<p>my Book.java</p>\n\n<pre><code>import java.io.Serializable;\n\n/**\n *\n * @author Administrator\n */\npublic class Book implements Serializable {\n private String id;\n private String subject;\n private String title;\n private String author;\n private String publication;\n private String edition;\n private String status;\n private String mode;\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public String getEdition() {\n        return edition;\n    }\n\n    public void setEdition(String edition) {\n        this.edition = edition;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getMode() {\n        return mode;\n    }\n\n    public void setMode(String mode) {\n        this.mode = mode;\n    }\n\n    public String getPublication() {\n        return publication;\n    }\n\n    public void setPublication(String publication) {\n        this.publication = publication;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n}\n</code></pre>\n\n<p>in tomcat Consul</p>\n\n<pre><code> exce -----\n Session :: SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=[] updates=[] deletions=[] collectionCreations=[] collectionRemovals=[] collectionUpdates=[]])\nHibernate: {call SP_bookRequestTable()}\nin dao getrequest----1\nlist in Action::1\nrequest in Action::[[Ljava.lang.Object;@14ef239]inside loop List --- 1\n</code></pre>\n\n<p>Exception\nHTTP Status 500 - </p>\n\n<hr>\n\n<p>type Exception report</p>\n\n<p>message </p>\n\n<p>description The server encountered an internal error () that prevented it from fulfilling this request.</p>\n\n<p>exception in</p>\n\n<pre><code>org.apache.jasper.JasperException: java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to com.rec.bookbank.persitencejavafile.Book\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:541)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:435)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\n    org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085)\n    org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)\n    org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:398)\n    org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:318)\n    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241)\n    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\n    org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\n\n\nroot cause \n\njava.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to com.rec.bookbank.persitencejavafile.Book\n    org.apache.jsp.jsp.bookRequestStatus_jsp._jspService(bookRequestStatus_jsp.java:82)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\n    org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085)\n    org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)\n    org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:398)\n    org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:318)\n    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241)\n    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\n    org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\n\n\nnote The full stack trace of the root cause is available in the Apache Tomcat/6.0.14 logs.\n</code></pre>\n\n<p>I need to print the value here, but it showing the Exception <code>ClassCastException</code>.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524189322,"creation_date":1524189322,"answer_id":49932742,"question_id":49932667,"body_markdown":"You don&#39;t need to map anything. Just throw if not present. Here&#39;s how I&#39;d think it through:\r\n\r\nFirst pretend the Optional is a real object and everything is ok.\r\n\r\n    return new ProductResponse(foundProductOpt\r\n                               , &quot;ok&quot;);\r\n\r\nThen convert the Optional using `orElseThrow()`.\r\n\r\n    return new ProductResponse(foundProductOpt // Unchanged\r\n            .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found&quot;))\r\n                               , &quot;ok&quot;); // Unchanged","title":"How can I use map and orElseThrow on the same line?","body":"<p>You don't need to map anything. Just throw if not present. Here's how I'd think it through:</p>\n\n<p>First pretend the Optional is a real object and everything is ok.</p>\n\n<pre><code>return new ProductResponse(foundProductOpt\n                           , \"ok\");\n</code></pre>\n\n<p>Then convert the Optional using <code>orElseThrow()</code>.</p>\n\n<pre><code>return new ProductResponse(foundProductOpt // Unchanged\n        .orElseThrow(() -&gt; new EntityNotFoundException(\"Not found\"))\n                           , \"ok\"); // Unchanged\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524189628,"creation_date":1524189628,"answer_id":49932779,"question_id":49932667,"body_markdown":"You should change this line:\r\n\r\n    return foundProductOpt\r\n        .map(() -&gt; new ProductResponse(product, &quot;ok&quot;)\r\n        .orElseThrow(() -&gt; new EntityNotFoundException(\r\n            &quot;Product with id &quot; + productId + &quot;was not found&quot;));\r\n\r\nTo:\r\n\r\n    return foundProductOpt\r\n        .map(p -&gt; new ProductResponse(p, &quot;ok&quot;))\r\n        .orElseThrow(() -&gt; new EntityNotFoundException(\r\n            &quot;Product with id &quot; + productId + &quot;was not found&quot;));\r\n\r\nFormatting such long lines correctly improves readability. Besides, you were not using [`Optional.map`][1] and [`Optional.orElseThrow`][2] correctly.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#orElseThrow(java.util.function.Supplier)","title":"How can I use map and orElseThrow on the same line?","body":"<p>You should change this line:</p>\n\n<pre><code>return foundProductOpt\n    .map(() -&gt; new ProductResponse(product, \"ok\")\n    .orElseThrow(() -&gt; new EntityNotFoundException(\n        \"Product with id \" + productId + \"was not found\"));\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>return foundProductOpt\n    .map(p -&gt; new ProductResponse(p, \"ok\"))\n    .orElseThrow(() -&gt; new EntityNotFoundException(\n        \"Product with id \" + productId + \"was not found\"));\n</code></pre>\n\n<p>Formatting such long lines correctly improves readability. Besides, you were not using <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Optional.map</code></a> and <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#orElseThrow(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional.orElseThrow</code></a> correctly.</p>\n"}],"owner":{"account_id":12910131,"reputation":591,"user_id":9336104,"display_name":"Brett Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4840,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49932779,"answer_count":2,"score":1,"last_activity_date":1669320318,"creation_date":1524188723,"question_id":49932667,"body_markdown":"I want to construct an object from an Optional object, and throw an exception if the Optional object is not present.\r\n \r\n    @GetMapping(&quot;/{productId}&quot;)\r\n        public ProductResponse getOneProduct(@PathVariable Long productId) {\r\n            Optional&lt;Product&gt; foundProductOpt = productRepository.findById(productId);\r\n            return foundProductOpt.map(() -&gt;\r\n                   new ProductResponse(product, &quot;ok&quot;).orElseThrow(() -&gt;\r\n                           new EntityNotFoundException(&quot;Product with id &quot; +\r\n                                                       productId + &quot;was not found&quot;));\r\n        }\r\n\r\nBeen googling and it seems that I cannot use the map method this way where I would like to find a Product using findById and then put it into a foundProductOpt variable and then instantiate a response object with the found Product as well as a message along with it.\r\n\r\nHow can I pass an object from an Optional into a method or constructor, or throw an exception if the object is not present?","title":"How can I use map and orElseThrow on the same line?","body":"<p>I want to construct an object from an Optional object, and throw an exception if the Optional object is not present.</p>\n\n<pre><code>@GetMapping(\"/{productId}\")\n    public ProductResponse getOneProduct(@PathVariable Long productId) {\n        Optional&lt;Product&gt; foundProductOpt = productRepository.findById(productId);\n        return foundProductOpt.map(() -&gt;\n               new ProductResponse(product, \"ok\").orElseThrow(() -&gt;\n                       new EntityNotFoundException(\"Product with id \" +\n                                                   productId + \"was not found\"));\n    }\n</code></pre>\n\n<p>Been googling and it seems that I cannot use the map method this way where I would like to find a Product using findById and then put it into a foundProductOpt variable and then instantiate a response object with the found Product as well as a message along with it.</p>\n\n<p>How can I pass an object from an Optional into a method or constructor, or throw an exception if the object is not present?</p>\n"},{"tags":["java","security","encryption","rsa","decode"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1542667496,"post_id":53381470,"comment_id":93643415,"body_markdown":"1. RSA should not be used to directly encrypt data, you&#39;ll find many examples here  on stackoverflow and elsewhere of hybrid encryption. 2) You must call the `doFinal()` method of a Cipher object to get correct results.","body":"1. RSA should not be used to directly encrypt data, you&#39;ll find many examples here  on stackoverflow and elsewhere of hybrid encryption. 2) You must call the <code>doFinal()</code> method of a Cipher object to get correct results."}],"owner":{"account_id":14673719,"reputation":33,"user_id":10604983,"display_name":"Simons C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669319473,"creation_date":1542656124,"question_id":53381470,"body_markdown":"I have a application client/server which encrypts a file on the client side with the following code:\r\n\r\n     private static byte[] cifrador(byte[] file) throws Exception {\r\n        \r\n        String provider = &quot;SunJCE&quot;;\r\n        String algorithm = &quot;RSA&quot;;\r\n        String transfor = &quot;/ECB/PKCS1Padding&quot;;\r\n\r\n        /************************************************************\r\n         * Xerar e almacear a clave\r\n         ************************************************************/\r\n\r\n        // Obter a clave publica do trustStore\r\n\r\n        KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n\r\n        ks.load(new FileInputStream(pathCliente + TrustStore), password.toCharArray());\r\n\r\n        PublicKey publicKeyServer = ks.getCertificate(&quot;serverkey&quot;).getPublicKey();\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm + transform);\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKeyServer);\r\n        byte[] encodedFile = cipher.update(file);\r\n        return encodedFile;\r\n    }\r\n\r\nAfter this I send by SSL connection the file encoded to the server and the server try to encoded it with the following code:\r\n\r\n    public static byte[] descifrador(byte[] encodedFile) throws Exception {\r\n        String provider = &quot;SunJCE&quot;;\r\n        String algorithm = &quot;RSA&quot;;\r\n        String transform = &quot;/ECB/PKCS1Padding&quot;;\r\n\r\n        char[] key_password = password.toCharArray();\r\n        KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n\r\n        ks.load(new FileInputStream(path + KeyStore), key_password);\r\n\r\n        KeyStore.PrivateKeyEntry pkEntry = (KeyStore.PrivateKeyEntry)\r\n                ks.getEntry(&quot;serverkey&quot;,\r\n                        new KeyStore.PasswordProtection(key_password));\r\n\r\n\r\n        PrivateKey privateKeyServer = (PrivateKey) ks.getKey(&quot;serverkey&quot;, key_password);\r\n\r\n        Cipher decoder = Cipher.getInstance(algorithm + transform);\r\n\r\n        decoder.init(Cipher.DECRYPT_MODE, privateKeyServer);\r\n\r\n        // byte[] decodedFile = decoder.update(encodedFile);\r\n        byte[] decodedFile = decoder.doFinal(encodedFile);\r\n\r\n        return decodedFile;\r\n    }\r\n\r\n\r\nWith the method `decoder.update(encodedFile)` I get `Null` and with the method `decoder.doFinal(encodedFile)` I get the next error: \r\n\r\n    javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:382)\r\n\tat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:294)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:364)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:390)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2191)\r\n\r\nSome idea please and thanks for the answers","title":"Decoded file with RSA with private Key","body":"<p>I have a application client/server which encrypts a file on the client side with the following code:</p>\n<pre><code> private static byte[] cifrador(byte[] file) throws Exception {\n    \n    String provider = &quot;SunJCE&quot;;\n    String algorithm = &quot;RSA&quot;;\n    String transfor = &quot;/ECB/PKCS1Padding&quot;;\n\n    /************************************************************\n     * Xerar e almacear a clave\n     ************************************************************/\n\n    // Obter a clave publica do trustStore\n\n    KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\n\n    ks.load(new FileInputStream(pathCliente + TrustStore), password.toCharArray());\n\n    PublicKey publicKeyServer = ks.getCertificate(&quot;serverkey&quot;).getPublicKey();\n\n    Cipher cipher = Cipher.getInstance(algorithm + transform);\n    cipher.init(Cipher.ENCRYPT_MODE, publicKeyServer);\n    byte[] encodedFile = cipher.update(file);\n    return encodedFile;\n}\n</code></pre>\n<p>After this I send by SSL connection the file encoded to the server and the server try to encoded it with the following code:</p>\n<pre><code>public static byte[] descifrador(byte[] encodedFile) throws Exception {\n    String provider = &quot;SunJCE&quot;;\n    String algorithm = &quot;RSA&quot;;\n    String transform = &quot;/ECB/PKCS1Padding&quot;;\n\n    char[] key_password = password.toCharArray();\n    KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\n\n    ks.load(new FileInputStream(path + KeyStore), key_password);\n\n    KeyStore.PrivateKeyEntry pkEntry = (KeyStore.PrivateKeyEntry)\n            ks.getEntry(&quot;serverkey&quot;,\n                    new KeyStore.PasswordProtection(key_password));\n\n\n    PrivateKey privateKeyServer = (PrivateKey) ks.getKey(&quot;serverkey&quot;, key_password);\n\n    Cipher decoder = Cipher.getInstance(algorithm + transform);\n\n    decoder.init(Cipher.DECRYPT_MODE, privateKeyServer);\n\n    // byte[] decodedFile = decoder.update(encodedFile);\n    byte[] decodedFile = decoder.doFinal(encodedFile);\n\n    return decodedFile;\n}\n</code></pre>\n<p>With the method <code>decoder.update(encodedFile)</code> I get <code>Null</code> and with the method <code>decoder.doFinal(encodedFile)</code> I get the next error:</p>\n<pre><code>javax.crypto.BadPaddingException: Decryption error\nat java.base/sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:382)\nat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:294)\nat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:364)\nat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:390)\nat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2191)\n</code></pre>\n<p>Some idea please and thanks for the answers</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1434186380,"post_id":30816437,"comment_id":49680726,"body_markdown":"Thanks Pshemo for the explanation of the special character `-`. I&#39;ve now simplified the expression to `.*%d[ate]*\\\\{([\\\\w.\\\\-&#39;:]+)}.*`.","body":"Thanks Pshemo for the explanation of the special character <code>-</code>. I&#39;ve now simplified the expression to <code>.*%d[ate]*\\\\{([\\\\w.\\\\-&#39;:]+)}.*</code>."}],"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669318811,"creation_date":1434182420,"answer_id":30816437,"question_id":30816398,"body_markdown":"You seems to escape wrong characters inside character class. Notice that inside character class/set `[..]` the `-` character is used to create range of characters like `a-z`. But `.-&#39;` is not correct range since index of `.` in Unicode Table greater than index of `&#39;` in Unicode Table (just like `z-a` would be invalid). \r\n\r\nTo make `-` simple literal either escape it using `&quot;\\\\-&quot;` or place it in position where it can&#39;t be interpreted as part of *range*, like at start/end of character class (`[-...]` `[...-]`) OR *after* other ranges like `[a-z-1]` (which would represent `a-z` range, or `-`, or `1`).\r\n\r\nAlso you don&#39;t need to escape `.` or `:` in character class. ","title":"Position of Apostrophe in Java Regex","body":"<p>You seems to escape wrong characters inside character class. Notice that inside character class/set <code>[..]</code> the <code>-</code> character is used to create range of characters like <code>a-z</code>. But <code>.-'</code> is not correct range since index of <code>.</code> in Unicode Table greater than index of <code>'</code> in Unicode Table (just like <code>z-a</code> would be invalid).</p>\n<p>To make <code>-</code> simple literal either escape it using <code>&quot;\\\\-&quot;</code> or place it in position where it can't be interpreted as part of <em>range</em>, like at start/end of character class (<code>[-...]</code> <code>[...-]</code>) OR <em>after</em> other ranges like <code>[a-z-1]</code> (which would represent <code>a-z</code> range, or <code>-</code>, or <code>1</code>).</p>\n<p>Also you don't need to escape <code>.</code> or <code>:</code> in character class.</p>\n"}],"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30816437,"answer_count":1,"score":1,"last_activity_date":1669318811,"creation_date":1434182148,"question_id":30816398,"body_markdown":"I&#39;m trying to see if a log pattern layout has a timestamp/date field and its position in the layout when splitted by spaces. It seems like the position of apostrophe in the regular expression matters.\r\n\r\nE.g. when I have the pattern `.*%d[ate]*\\\\{([\\\\w\\\\.&#39;-\\\\:]+)}.*` it matches a layout of format `%X{IP} %X{field1} %X{field2} [%date{yyyy-MM-dd&#39;T&#39;HH:mm:ssZ} guid=%{guid} userId=%{userId} %msg%n`. However, when I interchange the `-` and `&#39;` in the regular expression, I get a runtime error as below.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    Caused by: java.util.regex.PatternSyntaxException: Illegal character range near index 19\r\n    .*%d[ate]*\\{([\\w\\.-&#39;\\:]+)}.*\r\n                       ^\r\n    \tat java.util.regex.Pattern.error(Pattern.java:1955)\r\n    \tat java.util.regex.Pattern.range(Pattern.java:2655)\r\n    \tat java.util.regex.Pattern.clazz(Pattern.java:2562)\r\n    \tat java.util.regex.Pattern.sequence(Pattern.java:2063)\r\n    \tat java.util.regex.Pattern.expr(Pattern.java:1996)\r\n    \tat java.util.regex.Pattern.group0(Pattern.java:2905)\r\n    \tat java.util.regex.Pattern.sequence(Pattern.java:2051)\r\n    \tat java.util.regex.Pattern.expr(Pattern.java:1996)\r\n    \tat java.util.regex.Pattern.compile(Pattern.java:1696)\r\n    \tat java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1351)\r\n    \tat java.util.regex.Pattern.compile(Pattern.java:1028)\r\n\r\nIf you could explain the significance of the position of apostrophe, it would really help understand the concept of Regular expressions better.","title":"Position of Apostrophe in Java Regex","body":"<p>I'm trying to see if a log pattern layout has a timestamp/date field and its position in the layout when splitted by spaces. It seems like the position of apostrophe in the regular expression matters.</p>\n\n<p>E.g. when I have the pattern <code>.*%d[ate]*\\\\{([\\\\w\\\\.'-\\\\:]+)}.*</code> it matches a layout of format <code>%X{IP} %X{field1} %X{field2} [%date{yyyy-MM-dd'T'HH:mm:ssZ} guid=%{guid} userId=%{userId} %msg%n</code>. However, when I interchange the <code>-</code> and <code>'</code> in the regular expression, I get a runtime error as below.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\nCaused by: java.util.regex.PatternSyntaxException: Illegal character range near index 19\n.*%d[ate]*\\{([\\w\\.-'\\:]+)}.*\n                   ^\n    at java.util.regex.Pattern.error(Pattern.java:1955)\n    at java.util.regex.Pattern.range(Pattern.java:2655)\n    at java.util.regex.Pattern.clazz(Pattern.java:2562)\n    at java.util.regex.Pattern.sequence(Pattern.java:2063)\n    at java.util.regex.Pattern.expr(Pattern.java:1996)\n    at java.util.regex.Pattern.group0(Pattern.java:2905)\n    at java.util.regex.Pattern.sequence(Pattern.java:2051)\n    at java.util.regex.Pattern.expr(Pattern.java:1996)\n    at java.util.regex.Pattern.compile(Pattern.java:1696)\n    at java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1351)\n    at java.util.regex.Pattern.compile(Pattern.java:1028)\n</code></pre>\n\n<p>If you could explain the significance of the position of apostrophe, it would really help understand the concept of Regular expressions better.</p>\n"},{"tags":["java","abstract"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1542743263,"post_id":53400435,"comment_id":93676042,"body_markdown":"Is `FormaBasica` a subclass or implementing class of `Forma`?","body":"Is <code>FormaBasica</code> a subclass or implementing class of <code>Forma</code>?"},{"owner":{"account_id":1053055,"reputation":3693,"user_id":1056460,"accept_rate":50,"display_name":"DanielM"},"score":0,"creation_date":1542743399,"post_id":53400435,"comment_id":93676113,"body_markdown":"Well, you didn&#39;t say what is the error you are getting, but I assume the class `Forma` is not extended by `FormaBasica` and therefore you can&#39;t instantiate using `Linea`","body":"Well, you didn&#39;t say what is the error you are getting, but I assume the class <code>Forma</code> is not extended by <code>FormaBasica</code> and therefore you can&#39;t instantiate using <code>Linea</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1542745724,"post_id":53400435,"comment_id":93677228,"body_markdown":"As if learning programming in Java wasn’t hard enough, now you’re also learning how to use Stack Overflow. Welcome here! Tips: [Create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) if in any way possible. Be precise about what you want your program to do, and in particular be precise about how it misbehaves. If you are seeing any error messages, quote it or them verbatim in your question. A lot of people here know exactly what they mean and can help you on the spot when you do that.","body":"As if learning programming in Java wasn’t hard enough, now you’re also learning how to use Stack Overflow. Welcome here! Tips: <a href=\"https://stackoverflow.com/help/mcve\">Create a Minimal, Complete, and Verifiable example</a> if in any way possible. Be precise about what you want your program to do, and in particular be precise about how it misbehaves. If you are seeing any error messages, quote it or them verbatim in your question. A lot of people here know exactly what they mean and can help you on the spot when you do that."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1542752226,"post_id":53400435,"comment_id":93680144,"body_markdown":"You should follow the Java Naming Conventions: package names should start with lowercase.","body":"You should follow the Java Naming Conventions: package names should start with lowercase."},{"owner":{"account_id":14791298,"reputation":19,"user_id":10682147,"display_name":"Sarah Ru&#237;z"},"score":0,"creation_date":1542757845,"post_id":53400435,"comment_id":93681831,"body_markdown":"I add the rest of my project&#39;s class.\n\nLinea is a extended class from FormaBasica. And FormaBasica is a extended class from Forma.","body":"I add the rest of my project&#39;s class.  Linea is a extended class from FormaBasica. And FormaBasica is a extended class from Forma."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1542788186,"post_id":53400435,"comment_id":93690203,"body_markdown":"Possible duplicate of [Java, “Variable name” cannot be resolved to a variable](https://stackoverflow.com/questions/7588784/java-variable-name-cannot-be-resolved-to-a-variable) since I believe that the root of your problems is in `Linea.paintComponent` where you have commented `//More Problem ejeX cannot be resolved as a variable`.","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/7588784/java-variable-name-cannot-be-resolved-to-a-variable\">Java, “Variable name” cannot be resolved to a variable</a> since I believe that the root of your problems is in <code>Linea.paintComponent</code> where you have commented <code>&#47;&#47;More Problem ejeX cannot be resolved as a variable</code>."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542790228,"creation_date":1542790228,"answer_id":53408263,"question_id":53400435,"body_markdown":"The root of your problems is in this line in `Linea`:\r\n\r\n            Dibujo.dibujarLinea(ejeX, ejeY, numSegmentos);//More Problem ejeX cannot be resolved as a variable\r\n\r\nThe error message makes sense: There is no variable `ejeX` in the `paintComponent` method, where this line stands, and also no field (instance or class variable) `ejeX` in the `Linea` class. There is a parameter `ejeX` in one of the constructors. But here a constructor is just like a method, and you cannot access parameters or variables in another method because it would not make sense to do. Methods are called at different times, so the variables of one method usually don’t exist when another method is called and is executing. Same for `ejeY`, of course.\r\n\r\nI assume you meant to use the values of `ejeX` and `ejeY` that were passed to the `Linea` constructor when the object was created. These have been stored in the `Forma` superclass, and you can get them through the `getX` and `getY` methods of that class. So the fix is to change the line to this:\r\n\r\n            Dibujo.dibujarLinea(getX(), getY(), numSegmentos);\r\n\r\nFor your other problems: The error addressed above prevented the `Linea` class from being compiled. When it couldn’t be compiled, it also could not be instantiated. So I hope that’s fixed now too.\r\n\r\nIf new error messages turn up as you get rid of the old errors, don’t despair, though, this is normal.\r\n\r\nAnd it’s not to be unfriendly, the contrary: See if you can find a local who will help you. Maybe a fellow student or a teaching assistant? The turnaround time on Stack Overflow is too long, so your progress will be slow as long as you rely on us. Even more so when you post so much code because many users will give up on reading through it all.\r\n\r\n","title":"Practice Java problems","body":"<p>The root of your problems is in this line in <code>Linea</code>:</p>\n\n<pre><code>        Dibujo.dibujarLinea(ejeX, ejeY, numSegmentos);//More Problem ejeX cannot be resolved as a variable\n</code></pre>\n\n<p>The error message makes sense: There is no variable <code>ejeX</code> in the <code>paintComponent</code> method, where this line stands, and also no field (instance or class variable) <code>ejeX</code> in the <code>Linea</code> class. There is a parameter <code>ejeX</code> in one of the constructors. But here a constructor is just like a method, and you cannot access parameters or variables in another method because it would not make sense to do. Methods are called at different times, so the variables of one method usually don’t exist when another method is called and is executing. Same for <code>ejeY</code>, of course.</p>\n\n<p>I assume you meant to use the values of <code>ejeX</code> and <code>ejeY</code> that were passed to the <code>Linea</code> constructor when the object was created. These have been stored in the <code>Forma</code> superclass, and you can get them through the <code>getX</code> and <code>getY</code> methods of that class. So the fix is to change the line to this:</p>\n\n<pre><code>        Dibujo.dibujarLinea(getX(), getY(), numSegmentos);\n</code></pre>\n\n<p>For your other problems: The error addressed above prevented the <code>Linea</code> class from being compiled. When it couldn’t be compiled, it also could not be instantiated. So I hope that’s fixed now too.</p>\n\n<p>If new error messages turn up as you get rid of the old errors, don’t despair, though, this is normal.</p>\n\n<p>And it’s not to be unfriendly, the contrary: See if you can find a local who will help you. Maybe a fellow student or a teaching assistant? The turnaround time on Stack Overflow is too long, so your progress will be slow as long as you rely on us. Even more so when you post so much code because many users will give up on reading through it all.</p>\n"}],"owner":{"account_id":14791298,"reputation":19,"user_id":10682147,"display_name":"Sarah Ru&#237;z"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":53408263,"answer_count":1,"score":0,"last_activity_date":1669318653,"creation_date":1542742995,"question_id":53400435,"body_markdown":"I&#39;m doing this University practice and I&#39;m all stuck. I&#39;m supposed to make a program to draw circles and lines. It has 3 packages, Evaluar(with the main class), Dibujo(with the drawing class) and Forma (with 4 class, The FATHER, forma, formabasica which inherits from Forma and Circulo&amp;Linea which inherits from formaBasica.\r\n\r\nHere is the main class:\r\n\r\n    package PaqueteAplicacion;\r\n    \r\n    import PaqueteFormas.Forma;\r\n    import java.util.Scanner;\r\n    import PaqueteFormas.Circulo;\r\n    import PaqueteFormas.Linea;\r\n    \r\n    public abstract class Evaluar {\r\n    \t\r\n    \tpublic static void main (String[] args) {\r\n    \t\t//Creamos atributos para lo que graficaremos  \r\n    \t\tForma linea1;\r\n    \t\tForma linea2;\r\n\r\n    \t\t linea1 =  new Linea(); //PROBLEM HERE\r\n    \t\t linea2 =  new Linea(1,1);//PROBLEM HERE\r\n    \t\t\r\n    \t\t}\r\n\r\nEclipse&#39;s error &quot;Cannot instantiate the type Linea&quot;, and I don`t know why its giving me this problem.\r\n\r\nThis is my Linea class, I&#39;m having the same problem with Circulo.\r\n\r\n    package PaqueteFormas;\r\n    import java.util.Scanner;\r\n    import PaqueteGraficos.Dibujo;\r\n    \r\n    public  class Linea extends FormaBasica {\r\n    \t\r\n    \t//Atributos\r\n    \t\r\n    \t\tint numSegmentos;\r\n    \t\t\r\n    \t\tpublic Linea(){\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Linea(int ejeX, int ejeY){\r\n    \t\t\tsuper(ejeX,ejeY);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void cambiarTamano(int incrementoSegmentos){\r\n    \t\t\t\r\n    \t\t\tnumSegmentos = incrementoSegmentos;\r\n    \t\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void paintComponent() {\r\n    \t\tDibujo.dibujarLinea(ejeX, ejeY, numSegmentos);//More Problem ejeX cannot be resolved as a variable\r\n\r\n    \t\t}\r\n    }\r\n\r\nIf you need more information please let me know, Thank you!\r\n\r\nSorry I&#39;m new in StackOverflow so if my post is not correct please tell me.\r\n\r\n---\r\n\r\nI added the rest of the Java classes from my project:\r\nThis is the FATHER: Forma&#39;s class:\r\n\r\n    package PaqueteFormas;\r\n    \r\n    public abstract class Forma {\r\n    \r\n    \t//A&#241;adimos atributos\r\n    \t\r\n    \tprivate int x,y;\r\n    \t\r\n    \tpublic Forma() \r\n    \t{\r\n    \t\tthis.x = 1;\r\n    \t\tthis.y = 1;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Forma( int ejeX, int ejeY) {\r\n    \t\tthis.x = ejeX;\r\n    \t\tthis.y = ejeY;\r\n    \t}\r\n    \r\n    \t//Establece la edici&#243;n atributo\r\n    \t\r\n    \tpublic void setX(int ejeX) {\r\n    \t\tx = ejeX;\r\n    \t}\r\n    \tpublic void setY(int ejeY) {\r\n    \t\ty = ejeY;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic int getX() {\r\n    \t\treturn x;\r\n    \t};\r\n    \t\r\n    \tpublic int getY() {\r\n    \t\treturn y;\r\n    \t};\r\n    \t\r\n    \t\r\n    \tpublic void moverEjeX(int variacionEnX) {\r\n    \t\tx += variacionEnX;\r\n    \t\t\r\n    \t}\r\n    \tpublic void moverEjeY(int variacionEnY) {\r\n    \t\ty += variacionEnY;\r\n    \t}\r\n    \t\r\n    \tpublic abstract void paintComponent();\r\n    \t\r\n    \tpublic abstract void cambiarTamano (int variacionTamano);\r\n    }\r\n\r\nHeritage&#39;s class from Forma:\r\n\r\n        package PaqueteFormas;\r\n    \r\n        public abstract class FormaBasica extends Forma {\r\n    \t\r\n    \tpublic FormaBasica(){//Constructor por defecto\r\n    \t\tsuper(1,1);\r\n    \t}\r\n    \t\r\n    \tpublic FormaBasica(int ejeX, int ejeY){//Constructor pasando los atributos\r\n    \t\tsuper(ejeX,ejeY);\r\n    \t}\r\n    }\r\n\r\nThe other class&#39; heritage from FormaBasica \r\n\r\n     package PaqueteFormas;\r\n        import java.util.Scanner;\r\n        import PaqueteGraficos.Dibujo;\r\n    \r\n    public  class Linea extends FormaBasica {\r\n    \t\r\n    \t\r\n    \t\r\n    \t\tint numSegmentos;\r\n    \t\t\r\n    \t\t\r\n    \t\tpublic Linea(){\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Linea(int ejeX, int ejeY){\r\n    \t\t\tsuper(ejeX,ejeY);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tpublic void cambiarTamano(int incrementoSegmentos){\r\n    \t\t\t\r\n    \t\t\tnumSegmentos = incrementoSegmentos;\r\n    \t\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void paintComponent() {\r\n    \t\tDibujo.dibujarLinea(ejeX, ejeY, numSegmentos);\r\n    \t\t}\r\n    }","title":"Practice Java problems","body":"<p>I'm doing this University practice and I'm all stuck. I'm supposed to make a program to draw circles and lines. It has 3 packages, Evaluar(with the main class), Dibujo(with the drawing class) and Forma (with 4 class, The FATHER, forma, formabasica which inherits from Forma and Circulo&amp;Linea which inherits from formaBasica.</p>\n<p>Here is the main class:</p>\n<pre><code>package PaqueteAplicacion;\n\nimport PaqueteFormas.Forma;\nimport java.util.Scanner;\nimport PaqueteFormas.Circulo;\nimport PaqueteFormas.Linea;\n\npublic abstract class Evaluar {\n    \n    public static void main (String[] args) {\n        //Creamos atributos para lo que graficaremos  \n        Forma linea1;\n        Forma linea2;\n\n         linea1 =  new Linea(); //PROBLEM HERE\n         linea2 =  new Linea(1,1);//PROBLEM HERE\n        \n        }\n</code></pre>\n<p>Eclipse's error &quot;Cannot instantiate the type Linea&quot;, and I don`t know why its giving me this problem.</p>\n<p>This is my Linea class, I'm having the same problem with Circulo.</p>\n<pre><code>package PaqueteFormas;\nimport java.util.Scanner;\nimport PaqueteGraficos.Dibujo;\n\npublic  class Linea extends FormaBasica {\n    \n    //Atributos\n    \n        int numSegmentos;\n        \n        public Linea(){\n            \n        }\n        \n        public Linea(int ejeX, int ejeY){\n            super(ejeX,ejeY);\n        }\n        \n        public void cambiarTamano(int incrementoSegmentos){\n            \n            numSegmentos = incrementoSegmentos;\n                \n        }\n        \n        public void paintComponent() {\n        Dibujo.dibujarLinea(ejeX, ejeY, numSegmentos);//More Problem ejeX cannot be resolved as a variable\n\n        }\n}\n</code></pre>\n<p>If you need more information please let me know, Thank you!</p>\n<p>Sorry I'm new in StackOverflow so if my post is not correct please tell me.</p>\n<hr />\n<p>I added the rest of the Java classes from my project:\nThis is the FATHER: Forma's class:</p>\n<pre><code>package PaqueteFormas;\n\npublic abstract class Forma {\n\n    //Añadimos atributos\n    \n    private int x,y;\n    \n    public Forma() \n    {\n        this.x = 1;\n        this.y = 1;\n    }\n    \n    \n    public Forma( int ejeX, int ejeY) {\n        this.x = ejeX;\n        this.y = ejeY;\n    }\n\n    //Establece la edición atributo\n    \n    public void setX(int ejeX) {\n        x = ejeX;\n    }\n    public void setY(int ejeY) {\n        y = ejeY;\n        \n    }\n    \n    \n    public int getX() {\n        return x;\n    };\n    \n    public int getY() {\n        return y;\n    };\n    \n    \n    public void moverEjeX(int variacionEnX) {\n        x += variacionEnX;\n        \n    }\n    public void moverEjeY(int variacionEnY) {\n        y += variacionEnY;\n    }\n    \n    public abstract void paintComponent();\n    \n    public abstract void cambiarTamano (int variacionTamano);\n}\n</code></pre>\n<p>Heritage's class from Forma:</p>\n<pre><code>    package PaqueteFormas;\n\n    public abstract class FormaBasica extends Forma {\n    \n    public FormaBasica(){//Constructor por defecto\n        super(1,1);\n    }\n    \n    public FormaBasica(int ejeX, int ejeY){//Constructor pasando los atributos\n        super(ejeX,ejeY);\n    }\n}\n</code></pre>\n<p>The other class' heritage from FormaBasica</p>\n<pre><code> package PaqueteFormas;\n    import java.util.Scanner;\n    import PaqueteGraficos.Dibujo;\n\npublic  class Linea extends FormaBasica {\n    \n    \n    \n        int numSegmentos;\n        \n        \n        public Linea(){\n            \n        }\n        \n        public Linea(int ejeX, int ejeY){\n            super(ejeX,ejeY);\n        }\n        \n        \n        \n        \n        public void cambiarTamano(int incrementoSegmentos){\n            \n            numSegmentos = incrementoSegmentos;\n                \n        }\n        \n        public void paintComponent() {\n        Dibujo.dibujarLinea(ejeX, ejeY, numSegmentos);\n        }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":3,"creation_date":1669309912,"post_id":74564241,"comment_id":131620278,"body_markdown":"When you put the symbol in random coordinates, a symbol can already be located there. I am delgious by a slightly different approach. Instead of accidentally choosing the coordinates for each symbol and check that in these coordinates there is no already installed symbol, you can fill out the array in a row with the right number of characters from the beginning, and then mix the array.","body":"When you put the symbol in random coordinates, a symbol can already be located there. I am delgious by a slightly different approach. Instead of accidentally choosing the coordinates for each symbol and check that in these coordinates there is no already installed symbol, you can fill out the array in a row with the right number of characters from the beginning, and then mix the array."},{"owner":{"account_id":18836882,"reputation":41,"user_id":13739336,"display_name":" heromimox"},"score":0,"creation_date":1669310463,"post_id":74564241,"comment_id":131620433,"body_markdown":"Hi @chptr-one massive thanks for your help, if you don&#39;t mind could you please provide an example (I&#39;m still beginner)","body":"Hi @chptr-one massive thanks for your help, if you don&#39;t mind could you please provide an example (I&#39;m still beginner)"}],"answers":[{"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1669318120,"post_id":74564867,"comment_id":131622295,"body_markdown":"And I would not recommend this approach if the percentage is approaching 100%","body":"And I would not recommend this approach if the percentage is approaching 100%"}],"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669313921,"creation_date":1669313921,"answer_id":74564867,"question_id":74564241,"body_markdown":"You&#39;re implementing the brute force approach, which is fine for a SMALL matrix. Just keeping picking spots until you find one that is available:\r\n\r\n      private static void fillArrayWithThisPercentage(int percentage, char[][] arrayOfChars, char startChar, char endChar) {\r\n        int size = 5;\r\n        int arraySize = size * size;\r\n        int percentageOfSize = (int)(percentage / 100f * arraySize);\r\n\r\n        int filled = 0;\r\n        while (filled &lt; percentageOfSize) {\r\n          int i;\r\n          int j;\r\n          do {\r\n            i = getRandomNumber(size);\r\n            j = getRandomNumber(size);\r\n          } while (arrayOfChars[i][j] != &#39;-&#39;);\r\n            \r\n          arrayOfChars[i][j] = getRandomChar(startChar, endChar);\r\n          filled++;\r\n        }\r\n      }\r\n\r\nNote that I changed the return type to `void` and also changed your `percentageOfSize` to an `int` and made it `while (filled &lt; percentageOfSize)`.","title":"Fill 2D array with percentage in Java","body":"<p>You're implementing the brute force approach, which is fine for a SMALL matrix. Just keeping picking spots until you find one that is available:</p>\n<pre><code>  private static void fillArrayWithThisPercentage(int percentage, char[][] arrayOfChars, char startChar, char endChar) {\n    int size = 5;\n    int arraySize = size * size;\n    int percentageOfSize = (int)(percentage / 100f * arraySize);\n\n    int filled = 0;\n    while (filled &lt; percentageOfSize) {\n      int i;\n      int j;\n      do {\n        i = getRandomNumber(size);\n        j = getRandomNumber(size);\n      } while (arrayOfChars[i][j] != '-');\n        \n      arrayOfChars[i][j] = getRandomChar(startChar, endChar);\n      filled++;\n    }\n  }\n</code></pre>\n<p>Note that I changed the return type to <code>void</code> and also changed your <code>percentageOfSize</code> to an <code>int</code> and made it <code>while (filled &lt; percentageOfSize)</code>.</p>\n"},{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669318310,"creation_date":1669317122,"answer_id":74565341,"question_id":74564241,"body_markdown":"As I suggested in the comments above, you can first fill out the array with the values from beginning, and then shuffle an array. First, we need to fill 5x5 array with given number of characters (10 in your case), so resulting array will look like this:\r\n```\r\na b c d e\r\nf g h i j\r\n. . . . .\r\n. . . . .\r\n. . . . .\r\n```\r\nThen, we need to randomly shuffle this array. Several options are possible here. One option may look like this:\r\n- for every first N symbols in array // N = 40% of array capacity in your case\r\n- randomly choose a new pair of coordinates\r\n- swap that symbol with a symbol in chosen coordinates;\r\n\r\nThe task is greatly simplified if you present your two-dimensional array in the form of a one-dimensional array.\r\n\r\n```\r\nprivate static void fillArrayWithThisPercentage(int percentage, char[][] arrayOfChars, char startChar, char endChar) {\r\n    int size = arrayOfChars.length;\r\n    int percentageOfSize = (int)(percentage / 100 * size * size);\r\n    Random random = new Random();\r\n\r\n    // fill entire array with &#39;-&#39; symbol\r\n    for (var line : arrayOfChars) {\r\n         Arrays.fill(line, &#39;-&#39;);\r\n    }\r\n\r\n    // place N random chars to array from beginning\r\n    for (int i  = 0; i &lt; percentageOfSize; i++) {\r\n        arrayOfChars[i / size][i % size] = (char) random.nextInt(startChar, endChar);\r\n    }\r\n\r\n    // shuffle an array\r\n    for (int i = 0; i &lt; percentageOfSize; i++) {\r\n        int newPosition = random.nextInt(size * size);\r\n        swap(arrayOfChars, i, newPosition);\r\n    }\r\n}\r\n\r\nprivate static void swap(char[][] arr, int i, int j) {\r\n    char temp = arr[i / arr.length][i % arr.length];\r\n    arr[i / arr.length][i % arr.length] = arr[j / arr.length][j % arr.length];\r\n    arr[j / arr.length][j % arr.length] = temp;\r\n}\r\n```\r\nYou may test this approach with something like this:\r\n```\r\nchar[][] arr = new char[5][5];\r\nfillArrayWithThisPercentage(40, arr, &#39;a&#39;, &#39;z&#39;);\r\n\r\nfor (var row : arr) {\r\n    System.out.println(Arrays.toString(row));\r\n}\r\n```","title":"Fill 2D array with percentage in Java","body":"<p>As I suggested in the comments above, you can first fill out the array with the values from beginning, and then shuffle an array. First, we need to fill 5x5 array with given number of characters (10 in your case), so resulting array will look like this:</p>\n<pre><code>a b c d e\nf g h i j\n. . . . .\n. . . . .\n. . . . .\n</code></pre>\n<p>Then, we need to randomly shuffle this array. Several options are possible here. One option may look like this:</p>\n<ul>\n<li>for every first N symbols in array // N = 40% of array capacity in your case</li>\n<li>randomly choose a new pair of coordinates</li>\n<li>swap that symbol with a symbol in chosen coordinates;</li>\n</ul>\n<p>The task is greatly simplified if you present your two-dimensional array in the form of a one-dimensional array.</p>\n<pre><code>private static void fillArrayWithThisPercentage(int percentage, char[][] arrayOfChars, char startChar, char endChar) {\n    int size = arrayOfChars.length;\n    int percentageOfSize = (int)(percentage / 100 * size * size);\n    Random random = new Random();\n\n    // fill entire array with '-' symbol\n    for (var line : arrayOfChars) {\n         Arrays.fill(line, '-');\n    }\n\n    // place N random chars to array from beginning\n    for (int i  = 0; i &lt; percentageOfSize; i++) {\n        arrayOfChars[i / size][i % size] = (char) random.nextInt(startChar, endChar);\n    }\n\n    // shuffle an array\n    for (int i = 0; i &lt; percentageOfSize; i++) {\n        int newPosition = random.nextInt(size * size);\n        swap(arrayOfChars, i, newPosition);\n    }\n}\n\nprivate static void swap(char[][] arr, int i, int j) {\n    char temp = arr[i / arr.length][i % arr.length];\n    arr[i / arr.length][i % arr.length] = arr[j / arr.length][j % arr.length];\n    arr[j / arr.length][j % arr.length] = temp;\n}\n</code></pre>\n<p>You may test this approach with something like this:</p>\n<pre><code>char[][] arr = new char[5][5];\nfillArrayWithThisPercentage(40, arr, 'a', 'z');\n\nfor (var row : arr) {\n    System.out.println(Arrays.toString(row));\n}\n</code></pre>\n"}],"owner":{"account_id":18836882,"reputation":41,"user_id":13739336,"display_name":" heromimox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669318310,"creation_date":1669309713,"question_id":74564241,"body_markdown":"I&#39;ve a 5x5 2D array filled like this : \r\n\r\n     -----\r\n     -----\r\n     -----\r\n     -----\r\n\r\nI&#39;m trying to fill this array by percentage, for example **40%** :\r\n\r\n    -e--e\r\n    ---f-\r\n    -i-h-\r\n    -ghh-\r\n    ---ii\r\n\r\nAs you can see 40 % of 25 is 10 so 10 characters have been added to the array, my code is :\r\n\r\n         private static char[][] fillArrayWithThisPercentage(int percentage, char[][] arrayOfChars, char startChar, char endChar) {\r\n            int size = 5;\r\n            int arraySize = size * size;\r\n            float percentageOfSize = (percentage / 100f * arraySize);\r\n    \r\n            int filled = 0;\r\n            while (filled &lt;= percentageOfSize) {\r\n                int i = getRandomNumber(size);\r\n                int j = getRandomNumber(size);\r\n                arrayOfChars[i][j] = getRandomChar(startChar, endChar);\r\n                filled++;\r\n            }\r\n          }\r\n\r\nGet a random character in range of two characters :\r\n\r\n    private static char getRandomChar(char startChar, char endChar) {\r\n            String alphabet = &quot;a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z&quot;;\r\n            List&lt;String&gt; alphabetList = Arrays.asList(alphabet.split(&quot;,&quot;));\r\n            int max = alphabetList.indexOf(startChar + &quot;&quot;);\r\n            int min = alphabetList.indexOf(endChar + &quot;&quot;);\r\n            int randomNumber = (int) ((Math.random() * (max - min)) + min);\r\n            return alphabetList.get(randomNumber).charAt(0);\r\n        }\r\n\r\nOutput : \r\n\r\n    b----\r\n    --db-\r\n    --a--\r\n    -----\r\n    a----","title":"Fill 2D array with percentage in Java","body":"<p>I've a 5x5 2D array filled like this :</p>\n<pre><code> -----\n -----\n -----\n -----\n</code></pre>\n<p>I'm trying to fill this array by percentage, for example <strong>40%</strong> :</p>\n<pre><code>-e--e\n---f-\n-i-h-\n-ghh-\n---ii\n</code></pre>\n<p>As you can see 40 % of 25 is 10 so 10 characters have been added to the array, my code is :</p>\n<pre><code>     private static char[][] fillArrayWithThisPercentage(int percentage, char[][] arrayOfChars, char startChar, char endChar) {\n        int size = 5;\n        int arraySize = size * size;\n        float percentageOfSize = (percentage / 100f * arraySize);\n\n        int filled = 0;\n        while (filled &lt;= percentageOfSize) {\n            int i = getRandomNumber(size);\n            int j = getRandomNumber(size);\n            arrayOfChars[i][j] = getRandomChar(startChar, endChar);\n            filled++;\n        }\n      }\n</code></pre>\n<p>Get a random character in range of two characters :</p>\n<pre><code>private static char getRandomChar(char startChar, char endChar) {\n        String alphabet = &quot;a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z&quot;;\n        List&lt;String&gt; alphabetList = Arrays.asList(alphabet.split(&quot;,&quot;));\n        int max = alphabetList.indexOf(startChar + &quot;&quot;);\n        int min = alphabetList.indexOf(endChar + &quot;&quot;);\n        int randomNumber = (int) ((Math.random() * (max - min)) + min);\n        return alphabetList.get(randomNumber).charAt(0);\n    }\n</code></pre>\n<p>Output :</p>\n<pre><code>b----\n--db-\n--a--\n-----\na----\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1669311599,"post_id":74564236,"comment_id":131620712,"body_markdown":"I think your outer `while` loop is correct, but the inner `for` loop is not working.  In fact I don&#39;t think you need the `for` loop at all, just use `name[j++]` to put the student name in the right index.","body":"I think your outer <code>while</code> loop is correct, but the inner <code>for</code> loop is not working.  In fact I don&#39;t think you need the <code>for</code> loop at all, just use <code>name[j++]</code> to put the student name in the right index."}],"answers":[{"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1669630066,"post_id":74565484,"comment_id":131677609,"body_markdown":"a code snippet would assist in the answer","body":"a code snippet would assist in the answer"}],"tags":[],"owner":{"account_id":27015322,"reputation":1,"user_id":20574282,"display_name":"Mariam Srour"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669318167,"creation_date":1669318167,"answer_id":74565484,"question_id":74564236,"body_markdown":"&quot;The array is a specified-length data structure whereas ArrayList is a variable-length Collection class.&quot;\r\nAnd here you are trying to add the length of the array.\r\nYou can either set the variable q as the max number of names the array can have or use ArrayList. \r\nThere is no problem in the loop with the way you wrote your code.\r\n","title":"Temporarily stopping array loop","body":"<p>&quot;The array is a specified-length data structure whereas ArrayList is a variable-length Collection class.&quot;\nAnd here you are trying to add the length of the array.\nYou can either set the variable q as the max number of names the array can have or use ArrayList.\nThere is no problem in the loop with the way you wrote your code.</p>\n"}],"owner":{"account_id":26956905,"reputation":1,"user_id":20525104,"display_name":"Random Guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669318167,"creation_date":1669309684,"question_id":74564236,"body_markdown":"```\r\nimport java.util.Scanner;\r\npublic class array2\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\tchar choice = &#39;Y&#39;;\r\n\tScanner input = new Scanner(System.in);\r\n\tint q=1;\r\n\tint j=0;\r\n\tString[] name = new String[q];\r\n\twhile (choice == &#39;Y&#39; || choice == &#39;y&#39;){\r\n\t\t\tfor(; j&lt;q; j++){\r\n\t\t\tSystem.out.print(&quot;Input student name: &quot;);\r\n\t\t\tname[j] = input.nextLine();\r\n\t\t\t}\r\n\t\tSystem.out.print(&quot;Input another student? (Y/N): &quot;);\r\n\t\tchoice = input.nextLine().charAt(0);\r\n\t\tq++;\r\n\t}\r\n\t\tSystem.out.println(name[0]);\r\n\t}\r\n}\r\n```\r\n\r\nI wanted to know if it is possible and how to temporarily stop an array loop and continue after the loop. Is it also possible to do this using basic array program?\r\n\r\nI tried making an array without a predetermined value.  \r\nI expected that it will stop if the q variable is met and every time the user input &quot;y&quot; the q variable will increase making the array loop function again.  \r\nIt didn&#39;t work after the 1st output.","title":"Temporarily stopping array loop","body":"<pre><code>import java.util.Scanner;\npublic class array2\n{\n    public static void main(String[] args)\n    {\n    char choice = 'Y';\n    Scanner input = new Scanner(System.in);\n    int q=1;\n    int j=0;\n    String[] name = new String[q];\n    while (choice == 'Y' || choice == 'y'){\n            for(; j&lt;q; j++){\n            System.out.print(&quot;Input student name: &quot;);\n            name[j] = input.nextLine();\n            }\n        System.out.print(&quot;Input another student? (Y/N): &quot;);\n        choice = input.nextLine().charAt(0);\n        q++;\n    }\n        System.out.println(name[0]);\n    }\n}\n</code></pre>\n<p>I wanted to know if it is possible and how to temporarily stop an array loop and continue after the loop. Is it also possible to do this using basic array program?</p>\n<p>I tried making an array without a predetermined value.<br />\nI expected that it will stop if the q variable is met and every time the user input &quot;y&quot; the q variable will increase making the array loop function again.<br />\nIt didn't work after the 1st output.</p>\n"},{"tags":["java","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669629603,"post_id":74565329,"comment_id":131677450,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74565329/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18206652,"reputation":15,"user_id":13249946,"display_name":"normin48"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669317047,"creation_date":1669317047,"answer_id":74565329,"question_id":74552586,"body_markdown":"&lt;Button type must button not submit and try again","title":"Thymeleaf Open new html file","body":"<p>&lt;Button type must button not submit and try again</p>\n"},{"tags":[],"owner":{"account_id":27038179,"reputation":69,"user_id":20593455,"display_name":"Kaushal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669318111,"creation_date":1669318111,"answer_id":74565476,"question_id":74552586,"body_markdown":"\r\nTry this\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n      &lt;title&gt;Sign up Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Welcome to Getir Library&lt;/h1&gt;\r\n    &lt;br&gt;\r\n    &lt;hr&gt;\r\n    &lt;form th:action=&quot;@{/Main}&quot; method=&quot;post&quot;&gt;\r\n      &lt;div class = &quot;header&quot;&gt;\r\n        &lt;h1&gt;Menu&lt;/h1&gt;\r\n        &lt;button type=&quot;button&quot; th:onclick=&quot;|window.location.href=&#39;/CustomerLogin&#39;|&quot; &gt;Customer Login Page&lt;/button&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Thymeleaf Open new html file","body":"<p>Try this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://thymeleaf.org\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;Sign up Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Welcome to Getir Library&lt;/h1&gt;\n&lt;br&gt;\n&lt;hr&gt;\n&lt;form th:action=\"@{/Main}\" method=\"post\"&gt;\n  &lt;div class = \"header\"&gt;\n    &lt;h1&gt;Menu&lt;/h1&gt;\n    &lt;button type=\"button\" th:onclick=\"|window.location.href='/CustomerLogin'|\" &gt;Customer Login Page&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":18206652,"reputation":15,"user_id":13249946,"display_name":"normin48"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669318111,"creation_date":1669234979,"question_id":74552586,"body_markdown":"I didnt open new html file when onclick on button\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n      &lt;title&gt;Sign up Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Welcome to Getir Library&lt;/h1&gt;\r\n    &lt;br&gt;\r\n    &lt;hr&gt;\r\n    &lt;form th:action=&quot;@{/Main}&quot; method=&quot;post&quot;&gt;\r\n      &lt;div class = &quot;header&quot;&gt;\r\n        &lt;h1&gt;Menu&lt;/h1&gt;\r\n        &lt;button type=&quot;submit&quot; th:onclick=&quot;|window.location.href=&#39;/CustomerLogin&#39;|&quot; &gt;Customer Login Page&lt;/button&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAlso This is my Controller Class.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @RequestMapping(value = &quot;/CustomerLogin&quot;)\r\n        String getCustomerLoginPage(){\r\n            return &quot;CustomerLogin&quot;;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is my html files in the javaspring project\r\n  [1]: https://i.stack.imgur.com/iv7aq.png","title":"Thymeleaf Open new html file","body":"<p>I didnt open new html file when onclick on button</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://thymeleaf.org\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;Sign up Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Welcome to Getir Library&lt;/h1&gt;\n&lt;br&gt;\n&lt;hr&gt;\n&lt;form th:action=\"@{/Main}\" method=\"post\"&gt;\n  &lt;div class = \"header\"&gt;\n    &lt;h1&gt;Menu&lt;/h1&gt;\n    &lt;button type=\"submit\" th:onclick=\"|window.location.href='/CustomerLogin'|\" &gt;Customer Login Page&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Also This is my Controller Class.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@RequestMapping(value = \"/CustomerLogin\")\n    String getCustomerLoginPage(){\n        return \"CustomerLogin\";\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>[![enter image description here][1]][1]</p>\n<p>This is my html files in the javaspring project\n[1]: <a href=\"https://i.stack.imgur.com/iv7aq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iv7aq.png</a></p>\n"},{"tags":["java","android","android-animation","lint","r.java-file"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1669318163,"post_id":74565404,"comment_id":131622307,"body_markdown":"&quot;I have 2 packages, package1 and package2 in android&quot; -- what do you mean by this? Do you mean you have two separate modules in an Android Studio project? That is what your related issue is about. &quot;I want to have some kind of check to detect such files and throw a warning/error at compilation time&quot; -- write a custom Lint rule, or see if somebody already wrote one.","body":"&quot;I have 2 packages, package1 and package2 in android&quot; -- what do you mean by this? Do you mean you have two separate modules in an Android Studio project? That is what your related issue is about. &quot;I want to have some kind of check to detect such files and throw a warning/error at compilation time&quot; -- write a custom Lint rule, or see if somebody already wrote one."},{"owner":{"account_id":16577971,"reputation":3,"user_id":11979306,"display_name":"ankita28"},"score":0,"creation_date":1669318481,"post_id":74565404,"comment_id":131622390,"body_markdown":"@CommonsWare yes, i meant I have two separate modules. I am new to android and not sure how can i write a lint rule for the same, can you help me with some examples?\nCouldn&#39;t find a pre-existing rule for the same.","body":"@CommonsWare yes, i meant I have two separate modules. I am new to android and not sure how can i write a lint rule for the same, can you help me with some examples? Couldn&#39;t find a pre-existing rule for the same."}],"owner":{"account_id":16577971,"reputation":3,"user_id":11979306,"display_name":"ankita28"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669317573,"creation_date":1669317573,"question_id":74565404,"body_markdown":"I have 2 packages, package1 and package2 in android. Both the packages have resources directory containing a file with the same name and path i.e both the packages contain /main/res/anim/slide_in_right.xml. I want to have some kind of check to detect such files and throw a warning/error at compilation time.\r\n\r\nSimilar issue : https://issuetracker.google.com/issues/36975476\r\n\r\nI tried searching for this problem over android related pages, but only came across [&#39;resourcePrefix&#39; solution](https://issuetracker.google.com/issues/36975476). This forces the user to add a prefix to their resource files so that we don&#39;t face this issue of clash in filenames. But this requires manually going and adding prefix at all places. Styleable attributes are also being matched and erroring out. We do not want our styleable attributes, nor the styleable itself to be forced to use these prefixes.","title":"Detect common file paths for resources directory in android","body":"<p>I have 2 packages, package1 and package2 in android. Both the packages have resources directory containing a file with the same name and path i.e both the packages contain /main/res/anim/slide_in_right.xml. I want to have some kind of check to detect such files and throw a warning/error at compilation time.</p>\n<p>Similar issue : <a href=\"https://issuetracker.google.com/issues/36975476\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/36975476</a></p>\n<p>I tried searching for this problem over android related pages, but only came across <a href=\"https://issuetracker.google.com/issues/36975476\" rel=\"nofollow noreferrer\">'resourcePrefix' solution</a>. This forces the user to add a prefix to their resource files so that we don't face this issue of clash in filenames. But this requires manually going and adding prefix at all places. Styleable attributes are also being matched and erroring out. We do not want our styleable attributes, nor the styleable itself to be forced to use these prefixes.</p>\n"},{"tags":["java","automation","sikuli"],"comments":[{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":1,"creation_date":1512436358,"post_id":47644402,"comment_id":82247735,"body_markdown":"this only means that the image you were looking for, was not found on the screen. Make sure that the pattern you are using is exactly similar to the region on the screen. Also ensure that the regio is fully visible and is not hiden (or partially hidden) behing other objects.","body":"this only means that the image you were looking for, was not found on the screen. Make sure that the pattern you are using is exactly similar to the region on the screen. Also ensure that the regio is fully visible and is not hiden (or partially hidden) behing other objects."},{"owner":{"account_id":12431327,"reputation":21,"user_id":9053659,"display_name":"radhi"},"score":0,"creation_date":1512523491,"post_id":47644402,"comment_id":82289966,"body_markdown":"yes i did like that only.Please assist .","body":"yes i did like that only.Please assist ."},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1512523664,"post_id":47644402,"comment_id":82290012,"body_markdown":"sorry, have no idea what you&#39;re asking","body":"sorry, have no idea what you&#39;re asking"},{"owner":{"account_id":12431327,"reputation":21,"user_id":9053659,"display_name":"radhi"},"score":0,"creation_date":1512533090,"post_id":47644402,"comment_id":82292307,"body_markdown":"Hi,Please let me know if you need a webex so that I can show my code.","body":"Hi,Please let me know if you need a webex so that I can show my code."},{"owner":{"account_id":12431327,"reputation":21,"user_id":9053659,"display_name":"radhi"},"score":0,"creation_date":1512533118,"post_id":47644402,"comment_id":82292315,"body_markdown":"Pattern is found on the screen not sure why i am getting the above mentioned errors.","body":"Pattern is found on the screen not sure why i am getting the above mentioned errors."},{"owner":{"account_id":12431327,"reputation":21,"user_id":9053659,"display_name":"radhi"},"score":0,"creation_date":1512702096,"post_id":47644402,"comment_id":82374175,"body_markdown":"can someone assist","body":"can someone assist"},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1512708123,"post_id":47644402,"comment_id":82375558,"body_markdown":"Please paste your code as well","body":"Please paste your code as well"},{"owner":{"account_id":12431327,"reputation":21,"user_id":9053659,"display_name":"radhi"},"score":0,"creation_date":1512870646,"post_id":47644402,"comment_id":82430627,"body_markdown":"import org.sikuli.script.*;\nimport org.sikuli.script.Screen;\npublic  class ab\n\n{\n\n\n\t\n\t  public static void main(String[] args) throws Exception {\n\t\t  ImagePath.setBundlePath(&quot;C:/Users/xw66/workspace/Sikul/imgs&quot;);\n\t    \n\t    Screen s = new Screen();\n\t    \n\t    //s.wait();\n\t \n\t    s.doubleClick(new Pattern(&quot;C:/Users/xw66/workspace/Sikul/imgs/abc.PNG&quot;));\n\t   // s.click(getData(&quot;ImagePath&quot;+&quot;Capture.PNG&quot;));\n\t  }\n}","body":"import org.sikuli.script.*; import org.sikuli.script.Screen; public  class ab  {   \t \t  public static void main(String[] args) throws Exception { \t\t  ImagePath.setBundlePath(&quot;C:/Users/xw66/workspace/Sikul/imgs&quot;&zwnj;&#8203;); \t     \t    Screen s = new Screen(); \t     \t    //s.wait(); \t  \t    s.doubleClick(new Pattern(&quot;C:/Users/xw66/workspace/Sikul/imgs/abc.PNG&quot;)); \t   // s.click(getData(&quot;ImagePath&quot;+&quot;Capture.PNG&quot;)); \t  } }"},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1512956574,"post_id":47644402,"comment_id":82450866,"body_markdown":"Please embed the code into the question next. Your code looks ok by itself and the problem is likely to be elsewhere. So the first thing I&#39;d look into is the pattern itself. So make sure that the stored pattern is absolutely similar to the region on the screen, pixel to pixel similar. Then make sure it is fully visible and not partially hidden by other objects. Next thing, and I&#39;m just trying my luck here, what is this Java version that you&#39;re using? Is that running as a separate Java program or as a part of some other framework? I see UFT. If that&#39;s the case try simple Oracle Java.","body":"Please embed the code into the question next. Your code looks ok by itself and the problem is likely to be elsewhere. So the first thing I&#39;d look into is the pattern itself. So make sure that the stored pattern is absolutely similar to the region on the screen, pixel to pixel similar. Then make sure it is fully visible and not partially hidden by other objects. Next thing, and I&#39;m just trying my luck here, what is this Java version that you&#39;re using? Is that running as a separate Java program or as a part of some other framework? I see UFT. If that&#39;s the case try simple Oracle Java."},{"owner":{"account_id":12431327,"reputation":21,"user_id":9053659,"display_name":"radhi"},"score":0,"creation_date":1513047302,"post_id":47644402,"comment_id":82490674,"body_markdown":"Can we schedule a webex so that I can show you.","body":"Can we schedule a webex so that I can show you."}],"answers":[{"tags":[],"owner":{"account_id":13446491,"reputation":11,"user_id":9702296,"display_name":"Naveed Abdullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531414111,"creation_date":1531414111,"answer_id":51310832,"question_id":47644402,"body_markdown":"@radhi I know its late to reply, but its better to follow the below instructions when using sikuli\r\n\r\n1. Install/Setup sikuli from the sikuli jar file &lt;&lt;https://launchpad.net/sikuli/+download&gt;&gt;, even if you are using the maven dependency, i would still suggest you to do so\r\n\r\n2. Run a small script from the IDE to make sure things work fine\r\n\r\n3. Coming to capturing the images, i have seen that if i use the default screen capture present (CMD + SHT + 4) in Macbook Pro Retina display and the same from the Sikuli IDE, the IDE&#39;s image work. So its better to take images from Sikuli IDE, save the file and unzip the .sikuli file or in Mac, just right click &gt; show package content.\r\n\r\nTake the images and use them. This was what solved this issue for me.\r\n\r\nIf this does not help, Debug the script at the point where you are accessing the image and check if the fileUrl is pointing to the correct location","title":"getting find failed errors in sikuli","body":"<p>@radhi I know its late to reply, but its better to follow the below instructions when using sikuli</p>\n\n<ol>\n<li><p>Install/Setup sikuli from the sikuli jar file &lt;<a href=\"https://launchpad.net/sikuli/+download\" rel=\"nofollow noreferrer\">https://launchpad.net/sikuli/+download</a>>, even if you are using the maven dependency, i would still suggest you to do so</p></li>\n<li><p>Run a small script from the IDE to make sure things work fine</p></li>\n<li><p>Coming to capturing the images, i have seen that if i use the default screen capture present (CMD + SHT + 4) in Macbook Pro Retina display and the same from the Sikuli IDE, the IDE's image work. So its better to take images from Sikuli IDE, save the file and unzip the .sikuli file or in Mac, just right click > show package content.</p></li>\n</ol>\n\n<p>Take the images and use them. This was what solved this issue for me.</p>\n\n<p>If this does not help, Debug the script at the point where you are accessing the image and check if the fileUrl is pointing to the correct location</p>\n"},{"comments":[{"owner":{"account_id":7356801,"reputation":390,"user_id":5601285,"accept_rate":38,"display_name":"Suraj Gupta"},"score":0,"creation_date":1638027361,"post_id":61153006,"comment_id":123980374,"body_markdown":"This works for mac user. Thanks for quickest way to resolve isse\nUsing Mac 2019 16&#39;&#39; Big Sur","body":"This works for mac user. Thanks for quickest way to resolve isse Using Mac 2019 16&#39;&#39; Big Sur"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1676462589,"post_id":61153006,"comment_id":133140370,"body_markdown":"For me it works in windows like anything, but in Linux it fails even though using with IDE and changing resolutions does not help","body":"For me it works in windows like anything, but in Linux it fails even though using with IDE and changing resolutions does not help"}],"tags":[],"owner":{"account_id":18249520,"reputation":41,"user_id":13284829,"display_name":"Trupti"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586587209,"creation_date":1586587209,"answer_id":61153006,"question_id":47644402,"body_markdown":"Screenshots taken by Sikuli IDE works fine. But if you are taking screenshot by (cmd+shift+4) in macbook pro, resolution of the image is 144 pixel. \r\n1. Reduce the pixel size.\r\n2. Right click on image &gt; open with &gt; Preview\r\n3. A popup will open.\r\n4. Click on Tools &gt; Adjust Size &gt; Make Resolution to 72 and click on Ok.\r\nNow the image will work fine.","title":"getting find failed errors in sikuli","body":"<p>Screenshots taken by Sikuli IDE works fine. But if you are taking screenshot by (cmd+shift+4) in macbook pro, resolution of the image is 144 pixel. \n1. Reduce the pixel size.\n2. Right click on image > open with > Preview\n3. A popup will open.\n4. Click on Tools > Adjust Size > Make Resolution to 72 and click on Ok.\nNow the image will work fine.</p>\n"},{"tags":[],"owner":{"account_id":20257214,"reputation":21,"user_id":14856674,"display_name":"abaccount"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608400913,"creation_date":1608400913,"answer_id":65372885,"question_id":47644402,"body_markdown":"Sometimes taking pictures using sikuli IDE works, but for me it was still not working. \r\n\r\nSo I found that the problem was resolution with my laptop, I was having a higher resolution which was causing problem.\r\n\r\nSo I reduced my resolution of my laptop from 1920 x 1080 ( too high for Sikuli)  to a lower resolution\r\n\r\n**1280 x 720** and now it works like a charm.\r\n\r\nSo try reducing resolution of your system","title":"getting find failed errors in sikuli","body":"<p>Sometimes taking pictures using sikuli IDE works, but for me it was still not working.</p>\n<p>So I found that the problem was resolution with my laptop, I was having a higher resolution which was causing problem.</p>\n<p>So I reduced my resolution of my laptop from 1920 x 1080 ( too high for Sikuli)  to a lower resolution</p>\n<p><strong>1280 x 720</strong> and now it works like a charm.</p>\n<p>So try reducing resolution of your system</p>\n"},{"tags":[],"owner":{"account_id":21510559,"reputation":11,"user_id":15853335,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628517543,"creation_date":1628517543,"answer_id":68713359,"question_id":47644402,"body_markdown":"Just tried the Sikuli very recently and had the same Find Failed Exception issue happened.\r\nOS -Windows 10 \r\nSolution: I tried to change the Display settings--&gt;scale and layout--&gt; Change the size of text, apps and other items to 125% (it was basically 150%)\r\nDisplay resolution 1920*1080 still works\r\n\r\nPS: So just be careful when you get this issue check your resolution which works best for your physical monitor. Also try to check in separate laptop with the same code, if the current one is still having issues. So if it works on other laptop all you need to do is replicate the Display settings it should work and it worked for me. ","title":"getting find failed errors in sikuli","body":"<p>Just tried the Sikuli very recently and had the same Find Failed Exception issue happened.\nOS -Windows 10\nSolution: I tried to change the Display settings--&gt;scale and layout--&gt; Change the size of text, apps and other items to 125% (it was basically 150%)\nDisplay resolution 1920*1080 still works</p>\n<p>PS: So just be careful when you get this issue check your resolution which works best for your physical monitor. Also try to check in separate laptop with the same code, if the current one is still having issues. So if it works on other laptop all you need to do is replicate the Display settings it should work and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":27038478,"reputation":1,"user_id":20593702,"display_name":"Jamal Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669317350,"creation_date":1669317350,"answer_id":74565376,"question_id":47644402,"body_markdown":"Changing the resolution to 1280 X 720 worked for me. I can now use the snipping tool under this resolution and sikuli is able to find and click. \r\n\r\n","title":"getting find failed errors in sikuli","body":"<p>Changing the resolution to 1280 X 720 worked for me. I can now use the snipping tool under this resolution and sikuli is able to find and click.</p>\n"}],"owner":{"account_id":12431327,"reputation":21,"user_id":9053659,"display_name":"radhi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9419,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1669317350,"creation_date":1512435165,"question_id":47644402,"body_markdown":"getting this error while running sikulix with eclipse\r\n\r\n    18:31:08:751 &gt;&gt; Loading HP UFT Java Support (version 12.0.0.0) (SUN 1.7.0)\r\n    Exception in thread &quot;main&quot; FindFailed: Capture.PNG: (408x284) in S(0)[0,0 1366x768] E:Y, T:3.0\r\n      Line 2759, in file Region.java\r\n    \r\n    \tat org.sikuli.script.Region.wait(Region.java:2759)\r\n    \tat org.sikuli.script.Region.find(Region.java:2336)\r\n    \tat org.sikuli.script.Region.getLocationFromTarget(Region.java:3213)\r\n    \tat org.sikuli.script.Region.click(Region.java:3698)\r\n    \tat org.sikuli.script.Region.click(Region.java:3683)\r\n    \tat ab.main(ab.java:15)\r\n    Picked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook\r\n    Picked up _JAVA_OPTIONS: -Xrunjvmhook -Xbootclasspath/a:&quot;C:\\Program Files (x86)\\HP\\Unified Functional Testing\\bin\\java_shared\\classes&quot;;&quot;C:\\Program Files (x86)\\HP\\Unified Functional Testing\\\\bin\\java_shared\\classes\\jasmine.jar&quot;\r\n    Picked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook\r\n\r\nThe code is:\r\n\r\n\t\r\n    ImagePath.setBundlePath(&quot;C:/Users/xw66/workspace/Sikul/imgs&quot;‌​); \r\n    Screen s = new Screen(); \r\n    //s.wait(); \r\n    s.doubleClick(new Pattern(&quot;C:/Users/xw66/workspace/Sikul/imgs/abc.PNG&quot;)); \r\n    // s.click(getData(&quot;ImagePath&quot;+&quot;Capture.PNG&quot;));","title":"getting find failed errors in sikuli","body":"<p>getting this error while running sikulix with eclipse</p>\n\n<pre><code>18:31:08:751 &gt;&gt; Loading HP UFT Java Support (version 12.0.0.0) (SUN 1.7.0)\nException in thread \"main\" FindFailed: Capture.PNG: (408x284) in S(0)[0,0 1366x768] E:Y, T:3.0\n  Line 2759, in file Region.java\n\n    at org.sikuli.script.Region.wait(Region.java:2759)\n    at org.sikuli.script.Region.find(Region.java:2336)\n    at org.sikuli.script.Region.getLocationFromTarget(Region.java:3213)\n    at org.sikuli.script.Region.click(Region.java:3698)\n    at org.sikuli.script.Region.click(Region.java:3683)\n    at ab.main(ab.java:15)\nPicked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook\nPicked up _JAVA_OPTIONS: -Xrunjvmhook -Xbootclasspath/a:\"C:\\Program Files (x86)\\HP\\Unified Functional Testing\\bin\\java_shared\\classes\";\"C:\\Program Files (x86)\\HP\\Unified Functional Testing\\\\bin\\java_shared\\classes\\jasmine.jar\"\nPicked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook\n</code></pre>\n\n<p>The code is:</p>\n\n<pre><code>ImagePath.setBundlePath(\"C:/Users/xw66/workspace/Sikul/imgs\"‌​); \nScreen s = new Screen(); \n//s.wait(); \ns.doubleClick(new Pattern(\"C:/Users/xw66/workspace/Sikul/imgs/abc.PNG\")); \n// s.click(getData(\"ImagePath\"+\"Capture.PNG\"));\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1669308714,"post_id":74563709,"comment_id":131619911,"body_markdown":"if you need to set blur effect all the time to the image then you can blur that image with an image editor such as gimp or ps","body":"if you need to set blur effect all the time to the image then you can blur that image with an image editor such as gimp or ps"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669309699,"post_id":74563709,"comment_id":131620202,"body_markdown":"Don’t import the awt classes and other unused classes, even though you don’t seem to use them, it is very confusing.","body":"Don’t import the awt classes and other unused classes, even though you don’t seem to use them, it is very confusing."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669309869,"post_id":74563709,"comment_id":131620260,"body_markdown":"Similar [frost effect](https://stackoverflow.com/questions/22622034/frosted-glass-effect-in-javafx) and [transparent pane with non transparent children](https://stackoverflow.com/questions/12717487/how-to-implement-a-transparent-pane-with-non-transparent-children)","body":"Similar <a href=\"https://stackoverflow.com/questions/22622034/frosted-glass-effect-in-javafx\">frost effect</a> and <a href=\"https://stackoverflow.com/questions/12717487/how-to-implement-a-transparent-pane-with-non-transparent-children\">transparent pane with non transparent children</a>"}],"owner":{"account_id":27037187,"reputation":1,"user_id":20592618,"display_name":"qbikle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669317312,"creation_date":1669307034,"question_id":74563709,"body_markdown":"I&#39;ve been trying to apply blur to Vbox in my scene but only blur Vbox so image behind it seems blurry, but when I do this whole Vbox along with its children gets blurred but I don&#39;t want this as the components on top of Vbox should be visible to User\r\n\r\nWhole Vbox Blurry:\r\n\r\n[![blurry][1]][1]\r\n\r\nI want the VBox to only get blurred on its own, and the TextFields on the Vbox along with Lables should stay visible\r\n\r\nMy code:\r\n```Java\r\n\r\npackage UI.Controllers;\r\n\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.geometry.Rectangle2D;\r\nimport javafx.scene.effect.BoxBlur;\r\nimport javafx.scene.effect.GaussianBlur;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.image.WritableImage;\r\nimport javafx.scene.layout.*;\r\n\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.net.URL;\r\nimport java.nio.Buffer;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class LoginTemp implements Initializable {\r\n    @FXML\r\n    private VBox loginBox;\r\n\r\n    public void applyBlur(){\r\n        Image image = new Image(&quot;bg2.jepg&quot;);\r\n        ImageView imageView = new ImageView(image);\r\n        BoxBlur blur = new BoxBlur(3,3,3);\r\n        loginBox.setEffect(blur);\r\n        BackgroundImage bgImage = new BackgroundImage(imageView.getImage(),BackgroundRepeat.REPEAT, BackgroundRepeat.NO_REPEAT, BackgroundPosition.DEFAULT,\r\n                BackgroundSize.DEFAULT);\r\n        loginBox.setBackground(new Background(bgImage));\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        applyBlur();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qEZwB.png","title":"How to apply blur to a Vbox in JavaFX without blurring child nodes inside it?","body":"<p>I've been trying to apply blur to Vbox in my scene but only blur Vbox so image behind it seems blurry, but when I do this whole Vbox along with its children gets blurred but I don't want this as the components on top of Vbox should be visible to User</p>\n<p>Whole Vbox Blurry:</p>\n<p><a href=\"https://i.stack.imgur.com/qEZwB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qEZwB.png\" alt=\"blurry\" /></a></p>\n<p>I want the VBox to only get blurred on its own, and the TextFields on the Vbox along with Lables should stay visible</p>\n<p>My code:</p>\n<pre><code>\npackage UI.Controllers;\n\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.effect.BoxBlur;\nimport javafx.scene.effect.GaussianBlur;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.image.WritableImage;\nimport javafx.scene.layout.*;\n\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.net.URL;\nimport java.nio.Buffer;\nimport java.util.ResourceBundle;\n\npublic class LoginTemp implements Initializable {\n    @FXML\n    private VBox loginBox;\n\n    public void applyBlur(){\n        Image image = new Image(&quot;bg2.jepg&quot;);\n        ImageView imageView = new ImageView(image);\n        BoxBlur blur = new BoxBlur(3,3,3);\n        loginBox.setEffect(blur);\n        BackgroundImage bgImage = new BackgroundImage(imageView.getImage(),BackgroundRepeat.REPEAT, BackgroundRepeat.NO_REPEAT, BackgroundPosition.DEFAULT,\n                BackgroundSize.DEFAULT);\n        loginBox.setBackground(new Background(bgImage));\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        applyBlur();\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","fxml","scenebuilder","fxmlloader"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1669316958,"post_id":74564902,"comment_id":131622029,"body_markdown":"It is easier to read stack traces formatted as code rather than quoted.","body":"It is easier to read stack traces formatted as code rather than quoted."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1669344872,"post_id":74564902,"comment_id":131626395,"body_markdown":"Read https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors for valuable advice on reading and interpreting a stack trace. I strongly recommend you try to understand what is wrong from the stack trace before posting here.","body":"Read <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a> for valuable advice on reading and interpreting a stack trace. I strongly recommend you try to understand what is wrong from the stack trace before posting here."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669316718,"creation_date":1669316718,"answer_id":74565274,"question_id":74564902,"body_markdown":"The error message tells you what is wrong:\r\n\r\n    Caused by: javafx.fxml.LoadException: No controller specified.\r\n\r\nYou need to associate a controller with the FXML (if you provide instructions in the FXML which use a controller, e.g., setting action handlers in FXML).\r\n\r\nSee the [FXML documentation on controllers][1].\r\n\r\nYou can specify the controller in FXML by providing a reference in the root element (substituting the controller name with the fully qualified name of your controller):\r\n\r\n    fx:controller=&quot;com.foo.MyController&quot;\r\n\r\nSceneBuilder can assist in setting the controller:\r\n\r\n * https://stackoverflow.com/questions/40993769/how-can-i-set-the-controller-in-the-scene-builder\r\n\r\nOr you can [set the controller][2] on the loader.\r\n\r\n    FXMLLoader loader = new FXMLLoader();\r\n    loader.setController(\r\n        new MyController()\r\n    );\r\n\r\nOr you can use a [controller factory][3], which is usually used in conjunction with dependency injection frameworks, such as Spring.\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controllers\r\n  [2]: https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#setController(java.lang.Object)\r\n  [3]: https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)","title":"JavaFX exception &quot;Exception in Application start method&quot; only after I add ids and onAction using Scene Builder","body":"<p>The error message tells you what is wrong:</p>\n<pre><code>Caused by: javafx.fxml.LoadException: No controller specified.\n</code></pre>\n<p>You need to associate a controller with the FXML (if you provide instructions in the FXML which use a controller, e.g., setting action handlers in FXML).</p>\n<p>See the <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controllers\" rel=\"nofollow noreferrer\">FXML documentation on controllers</a>.</p>\n<p>You can specify the controller in FXML by providing a reference in the root element (substituting the controller name with the fully qualified name of your controller):</p>\n<pre><code>fx:controller=&quot;com.foo.MyController&quot;\n</code></pre>\n<p>SceneBuilder can assist in setting the controller:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40993769/how-can-i-set-the-controller-in-the-scene-builder\">how can I set the controller in the scene builder?</a></li>\n</ul>\n<p>Or you can <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#setController(java.lang.Object)\" rel=\"nofollow noreferrer\">set the controller</a> on the loader.</p>\n<pre><code>FXMLLoader loader = new FXMLLoader();\nloader.setController(\n    new MyController()\n);\n</code></pre>\n<p>Or you can use a <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)\" rel=\"nofollow noreferrer\">controller factory</a>, which is usually used in conjunction with dependency injection frameworks, such as Spring.</p>\n"}],"owner":{"account_id":27038059,"reputation":1,"user_id":20593351,"display_name":"Vitor Dos Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669316718,"creation_date":1669314204,"question_id":74564902,"body_markdown":"I have a project where I am creating the GUI on Scene Builder. When I first create all the elements of my GUI, it works perfectly. But as soon as I add ids and onActions to my textFields and other elements, it breaks the code saying that there is a &quot;Exception in Application start method&quot;. I am not sure how to deal with this, since I have been doing the exact same thing with other projects and this never happened before.\r\n\r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;ListView fx:id=&quot;eventListView&quot; layoutX=&quot;239.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;380.0&quot; prefWidth=&quot;348.0&quot;&gt;\r\n             &lt;contextMenu&gt;\r\n                &lt;ContextMenu&gt;\r\n                  &lt;items&gt;\r\n                    &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Details&quot; /&gt;\r\n                      &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Remove&quot; /&gt;\r\n                  &lt;/items&gt;\r\n                &lt;/ContextMenu&gt;\r\n             &lt;/contextMenu&gt;\r\n          &lt;/ListView&gt;\r\n          &lt;TextField fx:id=&quot;titleTextField&quot; layoutX=&quot;46.0&quot; layoutY=&quot;101.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;descriptionTextField&quot; layoutX=&quot;46.0&quot; layoutY=&quot;166.0&quot; /&gt;\r\n          &lt;DatePicker fx:id=&quot;datePickerField&quot; layoutX=&quot;40.0&quot; layoutY=&quot;238.0&quot; /&gt;\r\n          &lt;ComboBox fx:id=&quot;cmbAddType&quot; layoutX=&quot;47.0&quot; layoutY=&quot;295.0&quot; onAction=&quot;#selectedType&quot; prefWidth=&quot;150.0&quot; /&gt;\r\n          &lt;Button fx:id=&quot;addEventButton&quot; layoutX=&quot;72.0&quot; layoutY=&quot;365.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddEvent&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;100.0&quot; text=&quot;Add&quot; /&gt;\r\n          &lt;ComboBox fx:id=&quot;cmbOrderFilter&quot; layoutX=&quot;614.0&quot; layoutY=&quot;153.0&quot; onAction=&quot;#orderList&quot; prefWidth=&quot;150.0&quot; /&gt;\r\n          &lt;ComboBox fx:id=&quot;cmbTypeFilter&quot; layoutX=&quot;614.0&quot; layoutY=&quot;208.0&quot; onAction=&quot;#filterType&quot; prefWidth=&quot;150.0&quot; /&gt;\r\n          &lt;Button fx:id=&quot;removeButton&quot; layoutX=&quot;648.0&quot; layoutY=&quot;257.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleRemoveEvent&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;100.0&quot; text=&quot;Remove&quot; /&gt;\r\n          &lt;Label layoutX=&quot;109.0&quot; layoutY=&quot;74.0&quot; text=&quot;Title&quot; /&gt;\r\n          &lt;Label layoutX=&quot;88.0&quot; layoutY=&quot;148.0&quot; text=&quot;Description&quot; /&gt;\r\n          &lt;Label layoutX=&quot;108.0&quot; layoutY=&quot;213.0&quot; text=&quot;Date&quot; /&gt;\r\n          &lt;Label layoutX=&quot;108.0&quot; layoutY=&quot;272.0&quot; text=&quot;Type&quot; /&gt;\r\n          &lt;Label layoutX=&quot;673.0&quot; layoutY=&quot;127.0&quot; text=&quot;Order&quot; /&gt;\r\n          &lt;Label layoutX=&quot;675.0&quot; layoutY=&quot;183.0&quot; text=&quot;Type&quot; /&gt;\r\n          &lt;Label layoutX=&quot;381.0&quot; layoutY=&quot;25.0&quot; text=&quot;Events List&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\n\r\n```\r\npublic class MainWindow {\r\n\r\n    @FXML\r\n    private ResourceBundle resources;\r\n\r\n    @FXML\r\n    private URL location;\r\n\r\n    @FXML\r\n    private Button addEventButton;\r\n\r\n    @FXML\r\n    private ComboBox&lt;?&gt; cmbAddType;\r\n\r\n    @FXML\r\n    private ComboBox&lt;?&gt; cmbOrderFilter;\r\n\r\n    @FXML\r\n    private ComboBox&lt;?&gt; cmbTypeFilter;\r\n\r\n    @FXML\r\n    private DatePicker datePickerField;\r\n\r\n    @FXML\r\n    private TextField descriptionTextField;\r\n\r\n    @FXML\r\n    private ListView&lt;?&gt; eventListView;\r\n\r\n    @FXML\r\n    private Button removeButton;\r\n\r\n    @FXML\r\n    private TextField titleTextField;\r\n\r\n    @FXML\r\n    void filterType(ActionEvent event) {\r\n\r\n    }\r\n\r\n    @FXML\r\n    void handleAddEvent(ActionEvent event) {\r\n\r\n    }\r\n\r\n    @FXML\r\n    void handleRemoveEvent(ActionEvent event) {\r\n\r\n    }\r\n\r\n    @FXML\r\n    void orderList(ActionEvent event) {\r\n\r\n    }\r\n\r\n    @FXML\r\n    void initialize() {\r\n        assert this.addEventButton != null : &quot;fx:id=\\&quot;addEventButton\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.cmbAddType != null : &quot;fx:id=\\&quot;cmbAddType\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.cmbOrderFilter != null : &quot;fx:id=\\&quot;cmbOrderFilter\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.cmbTypeFilter != null : &quot;fx:id=\\&quot;cmbTypeFilter\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.datePickerField != null : &quot;fx:id=\\&quot;datePickerField\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.descriptionTextField != null : &quot;fx:id=\\&quot;descriptionTextField\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.eventListView != null : &quot;fx:id=\\&quot;eventListView\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.removeButton != null : &quot;fx:id=\\&quot;removeButton\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n        assert this.titleTextField != null : &quot;fx:id=\\&quot;titleTextField\\&quot; was not injected: check your FXML file &#39;MainWindow.fxml&#39;.&quot;;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n    public class Main extends Application {\r\n    \tprivate static final String WINDOW_TITLE = &quot;Bulletin Board&quot;;\r\n    \tprivate static final String GUI_RESOURCE = &quot;view/MainWindow.fxml&quot;;\r\n    \r\n    \t/**\r\n    \t * JavaFX entry point.\r\n    \t *\r\n    \t * @precondition none\r\n    \t * @postcondition none\r\n    \t *\r\n    \t * @throws IOException\r\n    \t */\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws IOException {\r\n    \t\tParent parent = FXMLLoader.load(getClass().getResource(Main.GUI_RESOURCE));\r\n    \t\tScene scene = new Scene(parent);\r\n    \t\tprimaryStage.setTitle(WINDOW_TITLE);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Primary Java entry point.\r\n    \t *\r\n    \t * @precondition none\r\n    \t * @postcondition none\r\n    \t *\r\n    \t * @param args command line arguments\r\n    \t */\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMain.launch(args);\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; Exception in Application start method\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\n&gt; Caused by: java.lang.RuntimeException: Exception in Application start\r\n&gt; method \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\r\n&gt; javafx.fxml.LoadException: No controller specified.\r\n&gt; /C:/Users/vvhs1/OneDrive/Documents/UWG/2022/Fall%202022/CS1302/Project3/BulletinBoardRepo/BulletinBoard/bin/edu/westga/cs1302/bulletin_board/view/MainWindow.fxml:28\r\n&gt; \r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2703)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:568)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:610)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:781)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3331)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\r\n&gt; \tat\r\n&gt; javafx.fxml@18.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\r\n&gt; \tat edu.westga.cs1302.bulletin_board.Main.start(Main.java:30) \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n&gt; \tat\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native\r\n&gt; Method) \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n&gt; \t... 1 more Exception running application\r\n&gt; edu.westga.cs1302.bulletin_board.Main\r\n\r\n\r\nI have tried changing the JavaFX version, reinstall Scene Builder, and did not work. Every time that I delete all the components on my FXML file and rebuild it, it works until I add the ids and onAction. As I mention before, I have been working with scene builder and doing this for the past months and this never happened.","title":"JavaFX exception &quot;Exception in Application start method&quot; only after I add ids and onAction using Scene Builder","body":"<p>I have a project where I am creating the GUI on Scene Builder. When I first create all the elements of my GUI, it works perfectly. But as soon as I add ids and onActions to my textFields and other elements, it breaks the code saying that there is a &quot;Exception in Application start method&quot;. I am not sure how to deal with this, since I have been doing the exact same thing with other projects and this never happened before.</p>\n<pre><code>&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;ListView fx:id=&quot;eventListView&quot; layoutX=&quot;239.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;380.0&quot; prefWidth=&quot;348.0&quot;&gt;\n         &lt;contextMenu&gt;\n            &lt;ContextMenu&gt;\n              &lt;items&gt;\n                &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Details&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Remove&quot; /&gt;\n              &lt;/items&gt;\n            &lt;/ContextMenu&gt;\n         &lt;/contextMenu&gt;\n      &lt;/ListView&gt;\n      &lt;TextField fx:id=&quot;titleTextField&quot; layoutX=&quot;46.0&quot; layoutY=&quot;101.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;descriptionTextField&quot; layoutX=&quot;46.0&quot; layoutY=&quot;166.0&quot; /&gt;\n      &lt;DatePicker fx:id=&quot;datePickerField&quot; layoutX=&quot;40.0&quot; layoutY=&quot;238.0&quot; /&gt;\n      &lt;ComboBox fx:id=&quot;cmbAddType&quot; layoutX=&quot;47.0&quot; layoutY=&quot;295.0&quot; onAction=&quot;#selectedType&quot; prefWidth=&quot;150.0&quot; /&gt;\n      &lt;Button fx:id=&quot;addEventButton&quot; layoutX=&quot;72.0&quot; layoutY=&quot;365.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddEvent&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;100.0&quot; text=&quot;Add&quot; /&gt;\n      &lt;ComboBox fx:id=&quot;cmbOrderFilter&quot; layoutX=&quot;614.0&quot; layoutY=&quot;153.0&quot; onAction=&quot;#orderList&quot; prefWidth=&quot;150.0&quot; /&gt;\n      &lt;ComboBox fx:id=&quot;cmbTypeFilter&quot; layoutX=&quot;614.0&quot; layoutY=&quot;208.0&quot; onAction=&quot;#filterType&quot; prefWidth=&quot;150.0&quot; /&gt;\n      &lt;Button fx:id=&quot;removeButton&quot; layoutX=&quot;648.0&quot; layoutY=&quot;257.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleRemoveEvent&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;100.0&quot; text=&quot;Remove&quot; /&gt;\n      &lt;Label layoutX=&quot;109.0&quot; layoutY=&quot;74.0&quot; text=&quot;Title&quot; /&gt;\n      &lt;Label layoutX=&quot;88.0&quot; layoutY=&quot;148.0&quot; text=&quot;Description&quot; /&gt;\n      &lt;Label layoutX=&quot;108.0&quot; layoutY=&quot;213.0&quot; text=&quot;Date&quot; /&gt;\n      &lt;Label layoutX=&quot;108.0&quot; layoutY=&quot;272.0&quot; text=&quot;Type&quot; /&gt;\n      &lt;Label layoutX=&quot;673.0&quot; layoutY=&quot;127.0&quot; text=&quot;Order&quot; /&gt;\n      &lt;Label layoutX=&quot;675.0&quot; layoutY=&quot;183.0&quot; text=&quot;Type&quot; /&gt;\n      &lt;Label layoutX=&quot;381.0&quot; layoutY=&quot;25.0&quot; text=&quot;Events List&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<pre><code>public class MainWindow {\n\n    @FXML\n    private ResourceBundle resources;\n\n    @FXML\n    private URL location;\n\n    @FXML\n    private Button addEventButton;\n\n    @FXML\n    private ComboBox&lt;?&gt; cmbAddType;\n\n    @FXML\n    private ComboBox&lt;?&gt; cmbOrderFilter;\n\n    @FXML\n    private ComboBox&lt;?&gt; cmbTypeFilter;\n\n    @FXML\n    private DatePicker datePickerField;\n\n    @FXML\n    private TextField descriptionTextField;\n\n    @FXML\n    private ListView&lt;?&gt; eventListView;\n\n    @FXML\n    private Button removeButton;\n\n    @FXML\n    private TextField titleTextField;\n\n    @FXML\n    void filterType(ActionEvent event) {\n\n    }\n\n    @FXML\n    void handleAddEvent(ActionEvent event) {\n\n    }\n\n    @FXML\n    void handleRemoveEvent(ActionEvent event) {\n\n    }\n\n    @FXML\n    void orderList(ActionEvent event) {\n\n    }\n\n    @FXML\n    void initialize() {\n        assert this.addEventButton != null : &quot;fx:id=\\&quot;addEventButton\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.cmbAddType != null : &quot;fx:id=\\&quot;cmbAddType\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.cmbOrderFilter != null : &quot;fx:id=\\&quot;cmbOrderFilter\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.cmbTypeFilter != null : &quot;fx:id=\\&quot;cmbTypeFilter\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.datePickerField != null : &quot;fx:id=\\&quot;datePickerField\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.descriptionTextField != null : &quot;fx:id=\\&quot;descriptionTextField\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.eventListView != null : &quot;fx:id=\\&quot;eventListView\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.removeButton != null : &quot;fx:id=\\&quot;removeButton\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n        assert this.titleTextField != null : &quot;fx:id=\\&quot;titleTextField\\&quot; was not injected: check your FXML file 'MainWindow.fxml'.&quot;;\n\n    }\n\n}\n</code></pre>\n<pre><code>public class Main extends Application {\n    private static final String WINDOW_TITLE = &quot;Bulletin Board&quot;;\n    private static final String GUI_RESOURCE = &quot;view/MainWindow.fxml&quot;;\n\n    /**\n     * JavaFX entry point.\n     *\n     * @precondition none\n     * @postcondition none\n     *\n     * @throws IOException\n     */\n    @Override\n    public void start(Stage primaryStage) throws IOException {\n        Parent parent = FXMLLoader.load(getClass().getResource(Main.GUI_RESOURCE));\n        Scene scene = new Scene(parent);\n        primaryStage.setTitle(WINDOW_TITLE);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    /**\n     * Primary Java entry point.\n     *\n     * @precondition none\n     * @postcondition none\n     *\n     * @param args command line arguments\n     */\n\n    public static void main(String[] args) {\n        Main.launch(args);\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Exception in Application start method\njava.lang.reflect.InvocationTargetException   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\njava.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start\nmethod    at\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\nat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\njavafx.fxml.LoadException: No controller specified.\n/C:/Users/vvhs1/OneDrive/Documents/UWG/2022/Fall%202022/CS1302/Project3/BulletinBoardRepo/BulletinBoard/bin/edu/westga/cs1302/bulletin_board/view/MainWindow.fxml:28</p>\n<p>at\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2703)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:568)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:610)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:781)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3331)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\nat\njavafx.fxml@18.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\nat edu.westga.cs1302.bulletin_board.Main.start(Main.java:30)    at\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\nat\njava.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\nat\njavafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat\njavafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native\nMethod)   at\njavafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n... 1 more Exception running application\nedu.westga.cs1302.bulletin_board.Main</p>\n</blockquote>\n<p>I have tried changing the JavaFX version, reinstall Scene Builder, and did not work. Every time that I delete all the components on my FXML file and rebuild it, it works until I add the ids and onAction. As I mention before, I have been working with scene builder and doing this for the past months and this never happened.</p>\n"},{"tags":["java","jvm","bytecode","jvm-bytecode","bcel"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1669300670,"post_id":74561348,"comment_id":131617262,"body_markdown":"For new projects, I would suggest using [ASM](https://asm.ow2.io/).","body":"For new projects, I would suggest using <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a>."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669301737,"post_id":74561348,"comment_id":131617629,"body_markdown":"@JohannesKuhn Thank you but the question is about bcel and bcel only.","body":"@JohannesKuhn Thank you but the question is about bcel and bcel only."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1669625341,"post_id":74561348,"comment_id":131676108,"body_markdown":"I don’t know whether anyone besides the original author uses that utility library. You’ll have to resort to its documentation, as little as there is. I don’t know what you expect from the “*Get existing StackMapTable (if present)*” operation when you already know that the code doesn’t have a StackMapTable, as you just generated it without. BCEL isn’t dead, but [as Apache puts it as](https://commons.apache.org/proper/commons-bcel/): “*Unfortunately there hasn&#39;t been much development going on over the past few years.*” Migrating to a different library might be easier than keeping the old alive.","body":"I don’t know whether anyone besides the original author uses that utility library. You’ll have to resort to its documentation, as little as there is. I don’t know what you expect from the “<i>Get existing StackMapTable (if present)</i>” operation when you already know that the code doesn’t have a StackMapTable, as you just generated it without. BCEL isn’t dead, but <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">as Apache puts it as</a>: “<i>Unfortunately there hasn&#39;t been much development going on over the past few years.</i>” Migrating to a different library might be easier than keeping the old alive."}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669315809,"creation_date":1669295486,"question_id":74561348,"body_markdown":"I have a simple class that I&#39;m trying to re-create programatically with BCEL library.\r\n\r\n```java\r\npublic class HelloWorld {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tswitch (args[0]) {\r\n\t\tcase &quot;Hello&quot;:\r\n\t\t\tSystem.out.println(&quot;Hello World&quot;);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI have a build.gradle that looks like this:\r\n\r\n```groovy-lang\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.apache.bcel:bcel:6.6.1&#39;\r\n    implementation &#39;org.plumelib:bcel-util:1.1.16&#39;\r\n}\r\n```\r\n\r\nFirst thing I do is generate a class generator class with the help of the main class `org.apache.bcel.util.BCELifier` with argument `HelloWorld`. It prints source code to stdout.\r\nThe generated class `HelloWorldCreator` is also a main that I can run and it creates a `HelloWorld.class`. When I run this new HelloWorld class, I have this verifier error:\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.VerifyError: Expecting a stackmap frame at branch target 51\r\n    Exception Details:\r\n      Location:\r\n        HelloWorld.main([Ljava/lang/String;)V @8: lookupswitch\r\n      Reason:\r\n        Expected stackmap frame at this location.\r\n      Bytecode:\r\n        0x0000000: 2a03 3259 4cb6 0014 ab00 0000 0000 002b\r\n        0x0000010: 0000 0001 0426 28b2 0000 0014 2b12 16b6\r\n        0x0000020: 001a 9a00 06a7 000e b200 2012 22b6 0028\r\n        0x0000030: a700 03b1\r\n    \r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n            at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n            at java.lang.Class.getMethod0(Class.java:3018)\r\n            at java.lang.Class.getMethod(Class.java:1784)\r\n            at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\n\r\n\r\nAfter a bit of research, I found out there is side library bcel-util that makes up for lack of stackmap frames in class generated by bcel.\r\n\r\n&gt; BCEL ought to automatically build and maintain the StackMapTable in a\r\n&gt; manner similar to the LineNumberTable and the LocalVariableTable.\r\n&gt; However, for historical reasons, it does not.\r\n\r\nhttp://plumelib.org/bcel-util/api/org/plumelib/bcelutil/InstructionListUtils.html\r\n\r\nTrying to follow the same piece of code indicated on this link, I came up with this code :\r\n\r\n```java\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\n\r\nimport org.apache.bcel.Const;\r\nimport org.apache.bcel.classfile.JavaClass;\r\nimport org.apache.bcel.classfile.Method;\r\nimport org.apache.bcel.generic.ArrayType;\r\nimport org.apache.bcel.generic.BranchInstruction;\r\nimport org.apache.bcel.generic.ClassGen;\r\nimport org.apache.bcel.generic.ConstantPoolGen;\r\nimport org.apache.bcel.generic.InstructionConst;\r\nimport org.apache.bcel.generic.InstructionFactory;\r\nimport org.apache.bcel.generic.InstructionHandle;\r\nimport org.apache.bcel.generic.InstructionList;\r\nimport org.apache.bcel.generic.LOOKUPSWITCH;\r\nimport org.apache.bcel.generic.MethodGen;\r\nimport org.apache.bcel.generic.ObjectType;\r\nimport org.apache.bcel.generic.PUSH;\r\nimport org.apache.bcel.generic.Select;\r\nimport org.apache.bcel.generic.Type;\r\nimport org.plumelib.bcelutil.InstructionListUtils;\r\n\r\npublic class HelloWorldCreator extends InstructionListUtils {\r\n\tprivate InstructionFactory _factory;\r\n\tprivate ConstantPoolGen _cp;\r\n\tprivate ClassGen _cg;\r\n\r\n\tpublic HelloWorldCreator() {\r\n\t\t_cg = new ClassGen(&quot;HelloWorld&quot;, &quot;java.lang.Object&quot;, &quot;HelloWorld.java&quot;, Const.ACC_PUBLIC | Const.ACC_SUPER,\r\n\t\t\t\tnew String[] {});\r\n\t\t_cg.setMajor(52);\r\n\t\t_cg.setMinor(0);\r\n\r\n\t\t_cp = _cg.getConstantPool();\r\n\t\t_factory = new InstructionFactory(_cg, _cp);\r\n\t}\r\n\r\n\tvoid modifyClass(JavaClass jc) {\r\n\t\tClassGen cg = new ClassGen(jc);\r\n\t\tString classname = cg.getClassName();\r\n\t\t// save ConstantPool for use by StackMapUtils\r\n\t\tpool = cg.getConstantPool();\r\n\r\n\t\tfor (Method m : cg.getMethods()) {\r\n\t\t\ttry {\r\n\t\t\t\tMethodGen mg = new MethodGen(m, classname, pool);\r\n\t\t\t\t// Get the instruction list and skip methods with no instructions\r\n\t\t\t\tInstructionList il = mg.getInstructionList();\r\n\t\t\t\tif (il == null) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get existing StackMapTable (if present)\r\n\t\t\t\tset_current_stack_map_table(mg, cg.getMajor());\r\n\t\t\t\tfix_local_variable_table(mg);\r\n\r\n\t\t\t\t// Create a map of Uninitialized_variable_info offsets to\r\n\t\t\t\t// InstructionHandles.\r\n\t\t\t\tbuild_unitialized_NEW_map(il);\r\n\r\n\t\t\t\t// Update the Uninitialized_variable_info offsets before\r\n\t\t\t\t// we write out the new StackMapTable.\r\n\t\t\t\tupdate_uninitialized_NEW_offsets(il);\r\n\t\t\t\tcreate_new_stack_map_attribute(mg);\r\n\r\n\t\t\t\t// Update the instruction list\r\n\t\t\t\tmg.setInstructionList(il);\r\n\t\t\t\tmg.update();\r\n\r\n\t\t\t\t// Update the max stack\r\n\t\t\t\tmg.setMaxStack();\r\n\t\t\t\tmg.setMaxLocals();\r\n\t\t\t\tmg.update();\r\n\r\n\t\t\t\tremove_local_variable_type_table(mg);\r\n\r\n\t\t\t\t// Update the method in the class\r\n\t\t\t\tcg.replaceMethod(m, mg.getMethod());\r\n\r\n\t\t\t} catch (Throwable t) {\r\n\t\t\t\tthrow new Error(&quot;Unexpected error processing &quot; + classname + &quot;.&quot; + m.getName(), t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void create(OutputStream out) throws IOException {\r\n\t\tcreateMethod_0();\r\n\t\tcreateMethod_1();\r\n\t\tJavaClass jc = _cg.getJavaClass();\r\n\t\tmodifyClass(jc);\r\n\t\tjc.dump(out);\r\n\t}\r\n\r\n\tprivate void createMethod_0() {\r\n\t\tInstructionList il = new InstructionList();\r\n\t\tMethodGen method = new MethodGen(Const.ACC_PUBLIC, Type.VOID, Type.NO_ARGS, new String[] {}, &quot;&lt;init&gt;&quot;,\r\n\t\t\t\t&quot;HelloWorld&quot;, il, _cp);\r\n\r\n\t\til.append(InstructionFactory.createLoad(Type.OBJECT, 0));\r\n\t\til.append(_factory.createInvoke(&quot;java.lang.Object&quot;, &quot;&lt;init&gt;&quot;, Type.VOID, Type.NO_ARGS, Const.INVOKESPECIAL));\r\n\t\til.append(InstructionFactory.createReturn(Type.VOID));\r\n\t\tmethod.setMaxStack();\r\n\t\tmethod.setMaxLocals();\r\n\t\t_cg.addMethod(method.getMethod());\r\n\t\til.dispose();\r\n\t}\r\n\r\n\tprivate void createMethod_1() {\r\n\t\tInstructionList il = new InstructionList();\r\n\t\tMethodGen method = new MethodGen(Const.ACC_PUBLIC | Const.ACC_STATIC, Type.VOID,\r\n\t\t\t\tnew Type[] { new ArrayType(Type.STRING, 1) }, new String[] { &quot;arg0&quot; }, &quot;main&quot;, &quot;HelloWorld&quot;, il, _cp);\r\n\r\n\t\til.append(InstructionFactory.createLoad(Type.OBJECT, 0));\r\n\t\til.append(new PUSH(_cp, 0));\r\n\t\til.append(InstructionConst.AALOAD);\r\n\t\til.append(InstructionConst.DUP);\r\n\t\til.append(InstructionFactory.createStore(Type.OBJECT, 1));\r\n\t\til.append(_factory.createInvoke(&quot;java.lang.String&quot;, &quot;hashCode&quot;, Type.INT, Type.NO_ARGS, Const.INVOKEVIRTUAL));\r\n\t\tSelect lookupswitch_8 = new LOOKUPSWITCH(new int[] { 69609650 }, new InstructionHandle[] { null }, null);\r\n\t\til.append(lookupswitch_8);\r\n\t\tInstructionHandle ih_28 = il.append(InstructionFactory.createLoad(Type.OBJECT, 1));\r\n\t\til.append(new PUSH(_cp, &quot;Hello&quot;));\r\n\t\til.append(_factory.createInvoke(&quot;java.lang.String&quot;, &quot;equals&quot;, Type.BOOLEAN, new Type[] { Type.OBJECT },\r\n\t\t\t\tConst.INVOKEVIRTUAL));\r\n\t\tBranchInstruction ifne_34 = InstructionFactory.createBranchInstruction(Const.IFNE, null);\r\n\t\til.append(ifne_34);\r\n\t\tBranchInstruction goto_37 = InstructionFactory.createBranchInstruction(Const.GOTO, null);\r\n\t\til.append(goto_37);\r\n\t\tInstructionHandle ih_40 = il.append(_factory.createFieldAccess(&quot;java.lang.System&quot;, &quot;out&quot;,\r\n\t\t\t\tnew ObjectType(&quot;java.io.PrintStream&quot;), Const.GETSTATIC));\r\n\t\til.append(new PUSH(_cp, &quot;Hello World&quot;));\r\n\t\til.append(_factory.createInvoke(&quot;java.io.PrintStream&quot;, &quot;println&quot;, Type.VOID, new Type[] { Type.STRING },\r\n\t\t\t\tConst.INVOKEVIRTUAL));\r\n\t\tBranchInstruction goto_48 = InstructionFactory.createBranchInstruction(Const.GOTO, null);\r\n\t\til.append(goto_48);\r\n\t\tInstructionHandle ih_51 = il.append(InstructionFactory.createReturn(Type.VOID));\r\n\t\tlookupswitch_8.setTarget(ih_51);\r\n\t\tlookupswitch_8.setTarget(0, ih_28);\r\n\t\tifne_34.setTarget(ih_40);\r\n\t\tgoto_37.setTarget(ih_51);\r\n\t\tgoto_48.setTarget(ih_51);\r\n\t\tmethod.setMaxStack();\r\n\t\tmethod.setMaxLocals();\r\n\t\t_cg.addMethod(method.getMethod());\r\n\t\til.dispose();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tHelloWorldCreator creator = new HelloWorldCreator();\r\n\t\tcreator.create(new FileOutputStream(&quot;HelloWorld.class&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nHowever, when running this new updated `HelloWorldCreator`, I still have the same verifier issue.\r\n\r\n\r\n","title":"How do I create a class with bcel and bcel-util which passes the verifier?","body":"<p>I have a simple class that I'm trying to re-create programatically with BCEL library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld {\n\n    public static void main(String[] args) {\n        switch (args[0]) {\n        case &quot;Hello&quot;:\n            System.out.println(&quot;Hello World&quot;);\n            break;\n        default:\n            break;\n        }\n    }\n}\n</code></pre>\n<p>I have a build.gradle that looks like this:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.apache.bcel:bcel:6.6.1'\n    implementation 'org.plumelib:bcel-util:1.1.16'\n}\n</code></pre>\n<p>First thing I do is generate a class generator class with the help of the main class <code>org.apache.bcel.util.BCELifier</code> with argument <code>HelloWorld</code>. It prints source code to stdout.\nThe generated class <code>HelloWorldCreator</code> is also a main that I can run and it creates a <code>HelloWorld.class</code>. When I run this new HelloWorld class, I have this verifier error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.VerifyError: Expecting a stackmap frame at branch target 51\nException Details:\n  Location:\n    HelloWorld.main([Ljava/lang/String;)V @8: lookupswitch\n  Reason:\n    Expected stackmap frame at this location.\n  Bytecode:\n    0x0000000: 2a03 3259 4cb6 0014 ab00 0000 0000 002b\n    0x0000010: 0000 0001 0426 28b2 0000 0014 2b12 16b6\n    0x0000020: 001a 9a00 06a7 000e b200 2012 22b6 0028\n    0x0000030: a700 03b1\n\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\n</code></pre>\n<p>After a bit of research, I found out there is side library bcel-util that makes up for lack of stackmap frames in class generated by bcel.</p>\n<blockquote>\n<p>BCEL ought to automatically build and maintain the StackMapTable in a\nmanner similar to the LineNumberTable and the LocalVariableTable.\nHowever, for historical reasons, it does not.</p>\n</blockquote>\n<p><a href=\"http://plumelib.org/bcel-util/api/org/plumelib/bcelutil/InstructionListUtils.html\" rel=\"nofollow noreferrer\">http://plumelib.org/bcel-util/api/org/plumelib/bcelutil/InstructionListUtils.html</a></p>\n<p>Trying to follow the same piece of code indicated on this link, I came up with this code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\nimport org.apache.bcel.Const;\nimport org.apache.bcel.classfile.JavaClass;\nimport org.apache.bcel.classfile.Method;\nimport org.apache.bcel.generic.ArrayType;\nimport org.apache.bcel.generic.BranchInstruction;\nimport org.apache.bcel.generic.ClassGen;\nimport org.apache.bcel.generic.ConstantPoolGen;\nimport org.apache.bcel.generic.InstructionConst;\nimport org.apache.bcel.generic.InstructionFactory;\nimport org.apache.bcel.generic.InstructionHandle;\nimport org.apache.bcel.generic.InstructionList;\nimport org.apache.bcel.generic.LOOKUPSWITCH;\nimport org.apache.bcel.generic.MethodGen;\nimport org.apache.bcel.generic.ObjectType;\nimport org.apache.bcel.generic.PUSH;\nimport org.apache.bcel.generic.Select;\nimport org.apache.bcel.generic.Type;\nimport org.plumelib.bcelutil.InstructionListUtils;\n\npublic class HelloWorldCreator extends InstructionListUtils {\n    private InstructionFactory _factory;\n    private ConstantPoolGen _cp;\n    private ClassGen _cg;\n\n    public HelloWorldCreator() {\n        _cg = new ClassGen(&quot;HelloWorld&quot;, &quot;java.lang.Object&quot;, &quot;HelloWorld.java&quot;, Const.ACC_PUBLIC | Const.ACC_SUPER,\n                new String[] {});\n        _cg.setMajor(52);\n        _cg.setMinor(0);\n\n        _cp = _cg.getConstantPool();\n        _factory = new InstructionFactory(_cg, _cp);\n    }\n\n    void modifyClass(JavaClass jc) {\n        ClassGen cg = new ClassGen(jc);\n        String classname = cg.getClassName();\n        // save ConstantPool for use by StackMapUtils\n        pool = cg.getConstantPool();\n\n        for (Method m : cg.getMethods()) {\n            try {\n                MethodGen mg = new MethodGen(m, classname, pool);\n                // Get the instruction list and skip methods with no instructions\n                InstructionList il = mg.getInstructionList();\n                if (il == null) {\n                    continue;\n                }\n\n                // Get existing StackMapTable (if present)\n                set_current_stack_map_table(mg, cg.getMajor());\n                fix_local_variable_table(mg);\n\n                // Create a map of Uninitialized_variable_info offsets to\n                // InstructionHandles.\n                build_unitialized_NEW_map(il);\n\n                // Update the Uninitialized_variable_info offsets before\n                // we write out the new StackMapTable.\n                update_uninitialized_NEW_offsets(il);\n                create_new_stack_map_attribute(mg);\n\n                // Update the instruction list\n                mg.setInstructionList(il);\n                mg.update();\n\n                // Update the max stack\n                mg.setMaxStack();\n                mg.setMaxLocals();\n                mg.update();\n\n                remove_local_variable_type_table(mg);\n\n                // Update the method in the class\n                cg.replaceMethod(m, mg.getMethod());\n\n            } catch (Throwable t) {\n                throw new Error(&quot;Unexpected error processing &quot; + classname + &quot;.&quot; + m.getName(), t);\n            }\n        }\n    }\n\n    public void create(OutputStream out) throws IOException {\n        createMethod_0();\n        createMethod_1();\n        JavaClass jc = _cg.getJavaClass();\n        modifyClass(jc);\n        jc.dump(out);\n    }\n\n    private void createMethod_0() {\n        InstructionList il = new InstructionList();\n        MethodGen method = new MethodGen(Const.ACC_PUBLIC, Type.VOID, Type.NO_ARGS, new String[] {}, &quot;&lt;init&gt;&quot;,\n                &quot;HelloWorld&quot;, il, _cp);\n\n        il.append(InstructionFactory.createLoad(Type.OBJECT, 0));\n        il.append(_factory.createInvoke(&quot;java.lang.Object&quot;, &quot;&lt;init&gt;&quot;, Type.VOID, Type.NO_ARGS, Const.INVOKESPECIAL));\n        il.append(InstructionFactory.createReturn(Type.VOID));\n        method.setMaxStack();\n        method.setMaxLocals();\n        _cg.addMethod(method.getMethod());\n        il.dispose();\n    }\n\n    private void createMethod_1() {\n        InstructionList il = new InstructionList();\n        MethodGen method = new MethodGen(Const.ACC_PUBLIC | Const.ACC_STATIC, Type.VOID,\n                new Type[] { new ArrayType(Type.STRING, 1) }, new String[] { &quot;arg0&quot; }, &quot;main&quot;, &quot;HelloWorld&quot;, il, _cp);\n\n        il.append(InstructionFactory.createLoad(Type.OBJECT, 0));\n        il.append(new PUSH(_cp, 0));\n        il.append(InstructionConst.AALOAD);\n        il.append(InstructionConst.DUP);\n        il.append(InstructionFactory.createStore(Type.OBJECT, 1));\n        il.append(_factory.createInvoke(&quot;java.lang.String&quot;, &quot;hashCode&quot;, Type.INT, Type.NO_ARGS, Const.INVOKEVIRTUAL));\n        Select lookupswitch_8 = new LOOKUPSWITCH(new int[] { 69609650 }, new InstructionHandle[] { null }, null);\n        il.append(lookupswitch_8);\n        InstructionHandle ih_28 = il.append(InstructionFactory.createLoad(Type.OBJECT, 1));\n        il.append(new PUSH(_cp, &quot;Hello&quot;));\n        il.append(_factory.createInvoke(&quot;java.lang.String&quot;, &quot;equals&quot;, Type.BOOLEAN, new Type[] { Type.OBJECT },\n                Const.INVOKEVIRTUAL));\n        BranchInstruction ifne_34 = InstructionFactory.createBranchInstruction(Const.IFNE, null);\n        il.append(ifne_34);\n        BranchInstruction goto_37 = InstructionFactory.createBranchInstruction(Const.GOTO, null);\n        il.append(goto_37);\n        InstructionHandle ih_40 = il.append(_factory.createFieldAccess(&quot;java.lang.System&quot;, &quot;out&quot;,\n                new ObjectType(&quot;java.io.PrintStream&quot;), Const.GETSTATIC));\n        il.append(new PUSH(_cp, &quot;Hello World&quot;));\n        il.append(_factory.createInvoke(&quot;java.io.PrintStream&quot;, &quot;println&quot;, Type.VOID, new Type[] { Type.STRING },\n                Const.INVOKEVIRTUAL));\n        BranchInstruction goto_48 = InstructionFactory.createBranchInstruction(Const.GOTO, null);\n        il.append(goto_48);\n        InstructionHandle ih_51 = il.append(InstructionFactory.createReturn(Type.VOID));\n        lookupswitch_8.setTarget(ih_51);\n        lookupswitch_8.setTarget(0, ih_28);\n        ifne_34.setTarget(ih_40);\n        goto_37.setTarget(ih_51);\n        goto_48.setTarget(ih_51);\n        method.setMaxStack();\n        method.setMaxLocals();\n        _cg.addMethod(method.getMethod());\n        il.dispose();\n    }\n\n    public static void main(String[] args) throws Exception {\n        HelloWorldCreator creator = new HelloWorldCreator();\n        creator.create(new FileOutputStream(&quot;HelloWorld.class&quot;));\n    }\n}\n</code></pre>\n<p>However, when running this new updated <code>HelloWorldCreator</code>, I still have the same verifier issue.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1669314669,"post_id":74564747,"comment_id":131621489,"body_markdown":"When using Preview features, you need to run it with the same Java version **and** add `--enable-preview` at runtime (for your tests) as well. Not just for the compiler. The &quot;strange&quot; class file version is because preview features are enabled.","body":"When using Preview features, you need to run it with the same Java version <b>and</b> add <code>--enable-preview</code> at runtime (for your tests) as well. Not just for the compiler. The &quot;strange&quot; class file version is because preview features are enabled."},{"owner":{"account_id":2247912,"reputation":3396,"user_id":1980863,"accept_rate":50,"display_name":"RandomB"},"score":0,"creation_date":1669315339,"post_id":74564747,"comment_id":131621624,"body_markdown":"@dan1st - hm, you are *right*, I removed `--enable-preview` also and it seems exactly this is the fix (or to add it in runtime as well).","body":"@dan1st - hm, you are <i>right</i>, I removed <code>--enable-preview</code> also and it seems exactly this is the fix (or to add it in runtime as well)."}],"answers":[{"tags":[],"owner":{"account_id":2247912,"reputation":3396,"user_id":1980863,"accept_rate":50,"display_name":"RandomB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669315399,"creation_date":1669314589,"answer_id":74564959,"question_id":74564747,"body_markdown":"Problem solved, I had old JUnit versions in my `pom.xml`, I changed them to the last version:\r\n\r\n```xml\r\n...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n```\r\n\r\nand everything works fine now (also I switched to the Java 19). And I removed `--enable-preview` - see the comment of @dan1st ","title":"Maven test fails with UnsupportedClassVersion, but compilation passes","body":"<p>Problem solved, I had old JUnit versions in my <code>pom.xml</code>, I changed them to the last version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n...\n</code></pre>\n<p>and everything works fine now (also I switched to the Java 19). And I removed <code>--enable-preview</code> - see the comment of @dan1st</p>\n"}],"owner":{"account_id":2247912,"reputation":3396,"user_id":1980863,"accept_rate":50,"display_name":"RandomB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669315399,"creation_date":1669313065,"question_id":74564747,"body_markdown":"I have very simple and dummy test of a class which uses pattern matching. To allow it I added compiler argument to my `pom.xml`:\r\n\r\n```xml\r\n...\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                        ...\r\n...\r\n```\r\n\r\nAnd the compile works fine. But when I tried to run test, I got:\r\n\r\n```\r\n[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.016 s &lt;&lt;&lt; FAILURE! - in prefile.pref.ALineTest\r\n[ERROR] testCreateEmpty1  Time elapsed: 0.016 s  &lt;&lt;&lt; ERROR!\r\njava.lang.UnsupportedClassVersionError: Preview features are not enabled for prefile/pref/ALine (class file version 61.65535). Try running with &#39;--enable-preview&#39;\r\n\tat prefile.pref.ALineTest.testCreateEmpty1(ALineTest.java:27)\r\n\r\n[INFO] Running prefile.pref.APathTest\r\n[INFO] Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 s - in prefile.pref.APathTest\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[ERROR] Errors: \r\n[ERROR]   ALineTest.testCreateEmpty1:27 &#187; UnsupportedClassVersion Preview features are n...\r\n[INFO] \r\n[ERROR] Tests run: 26, Failures: 0, Errors: 1, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nI tried to modify my `pom.xml`:\r\n\r\n```xml\r\n...\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;testSource&gt;17&lt;/testSource&gt;\r\n                    &lt;testTarget&gt;17&lt;/testTarget&gt;\r\n                    &lt;testCompilerArguments&gt;\r\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                    &lt;/testCompilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n...\r\n```\r\n\r\nI am not sure about versions, but `java -version` reports &quot;17.0.1&quot;. Nothing helps. The compilation works, testing - does not. How to fix it?\r\n\r\nPS. Also this strange message about a version `(class file version 61.65535)`. I tried to clean, compile and test again, the same error. I even tried OpenJDK 19, but the same error happens.","title":"Maven test fails with UnsupportedClassVersion, but compilation passes","body":"<p>I have very simple and dummy test of a class which uses pattern matching. To allow it I added compiler argument to my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\n                        ...\n...\n</code></pre>\n<p>And the compile works fine. But when I tried to run test, I got:</p>\n<pre><code>[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.016 s &lt;&lt;&lt; FAILURE! - in prefile.pref.ALineTest\n[ERROR] testCreateEmpty1  Time elapsed: 0.016 s  &lt;&lt;&lt; ERROR!\njava.lang.UnsupportedClassVersionError: Preview features are not enabled for prefile/pref/ALine (class file version 61.65535). Try running with '--enable-preview'\n    at prefile.pref.ALineTest.testCreateEmpty1(ALineTest.java:27)\n\n[INFO] Running prefile.pref.APathTest\n[INFO] Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 s - in prefile.pref.APathTest\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   ALineTest.testCreateEmpty1:27 » UnsupportedClassVersion Preview features are n...\n[INFO] \n[ERROR] Tests run: 26, Failures: 0, Errors: 1, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>I tried to modify my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;testSource&gt;17&lt;/testSource&gt;\n                    &lt;testTarget&gt;17&lt;/testTarget&gt;\n                    &lt;testCompilerArguments&gt;\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\n                    &lt;/testCompilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n...\n</code></pre>\n<p>I am not sure about versions, but <code>java -version</code> reports &quot;17.0.1&quot;. Nothing helps. The compilation works, testing - does not. How to fix it?</p>\n<p>PS. Also this strange message about a version <code>(class file version 61.65535)</code>. I tried to clean, compile and test again, the same error. I even tried OpenJDK 19, but the same error happens.</p>\n"},{"tags":["javascript","java","react-native","compiler-errors"],"comments":[{"owner":{"account_id":14757159,"reputation":4270,"user_id":10657559,"display_name":"Thanhal P A"},"score":1,"creation_date":1667826466,"post_id":74347026,"comment_id":131253097,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/74334162/android-build-failure-common-issue-failed-to-install-the-app-error-command-f","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74334162/android-build-failure-common-issue-failed-to-install-the-app-error-command-f\" title=\"android build failure common issue failed to install the app error command f\">stackoverflow.com/questions/74334162/&hellip;</a>"},{"owner":{"account_id":24783559,"reputation":91,"user_id":18666916,"display_name":"Syed Ali Sultan Bukhari"},"score":0,"creation_date":1667901619,"post_id":74347026,"comment_id":131272709,"body_markdown":"No, it doesn&#39;t. @Thanhal","body":"No, it doesn&#39;t. @Thanhal"},{"owner":{"account_id":20949308,"reputation":51,"user_id":15402014,"display_name":"Mark"},"score":0,"creation_date":1668723140,"post_id":74347026,"comment_id":131482402,"body_markdown":"Did you manage to solve your problem? I am experiencing the same problem...","body":"Did you manage to solve your problem? I am experiencing the same problem..."},{"owner":{"account_id":24783559,"reputation":91,"user_id":18666916,"display_name":"Syed Ali Sultan Bukhari"},"score":0,"creation_date":1672223482,"post_id":74347026,"comment_id":132244761,"body_markdown":"@Mark yes bro. I have mentioned the answer below, please have a look at it.","body":"@Mark yes bro. I have mentioned the answer below, please have a look at it."}],"answers":[{"comments":[{"owner":{"account_id":24783559,"reputation":91,"user_id":18666916,"display_name":"Syed Ali Sultan Bukhari"},"score":0,"creation_date":1668076501,"post_id":74365549,"comment_id":131321337,"body_markdown":"It worked but just for this issue. Now the issue is changed and is shifted to another class in Node Modules which is following :-\nF:\\lantis_new_and_updated\\node_modules\\@react-native-community\\async-storage\\android\\src\\main\\java\\com\\reactnativecommunity\\asyncstorage\\AsyncStorageModule.java:270: error: cannot find symbol","body":"It worked but just for this issue. Now the issue is changed and is shifted to another class in Node Modules which is following :- F:\\lantis_new_and_updated\\node_modules\\@react-native-communi&zwnj;&#8203;ty\\async-storage\\and&zwnj;&#8203;roid\\src\\main\\java\\c&zwnj;&#8203;om\\reactnativecommun&zwnj;&#8203;ity\\asyncstorage\\Asy&zwnj;&#8203;ncStorageModule.java&zwnj;&#8203;:270: error: cannot find symbol"},{"owner":{"account_id":26870572,"reputation":1,"user_id":20452650,"display_name":"Alan Machado"},"score":0,"creation_date":1668085759,"post_id":74365549,"comment_id":131324447,"body_markdown":"Try reinstall the AsyncStorage. After that, go to android folder by terminal and run ./gradlew clean &amp;&amp; ./gradlew --stop and try to run again","body":"Try reinstall the AsyncStorage. After that, go to android folder by terminal and run ./gradlew clean &amp;&amp; ./gradlew --stop and try to run again"}],"tags":[],"owner":{"account_id":26870572,"reputation":1,"user_id":20452650,"display_name":"Alan Machado"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667932112,"creation_date":1667932112,"answer_id":74365549,"question_id":74347026,"body_markdown":"Maybe they will update the package, but to solve this issue by yourself, go to react-native-callkeep-hk/android/build.gradle and add follow line on dependencies: \r\nimplementation &quot;androidx.localbroadcastmanager:localbroadcastmanager:1.1.0&quot;","title":"Task :react-native-callkeep:compileDebugJavaWithJavac FAILED","body":"<p>Maybe they will update the package, but to solve this issue by yourself, go to react-native-callkeep-hk/android/build.gradle and add follow line on dependencies:\nimplementation &quot;androidx.localbroadcastmanager:localbroadcastmanager:1.1.0&quot;</p>\n"},{"tags":[],"owner":{"account_id":24783559,"reputation":91,"user_id":18666916,"display_name":"Syed Ali Sultan Bukhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668582722,"creation_date":1668582722,"answer_id":74456474,"question_id":74347026,"body_markdown":"**This solution has worked for me**\r\nIn android level **build.gradle** file:\r\n\r\n     def REACT_NATIVE_VERSION = new File([&#39;node&#39;, &#39;-- \r\n     print&#39;,&quot;JSON.parse(require(&#39;fs&#39;).readFileSync(require.resolve(&#39;react- \r\n     native/package.json&#39;), &#39;utf-8&#39;)).version&quot;].execute(null, \r\n     rootDir).text.trim())\r\n     buildscript {\r\n     // ...\r\n     }\r\n     allprojects {\r\n     configurations.all {\r\n          resolutionStrategy {\r\n            force &quot;com.facebook.react:react-native:&quot; + REACT_NATIVE_VERSION\r\n          }\r\n     }\r\n     // ...  \r\n     }\r\n\r\n","title":"Task :react-native-callkeep:compileDebugJavaWithJavac FAILED","body":"<p><strong>This solution has worked for me</strong>\nIn android level <strong>build.gradle</strong> file:</p>\n<pre><code> def REACT_NATIVE_VERSION = new File(['node', '-- \n print',&quot;JSON.parse(require('fs').readFileSync(require.resolve('react- \n native/package.json'), 'utf-8')).version&quot;].execute(null, \n rootDir).text.trim())\n buildscript {\n // ...\n }\n allprojects {\n configurations.all {\n      resolutionStrategy {\n        force &quot;com.facebook.react:react-native:&quot; + REACT_NATIVE_VERSION\n      }\n }\n // ...  \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14019054,"reputation":153,"user_id":10125719,"display_name":"Shoaib Mirza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669315158,"creation_date":1669315158,"answer_id":74565036,"question_id":74347026,"body_markdown":"**Running these command works for me.** \r\n\r\n - npm install --save-dev jetifier\r\n - npx jetify\r\n - npx react-native run-android\r\n\r\nyou can check out https://github.com/mikehardy/jetifier#to-jetify--convert-node_modules-dependencies-to-androidx for details. \r\n","title":"Task :react-native-callkeep:compileDebugJavaWithJavac FAILED","body":"<p><strong>Running these command works for me.</strong></p>\n<ul>\n<li>npm install --save-dev jetifier</li>\n<li>npx jetify</li>\n<li>npx react-native run-android</li>\n</ul>\n<p>you can check out <a href=\"https://github.com/mikehardy/jetifier#to-jetify--convert-node_modules-dependencies-to-androidx\" rel=\"nofollow noreferrer\">https://github.com/mikehardy/jetifier#to-jetify--convert-node_modules-dependencies-to-androidx</a> for details.</p>\n"}],"owner":{"account_id":24783559,"reputation":91,"user_id":18666916,"display_name":"Syed Ali Sultan Bukhari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1669315158,"creation_date":1667826098,"question_id":74347026,"body_markdown":"I leave the error. I was working with this module until yesterday. Whn I try to run appear this error. If I create a new project when install it, Appear always the same\r\n`\r\n\r\n\r\n                                                               ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:70: error: package androidx.core.app \r\ndoes not exist\r\nimport static androidx.core.app.ActivityCompat.requestPermissions;\r\n                               ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:70: error: static import only from cl\r\nasses and interfaces\r\nimport static androidx.core.app.ActivityCompat.requestPermissions;\r\n^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:88: error: cannot find symbol        \r\npublic class RNCallKeepModule extends ReactContextBaseJavaModule {\r\n                                      ^\r\n  symbol: class ReactContextBaseJavaModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:100: error: cannot find symbol       \r\n    private static Promise hasPhoneAccountPromise;\r\n                   ^\r\n  symbol:   class Promise\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:101: error: cannot find symbol       \r\n    private ReactApplicationContext reactContext;\r\n            ^\r\n  symbol:   class ReactApplicationContext\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:105: error: cannot find symbol       \r\n    private ReadableMap _settings;\r\n            ^\r\n  symbol:   class ReadableMap\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:107: error: cannot find symbol       \r\n    public RNCallKeepModule(ReactApplicationContext reactContext) {\r\n                            ^\r\n  symbol:   class ReactApplicationContext\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:119: error: cannot find symbol       \r\n    public void setup(ReadableMap options) {\r\n                      ^\r\n  symbol:   class ReadableMap\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:219: error: cannot find symbol       \r\n    public void checkPhoneAccountPermission(ReadableArray optionalPermissions, Promise promise) {\r\n                                            ^\r\n  symbol:   class ReadableArray\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:219: error: cannot find symbol       \r\n    public void checkPhoneAccountPermission(ReadableArray optionalPermissions, Promise promise) {\r\n                                                                               ^\r\n  symbol:   class Promise\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:249: error: cannot find symbol       \r\n    public void checkDefaultPhoneAccount(Promise promise) {\r\n                                         ^\r\n  symbol:   class Promise\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:348: error: cannot find symbol       \r\n    public void hasPhoneAccount(Promise promise) {\r\n                                ^\r\n  symbol:   class Promise\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:353: error: cannot find symbol       \r\n    public void hasOutgoingCall(Promise promise) {\r\n                                ^\r\n  symbol:   class Promise\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:358: error: cannot find symbol       \r\n    public void hasPermissions(Promise promise) {\r\n                               ^\r\n  symbol:   class Promise\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:469: error: cannot find symbol       \r\n    private void sendEventToJS(String eventName, @Nullable WritableMap params) {\r\n                                                           ^\r\n  symbol:   class WritableMap\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:20: error: package com.facebook.reac\r\nt does not exist\r\nimport com.facebook.react.ReactPackage;\r\n                         ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:21: error: package com.facebook.reac\r\nt.bridge does not exist\r\nimport com.facebook.react.bridge.JavaScriptModule;\r\n                                ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:22: error: package com.facebook.reac\r\nt.bridge does not exist\r\nimport com.facebook.react.bridge.NativeModule;\r\n                                ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:23: error: package com.facebook.reac\r\nt.bridge does not exist\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\n                                ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:24: error: package com.facebook.reac\r\nt.uimanager does not exist\r\nimport com.facebook.react.uimanager.ViewManager;\r\n                                   ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:29: error: cannot find symbol       \r\npublic class RNCallKeepPackage implements ReactPackage {\r\n                                          ^\r\n  symbol: class ReactPackage\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:32: error: cannot find symbol       \r\n    public List&lt;NativeModule&gt; createNativeModules(ReactApplicationContext reactContext) {\r\n                                                  ^\r\n  symbol:   class ReactApplicationContext\r\n  location: class RNCallKeepPackage\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:32: error: cannot find symbol       \r\n    public List&lt;NativeModule&gt; createNativeModules(ReactApplicationContext reactContext) {\r\n                ^\r\n  symbol:   class NativeModule\r\n  location: class RNCallKeepPackage\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:37: error: cannot find symbol       \r\n    public List&lt;Class&lt;? extends JavaScriptModule&gt;&gt; createJSModules() {\r\n                                ^\r\n  symbol:   class JavaScriptModule\r\n  location: class RNCallKeepPackage\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:42: error: cannot find symbol       \r\n    public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\r\n                                                ^\r\n  symbol:   class ReactApplicationContext\r\n  location: class RNCallKeepPackage\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:42: error: cannot find symbol       \r\n    public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\r\n                ^\r\n  symbol:   class ViewManager\r\n  location: class RNCallKeepPackage\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:26: error: cannot find symbol\r\nimport androidx.annotation.Nullable;\r\n                          ^\r\n  symbol:   class Nullable\r\n  location: package androidx.annotation\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:27: error: package androidx.localbroad\r\ncastmanager.content does not exist\r\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\r\n                                             ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnectionService.java:29: error: cannot find symbol  \r\nimport androidx.annotation.Nullable;\r\n                          ^\r\n  symbol:   class Nullable\r\n  location: package androidx.annotation\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnectionService.java:30: error: package androidx.loc\r\nalbroadcastmanager.content does not exist\r\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\r\n                                             ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:37: error: cannot\r\n find symbol\r\n  protected @Nullable\r\n             ^\r\n  symbol:   class Nullable\r\n  location: class RNCallKeepBackgroundMessagingService\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:118: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:132: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:150: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:164: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:186: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:202: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:218: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:248: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:266: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:280: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:293: error: cannot find symbol\r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:307: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:326: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:336: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:347: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:352: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:357: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:362: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:367: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:372: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:383: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:402: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:413: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:419: error: cannot find symbol       \r\n    @ReactMethod\r\n     ^\r\n  symbol:   class ReactMethod\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:469: error: cannot find symbol       \r\n    private void sendEventToJS(String eventName, @Nullable WritableMap params) {\r\n                                                  ^\r\n  symbol:   class Nullable\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:202: error: cannot find symbol        \r\n    private void sendCallRequestToActivity(final String action, @Nullable final HashMap attributeMap) {\r\n                                                                 ^\r\n  symbol:   class Nullable\r\n  location: class VoiceConnection\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnectionService.java:273: error: cannot find symbol \r\n    private void sendCallRequestToActivity(final String action, @Nullable final HashMap attributeMap) {\r\n                                                                 ^\r\n  symbol:   class Nullable\r\n  location: class VoiceConnectionService\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:36: error: method\r\n does not override or implement a method from a supertype\r\n  @Override\r\n  ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:41: error: cannot\r\n find symbol\r\n    return new HeadlessJsTaskConfig(\r\n               ^\r\n  symbol:   class HeadlessJsTaskConfig\r\n  location: class RNCallKeepBackgroundMessagingService\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:43: error: cannot\r\n find symbol\r\n      Arguments.fromBundle(extras),\r\n      ^\r\n  symbol:   variable Arguments\r\n  location: class RNCallKeepBackgroundMessagingService\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:113: error: method does not override \r\nor implement a method from a supertype\r\n    @Override\r\n    ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:220: error: cannot find symbol       \r\n        Activity currentActivity = this.getCurrentActivity();\r\n                                       ^\r\n  symbol: method getCurrentActivity()\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:241: error: cannot find symbol       \r\n            requestPermissions(currentActivity, allPermissions, REQUEST_READ_PHONE_STATE);\r\n            ^\r\n  symbol:   method requestPermissions(Activity,String[],int)\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:424: error: cannot find symbol       \r\n        Activity activity = getCurrentActivity();\r\n                            ^\r\n  symbol:   method getCurrentActivity()\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:438: error: cannot find symbol       \r\n            getReactApplicationContext().startActivity(focusIntent);\r\n            ^\r\n  symbol:   method getReactApplicationContext()\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:470: error: cannot find symbol       \r\n        this.reactContext.getJSModule(RCTDeviceEventEmitter.class).emit(eventName, params);\r\n                                      ^\r\n  symbol:   class RCTDeviceEventEmitter\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:481: error: cannot find symbol       \r\n        Activity currentActivity = this.getCurrentActivity();\r\n                                       ^\r\n  symbol: method getCurrentActivity()\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:485: error: cannot find symbol       \r\n            int permissionCheck = ContextCompat.checkSelfPermission(currentActivity, permission);\r\n                                  ^\r\n  symbol:   variable ContextCompat\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:511: error: cannot find symbol       \r\n            LocalBroadcastManager.getInstance(this.reactContext).registerReceiver(voiceBroadcastReceiver, intentFilter);\r\n            ^\r\n  symbol:   variable LocalBroadcastManager\r\n  location: class RNCallKeepModule\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:536: error: cannot find symbol       \r\n            WritableMap args = Arguments.createMap();\r\n            ^\r\n  symbol:   class WritableMap\r\n  location: class RNCallKeepModule.VoiceBroadcastReceiver\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:536: error: cannot find symbol       \r\n            WritableMap args = Arguments.createMap();\r\n                               ^\r\n  symbol:   variable Arguments\r\n  location: class RNCallKeepModule.VoiceBroadcastReceiver\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:594: error: cannot find symbol       \r\n                        HeadlessJsTaskService.acquireWakeLockNow(reactContext);\r\n                        ^\r\n  symbol:   variable HeadlessJsTaskService\r\n  location: class RNCallKeepModule.VoiceBroadcastReceiver\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:31: error: method does not override \r\nor implement a method from a supertype\r\n    @Override\r\n    ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:33: error: cannot find symbol       \r\n        return Collections.&lt;NativeModule&gt;singletonList(new RNCallKeepModule(reactContext));\r\n                            ^\r\n  symbol:   class NativeModule\r\n  location: class RNCallKeepPackage\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:41: error: method does not override \r\nor implement a method from a supertype\r\n    @Override\r\n    ^\r\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:215: error: cannot find symbol        \r\n                LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\r\n                ^\r\n  symbol: variable LocalBroadcastManager\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n100 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-callkeep:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 48s\r\n\r\n    at checkExecSyncError (node:child_process:828:11)\r\n    at execFileSync (node:child_process:863:15)\r\n    at runOnAllDevices (F:\\lantis_new_and_updated\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:94:39)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async Command.handleAction (F:\\lantis_new_and_updated\\node_modules\\react-native\\node_modules\\@react-native-community\\cli\\build\\index.js:182:9)\r\n```\r\n`\r\n\r\nI have tried all this solutions below:\r\n\r\nchange the implementation &#39;com.google.android.gms:play-services-ads:+&#39; to 19.8.0\r\nadd the onRewardedVideoCompleted() method in RNAdMobRewardedVideoAdModule\r\nupdate the compileSdkVersion, buildToolsVersion and targetSdkVersion in RNAdMobRewardedVideoAdModule\r\nset the enableJetifier to false","title":"Task :react-native-callkeep:compileDebugJavaWithJavac FAILED","body":"<p>I leave the error. I was working with this module until yesterday. Whn I try to run appear this error. If I create a new project when install it, Appear always the same\n`</p>\n<pre><code>                                                           ^\n</code></pre>\n<p>F:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:70: error: package androidx.core.app\ndoes not exist\nimport static androidx.core.app.ActivityCompat.requestPermissions;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:70: error: static import only from cl\nasses and interfaces\nimport static androidx.core.app.ActivityCompat.requestPermissions;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:88: error: cannot find symbol<br />\npublic class RNCallKeepModule extends ReactContextBaseJavaModule {\n^\nsymbol: class ReactContextBaseJavaModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:100: error: cannot find symbol<br />\nprivate static Promise hasPhoneAccountPromise;\n^\nsymbol:   class Promise\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:101: error: cannot find symbol<br />\nprivate ReactApplicationContext reactContext;\n^\nsymbol:   class ReactApplicationContext\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:105: error: cannot find symbol<br />\nprivate ReadableMap _settings;\n^\nsymbol:   class ReadableMap\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:107: error: cannot find symbol<br />\npublic RNCallKeepModule(ReactApplicationContext reactContext) {\n^\nsymbol:   class ReactApplicationContext\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:119: error: cannot find symbol<br />\npublic void setup(ReadableMap options) {\n^\nsymbol:   class ReadableMap\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:219: error: cannot find symbol<br />\npublic void checkPhoneAccountPermission(ReadableArray optionalPermissions, Promise promise) {\n^\nsymbol:   class ReadableArray\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:219: error: cannot find symbol<br />\npublic void checkPhoneAccountPermission(ReadableArray optionalPermissions, Promise promise) {\n^\nsymbol:   class Promise\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:249: error: cannot find symbol<br />\npublic void checkDefaultPhoneAccount(Promise promise) {\n^\nsymbol:   class Promise\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:348: error: cannot find symbol<br />\npublic void hasPhoneAccount(Promise promise) {\n^\nsymbol:   class Promise\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:353: error: cannot find symbol<br />\npublic void hasOutgoingCall(Promise promise) {\n^\nsymbol:   class Promise\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:358: error: cannot find symbol<br />\npublic void hasPermissions(Promise promise) {\n^\nsymbol:   class Promise\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:469: error: cannot find symbol<br />\nprivate void sendEventToJS(String eventName, @Nullable WritableMap params) {\n^\nsymbol:   class WritableMap\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:20: error: package com.facebook.reac\nt does not exist\nimport com.facebook.react.ReactPackage;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:21: error: package com.facebook.reac\nt.bridge does not exist\nimport com.facebook.react.bridge.JavaScriptModule;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:22: error: package com.facebook.reac\nt.bridge does not exist\nimport com.facebook.react.bridge.NativeModule;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:23: error: package com.facebook.reac\nt.bridge does not exist\nimport com.facebook.react.bridge.ReactApplicationContext;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:24: error: package com.facebook.reac\nt.uimanager does not exist\nimport com.facebook.react.uimanager.ViewManager;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:29: error: cannot find symbol<br />\npublic class RNCallKeepPackage implements ReactPackage {\n^\nsymbol: class ReactPackage\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:32: error: cannot find symbol<br />\npublic List createNativeModules(ReactApplicationContext reactContext) {\n^\nsymbol:   class ReactApplicationContext\nlocation: class RNCallKeepPackage\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:32: error: cannot find symbol<br />\npublic List createNativeModules(ReactApplicationContext reactContext) {\n^\nsymbol:   class NativeModule\nlocation: class RNCallKeepPackage\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:37: error: cannot find symbol<br />\npublic List&lt;Class&lt;? extends JavaScriptModule&gt;&gt; createJSModules() {\n^\nsymbol:   class JavaScriptModule\nlocation: class RNCallKeepPackage\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:42: error: cannot find symbol<br />\npublic List createViewManagers(ReactApplicationContext reactContext) {\n^\nsymbol:   class ReactApplicationContext\nlocation: class RNCallKeepPackage\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:42: error: cannot find symbol<br />\npublic List createViewManagers(ReactApplicationContext reactContext) {\n^\nsymbol:   class ViewManager\nlocation: class RNCallKeepPackage\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:26: error: cannot find symbol\nimport androidx.annotation.Nullable;\n^\nsymbol:   class Nullable\nlocation: package androidx.annotation\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:27: error: package androidx.localbroad\ncastmanager.content does not exist\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnectionService.java:29: error: cannot find symbol<br />\nimport androidx.annotation.Nullable;\n^\nsymbol:   class Nullable\nlocation: package androidx.annotation\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnectionService.java:30: error: package androidx.loc\nalbroadcastmanager.content does not exist\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:37: error: cannot\nfind symbol\nprotected @Nullable\n^\nsymbol:   class Nullable\nlocation: class RNCallKeepBackgroundMessagingService\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:118: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:132: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:150: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:164: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:186: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:202: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:218: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:248: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:266: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:280: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:293: error: cannot find symbol\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:307: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:326: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:336: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:347: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:352: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:357: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:362: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:367: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:372: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:383: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:402: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:413: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:419: error: cannot find symbol<br />\n@ReactMethod\n^\nsymbol:   class ReactMethod\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:469: error: cannot find symbol<br />\nprivate void sendEventToJS(String eventName, @Nullable WritableMap params) {\n^\nsymbol:   class Nullable\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:202: error: cannot find symbol<br />\nprivate void sendCallRequestToActivity(final String action, @Nullable final HashMap attributeMap) {\n^\nsymbol:   class Nullable\nlocation: class VoiceConnection\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnectionService.java:273: error: cannot find symbol\nprivate void sendCallRequestToActivity(final String action, @Nullable final HashMap attributeMap) {\n^\nsymbol:   class Nullable\nlocation: class VoiceConnectionService\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:36: error: method\ndoes not override or implement a method from a supertype\n@Override\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:41: error: cannot\nfind symbol\nreturn new HeadlessJsTaskConfig(\n^\nsymbol:   class HeadlessJsTaskConfig\nlocation: class RNCallKeepBackgroundMessagingService\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepBackgroundMessagingService.java:43: error: cannot\nfind symbol\nArguments.fromBundle(extras),\n^\nsymbol:   variable Arguments\nlocation: class RNCallKeepBackgroundMessagingService\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:113: error: method does not override\nor implement a method from a supertype\n@Override\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:220: error: cannot find symbol<br />\nActivity currentActivity = this.getCurrentActivity();\n^\nsymbol: method getCurrentActivity()\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:241: error: cannot find symbol<br />\nrequestPermissions(currentActivity, allPermissions, REQUEST_READ_PHONE_STATE);\n^\nsymbol:   method requestPermissions(Activity,String[],int)\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:424: error: cannot find symbol<br />\nActivity activity = getCurrentActivity();\n^\nsymbol:   method getCurrentActivity()\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:438: error: cannot find symbol<br />\ngetReactApplicationContext().startActivity(focusIntent);\n^\nsymbol:   method getReactApplicationContext()\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:470: error: cannot find symbol<br />\nthis.reactContext.getJSModule(RCTDeviceEventEmitter.class).emit(eventName, params);\n^\nsymbol:   class RCTDeviceEventEmitter\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:481: error: cannot find symbol<br />\nActivity currentActivity = this.getCurrentActivity();\n^\nsymbol: method getCurrentActivity()\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:485: error: cannot find symbol<br />\nint permissionCheck = ContextCompat.checkSelfPermission(currentActivity, permission);\n^\nsymbol:   variable ContextCompat\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:511: error: cannot find symbol<br />\nLocalBroadcastManager.getInstance(this.reactContext).registerReceiver(voiceBroadcastReceiver, intentFilter);\n^\nsymbol:   variable LocalBroadcastManager\nlocation: class RNCallKeepModule\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:536: error: cannot find symbol<br />\nWritableMap args = Arguments.createMap();\n^\nsymbol:   class WritableMap\nlocation: class RNCallKeepModule.VoiceBroadcastReceiver\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:536: error: cannot find symbol<br />\nWritableMap args = Arguments.createMap();\n^\nsymbol:   variable Arguments\nlocation: class RNCallKeepModule.VoiceBroadcastReceiver\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepModule.java:594: error: cannot find symbol<br />\nHeadlessJsTaskService.acquireWakeLockNow(reactContext);\n^\nsymbol:   variable HeadlessJsTaskService\nlocation: class RNCallKeepModule.VoiceBroadcastReceiver\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:31: error: method does not override\nor implement a method from a supertype\n@Override\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:33: error: cannot find symbol<br />\nreturn Collections.singletonList(new RNCallKeepModule(reactContext));\n^\nsymbol:   class NativeModule\nlocation: class RNCallKeepPackage\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\RNCallKeepPackage.java:41: error: method does not override\nor implement a method from a supertype\n@Override\n^\nF:\\lantis_new_and_updated\\node_modules\\react-native-callkeep\\android\\src\\main\\java\\io\\wazo\\callkeep\\VoiceConnection.java:215: error: cannot find symbol<br />\nLocalBroadcastManager.getInstance(context).sendBroadcast(intent);\n^\nsymbol: variable LocalBroadcastManager\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n100 errors</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-callkeep:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Compilation failed; see the compiler error output for details.</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 48s</p>\n<pre><code>at checkExecSyncError (node:child_process:828:11)\nat execFileSync (node:child_process:863:15)\nat runOnAllDevices (F:\\lantis_new_and_updated\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:94:39)\nat processTicksAndRejections (node:internal/process/task_queues:96:5)\nat async Command.handleAction (F:\\lantis_new_and_updated\\node_modules\\react-native\\node_modules\\@react-native-community\\cli\\build\\index.js:182:9)\n</code></pre>\n<pre><code>`\n\nI have tried all this solutions below:\n\nchange the implementation 'com.google.android.gms:play-services-ads:+' to 19.8.0\nadd the onRewardedVideoCompleted() method in RNAdMobRewardedVideoAdModule\nupdate the compileSdkVersion, buildToolsVersion and targetSdkVersion in RNAdMobRewardedVideoAdModule\nset the enableJetifier to false\n</code></pre>\n"},{"tags":["java","shell","gradle-plugin","intellij-plugin","maven-resources-plugin"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669281903,"post_id":74558265,"comment_id":131610787,"body_markdown":"You are running the application from a jar, therefore the shell script is not a file, it&#39;s just a resource, an entry in a jar. You can getResourceAsStream and copy the stream to a temporary file and use that.","body":"You are running the application from a jar, therefore the shell script is not a file, it&#39;s just a resource, an entry in a jar. You can getResourceAsStream and copy the stream to a temporary file and use that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669283711,"post_id":74558265,"comment_id":131611463,"body_markdown":"I doubt you should be involving shell scripting in a plugin","body":"I doubt you should be involving shell scripting in a plugin"}],"owner":{"account_id":14658912,"reputation":11,"user_id":10586742,"display_name":"Nikita.J2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669315093,"creation_date":1669281428,"question_id":74558265,"body_markdown":"I am trying to make a customized IntelliJ plugin and run a shell script file stored in `src/main/resources` folder from a java code file in the main folder.\r\n\r\nI need Help with a way to execute and change the contents of files in the resources folder using configured paths.\r\n\r\n\r\nTried these ways so far\r\n```\r\n\r\n//Method - 1\r\n\r\nString filePath = getClass().getClassLoader().getResource(&quot;file.sh&quot;).getPath();\r\nSystem.out.println(filePath);\r\nString[] paths = filePath.split(&quot;:&quot;);\r\nSystem.out.println(paths[1]);\r\n\r\n//Method-2\r\n\r\nURL res = getClass().getClassLoader().getResource(&quot;file.sh&quot;);\r\nFile script = null;\r\ntry {\r\n    assert res != null;\r\n    script = Paths.get(res.toURI()).toFile();\r\n} catch (URISyntaxException e) {\r\n    throw new RuntimeException(e);\r\n}\r\nString absolutePath = script.getAbsolutePath();\r\n\r\n//Method-3\r\n\r\nfinal ClassLoader classLoader = getClass().getClassLoader();\r\nfinal File script = new File(classLoader.getResource(&quot;file.sh&quot;).getFile());\r\nSystem.out.println(script.getPath());\r\n\r\n\r\n\r\n```\r\n\r\nBut all these lead to a path file:/Users/username/projects/projectname/build/idea-sandbox/plugins/project-name/lib/Project-Name-1.0-SNAPSHOT.jar!/file.sh\r\n","title":"How to execute or update files stored in resources folder (intelliJ plugin)","body":"<p>I am trying to make a customized IntelliJ plugin and run a shell script file stored in <code>src/main/resources</code> folder from a java code file in the main folder.</p>\n<p>I need Help with a way to execute and change the contents of files in the resources folder using configured paths.</p>\n<p>Tried these ways so far</p>\n<pre><code>\n//Method - 1\n\nString filePath = getClass().getClassLoader().getResource(&quot;file.sh&quot;).getPath();\nSystem.out.println(filePath);\nString[] paths = filePath.split(&quot;:&quot;);\nSystem.out.println(paths[1]);\n\n//Method-2\n\nURL res = getClass().getClassLoader().getResource(&quot;file.sh&quot;);\nFile script = null;\ntry {\n    assert res != null;\n    script = Paths.get(res.toURI()).toFile();\n} catch (URISyntaxException e) {\n    throw new RuntimeException(e);\n}\nString absolutePath = script.getAbsolutePath();\n\n//Method-3\n\nfinal ClassLoader classLoader = getClass().getClassLoader();\nfinal File script = new File(classLoader.getResource(&quot;file.sh&quot;).getFile());\nSystem.out.println(script.getPath());\n\n\n\n</code></pre>\n<p>But all these lead to a path file:/Users/username/projects/projectname/build/idea-sandbox/plugins/project-name/lib/Project-Name-1.0-SNAPSHOT.jar!/file.sh</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1478560687,"post_id":40476411,"comment_id":68197389,"body_markdown":"Have you attempted to learn how to set breakpoints and debug the code?","body":"Have you attempted to learn how to set breakpoints and debug the code?"},{"owner":{"account_id":1318354,"reputation":2570,"user_id":1264727,"accept_rate":100,"display_name":"DUman"},"score":0,"creation_date":1478560704,"post_id":40476411,"comment_id":68197391,"body_markdown":"Have you tried using the debugger?","body":"Have you tried using the debugger?"},{"owner":{"account_id":2209619,"reputation":2403,"user_id":1951885,"display_name":"Ricardo Ortega Maga&#241;a"},"score":0,"creation_date":1478560851,"post_id":40476411,"comment_id":68197448,"body_markdown":"I think this line is wrong too, since it translate to y=y-0;\n\ny = y - 1 / 2;","body":"I think this line is wrong too, since it translate to y=y-0;  y = y - 1 / 2;"},{"owner":{"account_id":9601545,"reputation":3,"user_id":7128876,"display_name":"Evan Bailey"},"score":0,"creation_date":1478561300,"post_id":40476411,"comment_id":68197578,"body_markdown":"the y=y-1/2 is too get rid of the 0.5 when i divide an odd number by 2. not sure if it&#39;s still causing a problem though","body":"the y=y-1/2 is too get rid of the 0.5 when i divide an odd number by 2. not sure if it&#39;s still causing a problem though"},{"owner":{"account_id":1233122,"reputation":3934,"user_id":1197297,"accept_rate":67,"display_name":"StvnBrkdll"},"score":0,"creation_date":1478561380,"post_id":40476411,"comment_id":68197600,"body_markdown":"What is rsnpeasant() trying to calculate?","body":"What is rsnpeasant() trying to calculate?"},{"owner":{"account_id":9601545,"reputation":3,"user_id":7128876,"display_name":"Evan Bailey"},"score":0,"creation_date":1478561474,"post_id":40476411,"comment_id":68197637,"body_markdown":"Sorry i should have posted this, the code im writing is for this http://mathforum.org/dr.math/faq/faq.peasant.html","body":"Sorry i should have posted this, the code im writing is for this <a href=\"http://mathforum.org/dr.math/faq/faq.peasant.html\" rel=\"nofollow noreferrer\">mathforum.org/dr.math/faq/faq.peasant.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":9601545,"reputation":3,"user_id":7128876,"display_name":"Evan Bailey"},"score":0,"creation_date":1478561204,"post_id":40476452,"comment_id":68197551,"body_markdown":"well actually what i want to do is divide by 2 and drop the remainder. So I thought what would work is if it&#39;s an odd number and i divide by 2 I will always get .5 after, and subtracting 1/2 would be the same as dropping the remainder","body":"well actually what i want to do is divide by 2 and drop the remainder. So I thought what would work is if it&#39;s an odd number and i divide by 2 I will always get .5 after, and subtracting 1/2 would be the same as dropping the remainder"},{"owner":{"account_id":424109,"reputation":18176,"user_id":803925,"display_name":"nbrooks"},"score":1,"creation_date":1478561446,"post_id":40476452,"comment_id":68197626,"body_markdown":"@EvanBailey `0.5` doesn&#39;t exist in integer arithmetic. And since `y` is an integer, there is no remainder to drop. `5 / 2 == 2` in integer division. So you can just get rid of the subtraction altogether.","body":"@EvanBailey <code>0.5</code> doesn&#39;t exist in integer arithmetic. And since <code>y</code> is an integer, there is no remainder to drop. <code>5 &#47; 2 == 2</code> in integer division. So you can just get rid of the subtraction altogether."}],"tags":[],"owner":{"account_id":9326859,"reputation":371,"user_id":6923832,"display_name":"lyst"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478560836,"creation_date":1478560836,"answer_id":40476452,"question_id":40476411,"body_markdown":"`y=y-1/2`...\r\n\r\nOrder of operations will evaluate the `1/2` and subtract that from `y`.  In integer arithmetic, `1/2` is 0.  I think you want `y=(y-1)/2`.","title":"Getting stack overflow when trying to have the method repeat when there is an even number inputted","body":"<p><code>y=y-1/2</code>...</p>\n\n<p>Order of operations will evaluate the <code>1/2</code> and subtract that from <code>y</code>.  In integer arithmetic, <code>1/2</code> is 0.  I think you want <code>y=(y-1)/2</code>.</p>\n"},{"comments":[{"owner":{"account_id":9601545,"reputation":3,"user_id":7128876,"display_name":"Evan Bailey"},"score":0,"creation_date":1478561779,"post_id":40476556,"comment_id":68197737,"body_markdown":"I love you so much, I added if(y==1){\n    sum=sum+x;\n    return sum;\n} to the start of it and it worked right away","body":"I love you so much, I added if(y==1){     sum=sum+x;     return sum; } to the start of it and it worked right away"}],"tags":[],"owner":{"account_id":4188293,"reputation":86,"user_id":3431456,"display_name":"CleitonCardoso"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1478561549,"creation_date":1478561549,"answer_id":40476556,"question_id":40476411,"body_markdown":"Your principal problem is that you are trying to divide an int primitive type, if y = 1, dividing that value by 2 will return 0, then you pass it to the method again, it will always be stuck in the first if statement.\r\n\r\nYou should return a double, float or bigdecimal in your method, and use one of those types for the parameters too.","title":"Getting stack overflow when trying to have the method repeat when there is an even number inputted","body":"<p>Your principal problem is that you are trying to divide an int primitive type, if y = 1, dividing that value by 2 will return 0, then you pass it to the method again, it will always be stuck in the first if statement.</p>\n\n<p>You should return a double, float or bigdecimal in your method, and use one of those types for the parameters too.</p>\n"}],"owner":{"account_id":9601545,"reputation":3,"user_id":7128876,"display_name":"Evan Bailey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40476556,"answer_count":2,"score":0,"last_activity_date":1669314868,"creation_date":1478560531,"question_id":40476411,"body_markdown":"I have this code :\r\n\r\n    public static int rsnpeasant(int x, int y) {\r\n  \r\n      if ((y &amp; 1) == 0) {\r\n        y = y / 2;\r\n        x = x * 2;\r\n        rsnpeasant(x, y);\r\n      } else {\r\n        sum = sum + x;\r\n        y = y / 2;\r\n        y = y - 1 / 2;\r\n        x = x * 2;\r\n  \r\n        if (y == 1) {\r\n          sum = total;\r\n          return total;\r\n  \r\n        } else {\r\n          rsnpeasant(x, y);\r\n        }\r\n      }\r\n  \r\n      total = sum;\r\n      return total;\r\n    }\r\n\r\nThe error is happening on the first `rsnpeasant(x,y);` line in the first `if` statement. It seems to be forever looping to that line even though it&#39;s supposed to go to the `else` statement if `y` is odd. If `y` is divided by `2` it should become odd at some point.\r\n[Link](https://web.archive.org/web/20180101093529/http://mathforum.org/dr.math/faq/faq.peasant.html) is what im trying to code","title":"Getting stack overflow when trying to have the method repeat when there is an even number inputted","body":"<p>I have this code :</p>\n<pre><code>public static int rsnpeasant(int x, int y) {\n\n  if ((y &amp; 1) == 0) {\n    y = y / 2;\n    x = x * 2;\n    rsnpeasant(x, y);\n  } else {\n    sum = sum + x;\n    y = y / 2;\n    y = y - 1 / 2;\n    x = x * 2;\n\n    if (y == 1) {\n      sum = total;\n      return total;\n\n    } else {\n      rsnpeasant(x, y);\n    }\n  }\n\n  total = sum;\n  return total;\n}\n</code></pre>\n<p>The error is happening on the first <code>rsnpeasant(x,y);</code> line in the first <code>if</code> statement. It seems to be forever looping to that line even though it's supposed to go to the <code>else</code> statement if <code>y</code> is odd. If <code>y</code> is divided by <code>2</code> it should become odd at some point.\n<a href=\"https://web.archive.org/web/20180101093529/http://mathforum.org/dr.math/faq/faq.peasant.html\" rel=\"nofollow noreferrer\">Link</a> is what im trying to code</p>\n"},{"tags":["java","json","jsonschema"],"comments":[{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1669278677,"post_id":74557674,"comment_id":131609663,"body_markdown":"Does this answer your question? [Generate sample Json output from Json Schema](https://stackoverflow.com/questions/21894873/generate-sample-json-output-from-json-schema)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21894873/generate-sample-json-output-from-json-schema\">Generate sample Json output from Json Schema</a>"},{"owner":{"account_id":26952070,"reputation":1,"user_id":20521127,"display_name":"Chethan"},"score":0,"creation_date":1669279336,"post_id":74557674,"comment_id":131609862,"body_markdown":"sorry..the above is Json Scehma to Json, but i&#39;m looking to implement json to json schema...","body":"sorry..the above is Json Scehma to Json, but i&#39;m looking to implement json to json schema..."}],"answers":[{"tags":[],"owner":{"account_id":17881,"reputation":53306,"user_id":40468,"accept_rate":60,"display_name":"Ether"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669314374,"creation_date":1669314374,"answer_id":74564928,"question_id":74557674,"body_markdown":"This is the only correct answer: wrap your data in `{&quot;const&quot;: ... }`.\r\n\r\nOtherwise, you are asking a program to guess what things in your data are going to remain constant and which will vary, and that&#39;s impossible with only one sample.\r\n\r\nMaybe with many (hundreds or thousands?) of data samples you could have a program generate a JSON Schema that validated all of them, but it&#39;s still just guesswork. Ultimately it comes down to you, a human being, to express the context of your data in the form of a schema.","title":"How do I convert JSON to a JSON schema programmatically in Java?","body":"<p>This is the only correct answer: wrap your data in <code>{&quot;const&quot;: ... }</code>.</p>\n<p>Otherwise, you are asking a program to guess what things in your data are going to remain constant and which will vary, and that's impossible with only one sample.</p>\n<p>Maybe with many (hundreds or thousands?) of data samples you could have a program generate a JSON Schema that validated all of them, but it's still just guesswork. Ultimately it comes down to you, a human being, to express the context of your data in the form of a schema.</p>\n"}],"owner":{"account_id":26952070,"reputation":1,"user_id":20521127,"display_name":"Chethan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669314374,"creation_date":1669278346,"question_id":74557674,"body_markdown":"This is the JSON:\r\n\r\n```json\r\n{&quot;id&quot;:1,&quot;name&quot;:&quot;abc&quot;,&quot;tech&quot;:&quot;java&quot;}\r\n```\r\n\r\nJSON Schema:\r\n\r\n```json\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;id&quot;: {\r\n      &quot;type&quot;: &quot;integer&quot;\r\n    },\r\n    &quot;name&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    &quot;tech&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;\r\n    }\r\n  },\r\n  &quot;required&quot;: [\r\n    &quot;id&quot;,\r\n    &quot;name&quot;,\r\n    &quot;tech&quot;\r\n  ]\r\n}\r\n```\r\n\r\nHow do I convert JSON to JSON Schema using Java?\r\n\r\nWhat are the inbuilt functions I need to use here?\r\nMy goal is to not use a standalone tool because I want to generate it on runtime using Java in program.","title":"How do I convert JSON to a JSON schema programmatically in Java?","body":"<p>This is the JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;id&quot;:1,&quot;name&quot;:&quot;abc&quot;,&quot;tech&quot;:&quot;java&quot;}\n</code></pre>\n<p>JSON Schema:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;id&quot;: {\n      &quot;type&quot;: &quot;integer&quot;\n    },\n    &quot;name&quot;: {\n      &quot;type&quot;: &quot;string&quot;\n    },\n    &quot;tech&quot;: {\n      &quot;type&quot;: &quot;string&quot;\n    }\n  },\n  &quot;required&quot;: [\n    &quot;id&quot;,\n    &quot;name&quot;,\n    &quot;tech&quot;\n  ]\n}\n</code></pre>\n<p>How do I convert JSON to JSON Schema using Java?</p>\n<p>What are the inbuilt functions I need to use here?\nMy goal is to not use a standalone tool because I want to generate it on runtime using Java in program.</p>\n"},{"tags":["java","angular","spring","typescript"],"comments":[{"owner":{"account_id":16637223,"reputation":81,"user_id":12023611,"display_name":"s.katyan"},"score":0,"creation_date":1669309215,"post_id":74561557,"comment_id":131620064,"body_markdown":"can you attach the console log of your returned token?","body":"can you attach the console log of your returned token?"},{"owner":{"display_name":"user19845343"},"score":0,"creation_date":1669313745,"post_id":74561557,"comment_id":131621252,"body_markdown":"@s.katyan Bearer eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJxdWVsb0BnbWFpbC5jb20iLCJpYXQiOjE2NjkyOTQ1MDksImV4cCI6MTY2OTI5NTQwOX0.yl5o0iZwHI7BnB207lT...","body":"@s.katyan Bearer eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJxdWVsb0BnbWFpbC5jb20iLCJpYXQ&zwnj;&#8203;iOjE2NjkyOTQ1MDksImV&zwnj;&#8203;4cCI6MTY2OTI5NTQwOX0&zwnj;&#8203;.yl5o0iZwHI7BnB207lT&zwnj;&#8203;..."}],"answers":[{"comments":[{"owner":{"display_name":"user19845343"},"score":0,"creation_date":1669313701,"post_id":74564361,"comment_id":131621240,"body_markdown":"Still nothing. At his point i think the problem is most likely in the backend","body":"Still nothing. At his point i think the problem is most likely in the backend"}],"tags":[],"owner":{"account_id":16472008,"reputation":590,"user_id":11900833,"display_name":"vitaliy kotov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669310496,"creation_date":1669310496,"answer_id":74564361,"question_id":74561557,"body_markdown":"I believe token is not set, because `headers` property [is read-only][1].\r\n\r\nTry to use `setHeaders` property of `clone` method argument:\r\n```\r\naddToken(req: HttpRequest&lt;any&gt;, jwtToken: any){\r\n   return req.clone({\r\n      setHeaders: { Authorization: &#39;Bearer &#39; + jwtToken }\r\n   });\r\n}\r\n```\r\n\r\n  [1]: https://angular.io/api/common/http/HttpRequest#headers","title":"Angular sends null Authorization Header","body":"<p>I believe token is not set, because <code>headers</code> property <a href=\"https://angular.io/api/common/http/HttpRequest#headers\" rel=\"nofollow noreferrer\">is read-only</a>.</p>\n<p>Try to use <code>setHeaders</code> property of <code>clone</code> method argument:</p>\n<pre><code>addToken(req: HttpRequest&lt;any&gt;, jwtToken: any){\n   return req.clone({\n      setHeaders: { Authorization: 'Bearer ' + jwtToken }\n   });\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19845343"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669314279,"creation_date":1669314279,"answer_id":74564914,"question_id":74561557,"body_markdown":"After banging my head against the wall for several hours I found the solution.\r\nWhen creating a class and implementing the WebMvcConfigurer (to enable CORS) this is right and it SHOULD work.\r\n\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry corsRegistry){\r\n            corsRegistry.addMapping(&quot;/**&quot;)\r\n                    .allowedOriginPatterns(&quot;*&quot;)\r\n                    .allowedMethods(&quot;*&quot;)\r\n                    .allowedHeaders(&quot;*&quot;)\r\n                    .exposedHeaders(&quot;Authorization&quot;)\r\n                    .allowCredentials(true)\r\n                    .maxAge(3600L);\r\n        }\r\n    }\r\n\r\nBUT this isn&#39;t enough, since I had to enable CORS also into the security config chain\r\n\r\n    @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n            http.cors().and().csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\nby tiping `http.cors()`\r\n\r\n","title":"Angular sends null Authorization Header","body":"<p>After banging my head against the wall for several hours I found the solution.\nWhen creating a class and implementing the WebMvcConfigurer (to enable CORS) this is right and it SHOULD work.</p>\n<pre><code>public class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry corsRegistry){\n        corsRegistry.addMapping(&quot;/**&quot;)\n                .allowedOriginPatterns(&quot;*&quot;)\n                .allowedMethods(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .exposedHeaders(&quot;Authorization&quot;)\n                .allowCredentials(true)\n                .maxAge(3600L);\n    }\n}\n</code></pre>\n<p>BUT this isn't enough, since I had to enable CORS also into the security config chain</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        http.cors().and().csrf().disable();\n\n    return http.build();\n}\n</code></pre>\n<p>by tiping <code>http.cors()</code></p>\n"}],"owner":{"display_name":"user19845343"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74564914,"answer_count":2,"score":0,"last_activity_date":1669314279,"creation_date":1669296535,"question_id":74561557,"body_markdown":"I am trying to send a request with an authorization header with Angular to a Spring backend.\r\n\r\n    export class TokenInterceptor implements HttpInterceptor{\r\n    \r\n        constructor(public sharedService : SharedService){}\r\n    \r\n        intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n            const jwtToken = this.sharedService.getJwtToken();\r\n    \r\n            if(jwtToken){\r\n                req = this.addToken(req, jwtToken)\r\n            }\r\n    \r\n            return next.handle(req)\r\n       }\r\n\r\n       addToken(req: HttpRequest&lt;any&gt;, jwtToken: any){\r\n            return req.clone({\r\n                headers: req.headers.append(&#39;Authorization&#39;, &#39;Bearer &#39; + jwtToken)\r\n            });\r\n       }\r\n    }\r\n\r\nThis is what my interceptor looks like. If I try to console.log() the authorization header before returning the next().handle , I can see the correct token inside the request. The problem is that the backend instead recieves a null Authorization header.\r\n\r\nInside by backend I have a doFilterInternal() method that filters any request and gets the Authentication header. \r\nI don&#39;t think the problem is inside this filter because the request sent with Postman are handled correctly.\r\nI have already enabled CORS on my backend\r\n\r\n    @Override\r\n        public void addCorsMappings(CorsRegistry corsRegistry){\r\n            corsRegistry.addMapping(&quot;/**&quot;)\r\n                    .allowedOriginPatterns(&quot;*&quot;)\r\n                    .allowedMethods(&quot;*&quot;)\r\n                    .allowedHeaders(&quot;*&quot;)\r\n                    .exposedHeaders(&quot;Authorization&quot;)\r\n                    .allowCredentials(true)\r\n                    .maxAge(3600L);\r\n    }\r\n\r\n","title":"Angular sends null Authorization Header","body":"<p>I am trying to send a request with an authorization header with Angular to a Spring backend.</p>\n<pre><code>export class TokenInterceptor implements HttpInterceptor{\n\n    constructor(public sharedService : SharedService){}\n\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        const jwtToken = this.sharedService.getJwtToken();\n\n        if(jwtToken){\n            req = this.addToken(req, jwtToken)\n        }\n\n        return next.handle(req)\n   }\n\n   addToken(req: HttpRequest&lt;any&gt;, jwtToken: any){\n        return req.clone({\n            headers: req.headers.append('Authorization', 'Bearer ' + jwtToken)\n        });\n   }\n}\n</code></pre>\n<p>This is what my interceptor looks like. If I try to console.log() the authorization header before returning the next().handle , I can see the correct token inside the request. The problem is that the backend instead recieves a null Authorization header.</p>\n<p>Inside by backend I have a doFilterInternal() method that filters any request and gets the Authentication header.\nI don't think the problem is inside this filter because the request sent with Postman are handled correctly.\nI have already enabled CORS on my backend</p>\n<pre><code>@Override\n    public void addCorsMappings(CorsRegistry corsRegistry){\n        corsRegistry.addMapping(&quot;/**&quot;)\n                .allowedOriginPatterns(&quot;*&quot;)\n                .allowedMethods(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .exposedHeaders(&quot;Authorization&quot;)\n                .allowCredentials(true)\n                .maxAge(3600L);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1669319060,"post_id":74564840,"comment_id":131622515,"body_markdown":"This answer your problem? https://stackoverflow.com/questions/72857726/spring-webflux-schedulers-boundedelastic-grows-infinetely","body":"This answer your problem? <a href=\"https://stackoverflow.com/questions/72857726/spring-webflux-schedulers-boundedelastic-grows-infinetely\" title=\"spring webflux schedulers boundedelastic grows infinetely\">stackoverflow.com/questions/72857726/&hellip;</a>"},{"owner":{"account_id":15319027,"reputation":1,"user_id":11054370,"display_name":"Andy Krylov"},"score":0,"creation_date":1669325793,"post_id":74564840,"comment_id":131623820,"body_markdown":"Not quite. I configured my security just as in answer for this post, and besides I don&#39;t see any InMemorySessionStorage. And in my case boundedElastic threads are created only when I explicitly use corresponding Scheduler. I&#39;m more interested in why my subscribeOn operator has no effect on the flow and why do these boundedElastic threads are not in use while created.","body":"Not quite. I configured my security just as in answer for this post, and besides I don&#39;t see any InMemorySessionStorage. And in my case boundedElastic threads are created only when I explicitly use corresponding Scheduler. I&#39;m more interested in why my subscribeOn operator has no effect on the flow and why do these boundedElastic threads are not in use while created."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1669419671,"post_id":74564840,"comment_id":131643854,"body_markdown":"you can start by reading https://projectreactor.io/docs/core/release/reference/#schedulers so you understand what a scheduler is, it SCHEDULES jobs, it does not do the actual work. The event loop does the work. And if the system feels it only needs one thread to schedule jobs on the event loop there is no need to have multiple threads scheduling work.","body":"you can start by reading <a href=\"https://projectreactor.io/docs/core/release/reference/#schedulers\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/#schedulers</a> so you understand what a scheduler is, it SCHEDULES jobs, it does not do the actual work. The event loop does the work. And if the system feels it only needs one thread to schedule jobs on the event loop there is no need to have multiple threads scheduling work."}],"owner":{"account_id":15319027,"reputation":1,"user_id":11054370,"display_name":"Andy Krylov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669313710,"creation_date":1669313710,"question_id":74564840,"body_markdown":"I can&#39;t understand the WebFlux threading model.\r\n\r\nAs far as I know when request comes to server it is caught by event loop, which immediately registers callback. After that request is passed further to platform where it can be processed by any available thread. After processing platform sends completion notification to event loop which on receiving it triggers callback and returns the result to caller.\r\n\r\nAm I right?\r\n\r\nI have simple controller:\r\n\r\n``` lang-java\r\n@RestController\r\n@RequestMapping(&quot;/category&quot;)\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class CategoryController implements CategoryApi {\r\n\r\n    private final CategoryService categoryService;\r\n\r\n    @Override\r\n    @GetMapping(path = &quot;/all&quot;)\r\n    public ResponseEntity&lt;Flux&lt;CategoryInfo&gt;&gt; getAllCategories() {\r\n        log.info(&quot;Request for categories&quot;);\r\n        return ResponseEntity.ok(categoryService.getAllCategories());\r\n    }\r\n}\r\n```\r\n\r\nAnd simple service:\r\n\r\n``` lang-java\r\n@Service\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class DefaultCategoryService implements CategoryService {\r\n\r\n    private final CategoryRepository categoryRepository;\r\n    private final CategoryMapper categoryMapper;\r\n\r\n    @Override\r\n    public Flux&lt;CategoryInfo&gt; getAllCategories() {\r\n        return categoryRepository.findAll()\r\n                .map(it -&gt; debug(it, &quot;findAll&quot;))\r\n                .filter(filterUncategorized())\r\n                .map(categoryMapper::toView)\r\n                .subscribeOn(Schedulers.parallel());\r\n    }\r\n}\r\n```\r\n\r\n`debug` method just logs passed element along with string, nothing interesting.\r\n\r\nWhen I send request via JMeter I see this in my logs:\r\n\r\n~~~\r\n2022-11-24 18:19:29.450  INFO 55376 --- [     parallel-2] c.e.stts.controller.CategoryController   : Request for categories\r\n2022-11-24 18:19:29.491  INFO 55376 --- [actor-tcp-nio-1] com.epam.stts.utils.LoggingUtils         : Category@15e5cb5d =&gt;&gt; [findAll]\r\n2022-11-24 18:19:29.491  INFO 55376 --- [actor-tcp-nio-1] com.epam.stts.utils.LoggingUtils         : Category@5a208124 =&gt;&gt; [findAll]\r\n2022-11-24 18:19:29.491  INFO 55376 --- [actor-tcp-nio-1] com.epam.stts.utils.LoggingUtils         : Category@aa5de115 =&gt;&gt; [findAll]\r\n~~~\r\n\r\nAnd this is what confuses me.\r\nIf I change `Schedulers.parallel()` to `Schedulers.boundedElastic()` or `Schedulers.single()` or whatever then nothing changes, I still see only `reactor-tcp-nio-1` thread doing its job!\r\n\r\nBut when I use `Schedulers.boundedElastic()` then in [JProfiler](https://i.stack.imgur.com/RTdSI.png) i see many boundedElastic threads in **WAIT** state. \r\n\r\nIf I use `publishOn` after calling the repository then as expected all downstream operators (i.e. filter and map in this case) are processed on specified scheduler worker.\r\n\r\nSo please help me understand how it is supposed to be working.\r\n\r\nWhat is `reactor-tcp-nio-1` thread and why it is the only thread that does all processing?\r\nWhy `subscribeOn` does not pass the execution to another worker?\r\nWhy reactor creates many boundedElastic threads but they are all waiting and do nothing?\r\n\r\nI use **Java 17** and **Spring Boot 2.7.5.**\r\n\r\nMuch appreciated!","title":"Spring WebFlux thread model","body":"<p>I can't understand the WebFlux threading model.</p>\n<p>As far as I know when request comes to server it is caught by event loop, which immediately registers callback. After that request is passed further to platform where it can be processed by any available thread. After processing platform sends completion notification to event loop which on receiving it triggers callback and returns the result to caller.</p>\n<p>Am I right?</p>\n<p>I have simple controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/category&quot;)\n@RequiredArgsConstructor\n@Slf4j\npublic class CategoryController implements CategoryApi {\n\n    private final CategoryService categoryService;\n\n    @Override\n    @GetMapping(path = &quot;/all&quot;)\n    public ResponseEntity&lt;Flux&lt;CategoryInfo&gt;&gt; getAllCategories() {\n        log.info(&quot;Request for categories&quot;);\n        return ResponseEntity.ok(categoryService.getAllCategories());\n    }\n}\n</code></pre>\n<p>And simple service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class DefaultCategoryService implements CategoryService {\n\n    private final CategoryRepository categoryRepository;\n    private final CategoryMapper categoryMapper;\n\n    @Override\n    public Flux&lt;CategoryInfo&gt; getAllCategories() {\n        return categoryRepository.findAll()\n                .map(it -&gt; debug(it, &quot;findAll&quot;))\n                .filter(filterUncategorized())\n                .map(categoryMapper::toView)\n                .subscribeOn(Schedulers.parallel());\n    }\n}\n</code></pre>\n<p><code>debug</code> method just logs passed element along with string, nothing interesting.</p>\n<p>When I send request via JMeter I see this in my logs:</p>\n<pre><code>2022-11-24 18:19:29.450  INFO 55376 --- [     parallel-2] c.e.stts.controller.CategoryController   : Request for categories\n2022-11-24 18:19:29.491  INFO 55376 --- [actor-tcp-nio-1] com.epam.stts.utils.LoggingUtils         : Category@15e5cb5d =&gt;&gt; [findAll]\n2022-11-24 18:19:29.491  INFO 55376 --- [actor-tcp-nio-1] com.epam.stts.utils.LoggingUtils         : Category@5a208124 =&gt;&gt; [findAll]\n2022-11-24 18:19:29.491  INFO 55376 --- [actor-tcp-nio-1] com.epam.stts.utils.LoggingUtils         : Category@aa5de115 =&gt;&gt; [findAll]\n</code></pre>\n<p>And this is what confuses me.\nIf I change <code>Schedulers.parallel()</code> to <code>Schedulers.boundedElastic()</code> or <code>Schedulers.single()</code> or whatever then nothing changes, I still see only <code>reactor-tcp-nio-1</code> thread doing its job!</p>\n<p>But when I use <code>Schedulers.boundedElastic()</code> then in <a href=\"https://i.stack.imgur.com/RTdSI.png\" rel=\"nofollow noreferrer\">JProfiler</a> i see many boundedElastic threads in <strong>WAIT</strong> state.</p>\n<p>If I use <code>publishOn</code> after calling the repository then as expected all downstream operators (i.e. filter and map in this case) are processed on specified scheduler worker.</p>\n<p>So please help me understand how it is supposed to be working.</p>\n<p>What is <code>reactor-tcp-nio-1</code> thread and why it is the only thread that does all processing?\nWhy <code>subscribeOn</code> does not pass the execution to another worker?\nWhy reactor creates many boundedElastic threads but they are all waiting and do nothing?</p>\n<p>I use <strong>Java 17</strong> and <strong>Spring Boot 2.7.5.</strong></p>\n<p>Much appreciated!</p>\n"},{"tags":["javascript","java","http","websocket"],"comments":[{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":0,"creation_date":1475602959,"post_id":39858493,"comment_id":67005080,"body_markdown":"It can&#39;t be a browser restriction, can it? Everyone can write their own browser if they so wish.","body":"It can&#39;t be a browser restriction, can it? Everyone can write their own browser if they so wish."},{"owner":{"account_id":117631,"reputation":35009,"user_id":307976,"accept_rate":91,"display_name":"vtortola"},"score":0,"creation_date":1475609350,"post_id":39858493,"comment_id":67008526,"body_markdown":"Possible duplicate of [HTTP headers in Websockets client API](http://stackoverflow.com/questions/4361173/http-headers-in-websockets-client-api)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4361173/http-headers-in-websockets-client-api\">HTTP headers in Websockets client API</a>"}],"answers":[{"tags":[],"owner":{"account_id":117631,"reputation":35009,"user_id":307976,"accept_rate":91,"display_name":"vtortola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475609288,"creation_date":1475609288,"answer_id":39860286,"question_id":39858493,"body_markdown":"I am afraid that the WebSocket API in web browsers does not allow to set custom headers. Still, the browser sets cookies, if any.","title":"Can a websocket client in a browser send headers?","body":"<p>I am afraid that the WebSocket API in web browsers does not allow to set custom headers. Still, the browser sets cookies, if any.</p>\n"},{"comments":[{"owner":{"account_id":432092,"reputation":689888,"user_id":816620,"accept_rate":64,"display_name":"jfriend00"},"score":0,"creation_date":1475693108,"post_id":39864293,"comment_id":67049810,"body_markdown":"@ChristianBongiorno - Did this answer your question?","body":"@ChristianBongiorno - Did this answer your question?"}],"tags":[],"owner":{"account_id":432092,"reputation":689888,"user_id":816620,"accept_rate":64,"display_name":"jfriend00"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475632387,"creation_date":1475632387,"answer_id":39864293,"question_id":39858493,"body_markdown":"The issue is that the standard API for creating a webSocket connection in a browser does not provide any mechanism for setting custom headers.  So, it is a limitation of the webSocket browser API.\r\n\r\nYou can control the URL you send including query parameters and cookies are sent with the request so you have the ability to use the path, query parameters or cookies to send additional information with the connection request.\r\n\r\n    WebSocket WebSocket(\r\n      in DOMString url,\r\n      in optional DOMString protocols\r\n    );","title":"Can a websocket client in a browser send headers?","body":"<p>The issue is that the standard API for creating a webSocket connection in a browser does not provide any mechanism for setting custom headers.  So, it is a limitation of the webSocket browser API.</p>\n\n<p>You can control the URL you send including query parameters and cookies are sent with the request so you have the ability to use the path, query parameters or cookies to send additional information with the connection request.</p>\n\n<pre><code>WebSocket WebSocket(\n  in DOMString url,\n  in optional DOMString protocols\n);\n</code></pre>\n"}],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1669313684,"creation_date":1475602571,"question_id":39858493,"body_markdown":"There is a debate raging in the office about a browsers ability to send handshake headers are part of establishing a websocket connection.\r\n\r\n[The websocket spec][1] makes it clear that headers are possible. And, infact, in my non-browser client code I do set handshake headers and they are received without and issue.\r\n\r\nThe open debate is: Can a web browser using javascript insert headers are part of the handshake? The spec seems to indicate there is nothing against it but no one can find client side documentation that says how.\r\n\r\nThere is a lot of conflicting information. It&#39;s obviously possible because I am able to do it in Java without a problem. But for Javascript no one is seeing how. Is it a browser restriction?\r\n\r\nTo clarify how my question is different than others: Is the inability to do this a limitation of the default javascript libs? The web browser or the spec? It looks like it&#39;s a library limitation only\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6455#page-6 &quot;In this spec&quot;","title":"Can a websocket client in a browser send headers?","body":"<p>There is a debate raging in the office about a browsers ability to send handshake headers are part of establishing a websocket connection.</p>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc6455#page-6\" rel=\"nofollow noreferrer\" title=\"In this spec\">The websocket spec</a> makes it clear that headers are possible. And, infact, in my non-browser client code I do set handshake headers and they are received without and issue.</p>\n<p>The open debate is: Can a web browser using javascript insert headers are part of the handshake? The spec seems to indicate there is nothing against it but no one can find client side documentation that says how.</p>\n<p>There is a lot of conflicting information. It's obviously possible because I am able to do it in Java without a problem. But for Javascript no one is seeing how. Is it a browser restriction?</p>\n<p>To clarify how my question is different than others: Is the inability to do this a limitation of the default javascript libs? The web browser or the spec? It looks like it's a library limitation only</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":1,"creation_date":1669282182,"post_id":74558207,"comment_id":131610875,"body_markdown":"How do you run it? Maybe you need to explicitely do mvn test?","body":"How do you run it? Maybe you need to explicitely do mvn test?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1669285976,"post_id":74558207,"comment_id":131612296,"body_markdown":"Please add the test code to the post ...","body":"Please add the test code to the post ..."}],"owner":{"account_id":13472396,"reputation":11,"user_id":9720470,"display_name":"Ananya Sarkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669313475,"creation_date":1669281154,"question_id":74558207,"body_markdown":"On trying to run the testcase through command line using maven framework, there are no error but 0 testcases are running. I have Junit 4 plugin with surefire plugin of 2.19.1\r\n\r\n```\r\n&lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.19.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n         &lt;includes&gt;\r\n            &lt;include&gt;CheckoutPageStepDefinationTest.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n         &lt;parallel&gt;methods&lt;/parallel&gt;\r\n         &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\n```\r\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;junit&lt;/groupId&gt;\r\n     &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n     &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n[enter image description here](https://i.stack.imgur.com/aZKXG.png)\r\n\r\nTestcases should run from command line using surefire plugin","title":"Using Surefire plugin in maven testcases are not running in Command line. Same testcases are running through Eclipse IDE","body":"<p>On trying to run the testcase through command line using maven framework, there are no error but 0 testcases are running. I have Junit 4 plugin with surefire plugin of 2.19.1</p>\n<pre><code>&lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.19.1&lt;/version&gt;\n        &lt;configuration&gt;\n         &lt;includes&gt;\n            &lt;include&gt;CheckoutPageStepDefinationTest.java&lt;/include&gt;\n          &lt;/includes&gt;\n         &lt;parallel&gt;methods&lt;/parallel&gt;\n         &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n        &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n     &lt;groupId&gt;junit&lt;/groupId&gt;\n     &lt;artifactId&gt;junit&lt;/artifactId&gt;\n     &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aZKXG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Testcases should run from command line using surefire plugin</p>\n"},{"tags":["java","sql","spring","get-mapping"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669055306,"post_id":74522879,"comment_id":131551427,"body_markdown":"You are passing `_` when the name isn&#39;t present, which I doubt is a name. If parameters are optional you are better of using the criteria API through the use of the `Predicate` s of Spring Data.","body":"You are passing <code>_</code> when the name isn&#39;t present, which I doubt is a name. If parameters are optional you are better of using the criteria API through the use of the <code>Predicate</code> s of Spring Data."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669057545,"post_id":74522879,"comment_id":131552089,"body_markdown":"Regarding the return type, you are returing a `Page` what else would you expect. Also ifyou only would return the content, how would you know how manu pages there are? Beats a bit the purpose of using a page in the first place.","body":"Regarding the return type, you are returing a <code>Page</code> what else would you expect. Also ifyou only would return the content, how would you know how manu pages there are? Beats a bit the purpose of using a page in the first place."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669057489,"post_id":74522989,"comment_id":131552069,"body_markdown":"That won&#39;t work and will result in an errornous query as the `%` will be outside of the escaped value for `?1` or `:firstname`. The `%` needs to be added as a value to the parameter passed in.","body":"That won&#39;t work and will result in an errornous query as the <code>%</code> will be outside of the escaped value for <code>?1</code> or <code>:firstname</code>. The <code>%</code> needs to be added as a value to the parameter passed in."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669100755,"post_id":74522989,"comment_id":131560579,"body_markdown":"Because it is an `OR` and not an `AND`.. .`lastname=&quot;_&quot; OR firstName = &quot;Somevalue&quot;` instead of `lastname=&quot;_&quot; AND firstName = &quot;Somevalue&quot;`... I doubt there is someone with the lastname of `_`. Nonetheless that wasn&#39;t what my comment was about, that was about a wrong solution to the problem as it simply won&#39;t work and will lead to an illegal query. But if you don&#39;t want to learn feel free to dismiss that. Basically your query leads to a SQL of `SELECT s.* FROM student s WHERE s.name=%&#39;input&#39;% ... ` The `%&#39;input&#39;%` makes the query invalid.","body":"Because it is an <code>OR</code> and not an <code>AND</code>.. .<code>lastname=&quot;_&quot; OR firstName = &quot;Somevalue&quot;</code> instead of <code>lastname=&quot;_&quot; AND firstName = &quot;Somevalue&quot;</code>... I doubt there is someone with the lastname of <code>_</code>. Nonetheless that wasn&#39;t what my comment was about, that was about a wrong solution to the problem as it simply won&#39;t work and will lead to an illegal query. But if you don&#39;t want to learn feel free to dismiss that. Basically your query leads to a SQL of <code>SELECT s.* FROM student s WHERE s.name=%&#39;input&#39;% ... </code> The <code>%&#39;input&#39;%</code> makes the query invalid."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1669113898,"post_id":74522989,"comment_id":131564978,"body_markdown":"I don&#39;t understand why he got downvoted, the solution he gave me works as intended. Is it bad coding practice? Also, the &quot;_&quot; was part of solution I found and based this piece of code on, without any input (&quot;&quot;) the query was making the endpoint /students throw me a 500HTTP error, now that I changed the @Query values to\n```\n@Query(&quot;select s from Student s where s.name like %:name% and s.surname like %:surname%&quot;)\n```\neverything runs just fine","body":"I don&#39;t understand why he got downvoted, the solution he gave me works as intended. Is it bad coding practice? Also, the &quot;_&quot; was part of solution I found and based this piece of code on, without any input (&quot;&quot;) the query was making the endpoint /students throw me a 500HTTP error, now that I changed the @Query values to ``` @Query(&quot;select s from Student s where s.name like %:name% and s.surname like %:surname%&quot;) ``` everything runs just fine"}],"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669053058,"creation_date":1669053058,"answer_id":74522989,"question_id":74522879,"body_markdown":"Take a look at your query:\r\n\r\n    @Query(&quot;select s from Student s where s.name like %?1% and s.surname like %?1%&quot;)\r\n\r\nYou have defined two placeholders with `?1` what will result in both placeholders to have the same value. So you&#39;re literally searching for someone with the same first and last name, that&#39;s why an `OR` would work here. \r\n\r\n\r\nI am not familiar with Spring, but reading the following [tutorial][1] tells me that you can write your query as follows:\r\n\r\n    @Query(&quot;select s from Student s where s.name like %:firstname% and s.surname like %:lastname%&quot;)\r\n\r\nYou need to bind the parameters with the `@Param(var)` annotation in your method&#39;s parameter list though.\r\n\r\nFor your last question: You probably shouldn&#39;t be returning a `Page&lt;Student&gt;` from your REST (?) service, but rather a `List&lt;Student&gt;`. \r\n\r\n  [1]: https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa#2-manual-custom-queries","title":"@Query with 2 parameters in Java Spring","body":"<p>Take a look at your query:</p>\n<pre><code>@Query(&quot;select s from Student s where s.name like %?1% and s.surname like %?1%&quot;)\n</code></pre>\n<p>You have defined two placeholders with <code>?1</code> what will result in both placeholders to have the same value. So you're literally searching for someone with the same first and last name, that's why an <code>OR</code> would work here.</p>\n<p>I am not familiar with Spring, but reading the following <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa#2-manual-custom-queries\" rel=\"nofollow noreferrer\">tutorial</a> tells me that you can write your query as follows:</p>\n<pre><code>@Query(&quot;select s from Student s where s.name like %:firstname% and s.surname like %:lastname%&quot;)\n</code></pre>\n<p>You need to bind the parameters with the <code>@Param(var)</code> annotation in your method's parameter list though.</p>\n<p>For your last question: You probably shouldn't be returning a <code>Page&lt;Student&gt;</code> from your REST (?) service, but rather a <code>List&lt;Student&gt;</code>.</p>\n"},{"comments":[{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1669113611,"post_id":74524031,"comment_id":131564866,"body_markdown":"the question is whether this accepts optionals? This assignment forces me to code it with only one getmapping at /students and possibility to pass one, two, three or four independent arguments - name, name and surname, surname, only pagination etc.","body":"the question is whether this accepts optionals? This assignment forces me to code it with only one getmapping at /students and possibility to pass one, two, three or four independent arguments - name, name and surname, surname, only pagination etc."}],"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669059082,"creation_date":1669059082,"answer_id":74524031,"question_id":74522879,"body_markdown":"`JpaRepository` supports the query method so if you want to search the items which contains the place holder values you can do it by just defining the method like below.\r\n\r\n```\r\nPage&lt;Student&gt; findByStartingWithFirstNameAndStartingWithSurname();\r\n```\r\n","title":"@Query with 2 parameters in Java Spring","body":"<p><code>JpaRepository</code> supports the query method so if you want to search the items which contains the place holder values you can do it by just defining the method like below.</p>\n<pre><code>Page&lt;Student&gt; findByStartingWithFirstNameAndStartingWithSurname();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669313265,"creation_date":1669308486,"answer_id":74564007,"question_id":74522879,"body_markdown":"?1 is for the first parameter `name` so you must replace your second ?1 with ?2 to use the parameter `surname`.\r\n\r\nFor your second question, you can map your page into a list: \r\n```java\r\nrepository.findByNameAndSurname(name.orElse(&quot;_&quot;),\r\n                                            surname.orElse(&quot;_&quot;),\r\n                                            PageRequest.of(\r\n                                                            page.orElse(0), 5,\r\n                                                            Sort.Direction.ASC, sortBy.orElse(&quot;id&quot;))).stream().toList();\r\n```","title":"@Query with 2 parameters in Java Spring","body":"<p>?1 is for the first parameter <code>name</code> so you must replace your second ?1 with ?2 to use the parameter <code>surname</code>.</p>\n<p>For your second question, you can map your page into a list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository.findByNameAndSurname(name.orElse(&quot;_&quot;),\n                                            surname.orElse(&quot;_&quot;),\n                                            PageRequest.of(\n                                                            page.orElse(0), 5,\n                                                            Sort.Direction.ASC, sortBy.orElse(&quot;id&quot;))).stream().toList();\n</code></pre>\n"}],"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1669313265,"creation_date":1669052404,"question_id":74522879,"body_markdown":"I&#39;m looking for a solution for following problem - \r\ni want to create a @Query like this:\r\n\r\n\r\n```\r\n@Query(&quot;select s from Student s where s.name like %?1% and s.surname like %?1%&quot;)\r\n```\r\nbecause I need to be able to show student with given name and surname. I was able to make it sort of work, because when I change and with or, the query shows entries with either given name or given surname, but as soon as i change it back to and nothing shows. \r\n\r\n\r\n```\r\ninterface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {\r\n\r\n@Query(&quot;select s from Student s where s.name like %?1% and s.surname like %?1%&quot;)\r\nPage&lt;Student&gt; findByNameAndSurname( String name, String surname,  Pageable pageable);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n@GetMapping\r\nPage&lt;Student&gt; getAllStudents(@RequestParam Optional&lt;String&gt; name,\r\n                             @RequestParam Optional&lt;String&gt; surname,\r\n                             @RequestParam Optional&lt;Integer&gt; page,\r\n                             @RequestParam Optional&lt;String&gt; sortBy) {\r\n    return repository.findByNameAndSurname(name.orElse(&quot;_&quot;),\r\n                                            surname.orElse(&quot;_&quot;),\r\n                                            PageRequest.of(\r\n                                                            page.orElse(0), 5,\r\n                                                            Sort.Direction.ASC, sortBy.orElse(&quot;id&quot;)));\r\n\r\n\r\n```\r\nI also have second question, is it possible to remove this code that shows at the end of JSONs while using pageRequest - I would like only the Student entries to show without this if possible\r\n\r\n```\r\n\r\n{&quot;content&quot;:[],&quot;pageable&quot;:{&quot;sort&quot;:{&quot;empty&quot;:false,&quot;sorted&quot;:true,&quot;unsorted&quot;:false},&quot;offset&quot;:0,&quot;pageNumber&quot;:0,&quot;pageSize&quot;:5,&quot;unpaged&quot;:false,&quot;paged&quot;:true},&quot;last&quot;:true,&quot;totalPages&quot;:0,&quot;totalElements&quot;:0,&quot;size&quot;:5,&quot;number&quot;:0,&quot;sort&quot;:{&quot;empty&quot;:false,&quot;sorted&quot;:true,&quot;unsorted&quot;:false},&quot;first&quot;:true,&quot;numberOfElements&quot;:0,&quot;empty&quot;:true}\r\n```\r\n\r\n\r\n\r\nI tried using native query in @Query annotation, I also tried modifying the query itself, using some concat tricks i found online, but nothing works;(","title":"@Query with 2 parameters in Java Spring","body":"<p>I'm looking for a solution for following problem -\ni want to create a @Query like this:</p>\n<pre><code>@Query(&quot;select s from Student s where s.name like %?1% and s.surname like %?1%&quot;)\n</code></pre>\n<p>because I need to be able to show student with given name and surname. I was able to make it sort of work, because when I change and with or, the query shows entries with either given name or given surname, but as soon as i change it back to and nothing shows.</p>\n<pre><code>interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {\n\n@Query(&quot;select s from Student s where s.name like %?1% and s.surname like %?1%&quot;)\nPage&lt;Student&gt; findByNameAndSurname( String name, String surname,  Pageable pageable);\n}\n\n</code></pre>\n<pre><code>@GetMapping\nPage&lt;Student&gt; getAllStudents(@RequestParam Optional&lt;String&gt; name,\n                             @RequestParam Optional&lt;String&gt; surname,\n                             @RequestParam Optional&lt;Integer&gt; page,\n                             @RequestParam Optional&lt;String&gt; sortBy) {\n    return repository.findByNameAndSurname(name.orElse(&quot;_&quot;),\n                                            surname.orElse(&quot;_&quot;),\n                                            PageRequest.of(\n                                                            page.orElse(0), 5,\n                                                            Sort.Direction.ASC, sortBy.orElse(&quot;id&quot;)));\n\n\n</code></pre>\n<p>I also have second question, is it possible to remove this code that shows at the end of JSONs while using pageRequest - I would like only the Student entries to show without this if possible</p>\n<pre><code>\n{&quot;content&quot;:[],&quot;pageable&quot;:{&quot;sort&quot;:{&quot;empty&quot;:false,&quot;sorted&quot;:true,&quot;unsorted&quot;:false},&quot;offset&quot;:0,&quot;pageNumber&quot;:0,&quot;pageSize&quot;:5,&quot;unpaged&quot;:false,&quot;paged&quot;:true},&quot;last&quot;:true,&quot;totalPages&quot;:0,&quot;totalElements&quot;:0,&quot;size&quot;:5,&quot;number&quot;:0,&quot;sort&quot;:{&quot;empty&quot;:false,&quot;sorted&quot;:true,&quot;unsorted&quot;:false},&quot;first&quot;:true,&quot;numberOfElements&quot;:0,&quot;empty&quot;:true}\n</code></pre>\n<p>I tried using native query in @Query annotation, I also tried modifying the query itself, using some concat tricks i found online, but nothing works;(</p>\n"},{"tags":["java","methods","header","report"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1669124125,"post_id":74527557,"comment_id":131568544,"body_markdown":"What is `InputFile` and where is it? A few lines of fictitious file data to wouldn&#39;t hurt either. Where you think you&#39;re having the problem will not open another window however, the `displayTable()` method will because you are telling it to. You only need to create the window once.","body":"What is <code>InputFile</code> and where is it? A few lines of fictitious file data to wouldn&#39;t hurt either. Where you think you&#39;re having the problem will not open another window however, the <code>displayTable()</code> method will because you are telling it to. You only need to create the window once."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669312956,"creation_date":1669312956,"answer_id":74564734,"question_id":74527557,"body_markdown":"Below is your application which I reworked a little bit. There were some equations and code changes made for things to work properly. Read the comments in code:\r\n\r\nBecause you neglected to answer my question within the comments section of you post I had to create an **InputFile** class and assume the layout of file data which is shown directly below:\r\n\r\n**Data File Demo (`&quot;fcrc loan data.txt&quot;`):**\r\n\r\n```\r\nBill Olsen\r\n914 8th Street\r\nSalt Lake City\r\nUT\r\n64112\r\n;USA\r\n;801-364-0809\r\n;billolsen@gmail.com\r\n3\r\n1\r\n2004\r\n1250.00\r\n5.25\r\n2\r\n```\r\n\r\nAny file lines starting with `;` are considered commented and application properties requiring the data from those lines will be provided with a Null String (&quot;&quot;).\r\n\r\n**The application startup (entry) class:**\r\n\r\n```\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\n\r\npublic class Main {\r\n    \r\n    public static void main(String[] args) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n\r\n                }\r\n            }\r\n        }\r\n        catch (ClassNotFoundException | InstantiationException | IllegalAccessException | javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Main.class\r\n                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n        \r\n        // Started this way to avoid the need for everything to be static.\r\n        new Main().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        /* Instantiate an instance of the LoanPaymentsReport class:\r\n           There a few contructors for this class. Here are the ways\r\n           you can instantiate this class and provide the minimal\r\n           required data to generate a payment table which is: \r\n        \r\n            - The Loan Amount (floating point value), \r\n            - The Interest Rate (floatingpoint value), \r\n            - The Payment Code (integer value),\r\n            - The Start Month (integer value)           - Optional,\r\n            - The Start Day (integer value)             - Optional,\r\n            - The Start Year (four digit integer value) - Optional.\r\n           \r\n           If the date components are not supplied then the current \r\n           Month of Year value, 1st day of month value, and current 4\r\n           digit Year value is used.              */\r\n        \r\n        /* With this Constructor, class Setter methods will need to \r\n           be used to supply the minimal required and desired data. */\r\n       // LoanPaymentsReport report = new LoanPaymentsReport();\r\n        \r\n        /* With this Constructor, all minimal required data is supplied\r\n           except the date components (Month, Day, and Year). They are \r\n           optional with this constructor and if not supplied then the \r\n           current Month of Year value, 1st day of month value, and \r\n           current 4 digit Year value is used. If you just want to change \r\n           the Starting Month then you can supply that month number as \r\n           the last constructor argument. If you want to just supply the\r\n           month and year then, you must also supply the start Day. The\r\n           date components are in the format: m, d, yyyy.     */\r\n        //LoanPaymentsReport report = \r\n                //                                            These 3 are Optional\r\n                //                       Loan    Int.   Pmt.  Start   Start   Start\r\n                //                      Amount   Rate   Code  Month    Day    Year\r\n        //      new LoanPaymentsReport(1250.00d, 3.25d,  2,     3,      1,    2004);\r\n        \r\n        /* With this Constructor, the supplied data file fulfills the\r\n           minimal required data plus more like Customer information.\r\n           If there is customer data (like country, phone number, EMail,\r\n           etc) you do not want displayed then leave a blank line exactly\r\n           where that specific data resides within the file OR, add a \r\n           semicolon (;) at the start of the data line to omit. Ultimately,\r\n           you could potentially have several blank lines or lines starting\r\n           with semicolons within the data file where you want to omit data \r\n           from display. Comapny information will still need to be provided \r\n           via the LoanPaymentsReport Setter methods as shown below.      */  \r\n        LoanPaymentsReport report = new LoanPaymentsReport(&quot;fcrc loan data.txt&quot;);\r\n        \r\n        /* Comment any Constructors you don&#39;t want to use and uncomment the\r\n           the Constructor you do want to use and play with this software. \r\n           Also, if you like, go into the LoanPaymentsReport class and create \r\n           (overload) whatever Constuctors you think might be benificial.*/\r\n            \r\n        /* You don&#39;t have to set any of the following properties since\r\n           they are ALL Null String (&quot;&quot;) by default. But if you want to\r\n           see a Company Name and address etc, then you would want to ad\r\n           demonstrated here to show what can be provided for company Info.\r\n           Again, always keep in mind, if you don&#39;t fill the below company\r\n           related properties then those properties will not be displayed \r\n           winthin the Text Area. Only the properties that contain data will \r\n           be visible within the report.                     */\r\n        report.setCompanyName(&quot;First Community Redevelopment Corporation&quot;);\r\n        report.setCompanyAddress(&quot;101 1st Street&quot;);\r\n        report.setCompanyCity(&quot;Bloomington&quot;);\r\n        report.setCompanyState(&quot;TN&quot;);\r\n        report.setCompanyZip(&quot;41663&quot;); \r\n        report.setCompanyCountry(&quot;&quot;);  \r\n        report.setCompanyPhone(&quot;&quot;);    \r\n        report.setCompanyEMail(&quot;&quot;);\r\n       \r\n        /* This below does exactly the same thing as above however, \r\n           something must be provided for ALL company properties!  */\r\n        String[] companyInfo = {&quot;First Community Redevelopment Corporation&quot;, &quot;101 1st Street&quot;,\r\n                                &quot;Bloomington&quot;, &quot;TN&quot;, &quot;41663&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n        report.setCompanyInfo(companyInfo);\r\n        \r\n        /* By default, this property contains a Null String (&quot;&quot;) which means\r\n           no header will be displayed within the printed report. The Report \r\n           Header data which merely consists of string text. The Page Header \r\n           (or headers for multiple pages) is never visible within the Text \r\n           Area of the report. Only when the report is printed with a paper \r\n           printer. */\r\n        report.setReportHeader(&quot;Loan Payments Report&quot;);     // Report Header (Report Title)\r\n        \r\n        /* By default, this property contains a Null String (&quot;&quot;) which means\r\n           no footer will be displayed within the printed report. The Report \r\n           Footer data which will consist of the current page nunber being \r\n           printed and a Time-Stamp consisting of the current date and current \r\n           time of the printing.    \r\n        \r\n           The Page Footer(s) is never visible within the Text Area of the\r\n           report. Only when the report is printed with a paper printer. */\r\n        LocalDateTime now = LocalDateTime.now();\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy - hh:mma&quot;);\r\n        String timeStamp = now.format(formatter); \r\n        report.setReportFooter(&quot;Page {0}  -  &quot; + timeStamp); // {0} means current number of the page being printed.\r\n     \r\n        // Display the Report Window.\r\n        report.show(); \r\n    }\r\n}\r\n```\r\n**The InputFile class:**\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\n\r\npublic class InputFile {\r\n\r\n    private Scanner reader;\r\n    private String dataFilePath;\r\n    \r\n    public InputFile(String dataFilePath) {\r\n        this.dataFilePath = dataFilePath;\r\n        initReader();\r\n        \r\n    }\r\n    \r\n    private void initReader() {\r\n        try {\r\n            reader = new Scanner(new File(dataFilePath));\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            JOptionPane.showMessageDialog(null, &quot;Data File Not Found!&quot;, \r\n                        &quot;File Not Found!&quot;, JOptionPane.WARNING_MESSAGE);\r\n        }\r\n    }\r\n    \r\n    public boolean eof() {\r\n        if (reader.hasNextLine()) {\r\n            return false;\r\n        }\r\n        else {\r\n            reader.close();\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    public String readString() {\r\n        String line = reader.nextLine().trim();\r\n        if (line.startsWith(&quot;;&quot;) || line.isEmpty()) {\r\n            line = &quot;&quot;;\r\n        }\r\n        return line;\r\n    }\r\n    \r\n    public String readWord() {\r\n        String word = reader.next().trim();\r\n        if (word.startsWith(&quot;;&quot;) || word.isEmpty()) {\r\n            word = &quot;&quot;;\r\n        }\r\n        return word;\r\n    }\r\n    \r\n    public int readInt() {\r\n        int val = 0;\r\n        try {\r\n            val = reader.nextInt();\r\n            return val;\r\n        }\r\n        catch (Exception ex) {\r\n            return 0;\r\n        }\r\n    }\r\n    \r\n    public long readLong() {\r\n        long val = 0L;\r\n        try {\r\n            val = reader.nextLong();\r\n            return val;\r\n        }\r\n        catch (Exception ex) {\r\n            return 0L;\r\n        }\r\n    }\r\n\r\n    public double readDouble() {\r\n        double val = 0.0D;\r\n        try {\r\n            val = reader.nextDouble();\r\n            return val;\r\n        }\r\n        catch (Exception ex) {\r\n            return 0.0D;\r\n        }\r\n    }\r\n    \r\n    public float readFloat() {\r\n        float val = 0.0f;\r\n        try {\r\n            val = reader.nextFloat();\r\n            return val;\r\n        }\r\n        catch (Exception ex) {\r\n            return 0.0f;\r\n        }\r\n    }\r\n    \r\n    public void close() {\r\n        reader.close();\r\n    }\r\n\r\n    public String getDataFilePath() {\r\n        return dataFilePath;\r\n    }\r\n\r\n    public void setDataFilePath(String dataFilePath) {\r\n        this.dataFilePath = dataFilePath;\r\n    }\r\n}\r\n```\r\n\r\nIf you create the `&quot;fcrc loan data.txt&quot;` file with the contents as shown above and save in your project directory (folder) then run this demo runnable application, you should see a GUI wondow that looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUse the Scroll-Bar to view the entire report or select the &lt;kbd&gt;Print&lt;/kbd&gt; button to print the report. To close the GUI, slect the &lt;kbd&gt;Close&lt;/kbd&gt; button. \r\n\r\nKeep in mind, the Text Area of the form is not interactive. As a matter of fact, the Text Area is non-editable.\r\n\r\nThe **LoanPaymentsReport** class is within the next post:\r\n\r\n  [1]: https://i.stack.imgur.com/eUNWp.png","title":"Outputting a report with a header and a table in java","body":"<p>Below is your application which I reworked a little bit. There were some equations and code changes made for things to work properly. Read the comments in code:</p>\n<p>Because you neglected to answer my question within the comments section of you post I had to create an <strong>InputFile</strong> class and assume the layout of file data which is shown directly below:</p>\n<p><strong>Data File Demo (<code>&quot;fcrc loan data.txt&quot;</code>):</strong></p>\n<pre><code>Bill Olsen\n914 8th Street\nSalt Lake City\nUT\n64112\n;USA\n;801-364-0809\n;billolsen@gmail.com\n3\n1\n2004\n1250.00\n5.25\n2\n</code></pre>\n<p>Any file lines starting with <code>;</code> are considered commented and application properties requiring the data from those lines will be provided with a Null String (&quot;&quot;).</p>\n<p><strong>The application startup (entry) class:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n\n                }\n            }\n        }\n        catch (ClassNotFoundException | InstantiationException | IllegalAccessException | javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Main.class\n                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n        \n        // Started this way to avoid the need for everything to be static.\n        new Main().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        /* Instantiate an instance of the LoanPaymentsReport class:\n           There a few contructors for this class. Here are the ways\n           you can instantiate this class and provide the minimal\n           required data to generate a payment table which is: \n        \n            - The Loan Amount (floating point value), \n            - The Interest Rate (floatingpoint value), \n            - The Payment Code (integer value),\n            - The Start Month (integer value)           - Optional,\n            - The Start Day (integer value)             - Optional,\n            - The Start Year (four digit integer value) - Optional.\n           \n           If the date components are not supplied then the current \n           Month of Year value, 1st day of month value, and current 4\n           digit Year value is used.              */\n        \n        /* With this Constructor, class Setter methods will need to \n           be used to supply the minimal required and desired data. */\n       // LoanPaymentsReport report = new LoanPaymentsReport();\n        \n        /* With this Constructor, all minimal required data is supplied\n           except the date components (Month, Day, and Year). They are \n           optional with this constructor and if not supplied then the \n           current Month of Year value, 1st day of month value, and \n           current 4 digit Year value is used. If you just want to change \n           the Starting Month then you can supply that month number as \n           the last constructor argument. If you want to just supply the\n           month and year then, you must also supply the start Day. The\n           date components are in the format: m, d, yyyy.     */\n        //LoanPaymentsReport report = \n                //                                            These 3 are Optional\n                //                       Loan    Int.   Pmt.  Start   Start   Start\n                //                      Amount   Rate   Code  Month    Day    Year\n        //      new LoanPaymentsReport(1250.00d, 3.25d,  2,     3,      1,    2004);\n        \n        /* With this Constructor, the supplied data file fulfills the\n           minimal required data plus more like Customer information.\n           If there is customer data (like country, phone number, EMail,\n           etc) you do not want displayed then leave a blank line exactly\n           where that specific data resides within the file OR, add a \n           semicolon (;) at the start of the data line to omit. Ultimately,\n           you could potentially have several blank lines or lines starting\n           with semicolons within the data file where you want to omit data \n           from display. Comapny information will still need to be provided \n           via the LoanPaymentsReport Setter methods as shown below.      */  \n        LoanPaymentsReport report = new LoanPaymentsReport(&quot;fcrc loan data.txt&quot;);\n        \n        /* Comment any Constructors you don't want to use and uncomment the\n           the Constructor you do want to use and play with this software. \n           Also, if you like, go into the LoanPaymentsReport class and create \n           (overload) whatever Constuctors you think might be benificial.*/\n            \n        /* You don't have to set any of the following properties since\n           they are ALL Null String (&quot;&quot;) by default. But if you want to\n           see a Company Name and address etc, then you would want to ad\n           demonstrated here to show what can be provided for company Info.\n           Again, always keep in mind, if you don't fill the below company\n           related properties then those properties will not be displayed \n           winthin the Text Area. Only the properties that contain data will \n           be visible within the report.                     */\n        report.setCompanyName(&quot;First Community Redevelopment Corporation&quot;);\n        report.setCompanyAddress(&quot;101 1st Street&quot;);\n        report.setCompanyCity(&quot;Bloomington&quot;);\n        report.setCompanyState(&quot;TN&quot;);\n        report.setCompanyZip(&quot;41663&quot;); \n        report.setCompanyCountry(&quot;&quot;);  \n        report.setCompanyPhone(&quot;&quot;);    \n        report.setCompanyEMail(&quot;&quot;);\n       \n        /* This below does exactly the same thing as above however, \n           something must be provided for ALL company properties!  */\n        String[] companyInfo = {&quot;First Community Redevelopment Corporation&quot;, &quot;101 1st Street&quot;,\n                                &quot;Bloomington&quot;, &quot;TN&quot;, &quot;41663&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        report.setCompanyInfo(companyInfo);\n        \n        /* By default, this property contains a Null String (&quot;&quot;) which means\n           no header will be displayed within the printed report. The Report \n           Header data which merely consists of string text. The Page Header \n           (or headers for multiple pages) is never visible within the Text \n           Area of the report. Only when the report is printed with a paper \n           printer. */\n        report.setReportHeader(&quot;Loan Payments Report&quot;);     // Report Header (Report Title)\n        \n        /* By default, this property contains a Null String (&quot;&quot;) which means\n           no footer will be displayed within the printed report. The Report \n           Footer data which will consist of the current page nunber being \n           printed and a Time-Stamp consisting of the current date and current \n           time of the printing.    \n        \n           The Page Footer(s) is never visible within the Text Area of the\n           report. Only when the report is printed with a paper printer. */\n        LocalDateTime now = LocalDateTime.now();\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy - hh:mma&quot;);\n        String timeStamp = now.format(formatter); \n        report.setReportFooter(&quot;Page {0}  -  &quot; + timeStamp); // {0} means current number of the page being printed.\n     \n        // Display the Report Window.\n        report.show(); \n    }\n}\n</code></pre>\n<p><strong>The InputFile class:</strong></p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport javax.swing.JOptionPane;\n\n\npublic class InputFile {\n\n    private Scanner reader;\n    private String dataFilePath;\n    \n    public InputFile(String dataFilePath) {\n        this.dataFilePath = dataFilePath;\n        initReader();\n        \n    }\n    \n    private void initReader() {\n        try {\n            reader = new Scanner(new File(dataFilePath));\n        }\n        catch (FileNotFoundException ex) {\n            JOptionPane.showMessageDialog(null, &quot;Data File Not Found!&quot;, \n                        &quot;File Not Found!&quot;, JOptionPane.WARNING_MESSAGE);\n        }\n    }\n    \n    public boolean eof() {\n        if (reader.hasNextLine()) {\n            return false;\n        }\n        else {\n            reader.close();\n            return true;\n        }\n    }\n    \n    public String readString() {\n        String line = reader.nextLine().trim();\n        if (line.startsWith(&quot;;&quot;) || line.isEmpty()) {\n            line = &quot;&quot;;\n        }\n        return line;\n    }\n    \n    public String readWord() {\n        String word = reader.next().trim();\n        if (word.startsWith(&quot;;&quot;) || word.isEmpty()) {\n            word = &quot;&quot;;\n        }\n        return word;\n    }\n    \n    public int readInt() {\n        int val = 0;\n        try {\n            val = reader.nextInt();\n            return val;\n        }\n        catch (Exception ex) {\n            return 0;\n        }\n    }\n    \n    public long readLong() {\n        long val = 0L;\n        try {\n            val = reader.nextLong();\n            return val;\n        }\n        catch (Exception ex) {\n            return 0L;\n        }\n    }\n\n    public double readDouble() {\n        double val = 0.0D;\n        try {\n            val = reader.nextDouble();\n            return val;\n        }\n        catch (Exception ex) {\n            return 0.0D;\n        }\n    }\n    \n    public float readFloat() {\n        float val = 0.0f;\n        try {\n            val = reader.nextFloat();\n            return val;\n        }\n        catch (Exception ex) {\n            return 0.0f;\n        }\n    }\n    \n    public void close() {\n        reader.close();\n    }\n\n    public String getDataFilePath() {\n        return dataFilePath;\n    }\n\n    public void setDataFilePath(String dataFilePath) {\n        this.dataFilePath = dataFilePath;\n    }\n}\n</code></pre>\n<p>If you create the <code>&quot;fcrc loan data.txt&quot;</code> file with the contents as shown above and save in your project directory (folder) then run this demo runnable application, you should see a GUI wondow that looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/eUNWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUNWp.png\" alt=\"enter image description here\" /></a></p>\n<p>Use the Scroll-Bar to view the entire report or select the <kbd>Print</kbd> button to print the report. To close the GUI, slect the <kbd>Close</kbd> button.</p>\n<p>Keep in mind, the Text Area of the form is not interactive. As a matter of fact, the Text Area is non-editable.</p>\n<p>The <strong>LoanPaymentsReport</strong> class is within the next post:</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669313026,"creation_date":1669313026,"answer_id":74564740,"question_id":74527557,"body_markdown":"The **LoanPaymentsReport** Class:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Insets;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.print.PageFormat;\r\nimport java.awt.print.Paper;\r\nimport java.awt.print.Printable;\r\nimport java.awt.print.PrinterException;\r\nimport java.awt.print.PrinterJob;\r\nimport java.text.*;\r\nimport java.time.LocalDate;\r\nimport javax.print.attribute.HashPrintRequestAttributeSet;\r\nimport javax.print.attribute.PrintRequestAttributeSet;\r\nimport javax.print.attribute.Size2DSyntax;\r\nimport javax.print.attribute.standard.MediaPrintableArea;\r\nimport javax.print.attribute.standard.MediaSize;\r\nimport javax.print.attribute.standard.MediaSizeName;\r\nimport javax.print.attribute.standard.OrientationRequested;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.border.Border;\r\n\r\npublic class LoanPaymentsReport {\r\n\r\n    private final String LS = System.lineSeparator();\r\n\r\n    private JFrame jf;\r\n    private JTextArea jta;\r\n    private JScrollPane jsp;\r\n\r\n    private String companyName = &quot;&quot;, companyAddress = &quot;&quot;, companyCity = &quot;&quot;,\r\n                   companyState = &quot;&quot;, companyZip = &quot;&quot;, companyCountry = &quot;&quot;,\r\n                   companyPhone = &quot;&quot;, companyEMail = &quot;&quot;;\r\n    \r\n    private String customerName = &quot;&quot;, customerAddress = &quot;&quot;, customerCity = &quot;&quot;,\r\n                   customerState = &quot;&quot;, customerZip = &quot;&quot;, customerCountry = &quot;&quot;, \r\n                   customerPhone = &quot;&quot;, customerEMail = &quot;&quot;;\r\n\r\n    private String dataFilePath = &quot;&quot;;\r\n\r\n    // Report Header Text (Null String (&quot;&quot;) for no Header):\r\n    private String reportHeader = &quot;&quot;;\r\n    // Report Footer. (Null String (&quot;&quot;) for no Footer): \r\n    private String reportFooter = &quot;&quot;; //&quot;Page {0}&quot; for page number in footer. \r\n\r\n    private int month, day, year, loanPaymentCode;\r\n    private double loanAmount, loanInterestRate;\r\n\r\n    \r\n    // Contructor #1:\r\n    public LoanPaymentsReport() {\r\n        initForm();\r\n    }\r\n\r\n    // Contructor #2:\r\n    public LoanPaymentsReport(double loanAmount, double interestRate, int paymentCode, Integer... dateOptions) {\r\n        int opMonth = LocalDate.now().getMonthValue();\r\n        int opDay = 1;\r\n        int opYear = LocalDate.now().getYear();\r\n        if (dateOptions.length &gt; 0) {\r\n            if (dateOptions.length &gt;= 1) {\r\n                if (dateOptions[0] == null || dateOptions[0] &lt; 1 || dateOptions[0] &gt; 12) {\r\n                    opMonth = LocalDate.now().getMonthValue();\r\n                }\r\n                else {\r\n                    opMonth = dateOptions[0];\r\n                }\r\n                opDay = 1;\r\n                opYear = LocalDate.now().getYear();\r\n                if (dateOptions.length &gt;= 2) {\r\n                    if (dateOptions[1] == null || dateOptions[1] &lt; 1 || dateOptions[1] &gt; 31) {\r\n                        opDay = 1;\r\n                    }\r\n                    else {\r\n                        opDay = dateOptions[1];\r\n                    }\r\n                    opYear = LocalDate.now().getYear();\r\n                    if (dateOptions.length &gt;= 3) {\r\n                        if (dateOptions[2] == null || dateOptions[2] &lt; 1800 || dateOptions[2] &gt; 2500) {\r\n                            opYear = LocalDate.now().getYear();\r\n                        }\r\n                        else {\r\n                            opYear = dateOptions[2];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        this.loanAmount = loanAmount;\r\n        this.loanInterestRate = interestRate;\r\n        this.loanPaymentCode = paymentCode;\r\n        this.month = opMonth;\r\n        this.day = opDay;\r\n        this.year = opYear;\r\n        initForm();\r\n    }\r\n    \r\n    // Contructor #3:\r\n    public LoanPaymentsReport(String dataFilePath) {\r\n        this.dataFilePath = dataFilePath;\r\n        initForm();\r\n    }\r\n\r\n    \r\n    private void initForm() {\r\n        jf = new JFrame();\r\n        jf.setTitle(&quot;Loan Payments Report&quot;);\r\n        jf.setAlwaysOnTop(true);\r\n        jf.setSize(720, 550);\r\n        jf.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        jf.setLayout(new BorderLayout());\r\n        jf.getContentPane().setBackground(Color.decode(&quot;#F4F3F1&quot;));\r\n\r\n        jta = new JTextArea();\r\n        jta.setEditable(false);\r\n        jta.setFont(new Font(&quot;Monospaced&quot;, jta.getFont().getStyle(), 12));\r\n        // Set margins in TextArea\r\n        Border border = BorderFactory.createLineBorder(Color.white, 1);\r\n        jta.setBorder(BorderFactory.createCompoundBorder(border,\r\n                BorderFactory.createEmptyBorder(10, 20, 10, 10)));\r\n\r\n        jsp = new JScrollPane(jta);\r\n        jsp.setBorder(BorderFactory.createLineBorder(Color.black, 3));\r\n        jsp.setPreferredSize(new Dimension(680, 450));\r\n        jf.add(jsp, BorderLayout.NORTH);\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setPreferredSize(new Dimension(jf.getWidth(), 50));\r\n        buttonPanel.setOpaque(true);\r\n        buttonPanel.setBackground(Color.decode(&quot;#F4F3F1&quot;));  // A very light gray\r\n\r\n        // Form Buttons\r\n        JButton printButton = new JButton(&quot;Print&quot;);\r\n        printButton.addActionListener((ActionEvent e) -&gt; {\r\n            printReport();\r\n        });\r\n        buttonPanel.add(printButton);\r\n\r\n        JButton closeButton = new JButton(&quot;Close&quot;);\r\n        closeButton.addActionListener((ActionEvent e) -&gt; {\r\n            int res = JOptionPane.showConfirmDialog(jta,\r\n                    &quot;&lt;html&gt;Are you &lt;font color=red&gt;&lt;b&gt;sure&lt;/b&gt;&lt;/font&gt; you want to close report?&quot;,\r\n                    &quot;Close Report?&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);\r\n            if (res == JOptionPane.YES_OPTION) {\r\n                jf.dispose();\r\n            }\r\n        });\r\n        buttonPanel.add(closeButton);\r\n\r\n        jf.add(buttonPanel, BorderLayout.SOUTH);\r\n    }\r\n\r\n    public void show() {\r\n        readInFileData();\r\n        displayCompanyTitle();\r\n        displayCustomerInfo();\r\n        displayAmountAndInterestRate();\r\n        displayHeader();\r\n        displayTable(loanAmount);\r\n\r\n        java.awt.EventQueue.invokeLater(() -&gt; {\r\n            jf.setVisible(true);\r\n            jf.setLocationRelativeTo(null);\r\n        });\r\n    }\r\n\r\n    private void readInFileData() {\r\n        if (!dataFilePath.isEmpty()) {\r\n            InputFile loanInfo = new InputFile(dataFilePath);\r\n            while (!loanInfo.eof()) {\r\n                this.customerName = loanInfo.readString();\r\n                this.customerAddress = loanInfo.readString();\r\n                this.customerCity = loanInfo.readString();\r\n                this.customerState = loanInfo.readString();\r\n                this.customerZip = loanInfo.readString();\r\n                this.customerCountry = loanInfo.readString();\r\n                this.customerPhone = loanInfo.readString();\r\n                this.customerEMail = loanInfo.readString();\r\n                this.month = loanInfo.readInt();\r\n                this.day = loanInfo.readInt();\r\n                this.year = loanInfo.readInt();\r\n                this.loanAmount = loanInfo.readDouble();\r\n                this.loanInterestRate = loanInfo.readDouble();\r\n                this.loanPaymentCode = loanInfo.readInt();\r\n            }\r\n            loanInfo.close();\r\n        }\r\n    }\r\n\r\n    private void displayCompanyTitle() {\r\n        jta.append(LS + LS);\r\n        if (!companyName.isEmpty()) {\r\n            jta.append(companyName + LS);\r\n        }\r\n        if (!companyAddress.isEmpty()) {\r\n            jta.append(companyAddress + LS);\r\n        }\r\n\r\n        String[] city_State_Zip = {companyCity, companyState, companyZip};\r\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n        for (String str : city_State_Zip) {\r\n            if (!str.isEmpty()) {\r\n                if (!sb.toString().isEmpty()) {\r\n                    sb.append(&quot;, &quot;);\r\n                }\r\n                sb.append(str);\r\n            }\r\n        }\r\n        if (!sb.toString().isEmpty()) {\r\n            jta.append(sb.toString() + LS);\r\n        }\r\n\r\n        String[] country_Phone = {companyCountry, companyPhone};\r\n        sb.setLength(0);\r\n        for (String str : country_Phone) {\r\n            if (!str.isEmpty()) {\r\n                if (!sb.toString().isEmpty()) {\r\n                    sb.append(&quot;, &quot;);\r\n                }\r\n                sb.append(str);\r\n            }\r\n        }\r\n        if (!sb.toString().isEmpty()) {\r\n            jta.append(sb.toString() + LS);\r\n        }\r\n\r\n        if (!companyEMail.isEmpty()) {\r\n            jta.append(companyEMail + LS);\r\n        }\r\n    }\r\n\r\n    private void displayCustomerInfo() {\r\n        if (!customerName.isEmpty()) {\r\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, customerName));\r\n        }\r\n        if (!customerAddress.isEmpty()) {\r\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, customerAddress));\r\n        }\r\n        \r\n        String[] city_State_Zip = {customerCity, customerState, customerZip};\r\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n        for (String str : city_State_Zip) {\r\n            if (!str.isEmpty()) {\r\n                if (!sb.toString().isEmpty()) {\r\n                    sb.append(&quot;, &quot;);\r\n                }\r\n                sb.append(str);\r\n            }\r\n        }\r\n        if (!sb.toString().isEmpty()) {\r\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, sb.toString()));\r\n        }\r\n        \r\n        String[] country_Phone = {customerCountry, customerPhone};\r\n        sb.setLength(0);\r\n        for (String str : country_Phone) {\r\n            if (!str.isEmpty()) {\r\n                if (!sb.toString().isEmpty()) {\r\n                    sb.append(&quot;, &quot;);\r\n                }\r\n                sb.append(str);\r\n            }\r\n        }\r\n        if (!sb.toString().isEmpty()) {\r\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, sb.toString()));\r\n        }\r\n        \r\n        if (!customerEMail.isEmpty()) {\r\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, customerEMail));\r\n        }        \r\n    }\r\n\r\n    private void displayAmountAndInterestRate() {\r\n        DecimalFormat numFormat = new DecimalFormat(&quot;0.00&quot;);\r\n        NumberFormat currencyFormat;\r\n        currencyFormat = NumberFormat.getCurrencyInstance();\r\n        jta.append(LS);\r\n        //DecimalFormat amountFormat = new DecimalFormat(&quot;###,###.00&quot;);\r\n        jta.append(String.format(&quot;%-30s %12s%n&quot;, &quot;LOAN AMOUNT:&quot;, currencyFormat.format(loanAmount)));\r\n        //DecimalFormat rateFormat = new DecimalFormat(&quot;##.00&quot;);\r\n        jta.append(String.format(&quot;%-30s %12s %30s %2d %n%n&quot;, &quot;INTEREST RATE:&quot;,\r\n                numFormat.format(loanInterestRate) + &quot;%&quot;, &quot;PMT CODE:&quot;, loanPaymentCode));\r\n    }\r\n\r\n    private void displayHeader() {\r\n        String header = String.format(&quot;%-10s %15s %15s %15s %15s %15s%n&quot;,\r\n                &quot;Payment #&quot;, &quot;Due Date&quot;, &quot;Payment&quot;, &quot;Interest&quot;,\r\n                &quot;Principle&quot;, &quot;Balance&quot;);\r\n        String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;));\r\n\r\n        jta.append(underline + LS);\r\n        jta.append(header);\r\n        jta.append(underline + LS);\r\n    }\r\n\r\n    public void displayTable(double amount) {\r\n        int paymentNumber;\r\n\r\n        double payment = 0, interest, principal, balance;\r\n\r\n        DecimalFormat numFormat;\r\n        numFormat = new DecimalFormat(&quot;0.00&quot;);\r\n        NumberFormat currencyFormat;\r\n        currencyFormat = NumberFormat.getCurrencyInstance();\r\n        balance = amount;\r\n        paymentNumber = 0;\r\n        double totalPayment = 0;\r\n        double totalIntPaid = 0;\r\n        while (balance &gt; 0.0d) {\r\n\r\n            paymentNumber++;\r\n            String dueDate = calcDueDate(month, day, year, paymentNumber);\r\n            interest = calcInterest(balance, loanInterestRate);\r\n            if (balance &lt;= payment) {\r\n                payment = balance;\r\n                principal = balance;\r\n                balance = 0;\r\n            }\r\n            else {\r\n                payment = calcPayment(loanPaymentCode, amount);\r\n                principal = calcPrincipal(payment, interest);\r\n                balance = calcBalance(balance, principal);\r\n            }\r\n            totalPayment = totalPayment + payment;\r\n            totalIntPaid = totalIntPaid + interest;\r\n            String paymentString = String.format(&quot;%8d %19s %13s %15s %15s %15s%n&quot;,\r\n                    paymentNumber, dueDate, &quot;$&quot; + numFormat.format(payment),\r\n                    currencyFormat.format(interest), currencyFormat.format(principal),\r\n                    (balance == 0d ? &quot;(&quot; + currencyFormat.format(balance) + &quot;)&quot; : \r\n                            currencyFormat.format(balance)));\r\n            jta.append(paymentString);\r\n\r\n        }\r\n\r\n        jta.append(LS);\r\n        jta.append(String.format(&quot;%17s %10s %13s %15s%n&quot;, &quot; &quot;, &quot;Totals:&quot;,\r\n                currencyFormat.format(totalPayment),\r\n                currencyFormat.format(totalIntPaid)));\r\n        jta.append(LS);\r\n\r\n    }\r\n\r\n    public static double calcPayment(int code, double amount) {\r\n        double payment;\r\n        payment = 0;\r\n\r\n        switch (code) {\r\n            case 0:\r\n                payment = 50.00;\r\n                break;\r\n            case 1:\r\n                payment = 55.00;\r\n                break;\r\n            case 2:\r\n                payment = 75.00;\r\n                break;\r\n            case 3:\r\n                payment = 100.00;\r\n                break;\r\n            case 4:\r\n                payment = .05 * amount;\r\n                break;\r\n            case 5:\r\n                payment = .06 * amount;\r\n                break;\r\n            case 6:\r\n                payment = .05 * amount;\r\n                break;\r\n            case 7:\r\n                payment = .04 * amount;\r\n                break;\r\n            case 8:\r\n                payment = .03 * amount;\r\n                break;\r\n            case 9:\r\n                payment = .02 * amount;\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Bad payment code&quot;);\r\n        }\r\n        return payment;\r\n    }\r\n\r\n    public static double calcInterest(double balance, double rate) {\r\n        double interest;\r\n        interest = (((rate / 12d) * balance) / 100.0d);\r\n        return interest;\r\n    }\r\n\r\n    public static double calcPrincipal(double payment, double interest) {\r\n        double principal;\r\n        principal = payment - interest;\r\n        return principal;\r\n    }\r\n\r\n    public static double calcBalance(double balance, double principal) {\r\n        balance -= principal;\r\n        return balance;\r\n    }\r\n\r\n    public static String calcDueDate(int month, int day, int year, int payNum) {\r\n        String monthStr = &quot;&quot;;\r\n        month = month + payNum - 1;\r\n        year = year + (month / 12);\r\n        month = month % 12;\r\n        if (month == 0) {\r\n            year--;\r\n        }\r\n        switch (month) {\r\n            case 1:\r\n                monthStr = &quot;Jan&quot;;\r\n                break;\r\n            case 2:\r\n                monthStr = &quot;Feb&quot;;\r\n                break;\r\n            case 3:\r\n                monthStr = &quot;Mar&quot;;\r\n                break;\r\n            case 4:\r\n                monthStr = &quot;Apr&quot;;\r\n                break;\r\n            case 5:\r\n                monthStr = &quot;May&quot;;\r\n                break;\r\n            case 6:\r\n                monthStr = &quot;Jun&quot;;\r\n                break;\r\n            case 7:\r\n                monthStr = &quot;Jul&quot;;\r\n                break;\r\n            case 8:\r\n                monthStr = &quot;Aug&quot;;\r\n                break;\r\n            case 9:\r\n                monthStr = &quot;Sep&quot;;\r\n                break;\r\n            case 10:\r\n                monthStr = &quot;Oct&quot;;\r\n                break;\r\n            case 11:\r\n                monthStr = &quot;Nov&quot;;\r\n                break;\r\n            case 0:\r\n                monthStr = &quot;Dec&quot;;\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Invalid month: &quot; + month);\r\n\r\n        }\r\n        return monthStr + &quot; &quot; + day + &quot;, &quot; + year;\r\n    }\r\n\r\n    private void printReport() {\r\n        PrintRequestAttributeSet attr = null;\r\n        MessageFormat header = new MessageFormat(reportHeader);\r\n        MessageFormat footer = new MessageFormat(reportFooter);\r\n        jta.setFont(new Font(&quot;Monospaced&quot;, jta.getFont().getStyle(), 10));\r\n        jf.setAlwaysOnTop(false);\r\n        try {\r\n            PrinterJob pj = PrinterJob.getPrinterJob();\r\n            PageFormat pf = pj.defaultPage();\r\n            Paper paper = new Paper();\r\n            double margin = 0;\r\n\r\n            // Left, Top, Right, Bottom \r\n            paper.setImageableArea(margin, margin, paper.getWidth() - 5.0d, paper.getHeight());\r\n            pf.setPaper(paper);\r\n\r\n            //pj.setPrintable(new MyPrintable(jta), pf);\r\n            pj.setPrintable(jta.getPrintable(header, footer), pf);\r\n\r\n            if (attr == null) {\r\n                boolean portrait = true;\r\n                Insets insets = new Insets(10, 10, 10, 10);\r\n                attr = new HashPrintRequestAttributeSet();\r\n                float leftMargin = insets.left;\r\n                float rightMargin = insets.right;\r\n                float topMargin = insets.top;\r\n                float bottomMargin = insets.bottom;\r\n                if (portrait) {\r\n                    attr.add(OrientationRequested.PORTRAIT);\r\n                }\r\n                else {\r\n                    attr.add(OrientationRequested.LANDSCAPE);\r\n                    leftMargin = insets.top;\r\n                    rightMargin = insets.bottom;\r\n                    topMargin = insets.right;\r\n                    bottomMargin = insets.left;\r\n                }\r\n                attr.add(MediaSizeName.NA_LETTER);\r\n                MediaSize mediaSize = MediaSize.NA.LETTER;\r\n                float mediaWidth = mediaSize.getX(Size2DSyntax.MM);\r\n                float mediaHeight = mediaSize.getY(Size2DSyntax.MM);\r\n                attr.add(new MediaPrintableArea(\r\n                        leftMargin, topMargin,\r\n                        (mediaWidth - leftMargin - rightMargin),\r\n                        (mediaHeight - topMargin - bottomMargin), Size2DSyntax.MM));\r\n            }\r\n            \r\n            boolean printComplete = false;\r\n            if (pj.printDialog()) {\r\n                pj.print(attr);\r\n                printComplete = true;\r\n            }\r\n\r\n            if (printComplete) {\r\n                JOptionPane.showMessageDialog(jta, &quot;You can pick up your report from the printer!&quot;,\r\n                        &quot;Print Job Completered&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n            }\r\n            else {\r\n                JOptionPane.showMessageDialog(jta, &quot;Print Job Canceled!&quot;,\r\n                        &quot;Print Canceled!&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n            }\r\n        }\r\n        catch (PrinterException ex) {\r\n            java.util.logging.Logger.getLogger(LoanPaymentsReport.class.getName())\r\n                                    .log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        jta.setFont(new Font(&quot;Monospaced&quot;, jta.getFont().getStyle(), 12));\r\n        jf.setAlwaysOnTop(true);\r\n    }\r\n\r\n    /* Inner class for a custom Printable for the JTextArea we will print.\r\n       This class is used within the printReport() method only.       */\r\n    class MyPrintable implements Printable {\r\n\r\n        JTextArea str;\r\n\r\n        MyPrintable(JTextArea getStr) {\r\n            str = getStr;\r\n        }\r\n\r\n        @Override\r\n        public int print(Graphics g, PageFormat pf, int pageIndex) {\r\n            if (pageIndex != 0) {\r\n                return NO_SUCH_PAGE;\r\n            }\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            g2.translate(pf.getImageableX(), pf.getImageableY());\r\n            Rectangle componentBounds = str.getBounds(null);\r\n            g2.translate(-componentBounds.x, -componentBounds.y);\r\n            g2.scale(1, 1);\r\n            boolean wasBuffered = str.isDoubleBuffered();\r\n            str.paint(g2);\r\n            str.setDoubleBuffered(wasBuffered);\r\n            return PAGE_EXISTS;\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    // GETTERS &amp; SETTERS\r\n    public JFrame getFrame() {\r\n        return jf;\r\n    }\r\n\r\n    public JTextArea getTextArea() {\r\n        return jta;\r\n    }\r\n\r\n    public JScrollPane getScrollPane() {\r\n        return jsp;\r\n    }\r\n\r\n    public String getCompanyName() {\r\n        return companyName;\r\n    }\r\n\r\n    public void setCompanyName(String companyName) {\r\n        this.companyName = companyName;\r\n    }\r\n\r\n    public String getCompanyAddress() {\r\n        return companyAddress;\r\n    }\r\n\r\n    public void setCompanyAddress(String companyAddress) {\r\n        this.companyAddress = companyAddress;\r\n    }\r\n\r\n    public String getCompanyCity() {\r\n        return companyCity;\r\n    }\r\n\r\n    public void setCompanyCity(String companyCity) {\r\n        this.companyCity = companyCity;\r\n    }\r\n\r\n    public String getCompanyState() {\r\n        return companyState;\r\n    }\r\n\r\n    public void setCompanyState(String companyState) {\r\n        this.companyState = companyState;\r\n    }\r\n\r\n    public String getCompanyZip() {\r\n        return companyZip;\r\n    }\r\n\r\n    public void setCompanyZip(String companyZip) {\r\n        this.companyZip = companyZip;\r\n    }\r\n\r\n    public String getCompanyCountry() {\r\n        return companyCountry;\r\n    }\r\n\r\n    public void setCompanyCountry(String companyCountry) {\r\n        this.companyCountry = companyCountry;\r\n    }\r\n\r\n    public String getCompanyPhone() {\r\n        return companyPhone;\r\n    }\r\n\r\n    public void setCompanyPhone(String companyPhone) {\r\n        this.companyPhone = companyPhone;\r\n    }\r\n\r\n    public String getCompanyEMail() {\r\n        return companyEMail;\r\n    }\r\n\r\n    public void setCompanyEMail(String companyEMail) {\r\n        this.companyEMail = companyEMail;\r\n    }\r\n\r\n    public void setCompanyInfo(String[] companyInfo) {\r\n        setCompanyName(companyInfo[0]);\r\n        setCompanyAddress(companyInfo[1]);\r\n        setCompanyCity(companyInfo[2]);\r\n        setCompanyState(companyInfo[3]);\r\n        setCompanyZip(companyInfo[4]);\r\n        setCompanyCountry(companyInfo[5]);\r\n        setCompanyPhone(companyInfo[6]);\r\n        setCompanyEMail(companyInfo[7]);\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getCustomerAddress() {\r\n        return customerAddress;\r\n    }\r\n\r\n    public void setCustomerAddress(String customerAddress) {\r\n        this.customerAddress = customerAddress;\r\n    }\r\n\r\n    public String getCustomerCity() {\r\n        return customerCity;\r\n    }\r\n\r\n    public void setCustomerCity(String customerCity) {\r\n        this.customerCity = customerCity;\r\n    }\r\n\r\n    public String getCustomerState() {\r\n        return customerState;\r\n    }\r\n\r\n    public void setCustomerState(String customerState) {\r\n        this.customerState = customerState;\r\n    }\r\n\r\n    public String getCustomerZip() {\r\n        return customerZip;\r\n    }\r\n\r\n    public void setCustomerZip(String customerZip) {\r\n        this.customerZip = customerZip;\r\n    }\r\n\r\n    public String getCustomerCountry() {\r\n        return customerCountry;\r\n    }\r\n\r\n    public void setCustomerCountry(String customerCountry) {\r\n        this.customerCountry = customerCountry;\r\n    }\r\n\r\n    public String getCustomerPhone() {\r\n        return customerPhone;\r\n    }\r\n\r\n    public void setCustomerPhone(String customerPhone) {\r\n        this.customerPhone = customerPhone;\r\n    }\r\n\r\n    public String getCustomerEMail() {\r\n        return customerEMail;\r\n    }\r\n\r\n    public void setCustomerEMail(String customerEMail) {\r\n        this.customerEMail = customerEMail;\r\n    }\r\n    \r\n    public String getDataFilePath() {\r\n        return dataFilePath;\r\n    }\r\n\r\n    public void setDataFilePath(String dataFilePath) {\r\n        this.dataFilePath = dataFilePath;\r\n    }\r\n\r\n    public int getMonth() {\r\n        return month;\r\n    }\r\n\r\n    public void setMonth(int month) {\r\n        this.month = month;\r\n    }\r\n\r\n    public int getDay() {\r\n        return day;\r\n    }\r\n\r\n    public void setDay(int day) {\r\n        this.day = day;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public int getLoanPaymentCode() {\r\n        return loanPaymentCode;\r\n    }\r\n\r\n    public void setLoanPaymentCode(int loanPaymentCode) {\r\n        this.loanPaymentCode = loanPaymentCode;\r\n    }\r\n\r\n    public double getLoanAmount() {\r\n        return loanAmount;\r\n    }\r\n\r\n    public void setLoanAmount(double loanAmount) {\r\n        this.loanAmount = loanAmount;\r\n    }\r\n\r\n    public double getLoanInterestRate() {\r\n        return loanInterestRate;\r\n    }\r\n\r\n    public void setLoanInterestRate(double loanInterestRate) {\r\n        this.loanInterestRate = loanInterestRate;\r\n    }\r\n\r\n    public String getReportHeader() {\r\n        return reportHeader;\r\n    }\r\n\r\n    public void setReportHeader(String reportHeader) {\r\n        this.reportHeader = reportHeader;\r\n    }\r\n\r\n    public String getReportFooter() {\r\n        return reportFooter;\r\n    }\r\n\r\n    public void setReportFooter(String reportFooter) {\r\n        this.reportFooter = reportFooter;\r\n    }\r\n}\r\n```","title":"Outputting a report with a header and a table in java","body":"<p>The <strong>LoanPaymentsReport</strong> Class:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Insets;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Paper;\nimport java.awt.print.Printable;\nimport java.awt.print.PrinterException;\nimport java.awt.print.PrinterJob;\nimport java.text.*;\nimport java.time.LocalDate;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\nimport javax.print.attribute.PrintRequestAttributeSet;\nimport javax.print.attribute.Size2DSyntax;\nimport javax.print.attribute.standard.MediaPrintableArea;\nimport javax.print.attribute.standard.MediaSize;\nimport javax.print.attribute.standard.MediaSizeName;\nimport javax.print.attribute.standard.OrientationRequested;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.border.Border;\n\npublic class LoanPaymentsReport {\n\n    private final String LS = System.lineSeparator();\n\n    private JFrame jf;\n    private JTextArea jta;\n    private JScrollPane jsp;\n\n    private String companyName = &quot;&quot;, companyAddress = &quot;&quot;, companyCity = &quot;&quot;,\n                   companyState = &quot;&quot;, companyZip = &quot;&quot;, companyCountry = &quot;&quot;,\n                   companyPhone = &quot;&quot;, companyEMail = &quot;&quot;;\n    \n    private String customerName = &quot;&quot;, customerAddress = &quot;&quot;, customerCity = &quot;&quot;,\n                   customerState = &quot;&quot;, customerZip = &quot;&quot;, customerCountry = &quot;&quot;, \n                   customerPhone = &quot;&quot;, customerEMail = &quot;&quot;;\n\n    private String dataFilePath = &quot;&quot;;\n\n    // Report Header Text (Null String (&quot;&quot;) for no Header):\n    private String reportHeader = &quot;&quot;;\n    // Report Footer. (Null String (&quot;&quot;) for no Footer): \n    private String reportFooter = &quot;&quot;; //&quot;Page {0}&quot; for page number in footer. \n\n    private int month, day, year, loanPaymentCode;\n    private double loanAmount, loanInterestRate;\n\n    \n    // Contructor #1:\n    public LoanPaymentsReport() {\n        initForm();\n    }\n\n    // Contructor #2:\n    public LoanPaymentsReport(double loanAmount, double interestRate, int paymentCode, Integer... dateOptions) {\n        int opMonth = LocalDate.now().getMonthValue();\n        int opDay = 1;\n        int opYear = LocalDate.now().getYear();\n        if (dateOptions.length &gt; 0) {\n            if (dateOptions.length &gt;= 1) {\n                if (dateOptions[0] == null || dateOptions[0] &lt; 1 || dateOptions[0] &gt; 12) {\n                    opMonth = LocalDate.now().getMonthValue();\n                }\n                else {\n                    opMonth = dateOptions[0];\n                }\n                opDay = 1;\n                opYear = LocalDate.now().getYear();\n                if (dateOptions.length &gt;= 2) {\n                    if (dateOptions[1] == null || dateOptions[1] &lt; 1 || dateOptions[1] &gt; 31) {\n                        opDay = 1;\n                    }\n                    else {\n                        opDay = dateOptions[1];\n                    }\n                    opYear = LocalDate.now().getYear();\n                    if (dateOptions.length &gt;= 3) {\n                        if (dateOptions[2] == null || dateOptions[2] &lt; 1800 || dateOptions[2] &gt; 2500) {\n                            opYear = LocalDate.now().getYear();\n                        }\n                        else {\n                            opYear = dateOptions[2];\n                        }\n                    }\n                }\n            }\n        }\n        \n        this.loanAmount = loanAmount;\n        this.loanInterestRate = interestRate;\n        this.loanPaymentCode = paymentCode;\n        this.month = opMonth;\n        this.day = opDay;\n        this.year = opYear;\n        initForm();\n    }\n    \n    // Contructor #3:\n    public LoanPaymentsReport(String dataFilePath) {\n        this.dataFilePath = dataFilePath;\n        initForm();\n    }\n\n    \n    private void initForm() {\n        jf = new JFrame();\n        jf.setTitle(&quot;Loan Payments Report&quot;);\n        jf.setAlwaysOnTop(true);\n        jf.setSize(720, 550);\n        jf.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        jf.setLayout(new BorderLayout());\n        jf.getContentPane().setBackground(Color.decode(&quot;#F4F3F1&quot;));\n\n        jta = new JTextArea();\n        jta.setEditable(false);\n        jta.setFont(new Font(&quot;Monospaced&quot;, jta.getFont().getStyle(), 12));\n        // Set margins in TextArea\n        Border border = BorderFactory.createLineBorder(Color.white, 1);\n        jta.setBorder(BorderFactory.createCompoundBorder(border,\n                BorderFactory.createEmptyBorder(10, 20, 10, 10)));\n\n        jsp = new JScrollPane(jta);\n        jsp.setBorder(BorderFactory.createLineBorder(Color.black, 3));\n        jsp.setPreferredSize(new Dimension(680, 450));\n        jf.add(jsp, BorderLayout.NORTH);\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setPreferredSize(new Dimension(jf.getWidth(), 50));\n        buttonPanel.setOpaque(true);\n        buttonPanel.setBackground(Color.decode(&quot;#F4F3F1&quot;));  // A very light gray\n\n        // Form Buttons\n        JButton printButton = new JButton(&quot;Print&quot;);\n        printButton.addActionListener((ActionEvent e) -&gt; {\n            printReport();\n        });\n        buttonPanel.add(printButton);\n\n        JButton closeButton = new JButton(&quot;Close&quot;);\n        closeButton.addActionListener((ActionEvent e) -&gt; {\n            int res = JOptionPane.showConfirmDialog(jta,\n                    &quot;&lt;html&gt;Are you &lt;font color=red&gt;&lt;b&gt;sure&lt;/b&gt;&lt;/font&gt; you want to close report?&quot;,\n                    &quot;Close Report?&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);\n            if (res == JOptionPane.YES_OPTION) {\n                jf.dispose();\n            }\n        });\n        buttonPanel.add(closeButton);\n\n        jf.add(buttonPanel, BorderLayout.SOUTH);\n    }\n\n    public void show() {\n        readInFileData();\n        displayCompanyTitle();\n        displayCustomerInfo();\n        displayAmountAndInterestRate();\n        displayHeader();\n        displayTable(loanAmount);\n\n        java.awt.EventQueue.invokeLater(() -&gt; {\n            jf.setVisible(true);\n            jf.setLocationRelativeTo(null);\n        });\n    }\n\n    private void readInFileData() {\n        if (!dataFilePath.isEmpty()) {\n            InputFile loanInfo = new InputFile(dataFilePath);\n            while (!loanInfo.eof()) {\n                this.customerName = loanInfo.readString();\n                this.customerAddress = loanInfo.readString();\n                this.customerCity = loanInfo.readString();\n                this.customerState = loanInfo.readString();\n                this.customerZip = loanInfo.readString();\n                this.customerCountry = loanInfo.readString();\n                this.customerPhone = loanInfo.readString();\n                this.customerEMail = loanInfo.readString();\n                this.month = loanInfo.readInt();\n                this.day = loanInfo.readInt();\n                this.year = loanInfo.readInt();\n                this.loanAmount = loanInfo.readDouble();\n                this.loanInterestRate = loanInfo.readDouble();\n                this.loanPaymentCode = loanInfo.readInt();\n            }\n            loanInfo.close();\n        }\n    }\n\n    private void displayCompanyTitle() {\n        jta.append(LS + LS);\n        if (!companyName.isEmpty()) {\n            jta.append(companyName + LS);\n        }\n        if (!companyAddress.isEmpty()) {\n            jta.append(companyAddress + LS);\n        }\n\n        String[] city_State_Zip = {companyCity, companyState, companyZip};\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n        for (String str : city_State_Zip) {\n            if (!str.isEmpty()) {\n                if (!sb.toString().isEmpty()) {\n                    sb.append(&quot;, &quot;);\n                }\n                sb.append(str);\n            }\n        }\n        if (!sb.toString().isEmpty()) {\n            jta.append(sb.toString() + LS);\n        }\n\n        String[] country_Phone = {companyCountry, companyPhone};\n        sb.setLength(0);\n        for (String str : country_Phone) {\n            if (!str.isEmpty()) {\n                if (!sb.toString().isEmpty()) {\n                    sb.append(&quot;, &quot;);\n                }\n                sb.append(str);\n            }\n        }\n        if (!sb.toString().isEmpty()) {\n            jta.append(sb.toString() + LS);\n        }\n\n        if (!companyEMail.isEmpty()) {\n            jta.append(companyEMail + LS);\n        }\n    }\n\n    private void displayCustomerInfo() {\n        if (!customerName.isEmpty()) {\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, customerName));\n        }\n        if (!customerAddress.isEmpty()) {\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, customerAddress));\n        }\n        \n        String[] city_State_Zip = {customerCity, customerState, customerZip};\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n        for (String str : city_State_Zip) {\n            if (!str.isEmpty()) {\n                if (!sb.toString().isEmpty()) {\n                    sb.append(&quot;, &quot;);\n                }\n                sb.append(str);\n            }\n        }\n        if (!sb.toString().isEmpty()) {\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, sb.toString()));\n        }\n        \n        String[] country_Phone = {customerCountry, customerPhone};\n        sb.setLength(0);\n        for (String str : country_Phone) {\n            if (!str.isEmpty()) {\n                if (!sb.toString().isEmpty()) {\n                    sb.append(&quot;, &quot;);\n                }\n                sb.append(str);\n            }\n        }\n        if (!sb.toString().isEmpty()) {\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, sb.toString()));\n        }\n        \n        if (!customerEMail.isEmpty()) {\n            jta.append(String.format(&quot;%-65s%-20s%n&quot;, &quot; &quot;, customerEMail));\n        }        \n    }\n\n    private void displayAmountAndInterestRate() {\n        DecimalFormat numFormat = new DecimalFormat(&quot;0.00&quot;);\n        NumberFormat currencyFormat;\n        currencyFormat = NumberFormat.getCurrencyInstance();\n        jta.append(LS);\n        //DecimalFormat amountFormat = new DecimalFormat(&quot;###,###.00&quot;);\n        jta.append(String.format(&quot;%-30s %12s%n&quot;, &quot;LOAN AMOUNT:&quot;, currencyFormat.format(loanAmount)));\n        //DecimalFormat rateFormat = new DecimalFormat(&quot;##.00&quot;);\n        jta.append(String.format(&quot;%-30s %12s %30s %2d %n%n&quot;, &quot;INTEREST RATE:&quot;,\n                numFormat.format(loanInterestRate) + &quot;%&quot;, &quot;PMT CODE:&quot;, loanPaymentCode));\n    }\n\n    private void displayHeader() {\n        String header = String.format(&quot;%-10s %15s %15s %15s %15s %15s%n&quot;,\n                &quot;Payment #&quot;, &quot;Due Date&quot;, &quot;Payment&quot;, &quot;Interest&quot;,\n                &quot;Principle&quot;, &quot;Balance&quot;);\n        String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;));\n\n        jta.append(underline + LS);\n        jta.append(header);\n        jta.append(underline + LS);\n    }\n\n    public void displayTable(double amount) {\n        int paymentNumber;\n\n        double payment = 0, interest, principal, balance;\n\n        DecimalFormat numFormat;\n        numFormat = new DecimalFormat(&quot;0.00&quot;);\n        NumberFormat currencyFormat;\n        currencyFormat = NumberFormat.getCurrencyInstance();\n        balance = amount;\n        paymentNumber = 0;\n        double totalPayment = 0;\n        double totalIntPaid = 0;\n        while (balance &gt; 0.0d) {\n\n            paymentNumber++;\n            String dueDate = calcDueDate(month, day, year, paymentNumber);\n            interest = calcInterest(balance, loanInterestRate);\n            if (balance &lt;= payment) {\n                payment = balance;\n                principal = balance;\n                balance = 0;\n            }\n            else {\n                payment = calcPayment(loanPaymentCode, amount);\n                principal = calcPrincipal(payment, interest);\n                balance = calcBalance(balance, principal);\n            }\n            totalPayment = totalPayment + payment;\n            totalIntPaid = totalIntPaid + interest;\n            String paymentString = String.format(&quot;%8d %19s %13s %15s %15s %15s%n&quot;,\n                    paymentNumber, dueDate, &quot;$&quot; + numFormat.format(payment),\n                    currencyFormat.format(interest), currencyFormat.format(principal),\n                    (balance == 0d ? &quot;(&quot; + currencyFormat.format(balance) + &quot;)&quot; : \n                            currencyFormat.format(balance)));\n            jta.append(paymentString);\n\n        }\n\n        jta.append(LS);\n        jta.append(String.format(&quot;%17s %10s %13s %15s%n&quot;, &quot; &quot;, &quot;Totals:&quot;,\n                currencyFormat.format(totalPayment),\n                currencyFormat.format(totalIntPaid)));\n        jta.append(LS);\n\n    }\n\n    public static double calcPayment(int code, double amount) {\n        double payment;\n        payment = 0;\n\n        switch (code) {\n            case 0:\n                payment = 50.00;\n                break;\n            case 1:\n                payment = 55.00;\n                break;\n            case 2:\n                payment = 75.00;\n                break;\n            case 3:\n                payment = 100.00;\n                break;\n            case 4:\n                payment = .05 * amount;\n                break;\n            case 5:\n                payment = .06 * amount;\n                break;\n            case 6:\n                payment = .05 * amount;\n                break;\n            case 7:\n                payment = .04 * amount;\n                break;\n            case 8:\n                payment = .03 * amount;\n                break;\n            case 9:\n                payment = .02 * amount;\n                break;\n            default:\n                System.out.println(&quot;Bad payment code&quot;);\n        }\n        return payment;\n    }\n\n    public static double calcInterest(double balance, double rate) {\n        double interest;\n        interest = (((rate / 12d) * balance) / 100.0d);\n        return interest;\n    }\n\n    public static double calcPrincipal(double payment, double interest) {\n        double principal;\n        principal = payment - interest;\n        return principal;\n    }\n\n    public static double calcBalance(double balance, double principal) {\n        balance -= principal;\n        return balance;\n    }\n\n    public static String calcDueDate(int month, int day, int year, int payNum) {\n        String monthStr = &quot;&quot;;\n        month = month + payNum - 1;\n        year = year + (month / 12);\n        month = month % 12;\n        if (month == 0) {\n            year--;\n        }\n        switch (month) {\n            case 1:\n                monthStr = &quot;Jan&quot;;\n                break;\n            case 2:\n                monthStr = &quot;Feb&quot;;\n                break;\n            case 3:\n                monthStr = &quot;Mar&quot;;\n                break;\n            case 4:\n                monthStr = &quot;Apr&quot;;\n                break;\n            case 5:\n                monthStr = &quot;May&quot;;\n                break;\n            case 6:\n                monthStr = &quot;Jun&quot;;\n                break;\n            case 7:\n                monthStr = &quot;Jul&quot;;\n                break;\n            case 8:\n                monthStr = &quot;Aug&quot;;\n                break;\n            case 9:\n                monthStr = &quot;Sep&quot;;\n                break;\n            case 10:\n                monthStr = &quot;Oct&quot;;\n                break;\n            case 11:\n                monthStr = &quot;Nov&quot;;\n                break;\n            case 0:\n                monthStr = &quot;Dec&quot;;\n                break;\n            default:\n                System.out.println(&quot;Invalid month: &quot; + month);\n\n        }\n        return monthStr + &quot; &quot; + day + &quot;, &quot; + year;\n    }\n\n    private void printReport() {\n        PrintRequestAttributeSet attr = null;\n        MessageFormat header = new MessageFormat(reportHeader);\n        MessageFormat footer = new MessageFormat(reportFooter);\n        jta.setFont(new Font(&quot;Monospaced&quot;, jta.getFont().getStyle(), 10));\n        jf.setAlwaysOnTop(false);\n        try {\n            PrinterJob pj = PrinterJob.getPrinterJob();\n            PageFormat pf = pj.defaultPage();\n            Paper paper = new Paper();\n            double margin = 0;\n\n            // Left, Top, Right, Bottom \n            paper.setImageableArea(margin, margin, paper.getWidth() - 5.0d, paper.getHeight());\n            pf.setPaper(paper);\n\n            //pj.setPrintable(new MyPrintable(jta), pf);\n            pj.setPrintable(jta.getPrintable(header, footer), pf);\n\n            if (attr == null) {\n                boolean portrait = true;\n                Insets insets = new Insets(10, 10, 10, 10);\n                attr = new HashPrintRequestAttributeSet();\n                float leftMargin = insets.left;\n                float rightMargin = insets.right;\n                float topMargin = insets.top;\n                float bottomMargin = insets.bottom;\n                if (portrait) {\n                    attr.add(OrientationRequested.PORTRAIT);\n                }\n                else {\n                    attr.add(OrientationRequested.LANDSCAPE);\n                    leftMargin = insets.top;\n                    rightMargin = insets.bottom;\n                    topMargin = insets.right;\n                    bottomMargin = insets.left;\n                }\n                attr.add(MediaSizeName.NA_LETTER);\n                MediaSize mediaSize = MediaSize.NA.LETTER;\n                float mediaWidth = mediaSize.getX(Size2DSyntax.MM);\n                float mediaHeight = mediaSize.getY(Size2DSyntax.MM);\n                attr.add(new MediaPrintableArea(\n                        leftMargin, topMargin,\n                        (mediaWidth - leftMargin - rightMargin),\n                        (mediaHeight - topMargin - bottomMargin), Size2DSyntax.MM));\n            }\n            \n            boolean printComplete = false;\n            if (pj.printDialog()) {\n                pj.print(attr);\n                printComplete = true;\n            }\n\n            if (printComplete) {\n                JOptionPane.showMessageDialog(jta, &quot;You can pick up your report from the printer!&quot;,\n                        &quot;Print Job Completered&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n            else {\n                JOptionPane.showMessageDialog(jta, &quot;Print Job Canceled!&quot;,\n                        &quot;Print Canceled!&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        }\n        catch (PrinterException ex) {\n            java.util.logging.Logger.getLogger(LoanPaymentsReport.class.getName())\n                                    .log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        jta.setFont(new Font(&quot;Monospaced&quot;, jta.getFont().getStyle(), 12));\n        jf.setAlwaysOnTop(true);\n    }\n\n    /* Inner class for a custom Printable for the JTextArea we will print.\n       This class is used within the printReport() method only.       */\n    class MyPrintable implements Printable {\n\n        JTextArea str;\n\n        MyPrintable(JTextArea getStr) {\n            str = getStr;\n        }\n\n        @Override\n        public int print(Graphics g, PageFormat pf, int pageIndex) {\n            if (pageIndex != 0) {\n                return NO_SUCH_PAGE;\n            }\n            Graphics2D g2 = (Graphics2D) g;\n            g2.translate(pf.getImageableX(), pf.getImageableY());\n            Rectangle componentBounds = str.getBounds(null);\n            g2.translate(-componentBounds.x, -componentBounds.y);\n            g2.scale(1, 1);\n            boolean wasBuffered = str.isDoubleBuffered();\n            str.paint(g2);\n            str.setDoubleBuffered(wasBuffered);\n            return PAGE_EXISTS;\n        }\n\n    }\n\n    \n    // GETTERS &amp; SETTERS\n    public JFrame getFrame() {\n        return jf;\n    }\n\n    public JTextArea getTextArea() {\n        return jta;\n    }\n\n    public JScrollPane getScrollPane() {\n        return jsp;\n    }\n\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    public String getCompanyAddress() {\n        return companyAddress;\n    }\n\n    public void setCompanyAddress(String companyAddress) {\n        this.companyAddress = companyAddress;\n    }\n\n    public String getCompanyCity() {\n        return companyCity;\n    }\n\n    public void setCompanyCity(String companyCity) {\n        this.companyCity = companyCity;\n    }\n\n    public String getCompanyState() {\n        return companyState;\n    }\n\n    public void setCompanyState(String companyState) {\n        this.companyState = companyState;\n    }\n\n    public String getCompanyZip() {\n        return companyZip;\n    }\n\n    public void setCompanyZip(String companyZip) {\n        this.companyZip = companyZip;\n    }\n\n    public String getCompanyCountry() {\n        return companyCountry;\n    }\n\n    public void setCompanyCountry(String companyCountry) {\n        this.companyCountry = companyCountry;\n    }\n\n    public String getCompanyPhone() {\n        return companyPhone;\n    }\n\n    public void setCompanyPhone(String companyPhone) {\n        this.companyPhone = companyPhone;\n    }\n\n    public String getCompanyEMail() {\n        return companyEMail;\n    }\n\n    public void setCompanyEMail(String companyEMail) {\n        this.companyEMail = companyEMail;\n    }\n\n    public void setCompanyInfo(String[] companyInfo) {\n        setCompanyName(companyInfo[0]);\n        setCompanyAddress(companyInfo[1]);\n        setCompanyCity(companyInfo[2]);\n        setCompanyState(companyInfo[3]);\n        setCompanyZip(companyInfo[4]);\n        setCompanyCountry(companyInfo[5]);\n        setCompanyPhone(companyInfo[6]);\n        setCompanyEMail(companyInfo[7]);\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getCustomerAddress() {\n        return customerAddress;\n    }\n\n    public void setCustomerAddress(String customerAddress) {\n        this.customerAddress = customerAddress;\n    }\n\n    public String getCustomerCity() {\n        return customerCity;\n    }\n\n    public void setCustomerCity(String customerCity) {\n        this.customerCity = customerCity;\n    }\n\n    public String getCustomerState() {\n        return customerState;\n    }\n\n    public void setCustomerState(String customerState) {\n        this.customerState = customerState;\n    }\n\n    public String getCustomerZip() {\n        return customerZip;\n    }\n\n    public void setCustomerZip(String customerZip) {\n        this.customerZip = customerZip;\n    }\n\n    public String getCustomerCountry() {\n        return customerCountry;\n    }\n\n    public void setCustomerCountry(String customerCountry) {\n        this.customerCountry = customerCountry;\n    }\n\n    public String getCustomerPhone() {\n        return customerPhone;\n    }\n\n    public void setCustomerPhone(String customerPhone) {\n        this.customerPhone = customerPhone;\n    }\n\n    public String getCustomerEMail() {\n        return customerEMail;\n    }\n\n    public void setCustomerEMail(String customerEMail) {\n        this.customerEMail = customerEMail;\n    }\n    \n    public String getDataFilePath() {\n        return dataFilePath;\n    }\n\n    public void setDataFilePath(String dataFilePath) {\n        this.dataFilePath = dataFilePath;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public void setMonth(int month) {\n        this.month = month;\n    }\n\n    public int getDay() {\n        return day;\n    }\n\n    public void setDay(int day) {\n        this.day = day;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public int getLoanPaymentCode() {\n        return loanPaymentCode;\n    }\n\n    public void setLoanPaymentCode(int loanPaymentCode) {\n        this.loanPaymentCode = loanPaymentCode;\n    }\n\n    public double getLoanAmount() {\n        return loanAmount;\n    }\n\n    public void setLoanAmount(double loanAmount) {\n        this.loanAmount = loanAmount;\n    }\n\n    public double getLoanInterestRate() {\n        return loanInterestRate;\n    }\n\n    public void setLoanInterestRate(double loanInterestRate) {\n        this.loanInterestRate = loanInterestRate;\n    }\n\n    public String getReportHeader() {\n        return reportHeader;\n    }\n\n    public void setReportHeader(String reportHeader) {\n        this.reportHeader = reportHeader;\n    }\n\n    public String getReportFooter() {\n        return reportFooter;\n    }\n\n    public void setReportFooter(String reportFooter) {\n        this.reportFooter = reportFooter;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26998177,"reputation":1,"user_id":20559901,"display_name":"lunar06"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669313026,"creation_date":1669091783,"question_id":74527557,"body_markdown":"I&#39;m supposed to be outputting a report in a window. I created a method for the table and header, but when I run the program they&#39;re outputting to separate windows. I know I need to create another method to display the report, but I can&#39;t figure out what the right formals are. \r\n\r\nHere&#39;s what I have and what it&#39;s supposed to look like:\r\n\r\n[enter image description here](https://i.stack.imgur.com/QY1TP.png)\r\n\r\n```\r\nimport java.text.*;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\n\r\npublic class Main\r\n{\r\n\r\n    static String name, address, city, state;\r\n    static int zip, month, date, year, code;\r\n    static double amount = 0, rate = 0;\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        InputFile loanInfo;\r\n        loanInfo = new InputFile(&quot;fcrc loan data.txt&quot;);\r\n\r\n        JFrame jf;\r\n        JTextArea jta;\r\n        JScrollPane jsp;\r\n\r\n        jf = new JFrame();\r\n        jta = new JTextArea();\r\n        jsp = new JScrollPane(jta);\r\n\r\n        jf.setSize(1200, 350);\r\n        jf.setLocation(400, 250);\r\n\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        jf.add(jsp);\r\n        jf.setVisible(true);\r\n\r\n        while (!loanInfo.eof()) \r\n        {\r\n            name = loanInfo.readString();\r\n            address = loanInfo.readString();\r\n            city = loanInfo.readString();\r\n            state = loanInfo.readWord();\r\n            zip = loanInfo.readInt();\r\n            month = loanInfo.readInt();\r\n            date = loanInfo.readInt();\r\n            year = loanInfo.readInt();\r\n            amount = loanInfo.readDouble();\r\n            rate = loanInfo.readDouble();\r\n            code = loanInfo.readInt();\r\n\r\n            displayReport();\r\n\r\n/*I know this is probably where the issue is. I just don&#39;t know what the appropriate formals are to finish the method*/\r\n\r\n\r\n        }\r\n\r\n    }\r\n    \r\n    public static void displayReport()\r\n    {\r\n        displayHeading(name, address, city, state, zip, month, date, year, amount, code, rate);\r\n        displayTable(amount);\r\n        \r\n    }\r\n\r\n    public static void displayTable(double amount)\r\n    {\r\n        int paymentNumber;\r\n\r\n        double payment = 0, interest, principal, balance;\r\n\r\n        JFrame jf;\r\n        JTextArea jta;\r\n        JScrollPane jsp;\r\n\r\n        jf = new JFrame();\r\n        jta = new JTextArea();\r\n        jsp = new JScrollPane(jta);\r\n\r\n        jf.setSize(1200, 350);\r\n        jf.setLocation(400, 250);\r\n\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        jf.add(jsp);\r\n        jf.setVisible(true);\r\n\r\n        DecimalFormat numFormat;\r\n        numFormat = new DecimalFormat(&quot;0.00&quot;);\r\n        NumberFormat currencyFormat;\r\n        currencyFormat = NumberFormat.getCurrencyInstance();\r\n        balance = amount;\r\n        paymentNumber = 0;\r\n        double totalPayment = 0;\r\n        double totalIntPaid = 0;\r\n        while (balance &gt; 0) \r\n        {\r\n\r\n            ++paymentNumber;\r\n            String dueDate = calcDueDate(month, date, year, paymentNumber - 1);\r\n            interest = calcInterest(balance, rate);\r\n            if (balance &lt;= payment) \r\n            {\r\n                payment = balance;\r\n                principal = balance;\r\n                balance = 0;\r\n            } else \r\n            {\r\n                payment = calcPayment(code, amount);\r\n                principal = calcPrincipal(payment, interest);\r\n                balance = calcBalance(balance, principal);\r\n            }\r\n            totalPayment = totalPayment + payment;\r\n            totalIntPaid = totalIntPaid + interest;\r\n            jta.append(paymentNumber + &quot;\\t\\t&quot; + dueDate + &quot;\\t\\t$&quot; + numFormat.format(payment) + &quot;\\t\\t&quot; + currencyFormat.format(interest) + &quot;\\t\\t&quot; + currencyFormat.format(principal) + &quot;\\t\\t&quot; + currencyFormat.format(balance) + &quot;\\n&quot;);\r\n\r\n        }\r\n        \r\n        jta.append(&quot;\\n&quot;);\r\n        jta.append(&quot; &quot; + &quot;\\t\\t&quot; + &quot; &quot; + &quot;\\t\\t&quot; + &quot;Totals: &quot; + currencyFormat.format(totalPayment) + &quot;\\t&quot; + currencyFormat.format(totalIntPaid) + &quot;\\n&quot;);\r\n        jta.append(&quot;\\n\\n&quot;);\r\n\r\n    }\r\n\r\n    public static void displayHeading(String name, String address1, String city, String state, int zip, int month, int day, int year, double amount, int code, double rate)\r\n    {\r\n        DecimalFormat numFormat;\r\n        numFormat = new DecimalFormat(&quot;0.00&quot;);\r\n        NumberFormat currencyFormat;\r\n        currencyFormat = NumberFormat.getCurrencyInstance();\r\n\r\n        JFrame jf;\r\n        JTextArea jta;\r\n        JScrollPane jsp;\r\n\r\n        jf = new JFrame();\r\n        jta = new JTextArea();\r\n        jsp = new JScrollPane(jta);\r\n\r\n        jf.setSize(1200, 350);\r\n        jf.setLocation(400, 250);\r\n\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        jf.add(jsp);\r\n        jf.setVisible(true);\r\n\r\n        jta.append(&quot;First Community Redevelopment Corporation\\n&quot;);\r\n        jta.append(&quot;101 1st Street\\n&quot;);\r\n        jta.append(&quot;Bloomington, TN 41663\\n&quot;);\r\n        jta.append(&quot;\\n&quot;);\r\n        jta.append(&quot;\\t\\t\\t\\t&quot; + name + &quot;\\n&quot;);\r\n        jta.append(&quot;\\t\\t\\t\\t&quot; + address1 + &quot;\\n&quot;);\r\n        jta.append(&quot;\\t\\t\\t\\t&quot; + city + &quot;, &quot; + state + &quot;, &quot; + zip + &quot;\\n&quot;);\r\n        jta.append(&quot;\\n&quot;);\r\n        jta.append(&quot;LOAN AMOUNT:\\t\\t&quot; + currencyFormat.format(amount) + &quot;\\n&quot;);\r\n        jta.append(&quot;INTEREST RATE:\\t\\t&quot; + numFormat.format(rate) + &quot;%\\n&quot;);\r\n        jta.append(&quot;\\n&quot;);\r\n        jta.append(&quot;Payment #\\tDue Date\\t\\tPayment\\t\\tInterest\\tPrincipal\\tBalance\\n&quot;);\r\n        jta.append(&quot;---------------------------------------------------------------------------------------------------\\n&quot;);\r\n    }\r\n   \r\n\r\n    public static double calcPayment(int code, double amount)\r\n    {\r\n        double payment;\r\n        payment = 0;\r\n\r\n        switch (code) \r\n        {\r\n            case 0:\r\n                payment = 50.00;\r\n                break;\r\n            case 1:\r\n                payment = 55.00;\r\n                break;\r\n            case 2:\r\n                payment = 75.00;\r\n                break;\r\n            case 3:\r\n                payment = 100.00;\r\n                break;\r\n            case 4:\r\n                payment = .05 * amount;\r\n                break;\r\n            case 5:\r\n                payment = .06 * amount;\r\n                break;\r\n            case 6:\r\n                payment = .05 * amount;\r\n                break;\r\n            case 7:\r\n                payment = .04 * amount;\r\n                break;\r\n            case 8:\r\n                payment = .03 * amount;\r\n                break;\r\n            case 9:\r\n                payment = .02 * amount;\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Bad payment code&quot;);\r\n        }\r\n        return payment;\r\n    }\r\n\r\n    public static double calcInterest(double balance, double rate)\r\n    {\r\n        double interest;\r\n        interest = rate / 12 * balance;\r\n        return interest;\r\n    }\r\n\r\n    public static double calcPrincipal(double payment, double interest)\r\n    {\r\n        double principal;\r\n\r\n        principal = payment - interest;\r\n        return principal;\r\n    }\r\n\r\n    public static double calcBalance(double balance, double principal)\r\n    {\r\n        balance -= principal;\r\n        return balance;\r\n    }\r\n\r\n    public static String calcDueDate(int month, int day, int year, int payNum)\r\n    {\r\n        String monthStr = &quot;&quot;;\r\n        month = month + payNum - 1;\r\n        year = year + (month / 12);\r\n        month = month % 12;\r\n        if (month == 0) \r\n        {\r\n            year--;\r\n        }\r\n        switch (month) \r\n        {\r\n            case 1:\r\n                monthStr = &quot;Jan.&quot;;\r\n                break;\r\n            case 2:\r\n                monthStr = &quot;Feb.&quot;;\r\n                break;\r\n            case 3:\r\n                monthStr = &quot;Mar.&quot;;\r\n                break;\r\n            case 4:\r\n                monthStr = &quot;Apr.&quot;;\r\n                break;\r\n            case 5:\r\n                monthStr = &quot;May&quot;;\r\n                break;\r\n            case 6:\r\n                monthStr = &quot;Jun.&quot;;\r\n                break;\r\n            case 7:\r\n                monthStr = &quot;Jul.&quot;;\r\n                break;\r\n            case 8:\r\n                monthStr = &quot;Aug.&quot;;\r\n                break;\r\n            case 9:\r\n                monthStr = &quot;Sept.&quot;;\r\n                break;\r\n            case 10:\r\n                monthStr = &quot;Oct.&quot;;\r\n                break;\r\n            case 11:\r\n                monthStr = &quot;Nov.&quot;;\r\n                break;\r\n            case 0:\r\n                monthStr = &quot;Dec.&quot;;\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Invalid month: &quot; + month);\r\n\r\n        }\r\n        return monthStr + &quot; &quot; + day + &quot;, &quot; + year;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Outputting a report with a header and a table in java","body":"<p>I'm supposed to be outputting a report in a window. I created a method for the table and header, but when I run the program they're outputting to separate windows. I know I need to create another method to display the report, but I can't figure out what the right formals are.</p>\n<p>Here's what I have and what it's supposed to look like:</p>\n<p><a href=\"https://i.stack.imgur.com/QY1TP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import java.text.*;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class Main\n{\n\n    static String name, address, city, state;\n    static int zip, month, date, year, code;\n    static double amount = 0, rate = 0;\n\n    public static void main(String[] args)\n    {\n        InputFile loanInfo;\n        loanInfo = new InputFile(&quot;fcrc loan data.txt&quot;);\n\n        JFrame jf;\n        JTextArea jta;\n        JScrollPane jsp;\n\n        jf = new JFrame();\n        jta = new JTextArea();\n        jsp = new JScrollPane(jta);\n\n        jf.setSize(1200, 350);\n        jf.setLocation(400, 250);\n\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        jf.add(jsp);\n        jf.setVisible(true);\n\n        while (!loanInfo.eof()) \n        {\n            name = loanInfo.readString();\n            address = loanInfo.readString();\n            city = loanInfo.readString();\n            state = loanInfo.readWord();\n            zip = loanInfo.readInt();\n            month = loanInfo.readInt();\n            date = loanInfo.readInt();\n            year = loanInfo.readInt();\n            amount = loanInfo.readDouble();\n            rate = loanInfo.readDouble();\n            code = loanInfo.readInt();\n\n            displayReport();\n\n/*I know this is probably where the issue is. I just don't know what the appropriate formals are to finish the method*/\n\n\n        }\n\n    }\n    \n    public static void displayReport()\n    {\n        displayHeading(name, address, city, state, zip, month, date, year, amount, code, rate);\n        displayTable(amount);\n        \n    }\n\n    public static void displayTable(double amount)\n    {\n        int paymentNumber;\n\n        double payment = 0, interest, principal, balance;\n\n        JFrame jf;\n        JTextArea jta;\n        JScrollPane jsp;\n\n        jf = new JFrame();\n        jta = new JTextArea();\n        jsp = new JScrollPane(jta);\n\n        jf.setSize(1200, 350);\n        jf.setLocation(400, 250);\n\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        jf.add(jsp);\n        jf.setVisible(true);\n\n        DecimalFormat numFormat;\n        numFormat = new DecimalFormat(&quot;0.00&quot;);\n        NumberFormat currencyFormat;\n        currencyFormat = NumberFormat.getCurrencyInstance();\n        balance = amount;\n        paymentNumber = 0;\n        double totalPayment = 0;\n        double totalIntPaid = 0;\n        while (balance &gt; 0) \n        {\n\n            ++paymentNumber;\n            String dueDate = calcDueDate(month, date, year, paymentNumber - 1);\n            interest = calcInterest(balance, rate);\n            if (balance &lt;= payment) \n            {\n                payment = balance;\n                principal = balance;\n                balance = 0;\n            } else \n            {\n                payment = calcPayment(code, amount);\n                principal = calcPrincipal(payment, interest);\n                balance = calcBalance(balance, principal);\n            }\n            totalPayment = totalPayment + payment;\n            totalIntPaid = totalIntPaid + interest;\n            jta.append(paymentNumber + &quot;\\t\\t&quot; + dueDate + &quot;\\t\\t$&quot; + numFormat.format(payment) + &quot;\\t\\t&quot; + currencyFormat.format(interest) + &quot;\\t\\t&quot; + currencyFormat.format(principal) + &quot;\\t\\t&quot; + currencyFormat.format(balance) + &quot;\\n&quot;);\n\n        }\n        \n        jta.append(&quot;\\n&quot;);\n        jta.append(&quot; &quot; + &quot;\\t\\t&quot; + &quot; &quot; + &quot;\\t\\t&quot; + &quot;Totals: &quot; + currencyFormat.format(totalPayment) + &quot;\\t&quot; + currencyFormat.format(totalIntPaid) + &quot;\\n&quot;);\n        jta.append(&quot;\\n\\n&quot;);\n\n    }\n\n    public static void displayHeading(String name, String address1, String city, String state, int zip, int month, int day, int year, double amount, int code, double rate)\n    {\n        DecimalFormat numFormat;\n        numFormat = new DecimalFormat(&quot;0.00&quot;);\n        NumberFormat currencyFormat;\n        currencyFormat = NumberFormat.getCurrencyInstance();\n\n        JFrame jf;\n        JTextArea jta;\n        JScrollPane jsp;\n\n        jf = new JFrame();\n        jta = new JTextArea();\n        jsp = new JScrollPane(jta);\n\n        jf.setSize(1200, 350);\n        jf.setLocation(400, 250);\n\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        jf.add(jsp);\n        jf.setVisible(true);\n\n        jta.append(&quot;First Community Redevelopment Corporation\\n&quot;);\n        jta.append(&quot;101 1st Street\\n&quot;);\n        jta.append(&quot;Bloomington, TN 41663\\n&quot;);\n        jta.append(&quot;\\n&quot;);\n        jta.append(&quot;\\t\\t\\t\\t&quot; + name + &quot;\\n&quot;);\n        jta.append(&quot;\\t\\t\\t\\t&quot; + address1 + &quot;\\n&quot;);\n        jta.append(&quot;\\t\\t\\t\\t&quot; + city + &quot;, &quot; + state + &quot;, &quot; + zip + &quot;\\n&quot;);\n        jta.append(&quot;\\n&quot;);\n        jta.append(&quot;LOAN AMOUNT:\\t\\t&quot; + currencyFormat.format(amount) + &quot;\\n&quot;);\n        jta.append(&quot;INTEREST RATE:\\t\\t&quot; + numFormat.format(rate) + &quot;%\\n&quot;);\n        jta.append(&quot;\\n&quot;);\n        jta.append(&quot;Payment #\\tDue Date\\t\\tPayment\\t\\tInterest\\tPrincipal\\tBalance\\n&quot;);\n        jta.append(&quot;---------------------------------------------------------------------------------------------------\\n&quot;);\n    }\n   \n\n    public static double calcPayment(int code, double amount)\n    {\n        double payment;\n        payment = 0;\n\n        switch (code) \n        {\n            case 0:\n                payment = 50.00;\n                break;\n            case 1:\n                payment = 55.00;\n                break;\n            case 2:\n                payment = 75.00;\n                break;\n            case 3:\n                payment = 100.00;\n                break;\n            case 4:\n                payment = .05 * amount;\n                break;\n            case 5:\n                payment = .06 * amount;\n                break;\n            case 6:\n                payment = .05 * amount;\n                break;\n            case 7:\n                payment = .04 * amount;\n                break;\n            case 8:\n                payment = .03 * amount;\n                break;\n            case 9:\n                payment = .02 * amount;\n                break;\n            default:\n                System.out.println(&quot;Bad payment code&quot;);\n        }\n        return payment;\n    }\n\n    public static double calcInterest(double balance, double rate)\n    {\n        double interest;\n        interest = rate / 12 * balance;\n        return interest;\n    }\n\n    public static double calcPrincipal(double payment, double interest)\n    {\n        double principal;\n\n        principal = payment - interest;\n        return principal;\n    }\n\n    public static double calcBalance(double balance, double principal)\n    {\n        balance -= principal;\n        return balance;\n    }\n\n    public static String calcDueDate(int month, int day, int year, int payNum)\n    {\n        String monthStr = &quot;&quot;;\n        month = month + payNum - 1;\n        year = year + (month / 12);\n        month = month % 12;\n        if (month == 0) \n        {\n            year--;\n        }\n        switch (month) \n        {\n            case 1:\n                monthStr = &quot;Jan.&quot;;\n                break;\n            case 2:\n                monthStr = &quot;Feb.&quot;;\n                break;\n            case 3:\n                monthStr = &quot;Mar.&quot;;\n                break;\n            case 4:\n                monthStr = &quot;Apr.&quot;;\n                break;\n            case 5:\n                monthStr = &quot;May&quot;;\n                break;\n            case 6:\n                monthStr = &quot;Jun.&quot;;\n                break;\n            case 7:\n                monthStr = &quot;Jul.&quot;;\n                break;\n            case 8:\n                monthStr = &quot;Aug.&quot;;\n                break;\n            case 9:\n                monthStr = &quot;Sept.&quot;;\n                break;\n            case 10:\n                monthStr = &quot;Oct.&quot;;\n                break;\n            case 11:\n                monthStr = &quot;Nov.&quot;;\n                break;\n            case 0:\n                monthStr = &quot;Dec.&quot;;\n                break;\n            default:\n                System.out.println(&quot;Invalid month: &quot; + month);\n\n        }\n        return monthStr + &quot; &quot; + day + &quot;, &quot; + year;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1669230853,"post_id":74551505,"comment_id":131600118,"body_markdown":"I don&#39;t think it is possible. For that reason, i.e. that the JPA annotations cannot handle all the details of schema creation, I prefer to use tools like Liquibase, Flyway, etc.","body":"I don&#39;t think it is possible. For that reason, i.e. that the JPA annotations cannot handle all the details of schema creation, I prefer to use tools like Liquibase, Flyway, etc."},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1669311475,"post_id":74551505,"comment_id":131620678,"body_markdown":"please add your comment as an answer so I accept it","body":"please add your comment as an answer so I accept it"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669312216,"creation_date":1669312216,"answer_id":74564641,"question_id":74551505,"body_markdown":"At of this time, JPA does not provide a way to specify this. I do not know if there is a *Hibernate-specific* way - although I could not find anything with a quick search.\r\n\r\nFor this and other reasons, I prefer to use a database tool like Liquibase, Flyway etc to manage the DB schema for anything other than trivial schemas.","title":"Hibernate annotation for Index with Btree structure","body":"<p>At of this time, JPA does not provide a way to specify this. I do not know if there is a <em>Hibernate-specific</em> way - although I could not find anything with a quick search.</p>\n<p>For this and other reasons, I prefer to use a database tool like Liquibase, Flyway etc to manage the DB schema for anything other than trivial schemas.</p>\n"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74564641,"answer_count":1,"score":0,"last_activity_date":1669312216,"creation_date":1669228161,"question_id":74551505,"body_markdown":"Is there a way to tell Hibernate/JPA to make an Index but with a structure like BTree when creating the DDL from the annotations of the Entities?\r\n\r\nThe @Index annotation does not have such an option.If you have to amend the DDL generated by Hibernate in order to tell it to use a certain structure, it beats the autogeneration purpose.","title":"Hibernate annotation for Index with Btree structure","body":"<p>Is there a way to tell Hibernate/JPA to make an Index but with a structure like BTree when creating the DDL from the annotations of the Entities?</p>\n<p>The @Index annotation does not have such an option.If you have to amend the DDL generated by Hibernate in order to tell it to use a certain structure, it beats the autogeneration purpose.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669311339,"creation_date":1379606962,"answer_id":18899797,"question_id":18899576,"body_markdown":"Instead of checking every possible bit on the board, play the game based on how humans play it - It&#39;s only connect 4 when someone drops in a piece that then forms a line of four tiles. So: don&#39;t check every possible tile, use the tile that just got dropped in, and only check for lines involving that tile:\r\n\r\n- does this new tile form a horizontal? that means checking `column-3` through `column+3` to cover all possible horizontals.\r\n- does this new tile form a vertical? that means only checking the three tiles below it.\r\n- does this new tile form a diagonal? that means checking {`column-3`, `row-2`} through {`column+3`, `row+3`} to cover all possible diagonals. We could even check for this at the same time we&#39;re checking for horizontals, because it traverses the same `column-3` through `column+3` range.\r\n\r\nYou already know what &quot;color&quot; the tile has, so your checks (in fake code) would simply be of the form:\r\n\r\n    boolean matched = false;\r\n    int stretch = 0;\r\n    do {\r\n      checkTile = ...;\r\n      matched = checkedTile.color.equals(droppedTile.color);\r\n      if (matched) {\r\n        if (stretch == 3) playerWins()\r\n        stretch++;\r\n      }\r\n    } while(matched);\r\n\r\nIf the largest stretch of tiles you find that have the same color is 4, done. If not, no connect-4.\r\n\r\nThat said, this is a homework assignment: S.O. is here for you when you have a problem while programming, but we&#39;re not here to do your homework for you. If you get stuck, ask your fellow students or even your teacher. The internet isn&#39;t the only place to ask help, *especially* when you&#39;re taking a course.","title":"Connect4 game with 2D arrays diagonal check","body":"<p>Instead of checking every possible bit on the board, play the game based on how humans play it - It's only connect 4 when someone drops in a piece that then forms a line of four tiles. So: don't check every possible tile, use the tile that just got dropped in, and only check for lines involving that tile:</p>\n<ul>\n<li>does this new tile form a horizontal? that means checking <code>column-3</code> through <code>column+3</code> to cover all possible horizontals.</li>\n<li>does this new tile form a vertical? that means only checking the three tiles below it.</li>\n<li>does this new tile form a diagonal? that means checking {<code>column-3</code>, <code>row-2</code>} through {<code>column+3</code>, <code>row+3</code>} to cover all possible diagonals. We could even check for this at the same time we're checking for horizontals, because it traverses the same <code>column-3</code> through <code>column+3</code> range.</li>\n</ul>\n<p>You already know what &quot;color&quot; the tile has, so your checks (in fake code) would simply be of the form:</p>\n<pre><code>boolean matched = false;\nint stretch = 0;\ndo {\n  checkTile = ...;\n  matched = checkedTile.color.equals(droppedTile.color);\n  if (matched) {\n    if (stretch == 3) playerWins()\n    stretch++;\n  }\n} while(matched);\n</code></pre>\n<p>If the largest stretch of tiles you find that have the same color is 4, done. If not, no connect-4.</p>\n<p>That said, this is a homework assignment: S.O. is here for you when you have a problem while programming, but we're not here to do your homework for you. If you get stuck, ask your fellow students or even your teacher. The internet isn't the only place to ask help, <em>especially</em> when you're taking a course.</p>\n"},{"tags":[],"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379606964,"creation_date":1379606964,"answer_id":18899798,"question_id":18899576,"body_markdown":"Instead of coding it in a if-statement, I would e.g for the \\ diagonal simply start at the position of the coin and count in direction right-lower, how many of the same color are there until the color changes, or the border is reached. Same in the left-upper direction. \r\n\r\nAt the end I would simply check if the sum of both counts plus one is greater or equal 4. \r\n\r\nSame method for the / diagonal.\r\n\r\nWarning: Your implementation of - and | have no array-boundary checks yet. I would recommend the counting approach for them too.\r\n\r\nP.s. And to make your code more clear, put each check in a separate methood:\r\n\r\n    isHorizonallWin(x,y,color,grid)\r\n    isVerticalWin(x,y,color,grid)\r\n    isLdiagonalLeftUpper2RightLowerWin(x,y,color,grid)\r\n    isLdiagonalRightUpper2leftLowerWin(x,y,color,grid)\r\n\r\n","title":"Connect4 game with 2D arrays diagonal check","body":"<p>Instead of coding it in a if-statement, I would e.g for the \\ diagonal simply start at the position of the coin and count in direction right-lower, how many of the same color are there until the color changes, or the border is reached. Same in the left-upper direction. </p>\n\n<p>At the end I would simply check if the sum of both counts plus one is greater or equal 4. </p>\n\n<p>Same method for the / diagonal.</p>\n\n<p>Warning: Your implementation of - and | have no array-boundary checks yet. I would recommend the counting approach for them too.</p>\n\n<p>P.s. And to make your code more clear, put each check in a separate methood:</p>\n\n<pre><code>isHorizonallWin(x,y,color,grid)\nisVerticalWin(x,y,color,grid)\nisLdiagonalLeftUpper2RightLowerWin(x,y,color,grid)\nisLdiagonalRightUpper2leftLowerWin(x,y,color,grid)\n</code></pre>\n"}],"owner":{"account_id":3293045,"reputation":157,"user_id":2770897,"accept_rate":80,"display_name":"Lilith Deficiency"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11043,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18899797,"answer_count":2,"score":2,"last_activity_date":1669311339,"creation_date":1379606302,"question_id":18899576,"body_markdown":"So Im pretty new at java and i have an assignment to create a connect 4 game. I create a board 6 rows and 7 columns full of characters like this one -&gt; &#39;-&#39;, when the user inputs the desire column it replaces the &#39;-&#39; with a B or R (Red or black checker) well whatever this is just a background. Everything works except for the part that my code for checking diagonals its awfully long, i couldnt figure out a way to go through all the possible 4 sets of diagonals in which a player can win, except by doing each one in a different for loop... I know its horrible hope you can help me to do it shorter :( \r\n\r\n\r\nthis is the code for diagonal check: (lol only looking at it makes me feel sad)\r\n\r\n        public class Connect4 {\r\n\t          public static void main(String[] args) {\r\n\t\t  \r\n\t\t  //Create board\r\n\t     \r\n\t    Scanner input = new Scanner(System.in);\r\n\t    char[][] grid = new char[6][7];\r\n\t    \r\n\t    for (int i = 0; i &lt; grid.length; i++) {\r\n\t      for (int j = 0; j &lt; grid[0].length; j++) {\r\n\t        grid[i][j] = &#39;-&#39;;\r\n\t      }\r\n\t    }\r\n\r\n     public static void checkWinner(char[][] grid) {      \r\n\ttry{\r\n\t    \r\n\t  //A LOT OF FOR LOOPS FOR DIAGONAL CHECKS\r\n\t    for (int i = 5; i &gt; 1; i-- ) {\r\n\t     for(int j = 0; j &lt; 4; j++) {\r\n\t\t       if (   grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t              grid[i-1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t              grid[i-2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t              grid[i-3][j+3] == &#39;R&#39;) {\r\n\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t        \t  System.exit(0);\r\n\t\t       }\r\n\t\t       else if (  grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i-1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i-2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i-3][j+3] == &#39;B&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t\t       }\r\n\t\t     }\r\n\t     }\r\n\t    \r\n\t    \r\n\t     for (int i = 5; i &gt; 1; i--) {\r\n\t    \t for (int j = 1; j &lt; 4; j++) {\r\n\t    \t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i-1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i-2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i-3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t\t  }\r\n\t    \t\t else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i-1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i-2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i-3][j+3] == &#39;B&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t }\r\n\t     }\r\n\t   }\r\n\t     \r\n\t     for (int i = 0; i &lt; 4; i++) {\r\n\t    \t for (int j = 4; j &lt; 7; j++) {\r\n\t    \t\t if (   grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j-1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j-2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j-3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t }\r\n\t    \t\t else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j-1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j-2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j-3] == &#39;B&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t }\r\n\t     }\r\n\t   }\r\n\t     \r\n\t     for (int i = 1; i &lt; 2; i++) {\r\n\t    \t for (int j = 6; j &gt; 5; j--) {\r\n\t    \t\t if (   grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j-1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j-2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j-3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t\t \t\t\t}\r\n\t    \t\t else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j-1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j-2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j-3] == &#39;B&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t }\r\n\t    \t}\r\n\t     }\r\n\t     \r\n\t     for (int i = 4; i &lt; 5; i++){\r\n\t    \t for (int j = 2; j &lt; 3; j++){\r\n\t    \t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i-1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i-2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i-3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t\t      }\r\n\t    \t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i-1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i-2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i-3][j+3] == &#39;B&#39;) {\r\n\t\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t\t        \t  System.exit(0);\r\n\t\t    \t\t      }\r\n\t    \t}\r\n\t     }\r\n\t     \r\n\t     for (int i = 0; i &lt; 4; i++) {\r\n\t    \t for (int j = 3; j &gt; 0; j--) {\r\n\t    \t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t\t      }\r\n\t    \t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+3][j+3] == &#39;B&#39;) {\r\n\t\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t\t        \t  System.exit(0);\r\n\t\t    \t\t      }\r\n\t     }\r\n\t   }\r\n\t     \r\n\t     for(int i =0; i &lt; 1; i++) {\r\n\t    \t for (int j = 0; j &lt;1; j++) {\r\n\t    \t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t\t }\r\n\t    \t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+3][j+3] == &#39;B&#39;) {\r\n\t\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t\t        \t  System.exit(0);\r\n\t\t    \t\t }\r\n\t    \t }\r\n\t     }\r\n\r\n    \t for (int j = 0; j &lt; 1; j++) {\r\n    \t\t for(int i =1 ; i &lt; 3; i++) {\r\n\t    \t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t\t      }\r\n\t    \t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+3][j+3] == &#39;B&#39;) {\r\n\t\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t\t        \t  System.exit(0);\r\n\t\t    \t\t      }\r\n\t    \t}\r\n\t     }\r\n\r\n\t\t for (int j = 3; j &lt; 4; j++) {\r\n    \t for (int i = 0; i &lt; 3; i++) {\r\n    \t\t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n    \t\t\t      }\r\n    \t\t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n    \t\t\t              grid[i+1][j+1] == &#39;B&#39; &amp;&amp;\r\n    \t\t\t              grid[i+2][j+2] == &#39;B&#39; &amp;&amp;\r\n    \t\t\t              grid[i+3][j+3] == &#39;B&#39;) {\r\n    \t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n    \t\t\t        \t  System.exit(0);\r\n        \t\t\t      }\r\n    \t\t }\r\n    \t }\r\n\t\t \r\n\t\t for (int i = 2; i &lt; 3; i++) {\r\n\t\t\t for (int j = 2; j &gt; 0; j--) {\r\n\t\t\t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t\t\t\t      }\r\n\t\t\t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+3][j+3] == &#39;B&#39;) {\r\n\t\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t\t        \t  System.exit(0);\r\n\t\t\t\t\t     }\r\n\t\t\t }\r\n\t\t }\r\n\t\t \r\n\t\t for (int i = 1; i &lt; 2; i++) {\r\n\t\t\t for (int j = 2; j &lt; 3; j++){\r\n\t\t\t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t\t\t\t      }\r\n\t\t\t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+3][j+3] == &#39;B&#39;) {\r\n\t\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t\t        \t  System.exit(0);\r\n\t\t\t\t\t   }\r\n\t\t\t }\r\n\t\t }\r\n\t\t \r\n\t\t for (int i = 1; i &lt; 2; i++) {\r\n\t\t\t for (int j = 1; j &lt; 2; j++){\r\n\t\t\t\t      if (grid[i][j] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+1][j+1] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+2][j+2] == &#39;R&#39; &amp;&amp;\r\n\t\t\t              grid[i+3][j+3] == &#39;R&#39;) {\r\n\t\t\t    \t      System.out.println(&quot;Player 1 Wins!&quot;);\r\n\t\t\t        \t  System.exit(0);\r\n\t    \t\t       }\r\n\t\t\t\t      else if (grid[i][j] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+1][j+1] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+2][j+2] == &#39;B&#39; &amp;&amp;\r\n\t\t\t\t              grid[i+3][j+3] == &#39;B&#39;) {\r\n\t\t\t\t    \t      System.out.println(&quot;Player 2 Wins!&quot;);\r\n\t\t\t\t        \t  System.exit(0);\r\n\t\t    \t\t   }\r\n\t\t\t }\r\n\t\t }\r\n\t }\r\n    catch(ArrayIndexOutOfBoundsException e){\r\n        System.out.println(&quot;Exception thrown  :&quot; + e);\r\n     }\r\n\t}\r\n\t\r\n\t\r\n\r\n","title":"Connect4 game with 2D arrays diagonal check","body":"<p>So Im pretty new at java and i have an assignment to create a connect 4 game. I create a board 6 rows and 7 columns full of characters like this one -> '-', when the user inputs the desire column it replaces the '-' with a B or R (Red or black checker) well whatever this is just a background. Everything works except for the part that my code for checking diagonals its awfully long, i couldnt figure out a way to go through all the possible 4 sets of diagonals in which a player can win, except by doing each one in a different for loop... I know its horrible hope you can help me to do it shorter :( </p>\n\n<p>this is the code for diagonal check: (lol only looking at it makes me feel sad)</p>\n\n<pre><code>    public class Connect4 {\n          public static void main(String[] args) {\n\n      //Create board\n\n    Scanner input = new Scanner(System.in);\n    char[][] grid = new char[6][7];\n\n    for (int i = 0; i &lt; grid.length; i++) {\n      for (int j = 0; j &lt; grid[0].length; j++) {\n        grid[i][j] = '-';\n      }\n    }\n\n public static void checkWinner(char[][] grid) {      \ntry{\n\n  //A LOT OF FOR LOOPS FOR DIAGONAL CHECKS\n    for (int i = 5; i &gt; 1; i-- ) {\n     for(int j = 0; j &lt; 4; j++) {\n           if (   grid[i][j] == 'R' &amp;&amp;\n                  grid[i-1][j+1] == 'R' &amp;&amp;\n                  grid[i-2][j+2] == 'R' &amp;&amp;\n                  grid[i-3][j+3] == 'R') {\n                  System.out.println(\"Player 1 Wins!\");\n                  System.exit(0);\n           }\n           else if (  grid[i][j] == 'B' &amp;&amp;\n                      grid[i-1][j+1] == 'B' &amp;&amp;\n                      grid[i-2][j+2] == 'B' &amp;&amp;\n                      grid[i-3][j+3] == 'B') {\n                      System.out.println(\"Player 2 Wins!\");\n                      System.exit(0);\n           }\n         }\n     }\n\n\n     for (int i = 5; i &gt; 1; i--) {\n         for (int j = 1; j &lt; 4; j++) {\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i-1][j+1] == 'R' &amp;&amp;\n                      grid[i-2][j+2] == 'R' &amp;&amp;\n                      grid[i-3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n              }\n             else if (grid[i][j] == 'B' &amp;&amp;\n                      grid[i-1][j+1] == 'B' &amp;&amp;\n                      grid[i-2][j+2] == 'B' &amp;&amp;\n                      grid[i-3][j+3] == 'B') {\n                      System.out.println(\"Player 2 Wins!\");\n                      System.exit(0);\n         }\n     }\n   }\n\n     for (int i = 0; i &lt; 4; i++) {\n         for (int j = 4; j &lt; 7; j++) {\n             if (   grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j-1] == 'R' &amp;&amp;\n                      grid[i+2][j-2] == 'R' &amp;&amp;\n                      grid[i+3][j-3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n         }\n             else if (grid[i][j] == 'B' &amp;&amp;\n                      grid[i+1][j-1] == 'B' &amp;&amp;\n                      grid[i+2][j-2] == 'B' &amp;&amp;\n                      grid[i+3][j-3] == 'B') {\n                      System.out.println(\"Player 2 Wins!\");\n                      System.exit(0);\n         }\n     }\n   }\n\n     for (int i = 1; i &lt; 2; i++) {\n         for (int j = 6; j &gt; 5; j--) {\n             if (   grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j-1] == 'R' &amp;&amp;\n                      grid[i+2][j-2] == 'R' &amp;&amp;\n                      grid[i+3][j-3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                        }\n             else if (grid[i][j] == 'B' &amp;&amp;\n                      grid[i+1][j-1] == 'B' &amp;&amp;\n                      grid[i+2][j-2] == 'B' &amp;&amp;\n                      grid[i+3][j-3] == 'B') {\n                      System.out.println(\"Player 2 Wins!\");\n                      System.exit(0);\n         }\n        }\n     }\n\n     for (int i = 4; i &lt; 5; i++){\n         for (int j = 2; j &lt; 3; j++){\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i-1][j+1] == 'R' &amp;&amp;\n                      grid[i-2][j+2] == 'R' &amp;&amp;\n                      grid[i-3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                  }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i-1][j+1] == 'B' &amp;&amp;\n                          grid[i-2][j+2] == 'B' &amp;&amp;\n                          grid[i-3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                      }\n        }\n     }\n\n     for (int i = 0; i &lt; 4; i++) {\n         for (int j = 3; j &gt; 0; j--) {\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j+1] == 'R' &amp;&amp;\n                      grid[i+2][j+2] == 'R' &amp;&amp;\n                      grid[i+3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                  }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i+1][j+1] == 'B' &amp;&amp;\n                          grid[i+2][j+2] == 'B' &amp;&amp;\n                          grid[i+3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                      }\n     }\n   }\n\n     for(int i =0; i &lt; 1; i++) {\n         for (int j = 0; j &lt;1; j++) {\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j+1] == 'R' &amp;&amp;\n                      grid[i+2][j+2] == 'R' &amp;&amp;\n                      grid[i+3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n             }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i+1][j+1] == 'B' &amp;&amp;\n                          grid[i+2][j+2] == 'B' &amp;&amp;\n                          grid[i+3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                 }\n         }\n     }\n\n     for (int j = 0; j &lt; 1; j++) {\n         for(int i =1 ; i &lt; 3; i++) {\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j+1] == 'R' &amp;&amp;\n                      grid[i+2][j+2] == 'R' &amp;&amp;\n                      grid[i+3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                  }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i+1][j+1] == 'B' &amp;&amp;\n                          grid[i+2][j+2] == 'B' &amp;&amp;\n                          grid[i+3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                      }\n        }\n     }\n\n     for (int j = 3; j &lt; 4; j++) {\n     for (int i = 0; i &lt; 3; i++) {\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j+1] == 'R' &amp;&amp;\n                      grid[i+2][j+2] == 'R' &amp;&amp;\n                      grid[i+3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                  }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i+1][j+1] == 'B' &amp;&amp;\n                          grid[i+2][j+2] == 'B' &amp;&amp;\n                          grid[i+3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                      }\n         }\n     }\n\n     for (int i = 2; i &lt; 3; i++) {\n         for (int j = 2; j &gt; 0; j--) {\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j+1] == 'R' &amp;&amp;\n                      grid[i+2][j+2] == 'R' &amp;&amp;\n                      grid[i+3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                  }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i+1][j+1] == 'B' &amp;&amp;\n                          grid[i+2][j+2] == 'B' &amp;&amp;\n                          grid[i+3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                     }\n         }\n     }\n\n     for (int i = 1; i &lt; 2; i++) {\n         for (int j = 2; j &lt; 3; j++){\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j+1] == 'R' &amp;&amp;\n                      grid[i+2][j+2] == 'R' &amp;&amp;\n                      grid[i+3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                  }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i+1][j+1] == 'B' &amp;&amp;\n                          grid[i+2][j+2] == 'B' &amp;&amp;\n                          grid[i+3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                   }\n         }\n     }\n\n     for (int i = 1; i &lt; 2; i++) {\n         for (int j = 1; j &lt; 2; j++){\n                  if (grid[i][j] == 'R' &amp;&amp;\n                      grid[i+1][j+1] == 'R' &amp;&amp;\n                      grid[i+2][j+2] == 'R' &amp;&amp;\n                      grid[i+3][j+3] == 'R') {\n                      System.out.println(\"Player 1 Wins!\");\n                      System.exit(0);\n                   }\n                  else if (grid[i][j] == 'B' &amp;&amp;\n                          grid[i+1][j+1] == 'B' &amp;&amp;\n                          grid[i+2][j+2] == 'B' &amp;&amp;\n                          grid[i+3][j+3] == 'B') {\n                          System.out.println(\"Player 2 Wins!\");\n                          System.exit(0);\n                   }\n         }\n     }\n }\ncatch(ArrayIndexOutOfBoundsException e){\n    System.out.println(\"Exception thrown  :\" + e);\n }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","csv","stream","java-stream"],"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1669230941,"post_id":74551863,"comment_id":131600135,"body_markdown":"_I am reading City and Country data from 2 CSV files_ Well, how do you store this data in your app? Please, show your classes for City and Country.","body":"<i>I am reading City and Country data from 2 CSV files</i> Well, how do you store this data in your app? Please, show your classes for City and Country."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1669231883,"post_id":74551863,"comment_id":131600372,"body_markdown":"May be `firstFetch().stream().map(city -&gt; countryRepo.getCountryByCode(city.getCountryCode)).toList();`? I suppose that `firstFetch()` returns some `Collection` or `Iterable` of cities. You want to first get a sequence of cities, and then the sequence of countries based on cities, if I understand you correctly?","body":"May be <code>firstFetch().stream().map(city -&gt; countryRepo.getCountryByCode(city.getCountryCode)).toList();</code>&zwnj;&#8203;? I suppose that <code>firstFetch()</code> returns some <code>Collection</code> or <code>Iterable</code> of cities. You want to first get a sequence of cities, and then the sequence of countries based on cities, if I understand you correctly?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669232505,"post_id":74551863,"comment_id":131600531,"body_markdown":"`firstFetch()` returns `Collection` of `countryCode` s from the City. Then, by using these codes, I am trying to get the list of Country Names from Country entity. But I am depending on the `firstFetch()` result to get the second.  Any idea?","body":"<code>firstFetch()</code> returns <code>Collection</code> of <code>countryCode</code> s from the City. Then, by using these codes, I am trying to get the list of Country Names from Country entity. But I am depending on the <code>firstFetch()</code> result to get the second.  Any idea?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669239495,"post_id":74552374,"comment_id":131602316,"body_markdown":"Thanks, but `map(Country::getName)` gives *&quot;reason: no instance(s) of type variable(s) exist so that String conforms to Country&quot;* error. Any idea?","body":"Thanks, but <code>map(Country::getName)</code> gives <i>&quot;reason: no instance(s) of type variable(s) exist so that String conforms to Country&quot;</i> error. Any idea?"}],"tags":[],"owner":{"account_id":14741144,"reputation":31,"user_id":10645780,"display_name":"Bryan PRADILLON"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669310746,"creation_date":1669233586,"answer_id":74552374,"question_id":74551863,"body_markdown":"You can merge your data with stream, for example add an countryName in City : \r\n\r\n        List&lt;Country&gt; countries = // Your CSV Country lines\r\n        List&lt;City&gt; cities = // Your CSV City lines\r\n\r\n        cities.forEach(city -&gt; city.setCountryName(countries.stream()\r\n                .filter(country -&gt; country.getCode().equals(city.getCountryCode()))\r\n                .map(Country::getName).findAny().orElse(null)));","title":"Java Stream: Merging multiple results read from separate CSV files?","body":"<p>You can merge your data with stream, for example add an countryName in City :</p>\n<pre><code>    List&lt;Country&gt; countries = // Your CSV Country lines\n    List&lt;City&gt; cities = // Your CSV City lines\n\n    cities.forEach(city -&gt; city.setCountryName(countries.stream()\n            .filter(country -&gt; country.getCode().equals(city.getCountryCode()))\n            .map(Country::getName).findAny().orElse(null)));\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669310746,"creation_date":1669230302,"question_id":74551863,"body_markdown":"I am reading City and Country data from 2 CSV files and need to merge the result using Java Stream (I need to keep the same order as the first result). I thought using parallel stream or ComletableFuture, but as I need the result of first fetch for passing as parameter to the second fetch, I am not sure if they are suitable for this scenario. \r\n\r\nSo, in order to read data from the first query and pass the result of this query to the second one and obtain result, what should I do in Java Stream? \r\n\r\nHere are the related entities. I have to relate them using country code values.\r\n\r\nAssume that I just need the country names for the following cities. Please keep in mind that, I need to keep the same order as the first result. For example, if the result is [Berlin, Kopenhag, Paris] then the second result should be the same order as [Germany, Denmark, France].\r\n\r\nCity:\r\n```\r\n\r\nid   | name     | countryCode |\r\n------------------------------\r\n1    | Berlin   | DE          |\r\n2    | Munich   | DE          |\r\n3    | K&#246;ln     | DE          |\r\n4    | Paris    | FR          |\r\n5    | Kopenhag | DK          |\r\n...\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nCountry:\r\n```\r\n\r\nid     | name      | code        |\r\n---------------------------------- \r\n100    | Germany   | DE          |\r\n105    | France    | FR          |\r\n108    | Denmark   | DK          |\r\n...\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nHere are the related classes:\r\n\r\n```\r\npublic class City{\r\n\r\n    @CsvBindByPosition(position = 0)\r\n    private Integer id;\r\n\r\n    @CsvBindByPosition(position = 1)\r\n    private String name;\r\n\r\n    @CsvBindByPosition(position = 2)\r\n    private String countryCode;\r\n\r\n    // setters, getters, etc.\r\n}\r\n```\r\n\r\n```\r\npublic class Country {\r\n\r\n    @CsvBindByPosition(position = 0)\r\n    private Integer id;\r\n\r\n    @CsvBindByPosition(position = 1)\r\n    private String name;\r\n\r\n    @CsvBindByPosition(position = 2)\r\n    private String code;\r\n\r\n    // setters, getters, etc.\r\n}\r\n```","title":"Java Stream: Merging multiple results read from separate CSV files?","body":"<p>I am reading City and Country data from 2 CSV files and need to merge the result using Java Stream (I need to keep the same order as the first result). I thought using parallel stream or ComletableFuture, but as I need the result of first fetch for passing as parameter to the second fetch, I am not sure if they are suitable for this scenario.</p>\n<p>So, in order to read data from the first query and pass the result of this query to the second one and obtain result, what should I do in Java Stream?</p>\n<p>Here are the related entities. I have to relate them using country code values.</p>\n<p>Assume that I just need the country names for the following cities. Please keep in mind that, I need to keep the same order as the first result. For example, if the result is [Berlin, Kopenhag, Paris] then the second result should be the same order as [Germany, Denmark, France].</p>\n<p>City:</p>\n<pre><code>\nid   | name     | countryCode |\n------------------------------\n1    | Berlin   | DE          |\n2    | Munich   | DE          |\n3    | Köln     | DE          |\n4    | Paris    | FR          |\n5    | Kopenhag | DK          |\n...\n</code></pre>\n<br/>\n<p>Country:</p>\n<pre><code>\nid     | name      | code        |\n---------------------------------- \n100    | Germany   | DE          |\n105    | France    | FR          |\n108    | Denmark   | DK          |\n...\n</code></pre>\n<br/>\n<p>Here are the related classes:</p>\n<pre><code>public class City{\n\n    @CsvBindByPosition(position = 0)\n    private Integer id;\n\n    @CsvBindByPosition(position = 1)\n    private String name;\n\n    @CsvBindByPosition(position = 2)\n    private String countryCode;\n\n    // setters, getters, etc.\n}\n</code></pre>\n<pre><code>public class Country {\n\n    @CsvBindByPosition(position = 0)\n    private Integer id;\n\n    @CsvBindByPosition(position = 1)\n    private String name;\n\n    @CsvBindByPosition(position = 2)\n    private String code;\n\n    // setters, getters, etc.\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation","spring-mvc"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669373467,"post_id":74563522,"comment_id":131632322,"body_markdown":"@Closures Why close?","body":"@Closures Why close?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669325348,"post_id":74564386,"comment_id":131623735,"body_markdown":"Thanks for reply, but I also tried this and still not giving error and let the request to pass to the Service. May it be related to `javax.validation.constraints.Min` ?","body":"Thanks for reply, but I also tried this and still not giving error and let the request to pass to the Service. May it be related to <code>javax.validation.constraints.Min</code> ?"}],"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669310664,"creation_date":1669310664,"answer_id":74564386,"question_id":74563522,"body_markdown":"```java\r\n@RestController\r\n@Validated\r\npublic class ExampleController {\r\n    \r\n    @GetMapping(&quot;/{limit}&quot;)\r\n    public void endpoint(@PathVariable @Min(1) int limit) {\r\n        // nothing\r\n    }\r\n}\r\n```\r\n```\r\nGET http://localhost:8080/-21\r\n\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-11-24T17:21:37.375+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/-21&quot;\r\n}\r\n```\r\n```\r\njavax.validation.ConstraintViolationException: endpoint.limit: must be greater than or equal to 1\r\n.\r\n.\r\n.\r\n```","title":"@PathVariable is not validated in Spring Boot","body":"<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@Validated\npublic class ExampleController {\n    \n    @GetMapping(&quot;/{limit}&quot;)\n    public void endpoint(@PathVariable @Min(1) int limit) {\n        // nothing\n    }\n}\n</code></pre>\n<pre><code>GET http://localhost:8080/-21\n\n{\n    &quot;timestamp&quot;: &quot;2022-11-24T17:21:37.375+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/-21&quot;\n}\n</code></pre>\n<pre><code>javax.validation.ConstraintViolationException: endpoint.limit: must be greater than or equal to 1\n.\n.\n.\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669373035,"answer_count":1,"score":0,"last_activity_date":1669310664,"creation_date":1669306058,"question_id":74563522,"body_markdown":"I am trying to validate the  `limit` parameter in the following method, but there is not any error or warning message even I enter 0 (when I enter -2, an unknown error message returned. \r\n\r\n\r\n```\r\n@RestController\r\n@Validated // I also add this\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class EmployeeController {\r\n\r\n    @GetMapping(&quot;/employees/{limit}&quot;)\r\n    public ResponseEntity&lt;ApiResponse&lt;List&lt;Employee&gt;&gt;&gt; findTopNEmployeeBySalary(\r\n            @PathVariable(&quot;limit&quot;) @Valid @Min(1) int limit) {\r\n        // ...\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nSo, what I am missing in here? ","title":"@PathVariable is not validated in Spring Boot","body":"<p>I am trying to validate the  <code>limit</code> parameter in the following method, but there is not any error or warning message even I enter 0 (when I enter -2, an unknown error message returned.</p>\n<pre><code>@RestController\n@Validated // I also add this\n@RequestMapping(&quot;/api/v1&quot;)\npublic class EmployeeController {\n\n    @GetMapping(&quot;/employees/{limit}&quot;)\n    public ResponseEntity&lt;ApiResponse&lt;List&lt;Employee&gt;&gt;&gt; findTopNEmployeeBySalary(\n            @PathVariable(&quot;limit&quot;) @Valid @Min(1) int limit) {\n        // ...\n    }\n\n}\n\n</code></pre>\n<p>So, what I am missing in here?</p>\n"},{"tags":["java","user-interface","counter","reset"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669305073,"post_id":74563232,"comment_id":131618814,"body_markdown":"You have to save the previous date as a `LocalDate` and do a comparison between the saved `LocalDate` and the current `LocalDate`.  If the current `LocalDate` is greater, reset the counter to 1 and save the current date as the previous date.","body":"You have to save the previous date as a <code>LocalDate</code> and do a comparison between the saved <code>LocalDate</code> and the current <code>LocalDate</code>.  If the current <code>LocalDate</code> is greater, reset the counter to 1 and save the current date as the previous date."}],"answers":[{"tags":[],"owner":{"account_id":23485654,"reputation":51,"user_id":17537202,"display_name":"WheelerShigley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669310549,"creation_date":1669310549,"answer_id":74564370,"question_id":74563232,"body_markdown":"&quot;I want this counter to reset whenever the date changes.&quot;\r\nThink analytically (re-framing the question for this context):\r\n a) You want a counter to reset when the date changes\r\n b) When the date changes, you want the counter reset\r\n c) Upon a data change, reset the counter.\r\n\r\nSo, you may want to occasionally check the time and see if it has changed (having a stored value to compare against) or overwrite an existing method that changes the day so that it would also reset the value.","title":"Reset counter after everyday Java GUI","body":"<p>&quot;I want this counter to reset whenever the date changes.&quot;\nThink analytically (re-framing the question for this context):\na) You want a counter to reset when the date changes\nb) When the date changes, you want the counter reset\nc) Upon a data change, reset the counter.</p>\n<p>So, you may want to occasionally check the time and see if it has changed (having a stored value to compare against) or overwrite an existing method that changes the day so that it would also reset the value.</p>\n"}],"owner":{"account_id":20159391,"reputation":1,"user_id":14784760,"display_name":"AR Graphics"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669310549,"creation_date":1669304560,"question_id":74563232,"body_markdown":"I am trying to make a billing menu for a software. What i am trying to do is, I want to assign a bill id to each bill using the date, say 24/11/2022 will be converted as 24112022. This will be followed by a count as: 24112022-**01**. I want this counter to reset whenever the date changes. I can&#39;t figure it out. Any solutions?\r\nHere is the code I am using to get the date values and use them as my bill id\r\n\r\n```\r\nLocalDate date=LocalDate.now();\r\n        int d=date.getDayOfMonth();\r\n        int m=date.getMonthValue();\r\n        int y=date.getYear();\r\n        billId=String.valueOf(d)+String.valueOf(m)+String.valueOf(y)+counter++;\r\n```\r\n","title":"Reset counter after everyday Java GUI","body":"<p>I am trying to make a billing menu for a software. What i am trying to do is, I want to assign a bill id to each bill using the date, say 24/11/2022 will be converted as 24112022. This will be followed by a count as: 24112022-<strong>01</strong>. I want this counter to reset whenever the date changes. I can't figure it out. Any solutions?\nHere is the code I am using to get the date values and use them as my bill id</p>\n<pre><code>LocalDate date=LocalDate.now();\n        int d=date.getDayOfMonth();\n        int m=date.getMonthValue();\n        int y=date.getYear();\n        billId=String.valueOf(d)+String.valueOf(m)+String.valueOf(y)+counter++;\n</code></pre>\n"},{"tags":["java","pdf-generation"],"answers":[{"tags":[],"owner":{"account_id":1549628,"reputation":468,"user_id":1442341,"accept_rate":86,"display_name":"Matjaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669309726,"creation_date":1669309726,"answer_id":74564248,"question_id":72867878,"body_markdown":"You can add error listener like this:\r\n\r\n    public class PdfTransformerErrorListener implements ErrorListener {\r\n        @Override\r\n        public void warning(TransformerException exception) throws TransformerException {\r\n            log.warn(exception.getLocalizedMessage(), exception);\r\n        }\r\n\r\n        @Override\r\n        public void error(TransformerException exception) throws TransformerException {\r\n            log.error(exception.getLocalizedMessage(), exception);\r\n        }\r\n\r\n        @Override\r\n        public void fatalError(TransformerException exception) throws TransformerException {\r\n            log.error(exception.getLocalizedMessage(), exception);\r\n        }\r\n    }\r\n\r\nand use this class like that:\r\n\r\n    TransformerFactory factory = TransformerFactory.newInstance();\r\n    StreamSource source = new StreamSource(templateStream); // template stream is fop file that you use, to generate a pdf\r\n    Transformer transformer = factory.newTransformer(source); // identity\r\n    transformer.setErrorListener(new PdfTransformerErrorListener());\r\n\r\nOf course, put the generation code to try/catch and print out the exception.","title":"Generate PDF file Using Apache Fop Java","body":"<p>You can add error listener like this:</p>\n<pre><code>public class PdfTransformerErrorListener implements ErrorListener {\n    @Override\n    public void warning(TransformerException exception) throws TransformerException {\n        log.warn(exception.getLocalizedMessage(), exception);\n    }\n\n    @Override\n    public void error(TransformerException exception) throws TransformerException {\n        log.error(exception.getLocalizedMessage(), exception);\n    }\n\n    @Override\n    public void fatalError(TransformerException exception) throws TransformerException {\n        log.error(exception.getLocalizedMessage(), exception);\n    }\n}\n</code></pre>\n<p>and use this class like that:</p>\n<pre><code>TransformerFactory factory = TransformerFactory.newInstance();\nStreamSource source = new StreamSource(templateStream); // template stream is fop file that you use, to generate a pdf\nTransformer transformer = factory.newTransformer(source); // identity\ntransformer.setErrorListener(new PdfTransformerErrorListener());\n</code></pre>\n<p>Of course, put the generation code to try/catch and print out the exception.</p>\n"}],"owner":{"account_id":3976924,"reputation":147,"user_id":3279893,"accept_rate":36,"display_name":"user3279893"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669309726,"creation_date":1657016882,"question_id":72867878,"body_markdown":"Im trying to generate a pdf file using FOUserAgent in Java\r\n\r\n    public ByteArrayOutputStream generateReport() {\r\n            StringWriter sw = new StringWriter();\r\n            JAXB.marshal(errorData, sw);\r\n            InputStream xsltFile = new ClassPathResource(&quot;/location/template/fil.xls&quot;).getInputStream();\r\n    StreamSource xmlSource = new StreamSource(new StringReader(sw.toString()));\r\n        \r\n        FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\r\n      \r\n        FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, out);\r\n    \r\n        TransformerFactory factory = TransformerFactory.newInstance();\r\n          Transformer transformer = factory.newTransformer(new StreamSource(xsltFile));\r\n    \r\n          Result res = new SAXResult(fop.getDefaultHandler());\r\n          transformer.transform(xmlSource, res);\r\n    return out;\r\n    \r\n    }\r\n\r\nReport is generated. But when trying to open the pdf file following error is prompted.\r\n**There was an error opening this document. File is damaged and could not be repaired.**\r\n\r\nI can&#39;t see why it&#39;s giving this error.\r\n","title":"Generate PDF file Using Apache Fop Java","body":"<p>Im trying to generate a pdf file using FOUserAgent in Java</p>\n<pre><code>public ByteArrayOutputStream generateReport() {\n        StringWriter sw = new StringWriter();\n        JAXB.marshal(errorData, sw);\n        InputStream xsltFile = new ClassPathResource(&quot;/location/template/fil.xls&quot;).getInputStream();\nStreamSource xmlSource = new StreamSource(new StringReader(sw.toString()));\n    \n    FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\n  \n    FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, out);\n\n    TransformerFactory factory = TransformerFactory.newInstance();\n      Transformer transformer = factory.newTransformer(new StreamSource(xsltFile));\n\n      Result res = new SAXResult(fop.getDefaultHandler());\n      transformer.transform(xmlSource, res);\nreturn out;\n\n}\n</code></pre>\n<p>Report is generated. But when trying to open the pdf file following error is prompted.\n<strong>There was an error opening this document. File is damaged and could not be repaired.</strong></p>\n<p>I can't see why it's giving this error.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"owner":{"account_id":15044072,"reputation":853,"user_id":10857795,"display_name":"Johannes Pertl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669373145,"answer_count":0,"score":1,"last_activity_date":1669309663,"creation_date":1669309663,"question_id":74564233,"body_markdown":"Example: \r\n```java\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @NonNull\r\n    private String userName;\r\n\r\n    private OtherObject otherObject;\r\n\r\n    @JsonIgnore\r\n    public String getInfoBasedOnOtherObject() {\r\n        if (userName == null) {\r\n            return &quot;Option 1&quot;;\r\n        }\r\n        if (otherObject.someField == null) {\r\n            return otherObject.getSomeOtherField();\r\n        } else {\r\n            return &quot;Option 3&quot;;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nWhen getting all users in a Page with a JpaRepository by using `findAll(Sort sort);`, is it possible to sort by the `getInfoBasedOnOtherObject` method instead of an attribute?","title":"Can I sort query results by using a method instead of an attribute?","body":"<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n\n    @Id\n    private Long id;\n\n    @NonNull\n    private String userName;\n\n    private OtherObject otherObject;\n\n    @JsonIgnore\n    public String getInfoBasedOnOtherObject() {\n        if (userName == null) {\n            return &quot;Option 1&quot;;\n        }\n        if (otherObject.someField == null) {\n            return otherObject.getSomeOtherField();\n        } else {\n            return &quot;Option 3&quot;;\n        }\n    }\n\n</code></pre>\n<p>When getting all users in a Page with a JpaRepository by using <code>findAll(Sort sort);</code>, is it possible to sort by the <code>getInfoBasedOnOtherObject</code> method instead of an attribute?</p>\n"},{"tags":["java","json","jackson","lombok"],"answers":[{"comments":[{"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"score":0,"creation_date":1669321420,"post_id":74552535,"comment_id":131622989,"body_markdown":"Thanks for the reply. Yes, you guessed right :-) The fields in the JSON are different. Thanks for the explanation. I must admit I&#39;m new to Lombok and still getting to grips with it. Thanks again.","body":"Thanks for the reply. Yes, you guessed right :-) The fields in the JSON are different. Thanks for the explanation. I must admit I&#39;m new to Lombok and still getting to grips with it. Thanks again."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1669369319,"post_id":74552535,"comment_id":131631003,"body_markdown":"If my answer solved your problem, please mark it as accepted. Otherwise feel free to ask here, I&#39;ll update the answer in case there is something unclear.","body":"If my answer solved your problem, please mark it as accepted. Otherwise feel free to ask here, I&#39;ll update the answer in case there is something unclear."}],"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669309300,"creation_date":1669234634,"answer_id":74552535,"question_id":74544444,"body_markdown":"Before explaining why this does not work, I must admit I do not understand what you are trying to achieve with your current code.\r\n\r\nYou are using a lombok `@Builder`, but you do *a lot* of customizing. Most confusing for me is that you define your own setter methods in the builder (with different names than the fields!) in addition to the setter methods generated by lombok. So you end up having a builder that has duplicate setter methods, and the way you implement it make the lombok-generated methods useless when calling `createEmployee` (their values will only be used in the lombok-generated `build` method, which in turn does not use the other values). This is heavily prone to wrong usage and bugs.\r\n\r\nJust guessing: Are you doing this because fields in the JSON have different names than the fields you have in your POJO? If that&#39;s that case, your solution should be `@JsonProperty(&quot;fieldNameInJson&quot;)` on the fields in the POJO. In this way, you won&#39;t have to customize anything in the builder.\r\n\r\nThat being said, the problem here is that `@Jacksonized` generates all necessary annotations for you that make Jackson use the generated builder. However, you are interfering by adding one of those annotations (`@JsonPOJOBuilder`) yourself. Lombok adds a second `@JsonPOJOBuilder`, and that results in the error you are observing.\r\n\r\nIf you really need to add your own builder setter methods, reuse the builder fields of lombok when implementing a second setter method. Then use `@Builder(buildMethodName = &quot;createEmployee&quot;, setterPrefix = &quot;construct&quot;)` on the POJO class and remove the `@JsonPOJOBuilder` (lombok will create it for you).","title":"Unable to use @Jacksonized with @JsonPOJOBuilder","body":"<p>Before explaining why this does not work, I must admit I do not understand what you are trying to achieve with your current code.</p>\n<p>You are using a lombok <code>@Builder</code>, but you do <em>a lot</em> of customizing. Most confusing for me is that you define your own setter methods in the builder (with different names than the fields!) in addition to the setter methods generated by lombok. So you end up having a builder that has duplicate setter methods, and the way you implement it make the lombok-generated methods useless when calling <code>createEmployee</code> (their values will only be used in the lombok-generated <code>build</code> method, which in turn does not use the other values). This is heavily prone to wrong usage and bugs.</p>\n<p>Just guessing: Are you doing this because fields in the JSON have different names than the fields you have in your POJO? If that's that case, your solution should be <code>@JsonProperty(&quot;fieldNameInJson&quot;)</code> on the fields in the POJO. In this way, you won't have to customize anything in the builder.</p>\n<p>That being said, the problem here is that <code>@Jacksonized</code> generates all necessary annotations for you that make Jackson use the generated builder. However, you are interfering by adding one of those annotations (<code>@JsonPOJOBuilder</code>) yourself. Lombok adds a second <code>@JsonPOJOBuilder</code>, and that results in the error you are observing.</p>\n<p>If you really need to add your own builder setter methods, reuse the builder fields of lombok when implementing a second setter method. Then use <code>@Builder(buildMethodName = &quot;createEmployee&quot;, setterPrefix = &quot;construct&quot;)</code> on the POJO class and remove the <code>@JsonPOJOBuilder</code> (lombok will create it for you).</p>\n"}],"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552535,"answer_count":1,"score":0,"last_activity_date":1669309300,"creation_date":1669195646,"question_id":74544444,"body_markdown":"I have the following simple POJO:\r\n\r\n```\r\n@Data\r\n@Builder(builderClassName = &quot;EmployeeBuilder&quot;)\r\n@Jacksonized\r\npublic class Employee {\r\n\r\n    private int identity;\r\n    private String firstName;\r\n    \r\n    @JsonPOJOBuilder(buildMethodName = &quot;createEmployee&quot;, withPrefix = &quot;construct&quot;)\r\n    public static class EmployeeBuilder {\r\n\r\n        private int idValue;\r\n        private String nameValue;\r\n\r\n        public EmployeeBuilder constructId(int id) {\r\n            idValue = id;\r\n            return this;\r\n        }\r\n            \r\n        public EmployeeBuilder constructName(String name) {\r\n            nameValue = name;\r\n            return this;\r\n        }\r\n\r\n        public Employee createEmployee() {\r\n            return new Employee(idValue, nameValue);\r\n        }\r\n    }\r\n}\r\n```\r\nEverything compiles and works in Eclipse OK, however when I try to compile via Maven and JDK jdk8u345-b01 I get the following error:\r\n\r\n```\r\nEmployee.java:[15,8] com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder is not a repeatable annotation type\r\n```\r\n\r\nI&#39;ve no idea what this even means to be honest but I&#39;m using the latest version of Lombok 1.18.24 and Jackson 2.14.0\r\n\r\nThanks,\r\n","title":"Unable to use @Jacksonized with @JsonPOJOBuilder","body":"<p>I have the following simple POJO:</p>\n<pre><code>@Data\n@Builder(builderClassName = &quot;EmployeeBuilder&quot;)\n@Jacksonized\npublic class Employee {\n\n    private int identity;\n    private String firstName;\n    \n    @JsonPOJOBuilder(buildMethodName = &quot;createEmployee&quot;, withPrefix = &quot;construct&quot;)\n    public static class EmployeeBuilder {\n\n        private int idValue;\n        private String nameValue;\n\n        public EmployeeBuilder constructId(int id) {\n            idValue = id;\n            return this;\n        }\n            \n        public EmployeeBuilder constructName(String name) {\n            nameValue = name;\n            return this;\n        }\n\n        public Employee createEmployee() {\n            return new Employee(idValue, nameValue);\n        }\n    }\n}\n</code></pre>\n<p>Everything compiles and works in Eclipse OK, however when I try to compile via Maven and JDK jdk8u345-b01 I get the following error:</p>\n<pre><code>Employee.java:[15,8] com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder is not a repeatable annotation type\n</code></pre>\n<p>I've no idea what this even means to be honest but I'm using the latest version of Lombok 1.18.24 and Jackson 2.14.0</p>\n<p>Thanks,</p>\n"},{"tags":["java","json","jackson","protocol-buffers","protoc"],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1669309255,"creation_date":1669309255,"question_id":74564153,"body_markdown":"I am getting an error \r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot find a (Map) Key deserializer for type [simple type, class com.google.protobuf.Descriptors$FieldDescriptor]\r\nwhen I attempt to deserialize the following\r\n\r\n```\r\n{\r\n  &quot;snmpTrapAddress&quot;:&quot;*&quot;,\r\n  &quot;snmpTrapPort&quot;:10162,\r\n  &quot;newSuspectOnTrap&quot;:false,&quot;snmpV3Users&quot;:[],\r\n  &quot;includeRawMessage&quot;:false,\r\n  &quot;batchSize&quot;:1000,\r\n  &quot;queueSize&quot;:10000,\r\n  &quot;numThreads&quot;:24,\r\n  &quot;batchIntervalMs&quot;:500\r\n}\r\n```\r\nwith the following code:\r\n```\r\n    private TrapConfigBean readTrapConfig() {\r\n        try {\r\n            URL url = this.getClass().getResource(&quot;/trapd-config.json&quot;);\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,false);\r\n            return objectMapper.readValue(url, TrapConfigBean.class);\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n```\r\n```\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport generated.SnmpV3User;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;snmpTrapAddress&quot;,\r\n    &quot;snmpTrapPort&quot;,\r\n    &quot;newSuspectOnTrap&quot;,\r\n    &quot;snmpV3Users&quot;,\r\n    &quot;includeRawMessage&quot;,\r\n    &quot;batchSize&quot;,\r\n    &quot;queueSize&quot;,\r\n    &quot;numThreads&quot;,\r\n    &quot;batchIntervalMs&quot;\r\n})\r\npublic class TrapConfigBean implements Serializable {\r\n\r\n    @JsonProperty(&quot;snmpTrapAddress&quot;)\r\n    private String snmpTrapAddress;\r\n    @JsonProperty(&quot;snmpTrapPort&quot;)\r\n    private Integer snmpTrapPort;\r\n    @JsonProperty(&quot;newSuspectOnTrap&quot;)\r\n    private Boolean newSuspectOnTrap;\r\n    @JsonProperty(&quot;snmpV3Users&quot;)\r\n    private List&lt;SnmpV3User&gt; snmpV3Users = null;\r\n    @JsonProperty(&quot;includeRawMessage&quot;)\r\n    private Boolean includeRawMessage;\r\n    @JsonProperty(&quot;batchSize&quot;)\r\n    private Integer batchSize;\r\n    @JsonProperty(&quot;queueSize&quot;)\r\n    private Integer queueSize;\r\n    @JsonProperty(&quot;numThreads&quot;)\r\n    private Integer numThreads;\r\n    @JsonProperty(&quot;batchIntervalMs&quot;)\r\n    private Integer batchIntervalMs;\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n    @JsonProperty(&quot;snmpTrapAddress&quot;)\r\n    public String getSnmpTrapAddress() {\r\n        return snmpTrapAddress;\r\n    }\r\n\r\n    @JsonProperty(&quot;snmpTrapAddress&quot;)\r\n    public void setSnmpTrapAddress(String snmpTrapAddress) {\r\n        this.snmpTrapAddress = snmpTrapAddress;\r\n    }\r\n\r\n    @JsonProperty(&quot;snmpTrapPort&quot;)\r\n    public Integer getSnmpTrapPort() {\r\n        return snmpTrapPort;\r\n    }\r\n\r\n    @JsonProperty(&quot;snmpTrapPort&quot;)\r\n    public void setSnmpTrapPort(Integer snmpTrapPort) {\r\n        this.snmpTrapPort = snmpTrapPort;\r\n    }\r\n\r\n    @JsonProperty(&quot;newSuspectOnTrap&quot;)\r\n    public Boolean getNewSuspectOnTrap() {\r\n        return newSuspectOnTrap;\r\n    }\r\n\r\n    @JsonProperty(&quot;newSuspectOnTrap&quot;)\r\n    public void setNewSuspectOnTrap(Boolean newSuspectOnTrap) {\r\n        this.newSuspectOnTrap = newSuspectOnTrap;\r\n    }\r\n\r\n    @JsonProperty(&quot;snmpV3Users&quot;)\r\n    public List&lt;SnmpV3User&gt; getSnmpV3Users() {\r\n        return snmpV3Users;\r\n    }\r\n\r\n    @JsonProperty(&quot;snmpV3Users&quot;)\r\n    public void setSnmpV3Users(List&lt;SnmpV3User&gt; snmpV3Users) {\r\n        this.snmpV3Users = snmpV3Users;\r\n    }\r\n\r\n    @JsonProperty(&quot;includeRawMessage&quot;)\r\n    public Boolean isIncludeRawMessage() {\r\n        return includeRawMessage;\r\n    }\r\n\r\n    @JsonProperty(&quot;includeRawMessage&quot;)\r\n    public void setIncludeRawMessage(Boolean includeRawMessage) {\r\n        this.includeRawMessage = includeRawMessage;\r\n    }\r\n\r\n    @JsonProperty(&quot;batchSize&quot;)\r\n    public Integer getBatchSize() {\r\n        return batchSize;\r\n    }\r\n\r\n    @JsonProperty(&quot;batchSize&quot;)\r\n    public void setBatchSize(Integer batchSize) {\r\n        this.batchSize = batchSize;\r\n    }\r\n\r\n    @JsonProperty(&quot;queueSize&quot;)\r\n    public Integer getQueueSize() {\r\n        return queueSize;\r\n    }\r\n\r\n    @JsonProperty(&quot;queueSize&quot;)\r\n    public void setQueueSize(Integer queueSize) {\r\n        this.queueSize = queueSize;\r\n    }\r\n\r\n    @JsonProperty(&quot;numThreads&quot;)\r\n    public Integer getNumThreads() {\r\n        return numThreads;\r\n    }\r\n\r\n    @JsonProperty(&quot;numThreads&quot;)\r\n    public void setNumThreads(Integer numThreads) {\r\n        this.numThreads = numThreads;\r\n    }\r\n\r\n    @JsonProperty(&quot;batchIntervalMs&quot;)\r\n    public Integer getBatchIntervalMs() {\r\n        return batchIntervalMs;\r\n    }\r\n\r\n    @JsonProperty(&quot;batchIntervalMs&quot;)\r\n    public void setBatchIntervalMs(Integer batchIntervalMs) {\r\n        this.batchIntervalMs = batchIntervalMs;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n}\r\n\r\n```\r\nSnmpV3User is generated from the following proto file:\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\nimport &quot;google/protobuf/any.proto&quot;;\r\n\r\npackage traps;\r\noption java_multiple_files = true;\r\noption java_package = &quot;generated&quot;;\r\n\r\nmessage TrapConfig {\r\n  string snmp_trap_address = 1;\r\n  int32 snmp_trap_port = 2;\r\n  bool new_suspect_on_trap = 3;\r\n  bool include_raw_message = 4;\r\n  bool use_address_from_varbind = 5;\r\n  repeated SnmpV3User snmp_v3_user = 6;\r\n  ListenerConfig listener_config = 7;\r\n}\r\n\r\nmessage SnmpV3User {\r\n  string engine_id = 1;\r\n  string security_name = 2;\r\n  int32 security_level = 3;\r\n  string auth_passphrase = 4;\r\n  string privacy_passphrase = 5;\r\n  string auth_protocol = 6;\r\n  string privacy_protocol = 7;\r\n}\r\n\r\nmessage ListenerConfig {\r\n  int32  queue_size = 1;\r\n  int32  batch_size = 2;\r\n  int32  batch_interval_ms = 3;\r\n  int32  num_threads = 4;\r\n}\r\n\r\n```\r\n```\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot find a (Map) Key deserializer for type [simple type, class com.google.protobuf.Descriptors$FieldDescriptor]\r\n at [Source: (URL); line: 1, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._handleUnknownKeyDeserializer(DeserializerCache.java:603)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findKeyDeserializer(DeserializerCache.java:168)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findKeyDeserializer(DeserializationContext.java:675)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.createContextual(MapDeserializer.java:314)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handlePrimaryContextualization(DeserializationContext.java:830)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:550)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:294)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:615)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:188)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:28)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handlePrimaryContextualization(DeserializationContext.java:830)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:550)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:294)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4861)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4731)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3608)\r\n\tat myMethod(TrapConfigService.java:95)\r\n```\r\n\r\nIf I change snmpV3Users to a List&lt;Object&gt; it deserialises correctly, but I can&#39;t keep my code like that.\r\n","title":"Jackson deserialization error with List of class generated from proto file: Cannot find a (Map) Key deserializer for type","body":"<p>I am getting an error\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot find a (Map) Key deserializer for type [simple type, class com.google.protobuf.Descriptors$FieldDescriptor]\nwhen I attempt to deserialize the following</p>\n<pre><code>{\n  &quot;snmpTrapAddress&quot;:&quot;*&quot;,\n  &quot;snmpTrapPort&quot;:10162,\n  &quot;newSuspectOnTrap&quot;:false,&quot;snmpV3Users&quot;:[],\n  &quot;includeRawMessage&quot;:false,\n  &quot;batchSize&quot;:1000,\n  &quot;queueSize&quot;:10000,\n  &quot;numThreads&quot;:24,\n  &quot;batchIntervalMs&quot;:500\n}\n</code></pre>\n<p>with the following code:</p>\n<pre><code>    private TrapConfigBean readTrapConfig() {\n        try {\n            URL url = this.getClass().getResource(&quot;/trapd-config.json&quot;);\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,false);\n            return objectMapper.readValue(url, TrapConfigBean.class);\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n</code></pre>\n<pre><code>\nimport java.io.Serializable;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport generated.SnmpV3User;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;snmpTrapAddress&quot;,\n    &quot;snmpTrapPort&quot;,\n    &quot;newSuspectOnTrap&quot;,\n    &quot;snmpV3Users&quot;,\n    &quot;includeRawMessage&quot;,\n    &quot;batchSize&quot;,\n    &quot;queueSize&quot;,\n    &quot;numThreads&quot;,\n    &quot;batchIntervalMs&quot;\n})\npublic class TrapConfigBean implements Serializable {\n\n    @JsonProperty(&quot;snmpTrapAddress&quot;)\n    private String snmpTrapAddress;\n    @JsonProperty(&quot;snmpTrapPort&quot;)\n    private Integer snmpTrapPort;\n    @JsonProperty(&quot;newSuspectOnTrap&quot;)\n    private Boolean newSuspectOnTrap;\n    @JsonProperty(&quot;snmpV3Users&quot;)\n    private List&lt;SnmpV3User&gt; snmpV3Users = null;\n    @JsonProperty(&quot;includeRawMessage&quot;)\n    private Boolean includeRawMessage;\n    @JsonProperty(&quot;batchSize&quot;)\n    private Integer batchSize;\n    @JsonProperty(&quot;queueSize&quot;)\n    private Integer queueSize;\n    @JsonProperty(&quot;numThreads&quot;)\n    private Integer numThreads;\n    @JsonProperty(&quot;batchIntervalMs&quot;)\n    private Integer batchIntervalMs;\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(&quot;snmpTrapAddress&quot;)\n    public String getSnmpTrapAddress() {\n        return snmpTrapAddress;\n    }\n\n    @JsonProperty(&quot;snmpTrapAddress&quot;)\n    public void setSnmpTrapAddress(String snmpTrapAddress) {\n        this.snmpTrapAddress = snmpTrapAddress;\n    }\n\n    @JsonProperty(&quot;snmpTrapPort&quot;)\n    public Integer getSnmpTrapPort() {\n        return snmpTrapPort;\n    }\n\n    @JsonProperty(&quot;snmpTrapPort&quot;)\n    public void setSnmpTrapPort(Integer snmpTrapPort) {\n        this.snmpTrapPort = snmpTrapPort;\n    }\n\n    @JsonProperty(&quot;newSuspectOnTrap&quot;)\n    public Boolean getNewSuspectOnTrap() {\n        return newSuspectOnTrap;\n    }\n\n    @JsonProperty(&quot;newSuspectOnTrap&quot;)\n    public void setNewSuspectOnTrap(Boolean newSuspectOnTrap) {\n        this.newSuspectOnTrap = newSuspectOnTrap;\n    }\n\n    @JsonProperty(&quot;snmpV3Users&quot;)\n    public List&lt;SnmpV3User&gt; getSnmpV3Users() {\n        return snmpV3Users;\n    }\n\n    @JsonProperty(&quot;snmpV3Users&quot;)\n    public void setSnmpV3Users(List&lt;SnmpV3User&gt; snmpV3Users) {\n        this.snmpV3Users = snmpV3Users;\n    }\n\n    @JsonProperty(&quot;includeRawMessage&quot;)\n    public Boolean isIncludeRawMessage() {\n        return includeRawMessage;\n    }\n\n    @JsonProperty(&quot;includeRawMessage&quot;)\n    public void setIncludeRawMessage(Boolean includeRawMessage) {\n        this.includeRawMessage = includeRawMessage;\n    }\n\n    @JsonProperty(&quot;batchSize&quot;)\n    public Integer getBatchSize() {\n        return batchSize;\n    }\n\n    @JsonProperty(&quot;batchSize&quot;)\n    public void setBatchSize(Integer batchSize) {\n        this.batchSize = batchSize;\n    }\n\n    @JsonProperty(&quot;queueSize&quot;)\n    public Integer getQueueSize() {\n        return queueSize;\n    }\n\n    @JsonProperty(&quot;queueSize&quot;)\n    public void setQueueSize(Integer queueSize) {\n        this.queueSize = queueSize;\n    }\n\n    @JsonProperty(&quot;numThreads&quot;)\n    public Integer getNumThreads() {\n        return numThreads;\n    }\n\n    @JsonProperty(&quot;numThreads&quot;)\n    public void setNumThreads(Integer numThreads) {\n        this.numThreads = numThreads;\n    }\n\n    @JsonProperty(&quot;batchIntervalMs&quot;)\n    public Integer getBatchIntervalMs() {\n        return batchIntervalMs;\n    }\n\n    @JsonProperty(&quot;batchIntervalMs&quot;)\n    public void setBatchIntervalMs(Integer batchIntervalMs) {\n        this.batchIntervalMs = batchIntervalMs;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n}\n\n</code></pre>\n<p>SnmpV3User is generated from the following proto file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nimport &quot;google/protobuf/any.proto&quot;;\n\npackage traps;\noption java_multiple_files = true;\noption java_package = &quot;generated&quot;;\n\nmessage TrapConfig {\n  string snmp_trap_address = 1;\n  int32 snmp_trap_port = 2;\n  bool new_suspect_on_trap = 3;\n  bool include_raw_message = 4;\n  bool use_address_from_varbind = 5;\n  repeated SnmpV3User snmp_v3_user = 6;\n  ListenerConfig listener_config = 7;\n}\n\nmessage SnmpV3User {\n  string engine_id = 1;\n  string security_name = 2;\n  int32 security_level = 3;\n  string auth_passphrase = 4;\n  string privacy_passphrase = 5;\n  string auth_protocol = 6;\n  string privacy_protocol = 7;\n}\n\nmessage ListenerConfig {\n  int32  queue_size = 1;\n  int32  batch_size = 2;\n  int32  batch_interval_ms = 3;\n  int32  num_threads = 4;\n}\n\n</code></pre>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot find a (Map) Key deserializer for type [simple type, class com.google.protobuf.Descriptors$FieldDescriptor]\n at [Source: (URL); line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._handleUnknownKeyDeserializer(DeserializerCache.java:603)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findKeyDeserializer(DeserializerCache.java:168)\n    at com.fasterxml.jackson.databind.DeserializationContext.findKeyDeserializer(DeserializationContext.java:675)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.createContextual(MapDeserializer.java:314)\n    at com.fasterxml.jackson.databind.DeserializationContext.handlePrimaryContextualization(DeserializationContext.java:830)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:550)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:294)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:615)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:188)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.DeserializationContext.handlePrimaryContextualization(DeserializationContext.java:830)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:550)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:294)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\n    at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4861)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4731)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3608)\n    at myMethod(TrapConfigService.java:95)\n</code></pre>\n<p>If I change snmpV3Users to a List it deserialises correctly, but I can't keep my code like that.</p>\n"},{"tags":["java","jakarta-ee","java-ee-8","stereotype"],"answers":[{"tags":[],"owner":{"account_id":463176,"reputation":2496,"user_id":865910,"accept_rate":73,"display_name":"Ordiel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669309202,"creation_date":1669309202,"answer_id":74564144,"question_id":74059131,"body_markdown":"The answer is [here](https://docs.jboss.org/weld/reference/5.0.0.Final/en-US/html_single/#alternatives)\r\n\r\nwhere it clearly states:\r\n\r\n&gt; By default, @Alternative beans are disabled. We need to enable an alternative in the beans.xml descriptor of a bean archive to make it available for instantiation and injection. However, this activation only applies to the beans in that archive.\r\n\r\n&gt;From CDI 1.1 onwards the alternative can be enabled for the whole application using @Priority annotation.\r\n\r\n\r\n\r\n ","title":"Define stereotype to use on different project","body":"<p>The answer is <a href=\"https://docs.jboss.org/weld/reference/5.0.0.Final/en-US/html_single/#alternatives\" rel=\"nofollow noreferrer\">here</a></p>\n<p>where it clearly states:</p>\n<blockquote>\n<p>By default, @Alternative beans are disabled. We need to enable an alternative in the beans.xml descriptor of a bean archive to make it available for instantiation and injection. However, this activation only applies to the beans in that archive.</p>\n</blockquote>\n<blockquote>\n<p>From CDI 1.1 onwards the alternative can be enabled for the whole application using @Priority annotation.</p>\n</blockquote>\n"}],"owner":{"account_id":463176,"reputation":2496,"user_id":865910,"accept_rate":73,"display_name":"Ordiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669309202,"creation_date":1665678927,"question_id":74059131,"body_markdown":"I have 2 java-ee (helidon-mp) projects (Lets say **A** and **B)**, both share some logic which is encapsulated on a separate project/jar/dependency, the projects are similar yet not identical, to handle those differences I consider it would be a good idea to create a [Stereotype](https://docs.jboss.org/weld/reference/latest/en-US/html/stereotypes.html) which would allow me to specify when do I want to create/provide instances *tuned* for either **A** or **B** project. Given the shared dependency project creates beans it has its own `beans.xml` file, just as both of the projects that depend on it.\r\n\r\n**The problem**\r\n\r\nI would like to be able to specify the desired *stereotype* to use within the `beans.xml` file of each project, yet when I specify the stereotype at the project level, such configuration is not passed down to the dependency project; this throws an exception with a message similar to the following one:\r\n\r\n```\r\nWELD-001408: Unsatisfied dependencies for type NeededClassForAProject with qualifiers @Default\r\n  at injection point [BackedAnnotatedParameter] Parameter 1 of [BackedAnnotatedConstructor] @Inject public the.project.class.injecting.dependency.ProjectA(NeededClassForAProject)\r\n  at the.project.class.injecting.dependency.ProjectA.&lt;init&gt;(ProjectA.java:0)\r\n```\r\n\r\n When I define the *stereotype* within the dependency `beans.xml` everything works like a charm yet this causes that whenever I need to work with Project **A** I need to update (and rebuild) the dependency project changing its `beans.xml` indicating I want to use the configuration for **A** and same goes whenever I switch to working with project **B**\r\n\r\n**The question itself:**\r\n\r\nIs it possible to keep my configuration at the project level `beans.xml` and make the dependency project recognize such configuration from the parent project? how ","title":"Define stereotype to use on different project","body":"<p>I have 2 java-ee (helidon-mp) projects (Lets say <strong>A</strong> and <strong>B)</strong>, both share some logic which is encapsulated on a separate project/jar/dependency, the projects are similar yet not identical, to handle those differences I consider it would be a good idea to create a <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/stereotypes.html\" rel=\"nofollow noreferrer\">Stereotype</a> which would allow me to specify when do I want to create/provide instances <em>tuned</em> for either <strong>A</strong> or <strong>B</strong> project. Given the shared dependency project creates beans it has its own <code>beans.xml</code> file, just as both of the projects that depend on it.</p>\n<p><strong>The problem</strong></p>\n<p>I would like to be able to specify the desired <em>stereotype</em> to use within the <code>beans.xml</code> file of each project, yet when I specify the stereotype at the project level, such configuration is not passed down to the dependency project; this throws an exception with a message similar to the following one:</p>\n<pre><code>WELD-001408: Unsatisfied dependencies for type NeededClassForAProject with qualifiers @Default\n  at injection point [BackedAnnotatedParameter] Parameter 1 of [BackedAnnotatedConstructor] @Inject public the.project.class.injecting.dependency.ProjectA(NeededClassForAProject)\n  at the.project.class.injecting.dependency.ProjectA.&lt;init&gt;(ProjectA.java:0)\n</code></pre>\n<p>When I define the <em>stereotype</em> within the dependency <code>beans.xml</code> everything works like a charm yet this causes that whenever I need to work with Project <strong>A</strong> I need to update (and rebuild) the dependency project changing its <code>beans.xml</code> indicating I want to use the configuration for <strong>A</strong> and same goes whenever I switch to working with project <strong>B</strong></p>\n<p><strong>The question itself:</strong></p>\n<p>Is it possible to keep my configuration at the project level <code>beans.xml</code> and make the dependency project recognize such configuration from the parent project? how</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1669247756,"post_id":74554118,"comment_id":131603952,"body_markdown":"&quot;but not worked&quot; is not a problem description. Create a test that creates a predefined `List&lt;Product&gt;` with specific prices. Please show your attempt.","body":"&quot;but not worked&quot; is not a problem description. Create a test that creates a predefined <code>List&lt;Product&gt;</code> with specific prices. Please show your attempt."},{"owner":{"account_id":4112651,"reputation":17,"user_id":3375082,"display_name":"cassioliveira"},"score":0,"creation_date":1669272849,"post_id":74554118,"comment_id":131607924,"body_markdown":"True and sorry @f1sh. I updated the question with my test case and the returned failure. Tranks!","body":"True and sorry @f1sh. I updated the question with my test case and the returned failure. Tranks!"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1669276108,"post_id":74554118,"comment_id":131608828,"body_markdown":"Either there&#39;s a null Product or `getPrice()` is returning null.","body":"Either there&#39;s a null Product or <code>getPrice()</code> is returning null."}],"answers":[{"comments":[{"owner":{"account_id":4112651,"reputation":17,"user_id":3375082,"display_name":"cassioliveira"},"score":0,"creation_date":1669275695,"post_id":74556709,"comment_id":131608692,"body_markdown":"Thanks! Really was a mistake during copy and paste the commands but not solve the problem.","body":"Thanks! Really was a mistake during copy and paste the commands but not solve the problem."},{"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"score":1,"creation_date":1669280359,"post_id":74556709,"comment_id":131610215,"body_markdown":"You should not have the same NullPointerException failure any more...","body":"You should not have the same NullPointerException failure any more..."}],"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669272977,"creation_date":1669272977,"answer_id":74556709,"question_id":74554118,"body_markdown":"You have a typo in your code, you are setting the price for `product` twice, and not at all for `product2`…","title":"How to build Junit tests for a Comparator.comparing?","body":"<p>You have a typo in your code, you are setting the price for <code>product</code> twice, and not at all for <code>product2</code>…</p>\n"}],"owner":{"account_id":4112651,"reputation":17,"user_id":3375082,"display_name":"cassioliveira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669308492,"creation_date":1669247152,"question_id":74554118,"body_markdown":"After several times trying to solve a sort problem, the only way who worked was using a implementation like this:\r\n\r\n\r\n```java\r\nList&lt;Product&gt; productsList = new ArrayList&lt;&gt;();\r\n\r\nproductsList = myRepository.queryResult();\r\n\r\nproductsList.sort(Comparator.comparing(Product::getPrice));\r\n\r\n```\r\nBasicaly, this code take price attibute as key to sort values in ascending mode.\r\n\r\nHowever, my problem is to build a test for Comparator code.\r\n\r\nI had tried to create two objects and sort them to compare but not worked:\r\n```java\r\n@Test\r\npublic void getComparisonProducts{\r\n    List&lt;Product&gt; productsList = new ArrayList&lt;&gt;();\r\n    Product product = new Product();\r\n    product.setPrice(11.22);\r\n\r\n    productsList.add(product)\r\n\r\n    Product product2 = new Product();\r\n    product2.setPrice(22.11);\r\n\r\n    productsList.add(product2)\r\n\r\n    Comparator&lt;Product&gt; comparator = Comparator.comparing(Product::getPrice);\r\n\r\n    productsList.sort(comparator);\r\n\r\n    assertEquals(comparator.compare(productsList.get(0), productsList.get(1)), -1);\r\n}\r\n```\r\nRuning the test, I have this failure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSome Google&#39;s researchs not helped yet.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0mcb2.png","title":"How to build Junit tests for a Comparator.comparing?","body":"<p>After several times trying to solve a sort problem, the only way who worked was using a implementation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Product&gt; productsList = new ArrayList&lt;&gt;();\n\nproductsList = myRepository.queryResult();\n\nproductsList.sort(Comparator.comparing(Product::getPrice));\n\n</code></pre>\n<p>Basicaly, this code take price attibute as key to sort values in ascending mode.</p>\n<p>However, my problem is to build a test for Comparator code.</p>\n<p>I had tried to create two objects and sort them to compare but not worked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void getComparisonProducts{\n    List&lt;Product&gt; productsList = new ArrayList&lt;&gt;();\n    Product product = new Product();\n    product.setPrice(11.22);\n\n    productsList.add(product)\n\n    Product product2 = new Product();\n    product2.setPrice(22.11);\n\n    productsList.add(product2)\n\n    Comparator&lt;Product&gt; comparator = Comparator.comparing(Product::getPrice);\n\n    productsList.sort(comparator);\n\n    assertEquals(comparator.compare(productsList.get(0), productsList.get(1)), -1);\n}\n</code></pre>\n<p>Runing the test, I have this failure:</p>\n<p><a href=\"https://i.stack.imgur.com/0mcb2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mcb2.png\" alt=\"enter image description here\" /></a></p>\n<p>Some Google's researchs not helped yet.</p>\n"},{"tags":["java","hashmap","java-stream","collectors","groupingby"],"comments":[{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1669203170,"post_id":74534374,"comment_id":131589922,"body_markdown":"I tried this code only for sum up salary-                                                   \n   `Function&lt;Student, List&lt;Object&gt;&gt; compositeKey1 = personRecord -&gt;\n\t\t\tArrays.&lt;Object&gt;asList(personRecord.getName(), personRecord.getAge(),personRecord.getCity());  \n \nstudent.stream().collect(Collectors.groupingBy(compositeKey1,Collectors.summingDouble(s -&gt; s.getSalary()))).\n\t\t\t\tentrySet().stream().map(entry -&gt; entry.getKey().toArray())\n\t\t\t\t.collect(Collectors.toList());`                              No luck","body":"I tried this code only for sum up salary-                                                       <code>Function&lt;Student, List&lt;Object&gt;&gt; compositeKey1 = personRecord -&gt; \t\t\tArrays.&lt;Object&gt;asList(personRecord.getName(), personRecord.getAge(),personRecord.getCity());     student.stream().collect(Collectors.groupingBy(compositeKey1&zwnj;&#8203;,Collectors.summingD&zwnj;&#8203;ouble(s -&gt; s.getSalary()))). \t\t\t\tentrySet().stream().map(entry -&gt; entry.getKey().toArray()) \t\t\t\t.collect(Collectors.toList());</code>                              No luck"},{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1669218043,"post_id":74534374,"comment_id":131595650,"body_markdown":"I want the solution of groupby of more than 2 fields and then sum up more than 1 field which will return the List of same abject. I tried for groupby more than 2 fields but sumup only one field but the solution didnt workout.","body":"I want the solution of groupby of more than 2 fields and then sum up more than 1 field which will return the List of same abject. I tried for groupby more than 2 fields but sumup only one field but the solution didnt workout."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669218167,"post_id":74534374,"comment_id":131595695,"body_markdown":"Sorry, but you have not provided a **compilation error** (the code you&#39;ve posted obviously would not compile). See the guidelines on how to ask questions [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask). Phrases like &quot;didnt work&quot; doesn&#39;t add information problem description.","body":"Sorry, but you have not provided a <b>compilation error</b> (the code you&#39;ve posted obviously would not compile). See the guidelines on how to ask questions <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>. Phrases like &quot;didnt work&quot; doesn&#39;t add information problem description."},{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1669265629,"post_id":74534374,"comment_id":131606533,"body_markdown":"Compilation error for above code is- ```Required type:\nList\n&lt;Student&gt;\nProvided:\nList\n&lt;Object[]&gt;\nno instance(s) of type variable(s) exist so that Object[] conforms to Student inference variable T has incompatible bounds: equality constraints: Student lower bounds: Object[]```","body":"Compilation error for above code is- <code>Required type: List &lt;Student&gt; Provided: List &lt;Object[]&gt; no instance(s) of type variable(s) exist so that Object[] conforms to Student inference variable T has incompatible bounds: equality constraints: Student lower bounds: Object[]</code>"},{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1669272707,"post_id":74534374,"comment_id":131607900,"body_markdown":"Also tried one more solution with constructor- ```List&lt;Student&gt; res = new ArrayList&lt;&gt;(student.stream()\n\t\t\t\t.collect(Collectors.toMap(\n\t\t\t\t\t\tec -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ec.getName(),ec.getAge(),ec.getCity()),\n\t\t\t\t\t\tFunction.identity(),\n\t\t\t\t\t\t(a, b) -&gt; new Student(a.getName(), a.getAge(), a.getCity(),a.getSalary().add(b.getSalary()),a.getIncentive().add(b.getIncentive()))))\n\t\t\t\t.values());```  Compile error- Cannot resolve constructor &#39;SimpleEntry(String, int, String)&#39; and Cannot resolve method &#39;add(double)&#39;","body":"Also tried one more solution with constructor- <code>List&lt;Student&gt; res = new ArrayList&lt;&gt;(student.stream() \t\t\t\t.collect(Collectors.toMap( \t\t\t\t\t\tec -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ec.getName(),ec.getAge(),ec.getCit&zwnj;&#8203;y()), \t\t\t\t\t\tFunction.identity(), \t\t\t\t\t\t(a, b) -&gt; new Student(a.getName(), a.getAge(), a.getCity(),a.getSalary().add(b.getSalary()),a.getIncentive(&zwnj;&#8203;).add(b.getIncentive&zwnj;&#8203;())))) \t\t\t\t.values());</code>  Compile error- Cannot resolve constructor &#39;SimpleEntry(String, int, String)&#39; and Cannot resolve method &#39;add(double)&#39;"}],"answers":[{"comments":[{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1669384074,"post_id":74563369,"comment_id":131635704,"body_markdown":"Thanks for the answer. One solution from my side also-","body":"Thanks for the answer. One solution from my side also-"},{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1669384123,"post_id":74563369,"comment_id":131635723,"body_markdown":"```Function&lt;Student, List&lt;Object&gt;&gt; compositeKey1 = personRecord -&gt; \t\t\tArrays.&lt;Object&gt;asList(personRecord.getName(), personRecord.getAge(),personRecord.getCity());     \n\nstudent.stream().collect(Collectors.groupingBy(compositeKey1)).entrySet().stream().map(e -&gt; e.getValue().stream().reduce((f1, f2) -&gt; new Student(f1.getName(), f1.getAge(), f1.getCity(), f1.getSalary()+f2.getSalary()),f1.getIncentive()+f2.getIncentive()))).map(f -&gt; f.get()).collect(Collectors.toList());```","body":"<code>Function&lt;Student, List&lt;Object&gt;&gt; compositeKey1 = personRecord -&gt; \t\t\tArrays.&lt;Object&gt;asList(personRecord.getName(), personRecord.getAge(),personRecord.getCity());       student.stream().collect(Collectors.groupingBy(compositeKey1&zwnj;&#8203;)).entrySet().stream&zwnj;&#8203;().map(e -&gt; e.getValue().stream().reduce((f1, f2) -&gt; new Student(f1.getName(), f1.getAge(), f1.getCity(), f1.getSalary()+f2.getSalary()),f1.getIncentive()+f2.getIncen&zwnj;&#8203;tive()))).map(f -&gt; f.get()).collect(Collectors.toList());</code>"},{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1669384231,"post_id":74563369,"comment_id":131635747,"body_markdown":"unable to round of the salary and incentive values here.","body":"unable to round of the salary and incentive values here."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669387335,"post_id":74563369,"comment_id":131636704,"body_markdown":"@prachiKadam `reduce()` would create lots of intermediate objects you don&#39;t need. If properties that have to be accumulated are primitives, mutable reduction is more suitable, since it&#39;s more performant (I mentioned that in the answer). Regarding the list as a key, see the recommendation in the answer as well. Question about rounding floating point numbers has been covered on SO many times, examine existing questions, for instance [**see here**](https://stackoverflow.com/questions/2808535/round-a-double-to-2-decimal-places).","body":"@prachiKadam <code>reduce()</code> would create lots of intermediate objects you don&#39;t need. If properties that have to be accumulated are primitives, mutable reduction is more suitable, since it&#39;s more performant (I mentioned that in the answer). Regarding the list as a key, see the recommendation in the answer as well. Question about rounding floating point numbers has been covered on SO many times, examine existing questions, for instance <a href=\"https://stackoverflow.com/questions/2808535/round-a-double-to-2-decimal-places\"><b>see here</b></a>."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669305265,"creation_date":1669305265,"answer_id":74563369,"question_id":74534374,"body_markdown":"To obtain the total `salary` and `incentive` for students having the same `name`, `age` and `city` you can group the data using a `Map`. So you were thinking in the right direction.\r\n\r\nIn order to achieve that you would need some object, that would hold references `name`, `age` and `city`.\r\n\r\nYou can&#39;t place this data into a `Map.Entry` because it can only hold two references. A quick and dirty option would be to pack these properties into a `List` using `List.of()` (`Arrays.asList()` *for Java 8*), or nest a map entry into another map entry (*which would look very ugly*). Although it&#39;s doable, I would not recommend doing so if you care about maintainability of code. Therefore, I&#39;ll not use this approach (but if you wish - just change one expression in the Collector).\r\n\r\nA cleaner way would be to introduce a `class`, or a Java 16 `record` to represent these properties.\r\n\r\nOption with a record would be very concise because all the boilerplate code would be auto-generated by the compiler:\r\n\r\n    public record NameAgeCity(String name, int age, String city) {    \r\n        public static NameAgeCity from(Student s) {\r\n            return new NameAgeCity(s.getName(), s.getAge(), s.getCity());\r\n        }\r\n    }\r\n\r\nFor JDK versions earlier than 16 you can use the following class:\r\n\r\n    public static class NameAgeCity {\r\n        private String name;\r\n        private int age;\r\n        private String city;\r\n        \r\n        // getters, all-args constructor\r\n        \r\n        public static NameAgeCity from(Student s) {\r\n            return new NameAgeCity(s.getName(), s.getAge(), s.getCity());\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            NameAgeCity that = (NameAgeCity) o;\r\n            return age == that.age &amp;&amp; Objects.equals(name, that.name) &amp;&amp; Objects.equals(city, that.city);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(name, age, city);\r\n        }\r\n    }\r\n\r\nTo make the solution compliant with Java 8, I would use this class.\r\n\r\nIn order to group the data from the stream into a `Map`, where instances of the class above would be used as a Key, we can use a flavor of Collector [`groupingBy()`][groupingBy], which expects a *keyMapper* function and a *downstream Collector* responsible for generating the Values of the Map.\r\n\r\nSince we need to perform plain arithmetic using primitive values, it would be performancewise to make use of the Collector which performs a mutable reduction, i.e. mutates the properties of it&#39;s underlying mutable container while consuming elements from the stream. And to create such Collector a type that would serve as a mutable container.\r\n\r\nI&#39;ll introduce a class `AggregatedValues` which would serve as accumulation type. It would make sense to do so if objects in the source list represent different people (*in such case the result would not represent a particular person, and you would use* `Student`*, or whatever it&#39;s named in the real code, for that purpose it would be confusing*), or if `Student` is immutable, and you want to keep it like that.\r\n\r\n    public class AggregatedValues implements Consumer&lt;Student&gt; {\r\n        private String name;\r\n        private int age;\r\n        private String city;\r\n        private double salary;\r\n        private double incentive;\r\n        \r\n        // getters, all-args constructor\r\n        \r\n        @Override\r\n        public void accept(Student s) {\r\n            if (name == null) name = s.getName();\r\n            if (age == 0) age = s.getAge();\r\n            if (city == null) city = s.getCity();\r\n            salary += s.getSalary();\r\n            incentive += s.getIncentive();\r\n        }\r\n        \r\n        public AggregatedValues merge(AggregatedValues other) {\r\n            salary += other.salary;\r\n            incentive += other.incentive;\r\n            return this;\r\n        }\r\n    }\r\n\r\nAnd that&#39;s how we can make use of it:\r\n\r\n```\r\nList&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\nCollections.addAll(students, // List.of() for Java 9+\r\n    new Student(&quot;Raj&quot;, 10, &quot;Pune&quot;, 10000, 100),\r\n    new Student(&quot;Raj&quot;, 10, &quot;Pune&quot;, 20000, 200),\r\n    new Student(&quot;Raj&quot;, 20, &quot;Pune&quot;, 10000, 100),\r\n    new Student(&quot;Ram&quot;, 30, &quot;Pune&quot;, 10000, 100),\r\n    new Student(&quot;Ram&quot;, 30, &quot;Pune&quot;, 30000, 300),\r\n    new Student(&quot;Seema&quot;, 10, &quot;Pune&quot;, 10000, 100)\r\n);\r\n        \r\nList&lt;AggregatedValues&gt; res = students.stream()\r\n    .collect(Collectors.groupingBy(\r\n        NameAgeCity::from,            // keyMapper\r\n        Collector.of(                 // custom collector\r\n            AggregatedValues::new,    // supplier\r\n            AggregatedValues::accept, // accumulator\r\n            AggregatedValues::merge   // combiner\r\n        )\r\n    ))\r\n    .values().stream()\r\n    .collect(Collectors.toList());    // or toList() for Java 16+\r\n```\r\n\r\nIf in your real code, it does make sense in your real code to have the same type of the resulting list we can do one small change by introducing method `toStudent()` in the `AggregatedValues`.\r\n\r\n    public class AggregatedValues implements Consumer&lt;Student&gt; {\r\n        // the rest code\r\n        \r\n        public Student toStudent() {\r\n            return new Student(name, age, city, salary, incentive);\r\n        }\r\n    }\r\n\r\nAnd this method can be used as a *finisher Function* of the Collector:\r\n\r\n```\r\nList&lt;AggregatedValues&gt; res = students.stream()\r\n    .collect(Collectors.groupingBy(\r\n        NameAgeCity::from,              // keyMapper\r\n        Collector.of(                   // custom collector\r\n            AggregatedValues::new,      // supplier\r\n            AggregatedValues::accept,   // accumulator\r\n            AggregatedValues::merge     // combiner\r\n            AggregatedValues::toStudent // finisherFunction\r\n        )\r\n    ))\r\n    .values().stream()\r\n    .collect(Collectors.toList());    // or toList() for Java 16+\r\n        \r\nres.forEach(System.out::println);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nStudent{name=&#39;Raj&#39;, age=20, city=&#39;Pune&#39;, salary=10000.0, incentive=100.0}\r\nStudent{name=&#39;Raj&#39;, age=10, city=&#39;Pune&#39;, salary=30000.0, incentive=300.0}\r\nStudent{name=&#39;Ram&#39;, age=30, city=&#39;Pune&#39;, salary=40000.0, incentive=400.0}\r\nStudent{name=&#39;Seema&#39;, age=10, city=&#39;Pune&#39;, salary=10000.0, incentive=100.0}\r\n```\r\n\r\n\r\n\r\n   [groupingBy]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)","title":"Grouping by multiple properties of custom object and generating a list of aggregated objects using Java 8","body":"<p>To obtain the total <code>salary</code> and <code>incentive</code> for students having the same <code>name</code>, <code>age</code> and <code>city</code> you can group the data using a <code>Map</code>. So you were thinking in the right direction.</p>\n<p>In order to achieve that you would need some object, that would hold references <code>name</code>, <code>age</code> and <code>city</code>.</p>\n<p>You can't place this data into a <code>Map.Entry</code> because it can only hold two references. A quick and dirty option would be to pack these properties into a <code>List</code> using <code>List.of()</code> (<code>Arrays.asList()</code> <em>for Java 8</em>), or nest a map entry into another map entry (<em>which would look very ugly</em>). Although it's doable, I would not recommend doing so if you care about maintainability of code. Therefore, I'll not use this approach (but if you wish - just change one expression in the Collector).</p>\n<p>A cleaner way would be to introduce a <code>class</code>, or a Java 16 <code>record</code> to represent these properties.</p>\n<p>Option with a record would be very concise because all the boilerplate code would be auto-generated by the compiler:</p>\n<pre><code>public record NameAgeCity(String name, int age, String city) {    \n    public static NameAgeCity from(Student s) {\n        return new NameAgeCity(s.getName(), s.getAge(), s.getCity());\n    }\n}\n</code></pre>\n<p>For JDK versions earlier than 16 you can use the following class:</p>\n<pre><code>public static class NameAgeCity {\n    private String name;\n    private int age;\n    private String city;\n    \n    // getters, all-args constructor\n    \n    public static NameAgeCity from(Student s) {\n        return new NameAgeCity(s.getName(), s.getAge(), s.getCity());\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        NameAgeCity that = (NameAgeCity) o;\n        return age == that.age &amp;&amp; Objects.equals(name, that.name) &amp;&amp; Objects.equals(city, that.city);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, age, city);\n    }\n}\n</code></pre>\n<p>To make the solution compliant with Java 8, I would use this class.</p>\n<p>In order to group the data from the stream into a <code>Map</code>, where instances of the class above would be used as a Key, we can use a flavor of Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a>, which expects a <em>keyMapper</em> function and a <em>downstream Collector</em> responsible for generating the Values of the Map.</p>\n<p>Since we need to perform plain arithmetic using primitive values, it would be performancewise to make use of the Collector which performs a mutable reduction, i.e. mutates the properties of it's underlying mutable container while consuming elements from the stream. And to create such Collector a type that would serve as a mutable container.</p>\n<p>I'll introduce a class <code>AggregatedValues</code> which would serve as accumulation type. It would make sense to do so if objects in the source list represent different people (<em>in such case the result would not represent a particular person, and you would use</em> <code>Student</code><em>, or whatever it's named in the real code, for that purpose it would be confusing</em>), or if <code>Student</code> is immutable, and you want to keep it like that.</p>\n<pre><code>public class AggregatedValues implements Consumer&lt;Student&gt; {\n    private String name;\n    private int age;\n    private String city;\n    private double salary;\n    private double incentive;\n    \n    // getters, all-args constructor\n    \n    @Override\n    public void accept(Student s) {\n        if (name == null) name = s.getName();\n        if (age == 0) age = s.getAge();\n        if (city == null) city = s.getCity();\n        salary += s.getSalary();\n        incentive += s.getIncentive();\n    }\n    \n    public AggregatedValues merge(AggregatedValues other) {\n        salary += other.salary;\n        incentive += other.incentive;\n        return this;\n    }\n}\n</code></pre>\n<p>And that's how we can make use of it:</p>\n<pre><code>List&lt;Student&gt; students = new ArrayList&lt;&gt;();\nCollections.addAll(students, // List.of() for Java 9+\n    new Student(&quot;Raj&quot;, 10, &quot;Pune&quot;, 10000, 100),\n    new Student(&quot;Raj&quot;, 10, &quot;Pune&quot;, 20000, 200),\n    new Student(&quot;Raj&quot;, 20, &quot;Pune&quot;, 10000, 100),\n    new Student(&quot;Ram&quot;, 30, &quot;Pune&quot;, 10000, 100),\n    new Student(&quot;Ram&quot;, 30, &quot;Pune&quot;, 30000, 300),\n    new Student(&quot;Seema&quot;, 10, &quot;Pune&quot;, 10000, 100)\n);\n        \nList&lt;AggregatedValues&gt; res = students.stream()\n    .collect(Collectors.groupingBy(\n        NameAgeCity::from,            // keyMapper\n        Collector.of(                 // custom collector\n            AggregatedValues::new,    // supplier\n            AggregatedValues::accept, // accumulator\n            AggregatedValues::merge   // combiner\n        )\n    ))\n    .values().stream()\n    .collect(Collectors.toList());    // or toList() for Java 16+\n</code></pre>\n<p>If in your real code, it does make sense in your real code to have the same type of the resulting list we can do one small change by introducing method <code>toStudent()</code> in the <code>AggregatedValues</code>.</p>\n<pre><code>public class AggregatedValues implements Consumer&lt;Student&gt; {\n    // the rest code\n    \n    public Student toStudent() {\n        return new Student(name, age, city, salary, incentive);\n    }\n}\n</code></pre>\n<p>And this method can be used as a <em>finisher Function</em> of the Collector:</p>\n<pre><code>List&lt;AggregatedValues&gt; res = students.stream()\n    .collect(Collectors.groupingBy(\n        NameAgeCity::from,              // keyMapper\n        Collector.of(                   // custom collector\n            AggregatedValues::new,      // supplier\n            AggregatedValues::accept,   // accumulator\n            AggregatedValues::merge     // combiner\n            AggregatedValues::toStudent // finisherFunction\n        )\n    ))\n    .values().stream()\n    .collect(Collectors.toList());    // or toList() for Java 16+\n        \nres.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Student{name='Raj', age=20, city='Pune', salary=10000.0, incentive=100.0}\nStudent{name='Raj', age=10, city='Pune', salary=30000.0, incentive=300.0}\nStudent{name='Ram', age=30, city='Pune', salary=40000.0, incentive=400.0}\nStudent{name='Seema', age=10, city='Pune', salary=10000.0, incentive=100.0}\n</code></pre>\n"}],"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669308416,"creation_date":1669127876,"question_id":74534374,"body_markdown":"I have a class `Student`:\r\n\r\n    public class Student {\r\n        private String name;\r\n        private int age;\r\n        private String city;\r\n        private double salary;\r\n        private double incentive;\r\n        \r\n        // getters, all-args constructor, etc.\r\n    }\r\n\r\nAnd I have a list of `Student` instances called `students`.\r\n\r\nI want to create a new list which will contain the `Student`s grouped by their `name`, `age` and `city`. The salary and incentive of the students having these attributes identical should be summed up.\r\n\r\n*Example:*\r\n\r\n*Input:*\r\n\r\n```\r\nStudent(&quot;Raj&quot;,10,&quot;Pune&quot;,10000,100)\r\nStudent(&quot;Raj&quot;,10,&quot;Pune&quot;,20000,200)\r\nStudent(&quot;Raj&quot;,20,&quot;Pune&quot;,10000,100)\r\nStudent(&quot;Ram&quot;,30,&quot;Pune&quot;,10000,100)\r\nStudent(&quot;Ram&quot;,30,&quot;Pune&quot;,30000,300)\r\nStudent(&quot;Seema&quot;,10,&quot;Pune&quot;,10000,100)\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nStudent(&quot;Raj&quot;,10,&quot;Pune&quot;,30000,300)\r\nStudent(&quot;Raj&quot;,20,&quot;Pune&quot;,10000,100)\r\nStudent(&quot;Ram&quot;,30,&quot;Pune&quot;,40000,400)\r\nStudent(&quot;Seema&quot;,10,&quot;Pune&quot;,10000,100)\r\n```\r\n\r\n*My attempt:*\r\n\r\n```java\r\nList&lt;Student&gt; students = // initializing the list\r\n\r\nList&lt;Student&gt; res = new ArrayList&lt;&gt;(students.stream()\r\n    .collect(Collectors.toMap(\r\n        ec -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ec.getName(),ec.getAge(),ec.getCity()),\r\n        Function.identity(),\r\n        (a, b) -&gt; new Student(\r\n            a.getName(), a.getAge(), a.getCity(), a.getSalary().add(b.getSalary()),a.getIncentive().add(b.getIncentive())\r\n        )\r\n    ))\r\n    .values())));\r\n```\r\n\r\nWhich produces a compilation error:\r\n\r\n```none\r\nCompile error- Cannot resolve constructor &#39;SimpleEntry(String, int, String)&#39; and Cannot resolve method &#39;add(double)\r\n```\r\n\r\nI&#39;ve also tried some other options, but without success. How can I achieve that?","title":"Grouping by multiple properties of custom object and generating a list of aggregated objects using Java 8","body":"<p>I have a class <code>Student</code>:</p>\n<pre><code>public class Student {\n    private String name;\n    private int age;\n    private String city;\n    private double salary;\n    private double incentive;\n    \n    // getters, all-args constructor, etc.\n}\n</code></pre>\n<p>And I have a list of <code>Student</code> instances called <code>students</code>.</p>\n<p>I want to create a new list which will contain the <code>Student</code>s grouped by their <code>name</code>, <code>age</code> and <code>city</code>. The salary and incentive of the students having these attributes identical should be summed up.</p>\n<p><em>Example:</em></p>\n<p><em>Input:</em></p>\n<pre><code>Student(&quot;Raj&quot;,10,&quot;Pune&quot;,10000,100)\nStudent(&quot;Raj&quot;,10,&quot;Pune&quot;,20000,200)\nStudent(&quot;Raj&quot;,20,&quot;Pune&quot;,10000,100)\nStudent(&quot;Ram&quot;,30,&quot;Pune&quot;,10000,100)\nStudent(&quot;Ram&quot;,30,&quot;Pune&quot;,30000,300)\nStudent(&quot;Seema&quot;,10,&quot;Pune&quot;,10000,100)\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Student(&quot;Raj&quot;,10,&quot;Pune&quot;,30000,300)\nStudent(&quot;Raj&quot;,20,&quot;Pune&quot;,10000,100)\nStudent(&quot;Ram&quot;,30,&quot;Pune&quot;,40000,400)\nStudent(&quot;Seema&quot;,10,&quot;Pune&quot;,10000,100)\n</code></pre>\n<p><em>My attempt:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Student&gt; students = // initializing the list\n\nList&lt;Student&gt; res = new ArrayList&lt;&gt;(students.stream()\n    .collect(Collectors.toMap(\n        ec -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ec.getName(),ec.getAge(),ec.getCity()),\n        Function.identity(),\n        (a, b) -&gt; new Student(\n            a.getName(), a.getAge(), a.getCity(), a.getSalary().add(b.getSalary()),a.getIncentive().add(b.getIncentive())\n        )\n    ))\n    .values())));\n</code></pre>\n<p>Which produces a compilation error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Compile error- Cannot resolve constructor 'SimpleEntry(String, int, String)' and Cannot resolve method 'add(double)\n</code></pre>\n<p>I've also tried some other options, but without success. How can I achieve that?</p>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":21729631,"reputation":5,"user_id":16038568,"display_name":"eazy"},"score":0,"creation_date":1669307497,"post_id":74563751,"comment_id":131619570,"body_markdown":"Hey thanks for reply! So what i would like to do is essentially print out the keys with a value larger than x. E.G if x is 2 than i would like to print out car and computer","body":"Hey thanks for reply! So what i would like to do is essentially print out the keys with a value larger than x. E.G if x is 2 than i would like to print out car and computer"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669308178,"creation_date":1669307204,"answer_id":74563751,"question_id":74563650,"body_markdown":"&gt; \r\n&gt; \r\n&gt; I would like a exeption thrown is lets say there are more than 2 elements in any given list\r\n\r\nYou can iterate over the Values of the Map and pick the largest size using `mapToInt().max()`.\r\n\r\n    public static &lt;K, V&gt; int getMaxSize(Map&lt;K, List&lt;V&gt;&gt; map) {\r\n        \r\n        return map.values().stream() // Stream&lt;List&lt;V&gt;&gt;\r\n            .mapToInt(List::size)    // IntStream\r\n            .max()                   // OptionalInt\r\n            .orElse(0);\r\n    }\r\n\r\nUsage example:\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; data = // initializing the map\r\n    \r\nif (getMaxSize(data) &gt; 2) {\r\n    throw new MyException(); // choise the proper exception type\r\n}\r\n```\r\n\r\n&gt; I would like to do is essentially print out the keys with a value larger than `x`.\r\n\r\nYou can obtain all entries having list sizes greater than the given number in the following way:\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, List&lt;V&gt;&gt; getGetEntriesLargerThen(Map&lt;K, List&lt;V&gt;&gt; map, int size) {\r\n        \r\n        return map.entrySet().stream()\r\n            .filter(e -&gt; e.getValue().size() &gt; size)\r\n            .collect(Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                Map.Entry::getValue\r\n            ));\r\n    }\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; data = // initializing the map\r\n\r\ngetGetEntriesLargerThen(data, 2)\r\n            .forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```","title":"For a Map of Map&lt;String, List&lt;String&gt;&gt;, how would i print off elements with a list larger than x using streams?","body":"<blockquote>\n<p>I would like a exeption thrown is lets say there are more than 2 elements in any given list</p>\n</blockquote>\n<p>You can iterate over the Values of the Map and pick the largest size using <code>mapToInt().max()</code>.</p>\n<pre><code>public static &lt;K, V&gt; int getMaxSize(Map&lt;K, List&lt;V&gt;&gt; map) {\n    \n    return map.values().stream() // Stream&lt;List&lt;V&gt;&gt;\n        .mapToInt(List::size)    // IntStream\n        .max()                   // OptionalInt\n        .orElse(0);\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; data = // initializing the map\n    \nif (getMaxSize(data) &gt; 2) {\n    throw new MyException(); // choise the proper exception type\n}\n</code></pre>\n<blockquote>\n<p>I would like to do is essentially print out the keys with a value larger than <code>x</code>.</p>\n</blockquote>\n<p>You can obtain all entries having list sizes greater than the given number in the following way:</p>\n<pre><code>public static &lt;K, V&gt; Map&lt;K, List&lt;V&gt;&gt; getGetEntriesLargerThen(Map&lt;K, List&lt;V&gt;&gt; map, int size) {\n    \n    return map.entrySet().stream()\n        .filter(e -&gt; e.getValue().size() &gt; size)\n        .collect(Collectors.toMap(\n            Map.Entry::getKey,\n            Map.Entry::getValue\n        ));\n}\n</code></pre>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; data = // initializing the map\n\ngetGetEntriesLargerThen(data, 2)\n            .forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n"}],"owner":{"account_id":21729631,"reputation":5,"user_id":16038568,"display_name":"eazy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74563751,"answer_count":1,"score":0,"last_activity_date":1669308341,"creation_date":1669306668,"question_id":74563650,"body_markdown":"So basically i have a Map which contains lists. for example\r\n\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; data = new HashMap&lt;&gt;();\r\ndata.put(&quot;car&quot;, Arrays.asList(&quot;toyota&quot;, &quot;bmw&quot;, &quot;honda&quot;));\r\ndata.put(&quot;fruit&quot;, Arrays.asList(&quot;apple&quot;,&quot;banana&quot;));\r\ndata.put(&quot;computer&quot;, Arrays.asList(&quot;acer&quot;,&quot;asus&quot;,&quot;ibm&quot;));\r\nList&lt;String&gt; multipleVersions = new ArrayList&lt;&gt;();\r\n```\r\nI would like a exeption thrown is lets say there are more than 2 elements in any given list so something like this\r\n\r\n\r\n```\r\nif(data.values().size() &gt;= 3){\r\n    System.out.println(&quot;multipbe versions exist&quot; );\r\n}\r\n```\r\nmy question is how would i stream and filter out these elements greater than x and add it to the print statement? \r\n\r\ni tried creating a new list and adding in these values \r\n\r\n```\r\nif (data.values().size() &gt; 2){\r\n\r\n     multipleVersions.add((data.values().stream().filter(val -&gt; val.size() &gt; 2)).toString());\r\n }\r\n\r\n```\r\nbut when i go to print it out \r\n\r\n```\r\nmultipleVersions.stream().forEach(System.out::println);\r\n\r\n```\r\ni get java.util.stream.ReferencePipeline$2@1b28cdfa\r\n\r\nI know i need to read up on streams a bit more but can someone explain to me how to do this correctly and elegantly ? \r\n\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;String&gt;&gt; data = new HashMap&lt;&gt;();\r\n        data.put(&quot;car&quot;, Arrays.asList(&quot;toyota&quot;, &quot;bmw&quot;, &quot;honda&quot;));\r\n        data.put(&quot;fruit&quot;, Arrays.asList(&quot;apple&quot;,&quot;banana&quot;));\r\n        data.put(&quot;computer&quot;, Arrays.asList(&quot;acer&quot;,&quot;asus&quot;,&quot;ibm&quot;));\r\n        List&lt;String&gt; multipleVersions = new ArrayList&lt;&gt;();\r\n       if (data.values().size() &gt; 2){\r\n\r\n            multipleVersions.add((data.values().stream().filter(val -&gt; val.size() &gt; 2)).toString());\r\n        }\r\n\r\n\r\n\r\n        if(data.values().size() &gt;= 3){\r\n            System.out.println(&quot;Over limit in the following &quot; +  );\r\n            System.out.println(multipleVersions.stream().toList())\r\n\r\n\r\n        }\r\n    }\r\n\r\n```\r\nexpected to get Over limit in the following : Car , Computer\r\n\r\ni can print of the lists like so\r\n```\r\n        System.out.println(data.values().stream().filter(val-&gt; val.size() &gt; 2).collect(Collectors.toSet()));\r\n```\r\n\r\nbut still need to get the keys","title":"For a Map of Map&lt;String, List&lt;String&gt;&gt;, how would i print off elements with a list larger than x using streams?","body":"<p>So basically i have a Map which contains lists. for example</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; data = new HashMap&lt;&gt;();\ndata.put(&quot;car&quot;, Arrays.asList(&quot;toyota&quot;, &quot;bmw&quot;, &quot;honda&quot;));\ndata.put(&quot;fruit&quot;, Arrays.asList(&quot;apple&quot;,&quot;banana&quot;));\ndata.put(&quot;computer&quot;, Arrays.asList(&quot;acer&quot;,&quot;asus&quot;,&quot;ibm&quot;));\nList&lt;String&gt; multipleVersions = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I would like a exeption thrown is lets say there are more than 2 elements in any given list so something like this</p>\n<pre><code>if(data.values().size() &gt;= 3){\n    System.out.println(&quot;multipbe versions exist&quot; );\n}\n</code></pre>\n<p>my question is how would i stream and filter out these elements greater than x and add it to the print statement?</p>\n<p>i tried creating a new list and adding in these values</p>\n<pre><code>if (data.values().size() &gt; 2){\n\n     multipleVersions.add((data.values().stream().filter(val -&gt; val.size() &gt; 2)).toString());\n }\n\n</code></pre>\n<p>but when i go to print it out</p>\n<pre><code>multipleVersions.stream().forEach(System.out::println);\n\n</code></pre>\n<p>i get java.util.stream.ReferencePipeline$2@1b28cdfa</p>\n<p>I know i need to read up on streams a bit more but can someone explain to me how to do this correctly and elegantly ?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Map&lt;String, List&lt;String&gt;&gt; data = new HashMap&lt;&gt;();\n        data.put(&quot;car&quot;, Arrays.asList(&quot;toyota&quot;, &quot;bmw&quot;, &quot;honda&quot;));\n        data.put(&quot;fruit&quot;, Arrays.asList(&quot;apple&quot;,&quot;banana&quot;));\n        data.put(&quot;computer&quot;, Arrays.asList(&quot;acer&quot;,&quot;asus&quot;,&quot;ibm&quot;));\n        List&lt;String&gt; multipleVersions = new ArrayList&lt;&gt;();\n       if (data.values().size() &gt; 2){\n\n            multipleVersions.add((data.values().stream().filter(val -&gt; val.size() &gt; 2)).toString());\n        }\n\n\n\n        if(data.values().size() &gt;= 3){\n            System.out.println(&quot;Over limit in the following &quot; +  );\n            System.out.println(multipleVersions.stream().toList())\n\n\n        }\n    }\n\n</code></pre>\n<p>expected to get Over limit in the following : Car , Computer</p>\n<p>i can print of the lists like so</p>\n<pre><code>        System.out.println(data.values().stream().filter(val-&gt; val.size() &gt; 2).collect(Collectors.toSet()));\n</code></pre>\n<p>but still need to get the keys</p>\n"},{"tags":["java","arrays","nested-loops","insertion-sort"],"comments":[{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":1,"creation_date":1669307185,"post_id":74563689,"comment_id":131619463,"body_markdown":"Please [DO NOT USE](https://stackoverflow.com/help/minimal-reproducible-example) images of code. Send the copied and formatted code.","body":"Please <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">DO NOT USE</a> images of code. Send the copied and formatted code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669375670,"post_id":74563689,"comment_id":131632978,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3999591,"reputation":31,"user_id":3295963,"display_name":"Ajit Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669307741,"creation_date":1669307741,"answer_id":74563863,"question_id":74563689,"body_markdown":"the inner loop will continue for all elements greater then newest, once the inner loop is complete then a[j] means 16 (for the first iteration of the outer loop) will be moved. you can follow this, hope this will help you.\r\n[https://www.youtube.com/watch?v=OGzPmgsI-pQ][1] \r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=OGzPmgsI-pQ","title":"java - insertiosSort - Don&#39;t understand","body":"<p>the inner loop will continue for all elements greater then newest, once the inner loop is complete then a[j] means 16 (for the first iteration of the outer loop) will be moved. you can follow this, hope this will help you.\n<a href=\"https://www.youtube.com/watch?v=OGzPmgsI-pQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=OGzPmgsI-pQ</a></p>\n"}],"owner":{"account_id":27037010,"reputation":1,"user_id":20592464,"display_name":"YEREKK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1669307741,"creation_date":1669306934,"question_id":74563689,"body_markdown":"I&#39;ve recently learned insertionSort and I don&#39;t understand how does the linked code works... \r\nIf someone can please explain row by row I&#39;d very appreaciate it.\r\n\r\nThansks for your time.\r\n\r\n[The code:](https://i.stack.imgur.com/8lwzw.png)\r\n\r\nlet&#39;s take for example this array: array={ 30,16,12,51,37,18,24,8,23,24}\r\nI will try to demonstrait how my line of thought is and hopefully you would be able to correct my mistakes.\r\n\r\nSo, I know that at the start i=1, and than when &quot;newest&quot; is getting the value of a[i] which in this case is a[1]=16, now we go to the inner loop, the value of j is i-1 = 0, therefore j=0, and as long as j&gt;=0 and a[j]=30 is greater than newest(in this case a[1]=16), a[j+1] = a[j] - ( from here on I don&#39;t undertand),\r\ndoes a[j+1] = a[j] mean that instead of a[1]=16 now a[1] = 30? if so where does the 16 goes ? and how does we keep on going from there ? \r\n\r\n","title":"java - insertiosSort - Don&#39;t understand","body":"<p>I've recently learned insertionSort and I don't understand how does the linked code works...\nIf someone can please explain row by row I'd very appreaciate it.</p>\n<p>Thansks for your time.</p>\n<p><a href=\"https://i.stack.imgur.com/8lwzw.png\" rel=\"nofollow noreferrer\">The code:</a></p>\n<p>let's take for example this array: array={ 30,16,12,51,37,18,24,8,23,24}\nI will try to demonstrait how my line of thought is and hopefully you would be able to correct my mistakes.</p>\n<p>So, I know that at the start i=1, and than when &quot;newest&quot; is getting the value of a[i] which in this case is a[1]=16, now we go to the inner loop, the value of j is i-1 = 0, therefore j=0, and as long as j&gt;=0 and a[j]=30 is greater than newest(in this case a[1]=16), a[j+1] = a[j] - ( from here on I don't undertand),\ndoes a[j+1] = a[j] mean that instead of a[1]=16 now a[1] = 30? if so where does the 16 goes ? and how does we keep on going from there ?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1110848,"reputation":3563,"user_id":1101332,"accept_rate":67,"display_name":"sasankad"},"score":0,"creation_date":1389328648,"post_id":21036239,"comment_id":31624963,"body_markdown":"how about setting some javascript variable (set var &quot;userHasClicked&quot; to true).\n2. Try this pseudo code:\nwhile (userHasClicked == false){\nThread.sleep(1000ms);\n}","body":"how about setting some javascript variable (set var &quot;userHasClicked&quot; to true). 2. Try this pseudo code: while (userHasClicked == false){ Thread.sleep(1000ms); }"}],"answers":[{"tags":[],"owner":{"account_id":3412916,"reputation":6868,"user_id":2862485,"accept_rate":89,"display_name":"Amith"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1669307380,"creation_date":1389339511,"answer_id":21038589,"question_id":21036239,"body_markdown":"Selenium webdriver is a tool used to Automate tests on web based applications,which means even human interactions are automated.\r\n\r\n&gt;An implicit wait is to tell WebDriver to poll the DOM for a certain amount of time when trying to find an element or elements if they are not immediately available.\r\n\r\nThis means you cannot use this to wait for human interactions. But you can assume that the user is waiting for some link to appear and call click().\r\n\r\nThis can be achieved using [Explicit wait](https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait).\r\n\r\n&gt;An explicit waits is code you define to wait for a certain condition to occur before proceeding further in the code.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;some_link&quot;)));\r\n    element.click();\r\n\r\nThe above code waits for 30 secs for the link to appear and to be clickable.\r\n\r\n[Refer to the documentation for more info](https://www.selenium.dev/documentation/).\r\n\r\n\r\n","title":"Can we make selenium webdriver to wait until user clicks on a webpage link at run-time without using implicit wait?","body":"<p>Selenium webdriver is a tool used to Automate tests on web based applications,which means even human interactions are automated.</p>\n<blockquote>\n<p>An implicit wait is to tell WebDriver to poll the DOM for a certain amount of time when trying to find an element or elements if they are not immediately available.</p>\n</blockquote>\n<p>This means you cannot use this to wait for human interactions. But you can assume that the user is waiting for some link to appear and call click().</p>\n<p>This can be achieved using <a href=\"https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\" rel=\"nofollow noreferrer\">Explicit wait</a>.</p>\n<blockquote>\n<p>An explicit waits is code you define to wait for a certain condition to occur before proceeding further in the code.</p>\n</blockquote>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;some_link&quot;)));\nelement.click();\n</code></pre>\n<p>The above code waits for 30 secs for the link to appear and to be clickable.</p>\n<p><a href=\"https://www.selenium.dev/documentation/\" rel=\"nofollow noreferrer\">Refer to the documentation for more info</a>.</p>\n"},{"tags":[],"owner":{"account_id":384802,"reputation":10056,"user_id":741558,"accept_rate":83,"display_name":"Grooveek"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1389344083,"creation_date":1389344083,"answer_id":21039780,"question_id":21036239,"body_markdown":"For sure you can. We use Selenium a lot as an assistant in getting some datas from websites. \r\n\r\nWhen you have a process involving multiple steps, including opening website, login, choosing 54 parameters and need only 1 human interaction (resolving a captcha, for example), Selenium can automate those boring tasks and let the user concentrate on the one which is important.\r\n\r\nWhat we do here, is to make a Swing dialog with an input field to get what the user want to enter, then the actual form submission is performed by Selenium. You can do the same thing with links, and you can ask the user to select a link to click on, and perform the actual click with webdriver.\r\n\r\nThe `ExplicitWait` method of `Amith` is also a good one. You can focus on what you expect after the user has clicked, and wait until this condition is realized\r\n","title":"Can we make selenium webdriver to wait until user clicks on a webpage link at run-time without using implicit wait?","body":"<p>For sure you can. We use Selenium a lot as an assistant in getting some datas from websites. </p>\n\n<p>When you have a process involving multiple steps, including opening website, login, choosing 54 parameters and need only 1 human interaction (resolving a captcha, for example), Selenium can automate those boring tasks and let the user concentrate on the one which is important.</p>\n\n<p>What we do here, is to make a Swing dialog with an input field to get what the user want to enter, then the actual form submission is performed by Selenium. You can do the same thing with links, and you can ask the user to select a link to click on, and perform the actual click with webdriver.</p>\n\n<p>The <code>ExplicitWait</code> method of <code>Amith</code> is also a good one. You can focus on what you expect after the user has clicked, and wait until this condition is realized</p>\n"},{"tags":[],"owner":{"account_id":8571457,"reputation":124,"user_id":6422169,"display_name":"Anthony L."},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1474445166,"creation_date":1474445166,"answer_id":39610825,"question_id":21036239,"body_markdown":"I ran into a similar issue where the program needs to be paused half way through for the human user to enter some 2-step verification information manually. What you can do is to show a message box at the human step. I work in Python, and here is what my code looks like:\r\n\r\n    from tkinter import messagebox\r\n    messagebox.showinfo(title=&#39;2-step verification&#39;, message=&#39;Finish on screen 2-step verification, and then click OK.&#39;)\r\n\r\nOnce the user finish the human step, he/she can click OK, and the rest of the program will run.","title":"Can we make selenium webdriver to wait until user clicks on a webpage link at run-time without using implicit wait?","body":"<p>I ran into a similar issue where the program needs to be paused half way through for the human user to enter some 2-step verification information manually. What you can do is to show a message box at the human step. I work in Python, and here is what my code looks like:</p>\n\n<pre><code>from tkinter import messagebox\nmessagebox.showinfo(title='2-step verification', message='Finish on screen 2-step verification, and then click OK.')\n</code></pre>\n\n<p>Once the user finish the human step, he/she can click OK, and the rest of the program will run.</p>\n"}],"owner":{"account_id":3836020,"reputation":103,"user_id":3180288,"display_name":"aks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23613,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":21038589,"answer_count":3,"score":10,"last_activity_date":1669307380,"creation_date":1389328293,"question_id":21036239,"body_markdown":"I am using Firefox driver with java and trying to scrape some data from a website. There is a human interaction involved in it and I have to ask the user to input a search string. And then accordingly user has to select which search result to open by analyzing with human eye. The effort is just to make few bits and pieces work faster through script.\r\n\r\nMy question is:\r\n\r\nCan we make selenium webdriver to wait until user clicks on a webpage link at run-time without using implicit wait? I can not use implicit wait because the time for click may vary from few seconds to few minutes.\r\n\r\nI am new to both java and selenium. Your help will be much appreciated.\r\n\r\n-\r\nThanks","title":"Can we make selenium webdriver to wait until user clicks on a webpage link at run-time without using implicit wait?","body":"<p>I am using Firefox driver with java and trying to scrape some data from a website. There is a human interaction involved in it and I have to ask the user to input a search string. And then accordingly user has to select which search result to open by analyzing with human eye. The effort is just to make few bits and pieces work faster through script.</p>\n\n<p>My question is:</p>\n\n<p>Can we make selenium webdriver to wait until user clicks on a webpage link at run-time without using implicit wait? I can not use implicit wait because the time for click may vary from few seconds to few minutes.</p>\n\n<p>I am new to both java and selenium. Your help will be much appreciated.</p>\n\n<p>-\nThanks</p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":24266621,"reputation":449,"user_id":18215416,"display_name":"R0ck"},"score":0,"creation_date":1669307780,"post_id":74563685,"comment_id":131619669,"body_markdown":"Can you post your build.gradle files and settings.gradle?","body":"Can you post your build.gradle files and settings.gradle?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669373999,"post_id":74563685,"comment_id":131632489,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20987781,"reputation":1,"user_id":15421201,"display_name":"BabaFadil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669306918,"creation_date":1669306918,"question_id":74563685,"body_markdown":"build gradle (module) reports;\r\nFailed to resolve squareup retrofit2 2.9.0\r\nFailed to resolve squareup retrofit2 converter-gson 2.7.2\r\n\r\nAm using java on \r\nAndroid Studio Dolphin | 2021.3.1 Patch 1\r\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022\r\nRuntime version: 11.0.13+0-b1751.21-8125866 amd64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains\r\n\r\nThanks\r\n\r\nI tried checking stack over flow answers and found what was said is okay by my settings.","title":"Failed to resolve: com.squareup.retrofit2.retrofit:2.9.0","body":"<p>build gradle (module) reports;\nFailed to resolve squareup retrofit2 2.9.0\nFailed to resolve squareup retrofit2 converter-gson 2.7.2</p>\n<p>Am using java on\nAndroid Studio Dolphin | 2021.3.1 Patch 1\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022\nRuntime version: 11.0.13+0-b1751.21-8125866 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains</p>\n<p>Thanks</p>\n<p>I tried checking stack over flow answers and found what was said is okay by my settings.</p>\n"},{"tags":["java","kotlin","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669295022,"creation_date":1669295022,"answer_id":74561260,"question_id":74548729,"body_markdown":"Byte Buddy does not really aim for removing properties. What you can do is to use ASM via the visit method, to remove elements from the byte code.\r\n\r\nOr you can declare a new class, define it the way you and name it the same as the class you wanted to change.","title":"How do I rebase existing class to remove certain interfaces that it implements","body":"<p>Byte Buddy does not really aim for removing properties. What you can do is to use ASM via the visit method, to remove elements from the byte code.</p>\n<p>Or you can declare a new class, define it the way you and name it the same as the class you wanted to change.</p>\n"},{"tags":[],"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669305822,"creation_date":1669305822,"answer_id":74563476,"question_id":74548729,"body_markdown":"I&#39;ve solved it through creating delegate class like this\r\n\r\n```\r\nval fieldDelegate = &quot;delegate&quot;\r\nval unloaded = ByteBuddy()\r\n    .subclass(Any::class.java)\r\n    .defineField(fieldDelegate, Test::class.java, Opcodes.ACC_PRIVATE or Opcodes.ACC_FINAL)\r\n    .name(Test::class.java.canonicalName + &quot;Wrapper&quot;)\r\n    .implement(Two::class.java)\r\n    .defineConstructor(Visibility.PUBLIC)\r\n    .withParameters(Test::class.java)\r\n    .intercept(MethodCall.invoke(Object::class.java.getConstructor()).andThen(FieldAccessor.ofField(fieldDelegate).setsArgumentAt(0)))\r\n    .method(ElementMatchers.isAbstract())\r\n    .intercept(MethodDelegation.toField(fieldDelegate))\r\n    .make()\r\n\r\nval clazz = unloaded\r\n    .load(Test::class.java.classLoader, ClassLoadingStrategy.Default.WRAPPER)\r\n    .loaded\r\n```","title":"How do I rebase existing class to remove certain interfaces that it implements","body":"<p>I've solved it through creating delegate class like this</p>\n<pre><code>val fieldDelegate = &quot;delegate&quot;\nval unloaded = ByteBuddy()\n    .subclass(Any::class.java)\n    .defineField(fieldDelegate, Test::class.java, Opcodes.ACC_PRIVATE or Opcodes.ACC_FINAL)\n    .name(Test::class.java.canonicalName + &quot;Wrapper&quot;)\n    .implement(Two::class.java)\n    .defineConstructor(Visibility.PUBLIC)\n    .withParameters(Test::class.java)\n    .intercept(MethodCall.invoke(Object::class.java.getConstructor()).andThen(FieldAccessor.ofField(fieldDelegate).setsArgumentAt(0)))\n    .method(ElementMatchers.isAbstract())\n    .intercept(MethodDelegation.toField(fieldDelegate))\n    .make()\n\nval clazz = unloaded\n    .load(Test::class.java.classLoader, ClassLoadingStrategy.Default.WRAPPER)\n    .loaded\n</code></pre>\n"}],"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74563476,"answer_count":2,"score":0,"last_activity_date":1669305822,"creation_date":1669215085,"question_id":74548729,"body_markdown":"Folks, could you please advise how I can rebase existing class so that it **doesn&#39;t** have particular interface in its parents ?\r\n\r\nFor example\r\n\r\n```\r\ninterface One {\r\n  fun one(): Unit\r\n}\r\n\r\ninterface Two {\r\n fun two(): Unit\r\n}\r\n\r\nclass Test: One, Two {\r\n  // implementation of one() and two()\r\n}\r\n\r\nval newClass = ByteBuddy()\r\n    .rebase(Test::class.java)\r\n    .name(&quot;com.test.Test2&quot;)\r\n    .implement(Two::class.java)\r\n    .make()\r\n    .load(this.javaClass.classLoader, ClassLoadingStrategy.Default.WRAPPER)\r\n    .loaded\r\n\r\nval inst = newClass.declaredConstructors.first().newInstance()\r\nval isOne = inst is One\r\n```\r\n\r\nUnfortunately `isOne` is still true. What am I missing ?","title":"How do I rebase existing class to remove certain interfaces that it implements","body":"<p>Folks, could you please advise how I can rebase existing class so that it <strong>doesn't</strong> have particular interface in its parents ?</p>\n<p>For example</p>\n<pre><code>interface One {\n  fun one(): Unit\n}\n\ninterface Two {\n fun two(): Unit\n}\n\nclass Test: One, Two {\n  // implementation of one() and two()\n}\n\nval newClass = ByteBuddy()\n    .rebase(Test::class.java)\n    .name(&quot;com.test.Test2&quot;)\n    .implement(Two::class.java)\n    .make()\n    .load(this.javaClass.classLoader, ClassLoadingStrategy.Default.WRAPPER)\n    .loaded\n\nval inst = newClass.declaredConstructors.first().newInstance()\nval isOne = inst is One\n</code></pre>\n<p>Unfortunately <code>isOne</code> is still true. What am I missing ?</p>\n"},{"tags":["java","spring","database","backend"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1669305797,"creation_date":1669305797,"answer_id":74563470,"question_id":74562633,"body_markdown":"You can do it on the service layer but please consider the following:\r\n    \r\n* first delete entity and then the action to delete the photo\r\n* Both actions (delete entity, delete photo) are inside the same transaction probably marked with `@Transactional` in your service method. This way if something goes side ways the database action is rolled back and you can try again later.\r\n\r\nthe other solution mentioned, having a job scheduled in the application which regularly inspects the folder with photos and deletes any non used photo, sounds also good but in this case consider carefully the following \r\n\r\n * This must be in sync and carefully done, because I suspect you already have another process to insert photos in the system. This other process logically first saves the photo in the disc and then creates the entity. If those 2 processes happen to be at the same time you have the risk of eliminating a photo that was to be used for a new user and the entity was not yet created. So you have the risk of identifying a photo as to be deleted when in actuality it was not yet persisted as entity.","title":"Deleting photos from local disk when deleting Entity from database","body":"<p>You can do it on the service layer but please consider the following:</p>\n<ul>\n<li>first delete entity and then the action to delete the photo</li>\n<li>Both actions (delete entity, delete photo) are inside the same transaction probably marked with <code>@Transactional</code> in your service method. This way if something goes side ways the database action is rolled back and you can try again later.</li>\n</ul>\n<p>the other solution mentioned, having a job scheduled in the application which regularly inspects the folder with photos and deletes any non used photo, sounds also good but in this case consider carefully the following</p>\n<ul>\n<li>This must be in sync and carefully done, because I suspect you already have another process to insert photos in the system. This other process logically first saves the photo in the disc and then creates the entity. If those 2 processes happen to be at the same time you have the risk of eliminating a photo that was to be used for a new user and the entity was not yet created. So you have the risk of identifying a photo as to be deleted when in actuality it was not yet persisted as entity.</li>\n</ul>\n"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74563470,"answer_count":1,"score":4,"last_activity_date":1669305797,"creation_date":1669301672,"question_id":74562633,"body_markdown":"I have a one User - one Channel relationship\r\n`(@OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)`\r\nThe channel has an avatar, which is stored on the local drive, and the database stores the path to the photo. \r\nWhere and how would be the best place to remove the file from the local drive when removing the Channel? In Facade, Service or check once a day if the database contains an entity and the folder corresponds to it and if the folder is there but the entity is not, then delete it?\r\n\r\nAt the moment I delete simply with the entityManager, but it does not delete the photo from the local drive\r\n\r\n`repository.deleteById(id);`\r\n\r\nI&#39;m sorry if I didn&#39;t phrase the question correctly, I&#39;m just not very experienced at it and I tried to describe the problems in as much detail as possible.\r\n","title":"Deleting photos from local disk when deleting Entity from database","body":"<p>I have a one User - one Channel relationship\n<code>(@OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)</code>\nThe channel has an avatar, which is stored on the local drive, and the database stores the path to the photo.\nWhere and how would be the best place to remove the file from the local drive when removing the Channel? In Facade, Service or check once a day if the database contains an entity and the folder corresponds to it and if the folder is there but the entity is not, then delete it?</p>\n<p>At the moment I delete simply with the entityManager, but it does not delete the photo from the local drive</p>\n<p><code>repository.deleteById(id);</code></p>\n<p>I'm sorry if I didn't phrase the question correctly, I'm just not very experienced at it and I tried to describe the problems in as much detail as possible.</p>\n"},{"tags":["java","google-calendar-api"],"answers":[{"comments":[{"owner":{"account_id":7771030,"reputation":13,"user_id":20494506,"display_name":"Natalie Trinket"},"score":0,"creation_date":1668434210,"post_id":74430000,"comment_id":131396979,"body_markdown":"I added a toString call on the existing DateTime object and InteliJ showed that neither the EventDateTime().setDate() and EventDateTime().setDateTime() constructors accepted a string. Passing a string instead of an EventDateTime when using or setEnd/Start has the same result of Strings not being accepted. \n\nAnother thing to note is that it is being created as an all day event. The event is at the top of my calendar with an all day event that I would make using the web-UI, just with the wrong reminders.","body":"I added a toString call on the existing DateTime object and InteliJ showed that neither the EventDateTime().setDate() and EventDateTime().setDateTime() constructors accepted a string. Passing a string instead of an EventDateTime when using or setEnd/Start has the same result of Strings not being accepted.   Another thing to note is that it is being created as an all day event. The event is at the top of my calendar with an all day event that I would make using the web-UI, just with the wrong reminders."},{"owner":{"account_id":7771030,"reputation":13,"user_id":20494506,"display_name":"Natalie Trinket"},"score":0,"creation_date":1668434268,"post_id":74430000,"comment_id":131396999,"body_markdown":"Would you know how to set same day reminders? Everything I found said that it couldn&#39;t be done yet. That&#39;s one of the reasons I&#39;m trying to rely on the default reminders.","body":"Would you know how to set same day reminders? Everything I found said that it couldn&#39;t be done yet. That&#39;s one of the reasons I&#39;m trying to rely on the default reminders."},{"owner":{"account_id":23832985,"reputation":674,"user_id":17839041,"display_name":"Gustavo"},"score":0,"creation_date":1668698392,"post_id":74430000,"comment_id":131473970,"body_markdown":"The DateTime constructor I&#39;m referring to is documented on the Google API Java client library documentation [here](https://googleapis.dev/java/google-http-client/latest/com/google/api/client/util/DateTime.html#DateTime-java.lang.String-)\nAlternatively you could override the reminder as mentioned above. Can you give an example of what you meant by `same day reminders`? When should the event start (DateTime) and what should be the Reminder DateTime?","body":"The DateTime constructor I&#39;m referring to is documented on the Google API Java client library documentation <a href=\"https://googleapis.dev/java/google-http-client/latest/com/google/api/client/util/DateTime.html#DateTime-java.lang.String-\" rel=\"nofollow noreferrer\">here</a> Alternatively you could override the reminder as mentioned above. Can you give an example of what you meant by <code>same day reminders</code>? When should the event start (DateTime) and what should be the Reminder DateTime?"},{"owner":{"account_id":7771030,"reputation":13,"user_id":20494506,"display_name":"Natalie Trinket"},"score":0,"creation_date":1668750938,"post_id":74430000,"comment_id":131486945,"body_markdown":"I see that DateTime object, but the setStart and setEnd methods require an EventDateTime object and are both rejecting DateTime and String. As for the same day reminders, if I had an event for the 18th of November, I&#39;d like to receive an email at 5 am on the 18th of November, the same day the event takes place. That&#39;s something you can set up with the Web UI.","body":"I see that DateTime object, but the setStart and setEnd methods require an EventDateTime object and are both rejecting DateTime and String. As for the same day reminders, if I had an event for the 18th of November, I&#39;d like to receive an email at 5 am on the 18th of November, the same day the event takes place. That&#39;s something you can set up with the Web UI."},{"owner":{"account_id":23832985,"reputation":674,"user_id":17839041,"display_name":"Gustavo"},"score":0,"creation_date":1669305937,"post_id":74430000,"comment_id":131619096,"body_markdown":"@NatalieTrinket Got it, my apologies. This is indeed unsupported on API level. I&#39;ve edited my answer to add more info.","body":"@NatalieTrinket Got it, my apologies. This is indeed unsupported on API level. I&#39;ve edited my answer to add more info."}],"tags":[],"owner":{"account_id":23832985,"reputation":674,"user_id":17839041,"display_name":"Gustavo"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669305769,"creation_date":1668420866,"answer_id":74430000,"question_id":74423542,"body_markdown":"To create an All-day event, you must change `startDateTime` and `endDateTime` to be a String instead of a DateTime object otherwise Google Calendar will treat this event as normal event rather than a All-day event. \r\n\r\nThe String pattern should be `&quot;YYYY-MM-DD&quot;`. \r\n\r\nYou can also override the event reminders, if needed, by using this following example:\r\n\r\n```\r\n...\r\nEventReminder[] reminderOverrides = new EventReminder[] {\r\n    new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\r\n    new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10),\r\n};\r\nEvent.Reminders reminders = new Event.Reminders()\r\n    .setUseDefault(false)\r\n    .setOverrides(Arrays.asList(reminderOverrides));\r\nevent.setReminders(reminders);\r\n...\r\n```\r\n\r\nSee [this complete example](https://developers.google.com/calendar/api/guides/create-events#metadata) for more information.\r\n\r\n--- \r\n\r\n**EDIT: Adding a working sample based on [Java Calendar Quickstart](https://developers.google.com/calendar/api/quickstart/java) and [this sample](https://developers.google.com/calendar/api/guides/create-events#java)**\r\n\r\n- Based on how currently Calendar API handles All-day reminders, the only way to create a same-day reminder is setting a &quot;0 Minutes&quot; override. The reminder will be set to 12AM on the day of the event. \r\n\r\n- There is an open Feature Request [here](https://issuetracker.google.com/issues/36761408) to add support for All-day events with same day reminders\r\n\r\n### Complete sample code\r\n\r\n```java\r\nimport com.google.api.client.auth.oauth2.Credential;\r\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.gson.GsonFactory;\r\nimport com.google.api.client.util.DateTime;\r\nimport com.google.api.client.util.store.FileDataStoreFactory;\r\nimport com.google.api.services.calendar.Calendar;\r\nimport com.google.api.services.calendar.CalendarScopes;\r\nimport com.google.api.services.calendar.model.Event;\r\nimport com.google.api.services.calendar.model.Events;\r\nimport com.google.api.services.calendar.model.EventDateTime;\r\nimport com.google.api.services.calendar.model.EventReminder;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\n\r\n/* class to demonstarte use of Calendar events list API */\r\npublic class CalendarQuickstart {\r\n  /**\r\n   * Application name.\r\n   */\r\n  private static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\r\n  /**\r\n   * Global instance of the JSON factory.\r\n   */\r\n  private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n  /**\r\n   * Directory to store authorization tokens for this application.\r\n   */\r\n  private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n\r\n  /**\r\n   * Global instance of the scopes required by this quickstart.\r\n   * If modifying these scopes, delete your previously saved tokens/ folder.\r\n   */\r\n  private static final List&lt;String&gt; SCOPES =\r\n      Collections.singletonList(CalendarScopes.CALENDAR);\r\n  private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n\r\n  /**\r\n   * Creates an authorized Credential object.\r\n   *\r\n   * @param HTTP_TRANSPORT The network HTTP Transport.\r\n   * @return An authorized Credential object.\r\n   * @throws IOException If the credentials.json file cannot be found.\r\n   */\r\n  private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\r\n      throws IOException {\r\n    // Load client secrets.\r\n    InputStream in = CalendarQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n    if (in == null) {\r\n      throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n    }\r\n    GoogleClientSecrets clientSecrets =\r\n        GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n    // Build flow and trigger user authorization request.\r\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n        .setAccessType(&quot;offline&quot;)\r\n        .build();\r\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n    Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    //returns an authorized Credential object.\r\n    return credential;\r\n  }\r\n\r\n  public static void main(String... args) throws IOException, GeneralSecurityException {\r\n    // Build a new authorized API client service.\r\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    Calendar service =\r\n        new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n            .setApplicationName(APPLICATION_NAME)\r\n            .build();\r\n\r\n    Event event = new Event()\r\n        .setSummary(&quot;Google I/O 2015&quot;)\r\n        .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\r\n        .setDescription(&quot;A chance to hear more about Google&#39;s developer products.&quot;);\r\n\r\n    DateTime startDateTime = new DateTime(&quot;2022-11-25&quot;);\r\n    EventDateTime start = new EventDateTime().setDate(startDateTime);\r\n    event.setStart(start);\r\n \r\n    DateTime endDateTime = new DateTime(&quot;2022-11-25&quot;);\r\n    EventDateTime end = new EventDateTime().setDate(endDateTime);\r\n    event.setEnd(end);\r\n\r\n    EventReminder[] reminderOverrides = new EventReminder[] {\r\n        new EventReminder().setMethod(&quot;email&quot;).setMinutes(0),\r\n    };\r\n    Event.Reminders reminders = new Event.Reminders()\r\n        .setUseDefault(false)\r\n        .setOverrides(Arrays.asList(reminderOverrides));\r\n    event.setReminders(reminders);\r\n\r\n    String calendarId = &quot;primary&quot;;\r\n    event = service.events().insert(calendarId, event).execute();\r\n    System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\r\n  }\r\n}\r\n```","title":"Creating an all-day Google Callendar Event uses normal event reminder defaults","body":"<p>To create an All-day event, you must change <code>startDateTime</code> and <code>endDateTime</code> to be a String instead of a DateTime object otherwise Google Calendar will treat this event as normal event rather than a All-day event.</p>\n<p>The String pattern should be <code>&quot;YYYY-MM-DD&quot;</code>.</p>\n<p>You can also override the event reminders, if needed, by using this following example:</p>\n<pre><code>...\nEventReminder[] reminderOverrides = new EventReminder[] {\n    new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\n    new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10),\n};\nEvent.Reminders reminders = new Event.Reminders()\n    .setUseDefault(false)\n    .setOverrides(Arrays.asList(reminderOverrides));\nevent.setReminders(reminders);\n...\n</code></pre>\n<p>See <a href=\"https://developers.google.com/calendar/api/guides/create-events#metadata\" rel=\"nofollow noreferrer\">this complete example</a> for more information.</p>\n<hr />\n<p><strong>EDIT: Adding a working sample based on <a href=\"https://developers.google.com/calendar/api/quickstart/java\" rel=\"nofollow noreferrer\">Java Calendar Quickstart</a> and <a href=\"https://developers.google.com/calendar/api/guides/create-events#java\" rel=\"nofollow noreferrer\">this sample</a></strong></p>\n<ul>\n<li><p>Based on how currently Calendar API handles All-day reminders, the only way to create a same-day reminder is setting a &quot;0 Minutes&quot; override. The reminder will be set to 12AM on the day of the event.</p>\n</li>\n<li><p>There is an open Feature Request <a href=\"https://issuetracker.google.com/issues/36761408\" rel=\"nofollow noreferrer\">here</a> to add support for All-day events with same day reminders</p>\n</li>\n</ul>\n<h3>Complete sample code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.api.client.auth.oauth2.Credential;\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.gson.GsonFactory;\nimport com.google.api.client.util.DateTime;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.calendar.Calendar;\nimport com.google.api.services.calendar.CalendarScopes;\nimport com.google.api.services.calendar.model.Event;\nimport com.google.api.services.calendar.model.Events;\nimport com.google.api.services.calendar.model.EventDateTime;\nimport com.google.api.services.calendar.model.EventReminder;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.security.GeneralSecurityException;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Arrays;\n\n/* class to demonstarte use of Calendar events list API */\npublic class CalendarQuickstart {\n  /**\n   * Application name.\n   */\n  private static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\n  /**\n   * Global instance of the JSON factory.\n   */\n  private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n  /**\n   * Directory to store authorization tokens for this application.\n   */\n  private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n\n  /**\n   * Global instance of the scopes required by this quickstart.\n   * If modifying these scopes, delete your previously saved tokens/ folder.\n   */\n  private static final List&lt;String&gt; SCOPES =\n      Collections.singletonList(CalendarScopes.CALENDAR);\n  private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\n\n  /**\n   * Creates an authorized Credential object.\n   *\n   * @param HTTP_TRANSPORT The network HTTP Transport.\n   * @return An authorized Credential object.\n   * @throws IOException If the credentials.json file cannot be found.\n   */\n  private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\n      throws IOException {\n    // Load client secrets.\n    InputStream in = CalendarQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n    if (in == null) {\n      throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n    }\n    GoogleClientSecrets clientSecrets =\n        GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n    // Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n        .setAccessType(&quot;offline&quot;)\n        .build();\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n    Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    //returns an authorized Credential object.\n    return credential;\n  }\n\n  public static void main(String... args) throws IOException, GeneralSecurityException {\n    // Build a new authorized API client service.\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n    Calendar service =\n        new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n\n    Event event = new Event()\n        .setSummary(&quot;Google I/O 2015&quot;)\n        .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\n        .setDescription(&quot;A chance to hear more about Google's developer products.&quot;);\n\n    DateTime startDateTime = new DateTime(&quot;2022-11-25&quot;);\n    EventDateTime start = new EventDateTime().setDate(startDateTime);\n    event.setStart(start);\n \n    DateTime endDateTime = new DateTime(&quot;2022-11-25&quot;);\n    EventDateTime end = new EventDateTime().setDate(endDateTime);\n    event.setEnd(end);\n\n    EventReminder[] reminderOverrides = new EventReminder[] {\n        new EventReminder().setMethod(&quot;email&quot;).setMinutes(0),\n    };\n    Event.Reminders reminders = new Event.Reminders()\n        .setUseDefault(false)\n        .setOverrides(Arrays.asList(reminderOverrides));\n    event.setReminders(reminders);\n\n    String calendarId = &quot;primary&quot;;\n    event = service.events().insert(calendarId, event).execute();\n    System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7771030,"reputation":13,"user_id":20494506,"display_name":"Natalie Trinket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74430000,"answer_count":1,"score":1,"last_activity_date":1669305769,"creation_date":1668363377,"question_id":74423542,"body_markdown":"I&#39;m trying to make a basic Java program that creates an all-day event when run and want to use my default all-day reminder settings to get around the lack of an API for creating same-day reminders and it&#39;s using the default settings for non-all-day events.\r\n\r\nI expected that creating an all-day event using the code at the end would use the default all-day event reminders. I&#39;ve tried adding the snippet directly below this pertaining to setting the default notifications with no change. \r\n```\r\n.setReminders(new Event.Reminders()\r\n        .setUseDefault(true));\r\n```\r\nI&#39;ve also tried changing the standard event reminders to check if that&#39;s updating when a new event is created, and it is, so there&#39;s not some weird cache thing happening. The last thing I tried was setting the start and end date to the same day, despite that setting them to be offset by one is the recommended way to to an all-day event it made no difference. \r\n\r\nI&#39;ve attached the event code and a couple of pictures showing my reminder settings and the reminders for an event created with the program. \r\n\r\n```\r\nDateTime startDateTime = new DateTime(dateFormat.format(today));\r\nDateTime endDateTime = new DateTime(dateFormat.format(tommorow));\r\nEvent event = new Event()\r\n        .setSummary(&quot;Date &quot; + getDateDifference())\r\n        .setDescription(&quot;Date &quot; + getDateDifference())\r\n        .setStart(new EventDateTime()\r\n                .setDate(startDateTime))\r\n        .setEnd(new EventDateTime()\r\n                .setDate(endDateTime));\r\n```\r\nhttps://i.stack.imgur.com/hdjr9.png\r\nhttps://i.stack.imgur.com/rHKKQ.png\r\n","title":"Creating an all-day Google Callendar Event uses normal event reminder defaults","body":"<p>I'm trying to make a basic Java program that creates an all-day event when run and want to use my default all-day reminder settings to get around the lack of an API for creating same-day reminders and it's using the default settings for non-all-day events.</p>\n<p>I expected that creating an all-day event using the code at the end would use the default all-day event reminders. I've tried adding the snippet directly below this pertaining to setting the default notifications with no change.</p>\n<pre><code>.setReminders(new Event.Reminders()\n        .setUseDefault(true));\n</code></pre>\n<p>I've also tried changing the standard event reminders to check if that's updating when a new event is created, and it is, so there's not some weird cache thing happening. The last thing I tried was setting the start and end date to the same day, despite that setting them to be offset by one is the recommended way to to an all-day event it made no difference.</p>\n<p>I've attached the event code and a couple of pictures showing my reminder settings and the reminders for an event created with the program.</p>\n<pre><code>DateTime startDateTime = new DateTime(dateFormat.format(today));\nDateTime endDateTime = new DateTime(dateFormat.format(tommorow));\nEvent event = new Event()\n        .setSummary(&quot;Date &quot; + getDateDifference())\n        .setDescription(&quot;Date &quot; + getDateDifference())\n        .setStart(new EventDateTime()\n                .setDate(startDateTime))\n        .setEnd(new EventDateTime()\n                .setDate(endDateTime));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hdjr9.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/hdjr9.png</a>\n<a href=\"https://i.stack.imgur.com/rHKKQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rHKKQ.png</a></p>\n"},{"tags":["java","string","paragraph"],"comments":[{"owner":{"account_id":2147113,"reputation":1129,"user_id":1904505,"accept_rate":73,"display_name":"Patrick J Abare II"},"score":0,"creation_date":1393875986,"post_id":22155836,"comment_id":33622617,"body_markdown":"Is is a statically formatted file? Could you just check for a tab or &#39;\\t&#39; or blank line?","body":"Is is a statically formatted file? Could you just check for a tab or &#39;\\t&#39; or blank line?"},{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":0,"creation_date":1393876096,"post_id":22155836,"comment_id":33622680,"body_markdown":"What have you tried so far? Show some work and/or research towards finding a solution yourself, then ask for help on the *specific* problems you can&#39;t solve by yourself.","body":"What have you tried so far? Show some work and/or research towards finding a solution yourself, then ask for help on the <i>specific</i> problems you can&#39;t solve by yourself."},{"owner":{"account_id":2434654,"reputation":473,"user_id":2124855,"display_name":"TA Nguyen"},"score":0,"creation_date":1393879461,"post_id":22155836,"comment_id":33624670,"body_markdown":"Not clear on what you want.  Are you trying to count number of words in a paragraph?  If so, how do you define a begin and end of paragraph?  This will give you clue on how you would go about doing it.  Hint, if it is counting words you want, then Scanner.next() will pickup the next word for you.","body":"Not clear on what you want.  Are you trying to count number of words in a paragraph?  If so, how do you define a begin and end of paragraph?  This will give you clue on how you would go about doing it.  Hint, if it is counting words you want, then Scanner.next() will pickup the next word for you."},{"owner":{"account_id":4113329,"reputation":39,"user_id":3375627,"accept_rate":40,"display_name":"JD14"},"score":0,"creation_date":1393882163,"post_id":22155836,"comment_id":33626197,"body_markdown":"Yes i basically want to count number of words in a paragraph that contains a specific word but before that, i want to define the beginning and end of a paragraph i.e. if there is an empty space after a line or lines of text, it means it is the end of that paragraph. my code reads every line as a paragraph. i&#39;ve struggled to do this for a while.","body":"Yes i basically want to count number of words in a paragraph that contains a specific word but before that, i want to define the beginning and end of a paragraph i.e. if there is an empty space after a line or lines of text, it means it is the end of that paragraph. my code reads every line as a paragraph. i&#39;ve struggled to do this for a while."}],"answers":[{"comments":[{"owner":{"account_id":4113329,"reputation":39,"user_id":3375627,"accept_rate":40,"display_name":"JD14"},"score":0,"creation_date":1393882374,"post_id":22155971,"comment_id":33626314,"body_markdown":"but it count the lines fine without problem. i just want the system to be able to know what paragraphs are i.e. if there is space after a line/lines of text, it is the end of that paragraph. atm it treats every line of text as a paragraph","body":"but it count the lines fine without problem. i just want the system to be able to know what paragraphs are i.e. if there is space after a line/lines of text, it is the end of that paragraph. atm it treats every line of text as a paragraph"},{"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"score":0,"creation_date":1393883039,"post_id":22155971,"comment_id":33626723,"body_markdown":"Are you saying you want read each paragraph as a single string?  If you don&#39;t care about count, then you should remove that from your example (and the title).","body":"Are you saying you want read each paragraph as a single string?  If you don&#39;t care about count, then you should remove that from your example (and the title)."},{"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"score":0,"creation_date":1393883315,"post_id":22155971,"comment_id":33626868,"body_markdown":"If you want both (count and paragraph), then just use my example plus a StringBuilder to append each line until you see a blank line.","body":"If you want both (count and paragraph), then just use my example plus a StringBuilder to append each line until you see a blank line."},{"owner":{"account_id":4113329,"reputation":39,"user_id":3375627,"accept_rate":40,"display_name":"JD14"},"score":0,"creation_date":1393884544,"post_id":22155971,"comment_id":33627517,"body_markdown":"im not sure how to use a string builder, I&#39;m a beginner in java. I want the system to know when a paragraph starts and end then count each paragraph in file. So basically it should read lines of text that are together without empty line between them as one paragraph. hope this is clear","body":"im not sure how to use a string builder, I&#39;m a beginner in java. I want the system to know when a paragraph starts and end then count each paragraph in file. So basically it should read lines of text that are together without empty line between them as one paragraph. hope this is clear"},{"owner":{"account_id":4113329,"reputation":39,"user_id":3375627,"accept_rate":40,"display_name":"JD14"},"score":0,"creation_date":1393885868,"post_id":22155971,"comment_id":33628082,"body_markdown":"the code doesn&#39;t work :(. this is the result:\nNumber of lines: 0\nNumber of lines: 0\nNumber of lines: 0\nNumber of lines: 0\nNumber of lines: 0\n......","body":"the code doesn&#39;t work :(. this is the result: Number of lines: 0 Number of lines: 0 Number of lines: 0 Number of lines: 0 Number of lines: 0 ......"},{"owner":{"account_id":4113329,"reputation":39,"user_id":3375627,"accept_rate":40,"display_name":"JD14"},"score":0,"creation_date":1393886143,"post_id":22155971,"comment_id":33628206,"body_markdown":"after editing your code now it just print first line in the file repeatedly","body":"after editing your code now it just print first line in the file repeatedly"},{"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"score":1,"creation_date":1393888008,"post_id":22155971,"comment_id":33629073,"body_markdown":"Updated the answer (again).  I needed to also read the next line inside the loop.  Not all answers are tested on stack overflow, so you should expect to have to tweak the answer a little bit.  Use it more of a guide, not a drop in replacement.","body":"Updated the answer (again).  I needed to also read the next line inside the loop.  Not all answers are tested on stack overflow, so you should expect to have to tweak the answer a little bit.  Use it more of a guide, not a drop in replacement."},{"owner":{"account_id":4113329,"reputation":39,"user_id":3375627,"accept_rate":40,"display_name":"JD14"},"score":0,"creation_date":1393889892,"post_id":22155971,"comment_id":33629831,"body_markdown":"your updated code currently just print first line of text repeatedly","body":"your updated code currently just print first line of text repeatedly"},{"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"score":0,"creation_date":1393900862,"post_id":22155971,"comment_id":33633123,"body_markdown":"I just tried it and it worked for me with a little changes. All i had to do was handle the case for the last paragraph when the file doesn&#39;t end with a blank line.  I&#39;ve updated the answer.  That code is tested, but the *idea* has not changed.","body":"I just tried it and it worked for me with a little changes. All i had to do was handle the case for the last paragraph when the file doesn&#39;t end with a blank line.  I&#39;ve updated the answer.  That code is tested, but the <i>idea</i> has not changed."}],"tags":[],"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393900749,"creation_date":1393876206,"answer_id":22155971,"question_id":22155836,"body_markdown":"Scanner probably isn&#39;t the best choice if you only want to count lines.  BufferedReader is probably better.\r\n\r\n    \tBufferedReader in = new BufferedReader(new FileReader(&quot;output.txt&quot;));\r\n    \tString line = in.readLine();\r\n    \tint count = 0;\r\n    \tStringBuilder paragraph = new StringBuilder();\r\n    \twhile (true) {\r\n    \t    if (line==null || line.trim().length() == 0) {\r\n    \t        count++;\r\n    \t        System.out.println(&quot;paragraph &quot; + count + &quot;:&quot; + paragraph.toString());\r\n    \t        paragraph.setLength(0);\r\n    \t        if(line == null)\r\n    \t        \tbreak;\r\n    \t    } else {\r\n    \t        paragraph.append(&quot; &quot;);\r\n    \t        paragraph.append(line);\r\n    \t    }\r\n    \t    line = in.readLine();\r\n    \t}\r\n    \tin.close();\r\n    \tSystem.out.println(&quot;Number of paragaphs: &quot;+ count);    ","title":"java how to use scanner to read and count paragraph","body":"<p>Scanner probably isn't the best choice if you only want to count lines.  BufferedReader is probably better.</p>\n\n<pre><code>    BufferedReader in = new BufferedReader(new FileReader(\"output.txt\"));\n    String line = in.readLine();\n    int count = 0;\n    StringBuilder paragraph = new StringBuilder();\n    while (true) {\n        if (line==null || line.trim().length() == 0) {\n            count++;\n            System.out.println(\"paragraph \" + count + \":\" + paragraph.toString());\n            paragraph.setLength(0);\n            if(line == null)\n                break;\n        } else {\n            paragraph.append(\" \");\n            paragraph.append(line);\n        }\n        line = in.readLine();\n    }\n    in.close();\n    System.out.println(\"Number of paragaphs: \"+ count);    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393876680,"creation_date":1393876680,"answer_id":22156123,"question_id":22155836,"body_markdown":"You will not be able to see the spaces or newline characters using Scanner. `nextLine()` method eliminates the \\n&#39;s.\r\n\r\nYou need to use a class and methods that reads the bytes of the file so you can detect the spaces and newline characters.\r\n\r\nTry to use `read()` method of `FileInputStream`.","title":"java how to use scanner to read and count paragraph","body":"<p>You will not be able to see the spaces or newline characters using Scanner. <code>nextLine()</code> method eliminates the \\n's.</p>\n\n<p>You need to use a class and methods that reads the bytes of the file so you can detect the spaces and newline characters.</p>\n\n<p>Try to use <code>read()</code> method of <code>FileInputStream</code>.</p>\n"}],"owner":{"account_id":4113329,"reputation":39,"user_id":3375627,"accept_rate":40,"display_name":"JD14"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7736,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669305675,"creation_date":1393875839,"question_id":22155836,"body_markdown":"For example, if I have the following lines of text in a file:\r\n\r\n&gt;this is an example. this is an example. \r\n&gt;\r\n&gt;this is an example. this is an example. this is an example\r\n&gt; \r\n&gt;this is an example this is an example this is an example this is an example this is an example this is an example this is an example this is an example this is an example                                                                                this is an example.\r\n\r\nI want to be able to count these lines as 3 paragraphs.  Now my code will count this as 4 paragraphs, as it does not know when a paragraph begins and ends.\r\n\r\n    Scanner file = new Scanner(new FileInputStream(&quot;../.../output.txt&quot;));\r\n    int count = 0;\r\n    while (file.hasNextLine()) { //whilst scanner has more lines\r\n        Scanner s = new Scanner(file.nextLine());\r\n        if(!file.hasNext()){\r\n            break;\r\n        }\r\n        else{\r\n            file.nextLine();\r\n            count++;\r\n        }\r\n        s.close();\r\n    }\r\n    System.out.println(&quot;Number of paragraphs: &quot;+ count);\r\n    file.close();\r\n\r\nThis is what I have so far.  It reads lines of text, and treats each line as a single paragraph.  \r\n\r\nI want it to treat lines of text that don&#39;t have any empty line between them as 1 paragraph and count all paragraphs in file.","title":"java how to use scanner to read and count paragraph","body":"<p>For example, if I have the following lines of text in a file:</p>\n\n<blockquote>\n  <p>this is an example. this is an example. </p>\n  \n  <p>this is an example. this is an example. this is an example</p>\n  \n  <p>this is an example this is an example this is an example this is an example this is an example this is an example this is an example this is an example this is an example                                                                                this is an example.</p>\n</blockquote>\n\n<p>I want to be able to count these lines as 3 paragraphs.  Now my code will count this as 4 paragraphs, as it does not know when a paragraph begins and ends.</p>\n\n<pre><code>Scanner file = new Scanner(new FileInputStream(\"../.../output.txt\"));\nint count = 0;\nwhile (file.hasNextLine()) { //whilst scanner has more lines\n    Scanner s = new Scanner(file.nextLine());\n    if(!file.hasNext()){\n        break;\n    }\n    else{\n        file.nextLine();\n        count++;\n    }\n    s.close();\n}\nSystem.out.println(\"Number of paragraphs: \"+ count);\nfile.close();\n</code></pre>\n\n<p>This is what I have so far.  It reads lines of text, and treats each line as a single paragraph.  </p>\n\n<p>I want it to treat lines of text that don't have any empty line between them as 1 paragraph and count all paragraphs in file.</p>\n"},{"tags":["java","selenium","maven","jenkins","testing"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669298261,"post_id":74561904,"comment_id":131616433,"body_markdown":"Does that file have `+x` for that user?","body":"Does that file have <code>+x</code> for that user?"},{"owner":{"account_id":22667366,"reputation":3,"user_id":16839522,"display_name":"MESUT &#214;Z&#220;DOĞRU"},"score":0,"creation_date":1669358567,"post_id":74561904,"comment_id":131628197,"body_markdown":"If I add `+x` for this file, This time, I get another error; **org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.**","body":"If I add <code>+x</code> for this file, This time, I get another error; <b>org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.</b>"}],"answers":[{"tags":[],"owner":{"account_id":26087345,"reputation":7,"user_id":19784706,"display_name":"Kaan Tuğberk Avlamaz"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1669299158,"creation_date":1669298753,"answer_id":74562022,"question_id":74561904,"body_markdown":"Before check your system.dir location ;\r\n\r\nSystem.out.println(System.getProperty(&quot;user.dir&quot;));\r\n\r\nThen check if there is a webdriver under this location.\r\n\r\nI have \r\n```\r\n System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\Users\\\\user\\\\Desktop\\\\msedgedriver.exe&quot;)\r\n```\r\nIt&#39;s working.\r\n\r\nNote : The version of the Chrome browser and the version of the chrome driver must be the same.","title":"&quot;java.lang.IllegalStateException: The driver is not executable&quot; when I try to run my project in Linux server through Jenkins","body":"<p>Before check your system.dir location ;</p>\n<p>System.out.println(System.getProperty(&quot;user.dir&quot;));</p>\n<p>Then check if there is a webdriver under this location.</p>\n<p>I have</p>\n<pre><code> System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\Users\\\\user\\\\Desktop\\\\msedgedriver.exe&quot;)\n</code></pre>\n<p>It's working.</p>\n<p>Note : The version of the Chrome browser and the version of the chrome driver must be the same.</p>\n"},{"comments":[{"owner":{"account_id":22667366,"reputation":3,"user_id":16839522,"display_name":"MESUT &#214;Z&#220;DOĞRU"},"score":0,"creation_date":1669301270,"post_id":74562439,"comment_id":131617482,"body_markdown":"Thank you for your help and explanation, I added your code to Jenkins but this time I got the following error; org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.","body":"Thank you for your help and explanation, I added your code to Jenkins but this time I got the following error; org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669301345,"post_id":74562439,"comment_id":131617511,"body_markdown":"Welcome, let me know what happened.","body":"Welcome, let me know what happened."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669301791,"post_id":74562439,"comment_id":131617657,"body_markdown":"You need to run the chmod +x command only one time, no need to run it on every run.","body":"You need to run the chmod +x command only one time, no need to run it on every run."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669301869,"post_id":74562439,"comment_id":131617687,"body_markdown":"I noticed that you use WebDriverManager. If you uncomment this line: WebDriverManager.chromedriver().setup();  and comment the next one, this will probably fix your problems.","body":"I noticed that you use WebDriverManager. If you uncomment this line: WebDriverManager.chromedriver().setup();  and comment the next one, this will probably fix your problems."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669301916,"post_id":74562439,"comment_id":131617699,"body_markdown":"Mvn test was just an example, may be you trigger your tests differently.","body":"Mvn test was just an example, may be you trigger your tests differently."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669302279,"post_id":74562439,"comment_id":131617830,"body_markdown":"Please check my updated comment.","body":"Please check my updated comment."}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669302251,"creation_date":1669300731,"answer_id":74562439,"question_id":74561904,"body_markdown":"This is happening because chromedriver does not have executable permissions.\r\nYou can give it executable permissions like this:\r\n```\r\nchmod +x /home/jenkins/workspace/Website-Automation/chromedriver\r\n```\r\nSince you are running the tests in Jenkins, you need to run this command before the tests. \r\n\r\n\r\nSomething like this:\r\n```\r\nchmod +x /home/jenkins/workspace/Website-Automation/chromedriver\r\nmvn clean test\r\n```\r\n\r\nIn your case I noticed that you are using WebDriverManager.\r\nIf you have Jenkins job already configured the only change you need to do is remove the line where you manually set the driver path and uncomment the previous line:\r\n```\r\n  WebDriverManager.chromedriver().setup();\r\n\r\n```\r\nIf this does work, may be you need to update WebDriverManager version in the pom file.\r\n\r\nCurrent version:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nYour code should be like:\r\n```\r\npublic static WebDriver get() {\r\n        if (driver == null) {\r\n            String browser = ConfigurationReader.get(&quot;browser&quot;);\r\n            switch (browser.toLowerCase()) {\r\n                case &quot;chrome&quot;:\r\n                    WebDriverManager.chromedriver().setup();\r\n                    driver = new ChromeDriver();\r\n                    break;\r\n```","title":"&quot;java.lang.IllegalStateException: The driver is not executable&quot; when I try to run my project in Linux server through Jenkins","body":"<p>This is happening because chromedriver does not have executable permissions.\nYou can give it executable permissions like this:</p>\n<pre><code>chmod +x /home/jenkins/workspace/Website-Automation/chromedriver\n</code></pre>\n<p>Since you are running the tests in Jenkins, you need to run this command before the tests.</p>\n<p>Something like this:</p>\n<pre><code>chmod +x /home/jenkins/workspace/Website-Automation/chromedriver\nmvn clean test\n</code></pre>\n<p>In your case I noticed that you are using WebDriverManager.\nIf you have Jenkins job already configured the only change you need to do is remove the line where you manually set the driver path and uncomment the previous line:</p>\n<pre><code>  WebDriverManager.chromedriver().setup();\n\n</code></pre>\n<p>If this does work, may be you need to update WebDriverManager version in the pom file.</p>\n<p>Current version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Your code should be like:</p>\n<pre><code>public static WebDriver get() {\n        if (driver == null) {\n            String browser = ConfigurationReader.get(&quot;browser&quot;);\n            switch (browser.toLowerCase()) {\n                case &quot;chrome&quot;:\n                    WebDriverManager.chromedriver().setup();\n                    driver = new ChromeDriver();\n                    break;\n</code></pre>\n"}],"owner":{"account_id":22667366,"reputation":3,"user_id":16839522,"display_name":"MESUT &#214;Z&#220;DOĞRU"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74562439,"answer_count":2,"score":-1,"last_activity_date":1669305343,"creation_date":1669298209,"question_id":74561904,"body_markdown":"My project (Java-Selenium-Maven-Cucumber) works on my device (Windows 10), but I&#39;m unable to launch chrome driver in Linux server through Jenkins.\r\n\r\nI added chromedriver for Linux 64 to my framework.\r\n\r\nThis is my code:\r\n\r\n```\r\nprivate static WebDriver driver;\r\n\r\n    public static WebDriver get() {\r\n        if (driver == null) {\r\n            String browser = ConfigurationReader.get(&quot;browser&quot;);\r\n            switch (browser.toLowerCase()) {\r\n                case &quot;chrome&quot;:\r\n                    System.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;/chromedriver&quot; );\r\n                    driver = new ChromeDriver();\r\n                    break;\r\n\r\n```\r\nThis is the error;\r\n```\r\njava.lang.IllegalStateException: The driver is not executable: /home/jenkins/workspace/Website-Automation/chromedriver\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:585)\r\n\tat org.openqa.selenium.remote.service.DriverService.checkExecutable(DriverService.java:150)\r\n\tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:141)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:35)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:159)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat utilities.Driver.get(Driver.java:35)\r\n\tat step_definitions.Hooks.setUp(Hooks.java:22)\r\n```\r\nIf I add &quot;*chmod +x /home/jenkins/workspace/Website-Automation/chromedriver*&quot;  to Jenkins like the below code, I get another error for this time;\r\n***org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.***\r\n\r\n\r\n```\r\nstage(&#39;Build&#39;) {\r\n            steps {\r\n                    sh &#39;&#39;&#39;\r\n                    chmod +x /home/jenkins/workspace/Website-Automation/chromedriver\r\n                    mvn test&#39;&#39;&#39;\r\n            }\r\n        }\r\n```","title":"&quot;java.lang.IllegalStateException: The driver is not executable&quot; when I try to run my project in Linux server through Jenkins","body":"<p>My project (Java-Selenium-Maven-Cucumber) works on my device (Windows 10), but I'm unable to launch chrome driver in Linux server through Jenkins.</p>\n<p>I added chromedriver for Linux 64 to my framework.</p>\n<p>This is my code:</p>\n<pre><code>private static WebDriver driver;\n\n    public static WebDriver get() {\n        if (driver == null) {\n            String browser = ConfigurationReader.get(&quot;browser&quot;);\n            switch (browser.toLowerCase()) {\n                case &quot;chrome&quot;:\n                    System.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;/chromedriver&quot; );\n                    driver = new ChromeDriver();\n                    break;\n\n</code></pre>\n<p>This is the error;</p>\n<pre><code>java.lang.IllegalStateException: The driver is not executable: /home/jenkins/workspace/Website-Automation/chromedriver\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:585)\n    at org.openqa.selenium.remote.service.DriverService.checkExecutable(DriverService.java:150)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:141)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:35)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:159)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n    at utilities.Driver.get(Driver.java:35)\n    at step_definitions.Hooks.setUp(Hooks.java:22)\n</code></pre>\n<p>If I add &quot;<em>chmod +x /home/jenkins/workspace/Website-Automation/chromedriver</em>&quot;  to Jenkins like the below code, I get another error for this time;\n<em><strong>org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.</strong></em></p>\n<pre><code>stage('Build') {\n            steps {\n                    sh '''\n                    chmod +x /home/jenkins/workspace/Website-Automation/chromedriver\n                    mvn test'''\n            }\n        }\n</code></pre>\n"},{"tags":["java","css","javafx","tableview","row"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668722385,"post_id":74481733,"comment_id":131482230,"body_markdown":"Rather than trying to override the default selection handling, maybe use a checkbox instead to indicate your custom selection handling.  There is an [example here](https://stackoverflow.com/questions/69155467/how-to-get-the-rows-selected-with-checkbox-on-javafx) and will be others with search.","body":"Rather than trying to override the default selection handling, maybe use a checkbox instead to indicate your custom selection handling.  There is an <a href=\"https://stackoverflow.com/questions/69155467/how-to-get-the-rows-selected-with-checkbox-on-javafx\">example here</a> and will be others with search."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668732611,"post_id":74481733,"comment_id":131484435,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":12916204,"reputation":3,"user_id":9340380,"display_name":"4E71-NOP"},"score":0,"creation_date":1668866739,"post_id":74481733,"comment_id":131512670,"body_markdown":"@jewalsea: I cannot use a checkbox. It has to be &quot;keyboard driven&quot; action.","body":"@jewalsea: I cannot use a checkbox. It has to be &quot;keyboard driven&quot; action."},{"owner":{"account_id":12916204,"reputation":3,"user_id":9340380,"display_name":"4E71-NOP"},"score":0,"creation_date":1668866785,"post_id":74481733,"comment_id":131512675,"body_markdown":"@Kleopatra: minimal project inserted","body":"@Kleopatra: minimal project inserted"}],"answers":[{"tags":[],"owner":{"account_id":12916204,"reputation":3,"user_id":9340380,"display_name":"4E71-NOP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669305334,"creation_date":1669305334,"answer_id":74563381,"question_id":74481733,"body_markdown":"Found it!\r\n\r\nSimple and complex at the same time. \r\n\r\nThe trick is to insert at the right place a listener on the object property.\r\n* Inside the rowfactory definition. \r\n* Before the @override\r\n* Pass the row object as an argument and &#39;voila&#39;.\r\n\r\nSomething like :\r\n```java\r\nrowObj.itemProperty().addListener((observable, oldValue, newValue) -&gt; updateTableRowCss(rowObj, newValue));\r\n```\r\n\r\nNotes:\r\n* You can add several listeners on different object properties.\r\n\r\n* I strongly suggest you create a method the listener will call. Sometimes the IDE syntax analyzers are making bloodshed in the screen. It doesn&#39;t help finding errors in this type of code.\r\n* From the tests i made, it seems that the modifications on the style you do will preval (like more important) on the already loaded style. Which is fine.\r\n\r\n\r\n---\r\n\r\nThis way you keep a centralized keyboard management (like in this example) and the mouse event management in the factory.\r\n\r\nThe cursor still moves freely and you keep an object selection you can reuse later.\r\n\r\n\r\n\r\nThe modified example code from above:\r\n\r\n```java\r\n\r\n    package application;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.event.EventHandler;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableRow;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.VBox;\r\n    \r\n    public class Main extends Application {\r\n    \r\n    \tLabel lbl01 = new Label(&quot;Information&quot;);\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tTableView tv1 = new TableView();\r\n    \t\t\tTableColumn&lt;MyObject, String&gt; column1 = new TableColumn&lt;&gt;(&quot;Col 01&quot;);\r\n    \t\t\tcolumn1.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;keyboardSelected&quot;));\r\n    \r\n    \t\t\tTableColumn&lt;MyObject, String&gt; column2 = new TableColumn&lt;&gt;(&quot;Col 02&quot;);\r\n    \t\t\tcolumn2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataA&quot;));\r\n    \r\n    \t\t\tTableColumn&lt;MyObject, String&gt; column3 = new TableColumn&lt;&gt;(&quot;Col 03&quot;);\r\n    \t\t\tcolumn3.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataB&quot;));\r\n    \r\n    \t\t\tTableColumn&lt;MyObject, String&gt; column4 = new TableColumn&lt;&gt;(&quot;Col 04&quot;);\r\n    \t\t\tcolumn4.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataC&quot;));\r\n    \r\n    \t\t\ttv1.getColumns().add(column1);\r\n    \t\t\ttv1.getColumns().add(column2);\r\n    \t\t\ttv1.getColumns().add(column3);\r\n    \t\t\ttv1.getColumns().add(column4);\r\n    \r\n    \t\t\tObservableList&lt;MyObject&gt; olm1 = FXCollections.observableArrayList();\r\n    \t\t\tolm1.addAll(new MyObject(false, &quot;Object01 A&quot;, &quot;Object01 B&quot;, &quot;Object01 C&quot;),\r\n    \t\t\t\t\tnew MyObject(false, &quot;Object02 A&quot;, &quot;Object02 B&quot;, &quot;Object02 C&quot;),\r\n    \t\t\t\t\tnew MyObject(false, &quot;Object03 A&quot;, &quot;Object03 B&quot;, &quot;Object03 C&quot;),\r\n    \t\t\t\t\tnew MyObject(false, &quot;Object04 A&quot;, &quot;Object04 B&quot;, &quot;Object04 C&quot;),\r\n    \t\t\t\t\tnew MyObject(false, &quot;Object05 A&quot;, &quot;Object05 B&quot;, &quot;Object05 C&quot;)\r\n    \t\t\t\t\t);\r\n    \r\n    \t\t\ttv1.setItems(olm1);\r\n    \r\n    \t\t\ttv1.setRowFactory(dc -&gt; {\r\n    \t\t\t\tTableRow&lt;MyObject&gt; rowObj = new TableRow&lt;&gt;();\r\n                    rowObj.itemProperty().addListener((observable, oldValue, newValue) -&gt; updateTableRowCss(rowObj, newValue));\r\n    \t\t\t\trowObj.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handle(MouseEvent e) {\r\n    \t\t\t\t\t\tif (e.getClickCount() == 2 &amp;&amp; (!rowObj.isEmpty())) {\r\n    \t\t\t\t\t\t\tlbl01.setText(&quot;Double click on line &quot; + tv1.getSelectionModel().getSelectedIndex());\r\n    \r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tlbl01.setText(&quot;Single click on line &quot; + +tv1.getSelectionModel().getSelectedIndex());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\treturn rowObj;\r\n    \t\t\t});\r\n    \r\n    \t\t\tVBox root = new VBox(tv1, lbl01);\r\n    \t\t\tScene scene = new Scene(root, 512, 640);\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \r\n    \t\t\tKeyboardManagement km = new KeyboardManagement();\r\n    \t\t\tkm.implementListener(scene, lbl01, tv1);\r\n    \r\n    \t\t\tprimaryStage.show();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    \t\r\n        private void updateTableRowCss(TableRow&lt;MyObject&gt; rowObj, MyObject item) {\r\n            // On doit v&#233;rifier si null\r\n            if (item != null ) {\r\n                if (item.isKeyboardSelected()) {\r\n                    rowObj.setStyle(&quot;-fx-background-color: #FF000080;&quot;);\r\n                } else {\r\n                    rowObj.setStyle(&quot;&quot;);\r\n                }\r\n            }\r\n        }\r\n    \t\r\n    \t\r\n    }\r\n\r\n```\r\n\r\n[Final result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R528a.png","title":"JavaFx : How to make a persistent selection with CSS in a TableView","body":"<p>Found it!</p>\n<p>Simple and complex at the same time.</p>\n<p>The trick is to insert at the right place a listener on the object property.</p>\n<ul>\n<li>Inside the rowfactory definition.</li>\n<li>Before the @override</li>\n<li>Pass the row object as an argument and 'voila'.</li>\n</ul>\n<p>Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>rowObj.itemProperty().addListener((observable, oldValue, newValue) -&gt; updateTableRowCss(rowObj, newValue));\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><p>You can add several listeners on different object properties.</p>\n</li>\n<li><p>I strongly suggest you create a method the listener will call. Sometimes the IDE syntax analyzers are making bloodshed in the screen. It doesn't help finding errors in this type of code.</p>\n</li>\n<li><p>From the tests i made, it seems that the modifications on the style you do will preval (like more important) on the already loaded style. Which is fine.</p>\n</li>\n</ul>\n<hr />\n<p>This way you keep a centralized keyboard management (like in this example) and the mouse event management in the factory.</p>\n<p>The cursor still moves freely and you keep an object selection you can reuse later.</p>\n<p>The modified example code from above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    package application;\n    \n    import javafx.application.Application;\n    import javafx.collections.FXCollections;\n    import javafx.collections.ObservableList;\n    import javafx.event.EventHandler;\n    import javafx.stage.Stage;\n    import javafx.scene.Scene;\n    import javafx.scene.control.Label;\n    import javafx.scene.control.TableColumn;\n    import javafx.scene.control.TableRow;\n    import javafx.scene.control.TableView;\n    import javafx.scene.control.cell.PropertyValueFactory;\n    import javafx.scene.input.MouseEvent;\n    import javafx.scene.layout.VBox;\n    \n    public class Main extends Application {\n    \n        Label lbl01 = new Label(&quot;Information&quot;);\n    \n        @Override\n        public void start(Stage primaryStage) {\n            try {\n                TableView tv1 = new TableView();\n                TableColumn&lt;MyObject, String&gt; column1 = new TableColumn&lt;&gt;(&quot;Col 01&quot;);\n                column1.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;keyboardSelected&quot;));\n    \n                TableColumn&lt;MyObject, String&gt; column2 = new TableColumn&lt;&gt;(&quot;Col 02&quot;);\n                column2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataA&quot;));\n    \n                TableColumn&lt;MyObject, String&gt; column3 = new TableColumn&lt;&gt;(&quot;Col 03&quot;);\n                column3.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataB&quot;));\n    \n                TableColumn&lt;MyObject, String&gt; column4 = new TableColumn&lt;&gt;(&quot;Col 04&quot;);\n                column4.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataC&quot;));\n    \n                tv1.getColumns().add(column1);\n                tv1.getColumns().add(column2);\n                tv1.getColumns().add(column3);\n                tv1.getColumns().add(column4);\n    \n                ObservableList&lt;MyObject&gt; olm1 = FXCollections.observableArrayList();\n                olm1.addAll(new MyObject(false, &quot;Object01 A&quot;, &quot;Object01 B&quot;, &quot;Object01 C&quot;),\n                        new MyObject(false, &quot;Object02 A&quot;, &quot;Object02 B&quot;, &quot;Object02 C&quot;),\n                        new MyObject(false, &quot;Object03 A&quot;, &quot;Object03 B&quot;, &quot;Object03 C&quot;),\n                        new MyObject(false, &quot;Object04 A&quot;, &quot;Object04 B&quot;, &quot;Object04 C&quot;),\n                        new MyObject(false, &quot;Object05 A&quot;, &quot;Object05 B&quot;, &quot;Object05 C&quot;)\n                        );\n    \n                tv1.setItems(olm1);\n    \n                tv1.setRowFactory(dc -&gt; {\n                    TableRow&lt;MyObject&gt; rowObj = new TableRow&lt;&gt;();\n                    rowObj.itemProperty().addListener((observable, oldValue, newValue) -&gt; updateTableRowCss(rowObj, newValue));\n                    rowObj.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n                        @Override\n                        public void handle(MouseEvent e) {\n                            if (e.getClickCount() == 2 &amp;&amp; (!rowObj.isEmpty())) {\n                                lbl01.setText(&quot;Double click on line &quot; + tv1.getSelectionModel().getSelectedIndex());\n    \n                            } else {\n                                lbl01.setText(&quot;Single click on line &quot; + +tv1.getSelectionModel().getSelectedIndex());\n                            }\n                        }\n                    });\n                    return rowObj;\n                });\n    \n                VBox root = new VBox(tv1, lbl01);\n                Scene scene = new Scene(root, 512, 640);\n                primaryStage.setScene(scene);\n    \n                KeyboardManagement km = new KeyboardManagement();\n                km.implementListener(scene, lbl01, tv1);\n    \n                primaryStage.show();\n    \n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    \n        public static void main(String[] args) {\n            launch(args);\n        }\n    \n        \n        private void updateTableRowCss(TableRow&lt;MyObject&gt; rowObj, MyObject item) {\n            // On doit vérifier si null\n            if (item != null ) {\n                if (item.isKeyboardSelected()) {\n                    rowObj.setStyle(&quot;-fx-background-color: #FF000080;&quot;);\n                } else {\n                    rowObj.setStyle(&quot;&quot;);\n                }\n            }\n        }\n        \n        \n    }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/R528a.png\" rel=\"nofollow noreferrer\">Final result</a></p>\n"}],"owner":{"account_id":12916204,"reputation":3,"user_id":9340380,"display_name":"4E71-NOP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74563381,"answer_count":1,"score":0,"last_activity_date":1669305334,"creation_date":1668717047,"question_id":74481733,"body_markdown":"Update: inserted project (reproductible example) and last details\r\n\r\nI have an application that is displaying a TableView filled with simple objects (observable list)\r\n\r\nI want to display selected items (rows) in a TableView highlighting them. \r\n\r\nEx: If the user press &#39;**Insert**&#39; i update (in the observable list) the object which is selected. A boolean in the object will do. The objects are &#39;marked&#39;; the user can do something else. \r\n\r\nI cannot use ```myTableView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);``` as the user will loose the selection as soon as a key is pressed or a mouse clik happens.\r\n\r\nWith that in mind, this means i&#39;m managing keyboard like so:\r\n\r\n```java\r\n\r\n    public boolean implementListenerPackage(Scene s) {\r\n          //some init then...\r\n          s.setOnKeyReleased(new EventHandler&lt;KeyEvent&gt;() {\r\n                @Override\r\n                public void handle(KeyEvent ke) {\r\n                    switch (ke.getCode()) {\r\n                        case INSERT:\r\n                            setObservableListObjectSelect();\r\n                            break;\r\n                   }\r\n               }\r\n        });\r\n    }\r\n\r\n```\r\n\r\nThe object in the observable list is rather simple:\r\n```java\r\npublic class myObject {\r\n    private boolean selected;\r\n    private String otherStuff = &quot;&quot;;\r\n// Then constructor , getters and setters\r\n\r\n```\r\n\r\nAnd i have a MouseEvent management to handle other actions as well. When i&#39;m creating my TableView i add this:\r\n\r\n```java\r\n                myTableView.setRowFactory(rftv-&gt; {\r\n                    TableRow&lt;type&gt; rowObj = new TableRow&lt;&gt;();\r\n                    rowObj.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n                        @Override\r\n                        public void handle(MouseEvent e) {\r\n                           if (e.getClickCount() == 2 &amp;&amp; (!rowObj.isEmpty())) {\r\n                                SomeClass.doSomethingForDoubleClik()\r\n                            } else { // Simple clic\r\n                                SomeClass.doSomethingForSimpleClik()\r\n                            }\r\n                        }\r\n                    });\r\n                    return rowObj;\r\n                });\r\n```\r\n\r\n\r\n\r\nMy goal is to change the CSS of a row when the myObject boolean changes. And by doing so make the user selection highlighted even though the user click on another row.\r\n\r\n\r\n\r\n\r\nI tried :\r\n* A lot of reading on this website, but only to find simple examples. Not the one i have with several obstacles at the same time.\r\n* to implement more things in the rowFactory. But i couldn&#39;t do it. If it compiles, then it crashes with a nullpointerexception. I never been good at those tricky syntax things.\r\n* to do it directly from the keyboard management but only to find it&#39;s rather complicated. I have to get the selected object, update it, then find the selected cells and change the CSS one by one (column logic).\r\n* to implement a &quot;binding&quot; ([An example here](https://stackoverflow.com/questions/39625019/javafx-boolean-binding-based-on-selected-items-in-a-tableview)) between the object and the row but only to find myself wondering how to implement it as it was an answer for a different problem &#39;flavor&#39;.\r\n\r\nIt&#39;s probably in front of my eyes but i can&#39;t see it.\r\n\r\n\r\n---\r\nupdate:\r\nBear in mind that \r\n* the keyboard management is centralized.\r\n* there is already a factory set on the tableView.\r\n* They are several TableView in the original application so i whish the CSS style change automatically and not in some kind of &#39;hardcoded&#39; fashion.\r\n\r\nThe minimal code:\r\n\r\n```java\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.EventHandler;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableRow;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class Main extends Application {\r\n\r\n\tLabel lbl01 = new Label(&quot;Information&quot;);\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\tTableView tv1 = new TableView();\r\n\t\t\tTableColumn&lt;MyObject, String&gt; column1 = new TableColumn&lt;&gt;(&quot;Col 01&quot;);\r\n\t\t\tcolumn1.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;keyboardSelected&quot;));\r\n\r\n\t\t\tTableColumn&lt;MyObject, String&gt; column2 = new TableColumn&lt;&gt;(&quot;Col 02&quot;);\r\n\t\t\tcolumn2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataA&quot;));\r\n\r\n\t\t\tTableColumn&lt;MyObject, String&gt; column3 = new TableColumn&lt;&gt;(&quot;Col 03&quot;);\r\n\t\t\tcolumn3.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataB&quot;));\r\n\r\n\t\t\tTableColumn&lt;MyObject, String&gt; column4 = new TableColumn&lt;&gt;(&quot;Col 04&quot;);\r\n\t\t\tcolumn4.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataC&quot;));\r\n\r\n\t\t\ttv1.getColumns().add(column1);\r\n\t\t\ttv1.getColumns().add(column2);\r\n\t\t\ttv1.getColumns().add(column3);\r\n\t\t\ttv1.getColumns().add(column4);\r\n\r\n\t\t\tObservableList&lt;MyObject&gt; olm1 = FXCollections.observableArrayList();\r\n\t\t\tolm1.addAll(new MyObject(false, &quot;Object01 A&quot;, &quot;Object01 B&quot;, &quot;Object01 C&quot;),\r\n\t\t\t\t\tnew MyObject(false, &quot;Object02 A&quot;, &quot;Object02 B&quot;, &quot;Object02 C&quot;),\r\n\t\t\t\t\tnew MyObject(false, &quot;Object03 A&quot;, &quot;Object03 B&quot;, &quot;Object03 C&quot;),\r\n\t\t\t\t\tnew MyObject(false, &quot;Object04 A&quot;, &quot;Object04 B&quot;, &quot;Object04 C&quot;),\r\n\t\t\t\t\tnew MyObject(false, &quot;Object05 A&quot;, &quot;Object05 B&quot;, &quot;Object05 C&quot;)\r\n\t\t\t\t\t);\r\n\r\n\t\t\ttv1.setItems(olm1);\r\n\r\n\t\t\ttv1.setRowFactory(dc -&gt; {\r\n\t\t\t\tTableRow&lt;MyObject&gt; rowObj = new TableRow&lt;&gt;();\r\n\t\t\t\trowObj.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void handle(MouseEvent e) {\r\n\t\t\t\t\t\tif (e.getClickCount() == 2 &amp;&amp; (!rowObj.isEmpty())) {\r\n\t\t\t\t\t\t\tlbl01.setText(&quot;Double click on line &quot; + tv1.getSelectionModel().getSelectedIndex());\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlbl01.setText(&quot;Single click on line &quot; + +tv1.getSelectionModel().getSelectedIndex());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn rowObj;\r\n\t\t\t});\r\n\r\n\t\t\tVBox root = new VBox(tv1, lbl01);\r\n\t\t\tScene scene = new Scene(root, 512, 640);\r\n\t\t\tprimaryStage.setScene(scene);\r\n\r\n\t\t\tKeyboardManagement km = new KeyboardManagement();\r\n\t\t\tkm.implementListener(scene, lbl01, tv1);\r\n\r\n\t\t\tprimaryStage.show();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```java\r\npackage application;\r\n\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\n\r\npublic class KeyboardManagement {\r\n\tpublic KeyboardManagement() {\r\n\t}\r\n\r\n\tpublic boolean implementListener(Scene s, Label l, TableView tv1) {\r\n\r\n\t\tboolean retRep = false;\r\n\t\ttry {\r\n\t\t\ts.setOnKeyReleased(new EventHandler&lt;KeyEvent&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(KeyEvent ke) {\r\n\t\t\t\t\tif (ke.getCode() == KeyCode.SPACE) {\r\n\t\t\t\t\t\tMyObject m1 = (MyObject) tv1.getSelectionModel().getSelectedItem();\r\n\t\t\t\t\t\ttv1.refresh();\r\n\t\t\t\t\t\tm1.setKeyboardSelected(!m1.isKeyboardSelected());\r\n\t\t\t\t\t\tl.setText(&quot;Space was pressed / TableView Line :&quot; + tv1.getSelectionModel().getSelectedIndex()\r\n\t\t\t\t\t\t\t\t+ &quot;. &quot; + m1.toString());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t}\r\n\t\treturn retRep;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage application;\r\n\r\n\r\npublic class MyObject {\r\n\r\n\tprivate boolean keyboardSelected;\r\n\tprivate String dataA;\r\n\tprivate String dataB;\r\n\tprivate String dataC;\r\n\r\n\tpublic MyObject(boolean keyboardSelected, String dataA, String dataB, String dataC) {\r\n\t\t\tsuper();\r\n\t\t\tthis.keyboardSelected = keyboardSelected;\r\n\t\t\tthis.dataA = dataA;\r\n\t\t\tthis.dataB = dataB;\r\n\t\t\tthis.dataC = dataC;\r\n\t\t}\r\n\r\n\tpublic boolean isKeyboardSelected() {\r\n\t\treturn keyboardSelected;\r\n\t}\r\n\r\n\tpublic void setKeyboardSelected(boolean keyboardSelected) {\r\n\t\tthis.keyboardSelected = keyboardSelected;\r\n\t}\r\n\r\n\tpublic String getDataA() {\r\n\t\treturn dataA;\r\n\t}\r\n\r\n\tpublic void setDataA(String dataA) {\r\n\t\tthis.dataA = dataA;\r\n\t}\r\n\r\n\tpublic String getDataB() {\r\n\t\treturn dataB;\r\n\t}\r\n\r\n\tpublic void setDataB(String dataB) {\r\n\t\tthis.dataB = dataB;\r\n\t}\r\n\r\n\tpublic String getDataC() {\r\n\t\treturn dataC;\r\n\t}\r\n\r\n\tpublic void setDataC(String dataC) {\r\n\t\tthis.dataC = dataC;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;MyObject [keyboardSelected=&quot; + keyboardSelected + &quot;, dataA=&quot; + dataA + &quot;, dataB=&quot; + dataB + &quot;, dataC=&quot;\r\n\t\t\t\t+ dataC + &quot;]&quot;;\r\n\t}\r\n\r\n\r\n}\r\n\r\n```\r\n","title":"JavaFx : How to make a persistent selection with CSS in a TableView","body":"<p>Update: inserted project (reproductible example) and last details</p>\n<p>I have an application that is displaying a TableView filled with simple objects (observable list)</p>\n<p>I want to display selected items (rows) in a TableView highlighting them.</p>\n<p>Ex: If the user press '<strong>Insert</strong>' i update (in the observable list) the object which is selected. A boolean in the object will do. The objects are 'marked'; the user can do something else.</p>\n<p>I cannot use <code>myTableView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);</code> as the user will loose the selection as soon as a key is pressed or a mouse clik happens.</p>\n<p>With that in mind, this means i'm managing keyboard like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public boolean implementListenerPackage(Scene s) {\n          //some init then...\n          s.setOnKeyReleased(new EventHandler&lt;KeyEvent&gt;() {\n                @Override\n                public void handle(KeyEvent ke) {\n                    switch (ke.getCode()) {\n                        case INSERT:\n                            setObservableListObjectSelect();\n                            break;\n                   }\n               }\n        });\n    }\n\n</code></pre>\n<p>The object in the observable list is rather simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class myObject {\n    private boolean selected;\n    private String otherStuff = &quot;&quot;;\n// Then constructor , getters and setters\n\n</code></pre>\n<p>And i have a MouseEvent management to handle other actions as well. When i'm creating my TableView i add this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                myTableView.setRowFactory(rftv-&gt; {\n                    TableRow&lt;type&gt; rowObj = new TableRow&lt;&gt;();\n                    rowObj.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n                        @Override\n                        public void handle(MouseEvent e) {\n                           if (e.getClickCount() == 2 &amp;&amp; (!rowObj.isEmpty())) {\n                                SomeClass.doSomethingForDoubleClik()\n                            } else { // Simple clic\n                                SomeClass.doSomethingForSimpleClik()\n                            }\n                        }\n                    });\n                    return rowObj;\n                });\n</code></pre>\n<p>My goal is to change the CSS of a row when the myObject boolean changes. And by doing so make the user selection highlighted even though the user click on another row.</p>\n<p>I tried :</p>\n<ul>\n<li>A lot of reading on this website, but only to find simple examples. Not the one i have with several obstacles at the same time.</li>\n<li>to implement more things in the rowFactory. But i couldn't do it. If it compiles, then it crashes with a nullpointerexception. I never been good at those tricky syntax things.</li>\n<li>to do it directly from the keyboard management but only to find it's rather complicated. I have to get the selected object, update it, then find the selected cells and change the CSS one by one (column logic).</li>\n<li>to implement a &quot;binding&quot; (<a href=\"https://stackoverflow.com/questions/39625019/javafx-boolean-binding-based-on-selected-items-in-a-tableview\">An example here</a>) between the object and the row but only to find myself wondering how to implement it as it was an answer for a different problem 'flavor'.</li>\n</ul>\n<p>It's probably in front of my eyes but i can't see it.</p>\n<hr />\n<p>update:\nBear in mind that</p>\n<ul>\n<li>the keyboard management is centralized.</li>\n<li>there is already a factory set on the tableView.</li>\n<li>They are several TableView in the original application so i whish the CSS style change automatically and not in some kind of 'hardcoded' fashion.</li>\n</ul>\n<p>The minimal code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package application;\n\nimport javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.EventHandler;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableRow;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.VBox;\n\npublic class Main extends Application {\n\n    Label lbl01 = new Label(&quot;Information&quot;);\n\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            TableView tv1 = new TableView();\n            TableColumn&lt;MyObject, String&gt; column1 = new TableColumn&lt;&gt;(&quot;Col 01&quot;);\n            column1.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;keyboardSelected&quot;));\n\n            TableColumn&lt;MyObject, String&gt; column2 = new TableColumn&lt;&gt;(&quot;Col 02&quot;);\n            column2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataA&quot;));\n\n            TableColumn&lt;MyObject, String&gt; column3 = new TableColumn&lt;&gt;(&quot;Col 03&quot;);\n            column3.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataB&quot;));\n\n            TableColumn&lt;MyObject, String&gt; column4 = new TableColumn&lt;&gt;(&quot;Col 04&quot;);\n            column4.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dataC&quot;));\n\n            tv1.getColumns().add(column1);\n            tv1.getColumns().add(column2);\n            tv1.getColumns().add(column3);\n            tv1.getColumns().add(column4);\n\n            ObservableList&lt;MyObject&gt; olm1 = FXCollections.observableArrayList();\n            olm1.addAll(new MyObject(false, &quot;Object01 A&quot;, &quot;Object01 B&quot;, &quot;Object01 C&quot;),\n                    new MyObject(false, &quot;Object02 A&quot;, &quot;Object02 B&quot;, &quot;Object02 C&quot;),\n                    new MyObject(false, &quot;Object03 A&quot;, &quot;Object03 B&quot;, &quot;Object03 C&quot;),\n                    new MyObject(false, &quot;Object04 A&quot;, &quot;Object04 B&quot;, &quot;Object04 C&quot;),\n                    new MyObject(false, &quot;Object05 A&quot;, &quot;Object05 B&quot;, &quot;Object05 C&quot;)\n                    );\n\n            tv1.setItems(olm1);\n\n            tv1.setRowFactory(dc -&gt; {\n                TableRow&lt;MyObject&gt; rowObj = new TableRow&lt;&gt;();\n                rowObj.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n                    @Override\n                    public void handle(MouseEvent e) {\n                        if (e.getClickCount() == 2 &amp;&amp; (!rowObj.isEmpty())) {\n                            lbl01.setText(&quot;Double click on line &quot; + tv1.getSelectionModel().getSelectedIndex());\n\n                        } else {\n                            lbl01.setText(&quot;Single click on line &quot; + +tv1.getSelectionModel().getSelectedIndex());\n                        }\n                    }\n                });\n                return rowObj;\n            });\n\n            VBox root = new VBox(tv1, lbl01);\n            Scene scene = new Scene(root, 512, 640);\n            primaryStage.setScene(scene);\n\n            KeyboardManagement km = new KeyboardManagement();\n            km.implementListener(scene, lbl01, tv1);\n\n            primaryStage.show();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package application;\n\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableView;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\n\npublic class KeyboardManagement {\n    public KeyboardManagement() {\n    }\n\n    public boolean implementListener(Scene s, Label l, TableView tv1) {\n\n        boolean retRep = false;\n        try {\n            s.setOnKeyReleased(new EventHandler&lt;KeyEvent&gt;() {\n                @Override\n                public void handle(KeyEvent ke) {\n                    if (ke.getCode() == KeyCode.SPACE) {\n                        MyObject m1 = (MyObject) tv1.getSelectionModel().getSelectedItem();\n                        tv1.refresh();\n                        m1.setKeyboardSelected(!m1.isKeyboardSelected());\n                        l.setText(&quot;Space was pressed / TableView Line :&quot; + tv1.getSelectionModel().getSelectedIndex()\n                                + &quot;. &quot; + m1.toString());\n                    }\n\n                }\n            });\n        } catch (Exception e) {\n\n        }\n        return retRep;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package application;\n\n\npublic class MyObject {\n\n    private boolean keyboardSelected;\n    private String dataA;\n    private String dataB;\n    private String dataC;\n\n    public MyObject(boolean keyboardSelected, String dataA, String dataB, String dataC) {\n            super();\n            this.keyboardSelected = keyboardSelected;\n            this.dataA = dataA;\n            this.dataB = dataB;\n            this.dataC = dataC;\n        }\n\n    public boolean isKeyboardSelected() {\n        return keyboardSelected;\n    }\n\n    public void setKeyboardSelected(boolean keyboardSelected) {\n        this.keyboardSelected = keyboardSelected;\n    }\n\n    public String getDataA() {\n        return dataA;\n    }\n\n    public void setDataA(String dataA) {\n        this.dataA = dataA;\n    }\n\n    public String getDataB() {\n        return dataB;\n    }\n\n    public void setDataB(String dataB) {\n        this.dataB = dataB;\n    }\n\n    public String getDataC() {\n        return dataC;\n    }\n\n    public void setDataC(String dataC) {\n        this.dataC = dataC;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MyObject [keyboardSelected=&quot; + keyboardSelected + &quot;, dataA=&quot; + dataA + &quot;, dataB=&quot; + dataB + &quot;, dataC=&quot;\n                + dataC + &quot;]&quot;;\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":2098653,"reputation":689,"user_id":1866870,"accept_rate":33,"display_name":"Tzach Solomon"},"score":6,"creation_date":1637415862,"post_id":36766131,"comment_id":123823000,"body_markdown":"Notice in case you are on MacOs and installed maven using brew, you might have another JAVA installation under /usr/local/Cellar/openjdk","body":"Notice in case you are on MacOs and installed maven using brew, you might have another JAVA installation under /usr/local/Cellar/openjdk"},{"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"score":0,"creation_date":1654110692,"post_id":36766131,"comment_id":128016247,"body_markdown":"Please note that the command above does not show installed Java version installed via sdkman.io","body":"Please note that the command above does not show installed Java version installed via sdkman.io"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654156293,"post_id":36766131,"comment_id":128025488,"body_markdown":"@basZero That should most likely be reported to sdkman.io as a bug then.","body":"@basZero That should most likely be reported to sdkman.io as a bug then."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1675456095,"post_id":36766131,"comment_id":132940554,"body_markdown":"There seem to be only certain recognized locations where the jdk can be, such as /Library/Java/JavaVirtualMachines, or this java_home command won&#39;t find them.","body":"There seem to be only certain recognized locations where the jdk can be, such as /Library/Java/JavaVirtualMachines, or this java_home command won&#39;t find them."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675458043,"post_id":36766131,"comment_id":132941001,"body_markdown":"@KevinBourrillion to my understanding the installer must actively register the JVM for this to work.","body":"@KevinBourrillion to my understanding the installer must actively register the JVM for this to work."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":5,"down_vote_count":0,"up_vote_count":421,"is_accepted":true,"score":421,"last_activity_date":1663412741,"creation_date":1461232732,"answer_id":36766131,"question_id":36766028,"body_markdown":"    /usr/libexec/java_home -V\r\n\r\nlists one line per Java environment installed (and known to the `/usr/bin/java` command).  \r\n\r\nYou can still have other Java distributions which are not registered.  They are typically downloaded  as ZIP files without an installer, or using another package manager like homebrew. ","title":"See all the Java versions installed on Mac","body":"<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>lists one line per Java environment installed (and known to the <code>/usr/bin/java</code> command).</p>\n<p>You can still have other Java distributions which are not registered.  They are typically downloaded  as ZIP files without an installer, or using another package manager like homebrew.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1671434699,"post_id":74562523,"comment_id":132090435,"body_markdown":"Ah you found the database Spotlight uses.","body":"Ah you found the database Spotlight uses."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1683456825,"post_id":74562523,"comment_id":134366825,"body_markdown":"Out of curiosity - what were the five JVM&#39;s and which didn&#39;t register?","body":"Out of curiosity - what were the five JVM&#39;s and which didn&#39;t register?"},{"owner":{"account_id":3888187,"reputation":5989,"user_id":3219049,"display_name":"Nikita Kurtin"},"score":0,"creation_date":1683482830,"post_id":74562523,"comment_id":134370280,"body_markdown":"@Thorbj&#248;rnRavnAndersen Hard to say what was there 6 months ago. But, I tried now again because of your question, and in current results I see this one: `/usr/local/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/bin/java` is found with `mdfind -name &#39;java&#39; | grep &#39;/bin/java$&#39;`, but not with `/usr/libexec/java_home -V`","body":"@Thorbj&#248;rnRavnAndersen Hard to say what was there 6 months ago. But, I tried now again because of your question, and in current results I see this one: <code>&#47;usr&#47;local&#47;Cellar&#47;openjdk&#47;17.0.2&#47;libexec&#47;openjdk.jdk&#47;Content&zwnj;&#8203;s&#47;Home&#47;bin&#47;java</code> is found with <code>mdfind -name &#39;java&#39; | grep &#39;&#47;bin&#47;java$&#39;</code>, but not with <code>&#47;usr&#47;libexec&#47;java_home -V</code>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1683485148,"post_id":74562523,"comment_id":134370607,"body_markdown":"Ah so installed with home brew.","body":"Ah so installed with home brew."}],"tags":[],"owner":{"account_id":3888187,"reputation":5989,"user_id":3219049,"display_name":"Nikita Kurtin"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1669305299,"creation_date":1669301121,"answer_id":74562523,"question_id":36766028,"body_markdown":"**The accepted solution didn&#39;t work for me**. \r\n\r\nThe results it returned didn&#39;t include all the Java versions installed.\r\nFor example on my machine there are currently 5 installations, but the accepted solution only returns 3.\r\n\r\n\r\n\r\n**What eventually did work for me is**:\r\n\r\n    mdfind -name &#39;java&#39; | grep &#39;/bin/java$&#39; \r\n\r\n\r\nIt finds all java installations on the system regardless of how they were installed. This way I found the specific java installation which I was looking for.\r\n\r\n**Explanation of how it works**:\r\n\r\n[mdfind][1] is a native tool in MacOS to search for different files by given query, it&#39;s very fast (usually way faster than `find`) \r\n\r\nThe given command is looking for everything called `java` and then filter only the results that end with `/bin/java` which is the typical suffix of java installations \r\n\r\n\r\n  [1]: https://www.unix.com/man-page/osx/1/mdfind/","title":"See all the Java versions installed on Mac","body":"<p><strong>The accepted solution didn't work for me</strong>.</p>\n<p>The results it returned didn't include all the Java versions installed.\nFor example on my machine there are currently 5 installations, but the accepted solution only returns 3.</p>\n<p><strong>What eventually did work for me is</strong>:</p>\n<pre><code>mdfind -name 'java' | grep '/bin/java$' \n</code></pre>\n<p>It finds all java installations on the system regardless of how they were installed. This way I found the specific java installation which I was looking for.</p>\n<p><strong>Explanation of how it works</strong>:</p>\n<p><a href=\"https://www.unix.com/man-page/osx/1/mdfind/\" rel=\"noreferrer\">mdfind</a> is a native tool in MacOS to search for different files by given query, it's very fast (usually way faster than <code>find</code>)</p>\n<p>The given command is looking for everything called <code>java</code> and then filter only the results that end with <code>/bin/java</code> which is the typical suffix of java installations</p>\n"}],"owner":{"account_id":1552219,"reputation":2850,"user_id":1444360,"accept_rate":55,"display_name":"eureka19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181567,"favorite_count":0,"down_vote_count":0,"up_vote_count":201,"accepted_answer_id":36766131,"answer_count":2,"score":201,"last_activity_date":1669305299,"creation_date":1461232503,"question_id":36766028,"body_markdown":"How can I get all the Java versions installed on my Mac?\r\n\r\nIs there a terminal command for this? \r\n\r\nWhen I run **`java -version`**, I get the current JRE version that is in use in my system, but I want to list all the JREs installed on my Mac.","title":"See all the Java versions installed on Mac","body":"<p>How can I get all the Java versions installed on my Mac?</p>\n<p>Is there a terminal command for this?</p>\n<p>When I run <strong><code>java -version</code></strong>, I get the current JRE version that is in use in my system, but I want to list all the JREs installed on my Mac.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1669302463,"post_id":74562728,"comment_id":131617901,"body_markdown":"Can you share your model please","body":"Can you share your model please"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669311409,"post_id":74562728,"comment_id":131620664,"body_markdown":"Are all your entities universally unique, i.e. they cannot possibly belong to more than one group?","body":"Are all your entities universally unique, i.e. they cannot possibly belong to more than one group?"}],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1669304456,"post_id":74563032,"comment_id":131618614,"body_markdown":"btw in Java 9+ you can use `Map.entry(...)` - without the need for `new` or the `&lt;&gt;`.","body":"btw in Java 9+ you can use <code>Map.entry(...)</code> - without the need for <code>new</code> or the <code>&lt;&gt;</code>."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1669305078,"post_id":74563032,"comment_id":131618818,"body_markdown":"@k314159 Good point. I&#39;ll add it to the answer.","body":"@k314159 Good point. I&#39;ll add it to the answer."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669311237,"post_id":74563032,"comment_id":131620623,"body_markdown":"Great answer, but the question was &quot; How is possible to change the below code to one line&quot; &#128539;","body":"Great answer, but the question was &quot; How is possible to change the below code to one line&quot; 😛"}],"tags":[],"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669305191,"creation_date":1669303624,"answer_id":74563032,"question_id":74562728,"body_markdown":"To do this using streams, you would need to make a stream of map-entries and then collect it into a `Map`.\r\n\r\nI&#39;m using `Map.entry` in my example, which is available in Java 9 and up. If you&#39;re on Java 8, you can use `AbstractMap.SimpleEntry` or some other kind of `Pair`-class.\r\n\r\nSomething like this:\r\n\r\n```java\r\nMap&lt;String, String&gt; entityGroup = groups.stream()\r\n    .flatMap(group -&gt; group.getEntities().stream()\r\n        .map(entity -&gt; Map.entry(entity.getKey(), group.getKey())))\r\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));","title":"Build map from list by lambda","body":"<p>To do this using streams, you would need to make a stream of map-entries and then collect it into a <code>Map</code>.</p>\n<p>I'm using <code>Map.entry</code> in my example, which is available in Java 9 and up. If you're on Java 8, you can use <code>AbstractMap.SimpleEntry</code> or some other kind of <code>Pair</code>-class.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; entityGroup = groups.stream()\n    .flatMap(group -&gt; group.getEntities().stream()\n        .map(entity -&gt; Map.entry(entity.getKey(), group.getKey())))\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1669304109,"post_id":74563065,"comment_id":131618494,"body_markdown":"This uses a different data model than the question though. In the question, the `A`-class (corresponding to `Group`) would have a `key`-property that is supposed to be the values of the map.","body":"This uses a different data model than the question though. In the question, the <code>A</code>-class (corresponding to <code>Group</code>) would have a <code>key</code>-property that is supposed to be the values of the map."}],"tags":[],"owner":{"account_id":27036641,"reputation":1,"user_id":20592164,"display_name":"sanroo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669303909,"creation_date":1669303771,"answer_id":74563065,"question_id":74562728,"body_markdown":"Here&#39;s a runnable example which doesn&#39;t require you to explicitly create a new entry like the solution above:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n        List&lt;B&gt; b1 = List.of(new B(&quot;a&quot;, &quot;1&quot;), new B(&quot;b&quot;, &quot;2&quot;));\r\n        List&lt;B&gt; b2 = List.of(new B(&quot;x&quot;, &quot;3&quot;), new B(&quot;y&quot;, &quot;4&quot;));\r\n        A a1 = new A(b1);\r\n        A a2 = new A(b2);\r\n        List&lt;A&gt; allAs = List.of(a1, a2);\r\n        Map&lt;String, String&gt; map =\r\n               allAs.stream().flatMap(a -&gt; a.vals.stream())\r\n               .collect(Collectors.toMap(B::getKey, B::getValue));\r\n        System.out.println(map); // {a=1, b=2, x=3, y=4}\r\n    }\r\n}\r\n\r\nclass A {\r\n    List&lt;B&gt; vals;\r\n    public A(List&lt;B&gt; vals) { this.vals = vals; }\r\n}\r\n\r\nclass B {\r\n    String k, v;\r\n    public B(String k, String v) { this.k = k; this.v = v; }\r\n    public String getKey() { return this.k; }\r\n    public String getValue() { return this.v; }\r\n}\r\n```","title":"Build map from list by lambda","body":"<p>Here's a runnable example which doesn't require you to explicitly create a new entry like the solution above:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        List&lt;B&gt; b1 = List.of(new B(&quot;a&quot;, &quot;1&quot;), new B(&quot;b&quot;, &quot;2&quot;));\n        List&lt;B&gt; b2 = List.of(new B(&quot;x&quot;, &quot;3&quot;), new B(&quot;y&quot;, &quot;4&quot;));\n        A a1 = new A(b1);\n        A a2 = new A(b2);\n        List&lt;A&gt; allAs = List.of(a1, a2);\n        Map&lt;String, String&gt; map =\n               allAs.stream().flatMap(a -&gt; a.vals.stream())\n               .collect(Collectors.toMap(B::getKey, B::getValue));\n        System.out.println(map); // {a=1, b=2, x=3, y=4}\n    }\n}\n\nclass A {\n    List&lt;B&gt; vals;\n    public A(List&lt;B&gt; vals) { this.vals = vals; }\n}\n\nclass B {\n    String k, v;\n    public B(String k, String v) { this.k = k; this.v = v; }\n    public String getKey() { return this.k; }\n    public String getValue() { return this.v; }\n}\n</code></pre>\n"}],"owner":{"account_id":11319191,"reputation":68,"user_id":8299968,"display_name":"Mortova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74563032,"answer_count":2,"score":0,"last_activity_date":1669305191,"creation_date":1669302144,"question_id":74562728,"body_markdown":"I have a `Group` model with an inner field `List&lt;Entity&gt; entities`\r\n\r\nHow is possible to change the below code to one line by lambda and stream  \r\n\r\n     Map&lt;String, String&gt; entityGroup = new HashMap&lt;&gt;();\r\n     groups.forEach(g -&gt; g.getEntities()\r\n                    .forEach(e -&gt; entityGroup.put(e.getKey(), g.getKey()))\r\n     );\r\n\r\nEach entity in the inner list should be the key in the map and the value should be the Group itself\r\n\r\nThanks ","title":"Build map from list by lambda","body":"<p>I have a <code>Group</code> model with an inner field <code>List&lt;Entity&gt; entities</code></p>\n<p>How is possible to change the below code to one line by lambda and stream</p>\n<pre><code> Map&lt;String, String&gt; entityGroup = new HashMap&lt;&gt;();\n groups.forEach(g -&gt; g.getEntities()\n                .forEach(e -&gt; entityGroup.put(e.getKey(), g.getKey()))\n );\n</code></pre>\n<p>Each entity in the inner list should be the key in the map and the value should be the Group itself</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx","java-17"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669318347,"post_id":74561793,"comment_id":131622354,"body_markdown":"JavaFX, by default, works on [60 fps pulses](https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#:~:text=A%20pulse%20is%20an%20event%20that%20indicates%20to,whenever%20animations%20are%20running%20on%20the%20scene%20graph.).  You won&#39;t receive timeline events any faster than that, unless you change the default pulse setting.  The pulse rate is configurable via a settable system property, but I don&#39;t recall the name for the setting off the top of my head.","body":"JavaFX, by default, works on <a href=\"https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#:~:text=A%20pulse%20is%20an%20event%20that%20indicates%20to,whenever%20animations%20are%20running%20on%20the%20scene%20graph.\" rel=\"nofollow noreferrer\">60 fps pulses</a>.  You won&#39;t receive timeline events any faster than that, unless you change the default pulse setting.  The pulse rate is configurable via a settable system property, but I don&#39;t recall the name for the setting off the top of my head."},{"owner":{"account_id":26996551,"reputation":13,"user_id":20558557,"display_name":"leevmealone"},"score":0,"creation_date":1669327107,"post_id":74561793,"comment_id":131624068,"body_markdown":"Yes i&#39;ve see this on another question. I&#39;ve saved her for later, thanks !","body":"Yes i&#39;ve see this on another question. I&#39;ve saved her for later, thanks !"}],"answers":[{"comments":[{"owner":{"account_id":26996551,"reputation":13,"user_id":20558557,"display_name":"leevmealone"},"score":0,"creation_date":1669308840,"post_id":74562983,"comment_id":131619956,"body_markdown":"Hi, thanks for your time, i understand it now. I was thinking if using Threads, like i habitually doing it, can be a good idea ?","body":"Hi, thanks for your time, i understand it now. I was thinking if using Threads, like i habitually doing it, can be a good idea ?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1669318026,"post_id":74562983,"comment_id":131622279,"body_markdown":"Whether you use custom threads can be good or bad depending on the application requirements and the expertise of those developing and maintaining code.  It is easy to generate concurrency errors when you introduce your own concurrency. But, if you know what you doing, multi-threading can work OK.  JavaFX animation and concurrency utilities provide safe, higher-level services.  Do some research on game loops and animation timers in JavaFX.  It does not need to be an either/or approach, sometimes you need concurrency, e.g. for long running IO.","body":"Whether you use custom threads can be good or bad depending on the application requirements and the expertise of those developing and maintaining code.  It is easy to generate concurrency errors when you introduce your own concurrency. But, if you know what you doing, multi-threading can work OK.  JavaFX animation and concurrency utilities provide safe, higher-level services.  Do some research on game loops and animation timers in JavaFX.  It does not need to be an either/or approach, sometimes you need concurrency, e.g. for long running IO."},{"owner":{"account_id":26996551,"reputation":13,"user_id":20558557,"display_name":"leevmealone"},"score":0,"creation_date":1669334724,"post_id":74562983,"comment_id":131625299,"body_markdown":"I&#39;ve done it with threads and i&#39;m pretty proud of it cause i have 99% of precision and it takes steps and methods dynamically. I don&#39;t know if the code can cause problems later, but it&#39;s actually works ! You can look at it here on [github](https://github.com/leevmealone/TickThread-GameLoop)\n\nI&#39;ve tested it with two steps and methods for the moment","body":"I&#39;ve done it with threads and i&#39;m pretty proud of it cause i have 99% of precision and it takes steps and methods dynamically. I don&#39;t know if the code can cause problems later, but it&#39;s actually works ! You can look at it here on <a href=\"https://github.com/leevmealone/TickThread-GameLoop\" rel=\"nofollow noreferrer\">github</a>  I&#39;ve tested it with two steps and methods for the moment"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669304266,"creation_date":1669303383,"answer_id":74562983,"question_id":74561793,"body_markdown":"You have three key frames; one at 1/120 second, one at 1/60 second, and one at 1 second. Since the longest duration of any key frame is one second, the duration of one cycle of the timeline is one second.\r\n\r\nTherefore, during one cycle of the timeline, the following three things happen:\r\n\r\n - At 1/120 second, `handleDraw()` is invoked\r\n - At 1/60 second, `handle()` is invoked\r\n - At 1 second, `handleFPS()` is invoked\r\n\r\nSo during one cycle of the timeline (1 second), `handleDraw()` and `handle()` are invoked once each.\r\n\r\nYou set the cycle count to `INDEFINITE`, so once one cycle is completed, it repeats; this happens indefinitely.\r\n\r\nOne solution is to use a separate timeline for each of the individual tasks. This will not add any appreciable overhead to the application.\r\n\r\n(As an aside: there is no point here in implementing `EventHandler`. You never use an instance of `TickSystem` as an event handler; you only use the lambda expressions.)\r\n\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.util.Duration;\r\n    \r\n    \r\n    public class TickSystem {\r\n        private KeyFrame kfU; // update\r\n        private KeyFrame kfD; // draw\r\n        private KeyFrame kfFPS; // FPS count\r\n        public Rectangle r;\r\n        public int curFrame = 0;\r\n        public int tick = 0;\r\n        public final Timeline gameLoop = new Timeline(60);\r\n        private final Timeline drawLoop = new Timeline(120);\r\n        private final Timeline fpsLoop = new Timeline(1000);\r\n        public final Duration updateTime = Duration.millis((double)1000/60); // 60 times per seconds\r\n        public final Duration drawTime = Duration.millis((double)1000/120); // 120 times per seconds\r\n    \r\n        public int fps;\r\n        private int lastFrames = 0;\r\n    \r\n        public TickSystem(Rectangle r){\r\n    \r\n            this.r = r;\r\n            this.kfU = new KeyFrame(updateTime,&quot;tickKeyUpdate&quot;, this::handleUpdate);\r\n            this.kfD = new KeyFrame(drawTime,&quot;tickKeyDraw&quot;, this::handleDraw);\r\n            this.kfFPS = new KeyFrame(Duration.seconds(1),&quot;tickKeyFPS&quot;, this::handleFPS);\r\n            this.gameLoop.setCycleCount(Timeline.INDEFINITE);\r\n            this.drawLoop.setCycleCount(Timeline.INDEFINITE);\r\n            this.fpsLoop.setCycleCount(Timeline.INDEFINITE);\r\n            this.fpsLoop.getKeyFrames().add(this.kfFPS);\r\n            this.gameLoop.getKeyFrames().add(this.kfU);\r\n            this.drawLoop.getKeyFrames().add(this.kfD);\r\n        }\r\n    \r\n        public void start(){\r\n            this.gameLoop.play();\r\n            this.fpsLoop.play();\r\n            this.drawLoop.play();\r\n        }\r\n        public void pause(){\r\n            this.gameLoop.pause();\r\n            this.fpsLoop.pause();\r\n            this.drawLoop.pause();\r\n        }\r\n        public void stop(){\r\n            this.gameLoop.stop();\r\n            this.drawLoop.stop();\r\n            this.fpsLoop.stop();\r\n        }\r\n    \r\n        public void handleUpdate(ActionEvent ae) { // for update\r\n            this.tick++;\r\n        }\r\n    \r\n        public void handleDraw(ActionEvent ae){ // for draw\r\n            this.curFrame++;\r\n            this.r.setWidth(curFrame);\r\n        }\r\n    \r\n        public void handleFPS(ActionEvent ae) { // for FPS\r\n            this.fps = this.curFrame - this.lastFrames;\r\n            this.lastFrames = this.curFrame;\r\n            System.out.println(this.fps);\r\n        }\r\n    }\r\n\r\nOr, more succinctly:\r\n\r\n    public class TickSystem {\r\n    \r\n        private Rectangle r;\r\n        private int curFrame = 0;\r\n        private int tick = 0;\r\n    \r\n    \r\n        private final List&lt;Timeline&gt; timelines = new ArrayList&lt;&gt;();\r\n    \r\n        private int fps;\r\n        private int lastFrames = 0;\r\n    \r\n        public TickSystem(Rectangle r){\r\n    \r\n            this.r = r;\r\n            timelines.add(createTimeline(60, this::handleUpdate));\r\n            timelines.add(createTimeline(120, this::handleDraw));\r\n            timelines.add(createTimeline(1, this::handleFPS));\r\n        }\r\n    \r\n        private Timeline createTimeline(int frequency, EventHandler&lt;ActionEvent&gt; handler) {\r\n            Timeline timeline = new Timeline(frequency);\r\n            timeline.getKeyFrames().add(new KeyFrame(Duration.millis(1000.0 / frequency), handler));\r\n            timeline.setCycleCount(Animation.INDEFINITE);\r\n            return timeline;\r\n        }\r\n    \r\n        public void start(){\r\n            timelines.forEach(Timeline::play);\r\n        }\r\n        public void pause(){\r\n            timelines.forEach(Timeline::pause);\r\n        }\r\n        public void stop(){\r\n            timelines.forEach(Timeline::stop);\r\n        }\r\n    \r\n        public void handleUpdate(ActionEvent ae) { // for update\r\n            this.tick++;\r\n        }\r\n    \r\n        public void handleDraw(ActionEvent ae){ // for draw\r\n            this.curFrame++;\r\n            this.r.setWidth(curFrame);\r\n        }\r\n    \r\n        public void handleFPS(ActionEvent ae) { // for FPS\r\n            this.fps = this.curFrame - this.lastFrames;\r\n            this.lastFrames = this.curFrame;\r\n            System.out.println(this.fps);\r\n        }\r\n    }\r\n\r\nAnother solution would be to use an `AnimationTimer`: see https://stackoverflow.com/a/60685975/2189127\r\n\r\nYou should also note that your FPS keyframe/timeline is not really measuring frames per second, in the sense of how frequently the scene graph is repainted. It is only measuring how frequently the width of the rectangle is updated (how often the property value is changed).","title":"JavaFX Timeline locked at 1fps","body":"<p>You have three key frames; one at 1/120 second, one at 1/60 second, and one at 1 second. Since the longest duration of any key frame is one second, the duration of one cycle of the timeline is one second.</p>\n<p>Therefore, during one cycle of the timeline, the following three things happen:</p>\n<ul>\n<li>At 1/120 second, <code>handleDraw()</code> is invoked</li>\n<li>At 1/60 second, <code>handle()</code> is invoked</li>\n<li>At 1 second, <code>handleFPS()</code> is invoked</li>\n</ul>\n<p>So during one cycle of the timeline (1 second), <code>handleDraw()</code> and <code>handle()</code> are invoked once each.</p>\n<p>You set the cycle count to <code>INDEFINITE</code>, so once one cycle is completed, it repeats; this happens indefinitely.</p>\n<p>One solution is to use a separate timeline for each of the individual tasks. This will not add any appreciable overhead to the application.</p>\n<p>(As an aside: there is no point here in implementing <code>EventHandler</code>. You never use an instance of <code>TickSystem</code> as an event handler; you only use the lambda expressions.)</p>\n<pre><code>import javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.event.ActionEvent;\nimport javafx.scene.shape.Rectangle;\nimport javafx.util.Duration;\n\n\npublic class TickSystem {\n    private KeyFrame kfU; // update\n    private KeyFrame kfD; // draw\n    private KeyFrame kfFPS; // FPS count\n    public Rectangle r;\n    public int curFrame = 0;\n    public int tick = 0;\n    public final Timeline gameLoop = new Timeline(60);\n    private final Timeline drawLoop = new Timeline(120);\n    private final Timeline fpsLoop = new Timeline(1000);\n    public final Duration updateTime = Duration.millis((double)1000/60); // 60 times per seconds\n    public final Duration drawTime = Duration.millis((double)1000/120); // 120 times per seconds\n\n    public int fps;\n    private int lastFrames = 0;\n\n    public TickSystem(Rectangle r){\n\n        this.r = r;\n        this.kfU = new KeyFrame(updateTime,&quot;tickKeyUpdate&quot;, this::handleUpdate);\n        this.kfD = new KeyFrame(drawTime,&quot;tickKeyDraw&quot;, this::handleDraw);\n        this.kfFPS = new KeyFrame(Duration.seconds(1),&quot;tickKeyFPS&quot;, this::handleFPS);\n        this.gameLoop.setCycleCount(Timeline.INDEFINITE);\n        this.drawLoop.setCycleCount(Timeline.INDEFINITE);\n        this.fpsLoop.setCycleCount(Timeline.INDEFINITE);\n        this.fpsLoop.getKeyFrames().add(this.kfFPS);\n        this.gameLoop.getKeyFrames().add(this.kfU);\n        this.drawLoop.getKeyFrames().add(this.kfD);\n    }\n\n    public void start(){\n        this.gameLoop.play();\n        this.fpsLoop.play();\n        this.drawLoop.play();\n    }\n    public void pause(){\n        this.gameLoop.pause();\n        this.fpsLoop.pause();\n        this.drawLoop.pause();\n    }\n    public void stop(){\n        this.gameLoop.stop();\n        this.drawLoop.stop();\n        this.fpsLoop.stop();\n    }\n\n    public void handleUpdate(ActionEvent ae) { // for update\n        this.tick++;\n    }\n\n    public void handleDraw(ActionEvent ae){ // for draw\n        this.curFrame++;\n        this.r.setWidth(curFrame);\n    }\n\n    public void handleFPS(ActionEvent ae) { // for FPS\n        this.fps = this.curFrame - this.lastFrames;\n        this.lastFrames = this.curFrame;\n        System.out.println(this.fps);\n    }\n}\n</code></pre>\n<p>Or, more succinctly:</p>\n<pre><code>public class TickSystem {\n\n    private Rectangle r;\n    private int curFrame = 0;\n    private int tick = 0;\n\n\n    private final List&lt;Timeline&gt; timelines = new ArrayList&lt;&gt;();\n\n    private int fps;\n    private int lastFrames = 0;\n\n    public TickSystem(Rectangle r){\n\n        this.r = r;\n        timelines.add(createTimeline(60, this::handleUpdate));\n        timelines.add(createTimeline(120, this::handleDraw));\n        timelines.add(createTimeline(1, this::handleFPS));\n    }\n\n    private Timeline createTimeline(int frequency, EventHandler&lt;ActionEvent&gt; handler) {\n        Timeline timeline = new Timeline(frequency);\n        timeline.getKeyFrames().add(new KeyFrame(Duration.millis(1000.0 / frequency), handler));\n        timeline.setCycleCount(Animation.INDEFINITE);\n        return timeline;\n    }\n\n    public void start(){\n        timelines.forEach(Timeline::play);\n    }\n    public void pause(){\n        timelines.forEach(Timeline::pause);\n    }\n    public void stop(){\n        timelines.forEach(Timeline::stop);\n    }\n\n    public void handleUpdate(ActionEvent ae) { // for update\n        this.tick++;\n    }\n\n    public void handleDraw(ActionEvent ae){ // for draw\n        this.curFrame++;\n        this.r.setWidth(curFrame);\n    }\n\n    public void handleFPS(ActionEvent ae) { // for FPS\n        this.fps = this.curFrame - this.lastFrames;\n        this.lastFrames = this.curFrame;\n        System.out.println(this.fps);\n    }\n}\n</code></pre>\n<p>Another solution would be to use an <code>AnimationTimer</code>: see <a href=\"https://stackoverflow.com/a/60685975/2189127\">https://stackoverflow.com/a/60685975/2189127</a></p>\n<p>You should also note that your FPS keyframe/timeline is not really measuring frames per second, in the sense of how frequently the scene graph is repainted. It is only measuring how frequently the width of the rectangle is updated (how often the property value is changed).</p>\n"}],"owner":{"account_id":26996551,"reputation":13,"user_id":20558557,"display_name":"leevmealone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74562983,"answer_count":1,"score":1,"last_activity_date":1669304266,"creation_date":1669297652,"question_id":74561793,"body_markdown":"i have a problem with the Timeline in JavaFX : the Timeline is locked at 1fps.\r\n\r\nKeyFrames aren&#39;t triggerred more than this, even if i&#39;ve put three keyframes :\r\n\r\n- 60 times per second\r\n- 120 times per second\r\n- 1 time per second\r\n\r\nThey&#39;re all triggered at the same time : 1 second\r\n\r\n***TickSystem class :***\r\n\r\n```\r\npackage TickSystem;\r\n\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.Timeline;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.util.Duration;\r\n\r\n\r\npublic class TickSystem implements EventHandler&lt;ActionEvent&gt; {\r\n    private KeyFrame kfU; // update\r\n    private KeyFrame kfD; // draw\r\n    private KeyFrame kfFPS; // FPS count\r\n    public Rectangle r;\r\n    public int curFrame = 0;\r\n    public int tick = 0;\r\n    public final Timeline gameLoop = new Timeline(120);\r\n    public final Duration updateTime = Duration.millis((double)1000/60); // 60 times per seconds\r\n    public final Duration drawTime = Duration.millis((double)1000/120); // 120 times per seconds\r\n\r\n    public int fps;\r\n    private int lastFrames = 0;\r\n\r\n    public TickSystem(Rectangle r){\r\n        this.r = r;\r\n        this.kfU = new KeyFrame(updateTime,&quot;tickKeyUpdate&quot;, this::handle);\r\n        this.kfD = new KeyFrame(drawTime,&quot;tickKeyDraw&quot;, this::handleDraw);\r\n        this.kfFPS = new KeyFrame(Duration.seconds(1),&quot;tickKeyFPS&quot;, this::handleFPS);\r\n        this.gameLoop.setCycleCount(Timeline.INDEFINITE);\r\n        this.gameLoop.getKeyFrames().add(this.kfU);\r\n        this.gameLoop.getKeyFrames().add(this.kfD);\r\n        this.gameLoop.getKeyFrames().add(this.kfFPS);\r\n    }\r\n\r\n    public void start(){\r\n        this.gameLoop.play();\r\n    }\r\n    public void pause(){\r\n        this.gameLoop.pause();\r\n    }\r\n    public void stop(){\r\n        this.gameLoop.stop();\r\n    }\r\n\r\n    @Override\r\n    public void handle(ActionEvent ae) { // for update\r\n        this.tick++;\r\n    }\r\n\r\n    public void handleDraw(ActionEvent ae){ // for draw\r\n        this.curFrame++;\r\n        this.r.setWidth(curFrame);\r\n    }\r\n\r\n    public void handleFPS(ActionEvent ae) { // for FPS\r\n        this.fps = this.curFrame - this.lastFrames;\r\n        this.lastFrames = this.curFrame;\r\n        System.out.println(this.fps);\r\n    }\r\n}\r\n```\r\n\r\n***Main class :***\r\n\r\n```\r\npackage TickSystem;\r\n\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        primaryStage.setTitle(&quot;Data&quot;);\r\n        primaryStage.setResizable(true);\r\n\r\n        Group root = new Group();\r\n\r\n        Scene scene = new Scene(root,400,400);\r\n\r\n        Rectangle r = new Rectangle(10,10,100,100);\r\n        r.setFill(Color.RED);\r\n        root.getChildren().add(r);\r\n        TickSystem loop = new TickSystem(r);\r\n\r\n\r\n        primaryStage.setScene(scene);\r\n\r\n        primaryStage.show();\r\n        loop.start();\r\n    }\r\n}\r\n```\r\n\r\nSo, the rectangle must gain 1px on width each time the ***handleDraw*** function is called, so 120 times per second.\r\n\r\nActually, he only gain one pixel per second. And i&#39;m at 1fps on the ***handleFPS*** function.\r\nThis function must print the number of times the ***handleDraw*** function has been called each seconds\r\n\r\n***EDIT :***\r\nI&#39;ve made these three KeyFrames cause i try to make a 2D game.\r\nI&#39;ve already make a good part of this game on Java with Swing and i need to update infos (like player poisition) 60 times per second but i try to draw informations on screen 120 times per second.\r\n\r\nJavaFX sounds better to me for the GUI, so i left java swing behind.\r\n\r\nThese class are for testing and i&#39;m new on JavaFX. Thanks for your time.","title":"JavaFX Timeline locked at 1fps","body":"<p>i have a problem with the Timeline in JavaFX : the Timeline is locked at 1fps.</p>\n<p>KeyFrames aren't triggerred more than this, even if i've put three keyframes :</p>\n<ul>\n<li>60 times per second</li>\n<li>120 times per second</li>\n<li>1 time per second</li>\n</ul>\n<p>They're all triggered at the same time : 1 second</p>\n<p><em><strong>TickSystem class :</strong></em></p>\n<pre><code>package TickSystem;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.shape.Rectangle;\nimport javafx.util.Duration;\n\n\npublic class TickSystem implements EventHandler&lt;ActionEvent&gt; {\n    private KeyFrame kfU; // update\n    private KeyFrame kfD; // draw\n    private KeyFrame kfFPS; // FPS count\n    public Rectangle r;\n    public int curFrame = 0;\n    public int tick = 0;\n    public final Timeline gameLoop = new Timeline(120);\n    public final Duration updateTime = Duration.millis((double)1000/60); // 60 times per seconds\n    public final Duration drawTime = Duration.millis((double)1000/120); // 120 times per seconds\n\n    public int fps;\n    private int lastFrames = 0;\n\n    public TickSystem(Rectangle r){\n        this.r = r;\n        this.kfU = new KeyFrame(updateTime,&quot;tickKeyUpdate&quot;, this::handle);\n        this.kfD = new KeyFrame(drawTime,&quot;tickKeyDraw&quot;, this::handleDraw);\n        this.kfFPS = new KeyFrame(Duration.seconds(1),&quot;tickKeyFPS&quot;, this::handleFPS);\n        this.gameLoop.setCycleCount(Timeline.INDEFINITE);\n        this.gameLoop.getKeyFrames().add(this.kfU);\n        this.gameLoop.getKeyFrames().add(this.kfD);\n        this.gameLoop.getKeyFrames().add(this.kfFPS);\n    }\n\n    public void start(){\n        this.gameLoop.play();\n    }\n    public void pause(){\n        this.gameLoop.pause();\n    }\n    public void stop(){\n        this.gameLoop.stop();\n    }\n\n    @Override\n    public void handle(ActionEvent ae) { // for update\n        this.tick++;\n    }\n\n    public void handleDraw(ActionEvent ae){ // for draw\n        this.curFrame++;\n        this.r.setWidth(curFrame);\n    }\n\n    public void handleFPS(ActionEvent ae) { // for FPS\n        this.fps = this.curFrame - this.lastFrames;\n        this.lastFrames = this.curFrame;\n        System.out.println(this.fps);\n    }\n}\n</code></pre>\n<p><em><strong>Main class :</strong></em></p>\n<pre><code>package TickSystem;\n\n\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        primaryStage.setTitle(&quot;Data&quot;);\n        primaryStage.setResizable(true);\n\n        Group root = new Group();\n\n        Scene scene = new Scene(root,400,400);\n\n        Rectangle r = new Rectangle(10,10,100,100);\n        r.setFill(Color.RED);\n        root.getChildren().add(r);\n        TickSystem loop = new TickSystem(r);\n\n\n        primaryStage.setScene(scene);\n\n        primaryStage.show();\n        loop.start();\n    }\n}\n</code></pre>\n<p>So, the rectangle must gain 1px on width each time the <em><strong>handleDraw</strong></em> function is called, so 120 times per second.</p>\n<p>Actually, he only gain one pixel per second. And i'm at 1fps on the <em><strong>handleFPS</strong></em> function.\nThis function must print the number of times the <em><strong>handleDraw</strong></em> function has been called each seconds</p>\n<p><em><strong>EDIT :</strong></em>\nI've made these three KeyFrames cause i try to make a 2D game.\nI've already make a good part of this game on Java with Swing and i need to update infos (like player poisition) 60 times per second but i try to draw informations on screen 120 times per second.</p>\n<p>JavaFX sounds better to me for the GUI, so i left java swing behind.</p>\n<p>These class are for testing and i'm new on JavaFX. Thanks for your time.</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-webclient"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1528444170,"post_id":50752021,"comment_id":88519433,"body_markdown":"please provide more information about &quot;it does not work&quot; - are you getting an exception? Is your retry function being called at all? Is the token not invalidated? Can you provide the log output from the `log()` operator?","body":"please provide more information about &quot;it does not work&quot; - are you getting an exception? Is your retry function being called at all? Is the token not invalidated? Can you provide the log output from the <code>log()</code> operator?"},{"owner":{"account_id":5361793,"reputation":1612,"user_id":4272814,"display_name":"Kevin Hussey"},"score":2,"creation_date":1528455191,"post_id":50752021,"comment_id":88525413,"body_markdown":"Hi Brian, I think I figured it out. the webClient doesn&#39;t throw an exception on 401, as these are only thrown after I call bodyToMono, as this checks the status of the ClientResponse and throws WebClientResponseException if this is an error.\nSo on the builder, retryWhen is never actually called, since there is no exception thrown, I can make this work by checking the response is 401 and throwing an exception then the retry function kicks in.","body":"Hi Brian, I think I figured it out. the webClient doesn&#39;t throw an exception on 401, as these are only thrown after I call bodyToMono, as this checks the status of the ClientResponse and throws WebClientResponseException if this is an error. So on the builder, retryWhen is never actually called, since there is no exception thrown, I can make this work by checking the response is 401 and throwing an exception then the retry function kicks in."},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1528455267,"post_id":50752021,"comment_id":88525456,"body_markdown":"Good to hear! Please answer your question, I’m sure this will help others.","body":"Good to hear! Please answer your question, I’m sure this will help others."}],"answers":[{"comments":[{"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"score":0,"creation_date":1614551324,"post_id":50759253,"comment_id":117413173,"body_markdown":"Be careful with retry and filter because you can create an infininite loop.","body":"Be careful with retry and filter because you can create an infininite loop."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1663172036,"post_id":50759253,"comment_id":130178160,"body_markdown":"@Saljack Playing around testing this solution, I&#39;m not seeing any infinite loops happening.  Do you have a concrete scenario where this could occur?","body":"@Saljack Playing around testing this solution, I&#39;m not seeing any infinite loops happening.  Do you have a concrete scenario where this could occur?"}],"tags":[],"owner":{"account_id":5361793,"reputation":1612,"user_id":4272814,"display_name":"Kevin Hussey"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1566566394,"creation_date":1528455833,"answer_id":50759253,"question_id":50752021,"body_markdown":"I figured this out, which was apparent after seeing retry only works on exceptions, webClient doesn&#39;t throw the exception, since the clientResponse object just holds the response, only when bodyTo&lt;Mono/Flux&gt; is called is the exception thrown on http status, so to fix this, one can mimic this behaviour\r\n\r\n    @Bean(name = &quot;retryWebClient&quot;)\r\n        public WebClient retryWebClient(WebClient.Builder builder, TokenProvider tokenProvider) {\r\n            return builder.baseUrl(&quot;http://localhost:8080&quot;)\r\n                    .filter((request, next) -&gt;\r\n                            next.exchange(request)\r\n                                .doOnNext(clientResponse -&gt; {\r\n                                        if (clientResponse.statusCode() == HttpStatus.UNAUTHORIZED) {\r\n                                            throw new RuntimeException();\r\n                                        }\r\n                                }).retryWhen(Retry.anyOf(RuntimeException.class)\r\n                                    .doOnRetry(objectRetryContext -&gt; tokenProvider.expire())\r\n                                    .retryOnce())\r\n                                \r\n                    ).build();\r\n        }\r\n\r\n*************** \r\nEDIT one of the features with repeat/retry is that, it doesn&#39;t change the original request, in my case I needed to retrieve a new OAuth token, but the above sent the same (expired) token. \r\nI did figure a way to do this using exchange filter, once OAuth password-flow is in spring-security-2.0 I should be able to have this integrated with AccessTokens etc, but in the mean time\r\n\r\n    ExchangeFilterFunction retryOn401Function(TokenProvider tokenProvider) {\r\n            return (request, next) -&gt; next.exchange(request)\r\n                    .flatMap((Function&lt;ClientResponse, Mono&lt;ClientResponse&gt;&gt;) clientResponse -&gt; {\r\n                        if (clientResponse.statusCode().value() == 401) {\r\n                            ClientRequest retryRequest = ClientRequest.from(request).header(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenProvider.getNewToken().toString()).build();\r\n                            return next.exchange(retryRequest);\r\n                        } else {\r\n                            return Mono.just(clientResponse);\r\n                        }\r\n                    });\r\n        }","title":"Adding a retry all requests of WebClient","body":"<p>I figured this out, which was apparent after seeing retry only works on exceptions, webClient doesn't throw the exception, since the clientResponse object just holds the response, only when bodyTo is called is the exception thrown on http status, so to fix this, one can mimic this behaviour</p>\n\n<pre><code>@Bean(name = \"retryWebClient\")\n    public WebClient retryWebClient(WebClient.Builder builder, TokenProvider tokenProvider) {\n        return builder.baseUrl(\"http://localhost:8080\")\n                .filter((request, next) -&gt;\n                        next.exchange(request)\n                            .doOnNext(clientResponse -&gt; {\n                                    if (clientResponse.statusCode() == HttpStatus.UNAUTHORIZED) {\n                                        throw new RuntimeException();\n                                    }\n                            }).retryWhen(Retry.anyOf(RuntimeException.class)\n                                .doOnRetry(objectRetryContext -&gt; tokenProvider.expire())\n                                .retryOnce())\n\n                ).build();\n    }\n</code></pre>\n\n<hr>\n\n<p>EDIT one of the features with repeat/retry is that, it doesn't change the original request, in my case I needed to retrieve a new OAuth token, but the above sent the same (expired) token. \nI did figure a way to do this using exchange filter, once OAuth password-flow is in spring-security-2.0 I should be able to have this integrated with AccessTokens etc, but in the mean time</p>\n\n<pre><code>ExchangeFilterFunction retryOn401Function(TokenProvider tokenProvider) {\n        return (request, next) -&gt; next.exchange(request)\n                .flatMap((Function&lt;ClientResponse, Mono&lt;ClientResponse&gt;&gt;) clientResponse -&gt; {\n                    if (clientResponse.statusCode().value() == 401) {\n                        ClientRequest retryRequest = ClientRequest.from(request).header(\"Authorization\", \"Bearer \" + tokenProvider.getNewToken().toString()).build();\n                        return next.exchange(retryRequest);\n                    } else {\n                        return Mono.just(clientResponse);\n                    }\n                });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642841138,"creation_date":1642841138,"answer_id":70811265,"question_id":50752021,"body_markdown":"A generalized approach for common needs:\r\n\r\n    @Configuration\r\n    public class WebConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public WebClient webClient(ObjectMapper mapper) {\r\n\r\n    WebClient httpClient =\r\n        WebClient.builder()\r\n            .filter(retryFilter())\r\n            .build();\r\n\r\n      return httpClient;\r\n    }\r\n\r\n    private ExchangeFilterFunction retryFilter() {\r\n    return (request, next) -&gt;\r\n        next.exchange(request)\r\n            .retryWhen(\r\n                Retry.fixedDelay(3, Duration.ofSeconds(30))\r\n                  .doAfterRetry(retrySignal -&gt; log.warn(&quot;Retrying&quot;));\r\n    }","title":"Adding a retry all requests of WebClient","body":"<p>A generalized approach for common needs:</p>\n<pre><code>@Configuration\npublic class WebConfiguration {\n\n@Bean\n@Primary\npublic WebClient webClient(ObjectMapper mapper) {\n\nWebClient httpClient =\n    WebClient.builder()\n        .filter(retryFilter())\n        .build();\n\n  return httpClient;\n}\n\nprivate ExchangeFilterFunction retryFilter() {\nreturn (request, next) -&gt;\n    next.exchange(request)\n        .retryWhen(\n            Retry.fixedDelay(3, Duration.ofSeconds(30))\n              .doAfterRetry(retrySignal -&gt; log.warn(&quot;Retrying&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146322,"reputation":1446,"user_id":1128981,"display_name":"romeara"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669304175,"creation_date":1669304175,"answer_id":74563143,"question_id":50752021,"body_markdown":"I was able to accomplish this completely through an `ExchangeFilterFunction`, without having to throw exceptions or similar operations. \r\n\r\nThe thing that tripped me up originally was expecting the response (Mono, Flux, etc) to behave the same as the response you get from the resulting `WebClient` call. When you use the `WebClient`, the Mono is an &quot;error&quot; if an unauthorized is received, and you can handle it via something like `onErrorResume`. However, within the `ExchangeFilterFunction`, if you call `next.exchange(ClientRequest)`, the Mono returned is just a regular success value of type `ClientResponse`, even if an unauthorized is returned. \r\n\r\nSo to handle it, you can use code like the following (where token service is substituted for your specific token handling code):\r\n\r\n```\r\npublic class OneRetryAuthExchangeFilterFunction implements ExchangeFilterFunction {\r\n\r\n    private final ITokenService tokenService;\r\n\r\n    @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n        ClientRequest authenticatedRequest = applyAuthentication(request);\r\n\r\n        return next.exchange(authenticatedRequest)\r\n                .flatMap(response -&gt; {\r\n                    if (HttpStatus.UNAUTHORIZED.equals(response.statusCode())) {\r\n                        tokenService.forceRefreshToken();\r\n\r\n                        ClientRequest refreshedAuthenticatedTokenRequest = applyAuthentication(request);\r\n\r\n                        return next.exchange(refreshedAuthenticatedTokenRequest);\r\n                    }\r\n\r\n                    return Mono.just(response);\r\n                });\r\n    }\r\n\r\n    private ClientRequest applyAuthentication(ClientRequest request) {\r\n        String authenticationToken = tokenService.getToken();\r\n\r\n        return ClientRequest.from(request)\r\n                .headers(headers -&gt; headers.setBearerAuth(authenticationToken))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nYou would then configure your `WebClient` via something like:\r\n\r\n```\r\nWebClient.builder()\r\n        .filter(new OneRetryAuthExchangeFilterFunction(tokenService))\r\n        .build();\r\n```\r\n\r\nand all users of that WebClient would have authentication with a single retry on an unauthorized response","title":"Adding a retry all requests of WebClient","body":"<p>I was able to accomplish this completely through an <code>ExchangeFilterFunction</code>, without having to throw exceptions or similar operations.</p>\n<p>The thing that tripped me up originally was expecting the response (Mono, Flux, etc) to behave the same as the response you get from the resulting <code>WebClient</code> call. When you use the <code>WebClient</code>, the Mono is an &quot;error&quot; if an unauthorized is received, and you can handle it via something like <code>onErrorResume</code>. However, within the <code>ExchangeFilterFunction</code>, if you call <code>next.exchange(ClientRequest)</code>, the Mono returned is just a regular success value of type <code>ClientResponse</code>, even if an unauthorized is returned.</p>\n<p>So to handle it, you can use code like the following (where token service is substituted for your specific token handling code):</p>\n<pre><code>public class OneRetryAuthExchangeFilterFunction implements ExchangeFilterFunction {\n\n    private final ITokenService tokenService;\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n        ClientRequest authenticatedRequest = applyAuthentication(request);\n\n        return next.exchange(authenticatedRequest)\n                .flatMap(response -&gt; {\n                    if (HttpStatus.UNAUTHORIZED.equals(response.statusCode())) {\n                        tokenService.forceRefreshToken();\n\n                        ClientRequest refreshedAuthenticatedTokenRequest = applyAuthentication(request);\n\n                        return next.exchange(refreshedAuthenticatedTokenRequest);\n                    }\n\n                    return Mono.just(response);\n                });\n    }\n\n    private ClientRequest applyAuthentication(ClientRequest request) {\n        String authenticationToken = tokenService.getToken();\n\n        return ClientRequest.from(request)\n                .headers(headers -&gt; headers.setBearerAuth(authenticationToken))\n                .build();\n    }\n}\n</code></pre>\n<p>You would then configure your <code>WebClient</code> via something like:</p>\n<pre><code>WebClient.builder()\n        .filter(new OneRetryAuthExchangeFilterFunction(tokenService))\n        .build();\n</code></pre>\n<p>and all users of that WebClient would have authentication with a single retry on an unauthorized response</p>\n"}],"owner":{"account_id":5361793,"reputation":1612,"user_id":4272814,"display_name":"Kevin Hussey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22081,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":3,"score":24,"last_activity_date":1669304175,"creation_date":1528419938,"question_id":50752021,"body_markdown":"we have a server to retrieve a OAUTH token, and the oauth token is added to each request via WebClient.filter method\r\ne.g\r\n\r\n\r\n    webClient\r\n                    .mutate()\r\n                    .filter((request, next) -&gt; tokenProvider.getBearerToken()\r\n                            .map(token -&gt; ClientRequest.from(request)\r\n                                    .headers(httpHeaders -&gt; httpHeaders.set(&quot;Bearer&quot;, token))\r\n                                    .build()).flatMap(next::exchange))\r\n                    .build();\r\n    TokenProvider.getBearerToken returns Mono&lt;String&gt; since it is a webclient request (this is cached)\r\n\r\nI want to have a retry functionality that on 401 error, will invalidate the token and try the request again\r\nI have this working like so\r\n\r\n    webClient.post()\r\n                .uri(properties.getServiceRequestUrl())\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(fromObject(createRequest))\r\n                .retrieve()\r\n                .bodyToMono(MyResponseObject.class)\r\n                .retryWhen(retryOnceOn401(provider))\r\n\r\n    private Retry&lt;Object&gt; retryOnceOn401(TokenProvider tokenProvider) {\r\n            return Retry.onlyIf(context -&gt; context.exception() instanceof WebClientResponseException &amp;&amp; ((WebClientResponseException) context.exception()).getStatusCode() == HttpStatus.UNAUTHORIZED)\r\n                    .doOnRetry(objectRetryContext -&gt; tokenProvider.invalidate());\r\n        }\r\n\r\nis there a way to move this up to the webClient.mutate().....build() function?\r\nso that all requests will have this retry facility?\r\n\r\nI tried adding as a filter but it didn&#39;t seem to work e.g.\r\n\r\n    .filter(((request, next) -&gt; next.exchange(request).retryWhen(retryOnceOn401(tokenProvider))))\r\n\r\nany suggestions of the best way to approach this?\r\nRegards","title":"Adding a retry all requests of WebClient","body":"<p>we have a server to retrieve a OAUTH token, and the oauth token is added to each request via WebClient.filter method\ne.g</p>\n\n<pre><code>webClient\n                .mutate()\n                .filter((request, next) -&gt; tokenProvider.getBearerToken()\n                        .map(token -&gt; ClientRequest.from(request)\n                                .headers(httpHeaders -&gt; httpHeaders.set(\"Bearer\", token))\n                                .build()).flatMap(next::exchange))\n                .build();\nTokenProvider.getBearerToken returns Mono&lt;String&gt; since it is a webclient request (this is cached)\n</code></pre>\n\n<p>I want to have a retry functionality that on 401 error, will invalidate the token and try the request again\nI have this working like so</p>\n\n<pre><code>webClient.post()\n            .uri(properties.getServiceRequestUrl())\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(fromObject(createRequest))\n            .retrieve()\n            .bodyToMono(MyResponseObject.class)\n            .retryWhen(retryOnceOn401(provider))\n\nprivate Retry&lt;Object&gt; retryOnceOn401(TokenProvider tokenProvider) {\n        return Retry.onlyIf(context -&gt; context.exception() instanceof WebClientResponseException &amp;&amp; ((WebClientResponseException) context.exception()).getStatusCode() == HttpStatus.UNAUTHORIZED)\n                .doOnRetry(objectRetryContext -&gt; tokenProvider.invalidate());\n    }\n</code></pre>\n\n<p>is there a way to move this up to the webClient.mutate().....build() function?\nso that all requests will have this retry facility?</p>\n\n<p>I tried adding as a filter but it didn't seem to work e.g.</p>\n\n<pre><code>.filter(((request, next) -&gt; next.exchange(request).retryWhen(retryOnceOn401(tokenProvider))))\n</code></pre>\n\n<p>any suggestions of the best way to approach this?\nRegards</p>\n"},{"tags":["java","spring-boot","post","null","arguments"],"answers":[{"tags":[],"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653131547,"creation_date":1653131547,"answer_id":72329016,"question_id":72328845,"body_markdown":"You could try adding a @RequestBody annotation to your controller.\r\nSo this:\r\n\r\n    @PostMapping(&quot;/jugadores/nuevo&quot;)\r\n    public void postJugador(Jugador jugador){\r\n        servicio.postJugador(jugador);\r\n    }\r\n\r\nGets turned to this:\r\n\r\n    @PostMapping(&quot;/jugadores/nuevo&quot;)\r\n    public void postJugador(@RequestBody Jugador jugador){\r\n        servicio.postJugador(jugador);\r\n    }\r\n\r\nThe annotation basically tells spring to deserialize your input JSON into the given object (Jugador)\r\n","title":"Receiving null arguments in POST requests with JSON body using Spring Boot","body":"<p>You could try adding a @RequestBody annotation to your controller.\nSo this:</p>\n<pre><code>@PostMapping(&quot;/jugadores/nuevo&quot;)\npublic void postJugador(Jugador jugador){\n    servicio.postJugador(jugador);\n}\n</code></pre>\n<p>Gets turned to this:</p>\n<pre><code>@PostMapping(&quot;/jugadores/nuevo&quot;)\npublic void postJugador(@RequestBody Jugador jugador){\n    servicio.postJugador(jugador);\n}\n</code></pre>\n<p>The annotation basically tells spring to deserialize your input JSON into the given object (Jugador)</p>\n"},{"tags":[],"owner":{"account_id":25274379,"reputation":1,"user_id":19103247,"display_name":"Andres Zambrano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669303955,"creation_date":1669303955,"answer_id":74563115,"question_id":72328845,"body_markdown":"I was having the same problem, and to add to Fambo&#39;s answer, apparently the fields of the object (in this case Jugador) need to be private. ","title":"Receiving null arguments in POST requests with JSON body using Spring Boot","body":"<p>I was having the same problem, and to add to Fambo's answer, apparently the fields of the object (in this case Jugador) need to be private.</p>\n"}],"owner":{"account_id":25349887,"reputation":3,"user_id":19166913,"display_name":"Gal&#225;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72329016,"answer_count":2,"score":0,"last_activity_date":1669303955,"creation_date":1653130084,"question_id":72328845,"body_markdown":"I know this topic has been recurring on StackOverflow, but all the questions I&#39;ve seen were for misspelled names or didn&#39;t apply to my case. I&#39;m resorting to asking personally because after all that, I can&#39;t seem to get it fixed.\r\n\r\nI&#39;m following a tutorial from JavaBrain&#39;s channel where he creates a simple MVC project from scratch using Spring Boot, and it&#39;s in this [video](https://www.youtube.com/watch?v=AI2oBJkPK3c&amp;list=PLqq-6Pq4lTTbx8p2oCgcAQGQyqN8XeA1x&amp;index=19) when I run into the error described in the title: **when I send a POST request to the server, it accepts it and processes it, but inserts `null` values instead of the received ones**.\r\n\r\n---\r\n\r\nI&#39;m using **IntelliJ IDEA Ultimate** and I generated the project from the IDE menu itself (which is the same as [start.spring.io](https://start.spring.io)), with *Spring Web* as the only dependency.\r\n\r\nI use **Postman** to send the requests, where the HEADER of my POST request is &quot;Content-type application/json&quot;.\r\n\r\nWhen I do a POST with this body:\r\n\r\n    {\r\n        &quot;id&quot;: 9,\r\n        &quot;nombre&quot;: &quot;Gal&#225;n&quot;,\r\n        &quot;usuario&quot;: &quot;srgalan&quot;\r\n    }\r\n\r\nWhen I do a GET:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;nombre&quot;: &quot;V&#237;ctor&quot;,\r\n            &quot;usuario&quot;: &quot;viictor&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;nombre&quot;: &quot;Anabel&quot;,\r\n            &quot;usuario&quot;: &quot;anabeel&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 0,\r\n            &quot;nombre&quot;: null,\r\n            &quot;usuario&quot;: null\r\n        },\r\n    ]\r\n\r\n- V&#237;ctor and Anabel are already players in the system (manually declared in the service class).\r\n\r\n---\r\n\r\nI share my model, service and controller classes, as well as the pom.xml file (unmodified). \r\n\r\nModel class:\r\n\r\n    package com.meepletic.servidor.jugador;\r\n    \r\n    public class Jugador {\r\n    \r\n        private long id;\r\n        private String nombre;  // &quot;name&quot;\r\n        private String usuario; // &quot;username&quot;\r\n    \r\n    \r\n        // Constructores        // constructor\r\n    \r\n        public Jugador() {      // &quot;Player&quot;\r\n    \r\n        }\r\n    \r\n        public Jugador(long id, String nombre, String usuario) {\r\n            super();\r\n            this.id = id;\r\n            this.nombre = nombre;\r\n            this.usuario = usuario;\r\n        }\r\n    \r\n    \r\n        // Getters\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getNombre() {\r\n            return nombre;\r\n        }\r\n    \r\n        public String getUsuario() {\r\n            return usuario;\r\n        }\r\n    \r\n    \r\n        // Setters\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setNombre(String nombre) {\r\n            this.nombre = nombre;\r\n        }\r\n    \r\n        public void setUsuario(String usuario) {\r\n            this.usuario = usuario;\r\n        }\r\n    \r\n    \r\n        // M&#233;todos\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Jugador #&quot; + id + &quot;: &quot; + nombre + &quot; (&quot; + usuario + &quot;)&quot;;\r\n        }\r\n    }\r\n\r\nService class:\r\n\r\n        package com.meepletic.servidor.jugador;\r\n        \r\n        import org.springframework.stereotype.Service;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.Arrays;\r\n        import java.util.List;\r\n        \r\n        \r\n        \r\n        @Service\r\n        public class JugadorSer {\r\n        \r\n            private List&lt;Jugador&gt; jugadores = new ArrayList&lt;&gt;(\r\n                    Arrays.asList(\r\n                            new Jugador(1L, &quot;V&#237;ctor&quot;, &quot;viictor&quot;),\r\n                            new Jugador(2L, &quot;Anabel&quot;, &quot;anabeel&quot;)\r\n                    )\r\n            );\r\n        \r\n        \r\n            public List&lt;Jugador&gt; getJugadores() {\r\n                return jugadores;\r\n            }\r\n        \r\n            public Jugador getJugador(long id) {\r\n                return jugadores.stream()\r\n                        .filter(x -&gt; x.getId() == id)\r\n                        .findFirst()\r\n                        .get();\r\n            }\r\n        \r\n            public void postJugador(Jugador jugador) {\r\n                jugadores.add(jugador);\r\n            }\r\n        }\r\n    \r\nController class:\r\n    \r\n    package com.meepletic.servidor.jugador;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    \r\n    \r\n    @RestController\r\n    public class JugadorCon {\r\n    \r\n        @Autowired\r\n        private JugadorSer servicio;    // &quot;service&quot;\r\n    \r\n    \r\n        // GET\r\n    \r\n        @GetMapping(&quot;/jugadores&quot;)\r\n        public List&lt;Jugador&gt; getTodosJugadores(){\r\n            return servicio.getJugadores();\r\n        }\r\n    \r\n        @GetMapping(&quot;/jugadores/{id}&quot;)\r\n        public Jugador getJugador(@PathVariable long id){\r\n            return servicio.getJugador(id);\r\n        }\r\n    \r\n    \r\n        // POST\r\n    \r\n        @PostMapping(&quot;/jugadores/nuevo&quot;)\r\n        public void postJugador(Jugador jugador){\r\n            servicio.postJugador(jugador);\r\n        }\r\n    }\r\n\r\n`pom.xml` file (unmodified):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.meepletic&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servidor&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Servidor 6&lt;/name&gt;\r\n        &lt;description&gt;Servidor 6&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI think the code is fine, but it is better to make sure; my intuition tells me that the problem is (or comes) from outside the IDE.\r\n\r\n\r\nThanks for your attention.\r\n\r\nBest regards.","title":"Receiving null arguments in POST requests with JSON body using Spring Boot","body":"<p>I know this topic has been recurring on StackOverflow, but all the questions I've seen were for misspelled names or didn't apply to my case. I'm resorting to asking personally because after all that, I can't seem to get it fixed.</p>\n<p>I'm following a tutorial from JavaBrain's channel where he creates a simple MVC project from scratch using Spring Boot, and it's in this <a href=\"https://www.youtube.com/watch?v=AI2oBJkPK3c&amp;list=PLqq-6Pq4lTTbx8p2oCgcAQGQyqN8XeA1x&amp;index=19\" rel=\"nofollow noreferrer\">video</a> when I run into the error described in the title: <strong>when I send a POST request to the server, it accepts it and processes it, but inserts <code>null</code> values instead of the received ones</strong>.</p>\n<hr />\n<p>I'm using <strong>IntelliJ IDEA Ultimate</strong> and I generated the project from the IDE menu itself (which is the same as <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>), with <em>Spring Web</em> as the only dependency.</p>\n<p>I use <strong>Postman</strong> to send the requests, where the HEADER of my POST request is &quot;Content-type application/json&quot;.</p>\n<p>When I do a POST with this body:</p>\n<pre><code>{\n    &quot;id&quot;: 9,\n    &quot;nombre&quot;: &quot;Galán&quot;,\n    &quot;usuario&quot;: &quot;srgalan&quot;\n}\n</code></pre>\n<p>When I do a GET:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;nombre&quot;: &quot;Víctor&quot;,\n        &quot;usuario&quot;: &quot;viictor&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;nombre&quot;: &quot;Anabel&quot;,\n        &quot;usuario&quot;: &quot;anabeel&quot;\n    },\n    {\n        &quot;id&quot;: 0,\n        &quot;nombre&quot;: null,\n        &quot;usuario&quot;: null\n    },\n]\n</code></pre>\n<ul>\n<li>Víctor and Anabel are already players in the system (manually declared in the service class).</li>\n</ul>\n<hr />\n<p>I share my model, service and controller classes, as well as the pom.xml file (unmodified).</p>\n<p>Model class:</p>\n<pre><code>package com.meepletic.servidor.jugador;\n\npublic class Jugador {\n\n    private long id;\n    private String nombre;  // &quot;name&quot;\n    private String usuario; // &quot;username&quot;\n\n\n    // Constructores        // constructor\n\n    public Jugador() {      // &quot;Player&quot;\n\n    }\n\n    public Jugador(long id, String nombre, String usuario) {\n        super();\n        this.id = id;\n        this.nombre = nombre;\n        this.usuario = usuario;\n    }\n\n\n    // Getters\n\n    public long getId() {\n        return id;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public String getUsuario() {\n        return usuario;\n    }\n\n\n    // Setters\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public void setUsuario(String usuario) {\n        this.usuario = usuario;\n    }\n\n\n    // Métodos\n\n    @Override\n    public String toString() {\n        return &quot;Jugador #&quot; + id + &quot;: &quot; + nombre + &quot; (&quot; + usuario + &quot;)&quot;;\n    }\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>    package com.meepletic.servidor.jugador;\n    \n    import org.springframework.stereotype.Service;\n    \n    import java.util.ArrayList;\n    import java.util.Arrays;\n    import java.util.List;\n    \n    \n    \n    @Service\n    public class JugadorSer {\n    \n        private List&lt;Jugador&gt; jugadores = new ArrayList&lt;&gt;(\n                Arrays.asList(\n                        new Jugador(1L, &quot;Víctor&quot;, &quot;viictor&quot;),\n                        new Jugador(2L, &quot;Anabel&quot;, &quot;anabeel&quot;)\n                )\n        );\n    \n    \n        public List&lt;Jugador&gt; getJugadores() {\n            return jugadores;\n        }\n    \n        public Jugador getJugador(long id) {\n            return jugadores.stream()\n                    .filter(x -&gt; x.getId() == id)\n                    .findFirst()\n                    .get();\n        }\n    \n        public void postJugador(Jugador jugador) {\n            jugadores.add(jugador);\n        }\n    }\n</code></pre>\n<p>Controller class:</p>\n<pre><code>package com.meepletic.servidor.jugador;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n\n\n@RestController\npublic class JugadorCon {\n\n    @Autowired\n    private JugadorSer servicio;    // &quot;service&quot;\n\n\n    // GET\n\n    @GetMapping(&quot;/jugadores&quot;)\n    public List&lt;Jugador&gt; getTodosJugadores(){\n        return servicio.getJugadores();\n    }\n\n    @GetMapping(&quot;/jugadores/{id}&quot;)\n    public Jugador getJugador(@PathVariable long id){\n        return servicio.getJugador(id);\n    }\n\n\n    // POST\n\n    @PostMapping(&quot;/jugadores/nuevo&quot;)\n    public void postJugador(Jugador jugador){\n        servicio.postJugador(jugador);\n    }\n}\n</code></pre>\n<p><code>pom.xml</code> file (unmodified):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.meepletic&lt;/groupId&gt;\n    &lt;artifactId&gt;servidor&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Servidor 6&lt;/name&gt;\n    &lt;description&gt;Servidor 6&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I think the code is fine, but it is better to make sure; my intuition tells me that the problem is (or comes) from outside the IDE.</p>\n<p>Thanks for your attention.</p>\n<p>Best regards.</p>\n"},{"tags":["java","if-statement","kotlin","switch-statement"],"answers":[{"comments":[{"owner":{"account_id":11542209,"reputation":506,"user_id":8457476,"accept_rate":100,"display_name":"Roonil"},"score":0,"creation_date":1573971996,"post_id":58898072,"comment_id":104060423,"body_markdown":"Yes, I do love that it is much more readable. I&#39;m wondering when I would want to apply an if-else chain? Only when the contents of each statement are more complicated and requiring indentation? Or are there cases where if-else is preferred for single line cases as well..","body":"Yes, I do love that it is much more readable. I&#39;m wondering when I would want to apply an if-else chain? Only when the contents of each statement are more complicated and requiring indentation? Or are there cases where if-else is preferred for single line cases as well.."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1573973256,"post_id":58898072,"comment_id":104060588,"body_markdown":"@Roonil it may be more opinion/user preference based","body":"@Roonil it may be more opinion/user preference based"},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1573976772,"post_id":58898072,"comment_id":104061144,"body_markdown":"@Roonil You can have multiple lines in a `when` branch, no problem.","body":"@Roonil You can have multiple lines in a <code>when</code> branch, no problem."},{"owner":{"account_id":11542209,"reputation":506,"user_id":8457476,"accept_rate":100,"display_name":"Roonil"},"score":0,"creation_date":1573979008,"post_id":58898072,"comment_id":104061534,"body_markdown":"@AlexeyRomanov oh yeah for sure, I just feel like it looks messy with a when branch. Maybe that&#39;s just personal preference. Cheers.","body":"@AlexeyRomanov oh yeah for sure, I just feel like it looks messy with a when branch. Maybe that&#39;s just personal preference. Cheers."}],"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":4,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1573971848,"creation_date":1573971848,"answer_id":58898072,"question_id":58897998,"body_markdown":"Kotlin benefits over java is [concise][1] syntax\r\n\r\n&gt;when has a better design. It is more concise and powerful than a traditional switch\r\n\r\nAlso more [readable][1] related to if else:\r\n\r\n&gt;when is that it can be used without an argument. In such case it acts as a **nicer if-else chain**: the conditions are Boolean expressions. As always, the first branch that matches is chosen. Given that these are boolean expression, it means that the first condition that results True is chosen.\r\n\r\n&gt;     when {\r\n        number &gt; 5 -&gt; print(&quot;number is higher than five&quot;)\r\n        text == &quot;hello&quot; -&gt; print(&quot;number is low, but you can say hello&quot;)\r\n    }\r\n\r\n&gt;The advantage is that a when **expression is cleaner and easier to understand** than a chain of if-else statements.\r\n\r\n[1]:https://superkotlin.com/kotlin-when-statement/","title":"What is the standard for choosing &quot;when&quot; vs &quot;if/else&quot; in Kotlin?","body":"<p>Kotlin benefits over java is <a href=\"https://superkotlin.com/kotlin-when-statement/\" rel=\"noreferrer\">concise</a> syntax</p>\n\n<blockquote>\n  <p>when has a better design. It is more concise and powerful than a traditional switch</p>\n</blockquote>\n\n<p>Also more <a href=\"https://superkotlin.com/kotlin-when-statement/\" rel=\"noreferrer\">readable</a> related to if else:</p>\n\n<blockquote>\n  <p>when is that it can be used without an argument. In such case it acts as a <strong>nicer if-else chain</strong>: the conditions are Boolean expressions. As always, the first branch that matches is chosen. Given that these are boolean expression, it means that the first condition that results True is chosen.</p>\n\n<pre><code>when {\n    number &gt; 5 -&gt; print(\"number is higher than five\")\n    text == \"hello\" -&gt; print(\"number is low, but you can say hello\")\n}\n</code></pre>\n  \n  <p>The advantage is that a when <strong>expression is cleaner and easier to understand</strong> than a chain of if-else statements.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":321278,"reputation":637,"user_id":640014,"display_name":"paprika"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1669303737,"creation_date":1595407032,"answer_id":63030129,"question_id":58897998,"body_markdown":"From the [Kotlin Coding Conventions](https://kotlinlang.org/docs/reference/coding-conventions.html#if-versus-when):&lt;br&gt;\r\nPrefer using `if` for binary conditions. Prefer using `when` if there are three or more options.\r\n\r\nEdit: Interesting wrinkle, `when` statements must be exhaustive, so I&#39;ll ignore this standard if I&#39;m switching over an enum with only two values, to benefit from the compile error should the enum expand.","title":"What is the standard for choosing &quot;when&quot; vs &quot;if/else&quot; in Kotlin?","body":"<p>From the <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#if-versus-when\" rel=\"noreferrer\">Kotlin Coding Conventions</a>:<br>\nPrefer using <code>if</code> for binary conditions. Prefer using <code>when</code> if there are three or more options.</p>\n<p>Edit: Interesting wrinkle, <code>when</code> statements must be exhaustive, so I'll ignore this standard if I'm switching over an enum with only two values, to benefit from the compile error should the enum expand.</p>\n"},{"comments":[{"owner":{"account_id":8916828,"reputation":2828,"user_id":6655092,"accept_rate":100,"display_name":"JakeD"},"score":2,"creation_date":1648684801,"post_id":65464771,"comment_id":126690160,"body_markdown":"You can still return with if/else in the same way","body":"You can still return with if/else in the same way"},{"owner":{"account_id":10697077,"reputation":1565,"user_id":7873768,"display_name":"MDT"},"score":0,"creation_date":1648701398,"post_id":65464771,"comment_id":126692543,"body_markdown":"true, but it would look like return if(condition1){...} else if(condition2){...}... i like this syntactic sugar and i know behind the scenes its converted to bytecode that will become a classic conditional statement. But i would prefer the readability of `when` over `if` any time with kotlin","body":"true, but it would look like return if(condition1){...} else if(condition2){...}... i like this syntactic sugar and i know behind the scenes its converted to bytecode that will become a classic conditional statement. But i would prefer the readability of <code>when</code> over <code>if</code> any time with kotlin"}],"tags":[],"owner":{"account_id":10697077,"reputation":1565,"user_id":7873768,"display_name":"MDT"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627509387,"creation_date":1609064622,"answer_id":65464771,"question_id":58897998,"body_markdown":"I searched for this comparison and the answers didn&#39;t convince me that much, until I read the [control flow doc](https://kotlinlang.org/docs/reference/control-flow.html) from kotlin \r\n\r\nUsing ***When*** is like saying goodbye to both ***if*** and ***switch*** statements;\r\n\r\nAlso on top of that you can return when like below:\r\n\r\n       fun whatPosition(number: Int) : String{\r\n            return when(number){\r\n                1 -&gt; &quot;First&quot;\r\n                2 -&gt; &quot;Second&quot;\r\n                3 -&gt; &quot;Third&quot;\r\n                else -&gt; &quot;Loser&quot;\r\n            }\r\n        }\r\n\r\nStill learning Kt and i am stunned by how much less we need to write and does more than what java can.","title":"What is the standard for choosing &quot;when&quot; vs &quot;if/else&quot; in Kotlin?","body":"<p>I searched for this comparison and the answers didn't convince me that much, until I read the <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">control flow doc</a> from kotlin</p>\n<p>Using <em><strong>When</strong></em> is like saying goodbye to both <em><strong>if</strong></em> and <em><strong>switch</strong></em> statements;</p>\n<p>Also on top of that you can return when like below:</p>\n<pre><code>   fun whatPosition(number: Int) : String{\n        return when(number){\n            1 -&gt; &quot;First&quot;\n            2 -&gt; &quot;Second&quot;\n            3 -&gt; &quot;Third&quot;\n            else -&gt; &quot;Loser&quot;\n        }\n    }\n</code></pre>\n<p>Still learning Kt and i am stunned by how much less we need to write and does more than what java can.</p>\n"}],"owner":{"account_id":11542209,"reputation":506,"user_id":8457476,"accept_rate":100,"display_name":"Roonil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16182,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":58898072,"answer_count":3,"score":16,"last_activity_date":1669303737,"creation_date":1573971082,"question_id":58897998,"body_markdown":"I&#39;m making the transfer from Java to Kotlin, and learning about the varied differences between the Java switch and the Kotlin when statement. \r\n\r\nMy question is, do the differences change the standard for when you choose &quot;when&quot; over a series of &quot;if&quot; and &quot;else if&quot; blocks?\r\n\r\nFor example, in Java &quot;switch&quot; is generally more efficient than &quot;else-ifs&quot; when there are 5 or more cases, and roughly comparable otherwise. If-else is generally preferred when the statements are boolean. Is this similar in Kotlin? Are there other reasons that differ to Java that I should consider when writing my code - ie standards for readability etc.\r\n\r\nI would appreciate answers or links to more in depth reading on the subject - I have struggled to find any sources that do a good cost-benefit analysis.","title":"What is the standard for choosing &quot;when&quot; vs &quot;if/else&quot; in Kotlin?","body":"<p>I'm making the transfer from Java to Kotlin, and learning about the varied differences between the Java switch and the Kotlin when statement. </p>\n\n<p>My question is, do the differences change the standard for when you choose \"when\" over a series of \"if\" and \"else if\" blocks?</p>\n\n<p>For example, in Java \"switch\" is generally more efficient than \"else-ifs\" when there are 5 or more cases, and roughly comparable otherwise. If-else is generally preferred when the statements are boolean. Is this similar in Kotlin? Are there other reasons that differ to Java that I should consider when writing my code - ie standards for readability etc.</p>\n\n<p>I would appreciate answers or links to more in depth reading on the subject - I have struggled to find any sources that do a good cost-benefit analysis.</p>\n"},{"tags":["java","linked-list","nodes"],"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1483481265,"post_id":41453131,"comment_id":70112713,"body_markdown":"Why do you break out if it&#39;s the head or tail?","body":"Why do you break out if it&#39;s the head or tail?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":3,"creation_date":1483481307,"post_id":41453131,"comment_id":70112735,"body_markdown":"`current = null` merely reassigns a value of this variable. It does not change the underlying `Node` object.","body":"<code>current = null</code> merely reassigns a value of this variable. It does not change the underlying <code>Node</code> object."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1483481454,"post_id":41453131,"comment_id":70112799,"body_markdown":"This isn&#39;t correct, removing an item from a linked list should be a O(1) constant time procedure. You are moving the data around, causing it to be O(n)","body":"This isn&#39;t correct, removing an item from a linked list should be a O(1) constant time procedure. You are moving the data around, causing it to be O(n)"},{"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"score":0,"creation_date":1483481457,"post_id":41453131,"comment_id":70112801,"body_markdown":"Is the structure a linked list or a doubly linked list? I.e. can you access the predecessor of a node (`node.prev`) or is there only `node.next`?","body":"Is the structure a linked list or a doubly linked list? I.e. can you access the predecessor of a node (<code>node.prev</code>) or is there only <code>node.next</code>?"}],"answers":[{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483483645,"creation_date":1483481649,"answer_id":41453227,"question_id":41453131,"body_markdown":"To answer your question, because it&#39;s an example of dead code. It&#39;s a local variable, so as the final write to it is not later read by any code, it will have no effect on the program.\r\n\r\nThat is:\r\n\r\n        current = null;\r\n        //there are no reads of &quot;current&quot; here before:\r\n    } //the end of method which is the end of scope for the local &quot;current&quot;\r\n\r\nA decent IDE would be hinting to you that this write was not read, by, for example, graying out, underlining or otherwise highlighting the dead code.\r\n\r\nI don&#39;t think it&#39;s worth analyzing your code too closely though as it&#39;s totally wrong I&#39;m afraid, removing an item from a linked list should be a O(1) constant time procedure (at least once you have the node and previous node located). You are moving the data around, causing it to be O(n), meaning it&#39;s no more efficient than removing from an array of data.\r\n\r\nGiven this:\r\n\r\n    node1 -&gt; node2 -&gt; node3 -&gt; node4\r\n      |        |        |        |\r\n    data1    data2    data3    data4\r\n\r\nRemoving `node2`, should go to:\r\n\r\n    node1 -&gt; node3 -&gt; node4\r\n      |        |        |\r\n    data1    data3    data4\r\n\r\nBut you move the data around as though shuffling items along in an array. This causes it to be:\r\n\r\n    node1 -&gt; node2 -&gt; node3\r\n      |        |        |\r\n    data1    data3    data4\r\n\r\n`current.data` should never need to be reassigned for any linked list operation.","title":"Setting Current Node to Null?","body":"<p>To answer your question, because it's an example of dead code. It's a local variable, so as the final write to it is not later read by any code, it will have no effect on the program.</p>\n\n<p>That is:</p>\n\n<pre><code>    current = null;\n    //there are no reads of \"current\" here before:\n} //the end of method which is the end of scope for the local \"current\"\n</code></pre>\n\n<p>A decent IDE would be hinting to you that this write was not read, by, for example, graying out, underlining or otherwise highlighting the dead code.</p>\n\n<p>I don't think it's worth analyzing your code too closely though as it's totally wrong I'm afraid, removing an item from a linked list should be a O(1) constant time procedure (at least once you have the node and previous node located). You are moving the data around, causing it to be O(n), meaning it's no more efficient than removing from an array of data.</p>\n\n<p>Given this:</p>\n\n<pre><code>node1 -&gt; node2 -&gt; node3 -&gt; node4\n  |        |        |        |\ndata1    data2    data3    data4\n</code></pre>\n\n<p>Removing <code>node2</code>, should go to:</p>\n\n<pre><code>node1 -&gt; node3 -&gt; node4\n  |        |        |\ndata1    data3    data4\n</code></pre>\n\n<p>But you move the data around as though shuffling items along in an array. This causes it to be:</p>\n\n<pre><code>node1 -&gt; node2 -&gt; node3\n  |        |        |\ndata1    data3    data4\n</code></pre>\n\n<p><code>current.data</code> should never need to be reassigned for any linked list operation.</p>\n"},{"comments":[{"owner":{"account_id":395338,"reputation":7096,"user_id":758244,"display_name":"digitalbath"},"score":2,"creation_date":1483482408,"post_id":41453258,"comment_id":70113152,"body_markdown":"For a doubly-linked list, you must also update the following node&#39;s prev pointer: `mid.next.prev = mid.prev`","body":"For a doubly-linked list, you must also update the following node&#39;s prev pointer: <code>mid.next.prev = mid.prev</code>"}],"tags":[],"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483555549,"creation_date":1483481799,"answer_id":41453258,"question_id":41453131,"body_markdown":"Is your list doubly-linked? In that case, you can just do \r\n\r\n    if (mid != null) {\r\n        mid.prev.next = mid.next\r\n        mid.next.prev = mid.prev\r\n    }\r\n\r\nand let garbage collection do its magic.\r\n\r\nIn any case, to answer your question, realize that variables for objects (such as `Node`) in Java are always references (pointers). \r\n\r\nIn your function, `current` is a variable that points to a Node object. If you set it to `null`, it doesn&#39;t point anywhere. But that doesn&#39;t change the structure of the list.","title":"Setting Current Node to Null?","body":"<p>Is your list doubly-linked? In that case, you can just do </p>\n\n<pre><code>if (mid != null) {\n    mid.prev.next = mid.next\n    mid.next.prev = mid.prev\n}\n</code></pre>\n\n<p>and let garbage collection do its magic.</p>\n\n<p>In any case, to answer your question, realize that variables for objects (such as <code>Node</code>) in Java are always references (pointers). </p>\n\n<p>In your function, <code>current</code> is a variable that points to a Node object. If you set it to <code>null</code>, it doesn't point anywhere. But that doesn't change the structure of the list.</p>\n"},{"tags":[],"owner":{"account_id":9962960,"reputation":11,"user_id":7371600,"display_name":"hardus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483502205,"creation_date":1483483959,"answer_id":41453619,"question_id":41453131,"body_markdown":"If it&#39;s a double linked list we need to just link mid.pre to mid.next, if it&#39;s singleLinked List we need to traverse from beginning to mid (we need previous node `Prv.next = mid`) and just replace `prv.next = mid.next`. \r\n\r\n**Question:** In both of your solutions how can we traverse from head after removing mid Node? ","title":"Setting Current Node to Null?","body":"<p>If it's a double linked list we need to just link mid.pre to mid.next, if it's singleLinked List we need to traverse from beginning to mid (we need previous node <code>Prv.next = mid</code>) and just replace <code>prv.next = mid.next</code>. </p>\n\n<p><strong>Question:</strong> In both of your solutions how can we traverse from head after removing mid Node? </p>\n"},{"tags":[],"owner":{"account_id":3401522,"reputation":597,"user_id":2853557,"accept_rate":29,"display_name":"Sarwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483621183,"creation_date":1483620487,"answer_id":41485538,"question_id":41453131,"body_markdown":"I don&#39;t get it why it is not giving the compilation error first of all for the below code:\r\n\r\n    current = current.next;\r\nThis should give compilation error, since you are assigning a node pointer to a node.\r\n\r\nWhen I run the same function while passing the pointer it works.\r\n\r\n    #include&lt;stdio.h&gt;\r\n    #include&lt;malloc.h&gt; // C library to handle malloc functions\r\n    \r\n    struct node{ // struct node declaration\r\n    \tint data;\r\n    \tstruct node* link;\r\n    };\r\n    void deleteNode(struct node*);\r\n    void printList(struct node*);\r\n    int main(){\r\n    \tstruct node* head;\r\n    \tstruct node* first;\r\n    \tstruct node* second;\r\n    \tstruct node* third;\r\n    \tstruct node* fourth;\r\n    \tstruct node* fifth;\r\n    \tstruct node* sixth;\r\n    \thead = (struct node*)malloc(sizeof(struct node));\r\n    \tfirst = (struct node*)malloc(sizeof(struct node));\r\n    \tsecond = (struct node*)malloc(sizeof(struct node));\r\n    \tthird = (struct node*)malloc(sizeof(struct node));\r\n    \tfourth = (struct node*)malloc(sizeof(struct node));\r\n    \tfifth = (struct node*)malloc(sizeof(struct node));\r\n    \tsixth = (struct node*)malloc(sizeof(struct node));\r\n    \thead-&gt;link = first;\r\n    \tfirst-&gt;link = second;\r\n    \tsecond-&gt;link = third;\r\n    \tthird-&gt;link = fourth;\r\n    \tfourth-&gt;link = fifth;\r\n    \tfifth-&gt;link = sixth;\r\n    \tsixth-&gt;link = NULL;\r\n    \thead-&gt; data = 1; \r\n    \tfirst-&gt; data = 2;\r\n    \tsecond-&gt; data = 3;\r\n    \tthird-&gt; data = 4;\r\n    \tfourth-&gt; data = 5;\r\n    \tfifth-&gt; data = 6;\r\n    \tsixth-&gt; data = 7;\r\n    \tprintList(head);\r\n    \tdeleteNode(second);\r\n    \tprintList(head);\r\n    }\r\n    void printList(struct node* head){\r\n    \tstruct node* node = head;\r\n    \twhile(node-&gt;link!= NULL){\r\n    \t\tprintf(&quot;%d\\n&quot;,node-&gt;data);\r\n    \t\tnode= node-&gt;link;\r\n    \t}\r\n    }\r\n    void deleteNode(struct node* kid){\r\n    \tstruct node* mid = kid;\r\n    \twhile(mid-&gt;link!= NULL){\r\n    \t\tmid-&gt;data = mid-&gt;link-&gt;data;\r\n    \t\tmid = mid-&gt;link;\r\n    \t}\r\n    \tmid = NULL;\r\n    }\r\n","title":"Setting Current Node to Null?","body":"<p>I don't get it why it is not giving the compilation error first of all for the below code:</p>\n\n<pre><code>current = current.next;\n</code></pre>\n\n<p>This should give compilation error, since you are assigning a node pointer to a node.</p>\n\n<p>When I run the same function while passing the pointer it works.</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;malloc.h&gt; // C library to handle malloc functions\n\nstruct node{ // struct node declaration\n    int data;\n    struct node* link;\n};\nvoid deleteNode(struct node*);\nvoid printList(struct node*);\nint main(){\n    struct node* head;\n    struct node* first;\n    struct node* second;\n    struct node* third;\n    struct node* fourth;\n    struct node* fifth;\n    struct node* sixth;\n    head = (struct node*)malloc(sizeof(struct node));\n    first = (struct node*)malloc(sizeof(struct node));\n    second = (struct node*)malloc(sizeof(struct node));\n    third = (struct node*)malloc(sizeof(struct node));\n    fourth = (struct node*)malloc(sizeof(struct node));\n    fifth = (struct node*)malloc(sizeof(struct node));\n    sixth = (struct node*)malloc(sizeof(struct node));\n    head-&gt;link = first;\n    first-&gt;link = second;\n    second-&gt;link = third;\n    third-&gt;link = fourth;\n    fourth-&gt;link = fifth;\n    fifth-&gt;link = sixth;\n    sixth-&gt;link = NULL;\n    head-&gt; data = 1; \n    first-&gt; data = 2;\n    second-&gt; data = 3;\n    third-&gt; data = 4;\n    fourth-&gt; data = 5;\n    fifth-&gt; data = 6;\n    sixth-&gt; data = 7;\n    printList(head);\n    deleteNode(second);\n    printList(head);\n}\nvoid printList(struct node* head){\n    struct node* node = head;\n    while(node-&gt;link!= NULL){\n        printf(\"%d\\n\",node-&gt;data);\n        node= node-&gt;link;\n    }\n}\nvoid deleteNode(struct node* kid){\n    struct node* mid = kid;\n    while(mid-&gt;link!= NULL){\n        mid-&gt;data = mid-&gt;link-&gt;data;\n        mid = mid-&gt;link;\n    }\n    mid = NULL;\n}\n</code></pre>\n"}],"owner":{"account_id":5634077,"reputation":39,"user_id":4460069,"accept_rate":75,"display_name":"Drewvy22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1669303717,"creation_date":1483481107,"question_id":41453131,"body_markdown":"I&#39;ve been practicing problems on Cracking the Coding Interview and I came up with a solution to a problem asking to remove a middle node in a linked list.\r\n\r\n     public void deleteMidNode(Node mid){\r\n\t\tif(mid == head || mid.next==null){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tNode current = mid;\r\n\t\twhile(current.next.next!=null){\r\n\t\t\tcurrent.data = current.next.data;\r\n\t\t\tcurrent = current.next;\r\n\t\t}\r\n\t\tcurrent.next = null;\r\n\t}\r\n\r\nNow this code does work - I&#39;ve tested it. However, I&#39;m curious as to why I can set `current.next` to null, but if I was to do this it doesn&#39;t work:\r\n\r\n     public void deleteMidNode(Node mid){\r\n\t\tif(mid == head || mid.next==null){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tNode current = mid;\r\n\t\twhile(current.next!=null){\r\n\t\t\tcurrent.data = current.next.data;\r\n\t\t\tcurrent = current.next;\r\n\t\t}\r\n\t\tcurrent = null;\t\t\r\n\t}\r\n\r\nCan anyone tell me why I can&#39;t set a current node to `null`?","title":"Setting Current Node to Null?","body":"<p>I've been practicing problems on Cracking the Coding Interview and I came up with a solution to a problem asking to remove a middle node in a linked list.</p>\n\n<pre><code> public void deleteMidNode(Node mid){\n    if(mid == head || mid.next==null){\n        return;\n    }\n    Node current = mid;\n    while(current.next.next!=null){\n        current.data = current.next.data;\n        current = current.next;\n    }\n    current.next = null;\n}\n</code></pre>\n\n<p>Now this code does work - I've tested it. However, I'm curious as to why I can set <code>current.next</code> to null, but if I was to do this it doesn't work:</p>\n\n<pre><code> public void deleteMidNode(Node mid){\n    if(mid == head || mid.next==null){\n        return;\n    }\n\n    Node current = mid;\n    while(current.next!=null){\n        current.data = current.next.data;\n        current = current.next;\n    }\n    current = null;     \n}\n</code></pre>\n\n<p>Can anyone tell me why I can't set a current node to <code>null</code>?</p>\n"},{"tags":["java","android","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1669302417,"post_id":74562476,"comment_id":131617883,"body_markdown":"Please don&#39;t post screenshots of your code, or other textual content. Instead post the actual text, and use the formatting tools of Stack Overflow to mark it up. Also see: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please don&#39;t post screenshots of your code, or other textual content. Instead post the actual text, and use the formatting tools of Stack Overflow to mark it up. Also see: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669362155,"post_id":74562476,"comment_id":131628951,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669362183,"post_id":74562476,"comment_id":131628961,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will definitely help. Here is the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will definitely help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":27033202,"reputation":11,"user_id":20589233,"display_name":"Fonel1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669303597,"creation_date":1669300887,"question_id":74562476,"body_markdown":"at the beginning I would like to point out that I am a beginner in java and android.\r\n\r\nI&#39;m coding an application, which I can use to send a image of test result to database. For that moment I&#39;ve got possibility to upload picture to Firebase Storage and I have no clue what should I do next, to import(?) image from storage to a database of specific user.\r\n\r\n    public class BloodTestActivity extends AppCompatActivity {\r\n\r\n    ImageView imageSelected;\r\n    Button btn_uploadImage, btn_sendImage;\r\n    Uri uri;\r\n    StorageReference storageReference;\r\n    ProgressDialog progressDialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_blood_test);\r\n\r\n        imageSelected = findViewById(R.id.viewSelectedImage);\r\n        btn_uploadImage = findViewById(R.id.btn_uploadImage);\r\n        btn_sendImage = findViewById(R.id.btn_sendImage);\r\n\r\n        btn_uploadImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                UploadImage();\r\n            }\r\n        });\r\n\r\n        btn_sendImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                sendImage();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sendImage() {\r\n\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setTitle(&quot;Sending test result...&quot;);\r\n        progressDialog.show();\r\n\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyy_MM_dd_HH_mm_ss&quot;, Locale.CANADA);\r\n        Date now = new Date();\r\n        String fileName = format.format(now);\r\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;images/&quot; + fileName);\r\n\r\n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                imageSelected.setImageURI(null);\r\n                Toast.makeText(BloodTestActivity.this, &quot;Success!&quot;, Toast.LENGTH_SHORT).show();\r\n                if (progressDialog.isShowing())\r\n                    progressDialog.dismiss();\r\n\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n\r\n                if (progressDialog.isShowing())\r\n                    progressDialog.dismiss();\r\n                Toast.makeText(BloodTestActivity.this, &quot;Failed!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void UploadImage() {\r\n\r\n        Dexter.withContext(this)\r\n                .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                .withListener(new PermissionListener() {\r\n                    @Override\r\n                    public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                        Intent intent = new Intent();\r\n                        intent.setType(&quot;image/*&quot;);\r\n                        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                        startActivityForResult(intent, 101);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                        Toast.makeText(BloodTestActivity.this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                        permissionToken.cancelPermissionRequest();\r\n                    }\r\n                }).check();\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 101 &amp;&amp; resultCode == RESULT_OK){\r\n            uri = data.getData();\r\n            imageSelected.setImageURI(uri);\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Upload an Image to firebase storage and save it to Firestore","body":"<p>at the beginning I would like to point out that I am a beginner in java and android.</p>\n<p>I'm coding an application, which I can use to send a image of test result to database. For that moment I've got possibility to upload picture to Firebase Storage and I have no clue what should I do next, to import(?) image from storage to a database of specific user.</p>\n<pre><code>public class BloodTestActivity extends AppCompatActivity {\n\nImageView imageSelected;\nButton btn_uploadImage, btn_sendImage;\nUri uri;\nStorageReference storageReference;\nProgressDialog progressDialog;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_blood_test);\n\n    imageSelected = findViewById(R.id.viewSelectedImage);\n    btn_uploadImage = findViewById(R.id.btn_uploadImage);\n    btn_sendImage = findViewById(R.id.btn_sendImage);\n\n    btn_uploadImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            UploadImage();\n        }\n    });\n\n    btn_sendImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            sendImage();\n\n        }\n    });\n}\n\nprivate void sendImage() {\n\n    progressDialog = new ProgressDialog(this);\n    progressDialog.setTitle(&quot;Sending test result...&quot;);\n    progressDialog.show();\n\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyy_MM_dd_HH_mm_ss&quot;, Locale.CANADA);\n    Date now = new Date();\n    String fileName = format.format(now);\n    storageReference = FirebaseStorage.getInstance().getReference(&quot;images/&quot; + fileName);\n\n    storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n            imageSelected.setImageURI(null);\n            Toast.makeText(BloodTestActivity.this, &quot;Success!&quot;, Toast.LENGTH_SHORT).show();\n            if (progressDialog.isShowing())\n                progressDialog.dismiss();\n\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n\n            if (progressDialog.isShowing())\n                progressDialog.dismiss();\n            Toast.makeText(BloodTestActivity.this, &quot;Failed!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n}\n\nprivate void UploadImage() {\n\n    Dexter.withContext(this)\n            .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n            .withListener(new PermissionListener() {\n                @Override\n                public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                    Intent intent = new Intent();\n                    intent.setType(&quot;image/*&quot;);\n                    intent.setAction(Intent.ACTION_GET_CONTENT);\n                    startActivityForResult(intent, 101);\n                }\n\n                @Override\n                public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                    Toast.makeText(BloodTestActivity.this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                    permissionToken.cancelPermissionRequest();\n                }\n            }).check();\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 101 &amp;&amp; resultCode == RESULT_OK){\n        uri = data.getData();\n        imageSelected.setImageURI(uri);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669303313,"creation_date":1669303313,"answer_id":74562972,"question_id":74561849,"body_markdown":"My guess is that the dialog you&#39;re talking about comes from here:\r\n\r\n    if(adapter.getItemCount() == 0){\r\n        dialog.show();\r\n    }\r\n\r\nIf so, it makes sense that it shows up as this code runs before any data has been loaded. \r\n\r\n---\r\n\r\nData is loaded from Firestore (and most modern cloud APIs) asynchronously, and this changes the order in which code executes. It&#39;s easiest to see this if you set breakpoint on the `if` line above, on `adapter.startListening();` and on the first line inside your `onBindViewHolder`.\r\n\r\nIf you now run the code in the debugger, you&#39;ll see that it:\r\n\r\n1. First hits the `if(adapter.getItemCount() == 0){` line\r\n2. Then adapter.startListening()`\r\n3. Then gets to `onBindViewHolder`\r\n\r\nSo now it hopefully makes sense why your code always show the dialog: no data has been loaded yet at that point.\r\n\r\n---\r\n\r\nThe solution for this is always the same: you need to make sure that the code  that needs the data runs after the data has been loaded. Since you&#39;re using the `FirestoreRecyclerAdapter` from FirebaseUI, you can do this inside its `onDataChanged` method that signals that a complete snapshot was loaded (regardless of whether there was any data in that snapshot) and is shown in the documentation on [data and error events](https://github.com/firebase/FirebaseUI-Android/tree/master/firestore#data-and-error-events).\r\n\r\nSo if you move your `if` check into a `onDataChanged` method in your `DobbyAdapter`, it will get called whenever the adapter has loaded a complete snapshot, and it will show the dialog when there are no items.","title":"How to getItemCount() when using FirestoreRecyclerAdapter because it always return 0?","body":"<p>My guess is that the dialog you're talking about comes from here:</p>\n<pre><code>if(adapter.getItemCount() == 0){\n    dialog.show();\n}\n</code></pre>\n<p>If so, it makes sense that it shows up as this code runs before any data has been loaded.</p>\n<hr />\n<p>Data is loaded from Firestore (and most modern cloud APIs) asynchronously, and this changes the order in which code executes. It's easiest to see this if you set breakpoint on the <code>if</code> line above, on <code>adapter.startListening();</code> and on the first line inside your <code>onBindViewHolder</code>.</p>\n<p>If you now run the code in the debugger, you'll see that it:</p>\n<ol>\n<li>First hits the <code>if(adapter.getItemCount() == 0){</code> line</li>\n<li>Then adapter.startListening()`</li>\n<li>Then gets to <code>onBindViewHolder</code></li>\n</ol>\n<p>So now it hopefully makes sense why your code always show the dialog: no data has been loaded yet at that point.</p>\n<hr />\n<p>The solution for this is always the same: you need to make sure that the code  that needs the data runs after the data has been loaded. Since you're using the <code>FirestoreRecyclerAdapter</code> from FirebaseUI, you can do this inside its <code>onDataChanged</code> method that signals that a complete snapshot was loaded (regardless of whether there was any data in that snapshot) and is shown in the documentation on <a href=\"https://github.com/firebase/FirebaseUI-Android/tree/master/firestore#data-and-error-events\" rel=\"nofollow noreferrer\">data and error events</a>.</p>\n<p>So if you move your <code>if</code> check into a <code>onDataChanged</code> method in your <code>DobbyAdapter</code>, it will get called whenever the adapter has loaded a complete snapshot, and it will show the dialog when there are no items.</p>\n"}],"owner":{"account_id":25729559,"reputation":25,"user_id":19485355,"display_name":"Haziq Mt Roslan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74562972,"answer_count":1,"score":1,"last_activity_date":1669303313,"creation_date":1669297914,"question_id":74561849,"body_markdown":"I&#39;m currently building a booking application for laundry&#39;s machine. I need to get the item count and if the count is zero it will show the dialog box which told user that there is no data in the system.\r\n\r\nThe Activity code:\r\n\r\n```\r\npublic class DobbySelection2 extends AppCompatActivity {\r\n    String local;\r\n    private Dialog dialog;\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    private DobbyAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dobby_selection2);\r\n\r\n        dialog = new Dialog(this);\r\n        dialog.setContentView(R.layout.custom_dialog2);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            dialog.getWindow().setBackgroundDrawable(getDrawable(R.drawable.custom_dialogbackground));\r\n        }\r\n        dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        dialog.setCancelable(false); //Optional\r\n        dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation; //Setting the animations to dialog\r\n\r\n        Button Yes = dialog.findViewById(R.id.btn_yes);\r\n        Yes.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(DobbySelection2.this, MainActivity.class );\r\n                dialog.dismiss();\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        setUpRecyclerView();\r\n    }\r\n\r\n    private void setUpRecyclerView(){\r\n        Intent i = getIntent();\r\n        local = i.getStringExtra(&quot;PLACE&quot;);\r\n\r\n        if (local == null){\r\n            local = &quot;Selangor&quot;;\r\n        }\r\n\r\n        CollectionReference dobbyRef = db.collection(&quot;locality&quot;)\r\n                .document(local)\r\n                .collection(&quot;Dobby&quot;);\r\n\r\n        Query query = dobbyRef.orderBy(&quot;name&quot;, Query.Direction.DESCENDING);\r\n\r\n        FirestoreRecyclerOptions&lt;Dobby&gt; options = new FirestoreRecyclerOptions.Builder&lt;Dobby&gt;()\r\n                .setQuery(query, Dobby.class)\r\n                .build();\r\n\r\n        adapter = new DobbyAdapter(options);\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        //recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setLayoutManager(new CustomLinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        if(adapter.getItemCount() == 0){\r\n            dialog.show();\r\n        }\r\n\r\n\r\n        adapter.setOnItemClickListener(new DobbyAdapter.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\r\n                Dobby dobby = documentSnapshot.toObject(Dobby.class);\r\n                String id = documentSnapshot.getId();\r\n                Toast.makeText(DobbySelection2.this, &quot;ID : &quot; + id, Toast.LENGTH_SHORT).show();\r\n                Intent intent = new Intent(DobbySelection2.this, Booking2.class);\r\n                intent.putExtra(&quot;PLACE&quot;, local);\r\n                intent.putExtra(&quot;ID&quot;, id);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n}\r\n```\r\n\r\nAdapter code:\r\n```\r\npublic class DobbyAdapter extends FirestoreRecyclerAdapter&lt;Dobby, DobbyAdapter.DobbyHolder&gt;{\r\n\r\n    private OnItemClickListener listener;\r\n    /**\r\n     * Create a new RecyclerView adapter that listens to a Firestore Query.  See {@link\r\n     * FirestoreRecyclerOptions} for configuration options.\r\n     *\r\n     * @param options\r\n     */\r\n    public DobbyAdapter(@NonNull FirestoreRecyclerOptions&lt;Dobby&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull DobbyHolder holder, int position, @NonNull Dobby model) {\r\n        holder.textViewName.setText(model.getName());\r\n        holder.textViewAddress.setText(model.getAddress());\r\n        holder.textViewDistance.setText(model.getDistance());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DobbyHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.itemdobby, parent, false);\r\n        return new DobbyHolder(v);\r\n    }\r\n\r\n    class DobbyHolder extends RecyclerView.ViewHolder{\r\n        TextView textViewName;\r\n        TextView textViewAddress;\r\n        TextView textViewDistance;\r\n\r\n        public DobbyHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            textViewName = itemView.findViewById(R.id.nameDobby);\r\n            textViewAddress = itemView.findViewById(R.id.addressDobby);\r\n            textViewDistance = itemView.findViewById(R.id.distanceDobby);\r\n\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    int position = getAdapterPosition();\r\n                    if(position != RecyclerView.NO_POSITION &amp;&amp; listener != null){\r\n                        listener.onItemClick(getSnapshots().getSnapshot(position), position);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(DocumentSnapshot documentSnapshot, int position);\r\n    }\r\n\r\n    public void setOnItemClickListener(OnItemClickListener listener){\r\n        this.listener = listener;\r\n    }\r\n}\r\n```\r\n\r\nBut the dialog box always pop up indicating that the count is zero even though there is data inside of the recycler view. How can I fix this?","title":"How to getItemCount() when using FirestoreRecyclerAdapter because it always return 0?","body":"<p>I'm currently building a booking application for laundry's machine. I need to get the item count and if the count is zero it will show the dialog box which told user that there is no data in the system.</p>\n<p>The Activity code:</p>\n<pre><code>public class DobbySelection2 extends AppCompatActivity {\n    String local;\n    private Dialog dialog;\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n    private DobbyAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_dobby_selection2);\n\n        dialog = new Dialog(this);\n        dialog.setContentView(R.layout.custom_dialog2);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            dialog.getWindow().setBackgroundDrawable(getDrawable(R.drawable.custom_dialogbackground));\n        }\n        dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        dialog.setCancelable(false); //Optional\n        dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation; //Setting the animations to dialog\n\n        Button Yes = dialog.findViewById(R.id.btn_yes);\n        Yes.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(DobbySelection2.this, MainActivity.class );\n                dialog.dismiss();\n                startActivity(intent);\n            }\n        });\n\n        setUpRecyclerView();\n    }\n\n    private void setUpRecyclerView(){\n        Intent i = getIntent();\n        local = i.getStringExtra(&quot;PLACE&quot;);\n\n        if (local == null){\n            local = &quot;Selangor&quot;;\n        }\n\n        CollectionReference dobbyRef = db.collection(&quot;locality&quot;)\n                .document(local)\n                .collection(&quot;Dobby&quot;);\n\n        Query query = dobbyRef.orderBy(&quot;name&quot;, Query.Direction.DESCENDING);\n\n        FirestoreRecyclerOptions&lt;Dobby&gt; options = new FirestoreRecyclerOptions.Builder&lt;Dobby&gt;()\n                .setQuery(query, Dobby.class)\n                .build();\n\n        adapter = new DobbyAdapter(options);\n\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\n        recyclerView.setHasFixedSize(true);\n        //recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setLayoutManager(new CustomLinearLayoutManager(this));\n        recyclerView.setAdapter(adapter);\n\n        if(adapter.getItemCount() == 0){\n            dialog.show();\n        }\n\n\n        adapter.setOnItemClickListener(new DobbyAdapter.OnItemClickListener() {\n            @Override\n            public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\n                Dobby dobby = documentSnapshot.toObject(Dobby.class);\n                String id = documentSnapshot.getId();\n                Toast.makeText(DobbySelection2.this, &quot;ID : &quot; + id, Toast.LENGTH_SHORT).show();\n                Intent intent = new Intent(DobbySelection2.this, Booking2.class);\n                intent.putExtra(&quot;PLACE&quot;, local);\n                intent.putExtra(&quot;ID&quot;, id);\n                startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n}\n</code></pre>\n<p>Adapter code:</p>\n<pre><code>public class DobbyAdapter extends FirestoreRecyclerAdapter&lt;Dobby, DobbyAdapter.DobbyHolder&gt;{\n\n    private OnItemClickListener listener;\n    /**\n     * Create a new RecyclerView adapter that listens to a Firestore Query.  See {@link\n     * FirestoreRecyclerOptions} for configuration options.\n     *\n     * @param options\n     */\n    public DobbyAdapter(@NonNull FirestoreRecyclerOptions&lt;Dobby&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull DobbyHolder holder, int position, @NonNull Dobby model) {\n        holder.textViewName.setText(model.getName());\n        holder.textViewAddress.setText(model.getAddress());\n        holder.textViewDistance.setText(model.getDistance());\n    }\n\n    @NonNull\n    @Override\n    public DobbyHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.itemdobby, parent, false);\n        return new DobbyHolder(v);\n    }\n\n    class DobbyHolder extends RecyclerView.ViewHolder{\n        TextView textViewName;\n        TextView textViewAddress;\n        TextView textViewDistance;\n\n        public DobbyHolder(@NonNull View itemView) {\n            super(itemView);\n            textViewName = itemView.findViewById(R.id.nameDobby);\n            textViewAddress = itemView.findViewById(R.id.addressDobby);\n            textViewDistance = itemView.findViewById(R.id.distanceDobby);\n\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    int position = getAdapterPosition();\n                    if(position != RecyclerView.NO_POSITION &amp;&amp; listener != null){\n                        listener.onItemClick(getSnapshots().getSnapshot(position), position);\n                    }\n                }\n            });\n        }\n    }\n\n    public interface OnItemClickListener {\n        void onItemClick(DocumentSnapshot documentSnapshot, int position);\n    }\n\n    public void setOnItemClickListener(OnItemClickListener listener){\n        this.listener = listener;\n    }\n}\n</code></pre>\n<p>But the dialog box always pop up indicating that the count is zero even though there is data inside of the recycler view. How can I fix this?</p>\n"},{"tags":["java","mysql","spring","spring-boot","stored-procedures"],"comments":[{"owner":{"account_id":2777046,"reputation":3312,"user_id":2390425,"display_name":"wiretext"},"score":0,"creation_date":1443776607,"post_id":32903696,"comment_id":53636092,"body_markdown":"see here how to create procedure you don&#39;t need to `DELIMITER` http://stackoverflow.com/questions/31769551","body":"see here how to create procedure you don&#39;t need to <code>DELIMITER</code> <a href=\"http://stackoverflow.com/questions/31769551\">stackoverflow.com/questions/31769551</a>"}],"answers":[{"tags":[],"owner":{"account_id":3984317,"reputation":722,"user_id":3285398,"accept_rate":100,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1457451088,"creation_date":1457451088,"answer_id":35871495,"question_id":32903696,"body_markdown":"Here is the solution I found that works well enough, though it is not ideal as you have to change your SQL script.\r\n\r\nIn your `application.properties` file change the DataSource separator property:\r\n\r\n    spring.datasource.separator=^;\r\n\r\nThen update your `schema.sql` file to look as follows:\r\n\r\n    CREATE PROCEDURE Alter_Table()\r\n    BEGIN\r\n     IF NOT EXISTS( SELECT NULL\r\n                FROM INFORMATION_SCHEMA.COLUMNS\r\n               WHERE table_name = &#39;test_table&#39;\r\n                 AND table_schema = &#39;test&#39;\r\n                 AND column_name = &#39;cc_test_id&#39;)  THEN\r\n    \r\n      alter table test_table add cc_test_id VARCHAR(128) NOT NULL;\r\n    \r\n    END IF;\r\n    END ^;\r\n    \r\n    call Alter_Table ^;\r\n\r\nThe DELIMITER command only works with the MySQL CLI client and Workbench and will not work for Spring Boot database initialization. Once you have removed the DELIMITER commands, Spring Boot will still throw an exception as it will not  understand the `;` characters in the stored procedures are not separate statements, so you have to change the datasource separator property as a workaround.","title":"Issue with executing procedure in spring boot schema.sql file","body":"<p>Here is the solution I found that works well enough, though it is not ideal as you have to change your SQL script.</p>\n\n<p>In your <code>application.properties</code> file change the DataSource separator property:</p>\n\n<pre><code>spring.datasource.separator=^;\n</code></pre>\n\n<p>Then update your <code>schema.sql</code> file to look as follows:</p>\n\n<pre><code>CREATE PROCEDURE Alter_Table()\nBEGIN\n IF NOT EXISTS( SELECT NULL\n            FROM INFORMATION_SCHEMA.COLUMNS\n           WHERE table_name = 'test_table'\n             AND table_schema = 'test'\n             AND column_name = 'cc_test_id')  THEN\n\n  alter table test_table add cc_test_id VARCHAR(128) NOT NULL;\n\nEND IF;\nEND ^;\n\ncall Alter_Table ^;\n</code></pre>\n\n<p>The DELIMITER command only works with the MySQL CLI client and Workbench and will not work for Spring Boot database initialization. Once you have removed the DELIMITER commands, Spring Boot will still throw an exception as it will not  understand the <code>;</code> characters in the stored procedures are not separate statements, so you have to change the datasource separator property as a workaround.</p>\n"},{"tags":[],"owner":{"account_id":7616231,"reputation":412,"user_id":5775568,"display_name":"Aaron"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1515226260,"creation_date":1515226260,"answer_id":48125485,"question_id":32903696,"body_markdown":"Here&#39;s the fix:\n\nSet your `spring.datasource.separator` property to `^^^ END OF SCRIPT ^^^`, and Spring Boot will execute your entire schema.sql script as a single statement.\n\nHere&#39;s why:\n\nSpring Boot splits your schema.sql script into statements, then sends each statement to the database individually for execution.  By default, the script is split on semicolons, as that is the default value of the `spring.datasource.separator` property ([per the documentation][1]).  This causes your schema.sql to be split, and the first statement executed is the following:\n\n    DELIMITER $$\n    CREATE PROCEDURE Alter_Table()\n    BEGIN\n     IF NOT EXISTS( SELECT NULL\n                FROM INFORMATION_SCHEMA.COLUMNS\n               WHERE table_name = &#39;test_table&#39;\n                 AND table_schema = &#39;test&#39;\n                 AND column_name = &#39;cc_test_id&#39;)  THEN\n    \n      alter table test_table add cc_test_id VARCHAR(128) NOT NULL\n\nThis is invalid SQL because the dollar-quote is never terminated in the statement.\n\nThe javadoc for `org.springframework.jdbc.datasource.init.ScriptUtils.EOF_STATEMENT_SEPARATOR` provides a good explanation of how my suggested solution works:\n&gt; End of file (EOF) SQL statement separator: &quot;^^^ END OF SCRIPT ^^^&quot;.\n&gt;\n&gt; This value may be supplied as the separator to executeSqlScript(Connection, EncodedResource, boolean, boolean, String, String, String, String) to denote that an SQL script contains a single statement (potentially spanning multiple lines) with no explicit statement separator. Note that such a script should not actually contain this value; it is merely a virtual statement separator.\n\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\n","title":"Issue with executing procedure in spring boot schema.sql file","body":"<p>Here's the fix:</p>\n<p>Set your <code>spring.datasource.separator</code> property to <code>^^^ END OF SCRIPT ^^^</code>, and Spring Boot will execute your entire schema.sql script as a single statement.</p>\n<p>Here's why:</p>\n<p>Spring Boot splits your schema.sql script into statements, then sends each statement to the database individually for execution.  By default, the script is split on semicolons, as that is the default value of the <code>spring.datasource.separator</code> property (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">per the documentation</a>).  This causes your schema.sql to be split, and the first statement executed is the following:</p>\n<pre><code>DELIMITER $$\nCREATE PROCEDURE Alter_Table()\nBEGIN\n IF NOT EXISTS( SELECT NULL\n            FROM INFORMATION_SCHEMA.COLUMNS\n           WHERE table_name = 'test_table'\n             AND table_schema = 'test'\n             AND column_name = 'cc_test_id')  THEN\n\n  alter table test_table add cc_test_id VARCHAR(128) NOT NULL\n</code></pre>\n<p>This is invalid SQL because the dollar-quote is never terminated in the statement.</p>\n<p>The javadoc for <code>org.springframework.jdbc.datasource.init.ScriptUtils.EOF_STATEMENT_SEPARATOR</code> provides a good explanation of how my suggested solution works:</p>\n<blockquote>\n<p>End of file (EOF) SQL statement separator: &quot;^^^ END OF SCRIPT ^^^&quot;.</p>\n<p>This value may be supplied as the separator to executeSqlScript(Connection, EncodedResource, boolean, boolean, String, String, String, String) to denote that an SQL script contains a single statement (potentially spanning multiple lines) with no explicit statement separator. Note that such a script should not actually contain this value; it is merely a virtual statement separator.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624190510,"creation_date":1624190510,"answer_id":68055638,"question_id":32903696,"body_markdown":"Customizing database populator with the appropriate separator [`EOF_STATEMENT_SEPARATOR`][1] resolves this issue:\r\n\r\n```\r\n@Bean\r\npublic ConnectionFactoryInitializer initializer(ConnectionFactory connectionFactory) {\r\n    var resource = new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;));\r\n    resource.setSeparator(ScriptUtils.EOF_STATEMENT_SEPARATOR);\r\n    var populator = new CompositeDatabasePopulator();\r\n    populator.addPopulators(resource);\r\n}\r\n```\r\n\r\n\r\n  [1]: http://ScriptUtils.EOF_STATEMENT_SEPARATOR","title":"Issue with executing procedure in spring boot schema.sql file","body":"<p>Customizing database populator with the appropriate separator <a href=\"http://ScriptUtils.EOF_STATEMENT_SEPARATOR\" rel=\"nofollow noreferrer\"><code>EOF_STATEMENT_SEPARATOR</code></a> resolves this issue:</p>\n<pre><code>@Bean\npublic ConnectionFactoryInitializer initializer(ConnectionFactory connectionFactory) {\n    var resource = new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;));\n    resource.setSeparator(ScriptUtils.EOF_STATEMENT_SEPARATOR);\n    var populator = new CompositeDatabasePopulator();\n    populator.addPopulators(resource);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2576908,"reputation":332,"user_id":2234369,"display_name":"DelphyM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643764153,"creation_date":1643764153,"answer_id":70949512,"question_id":32903696,"body_markdown":"None of the above answers were working for me in 2022, but they provide a point of focus to come up with my own working solution(s). I posted my answer under the similar question, but for completeness to save you some extra clicks , I&#39;m providing it here too.\r\n\r\nI had been facing this issue too and just now I found a solution. **Actually 3**! So you can choose any of them which suits your needs. But the key to it is the correctly formatted `String` which represents the DB scripts to create a SP.\r\nI haven&#39;t figure out how to combine **dropping and creation of a SP** in one SQL script/String, but I&#39;m happy with those solutions anyway.\r\n\r\n&gt; FYI: \r\n&gt;  - No special annotation or setting on the class nor method level is needed\r\n&gt;  - I&#39;m using [Spring FW][1], which simplifies things, so don&#39;t need to do low level implementation of everything\r\n&gt;  - After searching and trying various definitely working &#39;tips&#39;, the following resources helped me to arrive to those for sure **working** solutions:\r\n&gt;    - https://stackoverflow.com/questions/30732314/execute-sql-file-from-spring-jdbc-template\r\n&gt;    - similar question [Spring and MySQL stored procedure][2] on stackoverflow, where I have actually posted my answer there\r\n&gt;    - but most useful was official [Oracle tutorial][3] on JavaSE &amp; JDBC\r\n&gt;    - and other [Java/JDBC tutorial][4] where you can see the most important bit of formatting the sql Java `String`\r\n\r\n\r\n# Solution 1: using `JdbcTemplate` and Java `String`\r\nIt is very important to have trailing spaces in your nicely formatted `String` **sql** script\r\n```\r\n        String sqlSP = &quot;CREATE PROCEDURE test_stored_proc (IN pInstanceId varchar(255)) &quot; +\r\n                &quot;BEGIN &quot; +\r\n                    &quot;SELECT * FROM vw_subscriptions WHERE instanceId = pInstanceId; &quot; +\r\n                &quot;END&quot;;\r\n\r\n        jdbcTemplate.execute(sqlSP);\r\n```\r\n# Solution 2: using `ResourceDatabasePopulator` &amp; `ClassPathResource` to load SQL script in a file\r\n```\r\n        ClassPathResource resource = new ClassPathResource(&quot;/data/create-sp_TEST_STORED_PROC.sql&quot;);\r\n        jdbcTemplate.execute(&quot;DROP procedure IF EXISTS `test_stored_proc`;&quot;);\r\n\r\n        ResourceDatabasePopulator databasePopulator = new ResourceDatabasePopulator(resource);\r\n        databasePopulator.setSeparator(ScriptUtils.EOF_STATEMENT_SEPARATOR);\r\n        databasePopulator.execute(testSetupDataSource);\r\n```\r\n# Solution 3: using `ScriptUtils` &amp; `ClassPathResource` to load SQL script in a file\r\n```\r\n        ClassPathResource resource = new ClassPathResource(&quot;/data/create-sp_TEST_STORED_PROC.sql&quot;);\r\n        jdbcTemplate.execute(&quot;DROP procedure IF EXISTS `test_stored_proc`;&quot;);\r\n\r\n        ScriptUtils.executeSqlScript(Objects.requireNonNull(testSetupDataSource).getConnection(), new EncodedResource(resource),\r\n                false, false,\r\n                ScriptUtils.DEFAULT_COMMENT_PREFIX, ScriptUtils.EOF_STATEMENT_SEPARATOR,\r\n                ScriptUtils.DEFAULT_BLOCK_COMMENT_START_DELIMITER, ScriptUtils.DEFAULT_BLOCK_COMMENT_END_DELIMITER);\r\n\r\n```\r\n# Content of the `create-sp_TEST_STORED_PROC.sql` script\r\nFor solution #1 and #2 the same rule as for the 1st solution applies:\r\n - The formatting and presence of *whitespace* characters is important especially an extra trailing space at the end of each line.\r\n\r\nSo the below code is archived by my `vim` setup of representing whitespace characters\r\n```\r\nCREATE&#183;PROCEDURE&#183;test_stored_proc&#183;(IN&#183;pInstanceId&#183;varchar(255))~&#172;\r\nBEGIN~&#172;\r\n–→SELECT&#183;*&#183;FROM&#183;vw_subscriptions&#183;WHERE&#183;instanceId&#183;=&#183;pInstanceId;~&#172;\r\nEND;~&#172;\r\n```\r\nI believe it is internally represented as one line piece of string:\r\n`CREATE PROCEDURE test_stored_proc (IN pInstanceId varchar(255)) BEGIN SELECT * FROM vw_subscriptions WHERE instanceId = pInstanceId; END `\r\n\r\n\r\nAlmost full source-code can be found at my [GitHub][5]\r\n\r\n\r\n  [1]: https://spring.io/\r\n  [2]: https://stackoverflow.com/a/70949472/2234369\r\n  [3]: https://docs.oracle.com/javase/tutorial/jdbc/basics/storedprocedures.html\r\n  [4]: https://www.tutorialspoint.com/how-to-create-a-stored-procedure-in-a-database-using-jdbc-api\r\n  [5]: https://gist.github.com/delphym/5d339d00a655cc6cfe194cb97e4da511","title":"Issue with executing procedure in spring boot schema.sql file","body":"<p>None of the above answers were working for me in 2022, but they provide a point of focus to come up with my own working solution(s). I posted my answer under the similar question, but for completeness to save you some extra clicks , I'm providing it here too.</p>\n<p>I had been facing this issue too and just now I found a solution. <strong>Actually 3</strong>! So you can choose any of them which suits your needs. But the key to it is the correctly formatted <code>String</code> which represents the DB scripts to create a SP.\nI haven't figure out how to combine <strong>dropping and creation of a SP</strong> in one SQL script/String, but I'm happy with those solutions anyway.</p>\n<blockquote>\n<p>FYI:</p>\n<ul>\n<li>No special annotation or setting on the class nor method level is needed</li>\n<li>I'm using <a href=\"https://spring.io/\" rel=\"nofollow noreferrer\">Spring FW</a>, which simplifies things, so don't need to do low level implementation of everything</li>\n<li>After searching and trying various definitely working 'tips', the following resources helped me to arrive to those for sure <strong>working</strong> solutions:\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30732314/execute-sql-file-from-spring-jdbc-template\">Execute SQL file from Spring JDBC Template</a></li>\n<li>similar question <a href=\"https://stackoverflow.com/a/70949472/2234369\">Spring and MySQL stored procedure</a> on stackoverflow, where I have actually posted my answer there</li>\n<li>but most useful was official <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/storedprocedures.html\" rel=\"nofollow noreferrer\">Oracle tutorial</a> on JavaSE &amp; JDBC</li>\n<li>and other <a href=\"https://www.tutorialspoint.com/how-to-create-a-stored-procedure-in-a-database-using-jdbc-api\" rel=\"nofollow noreferrer\">Java/JDBC tutorial</a> where you can see the most important bit of formatting the sql Java <code>String</code></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h1>Solution 1: using <code>JdbcTemplate</code> and Java <code>String</code></h1>\n<p>It is very important to have trailing spaces in your nicely formatted <code>String</code> <strong>sql</strong> script</p>\n<pre><code>        String sqlSP = &quot;CREATE PROCEDURE test_stored_proc (IN pInstanceId varchar(255)) &quot; +\n                &quot;BEGIN &quot; +\n                    &quot;SELECT * FROM vw_subscriptions WHERE instanceId = pInstanceId; &quot; +\n                &quot;END&quot;;\n\n        jdbcTemplate.execute(sqlSP);\n</code></pre>\n<h1>Solution 2: using <code>ResourceDatabasePopulator</code> &amp; <code>ClassPathResource</code> to load SQL script in a file</h1>\n<pre><code>        ClassPathResource resource = new ClassPathResource(&quot;/data/create-sp_TEST_STORED_PROC.sql&quot;);\n        jdbcTemplate.execute(&quot;DROP procedure IF EXISTS `test_stored_proc`;&quot;);\n\n        ResourceDatabasePopulator databasePopulator = new ResourceDatabasePopulator(resource);\n        databasePopulator.setSeparator(ScriptUtils.EOF_STATEMENT_SEPARATOR);\n        databasePopulator.execute(testSetupDataSource);\n</code></pre>\n<h1>Solution 3: using <code>ScriptUtils</code> &amp; <code>ClassPathResource</code> to load SQL script in a file</h1>\n<pre><code>        ClassPathResource resource = new ClassPathResource(&quot;/data/create-sp_TEST_STORED_PROC.sql&quot;);\n        jdbcTemplate.execute(&quot;DROP procedure IF EXISTS `test_stored_proc`;&quot;);\n\n        ScriptUtils.executeSqlScript(Objects.requireNonNull(testSetupDataSource).getConnection(), new EncodedResource(resource),\n                false, false,\n                ScriptUtils.DEFAULT_COMMENT_PREFIX, ScriptUtils.EOF_STATEMENT_SEPARATOR,\n                ScriptUtils.DEFAULT_BLOCK_COMMENT_START_DELIMITER, ScriptUtils.DEFAULT_BLOCK_COMMENT_END_DELIMITER);\n\n</code></pre>\n<h1>Content of the <code>create-sp_TEST_STORED_PROC.sql</code> script</h1>\n<p>For solution #1 and #2 the same rule as for the 1st solution applies:</p>\n<ul>\n<li>The formatting and presence of <em>whitespace</em> characters is important especially an extra trailing space at the end of each line.</li>\n</ul>\n<p>So the below code is archived by my <code>vim</code> setup of representing whitespace characters</p>\n<pre><code>CREATE·PROCEDURE·test_stored_proc·(IN·pInstanceId·varchar(255))~¬\nBEGIN~¬\n–→SELECT·*·FROM·vw_subscriptions·WHERE·instanceId·=·pInstanceId;~¬\nEND;~¬\n</code></pre>\n<p>I believe it is internally represented as one line piece of string:\n<code>CREATE PROCEDURE test_stored_proc (IN pInstanceId varchar(255)) BEGIN SELECT * FROM vw_subscriptions WHERE instanceId = pInstanceId; END </code></p>\n<p>Almost full source-code can be found at my <a href=\"https://gist.github.com/delphym/5d339d00a655cc6cfe194cb97e4da511\" rel=\"nofollow noreferrer\">GitHub</a></p>\n"},{"tags":[],"owner":{"account_id":3679486,"reputation":27,"user_id":3064731,"display_name":"Jerry Shang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669302928,"creation_date":1669302928,"answer_id":74562893,"question_id":32903696,"body_markdown":"If you try to load scripts for SpringBootTest, `@Sql` and `@SqlConfig` will work.\r\n\r\n```kotlin\r\n@Sql(\r\n    &quot;/db/integration/stored-procedures.sql&quot;,\r\n    config = SqlConfig(separator = &quot;$$&quot;)\r\n)\r\n```\r\n\r\nIn sql scripts, you should remove the `DELIMITER $$` statement. Like this:\r\n\r\n```sql\r\nCREATE PROCEDURE &lt;sp_name&gt;()\r\n&lt;your owesome definition&gt;\r\nEND $$\r\n```\r\n\r\nIf the script file contains only one `CREATE PROCEDURE` statement, `separator=EOF_STATEMENT_SEPARATOR` will be fine.","title":"Issue with executing procedure in spring boot schema.sql file","body":"<p>If you try to load scripts for SpringBootTest, <code>@Sql</code> and <code>@SqlConfig</code> will work.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Sql(\n    &quot;/db/integration/stored-procedures.sql&quot;,\n    config = SqlConfig(separator = &quot;$$&quot;)\n)\n</code></pre>\n<p>In sql scripts, you should remove the <code>DELIMITER $$</code> statement. Like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE PROCEDURE &lt;sp_name&gt;()\n&lt;your owesome definition&gt;\nEND $$\n</code></pre>\n<p>If the script file contains only one <code>CREATE PROCEDURE</code> statement, <code>separator=EOF_STATEMENT_SEPARATOR</code> will be fine.</p>\n"}],"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7122,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1669302928,"creation_date":1443776098,"question_id":32903696,"body_markdown":"I am using `schema.sql` file to `CREATE`/`DROP` tables in my Spring Boot application and it works fine.  \r\n\r\nBut when I have added procedure for altering table:\r\n\r\n    DELIMITER $$\r\n    CREATE PROCEDURE Alter_Table()\r\n    BEGIN\r\n     IF NOT EXISTS( SELECT NULL\r\n                FROM INFORMATION_SCHEMA.COLUMNS\r\n               WHERE table_name = &#39;test_table&#39;\r\n                 AND table_schema = &#39;test&#39;\r\n                 AND column_name = &#39;cc_test_id&#39;)  THEN\r\n    \r\n      alter table test_table add cc_test_id VARCHAR(128) NOT NULL;\r\n    \r\n    END IF;\r\n    END $$\r\n    \r\n    call Alter_Table;\r\n\r\nI received:\r\n\r\n&gt; ```\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException exception.\r\n&gt; ```\r\n\r\n**However**, execution of this procedure in MySQL workbench finishes with successful results. \r\n\r\nSo, should anyone know what is the reason for this issue, let me know?","title":"Issue with executing procedure in spring boot schema.sql file","body":"<p>I am using <code>schema.sql</code> file to <code>CREATE</code>/<code>DROP</code> tables in my Spring Boot application and it works fine.</p>\n<p>But when I have added procedure for altering table:</p>\n<pre><code>DELIMITER $$\nCREATE PROCEDURE Alter_Table()\nBEGIN\n IF NOT EXISTS( SELECT NULL\n            FROM INFORMATION_SCHEMA.COLUMNS\n           WHERE table_name = 'test_table'\n             AND table_schema = 'test'\n             AND column_name = 'cc_test_id')  THEN\n\n  alter table test_table add cc_test_id VARCHAR(128) NOT NULL;\n\nEND IF;\nEND $$\n\ncall Alter_Table;\n</code></pre>\n<p>I received:</p>\n<blockquote>\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException exception.\n</code></pre>\n</blockquote>\n<p><strong>However</strong>, execution of this procedure in MySQL workbench finishes with successful results.</p>\n<p>So, should anyone know what is the reason for this issue, let me know?</p>\n"},{"tags":["java","android","flutter","kotlin","kotlin-android-extensions"],"owner":{"account_id":27032838,"reputation":41,"user_id":20588936,"display_name":"Yasmitha Peththanayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1669302824,"creation_date":1669279223,"question_id":74557840,"body_markdown":"hi im getting this error while putting a native code to flutter native side . seems like a java error but i tried several methods to clear out the error but couldn&#39;t do it . now i&#39;m getting this error\r\n\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDevDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:androidJdkImage&#39;.\r\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for JdkImageTransform: C:\\Users\\yasmitha_local\\AppData\\Local\\Android\\Sdk\\platforms\\android-33\\core-for-system-modules.jar.\r\n         &gt; jlink executable C:\\Program Files\\Java\\jdk1.8.0_301\\bin\\jlink.exe does not exist.\r\n```\r\n\r\n\r\n```\r\nandroid {\r\n    compileSdkVersion 33\r\n    ndkVersion flutter.ndkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.6.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n        classpath &#39;com.android.tools.build:gradle:7.1.1&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.epic.digiface&quot;&gt;\r\n\r\n    &lt;application\r\n        tools:replace=&quot;android:label&quot;\r\n        android:name=&quot;${applicationName}&quot;\r\n        android:label=&quot;digiface&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            \r\n```\r\n","title":"flutter project - calling kotlin native code to flutter","body":"<p>hi im getting this error while putting a native code to flutter native side . seems like a java error but i tried several methods to clear out the error but couldn't do it . now i'm getting this error</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDevDebugJavaWithJavac'.\n&gt; Could not resolve all files for configuration ':app:androidJdkImage'.\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JdkImageTransform: C:\\Users\\yasmitha_local\\AppData\\Local\\Android\\Sdk\\platforms\\android-33\\core-for-system-modules.jar.\n         &gt; jlink executable C:\\Program Files\\Java\\jdk1.8.0_301\\bin\\jlink.exe does not exist.\n</code></pre>\n<pre><code>android {\n    compileSdkVersion 33\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n</code></pre>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.13'\n        classpath 'com.android.tools.build:gradle:7.1.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\n</code></pre>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.epic.digiface&quot;&gt;\n\n    &lt;application\n        tools:replace=&quot;android:label&quot;\n        android:name=&quot;${applicationName}&quot;\n        android:label=&quot;digiface&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;false&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/LaunchTheme&quot;\n            \n</code></pre>\n"},{"tags":["javascript","java","spring-security","axios","http-headers"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1645615937,"post_id":71213788,"comment_id":125917804,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/242318/discussion-on-question-by-thalys-menezes-header-content-type-defined-in-axios-no).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/242318/discussion-on-question-by-thalys-menezes-header-content-type-defined-in-axios-no\">moved to chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":12261495,"reputation":397,"user_id":8949066,"display_name":"Thalys Menezes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669302747,"creation_date":1645642902,"answer_id":71242690,"question_id":71213788,"body_markdown":"I figured it out how to resolve this by adding some CORS configuration in my WebSecurityConfig file.\r\n\r\nThe problem wasn&#39;t the Content-Type Header at all, but Spring Security that was blocking OPTIONS requests.\r\n\r\nThis is the piece of code I added to solve the issue\r\n\r\n```\r\n@Bean\r\npublic FilterRegistrationBean processCorsFilter() {\t\t\r\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\tfinal CorsConfiguration config = new CorsConfiguration();\r\n\tconfig.setAllowCredentials(true);\r\n\tconfig.setAllowedOrigins(Arrays.asList(&quot;http://localhost:8080&quot;, &quot;http://localhost:8081&quot;,\r\n\t\t\t\t&quot;https://site.preferencialsaude.com.br&quot;, &quot;https://site-hmlg.preferencialsaude.com.br&quot;));\r\n\tconfig.addAllowedHeader(&quot;*&quot;);\r\n\tconfig.addAllowedMethod(&quot;*&quot;);\r\n\tsource.registerCorsConfiguration(&quot;/ws/login&quot;, config);\r\n\tsource.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n\r\n\r\n\tfinal FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\r\n\tbean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n\treturn bean;\r\n}\r\n```\r\n\r\nFound this code in a comment inside this CORS configuration tutorial: https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\r\n\r\nIf you want to accept requests from all origins, just replace the `setAllowedOrigins() with addAllowedOrigin(&quot;*&quot;)`, since the way I configured it, as in the code above, I cannot login from postman, or any other origins except the ones I defined.","title":"Header Content-Type defined in axios not working","body":"<p>I figured it out how to resolve this by adding some CORS configuration in my WebSecurityConfig file.</p>\n<p>The problem wasn't the Content-Type Header at all, but Spring Security that was blocking OPTIONS requests.</p>\n<p>This is the piece of code I added to solve the issue</p>\n<pre><code>@Bean\npublic FilterRegistrationBean processCorsFilter() {     \n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    final CorsConfiguration config = new CorsConfiguration();\n    config.setAllowCredentials(true);\n    config.setAllowedOrigins(Arrays.asList(&quot;http://localhost:8080&quot;, &quot;http://localhost:8081&quot;,\n                &quot;https://site.preferencialsaude.com.br&quot;, &quot;https://site-hmlg.preferencialsaude.com.br&quot;));\n    config.addAllowedHeader(&quot;*&quot;);\n    config.addAllowedMethod(&quot;*&quot;);\n    source.registerCorsConfiguration(&quot;/ws/login&quot;, config);\n    source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n\n\n    final FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n    bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    return bean;\n}\n</code></pre>\n<p>Found this code in a comment inside this CORS configuration tutorial: <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/06/08/cors-support-in-spring-framework</a></p>\n<p>If you want to accept requests from all origins, just replace the <code>setAllowedOrigins() with addAllowedOrigin(&quot;*&quot;)</code>, since the way I configured it, as in the code above, I cannot login from postman, or any other origins except the ones I defined.</p>\n"}],"owner":{"account_id":12261495,"reputation":397,"user_id":8949066,"display_name":"Thalys Menezes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71242690,"answer_count":1,"score":1,"last_activity_date":1669302747,"creation_date":1645482714,"question_id":71213788,"body_markdown":"I&#39;m having a little trouble to integrate my login frontend logics (**Vue3** + **Axios**) to my Java API (with **Spring Security**).\r\n\r\nI&#39;m getting the following error:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n at [Source: (org.apache.catalina.connector.CoyoteInputStream); line: 1, column: 0]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.10.2.jar:2.10.2]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4344) ~[jackson-databind-2.10.2.jar:2.10.2]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4189) ~[jackson-databind-2.10.2.jar:2.10.2]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3242) ~[jackson-databind-2.10.2.jar:2.10.2]\r\n\tat br.com.preferencialsaude.app.JWTLoginFilter.attemptAuthentication(JWTLoginFilter.java:35) ~[classes/:na]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n```\r\n\r\nWhile debugging I&#39;ve found out that no &quot;Content-Type: application/json&quot; header is present in my HttpServletRequest, but the problem is that **I&#39;m actually setting it** in my **axios client**.\r\n\r\nWhen I make the request from postman, it works fine, but when I try to make from my frontend app, I get the previous error.\r\n\r\nI thought it could be the browser, but it ends up in the same freaking error in any browser. I&#39;ve even tried to make the request with JS Fecth API, but the behavior remains the same.\r\n\r\nThe MimeHeaderFields when I make the request from browser:\r\n\r\n```\r\nhost, connection, accept, access-control-request-method, access-control-request-headers,\r\norigin,user-agent, sec-fetch-mode, sec-fetch-site, sec-fetch-dest, referer,\r\naccept-encoding, accept-language\r\n```\r\nAs you can see, there&#39;s no ```Content-Type```, but it is present when I make request from postman.\r\n\r\nHere is my client-side code:\r\n\r\n```\r\nasync handleSubmit () {\r\n    const response = await axios.post(&#39;http://localhost:8080/ws/login&#39;,\r\n      { username: this.login, password: this.senha }, { \r\n        headers: { \r\n          &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n        }\r\n      });\r\n\r\n    console.log(response.data)\r\n    localStorage.setItem(&#39;token&#39;, response.data.token);\r\n}\r\n```\r\n\r\nAnd here is my backend Java filter:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.Collections;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport br.com.preferencialsaude.app.model.AccountCredentials;\r\nimport br.com.preferencialsaude.app.service.TokenAuthenticationService;\r\n\r\npublic class JWTLoginFilter extends AbstractAuthenticationProcessingFilter {\r\n\r\n\tprotected JWTLoginFilter(String url, AuthenticationManager authManager) {\r\n\t\tsuper(new AntPathRequestMatcher(url));\r\n\t\tsetAuthenticationManager(authManager);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows AuthenticationException, IOException, ServletException {\r\n\r\n        //here is where I get the error, due to the lack of Content-Type header\r\n\t\tAccountCredentials credentials = new ObjectMapper().readValue(request.getInputStream(), AccountCredentials.class);\r\n\r\n\t\tUsernamePasswordAuthenticationToken userAuthData =\r\n\t\t\tnew UsernamePasswordAuthenticationToken(credentials.getUsername(), credentials.getPassword(), Collections.emptyList());\r\n\r\n\t\treturn getAuthenticationManager().authenticate(userAuthData);\r\n\t}\r\n```\r\n\r\nAnd this is the result I get in postman:\r\n\r\n```\r\n{&quot;token&quot;:&quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0aGFseXMiLCJleHAiOjE2NDYzMzM2OTB9.5wYyYs6jwhIsxob99Ubx4b64jIIMjVKXf0bZ_ZS_zhkPtrK0KOgKxOgy0HgxlEdV_F5DTwOeDooqVRouEuAqEA&quot;}\r\n```\r\nwith **status** code **200**\r\n\r\nHere is my WebSecurityConfig class:\r\n\r\n```\r\npackage br.com.preferencialsaude.app;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport br.com.preferencialsaude.app.service.MyUserDetailsService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter{\r\n\t\r\n    private MyUserDetailsService userDetailsService;\r\n\t\r\n\tpublic WebSecurityConfig(MyUserDetailsService userDetailsService) {\r\n\t\tthis.userDetailsService = userDetailsService;\r\n\t}\r\n\t\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\r\n        return bCryptPasswordEncoder;\r\n    }\r\n\t\r\n    @Autowired\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n    \r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable().authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\r\n\t\t\t.antMatchers(HttpMethod.POST, &quot;/ws/login&quot;).permitAll()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t\t.and()\r\n\t\t\t.addFilterBefore(new JWTLoginFilter(&quot;/ws/login&quot;, authenticationManager()), UsernamePasswordAuthenticationFilter.class)\r\n\t\t\t.addFilterBefore(new JWTAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n\t\t\t.formLogin()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.failureUrl(&quot;/login?error=true&quot;)\r\n\t\t\t\t.defaultSuccessUrl(&quot;/gerenciador/home&quot;, true)\r\n\t\t\t\t.usernameParameter(&quot;usuario&quot;)\r\n\t\t\t\t.passwordParameter(&quot;senha&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t.logout()\r\n\t\t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/gerenciador/logout&quot;))\r\n\t\t\t\t.logoutSuccessUrl(&quot;/gerenciador/login&quot;).and().exceptionHandling()\r\n\t\t\t\t.accessDeniedPage(&quot;/error&quot;);\r\n\t}\r\n\t\r\n\t@Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(\r\n\t\t   &quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/imagens/**&quot;,\r\n\t\t   \t&quot;/webfonts/**&quot;, &quot;/jasper/**&quot;, &quot;/contratos/**&quot;,\r\n\t\t   \t&quot;/v2/api-docs&quot;, &quot;/swagger-resources/**&quot;, &quot;/configuration/ui&quot;, &quot;/swagger-ui.html&quot;, &quot;/webjars/**&quot;,\r\n\t\t   \t&quot;/procedimento/**&quot;, &quot;/procedimento/**/**&quot;, &quot;/credenciamento/empresa/**&quot;, &quot;/credenciamento/pessoa/**&quot;,\r\n\t\t   \t&quot;/credenciamento/farmacia/**&quot;, &quot;/buscaCep&quot;, &quot;/plano/**&quot;, &quot;/contrato/empresa/**&quot;,\r\n\t\t   \t&quot;/contrato/pessoa-fisica/**&quot;, &quot;/rede-credenciada/**&quot;, &quot;/ws/rede-credenciada/**&quot;, &quot;/ws/endereco/**&quot;,\r\n\t\t   \t&quot;/ws/procedimentos/**&quot;, &quot;/ws/recuperar-senha/**&quot;, &quot;/api/cupons-venda/**&quot;, &quot;/atendimento/**&quot;,\r\n\t\t   \t&quot;/termos&quot;, &quot;/convenio/**&quot;, &quot;/ws/agendamento/**&quot;, &quot;/ws/consulta/**&quot;, &quot;/ws/notificacoes/**&quot;, &quot;/ws/avaliacao/**&quot;,\r\n\t\t   \t&quot;/ws/imagens/**&quot;, &quot;/actuator/**&quot;, &quot;/api/enderecos/**&quot;, &quot;/api/cadastros-clientes/**&quot;, &quot;/api/cidades/**&quot;,\r\n\t\t   \t&quot;/api/planos/**&quot;, &quot;/api/especialidades-saude/consultas/**&quot;, &quot;/api/rede-atendimento/**&quot;\r\n        );\r\n    }\r\n}\r\n```\r\nAnd here is my JWTLoginFilter:\r\n\r\n```\r\npackage br.com.preferencialsaude.app;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Collections;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport br.com.preferencialsaude.app.model.AccountCredentials;\r\nimport br.com.preferencialsaude.app.service.TokenAuthenticationService;\r\n\r\npublic class JWTLoginFilter extends AbstractAuthenticationProcessingFilter {\r\n\r\n\tprotected JWTLoginFilter(String url, AuthenticationManager authManager) {\r\n\t\tsuper(new AntPathRequestMatcher(url));\r\n\t\tsetAuthenticationManager(authManager);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows AuthenticationException, IOException, ServletException {\r\n\r\n\t\tAccountCredentials credentials = new ObjectMapper().readValue(request.getInputStream(), AccountCredentials.class);\r\n\r\n\t\tUsernamePasswordAuthenticationToken userAuthData =\r\n\t\t\tnew UsernamePasswordAuthenticationToken(credentials.getUsername(), credentials.getPassword(), Collections.emptyList());\r\n\r\n\t\treturn getAuthenticationManager().authenticate(userAuthData);\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\t\t\t\t\t\t\t\t\tFilterChain filterChain, Authentication auth) throws IOException, ServletException {\r\n\t\tTokenAuthenticationService.addAuthentication(response, auth.getName());\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\t\t\t\t\t\t\t\t\t  AuthenticationException failed) throws IOException, ServletException {\r\n\t\tSecurityContextHolder.clearContext();\r\n\t\tTokenAuthenticationService.failAuthentication(response);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nHave you ever faced a similar problem? I appreciate any help!","title":"Header Content-Type defined in axios not working","body":"<p>I'm having a little trouble to integrate my login frontend logics (<strong>Vue3</strong> + <strong>Axios</strong>) to my Java API (with <strong>Spring Security</strong>).</p>\n<p>I'm getting the following error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: (org.apache.catalina.connector.CoyoteInputStream); line: 1, column: 0]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.10.2.jar:2.10.2]\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4344) ~[jackson-databind-2.10.2.jar:2.10.2]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4189) ~[jackson-databind-2.10.2.jar:2.10.2]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3242) ~[jackson-databind-2.10.2.jar:2.10.2]\n    at br.com.preferencialsaude.app.JWTLoginFilter.attemptAuthentication(JWTLoginFilter.java:35) ~[classes/:na]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n</code></pre>\n<p>While debugging I've found out that no &quot;Content-Type: application/json&quot; header is present in my HttpServletRequest, but the problem is that <strong>I'm actually setting it</strong> in my <strong>axios client</strong>.</p>\n<p>When I make the request from postman, it works fine, but when I try to make from my frontend app, I get the previous error.</p>\n<p>I thought it could be the browser, but it ends up in the same freaking error in any browser. I've even tried to make the request with JS Fecth API, but the behavior remains the same.</p>\n<p>The MimeHeaderFields when I make the request from browser:</p>\n<pre><code>host, connection, accept, access-control-request-method, access-control-request-headers,\norigin,user-agent, sec-fetch-mode, sec-fetch-site, sec-fetch-dest, referer,\naccept-encoding, accept-language\n</code></pre>\n<p>As you can see, there's no <code>Content-Type</code>, but it is present when I make request from postman.</p>\n<p>Here is my client-side code:</p>\n<pre><code>async handleSubmit () {\n    const response = await axios.post('http://localhost:8080/ws/login',\n      { username: this.login, password: this.senha }, { \n        headers: { \n          'Content-Type': 'application/json',\n        }\n      });\n\n    console.log(response.data)\n    localStorage.setItem('token', response.data.token);\n}\n</code></pre>\n<p>And here is my backend Java filter:</p>\n<pre><code>import java.io.IOException;\nimport java.util.Collections;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport br.com.preferencialsaude.app.model.AccountCredentials;\nimport br.com.preferencialsaude.app.service.TokenAuthenticationService;\n\npublic class JWTLoginFilter extends AbstractAuthenticationProcessingFilter {\n\n    protected JWTLoginFilter(String url, AuthenticationManager authManager) {\n        super(new AntPathRequestMatcher(url));\n        setAuthenticationManager(authManager);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException, IOException, ServletException {\n\n        //here is where I get the error, due to the lack of Content-Type header\n        AccountCredentials credentials = new ObjectMapper().readValue(request.getInputStream(), AccountCredentials.class);\n\n        UsernamePasswordAuthenticationToken userAuthData =\n            new UsernamePasswordAuthenticationToken(credentials.getUsername(), credentials.getPassword(), Collections.emptyList());\n\n        return getAuthenticationManager().authenticate(userAuthData);\n    }\n</code></pre>\n<p>And this is the result I get in postman:</p>\n<pre><code>{&quot;token&quot;:&quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0aGFseXMiLCJleHAiOjE2NDYzMzM2OTB9.5wYyYs6jwhIsxob99Ubx4b64jIIMjVKXf0bZ_ZS_zhkPtrK0KOgKxOgy0HgxlEdV_F5DTwOeDooqVRouEuAqEA&quot;}\n</code></pre>\n<p>with <strong>status</strong> code <strong>200</strong></p>\n<p>Here is my WebSecurityConfig class:</p>\n<pre><code>package br.com.preferencialsaude.app;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport br.com.preferencialsaude.app.service.MyUserDetailsService;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter{\n    \n    private MyUserDetailsService userDetailsService;\n    \n    public WebSecurityConfig(MyUserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n    \n    public BCryptPasswordEncoder passwordEncoder() {\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\n        return bCryptPasswordEncoder;\n    }\n    \n    @Autowired\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\n            .antMatchers(HttpMethod.POST, &quot;/ws/login&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .addFilterBefore(new JWTLoginFilter(&quot;/ws/login&quot;, authenticationManager()), UsernamePasswordAuthenticationFilter.class)\n            .addFilterBefore(new JWTAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n            .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .failureUrl(&quot;/login?error=true&quot;)\n                .defaultSuccessUrl(&quot;/gerenciador/home&quot;, true)\n                .usernameParameter(&quot;usuario&quot;)\n                .passwordParameter(&quot;senha&quot;)\n                .and()\n            .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/gerenciador/logout&quot;))\n                .logoutSuccessUrl(&quot;/gerenciador/login&quot;).and().exceptionHandling()\n                .accessDeniedPage(&quot;/error&quot;);\n    }\n    \n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(\n           &quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/imagens/**&quot;,\n            &quot;/webfonts/**&quot;, &quot;/jasper/**&quot;, &quot;/contratos/**&quot;,\n            &quot;/v2/api-docs&quot;, &quot;/swagger-resources/**&quot;, &quot;/configuration/ui&quot;, &quot;/swagger-ui.html&quot;, &quot;/webjars/**&quot;,\n            &quot;/procedimento/**&quot;, &quot;/procedimento/**/**&quot;, &quot;/credenciamento/empresa/**&quot;, &quot;/credenciamento/pessoa/**&quot;,\n            &quot;/credenciamento/farmacia/**&quot;, &quot;/buscaCep&quot;, &quot;/plano/**&quot;, &quot;/contrato/empresa/**&quot;,\n            &quot;/contrato/pessoa-fisica/**&quot;, &quot;/rede-credenciada/**&quot;, &quot;/ws/rede-credenciada/**&quot;, &quot;/ws/endereco/**&quot;,\n            &quot;/ws/procedimentos/**&quot;, &quot;/ws/recuperar-senha/**&quot;, &quot;/api/cupons-venda/**&quot;, &quot;/atendimento/**&quot;,\n            &quot;/termos&quot;, &quot;/convenio/**&quot;, &quot;/ws/agendamento/**&quot;, &quot;/ws/consulta/**&quot;, &quot;/ws/notificacoes/**&quot;, &quot;/ws/avaliacao/**&quot;,\n            &quot;/ws/imagens/**&quot;, &quot;/actuator/**&quot;, &quot;/api/enderecos/**&quot;, &quot;/api/cadastros-clientes/**&quot;, &quot;/api/cidades/**&quot;,\n            &quot;/api/planos/**&quot;, &quot;/api/especialidades-saude/consultas/**&quot;, &quot;/api/rede-atendimento/**&quot;\n        );\n    }\n}\n</code></pre>\n<p>And here is my JWTLoginFilter:</p>\n<pre><code>package br.com.preferencialsaude.app;\n\nimport java.io.IOException;\nimport java.util.Collections;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport br.com.preferencialsaude.app.model.AccountCredentials;\nimport br.com.preferencialsaude.app.service.TokenAuthenticationService;\n\npublic class JWTLoginFilter extends AbstractAuthenticationProcessingFilter {\n\n    protected JWTLoginFilter(String url, AuthenticationManager authManager) {\n        super(new AntPathRequestMatcher(url));\n        setAuthenticationManager(authManager);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException, IOException, ServletException {\n\n        AccountCredentials credentials = new ObjectMapper().readValue(request.getInputStream(), AccountCredentials.class);\n\n        UsernamePasswordAuthenticationToken userAuthData =\n            new UsernamePasswordAuthenticationToken(credentials.getUsername(), credentials.getPassword(), Collections.emptyList());\n\n        return getAuthenticationManager().authenticate(userAuthData);\n    }\n    \n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\n                                            FilterChain filterChain, Authentication auth) throws IOException, ServletException {\n        TokenAuthenticationService.addAuthentication(response, auth.getName());\n    }\n    \n    @Override\n    protected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response,\n                                              AuthenticationException failed) throws IOException, ServletException {\n        SecurityContextHolder.clearContext();\n        TokenAuthenticationService.failAuthentication(response);\n    }\n}\n\n</code></pre>\n<p>Have you ever faced a similar problem? I appreciate any help!</p>\n"},{"tags":["java","arrays","multidimensional-array","palindrome"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669302048,"post_id":74561458,"comment_id":131617745,"body_markdown":"There&#39;s a lot going wrong here. For low-hanging fruit, don&#39;t post pictures of code our output, copy and paste the text. I&#39;ll put some more information into an answer.","body":"There&#39;s a lot going wrong here. For low-hanging fruit, don&#39;t post pictures of code our output, copy and paste the text. I&#39;ll put some more information into an answer."}],"answers":[{"comments":[{"owner":{"account_id":27009111,"reputation":9,"user_id":20569062,"display_name":"bansannn"},"score":1,"creation_date":1669303513,"post_id":74562811,"comment_id":131618271,"body_markdown":"Sorry if it was not clear. What I am trying to do here Is to check if my 2d array is a palindrome row-wise and column-wise and will print each like \nrow:\nA B A B A is a palindrome\nB B A B A is not a palindrome\nA B A B B is not a palindrome\n\nB A B B A is not a palindrome\ncolumn\nA B A B is not a palindrome\n\nB B B A is not a palindrome\n\nA A A B is not a palindrome\nB B B B is a palindrome\nA A B A is not a palindrome\n\nI have seen all the mistakes you&#39;ve pointed out and will break it down first with the ones you suggested. Thank you!","body":"Sorry if it was not clear. What I am trying to do here Is to check if my 2d array is a palindrome row-wise and column-wise and will print each like  row: A B A B A is a palindrome B B A B A is not a palindrome A B A B B is not a palindrome  B A B B A is not a palindrome column A B A B is not a palindrome  B B B A is not a palindrome  A A A B is not a palindrome B B B B is a palindrome A A B A is not a palindrome  I have seen all the mistakes you&#39;ve pointed out and will break it down first with the ones you suggested. Thank you!"}],"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669302581,"creation_date":1669302581,"answer_id":74562811,"question_id":74561458,"body_markdown":"```\r\npublic class Hard {\r\n    public static boolean isLetterPal (String[][] array){\r\n```\r\nThe above line indicated that this function is taking a two-dimensional array of Strings and giving a single yes-or-no answer. Is this intended to check if *every* row and column is a palindrome, and return false if any are not? Or were you planning to check each on a case-by-case basis, in which case this signature is wrong?\r\n\r\nIn other words, should:\r\n```\r\n  AA\r\n  AB\r\n```\r\nreturn a single `false` because `AB` is not a palindrome, or should it return two `true` and two `false` because some rows and columns are and some are not?\r\n\r\nYou should be very clear about your answer to these before you continue.\r\n```\r\n        int i = 0;\r\n        int j = array.length - 1;\r\n        while (i &lt; j) {\r\n            if (array.length != array.length) {\r\n```\r\nThe above check is nonsense - you&#39;re asking if something is not equal to itself. This will never return true, so the below `return false;` will never run.\r\n```\r\n                return false;\r\n            }\r\n            i++;\r\n            j--;\r\n```\r\nThe rest of this loop isn&#39;t doing anything either, except advancing towards the end of the loop. So, your entire loop is doing nothing. It&#39;s actually unclear what you were trying to do.\r\n```\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        String[][] array = { { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\r\n                             { &quot;B&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\r\n                             { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot; },\r\n                             { &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;A&quot; } };\r\n        System.out.println(&quot;The array is: &quot;);\r\n        for (int indRow = 0; indRow &lt; array.length; indRow++) {\r\n            for (int indCol = 0; indCol &lt; array[indRow].length; indCol++) {\r\n                System.out.print(array[indRow][indCol] + &quot; &quot;);\r\n                if (indCol == array[indRow].length - 1) {\r\n                    System.out.println();\r\n                }\r\n            }\r\n            System.out.println(&quot;\\t&quot;);\r\n        }\r\n```\r\nCheck out `Arrays.toString(array)` to make your life easier.\r\n```\r\n            for(int k = 0; k &lt; array.length; k++){\r\n                int i=0;\r\n                if(isLetterPal(array)){\r\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is a palindrome.&quot;);\r\n```\r\nHere you&#39;re printing out an exact square coordinate - as everything you have is length 1, this doesn&#39;t make sense. You would need to be displaying the entire row (that&#39;s `array[k]`) or the entire column (which is more complicated).\r\n```\r\n                }else{\r\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is not a palindrome.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nYou should break this up into smaller, more manageable sub-problems. Try making and testing the following individually:\r\n\r\n - A method to test if a string is a palindrome\r\n - A method to get a string from a given row of a 2d array\r\n - A method to get a string from a given column of a 2d array\r\n\r\nOnce you have those, look at how to stitch them together to answer the problem as a whole. Each of those should be much more approachable, and once you have working (tested!) solutions to each, you can treat them as bricks to build the whole.","title":"2D Array palindrome checker","body":"<pre><code>public class Hard {\n    public static boolean isLetterPal (String[][] array){\n</code></pre>\n<p>The above line indicated that this function is taking a two-dimensional array of Strings and giving a single yes-or-no answer. Is this intended to check if <em>every</em> row and column is a palindrome, and return false if any are not? Or were you planning to check each on a case-by-case basis, in which case this signature is wrong?</p>\n<p>In other words, should:</p>\n<pre><code>  AA\n  AB\n</code></pre>\n<p>return a single <code>false</code> because <code>AB</code> is not a palindrome, or should it return two <code>true</code> and two <code>false</code> because some rows and columns are and some are not?</p>\n<p>You should be very clear about your answer to these before you continue.</p>\n<pre><code>        int i = 0;\n        int j = array.length - 1;\n        while (i &lt; j) {\n            if (array.length != array.length) {\n</code></pre>\n<p>The above check is nonsense - you're asking if something is not equal to itself. This will never return true, so the below <code>return false;</code> will never run.</p>\n<pre><code>                return false;\n            }\n            i++;\n            j--;\n</code></pre>\n<p>The rest of this loop isn't doing anything either, except advancing towards the end of the loop. So, your entire loop is doing nothing. It's actually unclear what you were trying to do.</p>\n<pre><code>        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        \n        String[][] array = { { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\n                             { &quot;B&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\n                             { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot; },\n                             { &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;A&quot; } };\n        System.out.println(&quot;The array is: &quot;);\n        for (int indRow = 0; indRow &lt; array.length; indRow++) {\n            for (int indCol = 0; indCol &lt; array[indRow].length; indCol++) {\n                System.out.print(array[indRow][indCol] + &quot; &quot;);\n                if (indCol == array[indRow].length - 1) {\n                    System.out.println();\n                }\n            }\n            System.out.println(&quot;\\t&quot;);\n        }\n</code></pre>\n<p>Check out <code>Arrays.toString(array)</code> to make your life easier.</p>\n<pre><code>            for(int k = 0; k &lt; array.length; k++){\n                int i=0;\n                if(isLetterPal(array)){\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is a palindrome.&quot;);\n</code></pre>\n<p>Here you're printing out an exact square coordinate - as everything you have is length 1, this doesn't make sense. You would need to be displaying the entire row (that's <code>array[k]</code>) or the entire column (which is more complicated).</p>\n<pre><code>                }else{\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is not a palindrome.&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>You should break this up into smaller, more manageable sub-problems. Try making and testing the following individually:</p>\n<ul>\n<li>A method to test if a string is a palindrome</li>\n<li>A method to get a string from a given row of a 2d array</li>\n<li>A method to get a string from a given column of a 2d array</li>\n</ul>\n<p>Once you have those, look at how to stitch them together to answer the problem as a whole. Each of those should be much more approachable, and once you have working (tested!) solutions to each, you can treat them as bricks to build the whole.</p>\n"}],"owner":{"account_id":27009111,"reputation":9,"user_id":20569062,"display_name":"bansannn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669344440,"accepted_answer_id":74562811,"answer_count":1,"score":-2,"last_activity_date":1669302581,"creation_date":1669296025,"question_id":74561458,"body_markdown":"We are tasked to find if a the 2D array is a palindrome row wise and column wise with a String or Character variable. How should I approach my code? we are just at the lesson of 2D arrays and loops at the moment and I am getting confused for some concept that I found on different forums because a lot of them are talking ab0out &quot;MATRIX&quot;. Can someone explain to me how to check if the 2D array I inputted is a palindrome or not, row-wise and column-wise.\r\n`\r\n```\r\npublic class Hard {\r\n    public static boolean isLetterPal (String[][] array){\r\n        int i = 0;\r\n        int j = array.length - 1;\r\n        while (i &lt; j) {\r\n            if (array.length != array.length) {\r\n                return false;\r\n            }\r\n            i++;\r\n            j--;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        String[][] array = { { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\r\n                             { &quot;B&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\r\n                             { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot; },\r\n                             { &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;A&quot; } };\r\n        System.out.println(&quot;The array is: &quot;);\r\n        for (int indRow = 0; indRow &lt; array.length; indRow++) {\r\n            for (int indCol = 0; indCol &lt; array[indRow].length; indCol++) {\r\n                System.out.print(array[indRow][indCol] + &quot; &quot;);\r\n                if (indCol == array[indRow].length - 1) {\r\n                    System.out.println();\r\n                }\r\n            }\r\n            System.out.println(&quot;\\t&quot;);\r\n        }\r\n            for(int k = 0; k &lt; array.length; k++){\r\n                int i=0;\r\n                if(isLetterPal(array)){\r\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is a palindrome.&quot;);\r\n                }else{\r\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is not a palindrome.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n`\r\n\r\nThe code is what I currently have right now and the output I an getting is this [![enter image description here](https://i.stack.imgur.com/EtTsl.png)](https://i.stack.imgur.com/EtTsl.png)\r\n\r\n\r\n\r\nIf there will be someone who can enlighten me, I would very much appreciate it!\r\n\r\n\r\nI tried looking over the internet and other forumas as well as youtube for same concepts. I also tried frist looking to find the palindrome per column but what I am getting is what the picture above.","title":"2D Array palindrome checker","body":"<p>We are tasked to find if a the 2D array is a palindrome row wise and column wise with a String or Character variable. How should I approach my code? we are just at the lesson of 2D arrays and loops at the moment and I am getting confused for some concept that I found on different forums because a lot of them are talking ab0out &quot;MATRIX&quot;. Can someone explain to me how to check if the 2D array I inputted is a palindrome or not, row-wise and column-wise.\n`</p>\n<pre><code>public class Hard {\n    public static boolean isLetterPal (String[][] array){\n        int i = 0;\n        int j = array.length - 1;\n        while (i &lt; j) {\n            if (array.length != array.length) {\n                return false;\n            }\n            i++;\n            j--;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        \n        String[][] array = { { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\n                             { &quot;B&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot; },\n                             { &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot; },\n                             { &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;A&quot; } };\n        System.out.println(&quot;The array is: &quot;);\n        for (int indRow = 0; indRow &lt; array.length; indRow++) {\n            for (int indCol = 0; indCol &lt; array[indRow].length; indCol++) {\n                System.out.print(array[indRow][indCol] + &quot; &quot;);\n                if (indCol == array[indRow].length - 1) {\n                    System.out.println();\n                }\n            }\n            System.out.println(&quot;\\t&quot;);\n        }\n            for(int k = 0; k &lt; array.length; k++){\n                int i=0;\n                if(isLetterPal(array)){\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is a palindrome.&quot;);\n                }else{\n                    System.out.println(&quot;The word &quot; + array[k][i] + &quot; is not a palindrome.&quot;);\n                }\n            }\n        }\n    }\n\n</code></pre>\n<p>`</p>\n<p>The code is what I currently have right now and the output I an getting is this <a href=\"https://i.stack.imgur.com/EtTsl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EtTsl.png\" alt=\"enter image description here\" /></a></p>\n<p>If there will be someone who can enlighten me, I would very much appreciate it!</p>\n<p>I tried looking over the internet and other forumas as well as youtube for same concepts. I also tried frist looking to find the palindrome per column but what I am getting is what the picture above.</p>\n"},{"tags":["java","string","formatting"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1456862037,"post_id":35732140,"comment_id":59139005,"body_markdown":"I would be modestly surprised if there were a better answer than your first one.","body":"I would be modestly surprised if there were a better answer than your first one."},{"owner":{"account_id":3644438,"reputation":904,"user_id":3037819,"accept_rate":79,"display_name":"svjn"},"score":0,"creation_date":1456862447,"post_id":35732140,"comment_id":59139260,"body_markdown":"@Louis, I understand, but we generally use formatters to avoid String concatenations &amp; more likely this looks like using the concatenation again. So I put it here to see if there is a better way.","body":"@Louis, I understand, but we generally use formatters to avoid String concatenations &amp; more likely this looks like using the concatenation again. So I put it here to see if there is a better way."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1456862641,"post_id":35732140,"comment_id":59139371,"body_markdown":"I get that.  I&#39;m answering your question by saying &quot;I&#39;m pretty sure there isn&#39;t.&quot;","body":"I get that.  I&#39;m answering your question by saying &quot;I&#39;m pretty sure there isn&#39;t.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1479208549,"creation_date":1479208549,"answer_id":40608465,"question_id":35732140,"body_markdown":"Unfortunatly, the formatter used in `String.format` read the String from left to right, so it doesn&#39;t notice the new flag generated. This would have been possible if it will read from right to left but the problem would have been with the varags since you can pass to many parameters to the methods.\r\n\r\nSo the only way to format something like\r\n\r\n    String.format(&quot;|%ds&quot;, 5, &quot;foo&quot;)\r\n\r\nto output \r\n\r\n&gt; |  foo\r\n\r\nWould be to format twice, this would not be the most effecient but the most readable (and that not even really true ......)\r\n\r\nSo my solution looks like this \r\n\r\n     String.format(String.format(&quot;|%%%ds&quot;, 5), &quot;foo&quot;) //Here, I add a double %\r\n\r\nthe first formatter will return `%5s` that will be format again with the String.\r\n\r\n\r\n","title":"Java format String with dynamic width and precision","body":"<p>Unfortunatly, the formatter used in <code>String.format</code> read the String from left to right, so it doesn't notice the new flag generated. This would have been possible if it will read from right to left but the problem would have been with the varags since you can pass to many parameters to the methods.</p>\n\n<p>So the only way to format something like</p>\n\n<pre><code>String.format(\"|%ds\", 5, \"foo\")\n</code></pre>\n\n<p>to output </p>\n\n<blockquote>\n  <p>|  foo</p>\n</blockquote>\n\n<p>Would be to format twice, this would not be the most effecient but the most readable (and that not even really true ......)</p>\n\n<p>So my solution looks like this </p>\n\n<pre><code> String.format(String.format(\"|%%%ds\", 5), \"foo\") //Here, I add a double %\n</code></pre>\n\n<p>the first formatter will return <code>%5s</code> that will be format again with the String.</p>\n"}],"owner":{"account_id":3644438,"reputation":904,"user_id":3037819,"accept_rate":79,"display_name":"svjn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40608465,"answer_count":1,"score":4,"last_activity_date":1669302046,"creation_date":1456861837,"question_id":35732140,"body_markdown":"How can we set dynamic width and precision while formatting string? I know the following code works good, but how can we do it in a formatter way?\r\n\r\n    int len = 3;\r\n    String s = &quot;Andy&quot;;\r\n    System.out.printf(&quot;%1$&quot; + len + &quot;.&quot; + len + &quot;s%n&quot;, s);\r\n    \r\n    Output:\r\n    And\r\n\r\nI have tried this one. It didn&#39;t throw an error, but prints different value than expected. (It looks so messy, but I&#39;ve tried to pass the &#39;len&#39; to width and precision. That&#39;s it. :) )\r\n\r\n    System.out.printf(&quot;%2$%1$d.%1$ds%n&quot;, len, s);\r\n    \r\n    Output:\r\n    %1$d.3s\r\n\r\nIs it doable? If so, how can we get same output as the former one?\r\n","title":"Java format String with dynamic width and precision","body":"<p>How can we set dynamic width and precision while formatting string? I know the following code works good, but how can we do it in a formatter way?</p>\n\n<pre><code>int len = 3;\nString s = \"Andy\";\nSystem.out.printf(\"%1$\" + len + \".\" + len + \"s%n\", s);\n\nOutput:\nAnd\n</code></pre>\n\n<p>I have tried this one. It didn't throw an error, but prints different value than expected. (It looks so messy, but I've tried to pass the 'len' to width and precision. That's it. :) )</p>\n\n<pre><code>System.out.printf(\"%2$%1$d.%1$ds%n\", len, s);\n\nOutput:\n%1$d.3s\n</code></pre>\n\n<p>Is it doable? If so, how can we get same output as the former one?</p>\n"},{"tags":["java","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669302033,"creation_date":1669300665,"answer_id":74562424,"question_id":74559962,"body_markdown":"You could create another column with different values and remove the previous one.\r\n\r\n```java\r\n// create a new column\r\nyourdataset = yourdataset.withColumn(&quot;UPLOADED_ON_NEW&quot;, lit(&quot;Any-value&quot;));\r\n// drop a column \r\nyourdataset = yourdataset.column(&quot;UPLOADED_ON&quot;);\r\n```\r\n\r\nIn your case I suggest you to create a UDF function that receive a date and return it in the specific format as you need\r\n\r\nExample to create a function into `sparkSession` to be used in all dataset transformation\r\n```java\r\ncontext.sparkSession().udf().register(\r\n   &quot;formatDateYYYYMMDDtoDDMMYY&quot;, // name of function\r\n   (String dateIn) -&gt; { ... }, // all convert rules\r\n   DataTypes.StringType // return type\r\n);\r\n```\r\n\r\nUsing created function\r\n```java\r\nyourdataset = \r\nyourdataset.withColumn(\r\n  &quot;UPLOADED_ON_NEW&quot;, \r\n  callUDF(\r\n     &quot;formatDateYYYYMMDDtoDDMMYY&quot;, // same name of create function\r\n     col(&quot;UPLOADED_ON&quot;)\r\n  )\r\n);\r\n\r\n```\r\nIt&#39;s possible to use UDF functions in sqlContext as well\r\n\r\n```java\r\nyourdataset.createOrReplaceTempView(&quot;MY_DATASET&quot;);\r\n\r\nyourdataset = \r\nsparkSession.sqlContext().sql(&quot;select * , formatDateYYYYMMDDtoDDMMYY(UPLOADED_ON) as UPLOADED_ON_NEW  from MY_DATASET&quot;);\r\n```\r\n\r\n\r\n\r\n","title":"How to update the value of a column in Spark dataset using java?","body":"<p>You could create another column with different values and remove the previous one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// create a new column\nyourdataset = yourdataset.withColumn(&quot;UPLOADED_ON_NEW&quot;, lit(&quot;Any-value&quot;));\n// drop a column \nyourdataset = yourdataset.column(&quot;UPLOADED_ON&quot;);\n</code></pre>\n<p>In your case I suggest you to create a UDF function that receive a date and return it in the specific format as you need</p>\n<p>Example to create a function into <code>sparkSession</code> to be used in all dataset transformation</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.sparkSession().udf().register(\n   &quot;formatDateYYYYMMDDtoDDMMYY&quot;, // name of function\n   (String dateIn) -&gt; { ... }, // all convert rules\n   DataTypes.StringType // return type\n);\n</code></pre>\n<p>Using created function</p>\n<pre class=\"lang-java prettyprint-override\"><code>yourdataset = \nyourdataset.withColumn(\n  &quot;UPLOADED_ON_NEW&quot;, \n  callUDF(\n     &quot;formatDateYYYYMMDDtoDDMMYY&quot;, // same name of create function\n     col(&quot;UPLOADED_ON&quot;)\n  )\n);\n\n</code></pre>\n<p>It's possible to use UDF functions in sqlContext as well</p>\n<pre class=\"lang-java prettyprint-override\"><code>yourdataset.createOrReplaceTempView(&quot;MY_DATASET&quot;);\n\nyourdataset = \nsparkSession.sqlContext().sql(&quot;select * , formatDateYYYYMMDDtoDDMMYY(UPLOADED_ON) as UPLOADED_ON_NEW  from MY_DATASET&quot;);\n</code></pre>\n"}],"owner":{"account_id":19661739,"reputation":89,"user_id":14393024,"display_name":"nee nee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669302033,"creation_date":1669288956,"question_id":74559962,"body_markdown":"I have loaded a dataset by using :\r\n```\r\nDataset&lt;Row&gt; rows = sparkSession.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(tablenameAndLocationMap.get(tablename));\r\n```\r\nThe data is getting loaded correctly but I am looking to update the column value at runtime.\r\nI tried using looping as mentioned but it didn&#39;t work . \r\n```\r\nColumn data = rows.col(&quot;UPLOADED_ON&quot;);\r\nDataset&lt;Row&gt; d = rows.select(data);\r\n\t\t\t\r\nd.foreach(obj-&gt;{\r\n\tString date = obj.getAs(0);\r\n\tDateFormat inputFo\tformatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\tDate da = (Date)inputFormatter.parse(date);\r\n\t\r\n\tDateFormat outputFormatter = new SimpleDateFormat(&quot;dd-MM-yy&quot;);\r\n\tdate = outputFormatter.format(da);\r\n});\r\n``` \r\nHere I want to replace/update the existing value of column ```UPLOADED_ON``` with the new value ```date```.\r\n\r\nHow it can be done , if anyone can help out .\r\n\r\nThanks","title":"How to update the value of a column in Spark dataset using java?","body":"<p>I have loaded a dataset by using :</p>\n<pre><code>Dataset&lt;Row&gt; rows = sparkSession.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(tablenameAndLocationMap.get(tablename));\n</code></pre>\n<p>The data is getting loaded correctly but I am looking to update the column value at runtime.\nI tried using looping as mentioned but it didn't work .</p>\n<pre><code>Column data = rows.col(&quot;UPLOADED_ON&quot;);\nDataset&lt;Row&gt; d = rows.select(data);\n            \nd.foreach(obj-&gt;{\n    String date = obj.getAs(0);\n    DateFormat inputFo  formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    Date da = (Date)inputFormatter.parse(date);\n    \n    DateFormat outputFormatter = new SimpleDateFormat(&quot;dd-MM-yy&quot;);\n    date = outputFormatter.format(da);\n});\n</code></pre>\n<p>Here I want to replace/update the existing value of column <code>UPLOADED_ON</code> with the new value <code>date</code>.</p>\n<p>How it can be done , if anyone can help out .</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","log4j"],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280279612,"creation_date":1280279612,"answer_id":3349209,"question_id":3349196,"body_markdown":"You can try to redirect it&#39;s output to something like this [Create Java console inside panel][1]\r\n\r\n\r\n![alt text][2]\r\n\r\nThat is, you can sort of subclass Console logger ( or whatever it&#39;s name is ) and redirect the output to that component. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/342990/create-java-console-inside-the-panel\r\n  [2]: http://img122.imageshack.us/img122/5692/dibujoof2.png","title":"JTextArea as listener for log4j Logger","body":"<p>You can try to redirect it's output to something like this <a href=\"https://stackoverflow.com/questions/342990/create-java-console-inside-the-panel\">Create Java console inside panel</a></p>\n\n<p><a href=\"http://img122.imageshack.us/img122/5692/dibujoof2.png\" rel=\"nofollow noreferrer\">alt text http://img122.imageshack.us/img122/5692/dibujoof2.png</a></p>\n\n<p>That is, you can sort of subclass Console logger ( or whatever it's name is ) and redirect the output to that component. </p>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1280282689,"post_id":3349311,"comment_id":3476869,"body_markdown":"+1 I agree :)  Probably you could do a log reader instead that works isolated from the logging it self. Mmm probably http://logging.apache.org/chainsaw/index.html is in order, but I never used it","body":"+1 I agree :)  Probably you could do a log reader instead that works isolated from the logging it self. Mmm probably <a href=\"http://logging.apache.org/chainsaw/index.html\" rel=\"nofollow noreferrer\">logging.apache.org/chainsaw/index.html</a> is in order, but I never used it"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1280281427,"creation_date":1280281427,"answer_id":3349311,"question_id":3349196,"body_markdown":"I think @OscarRyz&#39;s approach is a reasonable idea.\r\n\r\nHowever, I think you should think hard whether you should try to do this.  The problem is that painting log messages into a Java GUI is likely to be CPU intensive.  This is likely to make your application logging slow, and is likely to perturb the timing of your application as a result.  \r\n\r\n(Not that your application should be timing sensitive.  But if you do have timing related bugs, it is not helpful if changing logging levels etc causes the application to behave differently.)\r\n\r\nMy feeling is that embedding a fancy log viewer in your application is likely to be more trouble than it is worth ... ","title":"JTextArea as listener for log4j Logger","body":"<p>I think @OscarRyz's approach is a reasonable idea.</p>\n\n<p>However, I think you should think hard whether you should try to do this.  The problem is that painting log messages into a Java GUI is likely to be CPU intensive.  This is likely to make your application logging slow, and is likely to perturb the timing of your application as a result.  </p>\n\n<p>(Not that your application should be timing sensitive.  But if you do have timing related bugs, it is not helpful if changing logging levels etc causes the application to behave differently.)</p>\n\n<p>My feeling is that embedding a fancy log viewer in your application is likely to be more trouble than it is worth ... </p>\n"},{"tags":[],"owner":{"account_id":5108847,"reputation":460,"user_id":4308462,"accept_rate":50,"display_name":"JPT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669301950,"creation_date":1669301504,"answer_id":74562601,"question_id":3349196,"body_markdown":"My solution for Log4J2 is this\r\n\r\n\timport java.io.Serializable;\r\n\r\n\timport javax.swing.JTextArea;\r\n\r\n\timport org.apache.logging.log4j.core.Filter;\r\n\timport org.apache.logging.log4j.core.Layout;\r\n\timport org.apache.logging.log4j.core.LogEvent;\r\n\timport org.apache.logging.log4j.core.config.Property;\r\n\timport org.apache.logging.log4j.core.layout.PatternLayout;\r\n\r\n\tpublic class TextAreaAppender extends AbstractAppender {\r\n\r\n\t\tprivate JTextArea textarea = null;\r\n\t\tprivate int maxLines;\r\n\r\n\t\tpublic TextAreaAppender(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout, int maxLines, boolean ignoreExceptions, Property[] properties) {\r\n\t\t\tsuper(name, filter, layout, ignoreExceptions, properties);\r\n\t\t\tthis.maxLines = maxLines;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void append(LogEvent event) {\r\n\t\t\tPatternLayout layout = (PatternLayout) getLayout();\r\n\t\t\ttextarea.append(layout.toSerializable(event));\r\n\t\t\tif ((maxLines &gt; 0) &amp;&amp; (textarea.getLineCount() &gt; (maxLines + 1))) {\r\n\t\t\t\tString text = textarea.getText();\r\n\t\t\t\tint pos = text.indexOf(&#39;\\n&#39;);\r\n\t\t\t\ttext = text.substring(pos+1);\r\n\t\t\t\ttextarea.setText(text);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void setTextArea(JTextArea textArea) {\r\n\t\t\tthis.textarea = textArea;\r\n\t\t}\r\n\r\n\t}\r\n\r\nuse it like this:\r\n\r\n\tPatternLayout.Builder layoutbuilder = PatternLayout.newBuilder().withPattern(&quot;%-5level %logger{36} - %msg%n&quot;);\r\n\tTextAreaAppender appender = new TextAreaAppender(&quot;textLog&quot;, null, layoutbuilder.build(), 200, false, null);\r\n\tappender.setTextArea(textLog);\r\n\torg.apache.logging.log4j.core.Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getRootLogger();\r\n\tappender.start();\r\n\tlogger.addAppender(appender);\r\n","title":"JTextArea as listener for log4j Logger","body":"<p>My solution for Log4J2 is this</p>\n<pre><code>import java.io.Serializable;\n\nimport javax.swing.JTextArea;\n\nimport org.apache.logging.log4j.core.Filter;\nimport org.apache.logging.log4j.core.Layout;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.config.Property;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\n\npublic class TextAreaAppender extends AbstractAppender {\n\n    private JTextArea textarea = null;\n    private int maxLines;\n\n    public TextAreaAppender(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout, int maxLines, boolean ignoreExceptions, Property[] properties) {\n        super(name, filter, layout, ignoreExceptions, properties);\n        this.maxLines = maxLines;\n    }\n\n    @Override\n    public void append(LogEvent event) {\n        PatternLayout layout = (PatternLayout) getLayout();\n        textarea.append(layout.toSerializable(event));\n        if ((maxLines &gt; 0) &amp;&amp; (textarea.getLineCount() &gt; (maxLines + 1))) {\n            String text = textarea.getText();\n            int pos = text.indexOf('\\n');\n            text = text.substring(pos+1);\n            textarea.setText(text);\n        }\n    }\n\n    public void setTextArea(JTextArea textArea) {\n        this.textarea = textArea;\n    }\n\n}\n</code></pre>\n<p>use it like this:</p>\n<pre><code>PatternLayout.Builder layoutbuilder = PatternLayout.newBuilder().withPattern(&quot;%-5level %logger{36} - %msg%n&quot;);\nTextAreaAppender appender = new TextAreaAppender(&quot;textLog&quot;, null, layoutbuilder.build(), 200, false, null);\nappender.setTextArea(textLog);\norg.apache.logging.log4j.core.Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getRootLogger();\nappender.start();\nlogger.addAppender(appender);\n</code></pre>\n"}],"owner":{"account_id":881594,"reputation":23,"user_id":404023,"display_name":"PwnZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4998,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1669301950,"creation_date":1280279419,"question_id":3349196,"body_markdown":"How can I set up a JTextArea to receive anything that I log (short of creating an interface such as &quot;MyLoggerListener&quot; and implementing it into my JTextArea)\r\n\r\nEDIT:\r\n\r\nI fixed this problem by creating a TextAreaOutputStream, making a printwriter with it, and adding a WriterAppender with the printwriter in the constructor.","title":"JTextArea as listener for log4j Logger","body":"<p>How can I set up a JTextArea to receive anything that I log (short of creating an interface such as \"MyLoggerListener\" and implementing it into my JTextArea)</p>\n\n<p>EDIT:</p>\n\n<p>I fixed this problem by creating a TextAreaOutputStream, making a printwriter with it, and adding a WriterAppender with the printwriter in the constructor.</p>\n"},{"tags":["java","spring-boot","insomnia"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1669218228,"post_id":74549416,"comment_id":131595716,"body_markdown":"You should create [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and edit question to add it. At the very least add your spring security configuration. Currently there is not enough information to diagnose issue. Sounds like you don&#39;t send valid csrf token, but this is only a guess.","body":"You should create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> and edit question to add it. At the very least add your spring security configuration. Currently there is not enough information to diagnose issue. Sounds like you don&#39;t send valid csrf token, but this is only a guess."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1669284470,"post_id":74549416,"comment_id":131611729,"body_markdown":"Sounds like a csrf-configuration issue, but that would result in a 403 and not in a 401. But as @Chaosfire mentioned, it is impossible to answer without a reproducible example.","body":"Sounds like a csrf-configuration issue, but that would result in a 403 and not in a 401. But as @Chaosfire mentioned, it is impossible to answer without a reproducible example."},{"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"score":0,"creation_date":1669296297,"post_id":74549416,"comment_id":131615770,"body_markdown":"Thanks for your comments, i&#39;ve been able to fix it. I didn&#39;t set up the program itself, so it didn&#39;t know how the Spring Security looked. Setting .csrf().disable() fixed it! :)","body":"Thanks for your comments, i&#39;ve been able to fix it. I didn&#39;t set up the program itself, so it didn&#39;t know how the Spring Security looked. Setting .csrf().disable() fixed it! :)"}],"answers":[{"tags":[],"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1669301458,"creation_date":1669301458,"answer_id":74562591,"question_id":74549416,"body_markdown":"Creating a Configuration Class for Spring Security solved the problem. \r\n\r\nThe following code worked: \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .csrf().disable();\r\n        return http.build();\r\n    }\r\n}","title":"POST request unauthorized","body":"<p>Creating a Configuration Class for Spring Security solved the problem.</p>\n<p>The following code worked:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n    http\n            .csrf().disable();\n    return http.build();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":74562591,"answer_count":1,"score":-4,"last_activity_date":1669301458,"creation_date":1669217865,"question_id":74549416,"body_markdown":"I am working on a RestAPI endpoint for generating random values with Spring Boot and Bouncy Castle.\r\nI also have basic Spring Security activated.\r\n\r\nWhen i make a GET request with the right credentials, everything works fine and the random value gets returned, but if i change it to PostMapping with the exact same underlying code and make a POST request - i get an unauthorized response, even tho the credentials are right. \r\n\r\n\r\n\r\nI am using Insomnia for making HTTP requests. \r\n\r\nHas anyone experienced something similar and knows how to fix it?","title":"POST request unauthorized","body":"<p>I am working on a RestAPI endpoint for generating random values with Spring Boot and Bouncy Castle.\nI also have basic Spring Security activated.</p>\n<p>When i make a GET request with the right credentials, everything works fine and the random value gets returned, but if i change it to PostMapping with the exact same underlying code and make a POST request - i get an unauthorized response, even tho the credentials are right.</p>\n<p>I am using Insomnia for making HTTP requests.</p>\n<p>Has anyone experienced something similar and knows how to fix it?</p>\n"},{"tags":["java","docker","selenium","aws-lambda","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":26961993,"reputation":3,"user_id":20529538,"display_name":"marcino8252"},"score":0,"creation_date":1669304753,"post_id":74562560,"comment_id":131618703,"body_markdown":"Hey, many thanks for replying! \nI&#39;ve tried this but now I am getting some access error. Seems like it cannot create folder ~/.cache/selenium, but here is the stack: [link](https://pastebin.com/0zHdVtDv)\nDo you think this might be lambda permisions problem?\nJust want to mention that when I tried calling setExecutable on File object from lambda it could not set it to exec","body":"Hey, many thanks for replying!  I&#39;ve tried this but now I am getting some access error. Seems like it cannot create folder ~/.cache/selenium, but here is the stack: <a href=\"https://pastebin.com/0zHdVtDv\" rel=\"nofollow noreferrer\">link</a> Do you think this might be lambda permisions problem? Just want to mention that when I tried calling setExecutable on File object from lambda it could not set it to exec"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669305379,"post_id":74562560,"comment_id":131618930,"body_markdown":"Yes, it seems like an issue with permissions. Check this thread: https://stackoverflow.com/questions/72604847/selenium-webdrivermanager-exception-when-running-on-linux-server","body":"Yes, it seems like an issue with permissions. Check this thread: <a href=\"https://stackoverflow.com/questions/72604847/selenium-webdrivermanager-exception-when-running-on-linux-server\" title=\"selenium webdrivermanager exception when running on linux server\">stackoverflow.com/questions/72604847/&hellip;</a>"},{"owner":{"account_id":26961993,"reputation":3,"user_id":20529538,"display_name":"marcino8252"},"score":0,"creation_date":1669624252,"post_id":74562560,"comment_id":131675781,"body_markdown":"Hey I was finally able to manage it so that webmanager does work. But I am still getting next error: \n`org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.`","body":"Hey I was finally able to manage it so that webmanager does work. But I am still getting next error:  <code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.</code>"},{"owner":{"account_id":26961993,"reputation":3,"user_id":20529538,"display_name":"marcino8252"},"score":0,"creation_date":1669647852,"post_id":74562560,"comment_id":131683663,"body_markdown":"If anyone else faces same problems. I switched form using markhobson/maven-chrome image and started from ubuntu image. Then I needed to install jdk8, and chromium instead of chrome, and the corresponding chromedriver `apt-get install -y chromium-chromedriver` and `apt-get install chromium-browser` then I got it working :) So I did not use google-chrome in my solution in the end","body":"If anyone else faces same problems. I switched form using markhobson/maven-chrome image and started from ubuntu image. Then I needed to install jdk8, and chromium instead of chrome, and the corresponding chromedriver <code>apt-get install -y chromium-chromedriver</code> and <code>apt-get install chromium-browser</code> then I got it working :) So I did not use google-chrome in my solution in the end"}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669301306,"creation_date":1669301306,"answer_id":74562560,"question_id":74561397,"body_markdown":"Try using WebDriverManager library instead of taking care of the webdriver manually.\r\nAdd this dependency:\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\nInstead of:\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);\r\n```\r\n\r\nPut this:\r\n```\r\nWebDriverManager.chromedriver().setup();\r\n```\r\nThe library will automatically detect your OS and download the correct webdriver. Let me know what is the result.","title":"Cannot run java selenium app inside docker on aws lambda - chrome/chromedriver problems","body":"<p>Try using WebDriverManager library instead of taking care of the webdriver manually.\nAdd this dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Instead of:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);\n</code></pre>\n<p>Put this:</p>\n<pre><code>WebDriverManager.chromedriver().setup();\n</code></pre>\n<p>The library will automatically detect your OS and download the correct webdriver. Let me know what is the result.</p>\n"}],"owner":{"account_id":26961993,"reputation":3,"user_id":20529538,"display_name":"marcino8252"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74562560,"answer_count":1,"score":0,"last_activity_date":1669301306,"creation_date":1669295753,"question_id":74561397,"body_markdown":"I want to run a little project like this:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);\r\nChromeOptions options = new ChromeOptions();\r\n//... optionsSetupHere\r\nWebDriver driver = new ChromeDriver(options);\r\ndriver.manage().window().maximize();\r\ndriver.get(&quot;https://www.wikipedia.org&quot;);\r\ndriver.quit();\r\nreturn &quot;done&quot;;\r\n```\r\nInside docker container on an aws lambda serverless\r\nHowever no matter what I do I am still getting one of those: \r\n\r\n1) \r\n\r\n```\r\n[1669291624.447][SEVERE]: bind() faiChromeDriverl ed: Cannot asswas started successfulign requested address (99)\r\nCould not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n```\r\n2)\r\n```\r\n[1669276586.713][SEVERE]: CreatePlatformSocket() failed: Address family not supported by protocol (97)\r\nChromeDriver was started successfully.\r\n[1669276589.300][SEVERE]: CreatePlatformSocket() failed: Address family not supported by protocol (97)\r\nCould not start a new session. Response code 500. Message: unknown error: unable to discover open window in chrome\r\n```\r\n\r\nI have not a slightest idea what else might be wrong. I know a lot of people faced problems with chrome and chromedriver but none worked for me. So here I list all the chromedriver options I have already tried:\r\n\r\n```\r\noptions.addArguments(&quot;--headless&quot;);\r\noptions.addArguments(&quot;--start-maximized&quot;);\r\noptions.addArguments(&quot;--no-sandbox&quot;);\r\noptions.addArguments(&quot;--test-type&quot;);\r\noptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\r\noptions.addArguments(&quot;--disable-default-apps&quot;);\r\noptions.addArguments(&quot;--disable-extensions-file-access-check&quot;);\r\noptions.addArguments(&quot;--incognito&quot;);\r\noptions.addArguments(&quot;--disable-infobars&quot;);\r\noptions.addArguments(&quot;--disable-gpu&quot;);\r\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\noptions.addArguments(&quot;--disable-notifications&quot;);\r\noptions.addArguments(&quot;--window-size=1980,1080&quot;);\r\noptions.addArguments(&quot;--single-process&quot;);\r\noptions.addArguments(&quot;--disable-extensions&quot;);\r\noptions.addArguments(&quot;--allow-running-insecure-content&quot;);\r\noptions.addArguments(&quot;--disable-web-security&quot;);\r\noptions.addArguments(&quot;--user-agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.111 Safari/537.36&quot;&quot;);\r\n```\r\nMy setup:\r\nSelenium: 4.6.0\r\nChromedriver: 107.0.5304.62\r\nChrome: 107.0.5304.87-1\r\njdk8\r\n\r\nBase image I am using is [markhobson/maven-chrome](https://github.com/markhobson/docker-maven-chrome)\r\nMy dockerfile is essentially the above + Lambda runtime emulator if anyone finds it useful here is the [link](https://github.com/aws/aws-lambda-java-libs/tree/master/aws-lambda-java-runtime-interface-client)\r\n\r\n\r\n```\r\nFROM --platform=linux/amd64 markhobson/maven-chrome:jdk-8 as base\r\nFROM base as build\r\nWORKDIR /src\r\nADD pom.xml .\r\nRUN mvn dependency:go-offline dependency:copy-dependencies\r\nADD . .\r\nRUN mvn package\r\n\r\n# Create final image\r\nFROM base\r\nWORKDIR /function\r\n\r\nCOPY --from=build /src/target/dependency/*.jar ./\r\nCOPY --from=build /src/target/*.jar ./\r\n\r\n# Lambda env config\r\nENTRYPOINT [ &quot;/usr/local/openjdk-8/bin/java&quot;, &quot;-cp&quot;, &quot;./*&quot;, &quot;com.amazonaws.services.lambda.runtime.api.client.AWSLambda&quot; ]\r\nCMD [ &quot;example.App::sayHello&quot; ]\r\n```\r\n\r\nI can add that it works fine with headless chromium instead of chrome, but the whole point of me touching this is to switch from headless-chromium to chrome.\r\n\r\nI&#39;ve also tried putting both chrome and chromedriver in/tmp directory even though it shouldnt matter since it is in docker container\r\n\r\nI can also add I have tired using this [link](https://github.com/umihico/docker-selenium-lambda/blob/main/Dockerfile) and installing java in these image and swapping handler but it gave the same error (even though the python script from the repo works as intended)\r\n\r\nIt is also fair to point out that while I was still trying to do this on amazon base image for java docker lambdas ([link](https://gallery.ecr.aws/lambda/java)) I could not get chrome installed via yum, and on there I got yet other error: could not find chrome binary at the path it was located. The chrome binary was jus extracted like here: [link](https://github.com/umihico/docker-selenium-lambda/blob/main/Dockerfile)\r\n\r\nProbably forgot to mention many other solutions I have tried but the post is long anyways.\r\n\r\nIf anyone could help I&#39;d be forever in your debt","title":"Cannot run java selenium app inside docker on aws lambda - chrome/chromedriver problems","body":"<p>I want to run a little project like this:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);\nChromeOptions options = new ChromeOptions();\n//... optionsSetupHere\nWebDriver driver = new ChromeDriver(options);\ndriver.manage().window().maximize();\ndriver.get(&quot;https://www.wikipedia.org&quot;);\ndriver.quit();\nreturn &quot;done&quot;;\n</code></pre>\n<p>Inside docker container on an aws lambda serverless\nHowever no matter what I do I am still getting one of those:</p>\n<p>1)</p>\n<pre><code>[1669291624.447][SEVERE]: bind() faiChromeDriverl ed: Cannot asswas started successfulign requested address (99)\nCould not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>[1669276586.713][SEVERE]: CreatePlatformSocket() failed: Address family not supported by protocol (97)\nChromeDriver was started successfully.\n[1669276589.300][SEVERE]: CreatePlatformSocket() failed: Address family not supported by protocol (97)\nCould not start a new session. Response code 500. Message: unknown error: unable to discover open window in chrome\n</code></pre>\n<p>I have not a slightest idea what else might be wrong. I know a lot of people faced problems with chrome and chromedriver but none worked for me. So here I list all the chromedriver options I have already tried:</p>\n<pre><code>options.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;--start-maximized&quot;);\noptions.addArguments(&quot;--no-sandbox&quot;);\noptions.addArguments(&quot;--test-type&quot;);\noptions.addArguments(&quot;--ignore-certificate-errors&quot;);\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\noptions.addArguments(&quot;--disable-default-apps&quot;);\noptions.addArguments(&quot;--disable-extensions-file-access-check&quot;);\noptions.addArguments(&quot;--incognito&quot;);\noptions.addArguments(&quot;--disable-infobars&quot;);\noptions.addArguments(&quot;--disable-gpu&quot;);\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\noptions.addArguments(&quot;--disable-notifications&quot;);\noptions.addArguments(&quot;--window-size=1980,1080&quot;);\noptions.addArguments(&quot;--single-process&quot;);\noptions.addArguments(&quot;--disable-extensions&quot;);\noptions.addArguments(&quot;--allow-running-insecure-content&quot;);\noptions.addArguments(&quot;--disable-web-security&quot;);\noptions.addArguments(&quot;--user-agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.111 Safari/537.36&quot;&quot;);\n</code></pre>\n<p>My setup:\nSelenium: 4.6.0\nChromedriver: 107.0.5304.62\nChrome: 107.0.5304.87-1\njdk8</p>\n<p>Base image I am using is <a href=\"https://github.com/markhobson/docker-maven-chrome\" rel=\"nofollow noreferrer\">markhobson/maven-chrome</a>\nMy dockerfile is essentially the above + Lambda runtime emulator if anyone finds it useful here is the <a href=\"https://github.com/aws/aws-lambda-java-libs/tree/master/aws-lambda-java-runtime-interface-client\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>FROM --platform=linux/amd64 markhobson/maven-chrome:jdk-8 as base\nFROM base as build\nWORKDIR /src\nADD pom.xml .\nRUN mvn dependency:go-offline dependency:copy-dependencies\nADD . .\nRUN mvn package\n\n# Create final image\nFROM base\nWORKDIR /function\n\nCOPY --from=build /src/target/dependency/*.jar ./\nCOPY --from=build /src/target/*.jar ./\n\n# Lambda env config\nENTRYPOINT [ &quot;/usr/local/openjdk-8/bin/java&quot;, &quot;-cp&quot;, &quot;./*&quot;, &quot;com.amazonaws.services.lambda.runtime.api.client.AWSLambda&quot; ]\nCMD [ &quot;example.App::sayHello&quot; ]\n</code></pre>\n<p>I can add that it works fine with headless chromium instead of chrome, but the whole point of me touching this is to switch from headless-chromium to chrome.</p>\n<p>I've also tried putting both chrome and chromedriver in/tmp directory even though it shouldnt matter since it is in docker container</p>\n<p>I can also add I have tired using this <a href=\"https://github.com/umihico/docker-selenium-lambda/blob/main/Dockerfile\" rel=\"nofollow noreferrer\">link</a> and installing java in these image and swapping handler but it gave the same error (even though the python script from the repo works as intended)</p>\n<p>It is also fair to point out that while I was still trying to do this on amazon base image for java docker lambdas (<a href=\"https://gallery.ecr.aws/lambda/java\" rel=\"nofollow noreferrer\">link</a>) I could not get chrome installed via yum, and on there I got yet other error: could not find chrome binary at the path it was located. The chrome binary was jus extracted like here: <a href=\"https://github.com/umihico/docker-selenium-lambda/blob/main/Dockerfile\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Probably forgot to mention many other solutions I have tried but the post is long anyways.</p>\n<p>If anyone could help I'd be forever in your debt</p>\n"},{"tags":["java","kettle"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664109156,"post_id":73841567,"comment_id":130391432,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26434608,"reputation":11,"user_id":20080192,"display_name":"Huang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669301254,"creation_date":1664069719,"question_id":73841567,"body_markdown":"As soon as I click the kettle flow control button, the kettle runs with an error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vzvcu.jpg\r\n  [2]: https://i.stack.imgur.com/QRM6l.png\r\n\r\nThis is the next error code when I click on the details button.\r\n\r\n  \r\n\r\n        java.lang.NullPointerException\r\n     at org.pentaho.di.ui.spoon.Spoon$16.mouseMove(Spoon.java:2182)\r\n     at org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\r\n     at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n     at org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n     at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n     at org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\r\n     at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n     at org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1381)\r\n     at org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7817)\r\n     at org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9179)\r\n     at org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:707)\r\n     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     at org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\r\n\r\n\r\n","title":"An error occurred while using kettle&#39;s flow control","body":"<p>As soon as I click the kettle flow control button, the kettle runs with an error.</p>\n<p><a href=\"https://i.stack.imgur.com/Vzvcu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vzvcu.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QRM6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QRM6l.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the next error code when I click on the details button.</p>\n<pre><code>    java.lang.NullPointerException\n at org.pentaho.di.ui.spoon.Spoon$16.mouseMove(Spoon.java:2182)\n at org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\n at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\n at org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\n at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n at org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\n at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\n at org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1381)\n at org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7817)\n at org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9179)\n at org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:707)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.lang.reflect.Method.invoke(Method.java:498)\n at org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation","properties-file"],"answers":[{"tags":[],"owner":{"account_id":3344727,"reputation":2470,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669301202,"creation_date":1669300767,"answer_id":74562449,"question_id":74561531,"body_markdown":"In the context of validation, you must use something like:\r\n```java\r\n@Documented\r\n@Constraint(validatedBy = MyValidator.class)\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MyAnnotation\r\n{\r\n\r\n    int customValue() default &quot;THIS IS CUSTOM&quot;; // this will be the value that will be injected in the custom message,\r\n                                                // and can be changed when using the annotation\r\n\r\n    String message() default &quot;{my.custom.message}&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n```\r\n\r\nAlso, if you use \r\n```private static final String CUSTOM_STRING = &quot;{my.custom.message}&quot;;```\r\nin the context of validation, the replacement will be done.","title":"How to use ValidationMessages properties file with parameters in Spring Boot?","body":"<p>In the context of validation, you must use something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Constraint(validatedBy = MyValidator.class)\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation\n{\n\n    int customValue() default &quot;THIS IS CUSTOM&quot;; // this will be the value that will be injected in the custom message,\n                                                // and can be changed when using the annotation\n\n    String message() default &quot;{my.custom.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p>Also, if you use\n<code>private static final String CUSTOM_STRING = &quot;{my.custom.message}&quot;;</code>\nin the context of validation, the replacement will be done.</p>\n"}],"owner":{"account_id":3344727,"reputation":2470,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74562449,"answer_count":1,"score":0,"last_activity_date":1669301202,"creation_date":1669296411,"question_id":74561531,"body_markdown":"I am using Spring Boot validation to validate some fields.\r\n\r\nI&#39;ve created the `ValidationMessages.properties` file under resources and overwritten the value for the default validation of Size as follows:\r\n\r\n```\r\njavax.validation.constraints.Size.message=Please enter a value. Maximum length is {max}.\r\n```\r\nWhich works like a charm, at runtime the `{max}` token is replaced with the value from the annotation `@Size(max = 100)`.\r\n\r\n---\r\nNow I want to define a custom proprietary entry, something like:\r\n```\r\nmy.custom.message=Hey, my custom value is {customValue}\r\n```\r\n\r\nThe question is - how can I replace the `{customValue}` token at runtime starting from something like?\r\n\r\n```\r\nprivate static final String CUSTOM_STRING = &quot;{my.custom.message}&quot;;\r\n```","title":"How to use ValidationMessages properties file with parameters in Spring Boot?","body":"<p>I am using Spring Boot validation to validate some fields.</p>\n<p>I've created the <code>ValidationMessages.properties</code> file under resources and overwritten the value for the default validation of Size as follows:</p>\n<pre><code>javax.validation.constraints.Size.message=Please enter a value. Maximum length is {max}.\n</code></pre>\n<p>Which works like a charm, at runtime the <code>{max}</code> token is replaced with the value from the annotation <code>@Size(max = 100)</code>.</p>\n<hr />\n<p>Now I want to define a custom proprietary entry, something like:</p>\n<pre><code>my.custom.message=Hey, my custom value is {customValue}\n</code></pre>\n<p>The question is - how can I replace the <code>{customValue}</code> token at runtime starting from something like?</p>\n<pre><code>private static final String CUSTOM_STRING = &quot;{my.custom.message}&quot;;\n</code></pre>\n"},{"tags":["java","scala","intellij-idea","neo4j"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1668238431,"post_id":74411032,"comment_id":131361226,"body_markdown":"Isn&#39;t that a configuration of the neo4j server? If so, it&#39;s not something you can choose in your client code.","body":"Isn&#39;t that a configuration of the neo4j server? If so, it&#39;s not something you can choose in your client code."},{"owner":{"account_id":26907715,"reputation":1,"user_id":20483776,"display_name":"yana_fed"},"score":0,"creation_date":1668240885,"post_id":74411032,"comment_id":131361511,"body_markdown":"I am not sure. I believe it is default configuration for a library and maybe there is a way to change it.","body":"I am not sure. I believe it is default configuration for a library and maybe there is a way to change it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1668248023,"post_id":74411032,"comment_id":131362547,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1668328679,"post_id":74411032,"comment_id":131374961,"body_markdown":"This is the property of the neo4j database. You can&#39;t update it via IntelliJ. You have to manually update it in the neo4j.conf file. https://neo4j.com/docs/operations-manual/current/configuration/neo4j-conf/","body":"This is the property of the neo4j database. You can&#39;t update it via IntelliJ. You have to manually update it in the neo4j.conf file. <a href=\"https://neo4j.com/docs/operations-manual/current/configuration/neo4j-conf/\" rel=\"nofollow noreferrer\">neo4j.com/docs/operations-manual/current/configuration/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20895568,"reputation":31,"user_id":15349909,"display_name":"injectives"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669301030,"creation_date":1669301030,"answer_id":74562506,"question_id":74411032,"body_markdown":"This property is not managed by Neo4j Java Driver, it is managed by Neo4j server.\r\n\r\nIt is documented here: https://neo4j.com/docs/operations-manual/current/reference/configuration-settings/\r\n\r\nDepending on how Neo4j server is deployed, there are multiple ways of updating it. For instance:\r\n1. Binary: add `dbms.security.allow_csv_import_from_file_urls=true` to `&lt;neo4j-home&gt;/conf/neo4j.conf` OR ensure it is not set there as it should be `true` by default\r\n2. Docker: set environment variable `NEO4J_dbms_security_allow__csv__import__from__file__urls=true` (more details here: https://neo4j.com/docs/operations-manual/current/docker/configuration/)\r\n3. Neo4j Desktop: edit settings of the target DBMS\r\n4. Neo4j Aura: CSV file should be loaded as a remote file. This error can be reproduced when query references a local file. See the documentation for more details: https://neo4j.com/docs/aura/auradb/importing/importing-data/ ","title":"How can I change configuration property for Neo4j Java driver?","body":"<p>This property is not managed by Neo4j Java Driver, it is managed by Neo4j server.</p>\n<p>It is documented here: <a href=\"https://neo4j.com/docs/operations-manual/current/reference/configuration-settings/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/operations-manual/current/reference/configuration-settings/</a></p>\n<p>Depending on how Neo4j server is deployed, there are multiple ways of updating it. For instance:</p>\n<ol>\n<li>Binary: add <code>dbms.security.allow_csv_import_from_file_urls=true</code> to <code>&lt;neo4j-home&gt;/conf/neo4j.conf</code> OR ensure it is not set there as it should be <code>true</code> by default</li>\n<li>Docker: set environment variable <code>NEO4J_dbms_security_allow__csv__import__from__file__urls=true</code> (more details here: <a href=\"https://neo4j.com/docs/operations-manual/current/docker/configuration/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/operations-manual/current/docker/configuration/</a>)</li>\n<li>Neo4j Desktop: edit settings of the target DBMS</li>\n<li>Neo4j Aura: CSV file should be loaded as a remote file. This error can be reproduced when query references a local file. See the documentation for more details: <a href=\"https://neo4j.com/docs/aura/auradb/importing/importing-data/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/aura/auradb/importing/importing-data/</a></li>\n</ol>\n"}],"owner":{"account_id":26907715,"reputation":1,"user_id":20483776,"display_name":"yana_fed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669301030,"creation_date":1668236993,"question_id":74411032,"body_markdown":"I am doing a homework assigment about Neo4j. I am using Neo4j Java driver library with Scala. I made a query to load data from CSV but error appears: \r\n```\r\nconfiguration property &#39;dbms.security.allow_csv_import_from_file_urls&#39; is false\r\n\tat org.neo4j.driver.internal.util.Futures.blockingGet(Futures.java:111)\r\n```\r\nIs there a way to change this property in IntelliJ?\r\nThank you!\r\n\r\nI tries to google the problem, but it didn&#39;t found any answers.","title":"How can I change configuration property for Neo4j Java driver?","body":"<p>I am doing a homework assigment about Neo4j. I am using Neo4j Java driver library with Scala. I made a query to load data from CSV but error appears:</p>\n<pre><code>configuration property 'dbms.security.allow_csv_import_from_file_urls' is false\n    at org.neo4j.driver.internal.util.Futures.blockingGet(Futures.java:111)\n</code></pre>\n<p>Is there a way to change this property in IntelliJ?\nThank you!</p>\n<p>I tries to google the problem, but it didn't found any answers.</p>\n"},{"tags":["java","spring-boot","datasource","hikaricp"],"answers":[{"comments":[{"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"score":0,"creation_date":1669299141,"post_id":74551363,"comment_id":131616757,"body_markdown":"Yeah you put me on the right way. I noticed that my configuration use an old version 2.3.x of Hikari brought by a quartz dependency. Excluding this hikari lib from quartz did the trick !","body":"Yeah you put me on the right way. I noticed that my configuration use an old version 2.3.x of Hikari brought by a quartz dependency. Excluding this hikari lib from quartz did the trick !"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669227253,"creation_date":1669227253,"answer_id":74551363,"question_id":74549436,"body_markdown":"As [listed in its reference documentation](https://docs.spring.io/spring-boot/docs/2.5.6/reference/html/dependency-versions.html#dependency-versions), Spring Boot 2.5.6 requires Hikari 4.0.3. You should upgrade Hikari.","title":"NoSuchMethodError: com.zaxxer.hikari.HikariDataSource.getMetricsTrackerFactory()Lcom/zaxxer/hikari/metrics/MetricsTrackerFactory","body":"<p>As <a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/html/dependency-versions.html#dependency-versions\" rel=\"nofollow noreferrer\">listed in its reference documentation</a>, Spring Boot 2.5.6 requires Hikari 4.0.3. You should upgrade Hikari.</p>\n"},{"tags":[],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669300998,"creation_date":1669299426,"answer_id":74562162,"question_id":74549436,"body_markdown":"It was a version issue of HikariCP. I noticed HikariDataSource came from com.zaxxer.HikariCP-java7.2.4.13, which was brought by a Quartz dependency.\r\n\r\nI excluded this HikariCP library version from Quartz explicitly\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n  &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n  &lt;version&gt;${quartz.version}&lt;/version&gt;\r\n  &lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;HikariCP-java7&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n  &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NoSuchMethodError: com.zaxxer.hikari.HikariDataSource.getMetricsTrackerFactory()Lcom/zaxxer/hikari/metrics/MetricsTrackerFactory","body":"<p>It was a version issue of HikariCP. I noticed HikariDataSource came from com.zaxxer.HikariCP-java7.2.4.13, which was brought by a Quartz dependency.</p>\n<p>I excluded this HikariCP library version from Quartz explicitly</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n  &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n  &lt;version&gt;${quartz.version}&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n      &lt;artifactId&gt;HikariCP-java7&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74562162,"answer_count":2,"score":0,"last_activity_date":1669300998,"creation_date":1669217924,"question_id":74549436,"body_markdown":"I&#39;m migrating a Java Spring application to Spring Boot. I&#39;ve transferred the application-context.xml configuration inside Java beans. However, when I try to launch the Spring Boot app, I get the following error:\r\n\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; com.zaxxer.hikari.HikariDataSource.getMetricsTrackerFactory()Lcom/zaxxer/hikari/metrics/MetricsTrackerFactory;\r\n\r\nIt seems like there is something wrong with my configuration or the library version I&#39;m using, but so far I&#39;ve no clue. I&#39;m using Spring Boot 2.5.6 and HikariCP 2.5.1.\r\n\r\nHere is my data source configuration:\r\n\r\n    @Primary\r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n    DataSource dataSource(DatasourceProperties datasourceProperties) {\r\n         return DataSourceBuilder.create()\r\n              .type(HikariDataSource.class)\r\n              .driverClassName(datasourceProperties.getDriverClassName())\r\n              .url(datasourceProperties.getUrl())\r\n              .username(datasourceProperties.getUsername())\r\n              .password(datasourceProperties.getPassword())\r\n              .build();\r\n    }\r\n\r\nI can provide more configuration and info if needed.","title":"NoSuchMethodError: com.zaxxer.hikari.HikariDataSource.getMetricsTrackerFactory()Lcom/zaxxer/hikari/metrics/MetricsTrackerFactory","body":"<p>I'm migrating a Java Spring application to Spring Boot. I've transferred the application-context.xml configuration inside Java beans. However, when I try to launch the Spring Boot app, I get the following error:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError:\ncom.zaxxer.hikari.HikariDataSource.getMetricsTrackerFactory()Lcom/zaxxer/hikari/metrics/MetricsTrackerFactory;</p>\n</blockquote>\n<p>It seems like there is something wrong with my configuration or the library version I'm using, but so far I've no clue. I'm using Spring Boot 2.5.6 and HikariCP 2.5.1.</p>\n<p>Here is my data source configuration:</p>\n<pre><code>@Primary\n@Bean(destroyMethod = &quot;close&quot;)\nDataSource dataSource(DatasourceProperties datasourceProperties) {\n     return DataSourceBuilder.create()\n          .type(HikariDataSource.class)\n          .driverClassName(datasourceProperties.getDriverClassName())\n          .url(datasourceProperties.getUrl())\n          .username(datasourceProperties.getUsername())\n          .password(datasourceProperties.getPassword())\n          .build();\n}\n</code></pre>\n<p>I can provide more configuration and info if needed.</p>\n"},{"tags":["java","design-patterns","jakarta-ee"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1669301774,"post_id":74562344,"comment_id":131617646,"body_markdown":"Did you already try it? The answer should be *yes*. Whereas you can inject a `List&lt;First&gt;` in Spring Boot, and using `@All` a `List&lt;First&gt;` in Quarkus, in Jave EE / Jakarta EE you&#39;re &quot;stuck&quot; with `Instance&lt;First&gt;`.","body":"Did you already try it? The answer should be <i>yes</i>. Whereas you can inject a <code>List&lt;First&gt;</code> in Spring Boot, and using <code>@All</code> a <code>List&lt;First&gt;</code> in Quarkus, in Jave EE / Jakarta EE you&#39;re &quot;stuck&quot; with <code>Instance&lt;First&gt;</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1669301825,"post_id":74562344,"comment_id":131617671,"body_markdown":"Unrelated, that implementation of `getFirst` is unnecessarily complex. Just return `map.get(type)`, instead of wrapping this in an `Optional` just to unwrap it again with `null` as fallback value.","body":"Unrelated, that implementation of <code>getFirst</code> is unnecessarily complex. Just return <code>map.get(type)</code>, instead of wrapping this in an <code>Optional</code> just to unwrap it again with <code>null</code> as fallback value."},{"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"score":0,"creation_date":1669302269,"post_id":74562344,"comment_id":131617825,"body_markdown":"@RobSpoor changed to map.get(type) but it still not working","body":"@RobSpoor changed to map.get(type) but it still not working"}],"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669300689,"creation_date":1669300287,"question_id":74562344,"body_markdown":"I have one interface (`First`) which I&#39;ve implemented in two classes. Classes which implements the intereface I&#39;ve annotated with `@Stateless` annotation, and interface is `@Remote`. Then i&#39;ve created a `Main` interface with one method which should return `First` interface, it also annotated as `@Remote`. In implementation of `Main` int I&#39;ve created an `Instance&lt;First&gt;`  field ,and annotated it with `@Inject` , and `Map&lt;FirstType, First&gt;` which I&#39;m initializing in `setUp()` method with `@PostConstruct`. When i try to invoke `main.getFirst(FirstType.HELLO).getSomething()` it throws a NullpointerExeption. How to fix this issue.\r\n\r\n    @Remote\r\n    public interface First {\r\n\t\r\n\tString getSomething();\r\n\t\r\n\tFirstType getType();\r\n    }\r\n_\r\n\r\n    @Stateless\r\n    public class ActionFirstImpl implements First {\r\n\r\n\t@Override\r\n\tpublic String getSomething() {\r\n\r\n\t\treturn &quot;Hello&quot;;\r\n\t}\r\n    @Override\r\n\tpublic FirstType getType() {\r\n\t\treturn FirstType.ACTION;\r\n\t}\r\n\t\r\n_\r\n\r\n    @Remote\r\n    public interface TestWSFactory {\r\n\r\n\tFirst getFirst(FirstType type);\r\n    }\r\n\r\n_\r\n\r\n    @Stateless\r\n    public class TestWSFactoryImpl implements TestWSFactory {\r\n\r\n\t@Inject\r\n\tInstance&lt;First&gt; firstList;\r\n\r\n\tprivate Map&lt;FirstType, First&gt; map;\r\n\r\n\t@PostConstruct\r\n\tvoid setUp() {\r\n\t\tmap = new HashMap&lt;&gt;();\r\n\r\n\t\tfirstList.forEach(t -&gt; map.put(t.getType(), t));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic First getFirst(FirstType type) {\r\n\t\treturn Optional.ofNullable(map.get(type)).orElse(null);\r\n\t}\r\n\r\nThis pattern works perfectly with SpringBoot, but is it possible to do the same with jakarta-ee?","title":"How to inject all implementations of interface?","body":"<p>I have one interface (<code>First</code>) which I've implemented in two classes. Classes which implements the intereface I've annotated with <code>@Stateless</code> annotation, and interface is <code>@Remote</code>. Then i've created a <code>Main</code> interface with one method which should return <code>First</code> interface, it also annotated as <code>@Remote</code>. In implementation of <code>Main</code> int I've created an <code>Instance&lt;First&gt;</code>  field ,and annotated it with <code>@Inject</code> , and <code>Map&lt;FirstType, First&gt;</code> which I'm initializing in <code>setUp()</code> method with <code>@PostConstruct</code>. When i try to invoke <code>main.getFirst(FirstType.HELLO).getSomething()</code> it throws a NullpointerExeption. How to fix this issue.</p>\n<pre><code>@Remote\npublic interface First {\n\nString getSomething();\n\nFirstType getType();\n}\n</code></pre>\n<p>_</p>\n<pre><code>@Stateless\npublic class ActionFirstImpl implements First {\n\n@Override\npublic String getSomething() {\n\n    return &quot;Hello&quot;;\n}\n@Override\npublic FirstType getType() {\n    return FirstType.ACTION;\n}\n</code></pre>\n<p>_</p>\n<pre><code>@Remote\npublic interface TestWSFactory {\n\nFirst getFirst(FirstType type);\n}\n</code></pre>\n<p>_</p>\n<pre><code>@Stateless\npublic class TestWSFactoryImpl implements TestWSFactory {\n\n@Inject\nInstance&lt;First&gt; firstList;\n\nprivate Map&lt;FirstType, First&gt; map;\n\n@PostConstruct\nvoid setUp() {\n    map = new HashMap&lt;&gt;();\n\n    firstList.forEach(t -&gt; map.put(t.getType(), t));\n}\n\n@Override\npublic First getFirst(FirstType type) {\n    return Optional.ofNullable(map.get(type)).orElse(null);\n}\n</code></pre>\n<p>This pattern works perfectly with SpringBoot, but is it possible to do the same with jakarta-ee?</p>\n"},{"tags":["java","gremlin","gremlin-java"],"answers":[{"comments":[{"owner":{"account_id":6932189,"reputation":215,"user_id":5321341,"display_name":"Fabrice Gabolde"},"score":0,"creation_date":1669300499,"post_id":74562376,"comment_id":131617207,"body_markdown":"Looking forward to mergeV being available in Neptune as the fold/coalesce/unfold/addV idiom is fairly cumbersome. Your second option with inject() is interesting and it might be easier to build from this than the first one which is what I&#39;d tried. The problem with it is that the type of `query` changes if I try to do for instance addV and addE within the same graph traversal.","body":"Looking forward to mergeV being available in Neptune as the fold/coalesce/unfold/addV idiom is fairly cumbersome. Your second option with inject() is interesting and it might be easier to build from this than the first one which is what I&#39;d tried. The problem with it is that the type of <code>query</code> changes if I try to do for instance addV and addE within the same graph traversal."},{"owner":{"account_id":6932189,"reputation":215,"user_id":5321341,"display_name":"Fabrice Gabolde"},"score":0,"creation_date":1669651788,"post_id":74562376,"comment_id":131685259,"body_markdown":"In the end this answer allowed me to rethink my approach, simplify my code, and just modify a graph traversal repeatedly until all the addV calls were chained. Before this I had gotten mired in a version with function composition. The code became much simpler once I took it out. There is still an issue where I tried to return the resulting graph traversal (to hand it off to my query executor object), because the traversal&#39;s full type is not known in advance, depending on if it ends by adding an edge or a vertex.","body":"In the end this answer allowed me to rethink my approach, simplify my code, and just modify a graph traversal repeatedly until all the addV calls were chained. Before this I had gotten mired in a version with function composition. The code became much simpler once I took it out. There is still an issue where I tried to return the resulting graph traversal (to hand it off to my query executor object), because the traversal&#39;s full type is not known in advance, depending on if it ends by adding an edge or a vertex."}],"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669300386,"creation_date":1669300386,"answer_id":74562376,"question_id":74561587,"body_markdown":"In Java (or any GLV), you can build up a query in code and then submit it by appending a Terminal [1] step:\r\n\r\n```\r\nquery = g.addV(&#39;test&#39;).property(id,&#39;v1&#39;)\r\n\r\nquery = query.addV(&#39;test&#39;).property(id,&#39;v2&#39;)\r\nquery = query.addV(&#39;test&#39;).property(id,&#39;v3&#39;)\r\n// so on and so forth - or you can do this in a loop\r\n\r\n// and then submit it with\r\nresult = query.iterate()\r\n```\r\n\r\nThere are other (perhaps more clever) methods of doing this with an injected map:\r\n```\r\ng.inject([\r\n    [ id: &#39;v347&#39;, label: &#39;test&#39;, name: &#39;Son&#39; ],\r\n    [ id: &#39;v348&#39;, label: &#39;test&#39;, name: &#39;Messi&#39; ],\r\n    [ id: &#39;v349&#39;, label: &#39;test&#39;, name: &#39;Suarez&#39; ],\r\n    [ id: &#39;v350&#39;, label: &#39;test&#39;, name: &#39;Kane&#39; ]\r\n]).unfold().\r\n   addV(select(&#39;label&#39;)).\r\n   property(id,select(&#39;id&#39;)).\r\n   property(&#39;name&#39;,select(&#39;name&#39;))\r\n```\r\n\r\nTinkerPop 3.6 also brings forth the `mergeV()` and `mergeE()` steps [2].  Although, at the time of this writing, Neptune only supports up to TinkerPop 3.5.3 in the latest Neptune engine (3.6 is forth coming).\r\n\r\n[1] https://tinkerpop.apache.org/docs/current/reference/#terminal-steps\r\n\r\n[2] https://tinkerpop.apache.org/docs/current/reference/#mergevertex-step","title":"How can I use addV to insert an unknown number of vertices in gremlin-java?","body":"<p>In Java (or any GLV), you can build up a query in code and then submit it by appending a Terminal [1] step:</p>\n<pre><code>query = g.addV('test').property(id,'v1')\n\nquery = query.addV('test').property(id,'v2')\nquery = query.addV('test').property(id,'v3')\n// so on and so forth - or you can do this in a loop\n\n// and then submit it with\nresult = query.iterate()\n</code></pre>\n<p>There are other (perhaps more clever) methods of doing this with an injected map:</p>\n<pre><code>g.inject([\n    [ id: 'v347', label: 'test', name: 'Son' ],\n    [ id: 'v348', label: 'test', name: 'Messi' ],\n    [ id: 'v349', label: 'test', name: 'Suarez' ],\n    [ id: 'v350', label: 'test', name: 'Kane' ]\n]).unfold().\n   addV(select('label')).\n   property(id,select('id')).\n   property('name',select('name'))\n</code></pre>\n<p>TinkerPop 3.6 also brings forth the <code>mergeV()</code> and <code>mergeE()</code> steps [2].  Although, at the time of this writing, Neptune only supports up to TinkerPop 3.5.3 in the latest Neptune engine (3.6 is forth coming).</p>\n<p>[1] <a href=\"https://tinkerpop.apache.org/docs/current/reference/#terminal-steps\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#terminal-steps</a></p>\n<p>[2] <a href=\"https://tinkerpop.apache.org/docs/current/reference/#mergevertex-step\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#mergevertex-step</a></p>\n"}],"owner":{"account_id":6932189,"reputation":215,"user_id":5321341,"display_name":"Fabrice Gabolde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74562376,"answer_count":1,"score":0,"last_activity_date":1669300386,"creation_date":1669296672,"question_id":74561587,"body_markdown":"I&#39;m trying to write a Java wrapper that will help me upsert (or even just insert) vertices in a Gremlin server.\r\n\r\nI realize that different tools may support other methods, e.g. AWS Neptune (which is my primary target backend) has a bulk loading API that reads data from S3, but I&#39;m trying to avoid things that are only supported by one implementation as my requirements may evolve to include supporting other backends (and I&#39;d like to support at least TinkerGraph, for unit testing). I don&#39;t plan on upserting many vertices per batch; this is not for populating a huge graph from scratch, this is for adding to an existing graph from a stream of data.\r\n\r\nThe Tinkerpop documentation mentions `addVertex` but [discourages its use](https://tinkerpop.apache.org/docs/current/reference/#staying-agnostic), recommending `g.addV()` instead. My problem with `g.addV()`, and the Gremlin DSL in general, is that although it&#39;s not too hard to write one-off queries with it (... assuming you understand Gremlin well, which I don&#39;t), is that I can&#39;t figure out how to build queries dynamically.\r\n\r\nGiven as input a set of vertices and their properties, with arbitrary cardinality (let&#39;s say it comes from a CSV file of anywhere between 1-100 lines), **how do I dynamically build a graph traversal that upserts all of the vertices?** Alternate question: Is there a backend-agnostic tool for loading a few hundred vertices&#39; worth of data in a local or remote graph?\r\n\r\nThis seems to be a Java issue as much as a Gremlin one. I have tried building a graph traversal by composing functions with `Function#andThen(Function)` but I am quickly running into issues with Java&#39;s generics because graph traversal methods return `GraphTraversal&lt;S, E&gt;` where both S and E depend on the actual graph traversal method. E.g. `addV()` returns `GraphTraversal&lt;S, Vertex&gt;` and `addE()` returns `GraphTraversal&lt;S, Edge&gt;`.","title":"How can I use addV to insert an unknown number of vertices in gremlin-java?","body":"<p>I'm trying to write a Java wrapper that will help me upsert (or even just insert) vertices in a Gremlin server.</p>\n<p>I realize that different tools may support other methods, e.g. AWS Neptune (which is my primary target backend) has a bulk loading API that reads data from S3, but I'm trying to avoid things that are only supported by one implementation as my requirements may evolve to include supporting other backends (and I'd like to support at least TinkerGraph, for unit testing). I don't plan on upserting many vertices per batch; this is not for populating a huge graph from scratch, this is for adding to an existing graph from a stream of data.</p>\n<p>The Tinkerpop documentation mentions <code>addVertex</code> but <a href=\"https://tinkerpop.apache.org/docs/current/reference/#staying-agnostic\" rel=\"nofollow noreferrer\">discourages its use</a>, recommending <code>g.addV()</code> instead. My problem with <code>g.addV()</code>, and the Gremlin DSL in general, is that although it's not too hard to write one-off queries with it (... assuming you understand Gremlin well, which I don't), is that I can't figure out how to build queries dynamically.</p>\n<p>Given as input a set of vertices and their properties, with arbitrary cardinality (let's say it comes from a CSV file of anywhere between 1-100 lines), <strong>how do I dynamically build a graph traversal that upserts all of the vertices?</strong> Alternate question: Is there a backend-agnostic tool for loading a few hundred vertices' worth of data in a local or remote graph?</p>\n<p>This seems to be a Java issue as much as a Gremlin one. I have tried building a graph traversal by composing functions with <code>Function#andThen(Function)</code> but I am quickly running into issues with Java's generics because graph traversal methods return <code>GraphTraversal&lt;S, E&gt;</code> where both S and E depend on the actual graph traversal method. E.g. <code>addV()</code> returns <code>GraphTraversal&lt;S, Vertex&gt;</code> and <code>addE()</code> returns <code>GraphTraversal&lt;S, Edge&gt;</code>.</p>\n"},{"tags":["java","android","dialog","progressdialog","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":1322038,"reputation":86670,"user_id":1267661,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1348083347,"creation_date":1348082334,"answer_id":12501440,"question_id":12501357,"body_markdown":"These commands are executed consecutively, which as you noticed, overwrites the first dialog:\r\n\r\n        // sms dialog(send sms to doctor?yes/no)\r\n        showDialog(SMS_DIALOG_ID);\r\n\r\n        // save or back dialog\r\n        showDialog(SAVEORBACK_DIALOG_ID);\r\n\r\nbecause `showDialog()` does not wait for a response from the first dialog before displaying the second.\r\n \r\nSimply move your second `showDialog()` command to the Buttons in your first dialog:\r\n\r\n    .setPositiveButton(&quot;No&quot;,\r\n        new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n                dialog.cancel();\r\n                // do nothing - just continue\r\n                ImportActivity.this.showDialog(SAVEORBACK_DIALOG_ID);\r\n            }\r\n        })\r\n    // etc, etc\r\n\r\n---\r\nAlternatively you can use an OnDismissDialogListener, this is called _whenever_ the dialog is closed (via a Button click, cancel action, etc.):\r\n\r\n    case SMS_DIALOG_ID:\r\n        ...\r\n        AlertDialog dialog2 = builder2.create();\r\n\r\n        dialog2.setOnDismissListener(new OnDismissListener() {\r\n            public void onDismiss(DialogInterface dialog) {\r\n                ImportActivity.this.showDialog(SAVEORBACK_DIALOG_ID);\r\n            }\r\n        });\r\n\r\n        return dialog2;\r\n    }\r\n","title":"alert dialog after another alert dialog ? The first is missing! android","body":"<p>These commands are executed consecutively, which as you noticed, overwrites the first dialog:</p>\n\n<pre><code>    // sms dialog(send sms to doctor?yes/no)\n    showDialog(SMS_DIALOG_ID);\n\n    // save or back dialog\n    showDialog(SAVEORBACK_DIALOG_ID);\n</code></pre>\n\n<p>because <code>showDialog()</code> does not wait for a response from the first dialog before displaying the second.</p>\n\n<p>Simply move your second <code>showDialog()</code> command to the Buttons in your first dialog:</p>\n\n<pre><code>.setPositiveButton(\"No\",\n    new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int id) {\n            dialog.cancel();\n            // do nothing - just continue\n            ImportActivity.this.showDialog(SAVEORBACK_DIALOG_ID);\n        }\n    })\n// etc, etc\n</code></pre>\n\n<hr>\n\n<p>Alternatively you can use an OnDismissDialogListener, this is called <em>whenever</em> the dialog is closed (via a Button click, cancel action, etc.):</p>\n\n<pre><code>case SMS_DIALOG_ID:\n    ...\n    AlertDialog dialog2 = builder2.create();\n\n    dialog2.setOnDismissListener(new OnDismissListener() {\n        public void onDismiss(DialogInterface dialog) {\n            ImportActivity.this.showDialog(SAVEORBACK_DIALOG_ID);\n        }\n    });\n\n    return dialog2;\n}\n</code></pre>\n"}],"owner":{"account_id":1520684,"reputation":4045,"user_id":1420433,"accept_rate":98,"display_name":"oikonomopo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6775,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12501440,"answer_count":1,"score":4,"last_activity_date":1669300220,"creation_date":1348081996,"question_id":12501357,"body_markdown":"I have an activity(ImportActivity) ,where user inputs some values for a measure and save them into a sqlite database.\r\n\r\nWhen the user clicks save button after import to the database i have an alert dialog(SAVEORBACK_DIALOG_ID),where the user can leave this activity or import another measure.It works perfect.\r\n\r\nMy problem is when i try to  show another alert dialog(SMS_DIALOG_ID) just before (SAVEORBACK_DIALOG_ID) alert dialog.This because i want to ask the user to send or not an sms.\r\n\r\nWhen i run this it shows me **only the second alert dialog**(SAVEORBACK_DIALOG_ID)!!\r\n\r\n\r\n![ImportActivity][1]\r\n![this is final dialog][2]\r\n\r\nI have in the activity:\r\n\r\n    static final int DATE_DIALOG_ID = 0;\r\n\tstatic final int TIME_DIALOG_ID = 1;\r\n\tstatic final int SAVEORBACK_DIALOG_ID = 2;\r\n\tstatic final int SMS_DIALOG_ID = 3;\r\n\r\nI call them from my activity :\r\n\r\n    // sms dialog (send sms to doctor? yes/no)\r\n    showDialog(SMS_DIALOG_ID);\r\n\r\n    // save or back dialog\r\n    showDialog(SAVEORBACK_DIALOG_ID);\r\n\r\n\r\nHere is the onCreateDialog method where I have my dialogs(I removed some to be easier to read):\r\n\r\n    \t@Override\r\n\tprotected Dialog onCreateDialog(int id) {\r\n\t\tswitch (id) {\r\n\t\tcase DATE_DIALOG_ID:\r\n\t\t\treturn new DatePickerDialog(this, mDateSetListener, mYear, mMonth,\r\n\t\t\t\t\tmDay);\r\n\t\tcase TIME_DIALOG_ID:\r\n\t\t\treturn new TimePickerDialog(this, mTimeSetListener, mHour, mMinute,\r\n\t\t\t\t\tfalse);\r\n\t\tcase SAVEORBACK_DIALOG_ID:\r\n\t\t\tAlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\t\t\tbuilder.setMessage(\r\n\t\t\t\t\t&quot;Information saved successfully ! Add Another Info?&quot;)\r\n\t\t\t\t\t.setCancelable(false)\r\n\t\t\t\t\t.setPositiveButton(&quot;No&quot;,\r\n\t\t\t\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t\t\t\t\t\t\t\tint id) {\r\n\t\t\t\t\t\t\t\t\tImportActivity.this.finish();\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t.setNegativeButton(&quot;Yes&quot;,\r\n\t\t\t\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t\t\t\t\t\t\t\tint id) {\r\n\t\t\t\t\t\t\t\t\tdialog.cancel();\r\n\t\t\t\t\t\t\t\t\t// get the new date\r\n\t\t\t\t\t\t\t\t\t// Clearing the fields &amp; update date/time\r\n\t\t\t\t\t\t\t\t\t// textviews\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\tAlertDialog dialog = builder.create();\r\n\t\t\treturn dialog;\r\n\r\n\t\t\t// case sms dialog\r\n\t\tcase SMS_DIALOG_ID:\r\n\t\t\tAlertDialog.Builder builder2 = new AlertDialog.Builder(this);\r\n\t\t\tbuilder2.setMessage(&quot;High blood pressure ! Send sms to doctor?&quot;)\r\n\t\t\t\t\t.setCancelable(false)\r\n\t\t\t\t\t.setPositiveButton(&quot;No&quot;,\r\n\t\t\t\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t\t\t\t\t\t\t\tint id) {\r\n\t\t\t\t\t\t\t\t\tdialog.cancel();\r\n\t\t\t\t\t\t\t\t\t// do nothing - just continue\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t.setNegativeButton(&quot;Yes&quot;,\r\n\t\t\t\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t\t\t\t\t\t\t\tint id) {\r\n\t\t\t\t\t\t\t\t\tdialog.cancel();\r\n\t\t\t\t\t\t\t\t\t// try to send sms - report status\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\tAlertDialog dialog2 = builder2.create();\r\n\t\t\treturn dialog2;\r\n\t\t\t//\r\n\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n  [1]: http://i.stack.imgur.com/mIaFS.png\r\n  [2]: http://i.stack.imgur.com/HzlJ7.png","title":"alert dialog after another alert dialog ? The first is missing! android","body":"<p>I have an activity(ImportActivity) ,where user inputs some values for a measure and save them into a sqlite database.</p>\n<p>When the user clicks save button after import to the database i have an alert dialog(SAVEORBACK_DIALOG_ID),where the user can leave this activity or import another measure.It works perfect.</p>\n<p>My problem is when i try to  show another alert dialog(SMS_DIALOG_ID) just before (SAVEORBACK_DIALOG_ID) alert dialog.This because i want to ask the user to send or not an sms.</p>\n<p>When i run this it shows me <strong>only the second alert dialog</strong>(SAVEORBACK_DIALOG_ID)!!</p>\n<p><img src=\"https://i.stack.imgur.com/mIaFS.png\" alt=\"ImportActivity\" />\n<img src=\"https://i.stack.imgur.com/HzlJ7.png\" alt=\"this is final dialog\" /></p>\n<p>I have in the activity:</p>\n<pre><code>static final int DATE_DIALOG_ID = 0;\nstatic final int TIME_DIALOG_ID = 1;\nstatic final int SAVEORBACK_DIALOG_ID = 2;\nstatic final int SMS_DIALOG_ID = 3;\n</code></pre>\n<p>I call them from my activity :</p>\n<pre><code>// sms dialog (send sms to doctor? yes/no)\nshowDialog(SMS_DIALOG_ID);\n\n// save or back dialog\nshowDialog(SAVEORBACK_DIALOG_ID);\n</code></pre>\n<p>Here is the onCreateDialog method where I have my dialogs(I removed some to be easier to read):</p>\n<pre><code>    @Override\nprotected Dialog onCreateDialog(int id) {\n    switch (id) {\n    case DATE_DIALOG_ID:\n        return new DatePickerDialog(this, mDateSetListener, mYear, mMonth,\n                mDay);\n    case TIME_DIALOG_ID:\n        return new TimePickerDialog(this, mTimeSetListener, mHour, mMinute,\n                false);\n    case SAVEORBACK_DIALOG_ID:\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setMessage(\n                &quot;Information saved successfully ! Add Another Info?&quot;)\n                .setCancelable(false)\n                .setPositiveButton(&quot;No&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                    int id) {\n                                ImportActivity.this.finish();\n\n                            }\n                        })\n                .setNegativeButton(&quot;Yes&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                    int id) {\n                                dialog.cancel();\n                                // get the new date\n                                // Clearing the fields &amp; update date/time\n                                // textviews\n                            }\n                        });\n        AlertDialog dialog = builder.create();\n        return dialog;\n\n        // case sms dialog\n    case SMS_DIALOG_ID:\n        AlertDialog.Builder builder2 = new AlertDialog.Builder(this);\n        builder2.setMessage(&quot;High blood pressure ! Send sms to doctor?&quot;)\n                .setCancelable(false)\n                .setPositiveButton(&quot;No&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                    int id) {\n                                dialog.cancel();\n                                // do nothing - just continue\n                            }\n                        })\n                .setNegativeButton(&quot;Yes&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                    int id) {\n                                dialog.cancel();\n                                // try to send sms - report status\n                            }\n                        });\n        AlertDialog dialog2 = builder2.create();\n        return dialog2;\n        //\n\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669373458,"post_id":74561876,"comment_id":131632320,"body_markdown":"@Closures Why close?","body":"@Closures Why close?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669300100,"post_id":74562192,"comment_id":131617042,"body_markdown":"Thanks for detailed information. Actually I will use Postman, not any FE app and for this reason I thought it would be good idea to show a error message (as warning of course indicating the result is empty) in the response entity. Any idea?","body":"Thanks for detailed information. Actually I will use Postman, not any FE app and for this reason I thought it would be good idea to show a error message (as warning of course indicating the result is empty) in the response entity. Any idea?"}],"tags":[],"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669299568,"creation_date":1669299568,"answer_id":74562192,"question_id":74561876,"body_markdown":"Depends on the situation and what you want to achieve with this. \r\nIt is a way to show the requesting client that there are no employees with the requested name. You should replace the &quot;runways.isEmpty()&quot; with &quot;employees.isEmpty()&quot; tho, otherwise you might get a error on the building process.\r\n\r\nSince you&#39;re already using a custom ExceptionHandler, you easily throw the Exception and then interrupt the exception message with your own custom exception message.\r\n\r\nOther option without throwing an Exception is, that you can just return the empty list and if you&#39;re having a FE application, you can make a check if the list is empty or not and corresponding to that you would show an appropriate message to the client.","title":"Should I return EntityNotFoundException for empty result in Spring Boot?","body":"<p>Depends on the situation and what you want to achieve with this.\nIt is a way to show the requesting client that there are no employees with the requested name. You should replace the &quot;runways.isEmpty()&quot; with &quot;employees.isEmpty()&quot; tho, otherwise you might get a error on the building process.</p>\n<p>Since you're already using a custom ExceptionHandler, you easily throw the Exception and then interrupt the exception message with your own custom exception message.</p>\n<p>Other option without throwing an Exception is, that you can just return the empty list and if you're having a FE application, you can make a check if the list is empty or not and corresponding to that you would show an appropriate message to the client.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669372955,"accepted_answer_id":74562192,"answer_count":1,"score":1,"last_activity_date":1669300008,"creation_date":1669298078,"question_id":74561876,"body_markdown":"In a Spring Boot app, I created a global exception handler class using `@RestControllerAdvice` as shown below:\r\n\r\n```\r\n@Slf4j(topic = &quot;GLOBAL_EXCEPTION_HANDLER&quot;)\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {-\r\n\r\n    @Override\r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                  HttpHeaders headers,\r\n                                                                  HttpStatus status,\r\n                                                                  WebRequest request) {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.UNPROCESSABLE_ENTITY.value(), VALIDATION_ERROR);\r\n        for (FieldError fieldError : ex.getBindingResult().getFieldErrors()) {\r\n            errorResponse.addValidationError(fieldError.getField(), fieldError.getDefaultMessage());\r\n        }\r\n        return ResponseEntity.unprocessableEntity().body(errorResponse);\r\n    }\r\n\r\n    @ExceptionHandler(EntityNotFoundException.class)\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public ResponseEntity&lt;Object&gt; handleEntityNotFoundException(EntityNotFoundException ex,\r\n                                                                WebRequest request) {\r\n        log.error(ENTITY_NOT_FOUND, ex);\r\n        return buildErrorResponse(ex, HttpStatus.NOT_FOUND, request);\r\n    }\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    public ResponseEntity&lt;Object&gt; handleAllUncaughtException(Exception ex, WebRequest request) {\r\n        log.error(UNKNOWN_ERROR, ex);\r\n        return buildErrorResponse(ex, UNKNOWN_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\r\n    }\r\n\r\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\r\n                                                      HttpStatus httpStatus,\r\n                                                      WebRequest request) {\r\n        return buildErrorResponse(ex, ex.getMessage(), httpStatus, request);\r\n    }\r\n\r\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\r\n                                                      String message,\r\n                                                      HttpStatus httpStatus,\r\n                                                      WebRequest request) {\r\n        ErrorResponse errorResponse = new ErrorResponse(httpStatus.value(), message);\r\n        if (printStackTrace &amp;&amp; isTraceOn(request)) {\r\n            errorResponse.setStackTrace(ExceptionUtils.getStackTrace(ex));\r\n        }\r\n        return ResponseEntity.status(httpStatus).body(errorResponse);\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;Object&gt; handleExceptionInternal(\r\n            Exception ex,\r\n            Object body,\r\n            HttpHeaders headers,\r\n            HttpStatus status,\r\n            WebRequest request) {\r\n        return buildErrorResponse(ex, status, request);\r\n    }\r\n}\r\n```\r\n\r\nI have a service method as shown below:\r\n\r\n```\r\nprivate List&lt;Employee&gt; findByName(String name) {\r\n    List&lt;Employee&gt; employees = employeeRepo.findByName(name);\r\n \r\n    // At this stage, should I check if the result is empty list and then throw exception?\r\n    if (employees.isEmpty()) {\r\n        throw new EntityNotFoundException(&quot;Not found any employee&quot;);\r\n    }\r\n\r\n    return employees;\r\n}\r\n```\r\n\r\nBefore returning employee list, should I check if the result is empty list and then throw exception?","title":"Should I return EntityNotFoundException for empty result in Spring Boot?","body":"<p>In a Spring Boot app, I created a global exception handler class using <code>@RestControllerAdvice</code> as shown below:</p>\n<pre><code>@Slf4j(topic = &quot;GLOBAL_EXCEPTION_HANDLER&quot;)\n@RestControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {-\n\n    @Override\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers,\n                                                                  HttpStatus status,\n                                                                  WebRequest request) {\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.UNPROCESSABLE_ENTITY.value(), VALIDATION_ERROR);\n        for (FieldError fieldError : ex.getBindingResult().getFieldErrors()) {\n            errorResponse.addValidationError(fieldError.getField(), fieldError.getDefaultMessage());\n        }\n        return ResponseEntity.unprocessableEntity().body(errorResponse);\n    }\n\n    @ExceptionHandler(EntityNotFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public ResponseEntity&lt;Object&gt; handleEntityNotFoundException(EntityNotFoundException ex,\n                                                                WebRequest request) {\n        log.error(ENTITY_NOT_FOUND, ex);\n        return buildErrorResponse(ex, HttpStatus.NOT_FOUND, request);\n    }\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ResponseEntity&lt;Object&gt; handleAllUncaughtException(Exception ex, WebRequest request) {\n        log.error(UNKNOWN_ERROR, ex);\n        return buildErrorResponse(ex, UNKNOWN_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\n    }\n\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\n                                                      HttpStatus httpStatus,\n                                                      WebRequest request) {\n        return buildErrorResponse(ex, ex.getMessage(), httpStatus, request);\n    }\n\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\n                                                      String message,\n                                                      HttpStatus httpStatus,\n                                                      WebRequest request) {\n        ErrorResponse errorResponse = new ErrorResponse(httpStatus.value(), message);\n        if (printStackTrace &amp;&amp; isTraceOn(request)) {\n            errorResponse.setStackTrace(ExceptionUtils.getStackTrace(ex));\n        }\n        return ResponseEntity.status(httpStatus).body(errorResponse);\n    }\n\n    @Override\n    public ResponseEntity&lt;Object&gt; handleExceptionInternal(\n            Exception ex,\n            Object body,\n            HttpHeaders headers,\n            HttpStatus status,\n            WebRequest request) {\n        return buildErrorResponse(ex, status, request);\n    }\n}\n</code></pre>\n<p>I have a service method as shown below:</p>\n<pre><code>private List&lt;Employee&gt; findByName(String name) {\n    List&lt;Employee&gt; employees = employeeRepo.findByName(name);\n \n    // At this stage, should I check if the result is empty list and then throw exception?\n    if (employees.isEmpty()) {\n        throw new EntityNotFoundException(&quot;Not found any employee&quot;);\n    }\n\n    return employees;\n}\n</code></pre>\n<p>Before returning employee list, should I check if the result is empty list and then throw exception?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9365,"page":858,"page_size":100}
