{"items":[{"tags":["java","guava"],"answers":[{"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262916253,"creation_date":1262916253,"answer_id":2024990,"question_id":2024948,"body_markdown":"    Set foo = aGeoR.getFailed();\r\n    foo = foo == null ? new HashSet() : ImmutableSet.copyOf(foo);","title":"Guava: ImmutableSet of either values or an empty set","body":"<pre><code>Set foo = aGeoR.getFailed();\nfoo = foo == null ? new HashSet() : ImmutableSet.copyOf(foo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1423099226,"creation_date":1262929259,"answer_id":2025765,"question_id":2024948,"body_markdown":"This is phrased as a question about Guava and `ImmutableSet`, but the real issue here is with `aGeoR.getFailed()`.  It is essentially never appropriate for a collection-returning method to return null.  It should be returning an empty set to begin with (see Effective Java); and yeah, the fact that it isn&#39;t is going to cause some pain to users.\r\n\r\nWhen I have to deal with an API like that, and I can&#39;t fix it or get it fixed, I do exactly what you showed in your revision of @Jherico&#39;s answer.\r\n\r\n    Set&lt;FailedGeoR&gt; failedOrNull = aGeoR.getFailed();\r\n    Set&lt;FailedGeoR&gt; failed = (failedOrNull == null)\r\n        ? ImmutableSet.&lt;FailedGeoR&gt;of()\r\n        : ImmutableSet.copyOf(failedOrNull);\r\n","title":"Guava: ImmutableSet of either values or an empty set","body":"<p>This is phrased as a question about Guava and <code>ImmutableSet</code>, but the real issue here is with <code>aGeoR.getFailed()</code>.  It is essentially never appropriate for a collection-returning method to return null.  It should be returning an empty set to begin with (see Effective Java); and yeah, the fact that it isn't is going to cause some pain to users.</p>\n\n<p>When I have to deal with an API like that, and I can't fix it or get it fixed, I do exactly what you showed in your revision of @Jherico's answer.</p>\n\n<pre><code>Set&lt;FailedGeoR&gt; failedOrNull = aGeoR.getFailed();\nSet&lt;FailedGeoR&gt; failed = (failedOrNull == null)\n    ? ImmutableSet.&lt;FailedGeoR&gt;of()\n    : ImmutableSet.copyOf(failedOrNull);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19276931,"reputation":11,"user_id":14089741,"display_name":"Agust&#237;n Ranieri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661951422,"creation_date":1656620230,"answer_id":72821546,"question_id":2024948,"body_markdown":"I would use an [`Optional`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html):\r\n\r\n```java\r\nSet&lt;FailedGeoR&gt; foo = Optional.ofNullable(aGeoR.getFailed())\r\n        .map(ImmutableSet::copyOf)\r\n        .orElse(ImmutableSet.of())\r\n```","title":"Guava: ImmutableSet of either values or an empty set","body":"<p>I would use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;FailedGeoR&gt; foo = Optional.ofNullable(aGeoR.getFailed())\n        .map(ImmutableSet::copyOf)\n        .orElse(ImmutableSet.of())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8288727,"reputation":121,"user_id":6231106,"display_name":"徐志鹏"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661912756,"creation_date":1661912756,"answer_id":73550278,"question_id":2024948,"body_markdown":"I agree @Agust&#237;n Ranieri, but if possible, I hope Guava add `ofNull` and `copyOfNull` methods, like Optional, and it&#39;s just do one more thing, when element is null or empty, always return `ImmutableSet.of()`, it&#39;s let me write less duplicates code.\r\n\r\n``` java\r\n// the foo always not be null\r\nImmutableSet&lt;?&gt; foo = ImmutableSet.copyOfNull(aGeoR.getFailed());\r\n```\r\n","title":"Guava: ImmutableSet of either values or an empty set","body":"<p>I agree @Agustín Ranieri, but if possible, I hope Guava add <code>ofNull</code> and <code>copyOfNull</code> methods, like Optional, and it's just do one more thing, when element is null or empty, always return <code>ImmutableSet.of()</code>, it's let me write less duplicates code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// the foo always not be null\nImmutableSet&lt;?&gt; foo = ImmutableSet.copyOfNull(aGeoR.getFailed());\n</code></pre>\n"}],"owner":{"account_id":88260,"reputation":2374,"user_id":244246,"accept_rate":72,"display_name":"fishtoprecords"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8635,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1661951422,"creation_date":1262915465,"question_id":2024948,"body_markdown":"I need a cleaner solution to using an ImmutableSet. I have code that looks like\r\n\r\n    Set foo = ImmutableSet.copyOf(aGeoR.getFailed());\r\n\r\nit works great when aGeoR.getFailed() returns one or more entries.\r\n\r\nit fails when the returned set is null.\r\n\r\nWhen its null, I need a \r\n\r\n    Set foo = ImmutableSet.of();\r\n\r\nWhat is the clean way to do this?\r\n","title":"Guava: ImmutableSet of either values or an empty set","body":"<p>I need a cleaner solution to using an ImmutableSet. I have code that looks like</p>\n\n<pre><code>Set foo = ImmutableSet.copyOf(aGeoR.getFailed());\n</code></pre>\n\n<p>it works great when aGeoR.getFailed() returns one or more entries.</p>\n\n<p>it fails when the returned set is null.</p>\n\n<p>When its null, I need a </p>\n\n<pre><code>Set foo = ImmutableSet.of();\n</code></pre>\n\n<p>What is the clean way to do this?</p>\n"},{"tags":["java","oracle","sys-refcursor"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1661951972,"post_id":73556260,"comment_id":129893731,"body_markdown":"The code you&#39;ve posted isn&#39;t valid; with single quotes replaced with double quotes,  consistent names, and missing semicolons, then it works. So you seem to be running something different, and you&#39;ve maybe lost crucial information rewriting it to post. Please edit your question to include a [mre] - one that we can run.","body":"The code you&#39;ve posted isn&#39;t valid; with single quotes replaced with double quotes,  consistent names, and missing semicolons, then it works. So you seem to be running something different, and you&#39;ve maybe lost crucial information rewriting it to post. Please edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - one that we can run."},{"owner":{"account_id":3861190,"reputation":1,"user_id":3198894,"display_name":"Drazhan"},"score":0,"creation_date":1662454224,"post_id":73556260,"comment_id":130003028,"body_markdown":"@AlexPoole My code is in grails, so that single quotes works and that was not the problem.","body":"@AlexPoole My code is in grails, so that single quotes works and that was not the problem."}],"owner":{"account_id":3861190,"reputation":1,"user_id":3198894,"display_name":"Drazhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662454657,"answer_count":0,"score":0,"last_activity_date":1661950694,"creation_date":1661950694,"question_id":73556260,"body_markdown":"Procedure test: \r\n\r\n    create or replace PROCEDURE test(\r\n       num IN NUMBER,\r\n       res out SYS_REFCURSOR\r\n    )\r\n    AS\r\n       query varchar2(500);\r\n    BEGIN   \r\n       query := &#39;SELECT 1,2 FROM dual&#39;;\r\n       OPEN res FOR query;\r\n       exception WHEN others   then\r\n           DBMS_OUTPUT.PUT_LINE(&#39;ERROR &#39;||SUBSTR(SQLERRM, 1 , 200));\r\n    end test;\r\n\r\nIt works, when calling from SQLDeveloper: \r\n\r\n    DECLARE\r\n       num NUMBER;\r\n       resCur SYS_REFCURSOR;\r\n       type r_individual is record (\r\n           A NUMBER, \r\n           B NUMBER\r\n       );\r\n       p_individual r_individual;\r\n    BEGIN\r\n       num := 1;\r\n       dbms_output.put_line(&#39;LANZA&#39;);\r\n       test(num, resCur);\r\n       loop\r\n           dbms_output.put_line(&#39;LOOP&#39;);\r\n           fetch resCur into p_individual;\r\n           exit when resCur%notfound;\r\n           dbms_output.put_line(p_individual.A);\r\n           dbms_output.put_line(p_individual.B);\r\n       end loop;\r\n    END;\r\n\r\nThe problem is when calling from Java:\r\n\r\n    CallableStatement sql = connection.prepareCall(&#39;{call test( ?, ?)}&#39;)\r\n    sql.setInt(&quot;num&quot;, 1)\r\n    sql.registerOutParameter(&quot;res&quot;, OracleTypes.CURSOR)        \r\n    sql.execute()\r\n\r\n    ResultSet rs = (ResultSet) sql.getObject(&quot;resCur&quot;)\r\n    while (rs.next()) {\r\n       log.debug(rs.getInt(1))\r\n    }\r\n    rs.close()\r\n\r\nI try to call a similar procedure with an out parameter type NUMBER, and it works. The problem seems to be when the out parameter is SYS_REFCURSOR.\r\n\r\nCan you help me? Thanks a lot.\r\n\r\n","title":"SQLException ORA-00604 and ORA-01003, when calling a procedure with out parameter SYS_REFCURSOR","body":"<p>Procedure test:</p>\n<pre><code>create or replace PROCEDURE test(\n   num IN NUMBER,\n   res out SYS_REFCURSOR\n)\nAS\n   query varchar2(500);\nBEGIN   \n   query := 'SELECT 1,2 FROM dual';\n   OPEN res FOR query;\n   exception WHEN others   then\n       DBMS_OUTPUT.PUT_LINE('ERROR '||SUBSTR(SQLERRM, 1 , 200));\nend test;\n</code></pre>\n<p>It works, when calling from SQLDeveloper:</p>\n<pre><code>DECLARE\n   num NUMBER;\n   resCur SYS_REFCURSOR;\n   type r_individual is record (\n       A NUMBER, \n       B NUMBER\n   );\n   p_individual r_individual;\nBEGIN\n   num := 1;\n   dbms_output.put_line('LANZA');\n   test(num, resCur);\n   loop\n       dbms_output.put_line('LOOP');\n       fetch resCur into p_individual;\n       exit when resCur%notfound;\n       dbms_output.put_line(p_individual.A);\n       dbms_output.put_line(p_individual.B);\n   end loop;\nEND;\n</code></pre>\n<p>The problem is when calling from Java:</p>\n<pre><code>CallableStatement sql = connection.prepareCall('{call test( ?, ?)}')\nsql.setInt(&quot;num&quot;, 1)\nsql.registerOutParameter(&quot;res&quot;, OracleTypes.CURSOR)        \nsql.execute()\n\nResultSet rs = (ResultSet) sql.getObject(&quot;resCur&quot;)\nwhile (rs.next()) {\n   log.debug(rs.getInt(1))\n}\nrs.close()\n</code></pre>\n<p>I try to call a similar procedure with an out parameter type NUMBER, and it works. The problem seems to be when the out parameter is SYS_REFCURSOR.</p>\n<p>Can you help me? Thanks a lot.</p>\n"},{"tags":["java","mockito","spring-boot-test"],"comments":[{"owner":{"account_id":5877752,"reputation":1515,"user_id":4628136,"accept_rate":56,"display_name":"krakig"},"score":0,"creation_date":1661867591,"post_id":73530237,"comment_id":129870251,"body_markdown":"It looks like the only solution is to anotate the class with @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD) to reload the context after each test, but it brings a massive overhead...","body":"It looks like the only solution is to anotate the class with @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD) to reload the context after each test, but it brings a massive overhead..."},{"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"score":0,"creation_date":1661950836,"post_id":73530237,"comment_id":129893289,"body_markdown":"It seems you want to test HTTP calls. you can use https://wiremock.org/ or spring mockMVCServer.","body":"It seems you want to test HTTP calls. you can use <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">wiremock.org</a> or spring mockMVCServer."}],"owner":{"account_id":5877752,"reputation":1515,"user_id":4628136,"accept_rate":56,"display_name":"krakig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661950607,"creation_date":1661782698,"question_id":73530237,"body_markdown":"I am wondering if I can set a default behavior on a mocked object, and override it for some of the tests when using `@SpringBootTest`. \r\n\r\nI tried setting the default behavior in a method annotated with `@BeforeEach`, and overriding it in the tests where I need to.\r\nThe following code works if I run the `createWithException` test alone, but not when it&#39;s part of a test suite.\r\n\r\n\r\n    @Disabled\r\n    public abstract class RestApiBaseTest extends AbstractSpringBootTest {\r\n    \r\n        @MockBean(name = &quot;myClassRestTemplate&quot;)\r\n        protected RestTemplate apiRestTemplate;\r\n    \r\n        @Mock\r\n        @Qualifier(&quot;myClassProperties&quot;)\r\n        HTTPDAOProperties apiProperties;\r\n    \r\n        @BeforeEach\r\n        public void init() throws Exception {\r\n            //default behavior for every test in a suite\r\n            ResponseEntity r = new ResponseEntity(new HashMap&lt;String, String&gt;(), HttpStatus.ACCEPTED);\r\n            Mockito.when(apiProperties.getUrl()).thenReturn(&quot;http://localhost:8080/test&quot;);\r\n            Mockito.when(apiRestTemplate.exchange(any(), Mockito.eq(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {}))).thenReturn(r);\r\n        }\r\n    \r\n    }\r\n\r\nTests : \r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ActiveProfiles(&quot;IC&quot;)\r\n    public class CreationTest extends RestApiBaseTest {\r\n\r\n        @Test\r\n        public void createWithAllInfo() {\r\n            //default behavior not overridden \r\n            // ...\r\n        }\r\n    \r\n        @Test\r\n        public void createWithException() {\r\n    \r\n            //override behavior to throw exception\r\n            APIError mockedApiError = APIError.builder()\r\n                    .withHttpCode(HttpStatus.INTERNAL_SERVER_ERROR.value())\r\n                    .withError(&quot;problem&quot;, &quot;1&quot;)\r\n                    .build();\r\n    \r\n            APIErrorException apiErrorException = new APIErrorException(mockedApiError);\r\n            Mockito.when(apiRestTemplate.exchange(Mockito.any(), Mockito.eq(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {}))).thenThrow(apiErrorException);\r\n  \r\n            //...\r\n        }\r\n    \r\n    }\r\n\r\nWhen part of a test suite, the behavior doesn&#39;t get overriden.","title":"Override default behavior of mocked object in SpringBootTest","body":"<p>I am wondering if I can set a default behavior on a mocked object, and override it for some of the tests when using <code>@SpringBootTest</code>.</p>\n<p>I tried setting the default behavior in a method annotated with <code>@BeforeEach</code>, and overriding it in the tests where I need to.\nThe following code works if I run the <code>createWithException</code> test alone, but not when it's part of a test suite.</p>\n<pre><code>@Disabled\npublic abstract class RestApiBaseTest extends AbstractSpringBootTest {\n\n    @MockBean(name = &quot;myClassRestTemplate&quot;)\n    protected RestTemplate apiRestTemplate;\n\n    @Mock\n    @Qualifier(&quot;myClassProperties&quot;)\n    HTTPDAOProperties apiProperties;\n\n    @BeforeEach\n    public void init() throws Exception {\n        //default behavior for every test in a suite\n        ResponseEntity r = new ResponseEntity(new HashMap&lt;String, String&gt;(), HttpStatus.ACCEPTED);\n        Mockito.when(apiProperties.getUrl()).thenReturn(&quot;http://localhost:8080/test&quot;);\n        Mockito.when(apiRestTemplate.exchange(any(), Mockito.eq(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {}))).thenReturn(r);\n    }\n\n}\n</code></pre>\n<p>Tests :</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;IC&quot;)\npublic class CreationTest extends RestApiBaseTest {\n\n    @Test\n    public void createWithAllInfo() {\n        //default behavior not overridden \n        // ...\n    }\n\n    @Test\n    public void createWithException() {\n\n        //override behavior to throw exception\n        APIError mockedApiError = APIError.builder()\n                .withHttpCode(HttpStatus.INTERNAL_SERVER_ERROR.value())\n                .withError(&quot;problem&quot;, &quot;1&quot;)\n                .build();\n\n        APIErrorException apiErrorException = new APIErrorException(mockedApiError);\n        Mockito.when(apiRestTemplate.exchange(Mockito.any(), Mockito.eq(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {}))).thenThrow(apiErrorException);\n\n        //...\n    }\n\n}\n</code></pre>\n<p>When part of a test suite, the behavior doesn't get overriden.</p>\n"},{"tags":["java","tomcat","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1596044557,"post_id":63157978,"comment_id":111686581,"body_markdown":"Looks like your drools might be using an older version of Java that doesn&#39;t allow parameterized types? What is line 17 as identified by the error message? Is it one of the function declarations?","body":"Looks like your drools might be using an older version of Java that doesn&#39;t allow parameterized types? What is line 17 as identified by the error message? Is it one of the function declarations?"},{"owner":{"account_id":9084615,"reputation":23,"user_id":6802432,"display_name":"dvcorreia"},"score":0,"creation_date":1596046050,"post_id":63157978,"comment_id":111687347,"body_markdown":"Yes, the function declaration","body":"Yes, the function declaration"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1596047934,"post_id":63157978,"comment_id":111688134,"body_markdown":"What version of drools is this, and how have you configured its compiler?","body":"What version of drools is this, and how have you configured its compiler?"},{"owner":{"account_id":9084615,"reputation":23,"user_id":6802432,"display_name":"dvcorreia"},"score":0,"creation_date":1596068408,"post_id":63157978,"comment_id":111695280,"body_markdown":"Version 5.0.1 . I don&#39;t really know, I never used drools before and the code base is from an open source project ([Fosstrak capture application](https://github.com/Fosstrak/fosstrak/tree/master/capturingapp/trunk)) that I&#39;m trying to use for my master thesis. They have a few drools examples in the main/resources/drools directory","body":"Version 5.0.1 . I don&#39;t really know, I never used drools before and the code base is from an open source project (<a href=\"https://github.com/Fosstrak/fosstrak/tree/master/capturingapp/trunk\" rel=\"nofollow noreferrer\">Fosstrak capture application</a>) that I&#39;m trying to use for my master thesis. They have a few drools examples in the main/resources/drools directory"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1596072121,"post_id":63157978,"comment_id":111695968,"body_markdown":"Oof that&#39;s old. Ok so when I did drools 5.0 I found that I could never get it to work with parameterized classes. You can try changing it to just return List instead of List&lt;Something&gt;. Maybe someone else will show up and explain how to get it to work with parameters, but after 6-7 years I could never get it working.","body":"Oof that&#39;s old. Ok so when I did drools 5.0 I found that I could never get it to work with parameterized classes. You can try changing it to just return List instead of List&lt;Something&gt;. Maybe someone else will show up and explain how to get it to work with parameters, but after 6-7 years I could never get it working."},{"owner":{"account_id":9084615,"reputation":23,"user_id":6802432,"display_name":"dvcorreia"},"score":0,"creation_date":1596120328,"post_id":63157978,"comment_id":111715252,"body_markdown":"That was my reaction during the whole thesis ahah","body":"That was my reaction during the whole thesis ahah"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1596228666,"post_id":63157978,"comment_id":111755936,"body_markdown":"Your current version of the question is still using modern Java constructs. Use an indexed for-loop (eg. `for(int i = 0; i &lt; list.size(); i++) { ...`) If your Drools compiler is using Java 5 you really need to restrict yourself to the language features of that JDK.","body":"Your current version of the question is still using modern Java constructs. Use an indexed for-loop (eg. <code>for(int i = 0; i &lt; list.size(); i++) { ...</code>) If your Drools compiler is using Java 5 you really need to restrict yourself to the language features of that JDK."}],"answers":[{"tags":[],"owner":{"account_id":1751674,"reputation":117,"user_id":1600619,"display_name":"codester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661950563,"creation_date":1661950563,"answer_id":73556230,"question_id":63157978,"body_markdown":"This line \r\n\r\n`function List warehouseReportHandler(List reports, String reportName){`\r\n\r\ndefines the function with the parameter as a list. However the invocation \r\n\r\n```\r\n       $reports : ECReports( reports != null)\r\n        $epcs : LinkedList( size &gt; 0 ) from collect (\r\n            EPC() from warehouseReportHandler($reports, &quot;additions&quot;)\r\n            )  \r\n``` \r\n\r\nshows a parameter of type ECReports is being sent in to the method. Can you fix this and try?","title":"Drools Function unable to resolve method using strict-mode","body":"<p>This line</p>\n<p><code>function List warehouseReportHandler(List reports, String reportName){</code></p>\n<p>defines the function with the parameter as a list. However the invocation</p>\n<pre><code>       $reports : ECReports( reports != null)\n        $epcs : LinkedList( size &gt; 0 ) from collect (\n            EPC() from warehouseReportHandler($reports, &quot;additions&quot;)\n            )  \n</code></pre>\n<p>shows a parameter of type ECReports is being sent in to the method. Can you fix this and try?</p>\n"}],"owner":{"account_id":9084615,"reputation":23,"user_id":6802432,"display_name":"dvcorreia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661950563,"creation_date":1596039303,"question_id":63157978,"body_markdown":"I have a Drools file that I&#39;m using for business logic on a Tomcat6 server running Java 1.7.0_131 inside a Docker container. When I run the code bellow:\r\n\r\n```drools\r\npackage org.fosstrak.capturingapp\r\n \r\nimport org.fosstrak.capturingapp.util.Util; \r\nimport org.fosstrak.ale.xsd.ale.epcglobal.ECReport;\r\nimport org.fosstrak.ale.xsd.ale.epcglobal.ECReports;\r\nimport org.fosstrak.ale.xsd.ale.epcglobal.ECReportGroupListMember;\r\nimport org.fosstrak.ale.xsd.epcglobal.EPC;\r\nimport org.fosstrak.capturingapp.util.SimpleEPCISDocument;\r\nimport org.fosstrak.epcis.model.ActionType;\r\n\r\nimport java.util.List;\r\nimport java.util.LinkedList;\r\nimport function org.fosstrak.capturingapp.util.Util.extractEPC;\r\nimport function org.fosstrak.capturingapp.util.Util.extractReportMembers;\r\n\r\n// the global collector for all the EPCIS documents for further processing.\r\nglobal java.util.List epcisResults\r\n\r\nfunction List warehouseReportHandler(List reports, String reportName){\r\n\t// List of ECReports\r\n\tList epcs = new LinkedList();\r\n\r\n\tfor(Object rs : reports){\r\n\t\tif(rs instanceof ECReports){\r\n\t\t\tECReports rsc = (ECReports) rs;\r\n\t\t\tfor(ECReport report : rsc.getReports().getReport()){\r\n\t\t\t\tif(report.getReportName() == reportName){\r\n\t\t\t\t\tecps.addAll(extractEPC(Util.selectTag, report));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn epcs;\r\n}\r\n\r\nrule &quot;ADDITIONS Rule Tags from reader &#39;Reader_Warehouse_Shelve1&#39; from the specName &#39;ECSpec&#39;&quot;\r\n\tdialect &quot;java&quot;\r\n\twhen\r\n\t\t$reports : ECReports( reports != null)\r\n\t\t$epcs : LinkedList( size &gt; 0 ) from collect (\r\n\t\t\tEPC() from warehouseReportHandler($reports, &quot;additions&quot;)\r\n\t\t\t)  \r\n\tthen\r\n\t\r\n\t\tSimpleEPCISDocument simpleDocument = new SimpleEPCISDocument();\r\n\t\tsimpleDocument.addObjectEvent(\r\n\t\t\t$epcs, \r\n\t\t\tActionType.OBSERVE, \r\n\t\t\t&quot;urn:epcglobal:cbv:bizstep:storing&quot;, \r\n\t\t\t&quot;urn:epcglobal:cbv:disp:sellable_not_accessible&quot;,\r\n\t\t\t&quot;urn:epc:id:sgln:76300544.00000.1&quot;,\r\n\t\t\t&quot;urn:epc:id:sgln:76300544.00000.0&quot;\r\n\t\t\t);\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n=====================================================&quot;);\r\n\t\tSystem.out.println(&quot;Additions tags seen:&quot;);\r\n\t\tfor (Object o : $epcs) System.out.println(((EPC)o).getValue());\r\n\t\tSystem.out.println(&quot;=====================================================\\n&quot;);\r\n\r\n\t\tepcisResults.add(simpleDocument.getDocument());\r\nend\r\n```\r\n\r\nI get the following error message:\r\n\r\n    21146 [Thread-2] DEBUG org.fosstrak.capturingapp.ECReportsHandler  - Unable to build expression for &#39;from&#39; : Failed to compile: 1 compilation error(s): \r\n    capture       |  - (1,45) unable to resolve method using strict-mode: java.lang.Object.warehouseReportHandler(org.fosstrak.ale.xsd.ale.epcglobal.ECReports, java.lang.String) &#39;warehouseReportHandler($reports, &quot;additions&quot;)&#39; : [Rule name=&#39;ADDITIONS Rule Tags from reader &#39;Reader_Warehouse_Shelve1&#39; from the specName &#39;ECSpec&#39;&#39;]\r\n    capture       | Error importing : &#39;org.fosstrak.capturingapp.WarehouseReportHandler.warehouseReportHandler&#39;[ warehouseReportHandler : Function Compilation error\r\n    capture       | warehouseReportHandler (line:28): ecps cannot be resolved\r\n    capture       |  ][ warehouseReportHandler : Function Compilation error\r\n    capture       | warehouseReportHandler (line:28): ecps cannot be resolved\r\n    capture       |  ]Rule Compilation error : [Rule name=&#39;ADDITIONS Rule Tags from reader &#39;Reader_Warehouse_Shelve1&#39; from the specName &#39;ECSpec&#39;&#39;]\r\n    capture       | \torg/fosstrak/capturingapp/Rule_ADDITIONS_Rule_Tags_from_reader__Reader_Warehouse_Shelve1__from_the_specName__ECSpec__0.java (2:489) : The import org.fosstrak.capturingapp.WarehouseReportHandler cannot be resolved\r\n\r\nI&#39;m new to Drools. I am not sure if it&#39;s a syntax problem.\r\n\r\n**Update:** I&#39;ve removed the generics I had previously and tried to follow the examples given in the project, without success. (https://github.com/Fosstrak/fosstrak/tree/master/capturingapp/trunk/src/main/resources/drools)\r\n\r\nThank you everyone for your time","title":"Drools Function unable to resolve method using strict-mode","body":"<p>I have a Drools file that I'm using for business logic on a Tomcat6 server running Java 1.7.0_131 inside a Docker container. When I run the code bellow:</p>\n<pre><code>package org.fosstrak.capturingapp\n \nimport org.fosstrak.capturingapp.util.Util; \nimport org.fosstrak.ale.xsd.ale.epcglobal.ECReport;\nimport org.fosstrak.ale.xsd.ale.epcglobal.ECReports;\nimport org.fosstrak.ale.xsd.ale.epcglobal.ECReportGroupListMember;\nimport org.fosstrak.ale.xsd.epcglobal.EPC;\nimport org.fosstrak.capturingapp.util.SimpleEPCISDocument;\nimport org.fosstrak.epcis.model.ActionType;\n\nimport java.util.List;\nimport java.util.LinkedList;\nimport function org.fosstrak.capturingapp.util.Util.extractEPC;\nimport function org.fosstrak.capturingapp.util.Util.extractReportMembers;\n\n// the global collector for all the EPCIS documents for further processing.\nglobal java.util.List epcisResults\n\nfunction List warehouseReportHandler(List reports, String reportName){\n    // List of ECReports\n    List epcs = new LinkedList();\n\n    for(Object rs : reports){\n        if(rs instanceof ECReports){\n            ECReports rsc = (ECReports) rs;\n            for(ECReport report : rsc.getReports().getReport()){\n                if(report.getReportName() == reportName){\n                    ecps.addAll(extractEPC(Util.selectTag, report));\n                }\n            }\n        }\n    }\n\n    return epcs;\n}\n\nrule &quot;ADDITIONS Rule Tags from reader 'Reader_Warehouse_Shelve1' from the specName 'ECSpec'&quot;\n    dialect &quot;java&quot;\n    when\n        $reports : ECReports( reports != null)\n        $epcs : LinkedList( size &gt; 0 ) from collect (\n            EPC() from warehouseReportHandler($reports, &quot;additions&quot;)\n            )  \n    then\n    \n        SimpleEPCISDocument simpleDocument = new SimpleEPCISDocument();\n        simpleDocument.addObjectEvent(\n            $epcs, \n            ActionType.OBSERVE, \n            &quot;urn:epcglobal:cbv:bizstep:storing&quot;, \n            &quot;urn:epcglobal:cbv:disp:sellable_not_accessible&quot;,\n            &quot;urn:epc:id:sgln:76300544.00000.1&quot;,\n            &quot;urn:epc:id:sgln:76300544.00000.0&quot;\n            );\n        \n        System.out.println(&quot;\\n=====================================================&quot;);\n        System.out.println(&quot;Additions tags seen:&quot;);\n        for (Object o : $epcs) System.out.println(((EPC)o).getValue());\n        System.out.println(&quot;=====================================================\\n&quot;);\n\n        epcisResults.add(simpleDocument.getDocument());\nend\n</code></pre>\n<p>I get the following error message:</p>\n<pre><code>21146 [Thread-2] DEBUG org.fosstrak.capturingapp.ECReportsHandler  - Unable to build expression for 'from' : Failed to compile: 1 compilation error(s): \ncapture       |  - (1,45) unable to resolve method using strict-mode: java.lang.Object.warehouseReportHandler(org.fosstrak.ale.xsd.ale.epcglobal.ECReports, java.lang.String) 'warehouseReportHandler($reports, &quot;additions&quot;)' : [Rule name='ADDITIONS Rule Tags from reader 'Reader_Warehouse_Shelve1' from the specName 'ECSpec'']\ncapture       | Error importing : 'org.fosstrak.capturingapp.WarehouseReportHandler.warehouseReportHandler'[ warehouseReportHandler : Function Compilation error\ncapture       | warehouseReportHandler (line:28): ecps cannot be resolved\ncapture       |  ][ warehouseReportHandler : Function Compilation error\ncapture       | warehouseReportHandler (line:28): ecps cannot be resolved\ncapture       |  ]Rule Compilation error : [Rule name='ADDITIONS Rule Tags from reader 'Reader_Warehouse_Shelve1' from the specName 'ECSpec'']\ncapture       |     org/fosstrak/capturingapp/Rule_ADDITIONS_Rule_Tags_from_reader__Reader_Warehouse_Shelve1__from_the_specName__ECSpec__0.java (2:489) : The import org.fosstrak.capturingapp.WarehouseReportHandler cannot be resolved\n</code></pre>\n<p>I'm new to Drools. I am not sure if it's a syntax problem.</p>\n<p><strong>Update:</strong> I've removed the generics I had previously and tried to follow the examples given in the project, without success. (<a href=\"https://github.com/Fosstrak/fosstrak/tree/master/capturingapp/trunk/src/main/resources/drools\" rel=\"nofollow noreferrer\">https://github.com/Fosstrak/fosstrak/tree/master/capturingapp/trunk/src/main/resources/drools</a>)</p>\n<p>Thank you everyone for your time</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1390987180,"post_id":21426519,"comment_id":32325782,"body_markdown":"It&#39;s better to have the modify method in the same controller itself, atleast for me!","body":"It&#39;s better to have the modify method in the same controller itself, atleast for me!"},{"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"score":0,"creation_date":1390987310,"post_id":21426519,"comment_id":32325855,"body_markdown":"Both the methods are in same controller","body":"Both the methods are in same controller"},{"owner":{"account_id":17641865,"reputation":33,"user_id":12803988,"display_name":"L.G"},"score":0,"creation_date":1594023860,"post_id":21426519,"comment_id":110970174,"body_markdown":"There is an interesting answer in","body":"There is an interesting answer in"}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390990392,"creation_date":1390990392,"answer_id":21427903,"question_id":21426519,"body_markdown":"&gt; How can I make sure the same object is passed by view. I do not want to add the object as sessionAttribute since a user might modify many employees in a session\r\n\r\nYou could make a field in the object that is filled with a random number at the time of initial render and then store that object in the session. In the view you can map that field with a hidden input and now when user sends a request to edit action you can get that hidden field and fetch the original object from session by the number in the hidden field. That would resolve the multiple edits in different tabs conflict.","title":"Spring MVC pass same object between controller","body":"<blockquote>\n  <p>How can I make sure the same object is passed by view. I do not want to add the object as sessionAttribute since a user might modify many employees in a session</p>\n</blockquote>\n\n<p>You could make a field in the object that is filled with a random number at the time of initial render and then store that object in the session. In the view you can map that field with a hidden input and now when user sends a request to edit action you can get that hidden field and fetch the original object from session by the number in the hidden field. That would resolve the multiple edits in different tabs conflict.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1390990549,"creation_date":1390990549,"answer_id":21427956,"question_id":21426519,"body_markdown":"You have 3 options\n\n1. Use `@SessionAttributes` to store the object in the session in between requests.\n2. Use a `@ModelAttribute` annotated method to retrieve the object before each request\n3. Write your own code and store it in the session (similair to 1 but more work on your part).\n\n### Option 1 ###\n\n1. Add the `@SessionAttributes` annotation to your controller class\n2. Add the `SessionStatus` as a parameter to your update method and the `setComplete()` method when you are finished with the object\n\n---\n    @SessionAttributes(&quot;emp&quot;)\n    public class EmployeeController {\n    @RequestMapping(value = &quot;/editEmpFormSubmission.html&quot;, method = RequestMethod.POST)\n    public String editEmpFormSubmission(\n        @RequestParam(value = &quot;page&quot;, required = false) Integer page,\n        @ModelAttribute(&quot;emp&quot;) Employee emp, BindingResult result,\n        ModelMap model, HttpServletRequest request\n        SessionStatus status) {\n     // update changes in DB\n     status.setComplete();\n    }    \n    } \n\n### Option 2 ###\n\n1. Add the method which retrieves the object from the database and annotate it with `@ModelAttribute`\n2. Cleanup your `showEmpDetails` method as it should only return a view name\n\n---\n    public class EmployeeController {\n        \n        @ModelAttribute(&quot;emp&quot;)\n        public Employee getEmployee(@RequestParam(&quot;empdId&quot;) Long id) {\n            // Get employee using empId from DB\n            return  emp;\n        }\n        \n        @RequestMapping(value = &quot;/showEmpDetail.html&quot;, method = RequestMethod.GET)\n        public String showEmpDetails() {) {\n            return &quot;showEmpDetail&quot;;\n        }\n    }\n\n### Option 3 ###\n1. In your methods add the `HttpSession` as an argument\n2. In your `showDetails` method next to adding it to the model add it to the session\n3. In your `editEmpFormSubmission` use the one from the session and copy all non-null fields to the object from the session and store that in the database.\n\nI wouldn&#39;t go for option, I strongly would suggest option 1 especially including the `setComplete()` on the `SessionStatus` object for cleanup. You could also combine 1 and 2 (have a `@ModelAttribute` annotated method and still use `@SessionAttributes`.).","title":"Spring MVC pass same object between controller","body":"<p>You have 3 options</p>\n<ol>\n<li>Use <code>@SessionAttributes</code> to store the object in the session in between requests.</li>\n<li>Use a <code>@ModelAttribute</code> annotated method to retrieve the object before each request</li>\n<li>Write your own code and store it in the session (similair to 1 but more work on your part).</li>\n</ol>\n<h3>Option 1</h3>\n<ol>\n<li>Add the <code>@SessionAttributes</code> annotation to your controller class</li>\n<li>Add the <code>SessionStatus</code> as a parameter to your update method and the <code>setComplete()</code> method when you are finished with the object</li>\n</ol>\n<hr />\n<pre><code>@SessionAttributes(&quot;emp&quot;)\npublic class EmployeeController {\n@RequestMapping(value = &quot;/editEmpFormSubmission.html&quot;, method = RequestMethod.POST)\npublic String editEmpFormSubmission(\n    @RequestParam(value = &quot;page&quot;, required = false) Integer page,\n    @ModelAttribute(&quot;emp&quot;) Employee emp, BindingResult result,\n    ModelMap model, HttpServletRequest request\n    SessionStatus status) {\n // update changes in DB\n status.setComplete();\n}    \n} \n</code></pre>\n<h3>Option 2</h3>\n<ol>\n<li>Add the method which retrieves the object from the database and annotate it with <code>@ModelAttribute</code></li>\n<li>Cleanup your <code>showEmpDetails</code> method as it should only return a view name</li>\n</ol>\n<hr />\n<pre><code>public class EmployeeController {\n    \n    @ModelAttribute(&quot;emp&quot;)\n    public Employee getEmployee(@RequestParam(&quot;empdId&quot;) Long id) {\n        // Get employee using empId from DB\n        return  emp;\n    }\n    \n    @RequestMapping(value = &quot;/showEmpDetail.html&quot;, method = RequestMethod.GET)\n    public String showEmpDetails() {) {\n        return &quot;showEmpDetail&quot;;\n    }\n}\n</code></pre>\n<h3>Option 3</h3>\n<ol>\n<li>In your methods add the <code>HttpSession</code> as an argument</li>\n<li>In your <code>showDetails</code> method next to adding it to the model add it to the session</li>\n<li>In your <code>editEmpFormSubmission</code> use the one from the session and copy all non-null fields to the object from the session and store that in the database.</li>\n</ol>\n<p>I wouldn't go for option, I strongly would suggest option 1 especially including the <code>setComplete()</code> on the <code>SessionStatus</code> object for cleanup. You could also combine 1 and 2 (have a <code>@ModelAttribute</code> annotated method and still use <code>@SessionAttributes</code>.).</p>\n"},{"tags":[],"owner":{"account_id":4619268,"reputation":19,"user_id":3744801,"display_name":"UbuVolt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661950178,"creation_date":1661950178,"answer_id":73556152,"question_id":21426519,"body_markdown":"If everything takes place within one controller then you can use:\r\n\r\n    protected Student studentTmp;\r\n\r\nwrite the object to this field in the first method\r\n\r\n    public String submitStudentDetails(@Valid Student student) {\r\n            studentTmp = student;\r\n        }\r\n    }\r\n\r\nand in the following methods refer to the field and pass it to the view\r\n\r\n    public String reviewStudentDetails(Model model) {\r\n        Student student = studentTmp;\r\n        model.addAttribute(&quot;student&quot;, student);\r\n    }","title":"Spring MVC pass same object between controller","body":"<p>If everything takes place within one controller then you can use:</p>\n<pre><code>protected Student studentTmp;\n</code></pre>\n<p>write the object to this field in the first method</p>\n<pre><code>public String submitStudentDetails(@Valid Student student) {\n        studentTmp = student;\n    }\n}\n</code></pre>\n<p>and in the following methods refer to the field and pass it to the view</p>\n<pre><code>public String reviewStudentDetails(Model model) {\n    Student student = studentTmp;\n    model.addAttribute(&quot;student&quot;, student);\n}\n</code></pre>\n"}],"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41302,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1661950178,"creation_date":1390986548,"question_id":21426519,"body_markdown":"In Spring MVC how do I pass an object between two controller methods? I have an update form and an updateController. In the controller I have 2 methods, one for fetching the data and displaying it in a view. The second method of the controller is invoked when the user clicks update button with modified changes. What I am observing is that the object which I get in second method of the controller is not the same object which I passed to the view in the first controller method call. Its a new object altogether with all form fields mapped to it. How do I make sure that the same object is passed to the second controller method which was provided to the view by the first controller method?\r\n\r\n    @RequestMapping(value = &quot;/showEmpDetail.html&quot;, method = RequestMethod.GET)\r\n\tpublic String showEmpDetails(\r\n\t\t\t@RequestParam(value = &quot;page&quot;, required = false) Integer page,\r\n\t\t\tHttpServletRequest request, @RequestParam(&quot;empId&quot;) Long empId,\r\n\t\t\tModelMap model) {\r\n        // Get employee using empId from DB\r\n        model.addAttribute(&quot;emp&quot;,emp);\r\n        return &quot;showEmpDetail&quot;;\r\n        }\r\n\r\nThe above controller method gets the emp values from Db and displays it correctly in the view. Now the user changes some details and clicks submit button. The following controller method is called.\r\n\r\n    @RequestMapping(value = &quot;/editEmpFormSubmission.html&quot;, method = RequestMethod.POST)\r\n\tpublic String editEmpFormSubmission(\r\n\t\t\t@RequestParam(value = &quot;page&quot;, required = false) Integer page,\r\n\t\t\t@ModelAttribute(&quot;emp&quot;) Employee emp, BindingResult result,\r\n\t\t\tModelMap model, HttpServletRequest request) {\r\n         // update changes in DB\r\n        }\r\n\r\nIn the above controller method when I check the emp object its not the same object which I passed in previous controller call. The fields  which are not form backed but had values were changed to null. How can I make sure the same object is passed by view. I do not want to add the object as sessionAttribute since a user might modify many employees in a session.\r\n\r\n\r\n        ","title":"Spring MVC pass same object between controller","body":"<p>In Spring MVC how do I pass an object between two controller methods? I have an update form and an updateController. In the controller I have 2 methods, one for fetching the data and displaying it in a view. The second method of the controller is invoked when the user clicks update button with modified changes. What I am observing is that the object which I get in second method of the controller is not the same object which I passed to the view in the first controller method call. Its a new object altogether with all form fields mapped to it. How do I make sure that the same object is passed to the second controller method which was provided to the view by the first controller method?</p>\n\n<pre><code>@RequestMapping(value = \"/showEmpDetail.html\", method = RequestMethod.GET)\npublic String showEmpDetails(\n        @RequestParam(value = \"page\", required = false) Integer page,\n        HttpServletRequest request, @RequestParam(\"empId\") Long empId,\n        ModelMap model) {\n    // Get employee using empId from DB\n    model.addAttribute(\"emp\",emp);\n    return \"showEmpDetail\";\n    }\n</code></pre>\n\n<p>The above controller method gets the emp values from Db and displays it correctly in the view. Now the user changes some details and clicks submit button. The following controller method is called.</p>\n\n<pre><code>@RequestMapping(value = \"/editEmpFormSubmission.html\", method = RequestMethod.POST)\npublic String editEmpFormSubmission(\n        @RequestParam(value = \"page\", required = false) Integer page,\n        @ModelAttribute(\"emp\") Employee emp, BindingResult result,\n        ModelMap model, HttpServletRequest request) {\n     // update changes in DB\n    }\n</code></pre>\n\n<p>In the above controller method when I check the emp object its not the same object which I passed in previous controller call. The fields  which are not form backed but had values were changed to null. How can I make sure the same object is passed by view. I do not want to add the object as sessionAttribute since a user might modify many employees in a session.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1661951713,"post_id":73556147,"comment_id":129893637,"body_markdown":"add `&lt;classpath/&gt;` after `&lt;argument&gt;--class-path&lt;/argument&gt;`: https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#arguments","body":"add <code>&lt;classpath&#47;&gt;</code> after <code>&lt;argument&gt;--class-path&lt;&#47;argument&gt;</code>: <a href=\"https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#arguments\" rel=\"nofollow noreferrer\">mojohaus.org/exec-maven-plugin/exec-mojo.html#arguments</a>"},{"owner":{"account_id":7939710,"reputation":712,"user_id":5994251,"accept_rate":58,"display_name":"Felix Crazzolara"},"score":0,"creation_date":1661952041,"post_id":73556147,"comment_id":129893763,"body_markdown":"@AndreyB.Panfilov Can you please be more specific. I just had a look at the documentation and I am not sure how to use your suggestion to solve my problem.","body":"@AndreyB.Panfilov Can you please be more specific. I just had a look at the documentation and I am not sure how to use your suggestion to solve my problem."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1661952338,"post_id":73556147,"comment_id":129893886,"body_markdown":"There are examples by the link: https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html","body":"There are examples by the link: <a href=\"https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html\" rel=\"nofollow noreferrer\">mojohaus.org/exec-maven-plugin/examples/&hellip;</a>"},{"owner":{"account_id":7939710,"reputation":712,"user_id":5994251,"accept_rate":58,"display_name":"Felix Crazzolara"},"score":0,"creation_date":1661952821,"post_id":73556147,"comment_id":129894077,"body_markdown":"@AndreyB.Panfilov thanks man!! I got it to work now. Wow, the way this has to be done feels really so hacky. What a terrible build system.","body":"@AndreyB.Panfilov thanks man!! I got it to work now. Wow, the way this has to be done feels really so hacky. What a terrible build system."}],"owner":{"account_id":7939710,"reputation":712,"user_id":5994251,"accept_rate":58,"display_name":"Felix Crazzolara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661950145,"creation_date":1661950145,"question_id":73556147,"body_markdown":"I work on a very large Java project. The project has a top-level `pom.xml` file, which specifies various 3rd-party dependencies. The top-level `pom.xml` file also specifies various submodules, one of which being the one I&#39;d like to modify.\r\n\r\nMy goal is to define a goal to run `java -h` to generate JNI header files. This is what I have so far:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;generate-jni-headers&lt;/id&gt;\r\n                &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;workingDirectory&gt;${project.basedir}&lt;/workingDirectory&gt;\r\n            &lt;executable&gt;javac&lt;/executable&gt;\r\n            &lt;arguments&gt;\r\n                &lt;argument&gt;--class-path&lt;/argument&gt;\r\n                &lt;argument&gt;${project.build.sourceDirectory}&lt;/argument&gt;\r\n                &lt;argument&gt;-h&lt;/argument&gt;\r\n                &lt;argument&gt;${project.basedir}/path_to_include_folder&lt;/argument&gt;\r\n                &lt;argument&gt;${project.basedir}/path_to_java_class_file_to_be_processed&lt;/argument&gt;\r\n            &lt;/arguments&gt;\r\n          &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nUnfortunately, `javac` complains about many packages to not exist. At least most of these unresolved packages correspond to those that are specified as 3rd-party dependencies in the top-level `pom.xml` file.\r\n\r\nHow can I modify the code above to provide `javac` with the same classpath information that is being used by `maven-compiler-plugin` to compile the code?","title":"How to retrieve classpath used by maven-compiler-plugin?","body":"<p>I work on a very large Java project. The project has a top-level <code>pom.xml</code> file, which specifies various 3rd-party dependencies. The top-level <code>pom.xml</code> file also specifies various submodules, one of which being the one I'd like to modify.</p>\n<p>My goal is to define a goal to run <code>java -h</code> to generate JNI header files. This is what I have so far:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-jni-headers&lt;/id&gt;\n            &lt;phase&gt;process-classes&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;workingDirectory&gt;${project.basedir}&lt;/workingDirectory&gt;\n        &lt;executable&gt;javac&lt;/executable&gt;\n        &lt;arguments&gt;\n            &lt;argument&gt;--class-path&lt;/argument&gt;\n            &lt;argument&gt;${project.build.sourceDirectory}&lt;/argument&gt;\n            &lt;argument&gt;-h&lt;/argument&gt;\n            &lt;argument&gt;${project.basedir}/path_to_include_folder&lt;/argument&gt;\n            &lt;argument&gt;${project.basedir}/path_to_java_class_file_to_be_processed&lt;/argument&gt;\n        &lt;/arguments&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Unfortunately, <code>javac</code> complains about many packages to not exist. At least most of these unresolved packages correspond to those that are specified as 3rd-party dependencies in the top-level <code>pom.xml</code> file.</p>\n<p>How can I modify the code above to provide <code>javac</code> with the same classpath information that is being used by <code>maven-compiler-plugin</code> to compile the code?</p>\n"},{"tags":["java","serialization","rust"],"comments":[{"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":1,"creation_date":1661936290,"post_id":73553328,"comment_id":129887970,"body_markdown":"Have you read the book&#39;s section on [using structs](https://doc.rust-lang.org/stable/book/ch05-00-structs.html)? To make them serializable, use [Serde](https://serde.rs/).","body":"Have you read the book&#39;s section on <a href=\"https://doc.rust-lang.org/stable/book/ch05-00-structs.html\" rel=\"nofollow noreferrer\">using structs</a>? To make them serializable, use <a href=\"https://serde.rs/\" rel=\"nofollow noreferrer\">Serde</a>."},{"owner":{"account_id":18777764,"reputation":105,"user_id":13693125,"display_name":"cloud"},"score":0,"creation_date":1661936480,"post_id":73553328,"comment_id":129888049,"body_markdown":"hi, thanks for the response! I&#39;ve read about struct and Serde, but I don&#39;t know how to implement it because the syntax looks very confusing to me, so I was hoping someone could show me an example of how to implement it","body":"hi, thanks for the response! I&#39;ve read about struct and Serde, but I don&#39;t know how to implement it because the syntax looks very confusing to me, so I was hoping someone could show me an example of how to implement it"},{"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":1,"creation_date":1661937120,"post_id":73553328,"comment_id":129888295,"body_markdown":"The [front page of Serde](https://serde.rs/#data-structures) shows a pretty clear example. You will need to specify in what way the syntax is confusing you, or maybe portray an example of what you were trying to achieve and could not understand how to get to a solution.","body":"The <a href=\"https://serde.rs/#data-structures\" rel=\"nofollow noreferrer\">front page of Serde</a> shows a pretty clear example. You will need to specify in what way the syntax is confusing you, or maybe portray an example of what you were trying to achieve and could not understand how to get to a solution."},{"owner":{"account_id":18777764,"reputation":105,"user_id":13693125,"display_name":"cloud"},"score":0,"creation_date":1661938074,"post_id":73553328,"comment_id":129888665,"body_markdown":"ok, will take note of that. thanks!","body":"ok, will take note of that. thanks!"},{"owner":{"account_id":15019019,"reputation":1131,"user_id":10841058,"display_name":"Naeio"},"score":1,"creation_date":1661953264,"post_id":73553328,"comment_id":129894259,"body_markdown":"I just wanna add that Rust doesn&#39;t actually work as usual OO languages. There&#39;s neither &quot;class&quot; nor &quot;object&quot; strictly speaking, no inheritance, no casting. A way you can understand it is you can &quot;link&quot; a function to a type, and access it through any variable of this type. (Yes, you can add methods to integers, enums, and everything else.) And to allow generic code, there are traits that tell &quot;any type implementing the trait have these methods&quot;. So for serializing, you need to have a type that implements the trait serializable (and you can implement it for the type if needed) and use the trait","body":"I just wanna add that Rust doesn&#39;t actually work as usual OO languages. There&#39;s neither &quot;class&quot; nor &quot;object&quot; strictly speaking, no inheritance, no casting. A way you can understand it is you can &quot;link&quot; a function to a type, and access it through any variable of this type. (Yes, you can add methods to integers, enums, and everything else.) And to allow generic code, there are traits that tell &quot;any type implementing the trait have these methods&quot;. So for serializing, you need to have a type that implements the trait serializable (and you can implement it for the type if needed) and use the trait"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1661962228,"post_id":73553328,"comment_id":129897751,"body_markdown":"@Naeio Thank you for that neat summary of Rust versus object-oriented programming. I’ve been looking for just such a thing, to satisfy my curiosity about Rust.","body":"@Naeio Thank you for that neat summary of Rust versus object-oriented programming. I’ve been looking for just such a thing, to satisfy my curiosity about Rust."},{"owner":{"account_id":15019019,"reputation":1131,"user_id":10841058,"display_name":"Naeio"},"score":0,"creation_date":1662234250,"post_id":73553328,"comment_id":129960898,"body_markdown":"@BasilBourque No problem! I understand Rust can be puzzling for people coming from more conventional OO languages. Stack Overflow is not the best place to find people to help understand, you can go instead to the subreddit r/rust. Maybe you&#39;ll find me over there ;-)","body":"@BasilBourque No problem! I understand Rust can be puzzling for people coming from more conventional OO languages. Stack Overflow is not the best place to find people to help understand, you can go instead to the subreddit r/rust. Maybe you&#39;ll find me over there ;-)"}],"answers":[{"tags":[],"owner":{"account_id":15973624,"reputation":14365,"user_id":11527076,"display_name":"prog-fh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661937221,"creation_date":1661937221,"answer_id":73553563,"question_id":73553328,"body_markdown":"In case it helps, here is a trivial example which serialises some structs to a json string then deserialises this json string in order to recreate the equivalent structs.\r\nBut if you are not familiar with the basic elements of the Rust language, this will not be very helpful.\r\n```rust\r\nuse serde::{Deserialize, Serialize};\r\n\r\n#[derive(Debug, Serialize, Deserialize)]\r\nstruct Stat {\r\n    name: String,\r\n    values: Vec&lt;f32&gt;,\r\n}\r\n\r\nfn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\r\n    let prepared_stats = vec![\r\n        Stat {\r\n            name: &quot;age&quot;.to_owned(),\r\n            values: vec![37.0, 51.0, 46.0, 28.0],\r\n        },\r\n        Stat {\r\n            name: &quot;BMI&quot;.to_owned(),\r\n            values: vec![28.2, 21.3, 18.4, 20.4],\r\n        },\r\n    ];\r\n    println!(&quot;prepared_stats:\\n  {:?}&quot;, prepared_stats);\r\n    let json_serialised_stats = serde_json::to_string(&amp;prepared_stats)?;\r\n    println!(&quot;json_serialised_stats:\\n  {}&quot;, json_serialised_stats);\r\n    let deserialised_stats =\r\n        serde_json::from_str::&lt;Vec&lt;Stat&gt;&gt;(&amp;json_serialised_stats)?;\r\n    println!(&quot;deserialised_stats:\\n  {:?}&quot;, deserialised_stats);\r\n    Ok(())\r\n}\r\n/*\r\nprepared_stats:\r\n  [Stat { name: &quot;age&quot;, values: [37.0, 51.0, 46.0, 28.0] }, Stat { name: &quot;BMI&quot;, values: [28.2, 21.3, 18.4, 20.4] }]\r\njson_serialised_stats:\r\n  [{&quot;name&quot;:&quot;age&quot;,&quot;values&quot;:[37.0,51.0,46.0,28.0]},{&quot;name&quot;:&quot;BMI&quot;,&quot;values&quot;:[28.2,21.3,18.4,20.4]}]\r\ndeserialised_stats:\r\n  [Stat { name: &quot;age&quot;, values: [37.0, 51.0, 46.0, 28.0] }, Stat { name: &quot;BMI&quot;, values: [28.2, 21.3, 18.4, 20.4] }]\r\n*/\r\n```\r\nIn `Cargo.toml`\r\n```rust\r\n[dependencies]\r\nserde = { version = &quot;1.0&quot;, features = [&quot;derive&quot;] }\r\nserde_json = &quot;1.0&quot;\r\n```\r\n","title":"How to create object in Rust like in Java?","body":"<p>In case it helps, here is a trivial example which serialises some structs to a json string then deserialises this json string in order to recreate the equivalent structs.\nBut if you are not familiar with the basic elements of the Rust language, this will not be very helpful.</p>\n<pre class=\"lang-rust prettyprint-override\"><code>use serde::{Deserialize, Serialize};\n\n#[derive(Debug, Serialize, Deserialize)]\nstruct Stat {\n    name: String,\n    values: Vec&lt;f32&gt;,\n}\n\nfn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n    let prepared_stats = vec![\n        Stat {\n            name: &quot;age&quot;.to_owned(),\n            values: vec![37.0, 51.0, 46.0, 28.0],\n        },\n        Stat {\n            name: &quot;BMI&quot;.to_owned(),\n            values: vec![28.2, 21.3, 18.4, 20.4],\n        },\n    ];\n    println!(&quot;prepared_stats:\\n  {:?}&quot;, prepared_stats);\n    let json_serialised_stats = serde_json::to_string(&amp;prepared_stats)?;\n    println!(&quot;json_serialised_stats:\\n  {}&quot;, json_serialised_stats);\n    let deserialised_stats =\n        serde_json::from_str::&lt;Vec&lt;Stat&gt;&gt;(&amp;json_serialised_stats)?;\n    println!(&quot;deserialised_stats:\\n  {:?}&quot;, deserialised_stats);\n    Ok(())\n}\n/*\nprepared_stats:\n  [Stat { name: &quot;age&quot;, values: [37.0, 51.0, 46.0, 28.0] }, Stat { name: &quot;BMI&quot;, values: [28.2, 21.3, 18.4, 20.4] }]\njson_serialised_stats:\n  [{&quot;name&quot;:&quot;age&quot;,&quot;values&quot;:[37.0,51.0,46.0,28.0]},{&quot;name&quot;:&quot;BMI&quot;,&quot;values&quot;:[28.2,21.3,18.4,20.4]}]\ndeserialised_stats:\n  [Stat { name: &quot;age&quot;, values: [37.0, 51.0, 46.0, 28.0] }, Stat { name: &quot;BMI&quot;, values: [28.2, 21.3, 18.4, 20.4] }]\n*/\n</code></pre>\n<p>In <code>Cargo.toml</code></p>\n<pre class=\"lang-rust prettyprint-override\"><code>[dependencies]\nserde = { version = &quot;1.0&quot;, features = [&quot;derive&quot;] }\nserde_json = &quot;1.0&quot;\n</code></pre>\n"}],"owner":{"account_id":18777764,"reputation":105,"user_id":13693125,"display_name":"cloud"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":73553563,"answer_count":1,"score":-1,"last_activity_date":1661950114,"creation_date":1661936141,"question_id":73553328,"body_markdown":"I&#39;m new to Rust, and I would like to know if it&#39;s possible to create serializable objects like we do in Java. For instance, my Java class looks like this:\r\n\r\n```java\r\npublic class Obj implements Serializable {\r\n    int objNo;\r\n    String objName;\r\n    \r\n    public Obj (int objNo, String objName) {\r\n        this.objNo = sushiNo;\r\n        this.objName = objName;\r\n    }\r\n}\r\n```\r\n\r\nI am able to create and access the object in another function, like below:\r\n\r\n```java\r\nObj obj1 = new Obj(objNo, objName);\r\nSystem.out.println(&quot;Object&quot; + objNo + &quot;: &quot; + objName);\r\n```\r\n\r\nHow do I translate this serializable/deserializable Java object into Rust and be able to access it? If it is not possible to create something like this, are there any alternatives?\r\n\r\nI&#39;ve read about struct and Serde, but I don&#39;t know how to implement it because the syntax looks very confusing to me, which is why I&#39;m asking for help.","title":"How to create object in Rust like in Java?","body":"<p>I'm new to Rust, and I would like to know if it's possible to create serializable objects like we do in Java. For instance, my Java class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Obj implements Serializable {\n    int objNo;\n    String objName;\n    \n    public Obj (int objNo, String objName) {\n        this.objNo = sushiNo;\n        this.objName = objName;\n    }\n}\n</code></pre>\n<p>I am able to create and access the object in another function, like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Obj obj1 = new Obj(objNo, objName);\nSystem.out.println(&quot;Object&quot; + objNo + &quot;: &quot; + objName);\n</code></pre>\n<p>How do I translate this serializable/deserializable Java object into Rust and be able to access it? If it is not possible to create something like this, are there any alternatives?</p>\n<p>I've read about struct and Serde, but I don't know how to implement it because the syntax looks very confusing to me, which is why I'm asking for help.</p>\n"},{"tags":["java","maven","junit5","maven-surefire-plugin","cucumber-junit"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1661517112,"post_id":73500331,"comment_id":129797102,"body_markdown":"Please make a full working example on Github......","body":"Please make a full working example on Github......"},{"owner":{"account_id":13006420,"reputation":31,"user_id":9400807,"display_name":"Dusko.B"},"score":0,"creation_date":1661950075,"post_id":73500331,"comment_id":129892977,"body_markdown":"I’ve come up to new conclusions and changed my question. I’m not allowed to share client code but I have shared a part of pom related to cucumber and jUnit dependencies.","body":"I’ve come up to new conclusions and changed my question. I’m not allowed to share client code but I have shared a part of pom related to cucumber and jUnit dependencies."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1661975458,"post_id":73500331,"comment_id":129902057,"body_markdown":"Have a look at the docs on how to make a minimal reproducer.  You should be able to do this without including proprietary code. https://stackoverflow.com/help/minimal-reproducible-example","body":"Have a look at the docs on how to make a minimal reproducer.  You should be able to do this without including proprietary code. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":13006420,"reputation":31,"user_id":9400807,"display_name":"Dusko.B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661950006,"creation_date":1661513298,"question_id":73500331,"body_markdown":"I have specific dependency in my project which uses cucumber 6.2.0 and runes on jUnit4 with vintage engine. The dependency changes maven-surefire-plugin behavior when added to project. If I exclude cucumber from dependency maven-surefire-plugin detects tests again.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;some.company&lt;/groupId&gt;\r\n      &lt;artifactId&gt;some.dependency&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n             &lt;exclusion&gt;\r\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n         &lt;/exclusions&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI’ve adopted that dependency project in separate branch so cucumber runs on junit5 and it solves the issue. I still don’t understand what gets inherited and brakes surefire plugin when running cucumber on vintage engine.\r\nI cannot reproduce the Issue completely and I’m not allowed to share client code. What I can share is part of pom that refers to jUnit and cucumber.\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;cucumber.version&gt;6.2.0&lt;/cucumber.version&gt;\r\n        &lt;junit.platform.version&gt;1.7.0-M1&lt;/junit.platform.version&gt;\r\n        &lt;junit.jupiter.version&gt;5.7.0-M1&lt;/junit.jupiter.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- cucumber --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- cucumber runs on JUnit4, so we need the compatibility engine --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nCode runs with Apache Maven 3.8.1 and Java version: 11.\r\n","title":"Including dependency containing cucumber(jUnit4) brakes maven-surefire-plugin test detection in jUnit5 project","body":"<p>I have specific dependency in my project which uses cucumber 6.2.0 and runes on jUnit4 with vintage engine. The dependency changes maven-surefire-plugin behavior when added to project. If I exclude cucumber from dependency maven-surefire-plugin detects tests again.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;some.company&lt;/groupId&gt;\n  &lt;artifactId&gt;some.dependency&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n         &lt;exclusion&gt;\n            &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n     &lt;/exclusions&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I’ve adopted that dependency project in separate branch so cucumber runs on junit5 and it solves the issue. I still don’t understand what gets inherited and brakes surefire plugin when running cucumber on vintage engine.\nI cannot reproduce the Issue completely and I’m not allowed to share client code. What I can share is part of pom that refers to jUnit and cucumber.</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;cucumber.version&gt;6.2.0&lt;/cucumber.version&gt;\n    &lt;junit.platform.version&gt;1.7.0-M1&lt;/junit.platform.version&gt;\n    &lt;junit.jupiter.version&gt;5.7.0-M1&lt;/junit.jupiter.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- cucumber --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber.version}&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- cucumber runs on JUnit4, so we need the compatibility engine --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n      &lt;version&gt;${junit.platform.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Code runs with Apache Maven 3.8.1 and Java version: 11.</p>\n"},{"tags":["java","generics","overloading"],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661944234,"creation_date":1661944234,"answer_id":73554988,"question_id":73554852,"body_markdown":"Instead of a static method, you can introduce a new interface `Processable` that contains this method.\r\n\r\n```\r\ninterface Processable&lt;T&gt; {\r\n  void process(T something);\r\n}\r\n```\r\nand then implement it with your aggregation\r\n```\r\nProcessable&lt;T&gt; printerAndCalculator(Printer printer, Calculator calculator){\r\n return t -&gt; {\r\n  printer.print(t);\r\n  calculator.calc(t);\r\n };\r\n}\r\n...\r\nProcessable&lt;YourClass&gt; printAndCalculate = printerAndCalculator(yourPrinter, yourCalculator);\r\nprintAndCalculate.process(actualParameter);\r\n```\r\nNote: I added the `T` argument to the `print()` and `calc()` methods because it was unused.\r\n\r\n","title":"Java method overloading based on generics restrictions","body":"<p>Instead of a static method, you can introduce a new interface <code>Processable</code> that contains this method.</p>\n<pre><code>interface Processable&lt;T&gt; {\n  void process(T something);\n}\n</code></pre>\n<p>and then implement it with your aggregation</p>\n<pre><code>Processable&lt;T&gt; printerAndCalculator(Printer printer, Calculator calculator){\n return t -&gt; {\n  printer.print(t);\n  calculator.calc(t);\n };\n}\n...\nProcessable&lt;YourClass&gt; printAndCalculate = printerAndCalculator(yourPrinter, yourCalculator);\nprintAndCalculate.process(actualParameter);\n</code></pre>\n<p>Note: I added the <code>T</code> argument to the <code>print()</code> and <code>calc()</code> methods because it was unused.</p>\n"},{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661944879,"creation_date":1661944879,"answer_id":73555122,"question_id":73554852,"body_markdown":"answering the question you mentioned :\r\n\r\n&gt; My question is, whether it&#39;s somewhere defined that this shall work on all Java implementations.\r\n\r\nso not all java version will support that solution , if you are working with **intellij-idea**  , you can specify the version of java to test that code on from `file -&gt; project struct -&gt; project language level` as in the image below :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nstarting from java 5 in 2004 , they introduced java generics and starting from java 6 in 2006 , they introduced the override in interfaces , major addition in java versions can be seen in the same window in **intellij-idea** like the next image :\r\n\r\n[![enter image description here][2]][2] \r\n\r\nso your code will work fine with any java implementation version 6 and above.\r\n\r\nand here is image of result when running with java version 6 :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nand the next one with java version 5:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nand next one with java version 1.4 :\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nlw3N.png\r\n  [2]: https://i.stack.imgur.com/sVzbA.png\r\n  [3]: https://i.stack.imgur.com/RplSk.png\r\n  [4]: https://i.stack.imgur.com/zpEh6.png\r\n  [5]: https://i.stack.imgur.com/JGk6Z.png","title":"Java method overloading based on generics restrictions","body":"<p>answering the question you mentioned :</p>\n<blockquote>\n<p>My question is, whether it's somewhere defined that this shall work on all Java implementations.</p>\n</blockquote>\n<p>so not all java version will support that solution , if you are working with <strong>intellij-idea</strong>  , you can specify the version of java to test that code on from <code>file -&gt; project struct -&gt; project language level</code> as in the image below :</p>\n<p><a href=\"https://i.stack.imgur.com/Nlw3N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nlw3N.png\" alt=\"enter image description here\" /></a></p>\n<p>starting from java 5 in 2004 , they introduced java generics and starting from java 6 in 2006 , they introduced the override in interfaces , major addition in java versions can be seen in the same window in <strong>intellij-idea</strong> like the next image :</p>\n<p><a href=\"https://i.stack.imgur.com/sVzbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sVzbA.png\" alt=\"enter image description here\" /></a></p>\n<p>so your code will work fine with any java implementation version 6 and above.</p>\n<p>and here is image of result when running with java version 6 :</p>\n<p><a href=\"https://i.stack.imgur.com/RplSk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RplSk.png\" alt=\"enter image description here\" /></a></p>\n<p>and the next one with java version 5:</p>\n<p><a href=\"https://i.stack.imgur.com/zpEh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpEh6.png\" alt=\"enter image description here\" /></a></p>\n<p>and next one with java version 1.4 :</p>\n<p><a href=\"https://i.stack.imgur.com/JGk6Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JGk6Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661949719,"creation_date":1661949719,"answer_id":73556057,"question_id":73554852,"body_markdown":"**TL;DR** yes, this behavior is well specified and hence, guaranteed to work across all Java implementations.\r\n\r\nThe choice of the most specific method is described in [JLS, &#167;15.12.2.5. Choosing the Most Specific Method] as\r\n\r\n&gt; If more than one member method is both accessible and applicable to a method invocation, it is necessary to choose one to provide the descriptor for the run-time method dispatch. The Java programming language uses the rule that the *most specific* method is chosen.\r\n&gt; \r\n&gt; The informal intuition is that one method is more specific than another if any invocation handled by the first method could be passed on to the other one without a compile-time error.\r\n\r\nthe latter section being sufficient to explain why `&lt;T extends Calculator &amp; Printer&gt; void process(T something)` is more specific than `process(Printer something)`. Any valid argument to the former is a subtype of `Calculator` and `Printer`, hence, could be passed to `process(Printer)` without errors (but not the other way round).\r\n\r\nThe caveat here is that you have to declare the methods in a specific way to compile the overloaded declarations in the first place. Had you written `&lt;T extends Printer &amp; Calculator&gt; void process(T something)`, the code wouldn’t compile.\r\n\r\nThe reason is given in [JLS, &#167;4.6. Type Erasure]:\r\n\r\n&gt; The erasure of a type variable ([&#167;4.4]) is the erasure of its leftmost bound.\r\n\r\nSo while being the same generic type, the erasure of `&lt;T extends Calculator &amp; Printer&gt;` is `Calculator` but the erasure of `&lt;T extends Printer &amp; Calculator&gt;` is `Printer`.\r\n\r\nHad you used `&lt;T extends Printer &amp; Calculator&gt; void process(T something)`, the erased method declaration would be `void process(Printer)` and conflict with the non-generic `void process(Printer)` method.\r\n\r\nThe declaration `&lt;T extends Calculator &amp; Printer&gt; void process(T something)` is guaranteed to produce a method `process(Calculator)`, distinct from `process(Printer)` after type erasure. For completeness, had you both, a `void process(Printer)` and a `void process(Calculator)`, you could use this knowledge about type erasure to still create a distinct method for the generic variant, by using `&lt;T extends Object &amp; Calculator &amp; Printer&gt;`.\r\n\r\n[JLS, &#167;15.12.2.5. Choosing the Most Specific Method]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.5\r\n[JLS, &#167;4.6. Type Erasure]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.6\r\n[&#167;4.4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.4 (4.4. Type Variables)","title":"Java method overloading based on generics restrictions","body":"<p><strong>TL;DR</strong> yes, this behavior is well specified and hence, guaranteed to work across all Java implementations.</p>\n<p>The choice of the most specific method is described in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">JLS, §15.12.2.5. Choosing the Most Specific Method</a> as</p>\n<blockquote>\n<p>If more than one member method is both accessible and applicable to a method invocation, it is necessary to choose one to provide the descriptor for the run-time method dispatch. The Java programming language uses the rule that the <em>most specific</em> method is chosen.</p>\n<p>The informal intuition is that one method is more specific than another if any invocation handled by the first method could be passed on to the other one without a compile-time error.</p>\n</blockquote>\n<p>the latter section being sufficient to explain why <code>&lt;T extends Calculator &amp; Printer&gt; void process(T something)</code> is more specific than <code>process(Printer something)</code>. Any valid argument to the former is a subtype of <code>Calculator</code> and <code>Printer</code>, hence, could be passed to <code>process(Printer)</code> without errors (but not the other way round).</p>\n<p>The caveat here is that you have to declare the methods in a specific way to compile the overloaded declarations in the first place. Had you written <code>&lt;T extends Printer &amp; Calculator&gt; void process(T something)</code>, the code wouldn’t compile.</p>\n<p>The reason is given in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">JLS, §4.6. Type Erasure</a>:</p>\n<blockquote>\n<p>The erasure of a type variable (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.4\" rel=\"nofollow noreferrer\" title=\"4.4. Type Variables\">§4.4</a>) is the erasure of its leftmost bound.</p>\n</blockquote>\n<p>So while being the same generic type, the erasure of <code>&lt;T extends Calculator &amp; Printer&gt;</code> is <code>Calculator</code> but the erasure of <code>&lt;T extends Printer &amp; Calculator&gt;</code> is <code>Printer</code>.</p>\n<p>Had you used <code>&lt;T extends Printer &amp; Calculator&gt; void process(T something)</code>, the erased method declaration would be <code>void process(Printer)</code> and conflict with the non-generic <code>void process(Printer)</code> method.</p>\n<p>The declaration <code>&lt;T extends Calculator &amp; Printer&gt; void process(T something)</code> is guaranteed to produce a method <code>process(Calculator)</code>, distinct from <code>process(Printer)</code> after type erasure. For completeness, had you both, a <code>void process(Printer)</code> and a <code>void process(Calculator)</code>, you could use this knowledge about type erasure to still create a distinct method for the generic variant, by using <code>&lt;T extends Object &amp; Calculator &amp; Printer&gt;</code>.</p>\n"}],"owner":{"account_id":2024403,"reputation":695,"user_id":1809845,"display_name":"Mi-La"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73556057,"answer_count":3,"score":3,"last_activity_date":1661949719,"creation_date":1661943458,"question_id":73554852,"body_markdown":"**Simplified description:**\r\nI have method `process()`, which should do different things for objects which implement only `First` interface and different things for objects which implement `First` and `Second` interface at the same time. Naturally, an object implementing both interfaces still match to the `process()` method which requires implementing only the `First` interface. But fortunately the most specific overload is called as I need.\r\n\r\nMy question is, whether it&#39;s somewhere defined that this shall work on all Java implementations.\r\n\r\n**Working sample:**\r\n```\r\npublic class Main\r\n{\r\n  public interface Printer\r\n  {\r\n    void print ();\r\n  }\r\n\r\n  public interface Calculator\r\n  {\r\n    void calc ();\r\n  }\r\n\r\n  public static class MyPrinter implements Printer\r\n  {\r\n    @Override public void print ()\r\n    {\r\n      System.out.println (&quot;MyPrinter&quot;);\r\n    }\r\n  }\r\n\r\n  public static class MyPrintingCalculator implements Printer, Calculator\r\n  {\r\n    @Override public void print ()\r\n    {\r\n      System.out.println (&quot;MyPrintingCalculator&quot;);\r\n    }\r\n\r\n     @Override public void calc ()\r\n    {\r\n      System.out.println (&quot;Calculating&quot;);\r\n    }\r\n  }\r\n\r\n  public static &lt;T extends Calculator &amp; Printer &gt; void process (T something)\r\n  {\r\n    something.print ();\r\n    something.calc ();\r\n  }\r\n\r\n  public static void process (Printer something)\r\n  {\r\n    something.print ();\r\n  }\r\n\r\n  public static void main (String args[])\r\n  {\r\n    final MyPrinter printer = new MyPrinter ();\r\n    final MyPrintingCalculator calculator = new MyPrintingCalculator ();\r\n\r\n    process (printer);\r\n    process (calculator);\r\n  }\r\n}\r\n```\r\nTry on [onlinegdb](https://onlinegdb.com/Hy7yhg5Ptc)","title":"Java method overloading based on generics restrictions","body":"<p><strong>Simplified description:</strong>\nI have method <code>process()</code>, which should do different things for objects which implement only <code>First</code> interface and different things for objects which implement <code>First</code> and <code>Second</code> interface at the same time. Naturally, an object implementing both interfaces still match to the <code>process()</code> method which requires implementing only the <code>First</code> interface. But fortunately the most specific overload is called as I need.</p>\n<p>My question is, whether it's somewhere defined that this shall work on all Java implementations.</p>\n<p><strong>Working sample:</strong></p>\n<pre><code>public class Main\n{\n  public interface Printer\n  {\n    void print ();\n  }\n\n  public interface Calculator\n  {\n    void calc ();\n  }\n\n  public static class MyPrinter implements Printer\n  {\n    @Override public void print ()\n    {\n      System.out.println (&quot;MyPrinter&quot;);\n    }\n  }\n\n  public static class MyPrintingCalculator implements Printer, Calculator\n  {\n    @Override public void print ()\n    {\n      System.out.println (&quot;MyPrintingCalculator&quot;);\n    }\n\n     @Override public void calc ()\n    {\n      System.out.println (&quot;Calculating&quot;);\n    }\n  }\n\n  public static &lt;T extends Calculator &amp; Printer &gt; void process (T something)\n  {\n    something.print ();\n    something.calc ();\n  }\n\n  public static void process (Printer something)\n  {\n    something.print ();\n  }\n\n  public static void main (String args[])\n  {\n    final MyPrinter printer = new MyPrinter ();\n    final MyPrintingCalculator calculator = new MyPrintingCalculator ();\n\n    process (printer);\n    process (calculator);\n  }\n}\n</code></pre>\n<p>Try on <a href=\"https://onlinegdb.com/Hy7yhg5Ptc\" rel=\"nofollow noreferrer\">onlinegdb</a></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"score":0,"creation_date":1641320846,"post_id":70582206,"comment_id":124773440,"body_markdown":"Can you try printing the value held in variable `u` and see where the difference is?","body":"Can you try printing the value held in variable <code>u</code> and see where the difference is?"},{"owner":{"account_id":23167235,"reputation":653,"user_id":17266973,"display_name":"Vicky"},"score":0,"creation_date":1641357457,"post_id":70582206,"comment_id":124781710,"body_markdown":"@GurmanjotSingh In the variable ```u``` I am getting ```https://onelogin.adityabirlacapital.com/login``` URL but why it is not fetching the exact URL post login that matches with the expected URL and print as ```Test case passed```","body":"@GurmanjotSingh In the variable <code>u</code> I am getting <code>https:&#47;&#47;onelogin.adityabirlacapital.com&#47;login</code> URL but why it is not fetching the exact URL post login that matches with the expected URL and print as <code>Test case passed</code>"}],"answers":[{"tags":[],"owner":{"account_id":7425752,"reputation":32,"user_id":5648278,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641367222,"creation_date":1641366588,"answer_id":70588998,"question_id":70582206,"body_markdown":"You can try adding delay before executing `d.getCurrentUrl()`. Something like `TimeUnit.SECONDS.sleep(2);` into your code to make sure that everything is loaded retrieving the value of the current URL after clicking login.\r\n\r\nOther solution might be, after clicking login button via Selenium, find any element in the homepage that possibly indicates a user is successfully logged in, such as welcome messages or if there&#39;s already a logout button.","title":"Automating login page test cases using Selenium","body":"<p>You can try adding delay before executing <code>d.getCurrentUrl()</code>. Something like <code>TimeUnit.SECONDS.sleep(2);</code> into your code to make sure that everything is loaded retrieving the value of the current URL after clicking login.</p>\n<p>Other solution might be, after clicking login button via Selenium, find any element in the homepage that possibly indicates a user is successfully logged in, such as welcome messages or if there's already a logout button.</p>\n"}],"owner":{"account_id":23167235,"reputation":653,"user_id":17266973,"display_name":"Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70588998,"answer_count":1,"score":0,"last_activity_date":1661949682,"creation_date":1641314718,"question_id":70582206,"body_markdown":"As I am new to Selenium and Java I got stuck while testing a login page. Below is my code which I am trying to test to always it is returning ```Test case failed``` even if I am giving the correct username and password. I wondering where it is going wrong. URL is also correct while checking the equal condition. The URL I have taken post login into the site.\r\n\r\n```\r\npackage Seleniumtesting;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class Selenium {\r\n\r\n\tpublic static void main(String[] args) {\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\hp\\\\Desktop\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\t\r\n\tWebDriver d = new ChromeDriver();\r\n\td.get(&quot;https://onelogin.adityabirlacapital.com/login&quot;);\r\n\td.findElement(By.id(&quot;login-id&quot;)).sendKeys(&quot;my_username&quot;);\r\n\td.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;my_password&quot;);\r\n\t//d.findElement(By.xpath(&quot;//*[@id=\\&quot;password-login\\&quot;]&quot;)).click();\r\n\td.findElement(By.id(&quot;password-login&quot;)).click();\r\n\tString u = d.getCurrentUrl();\r\n\tif(u.equalsIgnoreCase(&quot;https://onelogin.adityabirlacapital.com/my-dashboard&quot;))\r\n\t{\r\n\t\tSystem.out.println(&quot;Test case passed&quot;);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tSystem.out.println(&quot;Test case failed&quot;);\r\n\t}\r\n\t\td.close();\r\n\t}\r\n\r\n}\r\n```","title":"Automating login page test cases using Selenium","body":"<p>As I am new to Selenium and Java I got stuck while testing a login page. Below is my code which I am trying to test to always it is returning <code>Test case failed</code> even if I am giving the correct username and password. I wondering where it is going wrong. URL is also correct while checking the equal condition. The URL I have taken post login into the site.</p>\n<pre><code>package Seleniumtesting;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Selenium {\n\n    public static void main(String[] args) {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\hp\\\\Desktop\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;); \n    WebDriver d = new ChromeDriver();\n    d.get(&quot;https://onelogin.adityabirlacapital.com/login&quot;);\n    d.findElement(By.id(&quot;login-id&quot;)).sendKeys(&quot;my_username&quot;);\n    d.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;my_password&quot;);\n    //d.findElement(By.xpath(&quot;//*[@id=\\&quot;password-login\\&quot;]&quot;)).click();\n    d.findElement(By.id(&quot;password-login&quot;)).click();\n    String u = d.getCurrentUrl();\n    if(u.equalsIgnoreCase(&quot;https://onelogin.adityabirlacapital.com/my-dashboard&quot;))\n    {\n        System.out.println(&quot;Test case passed&quot;);\n    }\n    else\n    {\n        System.out.println(&quot;Test case failed&quot;);\n    }\n        d.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","cpu-cache","memory-model","java-memory-model"],"comments":[{"owner":{"account_id":317953,"reputation":50092,"user_id":634919,"display_name":"Nate Eldredge"},"score":0,"creation_date":1661864810,"post_id":73533350,"comment_id":129869029,"body_markdown":"I&#39;m not completely sure if I&#39;m reading the Java spec correctly, but it seems like in the presence of a data race (as in your program), a read is permitted to get any value written to the variable that is not directly inconsistent with happens-before.  Specifically, a read can&#39;t observe a write that happens-after it, and if a given write happens-before the read, it can&#39;t observe any other write that happens-earlier.","body":"I&#39;m not completely sure if I&#39;m reading the Java spec correctly, but it seems like in the presence of a data race (as in your program), a read is permitted to get any value written to the variable that is not directly inconsistent with happens-before.  Specifically, a read can&#39;t observe a write that happens-after it, and if a given write happens-before the read, it can&#39;t observe any other write that happens-earlier."},{"owner":{"account_id":317953,"reputation":50092,"user_id":634919,"display_name":"Nate Eldredge"},"score":0,"creation_date":1661865036,"post_id":73533350,"comment_id":129869119,"body_markdown":"In your program, assuming `increment` and `get` are called by different threads, then none of the reads happen-before any of the writes or vice versa, so there&#39;d be no restrictions.  If `increment` is called a total of N times, then any `get()` may return any value between 0 and N (but no values outside that range, and no tearing).  In particular, I think it is possible that if you call `get()` twice in sequence in the same thread, the first one can return a greater value than the second one.","body":"In your program, assuming <code>increment</code> and <code>get</code> are called by different threads, then none of the reads happen-before any of the writes or vice versa, so there&#39;d be no restrictions.  If <code>increment</code> is called a total of N times, then any <code>get()</code> may return any value between 0 and N (but no values outside that range, and no tearing).  In particular, I think it is possible that if you call <code>get()</code> twice in sequence in the same thread, the first one can return a greater value than the second one."},{"owner":{"account_id":317953,"reputation":50092,"user_id":634919,"display_name":"Nate Eldredge"},"score":0,"creation_date":1661865302,"post_id":73533350,"comment_id":129869222,"body_markdown":"The latter is interesting, because I tend to naively think of Java&#39;s memory model as similar to relaxed atomics in C/C++ (whose memory model I&#39;m more familiar with), but relaxed atomics in C/C++ have coherence rules that wouldn&#39;t allow this.  On the other hand it&#39;s still stronger than C/C++ without atomics, in which case the data race causes completely undefined behavior, and you can read impossible values or summon nasal demons.","body":"The latter is interesting, because I tend to naively think of Java&#39;s memory model as similar to relaxed atomics in C/C++ (whose memory model I&#39;m more familiar with), but relaxed atomics in C/C++ have coherence rules that wouldn&#39;t allow this.  On the other hand it&#39;s still stronger than C/C++ without atomics, in which case the data race causes completely undefined behavior, and you can read impossible values or summon nasal demons."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1661946658,"post_id":73533350,"comment_id":129891657,"body_markdown":"@NateEldredge in Java a read needs to see the most recent write before it in the memory order or it needs to see a concurrent write (so the read and write are not ordered by a happens-before edge). This is called happens-before consistent. With C++ you get undefined behavior when there is a data-race, in Java the behavior is still defined.","body":"@NateEldredge in Java a read needs to see the most recent write before it in the memory order or it needs to see a concurrent write (so the read and write are not ordered by a happens-before edge). This is called happens-before consistent. With C++ you get undefined behavior when there is a data-race, in Java the behavior is still defined."},{"owner":{"account_id":317953,"reputation":50092,"user_id":634919,"display_name":"Nate Eldredge"},"score":0,"creation_date":1661953469,"post_id":73533350,"comment_id":129894337,"body_markdown":"@pveentjer: Okay, I think that&#39;s equivalent to what I said (or at least to what I meant to say).  But in particular, for non-`volatile` objects it seems Java has nothing analogous to the C++ &quot;modification order&quot;, which would require a total order on all writes to a given variable, even if they are concurrent.","body":"@pveentjer: Okay, I think that&#39;s equivalent to what I said (or at least to what I meant to say).  But in particular, for non-<code>volatile</code> objects it seems Java has nothing analogous to the C++ &quot;modification order&quot;, which would require a total order on all writes to a given variable, even if they are concurrent."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1662004869,"post_id":73533350,"comment_id":129907265,"body_markdown":"@NateEldredge at this part my understanding becomes a bit fuzzy with respect to the JMM. So with opaque, you will get &#39;coherence&#39;, but it isn&#39;t the total order version of coherence like the C++ modification order gives; it is a partial order.  https://gee.cs.oswego.edu/dl/html/j9mm.html. So yes; at this level, the JMM and C++ modification order are AFAIK not compatible.","body":"@NateEldredge at this part my understanding becomes a bit fuzzy with respect to the JMM. So with opaque, you will get &#39;coherence&#39;, but it isn&#39;t the total order version of coherence like the C++ modification order gives; it is a partial order.  <a href=\"https://gee.cs.oswego.edu/dl/html/j9mm.html\" rel=\"nofollow noreferrer\">gee.cs.oswego.edu/dl/html/j9mm.html</a>. So yes; at this level, the JMM and C++ modification order are AFAIK not compatible."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661949670,"creation_date":1661945464,"answer_id":73555242,"question_id":73533350,"body_markdown":"&gt; It&#39;s all about StoreLoad memory reordering\r\n\r\nOn the X86 you only need to deal with [StoreLoad] due to store buffers, but otherwise, all other reorderings are forbidden due to its strong memory model (TSO). But the compiler is still able to reorder loads/stores before they hit the CPU. So you still need compiler fences.\r\n\r\nApart from that, other platforms like ARM, have a weaker memory model that will allow for loads and stores to different addresses to be reordered. So it isn&#39;t all about StoreLoad memory reordering.\r\n\r\n&gt; So how can we speak about the visibility of writes in terms of the memory model\r\n\r\nVisibility is very much concern at this level. It effectively means that the compiler should not optimize out the load or the store. \r\n\r\nImagine the getting code would look like this (I already inlined the &#39;get&#39; method.\r\n\r\n```\r\nfor(;;){\r\n   if(unsafeCounter.counter==1){\r\n     break;\r\n   }\r\n}\r\n```\r\n\r\nSince the read counter isn&#39;t special, the compiler could hoist reading the counter out of the loop like this:\r\n\r\n```\r\nif(unsafeCounter.counter!=1){\r\n   for(;;){}\r\n}\r\n```\r\n\r\nSo even if a new value gets written, the reading thread will not see the new value once it enters the loop. So visibility is still very much a concern.\r\n\r\nAnother concern is atomicity. In this case, the counter is 32 bits, so the read/write is guaranteed to be atomic on 32/64 bit platform. But if you would have a long and run on a 32 bits platform, you could end up with a torn read (so the first 32 bits of 1 write and the last 32 bits from another write).\r\n\r\nLast and not least is the coherence concern. So reordering of loads/stores to a single address. Coherence isn&#39;t provided by a plain load/store as can be seen with the following [example][1] from JCStress.\r\n\r\n\r\n```\r\n @JCStressTest\r\n    @Outcome(id = &quot;0, 0&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads early.&quot;)\r\n    @Outcome(id = &quot;1, 1&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads late.&quot;)\r\n    @Outcome(id = &quot;0, 1&quot;, expect = ACCEPTABLE, desc = &quot;Doing first read early, not surprising.&quot;)\r\n    @Outcome(id = &quot;1, 0&quot;, expect = ACCEPTABLE_INTERESTING, desc = &quot;First read seen racy value early, and the second one did not.&quot;)\r\n    @State\r\n    public static class SameRead {\r\n\r\n        private final Holder h1 = new Holder();\r\n        private final Holder h2 = h1;\r\n\r\n        private static class Holder {\r\n            int a;\r\n            int trap;\r\n        }\r\n\r\n        @Actor\r\n        public void actor1() {\r\n            h1.a = 1;\r\n        }\r\n\r\n        @Actor\r\n        public void actor2(II_Result r) {\r\n            Holder h1 = this.h1;\r\n            Holder h2 = this.h2;\r\n\r\n            // Spam null-pointer check folding: try to step on NPEs early.\r\n            // Doing this early frees compiler from moving h1.a and h2.a loads\r\n            // around, because it would not have to maintain exception order anymore.\r\n            h1.trap = 0;\r\n            h2.trap = 0;\r\n\r\n            // Spam alias analysis: the code effectively reads the same field twice,\r\n            // but compiler does not know (h1 == h2) (i.e. does not check it, as\r\n            // this is not a profitable opt for real code), so it issues two independent\r\n            // loads.\r\n            r.r1 = h1.a;\r\n            r.r2 = h2.a;\r\n        }\r\n    }\r\n```\r\nIn the above example it can happen that the data value invariant is violated; so first you read a new value and then you go back and read an old value and therefore the code is incoherent.\r\n\r\nJava Opaque access mode solves this [problem][2].\r\n\r\n\r\n  [1]: https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_05_Coherence.java\r\n  [2]: https://gee.cs.oswego.edu/dl/html/j9mm.html","title":"How happens-before covers single variable write and read?","body":"<blockquote>\n<p>It's all about StoreLoad memory reordering</p>\n</blockquote>\n<p>On the X86 you only need to deal with [StoreLoad] due to store buffers, but otherwise, all other reorderings are forbidden due to its strong memory model (TSO). But the compiler is still able to reorder loads/stores before they hit the CPU. So you still need compiler fences.</p>\n<p>Apart from that, other platforms like ARM, have a weaker memory model that will allow for loads and stores to different addresses to be reordered. So it isn't all about StoreLoad memory reordering.</p>\n<blockquote>\n<p>So how can we speak about the visibility of writes in terms of the memory model</p>\n</blockquote>\n<p>Visibility is very much concern at this level. It effectively means that the compiler should not optimize out the load or the store.</p>\n<p>Imagine the getting code would look like this (I already inlined the 'get' method.</p>\n<pre><code>for(;;){\n   if(unsafeCounter.counter==1){\n     break;\n   }\n}\n</code></pre>\n<p>Since the read counter isn't special, the compiler could hoist reading the counter out of the loop like this:</p>\n<pre><code>if(unsafeCounter.counter!=1){\n   for(;;){}\n}\n</code></pre>\n<p>So even if a new value gets written, the reading thread will not see the new value once it enters the loop. So visibility is still very much a concern.</p>\n<p>Another concern is atomicity. In this case, the counter is 32 bits, so the read/write is guaranteed to be atomic on 32/64 bit platform. But if you would have a long and run on a 32 bits platform, you could end up with a torn read (so the first 32 bits of 1 write and the last 32 bits from another write).</p>\n<p>Last and not least is the coherence concern. So reordering of loads/stores to a single address. Coherence isn't provided by a plain load/store as can be seen with the following <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_05_Coherence.java\" rel=\"nofollow noreferrer\">example</a> from JCStress.</p>\n<pre><code> @JCStressTest\n    @Outcome(id = &quot;0, 0&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads early.&quot;)\n    @Outcome(id = &quot;1, 1&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads late.&quot;)\n    @Outcome(id = &quot;0, 1&quot;, expect = ACCEPTABLE, desc = &quot;Doing first read early, not surprising.&quot;)\n    @Outcome(id = &quot;1, 0&quot;, expect = ACCEPTABLE_INTERESTING, desc = &quot;First read seen racy value early, and the second one did not.&quot;)\n    @State\n    public static class SameRead {\n\n        private final Holder h1 = new Holder();\n        private final Holder h2 = h1;\n\n        private static class Holder {\n            int a;\n            int trap;\n        }\n\n        @Actor\n        public void actor1() {\n            h1.a = 1;\n        }\n\n        @Actor\n        public void actor2(II_Result r) {\n            Holder h1 = this.h1;\n            Holder h2 = this.h2;\n\n            // Spam null-pointer check folding: try to step on NPEs early.\n            // Doing this early frees compiler from moving h1.a and h2.a loads\n            // around, because it would not have to maintain exception order anymore.\n            h1.trap = 0;\n            h2.trap = 0;\n\n            // Spam alias analysis: the code effectively reads the same field twice,\n            // but compiler does not know (h1 == h2) (i.e. does not check it, as\n            // this is not a profitable opt for real code), so it issues two independent\n            // loads.\n            r.r1 = h1.a;\n            r.r2 = h2.a;\n        }\n    }\n</code></pre>\n<p>In the above example it can happen that the data value invariant is violated; so first you read a new value and then you go back and read an old value and therefore the code is incoherent.</p>\n<p>Java Opaque access mode solves this <a href=\"https://gee.cs.oswego.edu/dl/html/j9mm.html\" rel=\"nofollow noreferrer\">problem</a>.</p>\n"}],"owner":{"account_id":11634171,"reputation":410,"user_id":8521177,"display_name":"TwITe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661949670,"creation_date":1661798661,"question_id":73533350,"body_markdown":"When dealing with happens before, I see it as about dealing with memory ordering and whether some memory ordering is valid with program order. For example, take the Dekker algorithm:\r\n```java\r\npublic class DekkerMemoryReorderingExample {\r\n    private int x;\r\n    private int y;\r\n\r\n    public void T1() {\r\n        x = 1;\r\n        int r1 = y;\r\n    }\r\n\r\n    public void T2() {\r\n        y = 1;\r\n        int r2 = x;\r\n    }\r\n}\r\n```\r\n\r\nIn lack of synchronization we can observe result `(r1, r2) = (0, 0)`. No matter what happened under the hood - whether it&#39;s an instructions scheduling, CPU&#39;s instructions reordering, or write propagation delay (caching). It&#39;s all about StoreLoad *memory reordering*:\r\n```\r\n1. r1 = y\r\n2. r2 = x\r\n3. x = 1\r\n4. y = 1\r\n```\r\n\r\nBut when dealing with a single variable, how does happens before cover it in terms of memory ordering?\r\nFor example, imagine such a counter:\r\n```java\r\npublic class UnsafeCounter {\r\n    \r\n    private int counter = 0;\r\n    \r\n    public synchronized int increment() {\r\n        counter++;\r\n    }\r\n\r\n    public int get() {\r\n        return counter;\r\n    }\r\n}\r\n```\r\n\r\nClearly, this counter is broken because we read the counter variable not under the same lock, so we&#39;re not guaranteed to see writes preceding the read. More formally, there&#39;s no happens-before between write in `increment()` and read in `get()`.\r\n\r\nBut there&#39;s no relationship with other variables as it was in the Dekker example. So how can we speak about the visibility of writes in terms of the memory model, memory ordering, program order, and execution order? What kind of memory reordering can happen here (StoreLoad, StoreStore and etc..)? I specifically do not say anything about visibility on a lower level of hardware, because I want to understand how it works more abstractly and formally on the level of the memory model.","title":"How happens-before covers single variable write and read?","body":"<p>When dealing with happens before, I see it as about dealing with memory ordering and whether some memory ordering is valid with program order. For example, take the Dekker algorithm:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DekkerMemoryReorderingExample {\n    private int x;\n    private int y;\n\n    public void T1() {\n        x = 1;\n        int r1 = y;\n    }\n\n    public void T2() {\n        y = 1;\n        int r2 = x;\n    }\n}\n</code></pre>\n<p>In lack of synchronization we can observe result <code>(r1, r2) = (0, 0)</code>. No matter what happened under the hood - whether it's an instructions scheduling, CPU's instructions reordering, or write propagation delay (caching). It's all about StoreLoad <em>memory reordering</em>:</p>\n<pre><code>1. r1 = y\n2. r2 = x\n3. x = 1\n4. y = 1\n</code></pre>\n<p>But when dealing with a single variable, how does happens before cover it in terms of memory ordering?\nFor example, imagine such a counter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UnsafeCounter {\n    \n    private int counter = 0;\n    \n    public synchronized int increment() {\n        counter++;\n    }\n\n    public int get() {\n        return counter;\n    }\n}\n</code></pre>\n<p>Clearly, this counter is broken because we read the counter variable not under the same lock, so we're not guaranteed to see writes preceding the read. More formally, there's no happens-before between write in <code>increment()</code> and read in <code>get()</code>.</p>\n<p>But there's no relationship with other variables as it was in the Dekker example. So how can we speak about the visibility of writes in terms of the memory model, memory ordering, program order, and execution order? What kind of memory reordering can happen here (StoreLoad, StoreStore and etc..)? I specifically do not say anything about visibility on a lower level of hardware, because I want to understand how it works more abstractly and formally on the level of the memory model.</p>\n"},{"tags":["java","eclipse","buildpath"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":3,"creation_date":1343177496,"post_id":11641254,"comment_id":15421643,"body_markdown":"After you copied the JAR manually did you refresh all projects in your workspace? In Project Explorer, select all projects and press F5 to refresh.","body":"After you copied the JAR manually did you refresh all projects in your workspace? In Project Explorer, select all projects and press F5 to refresh."},{"owner":{"account_id":1677868,"reputation":2104,"user_id":1542954,"accept_rate":88,"display_name":"sweet dreams"},"score":0,"creation_date":1343182235,"post_id":11641254,"comment_id":15422456,"body_markdown":"yes, that has no effect. The jar is actually in the folder but there is no way to see it or include it through eclipse.","body":"yes, that has no effect. The jar is actually in the folder but there is no way to see it or include it through eclipse."}],"answers":[{"tags":[],"owner":{"account_id":204434,"reputation":895,"user_id":452647,"accept_rate":90,"display_name":"meadlai"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1343178622,"creation_date":1343178622,"answer_id":11641381,"question_id":11641254,"body_markdown":"Select the project, and from its pop-up menu, select Properties. In the Properties dialog,\r\n\r\n &lt;br&gt;\r\nselect the Java Build Path page.&lt;br&gt;\r\n\r\nClick the Libraries tab.&lt;br&gt;\r\n\r\nYou can now either add a JAR file which is contained in your workspace or which is somewhere else:&lt;br&gt;\r\n\r\nto add a JAR file which is inside your workspace click the Add JARs button&lt;br&gt;\r\n\r\nto add an external JAR file click the Add External JARs button&lt;br&gt;&lt;br&gt;\r\n\r\nIn the dialog that appears, select the JAR file that you want to add. Note that you can add multiple JARs at once.","title":"Eclipse - cant add jar to build path. jar is inside the lib folder of project, but not visible","body":"<p>Select the project, and from its pop-up menu, select Properties. In the Properties dialog,</p>\n\n<p><br>\nselect the Java Build Path page.<br></p>\n\n<p>Click the Libraries tab.<br></p>\n\n<p>You can now either add a JAR file which is contained in your workspace or which is somewhere else:<br></p>\n\n<p>to add a JAR file which is inside your workspace click the Add JARs button<br></p>\n\n<p>to add an external JAR file click the Add External JARs button<br><br></p>\n\n<p>In the dialog that appears, select the JAR file that you want to add. Note that you can add multiple JARs at once.</p>\n"},{"tags":[],"owner":{"account_id":1624745,"reputation":91,"user_id":1527033,"display_name":"Lenient Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343178766,"creation_date":1343178766,"answer_id":11641392,"question_id":11641254,"body_markdown":"You can remove the old jars which relates to sql connector jar, then add the jar you requeired into the build path.If your project is web project, you can bring the jar into the folder named lib under the WEB-INF.If your project is java project , you can make a folder named lib, then take some jars into it.","title":"Eclipse - cant add jar to build path. jar is inside the lib folder of project, but not visible","body":"<p>You can remove the old jars which relates to sql connector jar, then add the jar you requeired into the build path.If your project is web project, you can bring the jar into the folder named lib under the WEB-INF.If your project is java project , you can make a folder named lib, then take some jars into it.</p>\n"},{"tags":[],"owner":{"account_id":1250235,"reputation":6632,"user_id":1210779,"accept_rate":65,"display_name":"Sai Ye Yan Naing Aye"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1343188320,"creation_date":1343188320,"answer_id":11642443,"question_id":11641254,"body_markdown":"Try to go Window &gt; Preferences &gt; Java &gt; User Libraries and add new user library that point mysql connector.And then use this library to your project.But don&#39;t forget to delete your old mysql connector jar in your lib folder.Try this way. ","title":"Eclipse - cant add jar to build path. jar is inside the lib folder of project, but not visible","body":"<p>Try to go Window > Preferences > Java > User Libraries and add new user library that point mysql connector.And then use this library to your project.But don't forget to delete your old mysql connector jar in your lib folder.Try this way. </p>\n"},{"tags":[],"owner":{"account_id":1495450,"reputation":646,"user_id":1401505,"accept_rate":11,"display_name":"Failing Coder"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1370420282,"creation_date":1370420282,"answer_id":16934825,"question_id":11641254,"body_markdown":"Did this get solved - I have exactly the same issue. I had 3 libs in project/src/lib, removed 2 of them but now want to reinstate them. I can still see the jar I didn&#39;t remove in the build path dialog but no matter what I do I can&#39;t reinstate the other two as the lib folder doesn&#39;t show.","title":"Eclipse - cant add jar to build path. jar is inside the lib folder of project, but not visible","body":"<p>Did this get solved - I have exactly the same issue. I had 3 libs in project/src/lib, removed 2 of them but now want to reinstate them. I can still see the jar I didn't remove in the build path dialog but no matter what I do I can't reinstate the other two as the lib folder doesn't show.</p>\n"},{"tags":[],"owner":{"account_id":1872875,"reputation":121,"user_id":1694733,"display_name":"user1694733"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1412883782,"creation_date":1412883782,"answer_id":26286711,"question_id":11641254,"body_markdown":"Paste the jar directly inside eclipse using the project explorer to your desired folder and then try to &quot;Add Jar&quot; from Build Path-&gt;Configure Build Path-&gt;Libraries.","title":"Eclipse - cant add jar to build path. jar is inside the lib folder of project, but not visible","body":"<p>Paste the jar directly inside eclipse using the project explorer to your desired folder and then try to \"Add Jar\" from Build Path->Configure Build Path->Libraries.</p>\n"},{"tags":[],"owner":{"account_id":8152557,"reputation":353,"user_id":6139104,"accept_rate":100,"display_name":"Fethi Tekyaygil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661949370,"creation_date":1661949370,"answer_id":73555995,"question_id":11641254,"body_markdown":"Maybe you can try Command + Shift + . keys to see hidden folders on Mac","title":"Eclipse - cant add jar to build path. jar is inside the lib folder of project, but not visible","body":"<p>Maybe you can try Command + Shift + . keys to see hidden folders on Mac</p>\n"}],"owner":{"account_id":1677868,"reputation":2104,"user_id":1542954,"accept_rate":88,"display_name":"sweet dreams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21490,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11642443,"answer_count":6,"score":5,"last_activity_date":1661949370,"creation_date":1343177360,"question_id":11641254,"body_markdown":"I manually copied the my sql connector jar to lib folder of my sql jdbc project. \r\nI had some old jars already in that folder and which were also easily added to build path before.\r\nNow, I forgot how i did it and i don&#39;t see that the lib folder when i try to add the jar to build path. How do it ? I want my jar to be a part of my project and not lying in some random folder.\r\n","title":"Eclipse - cant add jar to build path. jar is inside the lib folder of project, but not visible","body":"<p>I manually copied the my sql connector jar to lib folder of my sql jdbc project. \nI had some old jars already in that folder and which were also easily added to build path before.\nNow, I forgot how i did it and i don't see that the lib folder when i try to add the jar to build path. How do it ? I want my jar to be a part of my project and not lying in some random folder.</p>\n"},{"tags":["java","rx-java","reactive-programming"],"answers":[{"tags":[],"owner":{"account_id":1058078,"reputation":728,"user_id":4446563,"display_name":"Link64"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661949299,"creation_date":1526559342,"answer_id":50391247,"question_id":50391202,"body_markdown":"You need a [Subject][1] which you can subscribe to. \r\nNew elements can be pushed into a Subject using `next(T element)`\r\n\r\n\r\n    private Subject&lt;Event&gt; subject = ReplaySubject.create();\r\n    \r\n    @Override\r\n    public void handle(final Event event, final MessageContext context) throws MessageConsumptionException {\r\n         subject.next(event);\r\n    }\r\n\r\n    public Observable&lt;Event&gt; getObservable() {\r\n        return subject.asObservable();\r\n    }\r\n\r\n\r\nYou can subscribe to the observable, that is returned by the `getObservable()` method.\r\n\r\n  [1]: http://reactivex.io/documentation/subject.html","title":"RxJava collect AMPQ event in an Observable and subscribe with a buffer","body":"<p>You need a <a href=\"http://reactivex.io/documentation/subject.html\" rel=\"nofollow noreferrer\">Subject</a> which you can subscribe to.\nNew elements can be pushed into a Subject using <code>next(T element)</code></p>\n<pre><code>private Subject&lt;Event&gt; subject = ReplaySubject.create();\n\n@Override\npublic void handle(final Event event, final MessageContext context) throws MessageConsumptionException {\n     subject.next(event);\n}\n\npublic Observable&lt;Event&gt; getObservable() {\n    return subject.asObservable();\n}\n</code></pre>\n<p>You can subscribe to the observable, that is returned by the <code>getObservable()</code> method.</p>\n"}],"owner":{"account_id":4587206,"reputation":476,"user_id":9173486,"display_name":"lmarx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50391247,"answer_count":1,"score":0,"last_activity_date":1661949299,"creation_date":1526559209,"question_id":50391202,"body_markdown":"I have to collect some AMPQ events and then print them every 10 sec using a buffer. \r\n\r\n    private Observable&lt;Event&gt; obs = Observable.empty(); \r\n    private final Disposable disposable = obs.buffer(10, SECONDS)\r\n                                  .retry(t -&gt; true)\r\n                                  .subscribe(System.out::println);\r\n    \r\n    @Override\r\n    public void handle(final Event event, final MessageContext context) throws MessageConsumptionException {\r\n          obs = obs.concatWith(Observable.just(event));\r\n    }\r\n\r\n*Event* is the message and *void handle* is the consumer. \r\n\r\nI debug this code and it print only an empty list, and it makes sense because *obs* is empty.\r\n\r\nHow can I add (concat?) events into this Observable and execute the *disposable* continually?\r\nThanks.","title":"RxJava collect AMPQ event in an Observable and subscribe with a buffer","body":"<p>I have to collect some AMPQ events and then print them every 10 sec using a buffer. </p>\n\n<pre><code>private Observable&lt;Event&gt; obs = Observable.empty(); \nprivate final Disposable disposable = obs.buffer(10, SECONDS)\n                              .retry(t -&gt; true)\n                              .subscribe(System.out::println);\n\n@Override\npublic void handle(final Event event, final MessageContext context) throws MessageConsumptionException {\n      obs = obs.concatWith(Observable.just(event));\n}\n</code></pre>\n\n<p><em>Event</em> is the message and <em>void handle</em> is the consumer. </p>\n\n<p>I debug this code and it print only an empty list, and it makes sense because <em>obs</em> is empty.</p>\n\n<p>How can I add (concat?) events into this Observable and execute the <em>disposable</em> continually?\nThanks.</p>\n"},{"tags":["java","arrays","exception"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1661948343,"post_id":73555757,"comment_id":129892251,"body_markdown":"Can you please point us to the source code of that `addAll` method in `AbstractList`?","body":"Can you please point us to the source code of that <code>addAll</code> method in <code>AbstractList</code>?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1661949222,"post_id":73555757,"comment_id":129892615,"body_markdown":"See `list.addAll(0, tmp)` versus `list.addAll(tmp)`","body":"See <code>list.addAll(0, tmp)</code> versus <code>list.addAll(tmp)</code>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661948830,"creation_date":1661948830,"answer_id":73555904,"question_id":73555757,"body_markdown":"`AbstractList` does not override the [`addAll(Collection&lt;? extends E&gt;)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractCollection.html#addAll(java.util.Collection)). It merely inherits the method from `AbstractCollection`. If you go to the [documentation][1] of `AbstractList`, you can see that `addAll` is listed as one of the &quot;Methods declared in class `java.util.AbstractCollection`&quot;. \r\n\r\n&lt;sub&gt;Note that there is also an `addAll(int, Collection&lt;? extends E&gt;)` that *is* declared in `AbstractList`, but that is a different method.&lt;/sub&gt;\r\n\r\nThe type returned by `Arrays.asList` - `Arrays.ArrayList` doesn&#39;t override `addAll(Collection&lt;? extends E&gt;)` either, which is why you see `AbstractCollection` in the stack trace when you call `addAll`.\r\n\r\nOn the other hand, `AbstractList` does override `add` (but `Arrays.ArrayList` doesn&#39;t), so you see `AbstractList` when you call `add`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractList.html","title":"Why is AbstractCollection throwing exception instead of AbstractList when using Arrays.asList().addAll","body":"<p><code>AbstractList</code> does not override the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractCollection.html#addAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>addAll(Collection&lt;? extends E&gt;)</code></a>. It merely inherits the method from <code>AbstractCollection</code>. If you go to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractList.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>AbstractList</code>, you can see that <code>addAll</code> is listed as one of the &quot;Methods declared in class <code>java.util.AbstractCollection</code>&quot;.</p>\n<p><sub>Note that there is also an <code>addAll(int, Collection&lt;? extends E&gt;)</code> that <em>is</em> declared in <code>AbstractList</code>, but that is a different method.</sub></p>\n<p>The type returned by <code>Arrays.asList</code> - <code>Arrays.ArrayList</code> doesn't override <code>addAll(Collection&lt;? extends E&gt;)</code> either, which is why you see <code>AbstractCollection</code> in the stack trace when you call <code>addAll</code>.</p>\n<p>On the other hand, <code>AbstractList</code> does override <code>add</code> (but <code>Arrays.ArrayList</code> doesn't), so you see <code>AbstractList</code> when you call <code>add</code>.</p>\n"}],"owner":{"account_id":10309748,"reputation":31,"user_id":7605959,"display_name":"bh w"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1661948830,"creation_date":1661948066,"question_id":73555757,"body_markdown":"I am not asking why the error is reported, but I think it should be called AbstractList.addAll to throw an exception\r\n\r\n------------\r\ndemo1(can&#39;t understand):\r\n```\r\npublic class TestAbstractList {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; tmp = new ArrayList&lt;&gt;(\r\n        );\r\n        tmp.add(&quot;kk&quot;);\r\n\r\n        List&lt;String&gt; list = Arrays.asList(&quot;3&quot;);\r\n        // list.add(&quot;kk&quot;);\r\n        list.addAll(tmp);\r\n    }\r\n}\r\n```\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n\tat java.util.AbstractList.add(AbstractList.java:148)\r\n\tat java.util.AbstractList.add(AbstractList.java:108)\r\n\tat java.util.**AbstractCollection**.addAll(AbstractCollection.java:344)\r\n\tat com.clinbrain.md.metadata.TestAbstractList.main(TestAbstractList.java:15)\r\n```\r\n\r\nAccording to the object returned by Arrays.asList, its parent class is AbstractList (also addAll). AbstractList inherits AbstractCollection. According to the principle of jvm calling method (invokeinterface or invokevirtual), **it should be AbstractList.addAll that throws an exception**, and the result is indeed AbstractCollection.addAll throws exception\r\n\r\n-----------------\r\ndemo2(understandable):\r\n```\r\npublic class TestAbstractList {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; tmp = new ArrayList&lt;&gt;(\r\n        );\r\n        tmp.add(&quot;kk&quot;);\r\n\r\n        List&lt;String&gt; list = Arrays.asList(&quot;3&quot;);\r\n        list.add(&quot;kk&quot;);\r\n        // list.addAll(tmp);\r\n    }\r\n}\r\n```\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n\tat java.util.AbstractList.add(AbstractList.java:148)\r\n\tat java.util.**AbstractList**.add(AbstractList.java:108)\r\n\tat com.clinbrain.md.metadata.TestAbstractList.main(TestAbstractList.java:14)\r\n```\r\n\r\n\r\n","title":"Why is AbstractCollection throwing exception instead of AbstractList when using Arrays.asList().addAll","body":"<p>I am not asking why the error is reported, but I think it should be called AbstractList.addAll to throw an exception</p>\n<hr />\n<p>demo1(can't understand):</p>\n<pre><code>public class TestAbstractList {\n    public static void main(String[] args) {\n        List&lt;String&gt; tmp = new ArrayList&lt;&gt;(\n        );\n        tmp.add(&quot;kk&quot;);\n\n        List&lt;String&gt; list = Arrays.asList(&quot;3&quot;);\n        // list.add(&quot;kk&quot;);\n        list.addAll(tmp);\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.util.AbstractList.add(AbstractList.java:148)\n    at java.util.AbstractList.add(AbstractList.java:108)\n    at java.util.**AbstractCollection**.addAll(AbstractCollection.java:344)\n    at com.clinbrain.md.metadata.TestAbstractList.main(TestAbstractList.java:15)\n</code></pre>\n<p>According to the object returned by Arrays.asList, its parent class is AbstractList (also addAll). AbstractList inherits AbstractCollection. According to the principle of jvm calling method (invokeinterface or invokevirtual), <strong>it should be AbstractList.addAll that throws an exception</strong>, and the result is indeed AbstractCollection.addAll throws exception</p>\n<hr />\n<p>demo2(understandable):</p>\n<pre><code>public class TestAbstractList {\n    public static void main(String[] args) {\n        List&lt;String&gt; tmp = new ArrayList&lt;&gt;(\n        );\n        tmp.add(&quot;kk&quot;);\n\n        List&lt;String&gt; list = Arrays.asList(&quot;3&quot;);\n        list.add(&quot;kk&quot;);\n        // list.addAll(tmp);\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.util.AbstractList.add(AbstractList.java:148)\n    at java.util.**AbstractList**.add(AbstractList.java:108)\n    at com.clinbrain.md.metadata.TestAbstractList.main(TestAbstractList.java:14)\n</code></pre>\n"},{"tags":["java","python","oracle","mongodb"],"comments":[{"owner":{"account_id":8728711,"reputation":9688,"user_id":6529537,"accept_rate":100,"display_name":"XING"},"score":0,"creation_date":1501488286,"post_id":45401955,"comment_id":77781034,"body_markdown":"May be you can copy the result of Oracle and MongoDB in 2 dofferent sheet of Excel and do a vlookup.","body":"May be you can copy the result of Oracle and MongoDB in 2 dofferent sheet of Excel and do a vlookup."},{"owner":{"account_id":1028051,"reputation":376,"user_id":1036903,"accept_rate":48,"display_name":"Vinod"},"score":0,"creation_date":1501517014,"post_id":45401955,"comment_id":77802006,"body_markdown":"@XING: the volume is huge running into millions sometimes billions of records","body":"@XING: the volume is huge running into millions sometimes billions of records"}],"owner":{"account_id":1028051,"reputation":376,"user_id":1036903,"accept_rate":48,"display_name":"Vinod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661948603,"creation_date":1501431347,"question_id":45401955,"body_markdown":"For our project we are migrating data from Oracle to MongoDB with records running into millions now after migration (which is done via flatfiles and shell scripts by Dev team) now as a QA team we are expected to validate these records for confirmation with source in the sense we need to ensure that the migrated records should be exactly same as the source data.\r\nWe had developed a Java program to bring data from Oracle DB and Mongo DB and compare it locally using CSVs as below:\r\n\r\n     /************ Fetch Mongo DB data ***********/\r\n\t\t  MongoClientURI connectionString = new MongoClientURI(&quot;mongodb://localhost:27017&quot;);\r\n\t\t  MongoClient mongoClient = new MongoClient(connectionString);\r\n\t\t  MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\r\n\t\t  MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;books&quot;);\r\n\t\t  MongoCursor&lt;Document&gt; cursor = collection.find().iterator();\r\n\t\t // MongoCursor&lt;Document&gt; cursor = collection.find().projection(Projections.exclude(&quot;_idoid&quot;)).iterator();\r\n\t\t  try {\r\n\t\t\t    while (cursor.hasNext()) {\r\n\t\t        JFlat flatMe = new JFlat(cursor.next().toJson());\r\n\t\t          flatMe\r\n\t\t              .json2Sheet()\r\n\t\t              .headerSeparator(&quot;&quot;)\r\n\t\t              .write2csv(&quot;C:\\\\Users\\\\XXXX\\\\Desktop\\\\MongoTargettest.csv&quot;);\r\n\t\t      }\r\n\t\t  } finally {\r\n\t\t      cursor.close();\r\n\t\t  }\t\r\n\t\t  mongoClient.close();\r\n\r\nReferred [Here][1] and [Here][2] but could not come to conclusion how to validate the migrated records, can someone please suggest few approaches\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32305131/export-from-oracle-to-mongodb-using-python\r\n  [2]: https://stackoverflow.com/questions/30318178/data-migration-from-oracle-to-mongo-db","title":"Data Reconciliation after migration from oracle to MongoDB","body":"<p>For our project we are migrating data from Oracle to MongoDB with records running into millions now after migration (which is done via flatfiles and shell scripts by Dev team) now as a QA team we are expected to validate these records for confirmation with source in the sense we need to ensure that the migrated records should be exactly same as the source data.\nWe had developed a Java program to bring data from Oracle DB and Mongo DB and compare it locally using CSVs as below:</p>\n\n<pre><code> /************ Fetch Mongo DB data ***********/\n      MongoClientURI connectionString = new MongoClientURI(\"mongodb://localhost:27017\");\n      MongoClient mongoClient = new MongoClient(connectionString);\n      MongoDatabase database = mongoClient.getDatabase(\"test\");\n      MongoCollection&lt;Document&gt; collection = database.getCollection(\"books\");\n      MongoCursor&lt;Document&gt; cursor = collection.find().iterator();\n     // MongoCursor&lt;Document&gt; cursor = collection.find().projection(Projections.exclude(\"_idoid\")).iterator();\n      try {\n            while (cursor.hasNext()) {\n            JFlat flatMe = new JFlat(cursor.next().toJson());\n              flatMe\n                  .json2Sheet()\n                  .headerSeparator(\"\")\n                  .write2csv(\"C:\\\\Users\\\\XXXX\\\\Desktop\\\\MongoTargettest.csv\");\n          }\n      } finally {\n          cursor.close();\n      } \n      mongoClient.close();\n</code></pre>\n\n<p>Referred <a href=\"https://stackoverflow.com/questions/32305131/export-from-oracle-to-mongodb-using-python\">Here</a> and <a href=\"https://stackoverflow.com/questions/30318178/data-migration-from-oracle-to-mongo-db\">Here</a> but could not come to conclusion how to validate the migrated records, can someone please suggest few approaches</p>\n"},{"tags":["java","heroku","web-applications","deployment","procfile"],"answers":[{"tags":[],"owner":{"account_id":1366985,"reputation":858,"user_id":1303220,"display_name":"jhenrique"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661948534,"creation_date":1539018742,"answer_id":52707140,"question_id":52706420,"body_markdown":"If you have heroku installed and if you have only .jsp and .class you can do as it follows, and you don&#39;t need a procfile:\r\n\r\n`$ heroku create &lt;app_name&gt;`\r\n\r\nCreate a WAR file of your app in Eclipse for example:\r\nRight click on the project &gt; Export &gt; WAR file\r\n\r\nthen you have to deploy it to heroku:\r\n\r\n    $ heroku war:deploy &lt;path_to_war_file&gt; --app &lt;app_name&gt;\r\n\r\nthen you&#39;ll see the app going to heroku, some logs and blah blah blah. After that you can open your application:\r\n\r\n    $ heroku open --app &lt;app_name&gt;\r\n\r\nSimple. But if you need some help about procfile, take a look [here][1]\r\n\r\n\r\n  [1]: https://devcenter.heroku.com/articles/procfile","title":"Heroku, Java Web app - free dynos Procfile - How to create proper Procfile","body":"<p>If you have heroku installed and if you have only .jsp and .class you can do as it follows, and you don't need a procfile:</p>\n<p><code>$ heroku create &lt;app_name&gt;</code></p>\n<p>Create a WAR file of your app in Eclipse for example:\nRight click on the project &gt; Export &gt; WAR file</p>\n<p>then you have to deploy it to heroku:</p>\n<pre><code>$ heroku war:deploy &lt;path_to_war_file&gt; --app &lt;app_name&gt;\n</code></pre>\n<p>then you'll see the app going to heroku, some logs and blah blah blah. After that you can open your application:</p>\n<pre><code>$ heroku open --app &lt;app_name&gt;\n</code></pre>\n<p>Simple. But if you need some help about procfile, take a look <a href=\"https://devcenter.heroku.com/articles/procfile\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":9692014,"reputation":461,"user_id":7189801,"accept_rate":75,"display_name":"Luke_Nuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52707140,"answer_count":1,"score":1,"last_activity_date":1661948534,"creation_date":1539015694,"question_id":52706420,"body_markdown":"I&#39;m trying to upload my 1st Java Web app to the web but I can&#39;t handle the Procfile. After deploy, there is info about successfully deploy but when I try to run the app there are an error and server logs seems to indicate that Procfile is empty / does not exist.\r\n\r\nIn server resources there is following dyno:\r\n \r\n\r\n    java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT target/*.war\r\n\r\nand in thetutorial there is\r\n&quot;Your Procfile will look something like this:&quot;\r\n\r\n    web: java $JAVA_OPTS -cp target/classes:target/dependency/* HelloWorld\r\n\r\nbut I don&#39;t udnerstand what is happening here. I know only that there should be web: at the beggining for web-app I don&#39;t understand the rest of it. Can some one help me undrstand it so I could create proper Procfile for my app?\r\n\r\n\r\n ","title":"Heroku, Java Web app - free dynos Procfile - How to create proper Procfile","body":"<p>I'm trying to upload my 1st Java Web app to the web but I can't handle the Procfile. After deploy, there is info about successfully deploy but when I try to run the app there are an error and server logs seems to indicate that Procfile is empty / does not exist.</p>\n\n<p>In server resources there is following dyno:</p>\n\n<pre><code>java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT target/*.war\n</code></pre>\n\n<p>and in thetutorial there is\n\"Your Procfile will look something like this:\"</p>\n\n<pre><code>web: java $JAVA_OPTS -cp target/classes:target/dependency/* HelloWorld\n</code></pre>\n\n<p>but I don't udnerstand what is happening here. I know only that there should be web: at the beggining for web-app I don't understand the rest of it. Can some one help me undrstand it so I could create proper Procfile for my app?</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661931823,"creation_date":1661931823,"answer_id":73552462,"question_id":73552304,"body_markdown":"In spring-boot, you can expose the endpoint as a static resource with the following properties:\r\n```properties\r\nspring.web.resources.static-locations=file:/usr/app/application/images\r\nspring.mvc.static-path-pattern=/images/**\r\n```\r\n\r\nPlease note the `file` prefix when defining `static-locations`","title":"Spring Boot get images from an external folder with Docker","body":"<p>In spring-boot, you can expose the endpoint as a static resource with the following properties:</p>\n<pre><code>spring.web.resources.static-locations=file:/usr/app/application/images\nspring.mvc.static-path-pattern=/images/**\n</code></pre>\n<p>Please note the <code>file</code> prefix when defining <code>static-locations</code></p>\n"},{"tags":[],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661948388,"creation_date":1661948388,"answer_id":73555812,"question_id":73552304,"body_markdown":"Move the folder with the images in your resource/static folder, than in your docker file (after MKDIR) add:\r\n\r\n    ADD src/main/resources/static/images application/images\r\n\r\nand delete from your docker-compose:\r\n\r\n      volumes:\r\n          - ./images/:/usr/app/application/images\r\n","title":"Spring Boot get images from an external folder with Docker","body":"<p>Move the folder with the images in your resource/static folder, than in your docker file (after MKDIR) add:</p>\n<pre><code>ADD src/main/resources/static/images application/images\n</code></pre>\n<p>and delete from your docker-compose:</p>\n<pre><code>  volumes:\n      - ./images/:/usr/app/application/images\n</code></pre>\n"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1802,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73555812,"answer_count":2,"score":2,"last_activity_date":1661948388,"creation_date":1661930908,"question_id":73552304,"body_markdown":"I have a folder which already contains images. The user can add/update/delete the image with the object. \r\nProblem is when I dockerize my application, the user who get my docker image it gets the folder with images (I have a folder where are stored image.png) too? If not how can I make sure it gets the folder too inside docker.\r\n\r\n[This other problem it was solved]\r\n My problem is that inside Docker I don&#39;t know how to show these images to my angular application.\r\n\r\nHere is my dockerfile:\r\n\r\n    FROM openjdk:17\r\n    ENV APP_HOME=/usr/app/\r\n    WORKDIR $APP_HOME\r\n    ADD target/Nation-0.0.1-SNAPSHOT.jar target/springboot-docker-county.jar\r\n    EXPOSE 8090\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/springboot-docker-county.jar&quot;]\r\n\r\nHere my docker compose:\r\n\r\n    services:\r\n      db:\r\n        image: mongo:latest\r\n        ports:\r\n          - 27017:27017\r\n        environment:\r\n          SPRING_DATA_MONGODB_URI: mongodb://host.docker.internal:27017\r\n          MONGO_INITDB_ROOT_USERNAME: user\r\n          MONGO_INITDB_ROOT_PASSWORD: pass\r\n        volumes:\r\n          - ./mongo-init.js:/docker-entrypoint-initdb.d/mongo-init.js:r\r\n      web:\r\n        build: ./WorldBE/target/classes/county-fe\r\n        ports:\r\n          - 80:80\r\n      api:\r\n        build: ./WorldBE\r\n        ports:\r\n          - 8090:8090\r\n        volumes:\r\n          - ./images/:/usr/app/application/images\r\n    \r\n    volumes:\r\n      county:\r\n\r\nHere my application.yml to get the folder:\r\n\r\n    spring:\r\n      web:\r\n        resources:\r\n          static-locations: /usr/app/application/images\r\n\r\nHere how can I perform the add method (it works):\r\n\r\n     public void saveFile(String region, Integer id, Binary image) throws Exception {\r\n            Path url = Paths.get( pathToSave);\r\n            if (image != null) {\r\n                File fileToSave = new File(url +&quot;/&quot;+ this.regional(region, id) + &quot;.png&quot;);\r\n                if (fileToSave.exists()) {\r\n                    log.error(&quot;Image for {} and regional: {} already exist! file: {}&quot;, id, region, fileToSave);\r\n                    throw new Exception(String.format(&quot;Image for : %s and region: %s already exist!&quot;, id, region));\r\n                }\r\n    \r\n                if (!fileToSave.exists()) {\r\n                    log.info(&quot;file doesn&#39;t exist: {}&quot;, fileToSave);\r\n                }\r\n                // Try-with-resource\r\n                try (OutputStream out = new FileOutputStream(fileToSave)) {\r\n                    out.write(image.getData());\r\n                    out.flush();\r\n                    log.info(&quot;file saved: {}&quot;, fileToSave);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                log.error(&quot;No image set&quot;);\r\n            }\r\n\r\nThe user get the mount (folder with image.png) already populate when it pulls the image or should I do something else to store this folder in docker?","title":"Spring Boot get images from an external folder with Docker","body":"<p>I have a folder which already contains images. The user can add/update/delete the image with the object.\nProblem is when I dockerize my application, the user who get my docker image it gets the folder with images (I have a folder where are stored image.png) too? If not how can I make sure it gets the folder too inside docker.</p>\n<p>[This other problem it was solved]\nMy problem is that inside Docker I don't know how to show these images to my angular application.</p>\n<p>Here is my dockerfile:</p>\n<pre><code>FROM openjdk:17\nENV APP_HOME=/usr/app/\nWORKDIR $APP_HOME\nADD target/Nation-0.0.1-SNAPSHOT.jar target/springboot-docker-county.jar\nEXPOSE 8090\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/springboot-docker-county.jar&quot;]\n</code></pre>\n<p>Here my docker compose:</p>\n<pre><code>services:\n  db:\n    image: mongo:latest\n    ports:\n      - 27017:27017\n    environment:\n      SPRING_DATA_MONGODB_URI: mongodb://host.docker.internal:27017\n      MONGO_INITDB_ROOT_USERNAME: user\n      MONGO_INITDB_ROOT_PASSWORD: pass\n    volumes:\n      - ./mongo-init.js:/docker-entrypoint-initdb.d/mongo-init.js:r\n  web:\n    build: ./WorldBE/target/classes/county-fe\n    ports:\n      - 80:80\n  api:\n    build: ./WorldBE\n    ports:\n      - 8090:8090\n    volumes:\n      - ./images/:/usr/app/application/images\n\nvolumes:\n  county:\n</code></pre>\n<p>Here my application.yml to get the folder:</p>\n<pre><code>spring:\n  web:\n    resources:\n      static-locations: /usr/app/application/images\n</code></pre>\n<p>Here how can I perform the add method (it works):</p>\n<pre><code> public void saveFile(String region, Integer id, Binary image) throws Exception {\n        Path url = Paths.get( pathToSave);\n        if (image != null) {\n            File fileToSave = new File(url +&quot;/&quot;+ this.regional(region, id) + &quot;.png&quot;);\n            if (fileToSave.exists()) {\n                log.error(&quot;Image for {} and regional: {} already exist! file: {}&quot;, id, region, fileToSave);\n                throw new Exception(String.format(&quot;Image for : %s and region: %s already exist!&quot;, id, region));\n            }\n\n            if (!fileToSave.exists()) {\n                log.info(&quot;file doesn't exist: {}&quot;, fileToSave);\n            }\n            // Try-with-resource\n            try (OutputStream out = new FileOutputStream(fileToSave)) {\n                out.write(image.getData());\n                out.flush();\n                log.info(&quot;file saved: {}&quot;, fileToSave);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            log.error(&quot;No image set&quot;);\n        }\n</code></pre>\n<p>The user get the mount (folder with image.png) already populate when it pulls the image or should I do something else to store this folder in docker?</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661946311,"creation_date":1661942021,"answer_id":73554589,"question_id":73554304,"body_markdown":"I think you have an issue in Create table Query Please check it and before Add Data check in &quot;**App Inspector**&quot; Is Your Table created or not?\r\n\r\nif Table create. then You Need To upgrade Database Version.\r\n\r\n**Your Create Table Query**\r\n \r\n\r\n     String CREATE_USERS_TABLE = &quot;CREATE TABLE &quot; + Util.TABLE_NAME + &quot;(&quot;\r\n                + Util.KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + Util.lastName + &quot; TEXT,&quot;\r\n                + Util.lastName + &quot; TEXT,&quot; + Util.age + &quot; TEXT&quot; + &quot;)&quot;;\r\n            db.execSQL(CREATE_USERS_TABLE);\r\n\r\n**Try This One**\r\n\r\n     String CREATE_USERS_TABLE = &quot;CREATE TABLE &quot; + Util.TABLE_NAME + &quot;(&quot;\r\n                + Util.KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + Util.firstName + &quot; TEXT,&quot;\r\n                + Util.lastName + &quot; TEXT,&quot; + Util.age + &quot; TEXT&quot; + &quot;)&quot;;\r\n        db.execSQL(CREATE_USERS_TABLE);\r\n\r\n You face this issue because you wrote the last name two times in create table query.","title":"SQlite bug saying table doesnt exist","body":"<p>I think you have an issue in Create table Query Please check it and before Add Data check in &quot;<strong>App Inspector</strong>&quot; Is Your Table created or not?</p>\n<p>if Table create. then You Need To upgrade Database Version.</p>\n<p><strong>Your Create Table Query</strong></p>\n<pre><code> String CREATE_USERS_TABLE = &quot;CREATE TABLE &quot; + Util.TABLE_NAME + &quot;(&quot;\n            + Util.KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + Util.lastName + &quot; TEXT,&quot;\n            + Util.lastName + &quot; TEXT,&quot; + Util.age + &quot; TEXT&quot; + &quot;)&quot;;\n        db.execSQL(CREATE_USERS_TABLE);\n</code></pre>\n<p><strong>Try This One</strong></p>\n<pre><code> String CREATE_USERS_TABLE = &quot;CREATE TABLE &quot; + Util.TABLE_NAME + &quot;(&quot;\n            + Util.KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + Util.firstName + &quot; TEXT,&quot;\n            + Util.lastName + &quot; TEXT,&quot; + Util.age + &quot; TEXT&quot; + &quot;)&quot;;\n    db.execSQL(CREATE_USERS_TABLE);\n</code></pre>\n<p>You face this issue because you wrote the last name two times in create table query.</p>\n"}],"owner":{"display_name":"user18544509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1661947687,"creation_date":1661940706,"question_id":73554304,"body_markdown":"I have created an SQlite table to save users but i am getting an exception when trying to add a user:\r\nE/SQLiteLog: (1) no such table: users in &quot;INSERT INTO users(lastName,age,firstName) VALUES (?,?,?)&quot;\r\n\r\nthe database handler class:\r\n\r\n&gt;     package com.example.as.Data;\r\n&gt; \r\n&gt; import android.content.ContentValues; import android.content.Context;\r\n&gt; import android.database.Cursor; import\r\n&gt; android.database.sqlite.SQLiteDatabase; import\r\n&gt; android.database.sqlite.SQLiteOpenHelper; import android.util.Log;\r\n&gt; \r\n&gt; import com.example.as.Model.User; import com.example.as.util.Util;\r\n&gt; \r\n&gt; import java.util.ArrayList; import java.util.List;\r\n&gt; \r\n&gt; public class DatabaseHandler extends SQLiteOpenHelper {\r\n&gt; \r\n&gt;     //the name is the name of the database we will be creating\r\n&gt;     public DatabaseHandler(Context context) {\r\n&gt;         super(context, Util.DATABASE_NAME, null, Util.DATABASE_VERSION);\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     @Override\r\n&gt;     public void onCreate(SQLiteDatabase db) {\r\n&gt;             String CREATE_USERS_TABLE = &quot;CREATE TABLE &quot; + Util.TABLE_NAME + &quot;(&quot;\r\n&gt;                     + Util.KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + Util.lastName + &quot; TEXT,&quot;\r\n&gt;                     + Util.lastName + &quot; TEXT,&quot; + Util.age + &quot; TEXT&quot; + &quot;)&quot;;\r\n&gt;             db.execSQL(CREATE_USERS_TABLE);\r\n&gt;     }\r\n&gt; \r\n&gt;     //this is called when you upgrade your database\r\n&gt;     @Override\r\n&gt;     public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n&gt;         String DROP_TABLE = String.valueOf(&quot;DROP TABLE IF EXISTS&quot;);\r\n&gt;         db.execSQL(DROP_TABLE, new String[]{Util.DATABASE_NAME});\r\n&gt;         onCreate(db);\r\n&gt;     }\r\n&gt; \r\n&gt;     //how to add to database\r\n&gt;     public void addContact(User user){  //we will use the contact obj to get our shit from content class\r\n&gt;         SQLiteDatabase db = this.getWritableDatabase();\r\n&gt; \r\n&gt;         //structure that allows us to create the items to be added to the database\r\n&gt;         ContentValues values = new ContentValues();\r\n&gt;         values.put(Util.firstName, user.getFirstName()); //putting in our values\r\n&gt;         values.put(Util.lastName, user.getLastName());\r\n&gt;         values.put(Util.age, user.getAge());\r\n&gt; \r\n&gt;         //inserting the ContentValues into the table\r\n&gt;         db.insert(Util.TABLE_NAME, null, values);\r\n&gt;         Log.d(&quot;DBHandler&quot;, &quot;addContact: &quot; + &quot;item added&quot;);\r\n&gt;         db.close();\r\n&gt;     }\r\n&gt; \r\n&gt;     //get a contact by using their id number   /*  public User getUser(int id){\r\n&gt;         SQLiteDatabase db = this.getReadableDatabase();\r\n&gt;         Cursor cursor = db.query(Util.TABLE_NAME,new String[]{Util.KEY_ID,\r\n&gt;                         Util.firstName, Util.lastName, Util.age},\r\n&gt;                 Util.KEY_ID + &quot;=?&quot;,new String[]{String.valueOf(id)},\r\n&gt;                 null,null,null);\r\n&gt; \r\n&gt;         if (cursor!=null)\r\n&gt;             cursor.moveToFirst();  //start iterating through\r\n&gt; \r\n&gt;         //creating and populating the contact obj that we will return\r\n&gt;         User user = new User();\r\n&gt;         user.setId(Integer.parseInt(cursor.getString(0)));\r\n&gt;         user.setFirstName(cursor.getString(1));  //these are row numbers\r\n&gt;         user.setLastName(cursor.getString(2));\r\n&gt;         //0 is the id row and 1 is the name row\r\n&gt;         user.setAge(cursor.getString(3));\r\n&gt;         return user;\r\n&gt;     }*/\r\n&gt; \r\n&gt;     //lets get all of the contacts\r\n&gt;     public List&lt;User&gt; getAllContacts(){\r\n&gt;         List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n&gt; \r\n&gt;         SQLiteDatabase db = this.getReadableDatabase();\r\n&gt; \r\n&gt;         //SQL string to select all contacts\r\n&gt;         String selectAll = &quot;SELECT * FROM &quot; + Util.TABLE_NAME;\r\n&gt;         //rawquery built in method allows you to pass in raw sql code\r\n&gt;         Cursor cursor = db.rawQuery(selectAll,null);\r\n&gt;         //iterate through the data\r\n&gt;         if(cursor.moveToFirst()){\r\n&gt;             do {\r\n&gt;                 User user = new User();\r\n&gt;                 user.setId(Integer.parseInt(cursor.getString(0)));\r\n&gt;                 user.setFirstName(cursor.getString(1));\r\n&gt;                 user.setLastName(cursor.getString(2));\r\n&gt;                 user.setAge(cursor.getString(3));\r\n&gt;                 //add the contact objects to the list\r\n&gt;                 userList.add(user);\r\n&gt;             }while (cursor.moveToNext());\r\n&gt;         }\r\n&gt;         return userList;\r\n&gt; \r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; }\r\n\r\n\r\n\r\nthe util class:\r\n\r\n    &gt; package com.example.as.util;\r\n    \r\n    public class Util {\r\n    \r\n        //database related items (write psf for the options to show up)\r\n        public static final int DATABASE_VERSION = 1; //every database needs to have a version\r\n        public static final String DATABASE_NAME = &quot;users_db&quot;;\r\n        public static final String TABLE_NAME = &quot;users&quot;; //we need a table name\r\n    \r\n        //column names\r\n        public static final String KEY_ID = &quot;id&quot;;\r\n        public static final String firstName = &quot;firstName&quot;;\r\n        public static final String lastName  = &quot;lastName&quot;;\r\n        public static final String age = &quot;age&quot;;\r\n    \r\n    \r\n    }\r\n\r\nMain Activity:\r\n\r\n    package com.example.as;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    import com.example.as.Data.DatabaseHandler;\r\n    import com.example.as.Model.User;\r\n    \r\n    import org.w3c.dom.Text;\r\n    \r\n    import java.io.Serializable;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Button addUserbtn;\r\n        private EditText firstNametxt;\r\n        private EditText lastNametxt;\r\n        private EditText agetxt;\r\n        private TextView userstxt;\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            DatabaseHandler db  = new DatabaseHandler(MainActivity.this);\r\n    \r\n             addUserbtn = findViewById(R.id.aduserbtn);\r\n             firstNametxt= findViewById(R.id.FirstNametxt);\r\n             lastNametxt=findViewById(R.id.lastNametxt);\r\n             agetxt = findViewById(R.id.agetxt);\r\n             userstxt = findViewById(R.id.userstxt);\r\n    \r\n    \r\n    \r\n    \r\n            addUserbtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String firstName  = firstNametxt.getText().toString();\r\n                    String lastName = lastNametxt.getText().toString();\r\n                    String age = agetxt.getText().toString();\r\n                    User user = new User();\r\n                    user.setFirstName(firstName);\r\n                    user.setLastName(lastName);\r\n                    user.setAge(age);\r\n                    db.addContact(user);\r\n                  //  List&lt;User&gt; userList =db.getAllContacts();   //adding all users to list\r\n                   // for (User us: userList\r\n                     //    ) {\r\n                        Log.d(&quot;MainActivity&quot;,&quot;onCreate&quot; + user.getFirstName());\r\n                    //}\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        //changing to all Users Screen\r\n        public void ChangeScenes(View view) {\r\n            Intent intent = new Intent(this, allUsers.class);\r\n            startActivity(intent);          //now we use the intent we made before\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"SQlite bug saying table doesnt exist","body":"<p>I have created an SQlite table to save users but i am getting an exception when trying to add a user:\nE/SQLiteLog: (1) no such table: users in &quot;INSERT INTO users(lastName,age,firstName) VALUES (?,?,?)&quot;</p>\n<p>the database handler class:</p>\n<blockquote>\n<pre><code>package com.example.as.Data;\n</code></pre>\n<p>import android.content.ContentValues; import android.content.Context;\nimport android.database.Cursor; import\nandroid.database.sqlite.SQLiteDatabase; import\nandroid.database.sqlite.SQLiteOpenHelper; import android.util.Log;</p>\n<p>import com.example.as.Model.User; import com.example.as.util.Util;</p>\n<p>import java.util.ArrayList; import java.util.List;</p>\n<p>public class DatabaseHandler extends SQLiteOpenHelper {</p>\n<pre><code>//the name is the name of the database we will be creating\npublic DatabaseHandler(Context context) {\n    super(context, Util.DATABASE_NAME, null, Util.DATABASE_VERSION);\n}\n\n\n\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n        String CREATE_USERS_TABLE = &quot;CREATE TABLE &quot; + Util.TABLE_NAME + &quot;(&quot;\n                + Util.KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + Util.lastName + &quot; TEXT,&quot;\n                + Util.lastName + &quot; TEXT,&quot; + Util.age + &quot; TEXT&quot; + &quot;)&quot;;\n        db.execSQL(CREATE_USERS_TABLE);\n}\n\n//this is called when you upgrade your database\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    String DROP_TABLE = String.valueOf(&quot;DROP TABLE IF EXISTS&quot;);\n    db.execSQL(DROP_TABLE, new String[]{Util.DATABASE_NAME});\n    onCreate(db);\n}\n\n//how to add to database\npublic void addContact(User user){  //we will use the contact obj to get our shit from content class\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    //structure that allows us to create the items to be added to the database\n    ContentValues values = new ContentValues();\n    values.put(Util.firstName, user.getFirstName()); //putting in our values\n    values.put(Util.lastName, user.getLastName());\n    values.put(Util.age, user.getAge());\n\n    //inserting the ContentValues into the table\n    db.insert(Util.TABLE_NAME, null, values);\n    Log.d(&quot;DBHandler&quot;, &quot;addContact: &quot; + &quot;item added&quot;);\n    db.close();\n}\n\n//get a contact by using their id number   /*  public User getUser(int id){\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.query(Util.TABLE_NAME,new String[]{Util.KEY_ID,\n                    Util.firstName, Util.lastName, Util.age},\n            Util.KEY_ID + &quot;=?&quot;,new String[]{String.valueOf(id)},\n            null,null,null);\n\n    if (cursor!=null)\n        cursor.moveToFirst();  //start iterating through\n\n    //creating and populating the contact obj that we will return\n    User user = new User();\n    user.setId(Integer.parseInt(cursor.getString(0)));\n    user.setFirstName(cursor.getString(1));  //these are row numbers\n    user.setLastName(cursor.getString(2));\n    //0 is the id row and 1 is the name row\n    user.setAge(cursor.getString(3));\n    return user;\n}*/\n\n//lets get all of the contacts\npublic List&lt;User&gt; getAllContacts(){\n    List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    //SQL string to select all contacts\n    String selectAll = &quot;SELECT * FROM &quot; + Util.TABLE_NAME;\n    //rawquery built in method allows you to pass in raw sql code\n    Cursor cursor = db.rawQuery(selectAll,null);\n    //iterate through the data\n    if(cursor.moveToFirst()){\n        do {\n            User user = new User();\n            user.setId(Integer.parseInt(cursor.getString(0)));\n            user.setFirstName(cursor.getString(1));\n            user.setLastName(cursor.getString(2));\n            user.setAge(cursor.getString(3));\n            //add the contact objects to the list\n            userList.add(user);\n        }while (cursor.moveToNext());\n    }\n    return userList;\n\n}\n</code></pre>\n<p>}</p>\n</blockquote>\n<p>the util class:</p>\n<pre><code>&gt; package com.example.as.util;\n\npublic class Util {\n\n    //database related items (write psf for the options to show up)\n    public static final int DATABASE_VERSION = 1; //every database needs to have a version\n    public static final String DATABASE_NAME = &quot;users_db&quot;;\n    public static final String TABLE_NAME = &quot;users&quot;; //we need a table name\n\n    //column names\n    public static final String KEY_ID = &quot;id&quot;;\n    public static final String firstName = &quot;firstName&quot;;\n    public static final String lastName  = &quot;lastName&quot;;\n    public static final String age = &quot;age&quot;;\n\n\n}\n</code></pre>\n<p>Main Activity:</p>\n<pre><code>package com.example.as;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport com.example.as.Data.DatabaseHandler;\nimport com.example.as.Model.User;\n\nimport org.w3c.dom.Text;\n\nimport java.io.Serializable;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button addUserbtn;\n    private EditText firstNametxt;\n    private EditText lastNametxt;\n    private EditText agetxt;\n    private TextView userstxt;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        DatabaseHandler db  = new DatabaseHandler(MainActivity.this);\n\n         addUserbtn = findViewById(R.id.aduserbtn);\n         firstNametxt= findViewById(R.id.FirstNametxt);\n         lastNametxt=findViewById(R.id.lastNametxt);\n         agetxt = findViewById(R.id.agetxt);\n         userstxt = findViewById(R.id.userstxt);\n\n\n\n\n        addUserbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String firstName  = firstNametxt.getText().toString();\n                String lastName = lastNametxt.getText().toString();\n                String age = agetxt.getText().toString();\n                User user = new User();\n                user.setFirstName(firstName);\n                user.setLastName(lastName);\n                user.setAge(age);\n                db.addContact(user);\n              //  List&lt;User&gt; userList =db.getAllContacts();   //adding all users to list\n               // for (User us: userList\n                 //    ) {\n                    Log.d(&quot;MainActivity&quot;,&quot;onCreate&quot; + user.getFirstName());\n                //}\n\n            }\n        });\n    }\n\n\n    //changing to all Users Screen\n    public void ChangeScenes(View view) {\n        Intent intent = new Intent(this, allUsers.class);\n        startActivity(intent);          //now we use the intent we made before\n    }\n\n\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":2,"creation_date":1661898356,"post_id":73548807,"comment_id":129880456,"body_markdown":"there&#39;s a pretty clear guide [here](https://docs.oracle.com/javase/8/docs/technotes/guides/rmi/hello/hello-world.html#:~:text=A%20Java%20RMI%20registry%20is,a%20client%20needs%20to%20use.). Note that you need to publish a remote interface stub to the registry and you have to start the registry along with your server.","body":"there&#39;s a pretty clear guide <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/rmi/hello/hello-world.html#:~:text=A%20Java%20RMI%20registry%20is,a%20client%20needs%20to%20use.\" rel=\"nofollow noreferrer\">here</a>. Note that you need to publish a remote interface stub to the registry and you have to start the registry along with your server."},{"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"score":0,"creation_date":1661900121,"post_id":73548807,"comment_id":129880760,"body_markdown":"this guide only works on localhost for me","body":"this guide only works on localhost for me"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661905722,"post_id":73548807,"comment_id":129881589,"body_markdown":"`java.rmi.server.hostname` needs to be set *at the server*. Setting it at the client has no effect.","body":"<code>java.rmi.server.hostname</code> needs to be set <i>at the server</i>. Setting it at the client has no effect."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661911800,"post_id":73548807,"comment_id":129882467,"body_markdown":"Which line of code did you get `Connection refused to host: localhost` at?","body":"Which line of code did you get <code>Connection refused to host: localhost</code> at?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661947620,"creation_date":1661939286,"answer_id":73553991,"question_id":73548807,"body_markdown":"At first glance it looks like your server uses `LocateRegistry.createRegistry(port);` which implies own registry (same process) which you don&#39;t store to local variable, and then you call `Naming.rebind(bind, rs)` which implies use of a local registry (same host, other process) on the default port. \r\n\r\nTry changing the lines on server to:\r\n\r\n    Registry registry = LocateRegistry.createRegistry(port);\r\n    ...\r\n    // NOTE registry.rebind not called with name=&quot;//42.155.241.914/RemoteBookService&quot;\r\n    registry.rebind(&quot;RemoteBookService&quot;, stub); \r\n\r\nHopefully this may get you to the next step, but there are plenty of ways this could have gone wrong so you might need to edit the question with more details.\r\n","title":"Java RMI in non-local environment","body":"<p>At first glance it looks like your server uses <code>LocateRegistry.createRegistry(port);</code> which implies own registry (same process) which you don't store to local variable, and then you call <code>Naming.rebind(bind, rs)</code> which implies use of a local registry (same host, other process) on the default port.</p>\n<p>Try changing the lines on server to:</p>\n<pre><code>Registry registry = LocateRegistry.createRegistry(port);\n...\n// NOTE registry.rebind not called with name=&quot;//42.155.241.914/RemoteBookService&quot;\nregistry.rebind(&quot;RemoteBookService&quot;, stub); \n</code></pre>\n<p>Hopefully this may get you to the next step, but there are plenty of ways this could have gone wrong so you might need to edit the question with more details.</p>\n"}],"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73553991,"answer_count":1,"score":-1,"last_activity_date":1661947620,"creation_date":1661896377,"question_id":73548807,"body_markdown":"Im losing my mind, is there any clear documentation how to run java RMI between host and client remotly? i find in different forums, various puzzle pieces, but never, a from a to z guide, which scurity guidelines have to be followed etc, so that a RMI works. Well, if I run the server and client locally, it works.\r\n\r\nNow, my low-level problem is that even if I set the external server address everywhere (?), in the error message it says that &quot;localhost&quot; has refused the connection.... Do you have any ideas?\r\n\r\nClient:\r\n\t\t\r\n   \t\t\r\n    \t\ttry {\r\n    \t\tSystem.setProperty(&quot;java.rmi.server.hostname&quot;,&quot;42.155.241.914&quot;);\r\n    \t\tString name = &quot;RemoteBookService&quot;;\r\n    \t\tString serverIP = &quot;42.155.241.914&quot;; // or localhost if client and server on same machine.\r\n    \t\tint serverPort = 1099;\r\n    \t\tRegistry registry = LocateRegistry.getRegistry(serverIP, serverPort);\r\n    \r\n    \t\tIRemoteService rs = (IRemoteService) registry.lookup(name);\r\n\r\nError: \r\n\r\n&gt;     java.rmi.ConnectException: Connection refused to host: localhost;\r\n&gt;     nested exception is: \r\n&gt;     java.net.ConnectException: Connection refused: connect\r\n\r\n\r\nServer:\r\n\r\n    public static void main(String[] args) throws MalformedURLException, AlreadyBoundException {\r\n    \t\t\t\r\n    \ttry {\r\n    \t\tSystem.setProperty(&quot;java.rmi.server.hostname&quot;,&quot;42.155.241.914&quot;);\r\n    \t\tLocateRegistry.createRegistry(1099);\r\n    \t\tString name=&quot;//42.155.241.914/RemoteBookService&quot;;\r\n    \t\tRemoteService rs = new RemoteService();\r\n    \t\tNaming.bind(name, rs);\r\n    \t\tSystem.out.println(&quot;Service started&quot;);\r\n    \t} catch (RemoteException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t\tSystem.out.println(&quot;could not start registry&quot;);\r\n    \t}\r\n    \r\n    }","title":"Java RMI in non-local environment","body":"<p>Im losing my mind, is there any clear documentation how to run java RMI between host and client remotly? i find in different forums, various puzzle pieces, but never, a from a to z guide, which scurity guidelines have to be followed etc, so that a RMI works. Well, if I run the server and client locally, it works.</p>\n<p>Now, my low-level problem is that even if I set the external server address everywhere (?), in the error message it says that &quot;localhost&quot; has refused the connection.... Do you have any ideas?</p>\n<p>Client:</p>\n<pre><code>        try {\n        System.setProperty(&quot;java.rmi.server.hostname&quot;,&quot;42.155.241.914&quot;);\n        String name = &quot;RemoteBookService&quot;;\n        String serverIP = &quot;42.155.241.914&quot;; // or localhost if client and server on same machine.\n        int serverPort = 1099;\n        Registry registry = LocateRegistry.getRegistry(serverIP, serverPort);\n\n        IRemoteService rs = (IRemoteService) registry.lookup(name);\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<pre><code>java.rmi.ConnectException: Connection refused to host: localhost;\nnested exception is: \njava.net.ConnectException: Connection refused: connect\n</code></pre>\n</blockquote>\n<p>Server:</p>\n<pre><code>public static void main(String[] args) throws MalformedURLException, AlreadyBoundException {\n            \n    try {\n        System.setProperty(&quot;java.rmi.server.hostname&quot;,&quot;42.155.241.914&quot;);\n        LocateRegistry.createRegistry(1099);\n        String name=&quot;//42.155.241.914/RemoteBookService&quot;;\n        RemoteService rs = new RemoteService();\n        Naming.bind(name, rs);\n        System.out.println(&quot;Service started&quot;);\n    } catch (RemoteException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        System.out.println(&quot;could not start registry&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661760592,"creation_date":1661760592,"answer_id":73525853,"question_id":73498398,"body_markdown":"I can only offer you a workaround, as I don&#39;t think what you want to achieve is doable out of the box with Hibernate or any other JPA provider.\r\n\r\nYou can encapsulate the `Child` completely, and with a bi-directional reference, you can make sure that the modifiedDate is dirtied when necessary. A model similar to this should suffice:\r\n\r\n```java\r\n@Entity\r\n@Audited\r\npublic class Parent implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    @Size(max = 36)\r\n    @Column(length = 36)\r\n    private String id;\r\n\r\n    @NotNull\r\n    private String createdUser;\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @NotNull\r\n    private Date createdDate;\r\n\r\n    private String modifiedUser;\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date modifiedDate;\r\n\r\n    @OneToOne(targetEntity = Child.class, optional = false, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval = true)\r\n    @Fetch(FetchMode.JOIN)\r\n    private Child child;\r\n\r\n    public Parent() {\r\n        child = new Child(this);\r\n    }\r\n\r\n    @PrePersist\r\n    public void prePersist() {\r\n        createdDate = modifiedDate = new Date();\r\n        createdUser = modifiedUser = &quot;SampleUser&quot;;\r\n        \r\n    }\r\n\r\n    @PreUpdate\r\n    public void preUpdate() {\r\n        modifiedDate = new Date();\r\n        modifiedUser = &quot;SampleUser&quot;;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCreatedUser() {\r\n        return createdUser;\r\n    }\r\n\r\n    public void setCreatedUser(String createdUser) {\r\n        this.createdUser = createdUser;\r\n    }\r\n\r\n    public Date getCreatedDate() {\r\n        return createdDate;\r\n    }\r\n\r\n    public void setCreatedDate(Date createdDate) {\r\n        this.createdDate = createdDate;\r\n    }\r\n\r\n    public String getModifiedUser() {\r\n        return modifiedUser;\r\n    }\r\n\r\n    public void setModifiedUser(String modifiedUser) {\r\n        this.modifiedUser = modifiedUser;\r\n    }\r\n\r\n    public Date getModifiedDate() {\r\n        return modifiedDate;\r\n    }\r\n\r\n    public void setModifiedDate(Date modifiedDate) {\r\n        this.modifiedDate = modifiedDate;\r\n    }\r\n\r\n    public Child getChild() {\r\n        return child;\r\n    }\r\n\r\n    // Note that I removed the setter\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Audited\r\npublic class Child implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    @Size(max = 36)\r\n    @Column(length = 36)\r\n    private String id;\r\n\r\n    private String sampleField;\r\n\r\n    @OneToOne(mappedBy = &quot;child&quot;)\r\n    private Parent parent;\r\n\r\n    public Child() {}\r\n\r\n    public Child(Parent parent) {\r\n        this.parent = parent;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getSampleField() {\r\n        return sampleField;\r\n    }\r\n\r\n    public void setSampleField(String sampleField) {\r\n        if (parent != null &amp;&amp; !Objects.equals(this.sampleField, sampleField)) {\r\n            parent.setModifiedDate(null);\r\n        }\r\n        this.sampleField = sampleField;\r\n    }\r\n}\r\n```","title":"JPA / Hibernate - Update parent entity on child changes","body":"<p>I can only offer you a workaround, as I don't think what you want to achieve is doable out of the box with Hibernate or any other JPA provider.</p>\n<p>You can encapsulate the <code>Child</code> completely, and with a bi-directional reference, you can make sure that the modifiedDate is dirtied when necessary. A model similar to this should suffice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Audited\npublic class Parent implements Serializable {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\n    @Size(max = 36)\n    @Column(length = 36)\n    private String id;\n\n    @NotNull\n    private String createdUser;\n\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    @Temporal(TemporalType.TIMESTAMP)\n    @NotNull\n    private Date createdDate;\n\n    private String modifiedUser;\n\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date modifiedDate;\n\n    @OneToOne(targetEntity = Child.class, optional = false, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval = true)\n    @Fetch(FetchMode.JOIN)\n    private Child child;\n\n    public Parent() {\n        child = new Child(this);\n    }\n\n    @PrePersist\n    public void prePersist() {\n        createdDate = modifiedDate = new Date();\n        createdUser = modifiedUser = &quot;SampleUser&quot;;\n        \n    }\n\n    @PreUpdate\n    public void preUpdate() {\n        modifiedDate = new Date();\n        modifiedUser = &quot;SampleUser&quot;;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getCreatedUser() {\n        return createdUser;\n    }\n\n    public void setCreatedUser(String createdUser) {\n        this.createdUser = createdUser;\n    }\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public String getModifiedUser() {\n        return modifiedUser;\n    }\n\n    public void setModifiedUser(String modifiedUser) {\n        this.modifiedUser = modifiedUser;\n    }\n\n    public Date getModifiedDate() {\n        return modifiedDate;\n    }\n\n    public void setModifiedDate(Date modifiedDate) {\n        this.modifiedDate = modifiedDate;\n    }\n\n    public Child getChild() {\n        return child;\n    }\n\n    // Note that I removed the setter\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Audited\npublic class Child implements Serializable {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\n    @Size(max = 36)\n    @Column(length = 36)\n    private String id;\n\n    private String sampleField;\n\n    @OneToOne(mappedBy = &quot;child&quot;)\n    private Parent parent;\n\n    public Child() {}\n\n    public Child(Parent parent) {\n        this.parent = parent;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getSampleField() {\n        return sampleField;\n    }\n\n    public void setSampleField(String sampleField) {\n        if (parent != null &amp;&amp; !Objects.equals(this.sampleField, sampleField)) {\n            parent.setModifiedDate(null);\n        }\n        this.sampleField = sampleField;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4437031,"reputation":242,"user_id":3612610,"accept_rate":11,"display_name":"user3612610"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661947192,"creation_date":1661503797,"question_id":73498398,"body_markdown":"I have following two entities in OneToOne relationship. \r\n\r\n```\r\n@Entity\r\n@Audited\r\npublic class Parent implements Serializable {\r\n\r\n\t@Id\r\n\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n\t@Size(max = 36)\r\n\t@Column(length = 36)\r\n\tprivate String id;\r\n\r\n\t@NotNull\r\n\tprivate String createdUser;\r\n\r\n\t@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@NotNull\r\n\tprivate Date createdDate;\r\n\r\n\tprivate String modifiedUser;\r\n\r\n\t@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\tprivate Date modifiedDate;\r\n\r\n\t@OneToOne(targetEntity = Child.class, optional = false, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval = true)\r\n\t@Fetch(FetchMode.JOIN)\r\n\tprivate Child child = new Child();\r\n\r\n\t@PrePersist\r\n\tpublic void prePersist() {\r\n\r\n\t\tcreatedDate = new Date();\r\n\t\tcreatedUser = &quot;SampleUser&quot;;\r\n\r\n\t}\r\n\r\n\t@PreUpdate\r\n\tpublic void preUpdate() {\r\n\r\n\t\tmodifiedDate = new Date();\r\n\t\tmodifiedUser = &quot;SampleUser&quot;;\r\n\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getCreatedUser() {\r\n\t\treturn createdUser;\r\n\t}\r\n\r\n\tpublic void setCreatedUser(String createdUser) {\r\n\t\tthis.createdUser = createdUser;\r\n\t}\r\n\r\n\tpublic Date getCreatedDate() {\r\n\t\treturn createdDate;\r\n\t}\r\n\r\n\tpublic void setCreatedDate(Date createdDate) {\r\n\t\tthis.createdDate = createdDate;\r\n\t}\r\n\r\n\tpublic String getModifiedUser() {\r\n\t\treturn modifiedUser;\r\n\t}\r\n\r\n\tpublic void setModifiedUser(String modifiedUser) {\r\n\t\tthis.modifiedUser = modifiedUser;\r\n\t}\r\n\r\n\tpublic Date getModifiedDate() {\r\n\t\treturn modifiedDate;\r\n\t}\r\n\r\n\tpublic void setModifiedDate(Date modifiedDate) {\r\n\t\tthis.modifiedDate = modifiedDate;\r\n\t}\r\n\r\n\tpublic Child getChild() {\r\n\t\treturn child;\r\n\t}\r\n\r\n\tpublic void setChild(Child child) {\r\n\t\tthis.child = child;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Audited\r\npublic class Child implements Serializable {\r\n\r\n\t@Id\r\n\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n\t@Size(max = 36)\r\n\t@Column(length = 36)\r\n\tprivate String id;\r\n\r\n\tprivate String sampleField;\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getSampleField() {\r\n\t\treturn sampleField;\r\n\t}\r\n\r\n\tpublic void setSampleField(String sampleField) {\r\n\t\tthis.sampleField = sampleField;\r\n\t}\r\n}\r\n```\r\n\r\nNow I need to update the parents modified (date &amp; user) fields. If i change only the field (sampleField) in the child then the modified fields are not updated in the parent.\r\n\r\nI found following two statements and if I understand it correctly then its not a good idea to change the parent in lifecycle events (Interceptor, EventListener, Callbacks) of the child.\r\n\r\n[Statement 1][1]\r\n[Statement 2][2]\r\n\r\nWhat is a save way to address my problem?\r\n\r\n**Update**\r\n\r\nI found this way from vlad: [How to increment the parent entity version][3]. But I&#39;m not sure if this way is safe. Life cycle events are also used.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7754856\r\n  [2]: https://stackoverflow.com/a/55323526\r\n  [3]: https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/","title":"JPA / Hibernate - Update parent entity on child changes","body":"<p>I have following two entities in OneToOne relationship.</p>\n<pre><code>@Entity\n@Audited\npublic class Parent implements Serializable {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\n    @Size(max = 36)\n    @Column(length = 36)\n    private String id;\n\n    @NotNull\n    private String createdUser;\n\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    @Temporal(TemporalType.TIMESTAMP)\n    @NotNull\n    private Date createdDate;\n\n    private String modifiedUser;\n\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date modifiedDate;\n\n    @OneToOne(targetEntity = Child.class, optional = false, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval = true)\n    @Fetch(FetchMode.JOIN)\n    private Child child = new Child();\n\n    @PrePersist\n    public void prePersist() {\n\n        createdDate = new Date();\n        createdUser = &quot;SampleUser&quot;;\n\n    }\n\n    @PreUpdate\n    public void preUpdate() {\n\n        modifiedDate = new Date();\n        modifiedUser = &quot;SampleUser&quot;;\n\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getCreatedUser() {\n        return createdUser;\n    }\n\n    public void setCreatedUser(String createdUser) {\n        this.createdUser = createdUser;\n    }\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public String getModifiedUser() {\n        return modifiedUser;\n    }\n\n    public void setModifiedUser(String modifiedUser) {\n        this.modifiedUser = modifiedUser;\n    }\n\n    public Date getModifiedDate() {\n        return modifiedDate;\n    }\n\n    public void setModifiedDate(Date modifiedDate) {\n        this.modifiedDate = modifiedDate;\n    }\n\n    public Child getChild() {\n        return child;\n    }\n\n    public void setChild(Child child) {\n        this.child = child;\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Audited\npublic class Child implements Serializable {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\n    @Size(max = 36)\n    @Column(length = 36)\n    private String id;\n\n    private String sampleField;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getSampleField() {\n        return sampleField;\n    }\n\n    public void setSampleField(String sampleField) {\n        this.sampleField = sampleField;\n    }\n}\n</code></pre>\n<p>Now I need to update the parents modified (date &amp; user) fields. If i change only the field (sampleField) in the child then the modified fields are not updated in the parent.</p>\n<p>I found following two statements and if I understand it correctly then its not a good idea to change the parent in lifecycle events (Interceptor, EventListener, Callbacks) of the child.</p>\n<p><a href=\"https://stackoverflow.com/a/7754856\">Statement 1</a>\n<a href=\"https://stackoverflow.com/a/55323526\">Statement 2</a></p>\n<p>What is a save way to address my problem?</p>\n<p><strong>Update</strong></p>\n<p>I found this way from vlad: <a href=\"https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">How to increment the parent entity version</a>. But I'm not sure if this way is safe. Life cycle events are also used.</p>\n"},{"tags":["java","scylla","alternator"],"answers":[{"tags":[],"owner":{"account_id":12179143,"reputation":12245,"user_id":8891224,"display_name":"Nadav Har&#39;El"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661947009,"creation_date":1661947009,"answer_id":73555549,"question_id":73542236,"body_markdown":"Your observation is correct: ScyllaDB&#39;s CDC (which Alternator Streams is based on) divides the data into a very large number of &quot;shards&quot; (confusingly, in ScyllaDB terminology, the word &quot;shard&quot; has a different meaning and the word &quot;streams&quot; is used). \r\n\r\nThe reason for this design decision was that whereas DynamoDB chose to reduce the number of shards to make **reading** the change log easier and more efficient,  ScyllaDB chose to make the **writing** more efficient. This is important to Scylla because in ScyllaDB cheap writes are much cheaper than in DynamoDB (in ScyllaDB, non-LWT writes have roughly the same performance as reads, whereas in DynamoDB writes are at least 5 times more expensive than reads).\r\n\r\nTo make writing the change log more efficient, ScyllaDB wants them to be &quot;local&quot; - if a piece of data is on a specific CPU of a specific node, we want its change log to be on the same CPU. Moreover, if a piece of data has a specific triplet of replicas, we want its change log to be on the same replicas. With all of this together, we end up with the number of stream &quot;shards&quot; (in DynamoDB terminology) numbering `vnodes * cpus_per_node`\r\nWhere:\r\n1. `vnodes` is the number of token ranges that the token ring is split to and determines the replication. There is a configuration paramter `num_tokens` which controls how many vnode token each of the ScyllaDB server picks, so if there are `N` servers, then `vnodes = num_tokens * N`.\r\n2. `cpus_per_node` is the number of CPUs in one node\r\n\r\nOne way to reduce the total `vnodes * cpus` is to reduce the `num_tokens` configuration parameter. To improve load balancing, it usually defaults to 256, but in some cases (e.g., when you have just one node, or have three nodes and RF=3) you can successfully reduce it even to 1. So for example if you have one node with 8 CPUs, `vnodes * cpus` will be by default `256 * 8`, i.e., 2048 as you noticed, but if you set `num_tokens = 1` you&#39;ll get just 8 shards. Not as good as 1, but not as bad as 2048.\r\n\r\nUnfortunately, if you can&#39;t reduce the number of shards, you do need to poll a lot more shards. This usually has two consequences:\r\n\r\n1. You will probably poll the shards _less frequently_ than you do in DynamoDB. If, like you said, an event only happens &quot;once every few minutes&quot;, it might not be a problem for you to only poll each shard once every minute. Whether or not a one-minute delay in an event that only happens once every few minutes matters to your application depends on the application, of course.\r\n\r\n2. As I noted above, yes - reads of the change log will indeed be more costly for your application than they are in DynamoDB. But on the other hand, writes (without LWT) will be less costly. So depending on your application, this might be either a good thing, or bad. \r\nFor example, an application that does **a lot of writes** will enjoy the write speedup but the polling overhead will be minimal (because every poll will return a bunch of results, with hardly any read work wasted on empty results).","title":"How to use streams with Scylla-Alternator? What is best practice?","body":"<p>Your observation is correct: ScyllaDB's CDC (which Alternator Streams is based on) divides the data into a very large number of &quot;shards&quot; (confusingly, in ScyllaDB terminology, the word &quot;shard&quot; has a different meaning and the word &quot;streams&quot; is used).</p>\n<p>The reason for this design decision was that whereas DynamoDB chose to reduce the number of shards to make <strong>reading</strong> the change log easier and more efficient,  ScyllaDB chose to make the <strong>writing</strong> more efficient. This is important to Scylla because in ScyllaDB cheap writes are much cheaper than in DynamoDB (in ScyllaDB, non-LWT writes have roughly the same performance as reads, whereas in DynamoDB writes are at least 5 times more expensive than reads).</p>\n<p>To make writing the change log more efficient, ScyllaDB wants them to be &quot;local&quot; - if a piece of data is on a specific CPU of a specific node, we want its change log to be on the same CPU. Moreover, if a piece of data has a specific triplet of replicas, we want its change log to be on the same replicas. With all of this together, we end up with the number of stream &quot;shards&quot; (in DynamoDB terminology) numbering <code>vnodes * cpus_per_node</code>\nWhere:</p>\n<ol>\n<li><code>vnodes</code> is the number of token ranges that the token ring is split to and determines the replication. There is a configuration paramter <code>num_tokens</code> which controls how many vnode token each of the ScyllaDB server picks, so if there are <code>N</code> servers, then <code>vnodes = num_tokens * N</code>.</li>\n<li><code>cpus_per_node</code> is the number of CPUs in one node</li>\n</ol>\n<p>One way to reduce the total <code>vnodes * cpus</code> is to reduce the <code>num_tokens</code> configuration parameter. To improve load balancing, it usually defaults to 256, but in some cases (e.g., when you have just one node, or have three nodes and RF=3) you can successfully reduce it even to 1. So for example if you have one node with 8 CPUs, <code>vnodes * cpus</code> will be by default <code>256 * 8</code>, i.e., 2048 as you noticed, but if you set <code>num_tokens = 1</code> you'll get just 8 shards. Not as good as 1, but not as bad as 2048.</p>\n<p>Unfortunately, if you can't reduce the number of shards, you do need to poll a lot more shards. This usually has two consequences:</p>\n<ol>\n<li><p>You will probably poll the shards <em>less frequently</em> than you do in DynamoDB. If, like you said, an event only happens &quot;once every few minutes&quot;, it might not be a problem for you to only poll each shard once every minute. Whether or not a one-minute delay in an event that only happens once every few minutes matters to your application depends on the application, of course.</p>\n</li>\n<li><p>As I noted above, yes - reads of the change log will indeed be more costly for your application than they are in DynamoDB. But on the other hand, writes (without LWT) will be less costly. So depending on your application, this might be either a good thing, or bad.\nFor example, an application that does <strong>a lot of writes</strong> will enjoy the write speedup but the polling overhead will be minimal (because every poll will return a bunch of results, with hardly any read work wasted on empty results).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73555549,"answer_count":1,"score":0,"last_activity_date":1661947009,"creation_date":1661861388,"question_id":73542236,"body_markdown":"The streams description of my table returns 2048 shards with Scylla-Alternator. With DynamoDB I get only one. For DynamoDB I have poll the one shard stream once per second. If I do the same with Scylla-Alternator this results in 2048 requests per seconds. This seams not to be a good idea.\r\n\r\nBecause the shards can be expired and new can be sporn you must also query for new shards.\r\n\r\nThis all sounds a very large overhead for an event every few minutes. What is the best practice to get the events without produce to many traffic?","title":"How to use streams with Scylla-Alternator? What is best practice?","body":"<p>The streams description of my table returns 2048 shards with Scylla-Alternator. With DynamoDB I get only one. For DynamoDB I have poll the one shard stream once per second. If I do the same with Scylla-Alternator this results in 2048 requests per seconds. This seams not to be a good idea.</p>\n<p>Because the shards can be expired and new can be sporn you must also query for new shards.</p>\n<p>This all sounds a very large overhead for an event every few minutes. What is the best practice to get the events without produce to many traffic?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661930349,"creation_date":1661926846,"answer_id":73551610,"question_id":73551447,"body_markdown":"Use a global String variable let&#39;s name it as `lastText` and check whether input text is the same as last text.\r\n\r\n### UPDATE for time tracking\r\n```lang-java\r\nprivate String lastText = &quot;&quot;; // Global for all class members\r\nprivate long lastTextTime = 0; // Global\r\n//...\r\n// May be more code goes here\r\n//...\r\nif ( string.equals(&quot;help&quot;) &amp;&amp; !string.equals(lastText) ) {\r\n    // Check whether 5 min has elapsed to show the toast message\r\n    if(System.currentTimeMillis - lastTextTime &gt; (5*60*1000)) {\r\n        Toast.makeText(getApplicationContext(), &quot;we are here to help&quot;, \r\n            Toast.LENGTH_SHORT).show();\r\n        // If the program reach here save this string as a last text for the next check\r\n        lastText = string;\r\n        lastTextTime = System.currentTimeMillis;\r\n    }\r\n}\r\n```","title":"how to prevent execution of same thing again and again","body":"<p>Use a global String variable let's name it as <code>lastText</code> and check whether input text is the same as last text.</p>\n<h3>UPDATE for time tracking</h3>\n<pre class=\"lang-java prettyprint-override\"><code>private String lastText = &quot;&quot;; // Global for all class members\nprivate long lastTextTime = 0; // Global\n//...\n// May be more code goes here\n//...\nif ( string.equals(&quot;help&quot;) &amp;&amp; !string.equals(lastText) ) {\n    // Check whether 5 min has elapsed to show the toast message\n    if(System.currentTimeMillis - lastTextTime &gt; (5*60*1000)) {\n        Toast.makeText(getApplicationContext(), &quot;we are here to help&quot;, \n            Toast.LENGTH_SHORT).show();\n        // If the program reach here save this string as a last text for the next check\n        lastText = string;\n        lastTextTime = System.currentTimeMillis;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14327503,"reputation":388,"user_id":10349175,"display_name":"AShX"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661927136,"creation_date":1661927136,"answer_id":73551657,"question_id":73551447,"body_markdown":"You can add already typed words to a list, and when the user types a word, you can iterate through this list and check if &quot;word&quot; is already was typed, and then if &quot;false&quot; - show toast. \r\n\r\nAlternative solution - you can create a local SQLite database (using Room persistence library), it will allow you to save values even if user restart/exit app, but it will require more coding and fixing nuances \r\n","title":"how to prevent execution of same thing again and again","body":"<p>You can add already typed words to a list, and when the user types a word, you can iterate through this list and check if &quot;word&quot; is already was typed, and then if &quot;false&quot; - show toast.</p>\n<p>Alternative solution - you can create a local SQLite database (using Room persistence library), it will allow you to save values even if user restart/exit app, but it will require more coding and fixing nuances</p>\n"}],"owner":{"account_id":21239565,"reputation":17,"user_id":15623276,"display_name":"shohel hossain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1661946880,"creation_date":1661925486,"question_id":73551447,"body_markdown":"I have made an application that whenever a user types a particular word it toast a massage now I want to add a feature that if the user has typed the particular word continuously many times in a particular time it will consider it once only and toast the massage ones only.\r\n\r\nThe code \r\n```lang-java\r\nif ( string.equals(&quot;help&quot;) ) {\r\n    Toast.makeText(getApplicationContext(), &quot;we are here to help&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n```","title":"how to prevent execution of same thing again and again","body":"<p>I have made an application that whenever a user types a particular word it toast a massage now I want to add a feature that if the user has typed the particular word continuously many times in a particular time it will consider it once only and toast the massage ones only.</p>\n<p>The code</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( string.equals(&quot;help&quot;) ) {\n    Toast.makeText(getApplicationContext(), &quot;we are here to help&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":["java","arrays","static-methods","boolean-expression"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1457202105,"creation_date":1457201770,"answer_id":35817878,"question_id":35817843,"body_markdown":"Your `for` loop does nothing, so you are only comparing the elements in the first index of the arrays. \r\n\r\nYour code should look something like this :\r\n\r\n    public static boolean allLess(int[] a, int[] b) {\r\n        boolean sameLength = (a.length == b.length);\r\n        if (!sameLength)\r\n            return false;\r\n        boolean digitDifference = true;\r\n        for (int i = 0; i &lt;= a.length - 1 &amp;&amp; digitDifference; i++) {\r\n            digitDifference = (a[i] &lt; b[i]);\r\n        }\r\n        return digitDifference;\r\n    }\r\n\r\nNow the for loop compares each pair of elements having the same index, and terminates once it finds a pair that violates your requirement that `(a[i] &lt; b[i])`.\r\n\r\nAnother equivalent implementation without the flags :\r\n\r\n    public static boolean allLess(int[] a, int[] b) {\r\n        if (a.length != b.length)\r\n            return false;\r\n        for (int i = 0; i &lt;= a.length - 1; i++) {\r\n            if (a[i] &gt;= b[i])\r\n                return false;\r\n        }\r\n        return true;\r\n    }","title":"Comparing elements of two arrays","body":"<p>Your <code>for</code> loop does nothing, so you are only comparing the elements in the first index of the arrays. </p>\n\n<p>Your code should look something like this :</p>\n\n<pre><code>public static boolean allLess(int[] a, int[] b) {\n    boolean sameLength = (a.length == b.length);\n    if (!sameLength)\n        return false;\n    boolean digitDifference = true;\n    for (int i = 0; i &lt;= a.length - 1 &amp;&amp; digitDifference; i++) {\n        digitDifference = (a[i] &lt; b[i]);\n    }\n    return digitDifference;\n}\n</code></pre>\n\n<p>Now the for loop compares each pair of elements having the same index, and terminates once it finds a pair that violates your requirement that <code>(a[i] &lt; b[i])</code>.</p>\n\n<p>Another equivalent implementation without the flags :</p>\n\n<pre><code>public static boolean allLess(int[] a, int[] b) {\n    if (a.length != b.length)\n        return false;\n    for (int i = 0; i &lt;= a.length - 1; i++) {\n        if (a[i] &gt;= b[i])\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457201793,"creation_date":1457201793,"answer_id":35817883,"question_id":35817843,"body_markdown":"`digitDifference` is initialized before the loop, and compare the first elements of both arrays, since `i`&#39;s value is 0 at this point. You never compare the other elements of the array. The comparison must be done **inside** the loop.\r\n\r\nBTW, your loop body doesn&#39;t even have a single instruction.","title":"Comparing elements of two arrays","body":"<p><code>digitDifference</code> is initialized before the loop, and compare the first elements of both arrays, since <code>i</code>'s value is 0 at this point. You never compare the other elements of the array. The comparison must be done <strong>inside</strong> the loop.</p>\n\n<p>BTW, your loop body doesn't even have a single instruction.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457201805,"creation_date":1457201805,"answer_id":35817887,"question_id":35817843,"body_markdown":"Your method only compares the first element in each array - the comparison is done outside the `for` loop (which is empty!) instead of inside it. Move it there, and you should be OK.\r\n\r\nIt&#39;s worth noting that using the early return idiom would help produce much easier to read code in this scenario, as you don&#39;t need to continue &quot;dragging&quot; the current state with you, just fail-fast when one of the conditions is broken:\r\n\r\n    public static boolean allLess(int[] a, int[] b) {\r\n        if (a.length != b.length) {\r\n            return false;\r\n        }\r\n        for (i = 0; i &lt;= a.length - 1; i++) {\r\n            if (a[i] &gt;= b[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Comparing elements of two arrays","body":"<p>Your method only compares the first element in each array - the comparison is done outside the <code>for</code> loop (which is empty!) instead of inside it. Move it there, and you should be OK.</p>\n\n<p>It's worth noting that using the early return idiom would help produce much easier to read code in this scenario, as you don't need to continue \"dragging\" the current state with you, just fail-fast when one of the conditions is broken:</p>\n\n<pre><code>public static boolean allLess(int[] a, int[] b) {\n    if (a.length != b.length) {\n        return false;\n    }\n    for (i = 0; i &lt;= a.length - 1; i++) {\n        if (a[i] &gt;= b[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7372713,"reputation":335,"user_id":5612427,"display_name":"vsimkus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457202333,"creation_date":1457202333,"answer_id":35817994,"question_id":35817843,"body_markdown":"You have a check to compare the length of both arrays, but you only act upon it at the end of the method. Java, like any other language allows you to have multiple return statements in a method, so my suggestion would be to return from the method as soon as you perform the check:\r\n\r\n    if (a.length != b.length)\r\n       return false;\r\n\r\nSecond, the `digitDifference` statement in your code is only evaluated once, with the first elements in your arrays. I believe, you wanted the for-loop to perform the comparison multiple times on each element in the array, however, you left the body of the loop empty.\r\n\r\n    for (i = 0; i &lt;= a.length - 1; i++) {\r\n        if(a[i] &gt;= b[i])\r\n           return false;\r\n    }\r\nAgain, my suggestion is to return as soon as you find that one of the elements breach you constraint. And just have a `return true;` after the for-loop, which will indicate that all of the elements satisfy the constraint `a[i] &gt;= b[i]`.","title":"Comparing elements of two arrays","body":"<p>You have a check to compare the length of both arrays, but you only act upon it at the end of the method. Java, like any other language allows you to have multiple return statements in a method, so my suggestion would be to return from the method as soon as you perform the check:</p>\n\n<pre><code>if (a.length != b.length)\n   return false;\n</code></pre>\n\n<p>Second, the <code>digitDifference</code> statement in your code is only evaluated once, with the first elements in your arrays. I believe, you wanted the for-loop to perform the comparison multiple times on each element in the array, however, you left the body of the loop empty.</p>\n\n<pre><code>for (i = 0; i &lt;= a.length - 1; i++) {\n    if(a[i] &gt;= b[i])\n       return false;\n}\n</code></pre>\n\n<p>Again, my suggestion is to return as soon as you find that one of the elements breach you constraint. And just have a <code>return true;</code> after the for-loop, which will indicate that all of the elements satisfy the constraint <code>a[i] &gt;= b[i]</code>.</p>\n"},{"tags":[],"owner":{"account_id":17449205,"reputation":1,"user_id":12649539,"display_name":"cejchank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661946782,"creation_date":1661946782,"answer_id":73555508,"question_id":35817843,"body_markdown":" ```lang-java\r\nList&lt;String&gt; list1 = List.of(&quot;Banana&quot;, &quot;Watermelon&quot;, &quot;Carrot&quot;);\r\nList&lt;String&gt; list2 = List.of(&quot;Apple&quot;, &quot;Plum&quot;, &quot;Orange&quot;);\r\n        \r\nSystem.out.println(list1.stream().anyMatch(list2::contains));\r\n```\r\n\r\nOutput: false&lt;br&gt;&lt;br&gt;\r\n ```lang-java\r\nList&lt;String&gt; list1 = List.of(&quot;Banana&quot;, &quot;Watermelon&quot;, &quot;Carrot&quot;);\r\nList&lt;String&gt; list2 = List.of(&quot;Apple&quot;, &quot;Plum&quot;, &quot;Orange&quot;, &quot;Watermelon&quot;);\r\n        \r\nSystem.out.println(list1.stream().anyMatch(list2::contains));\r\n ```\r\nOutput: true\r\n","title":"Comparing elements of two arrays","body":"<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list1 = List.of(&quot;Banana&quot;, &quot;Watermelon&quot;, &quot;Carrot&quot;);\nList&lt;String&gt; list2 = List.of(&quot;Apple&quot;, &quot;Plum&quot;, &quot;Orange&quot;);\n       \nSystem.out.println(list1.stream().anyMatch(list2::contains));\n</code></pre>\n<p>Output: false<br><br></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list1 = List.of(&quot;Banana&quot;, &quot;Watermelon&quot;, &quot;Carrot&quot;);\nList&lt;String&gt; list2 = List.of(&quot;Apple&quot;, &quot;Plum&quot;, &quot;Orange&quot;, &quot;Watermelon&quot;);\n       \nSystem.out.println(list1.stream().anyMatch(list2::contains));\n</code></pre>\n<p>Output: true</p>\n"}],"owner":{"account_id":4739302,"reputation":316,"user_id":3832655,"accept_rate":14,"display_name":"aaronvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35817878,"answer_count":5,"score":1,"last_activity_date":1661946782,"creation_date":1457201596,"question_id":35817843,"body_markdown":"My method accepts two arrays of integers and returns `true` if \r\n\r\n1. The arrays are the same length and \r\n2. each a.element is less than the b.element of the same index.\r\n\r\nIt works for all my test cases except when `int[] a = {1, 2, 3}` and `int[] b = {4, 5, 1}`. It returns true even though `a[2] &gt; b[2]`. The `digitDifference` check isn&#39;t working correctly but I can&#39;t see the error.\r\n\r\n    public static boolean allLess(int[] a, int[] b) {\r\n        int i = 0;\r\n        boolean sameLength = (a.length == b.length);\r\n        boolean digitDifference = (a[i] &lt; b[i]);\r\n        for (i = 0; i &lt;= a.length - 1; i++) {}\r\n        return (sameLength &amp;&amp; digitDifference);\r\n    }","title":"Comparing elements of two arrays","body":"<p>My method accepts two arrays of integers and returns <code>true</code> if </p>\n\n<ol>\n<li>The arrays are the same length and </li>\n<li>each a.element is less than the b.element of the same index.</li>\n</ol>\n\n<p>It works for all my test cases except when <code>int[] a = {1, 2, 3}</code> and <code>int[] b = {4, 5, 1}</code>. It returns true even though <code>a[2] &gt; b[2]</code>. The <code>digitDifference</code> check isn't working correctly but I can't see the error.</p>\n\n<pre><code>public static boolean allLess(int[] a, int[] b) {\n    int i = 0;\n    boolean sameLength = (a.length == b.length);\n    boolean digitDifference = (a[i] &lt; b[i]);\n    for (i = 0; i &lt;= a.length - 1; i++) {}\n    return (sameLength &amp;&amp; digitDifference);\n}\n</code></pre>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1661946924,"post_id":73555498,"comment_id":129891759,"body_markdown":"Showing the second word (and other elements like buttons) could be simply a matter of making the views `VISIBLE` when the first button is clicked thus reducing the number of activities required.  The Q and A activities would become one QA activity.  To solve your problem of &quot;don&#39;t show in the right order&quot; one would have to see your transition code.","body":"Showing the second word (and other elements like buttons) could be simply a matter of making the views <code>VISIBLE</code> when the first button is clicked thus reducing the number of activities required.  The Q and A activities would become one QA activity.  To solve your problem of &quot;don&#39;t show in the right order&quot; one would have to see your transition code."},{"owner":{"account_id":26207210,"reputation":1,"user_id":19886649,"display_name":"Guilhem"},"score":0,"creation_date":1661955855,"post_id":73555498,"comment_id":129895248,"body_markdown":"You&#39;re right, that seems to be a good idea, it might be simpler !","body":"You&#39;re right, that seems to be a good idea, it might be simpler !"}],"owner":{"account_id":26207210,"reputation":1,"user_id":19886649,"display_name":"Guilhem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661946752,"creation_date":1661946752,"question_id":73555498,"body_markdown":"I am making a flashcard app which loops through a deck of cards. For each card, it must first show a first activity with the first word of the card and a button to flip the card. When touching the button I want another activities that shows the second word of the same card and 4 buttons to attribute a score. Then it starts over with the next card.\r\n\r\nI have created 3 activities : \r\n\r\n- RevisionActivity : Generates the deck of cards and loops through it (it is not visible)\r\n- QuestionActivity : Shows the first word of the card (question) and has a button to flip the card\r\n- AnswerActivity : Shows the second word (answer) and has 4 buttons to give a score\r\n\r\nThe problem I have is that activities don&#39;t show in the right order, so **is there a better way to do this ?**\r\n\r\n\r\n\r\n","title":"Looping activities for a flashcard app in java","body":"<p>I am making a flashcard app which loops through a deck of cards. For each card, it must first show a first activity with the first word of the card and a button to flip the card. When touching the button I want another activities that shows the second word of the same card and 4 buttons to attribute a score. Then it starts over with the next card.</p>\n<p>I have created 3 activities :</p>\n<ul>\n<li>RevisionActivity : Generates the deck of cards and loops through it (it is not visible)</li>\n<li>QuestionActivity : Shows the first word of the card (question) and has a button to flip the card</li>\n<li>AnswerActivity : Shows the second word (answer) and has 4 buttons to give a score</li>\n</ul>\n<p>The problem I have is that activities don't show in the right order, so <strong>is there a better way to do this ?</strong></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":19468089,"reputation":1,"user_id":16849120,"display_name":"Diego Fernando de Figueiredo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661946207,"creation_date":1661422647,"answer_id":73485801,"question_id":73470405,"body_markdown":"To get the expected behavior, i create a bean that launched request (findAll) for one litle table. This bean have @PostConstruct and if BBDD return error my app will be stop.\r\n\r\nExample:\r\n\r\n    @Component\r\n    public class DataBaseCheck {\r\n\r\n    @Autowired\r\n    private FooRepository fooRepository;\r\n\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n\r\n\r\n    private Logger log = LoggerFactory.getLogger(DataBaseCheck.class);\r\n\r\n\r\n    @PostConstruct\r\n    public void checkCorrectStatusDataBase() {\r\n        try {\r\n\r\n                log.info(&quot;We go check database connection...&quot;);\r\n\t\t\t\t//call findAll from a little table - recommended one table with not more 10 elements.\r\n                fooRepository.findAll();\r\n                log.info(&quot;Checked correct database access&quot;);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error found trying connect database, please check your configuration.&quot;, e);\r\n            int exitCode = SpringApplication.exit(applicationContext, () -&gt; 1);\r\n            System.exit(exitCode);\r\n        }\r\n\r\n    }\r\n\r\n}","title":"Spring Boot Database config wrong but starting ok","body":"<p>To get the expected behavior, i create a bean that launched request (findAll) for one litle table. This bean have @PostConstruct and if BBDD return error my app will be stop.</p>\n<p>Example:</p>\n<pre><code>@Component\npublic class DataBaseCheck {\n\n@Autowired\nprivate FooRepository fooRepository;\n\n@Autowired\nprivate ApplicationContext applicationContext;\n\n\nprivate Logger log = LoggerFactory.getLogger(DataBaseCheck.class);\n\n\n@PostConstruct\npublic void checkCorrectStatusDataBase() {\n    try {\n\n            log.info(&quot;We go check database connection...&quot;);\n            //call findAll from a little table - recommended one table with not more 10 elements.\n            fooRepository.findAll();\n            log.info(&quot;Checked correct database access&quot;);\n        }\n\n    } catch (Exception e) {\n        log.error(&quot;Error found trying connect database, please check your configuration.&quot;, e);\n        int exitCode = SpringApplication.exit(applicationContext, () -&gt; 1);\n        System.exit(exitCode);\n    }\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":19468089,"reputation":1,"user_id":16849120,"display_name":"Diego Fernando de Figueiredo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661946207,"creation_date":1661332036,"question_id":73470405,"body_markdown":"i have a problem with springboot, if i put wrong my datasource config (example bad password or user) my service start ok, launch the exception PostgresSQL FATAL .... bad password but not stop service. I try so much options but i can&#39;t see the problem.\r\n    My dependencies is:  (i tried exclude for jdbc (tomcat) from starter-jpa).\r\n    My pom:\r\n  \r\n```xml  \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.14&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;foo.foo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;foo-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;fooSB&lt;/name&gt;\r\n\t&lt;description&gt;Foo Application Server&lt;/description&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;ignoreSnapshots&gt;true&lt;/ignoreSnapshots&gt;\r\n\t\t&lt;maven.javadoc.skip&gt;true&lt;/maven.javadoc.skip&gt;\r\n\t\t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n\t\t&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n\t\t&lt;maven-javadoc-plugin-version&gt;3.1.0&lt;/maven-javadoc-plugin-version&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\r\n\t\t&lt;postgresql.version&gt;42.4.1&lt;/postgresql.version&gt;\r\n\t\t&lt;jdom2.version&gt;2.0.6.1&lt;/jdom2.version&gt;\r\n\t\t&lt;glassfish-el.version&gt;3.0.4&lt;/glassfish-el.version&gt;\r\n\t\t&lt;tomcat.version&gt;9.0.58&lt;/tomcat.version&gt;\r\n\t\t&lt;jackson-bom.version&gt;2.13.2.1&lt;/jackson-bom.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.rakugakibox.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;orika-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20190722&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jdom&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jdom2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Jasper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;eclipse&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jdtcore&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ar.com.fdvs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;DynamicJasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.2&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.jws/javax.jws-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.jws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;showDeprecation&gt;${java.showDeprecation}&lt;/showDeprecation&gt;\r\n\t\t\t\t&lt;showWarnings&gt;${java.showWarnings}&lt;/showWarnings&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${maven-javadoc-plugin-version}&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;detectJavaApiLink&gt;false&lt;/detectJavaApiLink&gt;\r\n\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t&lt;encoding&gt;${file-encoding}&lt;/encoding&gt;\r\n\t\t\t\t&lt;docencoding&gt;${file-encoding}&lt;/docencoding&gt;\r\n\t\t\t\t&lt;overview&gt;${basedir}/src/overview.html&lt;/overview&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;javadoc-jar&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```    \r\n\r\n#######################################################3\r\nProperties:\r\n########################\r\n#------------START DB DATASOURCE PROPERTIES------------#\r\n\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/300-foo\r\nspring.datasource.username=foo\r\nspring.datasource.password=foo\r\nspring.jpa.properties.hibernate.default_schema=public\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.datasource.type = com.zaxxer.hikari.HikariDataSource\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n\r\n\r\nserver.port=8088\r\nserver.http2.enabled=true\r\nserver.compression.enabled=true\r\nserver.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml\r\nserver.compression.min-response-size=1B\r\nserver.tomcat.max-threads=200\r\nserver.tomcat.min-spare-threads=40\r\n\r\nserver.tomcat.accesslog.enabled=true\r\nserver.tomcat.accesslog.directory=/tmp/logs\r\nserver.tomcat.accesslog.pattern=%t %A %r %s - response bytes %b -  time (ms) server process %D - time (ms) commit response %F\r\n\r\n\r\n#------------START HIKARI ------------#\r\nspring.datasource.hikari.connection-timeout=20000\r\nspring.datasource.hikari.minimum-idle=5\r\nspring.datasource.hikari.maximum-pool-size=10\r\nspring.datasource.hikari.idle-timeout=600000 \r\nspring.datasource.hikari.max-lifetime=1200000 \r\nspring.datasource.hikari.auto-commit=true\r\n\r\n\r\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\r\nlogging.level.com.zaxxer.hikari=TRACE\r\n\r\nspring.datasource.validation-query=SELECT 1\r\nspring.datasource.max-active=10\r\nspring.datasource.max-idle=8\r\nspring.datasource.min-idle=8\r\nspring.datasource.initial-size=5\r\nspring.datasource.test-on-borrow=true\r\nspring.datasource.test-on-return=true\r\n#-------------END HIKARI -------------#\r\n\r\n#------------START SPRING DATA REST ------------#\r\nspring.data.rest.detection-strategy=annotated\r\n#-------------END SPRING DATA REST -------------#\r\n#------------START JPA ------------#\r\nspring.jpa.open-in-view=false\r\nspring.jpa.show-sql=false\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=true\r\nspring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\nspring.jpa.hibernate.naming.implicit-strategy =org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n\r\n#-------------END JPA -------------#\r\n\r\n#------------START LOGGING ------------#\r\nlogging.level.root=info\r\n#logging.level.org.springframework.web: trace\r\n#logging.level.org.apache: trace\r\n#-------------END LOGGING -------------#\r\n\r\n#------------START PID FILE ------------#\r\nspring.pid.fail-on-write-error=true\r\nspring.pid.file=FooApplication.pid\r\n#-------------END PID FILE -------------#\r\n\r\n#------------START ORIKA MAPPING PROPERTIES------------#\r\norika.mapNulls: false\r\n#-------------END ORIKA MAPPING PROPERTIES-------------#\r\n\r\n#---- DISABLE BANNER ----#\r\nspring.main.banner-mode=off\r\n#---- DISABLE BANNER ----#\r\n```\r\n\r\nError launched when starting app (putting bad password)\r\n    \r\n```\r\nCaused by: org.postgresql.util.PSQLException: FATAL: la autentificaci?n password fall? para el usuario ?foo?\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)\r\n    ################################## the service finally started #######################################\r\n    11:02:13.237 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    11:02:21.741 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729\r\n    11:02:21.802 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-8082&quot;]\r\n    11:02:21.834 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path &#39;&#39;\r\n    11:02:21.850 INFO  n.t.c.view.FooServicesApplication - Started FooServicesApplication in 40.316 seconds (JVM running for 41.48)\r\n```","title":"Spring Boot Database config wrong but starting ok","body":"<p>i have a problem with springboot, if i put wrong my datasource config (example bad password or user) my service start ok, launch the exception PostgresSQL FATAL .... bad password but not stop service. I try so much options but i can't see the problem.\nMy dependencies is:  (i tried exclude for jdbc (tomcat) from starter-jpa).\nMy pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.14&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;foo.foo&lt;/groupId&gt;\n    &lt;artifactId&gt;foo-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;fooSB&lt;/name&gt;\n    &lt;description&gt;Foo Application Server&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;ignoreSnapshots&gt;true&lt;/ignoreSnapshots&gt;\n        &lt;maven.javadoc.skip&gt;true&lt;/maven.javadoc.skip&gt;\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n        &lt;maven-javadoc-plugin-version&gt;3.1.0&lt;/maven-javadoc-plugin-version&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;postgresql.version&gt;42.4.1&lt;/postgresql.version&gt;\n        &lt;jdom2.version&gt;2.0.6.1&lt;/jdom2.version&gt;\n        &lt;glassfish-el.version&gt;3.0.4&lt;/glassfish-el.version&gt;\n        &lt;tomcat.version&gt;9.0.58&lt;/tomcat.version&gt;\n        &lt;jackson-bom.version&gt;2.13.2.1&lt;/jackson-bom.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.rakugakibox.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;orika-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20190722&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n            &lt;artifactId&gt;jdom2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Jasper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.4.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;eclipse&lt;/groupId&gt;\n                    &lt;artifactId&gt;jdtcore&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n                    &lt;artifactId&gt;itext&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ar.com.fdvs&lt;/groupId&gt;\n            &lt;artifactId&gt;DynamicJasper&lt;/artifactId&gt;\n            &lt;version&gt;5.1.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n                    &lt;artifactId&gt;itext&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.jws/javax.jws-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.jws&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;showDeprecation&gt;${java.showDeprecation}&lt;/showDeprecation&gt;\n                &lt;showWarnings&gt;${java.showWarnings}&lt;/showWarnings&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-javadoc-plugin-version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;detectJavaApiLink&gt;false&lt;/detectJavaApiLink&gt;\n                &lt;source&gt;8&lt;/source&gt;\n                &lt;encoding&gt;${file-encoding}&lt;/encoding&gt;\n                &lt;docencoding&gt;${file-encoding}&lt;/docencoding&gt;\n                &lt;overview&gt;${basedir}/src/overview.html&lt;/overview&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;javadoc-jar&lt;/id&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>\n#######################################################3\nProperties:\n########################\n#------------START DB DATASOURCE PROPERTIES------------#\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/300-foo\nspring.datasource.username=foo\nspring.datasource.password=foo\nspring.jpa.properties.hibernate.default_schema=public\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=none\nspring.datasource.type = com.zaxxer.hikari.HikariDataSource\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n\n\nserver.port=8088\nserver.http2.enabled=true\nserver.compression.enabled=true\nserver.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml\nserver.compression.min-response-size=1B\nserver.tomcat.max-threads=200\nserver.tomcat.min-spare-threads=40\n\nserver.tomcat.accesslog.enabled=true\nserver.tomcat.accesslog.directory=/tmp/logs\nserver.tomcat.accesslog.pattern=%t %A %r %s - response bytes %b -  time (ms) server process %D - time (ms) commit response %F\n\n\n#------------START HIKARI ------------#\nspring.datasource.hikari.connection-timeout=20000\nspring.datasource.hikari.minimum-idle=5\nspring.datasource.hikari.maximum-pool-size=10\nspring.datasource.hikari.idle-timeout=600000 \nspring.datasource.hikari.max-lifetime=1200000 \nspring.datasource.hikari.auto-commit=true\n\n\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\nlogging.level.com.zaxxer.hikari=TRACE\n\nspring.datasource.validation-query=SELECT 1\nspring.datasource.max-active=10\nspring.datasource.max-idle=8\nspring.datasource.min-idle=8\nspring.datasource.initial-size=5\nspring.datasource.test-on-borrow=true\nspring.datasource.test-on-return=true\n#-------------END HIKARI -------------#\n\n#------------START SPRING DATA REST ------------#\nspring.data.rest.detection-strategy=annotated\n#-------------END SPRING DATA REST -------------#\n#------------START JPA ------------#\nspring.jpa.open-in-view=false\nspring.jpa.show-sql=false\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=true\nspring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.hibernate.naming.implicit-strategy =org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n\n#-------------END JPA -------------#\n\n#------------START LOGGING ------------#\nlogging.level.root=info\n#logging.level.org.springframework.web: trace\n#logging.level.org.apache: trace\n#-------------END LOGGING -------------#\n\n#------------START PID FILE ------------#\nspring.pid.fail-on-write-error=true\nspring.pid.file=FooApplication.pid\n#-------------END PID FILE -------------#\n\n#------------START ORIKA MAPPING PROPERTIES------------#\norika.mapNulls: false\n#-------------END ORIKA MAPPING PROPERTIES-------------#\n\n#---- DISABLE BANNER ----#\nspring.main.banner-mode=off\n#---- DISABLE BANNER ----#\n</code></pre>\n<p>Error launched when starting app (putting bad password)</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: FATAL: la autentificaci?n password fall? para el usuario ?foo?\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)\n    ################################## the service finally started #######################################\n    11:02:13.237 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'\n    11:02:21.741 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729\n    11:02:21.802 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-8082&quot;]\n    11:02:21.834 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''\n    11:02:21.850 INFO  n.t.c.view.FooServicesApplication - Started FooServicesApplication in 40.316 seconds (JVM running for 41.48)\n</code></pre>\n"},{"tags":["java","swing","awt","setbackground"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1661226626,"post_id":73452890,"comment_id":129714927,"body_markdown":"it&#39;s wrong to null the layout anyway ;)","body":"it&#39;s wrong to null the layout anyway ;)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1661229022,"post_id":73452890,"comment_id":129715245,"body_markdown":"Put the Tetris board in a `JPanel` and put the `JPanel` in the CENTER of the `JFrame`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"Put the Tetris board in a <code>JPanel</code> and put the <code>JPanel</code> in the CENTER of the <code>JFrame</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."}],"owner":{"account_id":15793940,"reputation":11,"user_id":11396398,"display_name":"Ronnie Tayong Rizalte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661946139,"creation_date":1661226115,"question_id":73452890,"body_markdown":"`this.setBackground()` doesn&#39;t seem to affect the background of the mainframe `Jframe` without removing `setLayout(null)` I set to it.  How do I resolve this?  \r\nHere&#39;s my code:\r\n```\r\npublic class MainFrame extends JFrame {\r\n\r\n    public final static int SQUARE_UNIT = 35;\r\n    int frameHeight = SQUARE_UNIT* 22;\r\n    public final int frameWidth = SQUARE_UNIT *22;\r\n    Color frameColor = new Color(0x20252B);\r\n\r\n    MainFrame() {\r\n        this.setTitle(&quot;Tetris&quot;);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setResizable(false);\r\n        this.setPreferredSize(new Dimension(frameWidth,frameHeight));\r\n        this.setLayout(null);\r\n        this.setBackground(frameColor);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        MainFrame gameFrame = new MainFrame();\r\n        Board tetrisBoard = new Board(MainFrame.SQUARE_UNIT,MainFrame.SQUARE_UNIT);\r\n        gameFrame.add(tetrisBoard);\r\n\r\n        gameFrame.setVisible(true);\r\n        gameFrame.pack();\r\n    }\r\n}\r\n```","title":"How can I set background to an Absolute Layout in Java?","body":"<p><code>this.setBackground()</code> doesn't seem to affect the background of the mainframe <code>Jframe</code> without removing <code>setLayout(null)</code> I set to it.  How do I resolve this?<br />\nHere's my code:</p>\n<pre><code>public class MainFrame extends JFrame {\n\n    public final static int SQUARE_UNIT = 35;\n    int frameHeight = SQUARE_UNIT* 22;\n    public final int frameWidth = SQUARE_UNIT *22;\n    Color frameColor = new Color(0x20252B);\n\n    MainFrame() {\n        this.setTitle(&quot;Tetris&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.setPreferredSize(new Dimension(frameWidth,frameHeight));\n        this.setLayout(null);\n        this.setBackground(frameColor);\n    }\n\n    public static void main(String[] args) {\n\n        MainFrame gameFrame = new MainFrame();\n        Board tetrisBoard = new Board(MainFrame.SQUARE_UNIT,MainFrame.SQUARE_UNIT);\n        gameFrame.add(tetrisBoard);\n\n        gameFrame.setVisible(true);\n        gameFrame.pack();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-tika"],"comments":[{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1664311151,"post_id":73554228,"comment_id":130441637,"body_markdown":"Have you tried the RecursiveParserWrapper?  To see what the output looks like, use the -J commandline option with tika-app or the /rmeta endpoint in tika-server.  If the output is what you want, then you can follow examples from our unit tests to see how to use it: https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/java/org/apache/tika/parser/RecursiveParserWrapperTest.java","body":"Have you tried the RecursiveParserWrapper?  To see what the output looks like, use the -J commandline option with tika-app or the /rmeta endpoint in tika-server.  If the output is what you want, then you can follow examples from our unit tests to see how to use it: <a href=\"https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/java/org/apache/tika/parser/RecursiveParserWrapperTest.java\" rel=\"nofollow noreferrer\">github.com/apache/tika/blob/main/tika-parsers/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25851431,"reputation":51,"user_id":19585355,"display_name":"Kipoti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661945959,"creation_date":1661945959,"answer_id":73555323,"question_id":73554228,"body_markdown":"For the full operation of the CustomParsingEmbeddedDocumentExtractor class, it is necessary\r\n\r\n1) save the class to the configuration (in class ParseContext pc)\r\n\r\n2) save the desired parser to the configuration (in our case, parser is a class AutoDetectParser parser)\r\n\r\nTherefore, instead of such an implementation:\r\n\r\n``` \r\nCustomParsingEmbeddedDocumentExtractor customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\r\npc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);   \r\n``` \r\n\r\nWe need such an implementation:\r\n\r\n``` \r\nif (pc.get(EmbeddedDocumentExtractor.class) == null) {\r\n    Parser p = pc.get(Parser.class);\r\n    if (p == null) {\r\n        pc.set(Parser.class, parser);\r\n    }\r\n                    \r\n    CustomParsingEmbeddedDocumentExtractor customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\r\n    pc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);\r\n}\r\n\r\n ``` ","title":"Java Tika cannot get embedded files from rar file","body":"<p>For the full operation of the CustomParsingEmbeddedDocumentExtractor class, it is necessary</p>\n<ol>\n<li><p>save the class to the configuration (in class ParseContext pc)</p>\n</li>\n<li><p>save the desired parser to the configuration (in our case, parser is a class AutoDetectParser parser)</p>\n</li>\n</ol>\n<p>Therefore, instead of such an implementation:</p>\n<pre><code>CustomParsingEmbeddedDocumentExtractor customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\npc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);   \n</code></pre>\n<p>We need such an implementation:</p>\n<pre><code>if (pc.get(EmbeddedDocumentExtractor.class) == null) {\n    Parser p = pc.get(Parser.class);\n    if (p == null) {\n        pc.set(Parser.class, parser);\n    }\n                    \n    CustomParsingEmbeddedDocumentExtractor customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\n    pc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);\n}\n\n</code></pre>\n"}],"owner":{"account_id":25851431,"reputation":51,"user_id":19585355,"display_name":"Kipoti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661945959,"creation_date":1661940395,"question_id":73554228,"body_markdown":"With the standard implementation, I pass a doc file, inside of which there is an image.png image and text.\r\n\r\nWith the standard implementation, I pass a doc file, inside of which there is an image.png image and text\r\n\r\nIn order to get the files, Tika uses the internal **ParsingEmbeddedDocumentExtractor** class, inside which the **parseEmbedded** method is used. \r\n\r\nFirst I implement the necessary elements and call the parse method:\r\n\r\n```\r\n//other objects\r\nAutoDetectParser parser = new AutoDetectParser();\r\nParseContext pc = new ParseContext(); \r\nMetadata metadata = new Metadata();\r\nTika tika = new Tika();\r\nBodyContentHandler ch = new BodyContentHandler(-1); \r\nInputStream is = new FileInputStream(new File(&quot;src/main/resources/sample.txt&quot;));\r\n\r\n//using\r\nparser.parse(is, ch, metadata, pc);  \r\n ```\r\n\r\nNext, if Tika selects the right parser and the **ParsingEmbeddedDocumentExtractor** class is called inside it, namely its **parseEmbedded** method.\r\n\r\nWith this approach, if my input data is a file: 1.docx , then at the output I can see:\r\n\r\n```\r\n1.docx\r\n -image.png\r\n -text\r\n```\r\n\r\nOr if the input file is: 222.rar , then at the output I have:\r\n\r\n```\r\n222.rar\r\n  -1.docx\r\n    -image.png\r\n    -text\r\n```\r\nAt the same time, to control the process of extracting parts, it was decided to redefine the **ParsingEmbeddedDocumentExtractor** class, with its key method **parseEmbedded**.\r\n\r\nIt turns out that we create a **CustomParsingEmbeddedDocumentExtractor** and save it in the Tika configuration so that it replaces the original **ParsingEmbeddedDocumentExtractor** class:\r\n\r\n```\r\nCustomParsingEmbeddedDocumentExtractor customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\r\npc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);   \r\n```\r\n\r\nAt the same time, I do not make any changes inside the new class and inside its **parseEmbedded** method.\r\n\r\nWhen testing a new class on the same input data, we get the following output:\r\n\r\n```\r\n1) input file: 1.doc\r\n\r\noutput: \r\n1.doc\r\n -image.png\r\n -text\r\n\r\n\r\n2) inputfile: 222.rar\r\n\r\n222.rar\r\n  1.doc\r\n```\r\n\r\n\r\nComparing the work of the two classes, we get the following result:\r\n\r\n```\r\nResult from ParsingEmbeddedDocumentExtractor:\r\ninput file: 222.rar\r\n\r\noutput:\r\n222.rar\r\n  -1.docx\r\n    -image.png\r\n    -text\r\n\r\nResult from CustomParsingEmbeddedDocumentExtractor:\r\ninput file: 222.rar\r\n\r\noutput:\r\n222.rar\r\n  -1.docx\r\n```\r\n\r\n\r\n\r\n\r\nWhen using this new class, it is not possible to get the objects I need from the **222.rar/1.docx** file - an image and text. At the same time, if you use the old ParsingEmbeddedDocumentExtractor class, you can get these elements.\r\n\r\n----------\r\n\r\nIt is not clear what caused such a discrepancy in the results, if only because I am just creating exactly the same class and saving it in place of a new one. I am not making changes to my new class, and at the same time I get a different output result.\r\n\r\n----------\r\n\r\nPlease tell me why Tika can&#39;t get the data with this approach? Maybe someone has already encountered a similar situation, thank you in advance.","title":"Java Tika cannot get embedded files from rar file","body":"<p>With the standard implementation, I pass a doc file, inside of which there is an image.png image and text.</p>\n<p>With the standard implementation, I pass a doc file, inside of which there is an image.png image and text</p>\n<p>In order to get the files, Tika uses the internal <strong>ParsingEmbeddedDocumentExtractor</strong> class, inside which the <strong>parseEmbedded</strong> method is used.</p>\n<p>First I implement the necessary elements and call the parse method:</p>\n<pre><code>//other objects\nAutoDetectParser parser = new AutoDetectParser();\nParseContext pc = new ParseContext(); \nMetadata metadata = new Metadata();\nTika tika = new Tika();\nBodyContentHandler ch = new BodyContentHandler(-1); \nInputStream is = new FileInputStream(new File(&quot;src/main/resources/sample.txt&quot;));\n\n//using\nparser.parse(is, ch, metadata, pc);  \n</code></pre>\n<p>Next, if Tika selects the right parser and the <strong>ParsingEmbeddedDocumentExtractor</strong> class is called inside it, namely its <strong>parseEmbedded</strong> method.</p>\n<p>With this approach, if my input data is a file: 1.docx , then at the output I can see:</p>\n<pre><code>1.docx\n -image.png\n -text\n</code></pre>\n<p>Or if the input file is: 222.rar , then at the output I have:</p>\n<pre><code>222.rar\n  -1.docx\n    -image.png\n    -text\n</code></pre>\n<p>At the same time, to control the process of extracting parts, it was decided to redefine the <strong>ParsingEmbeddedDocumentExtractor</strong> class, with its key method <strong>parseEmbedded</strong>.</p>\n<p>It turns out that we create a <strong>CustomParsingEmbeddedDocumentExtractor</strong> and save it in the Tika configuration so that it replaces the original <strong>ParsingEmbeddedDocumentExtractor</strong> class:</p>\n<pre><code>CustomParsingEmbeddedDocumentExtractor customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\npc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);   \n</code></pre>\n<p>At the same time, I do not make any changes inside the new class and inside its <strong>parseEmbedded</strong> method.</p>\n<p>When testing a new class on the same input data, we get the following output:</p>\n<pre><code>1) input file: 1.doc\n\noutput: \n1.doc\n -image.png\n -text\n\n\n2) inputfile: 222.rar\n\n222.rar\n  1.doc\n</code></pre>\n<p>Comparing the work of the two classes, we get the following result:</p>\n<pre><code>Result from ParsingEmbeddedDocumentExtractor:\ninput file: 222.rar\n\noutput:\n222.rar\n  -1.docx\n    -image.png\n    -text\n\nResult from CustomParsingEmbeddedDocumentExtractor:\ninput file: 222.rar\n\noutput:\n222.rar\n  -1.docx\n</code></pre>\n<p>When using this new class, it is not possible to get the objects I need from the <strong>222.rar/1.docx</strong> file - an image and text. At the same time, if you use the old ParsingEmbeddedDocumentExtractor class, you can get these elements.</p>\n<hr />\n<p>It is not clear what caused such a discrepancy in the results, if only because I am just creating exactly the same class and saving it in place of a new one. I am not making changes to my new class, and at the same time I get a different output result.</p>\n<hr />\n<p>Please tell me why Tika can't get the data with this approach? Maybe someone has already encountered a similar situation, thank you in advance.</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":2235441,"reputation":6338,"user_id":1971954,"accept_rate":33,"display_name":"nitesh goel"},"score":0,"creation_date":1387302272,"post_id":20641122,"comment_id":30897760,"body_markdown":"why dont you use gson https://code.google.com/p/google-gson/","body":"why dont you use gson <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">code.google.com/p/google-gson</a>"},{"owner":{"account_id":1233119,"reputation":407,"user_id":1197295,"accept_rate":38,"display_name":"Dhiraj Tayade"},"score":0,"creation_date":1387302346,"post_id":20641122,"comment_id":30897800,"body_markdown":"I tried I get the result as [{&quot;itemid&quot;:4,&quot;quantity&quot;:8.0,&quot;price&quot;:10.0,&quot;total&quot;:80.0},{&quot;itemid&quot;:5,&quot;quantity&quot;:8.0,&quot;price&quot;:100.0,&quot;total&quot;:800.0}] \n\nI dont want the tags of the values","body":"I tried I get the result as [{&quot;itemid&quot;:4,&quot;quantity&quot;:8.0,&quot;price&quot;:10.0,&quot;total&quot;:80.0},{&quot;ite&zwnj;&#8203;mid&quot;:5,&quot;quantity&quot;:8.&zwnj;&#8203;0,&quot;price&quot;:100.0,&quot;tot&zwnj;&#8203;al&quot;:800.0}]   I dont want the tags of the values"},{"owner":{"account_id":2235441,"reputation":6338,"user_id":1971954,"accept_rate":33,"display_name":"nitesh goel"},"score":0,"creation_date":1387302743,"post_id":20641122,"comment_id":30898049,"body_markdown":"@ Dhiraj Tayade as what?","body":"@ Dhiraj Tayade as what?"},{"owner":{"account_id":1233119,"reputation":407,"user_id":1197295,"accept_rate":38,"display_name":"Dhiraj Tayade"},"score":0,"creation_date":1387303197,"post_id":20641122,"comment_id":30898297,"body_markdown":"I need this \n &quot;arrArticulos&quot;:[\n\t\t\t\t[4,8.0,10.0,80.0],\n\t\t\t\t[5,8.‌​0,100.0,800.0]\n               ] \n\nI got  this \n\n&quot;arrArticulos&quot;: [{&quot;itemid&quot;:4,&quot;quantity&quot;:8.0,&quot;price&quot;:10.0,&quot;total&quot;:80.0},{&quot;itemid&quot;:5,&quot;quantity&quot;:8.‌​0,&quot;price&quot;:100.0,&quot;total&quot;:800.0}]","body":"I need this   &quot;arrArticulos&quot;:[ \t\t\t\t[4,8.0,10.0,80.0], \t\t\t\t[5,8.‌​0,100.0,800.0]                ]   I got  this   &quot;arrArticulos&quot;: [{&quot;itemid&quot;:4,&quot;quantity&quot;:8.0,&quot;price&quot;:10.0,&quot;total&quot;:80.0},{&quot;ite&zwnj;&#8203;mid&quot;:5,&quot;quantity&quot;:8.&zwnj;&#8203;‌​0,&quot;price&quot;:100.0,&quot;t&zwnj;&#8203;otal&quot;:800.0}]"},{"owner":{"account_id":2896885,"reputation":1563,"user_id":2484445,"display_name":"Hylianpuffball"},"score":0,"creation_date":1387303430,"post_id":20641122,"comment_id":30898448,"body_markdown":"Any reason you don&#39;t want the tags?  Your Java object isn&#39;t a basic array, it&#39;s a real Object, so why do you want it to pretend to be an array in JSON?","body":"Any reason you don&#39;t want the tags?  Your Java object isn&#39;t a basic array, it&#39;s a real Object, so why do you want it to pretend to be an array in JSON?"},{"owner":{"account_id":1233119,"reputation":407,"user_id":1197295,"accept_rate":38,"display_name":"Dhiraj Tayade"},"score":0,"creation_date":1387304242,"post_id":20641122,"comment_id":30898905,"body_markdown":"now I have changed the code. No objects. I have used the ArrayList&lt;Double&gt;, then I used GSON but now the array is conveted to a String, I dont want that","body":"now I have changed the code. No objects. I have used the ArrayList&lt;Double&gt;, then I used GSON but now the array is conveted to a String, I dont want that"}],"answers":[{"tags":[],"owner":{"account_id":464776,"reputation":15578,"user_id":868492,"accept_rate":40,"display_name":"James McCracken"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1387315670,"creation_date":1387315670,"answer_id":20645039,"question_id":20641122,"body_markdown":"**This code:** \r\n\r\n    JSONObject PED = new JSONObject();\r\n    PED.put( &quot;fun&quot;, &quot;enviarPedido&quot; );\r\n    PED.put( &quot;txtUser&quot;, &quot;123&quot; );\r\n    PED.put( &quot;md5Passwd&quot;, &quot;123&quot; );\r\n\r\n    JSONArray articulos1 = new JSONArray();\r\n    articulos1.put( 50 );\r\n    articulos1.put( 10 );\r\n    articulos1.put( 5 );\r\n    articulos1.put( 50 );\r\n\r\n    JSONArray articulos2 = new JSONArray();\r\n    articulos2.put( 51 );\r\n    articulos2.put( 9 );\r\n    articulos2.put( 6.5 );\r\n    articulos2.put( 58.5 );\r\n\r\n    JSONArray articulos3 = new JSONArray();\r\n    articulos3.put( 52 );\r\n    articulos3.put( 8 );\r\n    articulos3.put( 7 );\r\n    articulos3.put( 56 );\r\n\r\n    JSONArray articulos4 = new JSONArray();\r\n    articulos4.put( 51 );\r\n    articulos4.put( 9 );\r\n    articulos4.put( 6.5 );\r\n    articulos4.put( 58.5 );\r\n\r\n    JSONArray arrArticulos = new JSONArray();\r\n    arrArticulos.put( articulos1 );\r\n    arrArticulos.put( articulos2 );\r\n    arrArticulos.put( articulos3 );\r\n    arrArticulos.put( articulos4 );\r\n\r\n    PED.put( &quot;arrArticulos&quot;, arrArticulos );\r\n\r\n    JSONObject body = new JSONObject();\r\n    body.put( &quot;PED&quot;, PED );\r\n\r\n    String json = body.toString();\r\n\r\n**Will generate this string:**\r\n\r\n    {\r\n        &quot;PED&quot;: {\r\n            &quot;arrArticulos&quot;: [\r\n                [\r\n                    50,\r\n                    10,\r\n                    5,\r\n                    50\r\n                ],\r\n                [\r\n                    51,\r\n                    9,\r\n                    6.5,\r\n                    58.5\r\n                ],\r\n                [\r\n                    52,\r\n                    8,\r\n                    7,\r\n                    56\r\n                ],\r\n                [\r\n                    51,\r\n                    9,\r\n                    6.5,\r\n                    58.5\r\n                ]\r\n            ],\r\n            &quot;md5Passwd&quot;: &quot;123&quot;,\r\n            &quot;txtUser&quot;: &quot;123&quot;,\r\n            &quot;fun&quot;: &quot;enviarPedido&quot;\r\n        }\r\n    }","title":"How do I send a 2D array in a JSON structure?","body":"<p><strong>This code:</strong> </p>\n\n<pre><code>JSONObject PED = new JSONObject();\nPED.put( \"fun\", \"enviarPedido\" );\nPED.put( \"txtUser\", \"123\" );\nPED.put( \"md5Passwd\", \"123\" );\n\nJSONArray articulos1 = new JSONArray();\narticulos1.put( 50 );\narticulos1.put( 10 );\narticulos1.put( 5 );\narticulos1.put( 50 );\n\nJSONArray articulos2 = new JSONArray();\narticulos2.put( 51 );\narticulos2.put( 9 );\narticulos2.put( 6.5 );\narticulos2.put( 58.5 );\n\nJSONArray articulos3 = new JSONArray();\narticulos3.put( 52 );\narticulos3.put( 8 );\narticulos3.put( 7 );\narticulos3.put( 56 );\n\nJSONArray articulos4 = new JSONArray();\narticulos4.put( 51 );\narticulos4.put( 9 );\narticulos4.put( 6.5 );\narticulos4.put( 58.5 );\n\nJSONArray arrArticulos = new JSONArray();\narrArticulos.put( articulos1 );\narrArticulos.put( articulos2 );\narrArticulos.put( articulos3 );\narrArticulos.put( articulos4 );\n\nPED.put( \"arrArticulos\", arrArticulos );\n\nJSONObject body = new JSONObject();\nbody.put( \"PED\", PED );\n\nString json = body.toString();\n</code></pre>\n\n<p><strong>Will generate this string:</strong></p>\n\n<pre><code>{\n    \"PED\": {\n        \"arrArticulos\": [\n            [\n                50,\n                10,\n                5,\n                50\n            ],\n            [\n                51,\n                9,\n                6.5,\n                58.5\n            ],\n            [\n                52,\n                8,\n                7,\n                56\n            ],\n            [\n                51,\n                9,\n                6.5,\n                58.5\n            ]\n        ],\n        \"md5Passwd\": \"123\",\n        \"txtUser\": \"123\",\n        \"fun\": \"enviarPedido\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661944854,"creation_date":1661944854,"answer_id":73555110,"question_id":20641122,"body_markdown":"You can simply do reverse engineering. Parse your Json String into a `Map&lt;String,Object&gt;` and that is the map that will give you your Json String if you use some Json library to write it as Json. You can use Json Jackson library or Gson library or any other available. Here is the code That I wrote to do what I just recommended:\r\n\r\n    private static void jsonParserTest() {\r\n        try {\r\n            String jsonStr = &quot;{\\n&quot; +\r\n                    &quot;    \\&quot;PED\\&quot;: {\\n&quot; +\r\n                    &quot;        \\&quot;fun\\&quot;: \\&quot;enviarPedido\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;txtUser\\&quot;:\\&quot;123\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;md5Passwd\\&quot;: \\&quot;123\\&quot;,                          \\n&quot; +\r\n                    &quot;        \\&quot;arrArticulos\\&quot;: [\\n&quot; +\r\n                    &quot;            [50,10,5,50],\\n&quot; +\r\n                    &quot;            [51,9,6.5,58.5],\\n&quot; +\r\n                    &quot;            [52,8,7,56],\\n&quot; +\r\n                    &quot;            [53,7,8.5,59.5]\\n&quot; +\r\n                    &quot;        ]\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;}&quot;;\r\n            Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\r\n            System.out.println(map);\r\n            System.out.println(JsonUtils.writeObjectToJsonString(map));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n And here is the output:\r\n\r\n    {PED={fun=enviarPedido, txtUser=123, md5Passwd=123, arrArticulos=[[50, 10, 5, 50], [51, 9, 6.5, 58.5], [52, 8, 7, 56], [53, 7, 8.5, 59.5]]}}\r\n    {&quot;PED&quot;:{&quot;fun&quot;:&quot;enviarPedido&quot;,&quot;txtUser&quot;:&quot;123&quot;,&quot;md5Passwd&quot;:&quot;123&quot;,&quot;arrArticulos&quot;:[[50,10,5,50],[51,9,6.5,58.5],[52,8,7,56],[53,7,8.5,59.5]]}}\r\nSo if you create a Map that is described in the first line of an output and then serialize it as JSON you will get your desired JSON\r\nThe class JsonUtils used in my sample is a very thin wrapper over Json-Jackson library, but it is very simple to use. It is part of an open source MgntUtils library that is written and maintained by me. Here is a [Javadoc for JsonUtils class][1]. The MgntUtils library if you want to use it can be found as [Maven artifact][2] on Maven central or On [Github][3] (with source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"How do I send a 2D array in a JSON structure?","body":"<p>You can simply do reverse engineering. Parse your Json String into a <code>Map&lt;String,Object&gt;</code> and that is the map that will give you your Json String if you use some Json library to write it as Json. You can use Json Jackson library or Gson library or any other available. Here is the code That I wrote to do what I just recommended:</p>\n<pre><code>private static void jsonParserTest() {\n    try {\n        String jsonStr = &quot;{\\n&quot; +\n                &quot;    \\&quot;PED\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;fun\\&quot;: \\&quot;enviarPedido\\&quot;,\\n&quot; +\n                &quot;        \\&quot;txtUser\\&quot;:\\&quot;123\\&quot;,\\n&quot; +\n                &quot;        \\&quot;md5Passwd\\&quot;: \\&quot;123\\&quot;,                          \\n&quot; +\n                &quot;        \\&quot;arrArticulos\\&quot;: [\\n&quot; +\n                &quot;            [50,10,5,50],\\n&quot; +\n                &quot;            [51,9,6.5,58.5],\\n&quot; +\n                &quot;            [52,8,7,56],\\n&quot; +\n                &quot;            [53,7,8.5,59.5]\\n&quot; +\n                &quot;        ]\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;}&quot;;\n        Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\n        System.out.println(map);\n        System.out.println(JsonUtils.writeObjectToJsonString(map));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>And here is the output:</p>\n<pre><code>{PED={fun=enviarPedido, txtUser=123, md5Passwd=123, arrArticulos=[[50, 10, 5, 50], [51, 9, 6.5, 58.5], [52, 8, 7, 56], [53, 7, 8.5, 59.5]]}}\n{&quot;PED&quot;:{&quot;fun&quot;:&quot;enviarPedido&quot;,&quot;txtUser&quot;:&quot;123&quot;,&quot;md5Passwd&quot;:&quot;123&quot;,&quot;arrArticulos&quot;:[[50,10,5,50],[51,9,6.5,58.5],[52,8,7,56],[53,7,8.5,59.5]]}}\n</code></pre>\n<p>So if you create a Map that is described in the first line of an output and then serialize it as JSON you will get your desired JSON\nThe class JsonUtils used in my sample is a very thin wrapper over Json-Jackson library, but it is very simple to use. It is part of an open source MgntUtils library that is written and maintained by me. Here is a <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc for JsonUtils class</a>. The MgntUtils library if you want to use it can be found as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> on Maven central or On <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (with source code and Javadoc)</p>\n"}],"owner":{"account_id":1233119,"reputation":407,"user_id":1197295,"accept_rate":38,"display_name":"Dhiraj Tayade"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34480,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1661944854,"creation_date":1387302200,"question_id":20641122,"body_markdown":"I want to send 2D array in a JSON structure.\r\n\r\nThe overall structure I want is \r\n\r\n```json\r\n{\r\n    &quot;PED&quot;: {\r\n        &quot;fun&quot;: &quot;enviarPedido&quot;,\r\n        &quot;txtUser&quot;:&quot;123&quot;,\r\n        &quot;md5Passwd&quot;: &quot;123&quot;,                          \r\n        &quot;arrArticulos&quot;: [\r\n            [50,10,5,50],\r\n            [51,9,6.5,58.5],\r\n            [52,8,7,56],\r\n            [53,7,8.5,59.5]\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nI want the 2D array generated from the cursor data and put into this JSON Structure\r\n\r\n```json\r\n    &quot;arrArticulos&quot;: [\r\n        [50,10,5,50],\r\n        [51,9,6.5,58.5],\r\n        [52,8,7,56],\r\n        [53,7,8.5,59.5]\r\n    ]\r\n```\r\n\r\nWhat is the solution?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I send a 2D array in a JSON structure?","body":"<p>I want to send 2D array in a JSON structure.</p>\n<p>The overall structure I want is</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;PED&quot;: {\n        &quot;fun&quot;: &quot;enviarPedido&quot;,\n        &quot;txtUser&quot;:&quot;123&quot;,\n        &quot;md5Passwd&quot;: &quot;123&quot;,                          \n        &quot;arrArticulos&quot;: [\n            [50,10,5,50],\n            [51,9,6.5,58.5],\n            [52,8,7,56],\n            [53,7,8.5,59.5]\n        ]\n    }\n}\n</code></pre>\n<p>I want the 2D array generated from the cursor data and put into this JSON Structure</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;arrArticulos&quot;: [\n        [50,10,5,50],\n        [51,9,6.5,58.5],\n        [52,8,7,56],\n        [53,7,8.5,59.5]\n    ]\n</code></pre>\n<p>What is the solution?</p>\n"},{"tags":["java","spring","hibernate","hsqldb"],"comments":[{"owner":{"account_id":124832,"reputation":21488,"user_id":320180,"accept_rate":80,"display_name":"ndeverge"},"score":0,"creation_date":1330193221,"post_id":9446194,"comment_id":11947931,"body_markdown":"Maybe a case issue ? `LMS` vs `lms`","body":"Maybe a case issue ? <code>LMS</code> vs <code>lms</code>"}],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404117926,"creation_date":1330193337,"answer_id":9446613,"question_id":9446194,"body_markdown":"I use following bean to create schema during tests.\r\n\r\n    public class HSQLSchemaCreator {\r\n\r\n        private String schemaName;\r\n\r\n        private DataSource dataSource;\r\n\r\n        public HSQLSchemaCreator(String schemaName, DataSource dataSource) {\r\n            this.schemaName = schemaName;\r\n            this.dataSource = dataSource;\r\n        }\r\n    \r\n    \r\n        @PostConstruct\r\n        public void postConstruct() throws Exception {\r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n            jdbcTemplate.execute(&quot;CREATE SCHEMA &quot; + schemaName + &quot; AUTHORIZATION DBA&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nspring configuration:\r\n\r\n      &lt;bean id=&quot;hsqlSchemaCreator&quot; class=&quot;....HSQLSchemaCreator&quot;&gt;\r\n           &lt;constructor-arg name=&quot;schemaName&quot; value=&quot;...&quot;/&gt;\r\n           &lt;constructor-arg name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n      &lt;/bean&gt;\r\n    \r\n    &lt;!-- Override entityManagerFactory to depend on hsqlSchemaCreator for tests  --&gt;\r\n    &lt;bean id=&quot;entityManagerFactory&quot;  class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; depends-on=&quot;hsqlSchemaCreator&quot;&gt;\r\n\r\nand so on...\r\n","title":"HSQL org.hsqldb.HsqlException: invalid schema name","body":"<p>I use following bean to create schema during tests.</p>\n\n<pre><code>public class HSQLSchemaCreator {\n\n    private String schemaName;\n\n    private DataSource dataSource;\n\n    public HSQLSchemaCreator(String schemaName, DataSource dataSource) {\n        this.schemaName = schemaName;\n        this.dataSource = dataSource;\n    }\n\n\n    @PostConstruct\n    public void postConstruct() throws Exception {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        jdbcTemplate.execute(\"CREATE SCHEMA \" + schemaName + \" AUTHORIZATION DBA\");\n    }\n\n}\n</code></pre>\n\n<p>spring configuration:</p>\n\n<pre><code>  &lt;bean id=\"hsqlSchemaCreator\" class=\"....HSQLSchemaCreator\"&gt;\n       &lt;constructor-arg name=\"schemaName\" value=\"...\"/&gt;\n       &lt;constructor-arg name=\"dataSource\" ref=\"dataSource\"/&gt;\n  &lt;/bean&gt;\n\n&lt;!-- Override entityManagerFactory to depend on hsqlSchemaCreator for tests  --&gt;\n&lt;bean id=\"entityManagerFactory\"  class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\" depends-on=\"hsqlSchemaCreator\"&gt;\n</code></pre>\n\n<p>and so on...</p>\n"},{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661944726,"creation_date":1330197244,"answer_id":9447191,"question_id":9446194,"body_markdown":"Names for schemas, tables, columns, etc. are not (at least not by default) case sensitive in MySQL. HSQLDB is case sensitive, but it also converts all identifiers in query that are not quoted to the uppercase. \r\n\r\nYou can quickly test is this your problem by changing schema name to LMS everywhere (first in database). You can find more detailed story about HSQLDB and Hibernate from here: [HSQLDB No such table Exception][1] \r\n\r\n\r\n  [1]: http://rlogiacco.blogspot.com/2009/03/hsqldb-no-such-table-exception.html","title":"HSQL org.hsqldb.HsqlException: invalid schema name","body":"<p>Names for schemas, tables, columns, etc. are not (at least not by default) case sensitive in MySQL. HSQLDB is case sensitive, but it also converts all identifiers in query that are not quoted to the uppercase.</p>\n<p>You can quickly test is this your problem by changing schema name to LMS everywhere (first in database). You can find more detailed story about HSQLDB and Hibernate from here: <a href=\"http://rlogiacco.blogspot.com/2009/03/hsqldb-no-such-table-exception.html\" rel=\"nofollow noreferrer\">HSQLDB No such table Exception</a></p>\n"},{"tags":[],"owner":{"account_id":218619,"reputation":848,"user_id":475039,"accept_rate":23,"display_name":"Kros"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1333242033,"creation_date":1333242033,"answer_id":9961051,"question_id":9446194,"body_markdown":"Just for the record I managed to solve this one by simply removing the &#39;catalog&#39; attribute from my Hibernate entities. Hence,\r\n\r\n    @Entity\r\n    @Table(name = &quot;answer&quot;, catalog = &quot;lms&quot;)\r\n\r\nbecame\r\n\r\n    @Entity\r\n    @Table(name = &quot;answer&quot;)\r\n\r\n","title":"HSQL org.hsqldb.HsqlException: invalid schema name","body":"<p>Just for the record I managed to solve this one by simply removing the 'catalog' attribute from my Hibernate entities. Hence,</p>\n\n<pre><code>@Entity\n@Table(name = \"answer\", catalog = \"lms\")\n</code></pre>\n\n<p>became</p>\n\n<pre><code>@Entity\n@Table(name = \"answer\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178975,"reputation":211,"user_id":2686166,"display_name":"박찬신"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376576791,"creation_date":1376575980,"answer_id":18254578,"question_id":9446194,"body_markdown":"make &quot;create-schema.sql&quot; file\r\n\r\n    CREATE SCHEMA lms;\r\n\r\nadd &quot;dataSourceInitializer&quot; bean\r\n\r\n\t&lt;bean id=&quot;dataSourceInitializer&quot; class=&quot;org.springframework.jdbc.datasource.init.DataSourceInitializer&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;databasePopulator&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.jdbc.datasource.init.ResourceDatabasePopulator&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;continueOnError&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;scripts&quot;&gt;\r\n\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t&lt;value&gt;classpath:SQL/create-schema.sql&lt;/value&gt;\r\n\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt; \r\n\r\n\r\nset &quot;depends-on&quot; attribute to &quot;sessionFactory&quot; bean\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot; depends-on=&quot;dataSourceInitializer&quot;&gt;\r\n    ...","title":"HSQL org.hsqldb.HsqlException: invalid schema name","body":"<p>make \"create-schema.sql\" file</p>\n\n<pre><code>CREATE SCHEMA lms;\n</code></pre>\n\n<p>add \"dataSourceInitializer\" bean</p>\n\n<pre><code>&lt;bean id=\"dataSourceInitializer\" class=\"org.springframework.jdbc.datasource.init.DataSourceInitializer\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"databasePopulator\"&gt;\n        &lt;bean class=\"org.springframework.jdbc.datasource.init.ResourceDatabasePopulator\"&gt;\n            &lt;property name=\"continueOnError\" value=\"true\" /&gt;\n            &lt;property name=\"scripts\"&gt;\n                &lt;list&gt;\n                    &lt;value&gt;classpath:SQL/create-schema.sql&lt;/value&gt;\n                &lt;/list&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt; \n</code></pre>\n\n<p>set \"depends-on\" attribute to \"sessionFactory\" bean</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\" depends-on=\"dataSourceInitializer\"&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10000484,"reputation":105,"user_id":7396627,"accept_rate":67,"display_name":"user7396627"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534281494,"creation_date":1534281494,"answer_id":51849892,"question_id":9446194,"body_markdown":"I am not sure why this worked, but for me, at least, adding square brackets around the table names and schema did the trick for me:\r\n\r\n    @Table(name = &quot;schema.tableName&quot;)\r\nbecame\r\n\r\n    @Table(name = &quot;[schema].[tableName]&quot;)\r\n","title":"HSQL org.hsqldb.HsqlException: invalid schema name","body":"<p>I am not sure why this worked, but for me, at least, adding square brackets around the table names and schema did the trick for me:</p>\n\n<pre><code>@Table(name = \"schema.tableName\")\n</code></pre>\n\n<p>became</p>\n\n<pre><code>@Table(name = \"[schema].[tableName]\")\n</code></pre>\n"}],"owner":{"account_id":218619,"reputation":848,"user_id":475039,"accept_rate":23,"display_name":"Kros"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21079,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1661944726,"creation_date":1330190434,"question_id":9446194,"body_markdown":"I am using HSQL to run a number of unit tests on my java application. I am using Spring + Hibernate. I am having a problem when switching from MySQL to HSQL. The tests run perfectly on MySQL but whenever I change to HSQL I get the following exception:\r\n\r\n    Caused by: org.hsqldb.HsqlException: invalid schema name: LMS\r\n\tat org.hsqldb.error.Error.error(Unknown Source)\r\n\tat org.hsqldb.error.Error.error(Unknown Source)\r\n\tat org.hsqldb.SchemaManager.getSchemaHsqlName(Unknown Source)\r\n\tat org.hsqldb.SchemaManager.getSchemaName(Unknown Source)\r\n\tat org.hsqldb.Session.getSchemaName(Unknown Source)\r\n\tat org.hsqldb.SchemaManager.getTable(Unknown Source)\r\n\tat org.hsqldb.ParserDQL.readTableName(Unknown Source)\r\n\tat org.hsqldb.ParserDQL.readSimpleRangeVariable(Unknown Source)\r\n\tat org.hsqldb.ParserDML.compileInsertStatement(Unknown Source)\r\n\tat org.hsqldb.ParserCommand.compilePart(Unknown Source)\r\n\tat org.hsqldb.ParserCommand.compileStatement(Unknown Source)\r\n\tat org.hsqldb.Session.compileStatement(Unknown Source)\r\n\tat org.hsqldb.StatementManager.compile(Unknown Source)\r\n\tat org.hsqldb.Session.execute(Unknown Source)\r\n\r\nMy Spring configuration is the following:\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;org.hsqldb.jdbc.JDBCDriver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:hsqldb:file:lms&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;SA&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\r\n \t\t&lt;property name=&quot;packagesToScan&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;com.dreamteam.lms.**.*&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;!--&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;--&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.HSQLDialect&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.generate_statistics&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n\t\t\t    &lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.cache.use_query_cache&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.cache.provider_class&quot;&gt;net.sf.ehcache.hibernate.SingletonEhCacheProvider&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nSample Annotation on one of my classes:\r\n\r\n    @Entity\r\n    @Table(name = &quot;answer&quot;, catalog = &quot;lms&quot;)\r\n    public class Answer implements Cloneable, Serializable, IPojoGenEntity, IAnswer {\r\n    .\r\n    .\r\n\r\n\r\nAny insight would be appreciated.\r\n\r\nRegards\r\nChris","title":"HSQL org.hsqldb.HsqlException: invalid schema name","body":"<p>I am using HSQL to run a number of unit tests on my java application. I am using Spring + Hibernate. I am having a problem when switching from MySQL to HSQL. The tests run perfectly on MySQL but whenever I change to HSQL I get the following exception:</p>\n\n<pre><code>Caused by: org.hsqldb.HsqlException: invalid schema name: LMS\nat org.hsqldb.error.Error.error(Unknown Source)\nat org.hsqldb.error.Error.error(Unknown Source)\nat org.hsqldb.SchemaManager.getSchemaHsqlName(Unknown Source)\nat org.hsqldb.SchemaManager.getSchemaName(Unknown Source)\nat org.hsqldb.Session.getSchemaName(Unknown Source)\nat org.hsqldb.SchemaManager.getTable(Unknown Source)\nat org.hsqldb.ParserDQL.readTableName(Unknown Source)\nat org.hsqldb.ParserDQL.readSimpleRangeVariable(Unknown Source)\nat org.hsqldb.ParserDML.compileInsertStatement(Unknown Source)\nat org.hsqldb.ParserCommand.compilePart(Unknown Source)\nat org.hsqldb.ParserCommand.compileStatement(Unknown Source)\nat org.hsqldb.Session.compileStatement(Unknown Source)\nat org.hsqldb.StatementManager.compile(Unknown Source)\nat org.hsqldb.Session.execute(Unknown Source)\n</code></pre>\n\n<p>My Spring configuration is the following:</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.hsqldb.jdbc.JDBCDriver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:hsqldb:file:lms\" /&gt;\n    &lt;property name=\"username\" value=\"SA\"/&gt;\n    &lt;property name=\"password\" value=\"\"/&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n\n    &lt;property name=\"packagesToScan\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.dreamteam.lms.**.*&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;!--&lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;--&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.HSQLDialect&lt;/prop&gt;\n            &lt;prop key=\"hibernate.generate_statistics\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n            &lt;prop key=\"hibernate.cache.use_second_level_cache\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.cache.use_query_cache\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.cache.provider_class\"&gt;net.sf.ehcache.hibernate.SingletonEhCacheProvider&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Sample Annotation on one of my classes:</p>\n\n<pre><code>@Entity\n@Table(name = \"answer\", catalog = \"lms\")\npublic class Answer implements Cloneable, Serializable, IPojoGenEntity, IAnswer {\n.\n.\n</code></pre>\n\n<p>Any insight would be appreciated.</p>\n\n<p>Regards\nChris</p>\n"},{"tags":["java","elasticsearch","nginx"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1661946538,"post_id":73555026,"comment_id":129891619,"body_markdown":"The last line states `No JVMs found`?!","body":"The last line states <code>No JVMs found</code>?!"},{"owner":{"account_id":119009,"reputation":4261,"user_id":310429,"accept_rate":71,"display_name":"acctman"},"score":0,"creation_date":1661948524,"post_id":73555026,"comment_id":129892330,"body_markdown":"@Val java is installed 1.8.0 ... `echo $JAVA_HOME\n/usr/lib/jvm/jre`","body":"@Val java is installed 1.8.0 ... <code>echo $JAVA_HOME &#47;usr&#47;lib&#47;jvm&#47;jre</code>"},{"owner":{"account_id":19165296,"reputation":1941,"user_id":14000148,"display_name":"warkolm"},"score":0,"creation_date":1661980367,"post_id":73555026,"comment_id":129903434,"body_markdown":"7.6 is [EOL](https://www.elastic.co/support/eol), please use a more up to date version","body":"7.6 is <a href=\"https://www.elastic.co/support/eol\" rel=\"nofollow noreferrer\">EOL</a>, please use a more up to date version"}],"owner":{"account_id":119009,"reputation":4261,"user_id":310429,"accept_rate":71,"display_name":"acctman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661944428,"creation_date":1661944428,"question_id":73555026,"body_markdown":"I have done a clean install of ElasticSearch port 9200 localhost everything default. When starting the following error below is displayed and Failed. I&#39;m running nginx this should not matter and openjdk version &quot;1.8.0_332&quot;\r\n\r\n    Starting elasticsearch (via systemctl):  Job for elasticsearch.service failed because the control process exited with error code. See &quot;systemctl status elasticsearch.service&quot; and &quot;journalctl -xe&quot; for details.\r\n                                                               [FAILED]\r\n\r\n\r\n    :journalctl -xe\r\n    -- \r\n    -- Unit elasticsearch.service has failed.\r\n    -- \r\n    -- The result is failed.\r\n    Aug 31 10:53:41 ip-172-26-7-39.ec2.internal systemd[1]: Unit elasticsearch.service entered failed state.\r\n    Aug 31 10:53:41 ip-172-26-7-39.ec2.internal systemd[1]: elasticsearch.service failed.\r\n    Aug 31 10:53:41 ip-172-26-7-39.ec2.internal sudo[31438]: pam_unix(sudo-i:session): session closed for user root\r\n    Aug 31 10:53:42 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31563]: cat: /proc/31469/stat: No such file or directory\r\n    Aug 31 10:53:42 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31563]: [log4j-hotpatch] Process 31469 no longer a java process, skipping.\r\n    Aug 31 10:53:42 ip-172-26-7-39.ec2.internal root[31640]: Process 31469 no longer a java process, skipping.\r\n    Aug 31 10:53:52 ip-172-26-7-39.ec2.internal systemd[1]: log4j-cve-2021-44228-hotpatch.service holdoff time over, scheduling restart.\r\n    Aug 31 10:53:52 ip-172-26-7-39.ec2.internal systemd[1]: Stopped Run the CVE-2021-44228 hotfix script.\r\n    -- Subject: Unit log4j-cve-2021-44228-hotpatch.service has finished shutting down\r\n    -- Defined-By: systemd\r\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n    -- \r\n    -- Unit log4j-cve-2021-44228-hotpatch.service has finished shutting down.\r\n    Aug 31 10:53:52 ip-172-26-7-39.ec2.internal systemd[1]: Started Run the CVE-2021-44228 hotfix script.\r\n    -- Subject: Unit log4j-cve-2021-44228-hotpatch.service has finished start-up\r\n    -- Defined-By: systemd\r\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n    -- \r\n    -- Unit log4j-cve-2021-44228-hotpatch.service has finished starting up.\r\n    -- \r\n    -- The start-up result is done.\r\n    Aug 31 10:53:52 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31649]: [log4j-hotpatch] Starting up now...\r\n    Aug 31 10:53:52 ip-172-26-7-39.ec2.internal root[31650]: Starting up now...\r\n    Aug 31 10:53:52 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31649]: [log4j-hotpatch] No JVMs found, exiting gracefully\r\n    Aug 31 10:53:52 ip-172-26-7-39.ec2.internal root[31656]: No JVMs found, exiting gracefully","title":"ElasticSearch 7.6 failed to start after clean install","body":"<p>I have done a clean install of ElasticSearch port 9200 localhost everything default. When starting the following error below is displayed and Failed. I'm running nginx this should not matter and openjdk version &quot;1.8.0_332&quot;</p>\n<pre><code>Starting elasticsearch (via systemctl):  Job for elasticsearch.service failed because the control process exited with error code. See &quot;systemctl status elasticsearch.service&quot; and &quot;journalctl -xe&quot; for details.\n                                                           [FAILED]\n\n\n:journalctl -xe\n-- \n-- Unit elasticsearch.service has failed.\n-- \n-- The result is failed.\nAug 31 10:53:41 ip-172-26-7-39.ec2.internal systemd[1]: Unit elasticsearch.service entered failed state.\nAug 31 10:53:41 ip-172-26-7-39.ec2.internal systemd[1]: elasticsearch.service failed.\nAug 31 10:53:41 ip-172-26-7-39.ec2.internal sudo[31438]: pam_unix(sudo-i:session): session closed for user root\nAug 31 10:53:42 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31563]: cat: /proc/31469/stat: No such file or directory\nAug 31 10:53:42 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31563]: [log4j-hotpatch] Process 31469 no longer a java process, skipping.\nAug 31 10:53:42 ip-172-26-7-39.ec2.internal root[31640]: Process 31469 no longer a java process, skipping.\nAug 31 10:53:52 ip-172-26-7-39.ec2.internal systemd[1]: log4j-cve-2021-44228-hotpatch.service holdoff time over, scheduling restart.\nAug 31 10:53:52 ip-172-26-7-39.ec2.internal systemd[1]: Stopped Run the CVE-2021-44228 hotfix script.\n-- Subject: Unit log4j-cve-2021-44228-hotpatch.service has finished shutting down\n-- Defined-By: systemd\n-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n-- \n-- Unit log4j-cve-2021-44228-hotpatch.service has finished shutting down.\nAug 31 10:53:52 ip-172-26-7-39.ec2.internal systemd[1]: Started Run the CVE-2021-44228 hotfix script.\n-- Subject: Unit log4j-cve-2021-44228-hotpatch.service has finished start-up\n-- Defined-By: systemd\n-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n-- \n-- Unit log4j-cve-2021-44228-hotpatch.service has finished starting up.\n-- \n-- The start-up result is done.\nAug 31 10:53:52 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31649]: [log4j-hotpatch] Starting up now...\nAug 31 10:53:52 ip-172-26-7-39.ec2.internal root[31650]: Starting up now...\nAug 31 10:53:52 ip-172-26-7-39.ec2.internal log4j-cve-2021-44228-hotpatch[31649]: [log4j-hotpatch] No JVMs found, exiting gracefully\nAug 31 10:53:52 ip-172-26-7-39.ec2.internal root[31656]: No JVMs found, exiting gracefully\n</code></pre>\n"},{"tags":["java","java-8","java-time"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1521211091,"post_id":49323017,"comment_id":85647916,"body_markdown":"Possibly related: https://stackoverflow.com/questions/49026914/parse-string-for-unknown-temporalaccessor","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/49026914/parse-string-for-unknown-temporalaccessor\" title=\"parse string for unknown temporalaccessor\">stackoverflow.com/questions/49026914/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1521211220,"post_id":49323017,"comment_id":85648015,"body_markdown":"`LocalDate.parse(&quot;1986-04-08&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)).atStartOfDay();`","body":"<code>LocalDate.parse(&quot;1986-04-08&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)).atStartOfDay();</code>"}],"answers":[{"tags":[],"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1521224956,"creation_date":1521213390,"answer_id":49324132,"question_id":49323017,"body_markdown":"Just create custom formatter with the builder [DateTimeFormatterBuilder][1]\r\n\r\n\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t.appendPattern(&quot;yyyy-MM-dd[ HH:mm:ss]&quot;)\r\n\t\t\t.parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n\t\t\t.parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n\t\t\t.parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n\t\t\t.toFormatter();\r\n\r\nThis formatter uses the `[]` brackets to allow optional parts in the format, and adds the default values for hour `HOUR_OF_DAY`, minute `MINUTE_OF_HOUR` and second `SECOND_OF_MINUTE`.\r\n\r\nnote: you can ommit, minutes and seconds, just providing the hour is enough.\r\n\r\nAnd use it as usual.\r\n\r\n\tLocalDateTime localDateTime1 = LocalDateTime.parse(&quot;1994-05-13&quot;, formatter);\r\n\tLocalDateTime localDateTime2 = LocalDateTime.parse(&quot;1994-05-13 23:00:00&quot;, formatter);\r\n\r\nThis outputs the correct date time with default hours of 0 (starting of the day).\r\n\r\n\tSystem.out.println(localDateTime1); // 1994-05-13T00:00\r\n\tSystem.out.println(localDateTime2); // 1994-05-13T23:00\r\n\r\n[1]:\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\r\n","title":"Parse date or datetime both as LocalDateTime in Java 8","body":"<p>Just create custom formatter with the builder <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\" rel=\"noreferrer\">DateTimeFormatterBuilder</a></p>\n\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendPattern(\"yyyy-MM-dd[ HH:mm:ss]\")\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n        .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n        .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n        .toFormatter();\n</code></pre>\n\n<p>This formatter uses the <code>[]</code> brackets to allow optional parts in the format, and adds the default values for hour <code>HOUR_OF_DAY</code>, minute <code>MINUTE_OF_HOUR</code> and second <code>SECOND_OF_MINUTE</code>.</p>\n\n<p>note: you can ommit, minutes and seconds, just providing the hour is enough.</p>\n\n<p>And use it as usual.</p>\n\n<pre><code>LocalDateTime localDateTime1 = LocalDateTime.parse(\"1994-05-13\", formatter);\nLocalDateTime localDateTime2 = LocalDateTime.parse(\"1994-05-13 23:00:00\", formatter);\n</code></pre>\n\n<p>This outputs the correct date time with default hours of 0 (starting of the day).</p>\n\n<pre><code>System.out.println(localDateTime1); // 1994-05-13T00:00\nSystem.out.println(localDateTime2); // 1994-05-13T23:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13158379,"reputation":51,"user_id":9504759,"display_name":"iamwert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521225370,"creation_date":1521225370,"answer_id":49327513,"question_id":49323017,"body_markdown":"Jose&#39;s answer using `parseDefaulting` is nice. There&#39;s also another alternative, if you don&#39;t want to use a `DateTimeFormatterBuilder`.\r\n\r\nFirst you create your formatter with an optional section - in this case, the time-of-day part, delimited by `[]`:\r\n\r\n    DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd[ HH:mm:ss]&quot;);\r\n\r\nThen you call `parseBest`, providing the `String` to be parsed and a list of method references:\r\n\r\n    TemporalAccessor parsed = fmt.parseBest(&quot;1986-04-08&quot;, LocalDateTime::from, LocalDate::from);\r\n\r\nIn this case, it&#39;ll first try to create a `LocalDateTime`, and if it&#39;s not possible, it&#39;ll try to create a `LocalDate` (if none is possible, it&#39;ll throw an exception).\r\n\r\nThen, you can check which type is returned, and act accordingly:\r\n\r\n    LocalDateTime dt;\r\n    if (parsed instanceof LocalDateTime) {\r\n        // it&#39;s a LocalDateTime, just assign it\r\n        dt = (LocalDateTime) parsed;\r\n    } else if (parsed instanceof LocalDate) {\r\n        // it&#39;s a LocalDate, set the time to whatever you want\r\n        dt = ((LocalDate) parsed).atTime(LocalTime.MIDNIGHT);\r\n    }\r\n\r\nIf the result is a `LocalDate`, you can choose to call `atStartOfDay()`, as suggested by others, or change to a specific time-of-day, such as `atTime(LocalTime.of(10, 30))` for 10:30 AM, for example.","title":"Parse date or datetime both as LocalDateTime in Java 8","body":"<p>Jose's answer using <code>parseDefaulting</code> is nice. There's also another alternative, if you don't want to use a <code>DateTimeFormatterBuilder</code>.</p>\n\n<p>First you create your formatter with an optional section - in this case, the time-of-day part, delimited by <code>[]</code>:</p>\n\n<pre><code>DateTimeFormatter fmt = DateTimeFormatter.ofPattern(\"yyyy-MM-dd[ HH:mm:ss]\");\n</code></pre>\n\n<p>Then you call <code>parseBest</code>, providing the <code>String</code> to be parsed and a list of method references:</p>\n\n<pre><code>TemporalAccessor parsed = fmt.parseBest(\"1986-04-08\", LocalDateTime::from, LocalDate::from);\n</code></pre>\n\n<p>In this case, it'll first try to create a <code>LocalDateTime</code>, and if it's not possible, it'll try to create a <code>LocalDate</code> (if none is possible, it'll throw an exception).</p>\n\n<p>Then, you can check which type is returned, and act accordingly:</p>\n\n<pre><code>LocalDateTime dt;\nif (parsed instanceof LocalDateTime) {\n    // it's a LocalDateTime, just assign it\n    dt = (LocalDateTime) parsed;\n} else if (parsed instanceof LocalDate) {\n    // it's a LocalDate, set the time to whatever you want\n    dt = ((LocalDate) parsed).atTime(LocalTime.MIDNIGHT);\n}\n</code></pre>\n\n<p>If the result is a <code>LocalDate</code>, you can choose to call <code>atStartOfDay()</code>, as suggested by others, or change to a specific time-of-day, such as <code>atTime(LocalTime.of(10, 30))</code> for 10:30 AM, for example.</p>\n"},{"tags":[],"owner":{"account_id":9092369,"reputation":41,"user_id":12389440,"display_name":"Renan Peli&#231;ari Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590436830,"creation_date":1590436830,"answer_id":62009844,"question_id":49323017,"body_markdown":"I know its late for the answer, but it can help others...\r\n\r\nSince the LocalDateTime you need to set a time, otherwise you can use just the LocalDate, I searched for LocalDateTime built-in solution to handle this.\r\nI didn&#39;t found, however I used this following approach:\r\n\r\n``` java\r\n// For specific date (the same as the question)\r\nLocalDateTime specificDate LocalDateTime.of(LocalDate.of(1986, 4, 8), LocalTime.MIN);\r\n```\r\n\r\n**Other examples:**\r\n``` java\r\n// For the start of day\r\nLocalDateTime startToday = LocalDateTime.of(LocalDate.now(), LocalTime.MIN));\r\n\r\n// For the end of day\r\nLocalDateTime endOfToday = LocalDateTime.of(LocalDate.now(), LocalTime.MAX));\r\n```\r\n\r\nThis way you don&#39;t need to use a formatter. :)","title":"Parse date or datetime both as LocalDateTime in Java 8","body":"<p>I know its late for the answer, but it can help others...</p>\n\n<p>Since the LocalDateTime you need to set a time, otherwise you can use just the LocalDate, I searched for LocalDateTime built-in solution to handle this.\nI didn't found, however I used this following approach:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// For specific date (the same as the question)\nLocalDateTime specificDate LocalDateTime.of(LocalDate.of(1986, 4, 8), LocalTime.MIN);\n</code></pre>\n\n<p><strong>Other examples:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// For the start of day\nLocalDateTime startToday = LocalDateTime.of(LocalDate.now(), LocalTime.MIN));\n\n// For the end of day\nLocalDateTime endOfToday = LocalDateTime.of(LocalDate.now(), LocalTime.MAX));\n</code></pre>\n\n<p>This way you don't need to use a formatter. :)</p>\n"},{"tags":[],"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661944220,"creation_date":1661942321,"answer_id":73554648,"question_id":49323017,"body_markdown":"Based on Jose Da Silva&#39;s [answer][1]:\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .parseCaseInsensitive()\r\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n        .optionalStart()\r\n        .appendLiteral(&#39; &#39;) // might be &#39;T&#39; in your case\r\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n        .optionalEnd()\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n        .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n        .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n        .toFormatter()\r\n        .withResolverStyle(ResolverStyle.STRICT); // parse STRICT instead of SMART!\r\n\r\nUsage:\r\n\r\n    LocalDateTime localDateTime1 = LocalDateTime.parse(&quot;1994-05-13&quot;, formatter);\r\n    LocalDateTime localDateTime2 = LocalDateTime.parse(&quot;1994-05-13 23:00:00&quot;, formatter);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49323017/parse-date-or-datetime-both-as-localdatetime-in-java-8/49324132#49324132","title":"Parse date or datetime both as LocalDateTime in Java 8","body":"<p>Based on Jose Da Silva's <a href=\"https://stackoverflow.com/questions/49323017/parse-date-or-datetime-both-as-localdatetime-in-java-8/49324132#49324132\">answer</a>:</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .parseCaseInsensitive()\n    .append(DateTimeFormatter.ISO_LOCAL_DATE)\n    .optionalStart()\n    .appendLiteral(' ') // might be 'T' in your case\n    .append(DateTimeFormatter.ISO_LOCAL_TIME)\n    .optionalEnd()\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n    .toFormatter()\n    .withResolverStyle(ResolverStyle.STRICT); // parse STRICT instead of SMART!\n</code></pre>\n<p>Usage:</p>\n<pre><code>LocalDateTime localDateTime1 = LocalDateTime.parse(&quot;1994-05-13&quot;, formatter);\nLocalDateTime localDateTime2 = LocalDateTime.parse(&quot;1994-05-13 23:00:00&quot;, formatter);\n</code></pre>\n"}],"owner":{"account_id":2459621,"reputation":1013,"user_id":2144057,"accept_rate":71,"display_name":"Kamil Roman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12130,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":49324132,"answer_count":4,"score":12,"last_activity_date":1661944220,"creation_date":1521210174,"question_id":49323017,"body_markdown":"I need to parse a field which is sometimes given as a date and sometimes as a date/time. Is it possible to use single datatype for this using Java 8 time API?\r\nCurrently, I attempted to use a LocalDateTime for it, but for following invocation `LocalDateTime.parse(&quot;1986-04-08&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))`\r\nI get a \r\n\r\n    java.time.DateTimeException: Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 1986-04-08 of type java.time.format.Parsed\r\n\r\nThis is part of some generic parser accepting a date/datetime parse pattern as configuration option. So e.g. following solution with hardcoded parsing pattern\r\n\r\n    if (&quot;yyyy-MM-dd&quot;.equals(pattern)) {\r\n        LocalDate.parse(value, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))).atStartOfDay()\r\n    }\r\n\r\nis not an option for me.\r\n\r\nAny other suggestions how to code it in a clean way are welcome.\r\n\r\n\r\n","title":"Parse date or datetime both as LocalDateTime in Java 8","body":"<p>I need to parse a field which is sometimes given as a date and sometimes as a date/time. Is it possible to use single datatype for this using Java 8 time API?\nCurrently, I attempted to use a LocalDateTime for it, but for following invocation <code>LocalDateTime.parse(\"1986-04-08\", DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"))</code>\nI get a </p>\n\n<pre><code>java.time.DateTimeException: Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 1986-04-08 of type java.time.format.Parsed\n</code></pre>\n\n<p>This is part of some generic parser accepting a date/datetime parse pattern as configuration option. So e.g. following solution with hardcoded parsing pattern</p>\n\n<pre><code>if (\"yyyy-MM-dd\".equals(pattern)) {\n    LocalDate.parse(value, DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"))).atStartOfDay()\n}\n</code></pre>\n\n<p>is not an option for me.</p>\n\n<p>Any other suggestions how to code it in a clean way are welcome.</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661770832,"creation_date":1661770832,"answer_id":73527786,"question_id":73525536,"body_markdown":"&gt; I have generated a react native app and want to use the installed java 11 at source code run time instead of java 8.\r\n\r\nSorry, that is not an option.\r\n\r\n&gt; Is it possible to pack java 11 into android.jar then replace the java 8 in API 31 folder?\r\n\r\nNo, sorry.\r\n","title":"Android app uses API 31 java 8 instead of installed java 11","body":"<blockquote>\n<p>I have generated a react native app and want to use the installed java 11 at source code run time instead of java 8.</p>\n</blockquote>\n<p>Sorry, that is not an option.</p>\n<blockquote>\n<p>Is it possible to pack java 11 into android.jar then replace the java 8 in API 31 folder?</p>\n</blockquote>\n<p>No, sorry.</p>\n"}],"owner":{"account_id":17938106,"reputation":388,"user_id":13034034,"display_name":"Kim Mỹ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1197,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1661944122,"creation_date":1661758781,"question_id":73525536,"body_markdown":"I have generated a react native app and want to use the installed java 11 at source code run time instead of java 8.\r\n\r\nIn android studio when hovering over react-native-gradle-plugin, it uses java 11 which I installed which java -version in terminal is java 11:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSource code used to run the app still use API 31 java 8:\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nIs it possible to pack java 11 into android.jar then replace the java 8 in API 31 folder\r\n\r\napp/build.gradle:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nSDK:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nApp structure:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nBuild tools:\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fFmjJ.png\r\n  [2]: https://i.stack.imgur.com/LiVgm.png\r\n  [3]: https://i.stack.imgur.com/fTOIf.png\r\n  [4]: https://i.stack.imgur.com/Q7as5.png\r\n  [5]: https://i.stack.imgur.com/vPxEG.png\r\n  [6]: https://i.stack.imgur.com/mT7HL.png\r\n  [7]: https://i.stack.imgur.com/pnKCX.png","title":"Android app uses API 31 java 8 instead of installed java 11","body":"<p>I have generated a react native app and want to use the installed java 11 at source code run time instead of java 8.</p>\n<p>In android studio when hovering over react-native-gradle-plugin, it uses java 11 which I installed which java -version in terminal is java 11:</p>\n<p><a href=\"https://i.stack.imgur.com/fFmjJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fFmjJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Source code used to run the app still use API 31 java 8:</p>\n<p><a href=\"https://i.stack.imgur.com/LiVgm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LiVgm.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/fTOIf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fTOIf.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible to pack java 11 into android.jar then replace the java 8 in API 31 folder</p>\n<p>app/build.gradle:</p>\n<p><a href=\"https://i.stack.imgur.com/Q7as5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q7as5.png\" alt=\"enter image description here\" /></a></p>\n<p>SDK:</p>\n<p><a href=\"https://i.stack.imgur.com/vPxEG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vPxEG.png\" alt=\"enter image description here\" /></a></p>\n<p>App structure:</p>\n<p><a href=\"https://i.stack.imgur.com/mT7HL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mT7HL.png\" alt=\"enter image description here\" /></a></p>\n<p>Build tools:</p>\n<p><a href=\"https://i.stack.imgur.com/pnKCX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pnKCX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","macos","gradle","intellij-idea"],"comments":[{"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"score":0,"creation_date":1661871870,"post_id":73543552,"comment_id":129872108,"body_markdown":"what is your gradle version ? 7.5 or 2.14 ?","body":"what is your gradle version ? 7.5 or 2.14 ?"},{"owner":{"account_id":19988739,"reputation":19,"user_id":14650291,"display_name":"user14650291"},"score":0,"creation_date":1661872199,"post_id":73543552,"comment_id":129872250,"body_markdown":"I set it as 3.0, because this project is very old and would only run on that.","body":"I set it as 3.0, because this project is very old and would only run on that."},{"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"score":0,"creation_date":1661872311,"post_id":73543552,"comment_id":129872281,"body_markdown":"try to set 2.14.","body":"try to set 2.14."},{"owner":{"account_id":19988739,"reputation":19,"user_id":14650291,"display_name":"user14650291"},"score":0,"creation_date":1661872384,"post_id":73543552,"comment_id":129872318,"body_markdown":"I can&#39;t because I haven&#39;t got 2.14 installed. I have only installed 3.0.","body":"I can&#39;t because I haven&#39;t got 2.14 installed. I have only installed 3.0."},{"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"score":0,"creation_date":1661872582,"post_id":73543552,"comment_id":129872397,"body_markdown":"i think your ide will handle this","body":"i think your ide will handle this"},{"owner":{"account_id":19988739,"reputation":19,"user_id":14650291,"display_name":"user14650291"},"score":0,"creation_date":1661872922,"post_id":73543552,"comment_id":129872574,"body_markdown":"How do you mean? I tried and it still doesn&#39;t work. Any other ideas?","body":"How do you mean? I tried and it still doesn&#39;t work. Any other ideas?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":1,"creation_date":1661943778,"post_id":73543552,"comment_id":129890736,"body_markdown":"This method is supported only since 3.1 Gradle version, see the documentation: https://docs.gradle.org/current/javadoc/org/gradle/api/invocation/Gradle.html#getIncludedBuilds--","body":"This method is supported only since 3.1 Gradle version, see the documentation: <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/invocation/Gradle.html#getIncludedBuilds--\" rel=\"nofollow noreferrer\">docs.gradle.org/current/javadoc/org/gradle/api/invocation/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6878716,"reputation":716,"user_id":5286240,"display_name":"DreadfulWeather"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661867470,"creation_date":1661867470,"answer_id":73543601,"question_id":73543552,"body_markdown":"You can try to invalidate caches and restart option on intellij","title":"Gradle on Intellij not syncing","body":"<p>You can try to invalidate caches and restart option on intellij</p>\n"},{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661871304,"creation_date":1661871304,"answer_id":73544511,"question_id":73543552,"body_markdown":"try `File-&gt;Invalidate Caches` from your IDE or you can Delete `.idea` file from your src folder and run the project again.","title":"Gradle on Intellij not syncing","body":"<p>try <code>File-&gt;Invalidate Caches</code> from your IDE or you can Delete <code>.idea</code> file from your src folder and run the project again.</p>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661943841,"creation_date":1661943841,"answer_id":73554925,"question_id":73543552,"body_markdown":"The [getIncludedBuilds](https://docs.gradle.org/current/javadoc/org/gradle/api/invocation/Gradle.html#getIncludedBuilds--) method is supported only since Gradle 3.1 version as documentation shows.","title":"Gradle on Intellij not syncing","body":"<p>The <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/invocation/Gradle.html#getIncludedBuilds--\" rel=\"nofollow noreferrer\">getIncludedBuilds</a> method is supported only since Gradle 3.1 version as documentation shows.</p>\n"}],"owner":{"account_id":19988739,"reputation":19,"user_id":14650291,"display_name":"user14650291"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1661943841,"creation_date":1661867230,"question_id":73543552,"body_markdown":"Hope you guys are having a nice day!\r\n\r\nI am currently working on a project which uses an Older version of Gradle, specifically Gradle 3.0. Hence, I installed the older version and in Intellij set it as the source in Gradle Settings. However, after that was done, I clicked build and it immediately started downloading index files. And as soon as it was done downloading it brought up the following error code:\r\n\r\n   \r\n\r\n     Unable to find method &#39;org.gradle.api.invocation.Gradle.getIncludedBuilds()Ljava/util/Collection;&#39;\r\n    org.gradle.api.invocation.Gradle.getIncludedBuilds()Ljava/util/Collection;\r\n    \r\n    Gradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n    \r\n    Re-download dependencies and sync project (requires network)\r\n    The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\n    \r\n    Stop Gradle build processes (requires restart)\r\n    Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n    \r\n    In the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\r\n\r\nI then went on to Re-Download as it advices, and similarly restart but after building the project again, it gives the same error. \r\n\r\nI really don&#39;t know where I am going wrong. I have attached an image of what my gradle settings look like and an image of my IDE. \r\n\r\nAlso out of curiosity, as you can see in the images, in the project directory: There are so many gradle version, what could those mean? It went from 2.14 to 7.5.1 like automatically? I have no idea why. \r\n\r\nAny help would be greatly appreciated!! Thank you Again!\r\n[![My IDE:][1]][1][![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x04bI.jpg\r\n  [2]: https://i.stack.imgur.com/NccTK.jpg","title":"Gradle on Intellij not syncing","body":"<p>Hope you guys are having a nice day!</p>\n<p>I am currently working on a project which uses an Older version of Gradle, specifically Gradle 3.0. Hence, I installed the older version and in Intellij set it as the source in Gradle Settings. However, after that was done, I clicked build and it immediately started downloading index files. And as soon as it was done downloading it brought up the following error code:</p>\n<pre><code> Unable to find method 'org.gradle.api.invocation.Gradle.getIncludedBuilds()Ljava/util/Collection;'\norg.gradle.api.invocation.Gradle.getIncludedBuilds()Ljava/util/Collection;\n\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\n\nRe-download dependencies and sync project (requires network)\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\n\nStop Gradle build processes (requires restart)\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\n\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\n</code></pre>\n<p>I then went on to Re-Download as it advices, and similarly restart but after building the project again, it gives the same error.</p>\n<p>I really don't know where I am going wrong. I have attached an image of what my gradle settings look like and an image of my IDE.</p>\n<p>Also out of curiosity, as you can see in the images, in the project directory: There are so many gradle version, what could those mean? It went from 2.14 to 7.5.1 like automatically? I have no idea why.</p>\n<p>Any help would be greatly appreciated!! Thank you Again!\n<a href=\"https://i.stack.imgur.com/x04bI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x04bI.jpg\" alt=\"My IDE:\" /></a><a href=\"https://i.stack.imgur.com/NccTK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NccTK.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-spark","dictionary","apache-spark-encoders"],"comments":[{"owner":{"account_id":24201887,"reputation":930,"user_id":18159603,"display_name":"leleogere"},"score":1,"creation_date":1661938968,"post_id":73553522,"comment_id":129888994,"body_markdown":"In scala you can use the handful `org.apache.spark.sql.catalyst.encoders.ExpressionEncoder()`, but it looks like it&#39;s a bit more complicated in java. You might find something useful [here](https://echauchot.blogspot.com/2020/03/how-to-create-custom-spark-encoder-in.html)","body":"In scala you can use the handful <code>org.apache.spark.sql.catalyst.encoders.ExpressionEncoder()</code>, but it looks like it&#39;s a bit more complicated in java. You might find something useful <a href=\"https://echauchot.blogspot.com/2020/03/how-to-create-custom-spark-encoder-in.html\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":24201887,"reputation":930,"user_id":18159603,"display_name":"leleogere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661943561,"creation_date":1661938245,"answer_id":73553768,"question_id":73553522,"body_markdown":"This is not exactly an answer, but if someone came here with the same question but in Scala instead of Java, they can use the `ExpressionEncoder`:\r\n```scala\r\nimport org.apache.spark.sql.catalyst.encoders.ExpressionEncoder\r\n\r\n// ...\r\n\r\ndef outputEncoder: Encoder[Map[String, Int]] = ExpressionEncoder()\r\n```\r\n\r\nFor the original question in Java, [this link](https://echauchot.blogspot.com/2020/03/how-to-create-custom-spark-encoder-in.html) about how to write a custom encoder might help.","title":"Is there an Encoder for Map type in Java Spark?","body":"<p>This is not exactly an answer, but if someone came here with the same question but in Scala instead of Java, they can use the <code>ExpressionEncoder</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.catalyst.encoders.ExpressionEncoder\n\n// ...\n\ndef outputEncoder: Encoder[Map[String, Int]] = ExpressionEncoder()\n</code></pre>\n<p>For the original question in Java, <a href=\"https://echauchot.blogspot.com/2020/03/how-to-create-custom-spark-encoder-in.html\" rel=\"nofollow noreferrer\">this link</a> about how to write a custom encoder might help.</p>\n"}],"owner":{"account_id":25604956,"reputation":31,"user_id":19379221,"display_name":"Nguyễn Hải H&#224;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73553768,"answer_count":1,"score":2,"last_activity_date":1661943561,"creation_date":1661937021,"question_id":73553522,"body_markdown":"I am trying to create a custom Aggregator function producing a Map as the result, however it requires an Encoders. As referenced in\r\n&lt;https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Encoders.html&gt;, there isn&#39;t one for now.\r\n\r\nDoes anyone know a workaround for this? \r\nThank you in advance!","title":"Is there an Encoder for Map type in Java Spark?","body":"<p>I am trying to create a custom Aggregator function producing a Map as the result, however it requires an Encoders. As referenced in\n<a href=\"https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Encoders.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Encoders.html</a>, there isn't one for now.</p>\n<p>Does anyone know a workaround for this?\nThank you in advance!</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":10424016,"reputation":872,"user_id":7685891,"display_name":"karthiks3000"},"score":0,"creation_date":1600117098,"post_id":40993753,"comment_id":112981528,"body_markdown":"Were you able to resolve this? I&#39;ve encountered the same issue where I think some of the events don&#39;t get processed because the watermark doesnt move forward","body":"Were you able to resolve this? I&#39;ve encountered the same issue where I think some of the events don&#39;t get processed because the watermark doesnt move forward"}],"answers":[{"tags":[],"owner":{"account_id":4432837,"reputation":18757,"user_id":3609571,"display_name":"Fabian Hueske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481154363,"creation_date":1481154363,"answer_id":41029405,"question_id":40993753,"body_markdown":"The `BoundedOutOfOrdernessTimestampExtractor` implements the `AssignerWithPeriodicWatermarks` interface, which means that Flink periodically queries the current watermark.\r\n\r\nYou have to configure the polling interval via the `ExecutionConfig`:\r\n\r\n    env.getConfig.setAutoWatermarkInterval(1000L); // poll watermark every second","title":"Flink streaming program runs correctly with processing time, but will not produce results with event time","body":"<p>The <code>BoundedOutOfOrdernessTimestampExtractor</code> implements the <code>AssignerWithPeriodicWatermarks</code> interface, which means that Flink periodically queries the current watermark.</p>\n\n<p>You have to configure the polling interval via the <code>ExecutionConfig</code>:</p>\n\n<pre><code>env.getConfig.setAutoWatermarkInterval(1000L); // poll watermark every second\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9810403,"reputation":36,"user_id":7268795,"display_name":"Dave Torok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481229545,"creation_date":1481229545,"answer_id":41048411,"question_id":40993753,"body_markdown":"My first inclination is always to assume a TimeZone issue.\r\n\r\nWhat is the timezone of the `&quot;EventReceivedTime&quot;` field in your kafka payload?\r\n\r\nSimpleDateFormat will parse in the LOCAL JVM time zone:\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-ddHH:mm:ss&quot;,Locale.ENGLISH);\r\n\r\nyou can add\r\n\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\nto parse your string as GMT, for example, if that is what the text represents.  You should make sure that the timezone/offset of all your dates, watermarks, etc. match, and are all compared in UTC / epoch time (which is what you get once you extract the Long out of it).","title":"Flink streaming program runs correctly with processing time, but will not produce results with event time","body":"<p>My first inclination is always to assume a TimeZone issue.</p>\n\n<p>What is the timezone of the <code>\"EventReceivedTime\"</code> field in your kafka payload?</p>\n\n<p>SimpleDateFormat will parse in the LOCAL JVM time zone:</p>\n\n<pre><code>DateFormat format = new SimpleDateFormat(\"yyyy-MM-ddHH:mm:ss\",Locale.ENGLISH);\n</code></pre>\n\n<p>you can add</p>\n\n<pre><code>format.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n</code></pre>\n\n<p>to parse your string as GMT, for example, if that is what the text represents.  You should make sure that the timezone/offset of all your dates, watermarks, etc. match, and are all compared in UTC / epoch time (which is what you get once you extract the Long out of it).</p>\n"},{"tags":[],"owner":{"account_id":1950733,"reputation":669,"user_id":1754879,"accept_rate":17,"display_name":"Keith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661942462,"creation_date":1661942462,"answer_id":73554677,"question_id":40993753,"body_markdown":"@JayaAnanthram, yes, it works if  ```setAutoWatermarkInterval``` after  ```setStreamTimeCharacteristic```. Reason is ```setStreamTimeCharacteristic``` will override the value set by ```setAutoWatermarkInterval``` according to code :   \r\n\r\n    public void setStreamTimeCharacteristic(TimeCharacteristic characteristic) {\r\n        this.timeCharacteristic = Preconditions.checkNotNull(characteristic);\r\n        if (characteristic == TimeCharacteristic.ProcessingTime) {\r\n            getConfig().setAutoWatermarkInterval(0);\r\n        } else {\r\n            getConfig().setAutoWatermarkInterval(200);\r\n        }\r\n    }\r\n","title":"Flink streaming program runs correctly with processing time, but will not produce results with event time","body":"<p>@JayaAnanthram, yes, it works if  <code>setAutoWatermarkInterval</code> after  <code>setStreamTimeCharacteristic</code>. Reason is <code>setStreamTimeCharacteristic</code> will override the value set by <code>setAutoWatermarkInterval</code> according to code :</p>\n<pre><code>public void setStreamTimeCharacteristic(TimeCharacteristic characteristic) {\n    this.timeCharacteristic = Preconditions.checkNotNull(characteristic);\n    if (characteristic == TimeCharacteristic.ProcessingTime) {\n        getConfig().setAutoWatermarkInterval(0);\n    } else {\n        getConfig().setAutoWatermarkInterval(200);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9700019,"reputation":11,"user_id":7195301,"display_name":"andrew.kane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1661942462,"creation_date":1481022119,"question_id":40993753,"body_markdown":"**Update**\r\nadded \r\n`env.getConfig().setAutoWatermarkInterval(1000L);`\r\n\r\ndid not fix the problem.\r\n\r\nI guess the problem lies in another part of my code. So firstly a little more background.\r\n\r\nThe program consumes a JSON stream of mixed message types from a single kafka queue. the program converts initially into a stream of type `ObjectNode`. this stream is then split down using `.split()` in to around 10 separate streams. these streams are mapped to streams of POJOs.\r\n\r\nthese POJO streams are then assigned time stamps, before being added to a window, (1 window per stream of POJO type), keyed by and then summed and averaged within a custom fuction, before being sent back to another kafka queue.\r\n\r\n**Expanded code Example**\r\n\r\n    public class flinkkafka {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t//create object mapper to allow object to JSON transform\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tfinal String OUTPUT_QUEUE = &quot;test&quot;;\r\n\t\t//setup streaming environment\r\n\t\tStreamExecutionEnvironment env =    \r\n             StreamExecutionEnvironment\r\n                  .getExecutionEnvironment();\r\n\t\t\r\n\t\t//set streaming environment variables from command line\r\n\t\tParameterTool parameterTool = ParameterTool.fromArgs(args);\r\n\t\t\r\n\t\t//set time characteristic to EventTime\r\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n\t\t\r\n\t\t//set watermark polling interval\r\n\t\tenv.getConfig().setAutoWatermarkInterval(1000L);\r\n\t\t\r\n\t\t//Enable checkpoints to allow for graceful recovery\r\n\t\tenv.enableCheckpointing(1000);\r\n\t\t\r\n\t\t//set parallelism\r\n\t\tenv.setParallelism(1);\r\n\t\t\r\n\t\t//create an initial data stream of mixed messages\r\n\t\tDataStream&lt;ObjectNode&gt; messageStream = env.addSource\r\n\t\t\t\t(new FlinkKafkaConsumer09&lt;&gt;(\r\n\t\t\t\t\t\tparameterTool.getRequired(&quot;topic&quot;), \r\n\t\t\t\t\t\tnew JSONDeserializationSchema(),\r\n                        parameterTool.getProperties())) \r\n\t\t\t\t\t\t  .assignTimestampsAndWatermarks(new\r\n                          BoundedOutOfOrdernessTimestampExtractor&lt;ObjectNode&gt;\r\n                          (Time.seconds(10)){\r\n\t\t\t\t\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic long extractTimestamp(ObjectNode value) {\r\n\t\t\t\t\t\t\t\tDateFormat format = new SimpleDateFormat(&quot;yyyy-\r\n                                 MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n\t\t\t\t\t\t\t\tlong tmp = 0L;\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\ttmp = \r\n                                   format.parse(value.get(&quot;EventReceivedTime&quot;)\r\n                                        .asText()).getTime();\r\n\t\t\t\t\t\t\t\t} catch (ParseException e) {\r\n\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Assigning timestamp &quot; + \r\n                                   tmp);\r\n\t\t\t\t\t\t\t\treturn tmp;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\r\n\t\t//split stream by message type\r\n\t\tSplitStream&lt;ObjectNode&gt; split = messageStream.split(new  \r\n                   OutputSelector&lt;ObjectNode&gt;(){\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Iterable&lt;String&gt; select(ObjectNode value){\r\n\t\t\t\tList&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n\t\t\t\tswitch (value.get(&quot;name&quot;).asText()){\r\n\t\t\t\tcase &quot;one&quot;:\r\n\t\t\t\t\tswitch (value.get(&quot;info&quot;).asText()){\r\n\t\t\t\t\tcase &quot;two&quot;:\r\n\t\t\t\t\t\toutput.add(&quot;info&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sending message to two\r\n                              stream&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &quot;three&quot;:\r\n\t\t\t\t\t\toutput.add(&quot;three&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sending message to three stream&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &quot;four&quot;:\r\n\t\t\t\t\t\toutput.add(&quot;four&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sending message to four stream&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &quot;five&quot;:\r\n\t\t\t\t\t\toutput.add(&quot;five&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sending message to five stream&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &quot;six&quot;:\r\n\t\t\t\t\t\toutput.add(&quot;six&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sending message to six stream&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;seven&quot;:\r\n\t\t\t\t\toutput.add(&quot;seven&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Sending message to seven stream&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;eight&quot;:\r\n\t\t\t\t\toutput.add(&quot;eight&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Sending message to eight stream&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;nine&quot;:\r\n\t\t\t\t\toutput.add(&quot;nine&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Sending message to nine stream&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;ten&quot;:\r\n\t\t\t\t\tswitch (value.get(&quot;info&quot;).asText()){\r\n\t\t\t\t\tcase &quot;eleven&quot;:\r\n\t\t\t\t\t\toutput.add(&quot;eleven&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sending message to eleven stream&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &quot;twelve&quot;:\r\n\t\t\t\t\t\toutput.add(&quot;twelve&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sending message to twelve stream&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\toutput.add(&quot;failed&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn output;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t//assign splits to new data streams\r\n\t\tDataStream&lt;ObjectNode&gt; two = split.select(&quot;two&quot;);\r\n\t\t//assigning more splits to streams\r\n\t\t\r\n\t\t//convert ObjectNodes to POJO \r\n\t\t\r\n\t\tDataStream&lt;Two&gt; twoStream = two.map(new MapFunction&lt;ObjectNode, Two&gt;(){\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic Twomap(ObjectNode value) throws Exception {\r\n\t\t\t\tTwo stream = new Two();\r\n\t\t\t\tstream.Time = value.get(&quot;Time&quot;).asText();\r\n\t\t\t\tstream.value = value.get(&quot;value&quot;).asLong();\r\n\t\t\t\treturn front;\r\n\t\t\t}\r\n\t\t});\r\n\r\n        DataStream&lt;String&gt; keyedTwo = twoStream\r\n\t\t\t\t.keyBy(&quot;name&quot;)\r\n\t\t\t\t.timeWindow(Time.minutes(5))\r\n\t\t\t\t.apply(new twoSum())\r\n\t\t\t\t.map(new MapFunction&lt;Two, String&gt;(){\r\n\t\t\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String map(Two value) throws Exception {\r\n\t\t\t\t\t\treturn mapper.writeValueAsString(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\tkeyedTwo.addSink(new FlinkKafkaProducer09&lt;String&gt;\r\n             (parameterTool.getRequired(&quot;bootstrap.servers&quot;),\r\n                     OUTPUT_QUEUE, new SimpleStringSchema()));\r\n\r\n        env.execute();\r\nI am attempting to use Flink to aggregate a Kafka queue and push the data stream back to Kafka. The aggregation will use a 5 minute Event time window, the program compiles and runs but the collected data never leaves the window to be passed to the aggregation function and so never delivers messages to Kafka. However if i comment out the eventTime characteristic the the program runs and produces results. I have no idea where I am going wrong.\r\n\r\nEventTime Code\r\n\r\n    StreamExecutionEnvironment env = \r\n        StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n    ParameterTool parameterTool = ParameterTool.fromArgs(args);\r\n\r\n    env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n\r\n    env.enableCheckpointing(1000);\r\n  \r\n    DataStream&lt;FrontEnd&gt; frontEndStream = frontEnd.map(new\r\n        MapFunction&lt;ObjectNode, FrontEnd&gt;(){\r\n\r\n            private static final long serialVersionUID = 1L;\r\n\r\n            @Override\r\n            public FrontEnd map(ObjectNode value) throws Exception {\r\n            FrontEnd front = new FrontEnd();\r\n            front.eventTime = value.get(&quot;EventReceivedTime&quot;).asText();\r\n            return front;\r\n            }\r\n        }).assignTimestampsAndWatermarks(new\r\n            BoundedOutOfOrdernessTimestampExtractor&lt;FrontEnd&gt;(Time.seconds(10)){\r\n                private static final long serialVersionUID = 1L;\r\n                @Override\r\n                public long extractTimestamp(FrontEnd value) {\r\n                    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-\r\n                        ddHH:mm:ss&quot;,Locale.ENGLISH);\r\n                    long tmp = 0L;\r\n                    try {\r\n\t\t\t\t\ttmp = format.parse(value.eventTime).getTime();\r\n\t\t\t\t} catch (ParseException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\treturn tmp;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\r\n        DataStream&lt;String&gt; keyedFrontEnd = frontEndStream\r\n            .keyBy(&quot;name&quot;)\r\n            .timeWindow(Time.minutes(5))\r\n            .apply(new FrontEndSum())\r\n            .map(new MapFunction&lt;FrontEnd, String&gt;(){\r\n\t\t\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String map(FrontEnd value) throws Exception {\r\n\t\t\t\t\t\treturn mapper.writeValueAsString(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n       .map(new MapFunction&lt;FrontEnd, String&gt;(){\r\n\t\t\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String map(FrontEnd value) throws Exception {\r\n\t\t\t\t\t\treturn mapper.writeValueAsString(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n        keyedFrontEnd.addSink(new FlinkKafkaProducer09&lt;String&gt;\r\n        (parameterTool.getRequired(&quot;bootstrap.servers&quot;), OUTPUT_QUEUE, new \r\n        SimpleStringSchema()));  \r\n        \r\n        env.execute();\r\n        }\r\n    }\r\n\r\nI have tried with the time stamp extractor attached to the incoming stream and with one attached to each of the POJO streams. Again this code runs with event time and produces the expected result of a stream of JSON strings with the expected aggregations. However once event time is enabled the windows never produce a result\t","title":"Flink streaming program runs correctly with processing time, but will not produce results with event time","body":"<p><strong>Update</strong>\nadded \n<code>env.getConfig().setAutoWatermarkInterval(1000L);</code></p>\n\n<p>did not fix the problem.</p>\n\n<p>I guess the problem lies in another part of my code. So firstly a little more background.</p>\n\n<p>The program consumes a JSON stream of mixed message types from a single kafka queue. the program converts initially into a stream of type <code>ObjectNode</code>. this stream is then split down using <code>.split()</code> in to around 10 separate streams. these streams are mapped to streams of POJOs.</p>\n\n<p>these POJO streams are then assigned time stamps, before being added to a window, (1 window per stream of POJO type), keyed by and then summed and averaged within a custom fuction, before being sent back to another kafka queue.</p>\n\n<p><strong>Expanded code Example</strong></p>\n\n<pre><code>public class flinkkafka {\n\npublic static void main(String[] args) throws Exception {\n    //create object mapper to allow object to JSON transform\n    final ObjectMapper mapper = new ObjectMapper();\n    final String OUTPUT_QUEUE = \"test\";\n    //setup streaming environment\n    StreamExecutionEnvironment env =    \n         StreamExecutionEnvironment\n              .getExecutionEnvironment();\n\n    //set streaming environment variables from command line\n    ParameterTool parameterTool = ParameterTool.fromArgs(args);\n\n    //set time characteristic to EventTime\n    env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n\n    //set watermark polling interval\n    env.getConfig().setAutoWatermarkInterval(1000L);\n\n    //Enable checkpoints to allow for graceful recovery\n    env.enableCheckpointing(1000);\n\n    //set parallelism\n    env.setParallelism(1);\n\n    //create an initial data stream of mixed messages\n    DataStream&lt;ObjectNode&gt; messageStream = env.addSource\n            (new FlinkKafkaConsumer09&lt;&gt;(\n                    parameterTool.getRequired(\"topic\"), \n                    new JSONDeserializationSchema(),\n                    parameterTool.getProperties())) \n                      .assignTimestampsAndWatermarks(new\n                      BoundedOutOfOrdernessTimestampExtractor&lt;ObjectNode&gt;\n                      (Time.seconds(10)){\n                        private static final long serialVersionUID = 1L;\n\n                        @Override\n                        public long extractTimestamp(ObjectNode value) {\n                            DateFormat format = new SimpleDateFormat(\"yyyy-\n                             MM-dd HH:mm:ss\", Locale.ENGLISH);\n                            long tmp = 0L;\n                            try {\n                                tmp = \n                               format.parse(value.get(\"EventReceivedTime\")\n                                    .asText()).getTime();\n                            } catch (ParseException e) {\n                                e.printStackTrace();\n                            }\n                            System.out.println(\"Assigning timestamp \" + \n                               tmp);\n                            return tmp;\n                        }\n\n                    });\n\n    //split stream by message type\n    SplitStream&lt;ObjectNode&gt; split = messageStream.split(new  \n               OutputSelector&lt;ObjectNode&gt;(){\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public Iterable&lt;String&gt; select(ObjectNode value){\n            List&lt;String&gt; output = new ArrayList&lt;String&gt;();\n            switch (value.get(\"name\").asText()){\n            case \"one\":\n                switch (value.get(\"info\").asText()){\n                case \"two\":\n                    output.add(\"info\");\n                    System.out.println(\"Sending message to two\n                          stream\");\n                    break;\n                case \"three\":\n                    output.add(\"three\");\n                    System.out.println(\"Sending message to three stream\");\n                    break;\n                case \"four\":\n                    output.add(\"four\");\n                    System.out.println(\"Sending message to four stream\");\n                    break;\n                case \"five\":\n                    output.add(\"five\");\n                    System.out.println(\"Sending message to five stream\");\n                    break;\n                case \"six\":\n                    output.add(\"six\");\n                    System.out.println(\"Sending message to six stream\");\n                    break;\n                default:\n                    break;\n                }\n                break;\n            case \"seven\":\n                output.add(\"seven\");\n                System.out.println(\"Sending message to seven stream\");\n                break;\n            case \"eight\":\n                output.add(\"eight\");\n                System.out.println(\"Sending message to eight stream\");\n                break;\n            case \"nine\":\n                output.add(\"nine\");\n                System.out.println(\"Sending message to nine stream\");\n                break;\n            case \"ten\":\n                switch (value.get(\"info\").asText()){\n                case \"eleven\":\n                    output.add(\"eleven\");\n                    System.out.println(\"Sending message to eleven stream\");\n                    break;\n                case \"twelve\":\n                    output.add(\"twelve\");\n                    System.out.println(\"Sending message to twelve stream\");\n                    break;\n                default:\n                    break;\n                }\n                break;\n            default:\n                output.add(\"failed\");\n                break;\n            }\n            return output;\n        }\n    });\n\n    //assign splits to new data streams\n    DataStream&lt;ObjectNode&gt; two = split.select(\"two\");\n    //assigning more splits to streams\n\n    //convert ObjectNodes to POJO \n\n    DataStream&lt;Two&gt; twoStream = two.map(new MapFunction&lt;ObjectNode, Two&gt;(){\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public Twomap(ObjectNode value) throws Exception {\n            Two stream = new Two();\n            stream.Time = value.get(\"Time\").asText();\n            stream.value = value.get(\"value\").asLong();\n            return front;\n        }\n    });\n\n    DataStream&lt;String&gt; keyedTwo = twoStream\n            .keyBy(\"name\")\n            .timeWindow(Time.minutes(5))\n            .apply(new twoSum())\n            .map(new MapFunction&lt;Two, String&gt;(){\n                private static final long serialVersionUID = 1L;\n                @Override\n                public String map(Two value) throws Exception {\n                    return mapper.writeValueAsString(value);\n                }\n            });\n    keyedTwo.addSink(new FlinkKafkaProducer09&lt;String&gt;\n         (parameterTool.getRequired(\"bootstrap.servers\"),\n                 OUTPUT_QUEUE, new SimpleStringSchema()));\n\n    env.execute();\n</code></pre>\n\n<p>I am attempting to use Flink to aggregate a Kafka queue and push the data stream back to Kafka. The aggregation will use a 5 minute Event time window, the program compiles and runs but the collected data never leaves the window to be passed to the aggregation function and so never delivers messages to Kafka. However if i comment out the eventTime characteristic the the program runs and produces results. I have no idea where I am going wrong.</p>\n\n<p>EventTime Code</p>\n\n<pre><code>StreamExecutionEnvironment env = \n    StreamExecutionEnvironment.getExecutionEnvironment();\n\nParameterTool parameterTool = ParameterTool.fromArgs(args);\n\nenv.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n\nenv.enableCheckpointing(1000);\n\nDataStream&lt;FrontEnd&gt; frontEndStream = frontEnd.map(new\n    MapFunction&lt;ObjectNode, FrontEnd&gt;(){\n\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public FrontEnd map(ObjectNode value) throws Exception {\n        FrontEnd front = new FrontEnd();\n        front.eventTime = value.get(\"EventReceivedTime\").asText();\n        return front;\n        }\n    }).assignTimestampsAndWatermarks(new\n        BoundedOutOfOrdernessTimestampExtractor&lt;FrontEnd&gt;(Time.seconds(10)){\n            private static final long serialVersionUID = 1L;\n            @Override\n            public long extractTimestamp(FrontEnd value) {\n                DateFormat format = new SimpleDateFormat(\"yyyy-MM-\n                    ddHH:mm:ss\",Locale.ENGLISH);\n                long tmp = 0L;\n                try {\n                tmp = format.parse(value.eventTime).getTime();\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n            return tmp;\n        }\n\n    });\n\n    DataStream&lt;String&gt; keyedFrontEnd = frontEndStream\n        .keyBy(\"name\")\n        .timeWindow(Time.minutes(5))\n        .apply(new FrontEndSum())\n        .map(new MapFunction&lt;FrontEnd, String&gt;(){\n                private static final long serialVersionUID = 1L;\n                @Override\n                public String map(FrontEnd value) throws Exception {\n                    return mapper.writeValueAsString(value);\n                }\n            });\n   .map(new MapFunction&lt;FrontEnd, String&gt;(){\n                private static final long serialVersionUID = 1L;\n                @Override\n                public String map(FrontEnd value) throws Exception {\n                    return mapper.writeValueAsString(value);\n                }\n            });\n    keyedFrontEnd.addSink(new FlinkKafkaProducer09&lt;String&gt;\n    (parameterTool.getRequired(\"bootstrap.servers\"), OUTPUT_QUEUE, new \n    SimpleStringSchema()));  \n\n    env.execute();\n    }\n}\n</code></pre>\n\n<p>I have tried with the time stamp extractor attached to the incoming stream and with one attached to each of the POJO streams. Again this code runs with event time and produces the expected result of a stream of JSON strings with the expected aggregations. However once event time is enabled the windows never produce a result   </p>\n"},{"tags":["java","spring-boot","jackson","lombok"],"comments":[{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1548242282,"post_id":54325806,"comment_id":95470412,"body_markdown":"See [here](https://stackoverflow.com/questions/18805455/setting-default-values-to-null-fields-when-mapping-with-jackson)","body":"See <a href=\"https://stackoverflow.com/questions/18805455/setting-default-values-to-null-fields-when-mapping-with-jackson\">here</a>"},{"owner":{"account_id":10655561,"reputation":482,"user_id":10867487,"display_name":"Echoinacup"},"score":0,"creation_date":1548242386,"post_id":54325806,"comment_id":95470465,"body_markdown":"It is strange that the age field is initialized but as far as I understand in the response it is missing","body":"It is strange that the age field is initialized but as far as I understand in the response it is missing"}],"answers":[{"tags":[],"owner":{"account_id":247786,"reputation":343,"user_id":1635229,"accept_rate":50,"display_name":"kevinjom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548242647,"creation_date":1548242647,"answer_id":54326146,"question_id":54325806,"body_markdown":"One approach is to make you `setAge` to handle the `null` case, for example:\r\n\r\n```\r\n void setAge(Integer age){\r\n   if(age!=null) this.age = age;\r\n }\r\n```\r\n\r\nOr you can have a look at `@JsonSetter(nulls=Nulls.SKIP)`, I just looked at the source code, I haven&#39;t tried :(\r\n\r\nHope that helps.\r\n\r\n","title":"How do you specify default values for Jackson deserialization","body":"<p>One approach is to make you <code>setAge</code> to handle the <code>null</code> case, for example:</p>\n\n<pre><code> void setAge(Integer age){\n   if(age!=null) this.age = age;\n }\n</code></pre>\n\n<p>Or you can have a look at <code>@JsonSetter(nulls=Nulls.SKIP)</code>, I just looked at the source code, I haven't tried :(</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1548244543,"creation_date":1548242754,"answer_id":54326175,"question_id":54325806,"body_markdown":"You can define a custom getter property where setting your default value in case of `null`.\r\n\r\n       public Integer getAge() {\r\n            if (age == null) {\r\n                return 18;\r\n            } else {\r\n                return this.age;\r\n            }\r\n        }\r\n\r\nNote that you can&#39;t change the `setAge` method because it is not invoked in this case, infact there is no `age` field that will inform Jackson to call that method.\r\n\r\n----\r\n\r\nAn alternative is to use a custom constructor and use the [`JsonSetter`][1] annotation with the value [`Nulls.SKIP`][2]\r\n\r\n&gt; Value that indicates that an input null value should be skipped and no assignment is to be made; **this usually means that the property will have its default value**.\r\n\r\nas follow:\r\n\r\n     public class User {\r\n        @JsonSetter(nulls = Nulls.SKIP)\r\n        private Integer age;\r\n\r\n        public User() {\r\n            this.age = 18;\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\n---\r\n\r\nThe `@JsonSetter` is present in package `com.fasterxml.jackson.annotation` and can be imported as dependency in maven using\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;YOURVERSION&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.0.0/com/fasterxml/jackson/annotation/JsonSetter.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP\r\n","title":"How do you specify default values for Jackson deserialization","body":"<p>You can define a custom getter property where setting your default value in case of <code>null</code>.</p>\n\n<pre><code>   public Integer getAge() {\n        if (age == null) {\n            return 18;\n        } else {\n            return this.age;\n        }\n    }\n</code></pre>\n\n<p>Note that you can't change the <code>setAge</code> method because it is not invoked in this case, infact there is no <code>age</code> field that will inform Jackson to call that method.</p>\n\n<hr>\n\n<p>An alternative is to use a custom constructor and use the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.0.0/com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"noreferrer\"><code>JsonSetter</code></a> annotation with the value <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP\" rel=\"noreferrer\"><code>Nulls.SKIP</code></a></p>\n\n<blockquote>\n  <p>Value that indicates that an input null value should be skipped and no assignment is to be made; <strong>this usually means that the property will have its default value</strong>.</p>\n</blockquote>\n\n<p>as follow:</p>\n\n<pre><code> public class User {\n    @JsonSetter(nulls = Nulls.SKIP)\n    private Integer age;\n\n    public User() {\n        this.age = 18;\n    }\n\n    ...\n}\n</code></pre>\n\n<hr>\n\n<p>The <code>@JsonSetter</code> is present in package <code>com.fasterxml.jackson.annotation</code> and can be imported as dependency in maven using</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;YOURVERSION&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4693037,"reputation":492,"user_id":3798662,"display_name":"Sunil Garg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649239873,"creation_date":1629822088,"answer_id":68910831,"question_id":54325806,"body_markdown":"Use the [`JsonSetter`][1] annotation with the value [`Nulls.SKIP`][2]\r\n\r\n&gt; Value that indicates that an input null value should be skipped and the default assignment is to be made; **this usually means that the property will have its default value**.\r\n\r\nAs follows:\r\n```java\r\n     public class User {\r\n        @JsonSetter(nulls = Nulls.SKIP)\r\n        private Integer Score = 1000;\r\n        ...\r\n    }\r\n```\r\n\r\n---\r\nusually, if you don&#39;t use `@JsonSetter(nulls = Nulls.SKIP)` then the default value will be initialized if there is no value coming in JSON, but if someone explicitly put a null then it can lead to problem. Using `@JsonSetter(nulls = Nulls.SKIP)` will tell the Json de-searilizer to avoid `null` initialization.\r\n\r\n&lt;br&gt;\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.0.0/com/fasterxml/jackson/annotation/JsonSetter.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP\r\n","title":"How do you specify default values for Jackson deserialization","body":"<p>Use the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.0.0/com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"nofollow noreferrer\"><code>JsonSetter</code></a> annotation with the value <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP\" rel=\"nofollow noreferrer\"><code>Nulls.SKIP</code></a></p>\n<blockquote>\n<p>Value that indicates that an input null value should be skipped and the default assignment is to be made; <strong>this usually means that the property will have its default value</strong>.</p>\n</blockquote>\n<p>As follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     public class User {\n        @JsonSetter(nulls = Nulls.SKIP)\n        private Integer Score = 1000;\n        ...\n    }\n</code></pre>\n<hr />\n<p>usually, if you don't use <code>@JsonSetter(nulls = Nulls.SKIP)</code> then the default value will be initialized if there is no value coming in JSON, but if someone explicitly put a null then it can lead to problem. Using <code>@JsonSetter(nulls = Nulls.SKIP)</code> will tell the Json de-searilizer to avoid <code>null</code> initialization.</p>\n<br>\n"}],"owner":{"account_id":11670627,"reputation":115,"user_id":8545825,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21849,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54326175,"answer_count":3,"score":5,"last_activity_date":1661941955,"creation_date":1548241562,"question_id":54325806,"body_markdown":"    @ResponseBody\r\n    @RequestMapping(value=&quot;/getUser&quot;)\r\n    public JSONObject getContent(@ReqeustBody User user) \r\nUp here is my Controller code.\r\n\r\n    @Data\r\n    public class User{\r\n        private String username = &quot;administrator&quot;;\r\n        private String password = &quot;123456&quot;;   \r\n        private Integer age = 18;\r\n    }\r\nUp here is my `User` class code.\r\n\r\n    {\r\n        &quot;username&quot;:&quot;admin&quot;,\r\n        &quot;password&quot;:&quot;000&quot;,\r\n        &quot;age&quot;:&quot;&quot;\r\n    }\r\n\r\nWhen I `POST` the `JSON` above, I get the `age` property to be `null`.\r\n \r\nI want `Jackson` to deserialize the empty fields (`&quot;&quot;` or `null`) in `JSON` with default values. \r\n\r\nLike this: \r\n\r\n    {\r\n        &quot;username&quot;:&quot;admin&quot;,\r\n        &quot;password&quot;:&quot;000&quot;,\r\n        &quot;age&quot;:18\r\n    }\r\nWhat should I do?\r\n","title":"How do you specify default values for Jackson deserialization","body":"<pre><code>@ResponseBody\n@RequestMapping(value=\"/getUser\")\npublic JSONObject getContent(@ReqeustBody User user) \n</code></pre>\n\n<p>Up here is my Controller code.</p>\n\n<pre><code>@Data\npublic class User{\n    private String username = \"administrator\";\n    private String password = \"123456\";   \n    private Integer age = 18;\n}\n</code></pre>\n\n<p>Up here is my <code>User</code> class code.</p>\n\n<pre><code>{\n    \"username\":\"admin\",\n    \"password\":\"000\",\n    \"age\":\"\"\n}\n</code></pre>\n\n<p>When I <code>POST</code> the <code>JSON</code> above, I get the <code>age</code> property to be <code>null</code>.</p>\n\n<p>I want <code>Jackson</code> to deserialize the empty fields (<code>\"\"</code> or <code>null</code>) in <code>JSON</code> with default values. </p>\n\n<p>Like this: </p>\n\n<pre><code>{\n    \"username\":\"admin\",\n    \"password\":\"000\",\n    \"age\":18\n}\n</code></pre>\n\n<p>What should I do?</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"score":0,"creation_date":1661670375,"post_id":73516601,"comment_id":129823599,"body_markdown":"`arr.get(abs_val - 1) = -arr.get(abs_val - 1);` is actually wrong because here you are actually saying like **5 = -3** which is wrong , because lValue is indeed a value not a variable , use `arr.set(index, value);` instead , also from the code , in the prototype of the function , you are supposed to return a list but in the implementation you are returning integer","body":"<code>arr.get(abs_val - 1) = -arr.get(abs_val - 1);</code> is actually wrong because here you are actually saying like <b>5 = -3</b> which is wrong , because lValue is indeed a value not a variable , use <code>arr.set(index, value);</code> instead , also from the code , in the prototype of the function , you are supposed to return a list but in the implementation you are returning integer"},{"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"score":1,"creation_date":1661670475,"post_id":73516601,"comment_id":129823607,"body_markdown":"also , please post the original question on hacker rank for more clarification","body":"also , please post the original question on hacker rank for more clarification"},{"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"score":0,"creation_date":1661695096,"post_id":73516601,"comment_id":129828123,"body_markdown":"Thanks for the feedback let me re-post the question accordingly with necessary details.","body":"Thanks for the feedback let me re-post the question accordingly with necessary details."},{"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"score":0,"creation_date":1661936561,"post_id":73516601,"comment_id":129888083,"body_markdown":"Hello Everyone , included the question statement as asked if any detail to be added please let me know, Thanks for the help.","body":"Hello Everyone , included the question statement as asked if any detail to be added please let me know, Thanks for the help."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1661938768,"post_id":73516601,"comment_id":129888932,"body_markdown":"Please read [ask] and https://ericlippert.com/2014/03/05/how-to-debug-small-programs/. &quot;please guide me where is the mistake&quot; is not much of a question; it suggests that you have not [attempted](https://meta.stackoverflow.com/questions/261592) to understand or narrow down the problem at all, and it makes the *assumption* that there is only one problem in the first place.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>. &quot;please guide me where is the mistake&quot; is not much of a question; it suggests that you have not <a href=\"https://meta.stackoverflow.com/questions/261592\">attempted</a> to understand or narrow down the problem at all, and it makes the <i>assumption</i> that there is only one problem in the first place."}],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661938616,"creation_date":1661938616,"answer_id":73553847,"question_id":73516601,"body_markdown":"first of all `arr.get(abs_val - 1) = -arr.get(abs_val - 1);` is wrong because it&#39;s the same as saying **5 = -3** , as lValue is indeed a value not a variable , use `arr.set(index, value);` instead .\r\nalso in your code , you are using `Math.abs()` which isn&#39;y necessary because in the question , it&#39;s said :\r\n\r\n&gt; 1 &lt;= n &lt;= 105 1 &lt;= arr[i] &lt;= n\r\n\r\nso the values of **arr[i]** will always be positive.\r\n\r\nso I edited the whole code of yours as it has many logic problems, \r\n\r\nso for finding repeated numbers , what I do is to loop over the list , get every element then see if there is any other similar elements in the same array.\r\n\r\nfor finding repeated number , I loop over the numbers from 1 to N where N is entered by the user as specified by the problem above and check if every number is there in the list or not.\r\n\r\n\r\nedited version of the code :\r\n\r\n        package com.example;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; example = new ArrayList&lt;&gt;();\r\n            Scanner scanner = new Scanner(System.in);\r\n            int n = scanner.nextInt();\r\n    \r\n            for (int i = 0; i &lt; n; i++)\r\n            {\r\n                example.add(scanner.nextInt());\r\n            }\r\n    \r\n            List&lt;Integer&gt; result = find_missing(example, n);\r\n            for (Integer i : result)\r\n                System.out.print(i + &quot; &quot;);\r\n        }\r\n    \r\n        public static List&lt;Integer&gt; find_missing(List&lt;Integer&gt; arr, int n) {\r\n            List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n            int i;\r\n            // Repeating number\r\n            for (i = 0; i &lt; arr.size(); i++) {\r\n                for (int j = i + 1; j &lt; arr.size(); j++) {\r\n                    if (arr.get(j).equals(arr.get(i))){\r\n    \r\n                        if (temp.contains(arr.get(j)))\r\n                            break;\r\n    \r\n                        temp.add(arr.get(i));\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            //Missing number\r\n            for (i = 1; i &lt;= n; i++) {\r\n                if (!arr.contains(i))\r\n                    temp.add(i);\r\n            }\r\n    \r\n            return temp;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nand here is some examples of the output test cases:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X18ou.png\r\n  [2]: https://i.stack.imgur.com/dwfhk.png","title":"&quot;Find Missing &amp; Repeating Number&quot; unable to compile on hackerrank suppose to use array list only not simple array","body":"<p>first of all <code>arr.get(abs_val - 1) = -arr.get(abs_val - 1);</code> is wrong because it's the same as saying <strong>5 = -3</strong> , as lValue is indeed a value not a variable , use <code>arr.set(index, value);</code> instead .\nalso in your code , you are using <code>Math.abs()</code> which isn'y necessary because in the question , it's said :</p>\n<blockquote>\n<p>1 &lt;= n &lt;= 105 1 &lt;= arr[i] &lt;= n</p>\n</blockquote>\n<p>so the values of <strong>arr[i]</strong> will always be positive.</p>\n<p>so I edited the whole code of yours as it has many logic problems,</p>\n<p>so for finding repeated numbers , what I do is to loop over the list , get every element then see if there is any other similar elements in the same array.</p>\n<p>for finding repeated number , I loop over the numbers from 1 to N where N is entered by the user as specified by the problem above and check if every number is there in the list or not.</p>\n<p>edited version of the code :</p>\n<pre><code>    package com.example;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; example = new ArrayList&lt;&gt;();\n        Scanner scanner = new Scanner(System.in);\n        int n = scanner.nextInt();\n\n        for (int i = 0; i &lt; n; i++)\n        {\n            example.add(scanner.nextInt());\n        }\n\n        List&lt;Integer&gt; result = find_missing(example, n);\n        for (Integer i : result)\n            System.out.print(i + &quot; &quot;);\n    }\n\n    public static List&lt;Integer&gt; find_missing(List&lt;Integer&gt; arr, int n) {\n        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n        int i;\n        // Repeating number\n        for (i = 0; i &lt; arr.size(); i++) {\n            for (int j = i + 1; j &lt; arr.size(); j++) {\n                if (arr.get(j).equals(arr.get(i))){\n\n                    if (temp.contains(arr.get(j)))\n                        break;\n\n                    temp.add(arr.get(i));\n                    break;\n                }\n            }\n        }\n\n        //Missing number\n        for (i = 1; i &lt;= n; i++) {\n            if (!arr.contains(i))\n                temp.add(i);\n        }\n\n        return temp;\n    }\n\n}\n</code></pre>\n<p>and here is some examples of the output test cases:</p>\n<p><a href=\"https://i.stack.imgur.com/X18ou.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X18ou.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dwfhk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dwfhk.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1661938692,"accepted_answer_id":73553847,"answer_count":1,"score":-1,"last_activity_date":1661941954,"creation_date":1661669675,"question_id":73516601,"body_markdown":"Encountered this program on hackerrank it was showing runtime error.\r\n\r\nThe relevant code block is shown below.\r\n\r\nOn simple array its working, but on lists its not working.\r\nLists are only accepted.\r\n\r\n**Question statement on hackerrank:**\r\n\r\nYou are given a read-only array of N integers with values also in the range [1,N] both inclusive. Each integer appears exactly once except A which appears twice and B which is missing. The task is to find the repeating and missing numbers A and B where A repeats twice and B is missing.\r\n\r\nInput Format\r\n\r\nFirst line is the length of the array - n\r\nSecond line contains n integer that is elements of the array\r\n\r\nConstraints\r\n\r\n1 &lt;= n &lt;= 105\r\n1 &lt;= arr[i] &lt;= n\r\n\r\nOutput Format\r\n\r\nPrint array of integers containing repeating and missing number respectively\r\n\r\nSample Input 0\r\n\r\n3\r\n3 1 3\r\nSample Output 0\r\n\r\n3 2\r\nExplanation 0\r\n\r\nA = 3 , B = 2 Since 3 is appearing twice and 2 is missing\r\n\r\n```\r\npublic static List&lt;Integer&gt; find_missing(List&lt;Integer&gt; arr) {\r\n            int i;\r\n        // Repeating number\r\n        for (i = 0; i &lt; arr.size(); i++) {\r\n            int abs_val = Math.abs(arr.get(i));\r\n            if (arr.get(abs_val - 1) &gt; 0)\r\n                arr.get(abs_val - 1) = -arr.get(abs_val - 1);\r\n            else\r\n                return abs_val;\r\n        }\r\n //Missing number\r\n        for (i = 0; i &lt; arr.size(); i++) {\r\n            if (arr.get(i) &gt; 0)\r\n                return (i + 1);\r\n        }\r\n}\r\n```\r\n","title":"&quot;Find Missing &amp; Repeating Number&quot; unable to compile on hackerrank suppose to use array list only not simple array","body":"<p>Encountered this program on hackerrank it was showing runtime error.</p>\n<p>The relevant code block is shown below.</p>\n<p>On simple array its working, but on lists its not working.\nLists are only accepted.</p>\n<p><strong>Question statement on hackerrank:</strong></p>\n<p>You are given a read-only array of N integers with values also in the range [1,N] both inclusive. Each integer appears exactly once except A which appears twice and B which is missing. The task is to find the repeating and missing numbers A and B where A repeats twice and B is missing.</p>\n<p>Input Format</p>\n<p>First line is the length of the array - n\nSecond line contains n integer that is elements of the array</p>\n<p>Constraints</p>\n<p>1 &lt;= n &lt;= 105\n1 &lt;= arr[i] &lt;= n</p>\n<p>Output Format</p>\n<p>Print array of integers containing repeating and missing number respectively</p>\n<p>Sample Input 0</p>\n<p>3\n3 1 3\nSample Output 0</p>\n<p>3 2\nExplanation 0</p>\n<p>A = 3 , B = 2 Since 3 is appearing twice and 2 is missing</p>\n<pre><code>public static List&lt;Integer&gt; find_missing(List&lt;Integer&gt; arr) {\n            int i;\n        // Repeating number\n        for (i = 0; i &lt; arr.size(); i++) {\n            int abs_val = Math.abs(arr.get(i));\n            if (arr.get(abs_val - 1) &gt; 0)\n                arr.get(abs_val - 1) = -arr.get(abs_val - 1);\n            else\n                return abs_val;\n        }\n //Missing number\n        for (i = 0; i &lt; arr.size(); i++) {\n            if (arr.get(i) &gt; 0)\n                return (i + 1);\n        }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1661938466,"post_id":73553685,"comment_id":129888820,"body_markdown":"https://stackoverflow.com/questions/33924200/mapping-url-parameters-with-dashes-to-object-in-spring-web-mvc","body":"<a href=\"https://stackoverflow.com/questions/33924200/mapping-url-parameters-with-dashes-to-object-in-spring-web-mvc\" title=\"mapping url parameters with dashes to object in spring web mvc\">stackoverflow.com/questions/33924200/&hellip;</a>"},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":3,"creation_date":1661938518,"post_id":73553685,"comment_id":129888834,"body_markdown":"Are you sure `@PathParam` is the correct annotation ? Spring uses `@PathVariable` (see https://stackoverflow.com/q/41657428/1076463)","body":"Are you sure <code>@PathParam</code> is the correct annotation ? Spring uses <code>@PathVariable</code> (see <a href=\"https://stackoverflow.com/q/41657428/1076463\">stackoverflow.com/q/41657428/1076463</a>)"}],"owner":{"account_id":26206222,"reputation":101,"user_id":19885776,"display_name":"Rejja Kubzek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661941823,"creation_date":1661937769,"question_id":73553685,"body_markdown":"I need to add a &#39;-&#39; in the path parameter name, because of the backward compatibility of our project. \r\n\r\n```\r\n@GetMapping(&quot;employees&quot;)\r\n\r\npublic ResponseEntity&lt;Object&gt; getEmployeesBySelection(@PathParam(&quot;page-size&quot;) Optional &lt; Integer&gt; page_size)\r\n{\r\n\r\nResponseEntity.ok(page_size.orElse(0));\r\n\r\n}\r\n```\r\n\r\nIf it is set up like this it returns an empty object. (the reason for use of Optional)\r\n\r\nI found a similar question on this site but it looked like they were all just trying to solve it by transforming the pathParam into camel-case via a custom request wrapper.\r\n\r\nIs there some kind of general solution to enable spring to recognize pathParams with &#39;-&#39; as written above? \r\n        ","title":"What is the easiest way to add a &#39;-&#39; inside a pathParam name in spring boot?","body":"<p>I need to add a '-' in the path parameter name, because of the backward compatibility of our project.</p>\n<pre><code>@GetMapping(&quot;employees&quot;)\n\npublic ResponseEntity&lt;Object&gt; getEmployeesBySelection(@PathParam(&quot;page-size&quot;) Optional &lt; Integer&gt; page_size)\n{\n\nResponseEntity.ok(page_size.orElse(0));\n\n}\n</code></pre>\n<p>If it is set up like this it returns an empty object. (the reason for use of Optional)</p>\n<p>I found a similar question on this site but it looked like they were all just trying to solve it by transforming the pathParam into camel-case via a custom request wrapper.</p>\n<p>Is there some kind of general solution to enable spring to recognize pathParams with '-' as written above?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":8195404,"reputation":357,"user_id":6168433,"display_name":"karthik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503898375,"creation_date":1503898375,"answer_id":45912269,"question_id":45912239,"body_markdown":"If I&#39;m understanding correctly, you want to disable the RadioGroup once a certain RadioButton is clicked. Just add an OnCheckedChangedListener and if the id of the RadioButton clicked is the right one, then disable the group by using setEnabled(false). Of course, you can&#39;t reenable the RadioGroup unless you have some other logic in your code that will do the re-enabling.\r\n  \r\n    RadioGroup radioGroup = (RadioGroup)findViewById (R.id.radioGroup1);\r\n    radioGroup.setOnCheckedChangedListener (new OnCheckedChangedListener(){\r\n    public void onCheckedChanged(RadioGroup group, int checkedId) \r\n    {\r\n     if (checkedId == R.id.radio0)\r\n    group.setEnabled(false);\r\n    }\r\n    });\r\nEdit: It seems that setEnabled() doesn&#39;t work, so you should try changing your code so [it loops through each](https://stackoverflow.com/questions/9376966/how-to-disable-a-radiogroup-until-checkbox-is-checked/9377769#9377769) RadioButton upon checking radio0:\r\n\r\n    if (checkedId == R.id.radio0){\r\n     for(int i = 0; i &lt; group.getChildCount(); i++){\r\n            ((RadioButton)rg1.getChildAt(i)).setEnabled(false);\r\n        }\r\n    }\r\n","title":"How to disable the Onclick of RadioButton once it is clicked?","body":"<p>If I'm understanding correctly, you want to disable the RadioGroup once a certain RadioButton is clicked. Just add an OnCheckedChangedListener and if the id of the RadioButton clicked is the right one, then disable the group by using setEnabled(false). Of course, you can't reenable the RadioGroup unless you have some other logic in your code that will do the re-enabling.</p>\n\n<pre><code>RadioGroup radioGroup = (RadioGroup)findViewById (R.id.radioGroup1);\nradioGroup.setOnCheckedChangedListener (new OnCheckedChangedListener(){\npublic void onCheckedChanged(RadioGroup group, int checkedId) \n{\n if (checkedId == R.id.radio0)\ngroup.setEnabled(false);\n}\n});\n</code></pre>\n\n<p>Edit: It seems that setEnabled() doesn't work, so you should try changing your code so <a href=\"https://stackoverflow.com/questions/9376966/how-to-disable-a-radiogroup-until-checkbox-is-checked/9377769#9377769\">it loops through each</a> RadioButton upon checking radio0:</p>\n\n<pre><code>if (checkedId == R.id.radio0){\n for(int i = 0; i &lt; group.getChildCount(); i++){\n        ((RadioButton)rg1.getChildAt(i)).setEnabled(false);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4793910,"reputation":885,"user_id":3872374,"accept_rate":100,"display_name":"Omar Dhanish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503899107,"creation_date":1503898562,"answer_id":45912303,"question_id":45912239,"body_markdown":"You can use `setClickable(false);`.For this:\r\n\r\n    yourradiobutton.setClickable(false);","title":"How to disable the Onclick of RadioButton once it is clicked?","body":"<p>You can use <code>setClickable(false);</code>.For this:</p>\n\n<pre><code>yourradiobutton.setClickable(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7376361,"reputation":839,"user_id":5614815,"display_name":"Bapusaheb Shinde"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661941728,"creation_date":1503901869,"answer_id":45912909,"question_id":45912239,"body_markdown":" try this after click on radiobutton : \r\n\r\n       yourradioButtonId.setClickable(false);\r\n ","title":"How to disable the Onclick of RadioButton once it is clicked?","body":"<p>try this after click on radiobutton :</p>\n<pre><code>   yourradioButtonId.setClickable(false);\n</code></pre>\n"}],"owner":{"account_id":11631492,"reputation":13,"user_id":8519485,"display_name":"alok dubey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3672,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1661941728,"creation_date":1503898173,"question_id":45912239,"body_markdown":"I am creating a quiz app where in it asks a question and gives users options.For options I have used RadioButton So what I want is that once the user clicked any one of the options it should not allow any other options to be clicked but the problem is that it can be still clicked.if possible please write the code.Thanks!\r\n\r\n    private int Question_no=0;\r\n    private Boolean Boolean_Var=false;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_question1);\r\n\r\n        String[] Question_Array = getResources().getStringArray(R.array.Question1);\r\n        TextView Questions = (TextView) findViewById(R.id.Question);\r\n        Questions.setText(Question_Array[Question_no]);\r\n\r\n        String[] Radio_Button1_Array = getResources().getStringArray(R.array.Option_1);\r\n        RadioButton Radio_Button1 = (RadioButton) findViewById(R.id.radioButton1);\r\n        Radio_Button1.setText(Radio_Button1_Array[Question_no]);\r\n\r\n        String[] Radio_Button2_Array = getResources().getStringArray(R.array.Option_2);\r\n        RadioButton Radio_Button2 = (RadioButton) findViewById(R.id.radioButton2);\r\n        Radio_Button2.setText(Radio_Button2_Array[Question_no]);\r\n\r\n        findViewById(R.id.MenuButton).setVisibility(View.INVISIBLE);\r\n        findViewById(R.id.NextButton).setVisibility(View.INVISIBLE);\r\n    }\r\n\r\n    public void On_RadioButton1_Click (View view)\r\n    {\r\n        if (Boolean_Var == false) {\r\n            String[] CorrectAns_Array = getResources().getStringArray(R.array.Answer1);\r\n            String CorrectAns = CorrectAns_Array[Question_no];\r\n            String[] Answer_Array = getResources().getStringArray(R.array.Option_1);\r\n            String Answer = Answer_Array[Question_no];\r\n\r\n\r\n            if (Answer.equals(CorrectAns)) {\r\n                RadioButton Right_Ans = (RadioButton) findViewById(R.id.radioButton1);\r\n                Right_Ans.setTextColor(Color.GREEN);\r\n                AnswerSubmitted();\r\n            } else {\r\n                RadioButton Wrong_Ans = (RadioButton) findViewById(R.id.radioButton1);\r\n                Wrong_Ans.setTextColor(Color.RED);;\r\n                GreenTick();\r\n                AnswerSubmitted();\r\n            }\r\n        }\r\n        Boolean_Var = true;\r\n\r\n    }\r\n\r\n    public void On_RadioButton2_Click(View view)\r\n    {\r\n        if(Boolean_Var==false)\r\n        {\r\n            String[] CorrectAns_Array = getResources().getStringArray(R.array.Answer1);\r\n            String CorrectAns = CorrectAns_Array[Question_no];\r\n            String[] Answer_Array = getResources().getStringArray(R.array.Option_2);\r\n            String Answer = Answer_Array[Question_no];\r\n\r\n\r\n            if(Answer.equals(CorrectAns))\r\n            {\r\n                RadioButton Right_Ans = (RadioButton) findViewById(R.id.radioButton2);\r\n                Right_Ans.setTextColor(Color.GREEN);\r\n            }\r\n            else\r\n            {\r\n                RadioButton Wrong_Ans = (RadioButton) findViewById(R.id.radioButton2);\r\n                Wrong_Ans.setTextColor(Color.RED);\r\n                GreenTick();\r\n            }\r\n        }\r\n        Boolean_Var=true;\r\n        AnswerSubmitted();\r\n    }\r\n\r\n     public void GreenTick()\r\n    {\r\n        String[] Answer1_Array = getResources().getStringArray(R.array.Option_1);\r\n        String Answer1 = Answer1_Array[Question_no];\r\n\r\n        String[] Answer2_Array = getResources().getStringArray(R.array.Option_2);\r\n        String Answer2 = Answer2_Array[Question_no];\r\n\r\n        String[] Answer3_Array = getResources().getStringArray(R.array.Option_3);\r\n        String Answer3 = Answer3_Array[Question_no];\r\n\r\n        String[] The_CorrectAns_Array = getResources().getStringArray(R.array.Answer1);\r\n        String The_CorrectAnsIs = The_CorrectAns_Array[Question_no];\r\n\r\n        if(The_CorrectAnsIs.equals(Answer1))\r\n        {\r\n            Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton1);\r\n            Option_with_CorrectAns.setTextColor(Color.GREEN);\r\n        }\r\n        else if(The_CorrectAnsIs.equals(Answer2))\r\n        {\r\n            Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton2);\r\n            Option_with_CorrectAns.setTextColor(Color.GREEN);\r\n        }\r\n        else if(The_CorrectAnsIs.equals(Answer3))\r\n        {\r\n            Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton3);\r\n            Option_with_CorrectAns.setTextColor(Color.GREEN);\r\n        }\r\n        else\r\n        {\r\n            Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton4);\r\n            Option_with_CorrectAns.setTextColor(Color.GREEN);\r\n        }\r\n    }\r\n    \r\n     public void AnswerSubmitted()\r\n    {\r\n        findViewById(R.id.MenuButton).setVisibility(View.VISIBLE);\r\n        findViewById(R.id.NextButton).setVisibility(View.VISIBLE);\r\n    }\r\n    }\r\n\r\n    \r\n\r\n ","title":"How to disable the Onclick of RadioButton once it is clicked?","body":"<p>I am creating a quiz app where in it asks a question and gives users options.For options I have used RadioButton So what I want is that once the user clicked any one of the options it should not allow any other options to be clicked but the problem is that it can be still clicked.if possible please write the code.Thanks!</p>\n\n<pre><code>private int Question_no=0;\nprivate Boolean Boolean_Var=false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_question1);\n\n    String[] Question_Array = getResources().getStringArray(R.array.Question1);\n    TextView Questions = (TextView) findViewById(R.id.Question);\n    Questions.setText(Question_Array[Question_no]);\n\n    String[] Radio_Button1_Array = getResources().getStringArray(R.array.Option_1);\n    RadioButton Radio_Button1 = (RadioButton) findViewById(R.id.radioButton1);\n    Radio_Button1.setText(Radio_Button1_Array[Question_no]);\n\n    String[] Radio_Button2_Array = getResources().getStringArray(R.array.Option_2);\n    RadioButton Radio_Button2 = (RadioButton) findViewById(R.id.radioButton2);\n    Radio_Button2.setText(Radio_Button2_Array[Question_no]);\n\n    findViewById(R.id.MenuButton).setVisibility(View.INVISIBLE);\n    findViewById(R.id.NextButton).setVisibility(View.INVISIBLE);\n}\n\npublic void On_RadioButton1_Click (View view)\n{\n    if (Boolean_Var == false) {\n        String[] CorrectAns_Array = getResources().getStringArray(R.array.Answer1);\n        String CorrectAns = CorrectAns_Array[Question_no];\n        String[] Answer_Array = getResources().getStringArray(R.array.Option_1);\n        String Answer = Answer_Array[Question_no];\n\n\n        if (Answer.equals(CorrectAns)) {\n            RadioButton Right_Ans = (RadioButton) findViewById(R.id.radioButton1);\n            Right_Ans.setTextColor(Color.GREEN);\n            AnswerSubmitted();\n        } else {\n            RadioButton Wrong_Ans = (RadioButton) findViewById(R.id.radioButton1);\n            Wrong_Ans.setTextColor(Color.RED);;\n            GreenTick();\n            AnswerSubmitted();\n        }\n    }\n    Boolean_Var = true;\n\n}\n\npublic void On_RadioButton2_Click(View view)\n{\n    if(Boolean_Var==false)\n    {\n        String[] CorrectAns_Array = getResources().getStringArray(R.array.Answer1);\n        String CorrectAns = CorrectAns_Array[Question_no];\n        String[] Answer_Array = getResources().getStringArray(R.array.Option_2);\n        String Answer = Answer_Array[Question_no];\n\n\n        if(Answer.equals(CorrectAns))\n        {\n            RadioButton Right_Ans = (RadioButton) findViewById(R.id.radioButton2);\n            Right_Ans.setTextColor(Color.GREEN);\n        }\n        else\n        {\n            RadioButton Wrong_Ans = (RadioButton) findViewById(R.id.radioButton2);\n            Wrong_Ans.setTextColor(Color.RED);\n            GreenTick();\n        }\n    }\n    Boolean_Var=true;\n    AnswerSubmitted();\n}\n\n public void GreenTick()\n{\n    String[] Answer1_Array = getResources().getStringArray(R.array.Option_1);\n    String Answer1 = Answer1_Array[Question_no];\n\n    String[] Answer2_Array = getResources().getStringArray(R.array.Option_2);\n    String Answer2 = Answer2_Array[Question_no];\n\n    String[] Answer3_Array = getResources().getStringArray(R.array.Option_3);\n    String Answer3 = Answer3_Array[Question_no];\n\n    String[] The_CorrectAns_Array = getResources().getStringArray(R.array.Answer1);\n    String The_CorrectAnsIs = The_CorrectAns_Array[Question_no];\n\n    if(The_CorrectAnsIs.equals(Answer1))\n    {\n        Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton1);\n        Option_with_CorrectAns.setTextColor(Color.GREEN);\n    }\n    else if(The_CorrectAnsIs.equals(Answer2))\n    {\n        Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton2);\n        Option_with_CorrectAns.setTextColor(Color.GREEN);\n    }\n    else if(The_CorrectAnsIs.equals(Answer3))\n    {\n        Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton3);\n        Option_with_CorrectAns.setTextColor(Color.GREEN);\n    }\n    else\n    {\n        Button Option_with_CorrectAns = (Button) findViewById(R.id.radioButton4);\n        Option_with_CorrectAns.setTextColor(Color.GREEN);\n    }\n}\n\n public void AnswerSubmitted()\n{\n    findViewById(R.id.MenuButton).setVisibility(View.VISIBLE);\n    findViewById(R.id.NextButton).setVisibility(View.VISIBLE);\n}\n}\n</code></pre>\n"},{"tags":["java","jaxb","xjc","cxf-xjc-plugin"],"owner":{"account_id":18088848,"reputation":131,"user_id":13149020,"display_name":"tkalvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1661941204,"creation_date":1661941204,"question_id":73554408,"body_markdown":"Suppose I have 2 xsd-s. The first declares type A. The second imports the first xsd (import namespace, xmlns:ns=... etc.) and declares type B, which extends type A (base=&quot;ns:B&quot;). Like this:\r\n``` lang=xml\r\n&lt;xs:schema elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:simpleType name=&quot;A&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot; /&gt;\r\n    &lt;/xs:simpleType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n``` lang=xml\r\n&lt;xs:schema elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:import schemaLocation=&quot;.\\XSD1.xsd&quot; /&gt;\r\n    &lt;xs:simpleType name=&quot;B&quot;&gt;\r\n        &lt;xs:restriction base=&quot;A&quot; /&gt;\r\n    &lt;/xs:simpleType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nI use cxf-xjc maven plugin for code generation, with the following config:\r\n``` lang=xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;extensions&gt;\r\n\t\t\t&lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:${cxf.version}&lt;/extension&gt;\r\n\t\t&lt;/extensions&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;xsdOptions&gt;\r\n\t\t\t\t\t&lt;xsdOption&gt;\r\n\t\t\t\t\t\t&lt;xsd&gt;src/main/resources/XSD1.xsd&lt;/xsd&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;org.example&lt;/packagename&gt;\r\n\t\t\t\t\t&lt;/xsdOption&gt;\r\n\t\t\t\t\t&lt;xsdOption&gt;\r\n\t\t\t\t\t\t&lt;xsd&gt;src/main/resources/XSD2.xsd&lt;/xsd&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;org.example.child&lt;/packagename&gt;\r\n\t\t\t\t\t&lt;/xsdOption&gt;\r\n\t\t\t\t&lt;/xsdOptions&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI want to generate the parent and child classes into separate packages, but this way the XJC **generates the parent class into both packages which I don&#39;t want**.\r\n\r\nIs it possible to tell JAXB/XJC not to do this but make only one parent class (A) and import that from the other package in the child class (B) instead?","title":"How to configure jaxb/xjc to generate only one class instead of duplicates from imported complexType in more xsd-s?","body":"<p>Suppose I have 2 xsd-s. The first declares type A. The second imports the first xsd (import namespace, xmlns:ns=... etc.) and declares type B, which extends type A (base=&quot;ns:B&quot;). Like this:</p>\n<pre><code>&lt;xs:schema elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:simpleType name=&quot;A&quot;&gt;\n        &lt;xs:restriction base=&quot;xs:string&quot; /&gt;\n    &lt;/xs:simpleType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<pre><code>&lt;xs:schema elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:import schemaLocation=&quot;.\\XSD1.xsd&quot; /&gt;\n    &lt;xs:simpleType name=&quot;B&quot;&gt;\n        &lt;xs:restriction base=&quot;A&quot; /&gt;\n    &lt;/xs:simpleType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>I use cxf-xjc maven plugin for code generation, with the following config:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:${cxf.version}&lt;/extension&gt;\n        &lt;/extensions&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xsdtojava&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;xsdOptions&gt;\n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/XSD1.xsd&lt;/xsd&gt;\n                        &lt;packagename&gt;org.example&lt;/packagename&gt;\n                    &lt;/xsdOption&gt;\n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/XSD2.xsd&lt;/xsd&gt;\n                        &lt;packagename&gt;org.example.child&lt;/packagename&gt;\n                    &lt;/xsdOption&gt;\n                &lt;/xsdOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I want to generate the parent and child classes into separate packages, but this way the XJC <strong>generates the parent class into both packages which I don't want</strong>.</p>\n<p>Is it possible to tell JAXB/XJC not to do this but make only one parent class (A) and import that from the other package in the child class (B) instead?</p>\n"},{"tags":["java","xml","android-studio"],"comments":[{"owner":{"account_id":2453832,"reputation":555,"user_id":2139488,"accept_rate":67,"display_name":"SHADOW.NET"},"score":1,"creation_date":1529789707,"post_id":48858307,"comment_id":89003972,"body_markdown":"I have the same issue!!!","body":"I have the same issue!!!"}],"answers":[{"tags":[],"owner":{"account_id":15367696,"reputation":21,"user_id":11086687,"display_name":"Glen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551317484,"creation_date":1551317484,"answer_id":54917041,"question_id":48858307,"body_markdown":"This is just a warning, and since it retries without the configuration option without (I am assuming from your comments) a followup error, this is not the source of your problem. \r\n\r\nIt&#39;s not a bad guess, since this is for an OpenGL-related class (android/opengl/EGL14), but it&#39;s not the source of your problem. \r\n\r\nYou can read more about EGL at https://www.khronos.org/egl.","title":"Android Studio: W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED","body":"<p>This is just a warning, and since it retries without the configuration option without (I am assuming from your comments) a followup error, this is not the source of your problem. </p>\n\n<p>It's not a bad guess, since this is for an OpenGL-related class (android/opengl/EGL14), but it's not the source of your problem. </p>\n\n<p>You can read more about EGL at <a href=\"https://www.khronos.org/egl\" rel=\"nofollow noreferrer\">https://www.khronos.org/egl</a>.</p>\n"}],"owner":{"account_id":11817183,"reputation":105,"user_id":8647140,"display_name":"lollip0o0p"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44721,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1661940150,"creation_date":1519001853,"question_id":48858307,"body_markdown":"I am trying to make a movie list, but it only shows a white screen with the app name. Apparently, I have a very similar program to this and it runs perfectly fine. This is what I get when I run the program.\r\n\r\n&gt; W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n\r\nI found someone saying that this error happens if there is an error in xml codes, but I will still put my java codes as well.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private ListView mListView;\r\n    private Context mContext;\r\n    ArrayList&lt;Movie&gt; movieList;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mContext = this;\r\n        final ArrayList&lt;Movie&gt; movieList = Movie.getMoviesFromFile(&quot;movies.json&quot;, this);\r\n        MovieAdapter adapter = new MovieAdapter(this, movieList);\r\n\r\n        mListView = findViewById(R.id.movie_list_view);\r\n        mListView.setAdapter(adapter);\r\n\r\n        mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Movie selectedMovie = movieList.get(i);\r\n\r\n                Intent detailIntent = new Intent(mContext, MovieDetailActivity.class);\r\n                detailIntent.putExtra(&quot;title&quot;, selectedMovie.title);\r\n                detailIntent.putExtra(&quot;description&quot;, selectedMovie.description);\r\n                detailIntent.putExtra(&quot;poster&quot;, selectedMovie.poster);\r\n\r\n                startActivity(detailIntent);\r\n            }\r\n        });\r\n    }\r\n\r\nThe following is my adapter.\r\n\r\n    public class MovieAdapter extends BaseAdapter{\r\n    private Context mContext;\r\n    private ArrayList&lt;Movie&gt; mMovieList;\r\n    private LayoutInflater mInflater;\r\n\r\n    public MovieAdapter(Context mContext, ArrayList&lt;Movie&gt; mMovieList){\r\n        this.mContext = mContext;\r\n        this.mMovieList = mMovieList;\r\n        mInflater = (LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    }\r\n\r\n    @Override\r\n    public int getCount(){return mMovieList.size();}\r\n    @Override\r\n    public Object getItem(int pos){return mMovieList.get(pos);}\r\n    @Override\r\n    public long getItemId(int pos){return pos;}\r\n    @Override\r\n    public View getView(int pos, View convertView, ViewGroup parent){\r\n        ViewHolder holder;\r\n\r\n        if(convertView == null){\r\n            convertView = mInflater.inflate(R.layout.list_item_movie, parent, false);\r\n            holder = new ViewHolder();\r\n            holder.titleTextView = convertView.findViewById(R.id.title);\r\n            holder.charactersTextView = convertView.findViewById(R.id.main_characters);\r\n            holder.descriptionTextView = convertView.findViewById(R.id.description);\r\n            holder.thumbnailImageView = convertView.findViewById(R.id.poster);\r\n\r\n            convertView.setTag(holder);\r\n        } else{\r\n            holder = (ViewHolder)convertView.getTag();\r\n        }\r\n\r\n        TextView titleTextView = holder.titleTextView;\r\n        TextView descriptionTextView = holder.descriptionTextView;\r\n        TextView charactersTextView = holder.charactersTextView;\r\n        ImageView thumbnailImageView = holder.thumbnailImageView;\r\n        Movie movie = (Movie)getItem(pos);\r\n\r\n        titleTextView.setText(movie.title);\r\n        titleTextView.setTextSize(20);\r\n\r\n        charactersTextView.setText(movie.main_characters);\r\n        charactersTextView.setTextSize(13);\r\n\r\n        descriptionTextView.setText(movie.description);\r\n        descriptionTextView.setTextSize(9);\r\n\r\n        Picasso.with(mContext).load(movie.poster).into(thumbnailImageView);\r\n        return convertView;\r\n    }\r\n\r\n    private static class ViewHolder{\r\n        public TextView titleTextView;\r\n        public TextView descriptionTextView;\r\n        public ImageView thumbnailImageView;\r\n        public TextView charactersTextView;\r\n    }\r\n}\r\n\r\nAnd the followings are the xml codes.\r\n\r\n&gt; activity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.example.user.junepyolee_miniapp1.MainActivity&quot;&gt;\r\n\r\n    &lt;ListView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/movie_list_view&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n&gt; list_item_movie.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout   xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/poster&quot;\r\n        android:layout_width=&quot;90dp&quot;\r\n        android:layout_height=&quot;140dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginStart=&quot;4dp&quot;\r\n        android:layout_marginTop=&quot;6dp&quot;\r\n        android:layout_marginBottom=&quot;6dp&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:scaleType=&quot;fitCenter&quot;\r\n        android:contentDescription=&quot;This is a thumbnail&quot;\r\n        app:srcCompat=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/movie_list_text_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignTop=&quot;@+id/poster&quot;\r\n        android:layout_alignParentTop=&quot;false&quot;\r\n        android:layout_toRightOf=&quot;@+id/poster&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;3dp&quot;\r\n            android:text=&quot;Title&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/description&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/title&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;3dp&quot;\r\n            android:maxLines=&quot;3&quot;\r\n            android:text=&quot;description&quot;\r\n            android:textSize=&quot;9sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/main_characters&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignEnd=&quot;@+id/description&quot;\r\n            android:layout_below=&quot;@+id/description&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;3dp&quot;\r\n            android:text=&quot;characters max 3 people&quot;\r\n            android:textSize=&quot;13sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/hasSeen&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/main_characters&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;3dp&quot;\r\n            android:text=&quot;has seen?&quot;\r\n            android:textSize=&quot;11sp&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\nDoes anyone have a solution for this one?","title":"Android Studio: W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED","body":"<p>I am trying to make a movie list, but it only shows a white screen with the app name. Apparently, I have a very similar program to this and it runs perfectly fine. This is what I get when I run the program.</p>\n\n<blockquote>\n  <p>W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...</p>\n</blockquote>\n\n<p>I found someone saying that this error happens if there is an error in xml codes, but I will still put my java codes as well.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate ListView mListView;\nprivate Context mContext;\nArrayList&lt;Movie&gt; movieList;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    mContext = this;\n    final ArrayList&lt;Movie&gt; movieList = Movie.getMoviesFromFile(\"movies.json\", this);\n    MovieAdapter adapter = new MovieAdapter(this, movieList);\n\n    mListView = findViewById(R.id.movie_list_view);\n    mListView.setAdapter(adapter);\n\n    mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n            Movie selectedMovie = movieList.get(i);\n\n            Intent detailIntent = new Intent(mContext, MovieDetailActivity.class);\n            detailIntent.putExtra(\"title\", selectedMovie.title);\n            detailIntent.putExtra(\"description\", selectedMovie.description);\n            detailIntent.putExtra(\"poster\", selectedMovie.poster);\n\n            startActivity(detailIntent);\n        }\n    });\n}\n</code></pre>\n\n<p>The following is my adapter.</p>\n\n<pre><code>public class MovieAdapter extends BaseAdapter{\nprivate Context mContext;\nprivate ArrayList&lt;Movie&gt; mMovieList;\nprivate LayoutInflater mInflater;\n\npublic MovieAdapter(Context mContext, ArrayList&lt;Movie&gt; mMovieList){\n    this.mContext = mContext;\n    this.mMovieList = mMovieList;\n    mInflater = (LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n}\n\n@Override\npublic int getCount(){return mMovieList.size();}\n@Override\npublic Object getItem(int pos){return mMovieList.get(pos);}\n@Override\npublic long getItemId(int pos){return pos;}\n@Override\npublic View getView(int pos, View convertView, ViewGroup parent){\n    ViewHolder holder;\n\n    if(convertView == null){\n        convertView = mInflater.inflate(R.layout.list_item_movie, parent, false);\n        holder = new ViewHolder();\n        holder.titleTextView = convertView.findViewById(R.id.title);\n        holder.charactersTextView = convertView.findViewById(R.id.main_characters);\n        holder.descriptionTextView = convertView.findViewById(R.id.description);\n        holder.thumbnailImageView = convertView.findViewById(R.id.poster);\n\n        convertView.setTag(holder);\n    } else{\n        holder = (ViewHolder)convertView.getTag();\n    }\n\n    TextView titleTextView = holder.titleTextView;\n    TextView descriptionTextView = holder.descriptionTextView;\n    TextView charactersTextView = holder.charactersTextView;\n    ImageView thumbnailImageView = holder.thumbnailImageView;\n    Movie movie = (Movie)getItem(pos);\n\n    titleTextView.setText(movie.title);\n    titleTextView.setTextSize(20);\n\n    charactersTextView.setText(movie.main_characters);\n    charactersTextView.setTextSize(13);\n\n    descriptionTextView.setText(movie.description);\n    descriptionTextView.setTextSize(9);\n\n    Picasso.with(mContext).load(movie.poster).into(thumbnailImageView);\n    return convertView;\n}\n\nprivate static class ViewHolder{\n    public TextView titleTextView;\n    public TextView descriptionTextView;\n    public ImageView thumbnailImageView;\n    public TextView charactersTextView;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And the followings are the xml codes.</p>\n\n<blockquote>\n  <p>activity_main.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.example.user.junepyolee_miniapp1.MainActivity\"&gt;\n\n&lt;ListView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/movie_list_view\" /&gt;\n</code></pre>\n\n<p></p>\n\n<blockquote>\n  <p>list_item_movie.xml</p>\n</blockquote>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout   xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/poster\"\n    android:layout_width=\"90dp\"\n    android:layout_height=\"140dp\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginStart=\"4dp\"\n    android:layout_marginTop=\"6dp\"\n    android:layout_marginBottom=\"6dp\"\n    android:layout_centerVertical=\"true\"\n    android:scaleType=\"fitCenter\"\n    android:contentDescription=\"This is a thumbnail\"\n    app:srcCompat=\"@mipmap/ic_launcher\" /&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/movie_list_text_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignTop=\"@+id/poster\"\n    android:layout_alignParentTop=\"false\"\n    android:layout_toRightOf=\"@+id/poster\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/title\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginLeft=\"10dp\"\n        android:layout_marginRight=\"10dp\"\n        android:layout_marginTop=\"3dp\"\n        android:text=\"Title\"\n        android:textSize=\"20sp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/description\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/title\"\n        android:layout_marginLeft=\"10dp\"\n        android:layout_marginRight=\"10dp\"\n        android:layout_marginTop=\"3dp\"\n        android:maxLines=\"3\"\n        android:text=\"description\"\n        android:textSize=\"9sp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/main_characters\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignEnd=\"@+id/description\"\n        android:layout_below=\"@+id/description\"\n        android:layout_marginLeft=\"10dp\"\n        android:layout_marginRight=\"10dp\"\n        android:layout_marginTop=\"3dp\"\n        android:text=\"characters max 3 people\"\n        android:textSize=\"13sp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/hasSeen\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/main_characters\"\n        android:layout_marginLeft=\"10dp\"\n        android:layout_marginRight=\"10dp\"\n        android:layout_marginTop=\"3dp\"\n        android:text=\"has seen?\"\n        android:textSize=\"11sp\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>Does anyone have a solution for this one?</p>\n"},{"tags":["java","android","json","database"],"answers":[{"tags":[],"owner":{"account_id":1270473,"reputation":94285,"user_id":1226894,"accept_rate":73,"display_name":"Baba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335018256,"creation_date":1335018256,"answer_id":10259744,"question_id":10258869,"body_markdown":"If you are retrieving image from database it does not matter which device you want to use it an image is an image \r\n\r\nYou can do the following \r\n\r\n\t$im = imagecreatefromstring($imageContent);\r\n\tif ($im !== false) {\r\n\t    header(&#39;Content-Type: image/png&#39;); // Change to what you want\r\n\t    imagepng($im);\r\n\t    imagedestroy($im);\r\n\t}\r\n\telse {\r\n\t    echo &#39;An error occurred.&#39;;\r\n\t}\r\n\r\n\r\n","title":"Retrieving blob images from mysql database and displaying in android listview","body":"<p>If you are retrieving image from database it does not matter which device you want to use it an image is an image </p>\n\n<p>You can do the following </p>\n\n<pre><code>$im = imagecreatefromstring($imageContent);\nif ($im !== false) {\n    header('Content-Type: image/png'); // Change to what you want\n    imagepng($im);\n    imagedestroy($im);\n}\nelse {\n    echo 'An error occurred.';\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1644755,"reputation":487,"user_id":1516491,"accept_rate":50,"display_name":"Sunny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369215658,"creation_date":1369215658,"answer_id":16688501,"question_id":10258869,"body_markdown":"Maybe you can store the image in folders \r\n&lt;br&gt;\r\nand store the folder link in your database, and retrieve the image by your link\r\n&lt;br&gt;\r\n\r\n \r\n\r\n       try \r\n    {\r\n        Bitmap bitmap = BitmapFactory.decodeStream((InputStream)new URL(imageUrl).getContent());\r\n        imageView.setImageBitmap(bitmap); \r\n    } \r\n    catch (MalformedURLException e) \r\n    {\r\n          e.printStackTrace();\r\n    } \r\n    catch (IOException e)\r\n     {\r\n           e.printStackTrace();\r\n     }","title":"Retrieving blob images from mysql database and displaying in android listview","body":"<p>Maybe you can store the image in folders \n<br>\nand store the folder link in your database, and retrieve the image by your link\n<br></p>\n\n<pre><code>   try \n{\n    Bitmap bitmap = BitmapFactory.decodeStream((InputStream)new URL(imageUrl).getContent());\n    imageView.setImageBitmap(bitmap); \n} \ncatch (MalformedURLException e) \n{\n      e.printStackTrace();\n} \ncatch (IOException e)\n {\n       e.printStackTrace();\n }\n</code></pre>\n"}],"owner":{"account_id":1424331,"reputation":11,"user_id":1348262,"display_name":"Shree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6789,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661940072,"creation_date":1335011045,"question_id":10258869,"body_markdown":"I have created a database in phpmyadmin named article that contains information regarding the articles and an image(stored as blob). I m able to fetch the data from the data base and display it in the android list view but i m not getting how to retrieve a blob image from the database and display it along with the corresponding article information in android list view.. please help me.. i did lot of googling but i failed to do..\r\nAny link to tutorial or any code posted will be very greatfull... i need this for my project..\r\nThanks in advance :)\r\n\r\nMy php code is -\r\n                                                         \r\n    &lt;?php\r\n    header(&#39;Content-type: application/json&#39;);\r\n    mysql_query(&#39;SET CHARACTER SET utf8&#39;);\r\n    mysql_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;&quot;);\r\n    mysql_select_db(&quot;reader&quot;);\r\n    $id=$_REQUEST[&#39;keyword&#39;];\r\n    $id1=(int)$id;\r\n    $sql=mysql_query(&quot;SELECT * FROM article a WHERE a.a_id=&#39;{$id}&#39;&quot;);\r\n    while($row=mysql_fetch_assoc($sql))\r\n    {\r\n\t$row[&#39;a_thumbnail&#39;]=base64_encode($row[&#39;a_thumbnail&#39;]);\r\n\t$row1= array_slice($row, 0, 2);\r\n\t$row_slice=array_slice($row,2);\r\n\t$output2=array_map(&#39;utf8_encode&#39;, $row_slice);\r\n\t$output[]=array_merge((array)$row1, (array)$output2);\r\n    }\r\n    print(json_encode($output));\r\n    mysql_close();\r\n    ?&gt;\r\nThe java code i wrote to retrieve image is-\r\n\r\n    \r\n    public class SearchByLikeCount extends ListActivity {\r\n\tArrayList&lt;HashMap&lt;String, String&gt;&gt; mylist = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n\r\n\t@Override\r\n\t\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tsetContentView(R.layout.main2);\r\n\t\t\tString result = &quot;&quot;;\r\n\t\t\tInputStream is= null;\r\n\t\t\ttry{\r\n\t\t\t        HttpClient httpclient = new DefaultHttpClient();\r\n\t\t\t        HttpGet httpget = new HttpGet(&quot;http://10.0.2.2/likeCountsearch.php&quot;);\r\n\t\t\t        HttpResponse response = httpclient.execute(httpget);\r\n\t\t\t        HttpEntity entity = response.getEntity();\r\n\t\t\t        is = entity.getContent();\r\n\t\t\t}catch(Exception e){\r\n\t\t\t        Log.e(&quot;log_tag&quot;, &quot;Error in http connection &quot;+e.toString());\r\n\t\t\t}\r\n\t\t\ttry{\r\n\t\t\t        BufferedReader reader = new BufferedReader(new InputStreamReader(is,&quot;utf-8&quot;),8);\r\n\t\t\t        StringBuilder sb = new StringBuilder();\r\n\t\t\t        String line = null;\r\n\t\t\t        while ((line = reader.readLine()) != null) {\r\n\t\t\t                sb.append(line + &quot;\\n&quot;);\r\n\t\t\t        }\r\n\t\t\t        is.close();\r\n\t\t\t \r\n\t\t\t        result=sb.toString();\r\n\t\t\t}catch(Exception e){\r\n\t\t\t        Log.e(&quot;log_tag&quot;, &quot;Error converting result &quot;+e.toString());\r\n\t\t\t}\r\n\t\t\ttry{\r\n\t\t\t        JSONArray jArray = new JSONArray(result);\r\n\t\t\t        for(int i=0;i&lt;jArray.length();i++){\r\n\t\t\t        \t\r\n\t\t\t        \tHashMap&lt;String,String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\t\t        \tJSONObject e = jArray.getJSONObject(i);\r\n\t\t\t        \tLog.i(&quot;shruthi&quot;, &quot;jason object length = &quot; + e.length());\r\n\t\t\t        \tmap.put(&quot;id&quot;,  e.getString(&quot;a_id&quot;));\r\n\t\t\t        \tmap.put(&quot;title&quot;,  e.getString(&quot;a_title&quot;));\r\n\t\t\t        \tmap.put(&quot;author&quot;,  e.getString(&quot;a_author&quot;));\r\n\t\t\t        \tmap.put(&quot;image&quot;, e.getString(&quot;a_thumbnail&quot;));\r\n\t\t\t        \tmylist.add(map);\r\n\t\t\t\t}\r\n\t\t\t       }catch(JSONException e)        {\r\n\t\t\t       \t Log.e(&quot;log_tag&quot;, &quot;Error parsing data &quot;+e.toString());\r\n\t\t\t       }\r\n\t\t\t        \t\r\n\t        ListAdapter adapter = new SimpleAdapter(SearchByLikeCount.this, mylist , R.layout.main2,\r\n            new String[] { &quot;title&quot;, &quot;author&quot;,&quot;image&quot;},\r\n            new int[] { R.id.item_title ,R.id.item_author,R.id.list_image});\r\n\r\n            setListAdapter(adapter);\r\n\r\n            final ListView lv = getListView();\r\n            lv.setTextFilterEnabled(true);\r\n            lv.setOnItemClickListener(new OnItemClickListener() {\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\t        @SuppressWarnings(&quot;unchecked&quot;)\r\n\t        HashMap&lt;String, String&gt; o = (HashMap&lt;String, String&gt;) lv.getItemAtPosition(position);\r\n\t        Object v=o.get(&quot;id&quot;);\r\n\t        String id1=v.toString();\r\n \t        Intent myintent= new Intent(SearchByLikeCount.this,ViewArticle.class);\r\n            myintent.putExtra(&quot;articleId&quot;, id1);\r\n            startActivity(myintent);\r\n            }\r\n        });\t\r\n     }\r\n    }\r\nThis didnt work :( can any tell what was the mistake i did??","title":"Retrieving blob images from mysql database and displaying in android listview","body":"<p>I have created a database in phpmyadmin named article that contains information regarding the articles and an image(stored as blob). I m able to fetch the data from the data base and display it in the android list view but i m not getting how to retrieve a blob image from the database and display it along with the corresponding article information in android list view.. please help me.. i did lot of googling but i failed to do..\nAny link to tutorial or any code posted will be very greatfull... i need this for my project..\nThanks in advance :)</p>\n\n<p>My php code is -</p>\n\n<pre><code>&lt;?php\nheader('Content-type: application/json');\nmysql_query('SET CHARACTER SET utf8');\nmysql_connect(\"localhost\",\"root\",\"\");\nmysql_select_db(\"reader\");\n$id=$_REQUEST['keyword'];\n$id1=(int)$id;\n$sql=mysql_query(\"SELECT * FROM article a WHERE a.a_id='{$id}'\");\nwhile($row=mysql_fetch_assoc($sql))\n{\n$row['a_thumbnail']=base64_encode($row['a_thumbnail']);\n$row1= array_slice($row, 0, 2);\n$row_slice=array_slice($row,2);\n$output2=array_map('utf8_encode', $row_slice);\n$output[]=array_merge((array)$row1, (array)$output2);\n}\nprint(json_encode($output));\nmysql_close();\n?&gt;\n</code></pre>\n\n<p>The java code i wrote to retrieve image is-</p>\n\n<pre><code>public class SearchByLikeCount extends ListActivity {\nArrayList&lt;HashMap&lt;String, String&gt;&gt; mylist = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n\n@Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main2);\n        String result = \"\";\n        InputStream is= null;\n        try{\n                HttpClient httpclient = new DefaultHttpClient();\n                HttpGet httpget = new HttpGet(\"http://10.0.2.2/likeCountsearch.php\");\n                HttpResponse response = httpclient.execute(httpget);\n                HttpEntity entity = response.getEntity();\n                is = entity.getContent();\n        }catch(Exception e){\n                Log.e(\"log_tag\", \"Error in http connection \"+e.toString());\n        }\n        try{\n                BufferedReader reader = new BufferedReader(new InputStreamReader(is,\"utf-8\"),8);\n                StringBuilder sb = new StringBuilder();\n                String line = null;\n                while ((line = reader.readLine()) != null) {\n                        sb.append(line + \"\\n\");\n                }\n                is.close();\n\n                result=sb.toString();\n        }catch(Exception e){\n                Log.e(\"log_tag\", \"Error converting result \"+e.toString());\n        }\n        try{\n                JSONArray jArray = new JSONArray(result);\n                for(int i=0;i&lt;jArray.length();i++){\n\n                    HashMap&lt;String,String&gt; map = new HashMap&lt;String, String&gt;();\n                    JSONObject e = jArray.getJSONObject(i);\n                    Log.i(\"shruthi\", \"jason object length = \" + e.length());\n                    map.put(\"id\",  e.getString(\"a_id\"));\n                    map.put(\"title\",  e.getString(\"a_title\"));\n                    map.put(\"author\",  e.getString(\"a_author\"));\n                    map.put(\"image\", e.getString(\"a_thumbnail\"));\n                    mylist.add(map);\n            }\n               }catch(JSONException e)        {\n                 Log.e(\"log_tag\", \"Error parsing data \"+e.toString());\n               }\n\n        ListAdapter adapter = new SimpleAdapter(SearchByLikeCount.this, mylist , R.layout.main2,\n        new String[] { \"title\", \"author\",\"image\"},\n        new int[] { R.id.item_title ,R.id.item_author,R.id.list_image});\n\n        setListAdapter(adapter);\n\n        final ListView lv = getListView();\n        lv.setTextFilterEnabled(true);\n        lv.setOnItemClickListener(new OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        @SuppressWarnings(\"unchecked\")\n        HashMap&lt;String, String&gt; o = (HashMap&lt;String, String&gt;) lv.getItemAtPosition(position);\n        Object v=o.get(\"id\");\n        String id1=v.toString();\n        Intent myintent= new Intent(SearchByLikeCount.this,ViewArticle.class);\n        myintent.putExtra(\"articleId\", id1);\n        startActivity(myintent);\n        }\n    }); \n }\n}\n</code></pre>\n\n<p>This didnt work :( can any tell what was the mistake i did??</p>\n"},{"tags":["java","android","permissions","usb"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1663138038,"post_id":73544940,"comment_id":130165463,"body_markdown":"I use a different approach to get the state of `intent.getExtras().getBoolean(                           UsbManager.EXTRA_PERMISSION_GRANTED)` from the broadcast receiver by using a custom intent action. See right here: https://stackoverflow.com/questions/61734579/android-10-usb-host-cant-connect-to-device-permission-not-granted-but-shoul/73711856#73711856","body":"I use a different approach to get the state of <code>intent.getExtras().getBoolean(                           UsbManager.EXTRA_PERMISSION_GRANTED)</code> from the broadcast receiver by using a custom intent action. See right here: <a href=\"https://stackoverflow.com/questions/61734579/android-10-usb-host-cant-connect-to-device-permission-not-granted-but-shoul/73711856#73711856\" title=\"android 10 usb host cant connect to device permission not granted but shoul\">stackoverflow.com/questions/61734579/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15316001,"reputation":96,"user_id":11049886,"display_name":"Cosby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661940050,"creation_date":1661940050,"answer_id":73554157,"question_id":73544940,"body_markdown":"Answering my own question in case someone else is facing the same issue. \r\n\r\nI though about manually requesting the permission again, after permission was granted, since it is possible to handle this manual permission request when user presses an option in the dialog. I discarded this idea, not because it wouldn&#39;t work, but because I saw it as unecessary for the user to also have to press another dialog after the initial (automatic dialog). \r\nI must add that I have not implemented this solution, so I do not know with certainty that it would prompt the user again, but I have had trouble with the manual permission request previously. If you want to try this approach the method belongs to the UsbManager class and is invoke like so `usbManger.requestPermission(usbDevice)`.\r\n\r\nI ended up with a solution where I start a thread which runs a loop calling `usbManager.hasPermission(usbDevice)` until it has permission and then emits an event (emitting this event is my use case, implement it how you like).\r\n\r\nThe solution can be seen here: \r\n```java\r\n  import android.hardware.usb.UsbDevice;\r\n  import android.hardware.usb.UsbDeviceConnection;\r\n  import android.hardware.usb.UsbManager;\r\n  import com.facebook.react.bridge.ReactApplicationContext;\r\n  ...\r\n\r\n  private static volatile boolean permissionThreadShouldStop = false;\r\n  private static Thread activePermissionThread = null;\r\n\r\n  ...\r\n\r\n  public static void usbPermissionEventEmitter(ReactApplicationContext reactContext, UsbManager usbManager, UsbDevice usbDevice) {\r\n\r\n    if((activePermissionThread != null &amp;&amp; activePermissionThread.isAlive())) {\r\n      activePermissionThread.interrupt();\r\n    }\r\n\r\n    permissionThreadShouldStop = false;\r\n\r\n    activePermissionThread = new Thread(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n\r\n        while (!usbManager.hasPermission(usbDevice) &amp;&amp; !permissionThreadShouldStop) {\r\n          try {\r\n            Thread.sleep(30);\r\n          } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n            break;\r\n          }\r\n        }\r\n\r\n        if(usbManager.hasPermission(usbDevice)) {\r\n          sendEvent(reactContext, &quot;onUsbPermissionGranted&quot;, true);\r\n        }\r\n      }\r\n    });\r\n\r\n    activePermissionThread.start();\r\n  }\r\n``` \r\nThe `ReactApplicationContext` can be swapped with the normal android context. But this is for a react native module, so I use the reactContext. \r\n\r\nI hope this will be helpful for someone, because i&#39;m honestly really surpriced how scarse the android documentation is in regards to implementing Usb functionality using the android.hardware.usb library. \r\nAlso in general when searching for information online, I have often found myself lost since there is very little information on this subject. ","title":"How to handle the Usb Permission Dialog Event on android when using the &quot;device filter&quot; solution?","body":"<p>Answering my own question in case someone else is facing the same issue.</p>\n<p>I though about manually requesting the permission again, after permission was granted, since it is possible to handle this manual permission request when user presses an option in the dialog. I discarded this idea, not because it wouldn't work, but because I saw it as unecessary for the user to also have to press another dialog after the initial (automatic dialog).\nI must add that I have not implemented this solution, so I do not know with certainty that it would prompt the user again, but I have had trouble with the manual permission request previously. If you want to try this approach the method belongs to the UsbManager class and is invoke like so <code>usbManger.requestPermission(usbDevice)</code>.</p>\n<p>I ended up with a solution where I start a thread which runs a loop calling <code>usbManager.hasPermission(usbDevice)</code> until it has permission and then emits an event (emitting this event is my use case, implement it how you like).</p>\n<p>The solution can be seen here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  import android.hardware.usb.UsbDevice;\n  import android.hardware.usb.UsbDeviceConnection;\n  import android.hardware.usb.UsbManager;\n  import com.facebook.react.bridge.ReactApplicationContext;\n  ...\n\n  private static volatile boolean permissionThreadShouldStop = false;\n  private static Thread activePermissionThread = null;\n\n  ...\n\n  public static void usbPermissionEventEmitter(ReactApplicationContext reactContext, UsbManager usbManager, UsbDevice usbDevice) {\n\n    if((activePermissionThread != null &amp;&amp; activePermissionThread.isAlive())) {\n      activePermissionThread.interrupt();\n    }\n\n    permissionThreadShouldStop = false;\n\n    activePermissionThread = new Thread(new Runnable() {\n      @Override\n      public void run() {\n\n        while (!usbManager.hasPermission(usbDevice) &amp;&amp; !permissionThreadShouldStop) {\n          try {\n            Thread.sleep(30);\n          } catch (InterruptedException e) {\n            e.printStackTrace();\n            break;\n          }\n        }\n\n        if(usbManager.hasPermission(usbDevice)) {\n          sendEvent(reactContext, &quot;onUsbPermissionGranted&quot;, true);\n        }\n      }\n    });\n\n    activePermissionThread.start();\n  }\n</code></pre>\n<p>The <code>ReactApplicationContext</code> can be swapped with the normal android context. But this is for a react native module, so I use the reactContext.</p>\n<p>I hope this will be helpful for someone, because i'm honestly really surpriced how scarse the android documentation is in regards to implementing Usb functionality using the android.hardware.usb library.\nAlso in general when searching for information online, I have often found myself lost since there is very little information on this subject.</p>\n"}],"owner":{"account_id":15316001,"reputation":96,"user_id":11049886,"display_name":"Cosby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73554157,"answer_count":1,"score":3,"last_activity_date":1661940050,"creation_date":1661873132,"question_id":73544940,"body_markdown":"I&#39;m trying to handle the event when a user presses &quot;ok&quot; or &quot;cancel&quot; on the automatic permission dialog presented when I connect a &quot;known&quot; USB device to the android phone. \r\n\r\nI&#39;m using the android.usb.host library and can send and receive between the android phone and the device. Futhermore do I handle the &quot;USB_DEVICE_ATTACHED&quot; and &quot;USB_DEVICE_DETACHED&quot; using a BroadcastReceiver without any problems.\r\n\r\nI want to enable a sort of &quot;autoconnect&quot; feature and therefore I need to know when the user has pressed &quot;ok&quot; in the automatically displayed permission dialog, but I can&#39;t find anything online at all. All I find is &quot;bypass dialog&quot;, but this is not what I want or need.\r\n\r\nWhen I connect the usb device to the android phone, a permission dialog is automatically displayed because I use the &quot;device_filter.xml&quot; solution from androids documentation which can be seen here [Android Usb Docs](https://developer.android.com/guide/topics/connectivity/usb/host#permission-d).   \r\n\r\nThis is how I handle the USB_DEVICE_ATTATCHED and USB_DEVICE_DETACHED events: \r\n```java\r\n\r\n  public NativeUsbService(ReactApplicationContext reactContext) {\r\n    ...\r\n    // register device attached/detached event listeners\r\n    IntentFilter filter = new IntentFilter();\r\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\r\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\r\n\r\n    reactContext.registerReceiver(usbReceiver, filter);\r\n    ...\r\n  }\r\n```  \r\nAnd then the Broadcast Receiver:\r\n```java\r\nprivate final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\r\n\r\n    public void onReceive(Context context, Intent intent) {\r\n      String action = intent.getAction();\r\n      if (action.equals(UsbManager.ACTION_USB_DEVICE_ATTACHED)) {\r\n        synchronized (this) {\r\n          UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n          if(device != null){\r\n            usbDevice = device;\r\n          } else {\r\n            Log.d(TAG, &quot;onReceive: DEVICE WAS ATTACHED AND WAS NULL :(&quot;);\r\n          }\r\n        }\r\n      } else if (action.equals(UsbManager.ACTION_USB_DEVICE_DETACHED)) {\r\n        Log.d(TAG, &quot;onReceive: Device was detached!&quot;);\r\n        if(connection != null) {\r\n          connection.releaseInterface(usbDeviceInterface);\r\n          connection.close();\r\n        }\r\n        connection = null;\r\n        usbDevice = null;\r\n        endpointIn = null;\r\n        endpointOut = null;\r\n      }\r\n    }\r\n  };\r\n```\r\n\r\nI have tried multiple different approaches, but nothing has worked.\r\n\r\nI have tried getting the user response in from the intent, like with a manual permission request like below:\r\n\r\n```java\r\nprivate final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\r\n\r\n    public void onReceive(Context context, Intent intent) {\r\n      String action = intent.getAction();\r\n      if (action.equals(UsbManager.ACTION_USB_DEVICE_ATTACHED)) {\r\n        synchronized (this) {\r\n          UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n          if(device != null){\r\n            usbDevice = device;\r\n\r\n            // THIS DOES NOT WORK ↓↓↓\r\n            if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n              // The code never gets here...\r\n            }\r\n\r\n          } else {\r\n              Log.d(TAG, &quot;onReceive: DEVICE WAS ATTACHED AND WAS NULL :(&quot;);\r\n              sendEvent(&quot;onDeviceAttached&quot;, false);\r\n          }\r\n\r\n        }\r\n      } else if (action.equals(UsbManager.ACTION_USB_DEVICE_DETACHED)) {\r\n        if(connection != null) {\r\n          connection.releaseInterface(usbDeviceInterface);\r\n          connection.close();\r\n        }\r\n        connection = null;\r\n        usbDevice = null;\r\n        endpointIn = null;\r\n        endpointOut = null;\r\n      }\r\n    }\r\n  };\r\n \r\n```\r\n\r\nI have also tried by adding a usb permission listener to the broadcast receiver by first adding the action name to my class variables: \r\n```java\r\nprivate static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\r\n```\r\n\r\nThen adding the action to my intent filter like so:\r\n```java\r\n public NativeUsbService(ReactApplicationContext reactContext) {\r\n    // register device attached/detached event listeners\r\n    IntentFilter filter = new IntentFilter();\r\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\r\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\r\n    filter.addAction(ACTION_USB_PERMISSION); // added action to my intent filter\r\n\r\n    reactContext.registerReceiver(usbReceiver, filter);\r\n  }\r\n```\r\n\r\nAnd finally reacting to the action like so: \r\n```java\r\n  private final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\r\n\r\n    public void onReceive(Context context, Intent intent) {\r\n      String action = intent.getAction();\r\n      if (action.equals(UsbManager.ACTION_USB_DEVICE_ATTACHED)) {\r\n        synchronized (this) {\r\n          UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n          if(device != null){\r\n            usbDevice = device;\r\n          } \r\n        }\r\n      } else if (action.equals(UsbManager.ACTION_USB_DEVICE_DETACHED)) {\r\n        Log.d(TAG, &quot;onReceive: Device was detached!&quot;);\r\n        if(connection != null) {\r\n          connection.releaseInterface(usbDeviceInterface);\r\n          connection.close();\r\n        }\r\n        connection = null;\r\n        usbDevice = null;\r\n        endpointIn = null;\r\n        endpointOut = null;\r\n\r\n        sendEvent(&quot;onDeviceDetached&quot;, true);\r\n      }\r\n      else if (action.equals(ACTION_USB_PERMISSION)) {\r\n        Log.d(TAG, &quot;onReceive: ACTION_USB_PERMISSION&quot;);\r\n        if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n          Log.d(TAG, &quot;onReceive: EXTRA_PERMISSION_GRANTED = true&quot;);\r\n        } else Log.d(TAG, &quot;onReceive: EXTRA_PERMISSION_GRANTED = false&quot;);\r\n      }\r\n    }\r\n  };\r\n```\r\n\r\nPlease make me aware of any missing information.\r\nAny help is greatly appreciated.","title":"How to handle the Usb Permission Dialog Event on android when using the &quot;device filter&quot; solution?","body":"<p>I'm trying to handle the event when a user presses &quot;ok&quot; or &quot;cancel&quot; on the automatic permission dialog presented when I connect a &quot;known&quot; USB device to the android phone.</p>\n<p>I'm using the android.usb.host library and can send and receive between the android phone and the device. Futhermore do I handle the &quot;USB_DEVICE_ATTACHED&quot; and &quot;USB_DEVICE_DETACHED&quot; using a BroadcastReceiver without any problems.</p>\n<p>I want to enable a sort of &quot;autoconnect&quot; feature and therefore I need to know when the user has pressed &quot;ok&quot; in the automatically displayed permission dialog, but I can't find anything online at all. All I find is &quot;bypass dialog&quot;, but this is not what I want or need.</p>\n<p>When I connect the usb device to the android phone, a permission dialog is automatically displayed because I use the &quot;device_filter.xml&quot; solution from androids documentation which can be seen here <a href=\"https://developer.android.com/guide/topics/connectivity/usb/host#permission-d\" rel=\"nofollow noreferrer\">Android Usb Docs</a>.</p>\n<p>This is how I handle the USB_DEVICE_ATTATCHED and USB_DEVICE_DETACHED events:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  public NativeUsbService(ReactApplicationContext reactContext) {\n    ...\n    // register device attached/detached event listeners\n    IntentFilter filter = new IntentFilter();\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\n\n    reactContext.registerReceiver(usbReceiver, filter);\n    ...\n  }\n</code></pre>\n<p>And then the Broadcast Receiver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\n\n    public void onReceive(Context context, Intent intent) {\n      String action = intent.getAction();\n      if (action.equals(UsbManager.ACTION_USB_DEVICE_ATTACHED)) {\n        synchronized (this) {\n          UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n          if(device != null){\n            usbDevice = device;\n          } else {\n            Log.d(TAG, &quot;onReceive: DEVICE WAS ATTACHED AND WAS NULL :(&quot;);\n          }\n        }\n      } else if (action.equals(UsbManager.ACTION_USB_DEVICE_DETACHED)) {\n        Log.d(TAG, &quot;onReceive: Device was detached!&quot;);\n        if(connection != null) {\n          connection.releaseInterface(usbDeviceInterface);\n          connection.close();\n        }\n        connection = null;\n        usbDevice = null;\n        endpointIn = null;\n        endpointOut = null;\n      }\n    }\n  };\n</code></pre>\n<p>I have tried multiple different approaches, but nothing has worked.</p>\n<p>I have tried getting the user response in from the intent, like with a manual permission request like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\n\n    public void onReceive(Context context, Intent intent) {\n      String action = intent.getAction();\n      if (action.equals(UsbManager.ACTION_USB_DEVICE_ATTACHED)) {\n        synchronized (this) {\n          UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n          if(device != null){\n            usbDevice = device;\n\n            // THIS DOES NOT WORK ↓↓↓\n            if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n              // The code never gets here...\n            }\n\n          } else {\n              Log.d(TAG, &quot;onReceive: DEVICE WAS ATTACHED AND WAS NULL :(&quot;);\n              sendEvent(&quot;onDeviceAttached&quot;, false);\n          }\n\n        }\n      } else if (action.equals(UsbManager.ACTION_USB_DEVICE_DETACHED)) {\n        if(connection != null) {\n          connection.releaseInterface(usbDeviceInterface);\n          connection.close();\n        }\n        connection = null;\n        usbDevice = null;\n        endpointIn = null;\n        endpointOut = null;\n      }\n    }\n  };\n \n</code></pre>\n<p>I have also tried by adding a usb permission listener to the broadcast receiver by first adding the action name to my class variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\n</code></pre>\n<p>Then adding the action to my intent filter like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public NativeUsbService(ReactApplicationContext reactContext) {\n    // register device attached/detached event listeners\n    IntentFilter filter = new IntentFilter();\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\n    filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\n    filter.addAction(ACTION_USB_PERMISSION); // added action to my intent filter\n\n    reactContext.registerReceiver(usbReceiver, filter);\n  }\n</code></pre>\n<p>And finally reacting to the action like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\n\n    public void onReceive(Context context, Intent intent) {\n      String action = intent.getAction();\n      if (action.equals(UsbManager.ACTION_USB_DEVICE_ATTACHED)) {\n        synchronized (this) {\n          UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n          if(device != null){\n            usbDevice = device;\n          } \n        }\n      } else if (action.equals(UsbManager.ACTION_USB_DEVICE_DETACHED)) {\n        Log.d(TAG, &quot;onReceive: Device was detached!&quot;);\n        if(connection != null) {\n          connection.releaseInterface(usbDeviceInterface);\n          connection.close();\n        }\n        connection = null;\n        usbDevice = null;\n        endpointIn = null;\n        endpointOut = null;\n\n        sendEvent(&quot;onDeviceDetached&quot;, true);\n      }\n      else if (action.equals(ACTION_USB_PERMISSION)) {\n        Log.d(TAG, &quot;onReceive: ACTION_USB_PERMISSION&quot;);\n        if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n          Log.d(TAG, &quot;onReceive: EXTRA_PERMISSION_GRANTED = true&quot;);\n        } else Log.d(TAG, &quot;onReceive: EXTRA_PERMISSION_GRANTED = false&quot;);\n      }\n    }\n  };\n</code></pre>\n<p>Please make me aware of any missing information.\nAny help is greatly appreciated.</p>\n"},{"tags":["java","outputstream","fileoutputstream"],"comments":[{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1519498686,"post_id":48966114,"comment_id":84938602,"body_markdown":"Don&#39;t you get any exception?","body":"Don&#39;t you get any exception?"},{"owner":{"account_id":10504663,"reputation":61,"user_id":7742271,"display_name":"Sidharth"},"score":0,"creation_date":1519505460,"post_id":48966114,"comment_id":84940538,"body_markdown":"No exceptions . i ran the code in debug it goes through each step normally","body":"No exceptions . i ran the code in debug it goes through each step normally"}],"answers":[{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519499104,"creation_date":1519499104,"answer_id":48966575,"question_id":48966114,"body_markdown":"Closing the output stream (on first iteration) and then trying to write to it (on the second one) is of course an error.\r\n\r\nBut even if you comment out `out.close(), there is a problem: you set `Content-Length` twice with lengths of individual files, but you output both files content, so the length must be the sum of the individual lengths.\r\n\r\nLooks like you are trying to download both files in one request. The only reliable way is to pack them both into a single archive (like a ZIP archive) and download one file, see here: https://stackoverflow.com/questions/1041542/how-to-download-multiple-files-with-one-http-request\r\n\r\nOr just download them one by one.","title":"Java OutputStream : Download Multiple Files","body":"<p>Closing the output stream (on first iteration) and then trying to write to it (on the second one) is of course an error.</p>\n\n<p>But even if you comment out <code>out.close(), there is a problem: you set</code>Content-Length` twice with lengths of individual files, but you output both files content, so the length must be the sum of the individual lengths.</p>\n\n<p>Looks like you are trying to download both files in one request. The only reliable way is to pack them both into a single archive (like a ZIP archive) and download one file, see here: <a href=\"https://stackoverflow.com/questions/1041542/how-to-download-multiple-files-with-one-http-request\">How to download multiple files with one HTTP request?</a></p>\n\n<p>Or just download them one by one.</p>\n"}],"owner":{"account_id":10504663,"reputation":61,"user_id":7742271,"display_name":"Sidharth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661939921,"creation_date":1519496222,"question_id":48966114,"body_markdown":"I am trying to download multiple files using `OutputStream`. I have created a for loop, looping through a Vector `FileS` which has file names and download them. But only the first file is getting downloaded. My `Vector` has `FileZero.xml` at 0 and `FileOne.xml` at 1 and only fileZero is getting downloaded. Please help; here&#39;s my code\r\n\r\n            for (int x = 0; x &lt; FileS.size(); x++) {\r\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n                int nRead;\r\n                byte[] data = new byte[1024];\r\n                reportFile = rm.getClass().getResourceAsStream(&quot;/folder/&quot; + FileS.elementAt(x));\r\n                try {\r\n                    while ((nRead = reportFile.read(data, 0, data.length)) != -1) {\r\n                        buffer.write(data, 0, nRead);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            buffer.flush();\r\n            byte[] byteArray = buffer.toByteArray();\r\n\r\n            try {\r\n\r\n                byte bytes[] = null;\r\n                bytes = byteArray;\r\n                response.setContentLength(bytes.length);\r\n                response.setContentType(&quot;application/force-download&quot;);\r\n                response.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=&quot; + FileS.elementAt(x));\r\n                OutputStream out = response.getOutputStream();\r\n                out.write(bytes);\r\n                out.flush();\r\n                out.close();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        } catch (Exception e) {\r\n           e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nAlso, I tried commenting out `out.flush()` and `out.close()`;but it didn&#39;t help. I tried putting the `OutputStream` object outside the loop just to test that also didn&#39;t help.","title":"Java OutputStream : Download Multiple Files","body":"<p>I am trying to download multiple files using <code>OutputStream</code>. I have created a for loop, looping through a Vector <code>FileS</code> which has file names and download them. But only the first file is getting downloaded. My <code>Vector</code> has <code>FileZero.xml</code> at 0 and <code>FileOne.xml</code> at 1 and only fileZero is getting downloaded. Please help; here's my code</p>\n\n<pre><code>        for (int x = 0; x &lt; FileS.size(); x++) {\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n            int nRead;\n            byte[] data = new byte[1024];\n            reportFile = rm.getClass().getResourceAsStream(\"/folder/\" + FileS.elementAt(x));\n            try {\n                while ((nRead = reportFile.read(data, 0, data.length)) != -1) {\n                    buffer.write(data, 0, nRead);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        buffer.flush();\n        byte[] byteArray = buffer.toByteArray();\n\n        try {\n\n            byte bytes[] = null;\n            bytes = byteArray;\n            response.setContentLength(bytes.length);\n            response.setContentType(\"application/force-download\");\n            response.setHeader(\"Content-Disposition\", \"inline;filename=\" + FileS.elementAt(x));\n            OutputStream out = response.getOutputStream();\n            out.write(bytes);\n            out.flush();\n            out.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    } catch (Exception e) {\n       e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Also, I tried commenting out <code>out.flush()</code> and <code>out.close()</code>;but it didn't help. I tried putting the <code>OutputStream</code> object outside the loop just to test that also didn't help.</p>\n"},{"tags":["java","maven","swagger","openapi"],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661939525,"creation_date":1661931729,"question_id":73552453,"body_markdown":"I want to generate html swagger documentation from yml file by the means of\r\n\r\n\t\t\r\n\r\n            &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.35&lt;/version&gt;\r\n\r\nI have a next plugin configuration\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.35&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sourceFolder&gt;${project.basedir}/src/main/resources/openapi.yml&lt;/sourceFolder&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/openapi.yml&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;language&gt;html&lt;/language&gt;\r\n    \t\t\t\t\t\t\t&lt;environmentVariables&gt;\r\n    \t\t\t\t\t\t\t\t&lt;supportingFiles&gt;false&lt;/supportingFiles&gt;\r\n    \t\t\t\t\t\t\t&lt;/environmentVariables&gt;\r\n    \t\t\t\t\t\t\t&lt;output&gt;${project.basedir}/src/main/resources&lt;/output&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\nAfter I run mvn clean install I expect documentation to be generated, but I got nothing. \r\nDocumentation is not generated at all. I&#39;ve checked all possible folders - no result.\r\n\r\nCould you please tell me what is wrong with my configuration or provide working example ? \r\n\r\nThanks! \r\n\r\n\r\nP.S. When I change html to java/spring code is generated and everything looks good. But html does not work.","title":"io.swagger.codegen.v3 swagger-codegen-maven-plugin does not generate html documentation","body":"<p>I want to generate html swagger documentation from yml file by the means of</p>\n<pre><code>        &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.35&lt;/version&gt;\n</code></pre>\n<p>I have a next plugin configuration</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.35&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;configOptions&gt;\n                                &lt;sourceFolder&gt;${project.basedir}/src/main/resources/openapi.yml&lt;/sourceFolder&gt;\n                            &lt;/configOptions&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/openapi.yml&lt;/inputSpec&gt;\n                            &lt;language&gt;html&lt;/language&gt;\n                            &lt;environmentVariables&gt;\n                                &lt;supportingFiles&gt;false&lt;/supportingFiles&gt;\n                            &lt;/environmentVariables&gt;\n                            &lt;output&gt;${project.basedir}/src/main/resources&lt;/output&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After I run mvn clean install I expect documentation to be generated, but I got nothing.\nDocumentation is not generated at all. I've checked all possible folders - no result.</p>\n<p>Could you please tell me what is wrong with my configuration or provide working example ?</p>\n<p>Thanks!</p>\n<p>P.S. When I change html to java/spring code is generated and everything looks good. But html does not work.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1505215478,"post_id":46172120,"comment_id":79312340,"body_markdown":"Do you mean Find in Path or Find Usages? What Scope do you use?","body":"Do you mean Find in Path or Find Usages? What Scope do you use?"},{"owner":{"account_id":5648623,"reputation":768,"user_id":4469946,"accept_rate":65,"display_name":"Jay"},"score":0,"creation_date":1505216544,"post_id":46172120,"comment_id":79313006,"body_markdown":"@CrazyCoder Finding file name","body":"@CrazyCoder Finding file name"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1505216676,"post_id":46172120,"comment_id":79313124,"body_markdown":"https://youtrack.jetbrains.com/issue/IDEA-165830 may be the case if you are referencing files from the target in the project.","body":"<a href=\"https://youtrack.jetbrains.com/issue/IDEA-165830\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-165830</a> may be the case if you are referencing files from the target in the project."},{"owner":{"account_id":5648623,"reputation":768,"user_id":4469946,"accept_rate":65,"display_name":"Jay"},"score":0,"creation_date":1505217945,"post_id":46172120,"comment_id":79313989,"body_markdown":"@CrazyCoder I checked but I didn&#39;t find any referencing from the target.","body":"@CrazyCoder I checked but I didn&#39;t find any referencing from the target."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1505218075,"post_id":46172120,"comment_id":79314075,"body_markdown":"See if you can reproduce it in some other Maven project.","body":"See if you can reproduce it in some other Maven project."}],"answers":[{"tags":[],"owner":{"account_id":14126489,"reputation":221,"user_id":10205610,"display_name":"Saurabh Trivedi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597894120,"creation_date":1597894120,"answer_id":63497863,"question_id":46172120,"body_markdown":"Right-click on the folder you want to exclude, you will find the option there. ","title":"Excluding target folder from intellij search","body":"<p>Right-click on the folder you want to exclude, you will find the option there.</p>\n"},{"tags":[],"owner":{"account_id":4390305,"reputation":795,"user_id":3586021,"display_name":"Echsecutor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661939441,"creation_date":1661939441,"answer_id":73554032,"question_id":46172120,"body_markdown":"To add to @Saurabh&#39;s Answer\r\n- Find the folder you want to exclude in the project tree\r\n- Right click -&gt; &quot;Mark Directory as&quot; -&gt; &quot;Excluded&quot;\r\n\r\n[![mark folder as excluded screenshot][1]][1]\r\n\r\nThis will hide files inside the folder from the find filename Dialog (ctrl+shift+N).\r\n\r\n  [1]: https://i.stack.imgur.com/q0GH6.png","title":"Excluding target folder from intellij search","body":"<p>To add to @Saurabh's Answer</p>\n<ul>\n<li>Find the folder you want to exclude in the project tree</li>\n<li>Right click -&gt; &quot;Mark Directory as&quot; -&gt; &quot;Excluded&quot;</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/q0GH6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q0GH6.png\" alt=\"mark folder as excluded screenshot\" /></a></p>\n<p>This will hide files inside the folder from the find filename Dialog (ctrl+shift+N).</p>\n"}],"owner":{"account_id":5648623,"reputation":768,"user_id":4469946,"accept_rate":65,"display_name":"Jay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5392,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1661939441,"creation_date":1505206749,"question_id":46172120,"body_markdown":"I have been trying to exclude maven projects target folders from intellij search.\r\n\r\nEven though all target folders of all maven projects are excluded (***File-&gt;Project structure-&gt;Modules-&gt;Excluded folders***), the files in the the target still appear when searching for a filename.\r\n\r\n[![image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UOgCT.png\r\n\r\n\r\nYour help is appreciated!","title":"Excluding target folder from intellij search","body":"<p>I have been trying to exclude maven projects target folders from intellij search.</p>\n\n<p>Even though all target folders of all maven projects are excluded (<strong><em>File->Project structure->Modules->Excluded folders</em></strong>), the files in the the target still appear when searching for a filename.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UOgCT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UOgCT.png\" alt=\"image\"></a></p>\n\n<p>Your help is appreciated!</p>\n"},{"tags":["java","swing","layout","jframe"],"comments":[{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1354442111,"post_id":13668131,"comment_id":18759948,"body_markdown":"You don&#39;t expect I will read this all, do you?","body":"You don&#39;t expect I will read this all, do you?"},{"owner":{"account_id":1853811,"reputation":229,"user_id":1679801,"accept_rate":46,"display_name":"Burfi"},"score":0,"creation_date":1354442936,"post_id":13668131,"comment_id":18760115,"body_markdown":"I believe someone out there will definitely read.","body":"I believe someone out there will definitely read."},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1354443053,"post_id":13668131,"comment_id":18760143,"body_markdown":"Well, post an [SSCCE](http://sscce.org), for better and faster answers.","body":"Well, post an <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a>, for better and faster answers."},{"owner":{"account_id":1853811,"reputation":229,"user_id":1679801,"accept_rate":46,"display_name":"Burfi"},"score":0,"creation_date":1354444685,"post_id":13668131,"comment_id":18760388,"body_markdown":"Have removed unnecessary code block.","body":"Have removed unnecessary code block."}],"answers":[{"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354441897,"creation_date":1354441897,"answer_id":13668161,"question_id":13668131,"body_markdown":"Read about [`javax.swing.Box.Filler`](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/Box.Filler.html) class, for spacing, or simply create one, by one of the static `create...` methods of `Box`","title":"Java Swing Virtual Keyboard On JFrame","body":"<p>Read about <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/Box.Filler.html\" rel=\"nofollow\"><code>javax.swing.Box.Filler</code></a> class, for spacing, or simply create one, by one of the static <code>create...</code> methods of <code>Box</code></p>\n"},{"tags":[],"owner":{"account_id":1450758,"reputation":1059,"user_id":1367774,"display_name":"schippi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354447763,"creation_date":1354447763,"answer_id":13668842,"question_id":13668131,"body_markdown":"this would be a ***very quick and dirty*** realization if the window isnt resizable.\r\n\r\n\r\nbut adding so many panels just to get the space isnt what i would call great coding. i would suggest if you run into more layouting problems, that you take a look at the various tutorials about LayoutManager.\r\n\r\n\r\n    for(int i = 0; i &lt; fifthRow.length; ++i)\r\n    {\r\n        if(i==0) //space bar panel\r\n        {\r\n            JButton b = new JButton(fifthRow[i]);\r\n            fifth[i]=b;\r\n            //add empty panels for layout \r\n            p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());\r\n            Container glassPane = (Container) getRootPane().getGlassPane();\r\n        \tglassPane.setVisible(true);\r\n        \tglassPane.setLayout(new GridBagLayout());\r\n        \tGridBagConstraints gbc = new GridBagConstraints();\r\n        \tgbc.weightx = 1.0;\r\n        \tgbc.weighty = 1.0;\r\n        \tgbc.fill = GridBagConstraints.NONE;\r\n        \tgbc.insets = new Insets(getBounds().y-350, 180, 0, 20);\r\n        \tgbc.anchor = GridBagConstraints.SOUTHWEST;\r\n            b.setPreferredSize(new Dimension(450,50));\r\n            glassPane.add(fifth[i], gbc);\r\n        }\r\n        else\r\n        {\r\n            fifth[i]=new JButton(fifthRow[i]);\r\n            p.add(fifth[i]);\r\n        }\r\n        if(i==0) //first black panel\r\n        {\r\n             //place a black panel at first\r\n               JPanel  spacePanel = new JPanel();\r\n               p.add(spacePanel);\r\n        }\r\n\r\n        \r\n\r\n    }","title":"Java Swing Virtual Keyboard On JFrame","body":"<p>this would be a <strong><em>very quick and dirty</em></strong> realization if the window isnt resizable.</p>\n\n<p>but adding so many panels just to get the space isnt what i would call great coding. i would suggest if you run into more layouting problems, that you take a look at the various tutorials about LayoutManager.</p>\n\n<pre><code>for(int i = 0; i &lt; fifthRow.length; ++i)\n{\n    if(i==0) //space bar panel\n    {\n        JButton b = new JButton(fifthRow[i]);\n        fifth[i]=b;\n        //add empty panels for layout \n        p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());\n        Container glassPane = (Container) getRootPane().getGlassPane();\n        glassPane.setVisible(true);\n        glassPane.setLayout(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1.0;\n        gbc.weighty = 1.0;\n        gbc.fill = GridBagConstraints.NONE;\n        gbc.insets = new Insets(getBounds().y-350, 180, 0, 20);\n        gbc.anchor = GridBagConstraints.SOUTHWEST;\n        b.setPreferredSize(new Dimension(450,50));\n        glassPane.add(fifth[i], gbc);\n    }\n    else\n    {\n        fifth[i]=new JButton(fifthRow[i]);\n        p.add(fifth[i]);\n    }\n    if(i==0) //first black panel\n    {\n         //place a black panel at first\n           JPanel  spacePanel = new JPanel();\n           p.add(spacePanel);\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26206402,"reputation":1,"user_id":19885938,"display_name":"visyboard free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661939330,"creation_date":1661939330,"answer_id":73554003,"question_id":13668131,"body_markdown":"after a long game around swing automated look and feel such as GridBagLayout eventually i decided to write my own simple and short algorithm.\r\n\r\nfirst have a look at this photo if you like the photo and that is a screenshot of the virtual keyboard then have a look at the code After the photo \r\n\r\nhttps://raw.githubusercontent.com/visyboardfree/pages/main/visyboard%20free%20java%20based%20system%20wide%20onscreen%20virtual%20keyboards.png\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NyCcJ.png\r\n\r\n\r\n\r\nI know code is a part of a program, you might have to work around to make it work but by a simple looking you might get the ide\r\n\r\n\tprivate void renderButtons() {\r\n\r\n\t\tfloat \r\n\t\tbuttonX = 0\r\n\t\t,\r\n\t\tbuttonY = 0\r\n\t\t,\r\n\t\tbuttonHeight =\r\n\t\t\t\t\r\n\t\t\t\t(this.getContentPane().getHeight()-buttonX)\r\n\t\t\t\t/ \r\n\t\t\t\tTheMembervisyboard.items.size()\r\n\t\t\t\t\r\n\t\t,\r\n\t\tbuttonWidth = \r\n\t\t\t\t(this.getContentPane().getWidth()-buttonY)\r\n\t\t\t\t/\r\n\t\t\t\tTheMembervisyboard.items.get(0).items.size()\t\t\r\n\t\t;\r\n\r\n\t\tfor (TheTypeVisyBoard.Keyboard.Row TheLocalRow : TheMembervisyboard.items) {\r\n\t\t\tbuttonX = 0;\r\n\t\t\tfor (TheTypeVisyBoard.Keyboard.Row.Button TheLocalVisyButton : TheLocalRow.items) {\r\n\t\t\t\tTheTypeButton TheLocalButton = TheLocalVisyButton.getTheGUIButton();\r\n\t\t\t\tif (TheMemberFont == null) {\r\n\t\t\t\t\tTheMemberFont = TheLocalButton.getFont();\r\n\t\t\t\t\tTheMemberFname = TheMemberFont.getName();\r\n\t\t\t\t}\r\n\t\t\t\tif (TheMemNotAdedYet) {\r\n\t\t\t\t\tgetContentPane().add(TheLocalButton);\r\n\t\t\t\t\tthis.TheMemberAllButtons.add(TheLocalButton);\r\n\t\t\t\t}\r\n\t\t\t\tTheLocalButton.setBounds(buttonX, buttonY, buttonWidth * TheLocalVisyButton.getSpan(), buttonHeight);\r\n\t\t\t\tbuttonX += (buttonWidth * TheLocalVisyButton.getSpan());\r\n\t\t\t}\r\n\t\t\tbuttonY += buttonHeight;\r\n\t\t}\r\n\t\tTheMemNotAdedYet = false;\r\n\t}\r\n","title":"Java Swing Virtual Keyboard On JFrame","body":"<p>after a long game around swing automated look and feel such as GridBagLayout eventually i decided to write my own simple and short algorithm.</p>\n<p>first have a look at this photo if you like the photo and that is a screenshot of the virtual keyboard then have a look at the code After the photo</p>\n<p><a href=\"https://raw.githubusercontent.com/visyboardfree/pages/main/visyboard%20free%20java%20based%20system%20wide%20onscreen%20virtual%20keyboards.png\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/visyboardfree/pages/main/visyboard%20free%20java%20based%20system%20wide%20onscreen%20virtual%20keyboards.png</a>\n<a href=\"https://i.stack.imgur.com/NyCcJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I know code is a part of a program, you might have to work around to make it work but by a simple looking you might get the ide</p>\n<pre><code>private void renderButtons() {\n\n    float \n    buttonX = 0\n    ,\n    buttonY = 0\n    ,\n    buttonHeight =\n            \n            (this.getContentPane().getHeight()-buttonX)\n            / \n            TheMembervisyboard.items.size()\n            \n    ,\n    buttonWidth = \n            (this.getContentPane().getWidth()-buttonY)\n            /\n            TheMembervisyboard.items.get(0).items.size()        \n    ;\n\n    for (TheTypeVisyBoard.Keyboard.Row TheLocalRow : TheMembervisyboard.items) {\n        buttonX = 0;\n        for (TheTypeVisyBoard.Keyboard.Row.Button TheLocalVisyButton : TheLocalRow.items) {\n            TheTypeButton TheLocalButton = TheLocalVisyButton.getTheGUIButton();\n            if (TheMemberFont == null) {\n                TheMemberFont = TheLocalButton.getFont();\n                TheMemberFname = TheMemberFont.getName();\n            }\n            if (TheMemNotAdedYet) {\n                getContentPane().add(TheLocalButton);\n                this.TheMemberAllButtons.add(TheLocalButton);\n            }\n            TheLocalButton.setBounds(buttonX, buttonY, buttonWidth * TheLocalVisyButton.getSpan(), buttonHeight);\n            buttonX += (buttonWidth * TheLocalVisyButton.getSpan());\n        }\n        buttonY += buttonHeight;\n    }\n    TheMemNotAdedYet = false;\n}\n</code></pre>\n"}],"owner":{"account_id":1853811,"reputation":229,"user_id":1679801,"accept_rate":46,"display_name":"Burfi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23825,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1661939330,"creation_date":1354441632,"question_id":13668131,"body_markdown":"I am trying to make a Typing Tutor like below : \r\n\r\n![keyboard][1]\r\nHere is the code I have written   : \r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    /**\r\n     * Simple swing based typing tutor using frame\r\n     * @author \r\n     * @date \r\n     */\r\n    public class TypingTutor extends JFrame implements KeyListener\r\n    {  \r\n    //Individual keyboard rows \t\r\n    String firstRow[] = {&quot;~&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;0&quot;,&quot;-&quot;,&quot;+&quot;,&quot;&lt;&lt;&lt;&lt;&lt;&quot;};//BackSpace\r\n    String secondRow[] = {&quot;Tab&quot;,&quot;Q&quot;,&quot;W&quot;,&quot;E&quot;,&quot;R&quot;,&quot;T&quot;,&quot;Y&quot;,&quot;U&quot;,&quot;I&quot;,&quot;O&quot;,&quot;P&quot;,&quot;[&quot;,&quot;]&quot;,&quot;\\\\&quot;};\r\n    String thirdRow[] = {&quot;Caps&quot;,&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;:&quot;,&quot;\\&quot;&quot;,&quot;Enter&quot;};\r\n    String fourthRow[] = {&quot;Shift&quot;,&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;,&quot;,&quot;,&quot;.&quot;,&quot;?&quot;,&quot;   ^&quot; };\r\n    String fifthRow[]={&quot;      &quot; ,&quot;&lt;&quot; ,&quot;\\\\/&quot;,&quot;&gt;&quot; };\r\n    \r\n    //all keys without shift key press\r\n    String noShift=&quot;`1234567890-=qwertyuiop[]\\\\asdfghjkl;&#39;zxcvbnm,./&quot;;\r\n    //special charactors on keyboard that has to be addressed duing keypress\r\n    String specialChars =&quot;~-+[]\\\\;&#39;,.?&quot;;\r\n    \r\n    //Jbuttons corresponting to each individual rows \r\n    JButton first[];\r\n    \r\n    JButton second[];\r\n    \r\n    JButton third[];\r\n    \r\n    JButton fourth[];\r\n    \r\n    JButton fifth[];\r\n    \r\n    //default color of the button to be repainted when key released \r\n    Color cc = new JButton().getBackground();\r\n    \r\n    /*\r\n     * Invoked when a key has been pressed.\r\n     * @see java.awt.event.KeyListener#keyPressed(java.awt.event.KeyEvent)\r\n     */\r\n    public void keyPressed(KeyEvent evt) \r\n    {\r\n    \t\r\n    \t\r\n    }//end of keypressed\r\n    \r\n    /**\r\n     * Invoked when a key has been released.\r\n     */\r\n    public void keyReleased(KeyEvent evt)\r\n    {\r\n    \t\r\n    }\r\n    \r\n    /*\r\n     * Driver main method to start the application \r\n     */\r\n    public static void main(String[] args) {\r\n    \t//launch typing tutor\r\n    \tnew TypingTutor().setVisible(true);\r\n    }\r\n    /*\r\n     * No argument construtor to create frame\r\n     */\r\n    public TypingTutor()\r\n    {\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        //set non resizable \r\n        this.setResizable(false);\r\n        //super.setSize(500,300);\r\n        //set size of the content pane ie frame\r\n        this.getContentPane().setPreferredSize(new Dimension(1000,600));\r\n        //super.getContentPane().setSize(800,400);\r\n        //set location for the frame \r\n        this.setLocation(50,50);\r\n        \r\n        //init and paint frame \r\n        initWidgets();\r\n    }\r\n    \r\n    /**\r\n     * Method to initialize frame component \r\n     */\r\n    private void initWidgets()\r\n    {\r\n    \t//set the text area on top \r\n    \tJTextArea  text = new JTextArea();\r\n    \ttext.setPreferredSize(new Dimension(800,200));\r\n    \t//JScrollPane scrollPane = new JScrollPane(text);\r\n        //scrollPane.setPreferredSize(new Dimension(800, 200));\r\n    \r\n       // add(typingArea, BorderLayout.PAGE_START);\r\n       // add(scrollPane, BorderLayout.CENTER);\r\n    \t//set the info label on top \r\n    \tJLabel info = new JLabel(&quot;&lt;html&gt;Type some text using your keyboard.The keys you press will be highlighted and text will be displayed.&lt;br&gt; Note : Clicking the buttons with your mouse will not perform any action. &lt;br&gt;&lt;br&gt; &lt;/html&gt;&quot; );\r\n    \t//set the bold font for info\r\n    \tinfo.setFont(new Font(&quot;Verdana&quot;,Font.BOLD,14));\r\n    \t\r\n    \t/*set the layout and place compomnet in place and pack it */\r\n        setLayout(new BorderLayout());\r\n        /*Various panel for the layout */\r\n        JPanel jpNorth = new JPanel();\r\n        JPanel jpCenter = new JPanel();\r\n        JPanel jpKeyboard = new JPanel();\r\n        JPanel jpNote = new JPanel();\r\n        add( jpNorth, BorderLayout.NORTH);\r\n        add( jpNote);\r\n        add( jpCenter, BorderLayout.CENTER);\r\n        add(jpKeyboard, BorderLayout.SOUTH);\r\n      \r\n        jpNorth.setLayout(new BorderLayout());\r\n        jpNorth.add(info, BorderLayout.WEST);\r\n        jpNorth.add(info, BorderLayout.SOUTH);\r\n        \r\n        jpCenter.setLayout( new BorderLayout());\r\n        jpCenter.add(text, BorderLayout.WEST);\r\n        jpCenter.add(text, BorderLayout.CENTER);\r\n        \r\n        //add(text,BorderLayout.WEST);\r\n       // add(scrollPane,BorderLayout.CENTER);\r\n        \r\n        //layout for keyboard \r\n        jpKeyboard.setLayout(new GridLayout(5,1));\r\n        //pack the components\r\n        pack();\r\n    \r\n        /*paint first keyboard row  and add it to the keyboard*/\r\n        first = new JButton[firstRow.length];\r\n        //get the panel for the  row\r\n        JPanel p = new JPanel(new GridLayout(1, firstRow.length));\r\n        for(int i = 0; i &lt; firstRow.length; ++i) \r\n        {\r\n        \tJButton b= new JButton(firstRow[i]);\r\n        \tb.setPreferredSize(new Dimension(100,50));\r\n            first[i] = b;\r\n            p.add(first[i]);\r\n        }\r\n        jpKeyboard.add(p);\r\n    \r\n        /*paint second keyboard row  and add it to the keyboard*/\r\n        second = new JButton[secondRow.length];\r\n        //get the panel for the  row\r\n        p = new JPanel(new GridLayout(1, secondRow.length));\r\n        for(int i = 0; i &lt; secondRow.length; ++i) \r\n        {\r\n            second[i] = new JButton(secondRow[i]);\r\n            p.add(second[i]);\r\n    \r\n        }\r\n        jpKeyboard.add(p);\r\n        \r\n        /*paint third keyboard row  and add it to the keyboard*/\r\n    \r\n        third = new JButton[thirdRow.length];\r\n        //get the panel for the  row\r\n        p = new JPanel(new GridLayout(1, thirdRow.length));\r\n        for(int i = 0; i &lt; thirdRow.length; ++i)\r\n        {\r\n            third[i] = new JButton(thirdRow[i]);\r\n            p.add(third[i]);\r\n        }\r\n        jpKeyboard.add(p);\r\n    \r\n        /*paint fourth keyboard row  and add it to the keyboard*/\r\n        fourth = new JButton[fourthRow.length];\r\n        //get the panel for the  row\r\n        p = new JPanel(new GridLayout(1, fourthRow.length));\r\n        for(int i = 0; i &lt; fourthRow.length; ++i)\r\n        {\r\n            fourth[i] = new JButton(fourthRow[i]);\r\n            p.add(fourth[i]);\r\n            if(i==fourthRow.length-2)\r\n            \tp.add(new JPanel());\r\n    \r\n        }\r\n        p.add(new JPanel());\r\n        jpKeyboard.add(p);\r\n        \r\n        //paint the fifth row\r\n        fifth = new JButton[fifthRow.length];\r\n        //get the panel for the  row\r\n        p = new JPanel(new GridLayout(1, fifthRow.length));\r\n        /*put empty panel for layout adjustments */\r\n        for(int i = 0; i &lt; 1; ++i)\r\n        {\r\n        \tJPanel  spacePanel = new JPanel();\r\n            p.add(spacePanel);\r\n        }\r\n        /*draw the buttons */\r\n        for(int i = 0; i &lt; fifthRow.length; ++i)\r\n        {\r\n        \tif(i==1) //space bar panel\r\n        \t{\r\n        \t\tJButton b = new JButton(fifthRow[i]);\r\n        \t\tb.setPreferredSize(new Dimension(400,10));\r\n        \t\tb.setBounds(10, 10, 600, 100);\r\n        \t\tfifth[i]=b;\r\n        \t\t//add empty panels for layout \r\n        \t\tp.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\tfifth[i]=new JButton(fifthRow[i]);\r\n        \t}\r\n            if(i==0) //first black panel\r\n        \t{\r\n            \t //place a black panel at first\r\n        \t\t   JPanel  spacePanel = new JPanel();\r\n        \t\t   p.add(spacePanel);\r\n        \t}\r\n           \r\n            p.add(fifth[i]);\r\n    \r\n        }\r\n        jpKeyboard.add(p);\r\n        /*add listeners */\r\n        getContentPane().addKeyListener(this);\r\n        text.addKeyListener(this);\r\n        /*add listeners to all the button */\r\n        for(JButton b : first)\r\n        \tb.addKeyListener(this); \r\n    \r\n        for(JButton b : second)\r\n        \tb.addKeyListener(this); \r\n        for(JButton b : third)\r\n        \tb.addKeyListener(this); \r\n        \r\n        for(JButton b : fourth)\r\n        \tb.addKeyListener(this); \r\n        \r\n        for(JButton b : fifth)\r\n        \tb.addKeyListener(this); \r\n        \r\n        } //end of initWidgets   \r\n    }//end of class\r\n\r\nAbove is the very simple code , but gives me the below layout: \r\n\r\n![enter image description here][2]\r\n\r\n\r\n\r\n**Problem Description** : \r\n\r\n&gt; For the last line in the keyboard , I had to put Empty Jpanels for\r\n&gt; spacing and I am not at all able to resize the space button . It\r\n&gt; should be spanned accross 3 regular buttons.  Please give  your\r\n&gt; valualbe suggestion on this .\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SUC0X.jpg\r\n  [2]: http://i.stack.imgur.com/VYkdr.png","title":"Java Swing Virtual Keyboard On JFrame","body":"<p>I am trying to make a Typing Tutor like below : </p>\n\n<p><img src=\"https://i.stack.imgur.com/SUC0X.jpg\" alt=\"keyboard\">\nHere is the code I have written   : </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.util.Arrays;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n/**\n * Simple swing based typing tutor using frame\n * @author \n * @date \n */\npublic class TypingTutor extends JFrame implements KeyListener\n{  \n//Individual keyboard rows  \nString firstRow[] = {\"~\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"0\",\"-\",\"+\",\"&lt;&lt;&lt;&lt;&lt;\"};//BackSpace\nString secondRow[] = {\"Tab\",\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"[\",\"]\",\"\\\\\"};\nString thirdRow[] = {\"Caps\",\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\",\"\\\"\",\"Enter\"};\nString fourthRow[] = {\"Shift\",\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\",\",\".\",\"?\",\"   ^\" };\nString fifthRow[]={\"      \" ,\"&lt;\" ,\"\\\\/\",\"&gt;\" };\n\n//all keys without shift key press\nString noShift=\"`1234567890-=qwertyuiop[]\\\\asdfghjkl;'zxcvbnm,./\";\n//special charactors on keyboard that has to be addressed duing keypress\nString specialChars =\"~-+[]\\\\;',.?\";\n\n//Jbuttons corresponting to each individual rows \nJButton first[];\n\nJButton second[];\n\nJButton third[];\n\nJButton fourth[];\n\nJButton fifth[];\n\n//default color of the button to be repainted when key released \nColor cc = new JButton().getBackground();\n\n/*\n * Invoked when a key has been pressed.\n * @see java.awt.event.KeyListener#keyPressed(java.awt.event.KeyEvent)\n */\npublic void keyPressed(KeyEvent evt) \n{\n\n\n}//end of keypressed\n\n/**\n * Invoked when a key has been released.\n */\npublic void keyReleased(KeyEvent evt)\n{\n\n}\n\n/*\n * Driver main method to start the application \n */\npublic static void main(String[] args) {\n    //launch typing tutor\n    new TypingTutor().setVisible(true);\n}\n/*\n * No argument construtor to create frame\n */\npublic TypingTutor()\n{\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    //set non resizable \n    this.setResizable(false);\n    //super.setSize(500,300);\n    //set size of the content pane ie frame\n    this.getContentPane().setPreferredSize(new Dimension(1000,600));\n    //super.getContentPane().setSize(800,400);\n    //set location for the frame \n    this.setLocation(50,50);\n\n    //init and paint frame \n    initWidgets();\n}\n\n/**\n * Method to initialize frame component \n */\nprivate void initWidgets()\n{\n    //set the text area on top \n    JTextArea  text = new JTextArea();\n    text.setPreferredSize(new Dimension(800,200));\n    //JScrollPane scrollPane = new JScrollPane(text);\n    //scrollPane.setPreferredSize(new Dimension(800, 200));\n\n   // add(typingArea, BorderLayout.PAGE_START);\n   // add(scrollPane, BorderLayout.CENTER);\n    //set the info label on top \n    JLabel info = new JLabel(\"&lt;html&gt;Type some text using your keyboard.The keys you press will be highlighted and text will be displayed.&lt;br&gt; Note : Clicking the buttons with your mouse will not perform any action. &lt;br&gt;&lt;br&gt; &lt;/html&gt;\" );\n    //set the bold font for info\n    info.setFont(new Font(\"Verdana\",Font.BOLD,14));\n\n    /*set the layout and place compomnet in place and pack it */\n    setLayout(new BorderLayout());\n    /*Various panel for the layout */\n    JPanel jpNorth = new JPanel();\n    JPanel jpCenter = new JPanel();\n    JPanel jpKeyboard = new JPanel();\n    JPanel jpNote = new JPanel();\n    add( jpNorth, BorderLayout.NORTH);\n    add( jpNote);\n    add( jpCenter, BorderLayout.CENTER);\n    add(jpKeyboard, BorderLayout.SOUTH);\n\n    jpNorth.setLayout(new BorderLayout());\n    jpNorth.add(info, BorderLayout.WEST);\n    jpNorth.add(info, BorderLayout.SOUTH);\n\n    jpCenter.setLayout( new BorderLayout());\n    jpCenter.add(text, BorderLayout.WEST);\n    jpCenter.add(text, BorderLayout.CENTER);\n\n    //add(text,BorderLayout.WEST);\n   // add(scrollPane,BorderLayout.CENTER);\n\n    //layout for keyboard \n    jpKeyboard.setLayout(new GridLayout(5,1));\n    //pack the components\n    pack();\n\n    /*paint first keyboard row  and add it to the keyboard*/\n    first = new JButton[firstRow.length];\n    //get the panel for the  row\n    JPanel p = new JPanel(new GridLayout(1, firstRow.length));\n    for(int i = 0; i &lt; firstRow.length; ++i) \n    {\n        JButton b= new JButton(firstRow[i]);\n        b.setPreferredSize(new Dimension(100,50));\n        first[i] = b;\n        p.add(first[i]);\n    }\n    jpKeyboard.add(p);\n\n    /*paint second keyboard row  and add it to the keyboard*/\n    second = new JButton[secondRow.length];\n    //get the panel for the  row\n    p = new JPanel(new GridLayout(1, secondRow.length));\n    for(int i = 0; i &lt; secondRow.length; ++i) \n    {\n        second[i] = new JButton(secondRow[i]);\n        p.add(second[i]);\n\n    }\n    jpKeyboard.add(p);\n\n    /*paint third keyboard row  and add it to the keyboard*/\n\n    third = new JButton[thirdRow.length];\n    //get the panel for the  row\n    p = new JPanel(new GridLayout(1, thirdRow.length));\n    for(int i = 0; i &lt; thirdRow.length; ++i)\n    {\n        third[i] = new JButton(thirdRow[i]);\n        p.add(third[i]);\n    }\n    jpKeyboard.add(p);\n\n    /*paint fourth keyboard row  and add it to the keyboard*/\n    fourth = new JButton[fourthRow.length];\n    //get the panel for the  row\n    p = new JPanel(new GridLayout(1, fourthRow.length));\n    for(int i = 0; i &lt; fourthRow.length; ++i)\n    {\n        fourth[i] = new JButton(fourthRow[i]);\n        p.add(fourth[i]);\n        if(i==fourthRow.length-2)\n            p.add(new JPanel());\n\n    }\n    p.add(new JPanel());\n    jpKeyboard.add(p);\n\n    //paint the fifth row\n    fifth = new JButton[fifthRow.length];\n    //get the panel for the  row\n    p = new JPanel(new GridLayout(1, fifthRow.length));\n    /*put empty panel for layout adjustments */\n    for(int i = 0; i &lt; 1; ++i)\n    {\n        JPanel  spacePanel = new JPanel();\n        p.add(spacePanel);\n    }\n    /*draw the buttons */\n    for(int i = 0; i &lt; fifthRow.length; ++i)\n    {\n        if(i==1) //space bar panel\n        {\n            JButton b = new JButton(fifthRow[i]);\n            b.setPreferredSize(new Dimension(400,10));\n            b.setBounds(10, 10, 600, 100);\n            fifth[i]=b;\n            //add empty panels for layout \n            p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());p.add(new JPanel());\n        }\n        else\n        {\n            fifth[i]=new JButton(fifthRow[i]);\n        }\n        if(i==0) //first black panel\n        {\n             //place a black panel at first\n               JPanel  spacePanel = new JPanel();\n               p.add(spacePanel);\n        }\n\n        p.add(fifth[i]);\n\n    }\n    jpKeyboard.add(p);\n    /*add listeners */\n    getContentPane().addKeyListener(this);\n    text.addKeyListener(this);\n    /*add listeners to all the button */\n    for(JButton b : first)\n        b.addKeyListener(this); \n\n    for(JButton b : second)\n        b.addKeyListener(this); \n    for(JButton b : third)\n        b.addKeyListener(this); \n\n    for(JButton b : fourth)\n        b.addKeyListener(this); \n\n    for(JButton b : fifth)\n        b.addKeyListener(this); \n\n    } //end of initWidgets   \n}//end of class\n</code></pre>\n\n<p>Above is the very simple code , but gives me the below layout: </p>\n\n<p><img src=\"https://i.stack.imgur.com/VYkdr.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Problem Description</strong> : </p>\n\n<blockquote>\n  <p>For the last line in the keyboard , I had to put Empty Jpanels for\n  spacing and I am not at all able to resize the space button . It\n  should be spanned accross 3 regular buttons.  Please give  your\n  valualbe suggestion on this .</p>\n</blockquote>\n"},{"tags":["java","json","selenium"],"answers":[{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661935608,"creation_date":1661935608,"answer_id":73553211,"question_id":73552259,"body_markdown":"You can use Regex named groups feature to get all single keys and values\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;\\&quot;(.+)\\&quot;:(?![{\\\\[])(.+)&quot;);\r\nMatcher matcher = pattern.matcher(content);\r\nwhile (matcher.find()) {\r\n    System.out.println(matcher.group(1) + &quot; : &quot; + matcher.group(2));\r\n}\r\n```\r\n\r\nOutput will be:\r\n\r\n```\r\nresponseStatus : &quot;Passed&quot;,\r\nstatusCode : &quot;200&quot;\r\nphone : null,\r\nsymbol : &quot;$&quot;,\r\nquoteId : 23232\r\nquoteName : &quot;Netally-Service&quot;\r\nStatusCode : 200,\r\nresponseMessage : &quot;Found&quot;\r\n```\r\n\r\nYou can easily modify the pattern to get all single keys with int value for example or null value\r\n\r\nSimple article about [Regex Named groups and Backreferences][1]\r\n\r\n\r\n  [1]: https://amrdeveloper.medium.com/android-regex-named-groups-and-backreferences-940cb7f545b1","title":"Get all key-value pair from nested JSON array","body":"<p>You can use Regex named groups feature to get all single keys and values</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;\\&quot;(.+)\\&quot;:(?![{\\\\[])(.+)&quot;);\nMatcher matcher = pattern.matcher(content);\nwhile (matcher.find()) {\n    System.out.println(matcher.group(1) + &quot; : &quot; + matcher.group(2));\n}\n</code></pre>\n<p>Output will be:</p>\n<pre><code>responseStatus : &quot;Passed&quot;,\nstatusCode : &quot;200&quot;\nphone : null,\nsymbol : &quot;$&quot;,\nquoteId : 23232\nquoteName : &quot;Netally-Service&quot;\nStatusCode : 200,\nresponseMessage : &quot;Found&quot;\n</code></pre>\n<p>You can easily modify the pattern to get all single keys with int value for example or null value</p>\n<p>Simple article about <a href=\"https://amrdeveloper.medium.com/android-regex-named-groups-and-backreferences-940cb7f545b1\" rel=\"nofollow noreferrer\">Regex Named groups and Backreferences</a></p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661939287,"creation_date":1661939287,"answer_id":73553992,"question_id":73552259,"body_markdown":"Recursion really helps, even works for multiple levels.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode jsonNode = mapper.readTree(json);\r\n    printRec(jsonNode, &quot;&quot;);\r\n\r\n    ----------\r\n\r\n    public static void printRec(JsonNode jsonNode, String key) {\r\n        if (jsonNode.isValueNode()) {\r\n            System.out.println(key + &quot; : &quot; + jsonNode);\r\n        } else if (jsonNode.isObject()) {\r\n            jsonNode.fields().forEachRemaining(field -&gt; printRec(field.getValue(), field.getKey()));\r\n        } else if (jsonNode.isArray()) {\r\n            for (int i = 0; i &lt; jsonNode.size(); i++) {\r\n                printRec(jsonNode.get(i), key + &quot;[&quot; + i + &quot;]&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    responseStatus : &quot;Passed&quot;\r\n    statusCode : &quot;200&quot;\r\n    phone : null\r\n    symbol : &quot;$&quot;\r\n    quoteId : 23232\r\n    quoteName : &quot;Netally-Service&quot;\r\n    StatusCode : 200\r\n    responseMessage : &quot;Found&quot;\r\n","title":"Get all key-value pair from nested JSON array","body":"<p>Recursion really helps, even works for multiple levels.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode jsonNode = mapper.readTree(json);\nprintRec(jsonNode, &quot;&quot;);\n\n----------\n\npublic static void printRec(JsonNode jsonNode, String key) {\n    if (jsonNode.isValueNode()) {\n        System.out.println(key + &quot; : &quot; + jsonNode);\n    } else if (jsonNode.isObject()) {\n        jsonNode.fields().forEachRemaining(field -&gt; printRec(field.getValue(), field.getKey()));\n    } else if (jsonNode.isArray()) {\n        for (int i = 0; i &lt; jsonNode.size(); i++) {\n            printRec(jsonNode.get(i), key + &quot;[&quot; + i + &quot;]&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>responseStatus : &quot;Passed&quot;\nstatusCode : &quot;200&quot;\nphone : null\nsymbol : &quot;$&quot;\nquoteId : 23232\nquoteName : &quot;Netally-Service&quot;\nStatusCode : 200\nresponseMessage : &quot;Found&quot;\n</code></pre>\n"}],"owner":{"account_id":14936753,"reputation":37,"user_id":10784543,"display_name":"Nihar Arisal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1662013765,"accepted_answer_id":73553992,"answer_count":2,"score":1,"last_activity_date":1661939287,"creation_date":1661930759,"question_id":73552259,"body_markdown":"Hi I have a nested JSON which has JSON array also. i need all single key-value pairs.\r\nbelow is the nested JSON which has some JSON arrays.\r\n\r\n    {\r\n      &quot;relatedquoteresponse&quot;:{\r\n        &quot;responsepreamble&quot;:{\r\n          &quot;responseStatus&quot;:&quot;Passed&quot;,\r\n          &quot;statusCode&quot;:&quot;200&quot;\r\n        },\r\n        &quot;phone&quot;:null,\r\n        &quot;symbol&quot;:&quot;$&quot;,\r\n        &quot;retrieverelatedquotes&quot;:[\r\n          {\r\n            &quot;quoteId&quot;:23232\r\n          },\r\n          {\r\n            &quot;quoteName&quot;:&quot;Netally-Service&quot;\r\n          }\r\n        ],\r\n        &quot;CheckStatus&quot;:{\r\n          &quot;StatusCode&quot;:200,\r\n          &quot;responseMessage&quot;:&quot;Found&quot;\r\n        }\r\n      }\r\n    }\r\nI need an output like this:\r\n\r\n    responseStatus : &quot;Passed&quot;\r\n    statusCode : &quot;200&quot;\r\n    Phone: null\r\n    symbol: &quot;$&quot;\r\n    quoteID: 23232\r\n    quoteName: &quot;Netally-Service&quot;\r\n\r\nI tried below code, but getting this output.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode jsonNode = mapper.readTree(json);\r\n        Iterator&lt;String&gt; iterator = jsonNode.fieldNames();\r\n        while (iterator.hasNext()) {\r\n            String key = iterator.next();\r\n            printRec(jsonNode, key);\r\n        }\r\n    \r\n    public static void printRec(JsonNode jsonNode, String key) {\r\n            JsonNode node = jsonNode.get(key);\r\n            if (node.isObject()) {\r\n                Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = node.fields();\r\n                fields.forEachRemaining(field -&gt; {\r\n                    printRec(node, field.getKey());\r\n                    if (!field.getValue().isObject()) {\r\n                        System.out.println(field.getKey() + &quot; : &quot; + field.getValue());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\nOutPut: \r\n\r\n    responseStatus : &quot;Passed&quot;\r\n    statusCode : &quot;200&quot;\r\n    Phone: null\r\n    symbol: &quot;$&quot;\r\n    retrieverelatedquotes : [{&quot;quoteId&quot;:23232},{&quot;quoteName&quot;:&quot;Netally-Service&quot;}]\r\n\r\nCan anyone help me on this to get all key-value pairs not in array like above.\r\n\r\nThanks\r\n\r\n","title":"Get all key-value pair from nested JSON array","body":"<p>Hi I have a nested JSON which has JSON array also. i need all single key-value pairs.\nbelow is the nested JSON which has some JSON arrays.</p>\n<pre><code>{\n  &quot;relatedquoteresponse&quot;:{\n    &quot;responsepreamble&quot;:{\n      &quot;responseStatus&quot;:&quot;Passed&quot;,\n      &quot;statusCode&quot;:&quot;200&quot;\n    },\n    &quot;phone&quot;:null,\n    &quot;symbol&quot;:&quot;$&quot;,\n    &quot;retrieverelatedquotes&quot;:[\n      {\n        &quot;quoteId&quot;:23232\n      },\n      {\n        &quot;quoteName&quot;:&quot;Netally-Service&quot;\n      }\n    ],\n    &quot;CheckStatus&quot;:{\n      &quot;StatusCode&quot;:200,\n      &quot;responseMessage&quot;:&quot;Found&quot;\n    }\n  }\n}\n</code></pre>\n<p>I need an output like this:</p>\n<pre><code>responseStatus : &quot;Passed&quot;\nstatusCode : &quot;200&quot;\nPhone: null\nsymbol: &quot;$&quot;\nquoteID: 23232\nquoteName: &quot;Netally-Service&quot;\n</code></pre>\n<p>I tried below code, but getting this output.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n    JsonNode jsonNode = mapper.readTree(json);\n    Iterator&lt;String&gt; iterator = jsonNode.fieldNames();\n    while (iterator.hasNext()) {\n        String key = iterator.next();\n        printRec(jsonNode, key);\n    }\n\npublic static void printRec(JsonNode jsonNode, String key) {\n        JsonNode node = jsonNode.get(key);\n        if (node.isObject()) {\n            Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = node.fields();\n            fields.forEachRemaining(field -&gt; {\n                printRec(node, field.getKey());\n                if (!field.getValue().isObject()) {\n                    System.out.println(field.getKey() + &quot; : &quot; + field.getValue());\n                }\n            });\n        }\n    }\n</code></pre>\n<p>OutPut:</p>\n<pre><code>responseStatus : &quot;Passed&quot;\nstatusCode : &quot;200&quot;\nPhone: null\nsymbol: &quot;$&quot;\nretrieverelatedquotes : [{&quot;quoteId&quot;:23232},{&quot;quoteName&quot;:&quot;Netally-Service&quot;}]\n</code></pre>\n<p>Can anyone help me on this to get all key-value pairs not in array like above.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","kotlin","dependency-injection","constructor"],"comments":[{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1661935555,"post_id":73551262,"comment_id":129887659,"body_markdown":"Usually, if I can&#39;t pass arguments to the constractor, I use no arguments constructor and  initialize object with required arguments after allocation. Maybe you can use MyBaseClass and MyConcreteClass no arguments constructors. And then add `public void init(MyArgClass)` method?","body":"Usually, if I can&#39;t pass arguments to the constractor, I use no arguments constructor and  initialize object with required arguments after allocation. Maybe you can use MyBaseClass and MyConcreteClass no arguments constructors. And then add <code>public void init(MyArgClass)</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661929879,"creation_date":1661929879,"answer_id":73552107,"question_id":73551262,"body_markdown":"I think you still do need some sort of factory. It would pass both the bean and the additional arguments to the `MyConcreteClass` constructor, and would look like this:\r\n\r\n```kotlin\r\n@Component\r\nclass MyFactory(val myInjectedBean: MyInjectedBean) {\r\n    fun getMyConcreteClass(myArg: MyArgClass) = \r\n        MyConcreteClass(myArg, myInjectedBean)\r\n}\r\n```\r\n\r\nIf using that approach, none of the other classes except `MyInjectedBean` would need to be registered with Spring.\r\n\r\nIn fact, it&#39;s a little surprising to me that you currently have `MyBaseClass` annotated with `@Component`. What do you expect that to do, and does it work?","title":"Spring: Mixing Autowired fields and constructor arguments in a base class","body":"<p>I think you still do need some sort of factory. It would pass both the bean and the additional arguments to the <code>MyConcreteClass</code> constructor, and would look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass MyFactory(val myInjectedBean: MyInjectedBean) {\n    fun getMyConcreteClass(myArg: MyArgClass) = \n        MyConcreteClass(myArg, myInjectedBean)\n}\n</code></pre>\n<p>If using that approach, none of the other classes except <code>MyInjectedBean</code> would need to be registered with Spring.</p>\n<p>In fact, it's a little surprising to me that you currently have <code>MyBaseClass</code> annotated with <code>@Component</code>. What do you expect that to do, and does it work?</p>\n"},{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661938506,"creation_date":1661938506,"answer_id":73553819,"question_id":73551262,"body_markdown":"You have a quite confusing setup there, and I am not sure that you are fully aware how injection by Spring works. You can\r\n* either create a class on your own, using its constructor, or\r\n* you can let Spring create the class and inject everything, and you don&#39;t call the constructor.\r\n\r\nWhen you call the constructor, Spring will not magically inject some parts of your class, just because it has seemingly the right annotations. The variable `myInjectedBean` will just be null.\r\n\r\nIf you want to have the ability to create the class on your own using the constructor, you should not use field injection, because you would obviously not have any possibility to initialize the field.\r\n\r\nThen your classes `MyBaseClass` and `MyConcreteClass` would look like this:\r\n```\r\nabstract class MyBaseClass(\r\n  val myArg: MyArgClass,\r\n  private val myInjectedBean: MyInjectedBean\r\n) {\r\n\r\n  fun useBothArgAndBean()\r\n}\r\n\r\nclass MyConcreteClass(myArg: MyArgClass, myInjectedBean: MyInjectedBean) : MyBaseClass(myArg, myInjectedBean)\r\n```\r\nNow, as already suggested by @Sam, you can have `myInjectedBean` be injected while providing `myArg` manually by writing another component that can completely be created by Spring, because it will only autowire `myInjectedBean` while `myArg` is provided as argument for a factory method:\r\n```\r\n@Component\r\nclass MyFactory(val myInjectedBean: MyInjectedBean) {\r\n    fun createMyConcreteClass(myArg: MyArgClass) = \r\n        MyConcreteClass(myArg, myInjectedBean)\r\n}\r\n``` \r\nThen in a class, where you have an injected `myFactory: MyFactory` you can just call `myFactory.createMyConcreteClass(myArg)` and you obtain a new `MyConcreteClass` that has an injected `myInjectedBean`.","title":"Spring: Mixing Autowired fields and constructor arguments in a base class","body":"<p>You have a quite confusing setup there, and I am not sure that you are fully aware how injection by Spring works. You can</p>\n<ul>\n<li>either create a class on your own, using its constructor, or</li>\n<li>you can let Spring create the class and inject everything, and you don't call the constructor.</li>\n</ul>\n<p>When you call the constructor, Spring will not magically inject some parts of your class, just because it has seemingly the right annotations. The variable <code>myInjectedBean</code> will just be null.</p>\n<p>If you want to have the ability to create the class on your own using the constructor, you should not use field injection, because you would obviously not have any possibility to initialize the field.</p>\n<p>Then your classes <code>MyBaseClass</code> and <code>MyConcreteClass</code> would look like this:</p>\n<pre><code>abstract class MyBaseClass(\n  val myArg: MyArgClass,\n  private val myInjectedBean: MyInjectedBean\n) {\n\n  fun useBothArgAndBean()\n}\n\nclass MyConcreteClass(myArg: MyArgClass, myInjectedBean: MyInjectedBean) : MyBaseClass(myArg, myInjectedBean)\n</code></pre>\n<p>Now, as already suggested by @Sam, you can have <code>myInjectedBean</code> be injected while providing <code>myArg</code> manually by writing another component that can completely be created by Spring, because it will only autowire <code>myInjectedBean</code> while <code>myArg</code> is provided as argument for a factory method:</p>\n<pre><code>@Component\nclass MyFactory(val myInjectedBean: MyInjectedBean) {\n    fun createMyConcreteClass(myArg: MyArgClass) = \n        MyConcreteClass(myArg, myInjectedBean)\n}\n</code></pre>\n<p>Then in a class, where you have an injected <code>myFactory: MyFactory</code> you can just call <code>myFactory.createMyConcreteClass(myArg)</code> and you obtain a new <code>MyConcreteClass</code> that has an injected <code>myInjectedBean</code>.</p>\n"}],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73553819,"answer_count":2,"score":0,"last_activity_date":1661938506,"creation_date":1661924067,"question_id":73551262,"body_markdown":"Basically, I want to make this code work:\r\n```\r\n@Component\r\nabstract class MyBaseClass(val myArg: MyArgClass) {\r\n  @Autowired\r\n  private lateinit var myInjectedBean: MyInjectedBean\r\n\r\n  fun useBothArgAndBean()\r\n}\r\n\r\nclass MyConcreteClass(myArg: MyArgClass) : MyBaseClass(myArg)\r\n\r\nval myConcreteClass = MyConcreteClass(obtainMyArgClass())\r\nmyConcreteClass.useBothArgAndBean()\r\n```\r\n\r\nSo I have a base class with one argument in the constructor and another argument injected from the Spring context. Currently, such a setup is not possible because Spring tries to inject also `MyArgClass` from context and because there&#39;s no such bean (it&#39;s constructed manually) it fails on &quot;no matching bean&quot;.\r\n\r\nThe question is how to make this scenario work. Note that I cannot use the factory-method solution mentioned here https://stackoverflow.com/a/58790893/13015027 because I need to directly call `MyBaseClass` constructor from `MyConcreteClass` constructor. Perhaps there&#39;s a trick on how to avoid that or how to force Spring not to try to inject into the base constructor or ...?\r\n","title":"Spring: Mixing Autowired fields and constructor arguments in a base class","body":"<p>Basically, I want to make this code work:</p>\n<pre><code>@Component\nabstract class MyBaseClass(val myArg: MyArgClass) {\n  @Autowired\n  private lateinit var myInjectedBean: MyInjectedBean\n\n  fun useBothArgAndBean()\n}\n\nclass MyConcreteClass(myArg: MyArgClass) : MyBaseClass(myArg)\n\nval myConcreteClass = MyConcreteClass(obtainMyArgClass())\nmyConcreteClass.useBothArgAndBean()\n</code></pre>\n<p>So I have a base class with one argument in the constructor and another argument injected from the Spring context. Currently, such a setup is not possible because Spring tries to inject also <code>MyArgClass</code> from context and because there's no such bean (it's constructed manually) it fails on &quot;no matching bean&quot;.</p>\n<p>The question is how to make this scenario work. Note that I cannot use the factory-method solution mentioned here <a href=\"https://stackoverflow.com/a/58790893/13015027\">https://stackoverflow.com/a/58790893/13015027</a> because I need to directly call <code>MyBaseClass</code> constructor from <code>MyConcreteClass</code> constructor. Perhaps there's a trick on how to avoid that or how to force Spring not to try to inject into the base constructor or ...?</p>\n"},{"tags":["java","error-handling","greenfoot"],"comments":[{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":1,"creation_date":1661938687,"post_id":73553087,"comment_id":129888905,"body_markdown":"If this is the complete source, you need to add a final curly brace to close the class definition of `Rover`. The error marker might be really small at the end of the source. -- BTW, I have formatted your source. Please get used to the standard Java style, and use the auto-ident feature of the editor (look into the menu, it has a convenient keyboard shortcut, too).","body":"If this is the complete source, you need to add a final curly brace to close the class definition of <code>Rover</code>. The error marker might be really small at the end of the source. -- BTW, I have formatted your source. Please get used to the standard Java style, and use the auto-ident feature of the editor (look into the menu, it has a convenient keyboard shortcut, too)."},{"owner":{"account_id":15204493,"reputation":173,"user_id":10972607,"display_name":"David"},"score":0,"creation_date":1661954458,"post_id":73553087,"comment_id":129894735,"body_markdown":"I also think it&#39;s just the last curly brace. You can always use an IDE such as InteliJ, Eclipse or VisualStudio Code to check the syntax of your code if it&#39;s not possible in Greenfoot. Also using the correct formating will help you to find such mistakes easier","body":"I also think it&#39;s just the last curly brace. You can always use an IDE such as InteliJ, Eclipse or VisualStudio Code to check the syntax of your code if it&#39;s not possible in Greenfoot. Also using the correct formating will help you to find such mistakes easier"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1662019067,"post_id":73553087,"comment_id":129910417,"body_markdown":"@David Greenfoot is commonly used by beginners in school or similar and it is a good choice. Exposure to heavy IDEs will intimidate and distract them a lot in my experience. ;-) Commonly such errors are quite visible, **if** users use the features of Greenfoot. Not using them is a hint of lacking guidance by the teachers.","body":"@David Greenfoot is commonly used by beginners in school or similar and it is a good choice. Exposure to heavy IDEs will intimidate and distract them a lot in my experience. ;-) Commonly such errors are quite visible, <b>if</b> users use the features of Greenfoot. Not using them is a hint of lacking guidance by the teachers."},{"owner":{"account_id":15204493,"reputation":173,"user_id":10972607,"display_name":"David"},"score":0,"creation_date":1662042504,"post_id":73553087,"comment_id":129919136,"body_markdown":"@busybee I know it&#39;s for learning, wasn&#39;t sure if greenfoot shows errors. I was just suggesting to copy paste the code to for example VSCode to check the syntax of the file and continue using greenfoot. I have used greenfoot like 6 years ago, but kind of wish to just have started learning with a normal tool instead","body":"@busybee I know it&#39;s for learning, wasn&#39;t sure if greenfoot shows errors. I was just suggesting to copy paste the code to for example VSCode to check the syntax of the file and continue using greenfoot. I have used greenfoot like 6 years ago, but kind of wish to just have started learning with a normal tool instead"}],"owner":{"account_id":25977538,"reputation":1,"user_id":19691788,"display_name":"DreamcasterShun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661938454,"creation_date":1661935072,"question_id":73553087,"body_markdown":"![error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LDug7.png\r\n\r\nGreenfoot tells me there is an error in the code, but doesn&#39;t show me any indication of an error, so it can&#39;t be a syntax issue. I tried playing around with the brackets and I restarted Greenfoot, nothing helps. I am trying to do a simple program which would make a Rover move and collected Rocks every time there is one on the field it stands on, and if there are no rocks it places a mark.\r\n\r\nHere&#39;s the code, has anyone an idea on how to fix this?\r\n\r\n```java\r\nimport greenfoot.*;  // (World, Actor, GreenfootImage, Greenfoot and MouseInfo)\r\n\r\npublic class Rover extends Actor\r\n{\r\n    private Display anzeige;\r\n\r\n    /**\r\n     * Die Anweisungen der Methode act werden ausgef&#252;hrt, wenn der Act-Button\r\n     * im Hauptfenster geklickt wird.\r\n     */\r\n    public void act() \r\n    {\r\n        while (!huegelVorhanden(&quot;vorne&quot;))\r\n        {\r\n            fahre();\r\n            if (gesteinVorhanden())\r\n                nimmGestein();\r\n                \r\n            markeVorhanden();\r\n        }\r\n    } \r\n\r\n    /**\r\n     * Der Rover bewegt sich ein Feld in Fahrtrichtung weiter.\r\n     * Sollte sich in Fahrtrichtung ein Objekt der Klasse Huegel befinden oder er sich an der Grenze der Welt befinden,\r\n     * dann erscheint eine entsprechende Meldung auf dem Display.\r\n     */\r\n    public void fahre()\r\n    {\r\n        int posX = getX();\r\n        int posY = getY();\r\n\r\n        if (huegelVorhanden(&quot;vorne&quot;))\r\n        {\r\n            nachricht(&quot;Zu steil!&quot;);\r\n        }\r\n        else if (getRotation() == 270 &amp;&amp; getY() == 1)\r\n        {\r\n            nachricht(&quot;Ich kann mich nicht bewegen&quot;);\r\n        }\r\n        else\r\n        {\r\n            move(1);\r\n            Greenfoot.delay(1);\r\n        }\r\n\r\n        if (posX == getX() &amp;&amp; posY == getY() &amp;&amp; !huegelVorhanden(&quot;vorne&quot;))\r\n        {\r\n            nachricht(&quot;Ich kann mich nicht bewegen&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Der Rover dreht sich um 90 Grad in die Richtung, die mit richtung („links“ oder „rechts“) &#252;bergeben wurde.\r\n     * Sollte ein anderer Text (String) als &quot;rechts&quot; oder &quot;links&quot; &#252;bergeben werden, dann erscheint eine entsprechende Meldung auf dem Display.\r\n     */\r\n    public void drehe(String richtung)\r\n    {\r\n        if (richtung == &quot;rechts&quot;)\r\n        {\r\n            turn(90);\r\n            //setRotation(getRotation()+90);\r\n        }\r\n        else if (richtung == &quot;links&quot;)\r\n        {\r\n            turn(-90);\r\n            // setRotation(getRotation()-90);\r\n        }\r\n        else\r\n        {\r\n            nachricht(&quot;Befehl nicht korrekt!&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Der Rover gibt durch einen Wahrheitswert (true oder false )zur&#252;ck, ob sich auf seiner \r\n     * Position ein Objekt der Klasse Gestein befindet.\r\n     * Eine entsprechende Meldung erscheint auch auf dem Display.\r\n     */\r\n    public boolean gesteinVorhanden()\r\n    {\r\n        if (getOneIntersectingObject(Gestein.class) != null)\r\n        {\r\n            nachricht(&quot;Gestein gefunden!&quot;);\r\n            return true;\r\n        }\r\n\r\n        nachricht(&quot;Kein Gestein vorhanden!&quot;);\r\n        return false;\r\n    }\r\n\r\n    public void bergSeiteAbfahren()\r\n    { \r\n        while (huegelVorhanden(&quot;rechts&quot;))\r\n        {\r\n            fahre();\r\n        }\r\n    }\r\n\r\n    public void steineSammeln()\r\n    {\r\n        fahren();\r\n            \r\n        while (gesteinVorhanden())\r\n        {\r\n            nimmGestein();\r\n            fahren();\r\n        }\r\n        setzeMarke();\r\n    }  \r\n\r\n    /**\r\n     * Der Rover &#252;berpr&#252;ft, ob sich in richtung (&quot;rechts&quot;, &quot;links&quot;, oder &quot;vorne&quot;) ein Objekt der Klasse Huegel befindet.\r\n     * Das Ergebnis wird auf dem Display angezeigt.\r\n     * Sollte ein anderer Text (String) als &quot;rechts&quot;, &quot;links&quot; oder &quot;vorne&quot; &#252;bergeben werden, dann erscheint eine entsprechende Meldung auf dem Display.\r\n     */\r\n    public boolean huegelVorhanden(String richtung)\r\n    {\r\n        int rot = getRotation();\r\n\r\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 0 || richtung == &quot;rechts&quot; &amp;&amp; rot == 270 || richtung == &quot;links&quot; &amp;&amp; rot == 90)\r\n        {\r\n            if (getOneObjectAtOffset(1, 0, Huegel.class) != null)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 180 || richtung == &quot;rechts&quot; &amp;&amp; rot == 90 || richtung == &quot;links&quot; &amp;&amp; rot == 270)\r\n        {\r\n            if (getOneObjectAtOffset(-1, 0, Huegel.class) != null)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 90 || richtung == &quot;rechts&quot; &amp;&amp; rot == 0 || richtung == &quot;links&quot; &amp;&amp; rot == 180)\r\n        {\r\n            if (getOneObjectAtOffset(0, 1, Huegel.class) != null)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 270 || richtung == &quot;rechts&quot; &amp;&amp; rot == 180 || richtung == &quot;links&quot; &amp;&amp; rot == 0)\r\n        {\r\n            if (getOneObjectAtOffset(0, -1, Huegel.class) != null)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (richtung != &quot;vorne&quot; &amp;&amp; richtung != &quot;links&quot; &amp;&amp; richtung != &quot;rechts&quot;)\r\n        {\r\n            nachricht(&quot;Befehl nicht korrekt!&quot;);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Der Rover nimmt das Gestein auf seiner Position auf.\r\n     * Sollte kein Objekt der Klasse Gestein vorhanden sein, dann erscheint\r\n     * eine entsprechende Meldung auf dem Display.\r\n     */\r\n    public void nimmGestein()\r\n    {\r\n        if (gesteinVorhanden())\r\n        {\r\n            Greenfoot.delay(1);\r\n            removeTouching(Gestein.class);\r\n        }\r\n        else \r\n        {\r\n            nachricht(&quot;Hier ist kein Gestein&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Der Rover erzeugt ein Objekt der Klasse „Marke“ auf seiner Position.\r\n     */\r\n    public void setzeMarke()\r\n    {\r\n        getWorld().addObject(new Marke(), getX(), getY());\r\n    }\r\n\r\n    /**\r\n     * *Der Rover gibt durch einen Wahrheitswert (true oder false )zur&#252;ck,\r\n     * *ob sich auf seiner Position ein Objekt der Marke befindet.\r\n     * Eine entsprechende Meldung erscheint auch auf dem Display.\r\n     */\r\n    public boolean markeVorhanden()\r\n    {\r\n        if (getOneIntersectingObject(Marke.class) != null)\r\n        {\r\n            nachricht(&quot;Beep Boop&quot;);\r\n            return true;\r\n        }\r\n\r\n        nachricht(&quot;Keine Marke vorhanden!&quot;);\r\n        return false;\r\n    }\r\n\r\n    public void entferneMarke()\r\n    {\r\n        if (markeVorhanden())\r\n        {\r\n            removeTouching(Marke.class);\r\n        }\r\n    }\r\n\r\n    private void nachricht(String pText)\r\n    {\r\n        if (anzeige != null)\r\n        {\r\n            anzeige.anzeigen(pText);\r\n            Greenfoot.delay(1);\r\n            anzeige.loeschen();\r\n        }\r\n    }\r\n\r\n    private void displayAusschalten()\r\n    {\r\n        getWorld().removeObject(anzeige);\r\n    }\r\n\r\n    protected void addedToWorld(World world)\r\n    {\r\n        setImage(&quot;images/rover.png&quot;);\r\n        world = getWorld();\r\n        anzeige = new Display();\r\n        anzeige.setImage(&quot;images/nachricht.png&quot;);\r\n        world.addObject(anzeige, 7, 0);\r\n        if (getY() == 0)\r\n        {\r\n            setLocation(getX(), 1);\r\n        }\r\n        anzeige.anzeigen(&quot;Ich bin bereit&quot;);\r\n    }\r\n\r\n    class Display extends Actor\r\n    {\r\n        GreenfootImage bild; \r\n\r\n        public Display()\r\n        {\r\n            bild = getImage();\r\n        }\r\n\r\n        public void act() \r\n        {\r\n        }  \r\n\r\n        public void anzeigen(String pText)\r\n        {\r\n            loeschen();\r\n            getImage().drawImage(new GreenfootImage(pText, 25, Color.BLACK, new Color(0, 0, 0, 0)), 10, 10);\r\n        }\r\n\r\n        public void loeschen()\r\n        {\r\n            getImage().clear();\r\n            setImage(&quot;images/nachricht.png&quot;);\r\n        }\r\n    }\r\n```\r\n","title":"Java Greenfoot error in class with no error indication","body":"<p><img src=\"https://i.stack.imgur.com/LDug7.png\" alt=\"error\" /></p>\n<p>Greenfoot tells me there is an error in the code, but doesn't show me any indication of an error, so it can't be a syntax issue. I tried playing around with the brackets and I restarted Greenfoot, nothing helps. I am trying to do a simple program which would make a Rover move and collected Rocks every time there is one on the field it stands on, and if there are no rocks it places a mark.</p>\n<p>Here's the code, has anyone an idea on how to fix this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import greenfoot.*;  // (World, Actor, GreenfootImage, Greenfoot and MouseInfo)\n\npublic class Rover extends Actor\n{\n    private Display anzeige;\n\n    /**\n     * Die Anweisungen der Methode act werden ausgeführt, wenn der Act-Button\n     * im Hauptfenster geklickt wird.\n     */\n    public void act() \n    {\n        while (!huegelVorhanden(&quot;vorne&quot;))\n        {\n            fahre();\n            if (gesteinVorhanden())\n                nimmGestein();\n                \n            markeVorhanden();\n        }\n    } \n\n    /**\n     * Der Rover bewegt sich ein Feld in Fahrtrichtung weiter.\n     * Sollte sich in Fahrtrichtung ein Objekt der Klasse Huegel befinden oder er sich an der Grenze der Welt befinden,\n     * dann erscheint eine entsprechende Meldung auf dem Display.\n     */\n    public void fahre()\n    {\n        int posX = getX();\n        int posY = getY();\n\n        if (huegelVorhanden(&quot;vorne&quot;))\n        {\n            nachricht(&quot;Zu steil!&quot;);\n        }\n        else if (getRotation() == 270 &amp;&amp; getY() == 1)\n        {\n            nachricht(&quot;Ich kann mich nicht bewegen&quot;);\n        }\n        else\n        {\n            move(1);\n            Greenfoot.delay(1);\n        }\n\n        if (posX == getX() &amp;&amp; posY == getY() &amp;&amp; !huegelVorhanden(&quot;vorne&quot;))\n        {\n            nachricht(&quot;Ich kann mich nicht bewegen&quot;);\n        }\n    }\n\n    /**\n     * Der Rover dreht sich um 90 Grad in die Richtung, die mit richtung („links“ oder „rechts“) übergeben wurde.\n     * Sollte ein anderer Text (String) als &quot;rechts&quot; oder &quot;links&quot; übergeben werden, dann erscheint eine entsprechende Meldung auf dem Display.\n     */\n    public void drehe(String richtung)\n    {\n        if (richtung == &quot;rechts&quot;)\n        {\n            turn(90);\n            //setRotation(getRotation()+90);\n        }\n        else if (richtung == &quot;links&quot;)\n        {\n            turn(-90);\n            // setRotation(getRotation()-90);\n        }\n        else\n        {\n            nachricht(&quot;Befehl nicht korrekt!&quot;);\n        }\n    }\n\n    /**\n     * Der Rover gibt durch einen Wahrheitswert (true oder false )zurück, ob sich auf seiner \n     * Position ein Objekt der Klasse Gestein befindet.\n     * Eine entsprechende Meldung erscheint auch auf dem Display.\n     */\n    public boolean gesteinVorhanden()\n    {\n        if (getOneIntersectingObject(Gestein.class) != null)\n        {\n            nachricht(&quot;Gestein gefunden!&quot;);\n            return true;\n        }\n\n        nachricht(&quot;Kein Gestein vorhanden!&quot;);\n        return false;\n    }\n\n    public void bergSeiteAbfahren()\n    { \n        while (huegelVorhanden(&quot;rechts&quot;))\n        {\n            fahre();\n        }\n    }\n\n    public void steineSammeln()\n    {\n        fahren();\n            \n        while (gesteinVorhanden())\n        {\n            nimmGestein();\n            fahren();\n        }\n        setzeMarke();\n    }  \n\n    /**\n     * Der Rover überprüft, ob sich in richtung (&quot;rechts&quot;, &quot;links&quot;, oder &quot;vorne&quot;) ein Objekt der Klasse Huegel befindet.\n     * Das Ergebnis wird auf dem Display angezeigt.\n     * Sollte ein anderer Text (String) als &quot;rechts&quot;, &quot;links&quot; oder &quot;vorne&quot; übergeben werden, dann erscheint eine entsprechende Meldung auf dem Display.\n     */\n    public boolean huegelVorhanden(String richtung)\n    {\n        int rot = getRotation();\n\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 0 || richtung == &quot;rechts&quot; &amp;&amp; rot == 270 || richtung == &quot;links&quot; &amp;&amp; rot == 90)\n        {\n            if (getOneObjectAtOffset(1, 0, Huegel.class) != null)\n            {\n                return true;\n            }\n        }\n\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 180 || richtung == &quot;rechts&quot; &amp;&amp; rot == 90 || richtung == &quot;links&quot; &amp;&amp; rot == 270)\n        {\n            if (getOneObjectAtOffset(-1, 0, Huegel.class) != null)\n            {\n                return true;\n            }\n        }\n\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 90 || richtung == &quot;rechts&quot; &amp;&amp; rot == 0 || richtung == &quot;links&quot; &amp;&amp; rot == 180)\n        {\n            if (getOneObjectAtOffset(0, 1, Huegel.class) != null)\n            {\n                return true;\n            }\n        }\n\n        if (richtung == &quot;vorne&quot; &amp;&amp; rot == 270 || richtung == &quot;rechts&quot; &amp;&amp; rot == 180 || richtung == &quot;links&quot; &amp;&amp; rot == 0)\n        {\n            if (getOneObjectAtOffset(0, -1, Huegel.class) != null)\n            {\n                return true;\n            }\n        }\n\n        if (richtung != &quot;vorne&quot; &amp;&amp; richtung != &quot;links&quot; &amp;&amp; richtung != &quot;rechts&quot;)\n        {\n            nachricht(&quot;Befehl nicht korrekt!&quot;);\n        }\n\n        return false;\n    }\n\n    /**\n     * Der Rover nimmt das Gestein auf seiner Position auf.\n     * Sollte kein Objekt der Klasse Gestein vorhanden sein, dann erscheint\n     * eine entsprechende Meldung auf dem Display.\n     */\n    public void nimmGestein()\n    {\n        if (gesteinVorhanden())\n        {\n            Greenfoot.delay(1);\n            removeTouching(Gestein.class);\n        }\n        else \n        {\n            nachricht(&quot;Hier ist kein Gestein&quot;);\n        }\n    }\n\n    /**\n     * Der Rover erzeugt ein Objekt der Klasse „Marke“ auf seiner Position.\n     */\n    public void setzeMarke()\n    {\n        getWorld().addObject(new Marke(), getX(), getY());\n    }\n\n    /**\n     * *Der Rover gibt durch einen Wahrheitswert (true oder false )zurück,\n     * *ob sich auf seiner Position ein Objekt der Marke befindet.\n     * Eine entsprechende Meldung erscheint auch auf dem Display.\n     */\n    public boolean markeVorhanden()\n    {\n        if (getOneIntersectingObject(Marke.class) != null)\n        {\n            nachricht(&quot;Beep Boop&quot;);\n            return true;\n        }\n\n        nachricht(&quot;Keine Marke vorhanden!&quot;);\n        return false;\n    }\n\n    public void entferneMarke()\n    {\n        if (markeVorhanden())\n        {\n            removeTouching(Marke.class);\n        }\n    }\n\n    private void nachricht(String pText)\n    {\n        if (anzeige != null)\n        {\n            anzeige.anzeigen(pText);\n            Greenfoot.delay(1);\n            anzeige.loeschen();\n        }\n    }\n\n    private void displayAusschalten()\n    {\n        getWorld().removeObject(anzeige);\n    }\n\n    protected void addedToWorld(World world)\n    {\n        setImage(&quot;images/rover.png&quot;);\n        world = getWorld();\n        anzeige = new Display();\n        anzeige.setImage(&quot;images/nachricht.png&quot;);\n        world.addObject(anzeige, 7, 0);\n        if (getY() == 0)\n        {\n            setLocation(getX(), 1);\n        }\n        anzeige.anzeigen(&quot;Ich bin bereit&quot;);\n    }\n\n    class Display extends Actor\n    {\n        GreenfootImage bild; \n\n        public Display()\n        {\n            bild = getImage();\n        }\n\n        public void act() \n        {\n        }  \n\n        public void anzeigen(String pText)\n        {\n            loeschen();\n            getImage().drawImage(new GreenfootImage(pText, 25, Color.BLACK, new Color(0, 0, 0, 0)), 10, 10);\n        }\n\n        public void loeschen()\n        {\n            getImage().clear();\n            setImage(&quot;images/nachricht.png&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","kubernetes","amazon-s3","heap-dump"],"owner":{"account_id":1883679,"reputation":589,"user_id":1703321,"accept_rate":67,"display_name":"Mudasar Yasin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661938448,"creation_date":1661938448,"question_id":73553812,"body_markdown":"We have running Java applications inside Kubernetes pods. In case of Java OOM heap dump generated on the local pod&#39;s storage, I want to automatically copy heapdump to s3, before pod restart or k8s tigger liveness.\r\nNow there are multiple possibilities to copy heapdump to s3 automatically. \r\n\r\n 1. Install AWS cli and 3rdparty tools([inotifywait][1], [incron][2]) and copy automatically on s3.\r\n 2. Mount S3 drive on Kubernetes pod, i personally discourage it as it requires infrastructure change. \r\n 3. Is there any way inside Kubernetes that can copy heapdump directly on s3, without installing any 3rth party tool or mounting drive on pod\r\n\r\nOR what are your recommendations? \r\n\r\n \r\n\r\n\r\n  [1]: https://superuser.com/questions/181517/how-to-execute-a-command-whenever-a-file-changes\r\n  [2]: https://stackoverflow.com/questions/14692353/executing-a-bash-script-upon-file-creation","title":"Automatically copy Java heapdump from Kubernetes to s3","body":"<p>We have running Java applications inside Kubernetes pods. In case of Java OOM heap dump generated on the local pod's storage, I want to automatically copy heapdump to s3, before pod restart or k8s tigger liveness.\nNow there are multiple possibilities to copy heapdump to s3 automatically.</p>\n<ol>\n<li>Install AWS cli and 3rdparty tools(<a href=\"https://superuser.com/questions/181517/how-to-execute-a-command-whenever-a-file-changes\">inotifywait</a>, <a href=\"https://stackoverflow.com/questions/14692353/executing-a-bash-script-upon-file-creation\">incron</a>) and copy automatically on s3.</li>\n<li>Mount S3 drive on Kubernetes pod, i personally discourage it as it requires infrastructure change.</li>\n<li>Is there any way inside Kubernetes that can copy heapdump directly on s3, without installing any 3rth party tool or mounting drive on pod</li>\n</ol>\n<p>OR what are your recommendations?</p>\n"},{"tags":["java","audio","signal-processing","fft","frequency"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1661870759,"post_id":73544188,"comment_id":129871645,"body_markdown":"That is non-trivial.  There are lots of fft libraries out there.  But this question is too broad for SO.","body":"That is non-trivial.  There are lots of fft libraries out there.  But this question is too broad for SO."},{"owner":{"account_id":49433,"reputation":27230,"user_id":147175,"accept_rate":93,"display_name":"Scott Stensland"},"score":0,"creation_date":1661872559,"post_id":73544188,"comment_id":129872385,"body_markdown":"after you find a FFT library I suggest you start with a known signal say a WAV file of say 1000  Hertz  ... write code to read in the WAV file and populate an array with the floating point representation of the audio samples which will start as integers ... normalize those floats from -1.0  to +1.0  ... feed this array into the FFT api call which will return a new array of complex numbers ... iterate acoss this new array and calculate magnitude of each element of array ... verify you have a spike in magnitude at the same frequency as your source input WAV file","body":"after you find a FFT library I suggest you start with a known signal say a WAV file of say 1000  Hertz  ... write code to read in the WAV file and populate an array with the floating point representation of the audio samples which will start as integers ... normalize those floats from -1.0  to +1.0  ... feed this array into the FFT api call which will return a new array of complex numbers ... iterate acoss this new array and calculate magnitude of each element of array ... verify you have a spike in magnitude at the same frequency as your source input WAV file"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661926134,"post_id":73544188,"comment_id":129884563,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1691275435,"post_id":73544188,"comment_id":135470464,"body_markdown":"Frequencies are a spectrum. In other words infinite. They can not be listed, much like the real numbers can&#39;t be listed.    What you probably mean to ask is how to list the *dominant* frequencies?","body":"Frequencies are a spectrum. In other words infinite. They can not be listed, much like the real numbers can&#39;t be listed.    What you probably mean to ask is how to list the <i>dominant</i> frequencies?"}],"owner":{"account_id":20302938,"reputation":1,"user_id":14891921,"display_name":"Zer0er_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661938317,"creation_date":1661869902,"question_id":73544188,"body_markdown":"I am trying to make a program that will return me a list of all frequencies that are present in a WAV. file. I searched a bit about how to achieve this and read that I need to use FFT on the audio input. However I have no idea how to implement FFT and how to handle the data that it delivers. Any help is appreciated.\r\n\r\nThanks in advance!","title":"Java: Get a list of all present frequencies from an audio input","body":"<p>I am trying to make a program that will return me a list of all frequencies that are present in a WAV. file. I searched a bit about how to achieve this and read that I need to use FFT on the audio input. However I have no idea how to implement FFT and how to handle the data that it delivers. Any help is appreciated.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":26158091,"reputation":1,"user_id":19845073,"display_name":"Vikas Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661937758,"creation_date":1661429606,"answer_id":73487307,"question_id":72545994,"body_markdown":"This has troubled me a lot and I was not able to retrieve the exact session cookie from webClient due to `ClientResponse` not being able to support `text/html` content-type in my case. So I just parsed the cookie value and created the cookie again and added it in `RestController`.\r\n\r\n```java\r\n/**\r\n * This method call the grafana API to retrieve session cookie value and return it as String\r\n * \r\n * @param userEmail\r\n * @param grafanaHostname\r\n * @return String\r\n */\r\nprivate String retreiveGrafanaSessionCookieVal(String userEmail, String grafanaHostname) {\r\n\r\n\tString grafana_url = grafanaHostname + ArgoCDURLConstant.GRAFANA_LOGIN_URL;\r\n\tWebClient client1 = WebClient.create(grafana_url);\r\n\tString cookieVal = client1.get().header(HttpHeaders.CONTENT_TYPE, \r\n        MediaType.TEXT_HTML_VALUE)\r\n\t\t.header(ArgoCDURLConstant.GRAFANA_WEBAUTH_USER_HEADER, userEmail).accept(MediaType.ALL)\r\n\t\t.exchangeToMono(response -&gt; {\r\n\t\t\tMultiValueMap&lt;String, ResponseCookie&gt; cookies = response.cookies();\r\n\t\t\tString grCookieVal = &quot;&quot;;\r\n\t\t\tfor (var cookie : cookies.entrySet()) {\r\n\t\t\t\t//System.out.println(cookie.getKey() + &quot; : &quot; + cookie.getValue());\r\n\t\t\t\tList&lt;ResponseCookie&gt; resCookie = cookie.getValue();\r\n\t\t\t\tfor (ResponseCookie responseCookie : resCookie) {\r\n\t\t\t\t\t//System.out.println(responseCookie.getName());\r\n\t\t\t\t\t//System.out.println(grCookieVal = responseCookie.getValue());\r\n\t\t\t\t\tgrCookieVal = responseCookie.getValue();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Mono.just(grCookieVal);\r\n\t\t}).block();\r\n\t//System.out.println(&quot;cookieVal::&quot; + cookieVal);\r\n\t\t\r\n\treturn cookieVal;\r\n}\r\n\r\n/**\r\n * This method call the grafana API to retrieve session cookie value and set it in\r\n * cookie\r\n * \r\n * @param userEmail\r\n * @param domain\r\n * @param grafanaHostname\r\n * @return ResponseCookie\r\n */\r\npublic ResponseCookie getGrafanaSessionCookie(String userEmail, String domain, String grafanaHostname) {\r\n\r\n\tResponseCookie grafana_cookie;\r\n\r\n\tString hostname = CommonConstants.DOT + domain.split(CommonConstants.COLON)[0];\r\n\tString cookieValue = retreiveGrafanaSessionCookieVal(userEmail, grafanaHostname);\r\n\r\n\tgrafana_cookie = ResponseCookie.from(ArgoCDURLConstant.GRAFANA_SESSION_COOKIE_NAME, \r\n        cookieValue.toString())\r\n\t\t.httpOnly(true).secure(true).domain(hostname)\r\n\t\t// .path(&quot;/&quot;) // path\r\n        .maxAge(Duration.ofDays(30))\r\n        .sameSite(CommonConstants.COOKIE_SAMESITE_NONE).build();\r\n\t\t\r\n\treturn grafana_cookie;\r\n\r\n}\r\n\r\n/* Rest Controller method returning cookie in response. */\r\n@GetMapping\r\npublic ResponseEntity&lt;String&gt; getGrafanaSession(@RequestHeader(name = &quot;Authorization&quot;) String token,\r\n\t@RequestParam(value = &quot;hostname&quot;, required = false) String grafanaHost, \r\n    HttpServletResponse response,\r\n\t@RequestHeader(&quot;Host&quot;) String hostname) {\r\n\r\n\tResponseCookie grafana_cookie = grafanaService.getGrafanaSessionCookie(grafanaHost, hostname, token,\r\n\t\tgrafanaHost);\r\n\r\n\t// Set cookie in the response\r\n\tresponse.setHeader(HttpHeaders.SET_COOKIE, grafana_cookie.toString());\r\n\treturn new ResponseEntity&lt;String&gt;(HttpStatus.OK);\r\n}\r\n```","title":"how to get session cookie from server response to send back","body":"<p>This has troubled me a lot and I was not able to retrieve the exact session cookie from webClient due to <code>ClientResponse</code> not being able to support <code>text/html</code> content-type in my case. So I just parsed the cookie value and created the cookie again and added it in <code>RestController</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This method call the grafana API to retrieve session cookie value and return it as String\n * \n * @param userEmail\n * @param grafanaHostname\n * @return String\n */\nprivate String retreiveGrafanaSessionCookieVal(String userEmail, String grafanaHostname) {\n\n    String grafana_url = grafanaHostname + ArgoCDURLConstant.GRAFANA_LOGIN_URL;\n    WebClient client1 = WebClient.create(grafana_url);\n    String cookieVal = client1.get().header(HttpHeaders.CONTENT_TYPE, \n        MediaType.TEXT_HTML_VALUE)\n        .header(ArgoCDURLConstant.GRAFANA_WEBAUTH_USER_HEADER, userEmail).accept(MediaType.ALL)\n        .exchangeToMono(response -&gt; {\n            MultiValueMap&lt;String, ResponseCookie&gt; cookies = response.cookies();\n            String grCookieVal = &quot;&quot;;\n            for (var cookie : cookies.entrySet()) {\n                //System.out.println(cookie.getKey() + &quot; : &quot; + cookie.getValue());\n                List&lt;ResponseCookie&gt; resCookie = cookie.getValue();\n                for (ResponseCookie responseCookie : resCookie) {\n                    //System.out.println(responseCookie.getName());\n                    //System.out.println(grCookieVal = responseCookie.getValue());\n                    grCookieVal = responseCookie.getValue();\n                }\n            }\n            return Mono.just(grCookieVal);\n        }).block();\n    //System.out.println(&quot;cookieVal::&quot; + cookieVal);\n        \n    return cookieVal;\n}\n\n/**\n * This method call the grafana API to retrieve session cookie value and set it in\n * cookie\n * \n * @param userEmail\n * @param domain\n * @param grafanaHostname\n * @return ResponseCookie\n */\npublic ResponseCookie getGrafanaSessionCookie(String userEmail, String domain, String grafanaHostname) {\n\n    ResponseCookie grafana_cookie;\n\n    String hostname = CommonConstants.DOT + domain.split(CommonConstants.COLON)[0];\n    String cookieValue = retreiveGrafanaSessionCookieVal(userEmail, grafanaHostname);\n\n    grafana_cookie = ResponseCookie.from(ArgoCDURLConstant.GRAFANA_SESSION_COOKIE_NAME, \n        cookieValue.toString())\n        .httpOnly(true).secure(true).domain(hostname)\n        // .path(&quot;/&quot;) // path\n        .maxAge(Duration.ofDays(30))\n        .sameSite(CommonConstants.COOKIE_SAMESITE_NONE).build();\n        \n    return grafana_cookie;\n\n}\n\n/* Rest Controller method returning cookie in response. */\n@GetMapping\npublic ResponseEntity&lt;String&gt; getGrafanaSession(@RequestHeader(name = &quot;Authorization&quot;) String token,\n    @RequestParam(value = &quot;hostname&quot;, required = false) String grafanaHost, \n    HttpServletResponse response,\n    @RequestHeader(&quot;Host&quot;) String hostname) {\n\n    ResponseCookie grafana_cookie = grafanaService.getGrafanaSessionCookie(grafanaHost, hostname, token,\n        grafanaHost);\n\n    // Set cookie in the response\n    response.setHeader(HttpHeaders.SET_COOKIE, grafana_cookie.toString());\n    return new ResponseEntity&lt;String&gt;(HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":25413512,"reputation":15,"user_id":19220893,"display_name":"Aws AbuObeid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661937758,"creation_date":1654692521,"question_id":72545994,"body_markdown":"ive been tryint to get my application to authenticate and start a session with another spring boot appilcation, ive been doing it like so.\r\n\r\n```\r\nWebClient webClient= WebClient.builder().build();\r\n\tString reet=webClient.get().uri(&quot;http://localhost:8081/authenticate&quot;)\r\n\t.header(&quot;x-api-key&quot;,&quot;123456789&quot;)\r\n\t.header(&quot;Connection&quot;,&quot;keep-alive&quot;)\r\n\t.accept(MediaType.APPLICATION_JSON)\r\n\t.retrieve().bodyToMono(String.class).block();\r\n\r\n\r\nquery.put(&quot;collection&quot;,&quot;student&quot;);\r\nString ret =webClient.post().uri(&quot;http://localhost:8081/query&quot;)\r\n\t.contentType(MediaType.APPLICATION_JSON)\r\n\t.body(BodyInserters.fromValue(query))\r\n\t.retrieve().bodyToMono(String.class).block();\r\n```\r\nThe first request should use the API key and authenticate, which starts the session .\r\nthe second one should do a query , which will work IF the user is authenticated.&lt;br&gt;\r\n\r\nhow do i get the session cookie from the response so i can send it back in the second request ?","title":"how to get session cookie from server response to send back","body":"<p>ive been tryint to get my application to authenticate and start a session with another spring boot appilcation, ive been doing it like so.</p>\n<pre><code>WebClient webClient= WebClient.builder().build();\n    String reet=webClient.get().uri(&quot;http://localhost:8081/authenticate&quot;)\n    .header(&quot;x-api-key&quot;,&quot;123456789&quot;)\n    .header(&quot;Connection&quot;,&quot;keep-alive&quot;)\n    .accept(MediaType.APPLICATION_JSON)\n    .retrieve().bodyToMono(String.class).block();\n\n\nquery.put(&quot;collection&quot;,&quot;student&quot;);\nString ret =webClient.post().uri(&quot;http://localhost:8081/query&quot;)\n    .contentType(MediaType.APPLICATION_JSON)\n    .body(BodyInserters.fromValue(query))\n    .retrieve().bodyToMono(String.class).block();\n</code></pre>\n<p>The first request should use the API key and authenticate, which starts the session .\nthe second one should do a query , which will work IF the user is authenticated.<br></p>\n<p>how do i get the session cookie from the response so i can send it back in the second request ?</p>\n"},{"tags":["java","html","http","zip"],"answers":[{"tags":[],"owner":{"account_id":57810,"reputation":925,"user_id":173206,"display_name":"Jberg"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1301682529,"creation_date":1301681807,"answer_id":5517201,"question_id":5516922,"body_markdown":"Just had to do this exact same thing yesterday. \r\n\r\n\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tZipOutputStream zip = new ZipOutputStream(baos);\r\n\r\n\t\t.... populate ZipOutputStream\r\n   \r\n\t\tString filename = &quot;out.zip&quot;;\r\n        // the response variable is just a standard HttpServletResponse\r\n\t\tresponse.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n\t\tresponse.setContentType(&quot;application/zip&quot;);\r\n\r\n\t\ttry{\t\t\t\r\n\t\t\tresponse.getOutputStream().write(baos.toByteArray());\r\n\t\t\tresponse.flushBuffer();\r\n\t\t}\r\n\t\tcatch (IOException e){\r\n\t\t\te.printStackTrace();\t\t\r\n\t\t}\r\n\t\tfinally{\r\n\t\t\tbaos.close();\r\n\t\t}\r\n\r\n\r\nNote I&#39;m using a ByteArrayOutputStream wrapper and toByteArray but you could probably just write any other type of Outputstream directly to the response with a standard InputStream.read() OutputStream.write() loop.\r\n\r\nOff hand I&#39;m actually not sure which is faster if any, but I suspect my use of ByteArrayOutputStream here might not be the most memory conscious approach:","title":"Returning ZipOutputStream to browser","body":"<p>Just had to do this exact same thing yesterday. </p>\n\n<pre><code>    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ZipOutputStream zip = new ZipOutputStream(baos);\n\n    .... populate ZipOutputStream\n\n    String filename = \"out.zip\";\n    // the response variable is just a standard HttpServletResponse\n    response.setHeader(\"Content-Disposition\",\"attachment; filename=\\\"\" + filename + \"\\\"\");\n    response.setContentType(\"application/zip\");\n\n    try{            \n        response.getOutputStream().write(baos.toByteArray());\n        response.flushBuffer();\n    }\n    catch (IOException e){\n        e.printStackTrace();        \n    }\n    finally{\n        baos.close();\n    }\n</code></pre>\n\n<p>Note I'm using a ByteArrayOutputStream wrapper and toByteArray but you could probably just write any other type of Outputstream directly to the response with a standard InputStream.read() OutputStream.write() loop.</p>\n\n<p>Off hand I'm actually not sure which is faster if any, but I suspect my use of ByteArrayOutputStream here might not be the most memory conscious approach:</p>\n"}],"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18320,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5517201,"answer_count":1,"score":6,"last_activity_date":1661937743,"creation_date":1301679935,"question_id":5516922,"body_markdown":"I have an ZipOutputStream that I want to return to the browser. The experience I would like is that the user clicks an anchor tag, and then a file download prompt is displayed for the ZipOutputStream that I have. \r\n\r\nHow do you get the ZipOutputStream back to the browser?\r\n","title":"Returning ZipOutputStream to browser","body":"<p>I have an ZipOutputStream that I want to return to the browser. The experience I would like is that the user clicks an anchor tag, and then a file download prompt is displayed for the ZipOutputStream that I have. </p>\n\n<p>How do you get the ZipOutputStream back to the browser?</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1465447494,"creation_date":1465447494,"answer_id":37716996,"question_id":37716881,"body_markdown":"Update last version android studio to 2.1.2 and change \r\n\r\n\r\n \r\n\r\n    classpath &#39;com.android.tools.build:gradle:2.1.2&#39;","title":"Gradle: Could not resolve all dependencies for configuration &#39;:classpath&#39;","body":"<p>Update last version android studio to 2.1.2 and change </p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:2.1.2'\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user11224911"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552983426,"creation_date":1552983426,"answer_id":55236281,"question_id":37716881,"body_markdown":"Go to your build.gradle (project), hover around the classpath and update the version to the suggested update.\r\n\r\nIf the suggestion above does not work, it means there is a sync problem. Simply do this:\r\n\r\n&gt; File &gt; Invalidate cache and restart\r\n\r\nIf everything else is set up correctly, it&#39;s definitely bound to work after that.","title":"Gradle: Could not resolve all dependencies for configuration &#39;:classpath&#39;","body":"<p>Go to your build.gradle (project), hover around the classpath and update the version to the suggested update.</p>\n\n<p>If the suggestion above does not work, it means there is a sync problem. Simply do this:</p>\n\n<blockquote>\n  <p>File > Invalidate cache and restart</p>\n</blockquote>\n\n<p>If everything else is set up correctly, it's definitely bound to work after that.</p>\n"},{"tags":[],"owner":{"account_id":12190354,"reputation":5146,"user_id":8898138,"display_name":"Mahdieh Shavandi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661937632,"creation_date":1661937632,"answer_id":73553654,"question_id":37716881,"body_markdown":"My error was:\r\n\r\n\r\n```\r\nCould not resolve all dependencies for configuration &#39;:classpath&#39;. &gt; Could not create service of type OutputFilesRepository using ExecutionGradleServices.createOutputFilesRepository()\r\n```\r\n\r\nThere was a lock file in m project `android/.gradle/buildOutputCleanup.lock` which I needed to remove before continuing to run the project (I&#39;m using react-native)\r\n\r\nBut actually, it wasn&#39;t removed, it kept saying this file is open in `Java SE`\r\n\r\nSo, first I had to run (I&#39;m using windows):\r\n\r\n```\r\ntasklist | findstr java\r\n```\r\n\r\nSo, all the running Java instances will be displayed with their PID. Then kill each process by its PID:\r\n\r\n```\r\ntaskkill /F /PID  &lt;PID&gt;  // It will be like taskkill /Fn /PID 23172\r\n```\r\n\r\nThen I was able to remove that lock file and I could rebuild the project\r\n\r\n","title":"Gradle: Could not resolve all dependencies for configuration &#39;:classpath&#39;","body":"<p>My error was:</p>\n<pre><code>Could not resolve all dependencies for configuration ':classpath'. &gt; Could not create service of type OutputFilesRepository using ExecutionGradleServices.createOutputFilesRepository()\n</code></pre>\n<p>There was a lock file in m project <code>android/.gradle/buildOutputCleanup.lock</code> which I needed to remove before continuing to run the project (I'm using react-native)</p>\n<p>But actually, it wasn't removed, it kept saying this file is open in <code>Java SE</code></p>\n<p>So, first I had to run (I'm using windows):</p>\n<pre><code>tasklist | findstr java\n</code></pre>\n<p>So, all the running Java instances will be displayed with their PID. Then kill each process by its PID:</p>\n<pre><code>taskkill /F /PID  &lt;PID&gt;  // It will be like taskkill /Fn /PID 23172\n</code></pre>\n<p>Then I was able to remove that lock file and I could rebuild the project</p>\n"}],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25656,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":37716996,"answer_count":3,"score":4,"last_activity_date":1661937632,"creation_date":1465446820,"question_id":37716881,"body_markdown":"I&#39;ve been facing a problem with my android studio. Anytime I try to run an application, any application (even blank one), an error would occur. It&#39;s always in this form: \r\n\r\nNB: Flip is the name of the application... \r\n\r\n    Error: Gradle: A problem occurred configuring root project &#39;Flip&#39;. \r\n         - Could not resolve all dependencies for configuration &#39;:classpath&#39;. \r\n         - Could not resolve com.android.tools.build:gradle:1.1.0.\r\n            Required by:\r\n                       :Flip:unspecified\r\n\r\n\r\nI&#39;ve searched for solutions for days to no avail and it has rendered my android studio almost useless. ","title":"Gradle: Could not resolve all dependencies for configuration &#39;:classpath&#39;","body":"<p>I've been facing a problem with my android studio. Anytime I try to run an application, any application (even blank one), an error would occur. It's always in this form: </p>\n\n<p>NB: Flip is the name of the application... </p>\n\n<pre><code>Error: Gradle: A problem occurred configuring root project 'Flip'. \n     - Could not resolve all dependencies for configuration ':classpath'. \n     - Could not resolve com.android.tools.build:gradle:1.1.0.\n        Required by:\n                   :Flip:unspecified\n</code></pre>\n\n<p>I've searched for solutions for days to no avail and it has rendered my android studio almost useless. </p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","pagination"],"answers":[{"tags":[],"owner":{"account_id":2127899,"reputation":1508,"user_id":1889512,"display_name":"BadChanneler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661937534,"creation_date":1661937534,"answer_id":73553630,"question_id":71562223,"body_markdown":"I had to do the same thing and I started from your snippets. I tested this solution and it iterated over all results. I start from page 0.\r\n\r\n    Pageable pageRequest = PageRequest.of(0, PAGE_SIZE);\r\n    Page&lt;Something&gt; pageOfSomethings;\r\n\r\n\r\n    do {\r\n      pageOfSomethings\r\n          = somethingRepository.findBySomeCriterias(\r\n          criteria,\r\n          pageRequest\r\n      );\r\n      doSomethingWithResults(pageOfSomethings);\r\n      pageRequest = pageRequest.next();\r\n    } while (pageOfSomethings.hasNext());\r\n","title":"Spring JPA pagination iteration","body":"<p>I had to do the same thing and I started from your snippets. I tested this solution and it iterated over all results. I start from page 0.</p>\n<pre><code>Pageable pageRequest = PageRequest.of(0, PAGE_SIZE);\nPage&lt;Something&gt; pageOfSomethings;\n\n\ndo {\n  pageOfSomethings\n      = somethingRepository.findBySomeCriterias(\n      criteria,\n      pageRequest\n  );\n  doSomethingWithResults(pageOfSomethings);\n  pageRequest = pageRequest.next();\n} while (pageOfSomethings.hasNext());\n</code></pre>\n"}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661937534,"creation_date":1647886336,"question_id":71562223,"body_markdown":"This might be basic but the below code not working as expected.\r\n\r\nBelow codes not iterating through all pages! I am verifying this db rows count and `sum of currentPage.getContent().size()`.\r\n\r\nSnippet1:\r\n\r\n    Pageable pageRequest = PageRequest.of(page, pageSize, Sort.by(&quot;field&quot;).ascending());\r\n    Page&lt;Something&gt; currentPage;\r\n    do {\r\n     currentPage = repo.findAll(pageRequest);\r\n     // do something\r\n     pageRequest = pageRequest.next();\r\n    } while(!currentPage.isLast());\r\n\r\nSnippet2:\r\n\r\n    Pageable pageRequest = PageRequest.of(page, pageSize, Sort.by(&quot;field&quot;).ascending());\r\n    Page&lt;Something&gt; currentPage = repo.findAll(pageRequest);\r\n    while(!currentPage.conetent().isEmpty()) {\r\n     currentPage = repo.findAll(pageRequest);\r\n     // do something\r\n     pageRequest = pageRequest.next();\r\n    }\r\n\r\n","title":"Spring JPA pagination iteration","body":"<p>This might be basic but the below code not working as expected.</p>\n<p>Below codes not iterating through all pages! I am verifying this db rows count and <code>sum of currentPage.getContent().size()</code>.</p>\n<p>Snippet1:</p>\n<pre><code>Pageable pageRequest = PageRequest.of(page, pageSize, Sort.by(&quot;field&quot;).ascending());\nPage&lt;Something&gt; currentPage;\ndo {\n currentPage = repo.findAll(pageRequest);\n // do something\n pageRequest = pageRequest.next();\n} while(!currentPage.isLast());\n</code></pre>\n<p>Snippet2:</p>\n<pre><code>Pageable pageRequest = PageRequest.of(page, pageSize, Sort.by(&quot;field&quot;).ascending());\nPage&lt;Something&gt; currentPage = repo.findAll(pageRequest);\nwhile(!currentPage.conetent().isEmpty()) {\n currentPage = repo.findAll(pageRequest);\n // do something\n pageRequest = pageRequest.next();\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","dialog","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661937432,"creation_date":1661937432,"answer_id":73553602,"question_id":73545045,"body_markdown":"Create local db. store the edit text input. add new rows for each input. add the values of all rows and show as total. For creating local db check this link [https://github.com/PM1509/SqliteSample][1]\r\n\r\n\r\n  [1]: https://github.com/PM1509/SqliteSample","title":"Android Studio add user input from dialog to previous value","body":"<p>Create local db. store the edit text input. add new rows for each input. add the values of all rows and show as total. For creating local db check this link <a href=\"https://github.com/PM1509/SqliteSample\" rel=\"nofollow noreferrer\">https://github.com/PM1509/SqliteSample</a></p>\n"}],"owner":{"account_id":26076438,"reputation":1,"user_id":19775333,"display_name":"spubik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661937432,"creation_date":1661873600,"question_id":73545045,"body_markdown":"currently I am creating an App that is supposed to track your habits. My Main Activity has a Dialog where you choose, what you want to track. After that another Dialog shows depending on which option you clicked.\r\nI have an edittext in the WaterTracking dialog, where the user can input the amount of water they have been drinking. on positiveButton.Clicked, the user input is suppose to be added to the total.\r\nI am pretty clueless on how I am supposed to implement the counter, where the prevwater and the inputwater from he edittext is calculated to the total.\r\n\r\nFor example, starting with 0 mililiters, the user types 200 into the edittext, and the total would be 200 mililiters.\r\nAt the next input, for example 300, the program is supposed to add the previous to the new, 200 + 300 = 500.\r\nAnd so on, that 500 + ... = total\r\n\r\nI thought of having 3 variables: totalwater, inputwater and prevwater.\r\n\r\ntotalwater = prevwaer + inputwater\r\n\r\nprevwater has value of totalwater\r\n\r\nI don&#39;t really have code to show, because I have been clueless. Also I am pretty new to Java. Maybe I am missing something.\r\n\r\nHow would you solve this considering the dialogs and the variable saving the previous input?","title":"Android Studio add user input from dialog to previous value","body":"<p>currently I am creating an App that is supposed to track your habits. My Main Activity has a Dialog where you choose, what you want to track. After that another Dialog shows depending on which option you clicked.\nI have an edittext in the WaterTracking dialog, where the user can input the amount of water they have been drinking. on positiveButton.Clicked, the user input is suppose to be added to the total.\nI am pretty clueless on how I am supposed to implement the counter, where the prevwater and the inputwater from he edittext is calculated to the total.</p>\n<p>For example, starting with 0 mililiters, the user types 200 into the edittext, and the total would be 200 mililiters.\nAt the next input, for example 300, the program is supposed to add the previous to the new, 200 + 300 = 500.\nAnd so on, that 500 + ... = total</p>\n<p>I thought of having 3 variables: totalwater, inputwater and prevwater.</p>\n<p>totalwater = prevwaer + inputwater</p>\n<p>prevwater has value of totalwater</p>\n<p>I don't really have code to show, because I have been clueless. Also I am pretty new to Java. Maybe I am missing something.</p>\n<p>How would you solve this considering the dialogs and the variable saving the previous input?</p>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":16677797,"reputation":837,"user_id":12053756,"display_name":"Jagar"},"score":0,"creation_date":1661579133,"post_id":73508638,"comment_id":129810346,"body_markdown":"Please paste what you have in **gradle.properties** file?","body":"Please paste what you have in <b>gradle.properties</b> file?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661602309,"post_id":73508638,"comment_id":129813846,"body_markdown":"@Artem Please don&#39;t misuse comments for posting code (code in comments is totally unreadable). Please edit your question instead and deleted the comments.","body":"@Artem Please don&#39;t misuse comments for posting code (code in comments is totally unreadable). Please edit your question instead and deleted the comments."},{"owner":{"account_id":26168315,"reputation":1,"user_id":19853769,"display_name":"Artem"},"score":0,"creation_date":1661606085,"post_id":73508638,"comment_id":129814567,"body_markdown":"Hello, thanks for the tip, I&#39;ve added build.properties to the question","body":"Hello, thanks for the tip, I&#39;ve added build.properties to the question"}],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661937214,"creation_date":1661937214,"answer_id":73553560,"question_id":73508638,"body_markdown":"Remove this line `build.gradle(Project: AndroidStudioProjects)`","title":"How to fix error in gradle that won&#39;t build app in Android Studio?","body":"<p>Remove this line <code>build.gradle(Project: AndroidStudioProjects)</code></p>\n"}],"owner":{"account_id":26168315,"reputation":1,"user_id":19853769,"display_name":"Artem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661937214,"creation_date":1661578893,"question_id":73508638,"body_markdown":"An error occurs during build:\r\n\r\n**Gradle sync failed: Could not get unknown property &#39;build&#39; for root project &#39;Svetofor&#39; of type org.gradle.api.Project.**\r\n\r\nCode where the error occurs **build.gradle (Svetofor) :**\r\n\r\n    build.gradle(Project: AndroidStudioProjects)\r\n    apply plugin: &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.3.3&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n**build.properties:**\r\n\r\n    # Project-wide Gradle settings.\r\n    # IDE (e.g. Android Studio) users:\r\n    # Gradle settings configured through the IDE *will override*\r\n    # any settings specified in this file.\r\n    # For more details on how to configure your build environment visit\r\n    # http://www.gradle.org/docs/current/userguide/build_environment.html\r\n    # Specifies the JVM arguments used for the daemon process.\r\n    # The setting is particularly useful for tweaking memory settings.\r\n    org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\n    # When configured, Gradle will run in incubating parallel mode.\r\n    # This option should only be used with decoupled projects. More details, visit\r\n    # http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n    # org.gradle.parallel=true\r\n    # AndroidX package structure to make it clearer which packages are bundled with the\r\n    # Android operating system, and which are packaged with your app&quot;s APK\r\n    # https://developer.android.com/topic/libraries/support-library/androidx-rn\r\n    android.useAndroidX=true\r\n    # Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n    # resources declared in the library itself and none from the library&#39;s dependencies,\r\n    # thereby reducing the size of the R class for that library\r\n    android.nonTransitiveRClass=true\r\n\r\nPlease help me to fix the error in order to build the application","title":"How to fix error in gradle that won&#39;t build app in Android Studio?","body":"<p>An error occurs during build:</p>\n<p><strong>Gradle sync failed: Could not get unknown property 'build' for root project 'Svetofor' of type org.gradle.api.Project.</strong></p>\n<p>Code where the error occurs <strong>build.gradle (Svetofor) :</strong></p>\n<pre><code>build.gradle(Project: AndroidStudioProjects)\napply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n\n    }\n\n\n\n\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build.properties:</strong></p>\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# AndroidX package structure to make it clearer which packages are bundled with the\n# Android operating system, and which are packaged with your app&quot;s APK\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\nandroid.useAndroidX=true\n# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\nandroid.nonTransitiveRClass=true\n</code></pre>\n<p>Please help me to fix the error in order to build the application</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1661901436,"post_id":73549296,"comment_id":129880985,"body_markdown":"Welcome! Please note that this site is not a debugging service. Copy-pasting large slabs of code into the question and asking us to debug it is off-topic. However, we can help you with *specific* questions about small *parts* of your code (a few lines), ideally accompanied by an [MCVE](https://stackoverflow.com/help/mcve). Please read [How to ask](https://stackoverflow.com/help/how-to-ask) then edit your question to narrow its focus and remove all code not directly relevant and absolutely required to describe your problem.","body":"Welcome! Please note that this site is not a debugging service. Copy-pasting large slabs of code into the question and asking us to debug it is off-topic. However, we can help you with <i>specific</i> questions about small <i>parts</i> of your code (a few lines), ideally accompanied by an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a> then edit your question to narrow its focus and remove all code not directly relevant and absolutely required to describe your problem."},{"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"score":0,"creation_date":1661902238,"post_id":73549296,"comment_id":129881114,"body_markdown":"if you want input &quot;hello, keshav, bob, doan kehsavbob&quot;&quot;  you need to split  Scanner sc = new Scanner(System.in);\n          // Read in the method name that we want to call\n        System.out.print(&quot;Please enter your words: &quot;);\n        String methodName = sc.nextLine();\n        // Read in number of words\n       System.out.println(&quot;method name&quot; + methodName);\n        sc.close();\n       String [] words = methodName.split(&quot;,&quot;);","body":"if you want input &quot;hello, keshav, bob, doan kehsavbob&quot;&quot;  you need to split  Scanner sc = new Scanner(System.in);           // Read in the method name that we want to call         System.out.print(&quot;Please enter your words: &quot;);         String methodName = sc.nextLine();         // Read in number of words        System.out.println(&quot;method name&quot; + methodName);         sc.close();        String [] words = methodName.split(&quot;,&quot;);"},{"owner":{"account_id":26202942,"reputation":9,"user_id":19882998,"display_name":"ksuk333"},"score":0,"creation_date":1661902807,"post_id":73549296,"comment_id":129881196,"body_markdown":"@sjy Where do I include the for loop to loop through if I am already closing the scanner?","body":"@sjy Where do I include the for loop to loop through if I am already closing the scanner?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661937193,"creation_date":1661905214,"answer_id":73549687,"question_id":73549296,"body_markdown":"You are trying to parse an integer from a word, which won&#39;t work.\r\n\r\nReplace:\r\n\r\n    int numWords = Integer.parseInt(sc.nextLine());\r\n    String[] words = new String[numWords];\r\n\r\nwith:\r\n\r\n    String[] words = sc.nextLine().split(&quot;\\W+&quot;);","title":"Program is having issues with inputting arrays","body":"<p>You are trying to parse an integer from a word, which won't work.</p>\n<p>Replace:</p>\n<pre><code>int numWords = Integer.parseInt(sc.nextLine());\nString[] words = new String[numWords];\n</code></pre>\n<p>with:</p>\n<pre><code>String[] words = sc.nextLine().split(&quot;\\W+&quot;);\n</code></pre>\n"}],"owner":{"account_id":26202942,"reputation":9,"user_id":19882998,"display_name":"ksuk333"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73549687,"answer_count":1,"score":0,"last_activity_date":1661937193,"creation_date":1661900780,"question_id":73549296,"body_markdown":"The output for the following code is: \r\nPlease enter your words: \r\nhello, keshav, bob, doan\r\nkehsavbob \r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;kehsavbob&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:668)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n        at MyClass.main(MyClass.java:101)\r\n\r\n          public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            // Read in the method name that we want to call\r\n            System.out.print(&quot;Please enter your words: &quot;);\r\n            String methodName = sc.nextLine();\r\n            // Read in number of words\r\n            int numWords = Integer.parseInt(sc.nextLine());\r\n            // Read in list of words\r\n            String[] words = new String[numWords];\r\n            for (int i = 0; i &lt; numWords; i++) {\r\n                words[i] = sc.nextLine();\r\n            }\r\n            sc.close();\r\n    \r\n            // Run the specified method\r\n            switch (methodName) {\r\n                case MIN_METHOD_NAME:\r\n                    System.out.println(minWordLength(words));\r\n                    break;\r\n                case MAX_METHOD_NAME:\r\n                    System.out.println(maxWordLength(words));\r\n                    break;\r\n                case RANGE_METHOD_NAME:\r\n                    System.out.println(wordLengthRange(words));\r\n                    break;\r\n                case AVERAGE_METHOD_NAME:\r\n                    System.out.println(averageWordLength(words));\r\n                    break;\r\n                case MODE_METHOD_NAME:\r\n                    System.out.println(mostCommonWordLength(words));\r\n                    break;\r\n                default:\r\n                    throw new UnsupportedOperationException();\r\n            }\r\n   }\r\n\r\n","title":"Program is having issues with inputting arrays","body":"<p>The output for the following code is:\nPlease enter your words:\nhello, keshav, bob, doan\nkehsavbob\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;kehsavbob&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\nat java.base/java.lang.Integer.parseInt(Integer.java:668)\nat java.base/java.lang.Integer.parseInt(Integer.java:786)\nat MyClass.main(MyClass.java:101)</p>\n<pre><code>      public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        // Read in the method name that we want to call\n        System.out.print(&quot;Please enter your words: &quot;);\n        String methodName = sc.nextLine();\n        // Read in number of words\n        int numWords = Integer.parseInt(sc.nextLine());\n        // Read in list of words\n        String[] words = new String[numWords];\n        for (int i = 0; i &lt; numWords; i++) {\n            words[i] = sc.nextLine();\n        }\n        sc.close();\n\n        // Run the specified method\n        switch (methodName) {\n            case MIN_METHOD_NAME:\n                System.out.println(minWordLength(words));\n                break;\n            case MAX_METHOD_NAME:\n                System.out.println(maxWordLength(words));\n                break;\n            case RANGE_METHOD_NAME:\n                System.out.println(wordLengthRange(words));\n                break;\n            case AVERAGE_METHOD_NAME:\n                System.out.println(averageWordLength(words));\n                break;\n            case MODE_METHOD_NAME:\n                System.out.println(mostCommonWordLength(words));\n                break;\n            default:\n                throw new UnsupportedOperationException();\n        }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661539567,"post_id":73505047,"comment_id":129804752,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661937147,"creation_date":1661937147,"answer_id":73553549,"question_id":73505047,"body_markdown":"Remove first line. you dont need this `build.gradle(Project: AndroidStudioProjects)`","title":"How to fix error in gradle android studio?","body":"<p>Remove first line. you dont need this <code>build.gradle(Project: AndroidStudioProjects)</code></p>\n"}],"owner":{"account_id":26168315,"reputation":1,"user_id":19853769,"display_name":"Artem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661937147,"creation_date":1661537751,"question_id":73505047,"body_markdown":"An error occurs during build:\r\n\r\n**Gradle sync failed: Could not get unknown property &#39;build&#39; for root project &#39;Svetofor&#39; of type org.gradle.api.Project.**\r\n\r\n\r\n**Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;build&#39; for root project &#39;Svetofor&#39; of type org.gradle.api.Project.\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:85)\r\n\tat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.getMissingProperty(BasicScript.java:157)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:62)\r\n\tat org.gradle.groovy.scripts.BasicScript.getProperty(BasicScript.java:66)\r\n\tat build_cn9w26wxe6fc7p57z1l3a9w12.run(C:\\Users\\acosm\\AndroidStudioProjects\\Svetofor\\build.gradle:1)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n\t... 164 more**\r\n\r\nbuild.gradle (Svetofor) :\r\n\r\n  \r\n\r\n     build.gradle(Project: AndroidStudioProjects)\r\n    apply plugin: &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.3.3&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }","title":"How to fix error in gradle android studio?","body":"<p>An error occurs during build:</p>\n<p><strong>Gradle sync failed: Could not get unknown property 'build' for root project 'Svetofor' of type org.gradle.api.Project.</strong></p>\n<p><strong>Caused by: groovy.lang.MissingPropertyException: Could not get unknown property 'build' for root project 'Svetofor' of type org.gradle.api.Project.\nat org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:85)\nat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.getMissingProperty(BasicScript.java:157)\nat org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:62)\nat org.gradle.groovy.scripts.BasicScript.getProperty(BasicScript.java:66)\nat build_cn9w26wxe6fc7p57z1l3a9w12.run(C:\\Users\\acosm\\AndroidStudioProjects\\Svetofor\\build.gradle:1)\nat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n... 164 more</strong></p>\n<p>build.gradle (Svetofor) :</p>\n<pre><code> build.gradle(Project: AndroidStudioProjects)\napply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n\n    }\n\n\n\n\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-mapper"],"answers":[{"tags":[],"owner":{"account_id":11619749,"reputation":171,"user_id":8511385,"display_name":"Deepesh Dagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661804431,"creation_date":1661804431,"answer_id":73534260,"question_id":73534066,"body_markdown":"In Interface DynamoDBTypeConverter&lt;S,T&gt; represents S - The DynamoDB standard type, T - The object&#39;s field/property type. Use T as List&lt;LocalDateTime&gt;. \r\n\r\n    public class LocalDateTimeConverter implements DynamoDBTypeConverter&lt;String, List&lt;LocalDateTime&gt;&gt; {\r\n    \r\n        @Override\r\n        public String convert(List&lt;LocalDateTime&gt; dateTime) {\r\n            //your implementation\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;LocalDateTime&gt; unconvert(String dateTimeStr) {\r\n            //your implementation\r\n        }\r\n    }","title":"Mapping List&lt;LocalDateTime&gt; to DynamoDB","body":"<p>In Interface DynamoDBTypeConverter&lt;S,T&gt; represents S - The DynamoDB standard type, T - The object's field/property type. Use T as List.</p>\n<pre><code>public class LocalDateTimeConverter implements DynamoDBTypeConverter&lt;String, List&lt;LocalDateTime&gt;&gt; {\n\n    @Override\n    public String convert(List&lt;LocalDateTime&gt; dateTime) {\n        //your implementation\n    }\n\n    @Override\n    public List&lt;LocalDateTime&gt; unconvert(String dateTimeStr) {\n        //your implementation\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3790149,"reputation":123,"user_id":3146948,"display_name":"piechos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661936881,"creation_date":1661936881,"answer_id":73553478,"question_id":73534066,"body_markdown":"I wrote converter like below and it works as I wanted ;)\r\n\r\n    public class ListOfLocalDateTimesConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;LocalDateTime&gt;&gt; {\r\n    @Override\r\n    public List&lt;String&gt; convert(List&lt;LocalDateTime&gt; localDateTimes) {\r\n        return localDateTimes\r\n                .stream()\r\n                .map(localDateTime -&gt; localDateTime.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public List&lt;LocalDateTime&gt; unconvert(List&lt;String&gt; strings) {\r\n        return strings\r\n                .stream()\r\n                .map(str -&gt; LocalDateTime.parse(str))\r\n                .collect(Collectors.toList());\r\n    }\r\n}","title":"Mapping List&lt;LocalDateTime&gt; to DynamoDB","body":"<p>I wrote converter like below and it works as I wanted ;)</p>\n<pre><code>public class ListOfLocalDateTimesConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;LocalDateTime&gt;&gt; {\n@Override\npublic List&lt;String&gt; convert(List&lt;LocalDateTime&gt; localDateTimes) {\n    return localDateTimes\n            .stream()\n            .map(localDateTime -&gt; localDateTime.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME))\n            .collect(Collectors.toList());\n}\n\n@Override\npublic List&lt;LocalDateTime&gt; unconvert(List&lt;String&gt; strings) {\n    return strings\n            .stream()\n            .map(str -&gt; LocalDateTime.parse(str))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3790149,"reputation":123,"user_id":3146948,"display_name":"piechos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73553478,"answer_count":2,"score":0,"last_activity_date":1661936881,"creation_date":1661803080,"question_id":73534066,"body_markdown":"I&#39;m trying to map to DynamoDB list of dates in Java\r\n\r\n    @DynamoDBTypeConverted(converter = LocalDateTimeConverter.class)\r\n    private List&lt;LocalDateTime&gt; acquisitionsDates;\r\n\r\n\r\n\r\n    public class LocalDateTimeConverter implements DynamoDBTypeConverter&lt;String, LocalDateTime&gt; {\r\n    \r\n        @Override\r\n        public String convert(LocalDateTime dateTime) {\r\n            return dateTime.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME);\r\n        }\r\n    \r\n        @Override\r\n        public LocalDateTime unconvert(String dateTimeStr) {\r\n            return LocalDateTime.parse(dateTimeStr);\r\n        }\r\n    }\r\n\r\nI have written my own converter but it works only for LocalDateTime but not for the List. Does anyone know how to do it correctly?\r\n\r\nShould I write separate converter that will return list of strings where each string will be converted from localdatetime?\r\n\r\n","title":"Mapping List&lt;LocalDateTime&gt; to DynamoDB","body":"<p>I'm trying to map to DynamoDB list of dates in Java</p>\n<pre><code>@DynamoDBTypeConverted(converter = LocalDateTimeConverter.class)\nprivate List&lt;LocalDateTime&gt; acquisitionsDates;\n\n\n\npublic class LocalDateTimeConverter implements DynamoDBTypeConverter&lt;String, LocalDateTime&gt; {\n\n    @Override\n    public String convert(LocalDateTime dateTime) {\n        return dateTime.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME);\n    }\n\n    @Override\n    public LocalDateTime unconvert(String dateTimeStr) {\n        return LocalDateTime.parse(dateTimeStr);\n    }\n}\n</code></pre>\n<p>I have written my own converter but it works only for LocalDateTime but not for the List. Does anyone know how to do it correctly?</p>\n<p>Should I write separate converter that will return list of strings where each string will be converted from localdatetime?</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1661847906,"post_id":73538835,"comment_id":129862649,"body_markdown":"Can you please show the exact jOOQ code that you wrote?","body":"Can you please show the exact jOOQ code that you wrote?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1661850473,"post_id":73538835,"comment_id":129863625,"body_markdown":"Is Address[] a genuine field column type allowed by the database , it appears more like java syntax. Address may as be a comma separated list as varchar than any object. I believe in an attempt to handle Address[] as the type the database converted the unknown type to Object type, so lookup the DB documentation how to retrieve Object type of the database.","body":"Is Address[] a genuine field column type allowed by the database , it appears more like java syntax. Address may as be a comma separated list as varchar than any object. I believe in an attempt to handle Address[] as the type the database converted the unknown type to Object type, so lookup the DB documentation how to retrieve Object type of the database."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661936071,"creation_date":1661936071,"answer_id":73553305,"question_id":73538835,"body_markdown":"I&#39;m assuming that you&#39;re not using code generation? [But you should][1]! *Especially* when you use user defined types, jOOQ is really of great help. Here&#39;s how you can easily insert data to your tables:\r\n\r\n```java\r\nAddressRecord[] addresses = {\r\n    new AddressRecord(name1, pincode1, ...),\r\n    new AddressRecord(name2, pincode2, ...)\r\n};\r\n\r\nctx.insertInto(EMPLOYEE)\r\n   .columns(EMPLOYEE.NAME, EMPLOYEE.ADDRESS)\r\n   .values(empname, addresses) // All type safe!\r\n   .execute();\r\n```\r\n\r\nNo magic. All required type casts will be generated by jOOQ to make sure you can properly insert an array of user defined types. I.e. `cast(? as my_schema.address[])`.\r\n\r\nNote, there used to be some bugs in the distant past related to the schema qualification of the UDT type, but those should be resolved in recent releases\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"How to typecast object data type in custom data type of fields in jooq/java","body":"<p>I'm assuming that you're not using code generation? <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">But you should</a>! <em>Especially</em> when you use user defined types, jOOQ is really of great help. Here's how you can easily insert data to your tables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AddressRecord[] addresses = {\n    new AddressRecord(name1, pincode1, ...),\n    new AddressRecord(name2, pincode2, ...)\n};\n\nctx.insertInto(EMPLOYEE)\n   .columns(EMPLOYEE.NAME, EMPLOYEE.ADDRESS)\n   .values(empname, addresses) // All type safe!\n   .execute();\n</code></pre>\n<p>No magic. All required type casts will be generated by jOOQ to make sure you can properly insert an array of user defined types. I.e. <code>cast(? as my_schema.address[])</code>.</p>\n<p>Note, there used to be some bugs in the distant past related to the schema qualification of the UDT type, but those should be resolved in recent releases</p>\n"}],"owner":{"account_id":14486858,"reputation":31,"user_id":10464481,"display_name":"Pritam007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661936071,"creation_date":1661845520,"question_id":73538835,"body_markdown":"I am able to fetch the data from database but while inserting the same data I am getting error related to bad grammar exception which is happening because of data type mismatch.\r\nLet me explain it clearly, There is employee table which has a field of Address type, like this\r\n\r\n    crate table employee{\r\n    name varchar,\r\n    address Address[];\r\n    }\r\n    create type Address{\r\n    name,\r\n    pincode,\r\n    .....\r\n    }\r\n\r\nSo while fetching the data from db I am getting address type is Object so able to fetch the data but while inserting the data using jooq I am getting the error because it is object type if it is address type then I am able to insert the data\r\nIs there any way in jooq so i can typecast it in Address type in java code.","title":"How to typecast object data type in custom data type of fields in jooq/java","body":"<p>I am able to fetch the data from database but while inserting the same data I am getting error related to bad grammar exception which is happening because of data type mismatch.\nLet me explain it clearly, There is employee table which has a field of Address type, like this</p>\n<pre><code>crate table employee{\nname varchar,\naddress Address[];\n}\ncreate type Address{\nname,\npincode,\n.....\n}\n</code></pre>\n<p>So while fetching the data from db I am getting address type is Object so able to fetch the data but while inserting the data using jooq I am getting the error because it is object type if it is address type then I am able to insert the data\nIs there any way in jooq so i can typecast it in Address type in java code.</p>\n"},{"tags":["java","loops"],"answers":[{"tags":[],"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661935402,"creation_date":1661935402,"answer_id":73553163,"question_id":73553109,"body_markdown":"Since you&#39;re incrementing x and decreasing the size of the queue, x will eventually become bigger than the remaining queue size before the queue is empty.\r\n\r\nYou can change your loop to `while (!queue.isEmpty())` instead.","title":"Retrieve all queue data in for loop","body":"<p>Since you're incrementing x and decreasing the size of the queue, x will eventually become bigger than the remaining queue size before the queue is empty.</p>\n<p>You can change your loop to <code>while (!queue.isEmpty())</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661935455,"creation_date":1661935455,"answer_id":73553174,"question_id":73553109,"body_markdown":"The problem is that each time you remove an item, the queue gets smaller, so you stop early. At start the size is 3, after the first iteration, the size is 2, at the third iteration the size is 1, and `2 &lt;= 1` is false, so the third item is not processed.\r\n\r\nUse [`Queue.poll()`][1] instead to get and remove the item from the queue. `poll()` returns `null` when the queue is empty.\r\n\r\n```java\r\nString value;\r\nwhile ((value = queue.poll()) != null) {\r\n    int queueBatchNumber =  Integer.valueOf(value);\r\n    // rest of your code\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Queue.html#poll()","title":"Retrieve all queue data in for loop","body":"<p>The problem is that each time you remove an item, the queue gets smaller, so you stop early. At start the size is 3, after the first iteration, the size is 2, at the third iteration the size is 1, and <code>2 &lt;= 1</code> is false, so the third item is not processed.</p>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Queue.html#poll()\" rel=\"nofollow noreferrer\"><code>Queue.poll()</code></a> instead to get and remove the item from the queue. <code>poll()</code> returns <code>null</code> when the queue is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String value;\nwhile ((value = queue.poll()) != null) {\n    int queueBatchNumber =  Integer.valueOf(value);\n    // rest of your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661935738,"creation_date":1661935738,"answer_id":73553235,"question_id":73553109,"body_markdown":"If you want to go through all elements of a collection while clearing it, you probably want to use `Iterator` which has a `remove` method.\r\n\r\n```\r\nIterator&lt;Integer&gt; iterator = q.iterator();\r\nwhile (iterator.hasNext()) {\r\n  doStuffWith(iterator.next());\r\n  iterator.remove();\r\n}\r\n```\r\n\r\nAlso note that your for loop is wrong to begin with. If you do need to iterator through an ordered collection (like a `List`), you want to stop short of its actual `size()`:\r\n```\r\nfor (int i = 0; i &lt; list.size(); i++) { // i &lt; list.size(), not i &lt;= list.size()\r\n```","title":"Retrieve all queue data in for loop","body":"<p>If you want to go through all elements of a collection while clearing it, you probably want to use <code>Iterator</code> which has a <code>remove</code> method.</p>\n<pre><code>Iterator&lt;Integer&gt; iterator = q.iterator();\nwhile (iterator.hasNext()) {\n  doStuffWith(iterator.next());\n  iterator.remove();\n}\n</code></pre>\n<p>Also note that your for loop is wrong to begin with. If you do need to iterator through an ordered collection (like a <code>List</code>), you want to stop short of its actual <code>size()</code>:</p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++) { // i &lt; list.size(), not i &lt;= list.size()\n</code></pre>\n"}],"owner":{"account_id":26206002,"reputation":3,"user_id":19885586,"display_name":"Simile Mhlanga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73553163,"answer_count":3,"score":0,"last_activity_date":1661935738,"creation_date":1661935159,"question_id":73553109,"body_markdown":"I have the following code which works fine but I am struggling to figure out how to retrieve the last value in the queue.\r\n\r\n    Queue&lt;String&gt; q = bi.getStringQueue();\r\n  \r\n    System.out.println(&quot;QUEUE SIZE : &quot;+q.size());\r\n    \r\n    for(int x =0; x &lt;= q.size(); x++){\r\n        int queueBatchNumber =  Integer.valueOf(q.peek());\r\n\r\n        System.out.println(&quot;Attempting auto post on AR batch &quot;+queueBatchNumber);\r\n\r\n        setReadyToPostAR(queueBatchNumber);\r\n        autoPostAR(queueBatchNumber);\r\n\r\n        System.out.println(&quot;Auto post on AR batch &quot;+queueBatchNumber + &quot; complete&quot;);\r\n\r\n        q.remove();\r\n    }\r\n\r\nHere is the output:\r\n\r\n```none\r\nQUEUE SIZE : 3 \r\nAttempting auto post on AR batch 462212\r\nAuto post on AR batch 462212 complete\r\nAttempting auto post on AR batch 462213\r\nAuto post on AR batch 462213 complete\r\n```","title":"Retrieve all queue data in for loop","body":"<p>I have the following code which works fine but I am struggling to figure out how to retrieve the last value in the queue.</p>\n<pre><code>Queue&lt;String&gt; q = bi.getStringQueue();\n\nSystem.out.println(&quot;QUEUE SIZE : &quot;+q.size());\n\nfor(int x =0; x &lt;= q.size(); x++){\n    int queueBatchNumber =  Integer.valueOf(q.peek());\n\n    System.out.println(&quot;Attempting auto post on AR batch &quot;+queueBatchNumber);\n\n    setReadyToPostAR(queueBatchNumber);\n    autoPostAR(queueBatchNumber);\n\n    System.out.println(&quot;Auto post on AR batch &quot;+queueBatchNumber + &quot; complete&quot;);\n\n    q.remove();\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>QUEUE SIZE : 3 \nAttempting auto post on AR batch 462212\nAuto post on AR batch 462212 complete\nAttempting auto post on AR batch 462213\nAuto post on AR batch 462213 complete\n</code></pre>\n"},{"tags":["java","java-8","javabeans","apache-tomee","deltaspike"],"answers":[{"tags":[],"owner":{"account_id":15111412,"reputation":13,"user_id":10905378,"display_name":"Stef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661935552,"creation_date":1661935144,"answer_id":73553100,"question_id":73528791,"body_markdown":"It turned out the existing codebase required an implementation of the LoginService interface within the given project. The error was probably due to the fact that no implementation was found for the interface.","title":"TomEE throws error &quot;Could not find beans for Type=interface ab.cde.fgh.base.fe.login.LoginService and qualifiers:[]","body":"<p>It turned out the existing codebase required an implementation of the LoginService interface within the given project. The error was probably due to the fact that no implementation was found for the interface.</p>\n"}],"owner":{"account_id":15111412,"reputation":13,"user_id":10905378,"display_name":"Stef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661935552,"creation_date":1661776016,"question_id":73528791,"body_markdown":"I looked through the few other questions related to the error but could not find any advice about this. When running a war file in TomEE and triggering a Filter, the following error occurs:\r\n\r\n    org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [default] in context with path [/dbdelta] threw exception [java.lang.IllegalStateException: Could not find beans for Type=interface ab.cde.fgh.base.fe.login.LoginService and qualifiers:[]] with root cause\r\n\tjava.lang.IllegalStateException: Could not find beans for Type=interface ab.cde.fgh.base.fe.login.LoginService and qualifiers:[]\r\n\t\tat org.apache.deltaspike.core.api.provider.BeanProvider.getContextualReference(BeanProvider.java:154)\r\n\t\tat org.apache.deltaspike.core.api.provider.BeanProvider.getContextualReference(BeanProvider.java:121)\r\n\t\tat org.apache.deltaspike.core.api.provider.BeanProvider.getContextualReference(BeanProvider.java:100)\r\n\t\tat ab.cde.fgh.base.fe.login.LoginFilter.getLoginService(LoginFilter.java:107)\r\n\t\tat ab.cde.fgh.base.fe.login.LoginFilter.doFilter(LoginFilter.java:68)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat ab.cde.fgh.fe.log.LogFilter.doFilter(LogFilter.java:185)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\t\tat org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:44)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\t\tat org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:615)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1626)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:750)\r\n\r\nThe beans should be managed by DeltaSpike. The beans.xml file reads like this:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans&gt; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/beans_1_0.xsd&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\nThe LoginFilter.class mentioned in the TomEE error is this:\r\n\r\n    package ab.cde.fgh.base.fe.login;\r\n\r\n    import java.io.IOException;\r\n    import java.lang.annotation.Annotation;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import org.apache.deltaspike.core.api.provider.BeanProvider;\r\n    \r\n    public class LoginFilter implements Filter {\r\n        private List&lt;String&gt; dropUrls = null;\r\n        private volatile FilterConfig filterConfig;\r\n        private volatile LoginService _delegate;\r\n    \r\n        public LoginFilter() {\r\n        }\r\n    \r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n            String url = ((HttpServletRequest)servletRequest).getRequestURI();\r\n            if (this.isDroppedUrl(url)) {\r\n                filterChain.doFilter(servletRequest, servletResponse);\r\n            } else {\r\n                this.getLoginService().doFilter(servletRequest, servletResponse, filterChain);\r\n            }\r\n    \r\n        }\r\n    \r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            this.dropUrls = new ArrayList();\r\n    \r\n            String dropUrlParam;\r\n            for(int i = 0; (dropUrlParam = filterConfig.getInitParameter(&quot;dropurl.&quot; + i)) != null; ++i) {\r\n                this.dropUrls.add(dropUrlParam);\r\n            }\r\n    \r\n            this.filterConfig = filterConfig;\r\n        }\r\n    \r\n        public void destroy() {\r\n            if (this._delegate != null) {\r\n                this._delegate.destroy();\r\n            }\r\n    \r\n        }\r\n    \r\n        private boolean isDroppedUrl(String url) {\r\n            Iterator var2 = this.dropUrls.iterator();\r\n    \r\n            String stopUrl;\r\n            do {\r\n                if (!var2.hasNext()) {\r\n                    return false;\r\n                }\r\n    \r\n                stopUrl = (String)var2.next();\r\n            } while(!url.contains(stopUrl));\r\n    \r\n            return true;\r\n        }\r\n    \r\n        private LoginService getLoginService() throws ServletException {\r\n            if (this._delegate == null) {\r\n                synchronized(this) {\r\n                    if (this._delegate == null) {\r\n                        this._delegate = (LoginService)BeanProvider.getContextualReference(LoginService.class, new Annotation[0]);\r\n                        this._delegate.init(this.filterConfig);\r\n                        this.filterConfig = null;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return this._delegate;\r\n        }\r\n    }\r\n\r\nThe LoginService mentioned is an interface which looks like that:\r\n\r\n    package ab.cde.fgh.base.fe.login;\r\n    \r\n    import java.io.IOException;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    \r\n    public interface LoginService {\r\n        void init(FilterConfig var1) throws ServletException;\r\n    \r\n        void doFilter(ServletRequest var1, ServletResponse var2, FilterChain var3) throws IOException, ServletException;\r\n    \r\n        void destroy();\r\n    }\r\n\r\nThe LoginFilter and LoginService are part of an existing codebase and i expect them not to be the source of problem as they work well in other projects. Still given for the sake completeness...\r\n\r\nHere is the web.xml, containing the filters:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\r\n        &lt;display-name&gt;myapp&lt;/display-name&gt;\r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;ab.cde.fgh.base.fe.log.LogFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;LoginFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;ab.cde.fgh.base.fe.login.LoginFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;LoginFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n\r\nI already spent several hours on working on this error and i am quite clueless as to what went wrong here. Any advice is appreciated!\r\n\r\nEdits for grammar and clarity","title":"TomEE throws error &quot;Could not find beans for Type=interface ab.cde.fgh.base.fe.login.LoginService and qualifiers:[]","body":"<p>I looked through the few other questions related to the error but could not find any advice about this. When running a war file in TomEE and triggering a Filter, the following error occurs:</p>\n<pre><code>org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [default] in context with path [/dbdelta] threw exception [java.lang.IllegalStateException: Could not find beans for Type=interface ab.cde.fgh.base.fe.login.LoginService and qualifiers:[]] with root cause\njava.lang.IllegalStateException: Could not find beans for Type=interface ab.cde.fgh.base.fe.login.LoginService and qualifiers:[]\n    at org.apache.deltaspike.core.api.provider.BeanProvider.getContextualReference(BeanProvider.java:154)\n    at org.apache.deltaspike.core.api.provider.BeanProvider.getContextualReference(BeanProvider.java:121)\n    at org.apache.deltaspike.core.api.provider.BeanProvider.getContextualReference(BeanProvider.java:100)\n    at ab.cde.fgh.base.fe.login.LoginFilter.getLoginService(LoginFilter.java:107)\n    at ab.cde.fgh.base.fe.login.LoginFilter.doFilter(LoginFilter.java:68)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at ab.cde.fgh.fe.log.LogFilter.doFilter(LogFilter.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:44)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:615)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1626)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>The beans should be managed by DeltaSpike. The beans.xml file reads like this:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans&gt; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/beans_1_0.xsd&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>The LoginFilter.class mentioned in the TomEE error is this:</p>\n<pre><code>package ab.cde.fgh.base.fe.login;\n\nimport java.io.IOException;\nimport java.lang.annotation.Annotation;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport org.apache.deltaspike.core.api.provider.BeanProvider;\n\npublic class LoginFilter implements Filter {\n    private List&lt;String&gt; dropUrls = null;\n    private volatile FilterConfig filterConfig;\n    private volatile LoginService _delegate;\n\n    public LoginFilter() {\n    }\n\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        String url = ((HttpServletRequest)servletRequest).getRequestURI();\n        if (this.isDroppedUrl(url)) {\n            filterChain.doFilter(servletRequest, servletResponse);\n        } else {\n            this.getLoginService().doFilter(servletRequest, servletResponse, filterChain);\n        }\n\n    }\n\n    public void init(FilterConfig filterConfig) throws ServletException {\n        this.dropUrls = new ArrayList();\n\n        String dropUrlParam;\n        for(int i = 0; (dropUrlParam = filterConfig.getInitParameter(&quot;dropurl.&quot; + i)) != null; ++i) {\n            this.dropUrls.add(dropUrlParam);\n        }\n\n        this.filterConfig = filterConfig;\n    }\n\n    public void destroy() {\n        if (this._delegate != null) {\n            this._delegate.destroy();\n        }\n\n    }\n\n    private boolean isDroppedUrl(String url) {\n        Iterator var2 = this.dropUrls.iterator();\n\n        String stopUrl;\n        do {\n            if (!var2.hasNext()) {\n                return false;\n            }\n\n            stopUrl = (String)var2.next();\n        } while(!url.contains(stopUrl));\n\n        return true;\n    }\n\n    private LoginService getLoginService() throws ServletException {\n        if (this._delegate == null) {\n            synchronized(this) {\n                if (this._delegate == null) {\n                    this._delegate = (LoginService)BeanProvider.getContextualReference(LoginService.class, new Annotation[0]);\n                    this._delegate.init(this.filterConfig);\n                    this.filterConfig = null;\n                }\n            }\n        }\n\n        return this._delegate;\n    }\n}\n</code></pre>\n<p>The LoginService mentioned is an interface which looks like that:</p>\n<pre><code>package ab.cde.fgh.base.fe.login;\n\nimport java.io.IOException;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\n\npublic interface LoginService {\n    void init(FilterConfig var1) throws ServletException;\n\n    void doFilter(ServletRequest var1, ServletResponse var2, FilterChain var3) throws IOException, ServletException;\n\n    void destroy();\n}\n</code></pre>\n<p>The LoginFilter and LoginService are part of an existing codebase and i expect them not to be the source of problem as they work well in other projects. Still given for the sake completeness...</p>\n<p>Here is the web.xml, containing the filters:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;myapp&lt;/display-name&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;ab.cde.fgh.base.fe.log.LogFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;LoginFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;ab.cde.fgh.base.fe.login.LoginFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;LoginFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>I already spent several hours on working on this error and i am quite clueless as to what went wrong here. Any advice is appreciated!</p>\n<p>Edits for grammar and clarity</p>\n"},{"tags":["java","regex","string","duplicates"],"comments":[{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1660300007,"post_id":73330135,"comment_id":129505554,"body_markdown":"What&#39;s the desired outcome for `aaa` ?","body":"What&#39;s the desired outcome for <code>aaa</code> ?"},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1661934863,"post_id":73330135,"comment_id":129887375,"body_markdown":"@bobblebubble it should remain untouched i.e. the output should be `aaa`","body":"@bobblebubble it should remain untouched i.e. the output should be <code>aaa</code>"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1661935643,"post_id":73330135,"comment_id":129887699,"body_markdown":"It&#39;s what the second solution in my answer does.","body":"It&#39;s what the second solution in my answer does."}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661935189,"creation_date":1660287287,"answer_id":73330294,"question_id":73330135,"body_markdown":"You can match using this regex:\r\n\r\n```sh\r\n((.)\\2+)|(.)\r\n```\r\n\r\nAnd replace it with:\r\n\r\n    $1$3$3\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n**RegEx Explanation:**\r\n\r\n- `((.)\\2+)`: Match a character and capture in group #2 and using `\\2+` next to it to make sure we match all multiple repeats of captured character. Capture all the repeated characters in group #1\r\n- `|`: OR\r\n- `(.)`: Match any character and capture in group #3\r\n\r\n[**Code Demo:**][2]\r\n\r\n```Java\r\nimport java.util.List;\r\n \r\nclass Ideone {\r\n \r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; input = List.of(&quot;aaa&quot;, &quot;abc&quot;, &quot;yahoo&quot;,\r\n                &quot;opinion&quot;, &quot;aaaaaabc&quot;);\r\n \r\n\t\tfor (String s: input) {\r\n\t\t\tSystem.out.println( s + &quot; =&gt; &quot; +\r\n                  s.replaceAll(&quot;((.)\\\\2+)|(.)&quot;, &quot;$1$3$3&quot;) );\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n```sh\r\naaa =&gt; aaa\r\nabc =&gt; aabbcc\r\nyahoo =&gt; yyaahhoo\r\nopinion =&gt; ooppiinniioonn\r\naaaaaabc =&gt; aaaaaabbcc\r\n```\r\n\r\n  [1]: https://regex101.com/r/u1tgka/5\r\n  [2]: https://ideone.com/IhRZ20","title":"Regex for finding only single alphabets in a string and ignore consecutive double","body":"<p>You can match using this regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>((.)\\2+)|(.)\n</code></pre>\n<p>And replace it with:</p>\n<pre><code>$1$3$3\n</code></pre>\n<p><a href=\"https://regex101.com/r/u1tgka/5\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Explanation:</strong></p>\n<ul>\n<li><code>((.)\\2+)</code>: Match a character and capture in group #2 and using <code>\\2+</code> next to it to make sure we match all multiple repeats of captured character. Capture all the repeated characters in group #1</li>\n<li><code>|</code>: OR</li>\n<li><code>(.)</code>: Match any character and capture in group #3</li>\n</ul>\n<p><a href=\"https://ideone.com/IhRZ20\" rel=\"nofollow noreferrer\"><strong>Code Demo:</strong></a></p>\n<pre><code>import java.util.List;\n \nclass Ideone {\n \n    public static void main(String[] args) {\n        List&lt;String&gt; input = List.of(&quot;aaa&quot;, &quot;abc&quot;, &quot;yahoo&quot;,\n                &quot;opinion&quot;, &quot;aaaaaabc&quot;);\n \n        for (String s: input) {\n            System.out.println( s + &quot; =&gt; &quot; +\n                  s.replaceAll(&quot;((.)\\\\2+)|(.)&quot;, &quot;$1$3$3&quot;) );\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>aaa =&gt; aaa\nabc =&gt; aabbcc\nyahoo =&gt; yyaahhoo\nopinion =&gt; ooppiinniioonn\naaaaaabc =&gt; aaaaaabbcc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660287442,"creation_date":1660287442,"answer_id":73330319,"question_id":73330135,"body_markdown":"The solution by @anubhava, if viable in Java, is probably the best way to go.  For a more brute force approach, we can try a regex iteration approach on the following pattern:\r\n\r\n&lt;!-- language: regex --&gt;\r\n\r\n    (\\\\w)\\\\1+|\\\\w\r\n\r\nThis matches, eagerly, a series of similar letters (two or more of them), followed by, that failing, a single letter.  For each match, we can no-op on the multi-letter match, and double up any other single letter.  Here is a short Java code which does this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; inputs = Arrays.asList(new String[] {&quot;abc&quot;, &quot;yahoo&quot;, &quot;opinion&quot;, &quot;aaaaaabc&quot;});\r\n    String pattern = &quot;(\\\\w)\\\\1+|\\\\w&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n\r\n    for (String input : inputs) {\r\n        Matcher m = r.matcher(input);\r\n        StringBuffer buffer = new StringBuffer();\r\n        while (m.find()) {\r\n            if (m.group().matches(&quot;(\\\\w)\\\\1+&quot;)) {\r\n                m.appendReplacement(buffer, m.group());\r\n                }\r\n                else {\r\n                    m.appendReplacement(buffer, m.group() + m.group());\r\n                }\r\n            }\r\n            m.appendTail(buffer);\r\n            System.out.println(input + &quot; =&gt; &quot; + buffer.toString());\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    abc =&gt; aabbcc\r\n    yahoo =&gt; yyaahhoo\r\n    opinion =&gt; ooppiinniioonn\r\n    aaaaaabc =&gt; aaaaaabbcc\r\n\r\n","title":"Regex for finding only single alphabets in a string and ignore consecutive double","body":"<p>The solution by @anubhava, if viable in Java, is probably the best way to go.  For a more brute force approach, we can try a regex iteration approach on the following pattern:</p>\n<pre><code>(\\\\w)\\\\1+|\\\\w\n</code></pre>\n<p>This matches, eagerly, a series of similar letters (two or more of them), followed by, that failing, a single letter.  For each match, we can no-op on the multi-letter match, and double up any other single letter.  Here is a short Java code which does this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; inputs = Arrays.asList(new String[] {&quot;abc&quot;, &quot;yahoo&quot;, &quot;opinion&quot;, &quot;aaaaaabc&quot;});\nString pattern = &quot;(\\\\w)\\\\1+|\\\\w&quot;;\nPattern r = Pattern.compile(pattern);\n\nfor (String input : inputs) {\n    Matcher m = r.matcher(input);\n    StringBuffer buffer = new StringBuffer();\n    while (m.find()) {\n        if (m.group().matches(&quot;(\\\\w)\\\\1+&quot;)) {\n            m.appendReplacement(buffer, m.group());\n            }\n            else {\n                m.appendReplacement(buffer, m.group() + m.group());\n            }\n        }\n        m.appendTail(buffer);\n        System.out.println(input + &quot; =&gt; &quot; + buffer.toString());\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>abc =&gt; aabbcc\nyahoo =&gt; yyaahhoo\nopinion =&gt; ooppiinniioonn\naaaaaabc =&gt; aaaaaabbcc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660306235,"creation_date":1660298943,"answer_id":73332486,"question_id":73330135,"body_markdown":"I&#39;ve got two different understandings of the question.\r\n\r\n1. If the goal is to get an even amount of each word character:  \r\n  Search for `(\\w)\\1?` and replace with `$1$1` ([regex101 demo][1]).\r\n\r\n2. If just solely characters should be duplicated and others left untouched:  \r\n  Search for `(\\w)\\1?(\\1*)` and replace with `$1$1$2` ([regex 101 demo][2]).\r\n\r\n[Captures][3] a [word character `\\w`][4] to `$1`, [optionally][5] [matches the same character again][6]. The second variant captures any more of the same character to `$2` for attaching in the replacement.\r\n\r\nFYI: If using as a Java string remember to [escape][7] the pattern. E.g. `\\1` -&gt; `\\\\1`, `\\w` -&gt;`\\\\w`, ...\r\n\r\n\r\n  [1]: https://regex101.com/r/99Vobg/1\r\n  [2]: https://regex101.com/r/k5Ffzy/1\r\n  [3]: https://www.regular-expressions.info/brackets.html\r\n  [4]: https://www.regular-expressions.info/shorthand.html\r\n  [5]: https://www.regular-expressions.info/optional.html\r\n  [6]: https://www.regular-expressions.info/backref.html\r\n  [7]: https://stackoverflow.com/questions/14134558/list-of-all-special-characters-that-need-to-be-escaped-in-a-regex","title":"Regex for finding only single alphabets in a string and ignore consecutive double","body":"<p>I've got two different understandings of the question.</p>\n<ol>\n<li><p>If the goal is to get an even amount of each word character:<br />\nSearch for <code>(\\w)\\1?</code> and replace with <code>$1$1</code> (<a href=\"https://regex101.com/r/99Vobg/1\" rel=\"nofollow noreferrer\">regex101 demo</a>).</p>\n</li>\n<li><p>If just solely characters should be duplicated and others left untouched:<br />\nSearch for <code>(\\w)\\1?(\\1*)</code> and replace with <code>$1$1$2</code> (<a href=\"https://regex101.com/r/k5Ffzy/1\" rel=\"nofollow noreferrer\">regex 101 demo</a>).</p>\n</li>\n</ol>\n<p><a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">Captures</a> a <a href=\"https://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\">word character <code>\\w</code></a> to <code>$1</code>, <a href=\"https://www.regular-expressions.info/optional.html\" rel=\"nofollow noreferrer\">optionally</a> <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">matches the same character again</a>. The second variant captures any more of the same character to <code>$2</code> for attaching in the replacement.</p>\n<p>FYI: If using as a Java string remember to <a href=\"https://stackoverflow.com/questions/14134558/list-of-all-special-characters-that-need-to-be-escaped-in-a-regex\">escape</a> the pattern. E.g. <code>\\1</code> -&gt; <code>\\\\1</code>, <code>\\w</code> -&gt;<code>\\\\w</code>, ...</p>\n"}],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73330294,"answer_count":3,"score":6,"last_activity_date":1661935189,"creation_date":1660286325,"question_id":73330135,"body_markdown":"I have searched a lot but I am unable to find a regex that could select only single alphabets and double them while those alphabets which are already double, should remain untouched.\r\n\r\nI tried \r\n```\r\nString str = &quot;yahoo&quot;;\r\nstr = str.replaceAll(&quot;(\\\\w)\\\\1+&quot;, &quot;$0$0&quot;);\r\n```\r\nBut since this `(\\\\w)\\\\1+` selects all double elements, my output becomes `yahoooo`. I tried to add negation to it `!(\\\\w)\\\\1+` but didn&#39;t work and output becomes same as input. I have tried\r\n```\r\nstr.replaceAll(&quot;.&quot;, &quot;$0$0&quot;);\r\n```\r\nBut that doubles every character including which are already doubled.\r\n\r\nPlease help to write an `regex` that could replace all single character with double while double character should remain untouched.\r\n&lt;h1&gt;Example&lt;/h1&gt;\r\n\r\n    abc -&gt; aabbcc\r\n    yahoo -&gt; yyaahhoo (o should remain untouched)\r\n    opinion -&gt; ooppiinniioonn\r\n    aaaaaabc -&gt; aaaaaabbcc\r\n\r\n","title":"Regex for finding only single alphabets in a string and ignore consecutive double","body":"<p>I have searched a lot but I am unable to find a regex that could select only single alphabets and double them while those alphabets which are already double, should remain untouched.</p>\n<p>I tried</p>\n<pre><code>String str = &quot;yahoo&quot;;\nstr = str.replaceAll(&quot;(\\\\w)\\\\1+&quot;, &quot;$0$0&quot;);\n</code></pre>\n<p>But since this <code>(\\\\w)\\\\1+</code> selects all double elements, my output becomes <code>yahoooo</code>. I tried to add negation to it <code>!(\\\\w)\\\\1+</code> but didn't work and output becomes same as input. I have tried</p>\n<pre><code>str.replaceAll(&quot;.&quot;, &quot;$0$0&quot;);\n</code></pre>\n<p>But that doubles every character including which are already doubled.</p>\n<p>Please help to write an <code>regex</code> that could replace all single character with double while double character should remain untouched.</p>\n<h1>Example</h1>\n<pre><code>abc -&gt; aabbcc\nyahoo -&gt; yyaahhoo (o should remain untouched)\nopinion -&gt; ooppiinniioonn\naaaaaabc -&gt; aaaaaabbcc\n</code></pre>\n"},{"tags":["java","android","android-studio","android-room"],"comments":[{"owner":{"account_id":16677797,"reputation":837,"user_id":12053756,"display_name":"Jagar"},"score":0,"creation_date":1661579023,"post_id":73508562,"comment_id":129810327,"body_markdown":"Can you edit and add how you insert an example note as well?","body":"Can you edit and add how you insert an example note as well?"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661584214,"creation_date":1661584214,"answer_id":73509042,"question_id":73508562,"body_markdown":"The code you have included in your question is fine (after adding the getters and setters) and then using:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        NoteDatabase db;\r\n        NoteDAO dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = NoteDatabase.getDatabase(this);\r\n            dao = db.noteDAO();\r\n    \r\n            Note note1 = new Note();\r\n            note1.setTitle(&quot;NOTE001&quot;);\r\n            note1.setDatetime(&quot;2022-01-01 10:30&quot;);\r\n            note1.setSubtitle(&quot;The First Note&quot;);\r\n            note1.setWebsite(&quot;www.mynotes.com&quot;);\r\n            note1.setNoteText(&quot;This is the note&quot;);\r\n            note1.setColor(&quot;Black&quot;);\r\n            note1.setImagePath(&quot;notes/note1.jpg&quot;);\r\n    \r\n            dao.insertNote(note1);\r\n            for (Note n: dao.getAllNotes()) {\r\n                Log.d(&quot;NOTEINFO&quot;,&quot;Title is &quot; + n.getTitle() + &quot; Date is &quot; + n.getDatetime() + &quot; blah blah ToString = &quot; + n);\r\n            }\r\n        }\r\n    }\r\n\r\n- note the only amendment to the code copied from the question is the use of `.allowMainThreadQueries` in the databaseBuilder.\r\n\r\nThe result being:-\r\n\r\n    D/NOTEINFO: Title is NOTE001 Date is 2022-01-01 10:30 blah blah ToString = NOTE001 : 2022-01-01 10:30\r\n\r\nHowever, adding :-\r\n\r\n        Note note2 = new Note();\r\n        //note1.setTitle(&quot;NOTE001&quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; OOOPS\r\n        note2.setDatetime(&quot;2022-01-01 10:30&quot;);\r\n        note2.setSubtitle(&quot;The Second Note&quot;);\r\n        note2.setWebsite(&quot;www.mynotes.com&quot;);\r\n        note2.setNoteText(&quot;This is the note&quot;);\r\n        note2.setColor(&quot;Black&quot;);\r\n        note2.setImagePath(&quot;notes/note2.jpg&quot;);\r\n\r\n\r\n\r\nResults in what you appear to be describing as per:-\r\n\r\n    D/NOTEINFO: Title is null Date is 2022-01-01 10:30 blah blah ToString = null : 2022-01-01 10:30\r\n\r\n\r\nI believe you saying\r\n\r\n&gt; I also notice that in the Dao interface, it raises 2 errors which are Cannot resolve symbol notes and Cannot resolve symbol id\r\n\r\nIs perhaps the clue to the cause, which could be that you have the incorrect dependencies you should have 2 for Room:-\r\n\r\n1. the runtime library e.g. `implementation &#39;androidx.room:room-runtime:2.5.0-alpha02&#39;`, and\r\n2. the compiler library e.g. `annotationProcessor &#39;androidx.room:room-compiler:2.5.0-alpha02&#39;`\r\n\r\nAnother possibility is that in addition to the getters and setters you have a constructor that doesn&#39;t set correctly the **title** so it is left as null.","title":"Room dao cannot resolve table name and method","body":"<p>The code you have included in your question is fine (after adding the getters and setters) and then using:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    NoteDatabase db;\n    NoteDAO dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = NoteDatabase.getDatabase(this);\n        dao = db.noteDAO();\n\n        Note note1 = new Note();\n        note1.setTitle(&quot;NOTE001&quot;);\n        note1.setDatetime(&quot;2022-01-01 10:30&quot;);\n        note1.setSubtitle(&quot;The First Note&quot;);\n        note1.setWebsite(&quot;www.mynotes.com&quot;);\n        note1.setNoteText(&quot;This is the note&quot;);\n        note1.setColor(&quot;Black&quot;);\n        note1.setImagePath(&quot;notes/note1.jpg&quot;);\n\n        dao.insertNote(note1);\n        for (Note n: dao.getAllNotes()) {\n            Log.d(&quot;NOTEINFO&quot;,&quot;Title is &quot; + n.getTitle() + &quot; Date is &quot; + n.getDatetime() + &quot; blah blah ToString = &quot; + n);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>note the only amendment to the code copied from the question is the use of <code>.allowMainThreadQueries</code> in the databaseBuilder.</li>\n</ul>\n<p>The result being:-</p>\n<pre><code>D/NOTEINFO: Title is NOTE001 Date is 2022-01-01 10:30 blah blah ToString = NOTE001 : 2022-01-01 10:30\n</code></pre>\n<p>However, adding :-</p>\n<pre><code>    Note note2 = new Note();\n    //note1.setTitle(&quot;NOTE001&quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; OOOPS\n    note2.setDatetime(&quot;2022-01-01 10:30&quot;);\n    note2.setSubtitle(&quot;The Second Note&quot;);\n    note2.setWebsite(&quot;www.mynotes.com&quot;);\n    note2.setNoteText(&quot;This is the note&quot;);\n    note2.setColor(&quot;Black&quot;);\n    note2.setImagePath(&quot;notes/note2.jpg&quot;);\n</code></pre>\n<p>Results in what you appear to be describing as per:-</p>\n<pre><code>D/NOTEINFO: Title is null Date is 2022-01-01 10:30 blah blah ToString = null : 2022-01-01 10:30\n</code></pre>\n<p>I believe you saying</p>\n<blockquote>\n<p>I also notice that in the Dao interface, it raises 2 errors which are Cannot resolve symbol notes and Cannot resolve symbol id</p>\n</blockquote>\n<p>Is perhaps the clue to the cause, which could be that you have the incorrect dependencies you should have 2 for Room:-</p>\n<ol>\n<li>the runtime library e.g. <code>implementation 'androidx.room:room-runtime:2.5.0-alpha02'</code>, and</li>\n<li>the compiler library e.g. <code>annotationProcessor 'androidx.room:room-compiler:2.5.0-alpha02'</code></li>\n</ol>\n<p>Another possibility is that in addition to the getters and setters you have a constructor that doesn't set correctly the <strong>title</strong> so it is left as null.</p>\n"}],"owner":{"display_name":"user19856031"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73509042,"answer_count":1,"score":2,"last_activity_date":1661934698,"creation_date":1661577558,"question_id":73508562,"body_markdown":"I&#39;m trying to implement a simple database using Room and Dao, this is what I did  \r\n**My entity:**  \r\n\r\n    public class Note {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        private int id;\r\n    \r\n        @ColumnInfo(name = &quot;title&quot;)\r\n        private String title;\r\n    }\r\nI have also generated all getters and setters in the `entity` but I don&#39;t include here because it&#39;s very long.  \r\n**My Dao interface:**\r\n\r\n    @Dao\r\n    public interface NoteDAO {\r\n        List&lt;Note&gt; getAllNotes();\r\n    }\r\n**My database class:**\r\n\r\n    @Database(entities = Note.class, version = 1, exportSchema = false)\r\n    public abstract class NoteDatabase extends RoomDatabase {\r\n    \r\n        private static NoteDatabase noteDatabase;\r\n    \r\n        public static synchronized NoteDatabase getDatabase(Context context){\r\n            if (noteDatabase == null){\r\n                noteDatabase = Room.databaseBuilder(\r\n                        context,\r\n                        NoteDatabase.class,\r\n                );\r\n            }\r\n            return noteDatabase;\r\n        }\r\n    }\r\nWhen I use `List&lt;Note&gt; notes` and `notes.toString()`, it only shows me the date and time, the title is `null`, I also notice that in the `Dao interface`, it raises 2 errors which are `Cannot resolve symbol notes` and `Cannot resolve symbol id`. I don&#39;t understand why it doesn&#39;t insert to the database. Can someone help me with this problem? Thanks for your help !","title":"Room dao cannot resolve table name and method","body":"<p>I'm trying to implement a simple database using Room and Dao, this is what I did<br />\n<strong>My entity:</strong></p>\n<pre><code>public class Note {\n\n    @PrimaryKey(autoGenerate = true)\n    private int id;\n\n    @ColumnInfo(name = &quot;title&quot;)\n    private String title;\n}\n</code></pre>\n<p>I have also generated all getters and setters in the <code>entity</code> but I don't include here because it's very long.<br />\n<strong>My Dao interface:</strong></p>\n<pre><code>@Dao\npublic interface NoteDAO {\n    List&lt;Note&gt; getAllNotes();\n}\n</code></pre>\n<p><strong>My database class:</strong></p>\n<pre><code>@Database(entities = Note.class, version = 1, exportSchema = false)\npublic abstract class NoteDatabase extends RoomDatabase {\n\n    private static NoteDatabase noteDatabase;\n\n    public static synchronized NoteDatabase getDatabase(Context context){\n        if (noteDatabase == null){\n            noteDatabase = Room.databaseBuilder(\n                    context,\n                    NoteDatabase.class,\n            );\n        }\n        return noteDatabase;\n    }\n}\n</code></pre>\n<p>When I use <code>List&lt;Note&gt; notes</code> and <code>notes.toString()</code>, it only shows me the date and time, the title is <code>null</code>, I also notice that in the <code>Dao interface</code>, it raises 2 errors which are <code>Cannot resolve symbol notes</code> and <code>Cannot resolve symbol id</code>. I don't understand why it doesn't insert to the database. Can someone help me with this problem? Thanks for your help !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1508778802,"post_id":46894865,"comment_id":80736984,"body_markdown":"AFAIR US_ASCII is a subset of UTF-8 and ISO-8859-1. Therefore if an text only contains ASCII characters all three encodings can be used. Hence there is no &quot;correct&quot; charset to be detected, as all three are correct. May be this is what you are facing. Try to use texts that use characters that only exist in ISO-8859-1 and see the results.","body":"AFAIR US_ASCII is a subset of UTF-8 and ISO-8859-1. Therefore if an text only contains ASCII characters all three encodings can be used. Hence there is no &quot;correct&quot; charset to be detected, as all three are correct. May be this is what you are facing. Try to use texts that use characters that only exist in ISO-8859-1 and see the results."},{"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1508783644,"post_id":46894865,"comment_id":80739467,"body_markdown":"The encoding of the text file should come with the file&#39;s bytes in the same or a separate communication or via convention, specification, etc. Why are you trying to guess it? You could guess it from one sample and then it be wrong for the next update to it. Oh, if you saved the files, then you are the one determining the encoding.","body":"The encoding of the text file should come with the file&#39;s bytes in the same or a separate communication or via convention, specification, etc. Why are you trying to guess it? You could guess it from one sample and then it be wrong for the next update to it. Oh, if you saved the files, then you are the one determining the encoding."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1508785099,"post_id":46894865,"comment_id":80740290,"body_markdown":"Please read [Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?](//meta.stackoverflow.com/q/326569) - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions.","body":"Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."}],"answers":[{"tags":[],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508780387,"creation_date":1508780387,"answer_id":46895367,"question_id":46894865,"body_markdown":"By the sheer nature of character encodings, character encoding detectors cannot possibly be 100% reliable. They can only give a best guess.\r\n\r\nASCII is a subset of all other 8-bit encodings, consisting of code points in the range 0 to 127 (i.e. all values can be represented in just 7 bits). This means that if your file contains only ASCII characters, it can be read using ISO-8859-1, ISO-8859-2, etc., and UTF-8. I would expect a good charset detector to tell you if the contents are pure ASCII, so I don&#39;t know why juniversalchardet didn&#39;t when you tried it.\r\n\r\nIt&#39;s tricky to tell the various single-byte encodings apart. For example, the character &#163; is a valid character in ISO-8859-1 but is equally valid (but displayed differently) in ISO-8859-2 and other encodings. So it&#39;s not easy to tell which character was actually intended.\r\n","title":"How to identify the encoding charset of a file in Java?","body":"<p>By the sheer nature of character encodings, character encoding detectors cannot possibly be 100% reliable. They can only give a best guess.</p>\n\n<p>ASCII is a subset of all other 8-bit encodings, consisting of code points in the range 0 to 127 (i.e. all values can be represented in just 7 bits). This means that if your file contains only ASCII characters, it can be read using ISO-8859-1, ISO-8859-2, etc., and UTF-8. I would expect a good charset detector to tell you if the contents are pure ASCII, so I don't know why juniversalchardet didn't when you tried it.</p>\n\n<p>It's tricky to tell the various single-byte encodings apart. For example, the character £ is a valid character in ISO-8859-1 but is equally valid (but displayed differently) in ISO-8859-2 and other encodings. So it's not easy to tell which character was actually intended.</p>\n"},{"tags":[],"owner":{"account_id":6027182,"reputation":2632,"user_id":8705446,"display_name":"Aleh Maksimovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1508781320,"creation_date":1508781320,"answer_id":46895633,"question_id":46894865,"body_markdown":"As already mentioned there is no _certain_ way to detect encoding. But there is a large amount of heuristics that allow to do a _smart guess_ about file encoding.\r\n\r\nIf there is no way for you to get to know the encoding for sure you may have a look at [Apache Tika][1] project and [EncodingDetector][2] there.\r\n\r\n\r\n  [1]: https://tika.apache.org/\r\n  [2]: https://tika.apache.org/1.2/api/org/apache/tika/detect/EncodingDetector.html","title":"How to identify the encoding charset of a file in Java?","body":"<p>As already mentioned there is no <em>certain</em> way to detect encoding. But there is a large amount of heuristics that allow to do a <em>smart guess</em> about file encoding.</p>\n\n<p>If there is no way for you to get to know the encoding for sure you may have a look at <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">Apache Tika</a> project and <a href=\"https://tika.apache.org/1.2/api/org/apache/tika/detect/EncodingDetector.html\" rel=\"nofollow noreferrer\">EncodingDetector</a> there.</p>\n"},{"tags":[],"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661934440,"creation_date":1661934440,"answer_id":73552949,"question_id":46894865,"body_markdown":"ICU4J worked better than Tika for me.\r\n\r\nMethod prints the match confidence in % and the encoding.   \r\n\r\n    public static String readFileAsStringGuessEncoding(String filePath) {\r\n        String s = null;\r\n        try {\r\n            File file = new File(filePath);\r\n            byte[] fileData = new byte[(int) file.length()];\r\n            DataInputStream dis = new DataInputStream(new FileInputStream(file));\r\n            dis.readFully(fileData);\r\n            dis.close();\r\n\r\n            CharsetMatch match = new CharsetDetector().setText(fileData).detect();\r\n            if (match != null) {\r\n                try {\r\n                    String fileName = filePath;\r\n                    System.out.printf(&quot;Encoding: %15s confidence: %03d  File: %s \\n\\r&quot;, match.getName(), match.getConfidence(), fileName);\r\n\r\n                    s = new String(fileData, match.getName());\r\n                } catch (UnsupportedEncodingException ue) {\r\n                    s = null;\r\n                }\r\n            }\r\n\r\n            if (s == null) {\r\n                s = new String(fileData);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return s;\r\n    }\r\n\r\n\r\nMaven dependency: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n            &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n            &lt;version&gt;71.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"How to identify the encoding charset of a file in Java?","body":"<p>ICU4J worked better than Tika for me.</p>\n<p>Method prints the match confidence in % and the encoding.</p>\n<pre><code>public static String readFileAsStringGuessEncoding(String filePath) {\n    String s = null;\n    try {\n        File file = new File(filePath);\n        byte[] fileData = new byte[(int) file.length()];\n        DataInputStream dis = new DataInputStream(new FileInputStream(file));\n        dis.readFully(fileData);\n        dis.close();\n\n        CharsetMatch match = new CharsetDetector().setText(fileData).detect();\n        if (match != null) {\n            try {\n                String fileName = filePath;\n                System.out.printf(&quot;Encoding: %15s confidence: %03d  File: %s \\n\\r&quot;, match.getName(), match.getConfidence(), fileName);\n\n                s = new String(fileData, match.getName());\n            } catch (UnsupportedEncodingException ue) {\n                s = null;\n            }\n        }\n\n        if (s == null) {\n            s = new String(fileData);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return s;\n}\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n        &lt;version&gt;71.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8345862,"reputation":57,"user_id":6269614,"display_name":"Mohsin Ilyas Durrani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10433,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":46895633,"answer_count":3,"score":-1,"last_activity_date":1661934440,"creation_date":1508778523,"question_id":46894865,"body_markdown":"I&#39;ve already tried the juniversalchardet library and it works fine for UTF-8, UTF-16LE, UTF-16BE but it&#39;s not detecting the format for US_ASCII and ISO-8859-1. I&#39;ve also used the jchardet and it doesn&#39;t achieve my goal.\r\n\r\nPlus the InputStreamReader is not also working in my situation. So, how can I detect the character-sets US_ASCII and ISO-8859-1, or for all the of the above character sets?\r\n\r\nIncidentally, I created these format files using editpad Lite 7.\r\n","title":"How to identify the encoding charset of a file in Java?","body":"<p>I've already tried the juniversalchardet library and it works fine for UTF-8, UTF-16LE, UTF-16BE but it's not detecting the format for US_ASCII and ISO-8859-1. I've also used the jchardet and it doesn't achieve my goal.</p>\n\n<p>Plus the InputStreamReader is not also working in my situation. So, how can I detect the character-sets US_ASCII and ISO-8859-1, or for all the of the above character sets?</p>\n\n<p>Incidentally, I created these format files using editpad Lite 7.</p>\n"},{"tags":["java","android","user-interface","layout"],"answers":[{"tags":[],"owner":{"account_id":1597903,"reputation":7802,"user_id":1479570,"accept_rate":67,"display_name":"DroidBender"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1413722065,"creation_date":1413722065,"answer_id":26450579,"question_id":26450489,"body_markdown":"Android 4.2 added full native support for RTL layouts. To take advantage of RTL layout mirroring, simply make the following changes to your app:\r\n\r\n - Declare in your app manifest that your app supports RTL mirroring.\r\n   Specifically, add `android:supportsRtl=&quot;true&quot;` to the &lt;application&gt;\r\n   element in your manifest file.\r\n   \r\n   \r\n - Change all of your app&#39;s &quot;left/right&quot; layout properties to new\r\n   &quot;start/end&quot; equivalents. If you are targeting your app to Android 4.2\r\n   (the app&#39;s targetSdkVersion or minSdkVersion is 17 or higher), then\r\n   you should use “start” and “end” instead of “left” and “right”. For\r\n   example, `android:paddingLeft` should become `android:paddingStart`. If\r\n   you want your app to work with versions earlier than Android 4.2 (the\r\n   app&#39;s targetSdkVersion or minSdkVersion is 16 or less), then you\r\n   should add “start” and end” in addition to “left” and “right”. For\r\n   example, you’d use both `android:paddingLeft` and `android:paddingStart`.\r\n\r\nFor more precise control over your app UI in both LTR and RTL mode, Android 4.2 includes the following new APIs to help manage View components:\r\n\r\n - android:layoutDirection — attribute for setting the direction of a\r\n   component&#39;s layout. \r\n - android:textDirection — attribute for setting the\r\n   direction of a component&#39;s text. \r\n - android:textAlignment — attribute\r\n   for setting the alignment of a component&#39;s text.   \r\n - getLayoutDirectionFromLocale() — method for getting the\r\n   Locale-specified direction\r\n\r\n[-- *Source &amp; Credits* --][1]\r\n\r\n\r\n  [1]: http://android-developers.blogspot.be/2013/03/native-rtl-support-in-android-42.html","title":"Disable automatic layout change on Android","body":"<p>Android 4.2 added full native support for RTL layouts. To take advantage of RTL layout mirroring, simply make the following changes to your app:</p>\n\n<ul>\n<li><p>Declare in your app manifest that your app supports RTL mirroring.\nSpecifically, add <code>android:supportsRtl=\"true\"</code> to the \nelement in your manifest file.</p></li>\n<li><p>Change all of your app's \"left/right\" layout properties to new\n\"start/end\" equivalents. If you are targeting your app to Android 4.2\n(the app's targetSdkVersion or minSdkVersion is 17 or higher), then\nyou should use “start” and “end” instead of “left” and “right”. For\nexample, <code>android:paddingLeft</code> should become <code>android:paddingStart</code>. If\nyou want your app to work with versions earlier than Android 4.2 (the\napp's targetSdkVersion or minSdkVersion is 16 or less), then you\nshould add “start” and end” in addition to “left” and “right”. For\nexample, you’d use both <code>android:paddingLeft</code> and <code>android:paddingStart</code>.</p></li>\n</ul>\n\n<p>For more precise control over your app UI in both LTR and RTL mode, Android 4.2 includes the following new APIs to help manage View components:</p>\n\n<ul>\n<li>android:layoutDirection — attribute for setting the direction of a\ncomponent's layout. </li>\n<li>android:textDirection — attribute for setting the\ndirection of a component's text. </li>\n<li>android:textAlignment — attribute\nfor setting the alignment of a component's text.   </li>\n<li>getLayoutDirectionFromLocale() — method for getting the\nLocale-specified direction</li>\n</ul>\n\n<p><a href=\"http://android-developers.blogspot.be/2013/03/native-rtl-support-in-android-42.html\" rel=\"noreferrer\">-- <em>Source &amp; Credits</em> --</a></p>\n"},{"tags":[],"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1507398909,"creation_date":1491043990,"answer_id":43155908,"question_id":26450489,"body_markdown":"In your manifest file and inside the application tag add these two lines. \r\n\r\n    &lt;manifest&gt;\r\n        &lt;application\r\n            .\r\n            .\r\n            .\r\n            android:supportsRtl=&quot;false&quot;\r\n            tools:replace=&quot;android:supportsRtl&quot; //(replace libraries&#39; Rtl support with ours)\r\n            &gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nNote: (about second line)\r\nSome libraries have support Rtl in their manifest file so if you want to use those libraries you must replace their manifest line of code with yours. ","title":"Disable automatic layout change on Android","body":"<p>In your manifest file and inside the application tag add these two lines. </p>\n\n<pre><code>&lt;manifest&gt;\n    &lt;application\n        .\n        .\n        .\n        android:supportsRtl=\"false\"\n        tools:replace=\"android:supportsRtl\" //(replace libraries' Rtl support with ours)\n        &gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Note: (about second line)\nSome libraries have support Rtl in their manifest file so if you want to use those libraries you must replace their manifest line of code with yours. </p>\n"},{"tags":[],"owner":{"account_id":5113887,"reputation":51,"user_id":4099695,"display_name":"Maoz Tamir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570116124,"creation_date":1570114968,"answer_id":58221903,"question_id":26450489,"body_markdown":"Just add the following to the manifest \r\n\r\n```\r\nandroid:supportsRtl=&quot;false&quot;\r\ntools:replace=&quot;android:supportsRtl&quot;\r\n```","title":"Disable automatic layout change on Android","body":"<p>Just add the following to the manifest </p>\n\n<pre><code>android:supportsRtl=\"false\"\ntools:replace=\"android:supportsRtl\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14113017,"reputation":31,"user_id":10195377,"display_name":"حامد جوادی دافساری"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629647011,"creation_date":1629647011,"answer_id":68882851,"question_id":26450489,"body_markdown":"Just add something like this in your App Theme Style:\r\n\r\n    &lt;item name=&quot;android:layoutDirection&quot;&gt;ltr&lt;/item&gt;\r\n    or\r\n    &lt;item name=&quot;android:layoutDirection&quot;&gt;rtl&lt;/item&gt;\r\n\r\n\r\n\r\n\r\n","title":"Disable automatic layout change on Android","body":"<p>Just add something like this in your App Theme Style:</p>\n<pre><code>&lt;item name=&quot;android:layoutDirection&quot;&gt;ltr&lt;/item&gt;\nor\n&lt;item name=&quot;android:layoutDirection&quot;&gt;rtl&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1948645,"reputation":30106,"user_id":6877799,"accept_rate":75,"display_name":"AmerllicA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661934283,"creation_date":1661895988,"answer_id":73548760,"question_id":26450489,"body_markdown":"For React Native adding the following line in the manifest file was enough:\r\n\r\n```\r\n//  android/app/src/main/AndroidManifest.xml\r\n\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  package=&quot;com.kidspodmobileclient&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n      android:supportsRtl=&quot;false&quot; // &lt;== add this line here\r\n\r\n```\r\nIt would be like the following screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRN version: 0.68.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0SwDx.png","title":"Disable automatic layout change on Android","body":"<p>For React Native adding the following line in the manifest file was enough:</p>\n<pre><code>//  android/app/src/main/AndroidManifest.xml\n\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  package=&quot;com.kidspodmobileclient&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n      android:supportsRtl=&quot;false&quot; // &lt;== add this line here\n\n</code></pre>\n<p>It would be like the following screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/0SwDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0SwDx.png\" alt=\"enter image description here\" /></a></p>\n<p>RN version: 0.68.2</p>\n"}],"owner":{"account_id":470838,"reputation":3168,"user_id":878244,"accept_rate":35,"display_name":"Yehonatan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16759,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":5,"score":29,"last_activity_date":1661934283,"creation_date":1413721570,"question_id":26450489,"body_markdown":"I&#39;ve made an app, I&#39;ve tested it and it was fine on my phone. But... when I gave the .apk to someone else whose phone language is RTL the whole layout broke and it messed up everything.    \r\n\r\nMy question is - How can I force my app to use only LTR and disable the auto layout change which breaks my whole app design?  ","title":"Disable automatic layout change on Android","body":"<p>I've made an app, I've tested it and it was fine on my phone. But... when I gave the .apk to someone else whose phone language is RTL the whole layout broke and it messed up everything.    </p>\n\n<p>My question is - How can I force my app to use only LTR and disable the auto layout change which breaks my whole app design?  </p>\n"},{"tags":["java","android","android-contacts"],"comments":[{"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"score":0,"creation_date":1597633612,"post_id":63443919,"comment_id":112186653,"body_markdown":"https://developer.android.com/training/contacts-provider/retrieve-names","body":"<a href=\"https://developer.android.com/training/contacts-provider/retrieve-names\" rel=\"nofollow noreferrer\">developer.android.com/training/contacts-provider/retrieve-na&zwnj;&#8203;mes</a>"}],"answers":[{"tags":[],"owner":{"account_id":17482535,"reputation":674,"user_id":12676247,"display_name":"Jyotish Biswas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597635757,"creation_date":1597635757,"answer_id":63444270,"question_id":63443919,"body_markdown":"Here is a function from which you can get contacts \r\n \r\n\r\n    private void getContactList() {\r\n      ContentResolver cr = getContentResolver();\r\n      Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,\r\n              null, null, null, null);\r\n\r\n      if ((cur != null ? cur.getCount() : 0) &gt; 0) {\r\n          while (cur != null &amp;&amp; cur.moveToNext()) {\r\n              String id = cur.getString(\r\n                      cur.getColumnIndex(ContactsContract.Contacts._ID));\r\n              String name = cur.getString(cur.getColumnIndex(\r\n                      ContactsContract.Contacts.DISPLAY_NAME));\r\n\r\n              if (cur.getInt(cur.getColumnIndex(\r\n                      ContactsContract.Contacts.HAS_PHONE_NUMBER)) &gt; 0) {\r\n                  Cursor pCur = cr.query(\r\n                          ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                          null,\r\n                          ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n                          new String[]{id}, null);\r\n                  while (pCur.moveToNext()) {\r\n                      String phoneNo = pCur.getString(pCur.getColumnIndex(\r\n                              ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                      Log.i(TAG, &quot;Name: &quot; + name);\r\n                      Log.i(TAG, &quot;Phone Number: &quot; + phoneNo);\r\n                  }\r\n                  pCur.close();\r\n              }\r\n          }\r\n      }\r\n      if(cur!=null){\r\n        cur.close();\r\n      }\r\n    }\r\n\r\nReference [android-get-all-contacts][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12562151/android-get-all-contacts","title":"How Can I list all mobile contacts on an App Android","body":"<p>Here is a function from which you can get contacts</p>\n<pre><code>private void getContactList() {\n  ContentResolver cr = getContentResolver();\n  Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,\n          null, null, null, null);\n\n  if ((cur != null ? cur.getCount() : 0) &gt; 0) {\n      while (cur != null &amp;&amp; cur.moveToNext()) {\n          String id = cur.getString(\n                  cur.getColumnIndex(ContactsContract.Contacts._ID));\n          String name = cur.getString(cur.getColumnIndex(\n                  ContactsContract.Contacts.DISPLAY_NAME));\n\n          if (cur.getInt(cur.getColumnIndex(\n                  ContactsContract.Contacts.HAS_PHONE_NUMBER)) &gt; 0) {\n              Cursor pCur = cr.query(\n                      ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                      null,\n                      ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n                      new String[]{id}, null);\n              while (pCur.moveToNext()) {\n                  String phoneNo = pCur.getString(pCur.getColumnIndex(\n                          ContactsContract.CommonDataKinds.Phone.NUMBER));\n                  Log.i(TAG, &quot;Name: &quot; + name);\n                  Log.i(TAG, &quot;Phone Number: &quot; + phoneNo);\n              }\n              pCur.close();\n          }\n      }\n  }\n  if(cur!=null){\n    cur.close();\n  }\n}\n</code></pre>\n<p>Reference <a href=\"https://stackoverflow.com/questions/12562151/android-get-all-contacts\">android-get-all-contacts</a></p>\n"},{"tags":[],"owner":{"account_id":14587276,"reputation":464,"user_id":10535628,"display_name":"hosein moradi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597646508,"creation_date":1597646508,"answer_id":63445774,"question_id":63443919,"body_markdown":"you must push or set list to your adapter\r\n\r\n    public List&lt;String&gt; getNumber(ContentResolver cr)\r\n    {\r\n        List&lt;String&gt; phonebook = new ArrayList&lt;&gt;();\r\n        Cursor phones = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null,null, null);\r\n        // use the cursor to access the contacts\r\n        while (phones.moveToNext())\r\n        {\r\n            String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n            phonebook.add(phoneNumber);\r\n        }\r\n        return phonebook;\r\n    }","title":"How Can I list all mobile contacts on an App Android","body":"<p>you must push or set list to your adapter</p>\n<pre><code>public List&lt;String&gt; getNumber(ContentResolver cr)\n{\n    List&lt;String&gt; phonebook = new ArrayList&lt;&gt;();\n    Cursor phones = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null,null, null);\n    // use the cursor to access the contacts\n    while (phones.moveToNext())\n    {\n        String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n        phonebook.add(phoneNumber);\n    }\n    return phonebook;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1791757,"reputation":22216,"user_id":1631967,"display_name":"aminography"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597650038,"creation_date":1597646648,"answer_id":63445799,"question_id":63443919,"body_markdown":"I&#39;ve developed a utility class to retrieve device contacts. It&#39;s available on GitHub:\r\n\r\n### [ContactUtils.kt](https://github.com/aminography/CommonUtils/blob/master/library/src/main/java/com/aminography/commonutils/ContactUtils.kt)\r\n\r\nSince handling all situations that might happen in retrieving contacts is a bit time consuming, I suggest you get this file and add it to your project. It&#39;s written in `kotlin`, but if you are using `java`, also it&#39;s possible to get the list of contacts like the following:\r\n\r\n```\r\nList&lt;ContactData&gt; contacts = ContactUtilsKt.retrieveAllContacts(context);\r\n\r\n// or to retrieve all contacts matching specific search pattern:\r\nList&lt;ContactData&gt; contacts = ContactUtilsKt.retrieveAllContacts(context, &quot;John&quot;);\r\n```\r\n\r\n\r\n\r\n","title":"How Can I list all mobile contacts on an App Android","body":"<p>I've developed a utility class to retrieve device contacts. It's available on GitHub:</p>\n<h3><a href=\"https://github.com/aminography/CommonUtils/blob/master/library/src/main/java/com/aminography/commonutils/ContactUtils.kt\" rel=\"nofollow noreferrer\">ContactUtils.kt</a></h3>\n<p>Since handling all situations that might happen in retrieving contacts is a bit time consuming, I suggest you get this file and add it to your project. It's written in <code>kotlin</code>, but if you are using <code>java</code>, also it's possible to get the list of contacts like the following:</p>\n<pre><code>List&lt;ContactData&gt; contacts = ContactUtilsKt.retrieveAllContacts(context);\n\n// or to retrieve all contacts matching specific search pattern:\nList&lt;ContactData&gt; contacts = ContactUtilsKt.retrieveAllContacts(context, &quot;John&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10068533,"reputation":31,"user_id":7442911,"display_name":"Neil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661934051,"creation_date":1661934051,"answer_id":73552884,"question_id":63443919,"body_markdown":"I tried with the aceepted answer, but everytime i used to get my list of particluar contactId as 0 \r\n\r\n    val result: MutableList&lt;ContactData&gt; = mutableListOf()\r\n    contentResolver.query(\r\n        ContactsContract.Contacts.CONTENT_URI,\r\n        CONTACT_PROJECTION,\r\n        if (searchPattern.isNotBlank()) &quot;${ContactsContract.Contacts.DISPLAY_NAME_PRIMARY} LIKE &#39;%?%&#39;&quot; else null,\r\n        if (searchPattern.isNotBlank()) arrayOf(searchPattern) else null,\r\n        if (limit &gt; 0 &amp;&amp; offset &gt; -1) &quot;${ContactsContract.Contacts.DISPLAY_NAME_PRIMARY} ASC LIMIT $limit OFFSET $offset&quot;\r\n        else ContactsContract.Contacts.DISPLAY_NAME_PRIMARY + &quot; ASC&quot;\r\n    )?.use {\r\n        if (it.moveToFirst()) {\r\n            do {\r\n                val contactId = it.getLong(it.getColumnIndex(CONTACT_PROJECTION[0]))\r\n                val name = it.getString(it.getColumnIndex(CONTACT_PROJECTION[2])) ?: &quot;&quot;\r\n                val hasPhoneNumber = it.getString(it.getColumnIndex(CONTACT_PROJECTION[3])).toInt()\r\n                val phoneNumber: List&lt;String&gt; = if (hasPhoneNumber &gt; 0) {\r\n                    retrievePhoneNumber(contactId)\r\n                } else mutableListOf()\r\n\r\n                val avatar = if (retrieveAvatar) retrieveAvatar(contactId) else null\r\n                result.add(ContactData(contactId, name, phoneNumber, avatar))\r\n            } while (it.moveToNext())\r\n        }\r\n    }\r\n    return result\r\n\r\nfor this first part of code as it internally calls **retrivePhoneNumber(contactId)**\r\n\r\n    val result: MutableList&lt;String&gt; = mutableListOf()\r\n    contentResolver.query(\r\n        ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n        null,\r\n        &quot;${ContactsContract.CommonDataKinds.Phone.CONTACT_ID} =?&quot;,\r\n        arrayOf(contactId.toString()),\r\n        null\r\n    )?.use {\r\n        if (it.moveToFirst()) {\r\n            do {\r\n                result.add(it.getString(it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)))\r\n            } while (it.moveToNext())\r\n        }\r\n    }\r\n    return result\r\n\r\nhere in this block of code **it.moveToFirst()** always false, so returned list is always zero\r\n\r\nHere is the working code which will return all list number as list excluding those number who is the same number but space in it like **+91123 344 55**\r\n\r\n    val contactsNumberMap = HashMap&lt;String, HashSet&lt;String&gt;&gt;()\r\n    val result: MutableList&lt;String&gt; = mutableListOf()\r\n        withContext(Dispatchers.IO) {\r\n            context.contentResolver.query(\r\n                ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                null,\r\n                null,\r\n                null,\r\n                null\r\n            )?.use { c -&gt;\r\n                val contactIdIndex =\r\n                    c.getColumnIndex(ContactsContract.CommonDataKinds.Phone.CONTACT_ID)\r\n                val numberIndex = c.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)\r\n                while (c.moveToNext()) {\r\n                    val contactId = c.getString(contactIdIndex)\r\n                    val number: String = c.getString(numberIndex)\r\n                    if (number.contains(&#39; &#39;).not()) {\r\n                        if (contactsNumberMap.containsKey(contactId)) {\r\n                            contactsNumberMap[contactId]?.add(number)\r\n                        } else {\r\n                            contactsNumberMap[contactId] = hashSetOf(number)\r\n                        }\r\n                    }\r\n                }\r\n                contactsNumberMap.map { m -&gt;\r\n                    m.apply {\r\n                        value.forEach {\r\n                            result.add(it)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return@withContext result\r\n        }\r\n        return result","title":"How Can I list all mobile contacts on an App Android","body":"<p>I tried with the aceepted answer, but everytime i used to get my list of particluar contactId as 0</p>\n<pre><code>val result: MutableList&lt;ContactData&gt; = mutableListOf()\ncontentResolver.query(\n    ContactsContract.Contacts.CONTENT_URI,\n    CONTACT_PROJECTION,\n    if (searchPattern.isNotBlank()) &quot;${ContactsContract.Contacts.DISPLAY_NAME_PRIMARY} LIKE '%?%'&quot; else null,\n    if (searchPattern.isNotBlank()) arrayOf(searchPattern) else null,\n    if (limit &gt; 0 &amp;&amp; offset &gt; -1) &quot;${ContactsContract.Contacts.DISPLAY_NAME_PRIMARY} ASC LIMIT $limit OFFSET $offset&quot;\n    else ContactsContract.Contacts.DISPLAY_NAME_PRIMARY + &quot; ASC&quot;\n)?.use {\n    if (it.moveToFirst()) {\n        do {\n            val contactId = it.getLong(it.getColumnIndex(CONTACT_PROJECTION[0]))\n            val name = it.getString(it.getColumnIndex(CONTACT_PROJECTION[2])) ?: &quot;&quot;\n            val hasPhoneNumber = it.getString(it.getColumnIndex(CONTACT_PROJECTION[3])).toInt()\n            val phoneNumber: List&lt;String&gt; = if (hasPhoneNumber &gt; 0) {\n                retrievePhoneNumber(contactId)\n            } else mutableListOf()\n\n            val avatar = if (retrieveAvatar) retrieveAvatar(contactId) else null\n            result.add(ContactData(contactId, name, phoneNumber, avatar))\n        } while (it.moveToNext())\n    }\n}\nreturn result\n</code></pre>\n<p>for this first part of code as it internally calls <strong>retrivePhoneNumber(contactId)</strong></p>\n<pre><code>val result: MutableList&lt;String&gt; = mutableListOf()\ncontentResolver.query(\n    ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n    null,\n    &quot;${ContactsContract.CommonDataKinds.Phone.CONTACT_ID} =?&quot;,\n    arrayOf(contactId.toString()),\n    null\n)?.use {\n    if (it.moveToFirst()) {\n        do {\n            result.add(it.getString(it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)))\n        } while (it.moveToNext())\n    }\n}\nreturn result\n</code></pre>\n<p>here in this block of code <strong>it.moveToFirst()</strong> always false, so returned list is always zero</p>\n<p>Here is the working code which will return all list number as list excluding those number who is the same number but space in it like <strong>+91123 344 55</strong></p>\n<pre><code>val contactsNumberMap = HashMap&lt;String, HashSet&lt;String&gt;&gt;()\nval result: MutableList&lt;String&gt; = mutableListOf()\n    withContext(Dispatchers.IO) {\n        context.contentResolver.query(\n            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n            null,\n            null,\n            null,\n            null\n        )?.use { c -&gt;\n            val contactIdIndex =\n                c.getColumnIndex(ContactsContract.CommonDataKinds.Phone.CONTACT_ID)\n            val numberIndex = c.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)\n            while (c.moveToNext()) {\n                val contactId = c.getString(contactIdIndex)\n                val number: String = c.getString(numberIndex)\n                if (number.contains(' ').not()) {\n                    if (contactsNumberMap.containsKey(contactId)) {\n                        contactsNumberMap[contactId]?.add(number)\n                    } else {\n                        contactsNumberMap[contactId] = hashSetOf(number)\n                    }\n                }\n            }\n            contactsNumberMap.map { m -&gt;\n                m.apply {\n                    value.forEach {\n                        result.add(it)\n                    }\n                }\n            }\n        }\n        return@withContext result\n    }\n    return result\n</code></pre>\n"}],"owner":{"account_id":12356849,"reputation":349,"user_id":9042004,"accept_rate":67,"display_name":"Carmen B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4557,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63445799,"answer_count":4,"score":1,"last_activity_date":1661934051,"creation_date":1597632536,"question_id":63443919,"body_markdown":"I started to learn Mobile App Development with Android Studios. I want to create a simple app(for testing) where I display all cellphone contacts in a ListView. \r\n\r\nI have the main activity and its xml file where I have added a ListView element, I want to display all contacts there. \r\n\r\n\r\nThis is the code of the main activity class:\r\n\r\n    package com.example.contactlist;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n       }\r\n    }\r\n\r\n\r\n\r\nthis is the code of the main activity XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;66dp&quot;\r\n        android:background=&quot;@color/colorPrimaryDark&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:theme=&quot;?attr/actionBarTheme&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;Contact Lists&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/subtitulo_container&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Contact Lists&quot;\r\n        android:textColor=&quot;@android:color/black&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.087&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.119&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listado_contactos&quot;\r\n        android:layout_width=&quot;346dp&quot;\r\n        android:layout_height=&quot;644dp&quot;\r\n        android:layout_marginStart=&quot;24dp&quot;\r\n        android:layout_marginLeft=&quot;24dp&quot;\r\n        android:layout_marginTop=&quot;21dp&quot;\r\n        android:layout_marginEnd=&quot;23dp&quot;\r\n        android:layout_marginRight=&quot;23dp&quot;\r\n        android:layout_marginBottom=&quot;29dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/subtitulo_container&quot;\r\n        tools:listitem=&quot;@android:layout/simple_list_item_multiple_choice&quot; /&gt;\r\n\r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\nand this is the code of the AndroidManifest file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.contactlist&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n\r\nWhat I want to know is how can I get all contacts data from the cellphone and display them in my ListView?\r\n\r\n\r\n\r\n","title":"How Can I list all mobile contacts on an App Android","body":"<p>I started to learn Mobile App Development with Android Studios. I want to create a simple app(for testing) where I display all cellphone contacts in a ListView.</p>\n<p>I have the main activity and its xml file where I have added a ListView element, I want to display all contacts there.</p>\n<p>This is the code of the main activity class:</p>\n<pre><code>package com.example.contactlist;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n   }\n}\n</code></pre>\n<p>this is the code of the main activity XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;66dp&quot;\n    android:background=&quot;@color/colorPrimaryDark&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    android:theme=&quot;?attr/actionBarTheme&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:title=&quot;Contact Lists&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/subtitulo_container&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Contact Lists&quot;\n    android:textColor=&quot;@android:color/black&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.087&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.119&quot; /&gt;\n\n&lt;ListView\n    android:id=&quot;@+id/listado_contactos&quot;\n    android:layout_width=&quot;346dp&quot;\n    android:layout_height=&quot;644dp&quot;\n    android:layout_marginStart=&quot;24dp&quot;\n    android:layout_marginLeft=&quot;24dp&quot;\n    android:layout_marginTop=&quot;21dp&quot;\n    android:layout_marginEnd=&quot;23dp&quot;\n    android:layout_marginRight=&quot;23dp&quot;\n    android:layout_marginBottom=&quot;29dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/subtitulo_container&quot;\n    tools:listitem=&quot;@android:layout/simple_list_item_multiple_choice&quot; /&gt;\n\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and this is the code of the AndroidManifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.example.contactlist&quot;&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot;/&gt;\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n    &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>What I want to know is how can I get all contacts data from the cellphone and display them in my ListView?</p>\n"},{"tags":["java","spring-boot","jpa","rollback"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1661933982,"post_id":73552725,"comment_id":129887032,"body_markdown":"A transaction is all or nothing, how can you commit 10 out 20 rows without doing a full rollback? If you want that you should start a transaction for each item in your list and do an individual insert. Or use JDBC do a batch insert which takes into account existing items.","body":"A transaction is all or nothing, how can you commit 10 out 20 rows without doing a full rollback? If you want that you should start a transaction for each item in your list and do an individual insert. Or use JDBC do a batch insert which takes into account existing items."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661934025,"creation_date":1661934025,"answer_id":73552878,"question_id":73552725,"body_markdown":"Remove the noRollbackFor and do this instead:\r\n\r\n    try {\r\n       // flush will execute the SQL statements\r\n       dao.saveAllAndFlush(list)\r\n    } catch (SQLIntegrityConstraintViolationException | ConstraintViolationException | DataIntegrityViolationException e){\r\n      ...\r\n    }","title":"Avoiding values which are on database and adding the new one from list","body":"<p>Remove the noRollbackFor and do this instead:</p>\n<pre><code>try {\n   // flush will execute the SQL statements\n   dao.saveAllAndFlush(list)\n} catch (SQLIntegrityConstraintViolationException | ConstraintViolationException | DataIntegrityViolationException e){\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":20324757,"reputation":21,"user_id":14908510,"display_name":"Khyati Chhajed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661934025,"creation_date":1661933233,"question_id":73552725,"body_markdown":"I was trying to use\r\n\r\n```\r\n@Transactional(noRollbackFor = {SQLIntegrityConstraintViolationException.class, ConstraintViolationException.class, DataIntegrityViolationException.class})\r\n```\r\nin my **serviceImpl class**\r\n\r\nand following for checking exception:- \r\n```\r\ntry{\r\ndao.saveAll(list)\r\n}catch (Throwable ignore){\r\n  ...\r\n}\r\n```\r\nbut it is not working, can anyone suggest me how to do that, only add non existing data and avoid the rest.","title":"Avoiding values which are on database and adding the new one from list","body":"<p>I was trying to use</p>\n<pre><code>@Transactional(noRollbackFor = {SQLIntegrityConstraintViolationException.class, ConstraintViolationException.class, DataIntegrityViolationException.class})\n</code></pre>\n<p>in my <strong>serviceImpl class</strong></p>\n<p>and following for checking exception:-</p>\n<pre><code>try{\ndao.saveAll(list)\n}catch (Throwable ignore){\n  ...\n}\n</code></pre>\n<p>but it is not working, can anyone suggest me how to do that, only add non existing data and avoid the rest.</p>\n"},{"tags":["java","sql","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1661935761,"post_id":73552852,"comment_id":129887753,"body_markdown":"So you want distinct results per color, right? Assuming your data is stored in a relational database you&#39;d need to think about how the SQL query for this could look like and from that you should be able to translate to JPA/Hibernate (if that supports everything you&#39;d need). My take would be that you&#39;d need at least one subquery that groups by color and selects 1 element (e.g. `min(id)`) and then the resulting ids are fed into the actual loading query. - Depending on how big the unfiltered data would be it might be easier to just get everything and filter in Java.","body":"So you want distinct results per color, right? Assuming your data is stored in a relational database you&#39;d need to think about how the SQL query for this could look like and from that you should be able to translate to JPA/Hibernate (if that supports everything you&#39;d need). My take would be that you&#39;d need at least one subquery that groups by color and selects 1 element (e.g. <code>min(id)</code>) and then the resulting ids are fed into the actual loading query. - Depending on how big the unfiltered data would be it might be easier to just get everything and filter in Java."},{"owner":{"account_id":24141405,"reputation":49,"user_id":18107547,"display_name":"SLSofiane"},"score":0,"creation_date":1661936495,"post_id":73552852,"comment_id":129888054,"body_markdown":"It is possible to make this with criteria ?","body":"It is possible to make this with criteria ?"}],"owner":{"account_id":24141405,"reputation":49,"user_id":18107547,"display_name":"SLSofiane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661933850,"creation_date":1661933850,"question_id":73552852,"body_markdown":"I have the current list with objects with the same property &quot;RED&quot; on the property &quot;COLOR&quot; : \r\n\r\n```[ {id:1,name:&quot;John&quot;,age:14,color:red}, {{id:2,name:&quot;Michel&quot;,age:34,color:blue}}, {{id:3,name:&quot;Yves&quot;,age:54,color:red}}]```\r\n\r\nI want to use hibernate with criteria to have this result :\r\n\r\n```[ {id:1,name:&quot;John&quot;,age:14,color:red},{id:2,name:&quot;Michel&quot;,age:34,color:blue}]```\r\n\r\nIt deletes Yves because he has the same property &quot;RED&quot;\r\n\r\nSomeone could help me ? \r\n\r\nMy code :\r\n\r\n```Criteria criteria = SrvDataAccess.getCurrentSession().createCriteria(User.class);```\r\n\r\nThank you.\r\n","title":"Avoid duplicate objects with the same property with hibernate","body":"<p>I have the current list with objects with the same property &quot;RED&quot; on the property &quot;COLOR&quot; :</p>\n<p><code>[ {id:1,name:&quot;John&quot;,age:14,color:red}, {{id:2,name:&quot;Michel&quot;,age:34,color:blue}}, {{id:3,name:&quot;Yves&quot;,age:54,color:red}}]</code></p>\n<p>I want to use hibernate with criteria to have this result :</p>\n<p><code>[ {id:1,name:&quot;John&quot;,age:14,color:red},{id:2,name:&quot;Michel&quot;,age:34,color:blue}]</code></p>\n<p>It deletes Yves because he has the same property &quot;RED&quot;</p>\n<p>Someone could help me ?</p>\n<p>My code :</p>\n<p><code>Criteria criteria = SrvDataAccess.getCurrentSession().createCriteria(User.class);</code></p>\n<p>Thank you.</p>\n"},{"tags":["java","audio","graphics","jogl"],"answers":[{"tags":[],"owner":{"account_id":30243,"reputation":8582,"user_id":82344,"accept_rate":100,"display_name":"Mike Daniels"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1319067052,"creation_date":1285716359,"answer_id":3817747,"question_id":3817719,"body_markdown":"JOGL (and OpenGL in general) is not an audio library. Perhaps you want [JOAL][1]?\r\n\r\n\r\n  [1]: http://jogamp.org/joal/www/","title":"Sound with JOGL?","body":"<p>JOGL (and OpenGL in general) is not an audio library. Perhaps you want <a href=\"http://jogamp.org/joal/www/\" rel=\"nofollow\">JOAL</a>?</p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319059194,"creation_date":1319059194,"answer_id":7828308,"question_id":3817719,"body_markdown":"JOAL is [here][1], no more on java.net.\r\n\r\n\r\n  [1]: http://jogamp.org/joal/www/","title":"Sound with JOGL?","body":"<p>JOAL is <a href=\"http://jogamp.org/joal/www/\" rel=\"nofollow\">here</a>, no more on java.net.</p>\n"},{"tags":[],"owner":{"account_id":26066631,"reputation":1,"user_id":19766983,"display_name":"ACs Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661933626,"creation_date":1661933534,"answer_id":73552780,"question_id":3817719,"body_markdown":"JOGL is for 2D and 3D graphics renderer, but does not include audio stream.\r\nIf you want to deal with audio, JOAL come in handy!","title":"Sound with JOGL?","body":"<p>JOGL is for 2D and 3D graphics renderer, but does not include audio stream.\nIf you want to deal with audio, JOAL come in handy!</p>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661933626,"creation_date":1285716030,"question_id":3817719,"body_markdown":"I have a JOGL app, and I&#39;d like to programmatically play audio files. Is this possible?","title":"Sound with JOGL?","body":"<p>I have a JOGL app, and I'd like to programmatically play audio files. Is this possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1661933120,"post_id":73552681,"comment_id":129886678,"body_markdown":"That&#39;s not how Java works, why do you want to do this instead of defining the method in the normal way?","body":"That&#39;s not how Java works, why do you want to do this instead of defining the method in the normal way?"},{"owner":{"account_id":3491975,"reputation":1562,"user_id":2921426,"accept_rate":64,"display_name":"SimonC"},"score":1,"creation_date":1661933125,"post_id":73552681,"comment_id":129886681,"body_markdown":"The method has to be added in the class declaration, or via a setter which takes a function argument or something similar, like a lambda","body":"The method has to be added in the class declaration, or via a setter which takes a function argument or something similar, like a lambda"},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":0,"creation_date":1661933212,"post_id":73552681,"comment_id":129886712,"body_markdown":"Because my regularAxis is part of a library, I cannot edit it. And i would like a custom method","body":"Because my regularAxis is part of a library, I cannot edit it. And i would like a custom method"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1661933330,"post_id":73552681,"comment_id":129886758,"body_markdown":"In your example, you are creating anonymous subclass. You can: 1) use var to infer the type of the variable. Thus the `lon` variable has more precise type, giving you access to the new method. 2) Use regular subclass if you want to pass this variable somewhere, preserving its type.","body":"In your example, you are creating anonymous subclass. You can: 1) use var to infer the type of the variable. Thus the <code>lon</code> variable has more precise type, giving you access to the new method. 2) Use regular subclass if you want to pass this variable somewhere, preserving its type."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1661933430,"post_id":73552681,"comment_id":129886796,"body_markdown":"are you referring to something like [this](https://stackoverflow.com/a/1958961/16034206)?","body":"are you referring to something like <a href=\"https://stackoverflow.com/a/1958961/16034206\">this</a>?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1661933719,"post_id":73552681,"comment_id":129886910,"body_markdown":"FYI: This is not a &quot;constructor function&quot; (that term doesn&#39;t exist in Java), you&#39;re creating an anonymous subclass.","body":"FYI: This is not a &quot;constructor function&quot; (that term doesn&#39;t exist in Java), you&#39;re creating an anonymous subclass."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661933216,"creation_date":1661933216,"answer_id":73552722,"question_id":73552681,"body_markdown":"You can call it as part of the same statement:\r\n\r\n    new RegularAxis(){\r\n        public String returnHello(){\r\n             return &quot;hello&quot;;\r\n        }\r\n    }.returnHello();\r\n\r\nOr you can capture the anonymous type with a `var` variable in Java 10+ (thanks [@Lesiak][1]): \r\n\r\n    var lon = new RegularAxis(){\r\n        public String returnHello(){\r\n             return &quot;hello&quot;;\r\n        }\r\n    };\r\n    \r\n    lon.returnHello();\r\n\r\n\r\nOtherwise, you&#39;ll have to declare it as a proper class:\r\n\r\n    class IrregularAxis extends RegularAxis {\r\n        public String returnHello(){\r\n             return &quot;hello&quot;;\r\n        }\r\n    }\r\n    \r\n    IrregularAxis lon = new IrregularAxis();\r\n    lon.returnHello();\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73552681/how-to-use-constructor-function-to-add-method-java/73552722#comment129886758_73552681","title":"How to use constructor function to add method java?","body":"<p>You can call it as part of the same statement:</p>\n<pre><code>new RegularAxis(){\n    public String returnHello(){\n         return &quot;hello&quot;;\n    }\n}.returnHello();\n</code></pre>\n<p>Or you can capture the anonymous type with a <code>var</code> variable in Java 10+ (thanks <a href=\"https://stackoverflow.com/questions/73552681/how-to-use-constructor-function-to-add-method-java/73552722#comment129886758_73552681\">@Lesiak</a>):</p>\n<pre><code>var lon = new RegularAxis(){\n    public String returnHello(){\n         return &quot;hello&quot;;\n    }\n};\n\nlon.returnHello();\n</code></pre>\n<p>Otherwise, you'll have to declare it as a proper class:</p>\n<pre><code>class IrregularAxis extends RegularAxis {\n    public String returnHello(){\n         return &quot;hello&quot;;\n    }\n}\n\nIrregularAxis lon = new IrregularAxis();\nlon.returnHello();\n</code></pre>\n"}],"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661933568,"creation_date":1661932973,"question_id":73552681,"body_markdown":"I would like to add method through my constructor and use it after : \r\n\r\n    RegularAxis lon = new RegularAxis(){\r\n        public String returnHello(){\r\n             return &quot;hello&quot;;\r\n        }\r\n    };\r\n\r\n    lon.returnHello();\r\n\r\n\r\n\r\nI cannot access my new method. is there an other way?","title":"How to use constructor function to add method java?","body":"<p>I would like to add method through my constructor and use it after :</p>\n<pre><code>RegularAxis lon = new RegularAxis(){\n    public String returnHello(){\n         return &quot;hello&quot;;\n    }\n};\n\nlon.returnHello();\n</code></pre>\n<p>I cannot access my new method. is there an other way?</p>\n"},{"tags":["java","jquery","hibernate","hql"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661928025,"post_id":73551752,"comment_id":129885053,"body_markdown":"and the compiler does not tell you anything?","body":"and the compiler does not tell you anything?"},{"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"score":0,"creation_date":1661928190,"post_id":73551752,"comment_id":129885097,"body_markdown":"@ScaryWombat org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;join&quot;","body":"@ScaryWombat org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;join&quot;"},{"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"score":0,"creation_date":1661936229,"post_id":73551752,"comment_id":129887942,"body_markdown":"@ScaryWombat \nHow about adding filtering by regId, because now I get back the entire table where there is a relationship with regId ?","body":"@ScaryWombat  How about adding filtering by regId, because now I get back the entire table where there is a relationship with regId ?"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661928441,"creation_date":1661928441,"answer_id":73551859,"question_id":73551752,"body_markdown":"The format for multiple joins is\r\n\r\n    SELECT columns ...\r\n    FROM table1 AS t1\r\n       INNER JOIN\r\n       table2 AS t2\r\n       ON t1.id = t2.id\r\n       INNER JOIN\r\n       table3 AS t3\r\n       ON t3.id = t1.id","title":"hql request with different tables","body":"<p>The format for multiple joins is</p>\n<pre><code>SELECT columns ...\nFROM table1 AS t1\n   INNER JOIN\n   table2 AS t2\n   ON t1.id = t2.id\n   INNER JOIN\n   table3 AS t3\n   ON t3.id = t1.id\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661933559,"creation_date":1661928793,"answer_id":73551921,"question_id":73551752,"body_markdown":"Your join is totally wrong. You have to add `ON` keyword and map primary key and foreign key in first inner join.\r\n\r\nHere is your join, which is wrong\r\n```\r\nSELECT columns FROM A a\r\nINNER JOIN B b\r\nINNER JOIN C c ON a.ColName = b.ColName AND a.ColName = c.ColName\r\n```\r\n\r\nHere is the correct syntex for multiple join\r\n```\r\nSELECT columns FROM A a\r\nINNER JOIN B b ON a.ColName = b.ColName\r\nINNER JOIN C c ON a.ColName = c.ColName\r\n```\r\n\r\nHere down is modified query\r\n```\r\n@Query(&quot;SELECT p.regId, p.method, p.tax, p.fee, p.netAmount, r.countSec, p.status &quot; +\r\n    &quot;FROM P p INNER JOIN R r ON p.regId = r.id INNER JOIN D d ON p.regId = d.id&quot;)\r\n```","title":"hql request with different tables","body":"<p>Your join is totally wrong. You have to add <code>ON</code> keyword and map primary key and foreign key in first inner join.</p>\n<p>Here is your join, which is wrong</p>\n<pre><code>SELECT columns FROM A a\nINNER JOIN B b\nINNER JOIN C c ON a.ColName = b.ColName AND a.ColName = c.ColName\n</code></pre>\n<p>Here is the correct syntex for multiple join</p>\n<pre><code>SELECT columns FROM A a\nINNER JOIN B b ON a.ColName = b.ColName\nINNER JOIN C c ON a.ColName = c.ColName\n</code></pre>\n<p>Here down is modified query</p>\n<pre><code>@Query(&quot;SELECT p.regId, p.method, p.tax, p.fee, p.netAmount, r.countSec, p.status &quot; +\n    &quot;FROM P p INNER JOIN R r ON p.regId = r.id INNER JOIN D d ON p.regId = d.id&quot;)\n</code></pre>\n"}],"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73551859,"answer_count":2,"score":2,"last_activity_date":1661933559,"creation_date":1661927742,"question_id":73551752,"body_markdown":"I want to write a complex hql query with relationships from 3 tables. It is necessary to make a selection of the selected columns so that they are located by ID\r\n\r\n    @Query(&quot;SELECT p.regId, p.method, p.tax, p.fee, p.netAmount, r.countSec, p.status &quot; +\r\n        &quot;FROM P p INNER JOIN R r INNER JOIN D d on p.regId = r.id AND p.regId = d.id&quot;)\r\n    List&lt;P&gt; findAllByRegId(String regId);\r\n\r\nMy compiler cannot execute the request, I don&#39;t understand what the problem is! Help, please\r\n\r\n    org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;join&quot;","title":"hql request with different tables","body":"<p>I want to write a complex hql query with relationships from 3 tables. It is necessary to make a selection of the selected columns so that they are located by ID</p>\n<pre><code>@Query(&quot;SELECT p.regId, p.method, p.tax, p.fee, p.netAmount, r.countSec, p.status &quot; +\n    &quot;FROM P p INNER JOIN R r INNER JOIN D d on p.regId = r.id AND p.regId = d.id&quot;)\nList&lt;P&gt; findAllByRegId(String regId);\n</code></pre>\n<p>My compiler cannot execute the request, I don't understand what the problem is! Help, please</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;join&quot;\n</code></pre>\n"},{"tags":["java","class","oop","arraylist","interface"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661925723,"post_id":73551421,"comment_id":129884459,"body_markdown":"In that particular case `ArrayList` guaranties you can mutate it, `List` - doesn&#39;t.","body":"In that particular case <code>ArrayList</code> guaranties you can mutate it, <code>List</code> - doesn&#39;t."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1661927013,"post_id":73551421,"comment_id":129884778,"body_markdown":"My opinion: mostly because of a misunderstanding of where/when to use &quot;program to interface&quot; - there is no advantage for the code posted in the question, that is, for instances created locally and assigned to local variables - it should be used when declaring the parameters of a method (as shown in now deleted answer) or similar","body":"My opinion: mostly because of a misunderstanding of where/when to use &quot;program to interface&quot; - there is no advantage for the code posted in the question, that is, for instances created locally and assigned to local variables - it should be used when declaring the parameters of a method (as shown in now deleted answer) or similar"},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1661927939,"post_id":73551421,"comment_id":129885032,"body_markdown":"@user16320675 I&#39;ve undeleted my answer as maybe it is useful :). But answer is downvoted.","body":"@user16320675 I&#39;ve undeleted my answer as maybe it is useful :). But answer is downvoted."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661933346,"creation_date":1661925867,"answer_id":73551496,"question_id":73551421,"body_markdown":"The List interface in Java provides a way to store the ordered collection\r\n\r\nList interface is implemented by the classes of ArrayList.\r\n\r\nInterfaces says that class must be able to do something. Interface is an abstraction. Interfaces are just contracts or signatures and they don&#39;t know anything about implementations. It can give you a chance to support many principles of OOP.\r\n\r\nOne of the [design principle says][1]:\r\n\r\n&gt; program to interfaces, not implementations\r\n\r\nLet me show an example via C#. I am sorry I am not Java guy. But I have not used any special feature of C#. I&#39;ve added comments how it can be looked in Java.\r\n\r\nWe should create an interface:\r\n\r\n    interface IVehicle\r\n    {\r\n        void Run();\r\n    }\r\n\r\nand its concrete implementations:\r\n\r\n    public class Car : IVehicle  // Java: Car implements IVehicle \r\n    {\r\n        public void Run()\r\n        {\r\n            Console.WriteLine(&quot;I am Car&quot;);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Plane : IVehicle  // Java: Plane implements IVehicle \r\n    {\r\n        public void Run()\r\n        {\r\n            Console.WriteLine(&quot;I am Plane&quot;);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Sale : IVehicle  // Sale: Plane implements IVehicle \r\n    {\r\n        public void Run()\r\n        {\r\n            Console.WriteLine(&quot;I am Sale&quot;);\r\n        }\r\n    }\r\n\r\nImagine that we have the following method:\r\n\r\n    void Run(Car car)\r\n    {\r\n        car.Run();\r\n    }\r\n\r\nThe above **method can run only concrete type such as `Car`**.\r\n\r\nLet&#39;s refactor the above method and apply design principle **program to interfaces, not implementations**. As a parameter, we will use an interface:\r\n\r\n    void Run(IVehicle vehicle)\r\n    {\r\n        vehicle.Run();\r\n    }\r\n\r\nAs a result, now your method can run any vehicle, it doess not depend on concrete implementation of `IVehicle`  such as `Car`, `Plane`, `Sale`.\r\n\r\nAnd another reason to program interfaces is [it is simpler to mock interfaces][2].\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/402032/should-i-still-follow-programming-to-an-interface-not-implementation-even-if-i\r\n  [2]: https://stackoverflow.com/questions/12174304/is-it-recommended-to-mock-concrete-class","title":"Can someone explain the use of having an interface as type while creating an object in Java?","body":"<p>The List interface in Java provides a way to store the ordered collection</p>\n<p>List interface is implemented by the classes of ArrayList.</p>\n<p>Interfaces says that class must be able to do something. Interface is an abstraction. Interfaces are just contracts or signatures and they don't know anything about implementations. It can give you a chance to support many principles of OOP.</p>\n<p>One of the <a href=\"https://softwareengineering.stackexchange.com/questions/402032/should-i-still-follow-programming-to-an-interface-not-implementation-even-if-i\">design principle says</a>:</p>\n<blockquote>\n<p>program to interfaces, not implementations</p>\n</blockquote>\n<p>Let me show an example via C#. I am sorry I am not Java guy. But I have not used any special feature of C#. I've added comments how it can be looked in Java.</p>\n<p>We should create an interface:</p>\n<pre><code>interface IVehicle\n{\n    void Run();\n}\n</code></pre>\n<p>and its concrete implementations:</p>\n<pre><code>public class Car : IVehicle  // Java: Car implements IVehicle \n{\n    public void Run()\n    {\n        Console.WriteLine(&quot;I am Car&quot;);\n    }\n}\n\n\npublic class Plane : IVehicle  // Java: Plane implements IVehicle \n{\n    public void Run()\n    {\n        Console.WriteLine(&quot;I am Plane&quot;);\n    }\n}\n\n\npublic class Sale : IVehicle  // Sale: Plane implements IVehicle \n{\n    public void Run()\n    {\n        Console.WriteLine(&quot;I am Sale&quot;);\n    }\n}\n</code></pre>\n<p>Imagine that we have the following method:</p>\n<pre><code>void Run(Car car)\n{\n    car.Run();\n}\n</code></pre>\n<p>The above <strong>method can run only concrete type such as <code>Car</code></strong>.</p>\n<p>Let's refactor the above method and apply design principle <strong>program to interfaces, not implementations</strong>. As a parameter, we will use an interface:</p>\n<pre><code>void Run(IVehicle vehicle)\n{\n    vehicle.Run();\n}\n</code></pre>\n<p>As a result, now your method can run any vehicle, it doess not depend on concrete implementation of <code>IVehicle</code>  such as <code>Car</code>, <code>Plane</code>, <code>Sale</code>.</p>\n<p>And another reason to program interfaces is <a href=\"https://stackoverflow.com/questions/12174304/is-it-recommended-to-mock-concrete-class\">it is simpler to mock interfaces</a>.</p>\n"}],"owner":{"account_id":19708391,"reputation":29,"user_id":14429495,"display_name":"adhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661926420,"answer_count":1,"score":0,"last_activity_date":1661933346,"creation_date":1661925333,"question_id":73551421,"body_markdown":"Suppose I want to create an ArrayList&lt;&gt; object.\r\n\r\nMethod 1:\r\n```\r\nArrayList&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;();\r\n```\r\nMethod 2:`\r\n```\r\nList&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;();\r\n```\r\n\r\nWhat is the difference and why do we have to use List interface as type? Explanation with examples would be appreciated. Thanks.","title":"Can someone explain the use of having an interface as type while creating an object in Java?","body":"<p>Suppose I want to create an ArrayList&lt;&gt; object.</p>\n<p>Method 1:</p>\n<pre><code>ArrayList&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Method 2:`</p>\n<pre><code>List&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>What is the difference and why do we have to use List interface as type? Explanation with examples would be appreciated. Thanks.</p>\n"},{"tags":["java","completable-future","scheduledexecutorservice"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1661932988,"post_id":73538458,"comment_id":129886637,"body_markdown":"Is `isStatusFinal` a blocking call? You mean the `checkFuture` keeps running  even the `completionFuture`  has completed?","body":"Is <code>isStatusFinal</code> a blocking call? You mean the <code>checkFuture</code> keeps running  even the <code>completionFuture</code>  has completed?"},{"owner":{"account_id":12800258,"reputation":77,"user_id":9261801,"display_name":"Deepak Aggarwal"},"score":0,"creation_date":1661934766,"post_id":73538458,"comment_id":129887331,"body_markdown":"Yes, isStatusFinal is a blocking call. Yes, checkFuture keeps on running even after the process timesout or the isStatusFinal returns true","body":"Yes, isStatusFinal is a blocking call. Yes, checkFuture keeps on running even after the process timesout or the isStatusFinal returns true"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1661936123,"post_id":73538458,"comment_id":129887898,"body_markdown":"Should I ask how many times do you poll it in your code? I think you know that every time you poll, the function, it creates a new `ScheduledExecutorService` then a new `ScheduledFuture&lt;?&gt;` from it, and as well as a new `CompletableFuture&lt;Integer&gt;`, don&#39;t you? I think this is not intended one.  So I will suggest you to log the `checkFuture` object hash where you create and cancel it. If the hash codes are all same then the references of the previous created ones are all lost. Do it and let me know whether the hash codes are the same or not.","body":"Should I ask how many times do you poll it in your code? I think you know that every time you poll, the function, it creates a new <code>ScheduledExecutorService</code> then a new <code>ScheduledFuture&lt;?&gt;</code> from it, and as well as a new <code>CompletableFuture&lt;Integer&gt;</code>, don&#39;t you? I think this is not intended one.  So I will suggest you to log the <code>checkFuture</code> object hash where you create and cancel it. If the hash codes are all same then the references of the previous created ones are all lost. Do it and let me know whether the hash codes are the same or not."}],"answers":[{"tags":[],"owner":{"account_id":21412375,"reputation":61,"user_id":15772257,"display_name":"will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661932758,"creation_date":1661932385,"answer_id":73552569,"question_id":73538458,"body_markdown":"I think you probably need to update the status, like this:\r\n\r\n        int currentStatus = fetchStatus();\r\n        System.out.println(&quot;current c: &quot; + currentStatus);\r\n        if (isStatusFinal(currentStatus)) {\r\n            completionFuture.complete(currentStatus);\r\n        } else {\r\n            //update status\r\n        }\r\n\r\nor do the update status thing at some otherwhere.","title":"Unable to implement asynchronous polling using ScheduledExecutorService","body":"<p>I think you probably need to update the status, like this:</p>\n<pre><code>    int currentStatus = fetchStatus();\n    System.out.println(&quot;current c: &quot; + currentStatus);\n    if (isStatusFinal(currentStatus)) {\n        completionFuture.complete(currentStatus);\n    } else {\n        //update status\n    }\n</code></pre>\n<p>or do the update status thing at some otherwhere.</p>\n"}],"owner":{"account_id":12800258,"reputation":77,"user_id":9261801,"display_name":"Deepak Aggarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661932758,"creation_date":1661843317,"question_id":73538458,"body_markdown":"I am trying to implement a polling functionality which does this:\r\n\r\n    while (condition is false or it does not timeout):\r\n       call another end point\r\n       wait(x seconds)\r\n\r\nI wrote below code:\r\n\r\n    private static CompletableFuture&lt;Integer&gt; asyncStatusChecker() {\r\n        ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n        CompletableFuture&lt;Integer&gt; completionFuture = new CompletableFuture&lt;&gt;();\r\n        final ScheduledFuture&lt;?&gt; checkFuture = executor.scheduleAtFixedRate(() -&gt; {\r\n            int currentStatus = fetchStatus();\r\n            System.out.println(&quot;current c: &quot; + currentStatus);\r\n            if (isStatusFinal(currentStatus)) {\r\n                completionFuture.complete(currentStatus);\r\n            }\r\n        }, 5, 1, TimeUnit.SECONDS);\r\n        completionFuture.whenComplete((result, thrown) -&gt;\r\n                checkFuture.cancel(true));\r\n        completionFuture.orTimeout(10, TimeUnit.SECONDS);\r\n        return completionFuture;\r\n    }\r\nBut it&#39;s not correct implementation as the process still remains active even after execution and also it does not look syntactically correct. Anybody know what I am doing wrong here?\r\n\r\n","title":"Unable to implement asynchronous polling using ScheduledExecutorService","body":"<p>I am trying to implement a polling functionality which does this:</p>\n<pre><code>while (condition is false or it does not timeout):\n   call another end point\n   wait(x seconds)\n</code></pre>\n<p>I wrote below code:</p>\n<pre><code>private static CompletableFuture&lt;Integer&gt; asyncStatusChecker() {\n    ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n    CompletableFuture&lt;Integer&gt; completionFuture = new CompletableFuture&lt;&gt;();\n    final ScheduledFuture&lt;?&gt; checkFuture = executor.scheduleAtFixedRate(() -&gt; {\n        int currentStatus = fetchStatus();\n        System.out.println(&quot;current c: &quot; + currentStatus);\n        if (isStatusFinal(currentStatus)) {\n            completionFuture.complete(currentStatus);\n        }\n    }, 5, 1, TimeUnit.SECONDS);\n    completionFuture.whenComplete((result, thrown) -&gt;\n            checkFuture.cancel(true));\n    completionFuture.orTimeout(10, TimeUnit.SECONDS);\n    return completionFuture;\n}\n</code></pre>\n<p>But it's not correct implementation as the process still remains active even after execution and also it does not look syntactically correct. Anybody know what I am doing wrong here?</p>\n"},{"tags":["java","spring","hibernate","jakarta-ee","junit4"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661933297,"post_id":73512373,"comment_id":129886742,"body_markdown":"You cannot use Spring 5.x with Tomcat 10. Nor can you use Hibernate 5.6 with Jakarta Persistence 3.0. Downgrade to Tomcat 9 and Jakarta Persistence 2.2. To use Tomcat 10 and Jakarta Persistence 3.0, you need Spring 6 (not yet released) and Hibernate 6.x.","body":"You cannot use Spring 5.x with Tomcat 10. Nor can you use Hibernate 5.6 with Jakarta Persistence 3.0. Downgrade to Tomcat 9 and Jakarta Persistence 2.2. To use Tomcat 10 and Jakarta Persistence 3.0, you need Spring 6 (not yet released) and Hibernate 6.x."},{"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"score":0,"creation_date":1661934073,"post_id":73512373,"comment_id":129887077,"body_markdown":"Is this documented somewhere? If so, can you put a link here please?","body":"Is this documented somewhere? If so, can you put a link here please?"},{"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"score":0,"creation_date":1661934221,"post_id":73512373,"comment_id":129887127,"body_markdown":"and if Spring doesn&#39;t support it, can I add theses entries via the java code in someway?","body":"and if Spring doesn&#39;t support it, can I add theses entries via the java code in someway?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661934931,"post_id":73512373,"comment_id":129887401,"body_markdown":"Normally this wouldn&#39;t be so problematic, but the change from Jakarta EE 8 to Jakarta EE 9 (which includes going from Jakarta Persistence 2.2 to 3.0) changed the package names used by these libraries from `javax.*` to `jakarta.*`. Tomcat 10 is basically Tomcat 9, but using the `jakarta` namespace. Spring 5 declares Java EE 7 as the [baseline](https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#baseline-update), and also working with Java EE / Jakarta EE 8. This means it doesn&#39;t work with Jakarta EE 9.","body":"Normally this wouldn&#39;t be so problematic, but the change from Jakarta EE 8 to Jakarta EE 9 (which includes going from Jakarta Persistence 2.2 to 3.0) changed the package names used by these libraries from <code>javax.*</code> to <code>jakarta.*</code>. Tomcat 10 is basically Tomcat 9, but using the <code>jakarta</code> namespace. Spring 5 declares Java EE 7 as the <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#baseline-update\" rel=\"nofollow noreferrer\">baseline</a>, and also working with Java EE / Jakarta EE 8. This means it doesn&#39;t work with Jakarta EE 9."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661935142,"post_id":73512373,"comment_id":129887482,"body_markdown":"As to Spring 6 + `jakarta` namespace, see [A Java 17 and Jakarta EE 9 baseline for Spring Framework 6](https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6). For Hibernate 5.6, technically you can use it with Java Persistence 3.0, provided you use the `*-jakarta` dependencies instead of the normal dependencies. Alternatively, you could upgrade to Hibernate 6, but for both options you might run into issues if you also integrate with Spring (e.g. Spring Data JPA).","body":"As to Spring 6 + <code>jakarta</code> namespace, see <a href=\"https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\" rel=\"nofollow noreferrer\">A Java 17 and Jakarta EE 9 baseline for Spring Framework 6</a>. For Hibernate 5.6, technically you can use it with Java Persistence 3.0, provided you use the <code>*-jakarta</code> dependencies instead of the normal dependencies. Alternatively, you could upgrade to Hibernate 6, but for both options you might run into issues if you also integrate with Spring (e.g. Spring Data JPA)."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661932697,"creation_date":1661932697,"answer_id":73552632,"question_id":73512373,"body_markdown":"Spring does not support Jakarta namespaces yet.\r\n\r\nThis will be done with Spring 6 and Spring Boot 3.\r\n\r\nYou have to use the javax namespaces.","title":"JUnit doesn&#39;t scan Jakarta entities","body":"<p>Spring does not support Jakarta namespaces yet.</p>\n<p>This will be done with Spring 6 and Spring Boot 3.</p>\n<p>You have to use the javax namespaces.</p>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661932697,"creation_date":1661615038,"question_id":73512373,"body_markdown":"I have a java(8) application running with Tomcat 10, Spring 5.3.22, hibernate 5.6.10.Final and jakarta.persistence 3.0.0\r\nI&#39;m using jakarta entities due to my tomcat 10.\r\n\r\nentity for example:\r\n\r\n    import jakarta.persistence.*;\r\n    @Entity\r\n    @Table(name=&quot;GLOBAL_VALUES&quot;)\r\n    public class GlobalValueEntry extends BaseEntry {\r\n    \r\n        private String key;\r\n        private String value;\r\n    \r\n        public GlobalValueEntry(){\r\n        }\r\n    \r\n        public GlobalValueEntry(String key, String value){\r\n            this.key = key;\r\n            this.value = value;\r\n        }\r\n    \r\n        @Column(name = &quot;KEY_STRING&quot;,unique = true, nullable = false)\r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    \r\n        public void setKey(String key) {\r\n            this.key = key;\r\n        }\r\n    \r\n        @Column(name = &quot;VALUE&quot;)\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n    }\r\n\r\nMy app runs properly meaning the web server is up and I can perform actions such as saving and updating using the entity above but when I try to preform the same action via junit, it fails due to \r\n\r\n    org.hibernate.MappingException: Unknown entity: com.imperva.itp.domain.globalvalues.GlobalValueEntry\r\n\r\nthe junit code:\r\n\r\n\r\n        import org.junit.Before;\r\n        import org.junit.Test;\r\n        import org.junit.runner.RunWith;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.test.context.ContextConfiguration;\r\n        import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n        import org.springframework.transaction.annotation.Transactional;\r\n        \r\n        import java.util.Date;\r\n        \r\n        import static org.junit.Assert.*;\r\n        \r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @ContextConfiguration(&quot;classpath:spring/test-config.xml&quot;)\r\n        @Transactional\r\n        public class GlobalValueDaoImplTest {\r\n        \r\n            @Autowired\r\n            private GlobalValueDaoImpl globalValueDao;\r\n        \r\n            @Before\r\n            public void cleanUp(){\r\n                globalValueDao.deleteAll(globalValueDao.findAll());\r\n            }\r\n        \r\n            @Test\r\n            public void testSaveSingleGlobalValue(){\r\n                GlobalValueEntry entry = new GlobalValueEntry(&quot;testkey&quot;,&quot;testvalue&quot;);\r\n                assertNotNull(globalValueDao.save(entry));\r\n            }\r\n    }\r\n\r\nfor some reason, although my hibernate config specify to scan the the package my entity is in, the scan return empty result. ( again only in case of junit, when the tomcat 10 is running the scan returns with a list of all the jakarta entites I have)\r\n\r\nthis is my hibernate config:\r\n \r\n\r\n       &lt;!-- Hibernate SessionFactory --&gt;\r\n        &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\r\n              depends-on=&quot;flyway&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n            &lt;property name=&quot;packagesToScan&quot; value=&quot;src.entities&quot;/&gt;\r\n            &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgresPlusDialect&lt;/prop&gt;\r\n                    &lt;prop key=&quot;configurationClass&quot;&gt;org.hibernate.cfg.Configuration&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;true&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.default_schema&quot;&gt;${db.username}&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n\r\nany ideas? ","title":"JUnit doesn&#39;t scan Jakarta entities","body":"<p>I have a java(8) application running with Tomcat 10, Spring 5.3.22, hibernate 5.6.10.Final and jakarta.persistence 3.0.0\nI'm using jakarta entities due to my tomcat 10.</p>\n<p>entity for example:</p>\n<pre><code>import jakarta.persistence.*;\n@Entity\n@Table(name=&quot;GLOBAL_VALUES&quot;)\npublic class GlobalValueEntry extends BaseEntry {\n\n    private String key;\n    private String value;\n\n    public GlobalValueEntry(){\n    }\n\n    public GlobalValueEntry(String key, String value){\n        this.key = key;\n        this.value = value;\n    }\n\n    @Column(name = &quot;KEY_STRING&quot;,unique = true, nullable = false)\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    @Column(name = &quot;VALUE&quot;)\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n<p>My app runs properly meaning the web server is up and I can perform actions such as saving and updating using the entity above but when I try to preform the same action via junit, it fails due to</p>\n<pre><code>org.hibernate.MappingException: Unknown entity: com.imperva.itp.domain.globalvalues.GlobalValueEntry\n</code></pre>\n<p>the junit code:</p>\n<pre><code>    import org.junit.Before;\n    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.test.context.ContextConfiguration;\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n    import org.springframework.transaction.annotation.Transactional;\n    \n    import java.util.Date;\n    \n    import static org.junit.Assert.*;\n    \n    @RunWith(SpringJUnit4ClassRunner.class)\n    @ContextConfiguration(&quot;classpath:spring/test-config.xml&quot;)\n    @Transactional\n    public class GlobalValueDaoImplTest {\n    \n        @Autowired\n        private GlobalValueDaoImpl globalValueDao;\n    \n        @Before\n        public void cleanUp(){\n            globalValueDao.deleteAll(globalValueDao.findAll());\n        }\n    \n        @Test\n        public void testSaveSingleGlobalValue(){\n            GlobalValueEntry entry = new GlobalValueEntry(&quot;testkey&quot;,&quot;testvalue&quot;);\n            assertNotNull(globalValueDao.save(entry));\n        }\n}\n</code></pre>\n<p>for some reason, although my hibernate config specify to scan the the package my entity is in, the scan return empty result. ( again only in case of junit, when the tomcat 10 is running the scan returns with a list of all the jakarta entites I have)</p>\n<p>this is my hibernate config:</p>\n<pre><code>   &lt;!-- Hibernate SessionFactory --&gt;\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\n          depends-on=&quot;flyway&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;src.entities&quot;/&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgresPlusDialect&lt;/prop&gt;\n                &lt;prop key=&quot;configurationClass&quot;&gt;org.hibernate.cfg.Configuration&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;true&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.default_schema&quot;&gt;${db.username}&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>any ideas?</p>\n"},{"tags":["java","java-stream","refactoring","jpql","collectors"],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661932592,"creation_date":1661932592,"answer_id":73552615,"question_id":73551941,"body_markdown":"Maybe you want to check out `Collections.filtering`. I tried to incorporate it into your solution and came up with a little bit more concise and efficient solution. But I have not tested it yet, sorry. Also note, that I returned the filtered objects as a `Set` instead of a `List`. Feel free to keep going with the `List` if that fits your need best. And please hit me up if it worked or you have any other questions.\r\n\r\n    Stream.of(tuple)\r\n            .collect(groupingBy(\r\n                record -&gt; (tuple.get(&quot;entity&quot;)),\r\n                mapping(record -&gt; (tuple.get(&quot;config_type&quot;)),\r\n                    Collectors.filtering(Objects::nonNull, Collectors.toSet()))\r\n            ));","title":"How to avoid getting null elements in list while collecting and grouping JPA Tuple to Map in Java?","body":"<p>Maybe you want to check out <code>Collections.filtering</code>. I tried to incorporate it into your solution and came up with a little bit more concise and efficient solution. But I have not tested it yet, sorry. Also note, that I returned the filtered objects as a <code>Set</code> instead of a <code>List</code>. Feel free to keep going with the <code>List</code> if that fits your need best. And please hit me up if it worked or you have any other questions.</p>\n<pre><code>Stream.of(tuple)\n        .collect(groupingBy(\n            record -&gt; (tuple.get(&quot;entity&quot;)),\n            mapping(record -&gt; (tuple.get(&quot;config_type&quot;)),\n                Collectors.filtering(Objects::nonNull, Collectors.toSet()))\n        ));\n</code></pre>\n"}],"owner":{"account_id":6295688,"reputation":347,"user_id":4891964,"accept_rate":67,"display_name":"Dawid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73552615,"answer_count":1,"score":1,"last_activity_date":1661932592,"creation_date":1661928902,"question_id":73551941,"body_markdown":"I have following JPQL statement:\r\n\r\n```sql\r\nselect e as entity, c.type as config_type \r\nfrom Entity e \r\n         left join Config c on e = c.entity \r\nwhere c.type = (select t from Type t where t.name = &#39;SHOP&#39;)\r\n```\r\n\r\nI want to collect this result to Map grouping by `Entity`. The value of map, should be List of config types. This list can be also empty if `Entity` doesn&#39;t have any config specified. I have already wrote some method which accomplishes the task: \r\n\r\n```java\r\npublic Map&lt;Entity, List&lt;ConfigType&gt;&gt; getGroupedEntityToConfigTypesMap() {\r\n    return em.createNamedQuery(Entity.NQ_GET_ENTITY_TO_CONFIG_TYPE, Tuple.class)\r\n        .getResultStream()\r\n        .collect(Collectors.groupingBy(\r\n            tuple -&gt; ((Entity) tuple.get(&quot;entity&quot;)),\r\n            Collectors.mapping(tuple -&gt; ((ConfigType) tuple.get(&quot;config_type&quot;)),\r\n                Collectors.collectingAndThen(Collectors.toList(), list -&gt;\r\n                    list.stream()\r\n                        .filter(Objects::nonNull)\r\n                        .collect(Collectors.toUnmodifiableList())))\r\n        ));\r\n}\r\n```\r\n\r\nFrom my point of view, it doesn&#39;t look so good because while collecting values, I have to iterate one more time through every List and check if this list doesn&#39;t contain only null value, thus it is not so efficient.\r\n\r\nIs there any better way to collect `Tuple` to `Map` with groupingBy more efficient and elegant than now? The goal is to collect also those entries which doesn&#39;t have any Configs but it should be mapped to empty list instead of `Lists.of(null);`.","title":"How to avoid getting null elements in list while collecting and grouping JPA Tuple to Map in Java?","body":"<p>I have following JPQL statement:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select e as entity, c.type as config_type \nfrom Entity e \n         left join Config c on e = c.entity \nwhere c.type = (select t from Type t where t.name = 'SHOP')\n</code></pre>\n<p>I want to collect this result to Map grouping by <code>Entity</code>. The value of map, should be List of config types. This list can be also empty if <code>Entity</code> doesn't have any config specified. I have already wrote some method which accomplishes the task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;Entity, List&lt;ConfigType&gt;&gt; getGroupedEntityToConfigTypesMap() {\n    return em.createNamedQuery(Entity.NQ_GET_ENTITY_TO_CONFIG_TYPE, Tuple.class)\n        .getResultStream()\n        .collect(Collectors.groupingBy(\n            tuple -&gt; ((Entity) tuple.get(&quot;entity&quot;)),\n            Collectors.mapping(tuple -&gt; ((ConfigType) tuple.get(&quot;config_type&quot;)),\n                Collectors.collectingAndThen(Collectors.toList(), list -&gt;\n                    list.stream()\n                        .filter(Objects::nonNull)\n                        .collect(Collectors.toUnmodifiableList())))\n        ));\n}\n</code></pre>\n<p>From my point of view, it doesn't look so good because while collecting values, I have to iterate one more time through every List and check if this list doesn't contain only null value, thus it is not so efficient.</p>\n<p>Is there any better way to collect <code>Tuple</code> to <code>Map</code> with groupingBy more efficient and elegant than now? The goal is to collect also those entries which doesn't have any Configs but it should be mapped to empty list instead of <code>Lists.of(null);</code>.</p>\n"},{"tags":["java","email","connection","protocols","sslhandshakeexception"],"answers":[{"tags":[],"owner":{"account_id":11916684,"reputation":11,"user_id":8720417,"display_name":"J&#246;rg Knura"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661932551,"creation_date":1661932551,"answer_id":73552603,"question_id":73552075,"body_markdown":"It seems like one need to tell which protocol to use:&lt;br&gt;\r\nFor pop3s the solution is:\r\n```\r\n    this.properties.put(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n```\r\nFor imaps the solution is:\r\n```\r\n    this.properties.put(&quot;mail.imaps.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n```\r\nThe remainig question is: Why are the TLSv1.2 and TLSv1.3 protocols disabled?","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate) without handshake","body":"<p>It seems like one need to tell which protocol to use:<br>\nFor pop3s the solution is:</p>\n<pre><code>    this.properties.put(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>For imaps the solution is:</p>\n<pre><code>    this.properties.put(&quot;mail.imaps.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>The remainig question is: Why are the TLSv1.2 and TLSv1.3 protocols disabled?</p>\n"}],"owner":{"account_id":11916684,"reputation":11,"user_id":8720417,"display_name":"J&#246;rg Knura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3072,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661932551,"creation_date":1661929690,"question_id":73552075,"body_markdown":"The problem occurs with JavaMail 1.5.0-b0 and several default installations of different JDK version on Windows 11.&lt;br&gt;\r\nJDK Versions:&lt;br&gt;\r\nOpenJDK 11 current release MSI installer,&lt;br&gt;\r\nOracle JDK 11 current release MSI Installer,&lt;br&gt;\r\nOracle JDK 18 current release MSI Installer.\r\n\r\n```\r\n    public Receiver(Proto proto, String host, int port) {\r\n        isConnected = false;\r\n        this.properties = new Properties();\r\n        this.properties.put(&quot;mail.host&quot;, host);\r\n\r\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl:handshake&quot;);\r\n        switch(proto) {\r\n        case POP3_SSL:\r\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;pop3s&quot;);\r\n            this.properties.put(&quot;mail.pop3s.port&quot;, port);\r\n            break;\r\n        case POP3:\r\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;pop3&quot;);\r\n            this.properties.put(&quot;mail.pop3.port&quot;, port);\r\n            break;\r\n        case IMAP_SSL:\r\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n            this.properties.put(&quot;mail.imaps.port&quot;, port);\r\n            break;\r\n        case IMAP:\r\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n            this.properties.put(&quot;mail.imap.port&quot;, port);\r\n            break;\r\n        }\r\n        this.properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n    }\r\n\r\n    public Receiver(Proto proto, String host) {\r\n        this(proto, host, proto.port);\r\n    }\r\n\r\n    public void connect(String username, String password) throws MessagingException {\r\n        Session session = javax.mail.Session.getInstance(properties);\r\n        store = session.getStore();\r\n        store.connect(username, password);\r\n        isConnected = true;\r\n    }\r\n```\r\n\r\nWhen after constructing the Receiver-Object the code tries to connect (whether we use pop3s or imaps):\r\n\r\n```\r\n\r\n    public class ReceiverTest \r\n    {\r\n        String imap_host = &quot;imaps.udag.de&quot;;\r\n        String pop3_host = &quot;pops.udag.de&quot;;\r\n        String mail_user = &quot;xxxxxxxxxxx&quot;;\r\n        String mail_password = &quot;xxxxxxxxxxx&quot;;\r\n    \r\n        @Test\r\n        public void ConnectionTest() {\r\n            try {\r\n                Receiver receiver = new Receiver(Receiver.Proto.POP3_SSL, pop3_host);\r\n                receiver.connect(mail_user, mail_password);\r\n            } catch(MessagingException e) {\r\n                assertTrue(e.getCause().toString(), false);\r\n            }\r\n            assertTrue( true );\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe result is always the same error-message.&lt;br&gt;\r\n\r\n\r\nUsing wireshark I captured some strange behaviour:&lt;br&gt;\r\n[Wireshark capture of the connection-try with imaps][1]\r\n\r\nAs one can see there is neither client nor server hello which means the protocols or ciphers are gone before negotiation - they were sorted out localy for some reason.\r\n\r\nThe same connection tried with OpenSSL:&lt;br&gt;\r\n[Wireshark capture of the connection with OpenSSL and imap][2]\r\n\r\nHere the debug-output from a pop3s-try:&lt;br&gt;\r\n```\r\n\r\n    DEBUG: JavaMail version 1.5.0-b01\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\n    DEBUG: Tables of loaded providers\r\n    DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\n    DEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n    DEBUG: getProvider() returning javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]\r\n    DEBUG POP3: mail.pop3s.rsetbeforequit: false\r\n    DEBUG POP3: mail.pop3s.disabletop: false\r\n    DEBUG POP3: mail.pop3s.forgettopheaders: false\r\n    DEBUG POP3: mail.pop3s.cachewriteto: false\r\n    DEBUG POP3: mail.pop3s.filecache.enable: false\r\n    DEBUG POP3: mail.pop3s.keepmessagecontent: false\r\n    DEBUG POP3: mail.pop3s.starttls.enable: false\r\n    DEBUG POP3: mail.pop3s.starttls.required: false\r\n    DEBUG POP3: mail.pop3s.apop.enable: false\r\n    DEBUG POP3: mail.pop3s.disablecapa: false\r\n    DEBUG POP3: connecting to host &quot;pops.udag.de&quot;, port 995, isSSL true\r\n    javax.net.ssl|DEBUG|10|main|2022-08-30 18:12:15.162 CEST|SSLCipher.java:466|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n    javax.net.ssl|ERROR|10|main|2022-08-30 18:12:15.280 CEST|TransportContext.java:363|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n    &quot;throwable&quot; : {\r\n      javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n      \tat java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:172)\r\n      \tat java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:103)\r\n      \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:240)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:448)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n      \tat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:527)\r\n      \tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:332)\r\n      \tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:234)\r\n      \tat com.sun.mail.pop3.Protocol.&lt;init&gt;(Protocol.java:112)\r\n      \tat com.sun.mail.pop3.POP3Store.getPort(POP3Store.java:260)\r\n      \tat com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:205)\r\n      \tat javax.mail.Service.connect(Service.java:295)\r\n      \tat javax.mail.Service.connect(Service.java:176)\r\n      \tat javax.mail.Service.connect(Service.java:196)\r\n      \tat de.computils.mailbox.Receiver.connect(Receiver.java:69)\r\n      \tat de.computils.ReceiverTest.ConnectionTest(ReceiverTest.java:26)\r\n      \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n      \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n      \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n      \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n      \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n      \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n      \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n      \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n      \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n      \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n      \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n      \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n      \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n      \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n      \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n      \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n      \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n      \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n      \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n      \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n      \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)}\r\n    \r\n    )\r\n    javax.net.ssl|DEBUG|10|main|2022-08-30 18:12:15.280 CEST|SSLSocketImpl.java:1754|close the underlying socket\r\n    javax.net.ssl|DEBUG|10|main|2022-08-30 18:12:15.280 CEST|SSLSocketImpl.java:1780|close the SSL connection (passive)\r\n\r\n```\r\n\r\nWho knows how (without disabling ssl/tls) to circumvent or solve this problem?\r\nWho experienced similar problems?\r\n\r\n  [1]: https://i.stack.imgur.com/AU73P.png\r\n  [2]: https://i.stack.imgur.com/vnZBf.png\r\n","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate) without handshake","body":"<p>The problem occurs with JavaMail 1.5.0-b0 and several default installations of different JDK version on Windows 11.<br>\nJDK Versions:<br>\nOpenJDK 11 current release MSI installer,<br>\nOracle JDK 11 current release MSI Installer,<br>\nOracle JDK 18 current release MSI Installer.</p>\n<pre><code>    public Receiver(Proto proto, String host, int port) {\n        isConnected = false;\n        this.properties = new Properties();\n        this.properties.put(&quot;mail.host&quot;, host);\n\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl:handshake&quot;);\n        switch(proto) {\n        case POP3_SSL:\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;pop3s&quot;);\n            this.properties.put(&quot;mail.pop3s.port&quot;, port);\n            break;\n        case POP3:\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;pop3&quot;);\n            this.properties.put(&quot;mail.pop3.port&quot;, port);\n            break;\n        case IMAP_SSL:\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n            this.properties.put(&quot;mail.imaps.port&quot;, port);\n            break;\n        case IMAP:\n            this.properties.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n            this.properties.put(&quot;mail.imap.port&quot;, port);\n            break;\n        }\n        this.properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n    }\n\n    public Receiver(Proto proto, String host) {\n        this(proto, host, proto.port);\n    }\n\n    public void connect(String username, String password) throws MessagingException {\n        Session session = javax.mail.Session.getInstance(properties);\n        store = session.getStore();\n        store.connect(username, password);\n        isConnected = true;\n    }\n</code></pre>\n<p>When after constructing the Receiver-Object the code tries to connect (whether we use pop3s or imaps):</p>\n<pre><code>\n    public class ReceiverTest \n    {\n        String imap_host = &quot;imaps.udag.de&quot;;\n        String pop3_host = &quot;pops.udag.de&quot;;\n        String mail_user = &quot;xxxxxxxxxxx&quot;;\n        String mail_password = &quot;xxxxxxxxxxx&quot;;\n    \n        @Test\n        public void ConnectionTest() {\n            try {\n                Receiver receiver = new Receiver(Receiver.Proto.POP3_SSL, pop3_host);\n                receiver.connect(mail_user, mail_password);\n            } catch(MessagingException e) {\n                assertTrue(e.getCause().toString(), false);\n            }\n            assertTrue( true );\n        }\n    }\n\n</code></pre>\n<p>The result is always the same error-message.<br></p>\n<p>Using wireshark I captured some strange behaviour:<br>\n<a href=\"https://i.stack.imgur.com/AU73P.png\" rel=\"nofollow noreferrer\">Wireshark capture of the connection-try with imaps</a></p>\n<p>As one can see there is neither client nor server hello which means the protocols or ciphers are gone before negotiation - they were sorted out localy for some reason.</p>\n<p>The same connection tried with OpenSSL:<br>\n<a href=\"https://i.stack.imgur.com/vnZBf.png\" rel=\"nofollow noreferrer\">Wireshark capture of the connection with OpenSSL and imap</a></p>\n<p>Here the debug-output from a pop3s-try:<br></p>\n<pre><code>\n    DEBUG: JavaMail version 1.5.0-b01\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.providers\n    DEBUG: Tables of loaded providers\n    DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\n    DEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\n    DEBUG: getProvider() returning javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]\n    DEBUG POP3: mail.pop3s.rsetbeforequit: false\n    DEBUG POP3: mail.pop3s.disabletop: false\n    DEBUG POP3: mail.pop3s.forgettopheaders: false\n    DEBUG POP3: mail.pop3s.cachewriteto: false\n    DEBUG POP3: mail.pop3s.filecache.enable: false\n    DEBUG POP3: mail.pop3s.keepmessagecontent: false\n    DEBUG POP3: mail.pop3s.starttls.enable: false\n    DEBUG POP3: mail.pop3s.starttls.required: false\n    DEBUG POP3: mail.pop3s.apop.enable: false\n    DEBUG POP3: mail.pop3s.disablecapa: false\n    DEBUG POP3: connecting to host &quot;pops.udag.de&quot;, port 995, isSSL true\n    javax.net.ssl|DEBUG|10|main|2022-08-30 18:12:15.162 CEST|SSLCipher.java:466|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\n    javax.net.ssl|ERROR|10|main|2022-08-30 18:12:15.280 CEST|TransportContext.java:363|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n    &quot;throwable&quot; : {\n      javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n        at java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:172)\n        at java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:103)\n        at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:240)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:448)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n        at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:527)\n        at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:332)\n        at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:234)\n        at com.sun.mail.pop3.Protocol.&lt;init&gt;(Protocol.java:112)\n        at com.sun.mail.pop3.POP3Store.getPort(POP3Store.java:260)\n        at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:205)\n        at javax.mail.Service.connect(Service.java:295)\n        at javax.mail.Service.connect(Service.java:176)\n        at javax.mail.Service.connect(Service.java:196)\n        at de.computils.mailbox.Receiver.connect(Receiver.java:69)\n        at de.computils.ReceiverTest.ConnectionTest(ReceiverTest.java:26)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)}\n    \n    )\n    javax.net.ssl|DEBUG|10|main|2022-08-30 18:12:15.280 CEST|SSLSocketImpl.java:1754|close the underlying socket\n    javax.net.ssl|DEBUG|10|main|2022-08-30 18:12:15.280 CEST|SSLSocketImpl.java:1780|close the SSL connection (passive)\n\n</code></pre>\n<p>Who knows how (without disabling ssl/tls) to circumvent or solve this problem?\nWho experienced similar problems?</p>\n"},{"tags":["java","string","concatenation"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1661676826,"post_id":73517271,"comment_id":129824553,"body_markdown":"`&quot;$&quot; + &quot;...&quot; + &quot;...&quot;`!? Or just have the plain string since there is nothing dynamic in the string anyway. Or [`join`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-)","body":"<code>&quot;$&quot; + &quot;...&quot; + &quot;...&quot;</code>!? Or just have the plain string since there is nothing dynamic in the string anyway. Or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\"><code>join</code></a>"},{"owner":{"account_id":1525755,"reputation":12092,"user_id":1424244,"accept_rate":82,"display_name":"IS4"},"score":1,"creation_date":1661677045,"post_id":73517271,"comment_id":129824589,"body_markdown":"What&#39;s wrong with `&quot;$.&quot; + start + &quot;.&quot; + params + …` (assuming those are actually variables)?","body":"What&#39;s wrong with <code>&quot;$.&quot; + start + &quot;.&quot; + params + …</code> (assuming those are actually variables)?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661679830,"creation_date":1661676803,"answer_id":73517288,"question_id":73517271,"body_markdown":"It seems like you&#39;re looking for Java 8 method [`String.join(delimiter,elements)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)), which expects a delimiter of type `CharSequence` as the first argument and varargs of `CharSequence` elements.\r\n\r\n```\r\nString s = String.join(&quot;.&quot;, &quot;$&quot;, &quot;vars&quot;, &quot;start&quot;, &quot;params&quot;, &quot;operations&quot;, &quot;values&quot;);\r\n```","title":"How to concat these Strings effectively in Java 8?","body":"<p>It seems like you're looking for Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\"><code>String.join(delimiter,elements)</code></a>, which expects a delimiter of type <code>CharSequence</code> as the first argument and varargs of <code>CharSequence</code> elements.</p>\n<pre><code>String s = String.join(&quot;.&quot;, &quot;$&quot;, &quot;vars&quot;, &quot;start&quot;, &quot;params&quot;, &quot;operations&quot;, &quot;values&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661932448,"creation_date":1661685797,"answer_id":73518234,"question_id":73517271,"body_markdown":"Never ever use `concat` like this. It is bound to be less efficient than the code the compiler generates when using `+`. Even worse, the code as shown (using only String literals) would have been replaced with a single string literal **at compile time** if you had been using `+` instead of `concat`. There is almost never a good reason to use `concat` (I don&#39;t believe I have ever used it, but maybe it could be useful as a method reference in a reduce operation).\r\n\r\nIn general, unless you are concatenating in a loop, simply using `+` will get you the most (or at least relatively good) performant code. When you do have a loop, consider using a `StringBuilder`.","title":"How to concat these Strings effectively in Java 8?","body":"<p>Never ever use <code>concat</code> like this. It is bound to be less efficient than the code the compiler generates when using <code>+</code>. Even worse, the code as shown (using only String literals) would have been replaced with a single string literal <strong>at compile time</strong> if you had been using <code>+</code> instead of <code>concat</code>. There is almost never a good reason to use <code>concat</code> (I don't believe I have ever used it, but maybe it could be useful as a method reference in a reduce operation).</p>\n<p>In general, unless you are concatenating in a loop, simply using <code>+</code> will get you the most (or at least relatively good) performant code. When you do have a loop, consider using a <code>StringBuilder</code>.</p>\n"},{"tags":[],"owner":{"account_id":23361332,"reputation":11,"user_id":17433501,"display_name":"Chris Burgos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661903673,"creation_date":1661903673,"answer_id":73549553,"question_id":73517271,"body_markdown":"Do you have a reason for using .concat? In this case, you would approach this by using something like `&quot;$&quot;+&quot;...&quot; etc.` \r\n\r\n\r\nIf you wanted to add a dynamic approach, I would recommend using variables instead. It would look like\r\n\r\n    String s = variable1 + variable2 + variable; \r\nIf you are looking for something a bit more than there is also the [String.join][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)","title":"How to concat these Strings effectively in Java 8?","body":"<p>Do you have a reason for using .concat? In this case, you would approach this by using something like <code>&quot;$&quot;+&quot;...&quot; etc.</code></p>\n<p>If you wanted to add a dynamic approach, I would recommend using variables instead. It would look like</p>\n<pre><code>String s = variable1 + variable2 + variable; \n</code></pre>\n<p>If you are looking for something a bit more than there is also the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">String.join</a></p>\n"}],"owner":{"account_id":275128,"reputation":6815,"user_id":567797,"accept_rate":75,"display_name":"station"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1661932448,"creation_date":1661676597,"question_id":73517271,"body_markdown":"I need a string as follows.\r\n\r\n```s = &quot;$.vars.start.params.operations.values&quot;```\r\n\r\nI&#39;ve tried to write it like this: \r\n\r\n```\r\nString s = &quot;$&quot;.concat(&quot;.&quot;).concat(&quot;start&quot;).concat(&quot;.&quot;).concat(&quot;params&quot;).concat(&quot;.&quot;).\r\nconcat(&quot;operations&quot;).concat(&quot;.&quot;).concat(&quot;values&quot;);\r\n```\r\n\r\nThere&#39;s a chain of `concat` operations.\r\n\r\nIs there a better way of doing this?","title":"How to concat these Strings effectively in Java 8?","body":"<p>I need a string as follows.</p>\n<p><code>s = &quot;$.vars.start.params.operations.values&quot;</code></p>\n<p>I've tried to write it like this:</p>\n<pre><code>String s = &quot;$&quot;.concat(&quot;.&quot;).concat(&quot;start&quot;).concat(&quot;.&quot;).concat(&quot;params&quot;).concat(&quot;.&quot;).\nconcat(&quot;operations&quot;).concat(&quot;.&quot;).concat(&quot;values&quot;);\n</code></pre>\n<p>There's a chain of <code>concat</code> operations.</p>\n<p>Is there a better way of doing this?</p>\n"},{"tags":["java","git","file","download"],"comments":[{"owner":{"account_id":22089978,"reputation":142,"user_id":16348170,"display_name":"hidden_machine"},"score":0,"creation_date":1637134109,"post_id":69999938,"comment_id":123741372,"body_markdown":"you could also access git from a shell through java","body":"you could also access git from a shell through java"}],"answers":[{"tags":[],"owner":{"account_id":13611211,"reputation":51,"user_id":16383444,"display_name":"PartyPancakes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637132321,"creation_date":1637132321,"answer_id":70000067,"question_id":69999938,"body_markdown":"Check out JGit: https://www.eclipse.org/jgit/.\r\nThe code should be something like:\r\n```\r\nGit.cloneRepository()\r\n        .setURI(&quot;https://github.com/...&quot;)\r\n        .setDirectory(Paths.get(&quot;/path/to/local/&quot;).toFile())\r\n        .call(); \r\n```","title":"How to download files from Git Repository using Java code","body":"<p>Check out JGit: <a href=\"https://www.eclipse.org/jgit/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jgit/</a>.\nThe code should be something like:</p>\n<pre><code>Git.cloneRepository()\n        .setURI(&quot;https://github.com/...&quot;)\n        .setDirectory(Paths.get(&quot;/path/to/local/&quot;).toFile())\n        .call(); \n</code></pre>\n"}],"owner":{"account_id":11986798,"reputation":21,"user_id":8771114,"display_name":"sekhar reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1658,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1661931966,"creation_date":1637131498,"question_id":69999938,"body_markdown":"I have to download files from Git hub and store them in local file system using java. Can somebody tell me if there is any api to do that?","title":"How to download files from Git Repository using Java code","body":"<p>I have to download files from Git hub and store them in local file system using java. Can somebody tell me if there is any api to do that?</p>\n"},{"tags":["java","variables","memory","interface"],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661929065,"creation_date":1661929065,"answer_id":73551967,"question_id":73551826,"body_markdown":"Static fields are stored once within their class or interface, they are not duplicated in every instance","title":"If a class inherits from an interface, does the class independently store the interfaces variables as well?","body":"<p>Static fields are stored once within their class or interface, they are not duplicated in every instance</p>\n"}],"owner":{"account_id":24089279,"reputation":1,"user_id":18062779,"display_name":"Adrian Olguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661931903,"answer_count":1,"score":0,"last_activity_date":1661931876,"creation_date":1661928276,"question_id":73551826,"body_markdown":"Recently, I was trying to use interfaces to store some information which I needed to use globally. Initially, I was going to make every class which needed the information implement this interface to access the data. However, I eventually realized the enormously better solution of using the fact that variables are final and static to just get the data from a static call.\r\n\r\nThrough this journey I now have a question. When a class implements an interface with variables, does each class independently store the variables in new memory, or does it just get stored once in the interface. Kind of a weird question which I couldn&#39;t find an answer to.","title":"If a class inherits from an interface, does the class independently store the interfaces variables as well?","body":"<p>Recently, I was trying to use interfaces to store some information which I needed to use globally. Initially, I was going to make every class which needed the information implement this interface to access the data. However, I eventually realized the enormously better solution of using the fact that variables are final and static to just get the data from a static call.</p>\n<p>Through this journey I now have a question. When a class implements an interface with variables, does each class independently store the variables in new memory, or does it just get stored once in the interface. Kind of a weird question which I couldn't find an answer to.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"score":0,"creation_date":1661842063,"post_id":73537877,"comment_id":129860587,"body_markdown":"can you please provide full stacktrace?","body":"can you please provide full stacktrace?"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1661843411,"post_id":73537877,"comment_id":129861006,"body_markdown":"Can you add the `entity` class code? Based on the error it is expecting an `@Id` member in the entity class","body":"Can you add the <code>entity</code> class code? Based on the error it is expecting an <code>@Id</code> member in the entity class"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661860772,"post_id":73537877,"comment_id":129867331,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25463405,"reputation":16,"user_id":19262829,"display_name":"Vaibhav Ambule"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661931564,"creation_date":1661851841,"answer_id":73540142,"question_id":73537877,"body_markdown":"I had the same problem.\r\nIn my case,its because of wrong @Id annotation import.\r\nIt should be :- import javax.persistence.Id;\r\n\r\n\r\nref:-(https://stackoverflow.com/a/15323836/19262829)","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource.No identifier specified for entity:","body":"<p>I had the same problem.\nIn my case,its because of wrong @Id annotation import.\nIt should be :- import javax.persistence.Id;</p>\n<p>ref:-(<a href=\"https://stackoverflow.com/a/15323836/19262829\">https://stackoverflow.com/a/15323836/19262829</a>)</p>\n"}],"owner":{"account_id":26195149,"reputation":3,"user_id":19876358,"display_name":"svb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662185353,"accepted_answer_id":73540142,"answer_count":1,"score":0,"last_activity_date":1661931564,"creation_date":1661840082,"question_id":73537877,"body_markdown":"Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity:","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource.No identifier specified for entity:","body":"<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity:</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"score":0,"creation_date":1661887833,"post_id":73546929,"comment_id":129877818,"body_markdown":"@TheImpaler yes, I need if the field was quantity_total = 10, quantity_ordered = 2 then quantity_available = 8. In the future, by changing quantity_ordered, the quantity_available field should be recalculated, for example, quantity_ordered = 3 then quantity_available = 7","body":"@TheImpaler yes, I need if the field was quantity_total = 10, quantity_ordered = 2 then quantity_available = 8. In the future, by changing quantity_ordered, the quantity_available field should be recalculated, for example, quantity_ordered = 3 then quantity_available = 7"},{"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"score":0,"creation_date":1661888360,"post_id":73546929,"comment_id":129877977,"body_markdown":"@TheImpaler and how can I solve this problem? as I understand it, if the value in the availibale_quantity field was null, then everything was fine, but now I can&#39;t change this field because it can&#39;t be set by the application","body":"@TheImpaler and how can I solve this problem? as I understand it, if the value in the availibale_quantity field was null, then everything was fine, but now I can&#39;t change this field because it can&#39;t be set by the application"},{"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"score":0,"creation_date":1661889013,"post_id":73546929,"comment_id":129878205,"body_markdown":"@TheImpaler is this required to be performed at the DB level using a trigger ?","body":"@TheImpaler is this required to be performed at the DB level using a trigger ?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1661889319,"post_id":73546929,"comment_id":129878293,"body_markdown":"Well, you need to show us this &quot;some logic&quot; you are doing.","body":"Well, you need to show us this &quot;some logic&quot; you are doing."},{"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"score":0,"creation_date":1661889530,"post_id":73546929,"comment_id":129878356,"body_markdown":"@a_horse_with_no_name it&#39;s simple   productsRegions.forEach(x-&gt;x.setQuantityOrdered((int) (x.getQuantityOrdered() + productIdAndQuantityOrdered.get(x.getProductsRegionsId().getProductId())))); I get the existing ordered_quantity and write the existing ordered_quantity + quantity there","body":"@a_horse_with_no_name it&#39;s simple   productsRegions.forEach(x-&gt;x.setQuantityOrdered((int) (x.getQuantityOrdered() + productIdAndQuantityOrdered.get(x.getProductsRegionsId().get&zwnj;&#8203;ProductId())))); I get the existing ordered_quantity and write the existing ordered_quantity + quantity there"},{"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"score":0,"creation_date":1661923012,"post_id":73546929,"comment_id":129883923,"body_markdown":"@LaurenzAlbe From the PostgreSQL documentation, the saved generated column is calculated when writing (adding or changing) and takes up space in the table in the same way as a regular column.  I only have a condition field","body":"@LaurenzAlbe From the PostgreSQL documentation, the saved generated column is calculated when writing (adding or changing) and takes up space in the table in the same way as a regular column.  I only have a condition field"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661926098,"post_id":73546929,"comment_id":129884558,"body_markdown":"@dadesyatnikov are you using ORM? which one?","body":"@dadesyatnikov are you using ORM? which one?"},{"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"score":0,"creation_date":1661926345,"post_id":73546929,"comment_id":129884612,"body_markdown":"@AndreyB.Panfilov using hibernate","body":"@AndreyB.Panfilov using hibernate"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661926533,"post_id":73546929,"comment_id":129884649,"body_markdown":"mark available_quantity column as `@Column(..., updatable = false, insertable = false)`","body":"mark available_quantity column as <code>@Column(..., updatable = false, insertable = false)</code>"},{"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"score":0,"creation_date":1661926663,"post_id":73546929,"comment_id":129884686,"body_markdown":"@AndreyB.Panfilov yes, I found it a couple of minutes ago, if it eventually works, I&#39;ll write it down , thanks","body":"@AndreyB.Panfilov yes, I found it a couple of minutes ago, if it eventually works, I&#39;ll write it down , thanks"}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218378,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661924640,"creation_date":1661924640,"answer_id":73551330,"question_id":73546929,"body_markdown":"You cannot modify a generated column. [The documentation](https://www.postgresql.org/docs/current/ddl-generated-columns.html) is pretty clear about that:\r\n\r\n&gt; A generated column cannot be written to directly. In `INSERT` or `UPDATE` commands, a value cannot be specified for a generated column, but the keyword `DEFAULT` may be specified.\r\n\r\nUse a regular column and fill it with a trigger during `INSERT`.","title":"The value in the generated column does not change","body":"<p>You cannot modify a generated column. <a href=\"https://www.postgresql.org/docs/current/ddl-generated-columns.html\" rel=\"nofollow noreferrer\">The documentation</a> is pretty clear about that:</p>\n<blockquote>\n<p>A generated column cannot be written to directly. In <code>INSERT</code> or <code>UPDATE</code> commands, a value cannot be specified for a generated column, but the keyword <code>DEFAULT</code> may be specified.</p>\n</blockquote>\n<p>Use a regular column and fill it with a trigger during <code>INSERT</code>.</p>\n"},{"tags":[],"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661931431,"creation_date":1661931431,"answer_id":73552398,"question_id":73546929,"body_markdown":"The solution has been found.  \r\nIf there is a calculated field in the Postgresql database and ORM Hibernate, then at the entity level it is required to specify an  \r\n@Column for this field (name = &quot;your name&quot;, inserted = false, updated = false). ","title":"The value in the generated column does not change","body":"<p>The solution has been found.<br />\nIf there is a calculated field in the Postgresql database and ORM Hibernate, then at the entity level it is required to specify an<br />\n@Column for this field (name = &quot;your name&quot;, inserted = false, updated = false).</p>\n"}],"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73552398,"answer_count":2,"score":0,"last_activity_date":1661931431,"creation_date":1661883680,"question_id":73546929,"body_markdown":"I created the generated column &quot;available_quantity&quot; - \r\n\r\n    alter table products_regions \r\n      add column available_quantity int8 \r\n      GENERATED ALWAYS AS (quantity_total - quantity_ordered) STORED;  \r\n\r\nWhen performing some logic, only the &quot;quantity_ordered&quot; column changes.    \r\nBut I get an \r\n\r\n&gt; ERROR: the column &quot;available_quantity&quot; can only be assigned the DEFAULT value. The column &quot;available_quantity&quot; is generated.  \r\n\r\nI don&#39;t write anything directly into this field.  \r\nIf you change the &quot;quantity_ordered&quot; field in the database manually, then &quot;available_quantity&quot; is calculated  \r\n\r\nHow can I solve the problem?\r\n\r\n","title":"The value in the generated column does not change","body":"<p>I created the generated column &quot;available_quantity&quot; -</p>\n<pre><code>alter table products_regions \n  add column available_quantity int8 \n  GENERATED ALWAYS AS (quantity_total - quantity_ordered) STORED;  \n</code></pre>\n<p>When performing some logic, only the &quot;quantity_ordered&quot; column changes.<br />\nBut I get an</p>\n<blockquote>\n<p>ERROR: the column &quot;available_quantity&quot; can only be assigned the DEFAULT value. The column &quot;available_quantity&quot; is generated.</p>\n</blockquote>\n<p>I don't write anything directly into this field.<br />\nIf you change the &quot;quantity_ordered&quot; field in the database manually, then &quot;available_quantity&quot; is calculated</p>\n<p>How can I solve the problem?</p>\n"},{"tags":["java","arrays","excel","spring","jxl"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1661868026,"post_id":73541216,"comment_id":129870469,"body_markdown":"What do they byte arrays contain and in what way do you want to convert them to excel?","body":"What do they byte arrays contain and in what way do you want to convert them to excel?"},{"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"score":0,"creation_date":1661871720,"post_id":73541216,"comment_id":129872048,"body_markdown":"Hi, thanks. Each byte array is an excel file. I get they from a rest api, they&#39;re xls files. I can get they with foreach.","body":"Hi, thanks. Each byte array is an excel file. I get they from a rest api, they&#39;re xls files. I can get they with foreach."}],"answers":[{"tags":[],"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661931262,"creation_date":1661931262,"answer_id":73552374,"question_id":73541216,"body_markdown":"I write it\r\n\r\n\r\nmy code:\r\n```\r\nByteArrayOutputStream outputStream = new ByteArrayOutputStream(20000000);\r\n\r\nString resultBase64 = reportApplicationService.fetchReportExcel(...);\r\nbyte[] excel = base64.decode( resultBase64 );\r\n\r\noutputStream.write(excel);\r\noutputStream.flush();\r\n\r\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=name.xls&quot;);\r\nresponse.setContentType(&quot;application/vnd.ms-excel&quot;);\r\nresponse.setContentLength((int) outputStream.size());\r\nStreamUtils.copy(new ByteArrayInputStream(outputStream.toByteArray()), response.getOutputStream());\r\n```","title":"how to convert byte array to excel file in spring boot","body":"<p>I write it</p>\n<p>my code:</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream(20000000);\n\nString resultBase64 = reportApplicationService.fetchReportExcel(...);\nbyte[] excel = base64.decode( resultBase64 );\n\noutputStream.write(excel);\noutputStream.flush();\n\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=name.xls&quot;);\nresponse.setContentType(&quot;application/vnd.ms-excel&quot;);\nresponse.setContentLength((int) outputStream.size());\nStreamUtils.copy(new ByteArrayInputStream(outputStream.toByteArray()), response.getOutputStream());\n</code></pre>\n"}],"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73552374,"answer_count":1,"score":0,"last_activity_date":1661931347,"creation_date":1661856625,"question_id":73541216,"body_markdown":"I want to create an excel file from byte[]. and I&#39;m using ```jxl``` library in spring boot.\r\nI need a file with ```XLS``` format, convert to Base64 and return that.\r\n\r\n```\r\nByteArrayOutputStream outputStream = new ByteArrayOutputStream(20000000);\r\nWritableWorkbook workbook = Workbook.createWorkbook(outputStream);\r\n\r\n...\r\n\r\nString resultBase64 = reportService.fetchReportExcel(...);\r\nbyte[] excel = base64.decode( resultBase64 );\r\n```\r\n\r\nI have many byte arrays and I need to write btye arrays in many sheets of an excel file too, if it&#39;s possible.\r\nthanks","title":"how to convert byte array to excel file in spring boot","body":"<p>I want to create an excel file from byte[]. and I'm using <code>jxl</code> library in spring boot.\nI need a file with <code>XLS</code> format, convert to Base64 and return that.</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream(20000000);\nWritableWorkbook workbook = Workbook.createWorkbook(outputStream);\n\n...\n\nString resultBase64 = reportService.fetchReportExcel(...);\nbyte[] excel = base64.decode( resultBase64 );\n</code></pre>\n<p>I have many byte arrays and I need to write btye arrays in many sheets of an excel file too, if it's possible.\nthanks</p>\n"},{"tags":["java","excel","spring","zip"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661927240,"post_id":73551595,"comment_id":129884838,"body_markdown":"So the String `result` is a base64 encoded zip file? In that case you&#39;ll need to call `z.getNextEntry()` before you try to read from it.","body":"So the String <code>result</code> is a base64 encoded zip file? In that case you&#39;ll need to call <code>z.getNextEntry()</code> before you try to read from it."},{"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"score":0,"creation_date":1661928022,"post_id":73551595,"comment_id":129885050,"body_markdown":"hello, no, result is a base64 encoded file (byte array). I need to convert the file (byte array) to a zip file.","body":"hello, no, result is a base64 encoded file (byte array). I need to convert the file (byte array) to a zip file."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661928062,"post_id":73551595,"comment_id":129885062,"body_markdown":"If you aren&#39;t reading zipped data, don&#39;t use `ZipInputStream`.","body":"If you aren&#39;t reading zipped data, don&#39;t use <code>ZipInputStream</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661929021,"post_id":73551595,"comment_id":129885367,"body_markdown":"Just use your existing `ByteArrayInputStream` without wrapping it.","body":"Just use your existing <code>ByteArrayInputStream</code> without wrapping it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661929075,"post_id":73551595,"comment_id":129885376,"body_markdown":"And perhaps you shouldn&#39;t read its contents into the same byte array!","body":"And perhaps you shouldn&#39;t read its contents into the same byte array!"}],"answers":[{"tags":[],"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661930987,"creation_date":1661929416,"answer_id":73552033,"question_id":73551595,"body_markdown":"I find it in [here][1] . I changed my code :\r\n```\r\nresult = reportApplicationService.fetchReportExcel(id, periodId, compareId1, compareId2, branches);\r\n\r\nif (result != null) {\r\n\r\n\tbyte[] excel = base64.decode( result );\r\n\r\n\tZipEntry entry = new ZipEntry(&quot;z.xls&quot;);\r\n\tentry.setSize(excel.length);\r\n\tzip.putNextEntry(entry);\r\n\tzip.write(excel);\r\n\tzip.closeEntry();\r\n\r\n\tzip.close();\r\n\toutputStream.flush();\r\n\r\n\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=name.zip&quot;);\r\n\tresponse.setContentType(&quot;application/zip&quot;);\r\n\tresponse.setContentLength((int) outputStream.size());\r\n\tStreamUtils.copy(new ByteArrayInputStream(outputStream.toByteArray()), response.getOutputStream());\r\n\r\n}\r\n```\r\n\r\ncreate a file with ```z.xls``` name into ```name.zip```.\r\n\r\n  [1]: https://www.codegrepper.com/code-examples/java/byte+array+to+zip+java","title":"how to convert byte array to zip file in SPring boot","body":"<p>I find it in <a href=\"https://www.codegrepper.com/code-examples/java/byte+array+to+zip+java\" rel=\"nofollow noreferrer\">here</a> . I changed my code :</p>\n<pre><code>result = reportApplicationService.fetchReportExcel(id, periodId, compareId1, compareId2, branches);\n\nif (result != null) {\n\n    byte[] excel = base64.decode( result );\n\n    ZipEntry entry = new ZipEntry(&quot;z.xls&quot;);\n    entry.setSize(excel.length);\n    zip.putNextEntry(entry);\n    zip.write(excel);\n    zip.closeEntry();\n\n    zip.close();\n    outputStream.flush();\n\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=name.zip&quot;);\n    response.setContentType(&quot;application/zip&quot;);\n    response.setContentLength((int) outputStream.size());\n    StreamUtils.copy(new ByteArrayInputStream(outputStream.toByteArray()), response.getOutputStream());\n\n}\n</code></pre>\n<p>create a file with <code>z.xls</code> name into <code>name.zip</code>.</p>\n"}],"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73552033,"answer_count":1,"score":-1,"last_activity_date":1661931294,"creation_date":1661926665,"question_id":73551595,"body_markdown":"I need to convert array byte to zip file. but my out put is a empty zip file. I don&#39;t understand that. \r\n\r\nI get help from [here][1]\r\n\r\nmy code is:\r\n```\r\nString resultBase64  = reportApplicationService.fetchReportExcel(...);\r\n\r\nif (resultBase64 != null) {\r\n\t\r\n\tbyte[] excel = base64.decode( resultBase64 );\r\n\t\r\n\tZipInputStream z = new ZipInputStream(new ByteArrayInputStream(excel));\r\n\tint length;\r\n\twhile ((length = z.read(excel)) &gt; 0) {\r\n\t\tzip.write(excel, 0, length);\r\n\t}\r\n\r\n\tzip.closeEntry();\r\n\tzip.finish();\r\n\tz.close();\r\n\r\n\tzip.close();\r\n\toutputStream.flush();\r\n\t\r\n\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=name.zip&quot;);\r\n\tresponse.setContentType(&quot;application/zip&quot;);\r\n\tresponse.setContentLength((int) outputStream.size());\r\n\tStreamUtils.copy(new ByteArrayInputStream(outputStream.toByteArray()), response.getOutputStream());\r\n\t\r\n}\r\n```\r\n\r\nthe ```z.read(excel)``` is -1\r\n\r\nthanks\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/javazip/javazip_zipoutputstream_write.htm","title":"how to convert byte array to zip file in SPring boot","body":"<p>I need to convert array byte to zip file. but my out put is a empty zip file. I don't understand that.</p>\n<p>I get help from <a href=\"https://www.tutorialspoint.com/javazip/javazip_zipoutputstream_write.htm\" rel=\"nofollow noreferrer\">here</a></p>\n<p>my code is:</p>\n<pre><code>String resultBase64  = reportApplicationService.fetchReportExcel(...);\n\nif (resultBase64 != null) {\n    \n    byte[] excel = base64.decode( resultBase64 );\n    \n    ZipInputStream z = new ZipInputStream(new ByteArrayInputStream(excel));\n    int length;\n    while ((length = z.read(excel)) &gt; 0) {\n        zip.write(excel, 0, length);\n    }\n\n    zip.closeEntry();\n    zip.finish();\n    z.close();\n\n    zip.close();\n    outputStream.flush();\n    \n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=name.zip&quot;);\n    response.setContentType(&quot;application/zip&quot;);\n    response.setContentLength((int) outputStream.size());\n    StreamUtils.copy(new ByteArrayInputStream(outputStream.toByteArray()), response.getOutputStream());\n    \n}\n</code></pre>\n<p>the <code>z.read(excel)</code> is -1</p>\n<p>thanks</p>\n"},{"tags":["java","spring","spring-boot","ssl","pem"],"comments":[{"owner":{"account_id":14352296,"reputation":846,"user_id":10367370,"display_name":"Vimukthi"},"score":1,"creation_date":1661930758,"post_id":73552222,"comment_id":129885945,"body_markdown":"What&#39;s the value you&#39;re using as the `type` parameter in `getKeyStore` method?","body":"What&#39;s the value you&#39;re using as the <code>type</code> parameter in <code>getKeyStore</code> method?"},{"owner":{"account_id":6328682,"reputation":1,"user_id":4914271,"display_name":"Mr Li"},"score":0,"creation_date":1661931183,"post_id":73552222,"comment_id":129886081,"body_markdown":".pem file path（String keyStorePath = &quot;D:\\\\miyao\\\\privatekey.pem&quot;）,and password","body":".pem file path（String keyStorePath = &quot;D:\\\\miyao\\\\privatekey.pem&quot;）,and password"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1661931395,"post_id":73552222,"comment_id":129886139,"body_markdown":"@MrLi I suspect that you are not passing `JKS` as value to `type` parameter to `getKeyStore` function. Try passing `JKS`, as to load .pem file `KeyStore` needs JKS as type","body":"@MrLi I suspect that you are not passing <code>JKS</code> as value to <code>type</code> parameter to <code>getKeyStore</code> function. Try passing <code>JKS</code>, as to load .pem file <code>KeyStore</code> needs JKS as type"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1661931482,"post_id":73552222,"comment_id":129886163,"body_markdown":"You can refer to this https://stackoverflow.com/questions/2138940/import-pem-into-java-key-store to get keystore object from .pem stream","body":"You can refer to this <a href=\"https://stackoverflow.com/questions/2138940/import-pem-into-java-key-store\" title=\"import pem into java key store\">stackoverflow.com/questions/2138940/&hellip;</a> to get keystore object from .pem stream"},{"owner":{"account_id":14352296,"reputation":846,"user_id":10367370,"display_name":"Vimukthi"},"score":0,"creation_date":1661931587,"post_id":73552222,"comment_id":129886196,"body_markdown":"This path seems incorrect. You need to provide a path that is ending with `.jks` or `.p12`","body":"This path seems incorrect. You need to provide a path that is ending with <code>.jks</code> or <code>.p12</code>"},{"owner":{"account_id":6328682,"reputation":1,"user_id":4914271,"display_name":"Mr Li"},"score":0,"creation_date":1661933759,"post_id":73552222,"comment_id":129886931,"body_markdown":"@Amogh @Vimukthi  I generated a.jks file. `D:\\miyao\\appleAc.jks` , shell `openssl pkcs12 -export -in dss.chain.pem -inkey privatekey.pem -out appleAc.p12\nkeytool -importkeystore -deststorepass &#39;admin123&#39; -destkeypass &#39;admin123&#39; -destkeystore appleAc.jks -srckeystore appleAc.p12 -srcstoretype PKCS12 -srcstorepass &#39;admin123&#39;\nkeytool -importkeystore -srckeystore appleAc.jks -destkeystore appleAc.jks -deststoretype pkcs12` ,KeyStore success. but there are two values in the code,`KeyManagerFactory` and `TrustManagerFactory` ，need two keystores，i&#39;m using the same one now.","body":"@Amogh @Vimukthi  I generated a.jks file. <code>D:\\miyao\\appleAc.jks</code> , shell <code>openssl pkcs12 -export -in dss.chain.pem -inkey privatekey.pem -out appleAc.p12 keytool -importkeystore -deststorepass &#39;admin123&#39; -destkeypass &#39;admin123&#39; -destkeystore appleAc.jks -srckeystore appleAc.p12 -srcstoretype PKCS12 -srcstorepass &#39;admin123&#39; keytool -importkeystore -srckeystore appleAc.jks -destkeystore appleAc.jks -deststoretype pkcs12</code> ,KeyStore success. but there are two values in the code,<code>KeyManagerFactory</code> and <code>TrustManagerFactory</code> ，need two keystores，i&#39;m using the same one now."},{"owner":{"account_id":6328682,"reputation":1,"user_id":4914271,"display_name":"Mr Li"},"score":0,"creation_date":1661933887,"post_id":73552222,"comment_id":129886986,"body_markdown":"@Amogh @Vimukthi  ↑ result in `sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target` ，do I need two different.jks files.","body":"@Amogh @Vimukthi  ↑ result in <code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code> ，do I need two different.jks files."},{"owner":{"account_id":6328682,"reputation":1,"user_id":4914271,"display_name":"Mr Li"},"score":0,"creation_date":1661934312,"post_id":73552222,"comment_id":129887167,"body_markdown":"@Vimukthi https://drive.google.com/file/d/1LyZqENaXfU5FuNbh1vkt3yfKp6Hth9Ou/view?usp=sharing","body":"@Vimukthi <a href=\"https://drive.google.com/file/d/1LyZqENaXfU5FuNbh1vkt3yfKp6Hth9Ou/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1LyZqENaXfU5FuNbh1vkt3yfKp6Hth9Ou/&hellip;</a>"}],"owner":{"account_id":6328682,"reputation":1,"user_id":4914271,"display_name":"Mr Li"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661930488,"creation_date":1661930488,"question_id":73552222,"body_markdown":"use curl:\r\n```\r\ncurl -v https://xxxxxx --cert ./dss.chain.pem --key ./privatekey.pem --pass admin\r\n```\r\ni can get 400 errors.This is the correct return.\r\n\r\nnow,I need to use the Java implementation.\r\n\r\nI&#39;ve tried doing this several different ways.\r\n\r\n.pem--&gt; .jks = fail\r\nhttpclient = fail.\r\n\r\nsome code:\r\n\r\n\r\n      private static KeyStore getKeyStore(String keyStorePath, String password, String type)\r\n          throws KeyStoreException, CertificateException, IOException, NoSuchAlgorithmException {\r\n        // 获取证书\r\n        FileInputStream inputStream = new FileInputStream(keyStorePath);\r\n        // 秘钥仓库\r\n        KeyStore keyStore = KeyStore.getInstance(type);\r\n        keyStore.load(inputStream, password.toCharArray());\r\n        inputStream.close();\r\n        return keyStore;\r\n      }\r\n\r\n```\r\nkeyStore.load(inputStream, password.toCharArray()) throw exception\r\n```\r\n    Exception in thread &quot;main&quot; java.io.IOException: toDerInputStream rejects tag type 45\r\n    \tat sun.security.util.DerValue.toDerInputStream(DerValue.java:847)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1915)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n\r\n```\r\n","title":"SpringBoot post request a third party, to load .pem certificate","body":"<p>use curl:</p>\n<pre><code>curl -v https://xxxxxx --cert ./dss.chain.pem --key ./privatekey.pem --pass admin\n</code></pre>\n<p>i can get 400 errors.This is the correct return.</p>\n<p>now,I need to use the Java implementation.</p>\n<p>I've tried doing this several different ways.</p>\n<p>.pem--&gt; .jks = fail\nhttpclient = fail.</p>\n<p>some code:</p>\n<pre><code>  private static KeyStore getKeyStore(String keyStorePath, String password, String type)\n      throws KeyStoreException, CertificateException, IOException, NoSuchAlgorithmException {\n    // 获取证书\n    FileInputStream inputStream = new FileInputStream(keyStorePath);\n    // 秘钥仓库\n    KeyStore keyStore = KeyStore.getInstance(type);\n    keyStore.load(inputStream, password.toCharArray());\n    inputStream.close();\n    return keyStore;\n  }\n</code></pre>\n<pre><code>keyStore.load(inputStream, password.toCharArray()) throw exception\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: toDerInputStream rejects tag type 45\n    at sun.security.util.DerValue.toDerInputStream(DerValue.java:847)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1915)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","junit","visual-studio-code","io","path"],"answers":[{"tags":[],"owner":{"account_id":26205422,"reputation":46,"user_id":19885082,"display_name":"Blair79"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661930115,"creation_date":1661930115,"answer_id":73552159,"question_id":61013094,"body_markdown":"Visit https://code.visualstudio.com/docs/java/java-testing\r\n\r\nCustomize test configurations\r\n\r\nsearch in preferences in VSC for java.test.config\r\n\r\nopen settings.json\r\n\r\nset workspacefolder with \r\n\r\n    &quot;java.test.config&quot;: {\r\n    &quot;workingDirectory&quot;: &quot;${workspaceFolder}&quot;\r\n    }\r\n\r\nthen it should work... had the same issue yesterday and found this solution today... and it works ;)","title":"Path issues in JUnit testing with Visual Studio Code","body":"<p>Visit <a href=\"https://code.visualstudio.com/docs/java/java-testing\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-testing</a></p>\n<p>Customize test configurations</p>\n<p>search in preferences in VSC for java.test.config</p>\n<p>open settings.json</p>\n<p>set workspacefolder with</p>\n<pre><code>&quot;java.test.config&quot;: {\n&quot;workingDirectory&quot;: &quot;${workspaceFolder}&quot;\n}\n</code></pre>\n<p>then it should work... had the same issue yesterday and found this solution today... and it works ;)</p>\n"}],"owner":{"account_id":18159972,"reputation":23,"user_id":13211491,"display_name":"greatelijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73552159,"answer_count":1,"score":2,"last_activity_date":1661930115,"creation_date":1585920798,"question_id":61013094,"body_markdown":"I&#39;m experiencing some problems with generating tests containing absolute paths with JUnit in VSC. \r\n\r\nThe following two variables writtenFilePath and generatedFilePath both contain the same identical String when I print them in the terminal. However they produce different outcomes when used in a JUnit test.\r\n\r\n\r\n```java\r\nprivate String writtenFilePath = &quot;/home/$USER/Desktop/S2/src/test/test1.in&quot;;\r\nprivate String generatedFilePath = Paths.get(&quot;&quot;).toAbsolutePath().toString().concat(&quot;/src/test/test1.in&quot;);\r\n```\r\n\r\nwrittenFilePath produces the desired outcome when used in a test while generatedFilePath does not as the test cannot access the file.\r\n\r\nBelow is the error prompt from the following JUnit test, testing that the two Path Strings are equal.\r\n\r\n```java\r\n@Test\r\npublic void identicalFilePathsAreEqual() {\r\n    assertEquals(writtenFilePath,generatedFilePath);\r\n}\r\n```\r\n\r\n```\r\n**org.junit.ComparisonFailure:**\r\n\r\n**expected:**\r\n/home/$USER/[Desktop/S]2/src/test/test1.in\r\n\r\n**but was:**\r\n/home/$USER/[.config/Code/User/workspaceStorage/c1a1302e27095d0a416037f60c4e3677/redhat.java/jdt_ws/S2_a43208c]2/src/test/test1.in\r\n```\r\n\r\nThe test I&#39;m trying to run: (Works as intended with the writtenFilePath, fails with the generatedFilePath)\r\n```java\r\n@Test\r\npublic void sizeIsSixFromTest1() throws IOException {\r\n    System.setIn(new ByteArrayInputStream(readLineByLineJava8(generatedFilePath).getBytes()));\r\n    Lexer lex = new Lexer(System.in);\r\n    assertEquals(6,lex.howManyTokens());\r\n}\r\n```","title":"Path issues in JUnit testing with Visual Studio Code","body":"<p>I'm experiencing some problems with generating tests containing absolute paths with JUnit in VSC. </p>\n\n<p>The following two variables writtenFilePath and generatedFilePath both contain the same identical String when I print them in the terminal. However they produce different outcomes when used in a JUnit test.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private String writtenFilePath = \"/home/$USER/Desktop/S2/src/test/test1.in\";\nprivate String generatedFilePath = Paths.get(\"\").toAbsolutePath().toString().concat(\"/src/test/test1.in\");\n</code></pre>\n\n<p>writtenFilePath produces the desired outcome when used in a test while generatedFilePath does not as the test cannot access the file.</p>\n\n<p>Below is the error prompt from the following JUnit test, testing that the two Path Strings are equal.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void identicalFilePathsAreEqual() {\n    assertEquals(writtenFilePath,generatedFilePath);\n}\n</code></pre>\n\n<pre><code>**org.junit.ComparisonFailure:**\n\n**expected:**\n/home/$USER/[Desktop/S]2/src/test/test1.in\n\n**but was:**\n/home/$USER/[.config/Code/User/workspaceStorage/c1a1302e27095d0a416037f60c4e3677/redhat.java/jdt_ws/S2_a43208c]2/src/test/test1.in\n</code></pre>\n\n<p>The test I'm trying to run: (Works as intended with the writtenFilePath, fails with the generatedFilePath)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void sizeIsSixFromTest1() throws IOException {\n    System.setIn(new ByteArrayInputStream(readLineByLineJava8(generatedFilePath).getBytes()));\n    Lexer lex = new Lexer(System.in);\n    assertEquals(6,lex.howManyTokens());\n}\n</code></pre>\n"},{"tags":["java","dependency-injection","cdi","quarkus"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":4,"creation_date":1661849039,"post_id":73539318,"comment_id":129863070,"body_markdown":"Hi, this is a very simple case: just create a bean with a producer method that produces the `AuthManager` in application scope, simplest example: `@ApplicationScoped class AuthManagerProducer { private AuthManager authManager = AuthManagerFactory.getAuthManager(new KeycloakFactoryAuth()); @Produces @ApplicationScoped getAuthManager() { return authManager; }}`. You can improve by actually creating the `AuthManager` in a `PostConstruct` method, allow injection of configuration etc.","body":"Hi, this is a very simple case: just create a bean with a producer method that produces the <code>AuthManager</code> in application scope, simplest example: <code>@ApplicationScoped class AuthManagerProducer { private AuthManager authManager = AuthManagerFactory.getAuthManager(new KeycloakFactoryAuth()); @Produces @ApplicationScoped getAuthManager() { return authManager; }}</code>. You can improve by actually creating the <code>AuthManager</code> in a <code>PostConstruct</code> method, allow injection of configuration etc."},{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":2,"creation_date":1661849448,"post_id":73539318,"comment_id":129863209,"body_markdown":"That authManager you created manually is not managed by Quarkus, so it does not know to use it. You should create a Bean with this object.","body":"That authManager you created manually is not managed by Quarkus, so it does not know to use it. You should create a Bean with this object."},{"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"score":0,"creation_date":1661970757,"post_id":73539318,"comment_id":129900688,"body_markdown":"Cheers @Nikos, worked a treat :+1:","body":"Cheers @Nikos, worked a treat :+1:"}],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661929747,"creation_date":1661929747,"answer_id":73552083,"question_id":73539318,"body_markdown":"As stated by @Nikos Paraskevopoulos a [producer][1] is what you need but a more elegant solution than field producer coupled with `@PostConstruct` method is using a *producer method* in this way\r\n\r\n    @ApplicationScoped\r\n    class AuthManagerProducer {\r\n      @Produces \r\n      @ApplicationScoped \r\n      AuthManager getAuthManager() { \r\n        return AuthManagerFactory.getAuthManager(new KeycloakFactoryAuth());\r\n      }\r\n    }\r\n\r\nand a more grained alternative:\r\n\r\n    @ApplicationScoped\r\n    class AuthManagerProducer {\r\n      @Produces \r\n      @ApplicationScoped \r\n      AuthManager getAuthManager(KeycloakFactoryAuth keycloakFactoryAuth) { \r\n        return AuthManagerFactory.getAuthManager(keycloakFactoryAuth);\r\n      }\r\n      @Produces\r\n      @ApplicationScoped\r\n      KeycloakFactoryAuth getKeycloakFactoryAuth() {\r\n        return new KeycloakFactoryAuth();\r\n      }\r\n    }\r\n\r\nFeel free to inject configuration in `AuthManagerProducer` and customize `KeycloakFactoryAuth` as well as `AuthManager`\r\n\r\n  [1]: https://docs.jboss.org/weld/reference/1.0.0/en-US/html/producermethods.html\r\n","title":"Passing in parameters with constructor injection","body":"<p>As stated by @Nikos Paraskevopoulos a <a href=\"https://docs.jboss.org/weld/reference/1.0.0/en-US/html/producermethods.html\" rel=\"nofollow noreferrer\">producer</a> is what you need but a more elegant solution than field producer coupled with <code>@PostConstruct</code> method is using a <em>producer method</em> in this way</p>\n<pre><code>@ApplicationScoped\nclass AuthManagerProducer {\n  @Produces \n  @ApplicationScoped \n  AuthManager getAuthManager() { \n    return AuthManagerFactory.getAuthManager(new KeycloakFactoryAuth());\n  }\n}\n</code></pre>\n<p>and a more grained alternative:</p>\n<pre><code>@ApplicationScoped\nclass AuthManagerProducer {\n  @Produces \n  @ApplicationScoped \n  AuthManager getAuthManager(KeycloakFactoryAuth keycloakFactoryAuth) { \n    return AuthManagerFactory.getAuthManager(keycloakFactoryAuth);\n  }\n  @Produces\n  @ApplicationScoped\n  KeycloakFactoryAuth getKeycloakFactoryAuth() {\n    return new KeycloakFactoryAuth();\n  }\n}\n</code></pre>\n<p>Feel free to inject configuration in <code>AuthManagerProducer</code> and customize <code>KeycloakFactoryAuth</code> as well as <code>AuthManager</code></p>\n"}],"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661929747,"creation_date":1661848018,"question_id":73539318,"body_markdown":"I am working on an app where an endpoint is being called to add a user. This calls a service class (that has been injected into the controller class) to add the user. In the service class I have created a custom module that deals with connecting to keycloak and adding users to it. I have that defined as an instance variable in the service class. When I was trying to write unit tests I read that I needed to have it so this module could be defined via construtor or setter methods. \r\nI am now trying to inject the service class via constructor injection with the module as a parameter but not having much luck.\r\n\r\nThis is my original service class code;\r\n\r\n```\r\n@ApplicationScoped\r\npublic class UserService {\r\n\r\n   private AuthManager authManager = AuthManagerFactory.getAuthManager(new KeycloakFactoryAuth());\r\n\r\n   ...\r\n}\r\n```\r\n\r\nBut now I am trying;\r\n\r\n```\r\n@ApplicationScoped\r\npublic class UserService {\r\n\r\n    private AuthManager authManager;\r\n\r\n    public UserService(AuthManager authManager) {\r\n        this.authManager = authManager;\r\n    }\r\n\r\n   ...\r\n}\r\n```\r\n\r\nI am using Quarkus and according to their [docs][1], I don&#39;t need a default constructor or define `@Inject` over the constructor. But when I try to run this I get the following error;\r\n\r\n```\r\njava.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\r\n\tat io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\r\n\tat io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\r\n\tat io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\r\n\t... 13 more\r\n\r\n\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.throwBootFailureException(QuarkusTestExtension.java:632)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:703)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:73)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:355)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:302)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:280)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\nCaused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\r\n\tat io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\r\n\tat io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\r\n\tat io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\r\n\t... 13 more\r\n\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:252)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.doJavaStart(QuarkusTestExtension.java:225)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.ensureStarted(QuarkusTestExtension.java:609)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.beforeAll(QuarkusTestExtension.java:647)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$10(ClassBasedTestDescriptor.java:381)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:381)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:205)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\t... 33 more\r\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\r\n\tat io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\r\n\tat io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\r\n\tat io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\r\n\t... 13 more\r\n\r\n\tat io.quarkus.builder.Execution.run(Execution.java:116)\r\n\tat io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n\tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:157)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:328)\r\n\t... 44 more\r\nCaused by: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\r\n\tat io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\r\n\tat io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\r\n\t- java member: io.buddydata.service.UserService():authManager\r\n\t- declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\r\n\tat io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\r\n\tat io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\r\n\t... 13 more\r\n```\r\n\r\nI assume/know I need to define that when `AuthManager` is to be injected I should return a new `KeycloakFactoryAuth` object, but where/how do I define this?\r\nAny help/tips would be greatly appreciated\r\n\r\n  [1]: https://quarkus.io/guides/cdi#can-i-use-setter-and-constructor-injection","title":"Passing in parameters with constructor injection","body":"<p>I am working on an app where an endpoint is being called to add a user. This calls a service class (that has been injected into the controller class) to add the user. In the service class I have created a custom module that deals with connecting to keycloak and adding users to it. I have that defined as an instance variable in the service class. When I was trying to write unit tests I read that I needed to have it so this module could be defined via construtor or setter methods.\nI am now trying to inject the service class via constructor injection with the module as a parameter but not having much luck.</p>\n<p>This is my original service class code;</p>\n<pre><code>@ApplicationScoped\npublic class UserService {\n\n   private AuthManager authManager = AuthManagerFactory.getAuthManager(new KeycloakFactoryAuth());\n\n   ...\n}\n</code></pre>\n<p>But now I am trying;</p>\n<pre><code>@ApplicationScoped\npublic class UserService {\n\n    private AuthManager authManager;\n\n    public UserService(AuthManager authManager) {\n        this.authManager = authManager;\n    }\n\n   ...\n}\n</code></pre>\n<p>I am using Quarkus and according to their <a href=\"https://quarkus.io/guides/cdi#can-i-use-setter-and-constructor-injection\" rel=\"nofollow noreferrer\">docs</a>, I don't need a default constructor or define <code>@Inject</code> over the constructor. But when I try to run this I get the following error;</p>\n<pre><code>java.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\n    at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\n    at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\n    at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\n    ... 13 more\n\n\n    at io.quarkus.test.junit.QuarkusTestExtension.throwBootFailureException(QuarkusTestExtension.java:632)\n    at io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:703)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:73)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:355)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:302)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:280)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\nCaused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\n    at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\n    at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\n    at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\n    ... 13 more\n\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:252)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\n    at io.quarkus.test.junit.QuarkusTestExtension.doJavaStart(QuarkusTestExtension.java:225)\n    at io.quarkus.test.junit.QuarkusTestExtension.ensureStarted(QuarkusTestExtension.java:609)\n    at io.quarkus.test.junit.QuarkusTestExtension.beforeAll(QuarkusTestExtension.java:647)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$10(ClassBasedTestDescriptor.java:381)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:381)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:205)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:80)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    ... 33 more\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\n    at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\n    at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\n    at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\n    ... 13 more\n\n    at io.quarkus.builder.Execution.run(Execution.java:116)\n    at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\n    at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:157)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:328)\n    ... 44 more\nCaused by: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\n    at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\n    at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type io.buddydata.AuthManager and qualifiers [@Default]\n    - java member: io.buddydata.service.UserService():authManager\n    - declared on CLASS bean [types=[io.buddydata.service.UserService, java.lang.Object], qualifiers=[@Default, @Any], target=io.buddydata.service.UserService]\n    at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:411)\n    at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:527)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:263)\n    ... 13 more\n</code></pre>\n<p>I assume/know I need to define that when <code>AuthManager</code> is to be injected I should return a new <code>KeycloakFactoryAuth</code> object, but where/how do I define this?\nAny help/tips would be greatly appreciated</p>\n"},{"tags":["java","android","android-12"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661884399,"post_id":73546895,"comment_id":129876793,"body_markdown":"How are you defining &quot;gets stopped&quot;? What are your actual symptoms? Does your behavior change if you extend `Service` instead of `MediaBrowserServiceCompat`?","body":"How are you defining &quot;gets stopped&quot;? What are your actual symptoms? Does your behavior change if you extend <code>Service</code> instead of <code>MediaBrowserServiceCompat</code>?"},{"owner":{"account_id":15532135,"reputation":51,"user_id":11205334,"display_name":"BOT Panzer"},"score":0,"creation_date":1661888258,"post_id":73546895,"comment_id":129877939,"body_markdown":"With &quot;gets stopped&quot; I mean that it gets closed as if I did `stopSelf()`. About `MediaBrowserServiceCompat`, I tried changing it to `Service` and the same keeps happening. Also, in case someone asks I get no errors and I have `FOREGROUND_SERVICE` permision in the manifest.","body":"With &quot;gets stopped&quot; I mean that it gets closed as if I did <code>stopSelf()</code>. About <code>MediaBrowserServiceCompat</code>, I tried changing it to <code>Service</code> and the same keeps happening. Also, in case someone asks I get no errors and I have <code>FOREGROUND_SERVICE</code> permision in the manifest."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661891258,"post_id":73546895,"comment_id":129878853,"body_markdown":"&quot;I get no errors&quot; -- there should be some messages in Logcat from the OS, not necessarily crashes. There always are when components get started and stopped.","body":"&quot;I get no errors&quot; -- there should be some messages in Logcat from the OS, not necessarily crashes. There always are when components get started and stopped."},{"owner":{"account_id":15532135,"reputation":51,"user_id":11205334,"display_name":"BOT Panzer"},"score":0,"creation_date":1661891941,"post_id":73546895,"comment_id":129879040,"body_markdown":"The last message I get happens after exiting the app. When the service stops it does not log anything but in case I&#39;m just not seeing the problem [here are the logs](https://jpst.it/2Xn0P)\n\nEDIT: I open the app and then exit without closing it. After 1 exact minute the service stops and logs nothing.","body":"The last message I get happens after exiting the app. When the service stops it does not log anything but in case I&#39;m just not seeing the problem <a href=\"https://jpst.it/2Xn0P\" rel=\"nofollow noreferrer\">here are the logs</a>  EDIT: I open the app and then exit without closing it. After 1 exact minute the service stops and logs nothing."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661894996,"post_id":73546895,"comment_id":129879775,"body_markdown":"Try removing `setSilent()` and otherwise simplify your `Notification`.","body":"Try removing <code>setSilent()</code> and otherwise simplify your <code>Notification</code>."}],"answers":[{"tags":[],"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661895037,"creation_date":1661895037,"answer_id":73548649,"question_id":73546895,"body_markdown":"Even though you are correct in wanting a foreground Service here, it seems as if you want it to stay alive whenever you app in the background, or not running at all, as you don&#39;t intend your app to be running 24/7, do you?\r\n\r\nSince it seems as if you&#39;re trying to use a `MediaBrowserServiceCompat` in your example, I would suggest you do so using a companion instance of a `MediaSessionCompat` in order to have the media session control the lifecycle of your Service on it&#39;s own.\r\n\r\nImplementing a media Service is not the most straightforward task in Android; they&#39;re still trying to fix some of its prevailing issues with the latest release of Android 13.  Therefore, I would also suggest you follow [this official Android guide](https://developer.android.com/guide/topics/media-apps/audio-app/building-an-audio-app) if you&#39;re attempting to create an audio app with a media foreground Service.","title":"Foreground service gets stopped after 1 minute (Android 12)","body":"<p>Even though you are correct in wanting a foreground Service here, it seems as if you want it to stay alive whenever you app in the background, or not running at all, as you don't intend your app to be running 24/7, do you?</p>\n<p>Since it seems as if you're trying to use a <code>MediaBrowserServiceCompat</code> in your example, I would suggest you do so using a companion instance of a <code>MediaSessionCompat</code> in order to have the media session control the lifecycle of your Service on it's own.</p>\n<p>Implementing a media Service is not the most straightforward task in Android; they're still trying to fix some of its prevailing issues with the latest release of Android 13.  Therefore, I would also suggest you follow <a href=\"https://developer.android.com/guide/topics/media-apps/audio-app/building-an-audio-app\" rel=\"nofollow noreferrer\">this official Android guide</a> if you're attempting to create an audio app with a media foreground Service.</p>\n"},{"tags":[],"owner":{"account_id":15532135,"reputation":51,"user_id":11205334,"display_name":"BOT Panzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661901209,"creation_date":1661901209,"answer_id":73549344,"question_id":73546895,"body_markdown":"Turns out samsung put my app on deep sleep which caused it to close itself if not used for a minute. Also thanks to the people who took their time to try and help.","title":"Foreground service gets stopped after 1 minute (Android 12)","body":"<p>Turns out samsung put my app on deep sleep which caused it to close itself if not used for a minute. Also thanks to the people who took their time to try and help.</p>\n"}],"owner":{"account_id":15532135,"reputation":51,"user_id":11205334,"display_name":"BOT Panzer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73549344,"answer_count":2,"score":1,"last_activity_date":1661928330,"creation_date":1661883471,"question_id":73546895,"body_markdown":"I&#39;m trying to make a service that works 24/7 and it&#39;s been working until I updated to Android 12. I&#39;ve checked the new foreground restrictions but still don&#39;t understand why it isn&#39;t working since I&#39;m starting it from an activity.\r\n\r\nACTIVITY\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class TestActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.test);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n            startForegroundService(new Intent(TestActivity.this, TestService.class));\r\n    }\r\n}\r\n```\r\nSERVICE\r\n```\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.support.v4.media.MediaBrowserCompat;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.media.MediaBrowserServiceCompat;\r\n\r\nimport java.util.List;\r\n\r\npublic class TestService extends MediaBrowserServiceCompat {\r\n    @Override\r\n    public BrowserRoot onGetRoot(@NonNull String clientPackageName, int clientUid, @Nullable Bundle rootHints) { return null; }\r\n\r\n    @Override\r\n    public void onLoadChildren(@NonNull String parentId, @NonNull Result&lt;List&lt;MediaBrowserCompat.MediaItem&gt;&gt; result) { result.sendResult(null); }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent ii, int flags, int startId) {\r\n        //CREATE NOTI CHANNEL\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    &quot;test&quot;, &quot;Test Notifications&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            ((NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE)).createNotificationChannel(channel);\r\n        }\r\n        //CREATE NOTI\r\n        Notification notification = new NotificationCompat.Builder(this, &quot;test&quot;)\r\n                .setSmallIcon(R.drawable.icon)\r\n                .setContentTitle(&quot;title&quot;)\r\n                .setContentText(&quot;test&quot;)\r\n                .setChannelId(&quot;test&quot;)\r\n                .setOngoing(true)\r\n                .setSilent(true)\r\n                .build();\r\n        //START FOREGROUND\r\n        startForeground(101, notification);\r\n        return START_STICKY;\r\n    }\r\n}\r\n```\r\n\r\nI tried creating a new app with just these lines of code and it works fine so it must be something else making the service close after a minute.","title":"Foreground service gets stopped after 1 minute (Android 12)","body":"<p>I'm trying to make a service that works 24/7 and it's been working until I updated to Android 12. I've checked the new foreground restrictions but still don't understand why it isn't working since I'm starting it from an activity.</p>\n<p>ACTIVITY</p>\n<pre><code>import android.content.Intent;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class TestActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.test);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n            startForegroundService(new Intent(TestActivity.this, TestService.class));\n    }\n}\n</code></pre>\n<p>SERVICE</p>\n<pre><code>import android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.support.v4.media.MediaBrowserCompat;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.app.NotificationCompat;\nimport androidx.media.MediaBrowserServiceCompat;\n\nimport java.util.List;\n\npublic class TestService extends MediaBrowserServiceCompat {\n    @Override\n    public BrowserRoot onGetRoot(@NonNull String clientPackageName, int clientUid, @Nullable Bundle rootHints) { return null; }\n\n    @Override\n    public void onLoadChildren(@NonNull String parentId, @NonNull Result&lt;List&lt;MediaBrowserCompat.MediaItem&gt;&gt; result) { result.sendResult(null); }\n\n    @Override\n    public int onStartCommand(Intent ii, int flags, int startId) {\n        //CREATE NOTI CHANNEL\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(\n                    &quot;test&quot;, &quot;Test Notifications&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            ((NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE)).createNotificationChannel(channel);\n        }\n        //CREATE NOTI\n        Notification notification = new NotificationCompat.Builder(this, &quot;test&quot;)\n                .setSmallIcon(R.drawable.icon)\n                .setContentTitle(&quot;title&quot;)\n                .setContentText(&quot;test&quot;)\n                .setChannelId(&quot;test&quot;)\n                .setOngoing(true)\n                .setSilent(true)\n                .build();\n        //START FOREGROUND\n        startForeground(101, notification);\n        return START_STICKY;\n    }\n}\n</code></pre>\n<p>I tried creating a new app with just these lines of code and it works fine so it must be something else making the service close after a minute.</p>\n"},{"tags":["java","spring","hibernate","spatial","cockroachdb"],"comments":[{"owner":{"account_id":23977161,"reputation":11,"user_id":17965108,"display_name":"Konstantin Goncharenko"},"score":0,"creation_date":1642518222,"post_id":70757336,"comment_id":125088427,"body_markdown":"Resolved changing com.vividsolutions to org.locationtech https://stackoverflow.com/questions/62877520/unable-to-make-geospatial-query-within-with-spring-boot-spring-data-jpa-and-h","body":"Resolved changing com.vividsolutions to org.locationtech <a href=\"https://stackoverflow.com/questions/62877520/unable-to-make-geospatial-query-within-with-spring-boot-spring-data-jpa-and-h\" title=\"unable to make geospatial query within with spring boot spring data jpa and h\">stackoverflow.com/questions/62877520/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2862565,"reputation":223,"user_id":2457521,"display_name":"Alejandro Venegas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642518767,"creation_date":1642518767,"answer_id":70757947,"question_id":70757336,"body_markdown":"I recommend to you use Hikari to handle multiple datasources.\r\n\r\n \r\n\r\n        @Configuration\r\n        @ConfigurationProperties(prefix = &quot;first.datasource&quot;)\r\n        @EnableTransactionManagement\r\n        public class FirstDBConfig extends HikariConfig {\r\n        \r\n            @Bean\r\n            public DataSource firstDataSource() {\r\n                return new HikariDataSource(this);\r\n            }\r\n        ...........................................\r\n        \r\n        @Configuration\r\n        @ConfigurationProperties(prefix = &quot;second.datasource&quot;)\r\n        @EnableTransactionManagement\r\n        @EnableJpaRepositories( basePackages = {\r\n                    &quot;com.myproyect.repos&quot;\r\n            },\r\n            entityManagerFactoryRef = &quot;myEntityManager&quot;,\r\n            transactionManagerRef = &quot;myTransactionManager&quot;)\r\n        public class SecondDBConfig extends HikariConfig {\r\n        \r\n            @Bean\r\n            public DataSource secondDataSource() {\r\n                return new HikariDataSource(this);\r\n            }\r\n\r\nFor more detail read about hikari\r\n\r\nhttps://github.com/brettwooldridge/HikariCP#readme\r\n","title":"Spring Data JPA Multiple DataSources - CockroachDb Spatial","body":"<p>I recommend to you use Hikari to handle multiple datasources.</p>\n<pre><code>    @Configuration\n    @ConfigurationProperties(prefix = &quot;first.datasource&quot;)\n    @EnableTransactionManagement\n    public class FirstDBConfig extends HikariConfig {\n    \n        @Bean\n        public DataSource firstDataSource() {\n            return new HikariDataSource(this);\n        }\n    ...........................................\n    \n    @Configuration\n    @ConfigurationProperties(prefix = &quot;second.datasource&quot;)\n    @EnableTransactionManagement\n    @EnableJpaRepositories( basePackages = {\n                &quot;com.myproyect.repos&quot;\n        },\n        entityManagerFactoryRef = &quot;myEntityManager&quot;,\n        transactionManagerRef = &quot;myTransactionManager&quot;)\n    public class SecondDBConfig extends HikariConfig {\n    \n        @Bean\n        public DataSource secondDataSource() {\n            return new HikariDataSource(this);\n        }\n</code></pre>\n<p>For more detail read about hikari</p>\n<p><a href=\"https://github.com/brettwooldridge/HikariCP#readme\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP#readme</a></p>\n"}],"owner":{"account_id":23977161,"reputation":11,"user_id":17965108,"display_name":"Konstantin Goncharenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661928241,"creation_date":1642516469,"question_id":70757336,"body_markdown":"My application has two data sources.\r\nFirst datasource access Postgre using JdbcTemplate.\r\nSecond datasource access CockroachDb using Spring Data JPA.\r\n\r\nSo i created two configurations for this datasources.\r\n\r\nPersisting to both datasources works fine, except objects with spatial data.\r\nWhen i trying to save spatial data to CockroachDb, i get an error:\r\n\r\n&gt; Hibernate: select geoobject0_.id as id1_2_0_, geoobject0_.address as\r\n&gt; address2_2_0_, geoobject0_.address_id as address_3_2_0_,\r\n&gt; geoobject0_.created as created4_2_0_, geoobject0_.flat_count as\r\n&gt; flat_cou5_2_0_, geoobject0_.geo_provider_id as geo_prov6_2_0_,\r\n&gt; geoobject0_.geometry as geometry7_2_0_, geoobject0_.hq_id as\r\n&gt; hq_id8_2_0_, geoobject0_.is_generated as is_gener9_2_0_,\r\n&gt; geoobject0_.is_living as is_livi10_2_0_, geoobject0_.payload as\r\n&gt; payload11_2_0_, geoobject0_.source_id as source_12_2_0_,\r\n&gt; geoobject0_.type as type13_2_0_, geoobject0_.uic_id as uic_id14_2_0_,\r\n&gt; geoobject0_.version_id as version15_2_0_, geoobject0_.voter_count as\r\n&gt; voter_c16_2_0_ from geo_service.geo_object geoobject0_ where\r\n&gt; geoobject0_.id=? Hibernate: insert into geo_service.geo_object\r\n&gt; (address, address_id, created, flat_count, geo_provider_id, geometry,\r\n&gt; hq_id, is_generated, is_living, payload, source_id, type, uic_id,\r\n&gt; version_id, voter_count, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,\r\n&gt; ?, ?, ?, ?, ?) 2022-01-18 17:01:39.583\r\n&gt; [ForkJoinPool.commonPool-worker-3] WARN \r\n&gt; o.h.e.jdbc.spi.SqlExceptionHelper logExceptions() - SQL Error: 0,\r\n&gt; SQLState: XXUUU  2022-01-18 17:01:39.584\r\n&gt; [ForkJoinPool.commonPool-worker-3] ERROR\r\n&gt; o.h.e.jdbc.spi.SqlExceptionHelper logExceptions() - ERROR: wkb:\r\n&gt; unknown byte order: 10101100\r\n\r\n \r\n\r\n\r\nJava configuration:\r\n\r\nFor Postgre:\r\n\r\n    @Configuration\r\n    public class UicDbConfig {\r\n    \r\n        @Bean(name = &quot;uicDataSource&quot;)\r\n        @Qualifier(&quot;uicDataSource&quot;)\r\n        @Primary\r\n        @ConfigurationProperties(prefix=&quot;spring.uic.datasource&quot;)\r\n        public DataSource secondaryDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    }\r\n\r\nFor CockroachDb:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;ru.stimul.geoservice.repo&quot;,\r\n            entityManagerFactoryRef = &quot;primaryEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;primaryTransactionManager&quot;)\r\n    public class CockroachDbConfig {\r\n    \r\n        @Autowired\r\n        private Environment env;\r\n    \r\n        @Bean(&quot;primaryDataSource&quot;)\r\n        @ConfigurationProperties(prefix=&quot;spring.primary.datasource&quot;)\r\n        public DataSource primaryDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Bean(name = &quot;primaryEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean primaryEntityManagerFactory(EntityManagerFactoryBuilder builder\r\n                ,@Qualifier(&quot;primaryDataSource&quot;) DataSource primaryDataSource){\r\n    \r\n            LocalContainerEntityManagerFactoryBean em = builder\r\n                    .dataSource(primaryDataSource)\r\n                    .packages(&quot;ru.stimul.geoservice.domain.primary&quot;)\r\n                    .persistenceUnit(&quot;domains&quot;)\r\n                    .build();\r\n    \r\n            final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            em.setJpaVendorAdapter(vendorAdapter);\r\n            em.setJpaProperties(additionalProperties());\r\n    \r\n            return em;\r\n    \r\n        }\r\n    \r\n        @Bean(name = &quot;primaryTransactionManager&quot;)\r\n        public JpaTransactionManager transactionManager(@Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory){\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(primaryEntityManagerFactory);\r\n    \r\n            return transactionManager;\r\n        }\r\n    \r\n    \r\n        private Properties additionalProperties() {\r\n            Properties properties = new Properties();\r\n            properties.setProperty(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.primary.jpa.properties.hibernate.dialect&quot;));\r\n            properties.setProperty(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;spring.primary.jpa.show-sql&quot;));\r\n            return properties;\r\n        }\r\n    }\r\n\r\napplication.yml:\r\n\r\n    spring:\r\n      application.name: geo-service\r\n      http:\r\n        encoding:\r\n          charset: UTF-8\r\n          enabled: true\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n    \r\n      primary:\r\n        datasource:\r\n          jdbcUrl: jdbc:postgresql://localhost:26257/geo_service\r\n          driverClassName: org.postgresql.Driver\r\n          username: admin\r\n          password: \r\n        jpa:\r\n          show-sql: true\r\n          hibernate:\r\n            ddl-auto: none\r\n          properties:\r\n            hibernate:\r\n              dialect: org.hibernate.spatial.dialect.cockroachdb.CockroachDB202SpatialDialect\r\n          generate-ddl: false\r\n    \r\n      uic:\r\n        datasource:\r\n          jdbc-url: &quot;jdbc:postgresql://localhost:2222/uic&quot;\r\n          driverClassName: org.postgresql.Driver\r\n          username: postgres\r\n          password: \r\n          schema: \r\n          hikari:\r\n            connectionTimeout: 20000\r\n            maximumPoolSize: 10\r\n          max-active: 3\r\n          initial-size: 1\r\n          max-idle: 2\r\n          min-idle: 1\r\n          test-while-idle: true\r\n          test-on-borrow: true\r\n          max-idle-time: 160000\r\n          max-lifetime: 0\r\n\r\n\r\nDomain object:\r\n\r\n    import com.vividsolutions.jts.geom.Point;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import ru.stimul.geoservice.Geo;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Data\r\n    @Builder(toBuilder = true)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;geo_object&quot;, schema = &quot;geo_service&quot;)\r\n    @Slf4j\r\n    public class GeoObject {\r\n    \r\n        @Id\r\n        @Column\r\n        String id;\r\n    \r\n        @Column\r\n        Long created;\r\n    \r\n        @Column(name = &quot;version_id&quot;)\r\n        String versionId;\r\n    \r\n        @Column(name = &quot;hq_id&quot;)\r\n        String hqId;\r\n    \r\n        @Column(name = &quot;source_id&quot;)\r\n        String sourceId;\r\n    \r\n        @Column(name = &quot;geo_provider_id&quot;)\r\n        String geoProviderId;\r\n    \r\n        @Column(name = &quot;uic_id&quot;)\r\n        String uicId;\r\n    \r\n        @Column(name = &quot;address_id&quot;)\r\n        String addressId;\r\n    \r\n        Point geometry;\r\n    \r\n        @Column\r\n        String address;\r\n    \r\n        @Column\r\n        String type;\r\n    \r\n        @Column(name = &quot;flat_count&quot;)\r\n        Long flatCount;\r\n    \r\n        @Column(name = &quot;voter_count&quot;)\r\n        Long voterCount;\r\n    \r\n        @Column(name = &quot;is_living&quot;)\r\n        boolean isLiving;\r\n    \r\n        @Column(name = &quot;is_generated&quot;)\r\n        boolean isGenerated;\r\n    \r\n        @Column(length = 2000)\r\n        String payload;\r\n    }\r\n\r\n\r\nRepository:\r\n\r\n    package ru.stimul.geoservice.repo;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import ru.stimul.geoservice.domain.primary.GeoObject;\r\n    \r\n    @Repository\r\n    public interface CockroachDbRepository extends JpaRepository&lt;GeoObject, String&gt; {\r\n    }\r\n \r\n     \r\nService:\r\n     \r\n   \r\n    public GeoObject upsertWithoutAccessCheck(String requestId, GeoObject geoObject) {\r\n            if (Objects.isNull(geoObject.getId()) || StringUtils.isEmpty(geoObject.getId())) {\r\n                geoObject = geoObject.toBuilder()\r\n                        .id(UUID.randomUUID().toString())\r\n                        .build();\r\n            }\r\n            return cockroachDbRepository.saveAndFlush(geoObject);\r\n    }\r\n\r\npom.xml:\r\n\r\n \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.33.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.33.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Spring Data JPA Multiple DataSources - CockroachDb Spatial","body":"<p>My application has two data sources.\nFirst datasource access Postgre using JdbcTemplate.\nSecond datasource access CockroachDb using Spring Data JPA.</p>\n<p>So i created two configurations for this datasources.</p>\n<p>Persisting to both datasources works fine, except objects with spatial data.\nWhen i trying to save spatial data to CockroachDb, i get an error:</p>\n<blockquote>\n<p>Hibernate: select geoobject0_.id as id1_2_0_, geoobject0_.address as\naddress2_2_0_, geoobject0_.address_id as address_3_2_0_,\ngeoobject0_.created as created4_2_0_, geoobject0_.flat_count as\nflat_cou5_2_0_, geoobject0_.geo_provider_id as geo_prov6_2_0_,\ngeoobject0_.geometry as geometry7_2_0_, geoobject0_.hq_id as\nhq_id8_2_0_, geoobject0_.is_generated as is_gener9_2_0_,\ngeoobject0_.is_living as is_livi10_2_0_, geoobject0_.payload as\npayload11_2_0_, geoobject0_.source_id as source_12_2_0_,\ngeoobject0_.type as type13_2_0_, geoobject0_.uic_id as uic_id14_2_0_,\ngeoobject0_.version_id as version15_2_0_, geoobject0_.voter_count as\nvoter_c16_2_0_ from geo_service.geo_object geoobject0_ where\ngeoobject0_.id=? Hibernate: insert into geo_service.geo_object\n(address, address_id, created, flat_count, geo_provider_id, geometry,\nhq_id, is_generated, is_living, payload, source_id, type, uic_id,\nversion_id, voter_count, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,\n?, ?, ?, ?, ?) 2022-01-18 17:01:39.583\n[ForkJoinPool.commonPool-worker-3] WARN\no.h.e.jdbc.spi.SqlExceptionHelper logExceptions() - SQL Error: 0,\nSQLState: XXUUU  2022-01-18 17:01:39.584\n[ForkJoinPool.commonPool-worker-3] ERROR\no.h.e.jdbc.spi.SqlExceptionHelper logExceptions() - ERROR: wkb:\nunknown byte order: 10101100</p>\n</blockquote>\n<p>Java configuration:</p>\n<p>For Postgre:</p>\n<pre><code>@Configuration\npublic class UicDbConfig {\n\n    @Bean(name = &quot;uicDataSource&quot;)\n    @Qualifier(&quot;uicDataSource&quot;)\n    @Primary\n    @ConfigurationProperties(prefix=&quot;spring.uic.datasource&quot;)\n    public DataSource secondaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n}\n</code></pre>\n<p>For CockroachDb:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;ru.stimul.geoservice.repo&quot;,\n        entityManagerFactoryRef = &quot;primaryEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;primaryTransactionManager&quot;)\npublic class CockroachDbConfig {\n\n    @Autowired\n    private Environment env;\n\n    @Bean(&quot;primaryDataSource&quot;)\n    @ConfigurationProperties(prefix=&quot;spring.primary.datasource&quot;)\n    public DataSource primaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;primaryEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean primaryEntityManagerFactory(EntityManagerFactoryBuilder builder\n            ,@Qualifier(&quot;primaryDataSource&quot;) DataSource primaryDataSource){\n\n        LocalContainerEntityManagerFactoryBean em = builder\n                .dataSource(primaryDataSource)\n                .packages(&quot;ru.stimul.geoservice.domain.primary&quot;)\n                .persistenceUnit(&quot;domains&quot;)\n                .build();\n\n        final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n\n        return em;\n\n    }\n\n    @Bean(name = &quot;primaryTransactionManager&quot;)\n    public JpaTransactionManager transactionManager(@Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory){\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(primaryEntityManagerFactory);\n\n        return transactionManager;\n    }\n\n\n    private Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.primary.jpa.properties.hibernate.dialect&quot;));\n        properties.setProperty(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;spring.primary.jpa.show-sql&quot;));\n        return properties;\n    }\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>spring:\n  application.name: geo-service\n  http:\n    encoding:\n      charset: UTF-8\n      enabled: true\n  main:\n    allow-bean-definition-overriding: true\n\n  primary:\n    datasource:\n      jdbcUrl: jdbc:postgresql://localhost:26257/geo_service\n      driverClassName: org.postgresql.Driver\n      username: admin\n      password: \n    jpa:\n      show-sql: true\n      hibernate:\n        ddl-auto: none\n      properties:\n        hibernate:\n          dialect: org.hibernate.spatial.dialect.cockroachdb.CockroachDB202SpatialDialect\n      generate-ddl: false\n\n  uic:\n    datasource:\n      jdbc-url: &quot;jdbc:postgresql://localhost:2222/uic&quot;\n      driverClassName: org.postgresql.Driver\n      username: postgres\n      password: \n      schema: \n      hikari:\n        connectionTimeout: 20000\n        maximumPoolSize: 10\n      max-active: 3\n      initial-size: 1\n      max-idle: 2\n      min-idle: 1\n      test-while-idle: true\n      test-on-borrow: true\n      max-idle-time: 160000\n      max-lifetime: 0\n</code></pre>\n<p>Domain object:</p>\n<pre><code>import com.vividsolutions.jts.geom.Point;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport ru.stimul.geoservice.Geo;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Data\n@Builder(toBuilder = true)\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;geo_object&quot;, schema = &quot;geo_service&quot;)\n@Slf4j\npublic class GeoObject {\n\n    @Id\n    @Column\n    String id;\n\n    @Column\n    Long created;\n\n    @Column(name = &quot;version_id&quot;)\n    String versionId;\n\n    @Column(name = &quot;hq_id&quot;)\n    String hqId;\n\n    @Column(name = &quot;source_id&quot;)\n    String sourceId;\n\n    @Column(name = &quot;geo_provider_id&quot;)\n    String geoProviderId;\n\n    @Column(name = &quot;uic_id&quot;)\n    String uicId;\n\n    @Column(name = &quot;address_id&quot;)\n    String addressId;\n\n    Point geometry;\n\n    @Column\n    String address;\n\n    @Column\n    String type;\n\n    @Column(name = &quot;flat_count&quot;)\n    Long flatCount;\n\n    @Column(name = &quot;voter_count&quot;)\n    Long voterCount;\n\n    @Column(name = &quot;is_living&quot;)\n    boolean isLiving;\n\n    @Column(name = &quot;is_generated&quot;)\n    boolean isGenerated;\n\n    @Column(length = 2000)\n    String payload;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>package ru.stimul.geoservice.repo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport ru.stimul.geoservice.domain.primary.GeoObject;\n\n@Repository\npublic interface CockroachDbRepository extends JpaRepository&lt;GeoObject, String&gt; {\n}\n\n \n</code></pre>\n<p>Service:</p>\n<pre><code>public GeoObject upsertWithoutAccessCheck(String requestId, GeoObject geoObject) {\n        if (Objects.isNull(geoObject.getId()) || StringUtils.isEmpty(geoObject.getId())) {\n            geoObject = geoObject.toBuilder()\n                    .id(UUID.randomUUID().toString())\n                    .build();\n        }\n        return cockroachDbRepository.saveAndFlush(geoObject);\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.33.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n            &lt;version&gt;5.4.33.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661932989,"post_id":73544737,"comment_id":129886638,"body_markdown":"Spring 5.0 doesn&#39;t support Java17, either switch to Spring 5.3 or use java 11.","body":"Spring 5.0 doesn&#39;t support Java17, either switch to Spring 5.3 or use java 11."}],"answers":[{"tags":[],"owner":{"account_id":13177851,"reputation":557,"user_id":9518232,"display_name":"Euklios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661873597,"creation_date":1661873597,"answer_id":73545044,"question_id":73544737,"body_markdown":"Your error is caused by the later part `Failed to introspect class ...`.\r\nThis is usually caused by a missing dependency.\r\n\r\nIncluding the following dependency in your `pom.xml`\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOr something like this in your Gradle config (not sure if the syntax is correct, haven&#39;t been using Gradle for a very long time):\r\n```gradle\r\nimplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n```\r\n\r\nShould solve your issue.\r\nOtherwise, please provide your project configuration (pom or Gradle config) and StackTrace, if available.","title":"Cannot create bean with the name RequestMappingHandlerMapping&#39;","body":"<p>Your error is caused by the later part <code>Failed to introspect class ...</code>.\nThis is usually caused by a missing dependency.</p>\n<p>Including the following dependency in your <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or something like this in your Gradle config (not sure if the syntax is correct, haven't been using Gradle for a very long time):</p>\n<pre><code>implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n</code></pre>\n<p>Should solve your issue.\nOtherwise, please provide your project configuration (pom or Gradle config) and StackTrace, if available.</p>\n"}],"owner":{"account_id":15367816,"reputation":11,"user_id":11086754,"display_name":"BuzzSkywalkerV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661928081,"creation_date":1661872293,"question_id":73544737,"body_markdown":"I am trying to learn Spring with Hibernate. I am using Java 17.0.4; Hibernate 5.3.26; and Spring 5.0.2. I am taking Chad Darby&#39;s Udemy Course &quot;Spring and Hibernate for Beginners (includes Spring Boot). I am having the following problem:\r\n\r\nMy stack trace:\r\n\r\n```\r\nAug 29, 2022 2:47:41 PM org.springframework.web.servlet.FrameworkServlet initServletBean\r\nSEVERE: Context initialization failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#39;: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: web-customer-tracker\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@458ad742\r\n```\r\nMy controller:\r\n```\r\npackage com.luv2code.springdemo.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/customer&quot;)\r\npublic class CustomerController {\r\n\r\n\t@RequestMapping(&quot;/list&quot;)\r\n\tpublic String listCustomers(Model theModel) {\r\n\t\t\r\n\t\treturn &quot;list-customers&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\nMy JSP (list-customers.jsp)\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;title&gt;List Customers&lt;/title&gt;\r\n\t\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\nList Customers - coming soon ...\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nMy web.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n  &lt;display-name&gt;spring-mvc-crud-demo&lt;/display-name&gt;\r\n\r\n  &lt;absolute-ordering /&gt;\r\n\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      &lt;param-value&gt;/WEB-INF/spring-mvc-crud-demo-servlet.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n  \r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n","title":"Cannot create bean with the name RequestMappingHandlerMapping&#39;","body":"<p>I am trying to learn Spring with Hibernate. I am using Java 17.0.4; Hibernate 5.3.26; and Spring 5.0.2. I am taking Chad Darby's Udemy Course &quot;Spring and Hibernate for Beginners (includes Spring Boot). I am having the following problem:</p>\n<p>My stack trace:</p>\n<pre><code>Aug 29, 2022 2:47:41 PM org.springframework.web.servlet.FrameworkServlet initServletBean\nSEVERE: Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: web-customer-tracker\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@458ad742\n</code></pre>\n<p>My controller:</p>\n<pre><code>package com.luv2code.springdemo.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/customer&quot;)\npublic class CustomerController {\n\n    @RequestMapping(&quot;/list&quot;)\n    public String listCustomers(Model theModel) {\n        \n        return &quot;list-customers&quot;;\n    }\n    \n}\n</code></pre>\n<p>My JSP (list-customers.jsp)</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;List Customers&lt;/title&gt;\n    \n&lt;/head&gt;\n\n&lt;body&gt;\n\nList Customers - coming soon ...\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>My web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n  &lt;display-name&gt;spring-mvc-crud-demo&lt;/display-name&gt;\n\n  &lt;absolute-ordering /&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n      &lt;param-value&gt;/WEB-INF/spring-mvc-crud-demo-servlet.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  \n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","encryption","ssh","key","sftp"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661927931,"creation_date":1625083063,"answer_id":68200921,"question_id":68200697,"body_markdown":"JSch supports encrypted .ppk key files.\r\n\r\nBut it supports only version 2 of the .ppk format. Maybe your encrypted .ppk file is in the new version 3, which is produced by PuTTYgen 0.75 and newer. Such keys start like this:\r\n\r\n``` none\r\nPuTTY-User-Key-File-3: ssh-rsa\r\nEncryption: aes256-cbc\r\n...\r\n```\r\n\r\nIf that&#39;s the case, you will have to use PuTTYgen to convert the key to the version 2.","title":"JSch with encrypted putty private (ppk) for authentation","body":"<p>JSch supports encrypted .ppk key files.</p>\n<p>But it supports only version 2 of the .ppk format. Maybe your encrypted .ppk file is in the new version 3, which is produced by PuTTYgen 0.75 and newer. Such keys start like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>PuTTY-User-Key-File-3: ssh-rsa\nEncryption: aes256-cbc\n...\n</code></pre>\n<p>If that's the case, you will have to use PuTTYgen to convert the key to the version 2.</p>\n"}],"owner":{"account_id":21154334,"reputation":11,"user_id":15553940,"display_name":"kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1149,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661927931,"creation_date":1625081691,"question_id":68200697,"body_markdown":"I have been stuck for a while to get the SFTP auth through Java JSch.\r\n\r\nThe following code snippet works if the ppk is not encrypted:\r\n\r\n        jsch.addIdentity(username, certificateBytes , null, null);\r\n\r\nHowever, the ppk is encrypted. I tried to pass the password of the key to jsch as:\r\n\r\n        jsch.addIdentity(username, certificateBytes , null, &quot;password&quot;);\r\n\r\nIt doesn&#39;t work since jsch seems doesn&#39;t support to decrypt ppk. I am wondering how can I decrypt the encrypted ppk in Java? \r\n\r\nThanks","title":"JSch with encrypted putty private (ppk) for authentation","body":"<p>I have been stuck for a while to get the SFTP auth through Java JSch.</p>\n<p>The following code snippet works if the ppk is not encrypted:</p>\n<pre><code>    jsch.addIdentity(username, certificateBytes , null, null);\n</code></pre>\n<p>However, the ppk is encrypted. I tried to pass the password of the key to jsch as:</p>\n<pre><code>    jsch.addIdentity(username, certificateBytes , null, &quot;password&quot;);\n</code></pre>\n<p>It doesn't work since jsch seems doesn't support to decrypt ppk. I am wondering how can I decrypt the encrypted ppk in Java?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4928086,"reputation":722,"user_id":3968793,"accept_rate":100,"display_name":"ballBreaker"},"score":0,"creation_date":1629131744,"post_id":68806116,"comment_id":121600700,"body_markdown":"Try adding \nhttps://mvnrepository.com/artifact/androidx.legacy/legacy-support-core-utils\nto your repositories","body":"Try adding  <a href=\"https://mvnrepository.com/artifact/androidx.legacy/legacy-support-core-utils\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/androidx.legacy/&hellip;</a> to your repositories"},{"owner":{"account_id":20834223,"reputation":434,"user_id":15302788,"display_name":"TLP Masih"},"score":0,"creation_date":1629141442,"post_id":68806116,"comment_id":121603940,"body_markdown":"@ballBreaker Nope, didn&#39;t fixed. But for more reassurance, can you give me the code how to add this url in repositories lists? maybe i&#39;m doing something wrong!","body":"@ballBreaker Nope, didn&#39;t fixed. But for more reassurance, can you give me the code how to add this url in repositories lists? maybe i&#39;m doing something wrong!"}],"answers":[{"tags":[],"owner":{"account_id":22161526,"reputation":1,"user_id":16408446,"display_name":"emad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633287422,"creation_date":1633287422,"answer_id":69427979,"question_id":68806116,"body_markdown":"Update your Gradle and your matter will be solved by this ","title":"Android Studio: Could not find legacy-support-core-utils-1.0.0.jar","body":"<p>Update your Gradle and your matter will be solved by this</p>\n"},{"tags":[],"owner":{"account_id":17591300,"reputation":1,"user_id":12763106,"display_name":"Amirhossein Hamidian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661927820,"creation_date":1661927820,"answer_id":73551765,"question_id":68806116,"body_markdown":"just exclude androidx legacy support \r\n\r\n    implementation (&#39;com.mapbox.maps:android:10.7.0&#39;) {\r\n        exclude group: &#39;androidx.legacy&#39;, module: &#39;legacy-support-core-utils&#39;\r\n        exclude group: &#39;androidx.interpolator&#39;, module: &#39;interpolator&#39;\r\n    }","title":"Android Studio: Could not find legacy-support-core-utils-1.0.0.jar","body":"<p>just exclude androidx legacy support</p>\n<pre><code>implementation ('com.mapbox.maps:android:10.7.0') {\n    exclude group: 'androidx.legacy', module: 'legacy-support-core-utils'\n    exclude group: 'androidx.interpolator', module: 'interpolator'\n}\n</code></pre>\n"}],"owner":{"account_id":20834223,"reputation":434,"user_id":15302788,"display_name":"TLP Masih"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661927820,"creation_date":1629130444,"question_id":68806116,"body_markdown":"Recently someone sent me one android project for training. I&#39;m learning Android Studio, and when i want to build this project, it show this error message:\r\n\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n       &gt; Could not find legacy-support-core-utils-1.0.0.jar (androidx.legacy:legacy-support-core-utils:1.0.0).\r\n         Searched in the following locations:\r\n             https://maven.google.com/androidx/legacy/legacy-support-core-utils/1.0.0/legacy-support-core-utils-1.0.0.jar\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\nI searched for `legacy-support-core-utils-1.0.0.jar` and couldn&#39;t find this in any repositories. This is first time i see this problem ever!\r\n\r\nThese are my dependencies:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n        implementation &#39;com.android.volley:volley:1.2.0&#39;\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:28.2.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-core&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging&#39;\r\n        implementation &#39;com.google.firebase:firebase-database&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage&#39;\r\n        implementation &#39;com.facebook.android:facebook-android-sdk:5.15.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &#39;com.hbb20:ccp:2.5.3&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:19.0.0&#39;\r\n        implementation &#39;com.google.android.play:core:1.10.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:20.2.0&#39;\r\n        implementation &#39;com.github.CanHub:Android-Image-Cropper:3.1.2&#39;\r\n        implementation &#39;com.facebook.shimmer:shimmer:0.1.0@aar&#39;\r\n        implementation &#39;com.android.billingclient:billing:3.0.1&#39;\r\n        implementation &quot;androidx.preference:preference:1.1.1&quot;\r\n    \r\n        implementation &#39;org.jetbrains:annotations:15.0&#39;\r\n        def lifecycle_version = &quot;2.0.0&quot;\r\n        //noinspection GradleDependency\r\n        implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\r\n        //noinspection GradleDependency\r\n        implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n        //noinspection LifecycleAnnotationProcessorWithJava8\r\n        annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n        implementation(&#39;io.jsonwebtoken:jjwt:0.9.1&#39;)\r\n        androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.1.0&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nAnd my repositories in build.gradle:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            maven {\r\n                url &#39;https://mvnrepository.com/&#39;\r\n            }\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n            maven { url &quot;https://android.googlesource.com/&quot; }\r\n            maven { url &quot;https://maven.fabric.io/public&quot; }\r\n            maven { url &quot;https://raw.githubusercontent.com/2br-2b/Fdroid-repo/master/fdroid/repo/&quot; }\r\n            maven { url &quot;https://mobileapp.bitwarden.com/fdroid/repo&quot; }\r\n            maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\r\n            maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\r\n            maven {\r\n                url &#39;https://maven.fabric.io/public&#39;\r\n            }\r\n            maven {\r\n                url &#39;https://maven.google.com&#39;\r\n            }\r\n            google()\r\n            jcenter()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    \r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenCentral()\r\n            maven {\r\n                url &#39;https://mvnrepository.com/&#39;\r\n            }\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n            maven { url &quot;https://android.googlesource.com/&quot; }\r\n            maven { url &quot;https://maven.fabric.io/public&quot; }\r\n            maven { url &quot;https://raw.githubusercontent.com/2br-2b/Fdroid-repo/master/fdroid/repo/&quot; }\r\n            maven { url &quot;https://mobileapp.bitwarden.com/fdroid/repo&quot; }\r\n            maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\r\n            maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\r\n            maven {\r\n                url &#39;https://maven.fabric.io/public&#39;\r\n            }\r\n            maven {\r\n                url &#39;https://maven.google.com&#39;\r\n            }\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\nAnd my **gradle-wrapper.properties** file:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.1-all.zip\r\n\r\nCan someone help me about this? How can i fix this problem?","title":"Android Studio: Could not find legacy-support-core-utils-1.0.0.jar","body":"<p>Recently someone sent me one android project for training. I'm learning Android Studio, and when i want to build this project, it show this error message:</p>\n<pre><code>Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Could not resolve all files for configuration ':app:debugCompileClasspath'.\n   &gt; Could not find legacy-support-core-utils-1.0.0.jar (androidx.legacy:legacy-support-core-utils:1.0.0).\n     Searched in the following locations:\n         https://maven.google.com/androidx/legacy/legacy-support-core-utils/1.0.0/legacy-support-core-utils-1.0.0.jar\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>I searched for <code>legacy-support-core-utils-1.0.0.jar</code> and couldn't find this in any repositories. This is first time i see this problem ever!</p>\n<p>These are my dependencies:</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'com.android.volley:volley:1.2.0'\n    implementation platform('com.google.firebase:firebase-bom:28.2.0')\n    implementation 'com.google.firebase:firebase-core'\n    implementation 'com.google.firebase:firebase-messaging'\n    implementation 'com.google.firebase:firebase-database'\n    implementation 'com.google.firebase:firebase-storage'\n    implementation 'com.facebook.android:facebook-android-sdk:5.15.3'\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.hbb20:ccp:2.5.3'\n    implementation 'com.google.android.gms:play-services-auth:19.0.0'\n    implementation 'com.google.android.play:core:1.10.0'\n    implementation 'com.google.android.gms:play-services-ads:20.2.0'\n    implementation 'com.github.CanHub:Android-Image-Cropper:3.1.2'\n    implementation 'com.facebook.shimmer:shimmer:0.1.0@aar'\n    implementation 'com.android.billingclient:billing:3.0.1'\n    implementation &quot;androidx.preference:preference:1.1.1&quot;\n\n    implementation 'org.jetbrains:annotations:15.0'\n    def lifecycle_version = &quot;2.0.0&quot;\n    //noinspection GradleDependency\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\n    //noinspection GradleDependency\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n    //noinspection LifecycleAnnotationProcessorWithJava8\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n    implementation('io.jsonwebtoken:jjwt:0.9.1')\n    androidTestImplementation('androidx.test.espresso:espresso-core:3.1.0', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>And my repositories in build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        maven {\n            url 'https://mvnrepository.com/'\n        }\n        maven { url &quot;https://jitpack.io&quot; }\n        maven { url &quot;https://android.googlesource.com/&quot; }\n        maven { url &quot;https://maven.fabric.io/public&quot; }\n        maven { url &quot;https://raw.githubusercontent.com/2br-2b/Fdroid-repo/master/fdroid/repo/&quot; }\n        maven { url &quot;https://mobileapp.bitwarden.com/fdroid/repo&quot; }\n        maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\n        maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\n        maven {\n            url 'https://maven.fabric.io/public'\n        }\n        maven {\n            url 'https://maven.google.com'\n        }\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.2'\n        classpath 'com.google.gms:google-services:4.3.5'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        maven {\n            url 'https://mvnrepository.com/'\n        }\n        maven { url &quot;https://jitpack.io&quot; }\n        maven { url &quot;https://android.googlesource.com/&quot; }\n        maven { url &quot;https://maven.fabric.io/public&quot; }\n        maven { url &quot;https://raw.githubusercontent.com/2br-2b/Fdroid-repo/master/fdroid/repo/&quot; }\n        maven { url &quot;https://mobileapp.bitwarden.com/fdroid/repo&quot; }\n        maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\n        maven { url &quot;https://fdroid.bromite.org/fdroid/repo/&quot; }\n        maven {\n            url 'https://maven.fabric.io/public'\n        }\n        maven {\n            url 'https://maven.google.com'\n        }\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And my <strong>gradle-wrapper.properties</strong> file:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.1-all.zip\n</code></pre>\n<p>Can someone help me about this? How can i fix this problem?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":7455359,"reputation":961,"user_id":5668795,"display_name":"Alexander Petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535750896,"creation_date":1535750896,"answer_id":52122775,"question_id":52120070,"body_markdown":"You need  to add paging support to your Repositories, you need to extend the \r\n\r\n    PagingAndSortingRepository&lt;T,ID&gt;\r\n\r\n \r\ninterface rather than the basic \r\n\r\n    CrudRepository&lt;T,ID&gt; \r\n\r\ninterface. This adds methods that accept a Pageable to control the number and page of results returned.\r\n\r\n    public Page findAll(Pageable pageable);\r\n\r\nCheck it here https://docs.spring.io/spring-data/rest/docs/2.0.0.M1/reference/html/paging-chapter.html","title":"&quot;spring.data.web.pageable.one-indexed-parameters=true&quot; does not work","body":"<p>You need  to add paging support to your Repositories, you need to extend the </p>\n\n<pre><code>PagingAndSortingRepository&lt;T,ID&gt;\n</code></pre>\n\n<p>interface rather than the basic </p>\n\n<pre><code>CrudRepository&lt;T,ID&gt; \n</code></pre>\n\n<p>interface. This adds methods that accept a Pageable to control the number and page of results returned.</p>\n\n<pre><code>public Page findAll(Pageable pageable);\n</code></pre>\n\n<p>Check it here <a href=\"https://docs.spring.io/spring-data/rest/docs/2.0.0.M1/reference/html/paging-chapter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/2.0.0.M1/reference/html/paging-chapter.html</a></p>\n"},{"tags":[],"owner":{"account_id":1422319,"reputation":129,"user_id":1346710,"display_name":"jimlgx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658152389,"creation_date":1536689597,"answer_id":52281896,"question_id":52120070,"body_markdown":"i think that is bug . see [https://github.com/spring-projects/spring-boot/issues/14413][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/14413\r\n\r\n`SpringDataWebAutoConfiguration` should before `RepositoryRestMvcAutoConfiguration`，this makes `PageableHandlerMethodArgumentResolverCustomizer` not work ,so cofig yml `spring.data.web.pageable` not work","title":"&quot;spring.data.web.pageable.one-indexed-parameters=true&quot; does not work","body":"<p>i think that is bug . see <a href=\"https://github.com/spring-projects/spring-boot/issues/14413\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/14413</a></p>\n<p><code>SpringDataWebAutoConfiguration</code> should before <code>RepositoryRestMvcAutoConfiguration</code>，this makes <code>PageableHandlerMethodArgumentResolverCustomizer</code> not work ,so cofig yml <code>spring.data.web.pageable</code> not work</p>\n"},{"tags":[],"owner":{"account_id":2905118,"reputation":41,"user_id":2490718,"display_name":"lizhao"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555748410,"creation_date":1555748410,"answer_id":55771647,"question_id":52120070,"body_markdown":"```\r\n@Configuration\r\npublic class PageableConfig {\r\n\r\n    @Bean\r\n    PageableHandlerMethodArgumentResolverCustomizer pageableResolverCustomizer() {\r\n        return pageableResolver -&gt; pageableResolver.setOneIndexedParameters(true);\r\n    }\r\n}\r\n```","title":"&quot;spring.data.web.pageable.one-indexed-parameters=true&quot; does not work","body":"<pre><code>@Configuration\npublic class PageableConfig {\n\n    @Bean\n    PageableHandlerMethodArgumentResolverCustomizer pageableResolverCustomizer() {\n        return pageableResolver -&gt; pageableResolver.setOneIndexedParameters(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580456587,"creation_date":1580456587,"answer_id":59999787,"question_id":52120070,"body_markdown":"The property **spring.data.web.pageable.one-indexed-parameters=true** only controls the behaviour of how to automatically bind pagination parameters to a web request handler method&#39;s **Pageable** argument.\r\n\r\n\r\n**Case 1:** The default behaviour which is **spring.data.web.pageable.one-indexed-parameters=false** and when a request is made with *http://localhost:8080/api/customers?**page=5***\r\n\r\n    @GetMapping(&quot;/api/customers&quot;)\r\n    public List&lt;Customer&gt; getCustomers(Pageable pageable) {\r\n       //here pageable.getPageNumber() == 5\r\n       Page&lt;Customer&gt; customersPage = customerRepository.findAll(pageable);\r\n       //here customersPage.getNumber() == 5\r\n    }\r\n\r\n**Case 2:** With **spring.data.web.pageable.one-indexed-parameters=true** and when a request is made with http://localhost:8080/api/customers?page=5\r\n\r\n    @GetMapping(&quot;/api/customers&quot;)\r\n    public List&lt;Customer&gt; getCustomers(Pageable pageable) {\r\n       //here pageable.getPageNumber() == 4\r\n       Page&lt;Customer&gt; customersPage = customerRepository.findAll(pageable);\r\n       //here customersPage.getNumber() == 4\r\n    }\r\n\r\nNote that once you get the data **Page&lt;Customer&gt; customersPage** if you check **customersPage.getNumber()** it will simply return what is there in **pageable.getPageNumber()** which is 4. We might expect 5 hoping one-indexed-parameters would return 5 using 1-based indexing but that&#39;s not the case.\r\n","title":"&quot;spring.data.web.pageable.one-indexed-parameters=true&quot; does not work","body":"<p>The property <strong>spring.data.web.pageable.one-indexed-parameters=true</strong> only controls the behaviour of how to automatically bind pagination parameters to a web request handler method's <strong>Pageable</strong> argument.</p>\n\n<p><strong>Case 1:</strong> The default behaviour which is <strong>spring.data.web.pageable.one-indexed-parameters=false</strong> and when a request is made with <em><a href=\"http://localhost:8080/api/customers\" rel=\"noreferrer\">http://localhost:8080/api/customers</a>?<strong>page=5</em></strong></p>\n\n<pre><code>@GetMapping(\"/api/customers\")\npublic List&lt;Customer&gt; getCustomers(Pageable pageable) {\n   //here pageable.getPageNumber() == 5\n   Page&lt;Customer&gt; customersPage = customerRepository.findAll(pageable);\n   //here customersPage.getNumber() == 5\n}\n</code></pre>\n\n<p><strong>Case 2:</strong> With <strong>spring.data.web.pageable.one-indexed-parameters=true</strong> and when a request is made with <a href=\"http://localhost:8080/api/customers?page=5\" rel=\"noreferrer\">http://localhost:8080/api/customers?page=5</a></p>\n\n<pre><code>@GetMapping(\"/api/customers\")\npublic List&lt;Customer&gt; getCustomers(Pageable pageable) {\n   //here pageable.getPageNumber() == 4\n   Page&lt;Customer&gt; customersPage = customerRepository.findAll(pageable);\n   //here customersPage.getNumber() == 4\n}\n</code></pre>\n\n<p>Note that once you get the data <strong>Page customersPage</strong> if you check <strong>customersPage.getNumber()</strong> it will simply return what is there in <strong>pageable.getPageNumber()</strong> which is 4. We might expect 5 hoping one-indexed-parameters would return 5 using 1-based indexing but that's not the case.</p>\n"},{"tags":[],"owner":{"account_id":4680959,"reputation":4579,"user_id":3789686,"accept_rate":80,"display_name":"Gopal Singh Sirvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658154772,"creation_date":1658154772,"answer_id":73024054,"question_id":52120070,"body_markdown":"There are lots of confustions about this on the internet. Here is the link to read more about it https://github.com/spring-projects/spring-boot/issues/14413.\r\n\r\nSince this is not a solution to the original question but it may help dealing with this issue.\r\n\r\nCreate a utility class to create the `PageRequest` and then parse the **paging information** from the Page you get from the repository.\r\n\r\n**Explaination**\r\nIt just reduces the page number from the request and increases in the response. That&#39;s how the API consumer will always have one indexed page. \r\n\r\n`PagintUtils` class.\r\n\r\n    public class PagingUtils {\r\n        public static PagingInfoDto getPagingInfoFromPage(Page page){\r\n            PagingInfoDto pagingInfoDto = new PagingInfoDto();\r\n            int currentPage = page.getNumber() + 1;\r\n            pagingInfoDto.setCurrentPage(currentPage);\r\n            pagingInfoDto.setTotalPages(page.getTotalPages());\r\n            pagingInfoDto.setTotalItems(page.getTotalElements());\r\n            pagingInfoDto.setItemPerPage(page.getSize());\r\n            return pagingInfoDto;\r\n        }\r\n    \r\n        public static PageRequest getPageRequest(int pageNumber, int pageSize){\r\n            return PageRequest.of(--pageNumber, pageSize);\r\n        }\r\n    }\r\n\r\nTo use it for example in service layer.\r\n\r\n    Pageable pageable = PagingUtils.getPageRequest(pageNumber, pageSize);\r\n    Page&lt;CommentEntity&gt; page = commentsRepository.getCommentReplies(commentId, pageable);\r\n    PagingInfoDto pagingInfoDto = PagingUtils.getPagingInfoFromPage(page);\r\n\r\nIt will retrun in the json as follows.\r\n \r\n\r\n    &quot;PagingInfo&quot;: {\r\n            &quot;TotalPages&quot;: 3,\r\n            &quot;CurrentPage&quot;: 3,\r\n            &quot;TotalItems&quot;: 5,\r\n            &quot;ItemPerPage&quot;: 2\r\n        }\r\n`PagingInfoDto` class\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class PagingInfoDto {\r\n        private int totalPages;\r\n        private int currentPage;\r\n        private long totalItems;\r\n        private int itemPerPage;\r\n    }","title":"&quot;spring.data.web.pageable.one-indexed-parameters=true&quot; does not work","body":"<p>There are lots of confustions about this on the internet. Here is the link to read more about it <a href=\"https://github.com/spring-projects/spring-boot/issues/14413\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/14413</a>.</p>\n<p>Since this is not a solution to the original question but it may help dealing with this issue.</p>\n<p>Create a utility class to create the <code>PageRequest</code> and then parse the <strong>paging information</strong> from the Page you get from the repository.</p>\n<p><strong>Explaination</strong>\nIt just reduces the page number from the request and increases in the response. That's how the API consumer will always have one indexed page.</p>\n<p><code>PagintUtils</code> class.</p>\n<pre><code>public class PagingUtils {\n    public static PagingInfoDto getPagingInfoFromPage(Page page){\n        PagingInfoDto pagingInfoDto = new PagingInfoDto();\n        int currentPage = page.getNumber() + 1;\n        pagingInfoDto.setCurrentPage(currentPage);\n        pagingInfoDto.setTotalPages(page.getTotalPages());\n        pagingInfoDto.setTotalItems(page.getTotalElements());\n        pagingInfoDto.setItemPerPage(page.getSize());\n        return pagingInfoDto;\n    }\n\n    public static PageRequest getPageRequest(int pageNumber, int pageSize){\n        return PageRequest.of(--pageNumber, pageSize);\n    }\n}\n</code></pre>\n<p>To use it for example in service layer.</p>\n<pre><code>Pageable pageable = PagingUtils.getPageRequest(pageNumber, pageSize);\nPage&lt;CommentEntity&gt; page = commentsRepository.getCommentReplies(commentId, pageable);\nPagingInfoDto pagingInfoDto = PagingUtils.getPagingInfoFromPage(page);\n</code></pre>\n<p>It will retrun in the json as follows.</p>\n<pre><code>&quot;PagingInfo&quot;: {\n        &quot;TotalPages&quot;: 3,\n        &quot;CurrentPage&quot;: 3,\n        &quot;TotalItems&quot;: 5,\n        &quot;ItemPerPage&quot;: 2\n    }\n</code></pre>\n<p><code>PagingInfoDto</code> class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class PagingInfoDto {\n    private int totalPages;\n    private int currentPage;\n    private long totalItems;\n    private int itemPerPage;\n}\n</code></pre>\n"}],"owner":{"display_name":"user10274190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6624,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1661927771,"creation_date":1535735700,"question_id":52120070,"body_markdown":"in my Spring Boot Rest Service I want to implement a getAll method with pagination for lazy loading in frontend later.\r\n\r\nAt the moment I have to request with page 0 if I want the first set of rows. With the following config inserted in the application.properties it should work...\r\n     spring.data.web.pageable.one-indexed-parameters=true\r\n... but it doesn&#39;t. \r\n\r\nDoes anybody knows why or is this a legacy way? I&#39;m using spring-boot-starter-web and data-jpa in version 2.0.4.RELEASE.\r\n\r\nThanks a lot!\r\n\r\n\r\nedit, here is the service method, maybe PageRequest can&#39;t handle this.\r\n\r\n    public List&lt;TransactionResponseDTO&gt; findAll(int pageNumber, int     pageSize) {\r\n \r\n        List&lt;TransactionResponseDTO&gt; transactionResponseDTOs = new ArrayList&lt;&gt;();\r\n\r\n        PageRequest pageRequest = PageRequest.of(pageNumber, pageSize);\r\n\r\n        List&lt;TransactionEntity&gt; transactionEntities =\r\n        transactionRepository.findAll(pageRequest).getContent();\r\n\r\n        for (TransactionEntity transactionEntity : transactionEntities) {\r\n            transactionResponseDTOs.add(convert(transactionEntity));\r\n        }\r\n\r\n        return transactionResponseDTOs;\r\n    }","title":"&quot;spring.data.web.pageable.one-indexed-parameters=true&quot; does not work","body":"<p>in my Spring Boot Rest Service I want to implement a getAll method with pagination for lazy loading in frontend later.</p>\n\n<p>At the moment I have to request with page 0 if I want the first set of rows. With the following config inserted in the application.properties it should work...\n     spring.data.web.pageable.one-indexed-parameters=true\n... but it doesn't. </p>\n\n<p>Does anybody knows why or is this a legacy way? I'm using spring-boot-starter-web and data-jpa in version 2.0.4.RELEASE.</p>\n\n<p>Thanks a lot!</p>\n\n<p>edit, here is the service method, maybe PageRequest can't handle this.</p>\n\n<pre><code>public List&lt;TransactionResponseDTO&gt; findAll(int pageNumber, int     pageSize) {\n\n    List&lt;TransactionResponseDTO&gt; transactionResponseDTOs = new ArrayList&lt;&gt;();\n\n    PageRequest pageRequest = PageRequest.of(pageNumber, pageSize);\n\n    List&lt;TransactionEntity&gt; transactionEntities =\n    transactionRepository.findAll(pageRequest).getContent();\n\n    for (TransactionEntity transactionEntity : transactionEntities) {\n        transactionResponseDTOs.add(convert(transactionEntity));\n    }\n\n    return transactionResponseDTOs;\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","bluetooth-gatt"],"comments":[{"owner":{"account_id":2551478,"reputation":12142,"user_id":2215147,"accept_rate":67,"display_name":"Youssif Saeed"},"score":0,"creation_date":1661494590,"post_id":73496704,"comment_id":129789971,"body_markdown":"You can achieve this with pairing/bonding and whitelisting. What device are you using as a GATT client and what device are you using as a GATT server? Are they both Android phones?","body":"You can achieve this with pairing/bonding and whitelisting. What device are you using as a GATT client and what device are you using as a GATT server? Are they both Android phones?"},{"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1661495716,"post_id":73496704,"comment_id":129790248,"body_markdown":"One is using Gatt Server and Second is Using Gatt Client, actually both device will have same code, Client / Server will be closed and connect based on needs.","body":"One is using Gatt Server and Second is Using Gatt Client, actually both device will have same code, Client / Server will be closed and connect based on needs."},{"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1661499551,"post_id":73496704,"comment_id":129791351,"body_markdown":"@YoussifSaeed Are they both Android phones? yes","body":"@YoussifSaeed Are they both Android phones? yes"}],"answers":[{"tags":[],"owner":{"account_id":2551478,"reputation":12142,"user_id":2215147,"accept_rate":67,"display_name":"Youssif Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661927768,"creation_date":1661927768,"answer_id":73551756,"question_id":73496704,"body_markdown":"The best way to achieve this is to have an encrypted characteristic on your GATT server, and then have the GATT client attempt to read it right after service discovery. This way you trigger a bonding procedure (and therefore the pairing dialog will pop up), and you&#39;ll have the last say on who/what device can connect to your device. This is described in the links below:-\r\n\r\n- [The ultimate guide to Android BLE (Bondig with a BLE device section)][1]\r\n- [Should a BLE device be paired or not][2]\r\n- [Is there a way to automatically accept pairing on Android][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73526939/audio-file-sharing-in-esp32-over-ble\r\n  [2]: https://stackoverflow.com/questions/68853944/should-a-ble-device-be-paired-or-not-or-what-are-the-conditions-a-device-shoul\r\n  [3]: https://stackoverflow.com/questions/68351673/is-there-any-way-to-automatically-accept-ble-pairing-request-in-android-11","title":"Bluetooth gatt server accept connection with some validations","body":"<p>The best way to achieve this is to have an encrypted characteristic on your GATT server, and then have the GATT client attempt to read it right after service discovery. This way you trigger a bonding procedure (and therefore the pairing dialog will pop up), and you'll have the last say on who/what device can connect to your device. This is described in the links below:-</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73526939/audio-file-sharing-in-esp32-over-ble\">The ultimate guide to Android BLE (Bondig with a BLE device section)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68853944/should-a-ble-device-be-paired-or-not-or-what-are-the-conditions-a-device-shoul\">Should a BLE device be paired or not</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68351673/is-there-any-way-to-automatically-accept-ble-pairing-request-in-android-11\">Is there a way to automatically accept pairing on Android</a></li>\n</ul>\n"}],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661927768,"creation_date":1661493958,"question_id":73496704,"body_markdown":"I am working on a Bluetooth-based application.\r\n\r\nGATT Server and Gatt Client, The above communication is working fine, I am not having an issue with it.\r\n\r\nThe problem is I am getting a connection from an **unknown device**, I want to allow connection from my app only if someone other tries to connect **I want to reject that connection**.\r\n\r\nHow can I implement that ?.\r\n\r\nIf a reject connection is not possible, how can I identify this connection is requested from my app, is there any way to add some security before connecting with my GATT server ?.\r\n\r\nThanks.\r\n\r\n","title":"Bluetooth gatt server accept connection with some validations","body":"<p>I am working on a Bluetooth-based application.</p>\n<p>GATT Server and Gatt Client, The above communication is working fine, I am not having an issue with it.</p>\n<p>The problem is I am getting a connection from an <strong>unknown device</strong>, I want to allow connection from my app only if someone other tries to connect <strong>I want to reject that connection</strong>.</p>\n<p>How can I implement that ?.</p>\n<p>If a reject connection is not possible, how can I identify this connection is requested from my app, is there any way to add some security before connecting with my GATT server ?.</p>\n<p>Thanks.</p>\n"},{"tags":["java","itext","openpdf"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1655818926,"post_id":72700707,"comment_id":128418023,"body_markdown":"I had a quick look, `PdfPCell.setRowspan` has been added to iText in version 2.1.6 and as such has been in OpenPDF ever since it was forked from iText. Also I clearly see it in the current OpenPDF sources. Thus, could it be that you additionally have a pre-2.1.6 version of iText in your class path? That would explain why you find a `PdfPCell` class without a `setRowspan` method.","body":"I had a quick look, <code>PdfPCell.setRowspan</code> has been added to iText in version 2.1.6 and as such has been in OpenPDF ever since it was forked from iText. Also I clearly see it in the current OpenPDF sources. Thus, could it be that you additionally have a pre-2.1.6 version of iText in your class path? That would explain why you find a <code>PdfPCell</code> class without a <code>setRowspan</code> method."},{"owner":{"account_id":25608859,"reputation":1,"user_id":19382568,"display_name":"GaryR"},"score":0,"creation_date":1655819786,"post_id":72700707,"comment_id":128418436,"body_markdown":"Looks like I also have this in maven \n&lt;dependency&gt;\n                &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n                &lt;artifactId&gt;itext&lt;/artifactId&gt;\n                &lt;version&gt;1.4.8&lt;/version&gt;\n&lt;/dependency&gt;","body":"Looks like I also have this in maven  &lt;dependency&gt;                 &lt;groupId&gt;com.lowagie&lt;/groupId&gt;                 &lt;artifactId&gt;itext&lt;/artifactId&gt;                 &lt;version&gt;1.4.8&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1655819963,"post_id":72700707,"comment_id":128418505,"body_markdown":"You&#39;ll have to decide which `com.lowagie.*` iText/OpenPDF version you want to use.","body":"You&#39;ll have to decide which <code>com.lowagie.*</code> iText/OpenPDF version you want to use."}],"owner":{"account_id":25608859,"reputation":1,"user_id":19382568,"display_name":"GaryR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661927751,"creation_date":1655814154,"question_id":72700707,"body_markdown":"Trying to move from iText 5.x.x to OpenPDF version.  I added the latest openpdf to my maven.\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\r\n         &lt;artifactId&gt;openpdf&lt;/artifactId&gt;\r\n         &lt;version&gt;1.3.28&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nImport the code into my java.\r\n\r\n    import com.lowagie.text.pdf.PdfPCell;\r\n\r\nBut when I enter the SetRowspan it says it&#39;s not found.  Doesn&#39;t even show in the helper dropdown.\r\n\r\n[![missing in the dropdown][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZoCjS.png\r\n\r\nThe documentation says it&#39;s there. SetColumnspan works fine.  No idea what I&#39;m missing.  Thoughts/suggestions?","title":"OpenPDF not showing SetRowspan","body":"<p>Trying to move from iText 5.x.x to OpenPDF version.  I added the latest openpdf to my maven.</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\n     &lt;artifactId&gt;openpdf&lt;/artifactId&gt;\n     &lt;version&gt;1.3.28&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Import the code into my java.</p>\n<pre><code>import com.lowagie.text.pdf.PdfPCell;\n</code></pre>\n<p>But when I enter the SetRowspan it says it's not found.  Doesn't even show in the helper dropdown.</p>\n<p><a href=\"https://i.stack.imgur.com/ZoCjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZoCjS.png\" alt=\"missing in the dropdown\" /></a></p>\n<p>The documentation says it's there. SetColumnspan works fine.  No idea what I'm missing.  Thoughts/suggestions?</p>\n"},{"tags":["java","android","xml","animation","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":20977711,"reputation":81,"user_id":15413284,"display_name":"Ivan Kopylov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661927544,"creation_date":1661927544,"answer_id":73551722,"question_id":70986279,"body_markdown":"Add `app:itemRippleColor=&quot;@null&quot;` to BottomNavigationView in layout xml.\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n    android:id=&quot;@+id/nav_view&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@drawable/white&quot;\r\n    android:outlineSpotShadowColor=&quot;@color/transparent&quot;\r\n    android:outlineAmbientShadowColor=&quot;@color/transparent&quot;\r\n    app:itemHorizontalTranslationEnabled=&quot;false&quot;\r\n    app:labelVisibilityMode=&quot;unlabeled&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n    app:menu=&quot;@menu/bottom_nav_menu&quot;\r\n    app:itemRippleColor=&quot;@null&quot; /&gt;","title":"Remove click event animation on BottomNavigationView","body":"<p>Add <code>app:itemRippleColor=&quot;@null&quot;</code> to BottomNavigationView in layout xml.</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\nandroid:id=&quot;@+id/nav_view&quot;\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:background=&quot;@drawable/white&quot;\nandroid:outlineSpotShadowColor=&quot;@color/transparent&quot;\nandroid:outlineAmbientShadowColor=&quot;@color/transparent&quot;\napp:itemHorizontalTranslationEnabled=&quot;false&quot;\napp:labelVisibilityMode=&quot;unlabeled&quot;\napp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\napp:layout_constraintLeft_toLeftOf=&quot;parent&quot;\napp:layout_constraintRight_toRightOf=&quot;parent&quot;\napp:menu=&quot;@menu/bottom_nav_menu&quot;\napp:itemRippleColor=&quot;@null&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":23786972,"reputation":57,"user_id":17798899,"display_name":"ludas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661927544,"creation_date":1643977102,"question_id":70986279,"body_markdown":"When I click an item in my Bottom Navigation Menu there&#39;s a &quot;click animation&quot;. I googled but couldn&#39;t find a way to remove that animation - just the shift/scale animation. This animation is a click event like a &#39;drop&#39; in water when an item is pressed. How can I disable that animation in .XML?\r\n\r\nHere&#39;s my Bottom Navigation in the activity.xml:\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/white&quot;\r\n        android:outlineSpotShadowColor=&quot;@color/transparent&quot;\r\n        android:outlineAmbientShadowColor=&quot;@color/transparent&quot;\r\n        app:itemHorizontalTranslationEnabled=&quot;false&quot;\r\n        app:labelVisibilityMode=&quot;unlabeled&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n","title":"Remove click event animation on BottomNavigationView","body":"<p>When I click an item in my Bottom Navigation Menu there's a &quot;click animation&quot;. I googled but couldn't find a way to remove that animation - just the shift/scale animation. This animation is a click event like a 'drop' in water when an item is pressed. How can I disable that animation in .XML?</p>\n<p>Here's my Bottom Navigation in the activity.xml:</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/nav_view&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/white&quot;\n    android:outlineSpotShadowColor=&quot;@color/transparent&quot;\n    android:outlineAmbientShadowColor=&quot;@color/transparent&quot;\n    app:itemHorizontalTranslationEnabled=&quot;false&quot;\n    app:labelVisibilityMode=&quot;unlabeled&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger","springdoc"],"answers":[{"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661927025,"creation_date":1661536314,"answer_id":73504834,"question_id":73024911,"body_markdown":"On your security config you missing first (/):  \r\n` .... .antMatchers(&quot;/myservice/v3/api-docs/**&quot;) `\r\n\r\nAnd for properties try to use this one: \r\n\r\n```\r\nspringdoc:\r\n  swagger-ui:\r\n    config-url: /myservice/v3/api-docs/swagger-config\r\n    path: /myservice/swagger-ui.html\r\n    url: ${springdoc.api-docs.path}\r\n    disable-swagger-default-url: true\r\n  api-docs:\r\n    path: /myservice/v3/api-docs\r\n```","title":"No API definition provided with springdoc","body":"<p>On your security config you missing first (/):<br />\n<code>.... .antMatchers(&quot;/myservice/v3/api-docs/**&quot;)</code></p>\n<p>And for properties try to use this one:</p>\n<pre><code>springdoc:\n  swagger-ui:\n    config-url: /myservice/v3/api-docs/swagger-config\n    path: /myservice/swagger-ui.html\n    url: ${springdoc.api-docs.path}\n    disable-swagger-default-url: true\n  api-docs:\n    path: /myservice/v3/api-docs\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2098,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73504834,"answer_count":1,"score":0,"last_activity_date":1661927025,"creation_date":1658158327,"question_id":73024911,"body_markdown":"I am using springdoc 1.6.9 with spring boot 2.6.9\r\n\r\nI need to load swagger-ui after the service name so i have added below,\r\n\r\n    springdoc:\r\n      swagger-ui:\r\n        config-url: /myservice/v3/api-docs/swagger-config\r\n        path: /myservice/swagger-ui/index.html\r\n        disable-swagger-default-url: true\r\n      api-docs:\r\n        path: /myservice/v3/api-docs\r\n\r\nI also have below in security config,\r\n\r\n    @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).\r\n                   .antMatchers(&quot;/swagger-ui/index.html&quot;).antMatchers(&quot;/myservice/swagger-ui/**&quot;)\r\n                   .antMatchers(&quot;myservice/v3/api-docs/**&quot;);\r\n        }\r\n\r\nWhen i locally start the service and access `http://localhost:8080/myservice/v3/api-docs`, it successfully return api spec in json format.\r\n\r\nBut when i access swagger ui as defined in the property file as \r\n`http://localhost:8080/myservice/swagger-ui/index.html` it redirect to `http://localhost:8080/myservice/swagger-ui/swagger-ui/index.html` and shows `No API definition provided.`\r\n\r\nWhat am i missing here?","title":"No API definition provided with springdoc","body":"<p>I am using springdoc 1.6.9 with spring boot 2.6.9</p>\n<p>I need to load swagger-ui after the service name so i have added below,</p>\n<pre><code>springdoc:\n  swagger-ui:\n    config-url: /myservice/v3/api-docs/swagger-config\n    path: /myservice/swagger-ui/index.html\n    disable-swagger-default-url: true\n  api-docs:\n    path: /myservice/v3/api-docs\n</code></pre>\n<p>I also have below in security config,</p>\n<pre><code>@Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).\n               .antMatchers(&quot;/swagger-ui/index.html&quot;).antMatchers(&quot;/myservice/swagger-ui/**&quot;)\n               .antMatchers(&quot;myservice/v3/api-docs/**&quot;);\n    }\n</code></pre>\n<p>When i locally start the service and access <code>http://localhost:8080/myservice/v3/api-docs</code>, it successfully return api spec in json format.</p>\n<p>But when i access swagger ui as defined in the property file as\n<code>http://localhost:8080/myservice/swagger-ui/index.html</code> it redirect to <code>http://localhost:8080/myservice/swagger-ui/swagger-ui/index.html</code> and shows <code>No API definition provided.</code></p>\n<p>What am i missing here?</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactive-mongo-java"],"answers":[{"tags":[],"owner":{"account_id":3583455,"reputation":1884,"user_id":2991105,"display_name":"Erunafailaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661926917,"creation_date":1661926917,"answer_id":73551621,"question_id":73542425,"body_markdown":"In the reactive world, nothing happens until you subscribe.\r\n\r\nSo you need to add `.subscribe()` to your reactive chain of commands.\r\n\r\n```lang-java\r\n\r\ntweetRepository.saveAll(tweetsByUserId)\r\n   .collectList()\r\n   .map(lis -&gt; lis.size())\r\n   .doOnNext(System.out::println)\r\n   .doOnError(System.err:println)\r\n   .subscribe(); // &lt;-- this is the important part!!!\r\n\r\nreturn deleteTweets(tweetsByUserId);\r\n\r\n```\r\n\r\nHowever, in the above snippet, the saving of tweets will be executed in a separate threat. And the deletions might be performed while the saving is still in progress.\r\n\r\nSo you might run into a race condition here. This code cannot guarantee that all tweets that are saved in the first place are deleted afterwards.\r\n\r\nTo guarantee this, both saving and deletion must be part of the same reactive stream.\r\n\r\n---\r\n\r\nI would suggest further improvements to make the code a little bit more idiomatic in terms of reactive programming.\r\n\r\nThe following snippet does almost the same as the first one. But it does not break the reactive stream, i.e. the order of events is taken care of.\r\n\r\n\r\n```lang-java\r\n\r\n    void deleteTweetsById(List&lt;String&gt; tweetsByUserId) {\r\n        tweetRepository.saveAll(tweetsByUserId)\r\n                .collectList()\r\n                .flatMap(this::deleteTweets)\r\n                .map(List::size)\r\n                .doOnNext(System.out::println)\r\n                .subscribe();\r\n    }\r\n\r\n\r\n    Mono&lt;List&lt;String&gt;&gt; deleteTweets(List&lt;String&gt; tweetsByUserId) {\r\n        return Flux.fromIterable(tweetsByUserId)\r\n                .flatMap(singleTweetId -&gt; tweetRepository\r\n                        .deleteById(singleTweetId.getId())\r\n                        .then(Mono.just(singleTweetId.getId())))\r\n                .collectList();\r\n    }\r\n\r\n```         \r\n\r\n\r\n}\r\n","title":"saving a Flux of items in reactive mongo db","body":"<p>In the reactive world, nothing happens until you subscribe.</p>\n<p>So you need to add <code>.subscribe()</code> to your reactive chain of commands.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ntweetRepository.saveAll(tweetsByUserId)\n   .collectList()\n   .map(lis -&gt; lis.size())\n   .doOnNext(System.out::println)\n   .doOnError(System.err:println)\n   .subscribe(); // &lt;-- this is the important part!!!\n\nreturn deleteTweets(tweetsByUserId);\n\n</code></pre>\n<p>However, in the above snippet, the saving of tweets will be executed in a separate threat. And the deletions might be performed while the saving is still in progress.</p>\n<p>So you might run into a race condition here. This code cannot guarantee that all tweets that are saved in the first place are deleted afterwards.</p>\n<p>To guarantee this, both saving and deletion must be part of the same reactive stream.</p>\n<hr />\n<p>I would suggest further improvements to make the code a little bit more idiomatic in terms of reactive programming.</p>\n<p>The following snippet does almost the same as the first one. But it does not break the reactive stream, i.e. the order of events is taken care of.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    void deleteTweetsById(List&lt;String&gt; tweetsByUserId) {\n        tweetRepository.saveAll(tweetsByUserId)\n                .collectList()\n                .flatMap(this::deleteTweets)\n                .map(List::size)\n                .doOnNext(System.out::println)\n                .subscribe();\n    }\n\n\n    Mono&lt;List&lt;String&gt;&gt; deleteTweets(List&lt;String&gt; tweetsByUserId) {\n        return Flux.fromIterable(tweetsByUserId)\n                .flatMap(singleTweetId -&gt; tweetRepository\n                        .deleteById(singleTweetId.getId())\n                        .then(Mono.just(singleTweetId.getId())))\n                .collectList();\n    }\n\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":5279413,"reputation":436,"user_id":4215280,"accept_rate":67,"display_name":"javaworld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73551621,"answer_count":1,"score":1,"last_activity_date":1661926917,"creation_date":1661862282,"question_id":73542425,"body_markdown":"i&#39;m having a flux of items returned from another service \r\n\r\n    Flux&lt;Tweet&gt; tweetsByUserId = restUtils.getTweetsByUserId(userId);\r\n\r\nI want this flux to paralamlely be saved in database and send to the rest endpoint to be deleted \r\n\r\n\r\n    tweetRepository.saveAll(tweetsByUserId).collectList().map(lis -&gt; lis.size()).doOnNext(System.out::println);\r\n            return deleteTweets(tweetsByUserId);\r\ndelete tweets method is executing successfully , but while trying to save the Flux of Tweet object to the mongodb it is not happening , from what I learned pipeline will start only after we subscribe doOnNext is enough to start the pipeline I think , can someone explain why this isn&#39;t persisting what I miss here \r\n\r\n","title":"saving a Flux of items in reactive mongo db","body":"<p>i'm having a flux of items returned from another service</p>\n<pre><code>Flux&lt;Tweet&gt; tweetsByUserId = restUtils.getTweetsByUserId(userId);\n</code></pre>\n<p>I want this flux to paralamlely be saved in database and send to the rest endpoint to be deleted</p>\n<pre><code>tweetRepository.saveAll(tweetsByUserId).collectList().map(lis -&gt; lis.size()).doOnNext(System.out::println);\n        return deleteTweets(tweetsByUserId);\n</code></pre>\n<p>delete tweets method is executing successfully , but while trying to save the Flux of Tweet object to the mongodb it is not happening , from what I learned pipeline will start only after we subscribe doOnNext is enough to start the pipeline I think , can someone explain why this isn't persisting what I miss here</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8922,"page":1070,"page_size":100}
