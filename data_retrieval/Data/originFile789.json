{"items":[{"tags":["javascript","java"],"owner":{"account_id":27248157,"reputation":11,"user_id":20773089,"display_name":"ATWonder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671692419,"creation_date":1671691883,"question_id":74885013,"body_markdown":"I am trying to download an XLSX file from the backend via XMLHttpRequest. But when I open the file in Excel, it is 0 KB.\r\n\r\nIn my frontend Javascript, I have:\r\n\r\n```\r\nvar xhr = new XMLHttpRequest();\r\nxhr.onreadystatechange = () =&gt; {\r\n    if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {\r\n        var a = document.createElement(&quot;a&quot;);\r\n        var binaryData = [];\r\n        binaryData.push(xhr.response);\r\n        var contentTypeHeader = xhr.getResponseHeader(&quot;Content-Type&quot;);\r\n        a.href = window.URL.createObjectURL(new Blob (binaryData, {type: contentTypeHeader}))\r\n        a.download = &quot;devicesReport.xlsx&quot;;\r\n        a.style.display = &#39;none&#39;;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n    }\r\n}\r\n\r\nxhr.open(&quot;POST&quot;, _host+&#39;apps/printDevices&#39;, true);\r\nxhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/json&#39;);\r\nxhr.setResponseType = &#39;blob&#39;;\r\nxhr.send(JSON.stringify(deviceIds));\r\n```\r\n\r\nI have verified that the deviceIds sent to the backend is correct.\r\n\r\nIn my backend, I have:\r\n\r\n```\r\n@PostMapping(value = &quot;/printDevices&quot;)\r\npublic ResponseEntity&lt;Resource&gt;  printDevices(@RequestBody Long [] deviceIds){\r\n\r\n    InputStreamResource file = new InputStreamResource(aliothService.printDevices(deviceIds));\r\n\r\n    return ResponseEntity.ok()\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + &quot;devicesReport.xlsx&quot;)\r\n            .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;))\r\n            .body(file);\r\n}\r\n```\r\n\r\nand my printDevices is\r\n\r\n\r\n```\r\npublic ByteArrayInputStream printDevices(Long [] deviceIds) {\r\n    List&lt;HpbDeviceDTO&gt; deviceDTOs = hpbActionBO.findDevices(deviceIds);\r\n    ByteArrayInputStream byteArrayInputStream = hpbActionBO.printToExcel(deviceDTOs);\r\n    try {\r\n\r\n        IOUtils.copy(byteArrayInputStream, new FileOutputStream(new File(&quot;D:\\\\file.xlsx&quot;)));\r\n\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    return byteArrayInputStream;\r\n}\r\n```\r\n\r\nThe problem is the file.xlsx in my D drive opens correctly. But when I download using the webpage, it is 0KB. \r\n\r\nI suspect there is something wrong with the ContentType? Please help. Thanks.\r\n","title":"Download XLSX file via XMLHttpRequest is 0KB","body":"<p>I am trying to download an XLSX file from the backend via XMLHttpRequest. But when I open the file in Excel, it is 0 KB.</p>\n<p>In my frontend Javascript, I have:</p>\n<pre><code>var xhr = new XMLHttpRequest();\nxhr.onreadystatechange = () =&gt; {\n    if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {\n        var a = document.createElement(&quot;a&quot;);\n        var binaryData = [];\n        binaryData.push(xhr.response);\n        var contentTypeHeader = xhr.getResponseHeader(&quot;Content-Type&quot;);\n        a.href = window.URL.createObjectURL(new Blob (binaryData, {type: contentTypeHeader}))\n        a.download = &quot;devicesReport.xlsx&quot;;\n        a.style.display = 'none';\n        document.body.appendChild(a);\n        a.click();\n    }\n}\n\nxhr.open(&quot;POST&quot;, _host+'apps/printDevices', true);\nxhr.setRequestHeader('Content-Type', 'application/json');\nxhr.setResponseType = 'blob';\nxhr.send(JSON.stringify(deviceIds));\n</code></pre>\n<p>I have verified that the deviceIds sent to the backend is correct.</p>\n<p>In my backend, I have:</p>\n<pre><code>@PostMapping(value = &quot;/printDevices&quot;)\npublic ResponseEntity&lt;Resource&gt;  printDevices(@RequestBody Long [] deviceIds){\n\n    InputStreamResource file = new InputStreamResource(aliothService.printDevices(deviceIds));\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + &quot;devicesReport.xlsx&quot;)\n            .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;))\n            .body(file);\n}\n</code></pre>\n<p>and my printDevices is</p>\n<pre><code>public ByteArrayInputStream printDevices(Long [] deviceIds) {\n    List&lt;HpbDeviceDTO&gt; deviceDTOs = hpbActionBO.findDevices(deviceIds);\n    ByteArrayInputStream byteArrayInputStream = hpbActionBO.printToExcel(deviceDTOs);\n    try {\n\n        IOUtils.copy(byteArrayInputStream, new FileOutputStream(new File(&quot;D:\\\\file.xlsx&quot;)));\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return byteArrayInputStream;\n}\n</code></pre>\n<p>The problem is the file.xlsx in my D drive opens correctly. But when I download using the webpage, it is 0KB.</p>\n<p>I suspect there is something wrong with the ContentType? Please help. Thanks.</p>\n"},{"tags":["java","json","jackson","fasterxml"],"answers":[{"tags":[],"owner":{"account_id":2067193,"reputation":1380,"user_id":1842487,"display_name":"Saurav Kumar Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579516332,"creation_date":1579516332,"answer_id":59821387,"question_id":59821176,"body_markdown":"You can use `custom value filter`, Please try this and let me know if this works for you -\r\n\r\n    @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = CustomFilter.class)\r\n\r\nand here is the custom filter -\r\n\r\n    class CustomFilter {\r\n        public CustomFilter() {\r\n        }\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if(obj == null)\r\n                return true;\r\n            if(obj instanceof String){\r\n                return ((String)obj).trim().isEmpty();\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n------------\r\n\r\nAs per the javadoc of CUSTOM filter -\r\n\r\n    public static final JsonInclude.Include CUSTOM\r\n\r\n&gt; Value that indicates that separate `filter` Object (specified by\r\n&gt; JsonInclude.valueFilter() for value itself, and/or\r\n&gt; JsonInclude.contentFilter() for contents of structured types) is to be\r\n&gt; used for determining inclusion criteria. Filter object&#39;s equals()\r\n&gt; method is called with value to serialize; if it returns true value is\r\n&gt; excluded (that is, filtered out); if false value is included.","title":"Jackson Json Serialization : Remove Blank strings","body":"<p>You can use <code>custom value filter</code>, Please try this and let me know if this works for you -</p>\n\n<pre><code>@JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = CustomFilter.class)\n</code></pre>\n\n<p>and here is the custom filter -</p>\n\n<pre><code>class CustomFilter {\n    public CustomFilter() {\n    }\n    @Override\n    public boolean equals(Object obj) {\n        if(obj == null)\n            return true;\n        if(obj instanceof String){\n            return ((String)obj).trim().isEmpty();\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>As per the javadoc of CUSTOM filter -</p>\n\n<pre><code>public static final JsonInclude.Include CUSTOM\n</code></pre>\n\n<blockquote>\n  <p>Value that indicates that separate <code>filter</code> Object (specified by\n  JsonInclude.valueFilter() for value itself, and/or\n  JsonInclude.contentFilter() for contents of structured types) is to be\n  used for determining inclusion criteria. Filter object's equals()\n  method is called with value to serialize; if it returns true value is\n  excluded (that is, filtered out); if false value is included.</p>\n</blockquote>\n"}],"owner":{"account_id":17450915,"reputation":452,"user_id":12650909,"display_name":"Sandeep Lakdawala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59821387,"answer_count":1,"score":0,"last_activity_date":1671692019,"creation_date":1579515545,"question_id":59821176,"body_markdown":"I am trying to exclude all Blank Strings from the resulting Json using Jackson.\r\n\r\nI understand I can use below annotation to filter this, but this does not seem to handle Blank Strings.[Stings with just white spaces]\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY) \r\n\r\nIs there a way to do this ?\r\n","title":"Jackson Json Serialization : Remove Blank strings","body":"<p>I am trying to exclude all Blank Strings from the resulting Json using Jackson.</p>\n\n<p>I understand I can use below annotation to filter this, but this does not seem to handle Blank Strings.[Stings with just white spaces]</p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_EMPTY) \n</code></pre>\n\n<p>Is there a way to do this ?</p>\n"},{"tags":["java","for-loop","stream","java-stream"],"answers":[{"comments":[{"owner":{"account_id":27213450,"reputation":13,"user_id":20743877,"display_name":"blacktuna"},"score":0,"creation_date":1671691771,"post_id":74884788,"comment_id":132153897,"body_markdown":"Can you check my answer to see if it is correct?","body":"Can you check my answer to see if it is correct?"},{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":0,"creation_date":1671772540,"post_id":74884788,"comment_id":132173181,"body_markdown":"yes it will work. I thought you wanted to use stream only.","body":"yes it will work. I thought you wanted to use stream only."}],"tags":[],"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671689912,"creation_date":1671689912,"answer_id":74884788,"question_id":74884568,"body_markdown":"Should be like this\r\n\r\n    List&lt;Breakdown&gt; listBreakdown = encounter.getServices().stream()\r\n            .map(this::createBreakdown)\r\n            .collect(Collectors.toList());\r\n\r\n    private Breakdown createBreakdown(Service service) {\r\n         return Breakdown.builder()\r\n                 .service(service)\r\n                 .networkRate(createNetworkRate(networkAllowedAmt, networkDiscountAmt))\r\n                 .build();\r\n    }","title":"How to convert this For Loop into a Stream?","body":"<p>Should be like this</p>\n<pre><code>List&lt;Breakdown&gt; listBreakdown = encounter.getServices().stream()\n        .map(this::createBreakdown)\n        .collect(Collectors.toList());\n\nprivate Breakdown createBreakdown(Service service) {\n     return Breakdown.builder()\n             .service(service)\n             .networkRate(createNetworkRate(networkAllowedAmt, networkDiscountAmt))\n             .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27213450,"reputation":13,"user_id":20743877,"display_name":"blacktuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671691761,"creation_date":1671691761,"answer_id":74885004,"question_id":74884568,"body_markdown":"This is what I end up getting - no need for use of stream() in this scenario.\r\n\r\n```\r\nprivate List&lt;Breakdown&gt; createBreakdownList(final Encounter encounter, final Amount allowedAmt, final Amount discountAmt) {\r\nList&lt;Breakdown&gt; listBreakdown = new ArrayList&lt;&gt;();\r\n        encounter.getServices()\r\n                .forEach(service -&gt; {\r\n                    listBreakdown.add(createBreakdown(service, allowedAmt, discountAmt));\r\n                });\r\n        return listBreakdown;\r\n    }\r\n\r\n    private Breakdown createBreakdown(final Service service, final Amount allowedAmt, final Amount discountAmt) {\r\n        return Breakdown.builder()\r\n                .service(service)\r\n                .rate(createRate(allowedAmt, discountAmt))\r\n                .build();\r\n    }","title":"How to convert this For Loop into a Stream?","body":"<p>This is what I end up getting - no need for use of stream() in this scenario.</p>\n<pre><code>private List&lt;Breakdown&gt; createBreakdownList(final Encounter encounter, final Amount allowedAmt, final Amount discountAmt) {\nList&lt;Breakdown&gt; listBreakdown = new ArrayList&lt;&gt;();\n        encounter.getServices()\n                .forEach(service -&gt; {\n                    listBreakdown.add(createBreakdown(service, allowedAmt, discountAmt));\n                });\n        return listBreakdown;\n    }\n\n    private Breakdown createBreakdown(final Service service, final Amount allowedAmt, final Amount discountAmt) {\n        return Breakdown.builder()\n                .service(service)\n                .rate(createRate(allowedAmt, discountAmt))\n                .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":27213450,"reputation":13,"user_id":20743877,"display_name":"blacktuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74885004,"answer_count":2,"score":0,"last_activity_date":1671691761,"creation_date":1671688085,"question_id":74884568,"body_markdown":"I am trying to convert a for loop into a stream. The For loops below works however I am expected to use stream in my coding practises but am new to the concept. I have tried looking at examples online however the issue I run into is how to use the forEach to iterate through the list and to apply a function to each.\r\n\r\n```\r\nprivate List&lt;Breakdown&gt; createBreakdownList(final Encounter encounter, final Amount allowedAmt, final Amount discountAmt) {\r\n\r\nint size = encounter.getServices().size();\r\n\r\nfor (int i = 0; i &lt; size; i++) {\r\n    Breakdown breakdown = Breakdown.builder()\r\n            .service(encounter.getServices().get(i))\r\n            .networkRate(createNetworkRate(allowedAmt, discountAmt))\r\n            .build();\r\n    listBreakdown.add(breakdown);\r\n}\r\nreturn listBreakdown;\r\n\r\n\r\n```\r\n\r\n```\r\nList&lt;Breakdown&gt; listBreakdown = encounter.getServices().stream()\r\n        .forEach()\r\n        .map(this::createBreakdown())\r\n        .collect(Collectors.toList());\r\n\r\n\r\nprivate Breakdown createBreakdown() {\r\n     Return Breakdown.builder()\r\n             .service(encounter.getServices().get(i))\r\n             .networkRate(createNetworkRate(networkAllowedAmt, networkDiscountAmt))\r\n             .build();\r\n}\r\n\r\n```\r\n","title":"How to convert this For Loop into a Stream?","body":"<p>I am trying to convert a for loop into a stream. The For loops below works however I am expected to use stream in my coding practises but am new to the concept. I have tried looking at examples online however the issue I run into is how to use the forEach to iterate through the list and to apply a function to each.</p>\n<pre><code>private List&lt;Breakdown&gt; createBreakdownList(final Encounter encounter, final Amount allowedAmt, final Amount discountAmt) {\n\nint size = encounter.getServices().size();\n\nfor (int i = 0; i &lt; size; i++) {\n    Breakdown breakdown = Breakdown.builder()\n            .service(encounter.getServices().get(i))\n            .networkRate(createNetworkRate(allowedAmt, discountAmt))\n            .build();\n    listBreakdown.add(breakdown);\n}\nreturn listBreakdown;\n\n\n</code></pre>\n<pre><code>List&lt;Breakdown&gt; listBreakdown = encounter.getServices().stream()\n        .forEach()\n        .map(this::createBreakdown())\n        .collect(Collectors.toList());\n\n\nprivate Breakdown createBreakdown() {\n     Return Breakdown.builder()\n             .service(encounter.getServices().get(i))\n             .networkRate(createNetworkRate(networkAllowedAmt, networkDiscountAmt))\n             .build();\n}\n\n</code></pre>\n"},{"tags":["java","guice","dependency-properties"],"answers":[{"tags":[],"owner":{"account_id":4142023,"reputation":328,"user_id":3397007,"display_name":"Richard Vodden"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671691750,"creation_date":1484356612,"answer_id":41645783,"question_id":41623295,"body_markdown":"You need to write a module to configure guice to load the properties file (and bind in any other dependencies you have).\r\n\r\n    class SemiAutoModule extends AbstractModule {\r\n            @Override\r\n            protected void configure() {\r\n                Properties defaults = new Properties();\r\n                defaults.setProperty(&quot;semi-auto.firstname&quot;, &quot;default firstname&quot;);\r\n                try {\r\n                    Properties properties = new Properties(defaults);\r\n                    properties.load(ClassLoader.class.getResourceAsStream(&quot;semi-auto.properties&quot;));\r\n                    Names.bindProperties(binder(), properties);\r\n                } catch (IOException e) {\r\n                    logger.error(&quot;Could not load config: &quot;, e);\r\n                    System.exit(1);\r\n                }\r\n            }\r\n        };\r\n\r\n\r\nThen you need to tell TestNG about it:\r\n\r\n    @Guice(modules=SemiAutoModule.class)\r\n    public class Test1 {\r\n\r\n        @Inject\r\n        @Named(&quot;semi-auto.firstname&quot;)\r\n        String firstname;\r\n\r\n        @Test\r\n        public void test() {\r\n            System.out.println(firstname);\r\n        }\r\n\r\n    }\r\n\r\nThe documentation for TestNG is here: http://testng.org/doc/documentation-main.html#guice-dependency-injection.","title":"Guice properties injection","body":"<p>You need to write a module to configure guice to load the properties file (and bind in any other dependencies you have).</p>\n<pre><code>class SemiAutoModule extends AbstractModule {\n        @Override\n        protected void configure() {\n            Properties defaults = new Properties();\n            defaults.setProperty(&quot;semi-auto.firstname&quot;, &quot;default firstname&quot;);\n            try {\n                Properties properties = new Properties(defaults);\n                properties.load(ClassLoader.class.getResourceAsStream(&quot;semi-auto.properties&quot;));\n                Names.bindProperties(binder(), properties);\n            } catch (IOException e) {\n                logger.error(&quot;Could not load config: &quot;, e);\n                System.exit(1);\n            }\n        }\n    };\n</code></pre>\n<p>Then you need to tell TestNG about it:</p>\n<pre><code>@Guice(modules=SemiAutoModule.class)\npublic class Test1 {\n\n    @Inject\n    @Named(&quot;semi-auto.firstname&quot;)\n    String firstname;\n\n    @Test\n    public void test() {\n        System.out.println(firstname);\n    }\n\n}\n</code></pre>\n<p>The documentation for TestNG is here: <a href=\"http://testng.org/doc/documentation-main.html#guice-dependency-injection\" rel=\"nofollow noreferrer\">http://testng.org/doc/documentation-main.html#guice-dependency-injection</a>.</p>\n"}],"owner":{"account_id":7303438,"reputation":870,"user_id":5565253,"accept_rate":52,"display_name":"EdXX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671691750,"creation_date":1484256411,"question_id":41623295,"body_markdown":"I have my project structure like below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r54zc.png\r\n\r\nWhere my Test1.java is like this:\r\n\r\n    package TestNG;\r\n\r\n    import org.testng.annotations.Test;\r\n    import com.google.inject.Inject;\r\n    import com.google.inject.name.Named;\r\n\r\n    public class Test1 {\r\n\t\r\n\t@Inject\r\n\t@Named(&quot;semi-auto.firstname&quot;)\r\n\tString firstname;\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tSystem.out.println(firstname);\r\n\t}\r\n\r\n    }\r\n\r\nand my semi-auto.properties is\r\n\r\n    semi-auto.firstname=John\r\n    semi-auto.lastname=Doe\r\n\r\nWhat I want to do is to just use &#39;firstname&#39; parameter value in Test1 using Guice.\r\nThe test passes but the value passed is null.\r\nCan&#39;t I do that this way?\r\nPlease help","title":"Guice properties injection","body":"<p>I have my project structure like below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r54zc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r54zc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Where my Test1.java is like this:</p>\n\n<pre><code>package TestNG;\n\nimport org.testng.annotations.Test;\nimport com.google.inject.Inject;\nimport com.google.inject.name.Named;\n\npublic class Test1 {\n\n@Inject\n@Named(\"semi-auto.firstname\")\nString firstname;\n\n@Test\npublic void test() {\n    System.out.println(firstname);\n}\n\n}\n</code></pre>\n\n<p>and my semi-auto.properties is</p>\n\n<pre><code>semi-auto.firstname=John\nsemi-auto.lastname=Doe\n</code></pre>\n\n<p>What I want to do is to just use 'firstname' parameter value in Test1 using Guice.\nThe test passes but the value passed is null.\nCan't I do that this way?\nPlease help</p>\n"},{"tags":["java","spring-boot","couchbase","spring-data-couchbase","couchbase-java-api"],"comments":[{"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"score":1,"creation_date":1669135121,"post_id":74529923,"comment_id":131573171,"body_markdown":"There is no log level in the Couchbase Java SDK that will log user queries, since generally this will be a very high/spammy amount of output.  Your application will need to log that itself.","body":"There is no log level in the Couchbase Java SDK that will log user queries, since generally this will be a very high/spammy amount of output.  Your application will need to log that itself."}],"answers":[{"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1669108085,"post_id":74529963,"comment_id":131562772,"body_markdown":"Similar article ! https://stackoverflow.com/questions/53373431/how-to-log-spring-data-queries-to-a-couchbase-database","body":"Similar article ! <a href=\"https://stackoverflow.com/questions/53373431/how-to-log-spring-data-queries-to-a-couchbase-database\" title=\"how to log spring data queries to a couchbase database\">stackoverflow.com/questions/53373431/&hellip;</a>"},{"owner":{"account_id":11598561,"reputation":2332,"user_id":8496502,"display_name":"Deekshith Anand"},"score":0,"creation_date":1669108967,"post_id":74529963,"comment_id":131563110,"body_markdown":"Thank you, but no luck for me. I am using raw sdk methods instead of sring data jpa, i tried above as well, but its not logging.","body":"Thank you, but no luck for me. I am using raw sdk methods instead of sring data jpa, i tried above as well, but its not logging."}],"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669107858,"creation_date":1669107858,"answer_id":74529963,"question_id":74529923,"body_markdown":"Can you enable couchbase specific properties of `spring-data` and not package within the application?\r\n\r\n    logging:\r\n       level:\r\n         org.springframework.data.couchbase.repository.query: DEBUG\r\n\r\nThis should help ! It won&#39;t require any external dependency or logging solutions","title":"Enable Debug Logs for Couchbase SDK with spring boot","body":"<p>Can you enable couchbase specific properties of <code>spring-data</code> and not package within the application?</p>\n<pre><code>logging:\n   level:\n     org.springframework.data.couchbase.repository.query: DEBUG\n</code></pre>\n<p>This should help ! It won't require any external dependency or logging solutions</p>\n"},{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671668278,"creation_date":1671668278,"answer_id":74883030,"question_id":74529923,"body_markdown":"For the cluster, add ServiceType.QUERY to captureTraffic...\r\n\r\nenv.ioConfig(it -&gt; it.captureTraffic(ServiceType.QUERY))\r\n\r\nand also set the log level for the com.couchbase category to TRACE\r\n\r\n\r\n","title":"Enable Debug Logs for Couchbase SDK with spring boot","body":"<p>For the cluster, add ServiceType.QUERY to captureTraffic...</p>\n<p>env.ioConfig(it -&gt; it.captureTraffic(ServiceType.QUERY))</p>\n<p>and also set the log level for the com.couchbase category to TRACE</p>\n"}],"owner":{"account_id":11598561,"reputation":2332,"user_id":8496502,"display_name":"Deekshith Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671691483,"creation_date":1669107652,"question_id":74529923,"body_markdown":"I am using Couchbase SDK along with Spring boot 2.6.x version. I am using the spring spring-data-couchbase:jar:4.4.0 which in turn has com.couchbase.client:java-client:jar:3.3.0 dependency. The issue, is when trying to execute cluster.query() methods, I need to see what query is getting executed. I need to enable debug logs. However, I have tried configuring it under properties for logging.level for the package com.couchbase.client to DEBUG level, nothing is showing up. I tried the similar config in log4j.xml as well and no luck either. Does couchbase uses any wierd property or is it not reading the properties specified from either log4j or spring&#39;s properties?\r\n\r\nYou may ask if raw query is passed then why log specifically, but this is required if using parameterised queries and to debug it.\r\n\r\nHow does one enable logging for couchbase if using plain sdk methods under spring&#39;s context ?\r\n","title":"Enable Debug Logs for Couchbase SDK with spring boot","body":"<p>I am using Couchbase SDK along with Spring boot 2.6.x version. I am using the spring spring-data-couchbase:jar:4.4.0 which in turn has com.couchbase.client:java-client:jar:3.3.0 dependency. The issue, is when trying to execute cluster.query() methods, I need to see what query is getting executed. I need to enable debug logs. However, I have tried configuring it under properties for logging.level for the package com.couchbase.client to DEBUG level, nothing is showing up. I tried the similar config in log4j.xml as well and no luck either. Does couchbase uses any wierd property or is it not reading the properties specified from either log4j or spring's properties?</p>\n<p>You may ask if raw query is passed then why log specifically, but this is required if using parameterised queries and to debug it.</p>\n<p>How does one enable logging for couchbase if using plain sdk methods under spring's context ?</p>\n"},{"tags":["java","intellij-idea"],"owner":{"account_id":13638360,"reputation":5,"user_id":9838835,"display_name":"Sachin Koparde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671691414,"creation_date":1671691414,"question_id":74884973,"body_markdown":"I was running a code in Java which needs input from program arguments. In IntelliJ IDEA, is it possible to provide a random dynamic id every time I run the code?","title":"Is it possible to add randomly generated Id/String for a program argument (Java) in IntelliJ configuration","body":"<p>I was running a code in Java which needs input from program arguments. In IntelliJ IDEA, is it possible to provide a random dynamic id every time I run the code?</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":22555776,"reputation":53,"user_id":18245900,"display_name":"Rodgans"},"score":0,"creation_date":1645448249,"post_id":71179714,"comment_id":125866611,"body_markdown":"In this case, I&#39;m getting the same return if I had to use an entity\n\nNote: I&#39;ll update the Question","body":"In this case, I&#39;m getting the same return if I had to use an entity  Note: I&#39;ll update the Question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645452082,"post_id":71179714,"comment_id":125868130,"body_markdown":"Using a `JpaRepository` without entities will simply not work.","body":"Using a <code>JpaRepository</code> without entities will simply not work."},{"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"score":0,"creation_date":1647438145,"post_id":71179714,"comment_id":126370897,"body_markdown":"can you show me your repository interface or class?","body":"can you show me your repository interface or class?"}],"tags":[],"owner":{"account_id":16179787,"reputation":104,"user_id":18173772,"display_name":"Jos&#233; Mateus Barros Taveira"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1645217513,"creation_date":1645217513,"answer_id":71179714,"question_id":71177494,"body_markdown":"You can use Projections based on interfaces.\r\n\r\ne.g\r\n1) Create your native-query givin it column a alias. ``` select name as fullName, age as age from person ```.\r\n\r\n2) Create a Interface that represents your DTO with get-methods to every alias of your native query.\r\n``` \r\ninterface MyDTO {\r\n   String getFullName();\r\n   Integer getAge();\r\n} \r\n```\r\n3) The return type of your query now can be this MyDTO \r\n``` \r\n@Query(value = &quot;select name as fullName, age as age from person&quot;, nativeQuery=true)\r\nList&lt;MyDTO&gt; findMyDTO();\r\n ```","title":"Is it possible to use JpaRepository without entity?","body":"<p>You can use Projections based on interfaces.</p>\n<p>e.g</p>\n<ol>\n<li><p>Create your native-query givin it column a alias. <code>select name as fullName, age as age from person</code>.</p>\n</li>\n<li><p>Create a Interface that represents your DTO with get-methods to every alias of your native query.</p>\n</li>\n</ol>\n<pre><code>interface MyDTO {\n   String getFullName();\n   Integer getAge();\n} \n</code></pre>\n<ol start=\"3\">\n<li>The return type of your query now can be this MyDTO</li>\n</ol>\n<pre><code>@Query(value = &quot;select name as fullName, age as age from person&quot;, nativeQuery=true)\nList&lt;MyDTO&gt; findMyDTO();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1650449907,"post_id":71206896,"comment_id":127117099,"body_markdown":"Good answer. but why are there lots of other SO answers saying you can used @NamedNativeQuery results straight into DTO?","body":"Good answer. but why are there lots of other SO answers saying you can used @NamedNativeQuery results straight into DTO?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1700639125,"post_id":71206896,"comment_id":136677940,"body_markdown":"Spring Data JDBC requires an aggregate root just as Spring Data JPA or any other Spring Data module. I guess you wanted to recommend Spring JDBC instead.","body":"Spring Data JDBC requires an aggregate root just as Spring Data JPA or any other Spring Data module. I guess you wanted to recommend Spring JDBC instead."}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645454068,"creation_date":1645449018,"answer_id":71206896,"question_id":71177494,"body_markdown":"&gt; Is it possible to use JpaRepository without entity?\r\n\r\nNo, it is not, and it would completely defeat the purpose of JPA, by definition.\r\n\r\nJPA is the persistence specification that enables ORM - Object Relational Mapping - that is, you map Java *objects* to database tables&#39; *entries/rows*, and Java types to database tables, respectively.\r\n\r\nDTO (*Data Transfer Object*) has nothing to do with ORM, and it serves different purpose (I recommend you to read [this](https://medium.com/javarevisited/dto-or-not-to-dto-58259d4228ec) article for DTO vs. Entity matter) - transferring data through Java objects - and it usually serves the middle layer, for converting persistent objects(`@Entity`s) into objects to be used in the web layer (DTOs), and vice versa.\r\n\r\nIf you really want to avoid persistence layer models (`@Entity`s), you may go for JDBC abstractions (e.g. Spring Data JDBC), native queries, JPQL, HQL, or a bare JDBC API (which I wouldn&#39;t recommend).","title":"Is it possible to use JpaRepository without entity?","body":"<blockquote>\n<p>Is it possible to use JpaRepository without entity?</p>\n</blockquote>\n<p>No, it is not, and it would completely defeat the purpose of JPA, by definition.</p>\n<p>JPA is the persistence specification that enables ORM - Object Relational Mapping - that is, you map Java <em>objects</em> to database tables' <em>entries/rows</em>, and Java types to database tables, respectively.</p>\n<p>DTO (<em>Data Transfer Object</em>) has nothing to do with ORM, and it serves different purpose (I recommend you to read <a href=\"https://medium.com/javarevisited/dto-or-not-to-dto-58259d4228ec\" rel=\"nofollow noreferrer\">this</a> article for DTO vs. Entity matter) - transferring data through Java objects - and it usually serves the middle layer, for converting persistent objects(<code>@Entity</code>s) into objects to be used in the web layer (DTOs), and vice versa.</p>\n<p>If you really want to avoid persistence layer models (<code>@Entity</code>s), you may go for JDBC abstractions (e.g. Spring Data JDBC), native queries, JPQL, HQL, or a bare JDBC API (which I wouldn't recommend).</p>\n"},{"tags":[],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647523135,"creation_date":1647450913,"answer_id":71501509,"question_id":71177494,"body_markdown":"***but you can try this.*** \r\n\r\nWhat you can do is you can create your own custom repository class. First, you would have some service class that calls repository class. also notice that we have custom models for the result set of SQL queries. \r\n\r\n\r\n```\r\n@Service\r\npublic class CustomService {\r\n\r\n    @Autowired\r\n    private CustomRepository repository;\r\n\r\n    public List&lt;CustomResponse&gt; getAllResult(String id) {\r\n\r\n        List&lt;Object[]&gt; items = repository.getAllResult(id);\r\n        List&lt;CustomResponse&gt; customResponseList = new ArrayList();\r\n        for (Object[] item: items) {\r\n            CustomResponse c = new CustomResponse();\r\n            c.setTestValue1(String.valueOf(item[0]));\r\n            c.setTestValue2(String.valueOf(item[1]));\r\n            customResponseList.add(c);\r\n        }\r\n\r\n        return customResponseList;\r\n    }\r\n\r\n}\r\n```\r\nand your repository class will be look like this. \r\n```\r\n@Repository\r\npublic class CustomRepository {\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    public List&lt;Object[]&gt; getAllResult(String id) {\r\n        Query q = (Query) entityManager.createNativeQuery(&quot;SELECT\\n&quot; +\r\n                &quot;        users.user_id as user_id,\\n&quot; +\r\n                &quot;        users.email as user_email\\n&quot; +\r\n                &quot;        FROM Users\\n&quot; +\r\n                &quot;        WHERE users.parent_id = :parent_id;&quot;);\r\n        q.setParameter(&quot;parent_id&quot;, id);\r\n        List&lt;Object[]&gt; results = q.getResultList();\r\n        return results;\r\n    }\r\n\r\n}\r\n```\r\nAlso you might want to have your own model for that. (like entities)\r\n```\r\npublic class CustomResponse {\r\n\r\n    private String testValue1;\r\n    private String testValue2;\r\n\r\n    public String getTestValue1() {\r\n        return testValue1;\r\n    }\r\n\r\n    public void setTestValue1(String testValue1) {\r\n        this.testValue1 = testValue1;\r\n    }\r\n\r\n    public String getTestValue2() {\r\n        return testValue2;\r\n    }\r\n\r\n    public void setTestValue2(String testValue2) {\r\n        this.testValue2 = testValue2;\r\n    }\r\n}\r\n```\r\n","title":"Is it possible to use JpaRepository without entity?","body":"<p><em><strong>but you can try this.</strong></em></p>\n<p>What you can do is you can create your own custom repository class. First, you would have some service class that calls repository class. also notice that we have custom models for the result set of SQL queries.</p>\n<pre><code>@Service\npublic class CustomService {\n\n    @Autowired\n    private CustomRepository repository;\n\n    public List&lt;CustomResponse&gt; getAllResult(String id) {\n\n        List&lt;Object[]&gt; items = repository.getAllResult(id);\n        List&lt;CustomResponse&gt; customResponseList = new ArrayList();\n        for (Object[] item: items) {\n            CustomResponse c = new CustomResponse();\n            c.setTestValue1(String.valueOf(item[0]));\n            c.setTestValue2(String.valueOf(item[1]));\n            customResponseList.add(c);\n        }\n\n        return customResponseList;\n    }\n\n}\n</code></pre>\n<p>and your repository class will be look like this.</p>\n<pre><code>@Repository\npublic class CustomRepository {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    public List&lt;Object[]&gt; getAllResult(String id) {\n        Query q = (Query) entityManager.createNativeQuery(&quot;SELECT\\n&quot; +\n                &quot;        users.user_id as user_id,\\n&quot; +\n                &quot;        users.email as user_email\\n&quot; +\n                &quot;        FROM Users\\n&quot; +\n                &quot;        WHERE users.parent_id = :parent_id;&quot;);\n        q.setParameter(&quot;parent_id&quot;, id);\n        List&lt;Object[]&gt; results = q.getResultList();\n        return results;\n    }\n\n}\n</code></pre>\n<p>Also you might want to have your own model for that. (like entities)</p>\n<pre><code>public class CustomResponse {\n\n    private String testValue1;\n    private String testValue2;\n\n    public String getTestValue1() {\n        return testValue1;\n    }\n\n    public void setTestValue1(String testValue1) {\n        this.testValue1 = testValue1;\n    }\n\n    public String getTestValue2() {\n        return testValue2;\n    }\n\n    public void setTestValue2(String testValue2) {\n        this.testValue2 = testValue2;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3232747,"reputation":229,"user_id":2727610,"display_name":"Vivek Adhikari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671691090,"creation_date":1671690787,"answer_id":74884895,"question_id":71177494,"body_markdown":"This is possible. \r\nDefine base entity and have one column. If you dont want this to exist in database, turn off ddl-auto in application.propeties. \r\n\r\n spring.jpa.hibernate.ddl-auto=none\r\n\r\n\r\n        @Entity\r\n        @Data\r\n        public class BaseEntity {\r\n            @Id\r\n            private Long id;\r\n        }\r\n\r\n and use any custom query with any other dao extending jpa repository with BaseEntity.\r\n\r\n    public interface EmployeeDao extends JpaRepository&lt;BaseEntity, Long&gt; {\r\n    \r\n        @Query(value = &quot;select name from employee where employee_number = ?&quot;, nativeQuery = true)\r\n        Optional&lt;Employee&gt; get(String employeeNumber);\r\n    }\r\n\r\n    public interface Employee{\r\n    \r\n        String getName();\r\n       \r\n    }\r\n\r\n","title":"Is it possible to use JpaRepository without entity?","body":"<p>This is possible.\nDefine base entity and have one column. If you dont want this to exist in database, turn off ddl-auto in application.propeties.</p>\n<p>spring.jpa.hibernate.ddl-auto=none</p>\n<pre><code>    @Entity\n    @Data\n    public class BaseEntity {\n        @Id\n        private Long id;\n    }\n</code></pre>\n<p>and use any custom query with any other dao extending jpa repository with BaseEntity.</p>\n<pre><code>public interface EmployeeDao extends JpaRepository&lt;BaseEntity, Long&gt; {\n\n    @Query(value = &quot;select name from employee where employee_number = ?&quot;, nativeQuery = true)\n    Optional&lt;Employee&gt; get(String employeeNumber);\n}\n\npublic interface Employee{\n\n    String getName();\n   \n}\n</code></pre>\n"}],"owner":{"account_id":22555776,"reputation":53,"user_id":18245900,"display_name":"Rodgans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11670,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71206896,"answer_count":4,"score":5,"last_activity_date":1671691090,"creation_date":1645204879,"question_id":71177494,"body_markdown":"Is it possible to use `JpaRepository` without entity? In this case, replacing it with a DTO.\r\n\r\nas follows the example\r\n\r\n   \r\n\r\n     @Repository\r\n    public interface BffRepository extends JpaRepository&lt;BffDTO, String&gt; {\r\n    \r\n    @Query(nativeQuery = true, value = &quot;select\\n&quot;\r\n            + &quot;ent.name as enterprise_name, dep.name as department_name,\\n&quot;\r\n            + &quot;sq.name as squad_name, acc.firstname as job_owner_name,\\n&quot;\r\n            + &quot;tpt.name as test_template_name, job.name, job.job_blocked, job.job_removed,\\n&quot;\r\n            + &quot;job.bot_scm_branch, job.bot_scm_url, job.schedule_startdate,\\n&quot;\r\n            + &quot;job.expiration_date, job.timestamp,job.uuid,job.schedule_starttime,\\n&quot;\r\n            + &quot;tpt.job_execution_timeout\\n&quot;\r\n            + &quot;from portal.jobs job\\n&quot;\r\n            + &quot;left join portal.enterprises ent on (ent.uuid = job.enterprise_id)\\n&quot;\r\n            + &quot;left join portal.departments dep on (dep.uuid = job.department_id)\\n&quot;\r\n            + &quot;left join portal.squads sq on (sq.uuid = job.squad_id)\\n&quot;\r\n            + &quot;left join portal.accounts acc on (acc.uuid = job.job_owner)\\n&quot;\r\n            + &quot;left join portal.test_plan_templates tpt on (tpt.uuid = job.template_id) where\\n&quot;\r\n            + &quot;job.job_owner = ?1 and job.job_removed = false order by timestamp desc;&quot;)\r\n    List&lt;BffDTO&gt;buscarPorJobOwner(String jobOwner);\r\n\r\n\r\nAre there alternatives for this case?\r\n\r\nNOTE: the DTO is already mapped, but I would not like to create a view to transform this DTO into an Entity.\r\n\r\nI already validated this topic, but without major advances\r\nhttps://stackoverflow.com/questions/58250772/use-jparepository-interaction-style-without-entity\r\n\r\n\r\n\r\ni&#39;m trying this\r\n\r\nInterface - \r\n\r\n    \r\npublic interface BffDTOInterface2 {\r\n\r\n\tString uuid();\r\n\r\n\tString enterprise_name();\r\n\r\n\tString department_name();\r\n\r\n\tString squad_name();\r\n\r\n\tString job_owner_name();\r\n\r\n\tString test_template_name();\r\n\r\n\tString name();\r\n\r\n\tBoolean job_blocked();\r\n\r\n\tBoolean job_removed();\r\n\r\n\tString bot_scm_branch();\r\n\r\n\tString bot_scm_url();\r\n\r\n\tString schedule_startdate();\r\n\r\n\tString expiration_date();\r\n\r\n\tString timestamp();\r\n\r\n\tString schedule_starttime();\r\n\r\n\tInteger job_execution_timeout();\r\n\r\n\t@Transient\r\n\tString status();\r\n\r\n}\r\n\r\n\r\n\r\nI&#39;m having this error \r\n\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: interface br.com.cloud.api.domain.dto.BffDTOInterface2\r\n\r\n","title":"Is it possible to use JpaRepository without entity?","body":"<p>Is it possible to use <code>JpaRepository</code> without entity? In this case, replacing it with a DTO.</p>\n<p>as follows the example</p>\n<pre><code> @Repository\npublic interface BffRepository extends JpaRepository&lt;BffDTO, String&gt; {\n\n@Query(nativeQuery = true, value = &quot;select\\n&quot;\n        + &quot;ent.name as enterprise_name, dep.name as department_name,\\n&quot;\n        + &quot;sq.name as squad_name, acc.firstname as job_owner_name,\\n&quot;\n        + &quot;tpt.name as test_template_name, job.name, job.job_blocked, job.job_removed,\\n&quot;\n        + &quot;job.bot_scm_branch, job.bot_scm_url, job.schedule_startdate,\\n&quot;\n        + &quot;job.expiration_date, job.timestamp,job.uuid,job.schedule_starttime,\\n&quot;\n        + &quot;tpt.job_execution_timeout\\n&quot;\n        + &quot;from portal.jobs job\\n&quot;\n        + &quot;left join portal.enterprises ent on (ent.uuid = job.enterprise_id)\\n&quot;\n        + &quot;left join portal.departments dep on (dep.uuid = job.department_id)\\n&quot;\n        + &quot;left join portal.squads sq on (sq.uuid = job.squad_id)\\n&quot;\n        + &quot;left join portal.accounts acc on (acc.uuid = job.job_owner)\\n&quot;\n        + &quot;left join portal.test_plan_templates tpt on (tpt.uuid = job.template_id) where\\n&quot;\n        + &quot;job.job_owner = ?1 and job.job_removed = false order by timestamp desc;&quot;)\nList&lt;BffDTO&gt;buscarPorJobOwner(String jobOwner);\n</code></pre>\n<p>Are there alternatives for this case?</p>\n<p>NOTE: the DTO is already mapped, but I would not like to create a view to transform this DTO into an Entity.</p>\n<p>I already validated this topic, but without major advances\n<a href=\"https://stackoverflow.com/questions/58250772/use-jparepository-interaction-style-without-entity\">Use JpaRepository interaction style without entity</a></p>\n<p>i'm trying this</p>\n<p>Interface -</p>\n<p>public interface BffDTOInterface2 {</p>\n<pre><code>String uuid();\n\nString enterprise_name();\n\nString department_name();\n\nString squad_name();\n\nString job_owner_name();\n\nString test_template_name();\n\nString name();\n\nBoolean job_blocked();\n\nBoolean job_removed();\n\nString bot_scm_branch();\n\nString bot_scm_url();\n\nString schedule_startdate();\n\nString expiration_date();\n\nString timestamp();\n\nString schedule_starttime();\n\nInteger job_execution_timeout();\n\n@Transient\nString status();\n</code></pre>\n<p>}</p>\n<p>I'm having this error</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Not a managed type: interface br.com.cloud.api.domain.dto.BffDTOInterface2\n</code></pre>\n"},{"tags":["javascript","java","reactjs","react-hooks","fetch"],"owner":{"account_id":24227751,"reputation":73,"user_id":18182003,"display_name":"GeorgeAnghel114"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671691031,"creation_date":1671628637,"question_id":74876665,"body_markdown":"In this component i have a cart. Cart contains cartItems(each line from the cart), i have the functionalities as follows: i can add a product to my cart from product page, i can delete cartItem(doesn&#39;t matter the quantity) and the next features that i work on are - + buttons which increases/decreases the quantity of the cartItem, my problem is that opening the cart first time when i press for an example the plus button to increment the value i got this error &quot;{timestamp: &#39;2022-12-21T13:13:49.212+00:00&#39;, status: 500, error: &#39;Internal Server Error&#39;, path: &#39;/cart/update-cart-item-quantity&#39;}&quot; and on the frontend it increments the value, but the second time i press the button works just fine but the previous increment will not count just the second,third and so on Example( quantity:1, i press on plus quantity:2 error, press on plus again quantity:2 and its works both on backend and frontend)\r\n\r\n***my backend is in java spring boot and everything works fine, tested with postman\r\n\r\nif u have any suggestions let me know\r\n\r\n\r\n```javascript\r\nimport React,{ useEffect, useState } from &quot;react&quot;;\r\nimport classes from &quot;./Modal.module.css&quot;;\r\n\r\n\r\nexport default function Modal({ setModal }) {\r\n    const [cart,setCart] = useState([]);\r\n    const [cartItems,setCartItems] = useState();\r\n    const [itemQty, setItemQty] = useState({id:&#39;&#39;, quantity:&#39;&#39; })\r\n    const [qty,setQty] = useState();\r\n    // console.log(cart)\r\n    // console.log(&quot;Cart iteeeeeem&quot;,cartItems);\r\n    \r\n    function addItemQty(e){\r\n        console.log(e.target.innerText)\r\n        let newList = [];\r\n        let obj = {id: &#39;&#39;, quantity: &#39;&#39;}\r\n        let total = 0;\r\n        for (let index = 0; index &lt; cartItems.length; index++) {\r\n            const element = cartItems[index];\r\n            const p = element.product.id\r\n            setItemQty({id:p,quantity:element.quantity})\r\n\r\n            console.log(p, e.currentTarget.id)\r\n            \r\n        if(p == e.currentTarget.id){\r\n            const sellingPer = element.product.sellingPrice;\r\n            if(e.target.innerText==&quot;+&quot;){\r\n                element.quantity += 1;\r\n            }else{\r\n                element.quantity -= 1;\r\n            }\r\n            \r\n            element.totalPrice = element.quantity * sellingPer;\r\n        }\r\n        \r\n        newList.push(element);\r\n        total += element.totalPrice;\r\n        cart.totalPrices = total;\r\n        obj.id = p;\r\n        obj.quantity = element.quantity;\r\n        setItemQty({id:p,quantity:element.quantity})\r\n\r\n\r\n    }\r\n        \r\n        setCart(cart);\r\n        setCartItems(newList);\r\n        fetchUpdateCartItemQuantity();\r\n\r\n    }\r\n    \r\n    function closeModal() {\r\n        setModal(false);\r\n    }\r\n\r\n \r\n\r\n    const fetchUpdateCartItemQuantity = async ()=&gt;{\r\n        fetch(&quot;http://localhost:8080/cart/update-cart-item-quantity&quot;,{ method: &#39;POST&#39;,\r\n        body: JSON.stringify({\r\n          id: itemQty.id,quantity: itemQty.quantity+1\r\n        }),\r\n        headers: {\r\n          &#39;Content-type&#39;: &#39;application/json; charset=UTF-8&#39;,\r\n        },\r\n      })\r\n         .then((response) =&gt; response.json())\r\n         .then((data) =&gt; {\r\n            console.log(data);\r\n            // Handle data\r\n         })\r\n         .catch((err) =&gt; {\r\n            console.log(err.message);})\r\n        // const response = await req.json();\r\n        // // console.log(&quot;Responseeee&quot;+response);\r\n        // setCart(response);\r\n        // setCartItems(response.cartItems)\r\n        \r\n    }\r\n\r\n    useEffect(() =&gt;{\r\n   \r\n    }, [cartItems])\r\n\r\n    useEffect(()=&gt;{\r\n        const fetchCart = async ()=&gt;{\r\n            const request = await fetch(&quot;http://localhost:8080/cart/get-cart&quot;)\r\n            const response = await request.json();\r\n            setCart(response);\r\n            setCartItems(response.cartItems)\r\n        }\r\n        fetchCart();\r\n    },[])\r\n    \r\n        const fetchDeleteItemFromCart = async (e)=&gt;{\r\n            const request = await fetch(`http://localhost:8080/cart/delete-cart-item/${e.target.id}`,{method:&#39;DELETE&#39;})\r\n            const response = await request.json();\r\n            setCart(response);\r\n            setCartItems(response.cartItems);\r\n        }\r\n    return (\r\n        &lt;&gt;\r\n\r\n        &lt;div className={classes.container}&gt;\r\n            \r\n            &lt;div className={classes.modalContainer}&gt;\r\n                &lt;&gt; \r\n                &lt;div className={classes.close_container}&gt;\r\n                &lt;h1 className={classes.wrapper}&gt;Shopping Cart&lt;/h1&gt;\r\n                &lt;span className={classes.close_btn}&gt;\r\n                &lt;i\r\n                                    className=&quot;fas fa-close&quot;\r\n                                    onClick={closeModal\r\n                                    }\r\n                                &gt;&lt;/i&gt;\r\n                &lt;/span&gt;\r\n                &lt;/div&gt;\r\n             \r\n                        &lt;div className={classes.project}&gt;\r\n                            &lt;div className={classes.shop}&gt;\r\n                            {cartItems &amp;&amp; cartItems.map(item=&gt;(  \r\n                                 &lt;div className={classes.box}&gt;\r\n                                     &lt;img src={item.product.image} alt=&quot;&quot;/&gt;\r\n                                     &lt;div className={classes.content}&gt;\r\n                                        &lt;h3&gt;{item.product.productName}&lt;/h3&gt; \r\n                                        &lt;h4&gt;{item.product.sellingPrice * item.quantity} $&lt;/h4&gt;\r\n                                        &lt;p className={classes.unit}&gt;Quantity:\r\n                                         &lt;button onClick={addItemQty}id={item.product.id} data-sign={&quot;-&quot;}&gt;-&lt;/button&gt;\r\n                                         &lt;input \r\n                                         onChange={(e)=&gt; setQty(item.quantity)}\r\n                                         value={item.quantity}/&gt;\r\n                                         &lt;button onClick={addItemQty} id={item.product.id} data-sign={&quot;+&quot;}&gt;+&lt;/button&gt;&lt;/p&gt;\r\n                                        &lt;p className={classes.btnArea}&gt;\r\n                                            &lt;i className=&quot;fa fa-trash&quot;&gt;&lt;/i&gt;\r\n                                            &lt;span className={classes.btn2} id={item.product.id} onClick={fetchDeleteItemFromCart}&gt;Remove&lt;/span&gt;\r\n                                        &lt;/p&gt;\r\n                                     &lt;/div&gt;\r\n                                 &lt;/div&gt;\r\n                                  ))}\r\n                            &lt;/div&gt;\r\n                        &lt;div className={classes.rightBar}&gt;\r\n                            &lt;p&gt;&lt;span&gt;Subtotal&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\r\n                            &lt;hr&gt;\r\n                            &lt;/hr&gt;\r\n                            &lt;p&gt;&lt;span&gt;Tax&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\r\n                            &lt;hr&gt;\r\n                            &lt;/hr&gt;\r\n                            &lt;p&gt;&lt;span&gt;Shipping&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\r\n                            &lt;hr&gt;\r\n                            &lt;/hr&gt;\r\n                            &lt;p&gt;&lt;span&gt;Total&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\r\n\r\n                            &lt;a href=&quot;/order&quot;&gt;&lt;i className=&quot;fa fa-shopping-cart&quot;&gt;&lt;/i&gt;Checkout&lt;/a&gt;\r\n\r\n\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;/div&gt;\r\n                &lt;/&gt;\r\n                &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n      &lt;/&gt;\r\n    );\r\n}\r\n\r\n```","title":"react useState fetch","body":"<p>In this component i have a cart. Cart contains cartItems(each line from the cart), i have the functionalities as follows: i can add a product to my cart from product page, i can delete cartItem(doesn't matter the quantity) and the next features that i work on are - + buttons which increases/decreases the quantity of the cartItem, my problem is that opening the cart first time when i press for an example the plus button to increment the value i got this error &quot;{timestamp: '2022-12-21T13:13:49.212+00:00', status: 500, error: 'Internal Server Error', path: '/cart/update-cart-item-quantity'}&quot; and on the frontend it increments the value, but the second time i press the button works just fine but the previous increment will not count just the second,third and so on Example( quantity:1, i press on plus quantity:2 error, press on plus again quantity:2 and its works both on backend and frontend)</p>\n<p>***my backend is in java spring boot and everything works fine, tested with postman</p>\n<p>if u have any suggestions let me know</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React,{ useEffect, useState } from &quot;react&quot;;\nimport classes from &quot;./Modal.module.css&quot;;\n\n\nexport default function Modal({ setModal }) {\n    const [cart,setCart] = useState([]);\n    const [cartItems,setCartItems] = useState();\n    const [itemQty, setItemQty] = useState({id:'', quantity:'' })\n    const [qty,setQty] = useState();\n    // console.log(cart)\n    // console.log(&quot;Cart iteeeeeem&quot;,cartItems);\n    \n    function addItemQty(e){\n        console.log(e.target.innerText)\n        let newList = [];\n        let obj = {id: '', quantity: ''}\n        let total = 0;\n        for (let index = 0; index &lt; cartItems.length; index++) {\n            const element = cartItems[index];\n            const p = element.product.id\n            setItemQty({id:p,quantity:element.quantity})\n\n            console.log(p, e.currentTarget.id)\n            \n        if(p == e.currentTarget.id){\n            const sellingPer = element.product.sellingPrice;\n            if(e.target.innerText==&quot;+&quot;){\n                element.quantity += 1;\n            }else{\n                element.quantity -= 1;\n            }\n            \n            element.totalPrice = element.quantity * sellingPer;\n        }\n        \n        newList.push(element);\n        total += element.totalPrice;\n        cart.totalPrices = total;\n        obj.id = p;\n        obj.quantity = element.quantity;\n        setItemQty({id:p,quantity:element.quantity})\n\n\n    }\n        \n        setCart(cart);\n        setCartItems(newList);\n        fetchUpdateCartItemQuantity();\n\n    }\n    \n    function closeModal() {\n        setModal(false);\n    }\n\n \n\n    const fetchUpdateCartItemQuantity = async ()=&gt;{\n        fetch(&quot;http://localhost:8080/cart/update-cart-item-quantity&quot;,{ method: 'POST',\n        body: JSON.stringify({\n          id: itemQty.id,quantity: itemQty.quantity+1\n        }),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n        },\n      })\n         .then((response) =&gt; response.json())\n         .then((data) =&gt; {\n            console.log(data);\n            // Handle data\n         })\n         .catch((err) =&gt; {\n            console.log(err.message);})\n        // const response = await req.json();\n        // // console.log(&quot;Responseeee&quot;+response);\n        // setCart(response);\n        // setCartItems(response.cartItems)\n        \n    }\n\n    useEffect(() =&gt;{\n   \n    }, [cartItems])\n\n    useEffect(()=&gt;{\n        const fetchCart = async ()=&gt;{\n            const request = await fetch(&quot;http://localhost:8080/cart/get-cart&quot;)\n            const response = await request.json();\n            setCart(response);\n            setCartItems(response.cartItems)\n        }\n        fetchCart();\n    },[])\n    \n        const fetchDeleteItemFromCart = async (e)=&gt;{\n            const request = await fetch(`http://localhost:8080/cart/delete-cart-item/${e.target.id}`,{method:'DELETE'})\n            const response = await request.json();\n            setCart(response);\n            setCartItems(response.cartItems);\n        }\n    return (\n        &lt;&gt;\n\n        &lt;div className={classes.container}&gt;\n            \n            &lt;div className={classes.modalContainer}&gt;\n                &lt;&gt; \n                &lt;div className={classes.close_container}&gt;\n                &lt;h1 className={classes.wrapper}&gt;Shopping Cart&lt;/h1&gt;\n                &lt;span className={classes.close_btn}&gt;\n                &lt;i\n                                    className=&quot;fas fa-close&quot;\n                                    onClick={closeModal\n                                    }\n                                &gt;&lt;/i&gt;\n                &lt;/span&gt;\n                &lt;/div&gt;\n             \n                        &lt;div className={classes.project}&gt;\n                            &lt;div className={classes.shop}&gt;\n                            {cartItems &amp;&amp; cartItems.map(item=&gt;(  \n                                 &lt;div className={classes.box}&gt;\n                                     &lt;img src={item.product.image} alt=&quot;&quot;/&gt;\n                                     &lt;div className={classes.content}&gt;\n                                        &lt;h3&gt;{item.product.productName}&lt;/h3&gt; \n                                        &lt;h4&gt;{item.product.sellingPrice * item.quantity} $&lt;/h4&gt;\n                                        &lt;p className={classes.unit}&gt;Quantity:\n                                         &lt;button onClick={addItemQty}id={item.product.id} data-sign={&quot;-&quot;}&gt;-&lt;/button&gt;\n                                         &lt;input \n                                         onChange={(e)=&gt; setQty(item.quantity)}\n                                         value={item.quantity}/&gt;\n                                         &lt;button onClick={addItemQty} id={item.product.id} data-sign={&quot;+&quot;}&gt;+&lt;/button&gt;&lt;/p&gt;\n                                        &lt;p className={classes.btnArea}&gt;\n                                            &lt;i className=&quot;fa fa-trash&quot;&gt;&lt;/i&gt;\n                                            &lt;span className={classes.btn2} id={item.product.id} onClick={fetchDeleteItemFromCart}&gt;Remove&lt;/span&gt;\n                                        &lt;/p&gt;\n                                     &lt;/div&gt;\n                                 &lt;/div&gt;\n                                  ))}\n                            &lt;/div&gt;\n                        &lt;div className={classes.rightBar}&gt;\n                            &lt;p&gt;&lt;span&gt;Subtotal&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\n                            &lt;hr&gt;\n                            &lt;/hr&gt;\n                            &lt;p&gt;&lt;span&gt;Tax&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\n                            &lt;hr&gt;\n                            &lt;/hr&gt;\n                            &lt;p&gt;&lt;span&gt;Shipping&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\n                            &lt;hr&gt;\n                            &lt;/hr&gt;\n                            &lt;p&gt;&lt;span&gt;Total&lt;/span&gt; &lt;span&gt;{cart.totalPrices}&lt;/span&gt;&lt;/p&gt;\n\n                            &lt;a href=&quot;/order&quot;&gt;&lt;i className=&quot;fa fa-shopping-cart&quot;&gt;&lt;/i&gt;Checkout&lt;/a&gt;\n\n\n                        &lt;/div&gt;\n\n                        &lt;/div&gt;\n                &lt;/&gt;\n                &lt;/div&gt;\n        &lt;/div&gt;\n\n      &lt;/&gt;\n    );\n}\n\n</code></pre>\n"},{"tags":["java","sdk"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1671691168,"post_id":74884924,"comment_id":132153803,"body_markdown":"What kind / type of file is the SDK?  (&quot;SDK&quot; is not a file type ...)","body":"What kind / type of file is the SDK?  (&quot;SDK&quot; is not a file type ...)"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671746029,"post_id":74884924,"comment_id":132169689,"body_markdown":"Please read [ask] and write a descriptive, non-ambiguous title.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and write a descriptive, non-ambiguous title."}],"owner":{"account_id":27323979,"reputation":1,"user_id":20837233,"display_name":"hasnainrabby intertech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671691008,"creation_date":1671691008,"question_id":74884924,"body_markdown":"Client provide me a SDK file to build a RFID Reader Apps for Handheld Device.\r\nHow to use or open custom JAVA SDK file in my Android Studio IDE.\r\n\r\nI tried to open that file in my Android Studio IDE but I failed because There was no gradle file.\r\nPlease give me suggestion ,how I open SDK. ","title":"custom JAVA SDK file in android studio project","body":"<p>Client provide me a SDK file to build a RFID Reader Apps for Handheld Device.\nHow to use or open custom JAVA SDK file in my Android Studio IDE.</p>\n<p>I tried to open that file in my Android Studio IDE but I failed because There was no gradle file.\nPlease give me suggestion ,how I open SDK.</p>\n"},{"tags":["java","spring-boot","ssl-certificate"],"comments":[{"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"score":0,"creation_date":1446193370,"post_id":33429585,"comment_id":54651202,"body_markdown":"how so you add your file to the class path?","body":"how so you add your file to the class path?"},{"owner":{"account_id":127534,"reputation":2671,"user_id":324777,"accept_rate":46,"display_name":"Niranjan"},"score":0,"creation_date":1446194039,"post_id":33429585,"comment_id":54651527,"body_markdown":"Drop the file in `src/main/resources` and that gets bundled in the JAR file. Am I doing anything wrong here? Please suggest if there is another way.","body":"Drop the file in <code>src&#47;main&#47;resources</code> and that gets bundled in the JAR file. Am I doing anything wrong here? Please suggest if there is another way."}],"answers":[{"comments":[{"owner":{"account_id":127534,"reputation":2671,"user_id":324777,"accept_rate":46,"display_name":"Niranjan"},"score":0,"creation_date":1447990601,"post_id":33432813,"comment_id":55402869,"body_markdown":"I cannot do this for a design consideration in our app.","body":"I cannot do this for a design consideration in our app."}],"tags":[],"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446198302,"creation_date":1446197934,"answer_id":33432813,"question_id":33429585,"body_markdown":"I think you can add this configuration in your .properties file as belows, rather than getting the string,\r\n\r\n    server.ssl.key-store: classpath:dev_keystore.p12\r\n    server.ssl.key-store-password: mypassword\r\n    server.ssl.keyStoreType: PKCS12\r\n    server.ssl.keyAlias: tomcat\r\n\r\nIf you need to do what you are doing now, let me know, I will give that answer","title":"Spring boot embedded tomcat not loading SSL keystore file from classpath","body":"<p>I think you can add this configuration in your .properties file as belows, rather than getting the string,</p>\n\n<pre><code>server.ssl.key-store: classpath:dev_keystore.p12\nserver.ssl.key-store-password: mypassword\nserver.ssl.keyStoreType: PKCS12\nserver.ssl.keyAlias: tomcat\n</code></pre>\n\n<p>If you need to do what you are doing now, let me know, I will give that answer</p>\n"},{"comments":[{"owner":{"account_id":127534,"reputation":2671,"user_id":324777,"accept_rate":46,"display_name":"Niranjan"},"score":0,"creation_date":1447990372,"post_id":33807062,"comment_id":55402811,"body_markdown":"This sounds interesting. Because mine is a new application and I started using Spring Boot 1.2.6 to begin with. If it works in 1.2.5 and not the latest, I think you should create an issue ticket in their JIRA, no?","body":"This sounds interesting. Because mine is a new application and I started using Spring Boot 1.2.6 to begin with. If it works in 1.2.5 and not the latest, I think you should create an issue ticket in their JIRA, no?"}],"tags":[],"owner":{"account_id":2010202,"reputation":992,"user_id":1798842,"accept_rate":89,"display_name":"lincetto"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447944446,"creation_date":1447944446,"answer_id":33807062,"question_id":33429585,"body_markdown":"In this [answer][1] seems that Tomcat can&#39;t read the keystore conatined in a jar, but I&#39;m not sure of that because I use Spring Boot 1.2.5 and everything works like a charme with the keystore in the classpath.\r\nHowever I&#39;ve exactly the same error of yours when I try to upgrade to Spring Boot 1.2.7 and above, so I concluded that depends on Spring Boot.\r\nAt this time, I downgraded to 1.2.5 version. :(\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/32902333/1798842","title":"Spring boot embedded tomcat not loading SSL keystore file from classpath","body":"<p>In this <a href=\"https://stackoverflow.com/a/32902333/1798842\">answer</a> seems that Tomcat can't read the keystore conatined in a jar, but I'm not sure of that because I use Spring Boot 1.2.5 and everything works like a charme with the keystore in the classpath.\nHowever I've exactly the same error of yours when I try to upgrade to Spring Boot 1.2.7 and above, so I concluded that depends on Spring Boot.\nAt this time, I downgraded to 1.2.5 version. :(</p>\n"},{"tags":[],"owner":{"account_id":8419435,"reputation":2416,"user_id":6318630,"accept_rate":17,"display_name":"dsncode"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522724475,"creation_date":1522724475,"answer_id":49621560,"question_id":33429585,"body_markdown":"I&#39;m not sure if this would help someone, but on Spring 1.5.8, if you have placed your key into your project root level, just add this into your application.yml :\r\n\r\n    server:\r\n      ssl:\r\n        key-store-type: PKCS12\r\n        key-store: keystore.p12\r\n        key-store-password: some_password\r\n        key-alias: tomcat\r\n\r\nand it will work without problems.","title":"Spring boot embedded tomcat not loading SSL keystore file from classpath","body":"<p>I'm not sure if this would help someone, but on Spring 1.5.8, if you have placed your key into your project root level, just add this into your application.yml :</p>\n\n<pre><code>server:\n  ssl:\n    key-store-type: PKCS12\n    key-store: keystore.p12\n    key-store-password: some_password\n    key-alias: tomcat\n</code></pre>\n\n<p>and it will work without problems.</p>\n"},{"tags":[],"owner":{"account_id":3829506,"reputation":197,"user_id":3175474,"display_name":"Jeff C Johnson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530213511,"creation_date":1530213511,"answer_id":51089938,"question_id":33429585,"body_markdown":"This works for me running from a JAR with Spring Boot 2.0.2.RELEASE.\r\n\r\n    @Bean public ServletWebServerFactory servletContainer() {\r\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n        tomcat.addAdditionalTomcatConnectors(createSslConnector());\r\n        ...\r\n        return tomcat;\r\n    }\r\n\r\n    private Connector createSslConnector() {\r\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n        Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n\r\n        connector.setScheme(&quot;https&quot;);\r\n        connector.setSecure(true);\r\n        connector.setPort(8443);\r\n\r\n        protocol.setSSLEnabled(true);\r\n        protocol.setKeystoreType(&quot;pkcs12&quot;);\r\n        protocol.setKeystorePass(&quot;changeit&quot;);\r\n        protocol.setKeyAlias(&quot;tomcat&quot;);\r\n\r\n        try {\r\n            ClassPathResource keystoreResource = new ClassPathResource(&quot;keystore&quot;);\r\n            URL keystoreUrl = keystoreResource.getURL();\r\n            String keystoreLocation = keystoreUrl.toString();\r\n            protocol.setKeystoreFile(keystoreLocation);\r\n        }\r\n        catch (IOException ex) {\r\n            throw new IllegalStateException(&quot;can&#39;t access keystore: [keystore]&quot;, ex);\r\n        }\r\n\r\n        return connector;\r\n    }","title":"Spring boot embedded tomcat not loading SSL keystore file from classpath","body":"<p>This works for me running from a JAR with Spring Boot 2.0.2.RELEASE.</p>\n\n<pre><code>@Bean public ServletWebServerFactory servletContainer() {\n    TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n    tomcat.addAdditionalTomcatConnectors(createSslConnector());\n    ...\n    return tomcat;\n}\n\nprivate Connector createSslConnector() {\n    Connector connector = new Connector(\"org.apache.coyote.http11.Http11NioProtocol\");\n    Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n\n    connector.setScheme(\"https\");\n    connector.setSecure(true);\n    connector.setPort(8443);\n\n    protocol.setSSLEnabled(true);\n    protocol.setKeystoreType(\"pkcs12\");\n    protocol.setKeystorePass(\"changeit\");\n    protocol.setKeyAlias(\"tomcat\");\n\n    try {\n        ClassPathResource keystoreResource = new ClassPathResource(\"keystore\");\n        URL keystoreUrl = keystoreResource.getURL();\n        String keystoreLocation = keystoreUrl.toString();\n        protocol.setKeystoreFile(keystoreLocation);\n    }\n    catch (IOException ex) {\n        throw new IllegalStateException(\"can't access keystore: [keystore]\", ex);\n    }\n\n    return connector;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671690704,"creation_date":1671690704,"answer_id":74884888,"question_id":33429585,"body_markdown":"Keystore is not readable from classpath other than Spring. (In case of kafka we don&#39;t have any option and kafka always expect location to be on filesystem not in jar file.) So I suggest to  use below property and give absolute path to keystore location.\r\n\r\napplication.properties\r\n\r\n    spring.kafka.ssl.key-store-location=file:certificate.jks\r\n\r\nIn code:\r\n\r\n \r\n\r\n    @Value(&quot;${spring.kafka.ssl.key-store-location}&quot;)\r\n        private Resource keystoreLocation;\r\n    \r\n    props.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, keystoreLocation.getFile().getAbsolutePath());\r\n\r\nThis way you can read the keystore. You may need to copy the file on file system rather than in Jar.","title":"Spring boot embedded tomcat not loading SSL keystore file from classpath","body":"<p>Keystore is not readable from classpath other than Spring. (In case of kafka we don't have any option and kafka always expect location to be on filesystem not in jar file.) So I suggest to  use below property and give absolute path to keystore location.</p>\n<p>application.properties</p>\n<pre><code>spring.kafka.ssl.key-store-location=file:certificate.jks\n</code></pre>\n<p>In code:</p>\n<pre><code>@Value(&quot;${spring.kafka.ssl.key-store-location}&quot;)\n    private Resource keystoreLocation;\n\nprops.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, keystoreLocation.getFile().getAbsolutePath());\n</code></pre>\n<p>This way you can read the keystore. You may need to copy the file on file system rather than in Jar.</p>\n"}],"owner":{"account_id":127534,"reputation":2671,"user_id":324777,"accept_rate":46,"display_name":"Niranjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14018,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1671690704,"creation_date":1446184707,"question_id":33429585,"body_markdown":"I am using Spring boot 1.2.7 for my application and as a requirement I have to load the SSL cert from classpath. So, I added my PKCS12 file in my classpath and used following code (in `AppInitializer` class to load it:\r\n\r\n    final String sslKeystoreFilepath = this.getClass().getClassLoader().getResource(sslKeystoreFilename).getFile();\r\n\r\nI am noticing two things here:\r\n\r\n1. The string contains `file:` in it. If I run the same code through a plain standalone program with `main` method, I couldn&#39;t see anything like `file:`.\r\n\r\n2. When I run the Spring boot app (using generated fat jar), it throws exception saying:\r\n\r\n`SEVERE: Failed to load keystore type PKCS12 with path /Users/my_user/Projects/my_app/build/libs/myapp-1.0-SNAPSHOT-dev.jar!/dev_keystore.p12 due to /Users/my_user/Projects/my_app/build/libs/myapp-1.0-SNAPSHOT-dev.jar!/dev_keystore.p12 (No such file or directory)\r\njava.io.FileNotFoundException: /Users/my_user/Projects/my_app/build/libs/myapp-1.0-SNAPSHOT-dev.jar!/dev_keystore.p12 (No such file or directory)`\r\n\r\nWhat am I doing wrong?","title":"Spring boot embedded tomcat not loading SSL keystore file from classpath","body":"<p>I am using Spring boot 1.2.7 for my application and as a requirement I have to load the SSL cert from classpath. So, I added my PKCS12 file in my classpath and used following code (in <code>AppInitializer</code> class to load it:</p>\n\n<pre><code>final String sslKeystoreFilepath = this.getClass().getClassLoader().getResource(sslKeystoreFilename).getFile();\n</code></pre>\n\n<p>I am noticing two things here:</p>\n\n<ol>\n<li><p>The string contains <code>file:</code> in it. If I run the same code through a plain standalone program with <code>main</code> method, I couldn't see anything like <code>file:</code>.</p></li>\n<li><p>When I run the Spring boot app (using generated fat jar), it throws exception saying:</p></li>\n</ol>\n\n<p><code>SEVERE: Failed to load keystore type PKCS12 with path /Users/my_user/Projects/my_app/build/libs/myapp-1.0-SNAPSHOT-dev.jar!/dev_keystore.p12 due to /Users/my_user/Projects/my_app/build/libs/myapp-1.0-SNAPSHOT-dev.jar!/dev_keystore.p12 (No such file or directory)\njava.io.FileNotFoundException: /Users/my_user/Projects/my_app/build/libs/myapp-1.0-SNAPSHOT-dev.jar!/dev_keystore.p12 (No such file or directory)</code></p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671690736,"post_id":74883733,"comment_id":132153727,"body_markdown":"No, as eventually the transaction is bound to the connection and you still have 2 (or more) separated connections to the database. So unless you want to configure XA transactions this isn&#39;t possible.","body":"No, as eventually the transaction is bound to the connection and you still have 2 (or more) separated connections to the database. So unless you want to configure XA transactions this isn&#39;t possible."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671692073,"post_id":74883733,"comment_id":132153959,"body_markdown":"You actually need to implement your own [AbstractRoutingDataSource](https://www.baeldung.com/spring-abstract-routing-data-source) - scheduled tasks need to set some kind of context property (ThreadLocal value I believe) and implementation of `AbstractRoutingDataSource` read that property. No need to create multiple EMF and TM.","body":"You actually need to implement your own <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">AbstractRoutingDataSource</a> - scheduled tasks need to set some kind of context property (ThreadLocal value I believe) and implementation of <code>AbstractRoutingDataSource</code> read that property. No need to create multiple EMF and TM."},{"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"score":0,"creation_date":1671834899,"post_id":74883733,"comment_id":132187077,"body_markdown":"@AndreyB.Panfilov This solutions seems to work, would you be willing to add this as an answer?","body":"@AndreyB.Panfilov This solutions seems to work, would you be willing to add this as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":13794509,"reputation":138,"user_id":9956025,"display_name":"Hrithik Manchanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671690620,"creation_date":1671690620,"answer_id":74884879,"question_id":74883733,"body_markdown":"If your service is running through an interface from your controller, then Transactional method should come on the interface layer method.\r\n\r\nAnd use **javax.persistance.Transactional** class for the annotation instead of **org.springframework.transaction.annotation.Transactional**\r\n\r\nand specify **@EnableTransactionManagement** in your application class to enable transactions.\r\n","title":"Multiple connection pools with shared TransactionManager for the same database in Spring?","body":"<p>If your service is running through an interface from your controller, then Transactional method should come on the interface layer method.</p>\n<p>And use <strong>javax.persistance.Transactional</strong> class for the annotation instead of <strong>org.springframework.transaction.annotation.Transactional</strong></p>\n<p>and specify <strong>@EnableTransactionManagement</strong> in your application class to enable transactions.</p>\n"}],"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671690620,"creation_date":1671677608,"question_id":74883733,"body_markdown":"I&#39;m using Spring JPA to connect to a relational database. I want to have multiple connection pools connecting to the same database so scheduled tasks can&#39;t clog up the connection pool for user interactions.\r\n\r\nThis works fine if I define multiple `DataSource`s like it is described in https://stackoverflow.com/questions/52831863/spring-jpa-hikari-multiple-connection-pool-with-same-datasource. Currently I define multiple different `EntityManagerFactoryBean`s and `PlatformTransactionManager`s, one for each `DataSource`. But I would like to be able to use the same physical transaction spanning calls to different `JpaRepositories` backed by different `DataSource`s.\r\n\r\n    @Service\r\n    public class FooService {\r\n      // ..\r\n    \r\n      @Transactional\r\n      public saveFoo(Foo foo) {\r\n        fooRepository.save(foo);\r\n        barService.somethingElse(foo);\r\n      }\r\n    }\r\n    \r\n    @Service\r\n    public class BarService {\r\n    \r\n      @Transactional(propagation = Propagation.MANDATORY)\r\n      public somethingElse(Foo foo) {\r\n        // BarRepository is backed by another DataSource as FooRepository,\r\n        // but both DataSources connect to the same database\r\n        barRepository.saveAndFlush(new FoobarEvent(foo));\r\n      }\r\n    }\r\n\r\nThe call to BarRepository fails for me with:\r\n\r\n&gt; InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\nIt seems like multiple different `DataSource`s are needed because the `DataSource`s define the connection pool. But since the `PlatformTransactionManager` and the `EntityManagerFactoryBean` references the `DataSource` it&#39;s not really possible to have transactions span multiple repositories that are backed by different `DataSource`s because Spring doesn&#39;t know that both `DataSource`s point to the same database. Is there a way to configure Spring JPA to achieve what I want?","title":"Multiple connection pools with shared TransactionManager for the same database in Spring?","body":"<p>I'm using Spring JPA to connect to a relational database. I want to have multiple connection pools connecting to the same database so scheduled tasks can't clog up the connection pool for user interactions.</p>\n<p>This works fine if I define multiple <code>DataSource</code>s like it is described in <a href=\"https://stackoverflow.com/questions/52831863/spring-jpa-hikari-multiple-connection-pool-with-same-datasource\">Spring JPA Hikari multiple connection pool with same datasource</a>. Currently I define multiple different <code>EntityManagerFactoryBean</code>s and <code>PlatformTransactionManager</code>s, one for each <code>DataSource</code>. But I would like to be able to use the same physical transaction spanning calls to different <code>JpaRepositories</code> backed by different <code>DataSource</code>s.</p>\n<pre><code>@Service\npublic class FooService {\n  // ..\n\n  @Transactional\n  public saveFoo(Foo foo) {\n    fooRepository.save(foo);\n    barService.somethingElse(foo);\n  }\n}\n\n@Service\npublic class BarService {\n\n  @Transactional(propagation = Propagation.MANDATORY)\n  public somethingElse(Foo foo) {\n    // BarRepository is backed by another DataSource as FooRepository,\n    // but both DataSources connect to the same database\n    barRepository.saveAndFlush(new FoobarEvent(foo));\n  }\n}\n</code></pre>\n<p>The call to BarRepository fails for me with:</p>\n<blockquote>\n<p>InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress</p>\n</blockquote>\n<p>It seems like multiple different <code>DataSource</code>s are needed because the <code>DataSource</code>s define the connection pool. But since the <code>PlatformTransactionManager</code> and the <code>EntityManagerFactoryBean</code> references the <code>DataSource</code> it's not really possible to have transactions span multiple repositories that are backed by different <code>DataSource</code>s because Spring doesn't know that both <code>DataSource</code>s point to the same database. Is there a way to configure Spring JPA to achieve what I want?</p>\n"},{"tags":["java","android","android-workmanager"],"answers":[{"comments":[{"owner":{"account_id":17136584,"reputation":33,"user_id":12401482,"display_name":"Shreyash Saitwal"},"score":0,"creation_date":1604425226,"post_id":64634451,"comment_id":114341791,"body_markdown":"Thanks for your answer. Although, it didn&#39;t work for me. Now I get this error: `java.lang.NoClassDefFoundError: androidx.work.impl.utils.futures.SettableFuture`.","body":"Thanks for your answer. Although, it didn&#39;t work for me. Now I get this error: <code>java.lang.NoClassDefFoundError: androidx.work.impl.utils.futures.SettableFuture</code>."},{"owner":{"account_id":7188795,"reputation":385,"user_id":5489898,"accept_rate":50,"display_name":"Namnodorel"},"score":0,"creation_date":1604437725,"post_id":64634451,"comment_id":114347133,"body_markdown":"I don&#39;t have much experience with using a non-Gradle build system for Android, but I think in any case it would be useful if you could share more details about what gets imported and how.","body":"I don&#39;t have much experience with using a non-Gradle build system for Android, but I think in any case it would be useful if you could share more details about what gets imported and how."},{"owner":{"account_id":17136584,"reputation":33,"user_id":12401482,"display_name":"Shreyash Saitwal"},"score":0,"creation_date":1604504066,"post_id":64634451,"comment_id":114367984,"body_markdown":"I&#39;m sorry, I didn&#39;t quite understand your question. What do you exactly mean by &quot;what gets imported and how&quot;? If you mean what libraries I&#39;m using, it&#39;s everything that `androidx.work-runtime` depends on, plus a lot of other external dependencies required by the project. This project ain&#39;t an Android app instead, it&#39;s an open-source no-code app development platform maintained by MIT. Here&#39;s the link to it&#39;s GitHub repo: https://github.com/mit-cml/appinventor-sources","body":"I&#39;m sorry, I didn&#39;t quite understand your question. What do you exactly mean by &quot;what gets imported and how&quot;? If you mean what libraries I&#39;m using, it&#39;s everything that <code>androidx.work-runtime</code> depends on, plus a lot of other external dependencies required by the project. This project ain&#39;t an Android app instead, it&#39;s an open-source no-code app development platform maintained by MIT. Here&#39;s the link to it&#39;s GitHub repo: <a href=\"https://github.com/mit-cml/appinventor-sources\" rel=\"nofollow noreferrer\">github.com/mit-cml/appinventor-sources</a>"}],"tags":[],"owner":{"account_id":7188795,"reputation":385,"user_id":5489898,"accept_rate":50,"display_name":"Namnodorel"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604249677,"creation_date":1604249677,"answer_id":64634451,"question_id":63752933,"body_markdown":"I fixed a similar issue today where the issue was actually a missing `ListenableFuture`, even though the exception head looked the same as yours.\r\n\r\nI had added this to my build file previously:\r\n````Groovy\r\nimplementation &#39;com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava&#39;\r\n````\r\nI did this to avoid a class duplication error, since Guava was imported from elsewhere (also see [this question][1]).\r\nAfter that dependency stopped depending on Guava, the import that previously fixed an issue now caused an issue itself. Removing it again fixed the problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56639529/duplicate-class-com-google-common-util-concurrent-listenablefuture-found-in-modu/60492942","title":"Failed resolution of: Landroidx/work/impl/utils/futures/AbstractFuture","body":"<p>I fixed a similar issue today where the issue was actually a missing <code>ListenableFuture</code>, even though the exception head looked the same as yours.</p>\n<p>I had added this to my build file previously:</p>\n<pre><code>implementation 'com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava'\n</code></pre>\n<p>I did this to avoid a class duplication error, since Guava was imported from elsewhere (also see <a href=\"https://stackoverflow.com/questions/56639529/duplicate-class-com-google-common-util-concurrent-listenablefuture-found-in-modu/60492942\">this question</a>).\nAfter that dependency stopped depending on Guava, the import that previously fixed an issue now caused an issue itself. Removing it again fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":26843370,"reputation":51,"user_id":20429506,"display_name":"user20429506"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671690560,"creation_date":1671690560,"answer_id":74884871,"question_id":63752933,"body_markdown":" I have faced the similar issue. This happens on dependency\r\n    conflict.I&#39;m sharing what I have done to resolve this. Using this\r\n    dependency `&quot;implementation &#39;com.google.guava:guava:28.2-android&quot;`\r\n    and make sure to  remove this in build.gradle\r\n      \r\n    \r\n          configurations.all {\r\n                resolutionStrategy {\r\n                    exclude group: &#39;com.google.guava&#39;, module: &#39;listenablefuture&#39;\r\n                }\r\n            }","title":"Failed resolution of: Landroidx/work/impl/utils/futures/AbstractFuture","body":"<p>I have faced the similar issue. This happens on dependency\nconflict.I'm sharing what I have done to resolve this. Using this\ndependency <code>&quot;implementation 'com.google.guava:guava:28.2-android&quot;</code>\nand make sure to  remove this in build.gradle</p>\n<pre><code>      configurations.all {\n            resolutionStrategy {\n                exclude group: 'com.google.guava', module: 'listenablefuture'\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":17136584,"reputation":33,"user_id":12401482,"display_name":"Shreyash Saitwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1999,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1671690560,"creation_date":1599301986,"question_id":63752933,"body_markdown":"&lt;br&gt;\r\nI tried to implement the WorkManager API in one of my projects. The app compiles successfully, but when I try to execute some work using WorkManager, it throws the below runtime error:\r\n\r\n```\r\nRuntime Error\r\nFailed resolution of: Landroidx/work/impl/utils/futures/AbstractFuture;\r\n```\r\n\r\n---\r\n\r\n\r\nWhat I know of this error is that it occurs when some class that was available during compile time isn&#39;t available during runtime. But this doesn&#39;t seem to be the case with me, as when I decompiled my APK, all the necessary classes (including `androidx.work.impl.utils.futures.AbstractFuture`) were present there! I tried version 2.3.4, 2.4.0, and 2.5.0_Alpha01 of the work-runtime library, but none of them seemed to work. It&#39;d be really helpful if someone could help me solve this issue. =)\r\n\r\n---\r\n\r\nNote: FYI, the project I&#39;m working on is very old, and unfortunately, it still uses Apache Ant. Also, it won&#39;t be easy for us to migrate to Gradle anytime soon as it&#39;ll affect the whole architecture and take a huge amount of time. So, any solution suggesting changes in build.gradle won&#39;t be quite helpful. :)\r\n\r\n---\r\n\r\n**EDIT**: In case anyone needs to see the ADB log:\r\n```\r\n...\r\n09-05 20:47:01.536 25688 25688 W System.err: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/work/impl/utils/futures/AbstractFuture;\r\n09-05 20:47:01.536 25688 25688 W System.err:    at androidx.work.WorkManager.initialize(WorkManager.java:210)\r\n09-05 20:47:01.536 25688 25688 W System.err:    at androidx.work.impl.WorkManagerInitializer.onCreate(WorkManagerInitializer.java:40)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.content.ContentProvider.attachInfo(ContentProvider.java:2102)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.content.ContentProvider.attachInfo(ContentProvider.java:2076)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.installProvider(ActivityThread.java:7430)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.installContentProviders(ActivityThread.java:6934)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6851)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.access$1600(ActivityThread.java:242)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2063)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:107)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.os.Looper.loop(Looper.java:227)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:7822)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at java.lang.reflect.Method.invoke(Native Method)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n09-05 20:47:01.537 25688 25688 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1026)\r\n09-05 20:47:01.537 25688 25688 W System.err: Caused by: java.lang.ClassNotFoundException: androidx.work.impl.utils.futures.AbstractFuture\r\n09-05 20:47:01.537 25688 25688 W System.err:    ... 15 more\r\n...","title":"Failed resolution of: Landroidx/work/impl/utils/futures/AbstractFuture","body":"<br>\nI tried to implement the WorkManager API in one of my projects. The app compiles successfully, but when I try to execute some work using WorkManager, it throws the below runtime error:\n<pre><code>Runtime Error\nFailed resolution of: Landroidx/work/impl/utils/futures/AbstractFuture;\n</code></pre>\n<hr />\n<p>What I know of this error is that it occurs when some class that was available during compile time isn't available during runtime. But this doesn't seem to be the case with me, as when I decompiled my APK, all the necessary classes (including <code>androidx.work.impl.utils.futures.AbstractFuture</code>) were present there! I tried version 2.3.4, 2.4.0, and 2.5.0_Alpha01 of the work-runtime library, but none of them seemed to work. It'd be really helpful if someone could help me solve this issue. =)</p>\n<hr />\n<p>Note: FYI, the project I'm working on is very old, and unfortunately, it still uses Apache Ant. Also, it won't be easy for us to migrate to Gradle anytime soon as it'll affect the whole architecture and take a huge amount of time. So, any solution suggesting changes in build.gradle won't be quite helpful. :)</p>\n<hr />\n<p><strong>EDIT</strong>: In case anyone needs to see the ADB log:</p>\n<pre><code>...\n09-05 20:47:01.536 25688 25688 W System.err: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/work/impl/utils/futures/AbstractFuture;\n09-05 20:47:01.536 25688 25688 W System.err:    at androidx.work.WorkManager.initialize(WorkManager.java:210)\n09-05 20:47:01.536 25688 25688 W System.err:    at androidx.work.impl.WorkManagerInitializer.onCreate(WorkManagerInitializer.java:40)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.content.ContentProvider.attachInfo(ContentProvider.java:2102)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.content.ContentProvider.attachInfo(ContentProvider.java:2076)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.installProvider(ActivityThread.java:7430)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.installContentProviders(ActivityThread.java:6934)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6851)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.access$1600(ActivityThread.java:242)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2063)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:107)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.os.Looper.loop(Looper.java:227)\n09-05 20:47:01.537 25688 25688 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:7822)\n09-05 20:47:01.537 25688 25688 W System.err:    at java.lang.reflect.Method.invoke(Native Method)\n09-05 20:47:01.537 25688 25688 W System.err:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n09-05 20:47:01.537 25688 25688 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1026)\n09-05 20:47:01.537 25688 25688 W System.err: Caused by: java.lang.ClassNotFoundException: androidx.work.impl.utils.futures.AbstractFuture\n09-05 20:47:01.537 25688 25688 W System.err:    ... 15 more\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1481888849,"post_id":41183668,"comment_id":69567033,"body_markdown":"@RafaLaskowski that depends on the type, i.e. `int` vs. `Integer` (the latter _can_ be null).","body":"@RafaLaskowski that depends on the type, i.e. <code>int</code> vs. <code>Integer</code> (the latter <i>can</i> be null)."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1481888851,"post_id":41183668,"comment_id":69567036,"body_markdown":"@RafaLaskowski He/she meant `Integer` not `int`","body":"@RafaLaskowski He/she meant <code>Integer</code> not <code>int</code>"},{"owner":{"account_id":407811,"reputation":516,"user_id":778096,"display_name":"skw"},"score":0,"creation_date":1481888903,"post_id":41183668,"comment_id":69567063,"body_markdown":"Is `myInteger` of type `int` or `Integer`? If it&#39;s the first then it cannot be `null`.","body":"Is <code>myInteger</code> of type <code>int</code> or <code>Integer</code>? If it&#39;s the first then it cannot be <code>null</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1481888935,"post_id":41183668,"comment_id":69567076,"body_markdown":"@skw: Given both the title of the question and the name of the variable, it seems pretty clear it&#39;s `Integer`.","body":"@skw: Given both the title of the question and the name of the variable, it seems pretty clear it&#39;s <code>Integer</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1481888999,"post_id":41183668,"comment_id":69567114,"body_markdown":"AFAIK there isn&#39;t any way to do those checks with one operation but you could provide/use a utility method e.g. `if( notNullOrZero( myInteger ) ) { ... } `","body":"AFAIK there isn&#39;t any way to do those checks with one operation but you could provide/use a utility method e.g. <code>if( notNullOrZero( myInteger ) ) { ... } </code>"},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1481889016,"post_id":41183668,"comment_id":69567123,"body_markdown":"@MykhayloAdamovych `StringUtils.isBlank()` is from apache commons. Are you asking us whether there is a library which contains a one-line method instead of just writing it yourself?","body":"@MykhayloAdamovych <code>StringUtils.isBlank()</code> is from apache commons. Are you asking us whether there is a library which contains a one-line method instead of just writing it yourself?"},{"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"score":2,"creation_date":1481889178,"post_id":41183668,"comment_id":69567212,"body_markdown":"lets apache forum make a note of this to upgrade!! :)","body":"lets apache forum make a note of this to upgrade!! :)"},{"owner":{"account_id":3136874,"reputation":3180,"user_id":2653222,"accept_rate":40,"display_name":"Giulio Franco"},"score":7,"creation_date":1481889400,"post_id":41183668,"comment_id":69567354,"body_markdown":"Not as far as I know. While you could easily define your static utility method to do that, I would not do that, since that would give the value 0 a special meaning that is questionable (even though it exists e.g. in C/C++). It seems that you are using myInteger as an optional value. If that&#39;s the case, and you&#39;re in Java 8, then you can use an Optional&lt;Integer&gt; and write `if (myOptInteger.orElse(0) != 0)`","body":"Not as far as I know. While you could easily define your static utility method to do that, I would not do that, since that would give the value 0 a special meaning that is questionable (even though it exists e.g. in C/C++). It seems that you are using myInteger as an optional value. If that&#39;s the case, and you&#39;re in Java 8, then you can use an Optional&lt;Integer&gt; and write <code>if (myOptInteger.orElse(0) != 0)</code>"},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":1,"creation_date":1481892727,"post_id":41183668,"comment_id":69569342,"body_markdown":"You are talking in a manner that empty string could not have special meaning alongside with null...","body":"You are talking in a manner that empty string could not have special meaning alongside with null..."},{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":0,"creation_date":1481892896,"post_id":41183668,"comment_id":69569433,"body_markdown":"You can do something like `if(Objects.nonNull(myInteger) &amp;&amp; myInteger.intValue()!=0)`. Objects has two method `nonNull` &amp; `isNull`, you can use these methods for null check but instead of use these methods I believe `myInteger != null` option is better.","body":"You can do something like <code>if(Objects.nonNull(myInteger) &amp;&amp; myInteger.intValue()!=0)</code>. Objects has two method <code>nonNull</code> &amp; <code>isNull</code>, you can use these methods for null check but instead of use these methods I believe <code>myInteger != null</code> option is better."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1481915811,"post_id":41183668,"comment_id":69581837,"body_markdown":"I would write it exactly as you have now; it&#39;ll be clearer than any alternative.","body":"I would write it exactly as you have now; it&#39;ll be clearer than any alternative."},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":0,"creation_date":1482100733,"post_id":41183668,"comment_id":69626055,"body_markdown":"I would like to have single-word Apache util method","body":"I would like to have single-word Apache util method"},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1498645839,"post_id":41183668,"comment_id":76579885,"body_markdown":"I believe that would be a rare case. But the method could be named this way: `Integers.nonZero(number)`","body":"I believe that would be a rare case. But the method could be named this way: <code>Integers.nonZero(number)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7649983,"reputation":1584,"user_id":5799145,"accept_rate":57,"display_name":"CraigR8806"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481889849,"creation_date":1481889849,"answer_id":41184011,"question_id":41183668,"body_markdown":"Depending on your implementation of `myInteger` (i.e. if the Integer property within `myInteger` is the box type `Integer` or the unboxed primitive `int`), you may only have to write one conditional.  \r\n\r\n`Integer`s are actual objects, which means they have the ability to be `null`.  That being said they can also hold 0 as a value.  So, in this case you would have to make both checks.\r\n\r\n`int` is a primitive and cannot hold the value of `null`.  In this case you would only have to check if your `int` property is not equal to 0.","title":"How to check whether an Integer is null or zero in Java?","body":"<p>Depending on your implementation of <code>myInteger</code> (i.e. if the Integer property within <code>myInteger</code> is the box type <code>Integer</code> or the unboxed primitive <code>int</code>), you may only have to write one conditional.  </p>\n\n<p><code>Integer</code>s are actual objects, which means they have the ability to be <code>null</code>.  That being said they can also hold 0 as a value.  So, in this case you would have to make both checks.</p>\n\n<p><code>int</code> is a primitive and cannot hold the value of <code>null</code>.  In this case you would only have to check if your <code>int</code> property is not equal to 0.</p>\n"},{"comments":[{"owner":{"account_id":6074821,"reputation":593,"user_id":4742511,"accept_rate":21,"display_name":"TheCurious"},"score":1,"creation_date":1607677389,"post_id":41184608,"comment_id":115352665,"body_markdown":"i==null || i==0 wont it be easy :P","body":"i==null || i==0 wont it be easy :P"}],"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481891872,"creation_date":1481891872,"answer_id":41184608,"question_id":41183668,"body_markdown":"I would use a ternary condition for this. Something like :\r\n\r\n    public static boolean isNullorZero(Integer i){\r\n        return 0 == ( i == null ? 0 : i);\r\n    }\r\n\r\nThis is not readable, I agree ;)","title":"How to check whether an Integer is null or zero in Java?","body":"<p>I would use a ternary condition for this. Something like :</p>\n\n<pre><code>public static boolean isNullorZero(Integer i){\n    return 0 == ( i == null ? 0 : i);\n}\n</code></pre>\n\n<p>This is not readable, I agree ;)</p>\n"},{"comments":[{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":1,"creation_date":1481894811,"post_id":41185434,"comment_id":69570549,"body_markdown":"Yep, agree that this is longer than the &quot;ugly plain&quot; solution. But that&#39;s why I made the addition that Optional may help to avoid these checks at all...","body":"Yep, agree that this is longer than the &quot;ugly plain&quot; solution. But that&#39;s why I made the addition that Optional may help to avoid these checks at all..."},{"owner":{"account_id":253203,"reputation":370,"user_id":531741,"display_name":"acveer"},"score":0,"creation_date":1504888422,"post_id":41185434,"comment_id":79204488,"body_markdown":"this still fails to check for myInteger not being null &amp; will fail with NullPointerException. Since the target object is Integer, we have to check for both not null and not Zero.","body":"this still fails to check for myInteger not being null &amp; will fail with NullPointerException. Since the target object is Integer, we have to check for both not null and not Zero."},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":1,"creation_date":1513870186,"post_id":41185434,"comment_id":82824489,"body_markdown":"Even though this solution is not really any more &quot;concise&quot; than the one in the OP, the use of an `Optional` really opens doors that I didn&#39;t know existed - especially if the object is more than just a primitive wrapper.","body":"Even though this solution is not really any more &quot;concise&quot; than the one in the OP, the use of an <code>Optional</code> really opens doors that I didn&#39;t know existed - especially if the object is more than just a primitive wrapper."},{"owner":{"account_id":1524256,"reputation":861,"user_id":1423082,"display_name":"Vladimir Gilevich"},"score":2,"creation_date":1532609107,"post_id":41185434,"comment_id":90045831,"body_markdown":"This condition can be a bit less without intValue() :) `if (Optional.ofNullable(myInteger).orElse(0) != 0) { ....`","body":"This condition can be a bit less without intValue() :) <code>if (Optional.ofNullable(myInteger).orElse(0) != 0) { ....</code>"},{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":0,"creation_date":1532688171,"post_id":41185434,"comment_id":90079116,"body_markdown":"@VladimirGilevich Thanks for the hint! I am no big fan of autoboxing, as you&#39;ll never know what the compiler makes out of it, but yes, in this case, it does even increase readability.","body":"@VladimirGilevich Thanks for the hint! I am no big fan of autoboxing, as you&#39;ll never know what the compiler makes out of it, but yes, in this case, it does even increase readability."},{"owner":{"account_id":1524256,"reputation":861,"user_id":1423082,"display_name":"Vladimir Gilevich"},"score":0,"creation_date":1533046550,"post_id":41185434,"comment_id":90196339,"body_markdown":"@FlorianAlbrecht or a bit another variant then: `if (!Optional.ofNullable(myInteger).orElse(0).equals(0)) { ....`","body":"@FlorianAlbrecht or a bit another variant then: <code>if (!Optional.ofNullable(myInteger).orElse(0).equals(0)) { ....</code>"},{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":0,"creation_date":1533047459,"post_id":41185434,"comment_id":90196972,"body_markdown":"@VladimirGilevich That&#39;s also autoboxing (both zeroes are autoboxed to Integer objects). What highlights the point that my previous solution also used autoboxing (in the orElse call)...","body":"@VladimirGilevich That&#39;s also autoboxing (both zeroes are autoboxed to Integer objects). What highlights the point that my previous solution also used autoboxing (in the orElse call)..."}],"tags":[],"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"comment_count":7,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1532688122,"creation_date":1481894652,"answer_id":41185434,"question_id":41183668,"body_markdown":"With Java 8:\r\n\r\n    if (Optional.ofNullable(myInteger).orElse(0) != 0) {\r\n      ...\r\n    }\r\n\r\nNote that `Optional` may help you to completely avoid the if condition at all, depending on your use case...\r\n","title":"How to check whether an Integer is null or zero in Java?","body":"<p>With Java 8:</p>\n\n<pre><code>if (Optional.ofNullable(myInteger).orElse(0) != 0) {\n  ...\n}\n</code></pre>\n\n<p>Note that <code>Optional</code> may help you to completely avoid the if condition at all, depending on your use case...</p>\n"},{"tags":[],"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1536568025,"creation_date":1536568025,"answer_id":52253801,"question_id":41183668,"body_markdown":"Since `StringUtils` class is mentioned in the question, I assume that Apache Commons lib is already used in the project.\r\n\r\nThen you can use the following:\r\n\r\n    if (0 != ObjectUtils.defaultIfNull(myInteger, 0)) { ... }\r\n\r\nOr using static import:\r\n\r\n    if (0 != defaultIfNull(myInteger, 0)) { ... }","title":"How to check whether an Integer is null or zero in Java?","body":"<p>Since <code>StringUtils</code> class is mentioned in the question, I assume that Apache Commons lib is already used in the project.</p>\n\n<p>Then you can use the following:</p>\n\n<pre><code>if (0 != ObjectUtils.defaultIfNull(myInteger, 0)) { ... }\n</code></pre>\n\n<p>Or using static import:</p>\n\n<pre><code>if (0 != defaultIfNull(myInteger, 0)) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9034037,"reputation":567,"user_id":6730720,"display_name":"Marcos Echag&#252;e"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572013514,"creation_date":1572013514,"answer_id":58560435,"question_id":41183668,"body_markdown":"I created a helper method that maybe can help you, it uses reflection so you have to think if is necessary to use it, also you need java 8.\r\n\r\nThe method is for all java numbers:\r\n\r\n     public class NumberUtils {\r\n     \r\n        private NumberUtils(){\r\n        }\r\n   \r\n        public static  &lt; T extends Number&gt;  T getNumberOrZero(T number, Class&lt;? extends Number&gt; clazz) {\r\n            return Optional.ofNullable(number)\r\n                    .orElse(getZeroValue(clazz));\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static &lt; T extends Number&gt; T getZeroValue( Class&lt;? extends Number&gt; clazz){\r\n            try{\r\n                Constructor&lt;? extends Number&gt; constructor = clazz.getDeclaredConstructor(String.class);\r\n                return (T) constructor.newInstance(&quot;0&quot;);\r\n            }catch (ReflectiveOperationException e) {\r\n                throw new IllegalArgumentException(&quot;Can&#39;t get zero value &quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n   \r\nYou can call in this way:\r\n    \r\n    Integer myNumber = NumberUtils.getNumberOrZero(someIntegerThatCanBeNull, Integer.class);\r\n\r\nI hope this can help you.","title":"How to check whether an Integer is null or zero in Java?","body":"<p>I created a helper method that maybe can help you, it uses reflection so you have to think if is necessary to use it, also you need java 8.</p>\n\n<p>The method is for all java numbers:</p>\n\n<pre><code> public class NumberUtils {\n\n    private NumberUtils(){\n    }\n\n    public static  &lt; T extends Number&gt;  T getNumberOrZero(T number, Class&lt;? extends Number&gt; clazz) {\n        return Optional.ofNullable(number)\n                .orElse(getZeroValue(clazz));\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt; T extends Number&gt; T getZeroValue( Class&lt;? extends Number&gt; clazz){\n        try{\n            Constructor&lt;? extends Number&gt; constructor = clazz.getDeclaredConstructor(String.class);\n            return (T) constructor.newInstance(\"0\");\n        }catch (ReflectiveOperationException e) {\n            throw new IllegalArgumentException(\"Can't get zero value \", e);\n        }\n    }\n}\n</code></pre>\n\n<p>You can call in this way:</p>\n\n<pre><code>Integer myNumber = NumberUtils.getNumberOrZero(someIntegerThatCanBeNull, Integer.class);\n</code></pre>\n\n<p>I hope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":20548893,"reputation":41,"user_id":15082031,"display_name":"cokekutu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616517689,"creation_date":1616517689,"answer_id":66767465,"question_id":41183668,"body_markdown":"    private boolean isNullOrZero(Integer i){\r\n         return i == null || i.intValue() == 0;\r\n    }\r\n\r\nFor some other types:\r\n\r\n`i.longValue() == 0` for Long\r\n\r\n`i.doubleValue() == 0` for Double\r\n\r\n`i.shortValue() == 0` for Short\r\n\r\n`i.floatValue() == 0` for Float","title":"How to check whether an Integer is null or zero in Java?","body":"<pre><code>private boolean isNullOrZero(Integer i){\n     return i == null || i.intValue() == 0;\n}\n</code></pre>\n<p>For some other types:</p>\n<p><code>i.longValue() == 0</code> for Long</p>\n<p><code>i.doubleValue() == 0</code> for Double</p>\n<p><code>i.shortValue() == 0</code> for Short</p>\n<p><code>i.floatValue() == 0</code> for Float</p>\n"},{"comments":[{"owner":{"account_id":3609914,"reputation":1131,"user_id":3011153,"display_name":"Parakleta"},"score":4,"creation_date":1627598084,"post_id":67822364,"comment_id":121206077,"body_markdown":"Note that the first code example using `valueOf(0)` only works for values between -127 and 128.  People considering this technique shouldn&#39;t assume that it will work in general.","body":"Note that the first code example using <code>valueOf(0)</code> only works for values between -127 and 128.  People considering this technique shouldn&#39;t assume that it will work in general."},{"owner":{"account_id":916656,"reputation":922,"user_id":949309,"display_name":"ITisha"},"score":0,"creation_date":1627892106,"post_id":67822364,"comment_id":121267723,"body_markdown":"@Parakleta in fact it works for bigger integers `System.out.println(999999999l == Long.valueOf( 999999999 ));`\nI remember learning about long pools in the range [-128:127] but it seems this is not the case for java 11.","body":"@Parakleta in fact it works for bigger integers <code>System.out.println(999999999l == Long.valueOf( 999999999 ));</code> I remember learning about long pools in the range [-128:127] but it seems this is not the case for java 11."},{"owner":{"account_id":3609914,"reputation":1131,"user_id":3011153,"display_name":"Parakleta"},"score":3,"creation_date":1627943275,"post_id":67822364,"comment_id":121285952,"body_markdown":"what you have written is not the same as the first code example.  Try again with `Long val = 999999999l; System.out.println(val == Long.valueOf(999999999));`.  The difference here is that your example in the comment actually unboxes the `Long` to do a primitve `long` comparison.","body":"what you have written is not the same as the first code example.  Try again with <code>Long val = 999999999l; System.out.println(val == Long.valueOf(999999999));</code>.  The difference here is that your example in the comment actually unboxes the <code>Long</code> to do a primitve <code>long</code> comparison."},{"owner":{"account_id":916656,"reputation":922,"user_id":949309,"display_name":"ITisha"},"score":0,"creation_date":1627978243,"post_id":67822364,"comment_id":121292515,"body_markdown":"@Parakleta yeah, you a right, missed that. Thanks a lot!","body":"@Parakleta yeah, you a right, missed that. Thanks a lot!"}],"tags":[],"owner":{"account_id":916656,"reputation":922,"user_id":949309,"display_name":"ITisha"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666360639,"creation_date":1622726786,"answer_id":67822364,"question_id":41183668,"body_markdown":"There is also a nullsafe way to do it like:\r\n\r\n    Long val = null;\r\n    if( val == Long.valueOf( 0 ) ) {...}\r\nor\r\n\r\n    if( Objects.equals( val, 0L ) ) {...}\r\n    ","title":"How to check whether an Integer is null or zero in Java?","body":"<p>There is also a nullsafe way to do it like:</p>\n<pre><code>Long val = null;\nif( val == Long.valueOf( 0 ) ) {...}\n</code></pre>\n<p>or</p>\n<pre><code>if( Objects.equals( val, 0L ) ) {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12130608,"reputation":899,"user_id":8857754,"display_name":"Nicholas Graham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670706065,"creation_date":1670706065,"answer_id":74756499,"question_id":41183668,"body_markdown":"`ObjectUtils.nullSafeEquals(0, myInteger)` would be good to use if you don&#39;t want to increase cyclomatic complexity AND still get the functionality of myInteger.equals(0) while handling null values appropriatly. ","title":"How to check whether an Integer is null or zero in Java?","body":"<p><code>ObjectUtils.nullSafeEquals(0, myInteger)</code> would be good to use if you don't want to increase cyclomatic complexity AND still get the functionality of myInteger.equals(0) while handling null values appropriatly.</p>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671956087,"post_id":74884810,"comment_id":132200598,"body_markdown":"Why are you using `Long` if the question is about integers? Sure, the question doesn&#39;t specify whether it means integers in the general sense, or in the sense of the width-specific sense, but either way, why `Long`?","body":"Why are you using <code>Long</code> if the question is about integers? Sure, the question doesn&#39;t specify whether it means integers in the general sense, or in the sense of the width-specific sense, but either way, why <code>Long</code>?"},{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":0,"creation_date":1674232149,"post_id":74884810,"comment_id":132677543,"body_markdown":"Writing `? true : false` is almost **always** completely superfluous. Never do that. And after that, your answer is almost completely identical to mine.","body":"Writing <code>? true : false</code> is almost <b>always</b> completely superfluous. Never do that. And after that, your answer is almost completely identical to mine."}],"tags":[],"owner":{"account_id":6269858,"reputation":19,"user_id":4874410,"display_name":"SHUBHAM RUHELA"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671690129,"creation_date":1671690129,"answer_id":74884810,"question_id":41183668,"body_markdown":"    private boolean isNotNullAndZero(Long num){\r\n            return Optional.ofNullable(num).orElse(0L) != 0L ? true:false;\r\n        }","title":"How to check whether an Integer is null or zero in Java?","body":"<pre><code>private boolean isNotNullAndZero(Long num){\n        return Optional.ofNullable(num).orElse(0L) != 0L ? true:false;\n    }\n</code></pre>\n"}],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122788,"favorite_count":0,"down_vote_count":3,"up_vote_count":47,"accepted_answer_id":52253801,"answer_count":9,"score":44,"last_activity_date":1671690129,"creation_date":1481888667,"question_id":41183668,"body_markdown":"Is there more concise way to write: \r\n\r\n    if (myInteger != null &amp;&amp; myInteger != 0) { ... }\r\n\r\nFor example, for Strings you can use `StringUtils.isBlank()`","title":"How to check whether an Integer is null or zero in Java?","body":"<p>Is there more concise way to write: </p>\n\n<pre><code>if (myInteger != null &amp;&amp; myInteger != 0) { ... }\n</code></pre>\n\n<p>For example, for Strings you can use <code>StringUtils.isBlank()</code></p>\n"},{"tags":["java","microservices","keycloak","keycloak-services"],"answers":[{"tags":[],"owner":{"account_id":25937467,"reputation":11,"user_id":19657472,"display_name":"Zhang Zhipeng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671690053,"creation_date":1671690021,"answer_id":74884799,"question_id":74462141,"body_markdown":"I have use environment `JAVA_OPTS_APPEND: &quot;-Dkeycloak.client.searchableAttributes=attrA&quot;` with keycloak docker, and it worked. I thought you should use envrionemnt `JAVA_OPTS_APPEND`, as it mentioned here: [Configure Keycloak Server with IPv6 or IPv4\r\n][1]\r\n\r\n\r\n  [1]: https://www.keycloak.org/server/configuration-production#_configure_keycloak_server_with_ipv6_or_ipv4","title":"How to pass Java opts in keycloak application, I want to pass java agent to java opts along with current java opts","body":"<p>I have use environment <code>JAVA_OPTS_APPEND: &quot;-Dkeycloak.client.searchableAttributes=attrA&quot;</code> with keycloak docker, and it worked. I thought you should use envrionemnt <code>JAVA_OPTS_APPEND</code>, as it mentioned here: <a href=\"https://www.keycloak.org/server/configuration-production#_configure_keycloak_server_with_ipv6_or_ipv4\" rel=\"nofollow noreferrer\">Configure Keycloak Server with IPv6 or IPv4\n</a></p>\n"}],"owner":{"display_name":"user8137958"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671690053,"creation_date":1668608714,"question_id":74462141,"body_markdown":"How to pass Java opts in keycloak application, I want to pass java agent to java opts along with current java opts ?\r\n\r\n\r\nWe tried to pass java_opts in standalone.sh and standalone.conf files but no luck. Any help would be appreciated.","title":"How to pass Java opts in keycloak application, I want to pass java agent to java opts along with current java opts","body":"<p>How to pass Java opts in keycloak application, I want to pass java agent to java opts along with current java opts ?</p>\n<p>We tried to pass java_opts in standalone.sh and standalone.conf files but no luck. Any help would be appreciated.</p>\n"},{"tags":["java","csv","date","datetime","datetime-format"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671543882,"post_id":74863825,"comment_id":132118352,"body_markdown":"Not knowing Apache CSVFormat, the way I read [the docs](https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html#format-java.lang.Object...-) you are supposed to pass the value(s) to be formatted to `format()`. Is that what you are doing? Is `&quot;MM-YYYY-DD HH:mm:SS&quot;` such a value? Also what error message are you seeing when you are adding date / time format?","body":"Not knowing Apache CSVFormat, the way I read <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html#format-java.lang.Object...-\" rel=\"nofollow noreferrer\">the docs</a> you are supposed to pass the value(s) to be formatted to <code>format()</code>. Is that what you are doing? Is <code>&quot;MM-YYYY-DD HH:mm:SS&quot;</code> such a value? Also what error message are you seeing when you are adding date / time format?"},{"owner":{"account_id":15628583,"reputation":85,"user_id":11275490,"display_name":"Moaaz Gaballah"},"score":0,"creation_date":1671549938,"post_id":74863825,"comment_id":132120557,"body_markdown":"@OleV.V. Thank you for your response!\n```format()``` is a function that returns a String, but I need an CSVFormat Object to pass it to the ```CSVPrinter()``` \nSo if I get it as ```String``` I can&#39;t add it as parameter to ```CSVPrinter()```\n\nAlso I added SS of the date / time field in DB as well as in CSV file, You can have a look  &#128070;","body":"@OleV.V. Thank you for your response! <code>format()</code> is a function that returns a String, but I need an CSVFormat Object to pass it to the <code>CSVPrinter()</code>  So if I get it as <code>String</code> I can&#39;t add it as parameter to <code>CSVPrinter()</code>  Also I added SS of the date / time field in DB as well as in CSV file, You can have a look  "},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1671560509,"post_id":74863825,"comment_id":132124025,"body_markdown":"This is confusing. Date formats really have nothing to do with `CSVFormat`. The function of that class appears to be to describe *metadata*. Your datetime values are *data*","body":"This is confusing. Date formats really have nothing to do with <code>CSVFormat</code>. The function of that class appears to be to describe <i>metadata</i>. Your datetime values are <i>data</i>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671563894,"post_id":74863825,"comment_id":132125082,"body_markdown":"The way I read the [documentation](https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html) a `CSVFormat` does not (cannot) provide a date format. If you need a particular date-time format in your resulting CSV, would it work to pass formatted strings to your `CSVPrinter`?","body":"The way I read the <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html\" rel=\"nofollow noreferrer\">documentation</a> a <code>CSVFormat</code> does not (cannot) provide a date format. If you need a particular date-time format in your resulting CSV, would it work to pass formatted strings to your <code>CSVPrinter</code>?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671565321,"post_id":74863825,"comment_id":132125522,"body_markdown":"For how to handle date-time input in different formats, see for example [Format date in yyyy-MM-dd hh:mm:ss format from whatever format](https://stackoverflow.com/questions/62708324/format-date-in-yyyy-mm-dd-hhmmss-format-from-whatever-format) or [How to format date in java 8? \\[duplicate\\]](https://stackoverflow.com/questions/64770698/how-to-format-date-in-java-8).","body":"For how to handle date-time input in different formats, see for example <a href=\"https://stackoverflow.com/questions/62708324/format-date-in-yyyy-mm-dd-hhmmss-format-from-whatever-format\">Format date in yyyy-MM-dd hh:mm:ss format from whatever format</a> or <a href=\"https://stackoverflow.com/questions/64770698/how-to-format-date-in-java-8\">How to format date in java 8? &#91;duplicate&#93;</a>."},{"owner":{"account_id":15628583,"reputation":85,"user_id":11275490,"display_name":"Moaaz Gaballah"},"score":1,"creation_date":1671605219,"post_id":74863825,"comment_id":132132370,"body_markdown":"Well, I think it&#39;s not possible to bind it. Thank you guys for reply!","body":"Well, I think it&#39;s not possible to bind it. Thank you guys for reply!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671613659,"post_id":74863825,"comment_id":132134588,"body_markdown":"You might be better off using a library that *does* do binding such as OpenCsv. You would then be able to to adapt the binding to use your custom date parsing","body":"You might be better off using a library that <i>does</i> do binding such as OpenCsv. You would then be able to to adapt the binding to use your custom date parsing"},{"owner":{"account_id":15628583,"reputation":85,"user_id":11275490,"display_name":"Moaaz Gaballah"},"score":0,"creation_date":1671690279,"post_id":74863825,"comment_id":132153664,"body_markdown":"@g00se thank you for recommendation, could you provide me more details about how openCsv deals with binding date / time formatting. Such as the function that binds, if there is an example of that function it will be so good. Again thanks for recommendations!","body":"@g00se thank you for recommendation, could you provide me more details about how openCsv deals with binding date / time formatting. Such as the function that binds, if there is an example of that function it will be so good. Again thanks for recommendations!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1671715516,"post_id":74863825,"comment_id":132160610,"body_markdown":"You would register a custom converter. Something like `public class LocalDateTimeConverter&lt;LocalDate, Integer&gt; extends AbstractBeanField&lt;LocalDate, Integer&gt;` where you&#39;d insert the &#39;T&#39; so that parsing went properly. See OpenCsv docs","body":"You would register a custom converter. Something like <code>public class LocalDateTimeConverter&lt;LocalDate, Integer&gt; extends AbstractBeanField&lt;LocalDate, Integer&gt;</code> where you&#39;d insert the &#39;T&#39; so that parsing went properly. See OpenCsv docs"}],"answers":[{"comments":[{"owner":{"account_id":15628583,"reputation":85,"user_id":11275490,"display_name":"Moaaz Gaballah"},"score":0,"creation_date":1671605150,"post_id":74871591,"comment_id":132132354,"body_markdown":"Thank you for detailed response!\nIf I create a date-time formatter I&#39;ll for sure consider your two tips.","body":"Thank you for detailed response! If I create a date-time formatter I&#39;ll for sure consider your two tips."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671662707,"creation_date":1671599890,"answer_id":74871591,"question_id":74863825,"body_markdown":"# `CSVFormat#format` does *not* do what you think\r\n\r\nYour call to `CSVFormat#format` in the commented line:\r\n\r\n    final String format = CSVFormat.DEFAULT.withDelimiter(delimiter).format(&quot;MM-YYYY-DD HH:mm:SS&quot;);\r\n\r\n is incorrect. And shows that you misunderstand how [*Apache Commons CSV*][1] works. \r\n\r\nUnfortunately, the [Javadoc for that command][2] is nearly useless:\r\n\r\n&gt;Formats the specified values.\r\n\r\nSo let&#39;s look at [the source code][3]:\r\n\r\n```java\r\n1427    /**\r\n1428     * Formats the specified values.\r\n1429     *\r\n1430     * @param values the values to format\r\n1431     * @return the formatted values\r\n1432     */\r\n1433    public String format(final Object... values) {\r\n1434        final StringWriter out = new StringWriter();\r\n1435        try (CSVPrinter csvPrinter = new CSVPrinter(out, this)) {\r\n1436            csvPrinter.printRecord(values);\r\n1437            final String res = out.toString();\r\n1438            final int len = recordSeparator != null ? res.length() - recordSeparator.length() : res.length();\r\n1439            return res.substring(0, len);\r\n1440        } catch (final IOException e) {\r\n1441            // should not happen because a StringWriter does not do IO.\r\n1442            throw new IllegalStateException(e);\r\n1443        }\r\n1444    }\r\n```\r\n\r\nWe can see that you are supposed to pass *values*, not a date-time formatting pattern.\r\n\r\nWe can also see that this method does *not* write to your CSV file. Instead, this method is merely a shortcut for using `CSVPrinter` to generate the text of what would be written to your CSV file if your CSV file were the actual target of output. With this `format` method, the text generated is merely returned to the calling code.\r\n\r\nYou need to understand that Commons CSV does not do *binding*. The library merely parses pieces of CSV as plain text, not objects. So specifying a date-time formatting pattern with *Commons CSV* makes no sense; that&#39;s not a feature.\r\n\r\nYou must write your own Java code to produce the strings you want to send out to a CSV file through *Commons CSV*.\r\n\r\nSo you need to do the parsing from text to date-time object yourself. If you have a string such as `2022-11-23 00:00:00.0000`, you should be parsing as a [`LocalDateTime`][4] object. To do so, you could define your own formatting pattern with `DateTimeFormatter` class. But instead I would do a bit of string manipulation to alter the input by [replacing][5] the SPACE in the middle with a `T`: \r\n\r\n    LocalDateTime myLocalDateTime = LocalDateTime.parse( &quot;2022-11-23 00:00:00.0000&quot;.replace( &quot; &quot; , &quot;T&quot; ) ) ;\r\n\r\nTo learn more about using *Apache Commons CSV*, search Stack Overflow. Many posts have already been made, including some authored by me.\r\n\r\n## ISO 8601\r\n\r\n\r\nBig Tip: Always use [ISO 8601][6] standard formats for data exchange of date-time values. Quite easy to do with *java.time* classes as they use the ISO 8601 formats by default when parsing/generating text.\r\n\r\n    String output = myLocalDateTime.toString() ;\r\n\r\n and:\r\n\r\n    LocalDateTime myLocalDateTime = LocalDateTime.parse( &quot;2022-11-23T00:00:00.0000&quot; ) ;\r\n\r\nSee that [code run at Ideone.com][7].\r\n\r\nAnother tip: If you are trying to represent a moment, a specific point on the timeline, always include an offset-from-UTC or a time zone. The `LocalDateTime` class cannot represent a moment as it lacks the context of an offset or zone.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/\r\n  [2]: https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html#format-java.lang.Object...-\r\n  [3]: https://commons.apache.org/proper/commons-csv/scm.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\r\n  [6]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [7]: https://ideone.com/zfSAwk","title":"Parsing a Date / Time format with Apache Commons CSV `CSVFormat` class","body":"<h1><code>CSVFormat#format</code> does <em>not</em> do what you think</h1>\n<p>Your call to <code>CSVFormat#format</code> in the commented line:</p>\n<pre><code>final String format = CSVFormat.DEFAULT.withDelimiter(delimiter).format(&quot;MM-YYYY-DD HH:mm:SS&quot;);\n</code></pre>\n<p> is incorrect. And shows that you misunderstand how <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\"><em>Apache Commons CSV</em></a> works.</p>\n<p>Unfortunately, the <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html#format-java.lang.Object...-\" rel=\"nofollow noreferrer\">Javadoc for that command</a> is nearly useless:</p>\n<blockquote>\n<p>Formats the specified values.</p>\n</blockquote>\n<p>So let's look at <a href=\"https://commons.apache.org/proper/commons-csv/scm.html\" rel=\"nofollow noreferrer\">the source code</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>1427    /**\n1428     * Formats the specified values.\n1429     *\n1430     * @param values the values to format\n1431     * @return the formatted values\n1432     */\n1433    public String format(final Object... values) {\n1434        final StringWriter out = new StringWriter();\n1435        try (CSVPrinter csvPrinter = new CSVPrinter(out, this)) {\n1436            csvPrinter.printRecord(values);\n1437            final String res = out.toString();\n1438            final int len = recordSeparator != null ? res.length() - recordSeparator.length() : res.length();\n1439            return res.substring(0, len);\n1440        } catch (final IOException e) {\n1441            // should not happen because a StringWriter does not do IO.\n1442            throw new IllegalStateException(e);\n1443        }\n1444    }\n</code></pre>\n<p>We can see that you are supposed to pass <em>values</em>, not a date-time formatting pattern.</p>\n<p>We can also see that this method does <em>not</em> write to your CSV file. Instead, this method is merely a shortcut for using <code>CSVPrinter</code> to generate the text of what would be written to your CSV file if your CSV file were the actual target of output. With this <code>format</code> method, the text generated is merely returned to the calling code.</p>\n<p>You need to understand that Commons CSV does not do <em>binding</em>. The library merely parses pieces of CSV as plain text, not objects. So specifying a date-time formatting pattern with <em>Commons CSV</em> makes no sense; that's not a feature.</p>\n<p>You must write your own Java code to produce the strings you want to send out to a CSV file through <em>Commons CSV</em>.</p>\n<p>So you need to do the parsing from text to date-time object yourself. If you have a string such as <code>2022-11-23 00:00:00.0000</code>, you should be parsing as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> object. To do so, you could define your own formatting pattern with <code>DateTimeFormatter</code> class. But instead I would do a bit of string manipulation to alter the input by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">replacing</a> the SPACE in the middle with a <code>T</code>:</p>\n<pre><code>LocalDateTime myLocalDateTime = LocalDateTime.parse( &quot;2022-11-23 00:00:00.0000&quot;.replace( &quot; &quot; , &quot;T&quot; ) ) ;\n</code></pre>\n<p>To learn more about using <em>Apache Commons CSV</em>, search Stack Overflow. Many posts have already been made, including some authored by me.</p>\n<h2>ISO 8601</h2>\n<p>Big Tip: Always use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats for data exchange of date-time values. Quite easy to do with <em>java.time</em> classes as they use the ISO 8601 formats by default when parsing/generating text.</p>\n<pre><code>String output = myLocalDateTime.toString() ;\n</code></pre>\n<p> and:</p>\n<pre><code>LocalDateTime myLocalDateTime = LocalDateTime.parse( &quot;2022-11-23T00:00:00.0000&quot; ) ;\n</code></pre>\n<p>See that <a href=\"https://ideone.com/zfSAwk\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<p>Another tip: If you are trying to represent a moment, a specific point on the timeline, always include an offset-from-UTC or a time zone. The <code>LocalDateTime</code> class cannot represent a moment as it lacks the context of an offset or zone.</p>\n"}],"owner":{"account_id":15628583,"reputation":85,"user_id":11275490,"display_name":"Moaaz Gaballah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74871591,"answer_count":1,"score":1,"last_activity_date":1671690025,"creation_date":1671542791,"question_id":74863825,"body_markdown":"I am using [*Apache Commons CSV library.*][1]\r\n\r\nI am trying to parse a date / time format to CSVFormat which leads to, if there is any time / date columns it will be formatted according to the format provided to CSVFormat.\r\n\r\nWhen I remove date / time format it&#39;s working perfect, but it&#39;s NOT working when adding date / time format.\r\n\r\nexample of date / time formats I would like to add:\r\n* YYYY-MM-DD\r\n* DD-MM-YYYY HH:mm:SS\r\n* YYYY-MM-DD HH:mm:SS\r\n\r\nAlso here is the code I am trying to add the date / time format to;\r\n\r\n```\r\npublic ByteArrayInputStream dataToCSV(List&lt;?&gt; dataList, char delimiter){\r\n        final CSVFormat format = CSVFormat.DEFAULT.withDelimiter(delimiter);\r\n//        final String format = CSVFormat.DEFAULT.withDelimiter(delimiter).format(&quot;MM-YYYY-DD HH:mm:SS&quot;);\r\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n             CSVPrinter csvPrinter = new CSVPrinter(new PrintWriter(out), format);) {\r\n            if (dataList.size() &gt; 0){\r\n                // headers will be written just one time\r\n                csvPrinter.printRecord(this.getHeaders(dataList.get(0)));\r\n                for (Object objectClass : dataList) {\r\n                    List&lt;String&gt; data = getRecordData(objectClass);\r\n                    csvPrinter.printRecord(data);\r\n                }\r\n            }\r\n            csvPrinter.flush();\r\n            return new ByteArrayInputStream(out.toByteArray());\r\n        } catch (InstantiationException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IllegalAccessException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nThe line I commented is the one that not working. The first above one is the one that works properly.\r\n\r\nData is coming from a PostgreSQL DB, also I am using hibernate and commons-csv dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nexample of timestamp field in DB\r\n\r\n2022-11-23 11:12:13.123456\r\n\r\n\r\nexample of the same field formatted I got in CSV\r\n\r\n2022-11-23 11:12:13.123456\r\n\r\nexample of needed format\r\n\r\n11-23-2022 11:12:13.123456\r\n\r\nAny help is appreciated,\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/","title":"Parsing a Date / Time format with Apache Commons CSV `CSVFormat` class","body":"<p>I am using <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\"><em>Apache Commons CSV library.</em></a></p>\n<p>I am trying to parse a date / time format to CSVFormat which leads to, if there is any time / date columns it will be formatted according to the format provided to CSVFormat.</p>\n<p>When I remove date / time format it's working perfect, but it's NOT working when adding date / time format.</p>\n<p>example of date / time formats I would like to add:</p>\n<ul>\n<li>YYYY-MM-DD</li>\n<li>DD-MM-YYYY HH:mm:SS</li>\n<li>YYYY-MM-DD HH:mm:SS</li>\n</ul>\n<p>Also here is the code I am trying to add the date / time format to;</p>\n<pre><code>public ByteArrayInputStream dataToCSV(List&lt;?&gt; dataList, char delimiter){\n        final CSVFormat format = CSVFormat.DEFAULT.withDelimiter(delimiter);\n//        final String format = CSVFormat.DEFAULT.withDelimiter(delimiter).format(&quot;MM-YYYY-DD HH:mm:SS&quot;);\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream();\n             CSVPrinter csvPrinter = new CSVPrinter(new PrintWriter(out), format);) {\n            if (dataList.size() &gt; 0){\n                // headers will be written just one time\n                csvPrinter.printRecord(this.getHeaders(dataList.get(0)));\n                for (Object objectClass : dataList) {\n                    List&lt;String&gt; data = getRecordData(objectClass);\n                    csvPrinter.printRecord(data);\n                }\n            }\n            csvPrinter.flush();\n            return new ByteArrayInputStream(out.toByteArray());\n        } catch (InstantiationException e) {\n            throw new RuntimeException(e);\n        } catch (IllegalAccessException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>The line I commented is the one that not working. The first above one is the one that works properly.</p>\n<p>Data is coming from a PostgreSQL DB, also I am using hibernate and commons-csv dependency</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>example of timestamp field in DB</p>\n<p>2022-11-23 11:12:13.123456</p>\n<p>example of the same field formatted I got in CSV</p>\n<p>2022-11-23 11:12:13.123456</p>\n<p>example of needed format</p>\n<p>11-23-2022 11:12:13.123456</p>\n<p>Any help is appreciated,</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","docker","gradle","devops"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1671690748,"post_id":74884794,"comment_id":132153729,"body_markdown":"you seem to have lost settings for `DOCKER_REGISTRY_USERNAME  and DOCKER_REGISTRY_PASSWORD` ; however you set it up before for `System.getenv(&quot;&quot;)`","body":"you seem to have lost settings for <code>DOCKER_REGISTRY_USERNAME  and DOCKER_REGISTRY_PASSWORD</code> ; however you set it up before for <code>System.getenv(&quot;&quot;)</code>"}],"owner":{"account_id":13632911,"reputation":43,"user_id":9834612,"display_name":"Romano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671689978,"creation_date":1671689978,"question_id":74884794,"body_markdown":"I am trying to update my spring boot version to 2.7.6 which requires gradle v6.8+ against the current version of 5.3 . But when i try to do a clean build, it fails with below error. I am not finding many solutions in the internet for this so far. Any help would be greatly appreciated.\r\n\r\n\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 6.8.3\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2021-02-22 16:13:28 UTC\r\n    Revision:     9e26b4a9ebb910eaa1b8da8ff8575e514bc61c78\r\n    \r\n    Kotlin:       1.4.20\r\n    Groovy:       2.5.12\r\n    Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\n    JVM:          1.8.0_332-internal (OpenLogic-OpenJDK 25.332-b09)\r\n    OS:           Mac OS X 10.16 x86_64\r\n    \r\n    test@test-mac test-service % gradle clean build\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    &gt; Task :buildSrc:compileJava NO-SOURCE\r\n    &gt; Task :buildSrc:compileGroovy\r\n    &gt; Task :buildSrc:processResources NO-SOURCE\r\n    &gt; Task :buildSrc:classes\r\n    &gt; Task :buildSrc:jar\r\n    &gt; Task :buildSrc:assemble\r\n    &gt; Task :buildSrc:compileTestJava NO-SOURCE\r\n    &gt; Task :buildSrc:compileTestGroovy NO-SOURCE\r\n    &gt; Task :buildSrc:processTestResources NO-SOURCE\r\n    &gt; Task :buildSrc:testClasses UP-TO-DATE\r\n    &gt; Task :buildSrc:test NO-SOURCE\r\n    &gt; Task :buildSrc:check UP-TO-DATE\r\n    &gt; Task :buildSrc:build\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Script &#39;/Users/fazshaik/Developer/related-items-service/build-support/packaging.gradle&#39; line: 14\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating script.\r\n    &gt; Illegal null value provided in this collection: [login, -u, null, -p, null, phx.ocir.io]\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 11s\r\n\r\nThe error says it fails at line NO 14 in package.gradle, but the same was working without any issues with gradle 5.3 . Below is my package.gradle file.\r\n\r\n    ext {\r\n        dockerRegistry = &quot;docker.test.registry&quot;\r\n    }\r\n    \r\n    task buildInformation {\r\n        def gitSha = &quot;git rev-parse --short HEAD&quot;\r\n    \r\n        ext.localRepository = &quot;test/test/testProject/$rootProject.name&quot;\r\n        ext.remoteRepository = &quot;${dockerRegistry}/${localRepository}&quot;\r\n        ext.tag = gitSha.execute().text.trim()\r\n    }\r\n    \r\n    task loginToDockerRegistry(type: Exec) {\r\n        **** LINE NO 14 ==&gt; commandLine &quot;docker&quot;, &quot;login&quot;, &quot;-u&quot;, System.getenv(&quot;DOCKER_REGISTRY_USERNAME&quot;), &quot;-p&quot;, System.getenv(&quot;DOCKER_REGISTRY_PASSWORD&quot;), dockerRegistry\r\n    }\r\n    \r\n    task createDockerImageFromFatJar(type: Exec) {\r\n        commandLine &quot;docker&quot;, &quot;build&quot;, &quot;-t&quot;, &quot;${buildInformation.localRepository}:${buildInformation.tag}&quot;, &quot;.&quot;\r\n    }\r\n    \r\n    createDockerImageFromFatJar.mustRunAfter(&#39;bootJar&#39;)\r\n    \r\n    task createDockerImage(dependsOn: [ &#39;bootJar&#39;, &#39;createDockerImageFromFatJar&#39;]) {\r\n    }\r\n    \r\n    task tagAsRemote(type: Exec) {\r\n        commandLine &quot;docker&quot;, &quot;tag&quot;, &quot;${buildInformation.localRepository}:${buildInformation.tag}&quot;, &quot;${buildInformation.remoteRepository}:${buildInformation.tag}&quot;\r\n        println &#39;Docker image tagged as &#39;+buildInformation.tag\r\n    }\r\n    \r\n    task pushDockerImage(type: Exec, dependsOn: [tagAsRemote] ) {\r\n        commandLine &quot;docker&quot;, &quot;push&quot;, &quot;${buildInformation.remoteRepository}:${buildInformation.tag}&quot;\r\n        println &#39;Published docker image &#39;+buildInformation.remoteRepository+&quot;:&quot;+buildInformation.tag\r\n    }\r\n    \r\n    task publishDockerImage(dependsOn: [&#39;createDockerImage&#39;, &#39;pushDockerImage&#39;])\r\n    \r\n    pushDockerImage.mustRunAfter(&#39;createDockerImage&#39;)","title":"Gradle Error : Illegal null value provided in this collection","body":"<p>I am trying to update my spring boot version to 2.7.6 which requires gradle v6.8+ against the current version of 5.3 . But when i try to do a clean build, it fails with below error. I am not finding many solutions in the internet for this so far. Any help would be greatly appreciated.</p>\n<pre><code>------------------------------------------------------------\nGradle 6.8.3\n------------------------------------------------------------\n\nBuild time:   2021-02-22 16:13:28 UTC\nRevision:     9e26b4a9ebb910eaa1b8da8ff8575e514bc61c78\n\nKotlin:       1.4.20\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          1.8.0_332-internal (OpenLogic-OpenJDK 25.332-b09)\nOS:           Mac OS X 10.16 x86_64\n\ntest@test-mac test-service % gradle clean build\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :buildSrc:compileJava NO-SOURCE\n&gt; Task :buildSrc:compileGroovy\n&gt; Task :buildSrc:processResources NO-SOURCE\n&gt; Task :buildSrc:classes\n&gt; Task :buildSrc:jar\n&gt; Task :buildSrc:assemble\n&gt; Task :buildSrc:compileTestJava NO-SOURCE\n&gt; Task :buildSrc:compileTestGroovy NO-SOURCE\n&gt; Task :buildSrc:processTestResources NO-SOURCE\n&gt; Task :buildSrc:testClasses UP-TO-DATE\n&gt; Task :buildSrc:test NO-SOURCE\n&gt; Task :buildSrc:check UP-TO-DATE\n&gt; Task :buildSrc:build\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '/Users/fazshaik/Developer/related-items-service/build-support/packaging.gradle' line: 14\n\n* What went wrong:\nA problem occurred evaluating script.\n&gt; Illegal null value provided in this collection: [login, -u, null, -p, null, phx.ocir.io]\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 11s\n</code></pre>\n<p>The error says it fails at line NO 14 in package.gradle, but the same was working without any issues with gradle 5.3 . Below is my package.gradle file.</p>\n<pre><code>ext {\n    dockerRegistry = &quot;docker.test.registry&quot;\n}\n\ntask buildInformation {\n    def gitSha = &quot;git rev-parse --short HEAD&quot;\n\n    ext.localRepository = &quot;test/test/testProject/$rootProject.name&quot;\n    ext.remoteRepository = &quot;${dockerRegistry}/${localRepository}&quot;\n    ext.tag = gitSha.execute().text.trim()\n}\n\ntask loginToDockerRegistry(type: Exec) {\n    **** LINE NO 14 ==&gt; commandLine &quot;docker&quot;, &quot;login&quot;, &quot;-u&quot;, System.getenv(&quot;DOCKER_REGISTRY_USERNAME&quot;), &quot;-p&quot;, System.getenv(&quot;DOCKER_REGISTRY_PASSWORD&quot;), dockerRegistry\n}\n\ntask createDockerImageFromFatJar(type: Exec) {\n    commandLine &quot;docker&quot;, &quot;build&quot;, &quot;-t&quot;, &quot;${buildInformation.localRepository}:${buildInformation.tag}&quot;, &quot;.&quot;\n}\n\ncreateDockerImageFromFatJar.mustRunAfter('bootJar')\n\ntask createDockerImage(dependsOn: [ 'bootJar', 'createDockerImageFromFatJar']) {\n}\n\ntask tagAsRemote(type: Exec) {\n    commandLine &quot;docker&quot;, &quot;tag&quot;, &quot;${buildInformation.localRepository}:${buildInformation.tag}&quot;, &quot;${buildInformation.remoteRepository}:${buildInformation.tag}&quot;\n    println 'Docker image tagged as '+buildInformation.tag\n}\n\ntask pushDockerImage(type: Exec, dependsOn: [tagAsRemote] ) {\n    commandLine &quot;docker&quot;, &quot;push&quot;, &quot;${buildInformation.remoteRepository}:${buildInformation.tag}&quot;\n    println 'Published docker image '+buildInformation.remoteRepository+&quot;:&quot;+buildInformation.tag\n}\n\ntask publishDockerImage(dependsOn: ['createDockerImage', 'pushDockerImage'])\n\npushDockerImage.mustRunAfter('createDockerImage')\n</code></pre>\n"},{"tags":["java","ssl-certificate","x509certificate"],"owner":{"account_id":9927532,"reputation":412,"user_id":7348570,"accept_rate":64,"display_name":"abhjt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671689436,"creation_date":1671689436,"question_id":74884731,"body_markdown":"I have 2 certificates that I am using to make a GET request. The certificates are `certs.pem` and `key.pem` and these 2 certs when I am using with Python code it is giving me response. Below is Python code snippet that I am using - \r\n\r\n    url = &quot;https://example.com&quot;\r\n    cert = (certs.pem, key.pem)\r\n    response = requests.get(url, cert=cert, verify=False)\r\n   \r\nNow same GET call I want to use in java. And since Java mostly accept `.jks` file. So, I am trying to convert both `.pem` files to single `.jks` file.\r\n\r\nTo convert to jks file I am first combining both `.pem` file using command- `cat certs.pem key.pem &gt; combined.pem`. \r\n\r\nAfter generating combined pem I am converting it to `.p12` file using command-  `openssl pkcs12 -export -in combined.pem -out cert.p12`. I am not using any password while creating p12 file.\r\n\r\nAfter generating `.p12` file I am converting it to `.crt` file using command- `openssl pkcs12 -in cert.p12 -clcerts -nokeys -out out_cert.crt`\r\n\r\nAnd finally I am converting to .jks file using below code snippet - \r\n\r\n       private static Certificate readCert(String path) throws IOException, CertificateException {\r\n            try (FileInputStream fin = new FileInputStream(path)) {\r\n                return CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(fin);\r\n            }\r\n        }\r\n    \r\n        // To convert into jks\r\n        public static void generateCert() {\r\n            try {\r\n                // Reading the cert\r\n                Certificate cert = readCert(&quot;out_cert.crt&quot;);\r\n            \r\n                // Creating an empty JKS keystore\r\n                KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                keystore.load(null, null);\r\n            \r\n                // Adding the cert to the keystore\r\n                keystore.setCertificateEntry(&quot;somecert&quot;, cert);\r\n            \r\n                // Saving the keystore with a zero length password\r\n                FileOutputStream fout = new FileOutputStream(&quot;final_cert.jks&quot;);\r\n                keystore.store(fout, new char[0]);\r\n            } catch (GeneralSecurityException | IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nSince I want to generate `.jks` file without password so I am using above code snippet. We can not generate `.jks` file without password with `keytool`.\r\n\r\nNow finally after generating the `.jks` file, I am using below code snippet to make GET call - \r\n\r\n        private static final String GET_API = &quot;https://example.com&quot;;\r\n    \r\n        private static Client getClient() throws Exception {\r\n    \r\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            InputStream tsStream = getClass.getResourceAsStream(Constants.JKS_FILE_PATH);  //jks file that I have genearted from pem\r\n            keystore.load(tsStream, null);\r\n            TrustManagerFactory tmg = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmg.init(keystore);\r\n            TrustManager[] trustManager = tmg.getTrustManagers();\r\n    \r\n            SSLContext sslContext = null;\r\n            sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, trustManager, null);\r\n    \r\n    \r\n            return ClientBuilder.newBuilder()\r\n                    .sslContext(sslContext)\r\n                    .hostnameVerifier((s1, s2) -&gt; true)\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        public static void getAPI() {\r\n            try {\r\n                String response = getClient().target(GET_API)\r\n                        .request(MediaType.APPLICATION_JSON)\r\n                        .get(String.class);\r\n                System.out.println(&quot;Response is &quot;+response)\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error in calling get api , Exception {}&quot;,e);\r\n            }\r\n        }\r\n\r\nWhen I am running above code snippet to call getAPI(), I am getting error as - \r\n\r\n    javax.ws.rs.ProcessingException: javax.net.ssl.SSLException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:269) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$1(JerseyInvocation.java:675) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:205) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:674) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:422) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:318) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    Caused by: javax.net.ssl.SSLException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n    \tat sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:348) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:291) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:286) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1589) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:452) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500) ~[?:1.8.0_312]\r\n    \tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352) ~[?:1.8.0_312]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:378) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \t... 15 more\r\n    Caused by: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n    \tat sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:104) ~[?:1.8.0_312]\r\n    \tat sun.security.validator.Validator.getInstance(Validator.java:181) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:302) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:182) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:156) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:439) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500) ~[?:1.8.0_312]\r\n    \tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352) ~[?:1.8.0_312]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:378) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \t... 15 more\r\n    Caused by: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n    \tat java.security.cert.PKIXParameters.setTrustAnchors(PKIXParameters.java:200) ~[?:1.8.0_312]\r\n    \tat java.security.cert.PKIXParameters.&lt;init&gt;(PKIXParameters.java:120) ~[?:1.8.0_312]\r\n    \tat java.security.cert.PKIXBuilderParameters.&lt;init&gt;(PKIXBuilderParameters.java:104) ~[?:1.8.0_312]\r\n    \tat sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:102) ~[?:1.8.0_312]\r\n    \tat sun.security.validator.Validator.getInstance(Validator.java:181) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:302) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:182) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:156) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:439) ~[?:1.8.0_312]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500) ~[?:1.8.0_312]\r\n    \tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) ~[?:1.8.0_312]\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352) ~[?:1.8.0_312]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:378) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\r\n    \t... 15 more\r\n\r\nCan someone have any idea what is going wrong in my complete process?\r\n\r\nThanks in Advance :-)\r\n","title":"InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty","body":"<p>I have 2 certificates that I am using to make a GET request. The certificates are <code>certs.pem</code> and <code>key.pem</code> and these 2 certs when I am using with Python code it is giving me response. Below is Python code snippet that I am using -</p>\n<pre><code>url = &quot;https://example.com&quot;\ncert = (certs.pem, key.pem)\nresponse = requests.get(url, cert=cert, verify=False)\n</code></pre>\n<p>Now same GET call I want to use in java. And since Java mostly accept <code>.jks</code> file. So, I am trying to convert both <code>.pem</code> files to single <code>.jks</code> file.</p>\n<p>To convert to jks file I am first combining both <code>.pem</code> file using command- <code>cat certs.pem key.pem &gt; combined.pem</code>.</p>\n<p>After generating combined pem I am converting it to <code>.p12</code> file using command-  <code>openssl pkcs12 -export -in combined.pem -out cert.p12</code>. I am not using any password while creating p12 file.</p>\n<p>After generating <code>.p12</code> file I am converting it to <code>.crt</code> file using command- <code>openssl pkcs12 -in cert.p12 -clcerts -nokeys -out out_cert.crt</code></p>\n<p>And finally I am converting to .jks file using below code snippet -</p>\n<pre><code>   private static Certificate readCert(String path) throws IOException, CertificateException {\n        try (FileInputStream fin = new FileInputStream(path)) {\n            return CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(fin);\n        }\n    }\n\n    // To convert into jks\n    public static void generateCert() {\n        try {\n            // Reading the cert\n            Certificate cert = readCert(&quot;out_cert.crt&quot;);\n        \n            // Creating an empty JKS keystore\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n            keystore.load(null, null);\n        \n            // Adding the cert to the keystore\n            keystore.setCertificateEntry(&quot;somecert&quot;, cert);\n        \n            // Saving the keystore with a zero length password\n            FileOutputStream fout = new FileOutputStream(&quot;final_cert.jks&quot;);\n            keystore.store(fout, new char[0]);\n        } catch (GeneralSecurityException | IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Since I want to generate <code>.jks</code> file without password so I am using above code snippet. We can not generate <code>.jks</code> file without password with <code>keytool</code>.</p>\n<p>Now finally after generating the <code>.jks</code> file, I am using below code snippet to make GET call -</p>\n<pre><code>    private static final String GET_API = &quot;https://example.com&quot;;\n\n    private static Client getClient() throws Exception {\n\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n        InputStream tsStream = getClass.getResourceAsStream(Constants.JKS_FILE_PATH);  //jks file that I have genearted from pem\n        keystore.load(tsStream, null);\n        TrustManagerFactory tmg = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmg.init(keystore);\n        TrustManager[] trustManager = tmg.getTrustManagers();\n\n        SSLContext sslContext = null;\n        sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManager, null);\n\n\n        return ClientBuilder.newBuilder()\n                .sslContext(sslContext)\n                .hostnameVerifier((s1, s2) -&gt; true)\n                .build();\n    }\n\n\n    public static void getAPI() {\n        try {\n            String response = getClient().target(GET_API)\n                    .request(MediaType.APPLICATION_JSON)\n                    .get(String.class);\n            System.out.println(&quot;Response is &quot;+response)\n        } catch (Exception e) {\n            logger.error(&quot;Error in calling get api , Exception {}&quot;,e);\n        }\n    }\n</code></pre>\n<p>When I am running above code snippet to call getAPI(), I am getting error as -</p>\n<pre><code>javax.ws.rs.ProcessingException: javax.net.ssl.SSLException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:269) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$1(JerseyInvocation.java:675) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:674) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:422) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:318) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\nCaused by: javax.net.ssl.SSLException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n    at sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[?:1.8.0_312]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:348) ~[?:1.8.0_312]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:291) ~[?:1.8.0_312]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:286) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1589) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:452) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197) ~[?:1.8.0_312]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572) ~[?:1.8.0_312]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500) ~[?:1.8.0_312]\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352) ~[?:1.8.0_312]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:378) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    ... 15 more\nCaused by: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n    at sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:104) ~[?:1.8.0_312]\n    at sun.security.validator.Validator.getInstance(Validator.java:181) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:302) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[?:1.8.0_312]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[?:1.8.0_312]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[?:1.8.0_312]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377) ~[?:1.8.0_312]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444) ~[?:1.8.0_312]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422) ~[?:1.8.0_312]\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:156) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:439) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197) ~[?:1.8.0_312]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572) ~[?:1.8.0_312]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500) ~[?:1.8.0_312]\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352) ~[?:1.8.0_312]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:378) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    ... 15 more\nCaused by: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n    at java.security.cert.PKIXParameters.setTrustAnchors(PKIXParameters.java:200) ~[?:1.8.0_312]\n    at java.security.cert.PKIXParameters.&lt;init&gt;(PKIXParameters.java:120) ~[?:1.8.0_312]\n    at java.security.cert.PKIXBuilderParameters.&lt;init&gt;(PKIXBuilderParameters.java:104) ~[?:1.8.0_312]\n    at sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:102) ~[?:1.8.0_312]\n    at sun.security.validator.Validator.getInstance(Validator.java:181) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:302) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189) ~[?:1.8.0_312]\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[?:1.8.0_312]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[?:1.8.0_312]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[?:1.8.0_312]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377) ~[?:1.8.0_312]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444) ~[?:1.8.0_312]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422) ~[?:1.8.0_312]\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:156) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:439) ~[?:1.8.0_312]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197) ~[?:1.8.0_312]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572) ~[?:1.8.0_312]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500) ~[?:1.8.0_312]\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) ~[?:1.8.0_312]\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352) ~[?:1.8.0_312]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:378) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[get_api-1.0.0-SNAPSHOT-jar-with-dependencies.jar:?]\n    ... 15 more\n</code></pre>\n<p>Can someone have any idea what is going wrong in my complete process?</p>\n<p>Thanks in Advance :-)</p>\n"},{"tags":["java","spring-boot","jsp","controller","spring-restcontroller"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1671685521,"post_id":74884295,"comment_id":132152941,"body_markdown":"why not `deletebyid?id=1` ?","body":"why not <code>deletebyid?id=1</code> ?"},{"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"score":0,"creation_date":1671685795,"post_id":74884295,"comment_id":132152968,"body_markdown":"Sorry I didnt understand, can you help to elaborate please.","body":"Sorry I didnt understand, can you help to elaborate please."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1671686307,"post_id":74884295,"comment_id":132153028,"body_markdown":"`http://localhost:8080/deletebyid?id=1` - does that work?  Again, you should be POSTING for forms, but the key point is that you are posting/Getting the Shoename not the id.","body":"<code>http:&#47;&#47;localhost:8080&#47;deletebyid?id=1</code> - does that work?  Again, you should be POSTING for forms, but the key point is that you are posting/Getting the Shoename not the id."},{"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"score":0,"creation_date":1671687148,"post_id":74884295,"comment_id":132153137,"body_markdown":"http://localhost:8080/deletebyid?id=1  this is working! how can I perform this? how can i direct it to id instead of shoename? (i will use post method)","body":"<a href=\"http://localhost:8080/deletebyid?id=1\" rel=\"nofollow noreferrer\">localhost:8080/deletebyid?id=1</a>  this is working! how can I perform this? how can i direct it to id instead of shoename? (i will use post method)"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1671689240,"post_id":74884295,"comment_id":132153473,"body_markdown":"what data do you think that your form is posting? hint: `&lt;input type=&quot;text&quot; name=&quot;shoename&quot;&gt;`","body":"what data do you think that your form is posting? hint: <code>&lt;input type=&quot;text&quot; name=&quot;shoename&quot;&gt;</code>"},{"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"score":0,"creation_date":1671689474,"post_id":74884295,"comment_id":132153516,"body_markdown":"Yes you are right! Thanks you so much for constantly answering my questions. I found the mistake myself that the attribute name was wrong. A silly mistake! I am sorry.","body":"Yes you are right! Thanks you so much for constantly answering my questions. I found the mistake myself that the attribute name was wrong. A silly mistake! I am sorry."}],"answers":[{"tags":[],"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671689404,"creation_date":1671689404,"answer_id":74884724,"question_id":74884295,"body_markdown":"I solved it on my own. I made a sily mistake in the JSP where earlier the JSP was:\r\n```\r\n   &lt;h3&gt;To delete an Item:&lt;/h3&gt;\r\n    &lt;form action=&quot;deletebyid&quot; method=&quot;get&quot;&gt;\r\n        Enter Shoe name: &lt;input type=&quot;text&quot; name=&quot;shoename&quot;&gt;&lt;br&gt;\r\n        &lt;button&gt;Submit&lt;/button&gt;\r\n    &lt;/form&gt;\r\n```\r\nthe name attribute has to be Id!!! My mistake. \r\n```\r\n   &lt;h3&gt;To delete an Item:&lt;/h3&gt;\r\n    &lt;form action=&quot;deletebyid&quot; method=&quot;get&quot;&gt;\r\n        Enter Id: &lt;input type=&quot;text&quot; name=&quot;id&quot;&gt;&lt;br&gt;\r\n        &lt;button&gt;Submit&lt;/button&gt;\r\n    &lt;/form&gt;\r\n```\r\nnow it is working fine.\r\n","title":"Deleting a data using ID in database using rest controller, controller through a form in jsp - spring boot","body":"<p>I solved it on my own. I made a sily mistake in the JSP where earlier the JSP was:</p>\n<pre><code>   &lt;h3&gt;To delete an Item:&lt;/h3&gt;\n    &lt;form action=&quot;deletebyid&quot; method=&quot;get&quot;&gt;\n        Enter Shoe name: &lt;input type=&quot;text&quot; name=&quot;shoename&quot;&gt;&lt;br&gt;\n        &lt;button&gt;Submit&lt;/button&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>the name attribute has to be Id!!! My mistake.</p>\n<pre><code>   &lt;h3&gt;To delete an Item:&lt;/h3&gt;\n    &lt;form action=&quot;deletebyid&quot; method=&quot;get&quot;&gt;\n        Enter Id: &lt;input type=&quot;text&quot; name=&quot;id&quot;&gt;&lt;br&gt;\n        &lt;button&gt;Submit&lt;/button&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>now it is working fine.</p>\n"}],"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671689404,"creation_date":1671685226,"question_id":74884295,"body_markdown":"I am performing a delete operation using spring boot @RestController and @Controller to handle it and send it to the view JSP page. I get an error that the id is null. I dont understand it and I tried few steps based on searches but was not helpful.\r\n\r\n\r\n**@RestController is as follows:**\r\n```\r\n\t@DeleteMapping(path = &quot;shoelist/{id}&quot;)\r\n\tpublic ResponseEntity delete(@PathVariable Long id) {\r\n\t\tShoeData data = shoeService.deleteById(id);\r\n\t\t\r\n\t\tif(data != null) {\r\n\t\t\t// noContent means it would return 204 status code \r\n\t\t\treturn ResponseEntity.noContent().build();\r\n\t\t}\r\n\t\t\r\n\t\treturn ResponseEntity.notFound().build();\r\n\t}\r\n```\r\n\r\n**@Controller is as follows:**\r\n```\r\n\t@RequestMapping(value = &quot;deletebyid&quot;, method=RequestMethod.GET)\r\n\tpublic String deleteById( Long id) {\r\n\t\tResponseEntity data = resource.delete(id);\r\n\t\treturn &quot;redirect:entry&quot;;\r\n\t}\r\n```\r\n**JSP page is as follows:**\r\n```\r\n\t&lt;h3&gt;To delete an Item:&lt;/h3&gt;\r\n\t&lt;form action=&quot;deletebyid&quot; method=&quot;get&quot;&gt;\r\n\t\tEnter Shoe name: &lt;input type=&quot;text&quot; name=&quot;shoename&quot;&gt;&lt;br&gt;\r\n\t\t&lt;button&gt;Submit&lt;/button&gt;\r\n\t&lt;/form&gt;\r\n```\r\n**error stack trace is:**\r\n\r\n&gt;There was an unexpected error (type=Internal Server Error, status=500).\r\nCannot invoke &quot;java.lang.Long.longValue()&quot; because &quot;id&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.longValue()&quot; because &quot;id&quot; is null\r\n\tat com.sportyshoes.basepackage.resource.RestfulResource.delete(RestfulResource.java:55)\r\n\tat com.sportyshoes.basepackage.controller.WareHouseController.deleteById(WareHouseController.java:85)\r\n\r\n**and also in the URL it is showing the below:**\r\n\r\n&gt; http://localhost:8080/deletebyid?shoename=1\r\n\r\nI mentioned the value 1 for id but it is assigning for shoename.\r\n\r\npretty much confused here. Please help me to understand how to perform delete operation.","title":"Deleting a data using ID in database using rest controller, controller through a form in jsp - spring boot","body":"<p>I am performing a delete operation using spring boot @RestController and @Controller to handle it and send it to the view JSP page. I get an error that the id is null. I dont understand it and I tried few steps based on searches but was not helpful.</p>\n<p><strong>@RestController is as follows:</strong></p>\n<pre><code>    @DeleteMapping(path = &quot;shoelist/{id}&quot;)\n    public ResponseEntity delete(@PathVariable Long id) {\n        ShoeData data = shoeService.deleteById(id);\n        \n        if(data != null) {\n            // noContent means it would return 204 status code \n            return ResponseEntity.noContent().build();\n        }\n        \n        return ResponseEntity.notFound().build();\n    }\n</code></pre>\n<p><strong>@Controller is as follows:</strong></p>\n<pre><code>    @RequestMapping(value = &quot;deletebyid&quot;, method=RequestMethod.GET)\n    public String deleteById( Long id) {\n        ResponseEntity data = resource.delete(id);\n        return &quot;redirect:entry&quot;;\n    }\n</code></pre>\n<p><strong>JSP page is as follows:</strong></p>\n<pre><code>    &lt;h3&gt;To delete an Item:&lt;/h3&gt;\n    &lt;form action=&quot;deletebyid&quot; method=&quot;get&quot;&gt;\n        Enter Shoe name: &lt;input type=&quot;text&quot; name=&quot;shoename&quot;&gt;&lt;br&gt;\n        &lt;button&gt;Submit&lt;/button&gt;\n    &lt;/form&gt;\n</code></pre>\n<p><strong>error stack trace is:</strong></p>\n<blockquote>\n<p>There was an unexpected error (type=Internal Server Error, status=500).\nCannot invoke &quot;java.lang.Long.longValue()&quot; because &quot;id&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.longValue()&quot; because &quot;id&quot; is null\nat com.sportyshoes.basepackage.resource.RestfulResource.delete(RestfulResource.java:55)\nat com.sportyshoes.basepackage.controller.WareHouseController.deleteById(WareHouseController.java:85)</p>\n</blockquote>\n<p><strong>and also in the URL it is showing the below:</strong></p>\n<blockquote>\n<p>http://localhost:8080/deletebyid?shoename=1</p>\n</blockquote>\n<p>I mentioned the value 1 for id but it is assigning for shoename.</p>\n<p>pretty much confused here. Please help me to understand how to perform delete operation.</p>\n"},{"tags":["java","mongodb","modelmapper"],"comments":[{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1488539286,"post_id":42551247,"comment_id":72287253,"body_markdown":"Solution using MapStruct: https://github.com/mapstruct/mapstruct/issues/366#issuecomment-283912067","body":"Solution using MapStruct: <a href=\"https://github.com/mapstruct/mapstruct/issues/366#issuecomment-283912067\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct/issues/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1488454957,"post_id":42554432,"comment_id":72243458,"body_markdown":"That&#39;s what I&#39;m doing, isnt? `return mapper.map((UserType1) entity,UserType1DTO.class);` UserType1 and UserType1DTO  are concrete classes.","body":"That&#39;s what I&#39;m doing, isnt? <code>return mapper.map((UserType1) entity,UserType1DTO.class);</code> UserType1 and UserType1DTO  are concrete classes."},{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1488455665,"post_id":42554432,"comment_id":72243933,"body_markdown":"What error exactly?  Notice that I have a ResumeDTO list attribute on my abstract class and the error I get is about this attribute `Failed to instantiate instance of destination *.dto.ResumeDTO. Ensure that *.dto.ResumeDTO has a non-private no-argument constructor` is not telling me nothing me about not able to instanciate abstract classes","body":"What error exactly?  Notice that I have a ResumeDTO list attribute on my abstract class and the error I get is about this attribute <code>Failed to instantiate instance of destination *.dto.ResumeDTO. Ensure that *.dto.ResumeDTO has a non-private no-argument constructor</code> is not telling me nothing me about not able to instanciate abstract classes"},{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":0,"creation_date":1488455860,"post_id":42554432,"comment_id":72244091,"body_markdown":"Yes, you&#39;re right. But, you say: `ResumeDTO is similar to UserDTO, is an abstract class`. So definetively you&#39;re problem is related with the abstract class, it can not be mapped (`ResumeDTO`, cannot be mapped because is an abstract class)","body":"Yes, you&#39;re right. But, you say: <code>ResumeDTO is similar to UserDTO, is an abstract class</code>. So definetively you&#39;re problem is related with the abstract class, it can not be mapped (<code>ResumeDTO</code>, cannot be mapped because is an abstract class)"},{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1488456044,"post_id":42554432,"comment_id":72244227,"body_markdown":"Aaaah, yes. I see it now. Then I can&#39;t do the map having this model :( I&#39;ve tried MapStruct before ModelMapper and it didn&#39;t work neither","body":"Aaaah, yes. I see it now. Then I can&#39;t do the map having this model :( I&#39;ve tried MapStruct before ModelMapper and it didn&#39;t work neither"}],"tags":[],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1671272092,"creation_date":1488454670,"answer_id":42554432,"question_id":42551247,"body_markdown":"You are trying to map a concrete class to an abstract class, this will not work.\r\nYou can not use as destination an `Abstract Class`. Why? It can not be instantiated. So you must use a concrete class.\r\n\r\nDefinitively it wouldn&#39;t work a map with an Abstract Class destination:\r\n\r\n    mapper.map(entity, AbstractClass.class);\r\n    /*Error: java.lang.InstantiationException\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.lang.Class.newInstance(Class.java:442)*/\r\n    \r\n\r\nYou must use a concrete class which extends the Abstract Class\r\n\r\n    public class ConcreteClass extends AbstractClass {\r\n           //\r\n    }\r\n\r\nAnd then map it to this concrete class:\r\n\r\n    mapper.map(entity, ConcreteClass.class);\r\n\r\n\r\n---\r\nMore info:\r\n\r\nDue to it is not possible to instantiate an abstract class it will not work in destination properties neither.\r\n\r\nThere is an issue in Github related to this: https://github.com/jhalterman/modelmapper/issues/130","title":"ModelMapper - Failed to instantiate instance of destination","body":"<p>You are trying to map a concrete class to an abstract class, this will not work.\nYou can not use as destination an <code>Abstract Class</code>. Why? It can not be instantiated. So you must use a concrete class.</p>\n<p>Definitively it wouldn't work a map with an Abstract Class destination:</p>\n<pre><code>mapper.map(entity, AbstractClass.class);\n/*Error: java.lang.InstantiationException\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat java.lang.Class.newInstance(Class.java:442)*/\n</code></pre>\n<p>You must use a concrete class which extends the Abstract Class</p>\n<pre><code>public class ConcreteClass extends AbstractClass {\n       //\n}\n</code></pre>\n<p>And then map it to this concrete class:</p>\n<pre><code>mapper.map(entity, ConcreteClass.class);\n</code></pre>\n<hr />\n<p>More info:</p>\n<p>Due to it is not possible to instantiate an abstract class it will not work in destination properties neither.</p>\n<p>There is an issue in Github related to this: <a href=\"https://github.com/jhalterman/modelmapper/issues/130\" rel=\"nofollow noreferrer\">https://github.com/jhalterman/modelmapper/issues/130</a></p>\n"},{"comments":[{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1611734649,"post_id":57607325,"comment_id":116542801,"body_markdown":"But I don&#39;t see a primitive type in this constructor. How will removing this constructor solve the issue?","body":"But I don&#39;t see a primitive type in this constructor. How will removing this constructor solve the issue?"}],"tags":[],"owner":{"account_id":1666502,"reputation":1120,"user_id":1533783,"display_name":"Khalid Habib"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566559421,"creation_date":1566469865,"answer_id":57607325,"question_id":42551247,"body_markdown":"This error occurs when you have primitive data types or primitive return types in setter and getter or a parameterized constructor\r\n\r\nso here you need to remove following code\r\n\r\n    public UserType1DTO(String firstName, String lastName, ContactInfoDTO contact, \r\n    CompanyDTO company) {\r\n        super(UserType.type1, firstName, lastName, contact);\r\n        this.company = company;\r\n    }\r\n\r\n\r\nit will work fine.\r\n","title":"ModelMapper - Failed to instantiate instance of destination","body":"<p>This error occurs when you have primitive data types or primitive return types in setter and getter or a parameterized constructor</p>\n\n<p>so here you need to remove following code</p>\n\n<pre><code>public UserType1DTO(String firstName, String lastName, ContactInfoDTO contact, \nCompanyDTO company) {\n    super(UserType.type1, firstName, lastName, contact);\n    this.company = company;\n}\n</code></pre>\n\n<p>it will work fine.</p>\n"},{"tags":[],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611736009,"creation_date":1611736009,"answer_id":65915362,"question_id":42551247,"body_markdown":"What solved my issue is using typeMap and updating the version of ModelMapper. Please refer the below link:-\r\n\r\n[Mapping Lists with ModelMapper][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-modelmapper-lists\r\n\r\nUsing typeMap still gave me the same error. Then I updated my ModelMapper version from `2.0.0` to `2.3.5`, and the issue was resolved.","title":"ModelMapper - Failed to instantiate instance of destination","body":"<p>What solved my issue is using typeMap and updating the version of ModelMapper. Please refer the below link:-</p>\n<p><a href=\"https://www.baeldung.com/java-modelmapper-lists\" rel=\"nofollow noreferrer\">Mapping Lists with ModelMapper</a></p>\n<p>Using typeMap still gave me the same error. Then I updated my ModelMapper version from <code>2.0.0</code> to <code>2.3.5</code>, and the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":11461367,"reputation":31,"user_id":8400933,"display_name":"Annie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671688821,"creation_date":1671688821,"answer_id":74884658,"question_id":42551247,"body_markdown":"I was also getting the same exception. The way i resolved is made a private constructor of the destination class.\r\n\r\n    ViewDTO viewDto = (new ModelMapper()).map(object, ViewDTO.class);\r\n\r\nThe &quot;object&quot; is the domain object and it is to be mapped to the viewDto which is a DTO object to be sent to the client side.\r\n\r\nI just added a private constructor to the ViewDTO class.\r\n\r\n    private ViewDTO() {}\r\n\r\nand this solved my issue.And the verified answer also helped a lot.\r\n\r\nHope this is helpful. ","title":"ModelMapper - Failed to instantiate instance of destination","body":"<p>I was also getting the same exception. The way i resolved is made a private constructor of the destination class.</p>\n<pre><code>ViewDTO viewDto = (new ModelMapper()).map(object, ViewDTO.class);\n</code></pre>\n<p>The &quot;object&quot; is the domain object and it is to be mapped to the viewDto which is a DTO object to be sent to the client side.</p>\n<p>I just added a private constructor to the ViewDTO class.</p>\n<pre><code>private ViewDTO() {}\n</code></pre>\n<p>and this solved my issue.And the verified answer also helped a lot.</p>\n<p>Hope this is helpful.</p>\n"}],"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27994,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":42554432,"answer_count":4,"score":10,"last_activity_date":1671688821,"creation_date":1488446343,"question_id":42551247,"body_markdown":"I&#39;m working with mongodb so I&#39;m decoupling entities from presentation layer creating DTOs (with hibernate-validator annotations).\r\n\r\n    public abstract class UserDTO {\r\n    \t\r\n    \tprivate String id;\t\t\r\n    \t@NotNull\r\n    \tprotected String firstName;\r\n    \t@NotNull\r\n    \tprotected String lastName;\r\n    \tprotected UserType type;\r\n    \tprotected ContactInfoDTO contact;\r\n    \tprotected List&lt;ResumeDTO&gt; resumes;\r\n\r\n        public UserDTO(){}\r\n        //...\r\n\r\nI&#39;m trying to retrive from db this concrete class\r\n\r\n    public class UserType1DTO extends UserDTO {\r\n    \t\r\n    \tprivate CompanyDTO company;\r\n    \r\n    \tpublic UserType1DTO(){\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \tpublic UserType1DTO(String firstName, String lastName, ContactInfoDTO contact, CompanyDTO company) {\r\n    \t\tsuper(UserType.type1, firstName, lastName, contact);\r\n    \t\tthis.company = company;\r\n    \t}\r\n        /...\r\n\r\nLike this:\r\n\r\n    return mapper.map((UserType1) entity,UserType1DTO.class);\r\n\r\nAnd I get this error about not being able to instanciate `ResumeDTO`\r\n\r\n    Failed to instantiate instance of destination *.dto.ResumeDTO. Ensure that *.dto.ResumeDTO has a non-private no-argument constructor.\r\n\r\nResumeDTO is similar to UserDTO, is an abstract class and has concrete classes for each user type. All they have constructors with no arguments.\r\nWhat is the problem?","title":"ModelMapper - Failed to instantiate instance of destination","body":"<p>I'm working with mongodb so I'm decoupling entities from presentation layer creating DTOs (with hibernate-validator annotations).</p>\n\n<pre><code>public abstract class UserDTO {\n\n    private String id;      \n    @NotNull\n    protected String firstName;\n    @NotNull\n    protected String lastName;\n    protected UserType type;\n    protected ContactInfoDTO contact;\n    protected List&lt;ResumeDTO&gt; resumes;\n\n    public UserDTO(){}\n    //...\n</code></pre>\n\n<p>I'm trying to retrive from db this concrete class</p>\n\n<pre><code>public class UserType1DTO extends UserDTO {\n\n    private CompanyDTO company;\n\n    public UserType1DTO(){\n        super();\n    }\n\n    public UserType1DTO(String firstName, String lastName, ContactInfoDTO contact, CompanyDTO company) {\n        super(UserType.type1, firstName, lastName, contact);\n        this.company = company;\n    }\n    /...\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>return mapper.map((UserType1) entity,UserType1DTO.class);\n</code></pre>\n\n<p>And I get this error about not being able to instanciate <code>ResumeDTO</code></p>\n\n<pre><code>Failed to instantiate instance of destination *.dto.ResumeDTO. Ensure that *.dto.ResumeDTO has a non-private no-argument constructor.\n</code></pre>\n\n<p>ResumeDTO is similar to UserDTO, is an abstract class and has concrete classes for each user type. All they have constructors with no arguments.\nWhat is the problem?</p>\n"},{"tags":["java","obfuscation","reverse-engineering","source-code-protection"],"comments":[{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":4,"creation_date":1313179055,"post_id":7045613,"comment_id":8421192,"body_markdown":"Determined people will always find a way to reverse engineer your code.","body":"Determined people will always find a way to reverse engineer your code."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1313181066,"post_id":7045613,"comment_id":8421702,"body_markdown":"*&quot;I&#39;m no&#39;t sure how to protect it&quot;*  Make it crappy (the default for people asking this question) and nobody will bother to reverse engineer it.","body":"<i>&quot;I&#39;m no&#39;t sure how to protect it&quot;</i>  Make it crappy (the default for people asking this question) and nobody will bother to reverse engineer it."},{"owner":{"account_id":10167202,"reputation":3755,"user_id":7508700,"display_name":"David Buck"},"score":1,"creation_date":1673765917,"post_id":7045613,"comment_id":132568462,"body_markdown":"Does this answer your question? [Best Java obfuscator?](https://stackoverflow.com/questions/2537568/best-java-obfuscator)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2537568/best-java-obfuscator\">Best Java obfuscator?</a>"}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1313179014,"creation_date":1313179014,"answer_id":7045629,"question_id":7045613,"body_markdown":"A Java executable and a native executable are both just a bunch of machine code (with optional annotations and stuff).  So there&#39;s essentially no difference in terms of how easy it is to reverse-engineer.\r\n\r\nIf you are compiling with javac, you can use the `-g:none` flag to eliminate all debug info from being compiled into the executable.","title":"How to protect a java application from reverse-engineering or code stealing?","body":"<p>A Java executable and a native executable are both just a bunch of machine code (with optional annotations and stuff).  So there's essentially no difference in terms of how easy it is to reverse-engineer.</p>\n\n<p>If you are compiling with javac, you can use the <code>-g:none</code> flag to eliminate all debug info from being compiled into the executable.</p>\n"},{"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1313179509,"post_id":7045666,"comment_id":8421307,"body_markdown":"I think you mean &quot;reverse engineer your binary&quot;.","body":"I think you mean &quot;reverse engineer your binary&quot;."},{"owner":{"account_id":463351,"reputation":10286,"user_id":866193,"accept_rate":75,"display_name":"Sam DeHaan"},"score":1,"creation_date":1313179783,"post_id":7045666,"comment_id":8421371,"body_markdown":"@Oil, I intended it to mean &quot;reverse engineer your source *from your binary* with the latter implied. If it wasn&#39;t obvious, I&#39;ll correct it. Thanks.","body":"@Oil, I intended it to mean &quot;reverse engineer your source <i>from your binary</i> with the latter implied. If it wasn&#39;t obvious, I&#39;ll correct it. Thanks."}],"tags":[],"owner":{"account_id":463351,"reputation":10286,"user_id":866193,"accept_rate":75,"display_name":"Sam DeHaan"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313179681,"creation_date":1313179238,"answer_id":7045666,"question_id":7045613,"body_markdown":"If it&#39;s really worth someone&#39;s time to reverse engineer your source from the binary, they will.  You might be able to make it slightly harder, but never impossible.","title":"How to protect a java application from reverse-engineering or code stealing?","body":"<p>If it's really worth someone's time to reverse engineer your source from the binary, they will.  You might be able to make it slightly harder, but never impossible.</p>\n"},{"comments":[{"owner":{"account_id":466784,"reputation":431,"user_id":871747,"display_name":"nerdytenor"},"score":0,"creation_date":1313193627,"post_id":7045780,"comment_id":8424292,"body_markdown":"ProGuard makes things quite painful for would-be reverse-engineers. Imho, this is about as good as you can do.","body":"ProGuard makes things quite painful for would-be reverse-engineers. Imho, this is about as good as you can do."}],"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1313179966,"creation_date":1313179966,"answer_id":7045780,"question_id":7045613,"body_markdown":"You can use a Java Obfuscator such as [ProGuard][1].\r\n\r\n&gt; ProGuard is a free Java class file shrinker, optimizer, obfuscator, and preverifier. It detects and removes unused classes, fields, methods, and attributes. It optimizes bytecode and removes unused instructions. **It renames the remaining classes, fields, and methods using short meaningless names**. Finally, it preverifies the processed code for Java 6 or for Java Micro Edition.\r\n\r\n[1]:http://proguard.sourceforge.net/","title":"How to protect a java application from reverse-engineering or code stealing?","body":"<p>You can use a Java Obfuscator such as <a href=\"http://proguard.sourceforge.net/\" rel=\"noreferrer\">ProGuard</a>.</p>\n\n<blockquote>\n  <p>ProGuard is a free Java class file shrinker, optimizer, obfuscator, and preverifier. It detects and removes unused classes, fields, methods, and attributes. It optimizes bytecode and removes unused instructions. <strong>It renames the remaining classes, fields, and methods using short meaningless names</strong>. Finally, it preverifies the processed code for Java 6 or for Java Micro Edition.</p>\n</blockquote>\n"}],"owner":{"account_id":773032,"reputation":141,"user_id":877490,"accept_rate":71,"display_name":"mwdar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675615041,"answer_count":3,"score":-2,"last_activity_date":1671688801,"creation_date":1313178888,"question_id":7045613,"body_markdown":"I want to reveal my desktop java application to public, but I&#39;m not sure how to protect it from reverse-engineering or source code stealing?\r\n\r\nIs it possible to convert the application to an exe file? and if it is, wouldn&#39;t that be enough to protect it?","title":"How to protect a java application from reverse-engineering or code stealing?","body":"<p>I want to reveal my desktop java application to public, but I'm not sure how to protect it from reverse-engineering or source code stealing?</p>\n\n<p>Is it possible to convert the application to an exe file? and if it is, wouldn't that be enough to protect it?</p>\n"},{"tags":["java","android","sql","xml","android-layout"],"comments":[{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1671688078,"post_id":74884522,"comment_id":132153276,"body_markdown":"Please check your theme once .","body":"Please check your theme once ."},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1671688091,"post_id":74884522,"comment_id":132153278,"body_markdown":"Add your crash log here","body":"Add your crash log here"}],"answers":[{"tags":[],"owner":{"account_id":13794509,"reputation":138,"user_id":9956025,"display_name":"Hrithik Manchanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671688232,"creation_date":1671688232,"answer_id":74884588,"question_id":74884522,"body_markdown":"It&#39;s difficult to tell without any stacktrace.\r\n\r\nMost probable answer is you are missing material dependency in the build.gradle file.\r\n\r\nAlso it is recommended to use AndroidX libraries with material ui.\r\n\r\n```\r\ndependencies {\r\n    // ...\r\n    implementation &#39;com.google.android.material:material:&lt;version&gt;&#39;\r\n    // ...\r\n  }\r\n```","title":"Android Material Desin","body":"<p>It's difficult to tell without any stacktrace.</p>\n<p>Most probable answer is you are missing material dependency in the build.gradle file.</p>\n<p>Also it is recommended to use AndroidX libraries with material ui.</p>\n<pre><code>dependencies {\n    // ...\n    implementation 'com.google.android.material:material:&lt;version&gt;'\n    // ...\n  }\n</code></pre>\n"}],"owner":{"account_id":16752204,"reputation":1,"user_id":12109089,"display_name":"Mesfin Eyosias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671688232,"creation_date":1671687678,"question_id":74884522,"body_markdown":"my app crashes due to &lt;com.google.android.material.textfield.TextInputLayout&gt; while working my login page.\r\nIs there any way to fix other than updating dependencies or style. Thanks\r\n\r\nmy app crashes due to &lt;com.google.android.material.textfield.TextInputLayout&gt; while working my login page.\r\nIs there any way to fix other than updating dependencies or style. Thanks","title":"Android Material Desin","body":"<p>my app crashes due to &lt;com.google.android.material.textfield.TextInputLayout&gt; while working my login page.\nIs there any way to fix other than updating dependencies or style. Thanks</p>\n<p>my app crashes due to &lt;com.google.android.material.textfield.TextInputLayout&gt; while working my login page.\nIs there any way to fix other than updating dependencies or style. Thanks</p>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":1041973,"reputation":50461,"user_id":1047823,"accept_rate":75,"display_name":"Christoph"},"score":4,"creation_date":1336040524,"post_id":4419995,"comment_id":13459902,"body_markdown":"@DavidSmith working like a charm for me. On windows machines the path looks like: `C:\\Program Files (x86)\\Java\\jre6\\bin`","body":"@DavidSmith working like a charm for me. On windows machines the path looks like: <code>C:\\Program Files (x86)\\Java\\jre6\\bin</code>"},{"owner":{"account_id":420593,"reputation":2298,"user_id":798371,"accept_rate":60,"display_name":"WBT"},"score":0,"creation_date":1460221997,"post_id":4419995,"comment_id":60645260,"body_markdown":"There may be another -vm argument later in the ini file overriding the one you put at the top, pointing to a VM that doesn&#39;t exist (e.g. because Java updated itself and removed the old version).  If so, delete the later line.","body":"There may be another -vm argument later in the ini file overriding the one you put at the top, pointing to a VM that doesn&#39;t exist (e.g. because Java updated itself and removed the old version).  If so, delete the later line."},{"owner":{"account_id":3480186,"reputation":901,"user_id":2912478,"accept_rate":81,"display_name":"rph"},"score":1,"creation_date":1485323411,"post_id":4419995,"comment_id":70873091,"body_markdown":"remember that eclipse.ini might already have an argument -vm. If so, replace the path with the correct one. I had this problem after updating my JAVA.","body":"remember that eclipse.ini might already have an argument -vm. If so, replace the path with the correct one. I had this problem after updating my JAVA."},{"owner":{"account_id":1952064,"reputation":3074,"user_id":1755950,"accept_rate":45,"display_name":"cihadakt"},"score":1,"creation_date":1544084731,"post_id":4419995,"comment_id":94152846,"body_markdown":"adding this at the end of .ini file didn&#39;t solve my problem. Add this before -vmargs argument and try again.","body":"adding this at the end of .ini file didn&#39;t solve my problem. Add this before -vmargs argument and try again."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":1,"up_vote_count":204,"is_accepted":false,"score":203,"last_activity_date":1407880297,"creation_date":1292118112,"answer_id":4419995,"question_id":4419983,"body_markdown":"[You can explicitly tell Eclipse where to find it][1]. Open `eclipse.ini` and add the following lines to the top of the file:\r\n\r\n    -vm\r\n    /absolute/path/to/jre6/bin\r\n\r\n---\r\n\r\n**Update**: I just nailed down the root cause on my own Windows machine. The GlassFish installer complained with exactly the same error message and after digging in GlassFish forums, the cause was clear: a corrupt JRE install on a Windows machine. My JRE came along with the JDK and the Java 6 JDK installer didn&#39;t install the JRE properly somehow. A DLL file was missing in JDK&#39;s JRE installation. After I reinstalled the standalone JRE from http://java.com, overwriting the old one, the GlassFish installer continued and also Eclipse was able to start flawlessly without those two lines in `eclipse.ini`.\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p><a href=\"http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example\" rel=\"noreferrer\">You can explicitly tell Eclipse where to find it</a>. Open <code>eclipse.ini</code> and add the following lines to the top of the file:</p>\n\n<pre><code>-vm\n/absolute/path/to/jre6/bin\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong>: I just nailed down the root cause on my own Windows machine. The GlassFish installer complained with exactly the same error message and after digging in GlassFish forums, the cause was clear: a corrupt JRE install on a Windows machine. My JRE came along with the JDK and the Java 6 JDK installer didn't install the JRE properly somehow. A DLL file was missing in JDK's JRE installation. After I reinstalled the standalone JRE from <a href=\"http://java.com\" rel=\"noreferrer\">http://java.com</a>, overwriting the old one, the GlassFish installer continued and also Eclipse was able to start flawlessly without those two lines in <code>eclipse.ini</code>.</p>\n"},{"comments":[{"owner":{"account_id":205984,"reputation":2548,"user_id":455020,"accept_rate":78,"display_name":"bakoyaro"},"score":1,"creation_date":1364268281,"post_id":4421226,"comment_id":22171852,"body_markdown":"Ran into the same issue, solved the issue with this answer and it works under Ubuntu 12.04LTS","body":"Ran into the same issue, solved the issue with this answer and it works under Ubuntu 12.04LTS"}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1292149930,"creation_date":1292149930,"answer_id":4421226,"question_id":4419983,"body_markdown":"It usually is because:\r\n\r\n- you indicated the wrong jvm path in your `-vm` argument: see this [SO question][1] for an concrete example.\r\n- the `eclipse.ini` got corrupted somehow (if it hasn&#39;t been modified, this isn&#39;t it, but if setting a jvm path doesn&#39;t work, ... I would replace the `eclipse.ini` by one coming from a fresh installation just to be sure)\r\n- the java which eclipse search by default is no longer accessible (because the $PATH is no longer up-to-date)\r\n\r\nMore details on the wiki page &quot;[Finding a VM, Using JNI Invocation or Executing Java][2]&quot;\r\n\r\n&gt; ### No -vm specified\r\n\r\n&gt; When no `-vm` is specified, the launcher looks for a virtual machine first in a jre directory in the root of eclipse and then on the search path.  \r\nIf java is found in either location, then we look for a jvm shared library (jvm.dll on window, libjvm.so on *nix platforms) relative to that java executable.\r\n\r\n&gt;- If a jvm shared library is found we load it and use the JNI invocation api to start the vm.\r\n- If no jvm shared library is found, we exec the java launcher to start the vm in a new process. \r\n\r\nAs mentioned in &quot;[FAQ How do I run Eclipse?][3]&quot;:\r\n\r\n&gt; Eclipse DOES NOT consult the `JAVA_HOME` environment variable. \r\n\r\nSo I would check your $PATH, starting by n new shell sesion (whatever your OS is), typing &#39;`java -version`&#39; to see if it still returns anything.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/142357/what-are-the-best-jvm-settings-for-eclipse/3275659#3275659\r\n  [2]: http://wiki.eclipse.org/Equinox_Launcher#Finding_a_VM.2C_Using_JNI_Invocation_or_Executing_Java\r\n  [3]: http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>It usually is because:</p>\n\n<ul>\n<li>you indicated the wrong jvm path in your <code>-vm</code> argument: see this <a href=\"https://stackoverflow.com/questions/142357/what-are-the-best-jvm-settings-for-eclipse/3275659#3275659\">SO question</a> for an concrete example.</li>\n<li>the <code>eclipse.ini</code> got corrupted somehow (if it hasn't been modified, this isn't it, but if setting a jvm path doesn't work, ... I would replace the <code>eclipse.ini</code> by one coming from a fresh installation just to be sure)</li>\n<li>the java which eclipse search by default is no longer accessible (because the $PATH is no longer up-to-date)</li>\n</ul>\n\n<p>More details on the wiki page \"<a href=\"http://wiki.eclipse.org/Equinox_Launcher#Finding_a_VM.2C_Using_JNI_Invocation_or_Executing_Java\" rel=\"noreferrer\">Finding a VM, Using JNI Invocation or Executing Java</a>\"</p>\n\n<blockquote>\n  <h3>No -vm specified</h3>\n  \n  <p>When no <code>-vm</code> is specified, the launcher looks for a virtual machine first in a jre directory in the root of eclipse and then on the search path.<br>\n  If java is found in either location, then we look for a jvm shared library (jvm.dll on window, libjvm.so on *nix platforms) relative to that java executable.</p>\n  \n  <ul>\n  <li>If a jvm shared library is found we load it and use the JNI invocation api to start the vm.</li>\n  <li>If no jvm shared library is found, we exec the java launcher to start the vm in a new process. </li>\n  </ul>\n</blockquote>\n\n<p>As mentioned in \"<a href=\"http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\" rel=\"noreferrer\">FAQ How do I run Eclipse?</a>\":</p>\n\n<blockquote>\n  <p>Eclipse DOES NOT consult the <code>JAVA_HOME</code> environment variable. </p>\n</blockquote>\n\n<p>So I would check your $PATH, starting by n new shell sesion (whatever your OS is), typing '<code>java -version</code>' to see if it still returns anything.</p>\n"},{"tags":[],"owner":{"account_id":1295012,"reputation":265,"user_id":1246306,"display_name":"julioA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333429401,"creation_date":1333429401,"answer_id":9987397,"question_id":4419983,"body_markdown":"I had this problem too on a win7 machine.\r\nI wanted to update the jre with a jdk. So i deleted the jre folder and downloaded and unzipped the new jdk.\r\nThe issue was i manually deleted the jre folder, when instead i should&#39;ve uninstalled it. This leaves a bunch of registry entries that still point to the old jre. Somehow eclipse still wants to use the old jre.\r\nI couldn&#39;t uninstall the old java vm, i kept getting this error:\r\n\r\nError 1723. There is a problem with this Windows Installer package. A DLL required for this install to complete could not be run. Contact your support personnel or package vendor\r\n\r\nSo i had to use this MS utility to fix the uninstall:\r\n\r\n  http://support.microsoft.com/kb/2438651/\r\n\r\nThen i had to install again the vm. I installed to the same location the original one was at, to avoid losing another hour! After that eclipse started correctly.\r\n\r\nJulio","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I had this problem too on a win7 machine.\nI wanted to update the jre with a jdk. So i deleted the jre folder and downloaded and unzipped the new jdk.\nThe issue was i manually deleted the jre folder, when instead i should've uninstalled it. This leaves a bunch of registry entries that still point to the old jre. Somehow eclipse still wants to use the old jre.\nI couldn't uninstall the old java vm, i kept getting this error:</p>\n\n<p>Error 1723. There is a problem with this Windows Installer package. A DLL required for this install to complete could not be run. Contact your support personnel or package vendor</p>\n\n<p>So i had to use this MS utility to fix the uninstall:</p>\n\n<p><a href=\"http://support.microsoft.com/kb/2438651/\" rel=\"nofollow\">http://support.microsoft.com/kb/2438651/</a></p>\n\n<p>Then i had to install again the vm. I installed to the same location the original one was at, to avoid losing another hour! After that eclipse started correctly.</p>\n\n<p>Julio</p>\n"},{"comments":[{"owner":{"account_id":111838,"reputation":2191,"user_id":295231,"display_name":"kert"},"score":0,"creation_date":1397149758,"post_id":10285887,"comment_id":35118160,"body_markdown":"This answer. My eclipse came from OlimexODS package, and is configured to launch with 32bit, my JDK came with Netbeans 64bit package.\nNone of the startup failure messages were in any way indicative of that mismatch problem.\nGood old portable Java: write once, crash everywhere \n\nTo check: if your eclipse.ini has something along the lines of  plugins/launcher.win32.win32.x86 then its 32bit build.\n\nIf java -version from commandline says something like\n    Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)\n\nthen you likely have this problem.","body":"This answer. My eclipse came from OlimexODS package, and is configured to launch with 32bit, my JDK came with Netbeans 64bit package. None of the startup failure messages were in any way indicative of that mismatch problem. Good old portable Java: write once, crash everywhere   To check: if your eclipse.ini has something along the lines of  plugins/launcher.win32.win32.x86 then its 32bit build.  If java -version from commandline says something like     Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)  then you likely have this problem."}],"tags":[],"owner":{"account_id":1243610,"reputation":2400,"user_id":1205577,"accept_rate":83,"display_name":"user1205577"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1335204609,"creation_date":1335204609,"answer_id":10285887,"question_id":4419983,"body_markdown":"I had the same problem and the issue was that I had a 32 bit version of Eclipse running on my 64 bit machine and it wanted the 32 bit version of JRE. \r\n\r\nI changed `Program Files` to `Program Files (x86)` in the `eclipse.ini` file like so:\r\n\r\n    -VM\r\n    C:Program Files (x86)\\Java\\jre6\\bin\r\n\r\nand that solved the problem.\r\n\r\nYou may want to just install the 64 bit Eclipse, but this will take care of the error.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I had the same problem and the issue was that I had a 32 bit version of Eclipse running on my 64 bit machine and it wanted the 32 bit version of JRE. </p>\n\n<p>I changed <code>Program Files</code> to <code>Program Files (x86)</code> in the <code>eclipse.ini</code> file like so:</p>\n\n<pre><code>-VM\nC:Program Files (x86)\\Java\\jre6\\bin\n</code></pre>\n\n<p>and that solved the problem.</p>\n\n<p>You may want to just install the 64 bit Eclipse, but this will take care of the error.</p>\n"},{"tags":[],"owner":{"account_id":2032080,"reputation":91,"user_id":1815476,"display_name":"rashini"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352602100,"creation_date":1352600483,"answer_id":13328046,"question_id":4419983,"body_markdown":"I also had same problem when developing android applications using eclipse IDE.\r\nI solved it by removing all the java installations (I had java 6 and 7 both) and re-install only jdk 7.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I also had same problem when developing android applications using eclipse IDE.\nI solved it by removing all the java installations (I had java 6 and 7 both) and re-install only jdk 7.</p>\n"},{"tags":[],"owner":{"account_id":2212628,"reputation":111,"user_id":1954027,"display_name":"QuadMachine"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1357534286,"creation_date":1357534286,"answer_id":14190079,"question_id":4419983,"body_markdown":"Here is how I fixed mine:\r\n\r\n 1. find the location where your jre is installed. in my case, it was located at C:\\Program  Files\\Java\\jdk1.7.0_10\r\n\r\n 2. copy the jre folder and paste it where your eclipse files are located (where eclipse.exe is located).\r\n\r\nwhen you download eclipse, you get a .zip package containing eclipse.exe and all the other files needed to run eclipse but it is missing the jre files. so all you need to do is to find where jre folder is located on your hard drive and add it to the rest of the eclipse package.\r\n","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Here is how I fixed mine:</p>\n\n<ol>\n<li><p>find the location where your jre is installed. in my case, it was located at C:\\Program  Files\\Java\\jdk1.7.0_10</p></li>\n<li><p>copy the jre folder and paste it where your eclipse files are located (where eclipse.exe is located).</p></li>\n</ol>\n\n<p>when you download eclipse, you get a .zip package containing eclipse.exe and all the other files needed to run eclipse but it is missing the jre files. so all you need to do is to find where jre folder is located on your hard drive and add it to the rest of the eclipse package.</p>\n"},{"tags":[],"owner":{"account_id":2424798,"reputation":1,"user_id":2116989,"display_name":"robert mac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361995891,"creation_date":1361995891,"answer_id":15121426,"question_id":4419983,"body_markdown":"I just had this problem and fixed it this way. I noticed the error message has jre in it not jre6 or jre7, so i copied jre6 from program files to eclipse folder then renamed it from jre6 to jre, then it worked :p","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I just had this problem and fixed it this way. I noticed the error message has jre in it not jre6 or jre7, so i copied jre6 from program files to eclipse folder then renamed it from jre6 to jre, then it worked :p</p>\n"},{"tags":[],"owner":{"account_id":2560907,"reputation":71,"user_id":2221891,"display_name":"user2221891"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1364518163,"creation_date":1364518163,"answer_id":15694677,"question_id":4419983,"body_markdown":"Did you install Java via the java.com web browser auto install?  If so, then that&#39;s your problem! You need to to the &quot;manual&quot; install: http://www.java.com/en/download/manual.jsp\r\n\r\nIt&#39;s just a matter of having the correct match of 32-bit Eclipse/32-bit Java or 64-bit Eclipse/64-bit Java.  Many 64-bit Windows have 32-bit browsers and the latter is the version of Java that the auto-installer will provide - not what the 64-bit Eclipse wants.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Did you install Java via the java.com web browser auto install?  If so, then that's your problem! You need to to the \"manual\" install: <a href=\"http://www.java.com/en/download/manual.jsp\" rel=\"noreferrer\">http://www.java.com/en/download/manual.jsp</a></p>\n\n<p>It's just a matter of having the correct match of 32-bit Eclipse/32-bit Java or 64-bit Eclipse/64-bit Java.  Many 64-bit Windows have 32-bit browsers and the latter is the version of Java that the auto-installer will provide - not what the 64-bit Eclipse wants.</p>\n"},{"tags":[],"owner":{"account_id":2667363,"reputation":121,"user_id":2305479,"display_name":"EldritchText"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366583878,"creation_date":1366583878,"answer_id":16136952,"question_id":4419983,"body_markdown":"Newb move on my part, but I had **installed just the JRE instead of JDK**. Installed JDK and my problem went immediately away.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Newb move on my part, but I had <strong>installed just the JRE instead of JDK</strong>. Installed JDK and my problem went immediately away.</p>\n"},{"tags":[],"owner":{"account_id":2270301,"reputation":75,"user_id":1997912,"display_name":"Liam15"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1366584118,"creation_date":1366584118,"answer_id":16136982,"question_id":4419983,"body_markdown":"Make sure the install path of JDK is in your Path variable in Windows.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Make sure the install path of JDK is in your Path variable in Windows.</p>\n"},{"comments":[{"owner":{"account_id":1961485,"reputation":3248,"user_id":1762932,"accept_rate":84,"display_name":"Tom"},"score":4,"creation_date":1442805836,"post_id":17058366,"comment_id":53218120,"body_markdown":"me too. add this before -vmargs","body":"me too. add this before -vmargs"}],"tags":[],"owner":{"account_id":1072749,"reputation":73,"user_id":1071626,"display_name":"Akash Gupta"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1371015633,"creation_date":1371015633,"answer_id":17058366,"question_id":4419983,"body_markdown":"adding `-vm C:/Program Files/Java/jdk1.6.0_29/bin/javaw.exe`  to the .ini file helped me.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>adding <code>-vm C:/Program Files/Java/jdk1.6.0_29/bin/javaw.exe</code>  to the .ini file helped me.</p>\n"},{"tags":[],"owner":{"account_id":781972,"reputation":2698,"user_id":832200,"accept_rate":62,"display_name":"Bruce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393326072,"creation_date":1393326072,"answer_id":22012164,"question_id":4419983,"body_markdown":"I had this problem and it was due to my windows machine playing up. I went into control panel -&gt; system -&gt; advanced - environment variables.\r\n\r\nI edited the PATH variable (which was already correctly set up), changed NOTHING, clicked OK to come back out of the screens. \r\n\r\nThen eclipse worked. No idea why, except because windows. Hopefully this may help someone.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I had this problem and it was due to my windows machine playing up. I went into control panel -> system -> advanced - environment variables.</p>\n\n<p>I edited the PATH variable (which was already correctly set up), changed NOTHING, clicked OK to come back out of the screens. </p>\n\n<p>Then eclipse worked. No idea why, except because windows. Hopefully this may help someone.</p>\n"},{"tags":[],"owner":{"account_id":4723628,"reputation":1276,"user_id":3820918,"accept_rate":0,"display_name":"dreamdeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418494166,"creation_date":1418494166,"answer_id":27462050,"question_id":4419983,"body_markdown":"I got this fixed by doing the below steps,\r\n\r\n1) \r\n\r\n 1. The eclipse finds the JAVA executables  from &#39;C:\\ProgramData\\Oracle\\Java\\javapath&#39;\r\n 2. The folder structure will contain shortcuts to t![enter image description here][1]he below executables,\r\n      i. java.exe\r\n     ii. javaw.exe\r\n    iii. javaws.exe\r\n 3. For me the executable paths were pointing to my (ProgramFiles(x84)) folder location\r\n 4.  I corrected it to Program Files path(64 bit) and the issue got resolved\r\n\r\n \r\nPlease find the screenshot for the same.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uxhsD.png","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I got this fixed by doing the below steps,</p>\n\n<p>1) </p>\n\n<ol>\n<li>The eclipse finds the JAVA executables  from 'C:\\ProgramData\\Oracle\\Java\\javapath'</li>\n<li>The folder structure will contain shortcuts to t<img src=\"https://i.stack.imgur.com/uxhsD.png\" alt=\"enter image description here\">he below executables,\n  i. java.exe\n ii. javaw.exe\niii. javaws.exe</li>\n<li>For me the executable paths were pointing to my (ProgramFiles(x84)) folder location</li>\n<li>I corrected it to Program Files path(64 bit) and the issue got resolved</li>\n</ol>\n\n<p>Please find the screenshot for the same.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1487798751,"post_id":42401768,"comment_id":71952149,"body_markdown":"Not everyone else has a `Common Files.......HP\\LeanFT\\bin` path, by the way. You don&#39;t need it for developing in Java.","body":"Not everyone else has a <code>Common Files.......HP\\LeanFT\\bin</code> path, by the way. You don&#39;t need it for developing in Java."}],"tags":[],"owner":{"account_id":9820006,"reputation":291,"user_id":7275151,"accept_rate":50,"display_name":"Stewart Moon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487795834,"creation_date":1487795834,"answer_id":42401768,"question_id":4419983,"body_markdown":"I had this issue;  I fixed it by going to \n\nComputer--&gt;Properties--&gt;Advanced Settings--&gt;Environmental Variables\n\nIn the System Variables find the variable named PATH.  \n--&gt;Select Edit\n--&gt;At the very end of the Path Variable, put a &quot;;&quot; then add your path of your JDK and put \\bin\\ at the end\n\nShould be fixed.\n\n**Example:**\n\n**System Variable-** \n\nC:\\Program Files (x86)\\Common Files.......HP\\LeanFT\\bin\n\n**JDK path-** \n\nC:\\Programs Files\\Java\\jre1.8.0_121\n\n**Final Path -**\n\n  C:\\Program Files (x86)\\Common Files.......HP\\LeanFT\\bin;C:\\Programs Files\\Java\\jre1.8.0_121\\bin\\\n\nSources:\nhttps://www.java.com/en/download/help/path.xml\n","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I had this issue;  I fixed it by going to</p>\n<p>Computer--&gt;Properties--&gt;Advanced Settings--&gt;Environmental Variables</p>\n<p>In the System Variables find the variable named PATH.<br />\n--&gt;Select Edit\n--&gt;At the very end of the Path Variable, put a &quot;;&quot; then add your path of your JDK and put \\bin\\ at the end</p>\n<p>Should be fixed.</p>\n<p><strong>Example:</strong></p>\n<p><strong>System Variable-</strong></p>\n<p>C:\\Program Files (x86)\\Common Files.......HP\\LeanFT\\bin</p>\n<p><strong>JDK path-</strong></p>\n<p>C:\\Programs Files\\Java\\jre1.8.0_121</p>\n<p><strong>Final Path -</strong></p>\n<p>C:\\Program Files (x86)\\Common Files.......HP\\LeanFT\\bin;C:\\Programs Files\\Java\\jre1.8.0_121\\bin\\</p>\n<p>Sources:\n<a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/help/path.xml</a></p>\n"},{"comments":[{"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"score":0,"creation_date":1509576464,"post_id":43246567,"comment_id":81077909,"body_markdown":"It works but still looks like a hack but not a proper solution. Upvoted anyway.","body":"It works but still looks like a hack but not a proper solution. Upvoted anyway."}],"tags":[],"owner":{"account_id":4197542,"reputation":155,"user_id":3438583,"display_name":"user3438583"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1491457548,"creation_date":1491457198,"answer_id":43246567,"question_id":4419983,"body_markdown":"Copy javaw.exe from **C:\\Program Files\\Java\\jre1.8(or)1.6(or)1.7\\bin**\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand paste it inside Eclipse folder\r\nwhere eclipse.exe is there. That&#39;s all.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pJqBe.png\r\n  [2]: https://i.stack.imgur.com/RfyDO.png","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Copy javaw.exe from <strong>C:\\Program Files\\Java\\jre1.8(or)1.6(or)1.7\\bin</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/pJqBe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pJqBe.png\" alt=\"enter image description here\"></a></p>\n\n<p>and paste it inside Eclipse folder\nwhere eclipse.exe is there. That's all.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RfyDO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RfyDO.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5980748,"reputation":624,"user_id":4699904,"display_name":"Fran Raga"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494018712,"creation_date":1494018712,"answer_id":43813804,"question_id":4419983,"body_markdown":"Is so simple,only add your java path for example:\r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_121\\bin\r\n\r\nin **PATH** system variable ","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Is so simple,only add your java path for example:</p>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.8.0_121\\bin</p>\n</blockquote>\n\n<p>in <strong>PATH</strong> system variable </p>\n"},{"tags":[],"owner":{"account_id":1838348,"reputation":2152,"user_id":1668274,"display_name":"Pawan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532578921,"creation_date":1532578921,"answer_id":51530953,"question_id":4419983,"body_markdown":"Just to add on top of other answers:\r\n\r\nWindows Users: You can give the PATH to JRE in eclipse.ini separated by &#39;/&#39; or &#39;\\&#39;. It doesn&#39;t matter. Eclipse will pick it anyway. For example, in my windows system, either of the paths is fine (after -vm of course):\r\n\r\n\r\nC:/Program Files/Java/jre1.8.0_181/bin\r\nor C:\\Program Files\\Java\\jre1.8.0_181\\bin","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Just to add on top of other answers:</p>\n\n<p>Windows Users: You can give the PATH to JRE in eclipse.ini separated by '/' or '\\'. It doesn't matter. Eclipse will pick it anyway. For example, in my windows system, either of the paths is fine (after -vm of course):</p>\n\n<p>C:/Program Files/Java/jre1.8.0_181/bin\nor C:\\Program Files\\Java\\jre1.8.0_181\\bin</p>\n"},{"tags":[],"owner":{"account_id":7938451,"reputation":652,"user_id":5993488,"display_name":"Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549357941,"creation_date":1549357941,"answer_id":54530939,"question_id":4419983,"body_markdown":"Its simple.\r\nJDK bin directory or JRE bin directory should be in path variable\r\n**Example :**\r\n**Java Installed directory:**\r\nAssume your java installed in &#39;*C:\\Program Files\\java\\Jdk1.8.0_144*&#39; directory\r\nNow you can find bin directory in &#39;*C:\\Program Files\\java\\Jdk1.8.0_144\\bin*&#39;\r\n\r\nNavigate to user&#39;s environment variable\r\n\r\n    Control Panel --&gt; User Accounts --&gt; User Accounts --&gt; Change my environment variables\r\n\r\nIn popup click **Path** under **User variables for &lt;username&gt;** section\r\nClick **Edit...** button and another popup will appear\r\n\r\nClick **New** button and enter *C:\\Program Files\\java\\Jdk1.8.0_144\\bin*\r\n\r\nClick **OK** button and again **OK** button in Environment variables popup.\r\n\r\nNow you can open your eclipse without error\r\n\r\n","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Its simple.\nJDK bin directory or JRE bin directory should be in path variable\n<strong>Example :</strong>\n<strong>Java Installed directory:</strong>\nAssume your java installed in '<em>C:\\Program Files\\java\\Jdk1.8.0_144</em>' directory\nNow you can find bin directory in '<em>C:\\Program Files\\java\\Jdk1.8.0_144\\bin</em>'</p>\n\n<p>Navigate to user's environment variable</p>\n\n<pre><code>Control Panel --&gt; User Accounts --&gt; User Accounts --&gt; Change my environment variables\n</code></pre>\n\n<p>In popup click <strong>Path</strong> under <strong>User variables for </strong> section\nClick <strong>Edit...</strong> button and another popup will appear</p>\n\n<p>Click <strong>New</strong> button and enter <em>C:\\Program Files\\java\\Jdk1.8.0_144\\bin</em></p>\n\n<p>Click <strong>OK</strong> button and again <strong>OK</strong> button in Environment variables popup.</p>\n\n<p>Now you can open your eclipse without error</p>\n"},{"tags":[],"owner":{"account_id":11088478,"reputation":53,"user_id":8141279,"display_name":"Pruthvi Lalji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549628020,"creation_date":1549625734,"answer_id":54591574,"question_id":4419983,"body_markdown":"I found a solution wherein the Eclipse.ini the location was the old version of Java, and after updating the new version of java the location of \r\n-vm\r\n\r\n`C:\\Program Files\\Java\\jre1.8.0_201\\bin `\r\n\r\nwas same so I had to change the directory to my new version of Java.\r\n\r\nSo solution is to just open the most updated Java version and copying its directory path and replacing it in the Eclipse.ini file.\r\n","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I found a solution wherein the Eclipse.ini the location was the old version of Java, and after updating the new version of java the location of \n-vm</p>\n\n<p><code>C:\\Program Files\\Java\\jre1.8.0_201\\bin</code></p>\n\n<p>was same so I had to change the directory to my new version of Java.</p>\n\n<p>So solution is to just open the most updated Java version and copying its directory path and replacing it in the Eclipse.ini file.</p>\n"},{"tags":[],"owner":{"account_id":5036338,"reputation":1142,"user_id":4044987,"display_name":"Sumanth Varada"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553236981,"creation_date":1553236981,"answer_id":55294196,"question_id":4419983,"body_markdown":"I have faced the similar issue earlier with Eclipse and STS IDE&#39;S\r\n\r\n - Please check weather `JDK/JRE` is available or not in your machine. If not please install JDK and setup the environment variables.\r\n - Even after step 1, if you are still facing the issue then it&#39;s time to set the vm argument in `eclipse.ini` or sts.ini in the following way.\r\n\r\n&gt;     -vm \r\n&gt;     C:Program Files (x86)\\Java\\jre8\\bin","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I have faced the similar issue earlier with Eclipse and STS IDE'S</p>\n\n<ul>\n<li>Please check weather <code>JDK/JRE</code> is available or not in your machine. If not please install JDK and setup the environment variables.</li>\n<li>Even after step 1, if you are still facing the issue then it's time to set the vm argument in <code>eclipse.ini</code> or sts.ini in the following way.</li>\n</ul>\n\n<blockquote>\n<pre><code>-vm \nC:Program Files (x86)\\Java\\jre8\\bin\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1811993,"reputation":888,"user_id":1647851,"accept_rate":85,"display_name":"null"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556000219,"creation_date":1556000219,"answer_id":55805342,"question_id":4419983,"body_markdown":"Moderately future proof example for Linux-like systems. Assuming javac installed and on your path.\r\n\r\n./eclipse -vm `dirname $(readlink -f $(which javac))`\r\n\r\nThis will find the directory where javac is installed, and pass as vm argument to eclipse.\r\n\r\n","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Moderately future proof example for Linux-like systems. Assuming javac installed and on your path.</p>\n\n<p>./eclipse -vm <code>dirname $(readlink -f $(which javac))</code></p>\n\n<p>This will find the directory where javac is installed, and pass as vm argument to eclipse.</p>\n"},{"comments":[{"owner":{"account_id":1445276,"reputation":8644,"user_id":1364007,"display_name":"Wai Ha Lee"},"score":0,"creation_date":1569493130,"post_id":58114509,"comment_id":102618562,"body_markdown":"This appears to be what numerous answers say (e.g. [1](https://stackoverflow.com/a/14190079/1364007), [2](https://stackoverflow.com/a/43246567/1364007), [3](https://stackoverflow.com/a/54530939/1364007)).","body":"This appears to be what numerous answers say (e.g. <a href=\"https://stackoverflow.com/a/14190079/1364007\">1</a>, <a href=\"https://stackoverflow.com/a/43246567/1364007\">2</a>, <a href=\"https://stackoverflow.com/a/54530939/1364007\">3</a>)."}],"tags":[],"owner":{"account_id":13636965,"reputation":339,"user_id":9837752,"display_name":"rubal islam"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1569492720,"creation_date":1569492720,"answer_id":58114509,"question_id":4419983,"body_markdown":"C:\\Program Files\\Java\\jre1.8.0_221\\bin \r\nworked for me","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>C:\\Program Files\\Java\\jre1.8.0_221\\bin \nworked for me</p>\n"},{"tags":[],"owner":{"account_id":1482742,"reputation":3434,"user_id":6680585,"accept_rate":84,"display_name":"Tom Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573145105,"creation_date":1573145105,"answer_id":58753425,"question_id":4419983,"body_markdown":"Change the vm value in eclipse.ini file with the correct path to your JDK something like this,\r\n\r\n&gt; -vm /Library/Java/JavaVirtualMachines/jdk-11.0.5.jdk/Contents/Home/bin\r\n\r\nPath to **eclipse.ini** looks to me something like this,\r\n\r\n`/Users/tomcat/eclipse/jee-2018-09/Eclipse.app/Contents/Eclipse`","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Change the vm value in eclipse.ini file with the correct path to your JDK something like this,</p>\n\n<blockquote>\n  <p>-vm /Library/Java/JavaVirtualMachines/jdk-11.0.5.jdk/Contents/Home/bin</p>\n</blockquote>\n\n<p>Path to <strong>eclipse.ini</strong> looks to me something like this,</p>\n\n<p><code>/Users/tomcat/eclipse/jee-2018-09/Eclipse.app/Contents/Eclipse</code></p>\n"},{"tags":[],"owner":{"account_id":14324735,"reputation":33,"user_id":10347136,"display_name":"Golovkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601822484,"creation_date":1576909587,"answer_id":59433980,"question_id":4419983,"body_markdown":"This sometimes happen if you remove Java from your path variables.\r\nTo set the PATH variable again, add the full path of the jdk\\bin directory to the PATH variable. Typically, the full path is:\r\n\r\nC:\\Program Files\\Java\\jdk-11\\bin\r\n\r\nTo set the PATH variable on Microsoft Windows:\r\n\r\n 1. Select Control Panel and then System.\r\n 2. Click Advanced and then Environment Variables.\r\n 3. Add the location of the bin folder of the JDK installation to the\r\n    PATH variable in system variables.","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>This sometimes happen if you remove Java from your path variables.\nTo set the PATH variable again, add the full path of the jdk\\bin directory to the PATH variable. Typically, the full path is:</p>\n<p>C:\\Program Files\\Java\\jdk-11\\bin</p>\n<p>To set the PATH variable on Microsoft Windows:</p>\n<ol>\n<li>Select Control Panel and then System.</li>\n<li>Click Advanced and then Environment Variables.</li>\n<li>Add the location of the bin folder of the JDK installation to the\nPATH variable in system variables.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3032157,"reputation":40061,"user_id":4561887,"accept_rate":73,"display_name":"Gabriel Staples"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578275430,"creation_date":1578275430,"answer_id":59605817,"question_id":4419983,"body_markdown":"If on Linux (ex: Ubuntu 18), try installing (or reinstalling in your case?) `default-jre`, as follows:\r\n\r\n    sudo apt update\r\n    sudo apt install default-jre\r\n\r\nI had the same error when just trying to run the Eclipse installer (`./eclipse-inst`) on a fresh [Eclipse download][1] just now, and the installer wouldn&#39;t even run! Installing `default-jre` solved it!\r\n\r\n# Source: \r\n- https://linux4one.com/how-to-install-eclipse-ide-on-ubuntu-18-04/\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>If on Linux (ex: Ubuntu 18), try installing (or reinstalling in your case?) <code>default-jre</code>, as follows:</p>\n\n<pre><code>sudo apt update\nsudo apt install default-jre\n</code></pre>\n\n<p>I had the same error when just trying to run the Eclipse installer (<code>./eclipse-inst</code>) on a fresh <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">Eclipse download</a> just now, and the installer wouldn't even run! Installing <code>default-jre</code> solved it!</p>\n\n<h1>Source:</h1>\n\n<ul>\n<li><a href=\"https://linux4one.com/how-to-install-eclipse-ide-on-ubuntu-18-04/\" rel=\"nofollow noreferrer\">https://linux4one.com/how-to-install-eclipse-ide-on-ubuntu-18-04/</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8554136,"reputation":137,"user_id":6410233,"display_name":"Idan"},"score":2,"creation_date":1605795586,"post_id":59841260,"comment_id":114766035,"body_markdown":"This is a great answer, I would recommend open this .ini file with a text editor like Notepad++ for better readability.","body":"This is a great answer, I would recommend open this .ini file with a text editor like Notepad++ for better readability."}],"tags":[],"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1579609965,"creation_date":1579609965,"answer_id":59841260,"question_id":4419983,"body_markdown":"I got this problem because i uninstalled the **jdk version 13** and reinstall the j**dk version 8**\r\n\r\nEven though i have updated the path variables **eclipse** still pick the old configuration.\r\n\r\nYou need to edit the eclipse.ini file which is in your folder where **eclipse.exe** is placed.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/rogFO.png\r\n\r\nJust update this file with the latest path so eclipse can pick it up\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [2]: https://i.stack.imgur.com/zFUPh.png","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I got this problem because i uninstalled the <strong>jdk version 13</strong> and reinstall the j<strong>dk version 8</strong></p>\n\n<p>Even though i have updated the path variables <strong>eclipse</strong> still pick the old configuration.</p>\n\n<p>You need to edit the eclipse.ini file which is in your folder where <strong>eclipse.exe</strong> is placed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rogFO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rogFO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Just update this file with the latest path so eclipse can pick it up</p>\n\n<p><a href=\"https://i.stack.imgur.com/zFUPh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zFUPh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3645558,"reputation":198,"user_id":3038660,"display_name":"Mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583220096,"creation_date":1583220096,"answer_id":60501983,"question_id":4419983,"body_markdown":"In my case I had edited the eclipse.ini for a different purpose to include -vm parameter. That was causing the failure. I removed the -vm and following line where I had included &lt;path_to_jre&gt;\\bin and that fixed the problem.  ","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>In my case I had edited the eclipse.ini for a different purpose to include -vm parameter. That was causing the failure. I removed the -vm and following line where I had included \\bin and that fixed the problem.  </p>\n"},{"tags":[],"owner":{"account_id":11847624,"reputation":941,"user_id":8669765,"display_name":"Shashank Bodkhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671688197,"creation_date":1671688197,"answer_id":74884585,"question_id":4419983,"body_markdown":"I got ERROR:\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\nRESOLUTION : \r\n1) in file eclipse.ini at below location :\r\n[![enter image description here][2]][2]\r\n\r\n\r\n2) make change as : \r\n-vm\r\nC:/Program Files/Java/jdk1.8.0_251/jre/bin/server/jvm.dll\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5JrQ1.png\r\n  [2]: https://i.stack.imgur.com/KnDyi.png\r\n  [3]: https://i.stack.imgur.com/I5XHX.png\r\n\r\nRestart eclipse and error will be resolved","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>I got ERROR:</p>\n<p><a href=\"https://i.stack.imgur.com/5JrQ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5JrQ1.png\" alt=\"enter image description here\" /></a></p>\n<p>RESOLUTION :</p>\n<ol>\n<li><p>in file eclipse.ini at below location :\n<a href=\"https://i.stack.imgur.com/KnDyi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KnDyi.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>make change as :\n-vm\nC:/Program Files/Java/jdk1.8.0_251/jre/bin/server/jvm.dll</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/I5XHX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I5XHX.png\" alt=\"enter image description here\" /></a></p>\n<p>Restart eclipse and error will be resolved</p>\n"}],"owner":{"account_id":687239,"reputation":1791,"user_id":539282,"display_name":"David Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458263,"favorite_count":0,"down_vote_count":0,"up_vote_count":156,"answer_count":28,"score":156,"last_activity_date":1671688197,"creation_date":1292117864,"question_id":4419983,"body_markdown":"Eclipse is unable to open, have used eclipse before and has open before without a problem. Now I keep getting the following error message:\r\n\r\n&gt; A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\r\n\r\nHave gotten eclipse to open and work on projects before and won&#39;t open.\r\n\r\nHere is a screen shot of what I keep getting:\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/ltK2g.png\r\n","title":"A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations","body":"<p>Eclipse is unable to open, have used eclipse before and has open before without a problem. Now I keep getting the following error message:</p>\n\n<blockquote>\n  <p>A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:</p>\n</blockquote>\n\n<p>Have gotten eclipse to open and work on projects before and won't open.</p>\n\n<p>Here is a screen shot of what I keep getting:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ltK2g.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":2846782,"reputation":417,"user_id":2444937,"accept_rate":50,"display_name":"The Tosters"},"score":0,"creation_date":1669021078,"post_id":74261951,"comment_id":131539263,"body_markdown":"Please refer to https://github.com/spring-projects/spring-boot/issues/26214#issuecomment-856214007 I think it may be your case","body":"Please refer to <a href=\"https://github.com/spring-projects/spring-boot/issues/26214#issuecomment-856214007\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/&hellip;</a> I think it may be your case"},{"owner":{"account_id":5777193,"reputation":359,"user_id":4558946,"accept_rate":29,"display_name":"Prashant Thorat"},"score":0,"creation_date":1669101168,"post_id":74261951,"comment_id":131560682,"body_markdown":"one more point to note that when I switch to singletone resttemplate instance then this issue did not happen anymore. But  when we created separate instance of resttemplate for each request then it was started giving too many open file issue.","body":"one more point to note that when I switch to singletone resttemplate instance then this issue did not happen anymore. But  when we created separate instance of resttemplate for each request then it was started giving too many open file issue."}],"answers":[{"tags":[],"owner":{"account_id":5777193,"reputation":359,"user_id":4558946,"accept_rate":29,"display_name":"Prashant Thorat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671688007,"creation_date":1671688007,"answer_id":74884560,"question_id":74261951,"body_markdown":"It was strange but finally I resolved this issue by using singleton RestTemplate and singleton resttemplate builder.\r\n\r\nWhile using new resttemplate instance created from rest template builder, it creates some **connection pooling for each request** and those connections aren&#39;t closed by default.","title":"Too many open files; nested exception is java.net.SocketException","body":"<p>It was strange but finally I resolved this issue by using singleton RestTemplate and singleton resttemplate builder.</p>\n<p>While using new resttemplate instance created from rest template builder, it creates some <strong>connection pooling for each request</strong> and those connections aren't closed by default.</p>\n"}],"owner":{"account_id":5777193,"reputation":359,"user_id":4558946,"accept_rate":29,"display_name":"Prashant Thorat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671688007,"creation_date":1667212315,"question_id":74261951,"body_markdown":"In my current spring boot based, project we are getting error in production environment as **&quot;Too many open files; nested exception is java.net.SocketException:&quot;**  \r\n\r\n    Too many open files; nested exception is java.net.SocketException: Too\r\n    many open files\r\n    java.net.SocketException: Too many open files\r\n         at java.net.Socket.createImpl(Socket.java:460)\r\n         at java.net.Socket.connect(Socket.java:587)\r\n         at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:673)\r\n         at\r\n    sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:173)\r\n         at sun.net.NetworkClient.doConnect(NetworkClient.java:180)\r\n         at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)\r\n         at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)\r\n         at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\r\n         at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\r\n\r\n \r\n\r\nThis error appears when we make http call to another micro service based rest api in same network with resttemplate library. Recently we have modified resttemplate to add timeout in it, I suspect some issue might be there in code. I have added the bean defination logic/code below. Any help will be appreciated. Note that I already referenced another stackoverflow question for same error but that did not help.\r\n\r\n\r\nHere, we make restTemplate.exchange method call from caller service in order to make http call to another service.\r\n\r\n**Question: is there any problem with below configuration ?**\r\n\r\nWe are calling this method to get resttemplate instance for each request. One more point to note that when I use singleton or single instance of restmplate for all requests then this issue was not seen anymore.\r\n\r\n```\r\n public RestTemplate getRestTemplate(int timeoutMs) {\r\n    \tRestTemplate restTemplate = restTemplateBuilder.build();\r\n    \tSimpleClientHttpRequestFactory clientHttpRequestFactory = new SimpleClientHttpRequestFactory();\r\n    \tclientHttpRequestFactory.setConnectTimeout(timeoutMs);\r\n    \tclientHttpRequestFactory.setReadTimeout(timeoutMs);\r\n    \trestTemplate.setRequestFactory(clientHttpRequestFactory);\r\n    \trestTemplate.setInterceptors(Collections.singletonList(appClientInterceptor));\r\n    \trestTemplate.setErrorHandler(appClientErrorHanlder);\r\n    \treturn restTemplate;\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\nFew details about environment is as below :&lt;br&gt;\r\nSpring boot version: 1.5.8 &lt;br&gt;\r\nJava version: 1.8&lt;br&gt;\r\nOS: Linux&lt;br&gt;\r\n","title":"Too many open files; nested exception is java.net.SocketException","body":"<p>In my current spring boot based, project we are getting error in production environment as <strong>&quot;Too many open files; nested exception is java.net.SocketException:&quot;</strong></p>\n<pre><code>Too many open files; nested exception is java.net.SocketException: Too\nmany open files\njava.net.SocketException: Too many open files\n     at java.net.Socket.createImpl(Socket.java:460)\n     at java.net.Socket.connect(Socket.java:587)\n     at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:673)\n     at\nsun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:173)\n     at sun.net.NetworkClient.doConnect(NetworkClient.java:180)\n     at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)\n     at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)\n     at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\n     at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\n</code></pre>\n<p>This error appears when we make http call to another micro service based rest api in same network with resttemplate library. Recently we have modified resttemplate to add timeout in it, I suspect some issue might be there in code. I have added the bean defination logic/code below. Any help will be appreciated. Note that I already referenced another stackoverflow question for same error but that did not help.</p>\n<p>Here, we make restTemplate.exchange method call from caller service in order to make http call to another service.</p>\n<p><strong>Question: is there any problem with below configuration ?</strong></p>\n<p>We are calling this method to get resttemplate instance for each request. One more point to note that when I use singleton or single instance of restmplate for all requests then this issue was not seen anymore.</p>\n<pre><code> public RestTemplate getRestTemplate(int timeoutMs) {\n        RestTemplate restTemplate = restTemplateBuilder.build();\n        SimpleClientHttpRequestFactory clientHttpRequestFactory = new SimpleClientHttpRequestFactory();\n        clientHttpRequestFactory.setConnectTimeout(timeoutMs);\n        clientHttpRequestFactory.setReadTimeout(timeoutMs);\n        restTemplate.setRequestFactory(clientHttpRequestFactory);\n        restTemplate.setInterceptors(Collections.singletonList(appClientInterceptor));\n        restTemplate.setErrorHandler(appClientErrorHanlder);\n        return restTemplate;\n    }\n\n\n\n</code></pre>\n<p>Few details about environment is as below :<br>\nSpring boot version: 1.5.8 <br>\nJava version: 1.8<br>\nOS: Linux<br></p>\n"},{"tags":["java","android","bitmap","retrofit","bitmapfactory"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1671696445,"post_id":74884242,"comment_id":132154984,"body_markdown":"Why do you try to convert an inputstream to bitmap?","body":"Why do you try to convert an inputstream to bitmap?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671696522,"post_id":74884242,"comment_id":132155005,"body_markdown":"And what is it that you want to do with the bitmap?","body":"And what is it that you want to do with the bitmap?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671696567,"post_id":74884242,"comment_id":132155018,"body_markdown":"And how does your imgUri look like.?","body":"And how does your imgUri look like.?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671696720,"post_id":74884242,"comment_id":132155060,"body_markdown":"Which &#39;request&#39;  is is in your POST request?","body":"Which &#39;request&#39;  is is in your POST request?"},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1671697330,"post_id":74884242,"comment_id":132155213,"body_markdown":"Thank you for your question, there are my answers, I want to convert to byte[] and store them in the sqllite databse,","body":"Thank you for your question, there are my answers, I want to convert to byte[] and store them in the sqllite databse,"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1671697667,"post_id":74884242,"comment_id":132155323,"body_markdown":"You have put the `InputStream` in the request body. Then you try to read the `InputStream` to Bitmap. This will make the `InputStream` invalid so on your next step sending the API will be failed.","body":"You have put the <code>InputStream</code> in the request body. Then you try to read the <code>InputStream</code> to Bitmap. This will make the <code>InputStream</code> invalid so on your next step sending the API will be failed."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1671697827,"post_id":74884242,"comment_id":132155366,"body_markdown":"So I guess @blackapps is asking why you start to decode your input stream in to bitmap in the middle of your API call. If you decides to use `InputStream` to do many tasks (e.g., API call first, then have a glance on the stream and at least save it to DB), you shall retain a deep copy of it for every single tasks.","body":"So I guess @blackapps is asking why you start to decode your input stream in to bitmap in the middle of your API call. If you decides to use <code>InputStream</code> to do many tasks (e.g., API call first, then have a glance on the stream and at least save it to DB), you shall retain a deep copy of it for every single tasks."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1671698165,"post_id":74884242,"comment_id":132155454,"body_markdown":"So I believe you are asking &quot;How do I deep clone an InputStream without consuming it&quot;","body":"So I believe you are asking &quot;How do I deep clone an InputStream without consuming it&quot;"}],"answers":[{"comments":[{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1671690046,"post_id":74884506,"comment_id":132153616,"body_markdown":"Thanks for your response, what is the URL here, Base Url ?","body":"Thanks for your response, what is the URL here, Base Url ?"},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1671690150,"post_id":74884506,"comment_id":132153636,"body_markdown":"your Image URL @Prasath","body":"your Image URL @Prasath"}],"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671687561,"creation_date":1671687561,"answer_id":74884506,"question_id":74884242,"body_markdown":"Try this once \r\n\r\n    URL url = new URL(//your URL//);\r\n     try { \r\n    HttpURLConnection connection  = (HttpURLConnection) url.openConnection();\r\n    \r\n    InputStream is = connection.getInputStream();\r\n     } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    //YOUR CODE\r\n    \r\n    Bitmap img = BitmapFactory.decodeStream(is, null, options);","title":"API request returning error code 400, when i try to decode the InputStream to Bitmap before the Retrofit enqueue","body":"<p>Try this once</p>\n<pre><code>URL url = new URL(//your URL//);\n try { \nHttpURLConnection connection  = (HttpURLConnection) url.openConnection();\n\nInputStream is = connection.getInputStream();\n } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n//YOUR CODE\n\nBitmap img = BitmapFactory.decodeStream(is, null, options);\n</code></pre>\n"}],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671687561,"creation_date":1671684738,"question_id":74884242,"body_markdown":"I&#39;m trying to send the POST API request to the Server like below and I&#39;m getting the successful response `code - 200`, but when I try to decode the InputStream to Bitmap, then only the API requests get failed status `code - 400`, what went wrong with this approach \r\n\r\n\r\n\r\n                    \r\n\r\n       InputStream inputStream = null;\r\n\r\n                    try {\r\n                        inputStream = getContentResolver().openInputStream(imgUri);\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    RequestBody requestBody = RequestBodyUtil.create(MediaType.get(&quot;image/&quot; + imgType), inputStream);\r\n              \r\n                    RequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n                            .addFormDataPart(&quot;messaging_product&quot;, help)\r\n                            .addFormDataPart(&quot;file&quot;, &quot;image/&quot; + imgType, requestBody)\r\n                            .addFormDataPart(&quot;type&quot;, &quot;image/&quot; + imgType)\r\n                            .build();\r\n        \r\n                    //---#####if I remove the below line, then everything working fine #####\r\n                    Bitmap bitmap=BitmapFactory.decodeStream(inputStream);\r\n                    Log.d(TAG, &quot;onClick: &quot;);\r\n\r\n\r\n                    Call&lt;ModelGraphResponse&gt; call = RetrofitInstance.getRetrofitClient().create(IService.class).uploadImageToGraph(name, body);\r\n                 \r\n                  \r\n                    call.enqueue(new Callback&lt;ModelGraphResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;ModelGraphResponse&gt; call, retrofit2.Response&lt;ModelGraphResponse&gt; response) {\r\n                            Log.d(TAG, &quot;onResponse: &quot;);\r\n                            if (response.isSuccessful()) {\r\n                               \r\n                            } else {\r\n                                                               }\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Call&lt;ModelGraphResponse&gt; call, Throwable t) {\r\n                            Log.d(TAG, &quot;onFailure: &quot;);\r\n                            button.setVisibility(View.VISIBLE);\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                            textView.setText(&quot;Failed to Upload..&quot;);\r\n                        }\r\n                    });\r\n\r\n","title":"API request returning error code 400, when i try to decode the InputStream to Bitmap before the Retrofit enqueue","body":"<p>I'm trying to send the POST API request to the Server like below and I'm getting the successful response <code>code - 200</code>, but when I try to decode the InputStream to Bitmap, then only the API requests get failed status <code>code - 400</code>, what went wrong with this approach</p>\n<pre><code>   InputStream inputStream = null;\n\n                try {\n                    inputStream = getContentResolver().openInputStream(imgUri);\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n                RequestBody requestBody = RequestBodyUtil.create(MediaType.get(&quot;image/&quot; + imgType), inputStream);\n          \n                RequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n                        .addFormDataPart(&quot;messaging_product&quot;, help)\n                        .addFormDataPart(&quot;file&quot;, &quot;image/&quot; + imgType, requestBody)\n                        .addFormDataPart(&quot;type&quot;, &quot;image/&quot; + imgType)\n                        .build();\n    \n                //---#####if I remove the below line, then everything working fine #####\n                Bitmap bitmap=BitmapFactory.decodeStream(inputStream);\n                Log.d(TAG, &quot;onClick: &quot;);\n\n\n                Call&lt;ModelGraphResponse&gt; call = RetrofitInstance.getRetrofitClient().create(IService.class).uploadImageToGraph(name, body);\n             \n              \n                call.enqueue(new Callback&lt;ModelGraphResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;ModelGraphResponse&gt; call, retrofit2.Response&lt;ModelGraphResponse&gt; response) {\n                        Log.d(TAG, &quot;onResponse: &quot;);\n                        if (response.isSuccessful()) {\n                           \n                        } else {\n                                                           }\n\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;ModelGraphResponse&gt; call, Throwable t) {\n                        Log.d(TAG, &quot;onFailure: &quot;);\n                        button.setVisibility(View.VISIBLE);\n                        progressBar.setVisibility(View.INVISIBLE);\n                        textView.setText(&quot;Failed to Upload..&quot;);\n                    }\n                });\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":6625979,"reputation":102,"user_id":5116205,"accept_rate":60,"display_name":"sotocast"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1583243665,"creation_date":1583243665,"answer_id":60508790,"question_id":55929114,"body_markdown":"You must remove `query.execute();` \r\nfrom your code;\r\nwhen using `REF_CURSOR` and to get the data you must use `query.getSingleResult()` or `query.getResultList();`\r\nIf there are output parameters, they must be accessed after this line. \r\nUse `query.execute()` or `query.executeUpdate()` when `resultSet` is not used.","title":"Session/EntityManager Closed when using StoredProcedureQuery","body":"<p>You must remove <code>query.execute();</code> \nfrom your code;\nwhen using <code>REF_CURSOR</code> and to get the data you must use <code>query.getSingleResult()</code> or <code>query.getResultList();</code>\nIf there are output parameters, they must be accessed after this line. \nUse <code>query.execute()</code> or <code>query.executeUpdate()</code> when <code>resultSet</code> is not used.</p>\n"},{"tags":[],"owner":{"account_id":3232747,"reputation":229,"user_id":2727610,"display_name":"Vivek Adhikari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671687349,"creation_date":1671687349,"answer_id":74884477,"question_id":55929114,"body_markdown":"Please also make sure this is running in same transaction.\r\n\r\n   \r\n\r\n      @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n         public List&lt;Employee&gt; get(String employeeId) {","title":"Session/EntityManager Closed when using StoredProcedureQuery","body":"<p>Please also make sure this is running in same transaction.</p>\n<pre><code>  @Transactional(propagation = Propagation.REQUIRES_NEW)\n     public List&lt;Employee&gt; get(String employeeId) {\n</code></pre>\n"}],"owner":{"account_id":5864977,"reputation":61,"user_id":4619274,"accept_rate":100,"display_name":"Oku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60508790,"answer_count":2,"score":2,"last_activity_date":1671687349,"creation_date":1556661151,"question_id":55929114,"body_markdown":"I&#39;m getting an error\r\n\r\n&gt; IllegalStateException: Session/EntityManager is closed\r\n\r\nwhen using `StoredProcedureQuery` with Oracle stored procedure and `SYS_REFCURSOR`.\r\n\r\nUsing Spring Boot + spring-boot-starter-data-jpa\r\n\r\n\r\n    @Repository\r\n    public class HibernateTestingDao implements CommandLineRunner {\r\n    \r\n    ...\r\n    \r\n        /**\r\n    \t * Conector con la base de datos\r\n    \t */\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t/**\r\n    \t * Properties\r\n    \t */\r\n    \t@Autowired\r\n    \tprivate CustomYMLFile properties;\r\n    \r\n    \t/**\r\n    \t * Ejecucion automatica\r\n    \t */\r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n    \t\tlog.info(&quot;Iniciando la Ejecucion&quot;);\r\n    \r\n    \t\tprocedureSalidaCursor();\r\n    \r\n    \t\tlog.info(&quot;La ejecucion del proceso ha finalizado&quot;);\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Salida Cursor\r\n    \t */\r\n    \tprivate void procedureSalidaCursor() {\r\n    \r\n    \t\tlog.info(&quot;Conectando al procedure : &quot; + properties.getProcedureSalidaCursor());\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\t\r\n    \t\t\tDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\t\tjava.sql.Date fechaQuery = new java.sql.Date(df.parse(&quot;2017-07-17&quot;).getTime());\r\n    \r\n    \t\t\tStoredProcedureQuery query = entityManager\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * Procedure a llamar\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\t.createStoredProcedureQuery(properties.getProcedureSalidaCursor())\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * Entradas\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\t.registerStoredProcedureParameter(1, Date.class, ParameterMode.IN)\r\n    \t\t\t\t\t.registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * Salidas\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\t.registerStoredProcedureParameter(3, void.class, ParameterMode.REF_CURSOR)\r\n    \r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * Parametros de entrada\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\t.setParameter(1, fechaQuery) // FECHA\r\n    \t\t\t\t\t.setParameter(2, &quot;77647538&quot;); // RUT\r\n    \r\n    \t\t\tlog.info(&quot;Ejecutando Procedure&quot;);\r\n    \t\t\tquery.execute();\r\n    \t\t\tlog.info(&quot;Procedure Ejecutado&quot;);\r\n    \r\n    \t\t\tList&lt;Object[]&gt; results = query.getResultList();\r\n    \r\n    \t\t\tlog.info(&quot;Parametros obtenidos correctamente&quot;);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Error al consultar BD , Detalle &gt; &quot;, e);\r\n    \t\t}\r\n    \t}\r\n        ....\r\n      }\r\n\r\nI got the exception when I&#39;m doing this: \r\n\r\n    List&lt;Object[]&gt; results = query.getResultList();\r\n\r\nIf i use the same method but with procedures that has individual outputs everything is fine. but i got this exception with cursors.\r\n\r\ngithub project: https://github.com/betray32/HibernateSpring\r\n\r\n","title":"Session/EntityManager Closed when using StoredProcedureQuery","body":"<p>I'm getting an error</p>\n\n<blockquote>\n  <p>IllegalStateException: Session/EntityManager is closed</p>\n</blockquote>\n\n<p>when using <code>StoredProcedureQuery</code> with Oracle stored procedure and <code>SYS_REFCURSOR</code>.</p>\n\n<p>Using Spring Boot + spring-boot-starter-data-jpa</p>\n\n<pre><code>@Repository\npublic class HibernateTestingDao implements CommandLineRunner {\n\n...\n\n    /**\n     * Conector con la base de datos\n     */\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    /**\n     * Properties\n     */\n    @Autowired\n    private CustomYMLFile properties;\n\n    /**\n     * Ejecucion automatica\n     */\n    @Override\n    public void run(String... args) throws Exception {\n\n        log.info(\"Iniciando la Ejecucion\");\n\n        procedureSalidaCursor();\n\n        log.info(\"La ejecucion del proceso ha finalizado\");\n\n    }\n\n    /**\n     * Salida Cursor\n     */\n    private void procedureSalidaCursor() {\n\n        log.info(\"Conectando al procedure : \" + properties.getProcedureSalidaCursor());\n\n        try {\n\n\n            DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n            java.sql.Date fechaQuery = new java.sql.Date(df.parse(\"2017-07-17\").getTime());\n\n            StoredProcedureQuery query = entityManager\n                    /*\n                     * Procedure a llamar\n                     */\n                    .createStoredProcedureQuery(properties.getProcedureSalidaCursor())\n                    /*\n                     * Entradas\n                     */\n                    .registerStoredProcedureParameter(1, Date.class, ParameterMode.IN)\n                    .registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\n                    /*\n                     * Salidas\n                     */\n                    .registerStoredProcedureParameter(3, void.class, ParameterMode.REF_CURSOR)\n\n                    /*\n                     * Parametros de entrada\n                     */\n                    .setParameter(1, fechaQuery) // FECHA\n                    .setParameter(2, \"77647538\"); // RUT\n\n            log.info(\"Ejecutando Procedure\");\n            query.execute();\n            log.info(\"Procedure Ejecutado\");\n\n            List&lt;Object[]&gt; results = query.getResultList();\n\n            log.info(\"Parametros obtenidos correctamente\");\n\n        } catch (Exception e) {\n            log.error(\"Error al consultar BD , Detalle &gt; \", e);\n        }\n    }\n    ....\n  }\n</code></pre>\n\n<p>I got the exception when I'm doing this: </p>\n\n<pre><code>List&lt;Object[]&gt; results = query.getResultList();\n</code></pre>\n\n<p>If i use the same method but with procedures that has individual outputs everything is fine. but i got this exception with cursors.</p>\n\n<p>github project: <a href=\"https://github.com/betray32/HibernateSpring\" rel=\"nofollow noreferrer\">https://github.com/betray32/HibernateSpring</a></p>\n"},{"tags":["java","spring-boot","maven","post","mysql-workbench"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671624318,"post_id":74875579,"comment_id":132137916,"body_markdown":"Condition is a reserved word in MySQL","body":"Condition is a reserved word in MySQL"}],"owner":{"account_id":27316717,"reputation":1,"user_id":20831089,"display_name":"Damian Azteca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671687278,"creation_date":1671623076,"question_id":74875579,"body_markdown":"I created a database with MySQL, thereafter I created Java Backend, MySQL database can be seen in the following screenshot:\r\n[MySQL Database](https://i.stack.imgur.com/qaK4z.png)\r\nEverything worked until I tried to post a new book to books table using from postman using my backend. Books table is defined like this:\r\n[Books table](https://i.stack.imgur.com/QxZrI.png).\r\nAs it failed time after time I decided to keep only the first attribute and go adding the next one and so on in order to check which one was failing, it worked until I got to &quot;condition&quot; attibute, then it was when I got again the 500 error. if you see my backend:\r\n\r\n```\r\npackage com.castellar.carlos.picon;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Table(name =&quot;books&quot;)\r\n@Entity\r\npublic class Books {\r\n\r\n    @Id\r\n    //@GeneratedValue(strategy = GenerationType.AUTO)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int books_id;\r\n\r\n    private String title;\r\n    private int year;\r\n    private float price;\r\n    private String description;\r\n    private String condition;\r\n    /*private String plot;\r\n    private String cover;\r\n    private int language_id;*/\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name =&quot;language_id&quot;, insertable = false, updatable = false)\r\n    private Language language;\r\n    public Books(String title, int year ,float price, String description, String condition/*,\r\n                 String plot, String cover,  int language_id*/){\r\n\r\n        this.title = title;\r\n        this.year = year;\r\n        this.price = price;\r\n        this.description = description;\r\n        this.condition = condition;\r\n        /*this.plot =plot;\r\n        this.cover = cover;\r\n        this.language_id = language_id;\r\n         */\r\n\r\n    }\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinTable(name = &quot;books_has_author&quot;,\r\n            joinColumns = {\r\n                    @JoinColumn(name = &quot;books_id&quot;, referencedColumnName = &quot;books_id&quot;,\r\n                            nullable = false, updatable = false)},\r\n            inverseJoinColumns = {\r\n                    @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;author_id&quot;,\r\n                            nullable = false, updatable = false)})\r\n    private Set&lt;Author&gt; author = new HashSet&lt;&gt;();\r\n\r\n    public Set&lt;Author&gt; getAuthor() {\r\n\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(Set&lt;Author&gt; author) {\r\n        this.author = author;\r\n    }\r\n\r\n\r\n\r\n    public int getBooks_id() {\r\n        return books_id;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n\r\n    public void setPrice(float price) {\r\n       this.price = price;\r\n   }\r\n\r\n   public float getPrice() {\r\n       return price;\r\n   }\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n   public void setCondition(String condition) {\r\n       this.condition = condition;\r\n   }\r\n\r\n   public String getCondition() {\r\n       return condition;\r\n   }\r\n\r\n   /*public void setPlot(String plot) {\r\n       this.plot = plot;\r\n   }\r\n\r\n   public String getPlot() {\r\n       return plot;\r\n   }\r\n   public void setLanguage_id(int language_id) {\r\n       this.language_id = language_id;\r\n   }\r\n   public int getLanguage_id() {\r\n       return language_id;\r\n   }\r\n\r\n   public void setCover(String cover) {\r\n       this.cover = cover;\r\n   }\r\n   public String getCover() {\r\n       return cover;\r\n   }\r\n\r\n   public Language getLanguage() {\r\n       return language;\r\n   }\r\n\r\n   public void setLanguage(Language language) {\r\n       this.language = language;\r\n\r\n   }*/\r\n    public Books(){\r\n\r\n    }\r\n}\r\n\r\n```\r\ncondition is not different there than descripttion or title, which are also Strings, and in post method:\r\n\r\n```\r\n@PostMapping(&quot;/AddBooks&quot;)\r\npublic @ResponseBody\r\nString addBook(@RequestParam  String title , int year, float price ,String description,\r\n               String condition/*, String plot, String cover, int language_id*/){\r\n    Books addBook = new Books(title, year, price, description, condition/*, plot, cover, language_id*/);\r\n    booksRepository.save(addBook);\r\n    return save;\r\n}\r\n```\r\n\r\nEverything seems to be evenly done according to other variables, I can not see why adding condition attribute is provoking the error.\r\nthis the error in console:\r\n\r\n2022-12-21 11:35:57.319  WARN 7984 --- [nio-8090-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000\r\n2022-12-21 11:35:57.320 ERROR 7984 --- [nio-8090-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;condition, description, price, title, year) values (&#39;Best book ever&#39;, &#39;Best book&#39; at line 1\r\n2022-12-21 11:35:57.341 ERROR 7984 --- [nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement] with root cause\r\n\r\nAs I said, I was able to post a new book to database just adding title, year, price and description.\r\n\r\nI was expecting to be able to post a new book after calling post method from postman","title":"MySQL: Error 500, Spring-Boot, Java. &quot;You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version...&quot;","body":"<p>I created a database with MySQL, thereafter I created Java Backend, MySQL database can be seen in the following screenshot:\n<a href=\"https://i.stack.imgur.com/qaK4z.png\" rel=\"nofollow noreferrer\">MySQL Database</a>\nEverything worked until I tried to post a new book to books table using from postman using my backend. Books table is defined like this:\n<a href=\"https://i.stack.imgur.com/QxZrI.png\" rel=\"nofollow noreferrer\">Books table</a>.\nAs it failed time after time I decided to keep only the first attribute and go adding the next one and so on in order to check which one was failing, it worked until I got to &quot;condition&quot; attibute, then it was when I got again the 500 error. if you see my backend:</p>\n<pre><code>package com.castellar.carlos.picon;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Table(name =&quot;books&quot;)\n@Entity\npublic class Books {\n\n    @Id\n    //@GeneratedValue(strategy = GenerationType.AUTO)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int books_id;\n\n    private String title;\n    private int year;\n    private float price;\n    private String description;\n    private String condition;\n    /*private String plot;\n    private String cover;\n    private int language_id;*/\n\n    @ManyToOne\n    @JoinColumn(name =&quot;language_id&quot;, insertable = false, updatable = false)\n    private Language language;\n    public Books(String title, int year ,float price, String description, String condition/*,\n                 String plot, String cover,  int language_id*/){\n\n        this.title = title;\n        this.year = year;\n        this.price = price;\n        this.description = description;\n        this.condition = condition;\n        /*this.plot =plot;\n        this.cover = cover;\n        this.language_id = language_id;\n         */\n\n    }\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinTable(name = &quot;books_has_author&quot;,\n            joinColumns = {\n                    @JoinColumn(name = &quot;books_id&quot;, referencedColumnName = &quot;books_id&quot;,\n                            nullable = false, updatable = false)},\n            inverseJoinColumns = {\n                    @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;author_id&quot;,\n                            nullable = false, updatable = false)})\n    private Set&lt;Author&gt; author = new HashSet&lt;&gt;();\n\n    public Set&lt;Author&gt; getAuthor() {\n\n        return author;\n    }\n\n    public void setAuthor(Set&lt;Author&gt; author) {\n        this.author = author;\n    }\n\n\n\n    public int getBooks_id() {\n        return books_id;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n\n    public void setPrice(float price) {\n       this.price = price;\n   }\n\n   public float getPrice() {\n       return price;\n   }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public String getDescription() {\n        return description;\n    }\n   public void setCondition(String condition) {\n       this.condition = condition;\n   }\n\n   public String getCondition() {\n       return condition;\n   }\n\n   /*public void setPlot(String plot) {\n       this.plot = plot;\n   }\n\n   public String getPlot() {\n       return plot;\n   }\n   public void setLanguage_id(int language_id) {\n       this.language_id = language_id;\n   }\n   public int getLanguage_id() {\n       return language_id;\n   }\n\n   public void setCover(String cover) {\n       this.cover = cover;\n   }\n   public String getCover() {\n       return cover;\n   }\n\n   public Language getLanguage() {\n       return language;\n   }\n\n   public void setLanguage(Language language) {\n       this.language = language;\n\n   }*/\n    public Books(){\n\n    }\n}\n\n</code></pre>\n<p>condition is not different there than descripttion or title, which are also Strings, and in post method:</p>\n<pre><code>@PostMapping(&quot;/AddBooks&quot;)\npublic @ResponseBody\nString addBook(@RequestParam  String title , int year, float price ,String description,\n               String condition/*, String plot, String cover, int language_id*/){\n    Books addBook = new Books(title, year, price, description, condition/*, plot, cover, language_id*/);\n    booksRepository.save(addBook);\n    return save;\n}\n</code></pre>\n<p>Everything seems to be evenly done according to other variables, I can not see why adding condition attribute is provoking the error.\nthis the error in console:</p>\n<p>2022-12-21 11:35:57.319  WARN 7984 --- [nio-8090-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1064, SQLState: 42000\n2022-12-21 11:35:57.320 ERROR 7984 --- [nio-8090-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'condition, description, price, title, year) values ('Best book ever', 'Best book' at line 1\n2022-12-21 11:35:57.341 ERROR 7984 --- [nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement] with root cause</p>\n<p>As I said, I was able to post a new book to database just adding title, year, price and description.</p>\n<p>I was expecting to be able to post a new book after calling post method from postman</p>\n"},{"tags":["java","eclipse","selenium","selenium-webdriver","cucumber-junit"],"owner":{"account_id":20769389,"reputation":1,"user_id":15252468,"display_name":"Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671687236,"creation_date":1671632928,"question_id":74877535,"body_markdown":"I am trying to click on individual hyperlinks and check whether PDF is present inside the iframe of those hyperlinks\r\nEvery time when the iframe is not present inside that hyperlink, my code get stuck there and do not proceed to further steps, I tried using try catch block also but it didn&#39;t work either.\r\n\r\nBelow is my code:\r\n\r\n```java\r\nfor (WebElement td : tr) {\r\n    List&lt;WebElement&gt; div = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/main/div/div/div[5]/div/div/div/table/tbody/tr/td[3]/div&quot;));\r\n    for (WebElement divs : div) {\r\n        divs.click();\r\n        try {\r\n            WebElement pdf = driver.findElement(By.xpath(&quot;//div[@class=&#39;MuiGrid-root MuiGrid-item MuiGrid-grid-md-6 MuiGrid-grid-lg-8 css-1tulejt&#39;]&quot;));\r\n\r\n            Thread.sleep(2000);\r\n            WebElement iframe = driver.findElement(By.xpath(&quot;/html/body/div[4]/div[3]/div/div[1]/div/div[1]/iframe&quot;));\r\n\r\n            // pdf.click();\r\n            WebElement PONo = divs.findElement(By.xpath(&quot;//h4[@class = contains(text(), &#39;PI&#39;)]&quot;));\r\n\r\n            System.out.println(&quot;pdf is present&quot;\r\n                + &quot; PONumber=&quot; + PONo.getText());\r\n\r\n        } catch (NoSuchElementException e) {\r\n            WebElement PONo = divs.findElement(By.xpath(&quot;//h4[@class = contains(text(), &#39;PI&#39;)]&quot;));\r\n            System.out.println(&quot;pdf is not present&quot;\r\n                + &quot;PONumber = &quot; + PONo.getText());\r\n\r\n            continue;\r\n        }\r\n        Thread.sleep(2000);\r\n        driver\r\n            .findElement(\r\n                By.xpath(&quot;//button[@class=\\&quot;MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-kclo8i\\&quot;]&quot;))\r\n            .click();\r\n    }\r\n}\r\n```\r\n\r\nI want the loop to be continued till last link &amp; get me the result of how many links does not have PDF","title":"Trying to find out for which hyperlinks, Iframe is not present with the PDF","body":"<p>I am trying to click on individual hyperlinks and check whether PDF is present inside the iframe of those hyperlinks\nEvery time when the iframe is not present inside that hyperlink, my code get stuck there and do not proceed to further steps, I tried using try catch block also but it didn't work either.</p>\n<p>Below is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (WebElement td : tr) {\n    List&lt;WebElement&gt; div = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/main/div/div/div[5]/div/div/div/table/tbody/tr/td[3]/div&quot;));\n    for (WebElement divs : div) {\n        divs.click();\n        try {\n            WebElement pdf = driver.findElement(By.xpath(&quot;//div[@class='MuiGrid-root MuiGrid-item MuiGrid-grid-md-6 MuiGrid-grid-lg-8 css-1tulejt']&quot;));\n\n            Thread.sleep(2000);\n            WebElement iframe = driver.findElement(By.xpath(&quot;/html/body/div[4]/div[3]/div/div[1]/div/div[1]/iframe&quot;));\n\n            // pdf.click();\n            WebElement PONo = divs.findElement(By.xpath(&quot;//h4[@class = contains(text(), 'PI')]&quot;));\n\n            System.out.println(&quot;pdf is present&quot;\n                + &quot; PONumber=&quot; + PONo.getText());\n\n        } catch (NoSuchElementException e) {\n            WebElement PONo = divs.findElement(By.xpath(&quot;//h4[@class = contains(text(), 'PI')]&quot;));\n            System.out.println(&quot;pdf is not present&quot;\n                + &quot;PONumber = &quot; + PONo.getText());\n\n            continue;\n        }\n        Thread.sleep(2000);\n        driver\n            .findElement(\n                By.xpath(&quot;//button[@class=\\&quot;MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-kclo8i\\&quot;]&quot;))\n            .click();\n    }\n}\n</code></pre>\n<p>I want the loop to be continued till last link &amp; get me the result of how many links does not have PDF</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1671661525,"post_id":74882319,"comment_id":132149629,"body_markdown":"The obvious thing is to reverse the order of your two tests. I would also call `trim()`","body":"The obvious thing is to reverse the order of your two tests. I would also call <code>trim()</code>"},{"owner":{"account_id":12635177,"reputation":158,"user_id":9184911,"display_name":"Ishak Hari"},"score":0,"creation_date":1671661635,"post_id":74882319,"comment_id":132149652,"body_markdown":"try this    if( txt.isEmpty()  || Integer.parseInt(txt) &lt; 1)","body":"try this    if( txt.isEmpty()  || Integer.parseInt(txt) &lt; 1)"},{"owner":{"account_id":8341083,"reputation":1,"user_id":6266385,"display_name":"Harry"},"score":0,"creation_date":1671661675,"post_id":74882319,"comment_id":132149662,"body_markdown":"This works, but why?","body":"This works, but why?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1671661920,"post_id":74882319,"comment_id":132149709,"body_markdown":"Unless you have a filter attached to you textfield which only allows for integer numbers to be entered, it would be a good idea to ensure what is entered into that field is indeed the number type desired: `if (txt.isEmpty() || !txt.matches(&quot;\\\\d+&quot;) || Integer.parseInt(txt) &lt; 1) {`.","body":"Unless you have a filter attached to you textfield which only allows for integer numbers to be entered, it would be a good idea to ensure what is entered into that field is indeed the number type desired: <code>if (txt.isEmpty() || !txt.matches(&quot;\\\\d+&quot;) || Integer.parseInt(txt) &lt; 1) {</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1671661941,"post_id":74882319,"comment_id":132149717,"body_markdown":"I really think you&#39;ll get further if you explain it to yourself. Have a look at [this](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))","body":"I really think you&#39;ll get further if you explain it to yourself. Have a look at <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1671662377,"post_id":74882319,"comment_id":132149795,"body_markdown":"Because the first `if` condition (`txt.isEmpty()`) is testing to see if there is something to parse into Integer first (you can&#39;t parse an empty string). If it fails then there is no sense to carry on with the other `if` conditions and it jumps right into the `if` code block code and issues the error message.","body":"Because the first <code>if</code> condition (<code>txt.isEmpty()</code>) is testing to see if there is something to parse into Integer first (you can&#39;t parse an empty string). If it fails then there is no sense to carry on with the other <code>if</code> conditions and it jumps right into the <code>if</code> code block code and issues the error message."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1671662589,"post_id":74882319,"comment_id":132149832,"body_markdown":"In your error message use `&gt;=`. The reverse sequence is often used as arrow, and some people might have problems understanding what you are after.","body":"In your error message use <code>&gt;=</code>. The reverse sequence is often used as arrow, and some people might have problems understanding what you are after."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671663509,"post_id":74882319,"comment_id":132149980,"body_markdown":"[`String#isBlank`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#isBlank())","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\"><code>String#isBlank</code></a>"}],"owner":{"account_id":8341083,"reputation":1,"user_id":6266385,"display_name":"Harry"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671686870,"creation_date":1671661234,"question_id":74882319,"body_markdown":"When testing my program this if statement doesn&#39;t the issue.\r\nIf I enter a number less than 1 the if statement works and catches it however when I leave the field blank the if statement does not catch it.\r\n\r\n```java\r\nString txt = txtQuantity.getText();\r\nif (Integer.parseInt(txt) &lt; 1 || txt.equals(&quot;&quot;)) {\r\n    lblErrorMessage.setText(&quot;Error: Please enter a quantity =&gt;1.&quot;);\r\n}\r\n```","title":"Checking if a JTextField is Empty or less than 1","body":"<p>When testing my program this if statement doesn't the issue.\nIf I enter a number less than 1 the if statement works and catches it however when I leave the field blank the if statement does not catch it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String txt = txtQuantity.getText();\nif (Integer.parseInt(txt) &lt; 1 || txt.equals(&quot;&quot;)) {\n    lblErrorMessage.setText(&quot;Error: Please enter a quantity =&gt;1.&quot;);\n}\n</code></pre>\n"},{"tags":["java","xml","string"],"comments":[{"owner":{"account_id":335080,"reputation":5569,"user_id":661951,"accept_rate":91,"display_name":"Ianthe"},"score":0,"creation_date":1301927523,"post_id":5511096,"comment_id":6296365,"body_markdown":"@Tomalak I need that to be pass to a cgi as an input and that cgi only accepts xml in one-line form.","body":"@Tomalak I need that to be pass to a cgi as an input and that cgi only accepts xml in one-line form."},{"owner":{"account_id":335080,"reputation":5569,"user_id":661951,"accept_rate":91,"display_name":"Ianthe"},"score":0,"creation_date":1301927695,"post_id":5511096,"comment_id":6296421,"body_markdown":"@All, thanks a lot for all the answers","body":"@All, thanks a lot for all the answers"}],"answers":[{"comments":[{"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":0,"creation_date":1301648131,"post_id":5511126,"comment_id":6257064,"body_markdown":"ret +=s :(( don&#39;t do that, better use StringBuffer","body":"ret +=s :(( don&#39;t do that, better use StringBuffer"},{"owner":{"display_name":"user684934"},"score":0,"creation_date":1301648280,"post_id":5511126,"comment_id":6257110,"body_markdown":"@smas :P it&#39;s not real code, I still haven&#39;t figured out to properly format on this site so I went for the most concise way.  The idea still holds (if you import the relevant libraries, set up the variables like `filename`, and set up try `try{} catch{}` blocks)","body":"@smas :P it&#39;s not real code, I still haven&#39;t figured out to properly format on this site so I went for the most concise way.  The idea still holds (if you import the relevant libraries, set up the variables like <code>filename</code>, and set up try <code>try{} catch{}</code> blocks)"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1301648493,"post_id":5511126,"comment_id":6257161,"body_markdown":"don&#39;t use string concat or stringbuffer as smas suggests, use StringBuilder http://kaioa.com/node/59","body":"don&#39;t use string concat or stringbuffer as smas suggests, use StringBuilder <a href=\"http://kaioa.com/node/59\" rel=\"nofollow noreferrer\">kaioa.com/node/59</a>"}],"tags":[],"owner":{"display_name":"user684934"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1375378757,"creation_date":1301648006,"answer_id":5511126,"question_id":5511096,"body_markdown":"Open and read the file.\r\n\r\n    Reader r = new BufferedReader(filename);\r\n    String ret = &quot;&quot;;\r\n    while((String s = r.nextLine()!=null)) \r\n    {\r\n      ret+=s;\r\n    }\r\n    return ret;","title":"Java : Convert formatted xml file to one line string","body":"<p>Open and read the file.</p>\n\n<pre><code>Reader r = new BufferedReader(filename);\nString ret = \"\";\nwhile((String s = r.nextLine()!=null)) \n{\n  ret+=s;\n}\nreturn ret;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":37701,"reputation":44030,"user_id":128645,"accept_rate":100,"display_name":"Jeff Foster"},"score":5,"creation_date":1301648193,"post_id":5511142,"comment_id":6257079,"body_markdown":"What if there was whitespace between a content element e.g. &lt;text&gt;foo (newline) bar&lt;/text&gt;?","body":"What if there was whitespace between a content element e.g. &lt;text&gt;foo (newline) bar&lt;/text&gt;?"},{"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":0,"creation_date":1301648600,"post_id":5511142,"comment_id":6257189,"body_markdown":"double spaces, look at expected result, we have e.g. &lt;book&gt; &lt;title&gt; - after book is space. I don&#39;t think @sprenna want do something with spaces.","body":"double spaces, look at expected result, we have e.g. &lt;book&gt; &lt;title&gt; - after book is space. I don&#39;t think @sprenna want do something with spaces."},{"owner":{"account_id":117250,"reputation":19542,"user_id":307138,"accept_rate":78,"display_name":"Ocaso Protal"},"score":0,"creation_date":1301649121,"post_id":5511142,"comment_id":6257323,"body_markdown":"It looks like an error in the example, b/c the other &lt;book&gt;&lt;title&gt; combinations have no space in  between","body":"It looks like an error in the example, b/c the other &lt;book&gt;&lt;title&gt; combinations have no space in  between"},{"owner":{"account_id":335080,"reputation":5569,"user_id":661951,"accept_rate":91,"display_name":"Ianthe"},"score":0,"creation_date":1301927388,"post_id":5511142,"comment_id":6296330,"body_markdown":"that is a typo, there shouldn&#39;t be any space in between. sorry for that.","body":"that is a typo, there shouldn&#39;t be any space in between. sorry for that."}],"tags":[],"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"comment_count":4,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1400857130,"creation_date":1301648085,"answer_id":5511142,"question_id":5511096,"body_markdown":"    // 1. Read xml from file to StringBuilder (StringBuffer)\r\n    // 2. call s = stringBuffer.toString()\r\n    // 3. remove all &quot;\\n&quot; and &quot;\\t&quot;: \r\n    s.replaceAll(&quot;\\n&quot;,&quot;&quot;); \r\n    s.replaceAll(&quot;\\t&quot;,&quot;&quot;);\r\n\r\nedited:\r\n\r\nI made a small mistake, it is better to use StringBuilder in your case (I suppose you don&#39;t need thread-safe StringBuffer)","title":"Java : Convert formatted xml file to one line string","body":"<pre><code>// 1. Read xml from file to StringBuilder (StringBuffer)\n// 2. call s = stringBuffer.toString()\n// 3. remove all \"\\n\" and \"\\t\": \ns.replaceAll(\"\\n\",\"\"); \ns.replaceAll(\"\\t\",\"\");\n</code></pre>\n\n<p>edited:</p>\n\n<p>I made a small mistake, it is better to use StringBuilder in your case (I suppose you don't need thread-safe StringBuffer)</p>\n"},{"tags":[],"owner":{"account_id":37701,"reputation":44030,"user_id":128645,"accept_rate":100,"display_name":"Jeff Foster"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301648148,"creation_date":1301648148,"answer_id":5511163,"question_id":5511096,"body_markdown":"I guess you want to read in, ignore the white space, and write it out again.  Most XML packages have an option to ignore white space.  For example, the DocumentBuilderFactory has [setIgnoringElementContentWhitespace][1] for this purpose.\r\n\r\nSimilarly if you are generating the XML by marshaling an object then JAXB has [JAXB_FORMATTED_OUTPUT][2]\r\n\r\n\r\n  [1]: http://setIgnoringElementContentWhitespace\r\n  [2]: http://ws.apache.org/jaxme/apidocs/javax/xml/bind/Marshaller.html","title":"Java : Convert formatted xml file to one line string","body":"<p>I guess you want to read in, ignore the white space, and write it out again.  Most XML packages have an option to ignore white space.  For example, the DocumentBuilderFactory has <a href=\"http://setIgnoringElementContentWhitespace\" rel=\"nofollow\">setIgnoringElementContentWhitespace</a> for this purpose.</p>\n\n<p>Similarly if you are generating the XML by marshaling an object then JAXB has <a href=\"http://ws.apache.org/jaxme/apidocs/javax/xml/bind/Marshaller.html\" rel=\"nofollow\">JAXB_FORMATTED_OUTPUT</a></p>\n"},{"comments":[{"owner":{"account_id":117250,"reputation":19542,"user_id":307138,"accept_rate":78,"display_name":"Ocaso Protal"},"score":0,"creation_date":1301648754,"post_id":5511176,"comment_id":6257233,"body_markdown":"This will not remove leading/trailing spaces, no?","body":"This will not remove leading/trailing spaces, no?"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1478971087,"post_id":5511176,"comment_id":68367849,"body_markdown":"This doesn&#39;t respect the encoding mentioned in the XML document, does it?","body":"This doesn&#39;t respect the encoding mentioned in the XML document, does it?"},{"owner":{"account_id":6650234,"reputation":428,"user_id":5132665,"display_name":"Frat &#199;alar Akbulut"},"score":0,"creation_date":1497622396,"post_id":5511176,"comment_id":76170563,"body_markdown":"sorry for offtopic comment but that link is expired and redirect users to irrelevant domains.","body":"sorry for offtopic comment but that link is expired and redirect users to irrelevant domains."}],"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":3,"down_vote_count":2,"up_vote_count":50,"is_accepted":true,"score":48,"last_activity_date":1301649275,"creation_date":1301648192,"answer_id":5511176,"question_id":5511096,"body_markdown":"    //filename is filepath string\r\n    BufferedReader br = new BufferedReader(new FileReader(new File(filename)));\r\n    String line;\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    while((line=br.readLine())!= null){\r\n        sb.append(line.trim());\r\n    }\r\n\r\nusing StringBuilder is more efficient then concat http://kaioa.com/node/59\r\n","title":"Java : Convert formatted xml file to one line string","body":"<pre><code>//filename is filepath string\nBufferedReader br = new BufferedReader(new FileReader(new File(filename)));\nString line;\nStringBuilder sb = new StringBuilder();\n\nwhile((line=br.readLine())!= null){\n    sb.append(line.trim());\n}\n</code></pre>\n\n<p>using StringBuilder is more efficient then concat <a href=\"http://kaioa.com/node/59\" rel=\"noreferrer\">http://kaioa.com/node/59</a></p>\n"},{"comments":[{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1519022943,"post_id":5512930,"comment_id":84724670,"body_markdown":"this seems to be a nice way but you did not mention how to run this XSLT in Java?","body":"this seems to be a nice way but you did not mention how to run this XSLT in Java?"},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":1,"creation_date":1519024725,"post_id":5512930,"comment_id":84725310,"body_markdown":"[XSLT processing with Java](https://stackoverflow.com/a/6438729/725306)","body":"<a href=\"https://stackoverflow.com/a/6438729/725306\">XSLT processing with Java</a>"}],"tags":[],"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1519023491,"creation_date":1301658585,"answer_id":5512930,"question_id":5511096,"body_markdown":"Run it through an XSLT [identity transform][1] with [`&lt;xsl:output indent=&quot;no&quot;&gt;`][2] and [`&lt;xsl:strip-space elements=&quot;*&quot;/&gt;`][3]\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    \t&lt;xsl:output indent=&quot;no&quot; /&gt;\r\n        &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n    \t&lt;xsl:template match=&quot;@*|node()&quot;&gt;\r\n    \t\t&lt;xsl:copy&gt;\r\n    \t\t\t&lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n    \t\t&lt;/xsl:copy&gt;\r\n    \t&lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nIt will remove any of the non-significant whitespace and produce the expected output that you posted.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Identity_transform\r\n  [2]: https://www.w3schools.com/xml/ref_xsl_el_output.asp\r\n  [3]: https://www.w3schools.com/xml/ref_xsl_el_strip-space.asp","title":"Java : Convert formatted xml file to one line string","body":"<p>Run it through an XSLT <a href=\"http://en.wikipedia.org/wiki/Identity_transform\" rel=\"nofollow noreferrer\">identity transform</a> with <a href=\"https://www.w3schools.com/xml/ref_xsl_el_output.asp\" rel=\"nofollow noreferrer\"><code>&lt;xsl:output indent=\"no\"&gt;</code></a> and <a href=\"https://www.w3schools.com/xml/ref_xsl_el_strip-space.asp\" rel=\"nofollow noreferrer\"><code>&lt;xsl:strip-space elements=\"*\"/&gt;</code></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n    &lt;xsl:output indent=\"no\" /&gt;\n    &lt;xsl:strip-space elements=\"*\"/&gt;\n    &lt;xsl:template match=\"@*|node()\"&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=\"@*|node()\"/&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>It will remove any of the non-significant whitespace and produce the expected output that you posted.</p>\n"},{"comments":[{"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"score":0,"creation_date":1490309802,"post_id":5513015,"comment_id":73068553,"body_markdown":"Works perfect to me. Thanks","body":"Works perfect to me. Thanks"}],"tags":[],"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301659046,"creation_date":1301659046,"answer_id":5513015,"question_id":5511096,"body_markdown":"[Using this answer which provides the code to use Dom4j to do pretty-printing][1], change the line that sets the output format from: `createPrettyPrint()` to: `createCompactFormat()`\r\n\r\n\r\n    public String unPrettyPrint(final String xml){  \r\n    \r\n        if (StringUtils.isBlank(xml)) {\r\n            throw new RuntimeException(&quot;xml was null or blank in unPrettyPrint()&quot;);\r\n        }\r\n    \r\n        final StringWriter sw;\r\n    \r\n        try {\r\n            final OutputFormat format = OutputFormat.createCompactFormat();\r\n            final org.dom4j.Document document = DocumentHelper.parseText(xml);\r\n            sw = new StringWriter();\r\n            final XMLWriter writer = new XMLWriter(sw, format);\r\n            writer.write(document);\r\n        }\r\n        catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error un-pretty printing xml:\\n&quot; + xml, e);\r\n        }\r\n        return sw.toString();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/260314#260314","title":"Java : Convert formatted xml file to one line string","body":"<p><a href=\"https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/260314#260314\">Using this answer which provides the code to use Dom4j to do pretty-printing</a>, change the line that sets the output format from: <code>createPrettyPrint()</code> to: <code>createCompactFormat()</code></p>\n\n<pre><code>public String unPrettyPrint(final String xml){  \n\n    if (StringUtils.isBlank(xml)) {\n        throw new RuntimeException(\"xml was null or blank in unPrettyPrint()\");\n    }\n\n    final StringWriter sw;\n\n    try {\n        final OutputFormat format = OutputFormat.createCompactFormat();\n        final org.dom4j.Document document = DocumentHelper.parseText(xml);\n        sw = new StringWriter();\n        final XMLWriter writer = new XMLWriter(sw, format);\n        writer.write(document);\n    }\n    catch (Exception e) {\n        throw new RuntimeException(\"Error un-pretty printing xml:\\n\" + xml, e);\n    }\n    return sw.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":424658,"reputation":4445,"user_id":804773,"accept_rate":100,"display_name":"Grambot"},"score":0,"creation_date":1377632373,"post_id":18473716,"comment_id":27154005,"body_markdown":"The link even dictates that the method is depreciated. I wouldn&#39;t recommend using this method when a simple buffer read with trim would suffice","body":"The link even dictates that the method is depreciated. I wouldn&#39;t recommend using this method when a simple buffer read with trim would suffice"}],"tags":[],"owner":{"account_id":2111435,"reputation":4511,"user_id":1876644,"accept_rate":71,"display_name":"Charu Khurana"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1377631040,"creation_date":1377631040,"answer_id":18473716,"question_id":5511096,"body_markdown":"    FileUtils.readFileToString(fileName);\r\n\r\n \r\n\r\n[link][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html","title":"Java : Convert formatted xml file to one line string","body":"<pre><code>FileUtils.readFileToString(fileName);\n</code></pre>\n\n<p><a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow\">link</a></p>\n"},{"tags":[],"owner":{"account_id":1126663,"reputation":91,"user_id":1113792,"accept_rate":0,"display_name":"user1113792"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470159586,"creation_date":1470159586,"answer_id":38727096,"question_id":5511096,"body_markdown":"The above solutions work if you are compressing all white space in the XML document.  Other quick options are JDOM (using Format.getCompactFormat()) and dom4j (using OutputFormat.createCompactFormat()) when outputting the XML document. \r\n\r\nHowever, I had a unique requirement to preserve the white space contained within the element&#39;s text value and these solutions did not work as I needed.  All I needed was to remove the &#39;pretty-print&#39; formatting added to the XML document.\r\n\r\nThe solution that I came up with can be explained in the following 3-step/regex process ... for the sake of understanding the algorithm for the solution.\r\n\r\n    String regex, updatedXml;\r\n\r\n    // 1. remove all white space preceding a begin element tag:\r\n    regex = &quot;[\\\\n\\\\s]+(\\\\&lt;[^/])&quot;;\r\n    updatedXml = originalXmlStr.replaceAll( regex, &quot;$1&quot; );\r\n\r\n    // 2. remove all white space following an end element tag:\r\n    regex = &quot;(\\\\&lt;/[a-zA-Z0-9-_\\\\.:]+\\\\&gt;)[\\\\s]+&quot;;\r\n    updatedXml = updatedXml.replaceAll( regex, &quot;$1&quot; );\r\n\r\n    // 3. remove all white space following an empty element tag\r\n    // (&lt;some-element xmlns:attr1=&quot;some-value&quot;.... /&gt;):\r\n    regex = &quot;(/\\\\&gt;)[\\\\s]+&quot;;\r\n    updatedXml = updatedXml.replaceAll( regex, &quot;$1&quot; );\r\n\r\nNOTE: The pseudo-code is in Java ... the &#39;$1&#39; is the replacement string which is the 1st capture group.\r\n\r\nThis will simply remove the white space used when adding the &#39;pretty-print&#39; format to an XML document, yet preserve all other white space when it is part of the element text value.\r\n","title":"Java : Convert formatted xml file to one line string","body":"<p>The above solutions work if you are compressing all white space in the XML document.  Other quick options are JDOM (using Format.getCompactFormat()) and dom4j (using OutputFormat.createCompactFormat()) when outputting the XML document. </p>\n\n<p>However, I had a unique requirement to preserve the white space contained within the element's text value and these solutions did not work as I needed.  All I needed was to remove the 'pretty-print' formatting added to the XML document.</p>\n\n<p>The solution that I came up with can be explained in the following 3-step/regex process ... for the sake of understanding the algorithm for the solution.</p>\n\n<pre><code>String regex, updatedXml;\n\n// 1. remove all white space preceding a begin element tag:\nregex = \"[\\\\n\\\\s]+(\\\\&lt;[^/])\";\nupdatedXml = originalXmlStr.replaceAll( regex, \"$1\" );\n\n// 2. remove all white space following an end element tag:\nregex = \"(\\\\&lt;/[a-zA-Z0-9-_\\\\.:]+\\\\&gt;)[\\\\s]+\";\nupdatedXml = updatedXml.replaceAll( regex, \"$1\" );\n\n// 3. remove all white space following an empty element tag\n// (&lt;some-element xmlns:attr1=\"some-value\".... /&gt;):\nregex = \"(/\\\\&gt;)[\\\\s]+\";\nupdatedXml = updatedXml.replaceAll( regex, \"$1\" );\n</code></pre>\n\n<p>NOTE: The pseudo-code is in Java ... the '$1' is the replacement string which is the 1st capture group.</p>\n\n<p>This will simply remove the white space used when adding the 'pretty-print' format to an XML document, yet preserve all other white space when it is part of the element text value.</p>\n"},{"comments":[{"owner":{"account_id":6576261,"reputation":618,"user_id":5082182,"display_name":"Gediminas Rimsa"},"score":1,"creation_date":1602767868,"post_id":45235040,"comment_id":113828893,"body_markdown":"If the OP wants to minify the XML, something like this might work for most documents: `reader.lines().map(String::trim).collect(Collectors.joining());`.\nNote: it would likely fail in cases where element attributes are split over multiple lines.","body":"If the OP wants to minify the XML, something like this might work for most documents: <code>reader.lines().map(String::trim).collect(Collectors.joining(&zwnj;&#8203;));</code>. Note: it would likely fail in cases where element attributes are split over multiple lines."}],"tags":[],"owner":{"account_id":5213653,"reputation":131,"user_id":4169275,"display_name":"vijay yadav"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500633786,"creation_date":1500632087,"answer_id":45235040,"question_id":5511096,"body_markdown":"In java 1.8 and above\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(filePath));\r\n    String content = br.lines().collect(Collectors.joining(&quot;\\n&quot;));","title":"Java : Convert formatted xml file to one line string","body":"<p>In java 1.8 and above</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(filePath));\nString content = br.lines().collect(Collectors.joining(\"\\n\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643043531,"creation_date":1538288022,"answer_id":52575164,"question_id":5511096,"body_markdown":"[Underscore-java][1] library has static method U.formatXml(xmlstring). [Live example][2]\r\n\r\n    import com.github.underscore.U;\r\n    import com.github.underscore.Xml;\r\n\r\n    public class MyClass {\r\n        public static void main(String[] args) {\r\n            System.out.println(U.formatXml(&quot;&lt;a&gt;\\n  &lt;b&gt;&lt;/b&gt;\\n  &lt;b&gt;&lt;/b&gt;\\n&lt;/a&gt;&quot;,\r\n            Xml.XmlStringBuilder.Step.COMPACT));\r\n        }\r\n    }\r\n\r\n    // output: &lt;a&gt;&lt;b&gt;&lt;/b&gt;&lt;b&gt;&lt;/b&gt;&lt;/a&gt;\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/HeT","title":"Java : Convert formatted xml file to one line string","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library has static method U.formatXml(xmlstring). <a href=\"https://www.jdoodle.com/embed/v0/HeT\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.U;\nimport com.github.underscore.Xml;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(U.formatXml(&quot;&lt;a&gt;\\n  &lt;b&gt;&lt;/b&gt;\\n  &lt;b&gt;&lt;/b&gt;\\n&lt;/a&gt;&quot;,\n        Xml.XmlStringBuilder.Step.COMPACT));\n    }\n}\n\n// output: &lt;a&gt;&lt;b&gt;&lt;/b&gt;&lt;b&gt;&lt;/b&gt;&lt;/a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8969985,"reputation":73,"user_id":18137702,"display_name":"notebook"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656558991,"creation_date":1656558639,"answer_id":72809911,"question_id":5511096,"body_markdown":"Below I present the prepared solution. Only the standard library of Java 1.8 was used.\r\n\r\n**XSLT:**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output indent=&quot;no&quot;/&gt;\r\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n    &lt;xsl:template match=&quot;@*|node()&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\n**Java:**\r\n```\r\npublic static String convertXmlToOneLine(String xml) throws TransformerException {\r\n    final String xslt =\r\n        &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;\\n&quot; +\r\n        &quot;&lt;xsl:stylesheet version=\\&quot;1.0\\&quot; xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;&gt;\\n&quot; +\r\n        &quot;    &lt;xsl:output indent=\\&quot;no\\&quot;/&gt;\\n&quot; +\r\n        &quot;    &lt;xsl:strip-space elements=\\&quot;*\\&quot;/&gt;\\n&quot; +\r\n        &quot;    &lt;xsl:template match=\\&quot;@*|node()\\&quot;&gt;\\n&quot; +\r\n        &quot;        &lt;xsl:copy&gt;\\n&quot; +\r\n        &quot;            &lt;xsl:apply-templates select=\\&quot;@*|node()\\&quot;/&gt;\\n&quot; +\r\n        &quot;        &lt;/xsl:copy&gt;\\n&quot; +\r\n        &quot;    &lt;/xsl:template&gt;\\n&quot; +\r\n        &quot;&lt;/xsl:stylesheet&gt;&quot;;\r\n\r\n    /* prepare XSLT transformer from String */\r\n    Source xsltSource = new StreamSource(new StringReader(xslt));\r\n    TransformerFactory factory = TransformerFactory.newInstance();\r\n    Transformer transformer = factory.newTransformer(xsltSource);\r\n\r\n    /* where to read the XML? */\r\n    Source source = new StreamSource(new StringReader(xml));\r\n\r\n    /* where to write the XML? */\r\n    StringWriter stringWriter = new StringWriter();\r\n    Result result = new StreamResult(stringWriter);\r\n\r\n    /* transform XML to one line */\r\n    transformer.transform(source, result);\r\n\r\n    return stringWriter.toString();\r\n}\r\n```\r\n\r\n**Sample output:**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;&lt;xsl:output indent=&quot;no&quot;/&gt;&lt;xsl:strip-space elements=&quot;*&quot;/&gt;&lt;xsl:template match=&quot;@*|node()&quot;&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nLicense: [The MIT License][license]\r\n\r\n[license]: https://opensource.org/licenses/MIT","title":"Java : Convert formatted xml file to one line string","body":"<p>Below I present the prepared solution. Only the standard library of Java 1.8 was used.</p>\n<p><strong>XSLT:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:output indent=&quot;no&quot;/&gt;\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n    &lt;xsl:template match=&quot;@*|node()&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>Java:</strong></p>\n<pre><code>public static String convertXmlToOneLine(String xml) throws TransformerException {\n    final String xslt =\n        &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;\\n&quot; +\n        &quot;&lt;xsl:stylesheet version=\\&quot;1.0\\&quot; xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;&gt;\\n&quot; +\n        &quot;    &lt;xsl:output indent=\\&quot;no\\&quot;/&gt;\\n&quot; +\n        &quot;    &lt;xsl:strip-space elements=\\&quot;*\\&quot;/&gt;\\n&quot; +\n        &quot;    &lt;xsl:template match=\\&quot;@*|node()\\&quot;&gt;\\n&quot; +\n        &quot;        &lt;xsl:copy&gt;\\n&quot; +\n        &quot;            &lt;xsl:apply-templates select=\\&quot;@*|node()\\&quot;/&gt;\\n&quot; +\n        &quot;        &lt;/xsl:copy&gt;\\n&quot; +\n        &quot;    &lt;/xsl:template&gt;\\n&quot; +\n        &quot;&lt;/xsl:stylesheet&gt;&quot;;\n\n    /* prepare XSLT transformer from String */\n    Source xsltSource = new StreamSource(new StringReader(xslt));\n    TransformerFactory factory = TransformerFactory.newInstance();\n    Transformer transformer = factory.newTransformer(xsltSource);\n\n    /* where to read the XML? */\n    Source source = new StreamSource(new StringReader(xml));\n\n    /* where to write the XML? */\n    StringWriter stringWriter = new StringWriter();\n    Result result = new StreamResult(stringWriter);\n\n    /* transform XML to one line */\n    transformer.transform(source, result);\n\n    return stringWriter.toString();\n}\n</code></pre>\n<p><strong>Sample output:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;&lt;xsl:output indent=&quot;no&quot;/&gt;&lt;xsl:strip-space elements=&quot;*&quot;/&gt;&lt;xsl:template match=&quot;@*|node()&quot;&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>License: <a href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow noreferrer\">The MIT License</a></p>\n"}],"owner":{"account_id":335080,"reputation":5569,"user_id":661951,"accept_rate":91,"display_name":"Ianthe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134731,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":5511176,"answer_count":11,"score":27,"last_activity_date":1671686818,"creation_date":1301647826,"question_id":5511096,"body_markdown":"I have a formatted XML file, and I want to convert it to one line string, how can I do that.\r\n\r\nSample xml: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;books&gt;\r\n       &lt;book&gt;\r\n           &lt;title&gt;Basic XML&lt;/title&gt;\r\n           &lt;price&gt;100&lt;/price&gt;\r\n           &lt;qty&gt;5&lt;/qty&gt;\r\n       &lt;/book&gt;\r\n       &lt;book&gt;\r\n         &lt;title&gt;Basic Java&lt;/title&gt;\r\n         &lt;price&gt;200&lt;/price&gt;\r\n         &lt;qty&gt;15&lt;/qty&gt;\r\n       &lt;/book&gt;\r\n    &lt;/books&gt;\r\n\r\nExpected output\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;books&gt;&lt;book&gt; &lt;title&gt;Basic XML&lt;/title&gt;&lt;price&gt;100&lt;/price&gt;&lt;qty&gt;5&lt;/qty&gt;&lt;/book&gt;&lt;book&gt;&lt;title&gt;Basic Java&lt;/title&gt;&lt;price&gt;200&lt;/price&gt;&lt;qty&gt;15&lt;/qty&gt;&lt;/book&gt;&lt;/books&gt;","title":"Java : Convert formatted xml file to one line string","body":"<p>I have a formatted XML file, and I want to convert it to one line string, how can I do that.</p>\n<p>Sample xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;books&gt;\n   &lt;book&gt;\n       &lt;title&gt;Basic XML&lt;/title&gt;\n       &lt;price&gt;100&lt;/price&gt;\n       &lt;qty&gt;5&lt;/qty&gt;\n   &lt;/book&gt;\n   &lt;book&gt;\n     &lt;title&gt;Basic Java&lt;/title&gt;\n     &lt;price&gt;200&lt;/price&gt;\n     &lt;qty&gt;15&lt;/qty&gt;\n   &lt;/book&gt;\n&lt;/books&gt;\n</code></pre>\n<p>Expected output</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;books&gt;&lt;book&gt; &lt;title&gt;Basic XML&lt;/title&gt;&lt;price&gt;100&lt;/price&gt;&lt;qty&gt;5&lt;/qty&gt;&lt;/book&gt;&lt;book&gt;&lt;title&gt;Basic Java&lt;/title&gt;&lt;price&gt;200&lt;/price&gt;&lt;qty&gt;15&lt;/qty&gt;&lt;/book&gt;&lt;/books&gt;\n</code></pre>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1635163842,"post_id":69707728,"comment_id":123214026,"body_markdown":"The latest version of the driver should work on PostgreSQL 8.2 and higher. The should is likely because they don&#39;t test all versions and will rely on user bug reports instead. However, this sounds like an off-topic question to me, opinion based cq asking for recommendations. I think it is better to address this question to the pgsql-jdbc mailing list.","body":"The latest version of the driver should work on PostgreSQL 8.2 and higher. The should is likely because they don&#39;t test all versions and will rely on user bug reports instead. However, this sounds like an off-topic question to me, opinion based cq asking for recommendations. I think it is better to address this question to the pgsql-jdbc mailing list."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1635163967,"post_id":69707728,"comment_id":123214077,"body_markdown":"Does this answer your question?  https://jdbc.postgresql.org/download.html.  (Just one click away from the link in your question.)","body":"Does this answer your question?  <a href=\"https://jdbc.postgresql.org/download.html\" rel=\"nofollow noreferrer\">jdbc.postgresql.org/download.html</a>.  (Just one click away from the link in your question.)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1635163977,"post_id":69707728,"comment_id":123214086,"body_markdown":"Also note that the version number was changed to reflect that basically all current drivers should be compatible with Postgresql 8.2+: &quot;The naming scheme previously has 9.4 in it which leads people to believe it is for server version 9.4 only, when in fact it support PostgreSQL 8.2 and higher. &quot; For best support I&#39;d recommend using the newest driver compatible with the Java version that&#39;s used though and given the fact that almost everyone should run on at least Java 8 for various reasons users should be able to just pick any driver version.","body":"Also note that the version number was changed to reflect that basically all current drivers should be compatible with Postgresql 8.2+: &quot;The naming scheme previously has 9.4 in it which leads people to believe it is for server version 9.4 only, when in fact it support PostgreSQL 8.2 and higher. &quot; For best support I&#39;d recommend using the newest driver compatible with the Java version that&#39;s used though and given the fact that almost everyone should run on at least Java 8 for various reasons users should be able to just pick any driver version."}],"answers":[{"comments":[{"owner":{"account_id":1553846,"reputation":375,"user_id":1445585,"accept_rate":80,"display_name":"Meadowlark Bradsher"},"score":0,"creation_date":1671666346,"post_id":69709136,"comment_id":132150461,"body_markdown":"This link returns a 404 but I don&#39;t know the correct location so I can&#39;t fix it.","body":"This link returns a 404 but I don&#39;t know the correct location so I can&#39;t fix it."}],"tags":[],"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1671686434,"creation_date":1635169427,"answer_id":69709136,"question_id":69707728,"body_markdown":"The question is a wrong one. Why would you want to use a JDBC driver that has as many bugs as possible?\r\n\r\nRather, you want to ask what the oldest version is that the latest JDBC driver supports, and [the documentation][1] will tell you that\r\n\r\n&gt; [...] nning old applications or JVMs), this is the driver you should be using. It supports PostgreSQL 8.2 or newer and requires Java 6 or newer.\r\n\r\nAlways use the latest JDBC driver, and you won&#39;t go wrong.\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/download/","title":"Compability JDBC driver versions and PostgreSQL versions","body":"<p>The question is a wrong one. Why would you want to use a JDBC driver that has as many bugs as possible?</p>\n<p>Rather, you want to ask what the oldest version is that the latest JDBC driver supports, and <a href=\"https://jdbc.postgresql.org/download/\" rel=\"nofollow noreferrer\">the documentation</a> will tell you that</p>\n<blockquote>\n<p>[...] nning old applications or JVMs), this is the driver you should be using. It supports PostgreSQL 8.2 or newer and requires Java 6 or newer.</p>\n</blockquote>\n<p>Always use the latest JDBC driver, and you won't go wrong.</p>\n"}],"owner":{"account_id":1709936,"reputation":958,"user_id":1568195,"display_name":"LeBavarois"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14404,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69709136,"answer_count":1,"score":4,"last_activity_date":1671686434,"creation_date":1635163387,"question_id":69707728,"body_markdown":"Can anyone point me on where to find an exact documenation which postgreSQL database version requires which JDBC driver version?\r\n\r\nIn the case at hand I want to know: What is the minimum required JDBC version in a Java server application connecting to a database of version PostgreSQL 11.13?\r\n\r\nUnfortunately the PostgreSQL JDBC Driver website is not really precise on this:\r\n\r\n&gt; The current version of the driver **should be compatible** with PostgreSQL\r\n&gt; 8.2 and higher, and Java 6 (JDBC 4.0), Java 7 (JDBC 4.1), Java 8 (JDBC 4.2) and Java 9.\r\n\r\nhttps://jdbc.postgresql.org/about/about.html\r\n\r\n","title":"Compability JDBC driver versions and PostgreSQL versions","body":"<p>Can anyone point me on where to find an exact documenation which postgreSQL database version requires which JDBC driver version?</p>\n<p>In the case at hand I want to know: What is the minimum required JDBC version in a Java server application connecting to a database of version PostgreSQL 11.13?</p>\n<p>Unfortunately the PostgreSQL JDBC Driver website is not really precise on this:</p>\n<blockquote>\n<p>The current version of the driver <strong>should be compatible</strong> with PostgreSQL\n8.2 and higher, and Java 6 (JDBC 4.0), Java 7 (JDBC 4.1), Java 8 (JDBC 4.2) and Java 9.</p>\n</blockquote>\n<p><a href=\"https://jdbc.postgresql.org/about/about.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/about/about.html</a></p>\n"},{"tags":["java","networking","connection"],"answers":[{"comments":[{"owner":{"account_id":1853481,"reputation":4250,"user_id":1679519,"accept_rate":72,"display_name":"Bernard"},"score":0,"creation_date":1349877900,"post_id":12821194,"comment_id":17342352,"body_markdown":"Thanks for your reply but I still don&#39;t know what does it mean the timeout expires? Does it mean that the expected time passed. For instance:\nmySocket.setSoTimeout(2000);\nmySocket will be expired after 2000 millisecond? So always timeout will be expire except the zero situation?","body":"Thanks for your reply but I still don&#39;t know what does it mean the timeout expires? Does it mean that the expected time passed. For instance: mySocket.setSoTimeout(2000); mySocket will be expired after 2000 millisecond? So always timeout will be expire except the zero situation?"},{"owner":{"account_id":1254086,"reputation":3387,"user_id":1213934,"accept_rate":58,"display_name":"logoff"},"score":0,"creation_date":1349877977,"post_id":12821194,"comment_id":17342404,"body_markdown":"It means that your Socket InputStream has not any byte available to read, that means no bytes have been sent to the Socket.","body":"It means that your Socket InputStream has not any byte available to read, that means no bytes have been sent to the Socket."},{"owner":{"account_id":1002291,"reputation":2383,"user_id":1016891,"accept_rate":100,"display_name":"tom_mai78101"},"score":8,"creation_date":1353331770,"post_id":12821194,"comment_id":18399799,"body_markdown":"I just find it weird that `setSoTimeout` is named as `setSoTimeout` and not `setSocketTimeout`, why?","body":"I just find it weird that <code>setSoTimeout</code> is named as <code>setSoTimeout</code> and not <code>setSocketTimeout</code>, why?"},{"owner":{"account_id":1254086,"reputation":3387,"user_id":1213934,"accept_rate":58,"display_name":"logoff"},"score":2,"creation_date":1353398679,"post_id":12821194,"comment_id":18424220,"body_markdown":"@tom_mai78101 sometimes, methods are shortened to avoid long names.","body":"@tom_mai78101 sometimes, methods are shortened to avoid long names."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":7,"creation_date":1367844042,"post_id":12821194,"comment_id":23507557,"body_markdown":"The `setSoTimeout()` method is obviously named after the `SO_TIMEOUT` option. It sets `SO_TIMEOUT.`","body":"The <code>setSoTimeout()</code> method is obviously named after the <code>SO_TIMEOUT</code> option. It sets <code>SO_TIMEOUT.</code>"},{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":6,"creation_date":1397146348,"post_id":12821194,"comment_id":35116028,"body_markdown":"Does this value ONLY apply to if no data has been received on the socket? What about a long running read? FYI I have a service call that I want to make sure it doesn&#39;t take any longer than 2 seconds. Is the only way to do that to create a thread that monitors the request?","body":"Does this value ONLY apply to if no data has been received on the socket? What about a long running read? FYI I have a service call that I want to make sure it doesn&#39;t take any longer than 2 seconds. Is the only way to do that to create a thread that monitors the request?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1487480508,"post_id":12821194,"comment_id":71800749,"body_markdown":"@KevinM The only way a read can be &#39;long-running&#39; is if no data arrives. Your question embodies a distinction without a difference. The correct way remains `setSoTimeout()`.","body":"@KevinM The only way a read can be &#39;long-running&#39; is if no data arrives. Your question embodies a distinction without a difference. The correct way remains <code>setSoTimeout()</code>."},{"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"score":0,"creation_date":1634234328,"post_id":12821194,"comment_id":122977076,"body_markdown":"@user207421 / Kevin M - you&#39;re talking about two different concepts here I guess. One is the &quot;low-level&quot; reading of a small chunk of data from a socket, the other is transferring a (possibly huge, several MB) file from a &#39;service&#39;.\nI still couldn&#39;t quite figure it out yet - but when setSoTimeout is set to lets say 2 seconds, that still means I can download several MB (even on a very slow connection!) &#39;through that socket&#39; as long as data keeps coming regularly within every 2 seconds- right?\nOf course technically that is not a &quot;long running read&quot; on that socket, but multiple short ones.","body":"@user207421 / Kevin M - you&#39;re talking about two different concepts here I guess. One is the &quot;low-level&quot; reading of a small chunk of data from a socket, the other is transferring a (possibly huge, several MB) file from a &#39;service&#39;. I still couldn&#39;t quite figure it out yet - but when setSoTimeout is set to lets say 2 seconds, that still means I can download several MB (even on a very slow connection!) &#39;through that socket&#39; as long as data keeps coming regularly within every 2 seconds- right? Of course technically that is not a &quot;long running read&quot; on that socket, but multiple short ones."},{"owner":{"account_id":416239,"reputation":502,"user_id":791512,"display_name":"snydergd"},"score":0,"creation_date":1655993620,"post_id":12821194,"comment_id":128468188,"body_markdown":"How do you know that 0 is the default value? I have been looking for documentation on this but so far this post is the most definitive answer I&#39;ve found.","body":"How do you know that 0 is the default value? I have been looking for documentation on this but so far this post is the most definitive answer I&#39;ve found."}],"tags":[],"owner":{"account_id":1254086,"reputation":3387,"user_id":1213934,"accept_rate":58,"display_name":"logoff"},"comment_count":9,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1349877658,"creation_date":1349877658,"answer_id":12821194,"question_id":12820874,"body_markdown":"The [JavaDoc][1] explains it very well:\r\n&gt; With this option set to a non-zero timeout, a read() call on the\r\n&gt; InputStream associated with this Socket will block for only this\r\n&gt; amount of time. If the timeout expires, a\r\n&gt; java.net.SocketTimeoutException is raised, though the Socket is still\r\n&gt; valid. The option must be enabled prior to entering the blocking\r\n&gt; operation to have effect. The timeout must be &gt; 0. A timeout of zero\r\n&gt; is interpreted as an infinite timeout.\r\n\r\n`SO_TIMEOUT` is the timeout that a `read()` call will block. If the timeout is reached, a [java.net.SocketTimeoutException][2] will be thrown. If you want to block forever put this option to zero (the default value), then the `read()` call will block until at least 1 byte could be read.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout%28int%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/SocketTimeoutException.html","title":"What is the functionality of setSoTimeout and how it works?","body":"<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout%28int%29\" rel=\"noreferrer\">JavaDoc</a> explains it very well:</p>\n\n<blockquote>\n  <p>With this option set to a non-zero timeout, a read() call on the\n  InputStream associated with this Socket will block for only this\n  amount of time. If the timeout expires, a\n  java.net.SocketTimeoutException is raised, though the Socket is still\n  valid. The option must be enabled prior to entering the blocking\n  operation to have effect. The timeout must be > 0. A timeout of zero\n  is interpreted as an infinite timeout.</p>\n</blockquote>\n\n<p><code>SO_TIMEOUT</code> is the timeout that a <code>read()</code> call will block. If the timeout is reached, a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/SocketTimeoutException.html\" rel=\"noreferrer\">java.net.SocketTimeoutException</a> will be thrown. If you want to block forever put this option to zero (the default value), then the <code>read()</code> call will block until at least 1 byte could be read.</p>\n"},{"comments":[{"owner":{"account_id":1254086,"reputation":3387,"user_id":1213934,"accept_rate":58,"display_name":"logoff"},"score":3,"creation_date":1349880056,"post_id":12822000,"comment_id":17343573,"body_markdown":"It is exactly what I have explained in my response... Anyway, I am happy because you finally understand the purpose of this socket option ;.))","body":"It is exactly what I have explained in my response... Anyway, I am happy because you finally understand the purpose of this socket option ;.))"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1349915894,"post_id":12822000,"comment_id":17357892,"body_markdown":"It is also exactly what it says in the Javadoc.","body":"It is also exactly what it says in the Javadoc."}],"tags":[],"owner":{"account_id":1853481,"reputation":4250,"user_id":1679519,"accept_rate":72,"display_name":"Bernard"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1349879822,"creation_date":1349879822,"answer_id":12822000,"question_id":12820874,"body_markdown":"This example made everything clear for me:  \r\nAs you can see setSoTimeout prevent the program to hang! It wait for `SO_TIMEOUT` time! if it does not get any signal it throw exception! It means that time expired!\r\n\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketTimeoutException;\r\n    \r\n    public class SocketTest extends Thread {\r\n      private ServerSocket serverSocket;\r\n    \r\n      public SocketTest() throws IOException {\r\n        serverSocket = new ServerSocket(8008);\r\n        serverSocket.setSoTimeout(10000);\r\n      }\r\n    \r\n      public void run() {\r\n        while (true) {\r\n          try {\r\n            System.out.println(&quot;Waiting for client on port &quot; + serverSocket.getLocalPort() + &quot;...&quot;);\r\n            Socket client = serverSocket.accept();\r\n    \r\n            System.out.println(&quot;Just connected to &quot; + client.getRemoteSocketAddress());\r\n            client.close();\r\n          } catch (SocketTimeoutException s) {\r\n            System.out.println(&quot;Socket timed out!&quot;);\r\n            break;\r\n          } catch (IOException e) {\r\n            e.printStackTrace();\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        try {\r\n          Thread t = new SocketTest();\r\n          t.start();\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }","title":"What is the functionality of setSoTimeout and how it works?","body":"<p>This example made everything clear for me:<br>\nAs you can see setSoTimeout prevent the program to hang! It wait for <code>SO_TIMEOUT</code> time! if it does not get any signal it throw exception! It means that time expired!</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketTimeoutException;\n\npublic class SocketTest extends Thread {\n  private ServerSocket serverSocket;\n\n  public SocketTest() throws IOException {\n    serverSocket = new ServerSocket(8008);\n    serverSocket.setSoTimeout(10000);\n  }\n\n  public void run() {\n    while (true) {\n      try {\n        System.out.println(\"Waiting for client on port \" + serverSocket.getLocalPort() + \"...\");\n        Socket client = serverSocket.accept();\n\n        System.out.println(\"Just connected to \" + client.getRemoteSocketAddress());\n        client.close();\n      } catch (SocketTimeoutException s) {\n        System.out.println(\"Socket timed out!\");\n        break;\n      } catch (IOException e) {\n        e.printStackTrace();\n        break;\n      }\n    }\n  }\n\n  public static void main(String[] args) {\n    try {\n      Thread t = new SocketTest();\n      t.start();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1369651283,"post_id":16398956,"comment_id":24163733,"body_markdown":"Nice answer, though the sockets API does not have an `SO_TIMEOUT` socket option. The implementation is not so straightforward.","body":"Nice answer, though the sockets API does not have an <code>SO_TIMEOUT</code> socket option. The implementation is not so straightforward."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1369653754,"post_id":16398956,"comment_id":24164788,"body_markdown":"Oops, typo city somewhere ;-(","body":"Oops, typo city somewhere ;-("},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":2,"creation_date":1369657446,"post_id":16398956,"comment_id":24166686,"body_markdown":"Typo? Not really, `SO_TIMEOUT` is an abstraction over OS-specific mechanisms. On Unix systems the JVM uses poll or select. On Windows it uses the Windows-only `SO_RCVTIMEO` socket option.","body":"Typo? Not really, <code>SO_TIMEOUT</code> is an abstraction over OS-specific mechanisms. On Unix systems the JVM uses poll or select. On Windows it uses the Windows-only <code>SO_RCVTIMEO</code> socket option."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1369903109,"post_id":16398956,"comment_id":24267596,"body_markdown":"@Joni It can&#39;t be an &#39;abstraction&#39; and non-existent at the same time. Unix and Linux both have SO_RCVTIMEO defined, although it doesn&#39;t actually do anything in some of them. I was using it 20 years ago. I don&#39;t know what &#39;the implementation is not so straightforward&#39; means. Your point is getting increasingly obscure.","body":"@Joni It can&#39;t be an &#39;abstraction&#39; and non-existent at the same time. Unix and Linux both have SO_RCVTIMEO defined, although it doesn&#39;t actually do anything in some of them. I was using it 20 years ago. I don&#39;t know what &#39;the implementation is not so straightforward&#39; means. Your point is getting increasingly obscure."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":3,"creation_date":1369907869,"post_id":16398956,"comment_id":24270088,"body_markdown":"EJP, this question is about the `SO_TIMEOUT` option in the *Java socket* API. If you study how it is implemented (at least in OpenJDK) you&#39;ll see that the Windows implementation uses `SO_RCVTIMEO`, while the Linux/Solaris implementation uses poll or select to achieve the same effect. Compare http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src/solaris/native/java/net/PlainSocketImpl.c and http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src/windows/native/java/net/TwoStacksPlainSocketImpl.c","body":"EJP, this question is about the <code>SO_TIMEOUT</code> option in the <i>Java socket</i> API. If you study how it is implemented (at least in OpenJDK) you&#39;ll see that the Windows implementation uses <code>SO_RCVTIMEO</code>, while the Linux/Solaris implementation uses poll or select to achieve the same effect. Compare <a href=\"http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src/solaris/native/java/net/PlainSocketImpl.c\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src&zwnj;&#8203;/&hellip;</a> and <a href=\"http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src/windows/native/java/net/TwoStacksPlainSocketImpl.c\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1369999277,"post_id":16398956,"comment_id":24309710,"body_markdown":"@Joni You&#39;re the one who started this name game, let&#39;s finish it accurately. *There is no* &#39;`SO_TIMEOUT` option in the Java `Socket` API. There is a `Socket.setSoTimeout()` *method,* whose [Javadoc](http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout(int)) inaccurately refers to `SO_TIMEOUT`, which as you correctly said in your first comment is non-existent. I&#39;m aware of how it&#39;s implemented and I&#39;m aware of the reasons why.","body":"@Joni You&#39;re the one who started this name game, let&#39;s finish it accurately. <i>There is no</i> &#39;<code>SO_TIMEOUT</code> option in the Java <code>Socket</code> API. There is a <code>Socket.setSoTimeout()</code> <i>method,</i> whose <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout(int)\" rel=\"nofollow noreferrer\">Javadoc</a> inaccurately refers to <code>SO_TIMEOUT</code>, which as you correctly said in your first comment is non-existent. I&#39;m aware of how it&#39;s implemented and I&#39;m aware of the reasons why."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1369999405,"post_id":16398956,"comment_id":24309795,"body_markdown":"To see that there is an `SO_TIMEOUT` option you can read the *text* of the documentation for `setSoTimeout` (&quot;Enable/disable SO_TIMEOUT with the specified timeout&quot;), and refer to http://docs.oracle.com/javase/7/docs/api/java/net/SocketOptions.html#SO_TIMEOUT, but, whatever.","body":"To see that there is an <code>SO_TIMEOUT</code> option you can read the <i>text</i> of the documentation for <code>setSoTimeout</code> (&quot;Enable/disable SO_TIMEOUT with the specified timeout&quot;), and refer to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/SocketOptions.html#SO_TIMEOUT\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/&hellip;</a>, but, whatever."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1369999779,"post_id":16398956,"comment_id":24310007,"body_markdown":"@Joni The exact point of your endless quibbling and self-contradiction over whether `SO_TIMEOUT` exists escapes me. The same statement about `SO_TIMEOUT` appears in the [1.4 documentation](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/Socket.html#setSoTimeout(int)) years before `SocketOptions.SO_TIMEOUT` had any public existence.","body":"@Joni The exact point of your endless quibbling and self-contradiction over whether <code>SO_TIMEOUT</code> exists escapes me. The same statement about <code>SO_TIMEOUT</code> appears in the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/net/Socket.html#setSoTimeout(int)\" rel=\"nofollow noreferrer\">1.4 documentation</a> years before <code>SocketOptions.SO_TIMEOUT</code> had any public existence."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1370001546,"post_id":16398956,"comment_id":24310973,"body_markdown":"The original &quot;quib&quot; was to correct your statement that `SO_TIMEOUT` was a part of the *BSD* socket API. Your corrected answer implies `SO_TIMEOUT` does not exist in *any* socket API. What I&#39;m trying to point out now is that `SO_TIMEOUT` is a socket option in the Java socket API, as you can read in the API spec, and that it&#39;s not equivalent to the `SO_RCVTIMEO` option in the BSD API.","body":"The original &quot;quib&quot; was to correct your statement that <code>SO_TIMEOUT</code> was a part of the <i>BSD</i> socket API. Your corrected answer implies <code>SO_TIMEOUT</code> does not exist in <i>any</i> socket API. What I&#39;m trying to point out now is that <code>SO_TIMEOUT</code> is a socket option in the Java socket API, as you can read in the API spec, and that it&#39;s not equivalent to the <code>SO_RCVTIMEO</code> option in the BSD API."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1382153487,"post_id":16398956,"comment_id":28860539,"body_markdown":"@Joni Whatever its abstract/existence/non-existence status may be, it is implemented on most platforms via the SO_RCVTIMEO option, and therefore 100% equivalent. The point of all this escapes me.","body":"@Joni Whatever its abstract/existence/non-existence status may be, it is implemented on most platforms via the SO_RCVTIMEO option, and therefore 100% equivalent. The point of all this escapes me."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":1,"creation_date":1382179287,"post_id":16398956,"comment_id":28865465,"body_markdown":"There&#39;s no reason why SO_TIMEOUT must be implemented using SO_RCVTIMEO. If you read the OpenJDK 7 source code you&#39;ll find this comment: *SO_TIMEOUT is the socket option used to specify the timeout for ServerSocket.accept and Socket.getInputStream().read. It does not typically map to a native level socket option. For Windows we special-case this and use the SOL_SOCKET/SO_RCVTIMEO    \nsocket option to specify a receive timeout on the socket.* On Linux and Solaris they use `poll` instead. If you don&#39;t see the point in discussing how SO_TIMEOUT is implemented why do you bring up SO_RCVTIMEO?","body":"There&#39;s no reason why SO_TIMEOUT must be implemented using SO_RCVTIMEO. If you read the OpenJDK 7 source code you&#39;ll find this comment: <i>SO_TIMEOUT is the socket option used to specify the timeout for ServerSocket.accept and Socket.getInputStream().read. It does not typically map to a native level socket option. For Windows we special-case this and use the SOL_SOCKET/SO_RCVTIMEO     socket option to specify a receive timeout on the socket.</i> On Linux and Solaris they use <code>poll</code> instead. If you don&#39;t see the point in discussing how SO_TIMEOUT is implemented why do you bring up SO_RCVTIMEO?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1387268665,"post_id":16398956,"comment_id":30876104,"body_markdown":"@Joni I didn&#39;t say that SO_TIMEOUT either must be or was implemented via SO_RCVTIMEO. I said that it is &#39;on most platforms&#39;. If you want to refute me, make sure it&#39;s something I&#39;ve actually said.","body":"@Joni I didn&#39;t say that SO_TIMEOUT either must be or was implemented via SO_RCVTIMEO. I said that it is &#39;on most platforms&#39;. If you want to refute me, make sure it&#39;s something I&#39;ve actually said."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1387275818,"post_id":16398956,"comment_id":30879981,"body_markdown":"Fine. First, &quot;on most platforms.&quot; What data do you have to support that claim? As you know, OpenJDK uses RCVTIMEO on Windows, and other mechanisms on Linux and Solaris, and one out of three is not &quot;most.&quot; Second, &quot;therefore 100% equivalent.&quot; The SO_TIMEOUT option also sets the timeout for `ServerSocket.accept` and, as you are well aware, no BSD API socket option does that.","body":"Fine. First, &quot;on most platforms.&quot; What data do you have to support that claim? As you know, OpenJDK uses RCVTIMEO on Windows, and other mechanisms on Linux and Solaris, and one out of three is not &quot;most.&quot; Second, &quot;therefore 100% equivalent.&quot; The SO_TIMEOUT option also sets the timeout for <code>ServerSocket.accept</code> and, as you are well aware, no BSD API socket option does that."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1522921655,"post_id":16398956,"comment_id":86348397,"body_markdown":"@Joni That would be a great argument if those were the only three platforms. They aren&#39;t.","body":"@Joni That would be a great argument if those were the only three platforms. They aren&#39;t."},{"owner":{"account_id":14272435,"reputation":2163,"user_id":10309564,"display_name":"grolschie"},"score":0,"creation_date":1589498083,"post_id":16398956,"comment_id":109326890,"body_markdown":"The accepted answer bascially indicates that the SO_TIMEOUT is the time that the socket will read for. But this answer says it&#39;s the time it will read for after getting no response. Quite different. So if I set it to say 2 seconds, according to your answer as long as I&#39;m still receiving a constant stream of packets, the socket could theoretically never time out. Whereas the accepted answer basically says the socket will listen for 2 seconds then timeout. So, I&#39;m wondering which it is. Or have I missed something. Thanks in advance.","body":"The accepted answer bascially indicates that the SO_TIMEOUT is the time that the socket will read for. But this answer says it&#39;s the time it will read for after getting no response. Quite different. So if I set it to say 2 seconds, according to your answer as long as I&#39;m still receiving a constant stream of packets, the socket could theoretically never time out. Whereas the accepted answer basically says the socket will listen for 2 seconds then timeout. So, I&#39;m wondering which it is. Or have I missed something. Thanks in advance."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":15,"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1658807634,"creation_date":1367843962,"answer_id":16398956,"question_id":12820874,"body_markdown":"&gt; Does it mean that I&#39;m blocking reading any input from the Server/Client for this socket for 2000 millisecond and after this time the socket is ready to read data?\r\n\r\nNo, it means that if no data arrives within 2000ms a `SocketTimeoutException` will be thrown.\r\n\r\n&gt; What does it mean *timeout expire*?\r\n\r\nIt means the 2000ms (in your case) elapses without any data arriving.\r\n\r\n&gt; What is the option which must be enabled prior to blocking operation?\r\n\r\nThere isn&#39;t one that &#39;must be&#39; enabled. If you mean &#39;may be enabled&#39;, this is one of them.\r\n\r\n&gt; *Infinite Timeout* means that the socket doesn&#39;t read anymore?\r\n\r\nWhat a strange suggestion. It means that if no data ever arrives you will block in the read forever.","title":"What is the functionality of setSoTimeout and how it works?","body":"<blockquote>\n<p>Does it mean that I'm blocking reading any input from the Server/Client for this socket for 2000 millisecond and after this time the socket is ready to read data?</p>\n</blockquote>\n<p>No, it means that if no data arrives within 2000ms a <code>SocketTimeoutException</code> will be thrown.</p>\n<blockquote>\n<p>What does it mean <em>timeout expire</em>?</p>\n</blockquote>\n<p>It means the 2000ms (in your case) elapses without any data arriving.</p>\n<blockquote>\n<p>What is the option which must be enabled prior to blocking operation?</p>\n</blockquote>\n<p>There isn't one that 'must be' enabled. If you mean 'may be enabled', this is one of them.</p>\n<blockquote>\n<p><em>Infinite Timeout</em> means that the socket doesn't read anymore?</p>\n</blockquote>\n<p>What a strange suggestion. It means that if no data ever arrives you will block in the read forever.</p>\n"}],"owner":{"account_id":1853481,"reputation":4250,"user_id":1679519,"accept_rate":72,"display_name":"Bernard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139838,"favorite_count":0,"down_vote_count":2,"up_vote_count":64,"accepted_answer_id":12821194,"answer_count":3,"score":62,"last_activity_date":1671686421,"creation_date":1349876776,"question_id":12820874,"body_markdown":"I&#39;m trying to learn Socket and I&#39;m confused by following text from Oracle&#39;s website:\r\n\r\n&gt; **setSoTimeout**\r\n&gt;\r\n&gt;    public void setSoTimeout(int timeout)  throws SocketException\r\n&gt;\r\n&gt; Enable/disable SO_TIMEOUT with the specified timeout, in milliseconds. With this option set to a non-zero timeout, a `read()` call on the `InputStream` associated with this Socket will block for only this amount of time. If the timeout expires, a `java.net.SocketTimeoutException` is raised, though the Socket is still valid. The option must be enabled prior to entering the blocking operation to have effect. The timeout must be &gt; 0. A timeout of zero is interpreted as an infinite timeout.\r\n\r\nMy questions:\r\n\r\n1. What is `SO_TIMEOUT`?\r\n2. Socket is the endpoint of a connection. If I say\r\n\r\n       mySocket.setSoTimeout(2000);\r\n\r\n    Does it mean that I&#39;m blocking reading any input from the Server/Client for this socket for 2000 millisecond and after this time the socket is ready to read data?\r\n\r\n3. What does it mean *timeout expire*?\r\n\r\n4. What is the option which must be enabled prior to blocking operation?\r\n\r\n5. *Infinite Timeout* means that the socket doesn&#39;t read anymore? ","title":"What is the functionality of setSoTimeout and how it works?","body":"<p>I'm trying to learn Socket and I'm confused by following text from Oracle's website:</p>\n<blockquote>\n<p><strong>setSoTimeout</strong></p>\n<p>public void setSoTimeout(int timeout)  throws SocketException</p>\n<p>Enable/disable SO_TIMEOUT with the specified timeout, in milliseconds. With this option set to a non-zero timeout, a <code>read()</code> call on the <code>InputStream</code> associated with this Socket will block for only this amount of time. If the timeout expires, a <code>java.net.SocketTimeoutException</code> is raised, though the Socket is still valid. The option must be enabled prior to entering the blocking operation to have effect. The timeout must be &gt; 0. A timeout of zero is interpreted as an infinite timeout.</p>\n</blockquote>\n<p>My questions:</p>\n<ol>\n<li><p>What is <code>SO_TIMEOUT</code>?</p>\n</li>\n<li><p>Socket is the endpoint of a connection. If I say</p>\n<pre><code>mySocket.setSoTimeout(2000);\n</code></pre>\n<p>Does it mean that I'm blocking reading any input from the Server/Client for this socket for 2000 millisecond and after this time the socket is ready to read data?</p>\n</li>\n<li><p>What does it mean <em>timeout expire</em>?</p>\n</li>\n<li><p>What is the option which must be enabled prior to blocking operation?</p>\n</li>\n<li><p><em>Infinite Timeout</em> means that the socket doesn't read anymore?</p>\n</li>\n</ol>\n"},{"tags":["java","android","android-fragments","android-recyclerview","android-viewpager2"],"comments":[{"owner":{"account_id":27311720,"reputation":1,"user_id":20826768,"display_name":"Naresh Podi"},"score":0,"creation_date":1675257890,"post_id":74880098,"comment_id":132889118,"body_markdown":"No one is able to answer this question....!","body":"No one is able to answer this question....!"}],"owner":{"account_id":27311720,"reputation":1,"user_id":20826768,"display_name":"Naresh Podi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671686103,"creation_date":1671645810,"question_id":74880098,"body_markdown":"I have been using the fragments(Java). The list is showing in the RecyclerView but when I swipe left or right, it is not getting detected. \r\n\r\nI do not know Kotlin. Need help in Java implementation.\r\n\r\nBible - Chapter view\r\n\r\n![1]\r\n\r\nThe expected behavior is to go to the next chapter or previous chapter when I swipe left or right. Each chapter is a List&lt;String&gt;.\r\n\r\nI have tried with ViewPager2 but I am unable to understand how to use RecyclerView inside ViewPager2.\r\n\r\n```\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.handsoncloud.holybible.R;\r\nimport com.handsoncloud.holybible.adapters.RecyclerBibleAdapter;\r\nimport com.handsoncloud.holybible.ui.chapter.ChaptersFragment;\r\nimport com.handsoncloud.holybible.utils.Books;\r\n\r\npublic class HomeFragment extends Fragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        super.onCreateView(inflater, container, savedInstanceState);\r\n\r\n        View rootView = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        RecyclerView recyclerView = rootView.findViewById(R.id.recycler_bibleBooks);\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        recyclerView.setHasFixedSize(true);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n\r\n        RecyclerBibleAdapter recyclerBibleAdapter = new RecyclerBibleAdapter(getContext(), Books.getBooks(), (book, position) -&gt; {\r\n            ChaptersFragment.BOOK_NAME_ENGLISH = Books.booksInEnglish.get(position);\r\n            ChaptersFragment.BOOK_NAME_TELUGU = Books.booksInTelugu.get(position);\r\n        });\r\n\r\n        recyclerView.setAdapter(recyclerBibleAdapter);\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JDqLg.png","title":"How to add right and left swipes to the RecyclerView?","body":"<p>I have been using the fragments(Java). The list is showing in the RecyclerView but when I swipe left or right, it is not getting detected.</p>\n<p>I do not know Kotlin. Need help in Java implementation.</p>\n<p>Bible - Chapter view</p>\n<p><img src=\"https://i.stack.imgur.com/JDqLg.png\" alt=\"1\" /></p>\n<p>The expected behavior is to go to the next chapter or previous chapter when I swipe left or right. Each chapter is a List.</p>\n<p>I have tried with ViewPager2 but I am unable to understand how to use RecyclerView inside ViewPager2.</p>\n<pre><code>import android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.handsoncloud.holybible.R;\nimport com.handsoncloud.holybible.adapters.RecyclerBibleAdapter;\nimport com.handsoncloud.holybible.ui.chapter.ChaptersFragment;\nimport com.handsoncloud.holybible.utils.Books;\n\npublic class HomeFragment extends Fragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        super.onCreateView(inflater, container, savedInstanceState);\n\n        View rootView = inflater.inflate(R.layout.fragment_home, container, false);\n\n        RecyclerView recyclerView = rootView.findViewById(R.id.recycler_bibleBooks);\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n        recyclerView.setHasFixedSize(true);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n\n        RecyclerBibleAdapter recyclerBibleAdapter = new RecyclerBibleAdapter(getContext(), Books.getBooks(), (book, position) -&gt; {\n            ChaptersFragment.BOOK_NAME_ENGLISH = Books.booksInEnglish.get(position);\n            ChaptersFragment.BOOK_NAME_TELUGU = Books.booksInTelugu.get(position);\n        });\n\n        recyclerView.setAdapter(recyclerBibleAdapter);\n        return rootView;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","gridview","android-glide"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1671637999,"post_id":74877086,"comment_id":132142679,"body_markdown":"I dont think you would need the `convertView == null` condition. I have always stayed without it and its never given me out an error(until its from my end &#128522;)","body":"I dont think you would need the <code>convertView == null</code> condition. I have always stayed without it and its never given me out an error(until its from my end )"}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671685188,"creation_date":1671685188,"answer_id":74884292,"question_id":74877086,"body_markdown":"The first time the listview loads the null condition is true.\r\nIf you see the null condition does not have the Glide code in it. Hence the picture loads only when the convertView is not null.\r\n\r\nSo you can keep the Glide code in both sections.\r\nIf that does not work.\r\nHere are a few things you can try \r\n 1. Load it directly with \r\n ```\r\nGlide.with(this)\r\n        .load(&quot;https://image.tmdb.org/t/p/w342&quot; + resultp.getPosterPath())\r\n..into(holder.poster);\r\n    ```\r\n\r\nIf that does not solve it. Change the DiskCacheStrategy to NONE","title":"Glide image only shows after I have scrolled down GridView?","body":"<p>The first time the listview loads the null condition is true.\nIf you see the null condition does not have the Glide code in it. Hence the picture loads only when the convertView is not null.</p>\n<p>So you can keep the Glide code in both sections.\nIf that does not work.\nHere are a few things you can try</p>\n<ol>\n<li>Load it directly with</li>\n</ol>\n<pre><code>Glide.with(this)\n       .load(&quot;https://image.tmdb.org/t/p/w342&quot; + resultp.getPosterPath())\n..into(holder.poster);\n   ```\n\nIf that does not solve it. Change the DiskCacheStrategy to NONE\n</code></pre>\n"}],"owner":{"account_id":3932827,"reputation":135,"user_id":5578676,"display_name":"Inside 4ndroid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74884292,"answer_count":1,"score":0,"last_activity_date":1671685188,"creation_date":1671630708,"question_id":74877086,"body_markdown":"I have been messing with tmdb and movies and I have run into an issue where when my fragment loads and populates my gridview adapter the loading of images takes place without any error, but physically I can&#39;t see it until I scroll the `GridView` down a few lines and the back-up again.\r\n\r\nThe image shows what it&#39;s like before scrolling. Then after scrolling all the other images appear.???\r\n\r\nHere is my adapter code for my `GridView`.\r\n\r\n\r\n```\r\npackage com.rwsw.livesofa.tv.gridviews;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.BaseAdapter;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.Priority;\r\nimport com.bumptech.glide.load.DataSource;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.bumptech.glide.load.engine.GlideException;\r\nimport com.bumptech.glide.request.RequestListener;\r\nimport com.bumptech.glide.request.target.Target;\r\nimport com.rwsw.livesofa.R;\r\nimport com.rwsw.livesofa.models.MovieModel;\r\nimport com.rwsw.livesofa.tv.fragments.FragmentRecommended;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class Grid_View_Recommended extends BaseAdapter {\r\n\r\n    Context context;\r\n    LayoutInflater inflater;\r\n    private static ArrayList&lt;MovieModel&gt; movieModelList;\r\n    MovieModel resultp;\r\n\r\n    public Grid_View_Recommended(Context context, ArrayList&lt;MovieModel&gt; arraylist) {\r\n        this.context = context;\r\n        movieModelList = arraylist;\r\n    }\r\n\r\n    public class ViewHolder {\r\n        public ImageView poster;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return movieModelList.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return 0;\r\n    }\r\n\r\n    public View getView(final int position, View convertView, ViewGroup parent) {\r\n        View itemView = convertView;\r\n\r\n        Grid_View_Recommended.ViewHolder holder;\r\n\r\n        if (convertView == null) {\r\n            inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            itemView = inflater.inflate(R.layout.item_movie, parent, false);\r\n\r\n            holder = new ViewHolder();\r\n            holder.poster = (ImageView) itemView.findViewById(R.id.poster);\r\n\r\n            itemView.setTag(holder);\r\n        } else {\r\n            holder = (Grid_View_Recommended.ViewHolder) itemView.getTag();\r\n            resultp = movieModelList.get(position);\r\n\r\n\r\n            Glide.with(context)\r\n                    .asBitmap()\r\n                    .load(&quot;https://image.tmdb.org/t/p/w342&quot; + resultp.getPosterPath())\r\n                    \r\n                    .diskCacheStrategy(DiskCacheStrategy.AUTOMATIC)\r\n                    .into(holder.poster);\r\n\r\n        }\r\n\r\n        return itemView;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI have done many searches and tried loading as bitmap and using different cache strategy&#39;s, but cant get it to work.","title":"Glide image only shows after I have scrolled down GridView?","body":"<p>I have been messing with tmdb and movies and I have run into an issue where when my fragment loads and populates my gridview adapter the loading of images takes place without any error, but physically I can't see it until I scroll the <code>GridView</code> down a few lines and the back-up again.</p>\n<p>The image shows what it's like before scrolling. Then after scrolling all the other images appear.???</p>\n<p>Here is my adapter code for my <code>GridView</code>.</p>\n<pre><code>package com.rwsw.livesofa.tv.gridviews;\n\nimport android.content.Context;\nimport android.graphics.drawable.Drawable;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.BaseAdapter;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.Priority;\nimport com.bumptech.glide.load.DataSource;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\nimport com.bumptech.glide.load.engine.GlideException;\nimport com.bumptech.glide.request.RequestListener;\nimport com.bumptech.glide.request.target.Target;\nimport com.rwsw.livesofa.R;\nimport com.rwsw.livesofa.models.MovieModel;\nimport com.rwsw.livesofa.tv.fragments.FragmentRecommended;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class Grid_View_Recommended extends BaseAdapter {\n\n    Context context;\n    LayoutInflater inflater;\n    private static ArrayList&lt;MovieModel&gt; movieModelList;\n    MovieModel resultp;\n\n    public Grid_View_Recommended(Context context, ArrayList&lt;MovieModel&gt; arraylist) {\n        this.context = context;\n        movieModelList = arraylist;\n    }\n\n    public class ViewHolder {\n        public ImageView poster;\n    }\n\n    @Override\n    public int getCount() {\n        return movieModelList.size();\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return 0;\n    }\n\n    public View getView(final int position, View convertView, ViewGroup parent) {\n        View itemView = convertView;\n\n        Grid_View_Recommended.ViewHolder holder;\n\n        if (convertView == null) {\n            inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            itemView = inflater.inflate(R.layout.item_movie, parent, false);\n\n            holder = new ViewHolder();\n            holder.poster = (ImageView) itemView.findViewById(R.id.poster);\n\n            itemView.setTag(holder);\n        } else {\n            holder = (Grid_View_Recommended.ViewHolder) itemView.getTag();\n            resultp = movieModelList.get(position);\n\n\n            Glide.with(context)\n                    .asBitmap()\n                    .load(&quot;https://image.tmdb.org/t/p/w342&quot; + resultp.getPosterPath())\n                    \n                    .diskCacheStrategy(DiskCacheStrategy.AUTOMATIC)\n                    .into(holder.poster);\n\n        }\n\n        return itemView;\n    }\n\n}\n\n</code></pre>\n<p>I have done many searches and tried loading as bitmap and using different cache strategy's, but cant get it to work.</p>\n"},{"tags":["java","swing","netbeans","jframe"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671655931,"post_id":74881528,"comment_id":132148224,"body_markdown":"See JFrame.setDefaultClosingAction(JFrame.DISPOSE_ON_CLOSE)","body":"See JFrame.setDefaultClosingAction(JFrame.DISPOSE_ON_CLOSE)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1671656033,"post_id":74881528,"comment_id":132148250,"body_markdown":"Your &quot;controller&quot; should not be extending from `JFrame`.  When the user has been successfully authenticated, you should have a event notification which you send to the login view, it will then close it self, same thing if the authentication fails, you&#39;d send an appropriate event to the view and it would decide how best to notify the user.  I&#39;d also discourage the use of `static` - this isn&#39;t going to help you","body":"Your &quot;controller&quot; should not be extending from <code>JFrame</code>.  When the user has been successfully authenticated, you should have a event notification which you send to the login view, it will then close it self, same thing if the authentication fails, you&#39;d send an appropriate event to the view and it would decide how best to notify the user.  I&#39;d also discourage the use of <code>static</code> - this isn&#39;t going to help you"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671656213,"post_id":74881528,"comment_id":132148306,"body_markdown":"For [example](https://stackoverflow.com/questions/72157369/login-system-java-and-postgresql/72157680#72157680)","body":"For <a href=\"https://stackoverflow.com/questions/72157369/login-system-java-and-postgresql/72157680#72157680\">example</a>"},{"owner":{"account_id":13852350,"reputation":55,"user_id":9999993,"display_name":"Chizo"},"score":0,"creation_date":1671686006,"post_id":74881528,"comment_id":132152989,"body_markdown":"Thank you @MadProgrammer for your comment. Can you please go a step further to give an example using my own codes. I checked the link, they context there are not very similar. I am pretty new to Java.","body":"Thank you @MadProgrammer for your comment. Can you please go a step further to give an example using my own codes. I checked the link, they context there are not very similar. I am pretty new to Java."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1671686156,"post_id":74881528,"comment_id":132153007,"body_markdown":"Short answer is no - because your code is wrong - the example I&#39;ve provide is basically the same thing you want to do, just done (slightly) better :P","body":"Short answer is no - because your code is wrong - the example I&#39;ve provide is basically the same thing you want to do, just done (slightly) better :P"}],"answers":[{"comments":[{"owner":{"account_id":13852350,"reputation":55,"user_id":9999993,"display_name":"Chizo"},"score":0,"creation_date":1671684172,"post_id":74881670,"comment_id":132152777,"body_markdown":"How do I get the instance that is displayed. I&#39;m trying to have separate codes for views and controller using an MVC design pattern.","body":"How do I get the instance that is displayed. I&#39;m trying to have separate codes for views and controller using an MVC design pattern."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1671697442,"post_id":74881670,"comment_id":132155243,"body_markdown":"You would need to either pass the instance of `LoginPage` that calls the `LoginController` to the controller or store the instance somewhere where the controller can access it. However, my advice would be to do neither. I think multiple frames are not a good UX. Instead create one `JFrame` instance that displays the login components and after the user logged in, replace the login components with the components that should be shown next. There are multiple ways to do that. E.g. you could use `CardLayout` or you could actually `remove` the login components and `add` the next set of components.","body":"You would need to either pass the instance of <code>LoginPage</code> that calls the <code>LoginController</code> to the controller or store the instance somewhere where the controller can access it. However, my advice would be to do neither. I think multiple frames are not a good UX. Instead create one <code>JFrame</code> instance that displays the login components and after the user logged in, replace the login components with the components that should be shown next. There are multiple ways to do that. E.g. you could use <code>CardLayout</code> or you could actually <code>remove</code> the login components and <code>add</code> the next set of components."}],"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671656135,"creation_date":1671656135,"answer_id":74881670,"question_id":74881528,"body_markdown":"The `LoginPage` instance that you are &quot;closing&quot; in your `LoginController` class with the line\r\n```\r\nLoginPage.lp.dispose();\r\n```\r\nis not the instance which you initially displayed with\r\n```\r\nnew LoginPage().setVisible(true);\r\n```\r\n\r\nI am afraid your whole approach to creating a Swing UI is wrong. Maybe work through the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/) first.\r\n","title":"Close JFrame and open another JFrame from another class","body":"<p>The <code>LoginPage</code> instance that you are &quot;closing&quot; in your <code>LoginController</code> class with the line</p>\n<pre><code>LoginPage.lp.dispose();\n</code></pre>\n<p>is not the instance which you initially displayed with</p>\n<pre><code>new LoginPage().setVisible(true);\n</code></pre>\n<p>I am afraid your whole approach to creating a Swing UI is wrong. Maybe work through the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Swing tutorial</a> first.</p>\n"}],"owner":{"account_id":13852350,"reputation":55,"user_id":9999993,"display_name":"Chizo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74881670,"answer_count":1,"score":0,"last_activity_date":1671685022,"creation_date":1671654985,"question_id":74881528,"body_markdown":"I am pretty new to Java. I have this particular issue that have kept me from moving to the next phase of my project. I want to close a JFrame from my main class from another class and open another jFrame on button click. I have been able to open the second JFrame on button click, but can&#39;t close the first JFrame. I am working with **Netbeans**. \r\n\r\n**NOTE:** I&#39;m trying to have separate codes for views and controller using an MVC design pattern.\r\n\r\nHere are my codes.\r\n\r\n**LoginPage (Main class)**\r\n\r\n```\r\npackage auth;\r\n\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class LoginPage extends javax.swing.JFrame {\r\n    public static LoginPage lp = new LoginPage(); \r\n    \r\n    public LoginPage() {\r\n        initComponents();\r\n    }\r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here: Cancel button\r\n        System.exit(0);\r\n    }                                        \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here: Login button\r\n        String uname = jTextField1.getText();\r\n        String pword = jPasswordField1.getText();\r\n        \r\n        try {\r\n            LoginController.collectUserData(uname, pword);\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(LoginController.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }                                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        \r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new LoginPage().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n```\r\n\r\nand the other class\r\n\r\n**LoginController** \r\n\r\n```\r\npackage auth;\r\n\r\nimport dbconnect.dbconnect;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.swing.*;\r\n\r\npublic class LoginController extends javax.swing.JFrame { \r\n    \r\n    public static void collectUserData(String uname, String pword) throws SQLException {\r\n        Login user = new Login();\r\n        user.setUsername(uname);\r\n        user.setPass(pword);\r\n        checkDatabaseAndLogin(user);\r\n    }\r\n\r\n    public static void checkDatabaseAndLogin(Login test) throws SQLException {\r\n        JFrame rootPane;\r\n        if (test.getUsername().equals(&quot;&quot;)||test.getPass().equals(&quot;&quot;)) {\r\n            rootPane = new JFrame();\r\n            JOptionPane.showMessageDialog(rootPane, &quot;Some fields are empty&quot;, &quot;Error&quot;, 1);\r\n        } else {\r\n            try {\r\n                //LoginPage lp = new LoginPage();\r\n                Connection con = dbconnect.connect();\r\n                PreparedStatement pst = con.prepareStatement(&quot;select * from test where username=? and pass=?&quot;);\r\n                pst.setString(1, test.getUsername());\r\n                pst.setString(2, test.getPass());\r\n                ResultSet rs = pst.executeQuery();\r\n                                \r\n                if (rs.next()) {\r\n                    String un = rs.getString(&quot;username&quot;);\r\n                    //System.out.println(un);\r\n                    PatronPage pt = new PatronPage(un);\r\n                    pt.setVisible(true);  //Code to open the new window\r\n                    LoginPage.lp.dispose(); //Code to close the old window\r\n                } else {\r\n                    rootPane = new JFrame();\r\n                    JOptionPane.showMessageDialog(rootPane, &quot;Username or Password do not match record&quot;, &quot;Login error&quot;, 1);\r\n                } \r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;&quot;+ex);\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n\r\nOf course there are other system generated codes in Netbeans I removed, I just provided the chunk of code that I feel are relevant to the solution. **Please help out, I&#39;m stuck**.\r\n","title":"Close JFrame and open another JFrame from another class","body":"<p>I am pretty new to Java. I have this particular issue that have kept me from moving to the next phase of my project. I want to close a JFrame from my main class from another class and open another jFrame on button click. I have been able to open the second JFrame on button click, but can't close the first JFrame. I am working with <strong>Netbeans</strong>.</p>\n<p><strong>NOTE:</strong> I'm trying to have separate codes for views and controller using an MVC design pattern.</p>\n<p>Here are my codes.</p>\n<p><strong>LoginPage (Main class)</strong></p>\n<pre><code>package auth;\n\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class LoginPage extends javax.swing.JFrame {\n    public static LoginPage lp = new LoginPage(); \n    \n    public LoginPage() {\n        initComponents();\n    }\n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here: Cancel button\n        System.exit(0);\n    }                                        \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here: Login button\n        String uname = jTextField1.getText();\n        String pword = jPasswordField1.getText();\n        \n        try {\n            LoginController.collectUserData(uname, pword);\n        } catch (SQLException ex) {\n            Logger.getLogger(LoginController.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        \n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new LoginPage().setVisible(true);\n            }\n        });\n    }\n\n\n</code></pre>\n<p>and the other class</p>\n<p><strong>LoginController</strong></p>\n<pre><code>package auth;\n\nimport dbconnect.dbconnect;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport javax.swing.*;\n\npublic class LoginController extends javax.swing.JFrame { \n    \n    public static void collectUserData(String uname, String pword) throws SQLException {\n        Login user = new Login();\n        user.setUsername(uname);\n        user.setPass(pword);\n        checkDatabaseAndLogin(user);\n    }\n\n    public static void checkDatabaseAndLogin(Login test) throws SQLException {\n        JFrame rootPane;\n        if (test.getUsername().equals(&quot;&quot;)||test.getPass().equals(&quot;&quot;)) {\n            rootPane = new JFrame();\n            JOptionPane.showMessageDialog(rootPane, &quot;Some fields are empty&quot;, &quot;Error&quot;, 1);\n        } else {\n            try {\n                //LoginPage lp = new LoginPage();\n                Connection con = dbconnect.connect();\n                PreparedStatement pst = con.prepareStatement(&quot;select * from test where username=? and pass=?&quot;);\n                pst.setString(1, test.getUsername());\n                pst.setString(2, test.getPass());\n                ResultSet rs = pst.executeQuery();\n                                \n                if (rs.next()) {\n                    String un = rs.getString(&quot;username&quot;);\n                    //System.out.println(un);\n                    PatronPage pt = new PatronPage(un);\n                    pt.setVisible(true);  //Code to open the new window\n                    LoginPage.lp.dispose(); //Code to close the old window\n                } else {\n                    rootPane = new JFrame();\n                    JOptionPane.showMessageDialog(rootPane, &quot;Username or Password do not match record&quot;, &quot;Login error&quot;, 1);\n                } \n            } catch (Exception ex) {\n                System.out.println(&quot;&quot;+ex);\n            }\n        }\n    }\n    \n}\n</code></pre>\n<p>Of course there are other system generated codes in Netbeans I removed, I just provided the chunk of code that I feel are relevant to the solution. <strong>Please help out, I'm stuck</strong>.</p>\n"},{"tags":["java","flutter","kotlin","dart","gradle"],"comments":[{"owner":{"account_id":22760002,"reputation":1035,"user_id":16918979,"display_name":"Yashraj"},"score":0,"creation_date":1671689823,"post_id":74884211,"comment_id":132153580,"body_markdown":"check this : https://stackoverflow.com/questions/25145539/android-studio-compile-error-content-is-not-allowed-in-prolog","body":"check this : <a href=\"https://stackoverflow.com/questions/25145539/android-studio-compile-error-content-is-not-allowed-in-prolog\" title=\"android studio compile error content is not allowed in prolog\">stackoverflow.com/questions/25145539/&hellip;</a>"}],"owner":{"account_id":18651985,"reputation":327,"user_id":13595250,"display_name":"watch dog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671684360,"creation_date":1671684360,"question_id":74884211,"body_markdown":"Hey guys I just started building flutter app for the first time and I am having this error, I have installed all requirements and configurations but I still, have this error when I click on run.\r\n\r\n```\r\nLaunching lib\\main.dart on Android SDK built for x86 in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n[Fatal Error] jvnet-parent-5.pom:2:1: Content is not allowed in prolog.\r\n[Fatal Error] kotlin-stdlib-common-1.3.72.pom:2:1: Content is not allowed in prolog.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\Users\\watchdog\\Documents\\coding\\Android\\flutter_1\\android\\app\\build.gradle&#39; line: 26\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Could not resolve all files for configuration &#39;classpath&#39;.\r\n   &gt; Could not resolve org.glassfish.jaxb:jaxb-runtime:2.3.1.\r\n     Required by:\r\n         unspecified:unspecified:unspecified &gt; com.android.tools.build:gradle:4.1.0 &gt; androidx.databinding:databinding-compiler-common:4.1.0\r\n         unspecified:unspecified:unspecified &gt; com.android.tools.build:gradle:4.1.0 &gt; com.android.tools.build:builder:4.1.0 &gt; com.android.tools:sdklib:27.1.0 &gt; com.android.tools:repository:27.1.0\r\n      &gt; Could not resolve org.glassfish.jaxb:jaxb-runtime:2.3.1.\r\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/glassfish/jaxb/jaxb-runtime/2.3.1/jaxb-runtime-2.3.1.pom\r\n            &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-runtime-parent:2.3.1.\r\n               &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-runtime-parent:2.3.1.\r\n                  &gt; Could not parse POM https://repo.maven.apache.org/maven2/com/sun/xml/bind/mvn/jaxb-runtime-parent/2.3.1/jaxb-runtime-parent-2.3.1.pom\r\n                     &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-parent:2.3.1.\r\n                        &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-parent:2.3.1.\r\n                           &gt; Could not parse POM https://repo.maven.apache.org/maven2/com/sun/xml/bind/mvn/jaxb-parent/2.3.1/jaxb-parent-2.3.1.pom\r\n                              &gt; Could not resolve com.sun.xml.bind:jaxb-bom-ext:2.3.1.\r\n                                 &gt; Could not resolve com.sun.xml.bind:jaxb-bom-ext:2.3.1.\r\n                                    &gt; Could not parse POM https://repo.maven.apache.org/maven2/com/sun/xml/bind/jaxb-bom-ext/2.3.1/jaxb-bom-ext-2.3.1.pom\r\n                                       &gt; Could not resolve org.glassfish.jaxb:jaxb-bom:2.3.1.\r\n                                          &gt; Could not resolve org.glassfish.jaxb:jaxb-bom:2.3.1.\r\n                                             &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/glassfish/jaxb/jaxb-bom/2.3.1/jaxb-bom-2.3.1.pom\r\n                                                &gt; Could not resolve net.java:jvnet-parent:5.\r\n                                                   &gt; Could not resolve net.java:jvnet-parent:5.\r\n                                                      &gt; Could not parse POM https://repo.maven.apache.org/maven2/net/java/jvnet-parent/5/jvnet-parent-5.pom\r\n                                                         &gt; Content is not allowed in prolog.\r\n   &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72.\r\n     Required by:\r\n         unspecified:unspecified:unspecified &gt; com.android.tools.build:gradle:4.1.0 &gt; org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.72 &gt; org.jetbrains.kotlin:kotlin-stdlib:1.3.72\r\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72.\r\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-common/1.3.72/kotlin-stdlib-common-1.3.72.pom\r\n            &gt; Content is not allowed in prolog.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 10s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n```\r\nPlease any help on fixing this?","title":"Exception: Gradle task assembleDebug failed with exit code 1","body":"<p>Hey guys I just started building flutter app for the first time and I am having this error, I have installed all requirements and configurations but I still, have this error when I click on run.</p>\n<pre><code>Launching lib\\main.dart on Android SDK built for x86 in debug mode...\nRunning Gradle task 'assembleDebug'...\n[Fatal Error] jvnet-parent-5.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] kotlin-stdlib-common-1.3.72.pom:2:1: Content is not allowed in prolog.\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\watchdog\\Documents\\coding\\Android\\flutter_1\\android\\app\\build.gradle' line: 26\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Could not resolve all files for configuration 'classpath'.\n   &gt; Could not resolve org.glassfish.jaxb:jaxb-runtime:2.3.1.\n     Required by:\n         unspecified:unspecified:unspecified &gt; com.android.tools.build:gradle:4.1.0 &gt; androidx.databinding:databinding-compiler-common:4.1.0\n         unspecified:unspecified:unspecified &gt; com.android.tools.build:gradle:4.1.0 &gt; com.android.tools.build:builder:4.1.0 &gt; com.android.tools:sdklib:27.1.0 &gt; com.android.tools:repository:27.1.0\n      &gt; Could not resolve org.glassfish.jaxb:jaxb-runtime:2.3.1.\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/glassfish/jaxb/jaxb-runtime/2.3.1/jaxb-runtime-2.3.1.pom\n            &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-runtime-parent:2.3.1.\n               &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-runtime-parent:2.3.1.\n                  &gt; Could not parse POM https://repo.maven.apache.org/maven2/com/sun/xml/bind/mvn/jaxb-runtime-parent/2.3.1/jaxb-runtime-parent-2.3.1.pom\n                     &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-parent:2.3.1.\n                        &gt; Could not resolve com.sun.xml.bind.mvn:jaxb-parent:2.3.1.\n                           &gt; Could not parse POM https://repo.maven.apache.org/maven2/com/sun/xml/bind/mvn/jaxb-parent/2.3.1/jaxb-parent-2.3.1.pom\n                              &gt; Could not resolve com.sun.xml.bind:jaxb-bom-ext:2.3.1.\n                                 &gt; Could not resolve com.sun.xml.bind:jaxb-bom-ext:2.3.1.\n                                    &gt; Could not parse POM https://repo.maven.apache.org/maven2/com/sun/xml/bind/jaxb-bom-ext/2.3.1/jaxb-bom-ext-2.3.1.pom\n                                       &gt; Could not resolve org.glassfish.jaxb:jaxb-bom:2.3.1.\n                                          &gt; Could not resolve org.glassfish.jaxb:jaxb-bom:2.3.1.\n                                             &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/glassfish/jaxb/jaxb-bom/2.3.1/jaxb-bom-2.3.1.pom\n                                                &gt; Could not resolve net.java:jvnet-parent:5.\n                                                   &gt; Could not resolve net.java:jvnet-parent:5.\n                                                      &gt; Could not parse POM https://repo.maven.apache.org/maven2/net/java/jvnet-parent/5/jvnet-parent-5.pom\n                                                         &gt; Content is not allowed in prolog.\n   &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72.\n     Required by:\n         unspecified:unspecified:unspecified &gt; com.android.tools.build:gradle:4.1.0 &gt; org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.72 &gt; org.jetbrains.kotlin:kotlin-stdlib:1.3.72\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72.\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-common/1.3.72/kotlin-stdlib-common-1.3.72.pom\n            &gt; Content is not allowed in prolog.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 10s\nException: Gradle task assembleDebug failed with exit code 1\n\n</code></pre>\n<p>Please any help on fixing this?</p>\n"},{"tags":["java","concurrency","java-8","java.util.concurrent"],"comments":[{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":0,"creation_date":1433089584,"post_id":30559707,"comment_id":49190889,"body_markdown":"Yes; `CompletableFuture` is sadly _never_ used anywhere in the JDK. http://www.nurkiewicz.com/2013/05/java-8-completablefuture-in-action.html","body":"Yes; <code>CompletableFuture</code> is sadly <i>never</i> used anywhere in the JDK. <a href=\"http://www.nurkiewicz.com/2013/05/java-8-completablefuture-in-action.html\" rel=\"nofollow noreferrer\">nurkiewicz.com/2013/05/java-8-completablefuture-in-action.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":2,"creation_date":1433092356,"post_id":30559707,"comment_id":49191869,"body_markdown":"@SLaks - yes, the *interface* is hideous. it&#39;s probably intended as a good implementation that we can use internally. very unfortunate that java does not have a good official async interface.","body":"@SLaks - yes, the <i>interface</i> is hideous. it&#39;s probably intended as a good implementation that we can use internally. very unfortunate that java does not have a good official async interface."},{"owner":{"account_id":239025,"reputation":4435,"user_id":508328,"accept_rate":90,"display_name":"andbi"},"score":0,"creation_date":1701037776,"post_id":30559707,"comment_id":136722247,"body_markdown":"Interestingly, the author&#39;s approach is actually better than any of the provided answers, including the accepted one :-) Concise and w/o jumping through hoops with wrapping/unwrapping exceptions.","body":"Interestingly, the author&#39;s approach is actually better than any of the provided answers, including the accepted one :-) Concise and w/o jumping through hoops with wrapping/unwrapping exceptions."}],"answers":[{"comments":[{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":8,"creation_date":1433093526,"post_id":30560309,"comment_id":49192310,"body_markdown":"That just makes it seem even more inconsistent to me. Because yes, it _does_ allow you to handle exceptions using e.g. `whenComplete`. But you can only get the exceptions &quot;into&quot; the process by breaking out of the fluent style and using your own static helper methods which then call `completeExceptionally`. Which is really ugly to read in code.","body":"That just makes it seem even more inconsistent to me. Because yes, it <i>does</i> allow you to handle exceptions using e.g. <code>whenComplete</code>. But you can only get the exceptions &quot;into&quot; the process by breaking out of the fluent style and using your own static helper methods which then call <code>completeExceptionally</code>. Which is really ugly to read in code."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":7,"creation_date":1433093728,"post_id":30560309,"comment_id":49192387,"body_markdown":"There were a *lot* of discussions about this on the mailing list. In the end, I wasn&#39;t convinced by Doug Lea, and I find the whole thing not programmer-friendly. I ended up making my own [Async](http://bayou.io/release/0.9/javadoc/bayou/async/Async.html) interface.","body":"There were a <i>lot</i> of discussions about this on the mailing list. In the end, I wasn&#39;t convinced by Doug Lea, and I find the whole thing not programmer-friendly. I ended up making my own <a href=\"http://bayou.io/release/0.9/javadoc/bayou/async/Async.html\" rel=\"nofollow noreferrer\">Async</a> interface."},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":1,"creation_date":1433093808,"post_id":30560309,"comment_id":49192413,"body_markdown":"Yeah, I saw that. Really good job on the API there, this is exactly what I would have expected CompletableFuture to be like.","body":"Yeah, I saw that. Really good job on the API there, this is exactly what I would have expected CompletableFuture to be like."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1433093864,"post_id":30560309,"comment_id":49192427,"body_markdown":"but there needs to be an *official* API, so that different libraries can interact. sigh.","body":"but there needs to be an <i>official</i> API, so that different libraries can interact. sigh."}],"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1671684184,"creation_date":1433092894,"answer_id":30560309,"question_id":30559707,"body_markdown":"You are supposed to use `supplyAsync(Supplier&lt;U&gt;)`\r\n\r\nIn general, lambdas and checked exceptions do not work very well together, and `CompletableFuture` avoids checked exceptions by design. Though in your case it should be no problem.\r\n","title":"CompletableFuture from Callable?","body":"<p>You are supposed to use <code>supplyAsync(Supplier&lt;U&gt;)</code></p>\n<p>In general, lambdas and checked exceptions do not work very well together, and <code>CompletableFuture</code> avoids checked exceptions by design. Though in your case it should be no problem.</p>\n"},{"comments":[{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1660805162,"post_id":70587344,"comment_id":129620287,"body_markdown":"a honest question here: for many years now I&#39;ve been doing `CompletableFuture.supplyAsync(()-&gt;{ try{return myCallable.call();} catch(Exception e){throw new CompletionException(e);} }, myExecutor)` exactly for `myCallable` to go through all the standard mechanisms of `CompletableFuture`. Do you think my approach is missing something?   \n(you can add additional `catch(CompletionException e){throw e;}` there if you expect `myCallable` to ever throw a `CompletionException` to avoid double wrapping)","body":"a honest question here: for many years now I&#39;ve been doing <code>CompletableFuture.supplyAsync(()-&gt;{ try{return myCallable.call();} catch(Exception e){throw new CompletionException(e);} }, myExecutor)</code> exactly for <code>myCallable</code> to go through all the standard mechanisms of <code>CompletableFuture</code>. Do you think my approach is missing something?    (you can add additional <code>catch(CompletionException e){throw e;}</code> there if you expect <code>myCallable</code> to ever throw a <code>CompletionException</code> to avoid double wrapping)"},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1660845909,"post_id":70587344,"comment_id":129635940,"body_markdown":"You are right, I didn&#39;t know that `CompletableFuture#supplyAsync` wraps all `Throwable`s into a `CompletionException`. I&#39;m wondering why the thrown `Throwable` isn&#39;t just delegated? I think I should update my answer, your code seems fine and more correct than what I do, now that I know that  `Throwable`s are wrapped. Your additional code to avoid double wrapping isn&#39;t necessary, see https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/CompletableFuture.java#L273.","body":"You are right, I didn&#39;t know that <code>CompletableFuture#supplyAsync</code> wraps all <code>Throwable</code>s into a <code>CompletionException</code>. I&#39;m wondering why the thrown <code>Throwable</code> isn&#39;t just delegated? I think I should update my answer, your code seems fine and more correct than what I do, now that I know that  <code>Throwable</code>s are wrapped. Your additional code to avoid double wrapping isn&#39;t necessary, see <a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/CompletableFuture.java#L273\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/j&zwnj;&#8203;ava/&hellip;</a>."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1660900016,"post_id":70587344,"comment_id":129647625,"body_markdown":"regarding double wrapping: `encodeThrowable(e)` prevents yet another additional wrapping by `CompletableFuture` but if `myCallable` throws a `CompletionException` and my `catch(Exception)` wraps it in second `CompletionException`, then `encodeThrowable(e)` (nor any other code in `CompletableFuture` to my knowledge) will not unwrap it. Therefore I&#39;m pretty sure that if `myCallable` throws a `CompletionException` and there&#39;s no additional `catch(CompletionException)` block that propagates it without wrapping, then it will be unnecessarily wrapped by `catch(Exception)` block and passed on...","body":"regarding double wrapping: <code>encodeThrowable(e)</code> prevents yet another additional wrapping by <code>CompletableFuture</code> but if <code>myCallable</code> throws a <code>CompletionException</code> and my <code>catch(Exception)</code> wraps it in second <code>CompletionException</code>, then <code>encodeThrowable(e)</code> (nor any other code in <code>CompletableFuture</code> to my knowledge) will not unwrap it. Therefore I&#39;m pretty sure that if <code>myCallable</code> throws a <code>CompletionException</code> and there&#39;s no additional <code>catch(CompletionException)</code> block that propagates it without wrapping, then it will be unnecessarily wrapped by <code>catch(Exception)</code> block and passed on..."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1660900430,"post_id":70587344,"comment_id":129647768,"body_markdown":"regarding &quot;why the thrown Throwable isn&#39;t just delegated&quot;: I haven&#39;t read `CompletableFuture` that carefully, but I&#39;m guessing  it&#39;s for differentiating between exceptions thrown by user provided lambda and internal exceptions of `CompletableFuture` that may happen. This way probably `CompletableFuture` knows that it should pass the exception as an argument to the `BiFunction` provided by user as the argument of `handle` / `whenComplete` and continue the pipeline vs leave the exception uncaught thus aborting the pipeline due to some internal errors.","body":"regarding &quot;why the thrown Throwable isn&#39;t just delegated&quot;: I haven&#39;t read <code>CompletableFuture</code> that carefully, but I&#39;m guessing  it&#39;s for differentiating between exceptions thrown by user provided lambda and internal exceptions of <code>CompletableFuture</code> that may happen. This way probably <code>CompletableFuture</code> knows that it should pass the exception as an argument to the <code>BiFunction</code> provided by user as the argument of <code>handle</code> / <code>whenComplete</code> and continue the pipeline vs leave the exception uncaught thus aborting the pipeline due to some internal errors."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1668465980,"post_id":70587344,"comment_id":131407482,"body_markdown":"@morgwai You&#39;re right thanks! I&#39;ve finally edited and corrected my answer now.","body":"@morgwai You&#39;re right thanks! I&#39;ve finally edited and corrected my answer now."}],"tags":[],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668465876,"creation_date":1641351715,"answer_id":70587344,"question_id":30559707,"body_markdown":"For those who need the functionality mentioned in the question: I have improved it a bit in order to ideally reflect the behavior of the existing `CompletableFuture#completeAsync` and `CompletableFuture.supplyAsync` functions.\r\n\r\n```java\r\n// Java 9+ (Java 8 version below)\r\nimport java.util.concurrent.Callable;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.CompletionException;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.function.Supplier;\r\n\r\n/**\r\n * {@link CompletableFuture} utils.\r\n *\r\n * @author stonar96\r\n *\r\n * @see CompletableFuture\r\n */\r\npublic final class CompletableFutureUtils {\r\n    /**\r\n     * Delegates the given Callable to\r\n     * {@link CompletableFuture#completeAsync(Supplier)} using a new\r\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\r\n     * exceptions.\r\n     *\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param          &lt;U&gt; the function&#39;s return type\r\n     * @return the new CompletableFuture\r\n     * @see CompletableFuture#completeAsync(Supplier)\r\n     */\r\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable) {\r\n        return completeAsync(new CompletableFuture&lt;&gt;(), callable);\r\n    }\r\n\r\n    /**\r\n     * Delegates the given Callable to\r\n     * {@link CompletableFuture#completeAsync(Supplier)} using the given\r\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\r\n     * exceptions.\r\n     *\r\n     * @param result   the CompletableFuture to be used\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param          &lt;T&gt; the function&#39;s return type\r\n     * @return the given CompletableFuture\r\n     * @see CompletableFuture#completeAsync(Supplier)\r\n     */\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable) {\r\n        return result.completeAsync(callable == null ? null : () -&gt; {\r\n            try {\r\n                return callable.call();\r\n            } catch (Error e) {\r\n                throw e;\r\n            } catch (RuntimeException e) {\r\n                throw e; // Also avoids double wrapping CompletionExceptions below.\r\n            } catch (Throwable t) {\r\n                throw new CompletionException(t);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Delegates the given Callable and Executor to\r\n     * {@link CompletableFuture#completeAsync(Supplier, Executor)} using a new\r\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\r\n     * exceptions.\r\n     *\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param executor the executor to use for asynchronous execution\r\n     * @param          &lt;U&gt; the function&#39;s return type\r\n     * @return the new CompletableFuture\r\n     * @see CompletableFuture#completeAsync(Supplier, Executor)\r\n     */\r\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable, Executor executor) {\r\n        return completeAsync(new CompletableFuture&lt;&gt;(), callable, executor);\r\n    }\r\n\r\n    /**\r\n     * Delegates the given Callable and Executor to\r\n     * {@link CompletableFuture#completeAsync(Supplier, Executor)} using the given\r\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\r\n     * exceptions.\r\n     *\r\n     * @param result   the CompletableFuture to be used\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param executor the executor to use for asynchronous execution\r\n     * @param          &lt;T&gt; the function&#39;s return type\r\n     * @return the given CompletableFuture\r\n     * @see CompletableFuture#completeAsync(Supplier, Executor)\r\n     */\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable, Executor executor) {\r\n        return result.completeAsync(callable == null ? null : () -&gt; {\r\n            try {\r\n                return callable.call();\r\n            } catch (Error e) {\r\n                throw e;\r\n            } catch (RuntimeException e) {\r\n                throw e; // Also avoids double wrapping CompletionExceptions below.\r\n            } catch (Throwable t) {\r\n                throw new CompletionException(t);\r\n            }\r\n        }, executor);\r\n    }\r\n\r\n    private CompletableFutureUtils() {\r\n        throw new AssertionError(&quot;CompletableFutureUtils cannot be instantiated&quot;);\r\n    }\r\n}\r\n\r\n// Java 8\r\nimport java.util.concurrent.Callable;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.CompletionException;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.function.Supplier;\r\n\r\n/**\r\n * {@link CompletableFuture} utils.\r\n *\r\n * @author stonar96\r\n *\r\n * @see CompletableFuture\r\n */\r\npublic final class CompletableFutureUtils {\r\n    /**\r\n     * Delegates the given Callable to\r\n     * {@link CompletableFuture#supplyAsync(Supplier)} and handles checked\r\n     * exceptions accordingly to unchecked exceptions.\r\n     *\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param          &lt;U&gt; the function&#39;s return type\r\n     * @return the new CompletableFuture\r\n     * @see CompletableFuture#supplyAsync(Supplier)\r\n     */\r\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable) {\r\n        return CompletableFuture.supplyAsync(callable == null ? null : () -&gt; {\r\n            try {\r\n                return callable.call();\r\n            } catch (Error e) {\r\n                throw e;\r\n            } catch (RuntimeException e) {\r\n                throw e; // Also avoids double wrapping CompletionExceptions below.\r\n            } catch (Throwable t) {\r\n                throw new CompletionException(t);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Delegates the given Callable to\r\n     * {@link CompletableFuture#supplyAsync(Supplier)}, handles checked exceptions\r\n     * accordingly to unchecked exceptions and delegates to and from the given\r\n     * CompletableFuture.\r\n     *\r\n     * @param result   the CompletableFuture to be delegated\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param          &lt;T&gt; the function&#39;s return type\r\n     * @return the given delegated CompletableFuture\r\n     * @see CompletableFuture#supplyAsync(Supplier)\r\n     */\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable) {\r\n        if (result == null) {\r\n            throw new NullPointerException();\r\n        }\r\n\r\n        CompletableFuture&lt;T&gt; delegate = callAsync(callable == null ? null : () -&gt; result.isDone() ? null /* (1) */ : callable.call());\r\n        // (1): This is very unlikely because result delegates to delegate (see below).\r\n        // If result is completed, delegate is also completed.\r\n        // Thus supplyAsync will not even call our callable.\r\n        // However, there may be a race condition where they are not already delegated.\r\n        // In this case result will be completed by delegate with null.\r\n        // This does not matter because result is already completed.\r\n\r\n        if (delegate == null) {\r\n            return null;\r\n        }\r\n\r\n        result.whenComplete((v, t) -&gt; {\r\n            if (t == null) {\r\n                delegate.complete(v);\r\n                return;\r\n            }\r\n\r\n            delegate.completeExceptionally(t);\r\n        });\r\n        delegate.whenComplete((v, t) -&gt; {\r\n            if (t == null) {\r\n                result.complete(v);\r\n                return;\r\n            }\r\n\r\n            result.completeExceptionally(t);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Delegates the given Callable and Executor to\r\n     * {@link CompletableFuture#supplyAsync(Supplier, Executor)} and handles checked\r\n     * exceptions accordingly to unchecked exceptions.\r\n     *\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param executor the executor to use for asynchronous execution\r\n     * @param          &lt;U&gt; the function&#39;s return type\r\n     * @return the new CompletableFuture\r\n     * @see CompletableFuture#supplyAsync(Supplier, Executor)\r\n     */\r\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable, Executor executor) {\r\n        return CompletableFuture.supplyAsync(callable == null ? null : () -&gt; {\r\n            try {\r\n                return callable.call();\r\n            } catch (Error e) {\r\n                throw e;\r\n            } catch (RuntimeException e) {\r\n                throw e; // Also avoids double wrapping CompletionExceptions below.\r\n            } catch (Throwable t) {\r\n                throw new CompletionException(t);\r\n            }\r\n        }, executor);\r\n    }\r\n\r\n    /**\r\n     * Delegates the given Callable and Executor to\r\n     * {@link CompletableFuture#supplyAsync(Supplier, Executor)}, handles checked\r\n     * exceptions accordingly to unchecked exceptions and delegates to and from the\r\n     * given CompletableFuture.\r\n     *\r\n     * @param result   the CompletableFuture to be delegated\r\n     * @param callable a function returning the value to be used to complete the\r\n     *                 returned CompletableFuture\r\n     * @param executor the executor to use for asynchronous execution\r\n     * @param          &lt;T&gt; the function&#39;s return type\r\n     * @return the given delegated CompletableFuture\r\n     * @see CompletableFuture#supplyAsync(Supplier, Executor)\r\n     */\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable, Executor executor) {\r\n        if (result == null) {\r\n            throw new NullPointerException();\r\n        }\r\n\r\n        CompletableFuture&lt;T&gt; delegate = callAsync(callable == null ? null : () -&gt; result.isDone() ? null /* (1) */ : callable.call(), executor);\r\n        // (1): This is very unlikely because result delegates to delegate (see below).\r\n        // If result is completed, delegate is also completed.\r\n        // Thus supplyAsync will not even call our callable.\r\n        // However, there may be a race condition where they are not already delegated.\r\n        // In this case result will be completed by delegate with null.\r\n        // This does not matter because result is already completed.\r\n\r\n        if (delegate == null) {\r\n            return null;\r\n        }\r\n\r\n        result.whenComplete((v, t) -&gt; {\r\n            if (t == null) {\r\n                delegate.complete(v);\r\n                return;\r\n            }\r\n\r\n            delegate.completeExceptionally(t);\r\n        });\r\n        delegate.whenComplete((v, t) -&gt; {\r\n            if (t == null) {\r\n                result.complete(v);\r\n                return;\r\n            }\r\n\r\n            result.completeExceptionally(t);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    private CompletableFutureUtils() {\r\n        throw new AssertionError(&quot;CompletableFutureUtils cannot be instantiated&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, everything is just delegated as is, except for checked exceptions, which must be handled.","title":"CompletableFuture from Callable?","body":"<p>For those who need the functionality mentioned in the question: I have improved it a bit in order to ideally reflect the behavior of the existing <code>CompletableFuture#completeAsync</code> and <code>CompletableFuture.supplyAsync</code> functions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java 9+ (Java 8 version below)\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.CompletionException;\nimport java.util.concurrent.Executor;\nimport java.util.function.Supplier;\n\n/**\n * {@link CompletableFuture} utils.\n *\n * @author stonar96\n *\n * @see CompletableFuture\n */\npublic final class CompletableFutureUtils {\n    /**\n     * Delegates the given Callable to\n     * {@link CompletableFuture#completeAsync(Supplier)} using a new\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\n     * exceptions.\n     *\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param          &lt;U&gt; the function's return type\n     * @return the new CompletableFuture\n     * @see CompletableFuture#completeAsync(Supplier)\n     */\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable) {\n        return completeAsync(new CompletableFuture&lt;&gt;(), callable);\n    }\n\n    /**\n     * Delegates the given Callable to\n     * {@link CompletableFuture#completeAsync(Supplier)} using the given\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\n     * exceptions.\n     *\n     * @param result   the CompletableFuture to be used\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param          &lt;T&gt; the function's return type\n     * @return the given CompletableFuture\n     * @see CompletableFuture#completeAsync(Supplier)\n     */\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable) {\n        return result.completeAsync(callable == null ? null : () -&gt; {\n            try {\n                return callable.call();\n            } catch (Error e) {\n                throw e;\n            } catch (RuntimeException e) {\n                throw e; // Also avoids double wrapping CompletionExceptions below.\n            } catch (Throwable t) {\n                throw new CompletionException(t);\n            }\n        });\n    }\n\n    /**\n     * Delegates the given Callable and Executor to\n     * {@link CompletableFuture#completeAsync(Supplier, Executor)} using a new\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\n     * exceptions.\n     *\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param executor the executor to use for asynchronous execution\n     * @param          &lt;U&gt; the function's return type\n     * @return the new CompletableFuture\n     * @see CompletableFuture#completeAsync(Supplier, Executor)\n     */\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable, Executor executor) {\n        return completeAsync(new CompletableFuture&lt;&gt;(), callable, executor);\n    }\n\n    /**\n     * Delegates the given Callable and Executor to\n     * {@link CompletableFuture#completeAsync(Supplier, Executor)} using the given\n     * CompletableFuture and handles checked exceptions accordingly to unchecked\n     * exceptions.\n     *\n     * @param result   the CompletableFuture to be used\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param executor the executor to use for asynchronous execution\n     * @param          &lt;T&gt; the function's return type\n     * @return the given CompletableFuture\n     * @see CompletableFuture#completeAsync(Supplier, Executor)\n     */\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable, Executor executor) {\n        return result.completeAsync(callable == null ? null : () -&gt; {\n            try {\n                return callable.call();\n            } catch (Error e) {\n                throw e;\n            } catch (RuntimeException e) {\n                throw e; // Also avoids double wrapping CompletionExceptions below.\n            } catch (Throwable t) {\n                throw new CompletionException(t);\n            }\n        }, executor);\n    }\n\n    private CompletableFutureUtils() {\n        throw new AssertionError(&quot;CompletableFutureUtils cannot be instantiated&quot;);\n    }\n}\n\n// Java 8\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.CompletionException;\nimport java.util.concurrent.Executor;\nimport java.util.function.Supplier;\n\n/**\n * {@link CompletableFuture} utils.\n *\n * @author stonar96\n *\n * @see CompletableFuture\n */\npublic final class CompletableFutureUtils {\n    /**\n     * Delegates the given Callable to\n     * {@link CompletableFuture#supplyAsync(Supplier)} and handles checked\n     * exceptions accordingly to unchecked exceptions.\n     *\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param          &lt;U&gt; the function's return type\n     * @return the new CompletableFuture\n     * @see CompletableFuture#supplyAsync(Supplier)\n     */\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable) {\n        return CompletableFuture.supplyAsync(callable == null ? null : () -&gt; {\n            try {\n                return callable.call();\n            } catch (Error e) {\n                throw e;\n            } catch (RuntimeException e) {\n                throw e; // Also avoids double wrapping CompletionExceptions below.\n            } catch (Throwable t) {\n                throw new CompletionException(t);\n            }\n        });\n    }\n\n    /**\n     * Delegates the given Callable to\n     * {@link CompletableFuture#supplyAsync(Supplier)}, handles checked exceptions\n     * accordingly to unchecked exceptions and delegates to and from the given\n     * CompletableFuture.\n     *\n     * @param result   the CompletableFuture to be delegated\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param          &lt;T&gt; the function's return type\n     * @return the given delegated CompletableFuture\n     * @see CompletableFuture#supplyAsync(Supplier)\n     */\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable) {\n        if (result == null) {\n            throw new NullPointerException();\n        }\n\n        CompletableFuture&lt;T&gt; delegate = callAsync(callable == null ? null : () -&gt; result.isDone() ? null /* (1) */ : callable.call());\n        // (1): This is very unlikely because result delegates to delegate (see below).\n        // If result is completed, delegate is also completed.\n        // Thus supplyAsync will not even call our callable.\n        // However, there may be a race condition where they are not already delegated.\n        // In this case result will be completed by delegate with null.\n        // This does not matter because result is already completed.\n\n        if (delegate == null) {\n            return null;\n        }\n\n        result.whenComplete((v, t) -&gt; {\n            if (t == null) {\n                delegate.complete(v);\n                return;\n            }\n\n            delegate.completeExceptionally(t);\n        });\n        delegate.whenComplete((v, t) -&gt; {\n            if (t == null) {\n                result.complete(v);\n                return;\n            }\n\n            result.completeExceptionally(t);\n        });\n        return result;\n    }\n\n    /**\n     * Delegates the given Callable and Executor to\n     * {@link CompletableFuture#supplyAsync(Supplier, Executor)} and handles checked\n     * exceptions accordingly to unchecked exceptions.\n     *\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param executor the executor to use for asynchronous execution\n     * @param          &lt;U&gt; the function's return type\n     * @return the new CompletableFuture\n     * @see CompletableFuture#supplyAsync(Supplier, Executor)\n     */\n    public static &lt;U&gt; CompletableFuture&lt;U&gt; callAsync(Callable&lt;? extends U&gt; callable, Executor executor) {\n        return CompletableFuture.supplyAsync(callable == null ? null : () -&gt; {\n            try {\n                return callable.call();\n            } catch (Error e) {\n                throw e;\n            } catch (RuntimeException e) {\n                throw e; // Also avoids double wrapping CompletionExceptions below.\n            } catch (Throwable t) {\n                throw new CompletionException(t);\n            }\n        }, executor);\n    }\n\n    /**\n     * Delegates the given Callable and Executor to\n     * {@link CompletableFuture#supplyAsync(Supplier, Executor)}, handles checked\n     * exceptions accordingly to unchecked exceptions and delegates to and from the\n     * given CompletableFuture.\n     *\n     * @param result   the CompletableFuture to be delegated\n     * @param callable a function returning the value to be used to complete the\n     *                 returned CompletableFuture\n     * @param executor the executor to use for asynchronous execution\n     * @param          &lt;T&gt; the function's return type\n     * @return the given delegated CompletableFuture\n     * @see CompletableFuture#supplyAsync(Supplier, Executor)\n     */\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeAsync(CompletableFuture&lt;T&gt; result, Callable&lt;? extends T&gt; callable, Executor executor) {\n        if (result == null) {\n            throw new NullPointerException();\n        }\n\n        CompletableFuture&lt;T&gt; delegate = callAsync(callable == null ? null : () -&gt; result.isDone() ? null /* (1) */ : callable.call(), executor);\n        // (1): This is very unlikely because result delegates to delegate (see below).\n        // If result is completed, delegate is also completed.\n        // Thus supplyAsync will not even call our callable.\n        // However, there may be a race condition where they are not already delegated.\n        // In this case result will be completed by delegate with null.\n        // This does not matter because result is already completed.\n\n        if (delegate == null) {\n            return null;\n        }\n\n        result.whenComplete((v, t) -&gt; {\n            if (t == null) {\n                delegate.complete(v);\n                return;\n            }\n\n            delegate.completeExceptionally(t);\n        });\n        delegate.whenComplete((v, t) -&gt; {\n            if (t == null) {\n                result.complete(v);\n                return;\n            }\n\n            result.completeExceptionally(t);\n        });\n        return result;\n    }\n\n    private CompletableFutureUtils() {\n        throw new AssertionError(&quot;CompletableFutureUtils cannot be instantiated&quot;);\n    }\n}\n</code></pre>\n<p>As you can see, everything is just delegated as is, except for checked exceptions, which must be handled.</p>\n"}],"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15233,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":30560309,"answer_count":2,"score":28,"last_activity_date":1671684184,"creation_date":1433089470,"question_id":30559707,"body_markdown":"Today I experimented with the &quot;new&quot; `CompletableFuture` from Java 8 and found myself confused when I didn&#39;t find a `runAsync(Callable)` method.\r\nI can do it myself like shown below, but why is this (to me very obvious and useful utility method) missing? Am &lt;i&gt;I&lt;/i&gt; missing something?\r\n\r\n&lt;!-- language: java --&gt;\r\n&lt;pre&gt;&lt;code&gt;public static &amp;lt;T&amp;gt; CompletableFuture&amp;lt;T&amp;gt; asFuture(Callable&amp;lt;? extends T&amp;gt; callable, Executor executor) {\r\n    CompletableFuture&amp;lt;T&amp;gt; future = new CompletableFuture&amp;lt;&amp;gt;();\r\n    executor.execute(() -&amp;gt; {\r\n        try {\r\n            future.complete(callable.call());\r\n        } catch (Throwable t) {\r\n            future.completeExceptionally(t);\r\n        }\r\n    });\r\n    return future;\r\n}&lt;/code&gt;&lt;/pre&gt;","title":"CompletableFuture from Callable?","body":"<p>Today I experimented with the \"new\" <code>CompletableFuture</code> from Java 8 and found myself confused when I didn't find a <code>runAsync(Callable)</code> method.\nI can do it myself like shown below, but why is this (to me very obvious and useful utility method) missing? Am <i>I</i> missing something?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; CompletableFuture&lt;T&gt; asFuture(Callable&lt;? extends T&gt; callable, Executor executor) {\n    CompletableFuture&lt;T&gt; future = new CompletableFuture&lt;&gt;();\n    executor.execute(() -&gt; {\n        try {\n            future.complete(callable.call());\n        } catch (Throwable t) {\n            future.completeExceptionally(t);\n        }\n    });\n    return future;\n}</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","datasource"],"comments":[{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":1,"creation_date":1674219209,"post_id":30337582,"comment_id":132672732,"body_markdown":"The 2nd answer most voted below (from @Surasin) used to be a good one if you don&#39;t need distributed transactions across both dbs. But **ChainedTransactionManager** has been deprecated. Anyone landing here in 2023 looking for a robust solution for distributed transactions must read this answer https://stackoverflow.com/a/71392118/7066647","body":"The 2nd answer most voted below (from @Surasin) used to be a good one if you don&#39;t need distributed transactions across both dbs. But <b>ChainedTransactionManager</b> has been deprecated. Anyone landing here in 2023 looking for a robust solution for distributed transactions must read this answer <a href=\"https://stackoverflow.com/a/71392118/7066647\">stackoverflow.com/a/71392118/7066647</a>"}],"answers":[{"comments":[{"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"score":35,"creation_date":1432175684,"post_id":30344608,"comment_id":48818491,"body_markdown":"Take a look at http://www.baeldung.com/spring-data-jpa-multiple-databases which describes the same what you are looking for.","body":"Take a look at <a href=\"http://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-multiple-databases</a> which describes the same what you are looking for."},{"owner":{"account_id":8003615,"reputation":1045,"user_id":6037575,"display_name":"Dai Kaixian"},"score":0,"creation_date":1481798261,"post_id":30344608,"comment_id":69524862,"body_markdown":"Sometimes you may need to assign datasource, transactionManager, and SqlSessionFactory as primary all.","body":"Sometimes you may need to assign datasource, transactionManager, and SqlSessionFactory as primary all."},{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":8,"creation_date":1552920604,"post_id":30344608,"comment_id":97182974,"body_markdown":"@K. Siva Prasad Reddy OK but I have 2 different JPARepositories - how does Spring Boot know which DataSource to use? Every JPARepository shoudl use different database","body":"@K. Siva Prasad Reddy OK but I have 2 different JPARepositories - how does Spring Boot know which DataSource to use? Every JPARepository shoudl use different database"},{"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"score":4,"creation_date":1552989131,"post_id":30344608,"comment_id":97209003,"body_markdown":"@Matley This blog post https://www.javadevjournal.com/spring-boot/multiple-data-sources-with-spring-boot/ might be what you are looking for.","body":"@Matley This blog post <a href=\"https://www.javadevjournal.com/spring-boot/multiple-data-sources-with-spring-boot/\" rel=\"nofollow noreferrer\">javadevjournal.com/spring-boot/&hellip;</a> might be what you are looking for."},{"owner":{"account_id":7212490,"reputation":1864,"user_id":5506061,"accept_rate":64,"display_name":"Krish"},"score":0,"creation_date":1559452426,"post_id":30344608,"comment_id":99421530,"body_markdown":"@K.SivaPrasadReddy to configure multiple datasources all databases should be in same server ?","body":"@K.SivaPrasadReddy to configure multiple datasources all databases should be in same server ?"},{"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"score":0,"creation_date":1559529458,"post_id":30344608,"comment_id":99436256,"body_markdown":"@Krish, It can be in different server.","body":"@Krish, It can be in different server."},{"owner":{"account_id":7212490,"reputation":1864,"user_id":5506061,"accept_rate":64,"display_name":"Krish"},"score":0,"creation_date":1559662975,"post_id":30344608,"comment_id":99487924,"body_markdown":"@K.SivaPrasadReddy I am unable to use in different server. I have created one question https://stackoverflow.com/questions/56412404/can-i-configure-multiple-datasources-which-are-in-different-servers-in-spring-bo","body":"@K.SivaPrasadReddy I am unable to use in different server. I have created one question <a href=\"https://stackoverflow.com/questions/56412404/can-i-configure-multiple-datasources-which-are-in-different-servers-in-spring-bo\" title=\"can i configure multiple datasources which are in different servers in spring bo\">stackoverflow.com/questions/56412404/&hellip;</a>"},{"owner":{"account_id":1252853,"reputation":1183,"user_id":1212903,"display_name":"Codex"},"score":0,"creation_date":1570198729,"post_id":30344608,"comment_id":102849085,"body_markdown":"Will it behave the same for application.yml file? I am trying the same but Datasource is empty without any impact of parameters","body":"Will it behave the same for application.yml file? I am trying the same but Datasource is empty without any impact of parameters"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1598976994,"post_id":30344608,"comment_id":112628109,"body_markdown":"@K.SivaPrasadReddy - How can we customize datasources to use connection pool and etc properties?","body":"@K.SivaPrasadReddy - How can we customize datasources to use connection pool and etc properties?"},{"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"score":0,"creation_date":1647294435,"post_id":30344608,"comment_id":126331219,"body_markdown":"If there are some connection pool specific settings (e.g. HikariCP), for that configuration to be picked up, another bean with `@ConfigurationProperties(prefix=&quot;spring.datasource.hikari&quot;)` is required: https://stackoverflow.com/a/71474522/854386","body":"If there are some connection pool specific settings (e.g. HikariCP), for that configuration to be picked up, another bean with <code>@ConfigurationProperties(prefix=&quot;spring.datasource.hikari&quot;)</code> is required: <a href=\"https://stackoverflow.com/a/71474522/854386\">stackoverflow.com/a/71474522/854386</a>"},{"owner":{"account_id":3001759,"reputation":397,"user_id":2547119,"display_name":"Luis Mauricio"},"score":0,"creation_date":1649264070,"post_id":30344608,"comment_id":126833824,"body_markdown":"This fails for me with spring boot spring-boot-starter-parent 1.5.4.RELEASE and tomcat properties, any other configuration I should be aware of?","body":"This fails for me with spring boot spring-boot-starter-parent 1.5.4.RELEASE and tomcat properties, any other configuration I should be aware of?"},{"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"score":0,"creation_date":1661757850,"post_id":30344608,"comment_id":129838842,"body_markdown":"will this work if one is oracle db and another is hsql. its not working for me","body":"will this work if one is oracle db and another is hsql. its not working for me"},{"owner":{"account_id":2390431,"reputation":73,"user_id":2090378,"display_name":"vingorius"},"score":0,"creation_date":1666317188,"post_id":30344608,"comment_id":130913847,"body_markdown":"Below change works for me.\n\nspring.secondDatasource.url -&gt;spring.secondDatasource..jdbc-url","body":"Below change works for me.  spring.secondDatasource.url -&gt;spring.secondDatasource..jdbc-url"}],"tags":[],"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"comment_count":13,"down_vote_count":1,"up_vote_count":383,"is_accepted":true,"score":382,"last_activity_date":1600603344,"creation_date":1432111566,"answer_id":30344608,"question_id":30337582,"body_markdown":"Here you go.\r\n\r\nAdd in your application.properties file:\r\n \r\n    #first db\r\n    spring.datasource.url = [url]\r\n    spring.datasource.username = [username]\r\n    spring.datasource.password = [password]\r\n    spring.datasource.driverClassName = oracle.jdbc.OracleDriver\r\n    \r\n    #second db ...\r\n    spring.secondDatasource.url = [url]\r\n    spring.secondDatasource.username = [username]\r\n    spring.secondDatasource.password = [password]\r\n    spring.secondDatasource.driverClassName = oracle.jdbc.OracleDriver\r\n    \r\nAdd in any class annotated with @Configuration the following methods:\r\n    \r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n    public DataSource primaryDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n    \r\n    @Bean\r\n    @ConfigurationProperties(prefix=&quot;spring.secondDatasource&quot;)\r\n    public DataSource secondaryDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }","title":"Spring Boot configure and use two data sources","body":"<p>Here you go.</p>\n<p>Add in your application.properties file:</p>\n<pre><code>#first db\nspring.datasource.url = [url]\nspring.datasource.username = [username]\nspring.datasource.password = [password]\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\n\n#second db ...\nspring.secondDatasource.url = [url]\nspring.secondDatasource.username = [username]\nspring.secondDatasource.password = [password]\nspring.secondDatasource.driverClassName = oracle.jdbc.OracleDriver\n</code></pre>\n<p>Add in any class annotated with @Configuration the following methods:</p>\n<pre><code>@Bean\n@Primary\n@ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\npublic DataSource primaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n\n@Bean\n@ConfigurationProperties(prefix=&quot;spring.secondDatasource&quot;)\npublic DataSource secondaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1183832,"reputation":4336,"user_id":1158189,"accept_rate":49,"display_name":"Manoj Shrestha"},"score":0,"creation_date":1631302189,"post_id":30346066,"comment_id":122194640,"body_markdown":"Thank you for the link to the official documentation on this.","body":"Thank you for the link to the official documentation on this."},{"owner":{"account_id":18164218,"reputation":93,"user_id":13215111,"display_name":" "},"score":0,"creation_date":1657608105,"post_id":30346066,"comment_id":128844505,"body_markdown":"Hi, what about if I want to use not the primary database, how should I tell JPA which one to pick? Because I try to use this approach but I have an error for no such table in primary database (the table is not in the primary, but in the secondary).","body":"Hi, what about if I want to use not the primary database, how should I tell JPA which one to pick? Because I try to use this approach but I have an error for no such table in primary database (the table is not in the primary, but in the secondary)."}],"tags":[],"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1548041818,"creation_date":1432115123,"answer_id":30346066,"question_id":30337582,"body_markdown":"Refer [the official documentation][1]\r\n\r\n\r\n&lt;hr/&gt;\r\n\r\n*Creating more than one data source works same as creating the first one. You might want to mark one of them as @Primary if you are using the default auto-configuration for JDBC or JPA (then that one will be picked up by any @Autowired injections).*\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(prefix=&quot;datasource.primary&quot;)\r\n    public DataSource primaryDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n    \r\n    @Bean\r\n    @ConfigurationProperties(prefix=&quot;datasource.secondary&quot;)\r\n    public DataSource secondaryDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources","title":"Spring Boot configure and use two data sources","body":"<p>Refer <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources\" rel=\"noreferrer\">the official documentation</a></p>\n\n<hr/>\n\n<p><em>Creating more than one data source works same as creating the first one. You might want to mark one of them as @Primary if you are using the default auto-configuration for JDBC or JPA (then that one will be picked up by any @Autowired injections).</em></p>\n\n<pre><code>@Bean\n@Primary\n@ConfigurationProperties(prefix=\"datasource.primary\")\npublic DataSource primaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n\n@Bean\n@ConfigurationProperties(prefix=\"datasource.secondary\")\npublic DataSource secondaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15692743,"reputation":476,"user_id":11323252,"display_name":"Rohit Chaurasiya"},"score":0,"creation_date":1595559119,"post_id":47583688,"comment_id":111523348,"body_markdown":"this code will not run how 2 @primary annotation work together in same db.","body":"this code will not run how 2 @primary annotation work together in same db."},{"owner":{"account_id":4201175,"reputation":992,"user_id":3441253,"accept_rate":47,"display_name":"im_infamous"},"score":0,"creation_date":1603208306,"post_id":47583688,"comment_id":113961023,"body_markdown":"indeed, but this code mentions important part with manual properties setting instead of plain and simple `return DataSourceBuilder.create().build();` which is apparently not working, hence my upvote goes here","body":"indeed, but this code mentions important part with manual properties setting instead of plain and simple <code>return DataSourceBuilder.create().build();</code> which is apparently not working, hence my upvote goes here"},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1657559002,"post_id":47583688,"comment_id":128834288,"body_markdown":"what if your 2 databases are from different vendor?  How do you set hibernate dialect in that case?","body":"what if your 2 databases are from different vendor?  How do you set hibernate dialect in that case?"}],"tags":[],"owner":{"account_id":1779020,"reputation":844,"user_id":1622201,"accept_rate":12,"display_name":"Chandra Shekhar Goka"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1524223657,"creation_date":1512080935,"answer_id":47583688,"question_id":30337582,"body_markdown":"Here is the Complete solution\r\n\r\n    #First Datasource (DB1)\r\n    db1.datasource.url: url\r\n    db1.datasource.username:user\r\n    db1.datasource.password:password\r\n \r\n    #Second Datasource (DB2)\r\n    db2.datasource.url:url\r\n    db2.datasource.username:user\r\n    db2.datasource.password:password\r\n\r\nSince we are going to get access two different databases (db1, db2), we need to configure each data source configuration separately like:\r\n\r\n    public class DB1_DataSource {\r\n    @Autowired\r\n    private Environment env;\r\n    @Bean\r\n    @Primary\r\n    public LocalContainerEntityManagerFactoryBean db1EntityManager() {\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(db1Datasource());\r\n        em.setPersistenceUnitName(&quot;db1EntityManager&quot;);\r\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        HashMap&lt;string, object=&quot;&quot;&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.dialect&quot;,\r\n                env.getProperty(&quot;hibernate.dialect&quot;));\r\n        properties.put(&quot;hibernate.show-sql&quot;,\r\n                env.getProperty(&quot;jdbc.show-sql&quot;));\r\n        em.setJpaPropertyMap(properties);\r\n        return em;\r\n    }\r\n \r\n    @Primary\r\n    @Bean\r\n    public DataSource db1Datasource() {\r\n \r\n        DriverManagerDataSource dataSource\r\n                = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(\r\n                env.getProperty(&quot;jdbc.driver-class-name&quot;));\r\n        dataSource.setUrl(env.getProperty(&quot;db1.datasource.url&quot;));\r\n        dataSource.setUsername(env.getProperty(&quot;db1.datasource.username&quot;));\r\n        dataSource.setPassword(env.getProperty(&quot;db1.datasource.password&quot;));\r\n \r\n        return dataSource;\r\n    }\r\n \r\n    @Primary\r\n    @Bean\r\n    public PlatformTransactionManager db1TransactionManager() {\r\n \r\n        JpaTransactionManager transactionManager\r\n                = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(\r\n                db1EntityManager().getObject());\r\n        return transactionManager;\r\n    }\r\n    }\r\n\r\n**Second Datasource :**\r\n\r\n    public class DB2_DataSource {\r\n \r\n    @Autowired\r\n    private Environment env;\r\n \r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean db2EntityManager() {\r\n        LocalContainerEntityManagerFactoryBean em\r\n                = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(db2Datasource());\r\n        em.setPersistenceUnitName(&quot;db2EntityManager&quot;);\r\n        HibernateJpaVendorAdapter vendorAdapter\r\n                = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        HashMap&lt;string, object=&quot;&quot;&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.dialect&quot;,\r\n                env.getProperty(&quot;hibernate.dialect&quot;));\r\n        properties.put(&quot;hibernate.show-sql&quot;,\r\n                env.getProperty(&quot;jdbc.show-sql&quot;));\r\n        em.setJpaPropertyMap(properties);\r\n        return em;\r\n    }\r\n \r\n    @Bean\r\n    public DataSource db2Datasource() {\r\n        DriverManagerDataSource dataSource\r\n                = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(\r\n                env.getProperty(&quot;jdbc.driver-class-name&quot;));\r\n        dataSource.setUrl(env.getProperty(&quot;db2.datasource.url&quot;));\r\n        dataSource.setUsername(env.getProperty(&quot;db2.datasource.username&quot;));\r\n        dataSource.setPassword(env.getProperty(&quot;db2.datasource.password&quot;));\r\n \r\n        return dataSource;\r\n    }\r\n \r\n    @Bean\r\n    public PlatformTransactionManager db2TransactionManager() {\r\n        JpaTransactionManager transactionManager\r\n                = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(\r\n                db2EntityManager().getObject());\r\n        return transactionManager;\r\n    }\r\n    }\r\n\r\nHere you can find the complete Example on my blog :\r\n[Spring Boot with Multiple DataSource Configuration][1]\r\n\r\n\r\n  [1]: http://www.onlinetutorialspoint.com/spring-boot/spring-boot-multiple-data-sources-example.html","title":"Spring Boot configure and use two data sources","body":"<p>Here is the Complete solution</p>\n\n<pre><code>#First Datasource (DB1)\ndb1.datasource.url: url\ndb1.datasource.username:user\ndb1.datasource.password:password\n\n#Second Datasource (DB2)\ndb2.datasource.url:url\ndb2.datasource.username:user\ndb2.datasource.password:password\n</code></pre>\n\n<p>Since we are going to get access two different databases (db1, db2), we need to configure each data source configuration separately like:</p>\n\n<pre><code>public class DB1_DataSource {\n@Autowired\nprivate Environment env;\n@Bean\n@Primary\npublic LocalContainerEntityManagerFactoryBean db1EntityManager() {\n    LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n    em.setDataSource(db1Datasource());\n    em.setPersistenceUnitName(\"db1EntityManager\");\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    em.setJpaVendorAdapter(vendorAdapter);\n    HashMap&lt;string, object=\"\"&gt; properties = new HashMap&lt;&gt;();\n    properties.put(\"hibernate.dialect\",\n            env.getProperty(\"hibernate.dialect\"));\n    properties.put(\"hibernate.show-sql\",\n            env.getProperty(\"jdbc.show-sql\"));\n    em.setJpaPropertyMap(properties);\n    return em;\n}\n\n@Primary\n@Bean\npublic DataSource db1Datasource() {\n\n    DriverManagerDataSource dataSource\n            = new DriverManagerDataSource();\n    dataSource.setDriverClassName(\n            env.getProperty(\"jdbc.driver-class-name\"));\n    dataSource.setUrl(env.getProperty(\"db1.datasource.url\"));\n    dataSource.setUsername(env.getProperty(\"db1.datasource.username\"));\n    dataSource.setPassword(env.getProperty(\"db1.datasource.password\"));\n\n    return dataSource;\n}\n\n@Primary\n@Bean\npublic PlatformTransactionManager db1TransactionManager() {\n\n    JpaTransactionManager transactionManager\n            = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(\n            db1EntityManager().getObject());\n    return transactionManager;\n}\n}\n</code></pre>\n\n<p><strong>Second Datasource :</strong></p>\n\n<pre><code>public class DB2_DataSource {\n\n@Autowired\nprivate Environment env;\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean db2EntityManager() {\n    LocalContainerEntityManagerFactoryBean em\n            = new LocalContainerEntityManagerFactoryBean();\n    em.setDataSource(db2Datasource());\n    em.setPersistenceUnitName(\"db2EntityManager\");\n    HibernateJpaVendorAdapter vendorAdapter\n            = new HibernateJpaVendorAdapter();\n    em.setJpaVendorAdapter(vendorAdapter);\n    HashMap&lt;string, object=\"\"&gt; properties = new HashMap&lt;&gt;();\n    properties.put(\"hibernate.dialect\",\n            env.getProperty(\"hibernate.dialect\"));\n    properties.put(\"hibernate.show-sql\",\n            env.getProperty(\"jdbc.show-sql\"));\n    em.setJpaPropertyMap(properties);\n    return em;\n}\n\n@Bean\npublic DataSource db2Datasource() {\n    DriverManagerDataSource dataSource\n            = new DriverManagerDataSource();\n    dataSource.setDriverClassName(\n            env.getProperty(\"jdbc.driver-class-name\"));\n    dataSource.setUrl(env.getProperty(\"db2.datasource.url\"));\n    dataSource.setUsername(env.getProperty(\"db2.datasource.username\"));\n    dataSource.setPassword(env.getProperty(\"db2.datasource.password\"));\n\n    return dataSource;\n}\n\n@Bean\npublic PlatformTransactionManager db2TransactionManager() {\n    JpaTransactionManager transactionManager\n            = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(\n            db2EntityManager().getObject());\n    return transactionManager;\n}\n}\n</code></pre>\n\n<p>Here you can find the complete Example on my blog :\n<a href=\"http://www.onlinetutorialspoint.com/spring-boot/spring-boot-multiple-data-sources-example.html\" rel=\"nofollow noreferrer\">Spring Boot with Multiple DataSource Configuration</a></p>\n"},{"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":1,"creation_date":1589346136,"post_id":48140893,"comment_id":109253662,"body_markdown":"Hi @Surasin Tancharoen, we are trying to keep two data sources with same data so that if one fails, the application will run on the other data source. Will be above approach be fine?","body":"Hi @Surasin Tancharoen, we are trying to keep two data sources with same data so that if one fails, the application will run on the other data source. Will be above approach be fine?"},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":1,"creation_date":1625757351,"post_id":48140893,"comment_id":120717806,"body_markdown":"@ArunSudhakaran No. This solution will not work as a backup. If you are looking for high availability, then most databases already have configurations to run multiple databases with a single virtual IP. try that instead.","body":"@ArunSudhakaran No. This solution will not work as a backup. If you are looking for high availability, then most databases already have configurations to run multiple databases with a single virtual IP. try that instead."},{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":4,"creation_date":1632743345,"post_id":48140893,"comment_id":122567366,"body_markdown":"Link https://www.surasint.com/spring-boot-with-multiple-databases-example/ does not work anymore.","body":"Link <a href=\"https://www.surasint.com/spring-boot-with-multiple-databases-example/\" rel=\"nofollow noreferrer\">surasint.com/spring-boot-with-multiple-databases-example</a> does not work anymore."}],"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"comment_count":3,"down_vote_count":0,"up_vote_count":165,"is_accepted":false,"score":165,"last_activity_date":1653831372,"creation_date":1515354338,"answer_id":48140893,"question_id":30337582,"body_markdown":"**Update 2022-05-29 with Spring Boot 1.5.8.RELEASE which should work with Spring Boot 2.x**\r\n\r\nMost answers do not provide how to use them (as datasource itself and as transaction), only how to config them.\r\n\r\nMoreover you should know how to commit/rollback transactions of both datasources at the same time.\r\n\r\nYou can see the runnable example and some explanation in https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/10_spring-boot-two-databases (see what you can try in README.txt)\r\n\r\n\r\nI copied some code here.\r\n\r\nFirst you have to set application.properties like this\r\n\r\n    #Database\r\n    database1.datasource.url=jdbc:mysql://localhost/testdb\r\n    database1.datasource.username=root\r\n    database1.datasource.password=root\r\n    database1.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    database2.datasource.url=jdbc:mysql://localhost/testdb2\r\n    database2.datasource.username=root\r\n    database2.datasource.password=root\r\n    database2.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nThen define them as providers (@Bean) like this:\r\n\r\n    @Bean(name = &quot;datasource1&quot;)\r\n    @ConfigurationProperties(&quot;database1.datasource&quot;)\r\n    @Primary\r\n    public DataSource dataSource(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;datasource2&quot;)\r\n    @ConfigurationProperties(&quot;database2.datasource&quot;)\r\n    public DataSource dataSource2(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\nNote that I have `@Bean(name=&quot;datasource1&quot;)` and `@Bean(name=&quot;datasource2&quot;)`, then you can use it when we need datasource as `@Qualifier(&quot;datasource1&quot;)` and `@Qualifier(&quot;datasource2&quot;)` , for example \r\n\r\n    @Qualifier(&quot;datasource1&quot;)\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\nIf you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:\r\n\r\n    @Bean(name=&quot;tm1&quot;)\r\n    @Autowired\r\n    @Primary\r\n    DataSourceTransactionManager tm1(@Qualifier (&quot;datasource1&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\n    @Bean(name=&quot;tm2&quot;)\r\n    @Autowired\r\n    DataSourceTransactionManager tm2(@Qualifier (&quot;datasource2&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\nThen you can use it like\r\n\r\n    @Transactional //this will use the first datasource because it is @primary\r\n\r\nor\r\n\r\n    @Transactional(&quot;tm2&quot;)\r\n\r\n**The most important part, which you will hardly find an example in anywhere**: if you want a method to commit/rollback transactions of both databases, you need ChainedTransactionManager for tm1 and tm2 , like this:\r\n\r\n\r\n    @Bean(name = &quot;chainedTransactionManager&quot;)\r\n    public ChainedTransactionManager getChainedTransactionManager(@Qualifier (&quot;tm1&quot;) DataSourceTransactionManager tm1, @Qualifier (&quot;tm2&quot;) DataSourceTransactionManager tm2){\r\n        return new ChainedTransactionManager(tm1, tm2);\r\n    }\r\n\r\nTo use it, add this annotation in a method @Transactional(value=&quot;chainedTransactionManager&quot;) for example\r\n\r\n\r\n    @Transactional(value=&quot;chainedTransactionManager&quot;)\r\n    public void insertAll() {\r\n        UserBean test = new UserBean();\r\n        test.setUsername(&quot;username&quot; + new Date().getTime());\r\n        userDao.insert(test);\r\n\r\n        userDao2.insert(test);\r\n    }\r\n\r\n\r\nThis should be enough. See example and detail in the link above.","title":"Spring Boot configure and use two data sources","body":"<p><strong>Update 2022-05-29 with Spring Boot 1.5.8.RELEASE which should work with Spring Boot 2.x</strong></p>\n<p>Most answers do not provide how to use them (as datasource itself and as transaction), only how to config them.</p>\n<p>Moreover you should know how to commit/rollback transactions of both datasources at the same time.</p>\n<p>You can see the runnable example and some explanation in <a href=\"https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/10_spring-boot-two-databases\" rel=\"noreferrer\">https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/10_spring-boot-two-databases</a> (see what you can try in README.txt)</p>\n<p>I copied some code here.</p>\n<p>First you have to set application.properties like this</p>\n<pre><code>#Database\ndatabase1.datasource.url=jdbc:mysql://localhost/testdb\ndatabase1.datasource.username=root\ndatabase1.datasource.password=root\ndatabase1.datasource.driver-class-name=com.mysql.jdbc.Driver\n\ndatabase2.datasource.url=jdbc:mysql://localhost/testdb2\ndatabase2.datasource.username=root\ndatabase2.datasource.password=root\ndatabase2.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n<p>Then define them as providers (@Bean) like this:</p>\n<pre><code>@Bean(name = &quot;datasource1&quot;)\n@ConfigurationProperties(&quot;database1.datasource&quot;)\n@Primary\npublic DataSource dataSource(){\n    return DataSourceBuilder.create().build();\n}\n\n@Bean(name = &quot;datasource2&quot;)\n@ConfigurationProperties(&quot;database2.datasource&quot;)\npublic DataSource dataSource2(){\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n<p>Note that I have <code>@Bean(name=&quot;datasource1&quot;)</code> and <code>@Bean(name=&quot;datasource2&quot;)</code>, then you can use it when we need datasource as <code>@Qualifier(&quot;datasource1&quot;)</code> and <code>@Qualifier(&quot;datasource2&quot;)</code> , for example</p>\n<pre><code>@Qualifier(&quot;datasource1&quot;)\n@Autowired\nprivate DataSource dataSource;\n</code></pre>\n<p>If you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:</p>\n<pre><code>@Bean(name=&quot;tm1&quot;)\n@Autowired\n@Primary\nDataSourceTransactionManager tm1(@Qualifier (&quot;datasource1&quot;) DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n\n@Bean(name=&quot;tm2&quot;)\n@Autowired\nDataSourceTransactionManager tm2(@Qualifier (&quot;datasource2&quot;) DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n</code></pre>\n<p>Then you can use it like</p>\n<pre><code>@Transactional //this will use the first datasource because it is @primary\n</code></pre>\n<p>or</p>\n<pre><code>@Transactional(&quot;tm2&quot;)\n</code></pre>\n<p><strong>The most important part, which you will hardly find an example in anywhere</strong>: if you want a method to commit/rollback transactions of both databases, you need ChainedTransactionManager for tm1 and tm2 , like this:</p>\n<pre><code>@Bean(name = &quot;chainedTransactionManager&quot;)\npublic ChainedTransactionManager getChainedTransactionManager(@Qualifier (&quot;tm1&quot;) DataSourceTransactionManager tm1, @Qualifier (&quot;tm2&quot;) DataSourceTransactionManager tm2){\n    return new ChainedTransactionManager(tm1, tm2);\n}\n</code></pre>\n<p>To use it, add this annotation in a method @Transactional(value=&quot;chainedTransactionManager&quot;) for example</p>\n<pre><code>@Transactional(value=&quot;chainedTransactionManager&quot;)\npublic void insertAll() {\n    UserBean test = new UserBean();\n    test.setUsername(&quot;username&quot; + new Date().getTime());\n    userDao.insert(test);\n\n    userDao2.insert(test);\n}\n</code></pre>\n<p>This should be enough. See example and detail in the link above.</p>\n"},{"comments":[{"owner":{"account_id":2593628,"reputation":2441,"user_id":2247740,"accept_rate":80,"display_name":"Amir Keshavarz"},"score":0,"creation_date":1624767035,"post_id":50577229,"comment_id":120444901,"body_markdown":"Not working for me. And saying this: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: jdbcUrl is required with driverClassName.","body":"Not working for me. And saying this: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceI&zwnj;&#8203;nitializationConfigu&zwnj;&#8203;ration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: jdbcUrl is required with driverClassName."},{"owner":{"display_name":"user9802118"},"score":3,"creation_date":1633037575,"post_id":50577229,"comment_id":122662409,"body_markdown":"@AmirKeshavarz my answer might be a little ... to late, but you have to modify the datasource.url to datasource.jdbc-url and it will work","body":"@AmirKeshavarz my answer might be a little ... to late, but you have to modify the datasource.url to datasource.jdbc-url and it will work"}],"tags":[],"owner":{"account_id":12636882,"reputation":61,"user_id":9185844,"display_name":"Raju Ranjan"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1669802125,"creation_date":1527573455,"answer_id":50577229,"question_id":30337582,"body_markdown":"```application.properties\r\n# Here &#39;1stDB&#39; is the database name\r\nspring.datasource.url=jdbc:mysql://localhost/A\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n \r\n \r\n# Here &#39;2ndDB&#39; is the database name\r\nspring.second-datasourcee.url=jdbc:mysql://localhost/B\r\nspring.second-datasource.username=root\r\nspring.second-datasource.password=root\r\nspring.second-datasource.driver-class-name=com.mysql.jdbc.Driver\r\n```\r\n```java\r\n@Bean\r\n@Primary\r\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\npublic DataSource firstDataSource() {\r\n    return DataSourceBuilder.create().build();\r\n}\r\n \r\n@Bean\r\n@ConfigurationProperties(prefix = &quot;spring.second-datasource&quot;)\r\npublic DataSource secondDataSource() {\r\n   return DataSourceBuilder.create().build();\r\n}\r\n```","title":"Spring Boot configure and use two data sources","body":"<pre><code># Here '1stDB' is the database name\nspring.datasource.url=jdbc:mysql://localhost/A\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n \n \n# Here '2ndDB' is the database name\nspring.second-datasourcee.url=jdbc:mysql://localhost/B\nspring.second-datasource.username=root\nspring.second-datasource.password=root\nspring.second-datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Primary\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\npublic DataSource firstDataSource() {\n    return DataSourceBuilder.create().build();\n}\n \n@Bean\n@ConfigurationProperties(prefix = &quot;spring.second-datasource&quot;)\npublic DataSource secondDataSource() {\n   return DataSourceBuilder.create().build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4790390,"reputation":1022,"user_id":3869736,"display_name":"Akhil S Kamath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535526663,"creation_date":1534255896,"answer_id":51843520,"question_id":30337582,"body_markdown":"I used mybatis - springboot 2.0 tech stack,\r\nsolution:\r\n\r\n    //application.properties - start\r\n        sp.ds1.jdbc-url=jdbc:mysql://localhost:3306/mydb?useSSL=false\r\n        sp.ds1.username=user\r\n        sp.ds1.password=pwd\r\n        sp.ds1.testWhileIdle=true\r\n        sp.ds1.validationQuery=SELECT 1\r\n        sp.ds1.driverClassName=com.mysql.jdbc.Driver\r\n        \r\n        \r\n        sp.ds2.jdbc-url=jdbc:mysql://localhost:4586/mydb?useSSL=false\r\n        sp.ds2.username=user\r\n        sp.ds2.password=pwd\r\n        sp.ds2.testWhileIdle=true\r\n        sp.ds2.validationQuery=SELECT 1\r\n        sp.ds2.driverClassName=com.mysql.jdbc.Driver\r\n\r\n    //application.properties - end\r\n    \r\n    //configuration class\r\n    \r\n        @Configuration\r\n        @ComponentScan(basePackages = &quot;com.mypkg&quot;)\r\n        public class MultipleDBConfig {\r\n        \t\r\n        \t\r\n        \tpublic static final String SQL_SESSION_FACTORY_NAME_1 = &quot;sqlSessionFactory1&quot;;\r\n            public static final String SQL_SESSION_FACTORY_NAME_2 = &quot;sqlSessionFactory2&quot;;\r\n        \r\n            public static final String MAPPERS_PACKAGE_NAME_1 = &quot;com.mypg.mymapper1&quot;;\r\n            public static final String MAPPERS_PACKAGE_NAME_2 = &quot;com.mypg.mymapper2&quot;;\r\n        \t    \r\n        \t    \r\n        \t@Bean(name = &quot;mysqlDb1&quot;)\r\n        \t@Primary\r\n        \t@ConfigurationProperties(prefix = &quot;sp.ds1&quot;)\r\n        \tpublic DataSource dataSource1() {\r\n        \t\tSystem.out.println(&quot;db1 datasource&quot;);\r\n        \t\treturn DataSourceBuilder.create().build();\r\n        \t}\r\n        \r\n        \t@Bean(name = &quot;mysqlDb2&quot;)\r\n        \t@ConfigurationProperties(prefix = &quot;sp.ds2&quot;)\r\n        \tpublic DataSource dataSource2() {\r\n        \t\tSystem.out.println(&quot;db2 datasource&quot;);\r\n        \t\treturn  DataSourceBuilder.create().build();\r\n        \t}\r\n        \r\n        \t@Bean(name = SQL_SESSION_FACTORY_NAME_1)\r\n        \t@Primary\r\n            public SqlSessionFactory sqlSessionFactory1(@Qualifier(&quot;mysqlDb1&quot;) DataSource dataSource1) throws Exception {\r\n        \t\tSystem.out.println(&quot;sqlSessionFactory1&quot;);\r\n                SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\r\n                sqlSessionFactoryBean.setTypeHandlersPackage(MAPPERS_PACKAGE_NAME_1);\r\n                sqlSessionFactoryBean.setDataSource(dataSource1);\r\n                SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBean.getObject();\r\n                sqlSessionFactory.getConfiguration().setMapUnderscoreToCamelCase(true);\r\n                sqlSessionFactory.getConfiguration().setJdbcTypeForNull(JdbcType.NULL);\r\n                return sqlSessionFactory;\r\n            }\r\n        \r\n            @Bean(name = SQL_SESSION_FACTORY_NAME_2)\r\n            public SqlSessionFactory sqlSessionFactory2(@Qualifier(&quot;mysqlDb2&quot;) DataSource dataSource2) throws Exception {\r\n            \tSystem.out.println(&quot;sqlSessionFactory2&quot;);\r\n                SqlSessionFactoryBean diSqlSessionFactoryBean = new SqlSessionFactoryBean();\r\n                diSqlSessionFactoryBean.setTypeHandlersPackage(MAPPERS_PACKAGE_NAME_2);\r\n                diSqlSessionFactoryBean.setDataSource(dataSource2);\r\n                SqlSessionFactory sqlSessionFactory = diSqlSessionFactoryBean.getObject();\r\n                sqlSessionFactory.getConfiguration().setMapUnderscoreToCamelCase(true);\r\n                sqlSessionFactory.getConfiguration().setJdbcTypeForNull(JdbcType.NULL);\r\n                return sqlSessionFactory;\r\n            }\r\n        \r\n            @Bean\r\n            @Primary\r\n            public MapperScannerConfigurer mapperScannerConfigurer1() {\r\n            \tSystem.out.println(&quot;mapperScannerConfigurer1&quot;);\r\n                MapperScannerConfigurer configurer = new MapperScannerConfigurer();\r\n                configurer.setBasePackage(MAPPERS_PACKAGE_NAME_1);\r\n                configurer.setSqlSessionFactoryBeanName(SQL_SESSION_FACTORY_NAME_1);\r\n                return configurer;\r\n            }\r\n        \r\n            @Bean\r\n            public MapperScannerConfigurer mapperScannerConfigurer2() {\r\n            \tSystem.out.println(&quot;mapperScannerConfigurer2&quot;);\r\n                MapperScannerConfigurer configurer = new MapperScannerConfigurer();\r\n                configurer.setBasePackage(MAPPERS_PACKAGE_NAME_2);\r\n                configurer.setSqlSessionFactoryBeanName(SQL_SESSION_FACTORY_NAME_2);\r\n                return configurer;\r\n            }\r\n        \t\r\n        \t\r\n        \t\r\n        }\r\n\r\n\r\nNote : \r\n1)@Primary -&gt; [@primary][1]\r\n\r\n2)---.&quot;jdbc-url&quot; in properties -&gt; [https://stackoverflow.com/questions/49088847/after-spring-boot-2-0-migration-jdbcurl-is-required-with-driverclassname][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Primary.html\r\n  [2]: https://stackoverflow.com/questions/49088847/after-spring-boot-2-0-migration-jdbcurl-is-required-with-driverclassname","title":"Spring Boot configure and use two data sources","body":"<p>I used mybatis - springboot 2.0 tech stack,\nsolution:</p>\n\n<pre><code>//application.properties - start\n    sp.ds1.jdbc-url=jdbc:mysql://localhost:3306/mydb?useSSL=false\n    sp.ds1.username=user\n    sp.ds1.password=pwd\n    sp.ds1.testWhileIdle=true\n    sp.ds1.validationQuery=SELECT 1\n    sp.ds1.driverClassName=com.mysql.jdbc.Driver\n\n\n    sp.ds2.jdbc-url=jdbc:mysql://localhost:4586/mydb?useSSL=false\n    sp.ds2.username=user\n    sp.ds2.password=pwd\n    sp.ds2.testWhileIdle=true\n    sp.ds2.validationQuery=SELECT 1\n    sp.ds2.driverClassName=com.mysql.jdbc.Driver\n\n//application.properties - end\n\n//configuration class\n\n    @Configuration\n    @ComponentScan(basePackages = \"com.mypkg\")\n    public class MultipleDBConfig {\n\n\n        public static final String SQL_SESSION_FACTORY_NAME_1 = \"sqlSessionFactory1\";\n        public static final String SQL_SESSION_FACTORY_NAME_2 = \"sqlSessionFactory2\";\n\n        public static final String MAPPERS_PACKAGE_NAME_1 = \"com.mypg.mymapper1\";\n        public static final String MAPPERS_PACKAGE_NAME_2 = \"com.mypg.mymapper2\";\n\n\n        @Bean(name = \"mysqlDb1\")\n        @Primary\n        @ConfigurationProperties(prefix = \"sp.ds1\")\n        public DataSource dataSource1() {\n            System.out.println(\"db1 datasource\");\n            return DataSourceBuilder.create().build();\n        }\n\n        @Bean(name = \"mysqlDb2\")\n        @ConfigurationProperties(prefix = \"sp.ds2\")\n        public DataSource dataSource2() {\n            System.out.println(\"db2 datasource\");\n            return  DataSourceBuilder.create().build();\n        }\n\n        @Bean(name = SQL_SESSION_FACTORY_NAME_1)\n        @Primary\n        public SqlSessionFactory sqlSessionFactory1(@Qualifier(\"mysqlDb1\") DataSource dataSource1) throws Exception {\n            System.out.println(\"sqlSessionFactory1\");\n            SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\n            sqlSessionFactoryBean.setTypeHandlersPackage(MAPPERS_PACKAGE_NAME_1);\n            sqlSessionFactoryBean.setDataSource(dataSource1);\n            SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBean.getObject();\n            sqlSessionFactory.getConfiguration().setMapUnderscoreToCamelCase(true);\n            sqlSessionFactory.getConfiguration().setJdbcTypeForNull(JdbcType.NULL);\n            return sqlSessionFactory;\n        }\n\n        @Bean(name = SQL_SESSION_FACTORY_NAME_2)\n        public SqlSessionFactory sqlSessionFactory2(@Qualifier(\"mysqlDb2\") DataSource dataSource2) throws Exception {\n            System.out.println(\"sqlSessionFactory2\");\n            SqlSessionFactoryBean diSqlSessionFactoryBean = new SqlSessionFactoryBean();\n            diSqlSessionFactoryBean.setTypeHandlersPackage(MAPPERS_PACKAGE_NAME_2);\n            diSqlSessionFactoryBean.setDataSource(dataSource2);\n            SqlSessionFactory sqlSessionFactory = diSqlSessionFactoryBean.getObject();\n            sqlSessionFactory.getConfiguration().setMapUnderscoreToCamelCase(true);\n            sqlSessionFactory.getConfiguration().setJdbcTypeForNull(JdbcType.NULL);\n            return sqlSessionFactory;\n        }\n\n        @Bean\n        @Primary\n        public MapperScannerConfigurer mapperScannerConfigurer1() {\n            System.out.println(\"mapperScannerConfigurer1\");\n            MapperScannerConfigurer configurer = new MapperScannerConfigurer();\n            configurer.setBasePackage(MAPPERS_PACKAGE_NAME_1);\n            configurer.setSqlSessionFactoryBeanName(SQL_SESSION_FACTORY_NAME_1);\n            return configurer;\n        }\n\n        @Bean\n        public MapperScannerConfigurer mapperScannerConfigurer2() {\n            System.out.println(\"mapperScannerConfigurer2\");\n            MapperScannerConfigurer configurer = new MapperScannerConfigurer();\n            configurer.setBasePackage(MAPPERS_PACKAGE_NAME_2);\n            configurer.setSqlSessionFactoryBeanName(SQL_SESSION_FACTORY_NAME_2);\n            return configurer;\n        }\n\n\n\n    }\n</code></pre>\n\n<p>Note : \n1)@Primary -> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Primary.html\" rel=\"nofollow noreferrer\">@primary</a></p>\n\n<p>2)---.\"jdbc-url\" in properties -> <a href=\"https://stackoverflow.com/questions/49088847/after-spring-boot-2-0-migration-jdbcurl-is-required-with-driverclassname\">After Spring Boot 2.0 migration: jdbcUrl is required with driverClassName</a></p>\n"},{"tags":[],"owner":{"account_id":8286926,"reputation":21,"user_id":6229772,"display_name":"Sangameshrh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537344201,"creation_date":1537344201,"answer_id":52401009,"question_id":30337582,"body_markdown":"@Primary annotation when used against a method like below works good if the two data sources are on the same db location/server. \r\n\r\n    @Bean(name = &quot;datasource1&quot;)\r\n    @ConfigurationProperties(&quot;database1.datasource&quot;)\r\n    @Primary\r\n    public DataSource dataSource(){\r\n      return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;datasource2&quot;)\r\n    @ConfigurationProperties(&quot;database2.datasource&quot;)\r\n    public DataSource dataSource2(){\r\n      return DataSourceBuilder.create().build();\r\n    }\r\n\r\n If the data sources are on different servers its better to use @Component along with [@Primary][1] annotation. The following code snippet works well on two different data sources at different locations \r\n\r\n    database1.datasource.url = jdbc:mysql://127.0.0.1:3306/db1\r\n    database1.datasource.username = root\r\n    database1.datasource.password = mysql\r\n    database1.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n    database2.datasource1.url = jdbc:mysql://192.168.113.51:3306/db2\r\n    database2.datasource1.username = root\r\n    database2.datasource1.password = mysql\r\n    database2.datasource1.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n    @Configuration\r\n\t@Primary\r\n\t@Component\r\n\t@ComponentScan(&quot;com.db1.bean&quot;)\r\n\tclass DBConfiguration1{\r\n\t\t@Bean(&quot;db1Ds&quot;)\r\n\t\t@ConfigurationProperties(prefix=&quot;database1.datasource&quot;)\r\n\t\tpublic DataSource primaryDataSource() {\r\n\t\t    return DataSourceBuilder.create().build();\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t@Configuration\r\n\t@Component\r\n\t@ComponentScan(&quot;com.db2.bean&quot;)\r\n\tclass DBConfiguration2{\r\n\t\t@Bean(&quot;db2Ds&quot;)\r\n\t\t@ConfigurationProperties(prefix=&quot;database2.datasource1&quot;)\r\n\t\tpublic DataSource primaryDataSource() {\r\n\t\t    return DataSourceBuilder.create().build();\r\n\t\t}\r\n\r\n\t}\r\n\r\n  [1]: https://www.baeldung.com/spring-primary","title":"Spring Boot configure and use two data sources","body":"<p>@Primary annotation when used against a method like below works good if the two data sources are on the same db location/server. </p>\n\n<pre><code>@Bean(name = \"datasource1\")\n@ConfigurationProperties(\"database1.datasource\")\n@Primary\npublic DataSource dataSource(){\n  return DataSourceBuilder.create().build();\n}\n\n@Bean(name = \"datasource2\")\n@ConfigurationProperties(\"database2.datasource\")\npublic DataSource dataSource2(){\n  return DataSourceBuilder.create().build();\n}\n</code></pre>\n\n<p>If the data sources are on different servers its better to use @Component along with <a href=\"https://www.baeldung.com/spring-primary\" rel=\"nofollow noreferrer\">@Primary</a> annotation. The following code snippet works well on two different data sources at different locations </p>\n\n<pre><code>database1.datasource.url = jdbc:mysql://127.0.0.1:3306/db1\ndatabase1.datasource.username = root\ndatabase1.datasource.password = mysql\ndatabase1.datasource.driver-class-name=com.mysql.jdbc.Driver\n\ndatabase2.datasource1.url = jdbc:mysql://192.168.113.51:3306/db2\ndatabase2.datasource1.username = root\ndatabase2.datasource1.password = mysql\ndatabase2.datasource1.driver-class-name=com.mysql.jdbc.Driver\n\n@Configuration\n@Primary\n@Component\n@ComponentScan(\"com.db1.bean\")\nclass DBConfiguration1{\n    @Bean(\"db1Ds\")\n    @ConfigurationProperties(prefix=\"database1.datasource\")\n    public DataSource primaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n}\n\n@Configuration\n@Component\n@ComponentScan(\"com.db2.bean\")\nclass DBConfiguration2{\n    @Bean(\"db2Ds\")\n    @ConfigurationProperties(prefix=\"database2.datasource1\")\n    public DataSource primaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7176041,"reputation":918,"user_id":5481947,"accept_rate":67,"display_name":"Anil Konduru"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543524330,"creation_date":1543524330,"answer_id":53547302,"question_id":30337582,"body_markdown":"**My requirement was slightly different but used two data sources.**\r\n\r\nI have used two data sources for same JPA entities from same package. One for executing DDL at the server startup to create/update tables and another one is for DML at runtime. \r\n\r\nThe DDL connection should be closed after DDL statements are executed, to prevent further usage of super user previlleges anywhere in the code.\r\n\r\nProperties\r\n\r\n    spring.datasource.url=jdbc:postgresql://Host:port\r\n    ddl.user=ddluser\r\n    ddl.password=ddlpassword\r\n    dml.user=dmluser\r\n    dml.password=dmlpassword\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\n\r\n\r\nData source config classes\r\n\r\n//1st Config class for DDL Data source\r\n\r\n  \r\n\r\n      public class DatabaseDDLConfig {\r\n            @Bean\r\n            public LocalContainerEntityManagerFactoryBean ddlEntityManagerFactoryBean() {\r\n                LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n                PersistenceProvider persistenceProvider = new \r\n                org.hibernate.jpa.HibernatePersistenceProvider();\r\n                entityManagerFactoryBean.setDataSource(ddlDataSource());\r\n                entityManagerFactoryBean.setPackagesToScan(new String[] { \r\n                &quot;com.test.two.data.sources&quot;});\r\n                HibernateJpaVendorAdapter vendorAdapter = new \r\n                HibernateJpaVendorAdapter();\r\n                entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\r\n                HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n                properties.put(&quot;hibernate.dialect&quot;, \r\n                &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\r\n                properties.put(&quot;hibernate.physical_naming_strategy&quot;, \r\n                &quot;org.springframework.boot.orm.jpa.hibernate.\r\n                SpringPhysicalNamingStrategy&quot;);\r\n                properties.put(&quot;hibernate.implicit_naming_strategy&quot;, \r\n                &quot;org.springframework.boot.orm.jpa.hibernate.\r\n                SpringImplicitNamingStrategy&quot;);\r\n                properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n                entityManagerFactoryBean.setJpaPropertyMap(properties);\r\n                entityManagerFactoryBean.setPersistenceUnitName(&quot;ddl.config&quot;);\r\n                entityManagerFactoryBean.setPersistenceProvider(persistenceProvider);\r\n                return entityManagerFactoryBean;\r\n            }\r\n    \r\n    \r\n        @Bean\r\n        public DataSource ddlDataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\r\n            dataSource.setUrl(env.getProperty(&quot;spring.datasource.url&quot;));\r\n            dataSource.setUsername(env.getProperty(&quot;ddl.user&quot;);\r\n            dataSource.setPassword(env.getProperty(&quot;ddl.password&quot;));\r\n            return dataSource;\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager ddlTransactionManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(ddlEntityManagerFactoryBean().getObject());\r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\n\r\n//2nd Config class for DML Data source\r\n\r\n    public class DatabaseDMLConfig {\r\n    \r\n    \t@Bean\r\n        @Primary\r\n        public LocalContainerEntityManagerFactoryBean dmlEntityManagerFactoryBean() {\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n            PersistenceProvider persistenceProvider = new org.hibernate.jpa.HibernatePersistenceProvider();\r\n            entityManagerFactoryBean.setDataSource(dmlDataSource());\r\n            entityManagerFactoryBean.setPackagesToScan(new String[] { &quot;com.test.two.data.sources&quot; });\r\n            JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\r\n            entityManagerFactoryBean.setJpaProperties(defineJpaProperties());\r\n            entityManagerFactoryBean.setPersistenceUnitName(&quot;dml.config&quot;);\r\n            entityManagerFactoryBean.setPersistenceProvider(persistenceProvider);\r\n            return entityManagerFactoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public DataSource dmlDataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\r\n            dataSource.setUrl(envt.getProperty(&quot;spring.datasource.url&quot;));\r\n            dataSource.setUsername(&quot;dml.user&quot;);\r\n            dataSource.setPassword(&quot;dml.password&quot;);\r\n            return dataSource;\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public PlatformTransactionManager dmlTransactionManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(dmlEntityManagerFactoryBean().getObject());\r\n            return transactionManager;\r\n        }\r\n    \r\n    \r\n      }\r\n\r\n  //Usage of DDL data sources in code.\r\n\r\n    public class DDLServiceAtStartup {\r\n    \r\n    //Import persistence unit ddl.config for ddl purpose.\r\n    \r\n    @PersistenceUnit(unitName = &quot;ddl.config&quot;)\r\n    private EntityManagerFactory entityManagerFactory;\r\n    \r\n    public void executeDDLQueries() throws ContentServiceSystemError {\r\n        try {\r\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n            entityManager.getTransaction().begin();\r\n            entityManager.createNativeQuery(&quot;query to create/update table&quot;).executeUpdate();\r\n            entityManager.flush();\r\n            entityManager.getTransaction().commit();\r\n            entityManager.close();\r\n    \r\n            //Close the ddl data source to avoid from further use in code.\r\n            entityManagerFactory.close();\r\n        } catch(Exception ex) {}\r\n    }\r\n\r\n\r\n   //Usage of DML data source in code.\r\n\r\n    public class DDLServiceAtStartup {\r\n      @PersistenceUnit(unitName = &quot;dml.config&quot;)\r\n      private EntityManagerFactory entityManagerFactory;\r\n\r\n      public void createRecord(User user) {\r\n         userDao.save(user);\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Spring Boot configure and use two data sources","body":"<p><strong>My requirement was slightly different but used two data sources.</strong></p>\n\n<p>I have used two data sources for same JPA entities from same package. One for executing DDL at the server startup to create/update tables and another one is for DML at runtime. </p>\n\n<p>The DDL connection should be closed after DDL statements are executed, to prevent further usage of super user previlleges anywhere in the code.</p>\n\n<p>Properties</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://Host:port\nddl.user=ddluser\nddl.password=ddlpassword\ndml.user=dmluser\ndml.password=dmlpassword\nspring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n\n<p>Data source config classes</p>\n\n<p>//1st Config class for DDL Data source</p>\n\n<pre><code>  public class DatabaseDDLConfig {\n        @Bean\n        public LocalContainerEntityManagerFactoryBean ddlEntityManagerFactoryBean() {\n            LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n            PersistenceProvider persistenceProvider = new \n            org.hibernate.jpa.HibernatePersistenceProvider();\n            entityManagerFactoryBean.setDataSource(ddlDataSource());\n            entityManagerFactoryBean.setPackagesToScan(new String[] { \n            \"com.test.two.data.sources\"});\n            HibernateJpaVendorAdapter vendorAdapter = new \n            HibernateJpaVendorAdapter();\n            entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\n            HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n            properties.put(\"hibernate.dialect\", \n            \"org.hibernate.dialect.PostgreSQLDialect\");\n            properties.put(\"hibernate.physical_naming_strategy\", \n            \"org.springframework.boot.orm.jpa.hibernate.\n            SpringPhysicalNamingStrategy\");\n            properties.put(\"hibernate.implicit_naming_strategy\", \n            \"org.springframework.boot.orm.jpa.hibernate.\n            SpringImplicitNamingStrategy\");\n            properties.put(\"hibernate.hbm2ddl.auto\", \"update\");\n            entityManagerFactoryBean.setJpaPropertyMap(properties);\n            entityManagerFactoryBean.setPersistenceUnitName(\"ddl.config\");\n            entityManagerFactoryBean.setPersistenceProvider(persistenceProvider);\n            return entityManagerFactoryBean;\n        }\n\n\n    @Bean\n    public DataSource ddlDataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(env.getProperty(\"spring.datasource.driver-class-name\"));\n        dataSource.setUrl(env.getProperty(\"spring.datasource.url\"));\n        dataSource.setUsername(env.getProperty(\"ddl.user\");\n        dataSource.setPassword(env.getProperty(\"ddl.password\"));\n        return dataSource;\n    }\n\n    @Bean\n    public PlatformTransactionManager ddlTransactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(ddlEntityManagerFactoryBean().getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n\n<p>//2nd Config class for DML Data source</p>\n\n<pre><code>public class DatabaseDMLConfig {\n\n    @Bean\n    @Primary\n    public LocalContainerEntityManagerFactoryBean dmlEntityManagerFactoryBean() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        PersistenceProvider persistenceProvider = new org.hibernate.jpa.HibernatePersistenceProvider();\n        entityManagerFactoryBean.setDataSource(dmlDataSource());\n        entityManagerFactoryBean.setPackagesToScan(new String[] { \"com.test.two.data.sources\" });\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\n        entityManagerFactoryBean.setJpaProperties(defineJpaProperties());\n        entityManagerFactoryBean.setPersistenceUnitName(\"dml.config\");\n        entityManagerFactoryBean.setPersistenceProvider(persistenceProvider);\n        return entityManagerFactoryBean;\n    }\n\n    @Bean\n    @Primary\n    public DataSource dmlDataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(env.getProperty(\"spring.datasource.driver-class-name\"));\n        dataSource.setUrl(envt.getProperty(\"spring.datasource.url\"));\n        dataSource.setUsername(\"dml.user\");\n        dataSource.setPassword(\"dml.password\");\n        return dataSource;\n    }\n\n    @Bean\n    @Primary\n    public PlatformTransactionManager dmlTransactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(dmlEntityManagerFactoryBean().getObject());\n        return transactionManager;\n    }\n\n\n  }\n</code></pre>\n\n<p>//Usage of DDL data sources in code.</p>\n\n<pre><code>public class DDLServiceAtStartup {\n\n//Import persistence unit ddl.config for ddl purpose.\n\n@PersistenceUnit(unitName = \"ddl.config\")\nprivate EntityManagerFactory entityManagerFactory;\n\npublic void executeDDLQueries() throws ContentServiceSystemError {\n    try {\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        entityManager.getTransaction().begin();\n        entityManager.createNativeQuery(\"query to create/update table\").executeUpdate();\n        entityManager.flush();\n        entityManager.getTransaction().commit();\n        entityManager.close();\n\n        //Close the ddl data source to avoid from further use in code.\n        entityManagerFactory.close();\n    } catch(Exception ex) {}\n}\n</code></pre>\n\n<p>//Usage of DML data source in code.</p>\n\n<pre><code>public class DDLServiceAtStartup {\n  @PersistenceUnit(unitName = \"dml.config\")\n  private EntityManagerFactory entityManagerFactory;\n\n  public void createRecord(User user) {\n     userDao.save(user);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"score":2,"creation_date":1576596252,"post_id":55129194,"comment_id":104946813,"body_markdown":"I had problems with entity and table naming. And it&#39;s helped me along with your answer: `mapOf(&quot;hibernate.physical_naming_strategy&quot; to &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;,\n                    &quot;hibernate.implicit_naming_strategy&quot; to &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\n                )`","body":"I had problems with entity and table naming. And it&#39;s helped me along with your answer: <code>mapOf(&quot;hibernate.physical_naming_strategy&quot; to &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNa&zwnj;&#8203;mingStrategy&quot;,                     &quot;hibernate.implicit_naming_strategy&quot; to &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNa&zwnj;&#8203;mingStrategy&quot;                 )</code>"},{"owner":{"account_id":7626755,"reputation":511,"user_id":5782985,"display_name":"Galley"},"score":1,"creation_date":1641461679,"post_id":55129194,"comment_id":124811856,"body_markdown":"I replace `url` with `jdbcUrl`, it works, thank you","body":"I replace <code>url</code> with <code>jdbcUrl</code>, it works, thank you"}],"tags":[],"owner":{"account_id":245509,"reputation":3661,"user_id":519035,"display_name":"AbstractVoid"},"comment_count":2,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1552418303,"creation_date":1552418303,"answer_id":55129194,"question_id":30337582,"body_markdown":"I also had to setup connection to 2 datasources from Spring Boot application, and it was not easy - the solution mentioned in the [Spring Boot documentation][1] didn&#39;t work. After a long digging through the internet I made it work and the main idea was taken from [this article][2] and bunch of other places.\r\n\r\nThe following solution is written in **Kotlin** and works with **Spring Boot 2.1.3** and **Hibernate Core 5.3.7**. Main issue was that it was not enough just to setup different **DataSource** configs, but it was also necessary to configure **EntityManagerFactory** and **TransactionManager** for both databases.\r\n\r\nHere is config for the first (Primary) database:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;firstDbEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;firstDbTransactionManager&quot;,\r\n        basePackages = [&quot;org.path.to.firstDb.domain&quot;]\r\n    )\r\n    @EnableTransactionManagement\r\n    class FirstDbConfig {\r\n    \r\n        @Bean\r\n        @Primary\r\n        @ConfigurationProperties(prefix = &quot;spring.datasource.firstDb&quot;)\r\n        fun firstDbDataSource(): DataSource {\r\n            return DataSourceBuilder.create().build()\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = [&quot;firstDbEntityManagerFactory&quot;])\r\n        fun firstDbEntityManagerFactory(\r\n            builder: EntityManagerFactoryBuilder,\r\n            @Qualifier(&quot;firstDbDataSource&quot;) dataSource: DataSource\r\n        ): LocalContainerEntityManagerFactoryBean {\r\n            return builder\r\n                .dataSource(dataSource)\r\n                .packages(SomeEntity::class.java)\r\n                .persistenceUnit(&quot;firstDb&quot;)\r\n                // Following is the optional configuration for naming strategy\r\n                .properties(\r\n                    singletonMap(\r\n                        &quot;hibernate.naming.physical-strategy&quot;,\r\n                        &quot;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&quot;\r\n                    )\r\n                )\r\n                .build()\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = [&quot;firstDbTransactionManager&quot;])\r\n        fun firstDbTransactionManager(\r\n            @Qualifier(&quot;firstDbEntityManagerFactory&quot;) firstDbEntityManagerFactory: EntityManagerFactory\r\n        ): PlatformTransactionManager {\r\n            return JpaTransactionManager(firstDbEntityManagerFactory)\r\n        }\r\n    }\r\n\r\nAnd this is config for second database:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;secondDbEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;secondDbTransactionManager&quot;,\r\n        basePackages = [&quot;org.path.to.secondDb.domain&quot;]\r\n    )\r\n    @EnableTransactionManagement\r\n    class SecondDbConfig {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;spring.datasource.secondDb&quot;)\r\n        fun secondDbDataSource(): DataSource {\r\n            return DataSourceBuilder.create().build()\r\n        }\r\n    \r\n        @Bean(name = [&quot;secondDbEntityManagerFactory&quot;])\r\n        fun secondDbEntityManagerFactory(\r\n            builder: EntityManagerFactoryBuilder,\r\n            @Qualifier(&quot;secondDbDataSource&quot;) dataSource: DataSource\r\n        ): LocalContainerEntityManagerFactoryBean {\r\n            return builder\r\n                .dataSource(dataSource)\r\n                .packages(EntityFromSecondDb::class.java)\r\n                .persistenceUnit(&quot;secondDb&quot;)\r\n                .build()\r\n        }\r\n    \r\n        @Bean(name = [&quot;secondDbTransactionManager&quot;])\r\n        fun secondDbTransactionManager(\r\n            @Qualifier(&quot;secondDbEntityManagerFactory&quot;) secondDbEntityManagerFactory: EntityManagerFactory\r\n        ): PlatformTransactionManager {\r\n            return JpaTransactionManager(secondDbEntityManagerFactory)\r\n        }\r\n    }\r\n\r\nThe properties for datasources are like this:\r\n\r\n    spring.datasource.firstDb.jdbc-url=\r\n    spring.datasource.firstDb.username=\r\n    spring.datasource.firstDb.password=\r\n    \r\n    spring.datasource.secondDb.jdbc-url=\r\n    spring.datasource.secondDb.username=\r\n    spring.datasource.secondDb.password=\r\n\r\nIssue with properties was that I had to define **jdbc-url** instead of **url** because otherwise I had an exception.\r\n\r\n**p.s.**\r\nAlso you might have different naming schemes in your databases, which was the case for me. Since Hibernate 5 does not support all previous naming schemes, I had to use solution from [this answer][3] - maybe it will also help someone as well.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html#howto-two-datasources\r\n  [2]: http://blog.marcosbarbero.com/setup-multiple-datasources-with-spring-boot-spring-data-in-pcf/\r\n  [3]: https://stackoverflow.com/a/53293897/519035","title":"Spring Boot configure and use two data sources","body":"<p>I also had to setup connection to 2 datasources from Spring Boot application, and it was not easy - the solution mentioned in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html#howto-two-datasources\" rel=\"noreferrer\">Spring Boot documentation</a> didn't work. After a long digging through the internet I made it work and the main idea was taken from <a href=\"http://blog.marcosbarbero.com/setup-multiple-datasources-with-spring-boot-spring-data-in-pcf/\" rel=\"noreferrer\">this article</a> and bunch of other places.</p>\n\n<p>The following solution is written in <strong>Kotlin</strong> and works with <strong>Spring Boot 2.1.3</strong> and <strong>Hibernate Core 5.3.7</strong>. Main issue was that it was not enough just to setup different <strong>DataSource</strong> configs, but it was also necessary to configure <strong>EntityManagerFactory</strong> and <strong>TransactionManager</strong> for both databases.</p>\n\n<p>Here is config for the first (Primary) database:</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    entityManagerFactoryRef = \"firstDbEntityManagerFactory\",\n    transactionManagerRef = \"firstDbTransactionManager\",\n    basePackages = [\"org.path.to.firstDb.domain\"]\n)\n@EnableTransactionManagement\nclass FirstDbConfig {\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(prefix = \"spring.datasource.firstDb\")\n    fun firstDbDataSource(): DataSource {\n        return DataSourceBuilder.create().build()\n    }\n\n    @Primary\n    @Bean(name = [\"firstDbEntityManagerFactory\"])\n    fun firstDbEntityManagerFactory(\n        builder: EntityManagerFactoryBuilder,\n        @Qualifier(\"firstDbDataSource\") dataSource: DataSource\n    ): LocalContainerEntityManagerFactoryBean {\n        return builder\n            .dataSource(dataSource)\n            .packages(SomeEntity::class.java)\n            .persistenceUnit(\"firstDb\")\n            // Following is the optional configuration for naming strategy\n            .properties(\n                singletonMap(\n                    \"hibernate.naming.physical-strategy\",\n                    \"org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\"\n                )\n            )\n            .build()\n    }\n\n    @Primary\n    @Bean(name = [\"firstDbTransactionManager\"])\n    fun firstDbTransactionManager(\n        @Qualifier(\"firstDbEntityManagerFactory\") firstDbEntityManagerFactory: EntityManagerFactory\n    ): PlatformTransactionManager {\n        return JpaTransactionManager(firstDbEntityManagerFactory)\n    }\n}\n</code></pre>\n\n<p>And this is config for second database:</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    entityManagerFactoryRef = \"secondDbEntityManagerFactory\",\n    transactionManagerRef = \"secondDbTransactionManager\",\n    basePackages = [\"org.path.to.secondDb.domain\"]\n)\n@EnableTransactionManagement\nclass SecondDbConfig {\n\n    @Bean\n    @ConfigurationProperties(\"spring.datasource.secondDb\")\n    fun secondDbDataSource(): DataSource {\n        return DataSourceBuilder.create().build()\n    }\n\n    @Bean(name = [\"secondDbEntityManagerFactory\"])\n    fun secondDbEntityManagerFactory(\n        builder: EntityManagerFactoryBuilder,\n        @Qualifier(\"secondDbDataSource\") dataSource: DataSource\n    ): LocalContainerEntityManagerFactoryBean {\n        return builder\n            .dataSource(dataSource)\n            .packages(EntityFromSecondDb::class.java)\n            .persistenceUnit(\"secondDb\")\n            .build()\n    }\n\n    @Bean(name = [\"secondDbTransactionManager\"])\n    fun secondDbTransactionManager(\n        @Qualifier(\"secondDbEntityManagerFactory\") secondDbEntityManagerFactory: EntityManagerFactory\n    ): PlatformTransactionManager {\n        return JpaTransactionManager(secondDbEntityManagerFactory)\n    }\n}\n</code></pre>\n\n<p>The properties for datasources are like this:</p>\n\n<pre><code>spring.datasource.firstDb.jdbc-url=\nspring.datasource.firstDb.username=\nspring.datasource.firstDb.password=\n\nspring.datasource.secondDb.jdbc-url=\nspring.datasource.secondDb.username=\nspring.datasource.secondDb.password=\n</code></pre>\n\n<p>Issue with properties was that I had to define <strong>jdbc-url</strong> instead of <strong>url</strong> because otherwise I had an exception.</p>\n\n<p><strong>p.s.</strong>\nAlso you might have different naming schemes in your databases, which was the case for me. Since Hibernate 5 does not support all previous naming schemes, I had to use solution from <a href=\"https://stackoverflow.com/a/53293897/519035\">this answer</a> - maybe it will also help someone as well.</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653391882,"creation_date":1653391882,"answer_id":72362117,"question_id":30337582,"body_markdown":"&gt; ***declaring a data source in Spring Boot application.properties***\r\n\r\n\r\n\r\n\r\n    spring.datasource.company.url=jdbc:mysql://localhost/company_db?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\r\n    spring.datasource.company.username=root\r\n    spring.datasource.company.password=root\r\n    spring.datasource.company.platform=mysql\r\n    \r\n    \r\n    spring.datasource.employee.url=jdbc:mysql://localhost/employee_db?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\r\n    spring.datasource.employee.username=root\r\n    spring.datasource.employee.password=root\r\n    spring.datasource.employee.platform=mysql\r\n\r\n\r\n\r\n***\r\n\r\n&gt; use multiple data sources, we need to declare multiple beans with\r\n&gt; different mappings within Spring&#39;s application context.\r\n&gt; using a configuration class\r\n\r\n***\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.example.multiple.datasources.entity.company&quot;,\r\n            entityManagerFactoryRef = &quot;companyEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;companyTransactionManager&quot;)\r\n    public class CompanyDataSourceConfiguration {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;spring.datasource.company&quot;)\r\n        public DataSourceProperties companyDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;spring.datasource.company.configuration&quot;)\r\n        public DataSource companyDataSource() {\r\n            return companyDataSourceProperties().initializeDataSourceBuilder()\r\n                    .type(HikariDataSource.class).build();\r\n        }\r\n    \r\n        @Bean(name = &quot;companyEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean companyEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n            return builder.dataSource(companyDataSource()).packages(Company.class).build();\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager companyTransactionManager(\r\n                final @Qualifier(&quot;companyEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean companyEntityManagerFactory\r\n        ) {\r\n            return new JpaTransactionManager(companyEntityManagerFactory.getObject());\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n***\r\n&gt; we need to declare one of the datasources as @Primary. This is because\r\n&gt; EntityManagerFactoryBuilder is declared in JpaBaseConfiguration and\r\n&gt; this class need a single data source injected.\r\n***\r\n\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.example.multiple.datasources.entity.employee&quot;,\r\n            entityManagerFactoryRef = &quot;employeeEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;employeeTransactionManager&quot;)\r\n    public class EmployeeDatasourceConfiguration {\r\n    \r\n        @Bean\r\n        @Primary\r\n        @ConfigurationProperties(&quot;spring.datasource.employee&quot;)\r\n        public DataSourceProperties employeeDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        @ConfigurationProperties(&quot;spring.datasource.employee.configuration&quot;)\r\n        public DataSource employeeDataSource() {\r\n            return employeeDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(&quot;employeeEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean employeeEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n            return builder.dataSource(employeeDataSource()).packages(Employee.class).build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public PlatformTransactionManager employeeTransactionManager(\r\n                final @Qualifier(&quot;employeeEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean employeeEntityManagerFactory\r\n        ) {\r\n            return new JpaTransactionManager(employeeEntityManagerFactory.getObject());\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring Boot configure and use two data sources","body":"<blockquote>\n<p><em><strong>declaring a data source in Spring Boot application.properties</strong></em></p>\n</blockquote>\n<pre><code>spring.datasource.company.url=jdbc:mysql://localhost/company_db?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\nspring.datasource.company.username=root\nspring.datasource.company.password=root\nspring.datasource.company.platform=mysql\n\n\nspring.datasource.employee.url=jdbc:mysql://localhost/employee_db?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\nspring.datasource.employee.username=root\nspring.datasource.employee.password=root\nspring.datasource.employee.platform=mysql\n</code></pre>\n<hr />\n<blockquote>\n<p>use multiple data sources, we need to declare multiple beans with\ndifferent mappings within Spring's application context.\nusing a configuration class</p>\n</blockquote>\n<hr />\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = &quot;com.example.multiple.datasources.entity.company&quot;,\n        entityManagerFactoryRef = &quot;companyEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;companyTransactionManager&quot;)\npublic class CompanyDataSourceConfiguration {\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.company&quot;)\n    public DataSourceProperties companyDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.company.configuration&quot;)\n    public DataSource companyDataSource() {\n        return companyDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean(name = &quot;companyEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean companyEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder.dataSource(companyDataSource()).packages(Company.class).build();\n    }\n\n    @Bean\n    public PlatformTransactionManager companyTransactionManager(\n            final @Qualifier(&quot;companyEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean companyEntityManagerFactory\n    ) {\n        return new JpaTransactionManager(companyEntityManagerFactory.getObject());\n\n    }\n\n\n}\n</code></pre>\n<hr />\n<blockquote>\n<p>we need to declare one of the datasources as @Primary. This is because\nEntityManagerFactoryBuilder is declared in JpaBaseConfiguration and\nthis class need a single data source injected.</p>\n</blockquote>\n<hr />\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = &quot;com.example.multiple.datasources.entity.employee&quot;,\n        entityManagerFactoryRef = &quot;employeeEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;employeeTransactionManager&quot;)\npublic class EmployeeDatasourceConfiguration {\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;spring.datasource.employee&quot;)\n    public DataSourceProperties employeeDataSourceProperties() {\n        return new DataSourceProperties();\n\n    }\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;spring.datasource.employee.configuration&quot;)\n    public DataSource employeeDataSource() {\n        return employeeDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n\n    @Primary\n    @Bean(&quot;employeeEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean employeeEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder.dataSource(employeeDataSource()).packages(Employee.class).build();\n    }\n\n    @Primary\n    @Bean\n    public PlatformTransactionManager employeeTransactionManager(\n            final @Qualifier(&quot;employeeEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean employeeEntityManagerFactory\n    ) {\n        return new JpaTransactionManager(employeeEntityManagerFactory.getObject());\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6314915,"reputation":3322,"user_id":4905269,"display_name":"juventus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531972,"favorite_count":0,"down_vote_count":1,"up_vote_count":332,"accepted_answer_id":30344608,"answer_count":10,"score":331,"last_activity_date":1671683898,"creation_date":1432076592,"question_id":30337582,"body_markdown":"How can I configure and use two data sources?\r\n\r\nFor example, here is what I have for the first data source:\r\n\r\n**application.properties**\r\n\r\n    #first db\r\n    spring.datasource.url = [url]\r\n    spring.datasource.username = [username]\r\n    spring.datasource.password = [password]\r\n    spring.datasource.driverClassName = oracle.jdbc.OracleDriver\r\n\r\n    #second db ...\r\n\r\n**Application class**\r\n\r\n    @SpringBootApplication\r\n    public class SampleApplication\r\n    {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SampleApplication.class, args);\r\n        }\r\n    }\r\n\r\nHow do I modify `application.properties` to add another data source? How do I autowire it to be used by a different repository?\r\n\r\n","title":"Spring Boot configure and use two data sources","body":"<p>How can I configure and use two data sources?</p>\n<p>For example, here is what I have for the first data source:</p>\n<p><strong>application.properties</strong></p>\n<pre><code>#first db\nspring.datasource.url = [url]\nspring.datasource.username = [username]\nspring.datasource.password = [password]\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\n\n#second db ...\n</code></pre>\n<p><strong>Application class</strong></p>\n<pre><code>@SpringBootApplication\npublic class SampleApplication\n{\n    public static void main(String[] args) {\n        SpringApplication.run(SampleApplication.class, args);\n    }\n}\n</code></pre>\n<p>How do I modify <code>application.properties</code> to add another data source? How do I autowire it to be used by a different repository?</p>\n"},{"tags":["java","android","spotify"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641586884,"post_id":70626523,"comment_id":124851989,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70626523/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11467863,"reputation":163,"user_id":8405580,"display_name":"V. Haudiquet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641585308,"creation_date":1641585308,"answer_id":70626523,"question_id":67547155,"body_markdown":"For the record, i solved that using [librespot-java][1]\r\n\r\n\r\n  [1]: https://github.com/librespot-org/librespot-java","title":"How to build an Android App with Media Playback from Spotify in 2021, without app remote?","body":"<p>For the record, i solved that using <a href=\"https://github.com/librespot-org/librespot-java\" rel=\"nofollow noreferrer\">librespot-java</a></p>\n"}],"owner":{"account_id":11467863,"reputation":163,"user_id":8405580,"display_name":"V. Haudiquet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70626523,"answer_count":1,"score":3,"last_activity_date":1671680711,"creation_date":1621084859,"question_id":67547155,"body_markdown":"I made a music player ([Blade-Player]) for Android, that can play music from local library, Spotify, and Deezer ; in 2018. I used the old Android Playback SDK from Spotify to achieve media playback.\r\n\r\nAs the code grew old, and Android/Spotify/... evolved, i could not maintain it the way i wanted, and it is now a collection of hacks and dirty stuff everywhere.\r\n\r\nI&#39;m trying to rewrite the whole thing, with cleaner libraries, using the new androidX compat library, RecyclerViews, Retrofit and GSon, that i didn&#39;t even know existed at the time. So far i&#39;m getting better performance indexing user library and a better UI, so this is great.\r\n\r\nThe problem is that now there is no Android Playback SDK from Spotify, as it is deprecated and no longer available.\r\nIt still works in the old version of [Blade-Player], so i could still use it, but i believe it is the source of multiple playback crashes and bugs, as it was written a long time ago (maybe it is a thread issue, or something, but Android thinks that Blade is crashing when the SpotifyPlayer is receiving data from the web, the player doesn&#39;t work when used for a long time, ...)\r\n\r\nI tried to use the new [App Remote SDK] but, obviously, it isn&#39;t adapted for a music player : all it does is start playback on the Spotify app, which is not what i want. If i have no other solution, i might settle for that, but then the point of having an unified music player for multiple sources disappears...\r\n\r\nI discovered the [Web Playback SDK] on the Spotify dev website, but it doesn&#39;t seem to be available for Android as is, and i don&#39;t believe i can hack it to get an usable playback from my app.\r\n\r\nI tried to &quot;reverse-engineer&quot; the old SDK, but all the Java code does is call native functions via JNI, functions that are in `libspotify_sdk.so` and other shared libraries. Even if i rewrote the Java part, i would still have to rely on that, which obviously seems to be the source of the current bugs. I could try to reverse-engineer the compiled &#39;.so&#39; shared library, but i&#39;m not sure to get any result.\r\n\r\n(EDIT : I tried to look into it with Ghidra, but i don&#39;t understand what is going on... playUri function only seems to perform checks and set up uri in some player globals, but then i don&#39;t understand which function does the real playback, getting audio stream from uri...)\r\n\r\n\r\nI don&#39;t have any idea of what to do now. Because of the fact that the old SDK exists, i&#39;m sure there is a way to get an encrypted stream or something from a Spotify track, but i don&#39;t know how...\r\n\r\nIf you use Spotify in your app, how do you do it ? Did you find workarrounds for the old SDK, is it working fine ? Maybe just calling all of the old sdk functions inside a different thread or something ?\r\n\r\nIf you have any idea how i can include multimedia playback from Spotify in my app in 2021, without app remote, please let me know.\r\n\r\n  [Blade-Player]: https://github.com/Valou3433/blade-player\r\n  [App Remote SDK]: https://spotify.github.io/android-sdk/app-remote-lib/\r\n  [Web Playback SDK]: https://developer.spotify.com/documentation/web-playback-sdk/\r\n","title":"How to build an Android App with Media Playback from Spotify in 2021, without app remote?","body":"<p>I made a music player (<a href=\"https://github.com/Valou3433/blade-player\" rel=\"nofollow noreferrer\">Blade-Player</a>) for Android, that can play music from local library, Spotify, and Deezer ; in 2018. I used the old Android Playback SDK from Spotify to achieve media playback.</p>\n<p>As the code grew old, and Android/Spotify/... evolved, i could not maintain it the way i wanted, and it is now a collection of hacks and dirty stuff everywhere.</p>\n<p>I'm trying to rewrite the whole thing, with cleaner libraries, using the new androidX compat library, RecyclerViews, Retrofit and GSon, that i didn't even know existed at the time. So far i'm getting better performance indexing user library and a better UI, so this is great.</p>\n<p>The problem is that now there is no Android Playback SDK from Spotify, as it is deprecated and no longer available.\nIt still works in the old version of <a href=\"https://github.com/Valou3433/blade-player\" rel=\"nofollow noreferrer\">Blade-Player</a>, so i could still use it, but i believe it is the source of multiple playback crashes and bugs, as it was written a long time ago (maybe it is a thread issue, or something, but Android thinks that Blade is crashing when the SpotifyPlayer is receiving data from the web, the player doesn't work when used for a long time, ...)</p>\n<p>I tried to use the new <a href=\"https://spotify.github.io/android-sdk/app-remote-lib/\" rel=\"nofollow noreferrer\">App Remote SDK</a> but, obviously, it isn't adapted for a music player : all it does is start playback on the Spotify app, which is not what i want. If i have no other solution, i might settle for that, but then the point of having an unified music player for multiple sources disappears...</p>\n<p>I discovered the <a href=\"https://developer.spotify.com/documentation/web-playback-sdk/\" rel=\"nofollow noreferrer\">Web Playback SDK</a> on the Spotify dev website, but it doesn't seem to be available for Android as is, and i don't believe i can hack it to get an usable playback from my app.</p>\n<p>I tried to &quot;reverse-engineer&quot; the old SDK, but all the Java code does is call native functions via JNI, functions that are in <code>libspotify_sdk.so</code> and other shared libraries. Even if i rewrote the Java part, i would still have to rely on that, which obviously seems to be the source of the current bugs. I could try to reverse-engineer the compiled '.so' shared library, but i'm not sure to get any result.</p>\n<p>(EDIT : I tried to look into it with Ghidra, but i don't understand what is going on... playUri function only seems to perform checks and set up uri in some player globals, but then i don't understand which function does the real playback, getting audio stream from uri...)</p>\n<p>I don't have any idea of what to do now. Because of the fact that the old SDK exists, i'm sure there is a way to get an encrypted stream or something from a Spotify track, but i don't know how...</p>\n<p>If you use Spotify in your app, how do you do it ? Did you find workarrounds for the old SDK, is it working fine ? Maybe just calling all of the old sdk functions inside a different thread or something ?</p>\n<p>If you have any idea how i can include multimedia playback from Spotify in my app in 2021, without app remote, please let me know.</p>\n"},{"tags":["java","annotations","documentation","javadoc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671682207,"post_id":74883910,"comment_id":132152524,"body_markdown":"A runnable example would be likely to get more people interested in examining this.","body":"A runnable example would be likely to get more people interested in examining this."},{"owner":{"account_id":27322938,"reputation":21,"user_id":20836336,"display_name":"Tom Delebo"},"score":0,"creation_date":1671692160,"post_id":74883910,"comment_id":132153979,"body_markdown":"@tgdavies Unfortunately, I can&#39;t. It&#39;s part of a much larger pipeline processing all the APIs, methods, fields, etc and I have no way to break it down into a smaller piece and the whole is way to big to post on here. I am referring to this method from the JDK just so it&#39;s clear that it&#39;s not a custom method I wrote: https://docs.oracle.com/javase/9/docs/api/javax/lang/model/util/Elements.html#getDocComment-javax.lang.model.element.Element-","body":"@tgdavies Unfortunately, I can&#39;t. It&#39;s part of a much larger pipeline processing all the APIs, methods, fields, etc and I have no way to break it down into a smaller piece and the whole is way to big to post on here. I am referring to this method from the JDK just so it&#39;s clear that it&#39;s not a custom method I wrote: <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/lang/model/util/Elements.html#getDocComment-javax.lang.model.element.Element-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/javax/lang/model/util/&hellip;</a>"},{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":0,"creation_date":1671728003,"post_id":74883910,"comment_id":132164916,"body_markdown":"I don&#39;t know whether this will help or not, but you have written `@NotNull` in the wrong place in your code.  A type annotation such as `@NotNull` should be written immediately before the type, as in `private @NotNull SomeObject varA;` which is a private variable of type `@NotNull SomeObject`.","body":"I don&#39;t know whether this will help or not, but you have written <code>@NotNull</code> in the wrong place in your code.  A type annotation such as <code>@NotNull</code> should be written immediately before the type, as in <code>private @NotNull SomeObject varA;</code> which is a private variable of type <code>@NotNull SomeObject</code>."}],"owner":{"account_id":27322938,"reputation":21,"user_id":20836336,"display_name":"Tom Delebo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671680435,"creation_date":1671680435,"question_id":74883910,"body_markdown":"I am trying to use the getDocComment method to grab some javadoc from a variable declaration, however when there is an annotation between the comment and element then getDocComment returns null\r\n\r\nFor example:\r\n```\r\n/**\r\n * A description of varA\r\n */\r\nprivate SomeObject varA;\r\n```\r\n\r\nThen I get my output **correctly** as: \\* \\`varA\\` (\\`SomeObject\\`) - A description of varA\r\n\r\nHowever, if I have an annotation on the variable it does not get the description (debugger shows null).\r\n\r\n```\r\n/**\r\n * A description of varA\r\n */\r\n@NotNull\r\nprivate SomeObject varA;\r\n```\r\n\r\nThen I get my output **incorrectly** as: \\* \\`varA\\` (\\`SomeObject\\`) -\r\n\r\nJust want to add some additional context as to why I suspect it is the annotation that is breaking this. The documentation for getDocComment() is as follows:\r\n\r\n```\r\nReturns the text of the documentation (&quot;Javadoc&quot;) comment of an element.\r\nA documentation comment of an element is a comment that begins with &quot;/**&quot;, ends with a separate &quot;*/&quot;, and immediately precedes the element, ignoring white space. Therefore, a documentation comment contains at least three &quot;*&quot; characters. The text returned for the documentation comment is a processed form of the comment as it appears in source code. The leading &quot;/**&quot; and trailing &quot;*/&quot; are removed. For lines of the comment starting after the initial &quot;/**&quot;, leading white space characters are discarded as are any consecutive &quot;*&quot; characters appearing after the white space or starting the line. The processed lines are then concatenated together (including line terminators) and returned.\r\n```\r\n\r\nIs there a way around this or an alternate method I&#39;m not seeing?","title":"JavaDoc getDocComment() doesn&#39;t work if there is an annotation on the element","body":"<p>I am trying to use the getDocComment method to grab some javadoc from a variable declaration, however when there is an annotation between the comment and element then getDocComment returns null</p>\n<p>For example:</p>\n<pre><code>/**\n * A description of varA\n */\nprivate SomeObject varA;\n</code></pre>\n<p>Then I get my output <strong>correctly</strong> as: * `varA` (`SomeObject`) - A description of varA</p>\n<p>However, if I have an annotation on the variable it does not get the description (debugger shows null).</p>\n<pre><code>/**\n * A description of varA\n */\n@NotNull\nprivate SomeObject varA;\n</code></pre>\n<p>Then I get my output <strong>incorrectly</strong> as: * `varA` (`SomeObject`) -</p>\n<p>Just want to add some additional context as to why I suspect it is the annotation that is breaking this. The documentation for getDocComment() is as follows:</p>\n<pre><code>Returns the text of the documentation (&quot;Javadoc&quot;) comment of an element.\nA documentation comment of an element is a comment that begins with &quot;/**&quot;, ends with a separate &quot;*/&quot;, and immediately precedes the element, ignoring white space. Therefore, a documentation comment contains at least three &quot;*&quot; characters. The text returned for the documentation comment is a processed form of the comment as it appears in source code. The leading &quot;/**&quot; and trailing &quot;*/&quot; are removed. For lines of the comment starting after the initial &quot;/**&quot;, leading white space characters are discarded as are any consecutive &quot;*&quot; characters appearing after the white space or starting the line. The processed lines are then concatenated together (including line terminators) and returned.\n</code></pre>\n<p>Is there a way around this or an alternate method I'm not seeing?</p>\n"},{"tags":["java","spring-boot","yaml","manifest","string-interpolation"],"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":1,"creation_date":1490993426,"post_id":43148748,"comment_id":73376212,"body_markdown":"See: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.html and http://stackoverflow.com/questions/28303758/how-to-use-yamlpropertiesfactorybean-to-load-yaml-files-using-spring-framework-4","body":"See: <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/28303758/how-to-use-yamlpropertiesfactorybean-to-load-yaml-files-using-spring-framework-4\" title=\"how to use yamlpropertiesfactorybean to load yaml files using spring framework 4\">stackoverflow.com/questions/28303758/&hellip;</a>"},{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1491233089,"post_id":43148748,"comment_id":73450157,"body_markdown":"Thank you @DaveJarvis But I don&#39;t think that is what I am looking of.","body":"Thank you @DaveJarvis But I don&#39;t think that is what I am looking of."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1491245432,"post_id":43148748,"comment_id":73457261,"body_markdown":"Have you tried searching for &quot;username&quot; inside of the YAML or other configuration files used by the application? It will likely be difficult for anyone to answer this question without knowing the contents of the files or the folder structure for the application. You should be able to search through the files, though, to find where the variables are defined.","body":"Have you tried searching for &quot;username&quot; inside of the YAML or other configuration files used by the application? It will likely be difficult for anyone to answer this question without knowing the contents of the files or the folder structure for the application. You should be able to search through the files, though, to find where the variables are defined."},{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1491254086,"post_id":43148748,"comment_id":73461649,"body_markdown":"@DaveJarvis That is what I am trying to understand myself. I know it&#39;s a bootstrap.yml file. I just don&#39;t understand where the placeholder is receiving their values from. I followed your method and searched up &quot;username&quot;. I see that build.gradle has &quot;username = &quot;${artifactory_user}&quot;. But &quot;artifactory_user&quot; does not lead to any where else.","body":"@DaveJarvis That is what I am trying to understand myself. I know it&#39;s a bootstrap.yml file. I just don&#39;t understand where the placeholder is receiving their values from. I followed your method and searched up &quot;username&quot;. I see that build.gradle has &quot;username = &quot;${artifactory_user}&quot;. But &quot;artifactory_user&quot; does not lead to any where else."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1491264719,"post_id":43148748,"comment_id":73465060,"body_markdown":"https://github.com/JetBrains/spek/issues/107","body":"<a href=\"https://github.com/JetBrains/spek/issues/107\" rel=\"nofollow noreferrer\">github.com/JetBrains/spek/issues/107</a>"},{"owner":{"account_id":18437,"reputation":31654,"user_id":42223,"accept_rate":79,"display_name":"dreftymac"},"score":0,"creation_date":1569885846,"post_id":43148748,"comment_id":102733344,"body_markdown":"**See also:** https://stackoverflow.com/questions/41620674/use-placeholders-in-yaml","body":"<b>See also:</b> <a href=\"https://stackoverflow.com/questions/41620674/use-placeholders-in-yaml\" title=\"use placeholders in yaml\">stackoverflow.com/questions/41620674/use-placeholders-in-yam&zwnj;&#8203;l</a>"}],"answers":[{"comments":[{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":1,"creation_date":1520881970,"post_id":43279822,"comment_id":85489366,"body_markdown":"@IslamAzab When you are running this on the local.\n1) press the windows key\n2) type &quot;environment variables&quot;\n3) press edit environment variables (this is where you set key/values)","body":"@IslamAzab When you are running this on the local. 1) press the windows key 2) type &quot;environment variables&quot; 3) press edit environment variables (this is where you set key/values)"},{"owner":{"account_id":281453,"reputation":2359,"user_id":577769,"display_name":"Ualter Jr."},"score":0,"creation_date":1561373034,"post_id":43279822,"comment_id":100028556,"body_markdown":"Not only with Env, check this other alternative: https://stackoverflow.com/questions/54883144/how-to-resolve-placeholder-in-properties-file-with-values-from-another-propertie?answertab=active#tab-top","body":"Not only with Env, check this other alternative: <a href=\"https://stackoverflow.com/questions/54883144/how-to-resolve-placeholder-in-properties-file-with-values-from-another-propertie?answertab=active#tab-top\" title=\"how to resolve placeholder in properties file with values from another propertie\">stackoverflow.com/questions/54883144/&hellip;</a>"}],"tags":[],"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"comment_count":2,"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1582125688,"creation_date":1491572880,"answer_id":43279822,"question_id":43148748,"body_markdown":"After intensive research, I was able to find that when I use placeholders in .yml files it reads that values from environment variables. Which was part of my theory in the beginning, but no one has confirmed.\r\n\r\n**Answer for local environment**\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          username: ${my.stored.files.username}\r\n          password: ${my.stored.files.password}\r\n          label: ${spring.cloud.find.label}\r\n          uri: ${spring.cloud.config.uri}\r\n          enabled: false\r\n          failFast: true\r\n\r\n*In environment variables * \r\n\r\n[![Image as example ][1]][1]\r\n\r\n    set key as: my.stored.files.username\r\n    set value as: UsernameSample\r\n\r\n\r\n**Then**\r\n\r\n*When you run application, yml will read like so.*\r\n\r\n        config:\r\n          username: ${my.stored.files.username}\r\n                    //gets replaced with UsernameSample\r\n\r\nThis is the link that solved my problem [link][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T221r.png\r\n  [2]: https://stackoverflow.com/questions/23027315/does-application-yml-support-environment-variables\r\n\r\n\r\n**For Cloudfoundry**\r\n\r\nYou would have to create cups or manually add these variables onto the service.","title":"How to use Property placeholders in .yml file","body":"<p>After intensive research, I was able to find that when I use placeholders in .yml files it reads that values from environment variables. Which was part of my theory in the beginning, but no one has confirmed.</p>\n\n<p><strong>Answer for local environment</strong></p>\n\n<pre><code>spring:\n  cloud:\n    config:\n      username: ${my.stored.files.username}\n      password: ${my.stored.files.password}\n      label: ${spring.cloud.find.label}\n      uri: ${spring.cloud.config.uri}\n      enabled: false\n      failFast: true\n</code></pre>\n\n<p>*In environment variables * </p>\n\n<p><a href=\"https://i.stack.imgur.com/T221r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/T221r.png\" alt=\"Image as example \"></a></p>\n\n<pre><code>set key as: my.stored.files.username\nset value as: UsernameSample\n</code></pre>\n\n<p><strong>Then</strong></p>\n\n<p><em>When you run application, yml will read like so.</em></p>\n\n<pre><code>    config:\n      username: ${my.stored.files.username}\n                //gets replaced with UsernameSample\n</code></pre>\n\n<p>This is the link that solved my problem <a href=\"https://stackoverflow.com/questions/23027315/does-application-yml-support-environment-variables\">link</a></p>\n\n<p><strong>For Cloudfoundry</strong></p>\n\n<p>You would have to create cups or manually add these variables onto the service.</p>\n"},{"tags":[],"owner":{"account_id":1761540,"reputation":11,"user_id":1608528,"display_name":"user1608528"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1567735563,"creation_date":1567735563,"answer_id":57814877,"question_id":43148748,"body_markdown":"Please use   {{your key}} as a place holder in case of .yml file \r\n","title":"How to use Property placeholders in .yml file","body":"<p>Please use   {{your key}} as a place holder in case of .yml file </p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568188395,"creation_date":1568188395,"answer_id":57884536,"question_id":43148748,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\r\n\r\nSpringApplication loads properties from application.properties files in the following locations and adds them to the Spring Environment:\r\n\r\n*  A /config subdirectory of the current directory\r\n*  The current directory\r\n*  A classpath /config package\r\n*  The classpath root\r\n\r\nThe list is ordered by precedence (properties defined in locations higher in the list override those defined in lower locations).\r\n\r\n\r\nYou can also use YAML (&#39;.yml&#39;) files as an alternative to &#39;.properties&#39;.\r\n\r\nIf you do not like application.properties as the configuration file name, you can switch to another file name by specifying a spring.config.name environment property. You can also refer to an explicit location by using the spring.config.location environment property (which is a comma-separated list of directory locations or file paths). The following example shows how to specify a different file name:\r\n\r\n     $ java -jar myproject.jar --spring.config.name=myproject\r\n\r\nThe following example shows how to specify two locations:\r\n\r\n    $ java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\r\n\r\n\r\nspring.config.name and spring.config.location are used very early to determine which files have to be loaded. They must be defined as an environment property (typically an OS environment variable, a system property, or a command-line argument).\r\n\r\nIf spring.config.location contains directories (as opposed to files), they should end in / (and, at runtime, be appended with the names generated from spring.config.name before being loaded, including profile-specific file names). Files specified in spring.config.location are used as-is, with no support for profile-specific variants, and are overridden by any profile-specific properties.\r\n\r\nConfig locations are searched in reverse order. By default, the configured locations are classpath:/,classpath:/config/,file:./,file:./config/. The resulting search order is the following:\r\n\r\n*   `file:./config/`\r\n*   `file:./`\r\n*   `classpath:/config/`\r\n*   `classpath:/`\r\n\r\nWhen custom config locations are configured by using spring.config.location, they replace the default locations. For example, if spring.config.location is configured with the value classpath:/custom-config/,file:./custom-config/, the search order becomes the following:\r\n\r\n*   `file:./custom-config/`\r\n*  `classpath:custom-config/`\r\n\r\nAlternatively, when custom config locations are configured by using spring.config.additional-location, they are used in addition to the default locations. Additional locations are searched before the default locations. For example, if additional locations of classpath:/custom-config/,file:./custom-config/ are configured, the search order becomes the following:\r\n\r\n*   `file:./custom-config/`\r\n*   `classpath:custom-config/`\r\n*   `file:./config/`\r\n*   `file:./`\r\n*   `classpath:/config/`\r\n*   `classpath:/`\r\n\r\nThis search ordering lets you specify default values in one configuration file and then selectively override those values in another. You can provide default values for your application in application.properties (or whatever other basename you choose with spring.config.name) in one of the default locations. These default values can then be overridden at runtime with a different file located in one of the custom locations.","title":"How to use Property placeholders in .yml file","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files</a></p>\n\n<p>SpringApplication loads properties from application.properties files in the following locations and adds them to the Spring Environment:</p>\n\n<ul>\n<li>A /config subdirectory of the current directory</li>\n<li>The current directory</li>\n<li>A classpath /config package</li>\n<li>The classpath root</li>\n</ul>\n\n<p>The list is ordered by precedence (properties defined in locations higher in the list override those defined in lower locations).</p>\n\n<p>You can also use YAML ('.yml') files as an alternative to '.properties'.</p>\n\n<p>If you do not like application.properties as the configuration file name, you can switch to another file name by specifying a spring.config.name environment property. You can also refer to an explicit location by using the spring.config.location environment property (which is a comma-separated list of directory locations or file paths). The following example shows how to specify a different file name:</p>\n\n<pre><code> $ java -jar myproject.jar --spring.config.name=myproject\n</code></pre>\n\n<p>The following example shows how to specify two locations:</p>\n\n<pre><code>$ java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\n</code></pre>\n\n<p>spring.config.name and spring.config.location are used very early to determine which files have to be loaded. They must be defined as an environment property (typically an OS environment variable, a system property, or a command-line argument).</p>\n\n<p>If spring.config.location contains directories (as opposed to files), they should end in / (and, at runtime, be appended with the names generated from spring.config.name before being loaded, including profile-specific file names). Files specified in spring.config.location are used as-is, with no support for profile-specific variants, and are overridden by any profile-specific properties.</p>\n\n<p>Config locations are searched in reverse order. By default, the configured locations are classpath:/,classpath:/config/,file:./,file:./config/. The resulting search order is the following:</p>\n\n<ul>\n<li><code>file:./config/</code></li>\n<li><code>file:./</code></li>\n<li><code>classpath:/config/</code></li>\n<li><code>classpath:/</code></li>\n</ul>\n\n<p>When custom config locations are configured by using spring.config.location, they replace the default locations. For example, if spring.config.location is configured with the value classpath:/custom-config/,file:./custom-config/, the search order becomes the following:</p>\n\n<ul>\n<li><code>file:./custom-config/</code></li>\n<li><code>classpath:custom-config/</code></li>\n</ul>\n\n<p>Alternatively, when custom config locations are configured by using spring.config.additional-location, they are used in addition to the default locations. Additional locations are searched before the default locations. For example, if additional locations of classpath:/custom-config/,file:./custom-config/ are configured, the search order becomes the following:</p>\n\n<ul>\n<li><code>file:./custom-config/</code></li>\n<li><code>classpath:custom-config/</code></li>\n<li><code>file:./config/</code></li>\n<li><code>file:./</code></li>\n<li><code>classpath:/config/</code></li>\n<li><code>classpath:/</code></li>\n</ul>\n\n<p>This search ordering lets you specify default values in one configuration file and then selectively override those values in another. You can provide default values for your application in application.properties (or whatever other basename you choose with spring.config.name) in one of the default locations. These default values can then be overridden at runtime with a different file located in one of the custom locations.</p>\n"},{"tags":[],"owner":{"account_id":2351584,"reputation":2077,"user_id":2060245,"display_name":"ddsultan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596802765,"creation_date":1596802765,"answer_id":63301736,"question_id":43148748,"body_markdown":"After doing some research and experiments I found out placeholders can be both environment variables and [command line arguments][1]. The syntax for properties file worked in YAML file too. Environtment variable has already been explained by @Jesse. If you lets say pass command line argument: \r\n\r\n```--my.stored.files.username=UsernameSample``` or `--username=UsernameSample`, the configuration attribute would be filled as expected\r\n\r\n```yaml \r\nmy:\r\n stored:\r\n  files:\r\n   username: ${username:defaultUsername}\r\n```\r\nI hope this might be helpful to someone having a similar issue.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/howto-properties-and-configuration.html#howto-use-short-command-line-arguments","title":"How to use Property placeholders in .yml file","body":"<p>After doing some research and experiments I found out placeholders can be both environment variables and <a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/howto-properties-and-configuration.html#howto-use-short-command-line-arguments\" rel=\"nofollow noreferrer\">command line arguments</a>. The syntax for properties file worked in YAML file too. Environtment variable has already been explained by @Jesse. If you lets say pass command line argument:</p>\n<p><code>--my.stored.files.username=UsernameSample</code> or <code>--username=UsernameSample</code>, the configuration attribute would be filled as expected</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>my:\n stored:\n  files:\n   username: ${username:defaultUsername}\n</code></pre>\n<p>I hope this might be helpful to someone having a similar issue.</p>\n"},{"tags":[],"owner":{"account_id":1274261,"reputation":639,"user_id":1229826,"accept_rate":50,"display_name":"SalutonMondo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671680422,"creation_date":1671680422,"answer_id":74883908,"question_id":43148748,"body_markdown":"ddsultan&#39;s answer works for me. just in case someone like me need to set placeholder value in idea. Edit run configuration, click Modify options, then check &quot;Program options&quot;, in the newly added field, input the place holder value, for example &quot;--section=4&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pDnX3.png","title":"How to use Property placeholders in .yml file","body":"<p>ddsultan's answer works for me. just in case someone like me need to set placeholder value in idea. Edit run configuration, click Modify options, then check &quot;Program options&quot;, in the newly added field, input the place holder value, for example &quot;--section=4&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/pDnX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pDnX3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44277,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":43279822,"answer_count":5,"score":21,"last_activity_date":1671680422,"creation_date":1490990329,"question_id":43148748,"body_markdown":"I am  working with Java and spring boot. I was wondering how to add Property placeholders into `.yml` files. I&#39;ve found some crisp examples but I am not sure where are the Property placeholders are being instantiated in. Is it in system env variables, a file, etc..?\r\n\r\n**Bootstrap.yml**\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          username: ${my.stored.files.username}\r\n          password: ${my.stored.files.password}\r\n          label: ${spring.cloud.find.label}\r\n          uri: ${spring.cloud.config.uri}\r\n          enabled: false\r\n          failFast: true\r\n\r\nUser is using Property placeholders, but where did the user declared them?\r\nWhere is this .yml reading the values from? (same question as above)\r\nIs there a document that explains the connection?\r\n\r\nThis web application will be pushed to cloud foundry using &quot;cf push&quot;, Which will automatically pick manifest.yml file to configure. If possible a cloud foundry example would be great.\r\n\r\n**Understanding/ Sample Application.properties file**\r\n\r\n    app.name=MyApp\r\n    app.description=${app.name} \r\n\r\nUser was able to use ${app.name} because it is defined. I am confused on the example above. How and where is the user getting &quot;${my.stored.files.username}.\r\nWhere is that being defined? I assumed it would be in system.properties or environment variables. Can anyone confirm?\r\n","title":"How to use Property placeholders in .yml file","body":"<p>I am  working with Java and spring boot. I was wondering how to add Property placeholders into <code>.yml</code> files. I've found some crisp examples but I am not sure where are the Property placeholders are being instantiated in. Is it in system env variables, a file, etc..?</p>\n<p><strong>Bootstrap.yml</strong></p>\n<pre><code>spring:\n  cloud:\n    config:\n      username: ${my.stored.files.username}\n      password: ${my.stored.files.password}\n      label: ${spring.cloud.find.label}\n      uri: ${spring.cloud.config.uri}\n      enabled: false\n      failFast: true\n</code></pre>\n<p>User is using Property placeholders, but where did the user declared them?\nWhere is this .yml reading the values from? (same question as above)\nIs there a document that explains the connection?</p>\n<p>This web application will be pushed to cloud foundry using &quot;cf push&quot;, Which will automatically pick manifest.yml file to configure. If possible a cloud foundry example would be great.</p>\n<p><strong>Understanding/ Sample Application.properties file</strong></p>\n<pre><code>app.name=MyApp\napp.description=${app.name} \n</code></pre>\n<p>User was able to use ${app.name} because it is defined. I am confused on the example above. How and where is the user getting &quot;${my.stored.files.username}.\nWhere is that being defined? I assumed it would be in system.properties or environment variables. Can anyone confirm?</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1671655276,"post_id":74880030,"comment_id":132148064,"body_markdown":"545460846912 is 0x7f00000140, which looks like a stack and/or kernel  address. I think you&#39;re chasing a red herring. The JNI defines the size parameter of `New&lt;Primitive&gt;Array` as a `jsize` anyway, so you cannot create arrays with more than 2**32 items.","body":"545460846912 is 0x7f00000140, which looks like a stack and/or kernel  address. I think you&#39;re chasing a red herring. The JNI defines the size parameter of <code>New&lt;Primitive&gt;Array</code> as a <code>jsize</code> anyway, so you cannot create arrays with more than 2**32 items."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1671679541,"post_id":74880030,"comment_id":132152193,"body_markdown":"@Botje Nevermind that 545460846912 won&#39;t fit into `int nGetEncoderFrameSize` anyway...","body":"@Botje Nevermind that 545460846912 won&#39;t fit into <code>int nGetEncoderFrameSize</code> anyway..."},{"owner":{"account_id":6974764,"reputation":1119,"user_id":5376493,"accept_rate":73,"display_name":"dev"},"score":0,"creation_date":1671733441,"post_id":74880030,"comment_id":132166520,"body_markdown":"Actually debugged it. It seg faults on null ptr deref in the lib. Tried passing it WAV, and PCM as short array input and expected output to by in byte array. So I guess I miss some info. Close it on my end.","body":"Actually debugged it. It seg faults on null ptr deref in the lib. Tried passing it WAV, and PCM as short array input and expected output to by in byte array. So I guess I miss some info. Close it on my end."}],"answers":[{"tags":[],"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671679501,"creation_date":1671679501,"answer_id":74883852,"question_id":74880030,"body_markdown":"&gt; How can I create a jshortarray with 545460846912 elements\r\n\r\nYou **can&#39;t**.\r\n\r\nPer the [Java 9 Language Specification](https://docs.oracle.com/javase/specs/jls/se9/html/jls-10.html#jls-10.4) (bolding mine):\r\n\r\n&gt; **Arrays must be indexed by `int` values**; `short`, `byte`, or `char` values may also be used as index values because they are subjected to unary numeric promotion (&#167;5.6.1) and become `int` values.\r\n&gt;\r\n&gt; An attempt to access an array component with a `long` index value results in a compile-time error.\r\n&gt;\r\n&gt; All array accesses are checked at run time; an attempt to use an index that is less than zero or greater than or equal to the length of the array causes an ArrayIndexOutOfBoundsException to be thrown.\r\n\r\nThe wording for [Java 17 is identical](https://docs.oracle.com/javase/specs/jls/se17/html/jls-10.html#jls-10.4).\r\n\r\n[Java `int` values are limited in range to ](https://docs.oracle.com/javase/specs/jls/se9/html/jls-4.html#jls-4.2.1) (again, bolding mine):\r\n\r\n&gt; **4.2.1.&#160;Integral Types and Values**\r\n&gt; \r\n&gt; The values of the integral types are integers in the following ranges:\r\n&gt; - For `byte`, from -128 to 127, inclusive\r\n&gt; - For `short`, from -32768 to 32767, inclusive\r\n&gt; - **For `int`, from -2147483648 to 2147483647, inclusive**\r\n&gt; - For `long`, from -9223372036854775808 to 9223372036854775807, inclusive\r\n&gt; - For `char`, from &#39;\\u0000&#39; to &#39;\\uffff&#39; inclusive, that is, from 0 to 65535\r\n\r\n2147483647 is smaller than 545460846912.","title":"Java native big jshortarray with more than int elements","body":"<blockquote>\n<p>How can I create a jshortarray with 545460846912 elements</p>\n</blockquote>\n<p>You <strong>can't</strong>.</p>\n<p>Per the <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-10.html#jls-10.4\" rel=\"nofollow noreferrer\">Java 9 Language Specification</a> (bolding mine):</p>\n<blockquote>\n<p><strong>Arrays must be indexed by <code>int</code> values</strong>; <code>short</code>, <code>byte</code>, or <code>char</code> values may also be used as index values because they are subjected to unary numeric promotion (5.6.1) and become <code>int</code> values.</p>\n<p>An attempt to access an array component with a <code>long</code> index value results in a compile-time error.</p>\n<p>All array accesses are checked at run time; an attempt to use an index that is less than zero or greater than or equal to the length of the array causes an ArrayIndexOutOfBoundsException to be thrown.</p>\n</blockquote>\n<p>The wording for <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-10.html#jls-10.4\" rel=\"nofollow noreferrer\">Java 17 is identical</a>.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-4.html#jls-4.2.1\" rel=\"nofollow noreferrer\">Java <code>int</code> values are limited in range to </a> (again, bolding mine):</p>\n<blockquote>\n<p><strong>4.2.1.Integral Types and Values</strong></p>\n<p>The values of the integral types are integers in the following ranges:</p>\n<ul>\n<li>For <code>byte</code>, from -128 to 127, inclusive</li>\n<li>For <code>short</code>, from -32768 to 32767, inclusive</li>\n<li><strong>For <code>int</code>, from -2147483648 to 2147483647, inclusive</strong></li>\n<li>For <code>long</code>, from -9223372036854775808 to 9223372036854775807, inclusive</li>\n<li>For <code>char</code>, from '\\u0000' to '\\uffff' inclusive, that is, from 0 to 65535</li>\n</ul>\n</blockquote>\n<p>2147483647 is smaller than 545460846912.</p>\n"}],"owner":{"account_id":6974764,"reputation":1119,"user_id":5376493,"accept_rate":73,"display_name":"dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74883852,"answer_count":1,"score":0,"last_activity_date":1671679501,"creation_date":1671645374,"question_id":74880030,"body_markdown":"\r\nHow can I create a jshortarray with 545460846912 elements\r\n\r\n\r\n  \r\n\r\n     retval = env-&gt;NewShortArray((long) 545460846912);  // allocate\r\n                     ~~~~~~~~~~~~~ ^~~~~~~~~~~~~~~~~~~\r\n    ..test.cpp:296:42: warning: implicit conversion from &#39;long&#39; to &#39;jsize&#39; (aka &#39;int&#39;) changes value from 545460846912 to 320 [-Wconstant-conversion]\r\n        env-&gt;SetShortArrayRegion(retval, 0 , (long) 545460846912, (short const *)b); \r\n             ~~~~~~~~~~~~~~~~~~~             ^~\r\n\r\nTry to mimic this code\r\n\r\n    int nGetEncoderFrameSize = (int) LibSpeex.nGetEncoderFrameSize(nInitSpxEncoder);\r\n\r\nand it returns 545460846912 for my file\r\n\r\nI need to make an short array with that size\r\n\r\n     short[] sArr = new short[nGetEncoderFrameSize];\r\n\r\nand then call it:\r\n\r\n    long nEncodeBuffer = LibSpeex.nEncodeBuffer(nInitSpxEncoder, sArr, bArr, 65536);\r\n\r\nIs it possible to create that big jshortArray?\r\n\r\nHow can I solve it?","title":"Java native big jshortarray with more than int elements","body":"<p>How can I create a jshortarray with 545460846912 elements</p>\n<pre><code> retval = env-&gt;NewShortArray((long) 545460846912);  // allocate\n                 ~~~~~~~~~~~~~ ^~~~~~~~~~~~~~~~~~~\n..test.cpp:296:42: warning: implicit conversion from 'long' to 'jsize' (aka 'int') changes value from 545460846912 to 320 [-Wconstant-conversion]\n    env-&gt;SetShortArrayRegion(retval, 0 , (long) 545460846912, (short const *)b); \n         ~~~~~~~~~~~~~~~~~~~             ^~\n</code></pre>\n<p>Try to mimic this code</p>\n<pre><code>int nGetEncoderFrameSize = (int) LibSpeex.nGetEncoderFrameSize(nInitSpxEncoder);\n</code></pre>\n<p>and it returns 545460846912 for my file</p>\n<p>I need to make an short array with that size</p>\n<pre><code> short[] sArr = new short[nGetEncoderFrameSize];\n</code></pre>\n<p>and then call it:</p>\n<pre><code>long nEncodeBuffer = LibSpeex.nEncodeBuffer(nInitSpxEncoder, sArr, bArr, 65536);\n</code></pre>\n<p>Is it possible to create that big jshortArray?</p>\n<p>How can I solve it?</p>\n"},{"tags":["java","html","spring","mongodb","crud"],"comments":[{"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"score":1,"creation_date":1671680037,"post_id":74883848,"comment_id":132152255,"body_markdown":"IMO, you should have your id field with some annotations like `@GeneratedValue` and `@SequenceGenerator` and provider them with a sequence generator of your choice, so you will have a auto generate id each time you insert a new record","body":"IMO, you should have your id field with some annotations like <code>@GeneratedValue</code> and <code>@SequenceGenerator</code> and provider them with a sequence generator of your choice, so you will have a auto generate id each time you insert a new record"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1671681357,"post_id":74883848,"comment_id":132152420,"body_markdown":"Thank you! I tried adding &quot;@GeneratedValue(strategy = GenerationType.AUTO)&quot; above my id in the Category POJO, but it is still not allowing me to add multiple categories to the database.","body":"Thank you! I tried adding &quot;@GeneratedValue(strategy = GenerationType.AUTO)&quot; above my id in the Category POJO, but it is still not allowing me to add multiple categories to the database."},{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":0,"creation_date":1671681810,"post_id":74883848,"comment_id":132152483,"body_markdown":"Why not use the default ObjectId that mongo generates?","body":"Why not use the default ObjectId that mongo generates?"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1671682281,"post_id":74883848,"comment_id":132152534,"body_markdown":"I tried using it, but it still only shows me one object in my database. It&#39;s weird because I have another POJO called Product in my project, and the id works properly for that.","body":"I tried using it, but it still only shows me one object in my database. It&#39;s weird because I have another POJO called Product in my project, and the id works properly for that."},{"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1671695821,"post_id":74883848,"comment_id":132154803,"body_markdown":"When you browse to the add category page, what value does the hidden &#39;id&#39; field have?  Is it always the same?","body":"When you browse to the add category page, what value does the hidden &#39;id&#39; field have?  Is it always the same?"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1671743421,"post_id":74883848,"comment_id":132169100,"body_markdown":"This is what I have for the hidden field so far: &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:field=&quot;*{id}&quot;&gt;. Is it supposed to be like this?","body":"This is what I have for the hidden field so far: &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:field=&quot;*{id}&quot;&gt;. Is it supposed to be like this?"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671679444,"creation_date":1671679444,"question_id":74883848,"body_markdown":"I am working on an ecommerce website using Eclipse, Spring, and MongoDB. Whenever I try creating a new category (URL is http://localhost:8080/admin/categories), the first one appears, but when I try creating a new one, it just replaces my first one. For example, if I create a category called &quot;car&quot;, it appears, but then when I create a new one called &quot;bike&quot;, the latter takes the place of the former. I of course want category car to be first and category bike to be second. I am assuming it has something to do with the id not saving properly because in my MongoDB collection, the entry shows nothing for _id (normally it does show something for _id). \r\n\r\n[![MongoDB Picture][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/eSxRg.png\r\n\r\n\r\nHere is my code:\r\n\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.service.CategoryService;\r\n\r\n@Controller\r\npublic class AdminController {\r\n\t\r\n\t//Injecting dependency\r\n\t@Autowired\r\n\tCategoryService categoryService;\r\n\t\r\n\t//This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \r\n\t//@return the adminHome page\r\n\t@GetMapping(&quot;/admin&quot;)\r\n\tpublic String adminHome() {\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;adminHome&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\r\n\t//@return the categories page \r\n\t@GetMapping(&quot;/admin/categories&quot;)\r\n\tpublic String getCat(Model model) {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categories&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\r\n\t//a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\r\n\t//The method is @GetMapping because you are getting information\r\n\t//@param model will hold the category object so that the form can add information to it \r\n\t//@return the categoriesAdd page \r\n\t@GetMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String getCatAdd(Model model) {\r\n\t\t\r\n\t\t//Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\r\n\t\tmodel.addAttribute(&quot;newCategory&quot;, new Category());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categoriesAdd&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\r\n\t//The method is @PostMapping because you are sending information\r\n\t//@param category gets its value from the ModelAttribute, which gets its value from the form\r\n\t//@return the categories page \r\n\t@PostMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String postCatAdd(@ModelAttribute(&quot;newCategory&quot;) Category category) {\r\n\t\t\r\n\t\t//Calling categoryService to add the category\r\n\t\tcategoryService.addCategory(category);\r\n\t\t\r\n\t\t//Redirecting to page that shows all categories \r\n\t\treturn &quot;redirect:/admin/categories&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n````\r\n\r\n````\r\npackage com.ecommerce.website.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.repository.CategoryRepository;\r\n\r\n@Service\r\npublic class CategoryService {\r\n\r\n\t//Injecting dependency \r\n\t@Autowired\r\n\tCategoryRepository categoryRepository;\r\n\t\r\n\t//This method calls categoryRepository to add a category to the database  \r\n\t//@param category is the category that is being added \r\n\tpublic void addCategory(Category category) {\r\n\t\t\r\n\t\t//Saving the category to the database \r\n\t\tcategoryRepository.save(category);\r\n\t}\r\n\t\r\n\t//This method calls categoryRepository to retrieve a list of categories \r\n\t//@return the list of categories  \r\n\tpublic List&lt;Category&gt; getAllCategories() {\r\n\t\treturn categoryRepository.findAll();\r\n\t}\r\n}\r\n````\r\n\r\n\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\nimport com.ecommerce.website.model.Category;\r\n\r\npublic interface CategoryRepository extends MongoRepository&lt;Category, String&gt; {\r\n\r\n}\r\n````\r\n\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;categories&quot;)\r\npublic class Category {\r\n\t\r\n\t@Id\r\n\tprivate String id;\r\n\t\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t\r\n\tpublic Category() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Category(String id, String name) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t} \r\n\t\r\n\t\r\n}\r\n````\r\n\r\nThis is the page that is supposed to show all the categories \r\n````\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot;\r\n          content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot;\r\n          integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.0/css/all.css&quot;\r\n          integrity=&quot;sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;title&gt;Document&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-light bg-light&quot; &gt;\r\n    &lt;div class=&quot;container-fluid&quot;&gt;\r\n        &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;\r\n            &lt;img th:src=&quot;@{/images/logo.png}&quot;  src=&quot;../static/images/logo.png&quot; width=&quot;auto&quot; height=&quot;40&quot; class=&quot;d-inline-block align-top&quot; alt=&quot;&quot;/&gt;\r\n        &lt;/a&gt;\r\n        &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n            &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n        &lt;/button&gt;\r\n\r\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n            &lt;ul class=&quot;navbar-nav mr-auto&quot;&gt;&lt;/ul&gt;\r\n            &lt;ul class=&quot;navbar-nav&quot;&gt;\r\n                &lt;li class=&quot;nav-item active&quot;&gt;\r\n                \t\r\n                \t&lt;!-- This anchor allows the user to go to the admin home page. It maps to the method with\r\n                   \t\t /admin endpoint --&gt;\r\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/admin}&quot; href=&quot;#&quot;&gt;admin-home&lt;/a&gt;\r\n                &lt;/li&gt;\r\n                &lt;li class=&quot;nav-item active&quot;&gt;\r\n                \r\n                \t&lt;!-- This anchor allows the user to logout. It maps to the method with\r\n                   \t\t /logout endpoint --&gt;\r\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/logout}&quot; href=&quot;#&quot;&gt;logout&lt;/a&gt;\r\n                &lt;/li&gt;\r\n\r\n            &lt;/ul&gt;\r\n\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/nav&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n\r\n\t&lt;!-- This anchor allows the user to go to the categoriesAdd page. It maps to the method with\r\n         /admin/categories/add endpoint --&gt;\r\n    &lt;a th:href=&quot;@{/admin/categories/add}&quot; style=&quot;margin: 20px 0&quot; class=&quot;btn btn-primary&quot;&gt;Add Category&lt;/a&gt;\r\n    &lt;table class=&quot;table&quot;&gt;\r\n    \t\r\n    \t&lt;!-- Creating the table heads --&gt;\r\n        &lt;thead class=&quot;thead-light&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;th scope=&quot;col&quot;&gt;SN&lt;/th&gt;\r\n            &lt;th scope=&quot;col&quot;&gt;Category Name&lt;/th&gt;\r\n            &lt;th scope=&quot;col&quot;&gt;Delete&lt;/th&gt;\r\n            &lt;th scope=&quot;col&quot;&gt;Update&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n\r\n\t\t&lt;!-- Looping through each category and displaying its name (iStat is responsible for the serial numbers) --&gt;\r\n        &lt;tr th:each=&quot;category, iStat : ${categories}&quot;&gt;\r\n        \r\n        \t&lt;!-- iStat.index is 0th index, so we add 1 so that the SN&#39;s start at 1 --&gt;\r\n            &lt;th scope=&quot;row&quot; th:text=&quot;${iStat.index + 1}&quot;&gt;1&lt;/th&gt;\r\n            &lt;td th:text=&quot;${category.name}&quot;&gt;Larry&lt;/td&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- ????Buttons: first deletes the product; second maps to the /update endpoint, which takes the user to edit.html\r\n                    \t for whichever product the product.id is for (id is appended to the URL, which is how the /show endpoint\r\n                    \t is able to access it --&gt;\r\n            &lt;td&gt;&lt;a href=&quot;&quot; th:href=&quot;@{/admin/categories/delete/{id}(id=${category.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;a href=&quot;&quot; th:href=&quot;@{/admin/categories/update/{id}(id=${category.id})}&quot; class=&quot;btn btn-warning&quot;&gt;Update&lt;/a&gt;&lt;/td&gt;\r\n\r\n        &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n\r\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nThis is the page for adding a new category \r\n````\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; \r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot;\r\n          content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot;\r\n          integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.0/css/all.css&quot;\r\n          integrity=&quot;sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;title&gt;Document&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-light bg-light&quot; &gt;\r\n    &lt;div class=&quot;container-fluid&quot;&gt;\r\n        &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;\r\n            &lt;img th:src=&quot;@{/images/logo.png}&quot;  src=&quot;../static/images/logo.png&quot; width=&quot;auto&quot; height=&quot;40&quot; class=&quot;d-inline-block align-top&quot; alt=&quot;&quot;/&gt;\r\n        &lt;/a&gt;\r\n        &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n            &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n        &lt;/button&gt;\r\n\r\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n            &lt;ul class=&quot;navbar-nav mr-auto&quot;&gt;&lt;/ul&gt;\r\n            &lt;ul class=&quot;navbar-nav&quot;&gt;\r\n                &lt;li class=&quot;nav-item active&quot;&gt;\r\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/admin}&quot; href=&quot;#&quot;&gt;admin-home&lt;/a&gt;\r\n                &lt;/li&gt;\r\n                &lt;li class=&quot;nav-item active&quot;&gt;\r\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/logout}&quot; href=&quot;#&quot;&gt;logout&lt;/a&gt;\r\n                &lt;/li&gt;\r\n\r\n            &lt;/ul&gt;\r\n\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/nav&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;div class=&quot;row&quot;&gt;\r\n        &lt;div class=&quot;col-sm-4&quot;&gt;\r\n        \r\n        \t&lt;!-- Mapping to the /admin/categories/add endpoint (@PostMapping one). We are using post method since we are \r\n        \t\t sending info. The category object comes from the getCatAdd() method --&gt;\r\n        \t&lt;!-- This is the real work: send form data to /admin/categories/add. &quot;category&quot; is the model attribute --&gt;\r\n            &lt;form th:action=&quot;@{/admin/categories/add}&quot; method=&quot;post&quot; th:object=&quot;${newCategory}&quot;&gt;\r\n            \r\n            \t&lt;!-- Hidden id field to show which category is being added. It will bind to ModelAttribute to tell your app\r\n            \t     which category is being added. *{category_id} selects category_id property on referenced th:object (category)  --&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:field=&quot;*{id}&quot;&gt;\r\n                \r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;\r\n                    \r\n                    &lt;!-- Input field. *{name} selects name property on referenced th:object (category) --&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; required th:field=&quot;*{name}&quot; name=&quot;name&quot; id=&quot;name&quot;  placeholder=&quot;Enter name&quot;&gt;\r\n\r\n                &lt;/div&gt;\r\n\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n\r\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````","title":"Why is Only One Object Appearing in my Database? (Using Spring and MongoDB)","body":"<p>I am working on an ecommerce website using Eclipse, Spring, and MongoDB. Whenever I try creating a new category (URL is http://localhost:8080/admin/categories), the first one appears, but when I try creating a new one, it just replaces my first one. For example, if I create a category called &quot;car&quot;, it appears, but then when I create a new one called &quot;bike&quot;, the latter takes the place of the former. I of course want category car to be first and category bike to be second. I am assuming it has something to do with the id not saving properly because in my MongoDB collection, the entry shows nothing for _id (normally it does show something for _id).</p>\n<p><a href=\"https://i.stack.imgur.com/eSxRg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSxRg.png\" alt=\"MongoDB Picture\" /></a></p>\n<p>Here is my code:</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.service.CategoryService;\n\n@Controller\npublic class AdminController {\n    \n    //Injecting dependency\n    @Autowired\n    CategoryService categoryService;\n    \n    //This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \n    //@return the adminHome page\n    @GetMapping(&quot;/admin&quot;)\n    public String adminHome() {\n        \n        //Display html page\n        return &quot;adminHome&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\n    //@return the categories page \n    @GetMapping(&quot;/admin/categories&quot;)\n    public String getCat(Model model) {\n        \n        model.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\n        \n        //Display html page\n        return &quot;categories&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\n    //a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\n    //The method is @GetMapping because you are getting information\n    //@param model will hold the category object so that the form can add information to it \n    //@return the categoriesAdd page \n    @GetMapping(&quot;/admin/categories/add&quot;)\n    public String getCatAdd(Model model) {\n        \n        //Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\n        model.addAttribute(&quot;newCategory&quot;, new Category());\n        \n        //Display html page\n        return &quot;categoriesAdd&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\n    //The method is @PostMapping because you are sending information\n    //@param category gets its value from the ModelAttribute, which gets its value from the form\n    //@return the categories page \n    @PostMapping(&quot;/admin/categories/add&quot;)\n    public String postCatAdd(@ModelAttribute(&quot;newCategory&quot;) Category category) {\n        \n        //Calling categoryService to add the category\n        categoryService.addCategory(category);\n        \n        //Redirecting to page that shows all categories \n        return &quot;redirect:/admin/categories&quot;;\n    }\n    \n    \n}\n</code></pre>\n<pre><code>package com.ecommerce.website.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.repository.CategoryRepository;\n\n@Service\npublic class CategoryService {\n\n    //Injecting dependency \n    @Autowired\n    CategoryRepository categoryRepository;\n    \n    //This method calls categoryRepository to add a category to the database  \n    //@param category is the category that is being added \n    public void addCategory(Category category) {\n        \n        //Saving the category to the database \n        categoryRepository.save(category);\n    }\n    \n    //This method calls categoryRepository to retrieve a list of categories \n    //@return the list of categories  \n    public List&lt;Category&gt; getAllCategories() {\n        return categoryRepository.findAll();\n    }\n}\n</code></pre>\n<pre><code>package com.ecommerce.website.repository;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\nimport com.ecommerce.website.model.Category;\n\npublic interface CategoryRepository extends MongoRepository&lt;Category, String&gt; {\n\n}\n</code></pre>\n<pre><code>package com.ecommerce.website.model;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;categories&quot;)\npublic class Category {\n    \n    @Id\n    private String id;\n    \n    \n    private String name;\n    \n    \n    public Category() {\n        \n    }\n    \n    public Category(String id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    } \n    \n    \n}\n</code></pre>\n<p>This is the page that is supposed to show all the categories</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot;\n          content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot;\n          integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.0/css/all.css&quot;\n          integrity=&quot;sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-light bg-light&quot; &gt;\n    &lt;div class=&quot;container-fluid&quot;&gt;\n        &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;\n            &lt;img th:src=&quot;@{/images/logo.png}&quot;  src=&quot;../static/images/logo.png&quot; width=&quot;auto&quot; height=&quot;40&quot; class=&quot;d-inline-block align-top&quot; alt=&quot;&quot;/&gt;\n        &lt;/a&gt;\n        &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n            &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n        &lt;/button&gt;\n\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n            &lt;ul class=&quot;navbar-nav mr-auto&quot;&gt;&lt;/ul&gt;\n            &lt;ul class=&quot;navbar-nav&quot;&gt;\n                &lt;li class=&quot;nav-item active&quot;&gt;\n                    \n                    &lt;!-- This anchor allows the user to go to the admin home page. It maps to the method with\n                         /admin endpoint --&gt;\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/admin}&quot; href=&quot;#&quot;&gt;admin-home&lt;/a&gt;\n                &lt;/li&gt;\n                &lt;li class=&quot;nav-item active&quot;&gt;\n                \n                    &lt;!-- This anchor allows the user to logout. It maps to the method with\n                         /logout endpoint --&gt;\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/logout}&quot; href=&quot;#&quot;&gt;logout&lt;/a&gt;\n                &lt;/li&gt;\n\n            &lt;/ul&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n&lt;div class=&quot;container&quot;&gt;\n\n    &lt;!-- This anchor allows the user to go to the categoriesAdd page. It maps to the method with\n         /admin/categories/add endpoint --&gt;\n    &lt;a th:href=&quot;@{/admin/categories/add}&quot; style=&quot;margin: 20px 0&quot; class=&quot;btn btn-primary&quot;&gt;Add Category&lt;/a&gt;\n    &lt;table class=&quot;table&quot;&gt;\n        \n        &lt;!-- Creating the table heads --&gt;\n        &lt;thead class=&quot;thead-light&quot;&gt;\n        &lt;tr&gt;\n            &lt;th scope=&quot;col&quot;&gt;SN&lt;/th&gt;\n            &lt;th scope=&quot;col&quot;&gt;Category Name&lt;/th&gt;\n            &lt;th scope=&quot;col&quot;&gt;Delete&lt;/th&gt;\n            &lt;th scope=&quot;col&quot;&gt;Update&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n\n        &lt;!-- Looping through each category and displaying its name (iStat is responsible for the serial numbers) --&gt;\n        &lt;tr th:each=&quot;category, iStat : ${categories}&quot;&gt;\n        \n            &lt;!-- iStat.index is 0th index, so we add 1 so that the SN's start at 1 --&gt;\n            &lt;th scope=&quot;row&quot; th:text=&quot;${iStat.index + 1}&quot;&gt;1&lt;/th&gt;\n            &lt;td th:text=&quot;${category.name}&quot;&gt;Larry&lt;/td&gt;\n            \n            &lt;!-- ????Buttons: first deletes the product; second maps to the /update endpoint, which takes the user to edit.html\n                         for whichever product the product.id is for (id is appended to the URL, which is how the /show endpoint\n                         is able to access it --&gt;\n            &lt;td&gt;&lt;a href=&quot;&quot; th:href=&quot;@{/admin/categories/delete/{id}(id=${category.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;a href=&quot;&quot; th:href=&quot;@{/admin/categories/update/{id}(id=${category.id})}&quot; class=&quot;btn btn-warning&quot;&gt;Update&lt;/a&gt;&lt;/td&gt;\n\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n\n\n\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is the page for adding a new category</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; \n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot;\n          content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot;\n          integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.0/css/all.css&quot;\n          integrity=&quot;sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-light bg-light&quot; &gt;\n    &lt;div class=&quot;container-fluid&quot;&gt;\n        &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;\n            &lt;img th:src=&quot;@{/images/logo.png}&quot;  src=&quot;../static/images/logo.png&quot; width=&quot;auto&quot; height=&quot;40&quot; class=&quot;d-inline-block align-top&quot; alt=&quot;&quot;/&gt;\n        &lt;/a&gt;\n        &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n            &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n        &lt;/button&gt;\n\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n            &lt;ul class=&quot;navbar-nav mr-auto&quot;&gt;&lt;/ul&gt;\n            &lt;ul class=&quot;navbar-nav&quot;&gt;\n                &lt;li class=&quot;nav-item active&quot;&gt;\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/admin}&quot; href=&quot;#&quot;&gt;admin-home&lt;/a&gt;\n                &lt;/li&gt;\n                &lt;li class=&quot;nav-item active&quot;&gt;\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/logout}&quot; href=&quot;#&quot;&gt;logout&lt;/a&gt;\n                &lt;/li&gt;\n\n            &lt;/ul&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-sm-4&quot;&gt;\n        \n            &lt;!-- Mapping to the /admin/categories/add endpoint (@PostMapping one). We are using post method since we are \n                 sending info. The category object comes from the getCatAdd() method --&gt;\n            &lt;!-- This is the real work: send form data to /admin/categories/add. &quot;category&quot; is the model attribute --&gt;\n            &lt;form th:action=&quot;@{/admin/categories/add}&quot; method=&quot;post&quot; th:object=&quot;${newCategory}&quot;&gt;\n            \n                &lt;!-- Hidden id field to show which category is being added. It will bind to ModelAttribute to tell your app\n                     which category is being added. *{category_id} selects category_id property on referenced th:object (category)  --&gt;\n                &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:field=&quot;*{id}&quot;&gt;\n                \n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;\n                    \n                    &lt;!-- Input field. *{name} selects name property on referenced th:object (category) --&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; required th:field=&quot;*{name}&quot; name=&quot;name&quot; id=&quot;name&quot;  placeholder=&quot;Enter name&quot;&gt;\n\n                &lt;/div&gt;\n\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring","microservices"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671679543,"post_id":74883769,"comment_id":132152194,"body_markdown":"Have a look at the HTML you are getting.","body":"Have a look at the HTML you are getting."},{"owner":{"account_id":11721439,"reputation":215,"user_id":8580281,"display_name":"Venu Madhav Reddy"},"score":0,"creation_date":1671679869,"post_id":74883769,"comment_id":132152234,"body_markdown":"we are not getting any html.. but the content type we are getting as text/html. the same we can see in error","body":"we are not getting any html.. but the content type we are getting as text/html. the same we can see in error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671680175,"post_id":74883769,"comment_id":132152270,"body_markdown":"So the contents of the response is what you expect, but the header is wrong?","body":"So the contents of the response is what you expect, but the header is wrong?"}],"owner":{"account_id":11721439,"reputation":215,"user_id":8580281,"display_name":"Venu Madhav Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671678162,"creation_date":1671678162,"question_id":74883769,"body_markdown":"We are implementing microservice architecture.\r\n\r\nI have deployed eureka server in external tomcat server i.e tomcat9 as context path &quot;barpp-serviceregistry&quot; \r\n\r\nWhen i am connecting from the client, we are getting the following error\r\n\r\n\r\n```\r\n2022-12-22 08:18:55.863  INFO 1460 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:9090/barapp-serviceregistry/}, exception=Could not extract response: no suitable HttpMessageConverter found for response type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [text/html;charset=utf-8] stacktrace=org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [text/html;charset=utf-8]\r\n\tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1037)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1020)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:778)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)\r\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\r\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)\r\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)\r\n\tat com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)\r\n\tat com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n```\r\n\r\n\r\nthe same code we run as standalone application, it works fine. Is there any configuration required while deploying to external tomcat, what am I missing here?\r\n\r\nthe following are the properties configuration\r\n\r\nEureka server\r\n=============\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: barapp-serviceregistry\r\n#server:\r\n#  port: ${port:8761}\r\neureka:\r\n  client:\r\n    register-with-eureka: false\r\n    fetch-registry: false\r\n    serviceUrl:\r\n      defaultZone: http://localhost:9090/barpp-serviceregistry/\r\n```\r\n\r\nEureka client\r\n=============\r\n\r\n```\r\neureka:\r\n  client:\r\n    service-url:\r\n      defaultZone: http://localhost:9090/barapp-serviceregistry/\r\n```\r\n\r\nPlease help on it\r\n\r\nchecked with different blogs and tried with different options like adding the headers","title":"Could not extract response: no suitable HttpMessageConverter found for response type","body":"<p>We are implementing microservice architecture.</p>\n<p>I have deployed eureka server in external tomcat server i.e tomcat9 as context path &quot;barpp-serviceregistry&quot;</p>\n<p>When i am connecting from the client, we are getting the following error</p>\n<pre><code>2022-12-22 08:18:55.863  INFO 1460 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:9090/barapp-serviceregistry/}, exception=Could not extract response: no suitable HttpMessageConverter found for response type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [text/html;charset=utf-8] stacktrace=org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [text/html;charset=utf-8]\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1037)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1020)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:778)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n    at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)\n    at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)\n    at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)\n    at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)\n    at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n</code></pre>\n<p>the same code we run as standalone application, it works fine. Is there any configuration required while deploying to external tomcat, what am I missing here?</p>\n<p>the following are the properties configuration</p>\n<h1>Eureka server</h1>\n<pre><code>spring:\n  application:\n    name: barapp-serviceregistry\n#server:\n#  port: ${port:8761}\neureka:\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n    serviceUrl:\n      defaultZone: http://localhost:9090/barpp-serviceregistry/\n</code></pre>\n<h1>Eureka client</h1>\n<pre><code>eureka:\n  client:\n    service-url:\n      defaultZone: http://localhost:9090/barapp-serviceregistry/\n</code></pre>\n<p>Please help on it</p>\n<p>checked with different blogs and tried with different options like adding the headers</p>\n"},{"tags":["javascript","java","android","react-native","kotlin"],"answers":[{"tags":[],"owner":{"account_id":20369302,"reputation":871,"user_id":14941832,"display_name":"Future Deep Gone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671677906,"creation_date":1671677906,"answer_id":74883749,"question_id":74881759,"body_markdown":"Method 1. Reduce the Android API to a version below 31. Android 12 requires android:exported to be explicitly defined.\r\n\r\nMethod 2. If there is a problem in the dependency library, it is recommended to upgrade to the latest dependency. If the latest dependency has not solved this problem, you can directly click to the AndroidManifest.xml where the error is reported, directly edit the manifest file, and manually add the android:exported attribute. After the addition is complete, rebuild the project.\r\n\r\nNOTE: The second method of editing AndroidManifest.xml is just a special way to get your project running. This modification is required every time the project is restarted.","title":"Manifest merger failed : android:exported needs to be explicitly specified for element &lt;service#com.marianhello.bgloc.sync.AuthenticatorService&gt;","body":"<p>Method 1. Reduce the Android API to a version below 31. Android 12 requires android:exported to be explicitly defined.</p>\n<p>Method 2. If there is a problem in the dependency library, it is recommended to upgrade to the latest dependency. If the latest dependency has not solved this problem, you can directly click to the AndroidManifest.xml where the error is reported, directly edit the manifest file, and manually add the android:exported attribute. After the addition is complete, rebuild the project.</p>\n<p>NOTE: The second method of editing AndroidManifest.xml is just a special way to get your project running. This modification is required every time the project is restarted.</p>\n"}],"owner":{"account_id":27032234,"reputation":21,"user_id":20588409,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671677906,"creation_date":1671656647,"question_id":74881759,"body_markdown":"I am trying to generate a signed build but getting this error in android studio `Manifest merger failed : android:exported needs to be explicitly specified for element &lt;service#com.marianhello.bgloc.sync.AuthenticatorService&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\r\n` I really tried but was not able to resolve this issue, Could someone please help me how to resolve this issue? \r\nI am stuck and trying since 4 days, I would really appreciate your help guys. Thanks\r\n\r\nAndroid Target SDK: 31\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.newapp.appdriver&quot;&gt;\r\n    \r\n      &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot;/&gt;\r\n      &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n      &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;31&quot; /&gt;\r\n    \r\n        &lt;application\r\n          android:name=&quot;.MainApplication&quot;\r\n          android:label=&quot;@string/app_name&quot;\r\n          android:icon=&quot;@mipmap/ic_launcher&quot;\r\n          android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n          android:allowBackup=&quot;false&quot;\r\n          android:theme=&quot;@style/AppTheme&quot;&gt;\r\n          &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\r\n          &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            tools:node=&quot;merge&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n          &lt;/activity&gt;\r\n          &lt;meta-data\r\n         android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n         android:value=&quot;AIzaSyAqSC9FdXG8r-JAKJS4883jdsd9&quot;/&gt;\r\n         &lt;!-- Change the value to true to enable pop-up for in foreground on receiving remote notifications (for prevent duplicating while showing local notifications set this to false) --&gt;\r\n          &lt;meta-data  android:name=&quot;com.dieam.reactnativepushnotification.notification_foreground&quot;\r\n                      android:value=&quot;true&quot;/&gt;\r\n          &lt;!-- Change the resource name to your App&#39;s accent color - or any other color you want --&gt;\r\n          &lt;meta-data  android:name=&quot;com.dieam.reactnativepushnotification.notification_color&quot;\r\n                      android:resource=&quot;@color/white&quot;/&gt; &lt;!-- or @android:color/{name} to use a standard color --&gt;\r\n    \r\n        &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot; /&gt;\r\n        &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher&quot; /&gt;\r\n        &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver&quot; android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    \r\n        &lt;service android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationListenerService&quot; android:exported=&quot;false&quot; &gt;\r\n          &lt;intent-filter&gt;\r\n              &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n          &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\n**Build gradle**\r\n\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;31.0.0&quot;\r\n            minSdkVersion = 21\r\n            compileSdkVersion = 31\r\n            targetSdkVersion = 31\r\n            ndkVersion = &quot;21.4.7075529&quot;\r\n            playServicesVersion = &quot;17.0.0&quot;\r\n            androidMapsUtilsVersion = &quot;2.3.0&quot;\r\n            googlePlayServicesVersion = &quot;+&quot; // default: &quot;+&quot;\r\n            firebaseMessagingVersion = &quot;21.1.0&quot; // default: &quot;21.1.0&quot;\r\n            androidXCore = &quot;1.7.0&quot;\r\n        }\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath(&quot;com.android.tools.build:gradle:7.1.3&quot;)\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n\r\n","title":"Manifest merger failed : android:exported needs to be explicitly specified for element &lt;service#com.marianhello.bgloc.sync.AuthenticatorService&gt;","body":"<p>I am trying to generate a signed build but getting this error in android studio <code>Manifest merger failed : android:exported needs to be explicitly specified for element &lt;service#com.marianhello.bgloc.sync.AuthenticatorService&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for </code>android:exported<code>when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.</code> I really tried but was not able to resolve this issue, Could someone please help me how to resolve this issue?\nI am stuck and trying since 4 days, I would really appreciate your help guys. Thanks</p>\n<p>Android Target SDK: 31</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.newapp.appdriver&quot;&gt;\n\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot;/&gt;\n  &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n  &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;31&quot; /&gt;\n\n    &lt;application\n      android:name=&quot;.MainApplication&quot;\n      android:label=&quot;@string/app_name&quot;\n      android:icon=&quot;@mipmap/ic_launcher&quot;\n      android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n      android:allowBackup=&quot;false&quot;\n      android:theme=&quot;@style/AppTheme&quot;&gt;\n      &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\n      &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        tools:node=&quot;merge&quot;\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot;\n        android:exported=&quot;true&quot;\n        android:launchMode=&quot;singleTask&quot;\n        android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n      &lt;/activity&gt;\n      &lt;meta-data\n     android:name=&quot;com.google.android.geo.API_KEY&quot;\n     android:value=&quot;AIzaSyAqSC9FdXG8r-JAKJS4883jdsd9&quot;/&gt;\n     &lt;!-- Change the value to true to enable pop-up for in foreground on receiving remote notifications (for prevent duplicating while showing local notifications set this to false) --&gt;\n      &lt;meta-data  android:name=&quot;com.dieam.reactnativepushnotification.notification_foreground&quot;\n                  android:value=&quot;true&quot;/&gt;\n      &lt;!-- Change the resource name to your App's accent color - or any other color you want --&gt;\n      &lt;meta-data  android:name=&quot;com.dieam.reactnativepushnotification.notification_color&quot;\n                  android:resource=&quot;@color/white&quot;/&gt; &lt;!-- or @android:color/{name} to use a standard color --&gt;\n\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot; /&gt;\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher&quot; /&gt;\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver&quot; android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n            &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;service android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationListenerService&quot; android:exported=&quot;false&quot; &gt;\n      &lt;intent-filter&gt;\n          &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/service&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>Build gradle</strong></p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;31.0.0&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 31\n        targetSdkVersion = 31\n        ndkVersion = &quot;21.4.7075529&quot;\n        playServicesVersion = &quot;17.0.0&quot;\n        androidMapsUtilsVersion = &quot;2.3.0&quot;\n        googlePlayServicesVersion = &quot;+&quot; // default: &quot;+&quot;\n        firebaseMessagingVersion = &quot;21.1.0&quot; // default: &quot;21.1.0&quot;\n        androidXCore = &quot;1.7.0&quot;\n    }\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:7.1.3&quot;)\n        classpath 'com.google.gms:google-services:4.3.10'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1671629041,"post_id":74876704,"comment_id":132139368,"body_markdown":"Well, `date.isBefore(endLocalDate)` basically states you&#39;re only interested in dates that are _before_ the last day of the month so you basically exclude the 31st from the loop. Try `!date.isAfter(endLocalDate)` instead - or just use a numeric loop `for(int i = 0; i &lt; daysInMonth; i++) ` in combination with `date = startLocalDate.plusDays(i)`.","body":"Well, <code>date.isBefore(endLocalDate)</code> basically states you&#39;re only interested in dates that are <i>before</i> the last day of the month so you basically exclude the 31st from the loop. Try <code>!date.isAfter(endLocalDate)</code> instead - or just use a numeric loop <code>for(int i = 0; i &lt; daysInMonth; i++) </code> in combination with <code>date = startLocalDate.plusDays(i)</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1671629256,"post_id":74876704,"comment_id":132139448,"body_markdown":"Btw, you could also try to optimize the loop and once you have the first &quot;start of week&quot; day, you could add 7 until the (correct) end condition is met.","body":"Btw, you could also try to optimize the loop and once you have the first &quot;start of week&quot; day, you could add 7 until the (correct) end condition is met."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671629132,"creation_date":1671629132,"answer_id":74876760,"question_id":74876704,"body_markdown":"Fencepost error. Your loop&#39;s &#39;end condition&#39; is:\r\n\r\nIf the `date` variable is __no longer__ before `endDate`, stop right now.\r\n\r\n`for (init; cond; incr) code;`\r\n\r\nis identical to:\r\n\r\n```\r\ninit;\r\nwhile (cond) {\r\n  code;\r\n  incr;\r\n}\r\n```\r\n\r\nThat means that once `date` is updated by the `for` increment (`date = date.plusDays(1)`), that new date is immediately checked with the condition (is that still BEFORE `endDate`), and the loop aborts then and there if that fails to hold.\r\n\r\nThus, your code goes for 31st of january and aborts the loop on the spot, it never gets handled.\r\n\r\nPresumably, you want, for condition, not `date.isBefore(endDate)`, but `!date.isAfter(endLocalDate)`. To ensure that 31st of jan _IS_ handled.\r\n\r\nAlternatively, keep it as is, but edit your end date. This simplifies the calculation for end date in passing:\r\n\r\n```\r\nLocalDate endLocalDate = startLocalDate.withDayOfMonth(1).plusMonths(1);\r\n```\r\n\r\nNow `endLocalDate` is feb 1st, and that means jan 31st is still processed, and then feb 1st causes the loop to stop.\r\n","title":"Getting the day for each week missing 31st of the month","body":"<p>Fencepost error. Your loop's 'end condition' is:</p>\n<p>If the <code>date</code> variable is <strong>no longer</strong> before <code>endDate</code>, stop right now.</p>\n<p><code>for (init; cond; incr) code;</code></p>\n<p>is identical to:</p>\n<pre><code>init;\nwhile (cond) {\n  code;\n  incr;\n}\n</code></pre>\n<p>That means that once <code>date</code> is updated by the <code>for</code> increment (<code>date = date.plusDays(1)</code>), that new date is immediately checked with the condition (is that still BEFORE <code>endDate</code>), and the loop aborts then and there if that fails to hold.</p>\n<p>Thus, your code goes for 31st of january and aborts the loop on the spot, it never gets handled.</p>\n<p>Presumably, you want, for condition, not <code>date.isBefore(endDate)</code>, but <code>!date.isAfter(endLocalDate)</code>. To ensure that 31st of jan <em>IS</em> handled.</p>\n<p>Alternatively, keep it as is, but edit your end date. This simplifies the calculation for end date in passing:</p>\n<pre><code>LocalDate endLocalDate = startLocalDate.withDayOfMonth(1).plusMonths(1);\n</code></pre>\n<p>Now <code>endLocalDate</code> is feb 1st, and that means jan 31st is still processed, and then feb 1st causes the loop to stop.</p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671818582,"post_id":74882395,"comment_id":132183955,"body_markdown":"Great addition!","body":"Great addition!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671677659,"creation_date":1671661901,"answer_id":74882395,"question_id":74876704,"body_markdown":"The [Answer by rzwitserloot][1] is correct and smart. \r\n\r\n# Streams\r\n\r\nIn addition, FYI, streams make such work easier.\r\n\r\nThe [`LocalDate#datesUntil`][2] methods generate a [`Stream`][3] of `LocalDate` objects. We can filter those for a match on our desired day-of-week. \r\n\r\n```java\r\nLocalDate start = LocalDate.parse( &quot;2023-01-03&quot; );\r\nDayOfWeek dayOfWeek = start.getDayOfWeek();\r\nLocalDate stop = start.withDayOfMonth( 1 ).plusMonths( 1 ); // Using Half-Open approach, running up to but not including first day of following month. End date is *exclusive* while the start date is *inclusive*. \r\n\r\nList &lt; LocalDate &gt; datesInSameMonthWithSameDayOfWeek =\r\n        start\r\n                .datesUntil( stop )\r\n                .filter(\r\n                        date -&gt; date.getDayOfWeek().equals( dayOfWeek )\r\n                )\r\n                .toList()\r\n;\r\n```\r\n\r\nSee this [code run at Ideone.com][4].\r\n\r\n&gt;[2023-01-03, 2023-01-10, 2023-01-17, 2023-01-24, 2023-01-31]\r\n\r\n----------\r\n\r\n\r\nWe *might* gain some efficiency by using the other [`datesUntil`][5] method taking a `step` argument. But I would not bother for such a small amount of data as this. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74876760/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\r\n  [4]: https://ideone.com/zEQVIA\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate,java.time.Period)","title":"Getting the day for each week missing 31st of the month","body":"<p>The <a href=\"https://stackoverflow.com/a/74876760/642706\">Answer by rzwitserloot</a> is correct and smart.</p>\n<h1>Streams</h1>\n<p>In addition, FYI, streams make such work easier.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate)\" rel=\"nofollow noreferrer\"><code>LocalDate#datesUntil</code></a> methods generate a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> of <code>LocalDate</code> objects. We can filter those for a match on our desired day-of-week.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate start = LocalDate.parse( &quot;2023-01-03&quot; );\nDayOfWeek dayOfWeek = start.getDayOfWeek();\nLocalDate stop = start.withDayOfMonth( 1 ).plusMonths( 1 ); // Using Half-Open approach, running up to but not including first day of following month. End date is *exclusive* while the start date is *inclusive*. \n\nList &lt; LocalDate &gt; datesInSameMonthWithSameDayOfWeek =\n        start\n                .datesUntil( stop )\n                .filter(\n                        date -&gt; date.getDayOfWeek().equals( dayOfWeek )\n                )\n                .toList()\n;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/zEQVIA\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>[2023-01-03, 2023-01-10, 2023-01-17, 2023-01-24, 2023-01-31]</p>\n</blockquote>\n<hr />\n<p>We <em>might</em> gain some efficiency by using the other <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate,java.time.Period)\" rel=\"nofollow noreferrer\"><code>datesUntil</code></a> method taking a <code>step</code> argument. But I would not bother for such a small amount of data as this.</p>\n"}],"owner":{"account_id":1486909,"reputation":8289,"user_id":1394953,"accept_rate":69,"display_name":"Alvin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74876760,"answer_count":2,"score":1,"last_activity_date":1671677659,"creation_date":1671628840,"question_id":74876704,"body_markdown":" I am calculating the same day for each week:\r\n\r\n```Java\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n        \r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        LocalDate startLocalDate = LocalDate.parse(&quot;2023-01-03&quot;);\r\n        LocalDate endLocalDate = startLocalDate.withDayOfMonth(startLocalDate.getMonth().length(startLocalDate.isLeapYear()));\r\n        int startDayOfWeek = startLocalDate.getDayOfWeek().getValue();\r\n        List&lt;LocalDate&gt; listOfDays = new ArrayList&lt;LocalDate&gt;();\r\n            for (LocalDate date = startLocalDate; date.isBefore(endLocalDate); date = date.plusDays(1)) {\r\n            if (date.getDayOfWeek().getValue() == startDayOfWeek) {\r\n                listOfDays .add(date);\r\n            }\r\n        }\r\n        System.out.println(listOfDays);\r\n    }\r\n}\r\n```\r\nI am getting:\r\n```none\r\n[2023-01-03, 2023-01-10, 2023-01-17, 2023-01-24]\r\n```\r\nbut I expected to get:\r\n```none\r\n[2023-01-03, 2023-01-10, 2023-01-17, 2023-01-24, 2023-01-31]\r\n```\r\n31st is missing.\r\n\r\n","title":"Getting the day for each week missing 31st of the month","body":"<p>I am calculating the same day for each week:</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.List;\nimport java.util.ArrayList;\n        \nclass HelloWorld {\n    public static void main(String[] args) {\n        LocalDate startLocalDate = LocalDate.parse(&quot;2023-01-03&quot;);\n        LocalDate endLocalDate = startLocalDate.withDayOfMonth(startLocalDate.getMonth().length(startLocalDate.isLeapYear()));\n        int startDayOfWeek = startLocalDate.getDayOfWeek().getValue();\n        List&lt;LocalDate&gt; listOfDays = new ArrayList&lt;LocalDate&gt;();\n            for (LocalDate date = startLocalDate; date.isBefore(endLocalDate); date = date.plusDays(1)) {\n            if (date.getDayOfWeek().getValue() == startDayOfWeek) {\n                listOfDays .add(date);\n            }\n        }\n        System.out.println(listOfDays);\n    }\n}\n</code></pre>\n<p>I am getting:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2023-01-03, 2023-01-10, 2023-01-17, 2023-01-24]\n</code></pre>\n<p>but I expected to get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2023-01-03, 2023-01-10, 2023-01-17, 2023-01-24, 2023-01-31]\n</code></pre>\n<p>31st is missing.</p>\n"},{"tags":["java","spring","api","swagger","objectmapper"],"owner":{"account_id":15330608,"reputation":87,"user_id":11060389,"display_name":"Ezra Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671677125,"creation_date":1671677125,"question_id":74883701,"body_markdown":"With Swagger and Spring Boot.\r\n```\r\n// Here are dependency of Swagger\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI meet a problem when I want to use `objectMapper` to make my response order by models and show upper-letter not default camel-style.\r\n\r\nFor example,\r\n\r\nThe Response is designed as below\r\n```\r\npublic class XXXXResponse {\r\n    private BigDecimal FOBBB; #1\r\n    private BigDecimal FOAAA; #2\r\n\r\n    public BigDecimal getFOBBB() {\r\n    }\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\nAND response in Swagger with default configuration shows:\r\n```\r\n{\r\n&quot;foaaa&quot;:0,\r\n&quot;fobbb&quot;:0\r\n}\r\n```\r\n\r\nSo, I use ObjectMapper to turn them to below, which order by my model design and names  same as declared in Response.java:\r\n\r\n```\r\n{\r\n&quot;FOBBB&quot;:0,\r\n&quot;FOAAA&quot;:0\r\n}\r\n```\r\n\r\nCause there are so many API need to use this style as response, I tend to use Global Configuration to figure out it.\r\n\r\nAs below is my code when I execute API initial.\r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@EnableAutoConfiguration(exclude = { XXXX.class })\r\n@OpenAPIDefinition(info = @Info(title = &quot;XXXXX&quot;, version = &quot;1.0&quot;, description = &quot;XXX service api&quot;))\r\npublic class Launcher {\r\n @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper settingResponse = new ObjectMapper();\r\n        settingResponse.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        settingResponse.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        return settingResponse;\r\n\r\n    }\r\n```\r\n\r\nIt works well in common situation.\r\n\r\nBUT I find there is a problem when I use API A, which needs to use some result from API B, i.g. API A need to use the username list from the result of API B to do more search. If API B gets the null response, it cannot put  error message from API B back to API A.\r\n\r\nAnd API A will return \r\n```\r\n{\r\n    &quot;status&quot;: {\r\n        &quot;statusCode&quot;: &quot;50001&quot;,\r\n        &quot;severity&quot;: &quot;FAILED&quot;,\r\n        &quot;statusDesc&quot;: &quot;System Error&quot;,\r\n        &quot;statusTime&quot;: null\r\n    }\r\n}\r\n```\r\nAnd There is an error from Spring boot.\r\n\r\n```\r\nCannot invoke &quot;String.equals(Object)&quot; because the return value of &quot;APIBResponse.getERRMSG()&quot; is null\r\n```\r\n\r\nI would like to know how I can fix this issue when I meet the API needs to work with other APIs and needs to return the error message back.\r\n\r\nThank you.\r\n\r\n","title":"How to fix ObjectMapper can&#39;t response well when get error response from other API","body":"<p>With Swagger and Spring Boot.</p>\n<pre><code>// Here are dependency of Swagger\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.2.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I meet a problem when I want to use <code>objectMapper</code> to make my response order by models and show upper-letter not default camel-style.</p>\n<p>For example,</p>\n<p>The Response is designed as below</p>\n<pre><code>public class XXXXResponse {\n    private BigDecimal FOBBB; #1\n    private BigDecimal FOAAA; #2\n\n    public BigDecimal getFOBBB() {\n    }\n    .\n    .\n    .\n}\n</code></pre>\n<p>AND response in Swagger with default configuration shows:</p>\n<pre><code>{\n&quot;foaaa&quot;:0,\n&quot;fobbb&quot;:0\n}\n</code></pre>\n<p>So, I use ObjectMapper to turn them to below, which order by my model design and names  same as declared in Response.java:</p>\n<pre><code>{\n&quot;FOBBB&quot;:0,\n&quot;FOAAA&quot;:0\n}\n</code></pre>\n<p>Cause there are so many API need to use this style as response, I tend to use Global Configuration to figure out it.</p>\n<p>As below is my code when I execute API initial.</p>\n<pre><code>@SpringBootApplication\n@RestController\n@EnableAutoConfiguration(exclude = { XXXX.class })\n@OpenAPIDefinition(info = @Info(title = &quot;XXXXX&quot;, version = &quot;1.0&quot;, description = &quot;XXX service api&quot;))\npublic class Launcher {\n @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper settingResponse = new ObjectMapper();\n        settingResponse.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        settingResponse.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        return settingResponse;\n\n    }\n</code></pre>\n<p>It works well in common situation.</p>\n<p>BUT I find there is a problem when I use API A, which needs to use some result from API B, i.g. API A need to use the username list from the result of API B to do more search. If API B gets the null response, it cannot put  error message from API B back to API A.</p>\n<p>And API A will return</p>\n<pre><code>{\n    &quot;status&quot;: {\n        &quot;statusCode&quot;: &quot;50001&quot;,\n        &quot;severity&quot;: &quot;FAILED&quot;,\n        &quot;statusDesc&quot;: &quot;System Error&quot;,\n        &quot;statusTime&quot;: null\n    }\n}\n</code></pre>\n<p>And There is an error from Spring boot.</p>\n<pre><code>Cannot invoke &quot;String.equals(Object)&quot; because the return value of &quot;APIBResponse.getERRMSG()&quot; is null\n</code></pre>\n<p>I would like to know how I can fix this issue when I meet the API needs to work with other APIs and needs to return the error message back.</p>\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21925646,"reputation":298,"user_id":16208301,"display_name":"User One"},"score":0,"creation_date":1671677311,"post_id":74883673,"comment_id":132151936,"body_markdown":"Add &#39;t[i] = new test(null, null, 0);&#39; after the first loop in main so the object test exists in the array.","body":"Add &#39;t[i] = new test(null, null, 0);&#39; after the first loop in main so the object test exists in the array."},{"owner":{"account_id":27322704,"reputation":1,"user_id":20836137,"display_name":"kiki"},"score":0,"creation_date":1671680602,"post_id":74883673,"comment_id":132152327,"body_markdown":"tqvm. it works perfectly","body":"tqvm. it works perfectly"}],"owner":{"account_id":27322704,"reputation":1,"user_id":20836137,"display_name":"kiki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671677041,"answer_count":0,"score":0,"last_activity_date":1671676860,"creation_date":1671676860,"question_id":74883673,"body_markdown":"\r\n```\r\nimport java.util.Scanner;\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        test[] t = new test[3];\r\n        for (int i = 0;i&lt;t.length;i++)\r\n        {\r\n\r\n            System.out.println(&quot;\\nEnter name &quot;+(i+1)+&quot; : &quot;);\r\n            t[i].setName(sc.next());\r\n            System.out.println(&quot;Enter studentID : &quot;);\r\n            t[i].setStudenid(sc.next());\r\n            System.out.println(&quot;Enter phone number : &quot;);\r\n            t[i].setPhonenumber(sc.nextInt());\r\n        }\r\n\r\n        for (int i = 0;i&lt;t.length;i++)\r\n        {\r\n            System.out.println(&quot;Name &quot;+(i+1)+&quot; : &quot;+t[i].getName());\r\n            System.out.println(&quot;Student ID  : &quot;+t[i].getStudenid());\r\n            System.out.println(&quot;Phone number : &quot;+t[i].getStudenid());\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class test {\r\n\r\n    private String name ;\r\n    private String studenid;\r\n    private int phonenumber;\r\n\r\n    public test(String name, String studenid, int phonenumber) {\r\n        this.name = name;\r\n        this.studenid = studenid;\r\n        this.phonenumber = phonenumber;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getStudenid() {\r\n        return studenid;\r\n    }\r\n\r\n    public void setStudenid(String studenid) {\r\n        this.studenid = studenid;\r\n    }\r\n\r\n    public int getPhonenumber() {\r\n        return phonenumber;\r\n    }\r\n\r\n    public void setPhonenumber(int phonenumber) {\r\n        this.phonenumber = phonenumber;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nwhen i run, it says \r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;trying.test.setName(String)&quot; because &quot;t[i]&quot; is null\r\nat trying.Main.main(Main.java:14)\r\ni want to get user input for test class and it is array.\r\nI already try many solution but still the same","title":"I can&#39;t get user input from the test class in main","body":"<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String[] args)\n    {\n\n        Scanner sc = new Scanner(System.in);\n\n        test[] t = new test[3];\n        for (int i = 0;i&lt;t.length;i++)\n        {\n\n            System.out.println(&quot;\\nEnter name &quot;+(i+1)+&quot; : &quot;);\n            t[i].setName(sc.next());\n            System.out.println(&quot;Enter studentID : &quot;);\n            t[i].setStudenid(sc.next());\n            System.out.println(&quot;Enter phone number : &quot;);\n            t[i].setPhonenumber(sc.nextInt());\n        }\n\n        for (int i = 0;i&lt;t.length;i++)\n        {\n            System.out.println(&quot;Name &quot;+(i+1)+&quot; : &quot;+t[i].getName());\n            System.out.println(&quot;Student ID  : &quot;+t[i].getStudenid());\n            System.out.println(&quot;Phone number : &quot;+t[i].getStudenid());\n        }\n\n\n    }\n}\n</code></pre>\n<pre><code>public class test {\n\n    private String name ;\n    private String studenid;\n    private int phonenumber;\n\n    public test(String name, String studenid, int phonenumber) {\n        this.name = name;\n        this.studenid = studenid;\n        this.phonenumber = phonenumber;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getStudenid() {\n        return studenid;\n    }\n\n    public void setStudenid(String studenid) {\n        this.studenid = studenid;\n    }\n\n    public int getPhonenumber() {\n        return phonenumber;\n    }\n\n    public void setPhonenumber(int phonenumber) {\n        this.phonenumber = phonenumber;\n    }\n}\n</code></pre>\n<p>when i run, it says\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;trying.test.setName(String)&quot; because &quot;t[i]&quot; is null\nat trying.Main.main(Main.java:14)\ni want to get user input for test class and it is array.\nI already try many solution but still the same</p>\n"},{"tags":["java","spring-data","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":10080379,"reputation":320,"user_id":7450916,"display_name":"FerdTurgusen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667345609,"creation_date":1667345609,"answer_id":74282855,"question_id":74240895,"body_markdown":"So my question was based on a flawed premise, because performing Couchbase template operations like `upsert()` and `replaceById()` will never perform any auditing logic.\r\n\r\nTo get auditing to work, it must be used in conjunction with a Couchbase *Repository*&#39;s `save()` method.\r\n\r\nThe other important bit is that auditing won&#39;t do away with two calls to the database if your caller wants to update an entity and doesn&#39;t have the current version number and the current auditing data. \r\n\r\nIn order for spring-data auditing to work on an update operation, you must supply an entity with all audit fields (@CreatedDate/By, @LastModifiedDate/By) and the current version number. That means if your caller doesn&#39;t have this information, you must conduct a find call to retrieve it followed by a save once you have added that data to your entity. Only then will the auditing intelligently preserve the original `@Createdxx` fields while updating the `@Lastxx` fields.\r\n\r\n\r\n","title":"Update Couchbase documents without overwriting @Created fields with Spring Data Auditing","body":"<p>So my question was based on a flawed premise, because performing Couchbase template operations like <code>upsert()</code> and <code>replaceById()</code> will never perform any auditing logic.</p>\n<p>To get auditing to work, it must be used in conjunction with a Couchbase <em>Repository</em>'s <code>save()</code> method.</p>\n<p>The other important bit is that auditing won't do away with two calls to the database if your caller wants to update an entity and doesn't have the current version number and the current auditing data.</p>\n<p>In order for spring-data auditing to work on an update operation, you must supply an entity with all audit fields (@CreatedDate/By, @LastModifiedDate/By) and the current version number. That means if your caller doesn't have this information, you must conduct a find call to retrieve it followed by a save once you have added that data to your entity. Only then will the auditing intelligently preserve the original <code>@Createdxx</code> fields while updating the <code>@Lastxx</code> fields.</p>\n"},{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671675100,"creation_date":1671675100,"answer_id":74883543,"question_id":74240895,"body_markdown":"&quot;So my question was based on a flawed premise, because performing Couchbase template operations like upsert() and replaceById() will never perform any auditing logic.\r\n\r\nTo get auditing to work, it must be used in conjunction with a Couchbase Repository&#39;s save() method.&quot;\r\n\r\nThe repository.save() calls the template.save() which in turn calls one of insertById, replaceById or upsertById (depending on the existence of an @Version field, and if it is populated or not).\r\n\r\n\r\nAll the couchbase modification operations insert/upsert/replace are called in spring data couchbase by - ReplaceByIdOperationSupport.one(), InsertByIdOperationSupport().one, UpsertByIdOperationSupport.one() convert the entity with ReactiveCouchbaseTemplateSupport.encodeEntity() which does the audit in onBeforeConvert().  Set logging of org.springframework.data.couchbase.core.mapping.event=TRACE to see.\r\n\r\n\r\n&quot;if your caller wants to update an entity and doesn&#39;t have the current version number and the current auditing data.&quot;\r\n\r\nAll of insert/replace/upsert act on the whole document. So when you upsert, you overwrite everything, and if you don&#39;t already have the current auditing data, you overwrite them. If you don&#39;t have the current version number, but your entity has an @Version field, you can leave it null or 0, and repository.save() will call template.save() which will call template.upsertById.\r\n\r\nThe markedAudit() method is below.   isNew() is true if the entity has no @Version or has a @Version field is null or zero.\r\n\r\n      public Mono&lt;Object&gt; markAudited(Object object) {\r\n        Assert.notNull(object, &quot;Source object must not be null&quot;);\r\n        if (!this.isAuditable(object)) {\r\n          return Mono.just(object);\r\n        } else {\r\n          PersistentEntity&lt;?, ? extends PersistentProperty&lt;?&gt;&gt; entity = this.entities.getRequiredPersistentEntity(object.getClass());\r\n          return entity.isNew(object) ? this.markCreated(object) : this.markModified(object);\r\n        }\r\n      }\r\n\r\n&quot;you must conduct a find call to retrieve it followed by a save once you have added that data to your entity. Only then will the auditing intelligently preserve the original @Createdxx fields while updating the @Lastxx fields.&quot;\r\n\r\nSo the final assessment is pretty much correct, although it should work equally well through repository.save(), template.insertById() and template.replaceById() and template.upsertById(). (but if you already have fetched the document, your entity it will have the @Version and there&#39;s no need to use upsert() instead of replace().\r\n\r\nThe only funky behavior is that if you have an entity without an @Version, that has an @Createdxxxx, it will always treat it as new - as it has no @Version to indicated otherwise.\r\n","title":"Update Couchbase documents without overwriting @Created fields with Spring Data Auditing","body":"<p>&quot;So my question was based on a flawed premise, because performing Couchbase template operations like upsert() and replaceById() will never perform any auditing logic.</p>\n<p>To get auditing to work, it must be used in conjunction with a Couchbase Repository's save() method.&quot;</p>\n<p>The repository.save() calls the template.save() which in turn calls one of insertById, replaceById or upsertById (depending on the existence of an @Version field, and if it is populated or not).</p>\n<p>All the couchbase modification operations insert/upsert/replace are called in spring data couchbase by - ReplaceByIdOperationSupport.one(), InsertByIdOperationSupport().one, UpsertByIdOperationSupport.one() convert the entity with ReactiveCouchbaseTemplateSupport.encodeEntity() which does the audit in onBeforeConvert().  Set logging of org.springframework.data.couchbase.core.mapping.event=TRACE to see.</p>\n<p>&quot;if your caller wants to update an entity and doesn't have the current version number and the current auditing data.&quot;</p>\n<p>All of insert/replace/upsert act on the whole document. So when you upsert, you overwrite everything, and if you don't already have the current auditing data, you overwrite them. If you don't have the current version number, but your entity has an @Version field, you can leave it null or 0, and repository.save() will call template.save() which will call template.upsertById.</p>\n<p>The markedAudit() method is below.   isNew() is true if the entity has no @Version or has a @Version field is null or zero.</p>\n<pre><code>  public Mono&lt;Object&gt; markAudited(Object object) {\n    Assert.notNull(object, &quot;Source object must not be null&quot;);\n    if (!this.isAuditable(object)) {\n      return Mono.just(object);\n    } else {\n      PersistentEntity&lt;?, ? extends PersistentProperty&lt;?&gt;&gt; entity = this.entities.getRequiredPersistentEntity(object.getClass());\n      return entity.isNew(object) ? this.markCreated(object) : this.markModified(object);\n    }\n  }\n</code></pre>\n<p>&quot;you must conduct a find call to retrieve it followed by a save once you have added that data to your entity. Only then will the auditing intelligently preserve the original @Createdxx fields while updating the @Lastxx fields.&quot;</p>\n<p>So the final assessment is pretty much correct, although it should work equally well through repository.save(), template.insertById() and template.replaceById() and template.upsertById(). (but if you already have fetched the document, your entity it will have the @Version and there's no need to use upsert() instead of replace().</p>\n<p>The only funky behavior is that if you have an entity without an @Version, that has an @Createdxxxx, it will always treat it as new - as it has no @Version to indicated otherwise.</p>\n"}],"owner":{"account_id":10080379,"reputation":320,"user_id":7450916,"display_name":"FerdTurgusen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74282855,"answer_count":2,"score":2,"last_activity_date":1671675100,"creation_date":1666991044,"question_id":74240895,"body_markdown":"I have a Couchbase document for which I&#39;d like to enable auditing:\r\n\r\n    @Document(expiry = 0, expiryUnit = TimeUnit.DAYS, touchOnRead = true)\r\n    public class Entity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationStrategy.USE_ATTRIBUTES, delimiter = &quot;:&quot;)\r\n        private String id;\r\n    \r\n        @IdAttribute(order = 0)\r\n        private String type;\r\n    \r\n        @IdAttribute(order = 1)\r\n        private String entityGuid;\r\n    \r\n        @Version\r\n        private long version;\r\n        \r\n        private String firstName;\r\n        \r\n        private String lastName;\r\n        \r\n        private LocalDate dateOfBirth;\r\n        \r\n        @CreatedDate\r\n        private LocalDateTime createTimeStamp;\r\n        \r\n        @LastModifiedDate\r\n        private LocalDateTime lastUpdateTimeStamp;\r\n        \r\n        @CreatedBy\r\n        private String createdBy;\r\n        \r\n        @LastModifiedBy\r\n        private String lastUpdatedBy;\r\n\r\n        ...\r\n\r\nMy configuration:\r\n\r\n    @Data\r\n    @Configuration\r\n    @EnableCouchbaseAuditing\r\n    @EnableConfigurationProperties(CouchbaseProperties.class)\r\n    public class EntityCouchConfig extends AbstractCouchbaseConfiguration {\r\n\r\n        ...\r\n    \r\n        @Bean\r\n        public AuditorAware&lt;String&gt; couchAuditing() {\r\n            return () -&gt; Optional.of(&quot;my-entity-service&quot;);\r\n        }\r\n    }\r\n\r\nIt was my expectation that when performing update operations through the Couchbase template like `replaceById()` and `upsertById()`, spring-data would preserve the document&#39;s `@CreatedDate` and `@CreatedBy` fields, only updating the `@LastModifiedDate` and `@LastModifiedBy`. \r\n\r\nThis, however, seems not to be the case. When I perform an update, the document&#39;s `@Created` fields are updated as well. This seems counterintuitive, and would suggest that I first need to pull the document, transfer the `@Created` fields, and then save that, explicitly making two calls. \r\n\r\nI have read the spring-data-couchbase [documentation on auditing][1] but it&#39;s pretty sparse on the expected behavior here.\r\n\r\nIs retrieving the document to capture the creation info and then updating the only way to do this, or am I implementing auditing wrong?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#auditing","title":"Update Couchbase documents without overwriting @Created fields with Spring Data Auditing","body":"<p>I have a Couchbase document for which I'd like to enable auditing:</p>\n<pre><code>@Document(expiry = 0, expiryUnit = TimeUnit.DAYS, touchOnRead = true)\npublic class Entity {\n    @Id\n    @GeneratedValue(strategy = GenerationStrategy.USE_ATTRIBUTES, delimiter = &quot;:&quot;)\n    private String id;\n\n    @IdAttribute(order = 0)\n    private String type;\n\n    @IdAttribute(order = 1)\n    private String entityGuid;\n\n    @Version\n    private long version;\n    \n    private String firstName;\n    \n    private String lastName;\n    \n    private LocalDate dateOfBirth;\n    \n    @CreatedDate\n    private LocalDateTime createTimeStamp;\n    \n    @LastModifiedDate\n    private LocalDateTime lastUpdateTimeStamp;\n    \n    @CreatedBy\n    private String createdBy;\n    \n    @LastModifiedBy\n    private String lastUpdatedBy;\n\n    ...\n</code></pre>\n<p>My configuration:</p>\n<pre><code>@Data\n@Configuration\n@EnableCouchbaseAuditing\n@EnableConfigurationProperties(CouchbaseProperties.class)\npublic class EntityCouchConfig extends AbstractCouchbaseConfiguration {\n\n    ...\n\n    @Bean\n    public AuditorAware&lt;String&gt; couchAuditing() {\n        return () -&gt; Optional.of(&quot;my-entity-service&quot;);\n    }\n}\n</code></pre>\n<p>It was my expectation that when performing update operations through the Couchbase template like <code>replaceById()</code> and <code>upsertById()</code>, spring-data would preserve the document's <code>@CreatedDate</code> and <code>@CreatedBy</code> fields, only updating the <code>@LastModifiedDate</code> and <code>@LastModifiedBy</code>.</p>\n<p>This, however, seems not to be the case. When I perform an update, the document's <code>@Created</code> fields are updated as well. This seems counterintuitive, and would suggest that I first need to pull the document, transfer the <code>@Created</code> fields, and then save that, explicitly making two calls.</p>\n<p>I have read the spring-data-couchbase <a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#auditing\" rel=\"nofollow noreferrer\">documentation on auditing</a> but it's pretty sparse on the expected behavior here.</p>\n<p>Is retrieving the document to capture the creation info and then updating the only way to do this, or am I implementing auditing wrong?</p>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1671634174,"post_id":74877779,"comment_id":132141226,"body_markdown":"you have no return statement in your code.","body":"you have no return statement in your code."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1671634204,"post_id":74877779,"comment_id":132141232,"body_markdown":"Whats the 0, 0 there? Are you overwriting the same grid cell on each iteration?","body":"Whats the 0, 0 there? Are you overwriting the same grid cell on each iteration?"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":6,"creation_date":1671634328,"post_id":74877779,"comment_id":132141284,"body_markdown":"Please provide a [minimum reproducable example](https://stackoverflow.com/help/minimal-reproducible-example).  As it is, we don&#39;t know what a `productGridPane` is.  What are the parameters of `productGridPane` doing?  It&#39;s possible your `label` is overwriting the previous `label`, but without seeing what&#39;s happening it&#39;s impossible to know more.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimum reproducable example</a>.  As it is, we don&#39;t know what a <code>productGridPane</code> is.  What are the parameters of <code>productGridPane</code> doing?  It&#39;s possible your <code>label</code> is overwriting the previous <code>label</code>, but without seeing what&#39;s happening it&#39;s impossible to know more."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1671635662,"post_id":74877779,"comment_id":132141758,"body_markdown":"Why is this question tagged &quot;Spring&quot;?","body":"Why is this question tagged &quot;Spring&quot;?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671661366,"post_id":74877779,"comment_id":132149599,"body_markdown":"Removed &quot;spring&quot; tag as the accepted answer (and code in the question) is JavaFX code only with no &quot;spring&quot; code.","body":"Removed &quot;spring&quot; tag as the accepted answer (and code in the question) is JavaFX code only with no &quot;spring&quot; code."}],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1671637481,"post_id":74878378,"comment_id":132142478,"body_markdown":"*&quot;you keep overwriting that value because it is in the &quot;same spot &quot;in the GridPane, thus the last item in the array will be the value you see&quot;*. But this isn&#39;t actually the behavior of a `GridPane`. If you add two nodes and give them  the same grid coordinates, they will both appear in the grid pane, on top of each other, with the last one having the higher z-order. Since `Label`, by default, has a transparent background, you would see both labels in this scenario (albeit with the text difficult to decipher).","body":"<i>&quot;you keep overwriting that value because it is in the &quot;same spot &quot;in the GridPane, thus the last item in the array will be the value you see&quot;</i>. But this isn&#39;t actually the behavior of a <code>GridPane</code>. If you add two nodes and give them  the same grid coordinates, they will both appear in the grid pane, on top of each other, with the last one having the higher z-order. Since <code>Label</code>, by default, has a transparent background, you would see both labels in this scenario (albeit with the text difficult to decipher)."},{"owner":{"account_id":16530140,"reputation":112,"user_id":11943666,"display_name":"zackychan97"},"score":0,"creation_date":1671638795,"post_id":74878378,"comment_id":132142991,"body_markdown":"@James_D thanks for the clarification. I have made edits to my answer that incorporates your corrections.","body":"@James_D thanks for the clarification. I have made edits to my answer that incorporates your corrections."}],"tags":[],"owner":{"account_id":16530140,"reputation":112,"user_id":11943666,"display_name":"zackychan97"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671674878,"creation_date":1671637131,"answer_id":74878378,"question_id":74877779,"body_markdown":"@skidwiz is right. We are unaware of what `productGridPane` is. It is likely an instance of the JavaFX GridPane Class.\r\n\r\nIf so, take a look at [JavaFX 8 GridPane Docs][1]\r\n\r\nIn your call of the `add()` method you are adding each node (label) to the column-index of 0 and row-index of 0.\r\n\r\nThis is just going to &quot;stack&quot; the nodes on top of each other. The last node you add will be the highest on this stack because it has the highest z-order.\r\n\r\nIf you look at your second and third parameters, you&#39;ll see that both the second parameter (column index) and third parameter (row index) are set to 0. \r\n\r\nSo, since you are looping the entire `arr` array and adding the label to the `productGridPane`, you keep &quot;stacking&quot; that value because it has the same coordinates as the other nodes in the `GridPane`, thus the last item in the array will be &quot;highest on the stack&quot;, meaning it is the value you see. In this case the last value is the item with the name &quot;Orange&quot;.\r\n\r\nDepending on how you want your `GridPane` to appear, the solution may vary.\r\n\r\nYou likely want to change at least 1, but possibly (not likely) both parameters describing the column-index and row-index.\r\n\r\n**Solution 1)**\r\nChanging the column index to your loop counter variable `i` will add items along the columns (left to right):\r\n\r\n    productGridPane.add(label, i, 0);\r\n\r\n**Solution 2)**\r\nChanging the row index to your loop counter variable `i` will add items along the rows (top to bottom):\r\n\r\n    productGridPane.add(label, 0, i);\r\n\r\n**Uncommon Solution 3)**\r\nChanging both the column and row index to your loop counter variable `i` will add items by increasing both the column and row index. Highly unlikely you would do this. Consider the first two options as a solution.\r\n\r\n    productGridPane.add(label, i, i);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html","title":"For loop returns last item not iterating","body":"<p>@skidwiz is right. We are unaware of what <code>productGridPane</code> is. It is likely an instance of the JavaFX GridPane Class.</p>\n<p>If so, take a look at <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\">JavaFX 8 GridPane Docs</a></p>\n<p>In your call of the <code>add()</code> method you are adding each node (label) to the column-index of 0 and row-index of 0.</p>\n<p>This is just going to &quot;stack&quot; the nodes on top of each other. The last node you add will be the highest on this stack because it has the highest z-order.</p>\n<p>If you look at your second and third parameters, you'll see that both the second parameter (column index) and third parameter (row index) are set to 0.</p>\n<p>So, since you are looping the entire <code>arr</code> array and adding the label to the <code>productGridPane</code>, you keep &quot;stacking&quot; that value because it has the same coordinates as the other nodes in the <code>GridPane</code>, thus the last item in the array will be &quot;highest on the stack&quot;, meaning it is the value you see. In this case the last value is the item with the name &quot;Orange&quot;.</p>\n<p>Depending on how you want your <code>GridPane</code> to appear, the solution may vary.</p>\n<p>You likely want to change at least 1, but possibly (not likely) both parameters describing the column-index and row-index.</p>\n<p><strong>Solution 1)</strong>\nChanging the column index to your loop counter variable <code>i</code> will add items along the columns (left to right):</p>\n<pre><code>productGridPane.add(label, i, 0);\n</code></pre>\n<p><strong>Solution 2)</strong>\nChanging the row index to your loop counter variable <code>i</code> will add items along the rows (top to bottom):</p>\n<pre><code>productGridPane.add(label, 0, i);\n</code></pre>\n<p><strong>Uncommon Solution 3)</strong>\nChanging both the column and row index to your loop counter variable <code>i</code> will add items by increasing both the column and row index. Highly unlikely you would do this. Consider the first two options as a solution.</p>\n<pre><code>productGridPane.add(label, i, i);\n</code></pre>\n"}],"owner":{"account_id":20263653,"reputation":49,"user_id":14861431,"display_name":"fatihcan8"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1671640195,"accepted_answer_id":74878378,"answer_count":1,"score":-3,"last_activity_date":1671674878,"creation_date":1671633989,"question_id":74877779,"body_markdown":"I am trying to print an array of objects on a JavaFX panel which I created.\r\n\r\nWhen I iterate like this:\r\n\r\n    Product[] arr = new Product[2];\r\n    arr[0] = new Food(&quot;Apple&quot;, 3.44, &quot;fruit&quot;, false);\r\n    arr[1] = new Food(&quot;Orange&quot;, 3.14, &quot;fruit&quot;, false);\r\n\r\n    for (int i= 0 ; i &lt; arr.length; i++) {\r\n        Label label = new Label(arr[i].name);\r\n        label.setPadding(new Insets(5, 5, 5, 5));\r\n\r\n        productGridPane.add(label, 0, 0);\r\n    }\r\n\r\nit only returns the last item ( orange ) name.","title":"For loop returns last item not iterating","body":"<p>I am trying to print an array of objects on a JavaFX panel which I created.</p>\n<p>When I iterate like this:</p>\n<pre><code>Product[] arr = new Product[2];\narr[0] = new Food(&quot;Apple&quot;, 3.44, &quot;fruit&quot;, false);\narr[1] = new Food(&quot;Orange&quot;, 3.14, &quot;fruit&quot;, false);\n\nfor (int i= 0 ; i &lt; arr.length; i++) {\n    Label label = new Label(arr[i].name);\n    label.setPadding(new Insets(5, 5, 5, 5));\n\n    productGridPane.add(label, 0, 0);\n}\n</code></pre>\n<p>it only returns the last item ( orange ) name.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1671608443,"post_id":74872166,"comment_id":132133099,"body_markdown":"Please remove the excessive whitespace from your code block (see [What should I keep out of my posts and titles?](https://meta.stackexchange.com/q/131009/997587)).","body":"Please remove the excessive whitespace from your code block (see <a href=\"https://meta.stackexchange.com/q/131009/997587\">What should I keep out of my posts and titles?</a>)."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1671614830,"post_id":74872166,"comment_id":132134956,"body_markdown":"[mcve] please...","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please..."},{"owner":{"account_id":24095004,"reputation":1,"user_id":18067667,"display_name":"K O&#39;Neill"},"score":1,"creation_date":1671648986,"post_id":74872166,"comment_id":132146319,"body_markdown":"These aren&#39;t duplicates, as my texts aren&#39;t really long, and I&#39;m not using text files either. Thanks for the suggestion, it will be useful in my project later. :)","body":"These aren&#39;t duplicates, as my texts aren&#39;t really long, and I&#39;m not using text files either. Thanks for the suggestion, it will be useful in my project later. :)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671660170,"post_id":74872166,"comment_id":132149360,"body_markdown":"Please [edit] your question to reflect this clarification.","body":"Please <a href=\"https://stackoverflow.com/posts/74872166/edit\">edit</a> your question to reflect this clarification."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1671654985,"post_id":74881271,"comment_id":132148000,"body_markdown":"If the scrolling behavior is messing up because of a non-default line spacing, you might consider [submitting a bug report](https://bugreport.java.com/bugreport/), assuming one [doesn&#39;t already exist](https://bugs.openjdk.org/projects/JDK/issues/JDK-8299238?filter=allopenissues). If you do submit a bug report, make sure you isolate the issue entirely (e.g., is CSS required to reproduce the bug?) and provide a [mre].","body":"If the scrolling behavior is messing up because of a non-default line spacing, you might consider <a href=\"https://bugreport.java.com/bugreport/\" rel=\"nofollow noreferrer\">submitting a bug report</a>, assuming one <a href=\"https://bugs.openjdk.org/projects/JDK/issues/JDK-8299238?filter=allopenissues\" rel=\"nofollow noreferrer\">doesn&#39;t already exist</a>. If you do submit a bug report, make sure you isolate the issue entirely (e.g., is CSS required to reproduce the bug?) and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"tags":[],"owner":{"account_id":24095004,"reputation":1,"user_id":18067667,"display_name":"K O&#39;Neill"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671653120,"creation_date":1671653120,"answer_id":74881271,"question_id":74872166,"body_markdown":"For anyone who might be having the same issue as me in the future, \r\nI removed the following from my CSS: \r\n\r\n```\r\n.text-area .text {\r\n    -fx-line-spacing: 10px;\r\n}\r\n```\r\nand it seems to be working now. I&#39;ll have to see if there&#39;s a way to handle this without taking it out altogether, but that seems to be what was messing it up.  \r\n","title":"JavaFX TextArea doesn&#39;t display all lines of text with scrollbar","body":"<p>For anyone who might be having the same issue as me in the future,\nI removed the following from my CSS:</p>\n<pre><code>.text-area .text {\n    -fx-line-spacing: 10px;\n}\n</code></pre>\n<p>and it seems to be working now. I'll have to see if there's a way to handle this without taking it out altogether, but that seems to be what was messing it up.</p>\n"}],"owner":{"account_id":24095004,"reputation":1,"user_id":18067667,"display_name":"K O&#39;Neill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671674028,"creation_date":1671604918,"question_id":74872166,"body_markdown":"I have a TextArea, and when the amount of text exceeds the capacity of the visable TextArea, the scrollbar appears and works as normal... to a degree.\r\n\r\nMy issue is that after a certain amount of text, the text cuts off and the scrollbar doesn&#39;t scroll any further. If I delete earlier lines, new lines that have been cut off do appear at the bottom.\r\n\r\nI&#39;ve been scouring for a while and have yet to figure out how, or why this is happening. \r\n\r\nI&#39;m using Scenebuilder, should that make a difference. \r\n\r\nRelevent FXML Code: \r\n\r\n```\r\n &lt;TextArea fx:id=&quot;diaryTF&quot; layoutX=&quot;10.0&quot; layoutY=&quot;99.0&quot; prefHeight=&quot;445.0&quot; prefWidth=&quot;491.0&quot; promptText=&quot;Write Entry Here...&quot; wrapText=&quot;true&quot; /&gt;\r\n```\r\n---------------------------------------\r\n\r\nCSS Code: \r\n\r\n\r\n\r\n\r\n```\r\n.text-field{\r\n\r\n-fx-font-family: &#39;Kiwi3&#39;;\r\n-fx-background-color: null;\r\n\r\n}\r\n.text-area{\r\n    -fx-font-family: &#39;Kiwi3&#39;;\r\n    -fx-background-color: none;  \r\n    -fx-border-color: none;\r\n    -fx-font-size: 15;    \r\n}\r\n.text-area .text {\r\n    -fx-line-spacing: 10px;\r\n}\r\n.text-area .scroll-pane {\r\n    -fx-background-color: transparent;\r\n}\r\n.text-area .scroll-pane .viewport{\r\n    -fx-background-color: transparent;\r\n}\r\n.text-area .scroll-pane .content{\r\n    -fx-background-color: transparent;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried checking to see if there was some constraint I added without realising, or if the TextArea has an autocapacity that I can override, but I couldn&#39;t find anything. \r\n\r\n\r\nI found a question on here about a similar issue, but their scroll didn&#39;t work at all, and their fix didn&#39;t work for me. Yet again, the scroll works, just for some reason it doesn&#39;t go the entire way to the end of the text. \r\nAdditionally, this issue is not related at all to loading text files within a TextArea.","title":"JavaFX TextArea doesn&#39;t display all lines of text with scrollbar","body":"<p>I have a TextArea, and when the amount of text exceeds the capacity of the visable TextArea, the scrollbar appears and works as normal... to a degree.</p>\n<p>My issue is that after a certain amount of text, the text cuts off and the scrollbar doesn't scroll any further. If I delete earlier lines, new lines that have been cut off do appear at the bottom.</p>\n<p>I've been scouring for a while and have yet to figure out how, or why this is happening.</p>\n<p>I'm using Scenebuilder, should that make a difference.</p>\n<p>Relevent FXML Code:</p>\n<pre><code> &lt;TextArea fx:id=&quot;diaryTF&quot; layoutX=&quot;10.0&quot; layoutY=&quot;99.0&quot; prefHeight=&quot;445.0&quot; prefWidth=&quot;491.0&quot; promptText=&quot;Write Entry Here...&quot; wrapText=&quot;true&quot; /&gt;\n</code></pre>\n<hr />\n<p>CSS Code:</p>\n<pre><code>.text-field{\n\n-fx-font-family: 'Kiwi3';\n-fx-background-color: null;\n\n}\n.text-area{\n    -fx-font-family: 'Kiwi3';\n    -fx-background-color: none;  \n    -fx-border-color: none;\n    -fx-font-size: 15;    \n}\n.text-area .text {\n    -fx-line-spacing: 10px;\n}\n.text-area .scroll-pane {\n    -fx-background-color: transparent;\n}\n.text-area .scroll-pane .viewport{\n    -fx-background-color: transparent;\n}\n.text-area .scroll-pane .content{\n    -fx-background-color: transparent;\n}\n</code></pre>\n<p>I tried checking to see if there was some constraint I added without realising, or if the TextArea has an autocapacity that I can override, but I couldn't find anything.</p>\n<p>I found a question on here about a similar issue, but their scroll didn't work at all, and their fix didn't work for me. Yet again, the scroll works, just for some reason it doesn't go the entire way to the end of the text.\nAdditionally, this issue is not related at all to loading text files within a TextArea.</p>\n"},{"tags":["java","error-handling","enums","hashmap","refactoring"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":2,"creation_date":1671494069,"post_id":74847951,"comment_id":132107482,"body_markdown":"Your code doesn&#39;t make sense. You have a method called `is` that takes in 2 parameters `(ApiException, String)`. However, in all of the examples, you have it like this -- `is(NUMBER_ONE, exception)`, where `NUMBER_ONE` is a `String`. Did you mean to reverse that?","body":"Your code doesn&#39;t make sense. You have a method called <code>is</code> that takes in 2 parameters <code>(ApiException, String)</code>. However, in all of the examples, you have it like this -- <code>is(NUMBER_ONE, exception)</code>, where <code>NUMBER_ONE</code> is a <code>String</code>. Did you mean to reverse that?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1671625623,"post_id":74847951,"comment_id":132138272,"body_markdown":"As davidalayachew said, you have your parameters swapped. Besides that, there is a standard `equals` method you can call on every `String`. There is no need to call an external library function like `StringUtils.equals`. And when you use standard `String` matching functionality, you can simply use `switch(exception.getCode()) { case NUMBER_ONE: throw new NumberOneException(customerNo, code); case NUMBER_TWO:  etc` You could also create a factory interface for your exceptions and use a map from string to factory, however, initializing the map is not shorter than the `switch` statement.","body":"As davidalayachew said, you have your parameters swapped. Besides that, there is a standard <code>equals</code> method you can call on every <code>String</code>. There is no need to call an external library function like <code>StringUtils.equals</code>. And when you use standard <code>String</code> matching functionality, you can simply use <code>switch(exception.getCode()) { case NUMBER_ONE: throw new NumberOneException(customerNo, code); case NUMBER_TWO:  etc</code> You could also create a factory interface for your exceptions and use a map from string to factory, however, initializing the map is not shorter than the <code>switch</code> statement."},{"owner":{"account_id":9652380,"reputation":31,"user_id":7163099,"display_name":"Astrid"},"score":0,"creation_date":1671673100,"post_id":74847951,"comment_id":132151445,"body_markdown":"Hi @davidalayachew, Thank you for your feed back. I fixed `is` correctly.","body":"Hi @davidalayachew, Thank you for your feed back. I fixed <code>is</code> correctly."},{"owner":{"account_id":9652380,"reputation":31,"user_id":7163099,"display_name":"Astrid"},"score":0,"creation_date":1671673148,"post_id":74847951,"comment_id":132151451,"body_markdown":"Thank you for the answer @Holger. It looks that using switch would be shorter than the origin code as you mentioned.","body":"Thank you for the answer @Holger. It looks that using switch would be shorter than the origin code as you mentioned."}],"answers":[{"tags":[],"owner":{"account_id":1391034,"reputation":15754,"user_id":1321873,"display_name":"Rajesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671443500,"creation_date":1671443500,"answer_id":74848793,"question_id":74847951,"body_markdown":"Take a look at the [Factory method pattern](https://en.wikipedia.org/wiki/Factory_method_pattern), which seems to be the most suited in the case presented.","title":"How to refactor an exception handling in Java","body":"<p>Take a look at the <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">Factory method pattern</a>, which seems to be the most suited in the case presented.</p>\n"}],"owner":{"account_id":9652380,"reputation":31,"user_id":7163099,"display_name":"Astrid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74848793,"answer_count":1,"score":0,"last_activity_date":1671673041,"creation_date":1671439025,"question_id":74847951,"body_markdown":"Thank you in advance to read my question.\r\n\r\nIs there any way to refactor the code below?\r\n\r\nThe code below is about handling errors in my project.\r\n\r\nI left out if-else codes and changed variable names to make my question simpler. There are more if-else codes and variables in the original.\r\n\r\n```\r\nprivate static final String NUMBER_ONE = &quot;number.one&quot;;\r\nprivate static final String NUMBER_TWO = &quot;number.two&quot;;\r\nprivate static final String NUMBER_THREE = &quot;number.three&quot;;\r\nprivate static final String NUMBER_FOUR = &quot;number.four&quot;;\r\nprivate static final String NUMBER_FIVE = &quot;number.five&quot;;\r\n\r\n// ... more error names \r\n\r\npublic void handler(ApiException exception, String customerNo, String code) {\r\n    if (is(NUMBER_ONE, exception)) {\r\n    throw new NumberOneException(customerNo, code);\r\n    } else if (is(NUMBER_TWO, exception)) {\r\n    throw new NumberTwoException(customerNo);\r\n    } else if (is(NUMBER_THREE, exception)) {\r\n    throw new NumberThreeException(code);\r\n    } else if (is(NUMBER_FOUR, exception)) {\r\n    throw new NumberFourException(customerNo, exception.toError());\r\n    } else if (is(NUMBER_FIVE, exception)) {\r\n    throw new NumberFiveException(exception.toError());\r\n\r\n    // ... too many if-else sentences :-(\r\n&#160;&#160;&#160;&#160;&#160;\r\n    }\r\n\r\nprivate boolean is(String errorCode, ApiException exception) {\r\n    return StringUtils.equals(errorCode, exception.getCode());\r\n    }\r\n```\r\n\r\nI was thinking of either Enum or HashMap, but failed to apply any of them.\r\n\r\nThe main reason was that each exception requires different parameters each other.\r\n\r\nI&#39;m still thinking of using HashMap, but not sure whether it&#39;s effective or not.","title":"How to refactor an exception handling in Java","body":"<p>Thank you in advance to read my question.</p>\n<p>Is there any way to refactor the code below?</p>\n<p>The code below is about handling errors in my project.</p>\n<p>I left out if-else codes and changed variable names to make my question simpler. There are more if-else codes and variables in the original.</p>\n<pre><code>private static final String NUMBER_ONE = &quot;number.one&quot;;\nprivate static final String NUMBER_TWO = &quot;number.two&quot;;\nprivate static final String NUMBER_THREE = &quot;number.three&quot;;\nprivate static final String NUMBER_FOUR = &quot;number.four&quot;;\nprivate static final String NUMBER_FIVE = &quot;number.five&quot;;\n\n// ... more error names \n\npublic void handler(ApiException exception, String customerNo, String code) {\n    if (is(NUMBER_ONE, exception)) {\n    throw new NumberOneException(customerNo, code);\n    } else if (is(NUMBER_TWO, exception)) {\n    throw new NumberTwoException(customerNo);\n    } else if (is(NUMBER_THREE, exception)) {\n    throw new NumberThreeException(code);\n    } else if (is(NUMBER_FOUR, exception)) {\n    throw new NumberFourException(customerNo, exception.toError());\n    } else if (is(NUMBER_FIVE, exception)) {\n    throw new NumberFiveException(exception.toError());\n\n    // ... too many if-else sentences :-(\n\n    }\n\nprivate boolean is(String errorCode, ApiException exception) {\n    return StringUtils.equals(errorCode, exception.getCode());\n    }\n</code></pre>\n<p>I was thinking of either Enum or HashMap, but failed to apply any of them.</p>\n<p>The main reason was that each exception requires different parameters each other.</p>\n<p>I'm still thinking of using HashMap, but not sure whether it's effective or not.</p>\n"},{"tags":["java","spring-boot","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671672762,"creation_date":1671672762,"answer_id":74883378,"question_id":73797276,"body_markdown":"I don&#39;t see a way for spring boot to populate arguments of an annotation with values from application.properties.\r\n\r\nBut you can populate variables from values in application.properties like this:\r\n\r\n    @Value(&quot;${scopeName}&quot;)\r\n    private String scopeName;\r\n    \r\n    @Value(&quot;${collectionName}&quot;)\r\n    private String collectionName;\r\n\r\nAnd then define your repository to extend DynamicProxyable\r\n\r\n    public interface AirportRepository extends CouchbaseRepository&lt;Airport, String&gt;, DynamicProxyable&lt;AirportRepository&gt;{...}\r\n\r\nAnd then get a repository object with that scope and collection as the defaults:\r\n\r\n    List&lt;Airport&gt; airports = airportRepository.withScope(scopeName).withCollection(collectionName).findByName(iata);\r\n\r\nsee https://docs.spring.io/spring-data/couchbase/docs/4.4.6/reference/html/#couchbase.collections\r\n\r\n\r\n","title":"How can I pass a value from application.properties in @Scope and @Collection annotations?","body":"<p>I don't see a way for spring boot to populate arguments of an annotation with values from application.properties.</p>\n<p>But you can populate variables from values in application.properties like this:</p>\n<pre><code>@Value(&quot;${scopeName}&quot;)\nprivate String scopeName;\n\n@Value(&quot;${collectionName}&quot;)\nprivate String collectionName;\n</code></pre>\n<p>And then define your repository to extend DynamicProxyable</p>\n<pre><code>public interface AirportRepository extends CouchbaseRepository&lt;Airport, String&gt;, DynamicProxyable&lt;AirportRepository&gt;{...}\n</code></pre>\n<p>And then get a repository object with that scope and collection as the defaults:</p>\n<pre><code>List&lt;Airport&gt; airports = airportRepository.withScope(scopeName).withCollection(collectionName).findByName(iata);\n</code></pre>\n<p>see <a href=\"https://docs.spring.io/spring-data/couchbase/docs/4.4.6/reference/html/#couchbase.collections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/4.4.6/reference/html/#couchbase.collections</a></p>\n"}],"owner":{"account_id":10361883,"reputation":31,"user_id":7642117,"display_name":"Adrien Domurado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671672762,"creation_date":1663747336,"question_id":73797276,"body_markdown":"I want to prepare for a migration from Couchbase 6.X to 7.X. For this, I want to configure the scope and collection for my cluster. In the documentation of spring-data-couchbase, I saw that I just need to add @Scope and @Collection on my repository.\r\nThis configuration works:\r\n```java\r\npackage xxx.couchbase;\r\n\r\nimport xxx.MyDocument;\r\nimport org.springframework.data.couchbase.repository.Collection;\r\nimport org.springframework.data.couchbase.repository.CouchbaseRepository;\r\nimport org.springframework.data.couchbase.repository.Scope;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\n@Scope(&quot;_default&quot;)\r\n@Collection(&quot;_default&quot;)\r\npublic interface MyDocumentRepository extends CouchbaseRepository&lt;MyDocument, String&gt; {\r\n}\r\n```\r\n\r\nWhat I want to do:\r\n```java\r\npackage xxx.couchbase;\r\n\r\nimport xxx.MyDocument;\r\nimport org.springframework.data.couchbase.repository.Collection;\r\nimport org.springframework.data.couchbase.repository.CouchbaseRepository;\r\nimport org.springframework.data.couchbase.repository.Scope;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\n@Scope(&quot;${couchbase.scope}&quot;)\r\n@Collection(&quot;${couchbase.collection}&quot;)\r\npublic interface MyDocumentRepository extends CouchbaseRepository&lt;MyDocument, String&gt; {\r\n}\r\n```\r\napplication.properties:\r\n\r\n```properties\r\ncouchbase.scope=_default\r\ncouchbase.collection=_default\r\n```\r\n\r\nThis latter configuration doesn&#39;t work, because the string value in the annotation is not parsed and is taken literally.\r\nI&#39;m working with Spring Boot version 2.7.3, spring-boot-starter-data-couchbase version 2.7.3.\r\n\r\nIs there another way to pass the value from the application.properties to the annotations ?","title":"How can I pass a value from application.properties in @Scope and @Collection annotations?","body":"<p>I want to prepare for a migration from Couchbase 6.X to 7.X. For this, I want to configure the scope and collection for my cluster. In the documentation of spring-data-couchbase, I saw that I just need to add @Scope and @Collection on my repository.\nThis configuration works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package xxx.couchbase;\n\nimport xxx.MyDocument;\nimport org.springframework.data.couchbase.repository.Collection;\nimport org.springframework.data.couchbase.repository.CouchbaseRepository;\nimport org.springframework.data.couchbase.repository.Scope;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n@Scope(&quot;_default&quot;)\n@Collection(&quot;_default&quot;)\npublic interface MyDocumentRepository extends CouchbaseRepository&lt;MyDocument, String&gt; {\n}\n</code></pre>\n<p>What I want to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package xxx.couchbase;\n\nimport xxx.MyDocument;\nimport org.springframework.data.couchbase.repository.Collection;\nimport org.springframework.data.couchbase.repository.CouchbaseRepository;\nimport org.springframework.data.couchbase.repository.Scope;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n@Scope(&quot;${couchbase.scope}&quot;)\n@Collection(&quot;${couchbase.collection}&quot;)\npublic interface MyDocumentRepository extends CouchbaseRepository&lt;MyDocument, String&gt; {\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>couchbase.scope=_default\ncouchbase.collection=_default\n</code></pre>\n<p>This latter configuration doesn't work, because the string value in the annotation is not parsed and is taken literally.\nI'm working with Spring Boot version 2.7.3, spring-boot-starter-data-couchbase version 2.7.3.</p>\n<p>Is there another way to pass the value from the application.properties to the annotations ?</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":69505,"reputation":32668,"user_id":202168,"accept_rate":66,"display_name":"Anentropic"},"score":0,"creation_date":1671675907,"post_id":74883376,"comment_id":132151790,"body_markdown":"So the script is a useless artefact?","body":"So the script is a useless artefact?"},{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1671676780,"post_id":74883376,"comment_id":132151871,"body_markdown":"its not built for way you are trying to use. distribution convention (at least the default gradle template) sets it to use it else where (any where with bin and lib). you are free to write your own script.","body":"its not built for way you are trying to use. distribution convention (at least the default gradle template) sets it to use it else where (any where with bin and lib). you are free to write your own script."},{"owner":{"account_id":69505,"reputation":32668,"user_id":202168,"accept_rate":66,"display_name":"Anentropic"},"score":0,"creation_date":1671681757,"post_id":74883376,"comment_id":132152474,"body_markdown":"Thanks, I unzipped the package that was under build/distributions and it extracted bin and lib folders, there was `bin/myproj` in there which I can run fine. Not sure the purpose of the non-working `build/scripts/myproj` script, maybe `gradle run` uses that? &#129335;","body":"Thanks, I unzipped the package that was under build/distributions and it extracted bin and lib folders, there was <code>bin&#47;myproj</code> in there which I can run fine. Not sure the purpose of the non-working <code>build&#47;scripts&#47;myproj</code> script, maybe <code>gradle run</code> uses that? "}],"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671672678,"creation_date":1671672678,"answer_id":74883376,"question_id":74882925,"body_markdown":"it won&#39;t work from `build/scripts` folder ; the proper way is to unzip the distribution (.zip or .tar) from &#39;build/distributions/&#39; into a new folder (creates a bin and lib folders) and then run the script from &#39;bin&#39; \r\n\r\nreason - the script (default) is expects the `bin and lib` structure for resolving paths.","title":"I can&#39;t run the script output by gradle build: &quot;Could not find or load main class&quot;","body":"<p>it won't work from <code>build/scripts</code> folder ; the proper way is to unzip the distribution (.zip or .tar) from 'build/distributions/' into a new folder (creates a bin and lib folders) and then run the script from 'bin'</p>\n<p>reason - the script (default) is expects the <code>bin and lib</code> structure for resolving paths.</p>\n"}],"owner":{"account_id":69505,"reputation":32668,"user_id":202168,"accept_rate":66,"display_name":"Anentropic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74883376,"answer_count":1,"score":0,"last_activity_date":1671672678,"creation_date":1671667043,"question_id":74882925,"body_markdown":"I have a `build.gradle` file like:\r\n\r\n```gradle\r\nplugins {\r\n    id &#39;application&#39;\r\n    ...\r\n}\r\n\r\ncompileJava {\r\n    options.compilerArgs += [&quot;-Aproject=${project.group}/${project.name}&quot;]\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;com.anentropic.myproj.MyProj&#39;\r\n    applicationName = &quot;myproj&quot;  // shell script wrapper name\r\n}\r\n\r\njar {\r\n    archiveBaseName = &quot;myproj&quot;  // jar name\r\n}\r\n```\r\n\r\nIt compiles fine when I run `gradle build`.\r\n\r\nThere is an artefact output at `app/build/scripts/myproj` which is a shell script that wraps the invocation of `java` with my jar file\r\n\r\nWhen I run it I get:\r\n```\r\nError: Could not find or load main class com.anentropic.myproj.MyProj\r\nCaused by: java.lang.ClassNotFoundException: com.anentropic.myproj.MyProj\r\n```\r\n\r\nSo that&#39;s not very useful. How do I fix it?","title":"I can&#39;t run the script output by gradle build: &quot;Could not find or load main class&quot;","body":"<p>I have a <code>build.gradle</code> file like:</p>\n<pre><code>plugins {\n    id 'application'\n    ...\n}\n\ncompileJava {\n    options.compilerArgs += [&quot;-Aproject=${project.group}/${project.name}&quot;]\n}\n\napplication {\n    mainClass = 'com.anentropic.myproj.MyProj'\n    applicationName = &quot;myproj&quot;  // shell script wrapper name\n}\n\njar {\n    archiveBaseName = &quot;myproj&quot;  // jar name\n}\n</code></pre>\n<p>It compiles fine when I run <code>gradle build</code>.</p>\n<p>There is an artefact output at <code>app/build/scripts/myproj</code> which is a shell script that wraps the invocation of <code>java</code> with my jar file</p>\n<p>When I run it I get:</p>\n<pre><code>Error: Could not find or load main class com.anentropic.myproj.MyProj\nCaused by: java.lang.ClassNotFoundException: com.anentropic.myproj.MyProj\n</code></pre>\n<p>So that's not very useful. How do I fix it?</p>\n"},{"tags":["python","java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671671842,"post_id":74883272,"comment_id":132151269,"body_markdown":"These are usually network issues.  Is your device on wifi, on the same network, and do you have a hole poked in your wifi router to allow incoming traffic to your laptop running the python script?","body":"These are usually network issues.  Is your device on wifi, on the same network, and do you have a hole poked in your wifi router to allow incoming traffic to your laptop running the python script?"},{"owner":{"account_id":22258206,"reputation":9,"user_id":16490063,"display_name":"holzhaker1"},"score":0,"creation_date":1671710701,"post_id":74883272,"comment_id":132159152,"body_markdown":"does the socket only work if i am on the same network? because i thought this works over the internet. regardless of that, im on LAN from the pc and on WLAN on the phone,but in the same netwotk","body":"does the socket only work if i am on the same network? because i thought this works over the internet. regardless of that, im on LAN from the pc and on WLAN on the phone,but in the same netwotk"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671738431,"post_id":74883272,"comment_id":132167812,"body_markdown":"Sockets don&#39;t require you to be on the same network, but unless you have a public facing IP address (unlikely unless you have a commercial internet connection and have it set up that way) then you wouldn&#39;t be able to route to it from another network.  But even if on wifi you need to have a hole poked in the NAT to allow access to your PC.","body":"Sockets don&#39;t require you to be on the same network, but unless you have a public facing IP address (unlikely unless you have a commercial internet connection and have it set up that way) then you wouldn&#39;t be able to route to it from another network.  But even if on wifi you need to have a hole poked in the NAT to allow access to your PC."},{"owner":{"account_id":22258206,"reputation":9,"user_id":16490063,"display_name":"holzhaker1"},"score":0,"creation_date":1671744879,"post_id":74883272,"comment_id":132169444,"body_markdown":"I got it working, however is there a really simple way for me to set up such a public facing IP just for personal use? I`d let the script run on a raspi and it would cool for me to retrieve the info when im not at home","body":"I got it working, however is there a really simple way for me to set up such a public facing IP just for personal use? I`d let the script run on a raspi and it would cool for me to retrieve the info when im not at home"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671752306,"post_id":74883272,"comment_id":132170812,"body_markdown":"If you&#39;re on a home network, its unlikely your ISP would sell you one.  Instead I&#39;d look at the free tier of AWS or another cloud provider","body":"If you&#39;re on a home network, its unlikely your ISP would sell you one.  Instead I&#39;d look at the free tier of AWS or another cloud provider"}],"answers":[{"tags":[],"owner":{"account_id":84644,"reputation":66608,"user_id":236465,"display_name":"Diego Torres Milano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671672626,"creation_date":1671672626,"answer_id":74883373,"question_id":74883272,"body_markdown":"Verify you can access your PC from your device\r\n\r\n1. connect the device using `adb` (USB or wifi)\r\n1. open a shell `adb shell`\r\n1. from that shell ping your PC address\r\n1. if the previous step succeeded use `netcat` to your PC and port\r\n1. if this succeeds your app should work if it has the permission","title":"Android App works fine in Android Studio but doesnt work on device","body":"<p>Verify you can access your PC from your device</p>\n<ol>\n<li>connect the device using <code>adb</code> (USB or wifi)</li>\n<li>open a shell <code>adb shell</code></li>\n<li>from that shell ping your PC address</li>\n<li>if the previous step succeeded use <code>netcat</code> to your PC and port</li>\n<li>if this succeeds your app should work if it has the permission</li>\n</ol>\n"}],"owner":{"account_id":22258206,"reputation":9,"user_id":16490063,"display_name":"holzhaker1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671672626,"creation_date":1671671331,"question_id":74883272,"body_markdown":"So I messed arround with AndroidStudio and python to create a simple App which receives a String of Arrays from a python script and displays it in a ListView. When setting it up in AndroidStudio everything works fine, the app starts, gets the Array from the python script and displays it. However when exporting it to an APK and installing and running it on my S22 it doesnt display the array. The python script also doesnt register anything.\r\nApp: \r\n\r\n    package com.example.app;\r\n    \r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.InetAddress;\r\n    import java.net.Socket;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        // Array of strings to display in the ListView\r\n        List&lt;String&gt; array = new ArrayList&lt;&gt;();\r\n    \r\n        // The ListView\r\n        ListView listView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Find the ListView in the layout\r\n            listView = findViewById(R.id.list_view);\r\n    \r\n            // Create an adapter to convert the array to views\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, array);\r\n    \r\n            // Attach the adapter to the ListView\r\n            listView.setAdapter(adapter);\r\n    \r\n            // Start the AsyncTask to connect to the server and receive the array of strings\r\n            new ReceiveArrayTask().execute();\r\n        }\r\n    \r\n        private class ReceiveArrayTask extends AsyncTask&lt;Void, Void, List&lt;String&gt;&gt; {\r\n    \r\n            @Override\r\n            protected List&lt;String&gt; doInBackground(Void... params) {\r\n                List&lt;String&gt; array = new ArrayList&lt;&gt;();\r\n    \r\n                // Connect to the server and receive the array of strings\r\n                try {\r\n                    // Convert the server&#39;s hostname to an IP address\r\n                    InetAddress serverAddress = InetAddress.getByName(&quot;IP FROM PC&quot;);\r\n    \r\n                    Socket socket = new Socket(serverAddress, 6666);\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n    \r\n                    // Read the array of strings from the server\r\n                    String line;\r\n                    while ((line = in.readLine()) != null) {\r\n                        array.add(line);\r\n                    }\r\n                    in.close();\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                return array;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(List&lt;String&gt; array) {\r\n                // Update the ListView with the received array of strings\r\n                ArrayAdapter&lt;String&gt; adapter = (ArrayAdapter&lt;String&gt;) listView.getAdapter();\r\n                adapter.clear();\r\n                adapter.addAll(array);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nand heres the python script:\r\n\r\n    import socket\r\n    \r\n    # Set the hostname or IP address and port number of the server\r\n    HOSTNAME_OR_IP_ADDRESS = &quot;IP FROM PC&quot;\r\n    PORT_NUMBER = 6666\r\n    \r\n    # Create a socket and bind it to the hostname or IP address and port number\r\n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n    server_socket.bind((HOSTNAME_OR_IP_ADDRESS, PORT_NUMBER))\r\n    \r\n    # Listen for incoming connections\r\n    server_socket.listen()\r\n    \r\n    print(&quot;Listening for incoming connections on &quot; + HOSTNAME_OR_IP_ADDRESS + &quot;:&quot; + str(PORT_NUMBER))\r\n    \r\n    # Accept an incoming connection\r\n    connection, client_address = server_socket.accept()\r\n    \r\n    print(&quot;Received connection from &quot; + str(client_address))\r\n    \r\n    # Send the array of strings to the client\r\n    array = [&quot;item1&quot;, &quot;item2&quot;, &quot;item5&quot;, &quot;item76&quot;]\r\n    for item in array:\r\n        connection.send((item + &quot;\\n&quot;).encode())\r\n    \r\n    # Close the connection\r\n    connection.close()\r\n\r\n","title":"Android App works fine in Android Studio but doesnt work on device","body":"<p>So I messed arround with AndroidStudio and python to create a simple App which receives a String of Arrays from a python script and displays it in a ListView. When setting it up in AndroidStudio everything works fine, the app starts, gets the Array from the python script and displays it. However when exporting it to an APK and installing and running it on my S22 it doesnt display the array. The python script also doesnt register anything.\nApp:</p>\n<pre><code>package com.example.app;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    // Array of strings to display in the ListView\n    List&lt;String&gt; array = new ArrayList&lt;&gt;();\n\n    // The ListView\n    ListView listView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Find the ListView in the layout\n        listView = findViewById(R.id.list_view);\n\n        // Create an adapter to convert the array to views\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, array);\n\n        // Attach the adapter to the ListView\n        listView.setAdapter(adapter);\n\n        // Start the AsyncTask to connect to the server and receive the array of strings\n        new ReceiveArrayTask().execute();\n    }\n\n    private class ReceiveArrayTask extends AsyncTask&lt;Void, Void, List&lt;String&gt;&gt; {\n\n        @Override\n        protected List&lt;String&gt; doInBackground(Void... params) {\n            List&lt;String&gt; array = new ArrayList&lt;&gt;();\n\n            // Connect to the server and receive the array of strings\n            try {\n                // Convert the server's hostname to an IP address\n                InetAddress serverAddress = InetAddress.getByName(&quot;IP FROM PC&quot;);\n\n                Socket socket = new Socket(serverAddress, 6666);\n                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n                // Read the array of strings from the server\n                String line;\n                while ((line = in.readLine()) != null) {\n                    array.add(line);\n                }\n                in.close();\n                socket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            return array;\n        }\n\n        @Override\n        protected void onPostExecute(List&lt;String&gt; array) {\n            // Update the ListView with the received array of strings\n            ArrayAdapter&lt;String&gt; adapter = (ArrayAdapter&lt;String&gt;) listView.getAdapter();\n            adapter.clear();\n            adapter.addAll(array);\n            adapter.notifyDataSetChanged();\n        }\n    }\n}\n</code></pre>\n<p>and heres the python script:</p>\n<pre><code>import socket\n\n# Set the hostname or IP address and port number of the server\nHOSTNAME_OR_IP_ADDRESS = &quot;IP FROM PC&quot;\nPORT_NUMBER = 6666\n\n# Create a socket and bind it to the hostname or IP address and port number\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver_socket.bind((HOSTNAME_OR_IP_ADDRESS, PORT_NUMBER))\n\n# Listen for incoming connections\nserver_socket.listen()\n\nprint(&quot;Listening for incoming connections on &quot; + HOSTNAME_OR_IP_ADDRESS + &quot;:&quot; + str(PORT_NUMBER))\n\n# Accept an incoming connection\nconnection, client_address = server_socket.accept()\n\nprint(&quot;Received connection from &quot; + str(client_address))\n\n# Send the array of strings to the client\narray = [&quot;item1&quot;, &quot;item2&quot;, &quot;item5&quot;, &quot;item76&quot;]\nfor item in array:\n    connection.send((item + &quot;\\n&quot;).encode())\n\n# Close the connection\nconnection.close()\n</code></pre>\n"},{"tags":["java","spring-boot","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671671384,"creation_date":1671671384,"answer_id":74883279,"question_id":74470289,"body_markdown":"The couchbase cluster (and bucket etc) are exposed via getCouchbaseClientFactory() method on the CouchbaseTemplate.\r\n\r\ncouchbaseTemplate.getCouchbaseClientFactory().getCluster()\r\n\r\nThe api docs are here https://docs.spring.io/spring-data/couchbase/docs/4.4.6/api/\r\n","title":"How to resolve getCouchbaseOperations() related dependencies using Spring Data Couchbase (version 4.4.5)","body":"<p>The couchbase cluster (and bucket etc) are exposed via getCouchbaseClientFactory() method on the CouchbaseTemplate.</p>\n<p>couchbaseTemplate.getCouchbaseClientFactory().getCluster()</p>\n<p>The api docs are here <a href=\"https://docs.spring.io/spring-data/couchbase/docs/4.4.6/api/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/4.4.6/api/</a></p>\n"}],"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671671384,"creation_date":1668660094,"question_id":74470289,"body_markdown":"Spring Data Couchbase documentation (version 4.4.5) specifies that the method **getCouchbaseOperations()** has also been removed. It also states that you still can access all methods from the **native Java SDK via the class CouchbaseTemplate or Cluster**. But I couldn&#39;t resolve this. (https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.migrating.repository)\r\n\r\nThe code below is from Couchbase SDK 2 implementation. I opted to migrate the deprecated **DSL packages** into my code as specified in below mentioned thread. (https://stackoverflow.com/questions/74124732/what-are-the-solutions-for-com-couchbase-client-java-query-dsl-sort-issue)\r\n\r\nI am currently facing the issue of resolving getCouchbaseOperations() related issues. Could someone please specify how I may handle this as a scenario?\r\n\r\n    package com.acme.acmepay.config.dao;\r\n    \r\n    import com.acme.acmepay.config.document.paymentoption.PaymentGatewayConfiguration;\r\n    import com.acme.acmepay.config.logic.paymenttemplatereportlogic.data.PaymentTemplateDataTableSearchLogicData;\r\n    import com.acme.acmepay.config.repository.PaymentGatewayConfigurationRepository;\r\n    import com.couchbase.client.java.Bucket;\r\n    import com.couchbase.client.java.query.N1qlQuery;\r\n    import com.couchbase.client.java.query.Statement;\r\n    import com.couchbase.client.java.query.dsl.Expression;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.couchbase.repository.query.support.N1qlUtils;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @Slf4j\r\n    public class PaymentTemplateConfigDAOImpl implements PaymentTemplateConfigDAO {\r\n    \r\n        @Autowired\r\n        PaymentGatewayConfigurationRepository paymentGatewayConfigurationRepository;\r\n    \r\n        Bucket couchbaseBucket;\r\n    \r\n        public List&lt;PaymentGatewayConfiguration&gt; getPaymentTemplateSearchReportList(\r\n                PaymentTemplateDataTableSearchLogicData paymentTemplateDataTableSearchLogicData) {\r\n    \r\n    \r\n            Statement statement = getQueryStatement(paymentTemplateDataTableSearchLogicData);\r\n            log.info(&quot;N1QL Statement&quot; + statement);\r\n\r\n          //Error happen here\r\n            N1qlQuery query = N1qlQuery.simple(statement);\r\n            \r\n            return paymentGatewayConfigurationRepository.getCouchbaseOperations().findByN1QL(query,\r\n                    PaymentGatewayConfiguration.class);\r\n    \r\n    \r\n        }\r\n        \r\n        private Statement getQueryStatement(\r\n                PaymentTemplateDataTableSearchLogicData paymentTemplateDataTableSearchLogicData) {\r\n    \r\n            //Error happen here\r\n            return N1qlUtils\r\n                    .createSelectClauseForEntity(\r\n                            paymentGatewayConfigurationRepository.getCouchbaseOperations().getCouchbaseBucket().name())\r\n                    .from(Expression\r\n                            .i(paymentGatewayConfigurationRepository.getCouchbaseOperations().getCouchbaseBucket().name()))\r\n                    .where(paymentTemplateDataTableSearchLogicData.getSearchQuery())\r\n                    .orderBy(paymentTemplateDataTableSearchLogicData.getSort())\r\n                    .limit(paymentTemplateDataTableSearchLogicData.getLimit())\r\n                    .offset(paymentTemplateDataTableSearchLogicData.getOffset());\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to resolve getCouchbaseOperations() related dependencies using Spring Data Couchbase (version 4.4.5)","body":"<p>Spring Data Couchbase documentation (version 4.4.5) specifies that the method <strong>getCouchbaseOperations()</strong> has also been removed. It also states that you still can access all methods from the <strong>native Java SDK via the class CouchbaseTemplate or Cluster</strong>. But I couldn't resolve this. (<a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.migrating.repository\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.migrating.repository</a>)</p>\n<p>The code below is from Couchbase SDK 2 implementation. I opted to migrate the deprecated <strong>DSL packages</strong> into my code as specified in below mentioned thread. (<a href=\"https://stackoverflow.com/questions/74124732/what-are-the-solutions-for-com-couchbase-client-java-query-dsl-sort-issue\">What are the solutions for com.couchbase.client.java.query.dsl.Sort issue?</a>)</p>\n<p>I am currently facing the issue of resolving getCouchbaseOperations() related issues. Could someone please specify how I may handle this as a scenario?</p>\n<pre><code>package com.acme.acmepay.config.dao;\n\nimport com.acme.acmepay.config.document.paymentoption.PaymentGatewayConfiguration;\nimport com.acme.acmepay.config.logic.paymenttemplatereportlogic.data.PaymentTemplateDataTableSearchLogicData;\nimport com.acme.acmepay.config.repository.PaymentGatewayConfigurationRepository;\nimport com.couchbase.client.java.Bucket;\nimport com.couchbase.client.java.query.N1qlQuery;\nimport com.couchbase.client.java.query.Statement;\nimport com.couchbase.client.java.query.dsl.Expression;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.couchbase.repository.query.support.N1qlUtils;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@Slf4j\npublic class PaymentTemplateConfigDAOImpl implements PaymentTemplateConfigDAO {\n\n    @Autowired\n    PaymentGatewayConfigurationRepository paymentGatewayConfigurationRepository;\n\n    Bucket couchbaseBucket;\n\n    public List&lt;PaymentGatewayConfiguration&gt; getPaymentTemplateSearchReportList(\n            PaymentTemplateDataTableSearchLogicData paymentTemplateDataTableSearchLogicData) {\n\n\n        Statement statement = getQueryStatement(paymentTemplateDataTableSearchLogicData);\n        log.info(&quot;N1QL Statement&quot; + statement);\n\n      //Error happen here\n        N1qlQuery query = N1qlQuery.simple(statement);\n        \n        return paymentGatewayConfigurationRepository.getCouchbaseOperations().findByN1QL(query,\n                PaymentGatewayConfiguration.class);\n\n\n    }\n    \n    private Statement getQueryStatement(\n            PaymentTemplateDataTableSearchLogicData paymentTemplateDataTableSearchLogicData) {\n\n        //Error happen here\n        return N1qlUtils\n                .createSelectClauseForEntity(\n                        paymentGatewayConfigurationRepository.getCouchbaseOperations().getCouchbaseBucket().name())\n                .from(Expression\n                        .i(paymentGatewayConfigurationRepository.getCouchbaseOperations().getCouchbaseBucket().name()))\n                .where(paymentTemplateDataTableSearchLogicData.getSearchQuery())\n                .orderBy(paymentTemplateDataTableSearchLogicData.getSort())\n                .limit(paymentTemplateDataTableSearchLogicData.getLimit())\n                .offset(paymentTemplateDataTableSearchLogicData.getOffset());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","macos"],"comments":[{"owner":{"account_id":2276024,"reputation":969,"user_id":2002257,"display_name":"Jake H."},"score":0,"creation_date":1454795636,"post_id":35246910,"comment_id":58207606,"body_markdown":"Open a new terminal and run `java -version`. What does it say?","body":"Open a new terminal and run <code>java -version</code>. What does it say?"},{"owner":{"account_id":3326998,"reputation":7910,"user_id":2796832,"display_name":"Jonah Graham"},"score":0,"creation_date":1454795972,"post_id":35246910,"comment_id":58207687,"body_markdown":"I don&#39;t have access to Mac, so can&#39;t test this out, but a senior contributor on the Eclipse Forums [had this to say](https://www.eclipse.org/forums/index.php?t=msg&amp;th=1073452&amp;goto=1718965&amp;#msg_1718965): &quot;so the best thing is to download JDK 1.8 (not just the JRE)&quot;","body":"I don&#39;t have access to Mac, so can&#39;t test this out, but a senior contributor on the Eclipse Forums <a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;th=1073452&amp;goto=1718965&amp;#msg_1718965\" rel=\"nofollow noreferrer\">had this to say</a>: &quot;so the best thing is to download JDK 1.8 (not just the JRE)&quot;"},{"owner":{"account_id":1458423,"reputation":5361,"user_id":1373425,"accept_rate":79,"display_name":"Maciej Cygan"},"score":0,"creation_date":1454796161,"post_id":35246910,"comment_id":58207738,"body_markdown":"@JonahGraham you need JDK in the first place anyway, You can&#39;t run eclipse or any other IDE without JDK","body":"@JonahGraham you need JDK in the first place anyway, You can&#39;t run eclipse or any other IDE without JDK"},{"owner":{"account_id":3326998,"reputation":7910,"user_id":2796832,"display_name":"Jonah Graham"},"score":0,"creation_date":1454796271,"post_id":35246910,"comment_id":58207765,"body_markdown":"@MaciejCygan of course you can :-) you definitely do not need JDK in general to run Eclipse. You may _want_ it for Java development, but Eclipse is a lot bigger than just Java. I defer to Eric on the forums as to the reason he recommends JDK on Mac, is it something about Macs?","body":"@MaciejCygan of course you can :-) you definitely do not need JDK in general to run Eclipse. You may <i>want</i> it for Java development, but Eclipse is a lot bigger than just Java. I defer to Eric on the forums as to the reason he recommends JDK on Mac, is it something about Macs?"},{"owner":{"account_id":1458423,"reputation":5361,"user_id":1373425,"accept_rate":79,"display_name":"Maciej Cygan"},"score":0,"creation_date":1454796589,"post_id":35246910,"comment_id":58207863,"body_markdown":"@JonahGraham actually i suppose yes JRE is sufficient to open up eclipse. But why one would download eclipse and use it for something else where other &#39;better&#39; IDE&#39;s exists for other languages.","body":"@JonahGraham actually i suppose yes JRE is sufficient to open up eclipse. But why one would download eclipse and use it for something else where other &#39;better&#39; IDE&#39;s exists for other languages."},{"owner":{"account_id":3326998,"reputation":7910,"user_id":2796832,"display_name":"Jonah Graham"},"score":0,"creation_date":1454796981,"post_id":35246910,"comment_id":58207997,"body_markdown":"@MaciejCygan well you don&#39;t even need Jedi for Java dev in eclipse, not that I would take someone seriously who did not have jdk installed! I won&#39;t argue about best IDEs in general (partially because I don&#39;t actually disagree) but Eclipse CDT is the &quot;best&quot; IDE for C/C++ in embedded market. Anyway way OT as OP did imply Java dev.","body":"@MaciejCygan well you don&#39;t even need Jedi for Java dev in eclipse, not that I would take someone seriously who did not have jdk installed! I won&#39;t argue about best IDEs in general (partially because I don&#39;t actually disagree) but Eclipse CDT is the &quot;best&quot; IDE for C/C++ in embedded market. Anyway way OT as OP did imply Java dev."},{"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"score":0,"creation_date":1454803231,"post_id":35246910,"comment_id":58209826,"body_markdown":"&quot;java -version&quot; gives the old java version in spite of my uninstalling it. I&#39;m just looking to create some MineCraft mods. Should I be trying to install the JDK, too, or is that unnecessary, given that I already have Eclipse installed?","body":"&quot;java -version&quot; gives the old java version in spite of my uninstalling it. I&#39;m just looking to create some MineCraft mods. Should I be trying to install the JDK, too, or is that unnecessary, given that I already have Eclipse installed?"},{"owner":{"account_id":1458423,"reputation":5361,"user_id":1373425,"accept_rate":79,"display_name":"Maciej Cygan"},"score":0,"creation_date":1454803675,"post_id":35246910,"comment_id":58209961,"body_markdown":"@joseph_pindi can you please do a print script of both java -version &amp; javac -version and paste it in your answer","body":"@joseph_pindi can you please do a print script of both java -version &amp; javac -version and paste it in your answer"},{"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"score":0,"creation_date":1454806853,"post_id":35246910,"comment_id":58210722,"body_markdown":"[Josephs-MacBook-3:/Library/Java/Extensions] admin% java -version\njava version &quot;1.6.0_65&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_65-b14-462-11M4609)\nJava HotSpot(TM) 64-Bit Server VM (build 20.65-b04-462, mixed mode)\n[Josephs-MacBook-3:/Library/Java/Extensions] admin% javac -version\njavac 1.6.0_65","body":"[Josephs-MacBook-3:/Library/Java/Extensions] admin% java -version java version &quot;1.6.0_65&quot; Java(TM) SE Runtime Environment (build 1.6.0_65-b14-462-11M4609) Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04-462, mixed mode) [Josephs-MacBook-3:/Library/Java/Extensions] admin% javac -version javac 1.6.0_65"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1454796447,"post_id":35246954,"comment_id":58207805,"body_markdown":"@jheimbouch - You can export a variable temporarily in the terminal. You forgot that you need to source the profile file, though in your edit","body":"@jheimbouch - You can export a variable temporarily in the terminal. You forgot that you need to source the profile file, though in your edit"},{"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"score":0,"creation_date":1454803002,"post_id":35246954,"comment_id":58209751,"body_markdown":"The Java installer &quot;installs&quot; Java but I can&#39;t find the file path to it. I go into Library/Java and there is nothing there (except for the three sub-folders but they appear to be empty. So either it is installing it in some non-standard place, or not installing it properly at all. Thoughts?","body":"The Java installer &quot;installs&quot; Java but I can&#39;t find the file path to it. I go into Library/Java and there is nothing there (except for the three sub-folders but they appear to be empty. So either it is installing it in some non-standard place, or not installing it properly at all. Thoughts?"},{"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"score":0,"creation_date":1454809096,"post_id":35246954,"comment_id":58211152,"body_markdown":"Here&#39;s the thing: I ran `code`find / -name &quot;java&quot; `code` and it is still looking but it doesn&#39;t look like it is finding 1.8. It tracks down 1.6 (even though I thought I uninstalled it) at \n/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java\n/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java","body":"Here&#39;s the thing: I ran <code>code</code>find / -name &quot;java&quot; <code>code</code> and it is still looking but it doesn&#39;t look like it is finding 1.8. It tracks down 1.6 (even though I thought I uninstalled it) at  /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/&zwnj;&#8203;Commands/java /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/&zwnj;&#8203;Home/bin/java"},{"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"score":0,"creation_date":1454809159,"post_id":35246954,"comment_id":58211164,"body_markdown":"So I&#39;m thinking that the 1.8 isn&#39;t getting installed for some reason. Maybe I need to do it through Terminal or something instead of the installer?","body":"So I&#39;m thinking that the 1.8 isn&#39;t getting installed for some reason. Maybe I need to do it through Terminal or something instead of the installer?"},{"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"score":0,"creation_date":1454812608,"post_id":35246954,"comment_id":58211740,"body_markdown":"I installed Java by going through here [https://www.java.com/en/download/] and downloading ire-8u73-macosx-x64.dmg","body":"I installed Java by going through here [<a href=\"https://www.java.com/en/download/]\" rel=\"nofollow noreferrer\">java.com/en/download/]</a> and downloading ire-8u73-macosx-x64.dmg"}],"tags":[],"owner":{"account_id":1458423,"reputation":5361,"user_id":1373425,"accept_rate":79,"display_name":"Maciej Cygan"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454803590,"creation_date":1454795838,"answer_id":35246954,"question_id":35246910,"body_markdown":"Open up terminal and check what java version is currently set in your path variable. \r\n\r\nYou can do that by typing in your terminal\r\n\r\n    java -version // this will check your jre version. \r\n    javac -version // this will check your compiler version\r\n\r\nIf this shows incorrect java version but you have installed java 1.8 then you have to set path variable to the newer version of java. \r\n\r\nTo do that do add the line:\r\n\r\n    export JAVA_HOME=/path/to/java/jdk1.x\r\n\r\nto `~/.bash_profile` (same as `/Users/username/.bash_profile`)\r\n\r\nThen do this from the terminal to set the new variable\r\n\r\n    source ~/.bash_profile\r\n\r\nAlso what&#39;s your eclipse.ini set to ?\r\n\r\n    -Dosgi.requiredJavaVersion=1.7\r\n\r\nEDIT: \r\n\r\nPlease open up terminal and type \r\n\r\n   \r\n\r\n     find / -name &quot;java&quot; // This should find all folder named java on your file system.\r\n\r\nAlso how did you install java in the first place ?","title":"Eclipse not recognizing JVM 1.8","body":"<p>Open up terminal and check what java version is currently set in your path variable. </p>\n\n<p>You can do that by typing in your terminal</p>\n\n<pre><code>java -version // this will check your jre version. \njavac -version // this will check your compiler version\n</code></pre>\n\n<p>If this shows incorrect java version but you have installed java 1.8 then you have to set path variable to the newer version of java. </p>\n\n<p>To do that do add the line:</p>\n\n<pre><code>export JAVA_HOME=/path/to/java/jdk1.x\n</code></pre>\n\n<p>to <code>~/.bash_profile</code> (same as <code>/Users/username/.bash_profile</code>)</p>\n\n<p>Then do this from the terminal to set the new variable</p>\n\n<pre><code>source ~/.bash_profile\n</code></pre>\n\n<p>Also what's your eclipse.ini set to ?</p>\n\n<pre><code>-Dosgi.requiredJavaVersion=1.7\n</code></pre>\n\n<p>EDIT: </p>\n\n<p>Please open up terminal and type </p>\n\n<pre><code> find / -name \"java\" // This should find all folder named java on your file system.\n</code></pre>\n\n<p>Also how did you install java in the first place ?</p>\n"},{"comments":[{"owner":{"account_id":4090740,"reputation":174,"user_id":3358766,"accept_rate":83,"display_name":"zcoon"},"score":0,"creation_date":1471903175,"post_id":35249174,"comment_id":65526517,"body_markdown":"As of August 22, 2016, I was getting the error when download 8u101, but it worked when I used 8u102. Thanks","body":"As of August 22, 2016, I was getting the error when download 8u101, but it worked when I used 8u102. Thanks"},{"owner":{"account_id":387432,"reputation":2388,"user_id":745776,"accept_rate":67,"display_name":"juil"},"score":0,"creation_date":1524598305,"post_id":35249174,"comment_id":87035563,"body_markdown":"@aidin&#39;s answer below explains what the problem was. It should be the accepted answer.","body":"@aidin&#39;s answer below explains what the problem was. It should be the accepted answer."},{"owner":{"account_id":405828,"reputation":5999,"user_id":774972,"accept_rate":81,"display_name":"Xitcod13"},"score":0,"creation_date":1541208978,"post_id":35249174,"comment_id":93149820,"body_markdown":"This did not work for me but running installer as administrator did the trick","body":"This did not work for me but running installer as administrator did the trick"}],"tags":[],"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1522738281,"creation_date":1454813784,"answer_id":35249174,"question_id":35246910,"body_markdown":"OK, so I don&#39;t really know what the problem was, but I simply fixed it by navigating to here http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html and installing 8u74 instead of 8u73 which is what I was prompted to do when I would go to &quot;download latest version&quot; in Java. So changing the versions is what did it in the end. Eclipse launched fine, now. Thanks for everyone&#39;s help!\r\n\r\nedit: Apr 2018- Now is 8u161 and 8u162 (Just need one, I used 8u162 and it worked.)","title":"Eclipse not recognizing JVM 1.8","body":"<p>OK, so I don't really know what the problem was, but I simply fixed it by navigating to here <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a> and installing 8u74 instead of 8u73 which is what I was prompted to do when I would go to \"download latest version\" in Java. So changing the versions is what did it in the end. Eclipse launched fine, now. Thanks for everyone's help!</p>\n\n<p>edit: Apr 2018- Now is 8u161 and 8u162 (Just need one, I used 8u162 and it worked.)</p>\n"},{"comments":[{"owner":{"account_id":25541,"reputation":18880,"user_id":65694,"accept_rate":46,"display_name":"Alex Nolasco"},"score":3,"creation_date":1489727074,"post_id":41168193,"comment_id":72806924,"body_markdown":"Why is this so painful? (same boat btw)","body":"Why is this so painful? (same boat btw)"},{"owner":{"account_id":34898,"reputation":140,"user_id":98688,"display_name":"terry franguiadakis"},"score":5,"creation_date":1492010812,"post_id":41168193,"comment_id":73809707,"body_markdown":"because Eclipse doesn&#39;t manage their dependencies. Eclipse should download the correct version of Java for itself.","body":"because Eclipse doesn&#39;t manage their dependencies. Eclipse should download the correct version of Java for itself."},{"owner":{"account_id":2004221,"reputation":344,"user_id":1794550,"accept_rate":71,"display_name":"Damodog"},"score":1,"creation_date":1496845659,"post_id":41168193,"comment_id":75829839,"body_markdown":"This worked a treat for me after experiencing the same problems. Thanks @John","body":"This worked a treat for me after experiencing the same problems. Thanks @John"}],"tags":[],"owner":{"account_id":9439104,"reputation":527,"user_id":7020202,"display_name":"John"},"comment_count":3,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1481819139,"creation_date":1481817109,"answer_id":41168193,"question_id":35246910,"body_markdown":"I have had the same problem as noted above.  I could not get Eclipse to install because of Java incompatibilities.  The sequence I followed goes like this:\r\n\r\n1. Upgraded to MAC OS Sierra\r\n2. Downloaded the Eclipse installer but was prompted that I needed to instal a legacy Java.\r\n3. Installed Java 1.6\r\n4. Was unable to install Eclipse and was prompted that I needed Java 1.7 or greater.  Downloaded and installed Java 1.8\r\n5. Ran the terminal code &#39;java -version&#39; // this will check your jre version. This showed returned Java 1.6 despite the fact that I had upgraded to 1.8.  The Java version listed in the Java control panel said 1.8\r\n6. Tried multiple downloads of eclipse and Java and multiple restarts always with the same result.\r\n7. Visited the Oracle web page noted above:\r\n   http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html  I could not find the above reference to 8u73 and 8u74 but I did find and option to download 1.8.0_12.  I did this. It installed without difficulty, and then I was able to install Eclipse without difficulty.\r\n\r\nThis took hours of my time.  I hope this proves useful.","title":"Eclipse not recognizing JVM 1.8","body":"<p>I have had the same problem as noted above.  I could not get Eclipse to install because of Java incompatibilities.  The sequence I followed goes like this:</p>\n\n<ol>\n<li>Upgraded to MAC OS Sierra</li>\n<li>Downloaded the Eclipse installer but was prompted that I needed to instal a legacy Java.</li>\n<li>Installed Java 1.6</li>\n<li>Was unable to install Eclipse and was prompted that I needed Java 1.7 or greater.  Downloaded and installed Java 1.8</li>\n<li>Ran the terminal code 'java -version' // this will check your jre version. This showed returned Java 1.6 despite the fact that I had upgraded to 1.8.  The Java version listed in the Java control panel said 1.8</li>\n<li>Tried multiple downloads of eclipse and Java and multiple restarts always with the same result.</li>\n<li>Visited the Oracle web page noted above:\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a>  I could not find the above reference to 8u73 and 8u74 but I did find and option to download 1.8.0_12.  I did this. It installed without difficulty, and then I was able to install Eclipse without difficulty.</li>\n</ol>\n\n<p>This took hours of my time.  I hope this proves useful.</p>\n"},{"tags":[],"owner":{"account_id":4868845,"reputation":31,"user_id":3926080,"display_name":"todclifton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491961443,"creation_date":1491961443,"answer_id":43358851,"question_id":35246910,"body_markdown":"Echoing the answer, above, a full install of the JDK (8u121 at this writing) from here - http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html - did the trick.  Updating via the Mac OS Control Panel did not update the profile variable.  Installing via the full installer, did.  Then Eclipse was happy.","title":"Eclipse not recognizing JVM 1.8","body":"<p>Echoing the answer, above, a full install of the JDK (8u121 at this writing) from here - <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a> - did the trick.  Updating via the Mac OS Control Panel did not update the profile variable.  Installing via the full installer, did.  Then Eclipse was happy.</p>\n"},{"comments":[{"owner":{"account_id":1388128,"reputation":425,"user_id":1319642,"accept_rate":78,"display_name":"Roydon D&#39; Souza"},"score":1,"creation_date":1495174947,"post_id":43958568,"comment_id":75150096,"body_markdown":"That helped. Thanks @Aidin","body":"That helped. Thanks @Aidin"}],"tags":[],"owner":{"account_id":2687501,"reputation":26359,"user_id":2321594,"display_name":"Aidin"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1494714609,"creation_date":1494714609,"answer_id":43958568,"question_id":35246910,"body_markdown":"JRE is a Run-Time Environment for running Java stuffs on your machine.  What Eclipse needs is JDK as a Development Kit.\r\n\r\nInstall the latest JDK (and not JRE) from http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html and you should be good on Mac!","title":"Eclipse not recognizing JVM 1.8","body":"<p>JRE is a Run-Time Environment for running Java stuffs on your machine.  What Eclipse needs is JDK as a Development Kit.</p>\n\n<p>Install the latest JDK (and not JRE) from <a href=\"http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html</a> and you should be good on Mac!</p>\n"},{"tags":[],"owner":{"account_id":11798529,"reputation":111,"user_id":8632767,"display_name":"suyog shinde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505818679,"creation_date":1505816179,"answer_id":46297853,"question_id":35246910,"body_markdown":"Here are steps:\r\n\r\n - download 1.8 JDK from [this site][1]\r\n - install it\r\n - copy the jre folder &amp; paste it in &quot;C:\\Program Files (x86)\\EclipseNeon\\&quot;\r\n - rename the folder to &quot;jre&quot;\r\n - start the eclipse again\r\n\r\nIt should work.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html","title":"Eclipse not recognizing JVM 1.8","body":"<p>Here are steps:</p>\n\n<ul>\n<li>download 1.8 JDK from <a href=\"http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">this site</a></li>\n<li>install it</li>\n<li>copy the jre folder &amp; paste it in \"C:\\Program Files (x86)\\EclipseNeon\\\"</li>\n<li>rename the folder to \"jre\"</li>\n<li>start the eclipse again</li>\n</ul>\n\n<p>It should work.</p>\n"},{"tags":[],"owner":{"account_id":4793209,"reputation":6681,"user_id":3871797,"accept_rate":67,"display_name":"Natasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515708271,"creation_date":1515708271,"answer_id":48216551,"question_id":35246910,"body_markdown":"For some weird reason &quot;Java SE Development Kit 8u151&quot; gives this trouble. Just install, &quot;Java SE Development Kit 8u152&quot; from the following link-\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html \r\n\r\nIt should work then.\r\n\r\n","title":"Eclipse not recognizing JVM 1.8","body":"<p>For some weird reason \"Java SE Development Kit 8u151\" gives this trouble. Just install, \"Java SE Development Kit 8u152\" from the following link-</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a> </p>\n\n<p>It should work then.</p>\n"}],"owner":{"account_id":2037340,"reputation":857,"user_id":1819380,"accept_rate":77,"display_name":"joseph_pindi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149402,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":35249174,"answer_count":7,"score":23,"last_activity_date":1671671113,"creation_date":1454795549,"question_id":35246910,"body_markdown":"Still trying to get Eclipse IDE to work and running into Incompatible JVM error. I followed the steps here: https://stackoverflow.com/questions/25102627/i-installed-java-7-but-eclipse-keep-saying-that-1-6-is-not-suitable-for-this-pro\r\n\r\nBut unfortunately to no effect. Running OSX 10.9.5 and uninstalled the out-of-the-box version of Mac. The new version of Java seems to show up in the System Preferences. Please see attached screen capture. I&#39;ve even done some of the basics like restart my computer, etc. Maybe there are other modifications I need to make to other files. I&#39;m comfortable with Terminal but new to Eclipse and Java. [![Screen shot of Terminal, System Preferences and Eclipse error message][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cgkxJ.png","title":"Eclipse not recognizing JVM 1.8","body":"<p>Still trying to get Eclipse IDE to work and running into Incompatible JVM error. I followed the steps here: <a href=\"https://stackoverflow.com/questions/25102627/i-installed-java-7-but-eclipse-keep-saying-that-1-6-is-not-suitable-for-this-pro\">I installed Java 7 but Eclipse keep saying that 1.6 is not suitable for this product</a></p>\n<p>But unfortunately to no effect. Running OSX 10.9.5 and uninstalled the out-of-the-box version of Mac. The new version of Java seems to show up in the System Preferences. Please see attached screen capture. I've even done some of the basics like restart my computer, etc. Maybe there are other modifications I need to make to other files. I'm comfortable with Terminal but new to Eclipse and Java. <a href=\"https://i.stack.imgur.com/cgkxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cgkxJ.png\" alt=\"Screen shot of Terminal, System Preferences and Eclipse error message\" /></a></p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1671669131,"post_id":74883002,"comment_id":132150860,"body_markdown":"Write separate methods.  One method to read your name file into a String array.  One method to write the contents of the String array, asking for user input after each line.","body":"Write separate methods.  One method to read your name file into a String array.  One method to write the contents of the String array, asking for user input after each line."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671670418,"creation_date":1671670418,"answer_id":74883206,"question_id":74883002,"body_markdown":"You need two Scanners:\r\n\r\n    Scanner keybd = new Scanner(System.in);\r\n    Scanner scanner = new Scanner(new File(&quot;name.txt&quot;));\r\n\r\n    while (scanner.hasNextLine()) {\r\n        System.out.print(scanner.nextLine());\r\n        keybd.nextLine(); // wait for enter to be pressed\r\n    }\r\n\r\n    keybd.close();\r\n    scanner.close();\r\n\r\n\r\n","title":"Displaying another line after pressing &lt;ENTER&gt;?","body":"<p>You need two Scanners:</p>\n<pre><code>Scanner keybd = new Scanner(System.in);\nScanner scanner = new Scanner(new File(&quot;name.txt&quot;));\n\nwhile (scanner.hasNextLine()) {\n    System.out.print(scanner.nextLine());\n    keybd.nextLine(); // wait for enter to be pressed\n}\n\nkeybd.close();\nscanner.close();\n</code></pre>\n"}],"owner":{"account_id":26102712,"reputation":11,"user_id":19797886,"display_name":"Hunter Treleaven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671670797,"creation_date":1671667885,"question_id":74883002,"body_markdown":"I&#39;m working on a project and have to use the scanner for user input.\r\n\r\nIf given the text file &quot;names.txt&quot; and each file was like such\r\n\r\n```none\r\nMike John\r\nJohnny Apple\r\nIsaac Nad\r\nZoe Za\r\n```\r\n\r\nI want it to display the first line which is `Mike John` in the terminal, then once I hit the ENTER key it prints `Johnny Apple`.\r\n\r\nDoes anyone know how to do this? I&#39;ve been struggling.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.io.FileNotFoundException;\r\n\r\npublic class enter {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                Scanner scanner = new Scanner(new File(&quot;name.txt&quot;));\r\n    \r\n                while (scanner.hasNextLine()) {\r\n                    System.out.println(scanner.nextLine());\r\n                }\r\n    \r\n                scanner.close();\r\n            } catch (FileNotFoundException e) {\r\n\r\n            }\r\n        }\r\n    \r\n    }\r\n```\r\n\r\nSee the above, it just displays all of them at the same time. This is also not a JAVAFX program, its solely terminal based","title":"Displaying another line after pressing &lt;ENTER&gt;?","body":"<p>I'm working on a project and have to use the scanner for user input.</p>\n<p>If given the text file &quot;names.txt&quot; and each file was like such</p>\n<pre class=\"lang-none prettyprint-override\"><code>Mike John\nJohnny Apple\nIsaac Nad\nZoe Za\n</code></pre>\n<p>I want it to display the first line which is <code>Mike John</code> in the terminal, then once I hit the ENTER key it prints <code>Johnny Apple</code>.</p>\n<p>Does anyone know how to do this? I've been struggling.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.io.FileNotFoundException;\n\npublic class enter {\n    \n        public static void main(String[] args) {\n            try {\n                Scanner scanner = new Scanner(new File(&quot;name.txt&quot;));\n    \n                while (scanner.hasNextLine()) {\n                    System.out.println(scanner.nextLine());\n                }\n    \n                scanner.close();\n            } catch (FileNotFoundException e) {\n\n            }\n        }\n    \n    }\n</code></pre>\n<p>See the above, it just displays all of them at the same time. This is also not a JAVAFX program, its solely terminal based</p>\n"},{"tags":["java","while-loop","java.util.scanner","user-input"],"answers":[{"tags":[],"owner":{"account_id":6381882,"reputation":11,"user_id":4951023,"display_name":"Aashish Dalmia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671669927,"creation_date":1671669927,"answer_id":74883163,"question_id":74882908,"body_markdown":"    import java.util.Scanner;  // Import the Scanner class\r\n    class Main {\r\n    public static void main(String[] args) {\r\n    Scanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n    System.out.println(&quot;What is your guess? &quot;); //\r\n    String userName = myObj.nextLine();  // Read user input\r\n    System.out.println(&quot;Username is: &quot; + userName);  // Output user input\r\n    }\r\n    }","title":"How to check if value is entered, and if nothing is entered reprompt them","body":"<pre><code>import java.util.Scanner;  // Import the Scanner class\nclass Main {\npublic static void main(String[] args) {\nScanner myObj = new Scanner(System.in);  // Create a Scanner object\nSystem.out.println(&quot;What is your guess? &quot;); //\nString userName = myObj.nextLine();  // Read user input\nSystem.out.println(&quot;Username is: &quot; + userName);  // Output user input\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671670143,"creation_date":1671670143,"answer_id":74883182,"question_id":74882908,"body_markdown":"Use a `do...while` loop:\r\n\r\n    guess = &quot;&quot;;\r\n    do {\r\n        System.out.print(&quot;What is your guess? &quot;);\r\n        guess = input.next();\r\n    } while (guess.trim().length() == 0);","title":"How to check if value is entered, and if nothing is entered reprompt them","body":"<p>Use a <code>do...while</code> loop:</p>\n<pre><code>guess = &quot;&quot;;\ndo {\n    System.out.print(&quot;What is your guess? &quot;);\n    guess = input.next();\n} while (guess.trim().length() == 0);\n</code></pre>\n"}],"owner":{"account_id":24712450,"reputation":1,"user_id":18602506,"display_name":"Neon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1671670143,"creation_date":1671666902,"question_id":74882908,"body_markdown":"I want to use a while loop to check if the user entered their guess and if nothing was entered reprompt them to enter it. I am new to Java sorry if this is really obvious.\r\n\r\n\r\n\r\n```\r\n\r\n\t\t\tSystem.out.println(&quot;What is your guess? &quot;);\r\n\t\t\tguess = input.next();\r\n```\r\n\r\n\r\nI tried to use while(guess != null), but it didn&#39;t work.","title":"How to check if value is entered, and if nothing is entered reprompt them","body":"<p>I want to use a while loop to check if the user entered their guess and if nothing was entered reprompt them to enter it. I am new to Java sorry if this is really obvious.</p>\n<pre><code>\n            System.out.println(&quot;What is your guess? &quot;);\n            guess = input.next();\n</code></pre>\n<p>I tried to use while(guess != null), but it didn't work.</p>\n"},{"tags":["java","android","background"],"answers":[{"tags":[],"owner":{"account_id":18977650,"reputation":167,"user_id":13849761,"display_name":"TheShoqanebi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671574287,"creation_date":1671371749,"answer_id":74841922,"question_id":74825311,"body_markdown":"use this library from google, click [Here](https://developer.android.com/reference/androidx/palette/graphics/Palette) to read more about it\r\n```\r\nimplementation &#39;androidx.palette:palette:1.0.0&#39;\r\n```\r\nExample of usage\r\n```\r\nPalette.from(bitmap).generate(palette -&gt; {\r\n    //There is alot of methods you can use whatever wherever you want\r\n    int rgb = palette.getMutedSwatch().getRgb();\r\n    int vibrant = palette.getVibrantSwatch().getRgb();\r\n    int vibrantDark = palette.getDarkVibrantSwatch().getRgb();\r\n    int vibrantLight = palette.getLightVibrantSwatch().getRgb();\r\n    int muted = palette.getMutedSwatch().getRgb();\r\n    int mutedDark = palette.getDarkMutedSwatch().getRgb();\r\n    int mutedLight = palette.getLightMutedSwatch().getRgb()\r\n});\r\n```\r\nand this method is useful if you want hex color\r\n```\r\nprivate String rgbToHex(int rgb) {\r\n    return String.format(&quot;%06x&quot;, 0xFFFFFF &amp; rgb);\r\n}\r\n```","title":"Dynamically background colour change in Android studio","body":"<p>use this library from google, click <a href=\"https://developer.android.com/reference/androidx/palette/graphics/Palette\" rel=\"nofollow noreferrer\">Here</a> to read more about it</p>\n<pre><code>implementation 'androidx.palette:palette:1.0.0'\n</code></pre>\n<p>Example of usage</p>\n<pre><code>Palette.from(bitmap).generate(palette -&gt; {\n    //There is alot of methods you can use whatever wherever you want\n    int rgb = palette.getMutedSwatch().getRgb();\n    int vibrant = palette.getVibrantSwatch().getRgb();\n    int vibrantDark = palette.getDarkVibrantSwatch().getRgb();\n    int vibrantLight = palette.getLightVibrantSwatch().getRgb();\n    int muted = palette.getMutedSwatch().getRgb();\n    int mutedDark = palette.getDarkMutedSwatch().getRgb();\n    int mutedLight = palette.getLightMutedSwatch().getRgb()\n});\n</code></pre>\n<p>and this method is useful if you want hex color</p>\n<pre><code>private String rgbToHex(int rgb) {\n    return String.format(&quot;%06x&quot;, 0xFFFFFF &amp; rgb);\n}\n</code></pre>\n"}],"owner":{"account_id":27272931,"reputation":11,"user_id":20793978,"display_name":"Abhinav Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671669441,"creation_date":1671198380,"question_id":74825311,"body_markdown":"My question is how an application like YouTube music and Spotify change the colour of the background with respect to the poster of any song.\r\n\r\nI am giving an example how what it looks like and if anyone can help me to achieve this then please help me.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/BPPCz.jpg&quot; width=&quot;200&quot; height=&quot;400&quot;&gt;\r\n\r\nIf anyone can give me a java code example for this then it will help me a lot. Thank you.","title":"Dynamically background colour change in Android studio","body":"<p>My question is how an application like YouTube music and Spotify change the colour of the background with respect to the poster of any song.</p>\n<p>I am giving an example how what it looks like and if anyone can help me to achieve this then please help me.</p>\n<img src=\"https://i.stack.imgur.com/BPPCz.jpg\" width=\"200\" height=\"400\">\n<p>If anyone can give me a java code example for this then it will help me a lot. Thank you.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":0,"creation_date":1442362231,"post_id":32597634,"comment_id":53048355,"body_markdown":"Everywhere you have `equal = 0` should be `return 0` I suspect.","body":"Everywhere you have <code>equal = 0</code> should be <code>return 0</code> I suspect."},{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1442362316,"post_id":32597634,"comment_id":53048377,"body_markdown":"If your first list has only 1 element, you are never comparing that element with the first element of the second list.","body":"If your first list has only 1 element, you are never comparing that element with the first element of the second list."},{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1442362368,"post_id":32597634,"comment_id":53048398,"body_markdown":"Also, it&#39;s better to use `!temp.data.equals(temp2.data)` instead of `temp.data != temp2.data`","body":"Also, it&#39;s better to use <code>!temp.data.equals(temp2.data)</code> instead of <code>temp.data != temp2.data</code>"},{"owner":{"account_id":3240202,"reputation":2084,"user_id":2733436,"accept_rate":93,"display_name":"user1010101"},"score":0,"creation_date":1442362664,"post_id":32597634,"comment_id":53048472,"body_markdown":"@mastov I do because I do temp.data != temp2.data","body":"@mastov I do because I do temp.data != temp2.data"},{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1442362800,"post_id":32597634,"comment_id":53048513,"body_markdown":"No, that check will never be executed, if you have only 1 element. Then your loop `while(temp.next != null)` won&#39;t execute a single time.","body":"No, that check will never be executed, if you have only 1 element. Then your loop <code>while(temp.next != null)</code> won&#39;t execute a single time."},{"owner":{"account_id":3240202,"reputation":2084,"user_id":2733436,"accept_rate":93,"display_name":"user1010101"},"score":0,"creation_date":1442362907,"post_id":32597634,"comment_id":53048546,"body_markdown":"oh @mastov i see what you mean so i should do a manual check of that first? Let me try that. I suggest you post as an answer so i can upvote and accept your answer.","body":"oh @mastov i see what you mean so i should do a manual check of that first? Let me try that. I suggest you post as an answer so i can upvote and accept your answer."},{"owner":{"account_id":3240202,"reputation":2084,"user_id":2733436,"accept_rate":93,"display_name":"user1010101"},"score":0,"creation_date":1442363056,"post_id":32597634,"comment_id":53048604,"body_markdown":"I tried \n\nelse if(temp.data != temp2.data){\n        equal = 0;\n    }\n\nBut that did not help my case. hmm","body":"I tried   else if(temp.data != temp2.data){         equal = 0;     }  But that did not help my case. hmm"},{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1442363063,"post_id":32597634,"comment_id":53048607,"body_markdown":"You could do that, but then you&#39;d have the same problem in other cases. That was just an example. Your loop condition is out of syncs with the checks.","body":"You could do that, but then you&#39;d have the same problem in other cases. That was just an example. Your loop condition is out of syncs with the checks."}],"answers":[{"tags":[],"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442363721,"creation_date":1442363239,"answer_id":32597801,"question_id":32597634,"body_markdown":"The code\r\n\r\n    while(temp.next != null){\r\n        if(temp.data != temp2.data || temp2.next == null){\r\n            equal = 0;\r\n            break;\r\n        }\r\n        temp = temp.next;\r\n        temp2 = temp2.next;\r\n    }\r\n    if(temp2.next != null){\r\n        equal = 0;\r\n    }\r\n\r\nwill never compare the last element of the first list with the corresponding element of the second list because your loop stops early. Try this instead:\r\n\r\n    while(temp != null){\r\n        if(temp2 == null || temp.data != temp2.data){\r\n            equal = 0;\r\n            break;\r\n        }\r\n        temp = temp.next;\r\n        temp2 = temp2.next;\r\n    }\r\n    if(temp2 != null){\r\n        equal = 0;\r\n    }\r\n\r\nUsing `temp != null` as loop condition makes sure, we also check the last element. The same adaption has been done for the check `temp2.next == null`, which is now `temp2 == null`. And this check has to be done *before* the comparison of `data`, in order to avoid a `NullPointerException` during the `data` comparison.\r\n\r\nI personally would write that part more like this:\r\n\r\n    while(temp != null &amp;&amp; temp2 != null){\r\n        if(temp.data.equals(temp2.data)){\r\n            return false;\r\n        }\r\n        temp = temp.next;\r\n        temp2 = temp2.next;\r\n    }\r\n    return temp == temp2;\r\n\r\nI consider it easier to understand because it is symmetric. Usage of `equals` makes sure, we compare the actual *content* of the payload, not just references. I&#39;d also use `boolean` as return type.","title":"Check if two linked list are equal in java","body":"<p>The code</p>\n\n<pre><code>while(temp.next != null){\n    if(temp.data != temp2.data || temp2.next == null){\n        equal = 0;\n        break;\n    }\n    temp = temp.next;\n    temp2 = temp2.next;\n}\nif(temp2.next != null){\n    equal = 0;\n}\n</code></pre>\n\n<p>will never compare the last element of the first list with the corresponding element of the second list because your loop stops early. Try this instead:</p>\n\n<pre><code>while(temp != null){\n    if(temp2 == null || temp.data != temp2.data){\n        equal = 0;\n        break;\n    }\n    temp = temp.next;\n    temp2 = temp2.next;\n}\nif(temp2 != null){\n    equal = 0;\n}\n</code></pre>\n\n<p>Using <code>temp != null</code> as loop condition makes sure, we also check the last element. The same adaption has been done for the check <code>temp2.next == null</code>, which is now <code>temp2 == null</code>. And this check has to be done <em>before</em> the comparison of <code>data</code>, in order to avoid a <code>NullPointerException</code> during the <code>data</code> comparison.</p>\n\n<p>I personally would write that part more like this:</p>\n\n<pre><code>while(temp != null &amp;&amp; temp2 != null){\n    if(temp.data.equals(temp2.data)){\n        return false;\n    }\n    temp = temp.next;\n    temp2 = temp2.next;\n}\nreturn temp == temp2;\n</code></pre>\n\n<p>I consider it easier to understand because it is symmetric. Usage of <code>equals</code> makes sure, we compare the actual <em>content</em> of the payload, not just references. I'd also use <code>boolean</code> as return type.</p>\n"},{"tags":[],"owner":{"account_id":2239729,"reputation":377,"user_id":1975070,"accept_rate":0,"display_name":"Abhiroop Nandi Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487228054,"creation_date":1487228054,"answer_id":42266916,"question_id":32597634,"body_markdown":"You can use recursive function.\r\n   \r\n\r\n    public boolean isIdenticalRecursive(Node a, Node b) {\r\n            if (a == null &amp;&amp; b == null) {\r\n                return true;\r\n            }\r\n    \r\n            if (a.data != b.data)\r\n                return false;\r\n            return isIdenticalRecursive(a.next, b.next);\r\n        }\r\n\r\nHope this will help !!  :)","title":"Check if two linked list are equal in java","body":"<p>You can use recursive function.</p>\n\n<pre><code>public boolean isIdenticalRecursive(Node a, Node b) {\n        if (a == null &amp;&amp; b == null) {\n            return true;\n        }\n\n        if (a.data != b.data)\n            return false;\n        return isIdenticalRecursive(a.next, b.next);\n    }\n</code></pre>\n\n<p>Hope this will help !!  :)</p>\n"},{"comments":[{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1503185468,"post_id":45776800,"comment_id":78511962,"body_markdown":"Congratulations on your first answer. The quality would be much better if you explained what you are doing instead of just providing a code dump.","body":"Congratulations on your first answer. The quality would be much better if you explained what you are doing instead of just providing a code dump."},{"owner":{"account_id":11587651,"reputation":11,"user_id":8489190,"display_name":"Khanh"},"score":0,"creation_date":1503220774,"post_id":45776800,"comment_id":78518241,"body_markdown":"This reedit from &quot; recursive function&quot; above. This check either headA or headB has null first. Fixed this case.","body":"This reedit from &quot; recursive function&quot; above. This check either headA or headB has null first. Fixed this case."}],"tags":[],"owner":{"account_id":11587651,"reputation":11,"user_id":8489190,"display_name":"Khanh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503183783,"creation_date":1503181416,"answer_id":45776800,"question_id":32597634,"body_markdown":"This works:\r\n\r\n    int CompareLists(Node headA, Node headB) {\r\n    \r\n        if ((headA == null)^(headB == null))\r\n            return false;\r\n        \r\n        if ((headA == null) &amp;&amp; (headB == null))\r\n            return true;\r\n        \r\n        if (headA.data != headB.data) \r\n            return false;\r\n        return CompareLists(headA.next, headB.next);\r\n    }","title":"Check if two linked list are equal in java","body":"<p>This works:</p>\n\n<pre><code>int CompareLists(Node headA, Node headB) {\n\n    if ((headA == null)^(headB == null))\n        return false;\n\n    if ((headA == null) &amp;&amp; (headB == null))\n        return true;\n\n    if (headA.data != headB.data) \n        return false;\n    return CompareLists(headA.next, headB.next);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1191136,"reputation":386,"user_id":1163897,"accept_rate":44,"display_name":"Krizs&#225;n Balazs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610214628,"creation_date":1610214628,"answer_id":65645786,"question_id":32597634,"body_markdown":"And the cleanest way ever:\r\n\r\n    static boolean compareLists(SinglyLinkedListNode head1, SinglyLinkedListNode head2) {\r\n        while(head1 != null &amp;&amp; head2 != null &amp;&amp; head1.data == head2.data) {\r\n            head1 = head1.next;\r\n            head2 = head2.next;\r\n        }\r\n\r\n        return head1 == head2;\r\n    }","title":"Check if two linked list are equal in java","body":"<p>And the cleanest way ever:</p>\n<pre><code>static boolean compareLists(SinglyLinkedListNode head1, SinglyLinkedListNode head2) {\n    while(head1 != null &amp;&amp; head2 != null &amp;&amp; head1.data == head2.data) {\n        head1 = head1.next;\n        head2 = head2.next;\n    }\n\n    return head1 == head2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12659318,"reputation":1,"user_id":11329367,"display_name":"Vikas Goel"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671667893,"creation_date":1671667893,"answer_id":74883003,"question_id":32597634,"body_markdown":"    public int compare_list(Node A, Node B) {\r\n        Node tail_A = A;\r\n        Node tail_B = B;\r\n        while(tail_A != null &amp;&amp; tail_B != null){\r\n             if(tail_A.val != tail_B.val){\r\n                    return 0;\r\n             }\r\n         tail_A = tail_A.next;\r\n         tail_B = tail_B.next;\r\n       }\r\n       if(tail_A == tail_B){\r\n           return 1; // if Equal lengths and same values \r\n       }\r\n       else{\r\n          return 0; // Only length are not equal\r\n       }        \r\n    } ","title":"Check if two linked list are equal in java","body":"<pre><code>public int compare_list(Node A, Node B) {\n    Node tail_A = A;\n    Node tail_B = B;\n    while(tail_A != null &amp;&amp; tail_B != null){\n         if(tail_A.val != tail_B.val){\n                return 0;\n         }\n     tail_A = tail_A.next;\n     tail_B = tail_B.next;\n   }\n   if(tail_A == tail_B){\n       return 1; // if Equal lengths and same values \n   }\n   else{\n      return 0; // Only length are not equal\n   }        \n} \n</code></pre>\n"}],"owner":{"account_id":3240202,"reputation":2084,"user_id":2733436,"accept_rate":93,"display_name":"user1010101"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32597801,"answer_count":5,"score":1,"last_activity_date":1671667893,"creation_date":1442362067,"question_id":32597634,"body_markdown":"I am basically completing a hacker rank excercise where you return 1 if the list is completely equal meaning there are same number of nodes in two lists and all the values in nodes also equal. Otherwise you return 0.\r\n\r\nThis is the method I wrote and for some reason I keep failing the test case i am not sure why. I wrote down some test cases in my book and did hand tracing and still can&#39;t seem to figure it out why.\r\n\r\n    int CompareLists(Node headA, Node headB) {\r\n        // This is a &quot;method-only&quot; submission. \r\n        // You only need to complete this method \r\n        Node temp = headA;\r\n        Node temp2 = headB;\r\n        int equal = 1;\r\n        \r\n        if(temp == null &amp;&amp; temp2 == null){\r\n            equal = 1;\r\n        }\r\n        else if((temp == null &amp;&amp; temp2 != null) || (temp!=null &amp;&amp; temp2 == null)){\r\n            equal = 0;\r\n        }\r\n        else{\r\n        while(temp.next != null){\r\n            if(temp.data != temp2.data || temp2.next == null){\r\n                equal = 0;\r\n                break;\r\n            }\r\n            temp = temp.next;\r\n            temp2 = temp2.next;\r\n        }\r\n        if(temp2.next != null){\r\n            equal = 0;\r\n        }\r\n        }\r\n     \r\n      return equal;\r\n    }\r\n\r\nYes i found many solutions online but I am more curious as to why my solution is not working.","title":"Check if two linked list are equal in java","body":"<p>I am basically completing a hacker rank excercise where you return 1 if the list is completely equal meaning there are same number of nodes in two lists and all the values in nodes also equal. Otherwise you return 0.</p>\n\n<p>This is the method I wrote and for some reason I keep failing the test case i am not sure why. I wrote down some test cases in my book and did hand tracing and still can't seem to figure it out why.</p>\n\n<pre><code>int CompareLists(Node headA, Node headB) {\n    // This is a \"method-only\" submission. \n    // You only need to complete this method \n    Node temp = headA;\n    Node temp2 = headB;\n    int equal = 1;\n\n    if(temp == null &amp;&amp; temp2 == null){\n        equal = 1;\n    }\n    else if((temp == null &amp;&amp; temp2 != null) || (temp!=null &amp;&amp; temp2 == null)){\n        equal = 0;\n    }\n    else{\n    while(temp.next != null){\n        if(temp.data != temp2.data || temp2.next == null){\n            equal = 0;\n            break;\n        }\n        temp = temp.next;\n        temp2 = temp2.next;\n    }\n    if(temp2.next != null){\n        equal = 0;\n    }\n    }\n\n  return equal;\n}\n</code></pre>\n\n<p>Yes i found many solutions online but I am more curious as to why my solution is not working.</p>\n"},{"tags":["java","sftp","jsch"],"answers":[{"comments":[{"owner":{"account_id":5030671,"reputation":75,"user_id":4040942,"display_name":"Iv&#225;n Travecedo"},"score":0,"creation_date":1445455499,"post_id":33244114,"comment_id":54336297,"body_markdown":"The folder `user_files` was not on the remote side. It was trying to access to a non existent folder. Thanks!","body":"The folder <code>user_files</code> was not on the remote side. It was trying to access to a non existent folder. Thanks!"},{"owner":{"account_id":16736825,"reputation":1346,"user_id":12097673,"display_name":"Memphis Meng"},"score":0,"creation_date":1673885812,"post_id":33244114,"comment_id":132591821,"body_markdown":"What if I try `/user_files` instead of `./user_files`?","body":"What if I try <code>&#47;user_files</code> instead of <code>.&#47;user_files</code>?"}],"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1445365617,"creation_date":1445365617,"answer_id":33244114,"question_id":33243278,"body_markdown":"Probably `/user_files` is an absolute path. \r\n\r\nTry `./user_files` for a relative path to the user&#39;s home directory.\r\n\r\nIn Filezilla, it is `C:\\user_files`  on the remote side ?","title":"Permission denied using JSch","body":"<p>Probably <code>/user_files</code> is an absolute path. </p>\n\n<p>Try <code>./user_files</code> for a relative path to the user's home directory.</p>\n\n<p>In Filezilla, it is <code>C:\\user_files</code>  on the remote side ?</p>\n"},{"tags":[],"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499869612,"creation_date":1499869612,"answer_id":45060479,"question_id":33243278,"body_markdown":"The same issue was encountered by me and verifying the followings fixed my issue:\r\n\r\n1. Path of the file we are trying to retrieve doesn&#39;t exist. So, please make sure that file actually exists under the directory that your application is accessing to retrieve the file.\r\n2. Make sure SFTP user that you are using in the application to make the connection is configured and active in SFTP.\r\n3. If above both points are valid in your scenario then try after rebooting the SFTP service.","title":"Permission denied using JSch","body":"<p>The same issue was encountered by me and verifying the followings fixed my issue:</p>\n\n<ol>\n<li>Path of the file we are trying to retrieve doesn't exist. So, please make sure that file actually exists under the directory that your application is accessing to retrieve the file.</li>\n<li>Make sure SFTP user that you are using in the application to make the connection is configured and active in SFTP.</li>\n<li>If above both points are valid in your scenario then try after rebooting the SFTP service.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16434492,"reputation":11,"user_id":11872415,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564723904,"creation_date":1564723904,"answer_id":57320441,"question_id":33243278,"body_markdown":"I have also meet the problem when using jsch in docker container, and fix the issue after chowning with the folder and starting sftp with root :\r\n\r\n1. Start up the application with root not the other user, because it will work with the dir &quot;/var/run&quot; owned by root;\r\n2. Because of (1), you should have a path owned by root to be the data path, you&#39;d better give full privileges to the path:chmod 777 /yourpath;\r\n3. Mention: you should mkdir when logining the sftp server with &quot;sftp -P 22 admin@127.0.0.1&quot;, not to do it in data path, because the path will owned by root or other system user, but not the user in your sftp system, so that you can not upload files(because permission denied);\r\n4. After changing all of above, I can finally upload and download files on the server.","title":"Permission denied using JSch","body":"<p>I have also meet the problem when using jsch in docker container, and fix the issue after chowning with the folder and starting sftp with root :</p>\n\n<ol>\n<li>Start up the application with root not the other user, because it will work with the dir \"/var/run\" owned by root;</li>\n<li>Because of (1), you should have a path owned by root to be the data path, you'd better give full privileges to the path:chmod 777 /yourpath;</li>\n<li>Mention: you should mkdir when logining the sftp server with \"sftp -P 22 admin@127.0.0.1\", not to do it in data path, because the path will owned by root or other system user, but not the user in your sftp system, so that you can not upload files(because permission denied);</li>\n<li>After changing all of above, I can finally upload and download files on the server.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643725637,"creation_date":1643725637,"answer_id":70942217,"question_id":33243278,"body_markdown":"The same happened to me. And it was solved by adding only the route on the server. example \r\n\r\nExample\r\n\r\n    ChannelSftp channel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n    channel.connect();\r\n    channel.cd(&quot;/path_directory&quot;);","title":"Permission denied using JSch","body":"<p>The same happened to me. And it was solved by adding only the route on the server. example</p>\n<p>Example</p>\n<pre><code>ChannelSftp channel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\nchannel.connect();\nchannel.cd(&quot;/path_directory&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3268920,"reputation":1,"user_id":2752736,"display_name":"user2752736"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671667208,"creation_date":1671667208,"answer_id":74882938,"question_id":33243278,"body_markdown":"Let&#39;s say your connecting to C:/user_files/ \r\nTrying to read/copy all the files \r\n\r\nEnsure there is no sub folder exists on the C:/user_files/\r\nif folder exists a different approach needs to be followed using folder reading.\r\nHope this helps...","title":"Permission denied using JSch","body":"<p>Let's say your connecting to C:/user_files/\nTrying to read/copy all the files</p>\n<p>Ensure there is no sub folder exists on the C:/user_files/\nif folder exists a different approach needs to be followed using folder reading.\nHope this helps...</p>\n"}],"owner":{"account_id":5030671,"reputation":75,"user_id":4040942,"display_name":"Iv&#225;n Travecedo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24142,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33244114,"answer_count":5,"score":4,"last_activity_date":1671667208,"creation_date":1445362821,"question_id":33243278,"body_markdown":"I&#39;m trying to retrieve some files from sftp server using JSch but I&#39;m getting the following error.\r\n\r\n    3: Permission denied\r\n\tat com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2846)\r\n\tat com.jcraft.jsch.ChannelSftp._realpath(ChannelSftp.java:2340)\r\n\tat com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:342)\r\n    at com.company.common.sftp.impl.managedFile.moveFiles(managedFile.java:712)\r\n\r\nHere is the code:\r\n\r\n    private List&lt;String&gt; moveFiles(String prefixFileName, String path) {\r\n    \tSession session = getSession();\r\n    \tChannel channel = connect(session);\r\n    \tChannelSftp channelSftp = null;\r\n    \ttry {\r\n    \t\tchannelSftp = (ChannelSftp)channel;\r\n    \t\tchannelSftp.cd(_workingDir);\r\n        ...\r\n        }\r\n        ...\r\n\t\tfinally {\r\n\t        channel.disconnect();\r\n\t        session.disconnect();\r\n\t\t}\r\n    }\r\n\r\n    public Session getSession() {              \r\n        Session session = null;\r\n        JSch jsch = new JSch();\r\n        session = jsch.getSession(_user,_server,_port);\r\n        session.setPassword(_password);\r\n        java.util.Properties config = new java.util.Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, _strictHostKeyChecking);\r\n        session.setConfig(config);\r\n        session.connect();\r\n        return session;\r\n     }\r\n\r\n\tpublic static Channel connect(Session session) {\r\n\t  Channel channel = null;\r\n\t  channel = session.openChannel(&quot;sftp&quot;);\r\n\t  channel.connect();\r\n\t  return channel;\r\n\t}\r\n\r\n`_workingDir` is a property with the following value: `/user_files`.\r\nBoth folders (source and destination) are on a Windows server and all the privileges was granted to any user. But for some reason it doesn&#39;t let me change the current directory in the source (remote) server.\r\n\r\n\r\nAny idea?\r\n\r\n**UPDATE:** The Sftp server is freeFTPd and using a sftp client (like Filezilla) I can move files without problems","title":"Permission denied using JSch","body":"<p>I'm trying to retrieve some files from sftp server using JSch but I'm getting the following error.</p>\n\n<pre><code>3: Permission denied\nat com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2846)\nat com.jcraft.jsch.ChannelSftp._realpath(ChannelSftp.java:2340)\nat com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:342)\nat com.company.common.sftp.impl.managedFile.moveFiles(managedFile.java:712)\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>private List&lt;String&gt; moveFiles(String prefixFileName, String path) {\n    Session session = getSession();\n    Channel channel = connect(session);\n    ChannelSftp channelSftp = null;\n    try {\n        channelSftp = (ChannelSftp)channel;\n        channelSftp.cd(_workingDir);\n    ...\n    }\n    ...\n    finally {\n        channel.disconnect();\n        session.disconnect();\n    }\n}\n\npublic Session getSession() {              \n    Session session = null;\n    JSch jsch = new JSch();\n    session = jsch.getSession(_user,_server,_port);\n    session.setPassword(_password);\n    java.util.Properties config = new java.util.Properties();\n    config.put(\"StrictHostKeyChecking\", _strictHostKeyChecking);\n    session.setConfig(config);\n    session.connect();\n    return session;\n }\n\npublic static Channel connect(Session session) {\n  Channel channel = null;\n  channel = session.openChannel(\"sftp\");\n  channel.connect();\n  return channel;\n}\n</code></pre>\n\n<p><code>_workingDir</code> is a property with the following value: <code>/user_files</code>.\nBoth folders (source and destination) are on a Windows server and all the privileges was granted to any user. But for some reason it doesn't let me change the current directory in the source (remote) server.</p>\n\n<p>Any idea?</p>\n\n<p><strong>UPDATE:</strong> The Sftp server is freeFTPd and using a sftp client (like Filezilla) I can move files without problems</p>\n"},{"tags":["java","casting","jackson","linkedhashmap"],"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1648070146,"post_id":15430715,"comment_id":126534439,"body_markdown":"convertValue worked for me","body":"convertValue worked for me"}],"answers":[{"comments":[{"owner":{"account_id":3110296,"reputation":355,"user_id":2632196,"display_name":"Bo S&#248;borg Petersen"},"score":0,"creation_date":1456494127,"post_id":15453159,"comment_id":58986670,"body_markdown":"But, the second example does not require a static reference to the POJO type.","body":"But, the second example does not require a static reference to the POJO type."},{"owner":{"account_id":3992585,"reputation":614,"user_id":3291004,"accept_rate":44,"display_name":"Gnana"},"score":0,"creation_date":1457044437,"post_id":15453159,"comment_id":59240188,"body_markdown":"Awesome. The only thing that I had to do is to make sure that the POJO class contain a default constructor (in case other parameterized constructors are present)","body":"Awesome. The only thing that I had to do is to make sure that the POJO class contain a default constructor (in case other parameterized constructors are present)"},{"owner":{"account_id":3110296,"reputation":355,"user_id":2632196,"display_name":"Bo S&#248;borg Petersen"},"score":0,"creation_date":1460474604,"post_id":15453159,"comment_id":60754077,"body_markdown":"I mean that with the first example the type has to be known at design time. You cannot just pass the type of the object to the (de)serializing method, which is a problem if you are making one method to (de)serialize any kind of class. With the second example you can just use .getClass() for serialization and pass in the type for deserialization.","body":"I mean that with the first example the type has to be known at design time. You cannot just pass the type of the object to the (de)serializing method, which is a problem if you are making one method to (de)serialize any kind of class. With the second example you can just use .getClass() for serialization and pass in the type for deserialization."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1460606925,"post_id":15453159,"comment_id":60824080,"body_markdown":"@BoS&#248;borgPetersen Ok, that is true with `TypeReference`,  but you can construct `List` type with `TypeFactory` (`constructCollectionType(elementType)` or such), not a general limitation.","body":"@BoS&#248;borgPetersen Ok, that is true with <code>TypeReference</code>,  but you can construct <code>List</code> type with <code>TypeFactory</code> (<code>constructCollectionType(elementType)</code> or such), not a general limitation."},{"owner":{"account_id":169753,"reputation":5940,"user_id":396005,"accept_rate":100,"display_name":"Bron Davies"},"score":0,"creation_date":1461733207,"post_id":15453159,"comment_id":61326897,"body_markdown":"What about `TypeReference ref = new TypeReference&lt;T&gt;() { }; mapper.readValue(source, ref);` where I pass in a generic type?","body":"What about <code>TypeReference ref = new TypeReference&lt;T&gt;() { }; mapper.readValue(source, ref);</code> where I pass in a generic type?"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1461964122,"post_id":15453159,"comment_id":61453528,"body_markdown":"@BronDavies type variables are compile-time things so that is no different from `new TypeReference&lt;Object&gt;() { }` -- there is no `T` during runtime; type binding only exists during compilation for this usage. There are places where variables do exist (class, method, field definitions), but not in actual program code.","body":"@BronDavies type variables are compile-time things so that is no different from <code>new TypeReference&lt;Object&gt;() { }</code> -- there is no <code>T</code> during runtime; type binding only exists during compilation for this usage. There are places where variables do exist (class, method, field definitions), but not in actual program code."},{"owner":{"account_id":3310983,"reputation":736,"user_id":2784510,"accept_rate":100,"display_name":"AliReza"},"score":5,"creation_date":1579291151,"post_id":15453159,"comment_id":105730261,"body_markdown":"Just a quick note for new readers:\nThe TypeReference class in the code snippet comes from\n&quot;com.fasterxml.jackson.core.type.TypeReference&quot;","body":"Just a quick note for new readers: The TypeReference class in the code snippet comes from &quot;com.fasterxml.jackson.core.type.TypeReference&quot;"},{"owner":{"account_id":1969050,"reputation":1711,"user_id":1768538,"display_name":"Yuri"},"score":0,"creation_date":1592321978,"post_id":15453159,"comment_id":110381162,"body_markdown":"Thank you so much, it helps me a lot! i just have to use mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); for some unmapped attributes.","body":"Thank you so much, it helps me a lot! i just have to use mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROP&zwnj;&#8203;ERTIES, false); for some unmapped attributes."},{"owner":{"account_id":13525254,"reputation":825,"user_id":9757258,"display_name":"Jose Mhlanga"},"score":0,"creation_date":1596449862,"post_id":15453159,"comment_id":111805123,"body_markdown":"Make sure also that the `POJO` class has a no-argument constructor so that Jackson can instantiate it, and also that any attribute or field in the `POJO` is marked `@JsonProperty`","body":"Make sure also that the <code>POJO</code> class has a no-argument constructor so that Jackson can instantiate it, and also that any attribute or field in the <code>POJO</code> is marked <code>@JsonProperty</code>"}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":9,"down_vote_count":0,"up_vote_count":242,"is_accepted":true,"score":242,"last_activity_date":1363459332,"creation_date":1363459332,"answer_id":15453159,"question_id":15430715,"body_markdown":"You can use `ObjectMapper.convertValue()`, either value by value or even for the whole list. But you need to know the type to convert to:\r\n\r\n    POJO pojo = mapper.convertValue(singleObject, POJO.class);\r\n    // or:\r\n    List&lt;POJO&gt; pojos = mapper.convertValue(listOfObjects, new TypeReference&lt;List&lt;POJO&gt;&gt;() { });\r\n\r\nthis is functionally same as if you did:\r\n\r\n    byte[] json = mapper.writeValueAsBytes(singleObject);\r\n    POJO pojo = mapper.readValue(json, POJO.class);\r\n\r\nbut avoids actual serialization of data as JSON, instead using an in-memory event sequence as the intermediate step.\r\n","title":"Casting LinkedHashMap to Complex Object","body":"<p>You can use <code>ObjectMapper.convertValue()</code>, either value by value or even for the whole list. But you need to know the type to convert to:</p>\n\n<pre><code>POJO pojo = mapper.convertValue(singleObject, POJO.class);\n// or:\nList&lt;POJO&gt; pojos = mapper.convertValue(listOfObjects, new TypeReference&lt;List&lt;POJO&gt;&gt;() { });\n</code></pre>\n\n<p>this is functionally same as if you did:</p>\n\n<pre><code>byte[] json = mapper.writeValueAsBytes(singleObject);\nPOJO pojo = mapper.readValue(json, POJO.class);\n</code></pre>\n\n<p>but avoids actual serialization of data as JSON, instead using an in-memory event sequence as the intermediate step.</p>\n"},{"comments":[{"owner":{"account_id":7201273,"reputation":4702,"user_id":8727339,"display_name":"Mohit Motwani"},"score":2,"creation_date":1553074619,"post_id":55257187,"comment_id":97246539,"body_markdown":"Please also provide an explanation :)","body":"Please also provide an explanation :)"},{"owner":{"account_id":4512805,"reputation":3717,"user_id":3668462,"display_name":"Johan"},"score":0,"creation_date":1553074664,"post_id":55257187,"comment_id":97246568,"body_markdown":"While this code snippet may be the solution, [including an explanation](//meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may be the solution, <a href=\"//meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."},{"owner":{"account_id":8899024,"reputation":361,"user_id":6643013,"display_name":"Donald Choi"},"score":0,"creation_date":1555657927,"post_id":55257187,"comment_id":98191418,"body_markdown":"@Johan OK, Thanks for the warning. I&#39;m a novice for answering some question on Stack Overflow, so I&#39;ll do better in the future.","body":"@Johan OK, Thanks for the warning. I&#39;m a novice for answering some question on Stack Overflow, so I&#39;ll do better in the future."}],"tags":[],"owner":{"account_id":8899024,"reputation":361,"user_id":6643013,"display_name":"Donald Choi"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1555658200,"creation_date":1553073310,"answer_id":55257187,"question_id":15430715,"body_markdown":"There is a good solution to this issue:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    ***DTO premierDriverInfoDTO = objectMapper.convertValue(jsonString, ***DTO.class); \r\n\r\n    Map&lt;String, String&gt; map = objectMapper.convertValue(jsonString, Map.class);\r\n\r\nWhy did this issue occur? I guess you didn&#39;t specify the specific type when converting a string to the object, which is a class with a generic type, such as, User &amp;lt;T&amp;gt;.\r\n\r\nMaybe there is another way to solve it, using Gson instead of  ObjectMapper. (or see here [Deserializing Generic Types with GSON](https://stackoverflow.com/questions/18397342/deserializing-generic-types-with-gson))\r\n\r\n    Gson gson = new GsonBuilder().create();\r\n\r\n    Type type = new TypeToken&lt;BaseResponseDTO&lt;List&lt;PaymentSummaryDTO&gt;&gt;&gt;(){}.getType();\r\n\r\n    BaseResponseDTO&lt;List&lt;PaymentSummaryDTO&gt;&gt; results = gson.fromJson(jsonString, type);\r\n\r\n    BigDecimal revenue = results.getResult().get(0).getRevenue();","title":"Casting LinkedHashMap to Complex Object","body":"<p>There is a good solution to this issue:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\nObjectMapper objectMapper = new ObjectMapper();\n\n***DTO premierDriverInfoDTO = objectMapper.convertValue(jsonString, ***DTO.class); \n\nMap&lt;String, String&gt; map = objectMapper.convertValue(jsonString, Map.class);\n</code></pre>\n\n<p>Why did this issue occur? I guess you didn't specify the specific type when converting a string to the object, which is a class with a generic type, such as, User &lt;T&gt;.</p>\n\n<p>Maybe there is another way to solve it, using Gson instead of  ObjectMapper. (or see here <a href=\"https://stackoverflow.com/questions/18397342/deserializing-generic-types-with-gson\">Deserializing Generic Types with GSON</a>)</p>\n\n<pre><code>Gson gson = new GsonBuilder().create();\n\nType type = new TypeToken&lt;BaseResponseDTO&lt;List&lt;PaymentSummaryDTO&gt;&gt;&gt;(){}.getType();\n\nBaseResponseDTO&lt;List&lt;PaymentSummaryDTO&gt;&gt; results = gson.fromJson(jsonString, type);\n\nBigDecimal revenue = results.getResult().get(0).getRevenue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3147017,"reputation":161,"user_id":2661308,"display_name":"Aravind Rapuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1563313462,"creation_date":1563309679,"answer_id":57065134,"question_id":15430715,"body_markdown":"I had similar Issue where we have GenericResponse object containing list of values\r\n```\r\n ResponseEntity&lt;ResponseDTO&gt; responseEntity = restTemplate.exchange(\r\n        \t\tredisMatchedDriverUrl,\r\n                HttpMethod.POST,\r\n                requestEntity,\r\n                ResponseDTO.class\r\n        );\r\n```\r\n\r\nUsage of objectMapper helped in converting LinkedHashMap into respective DTO objects\r\n```\r\n ObjectMapper mapper = new ObjectMapper();\r\n\r\n List&lt;DriverLocationDTO&gt; driverlocationsList = mapper.convertValue(responseDTO.getData(), new TypeReference&lt;List&lt;DriverLocationDTO&gt;&gt;() { });\r\n```","title":"Casting LinkedHashMap to Complex Object","body":"<p>I had similar Issue where we have GenericResponse object containing list of values</p>\n\n<pre><code> ResponseEntity&lt;ResponseDTO&gt; responseEntity = restTemplate.exchange(\n                redisMatchedDriverUrl,\n                HttpMethod.POST,\n                requestEntity,\n                ResponseDTO.class\n        );\n</code></pre>\n\n<p>Usage of objectMapper helped in converting LinkedHashMap into respective DTO objects</p>\n\n<pre><code> ObjectMapper mapper = new ObjectMapper();\n\n List&lt;DriverLocationDTO&gt; driverlocationsList = mapper.convertValue(responseDTO.getData(), new TypeReference&lt;List&lt;DriverLocationDTO&gt;&gt;() { });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4143607,"reputation":773,"user_id":3398044,"accept_rate":62,"display_name":"vuhoanghiep1993"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647945788,"creation_date":1647945422,"answer_id":71570582,"question_id":15430715,"body_markdown":"I use com.fasterxml.jackson.databind.ObjectMapper to mapping from LinkedHashMap to Json string first and convert from json string to Object\r\n\r\n    Map&lt;String, String&gt; mappingValue\r\n    OBJECTA a = objectMapper.readValue(toJson(mappingValue), OBJECTA.class);\r\n\r\n    public static String toJson(Object object) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        String jsonString = &quot;&quot;;\r\n\r\n        try {\r\n            jsonString = mapper.writeValueAsString(object);\r\n        } catch (JsonProcessingException var4) {\r\n            var4.printStackTrace();\r\n            jsonString = &quot;Can&#39;t build json from object&quot;;\r\n        }\r\n\r\n        return jsonString;\r\n    }\r\n\r\n\r\n","title":"Casting LinkedHashMap to Complex Object","body":"<p>I use com.fasterxml.jackson.databind.ObjectMapper to mapping from LinkedHashMap to Json string first and convert from json string to Object</p>\n<pre><code>Map&lt;String, String&gt; mappingValue\nOBJECTA a = objectMapper.readValue(toJson(mappingValue), OBJECTA.class);\n\npublic static String toJson(Object object) {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    String jsonString = &quot;&quot;;\n\n    try {\n        jsonString = mapper.writeValueAsString(object);\n    } catch (JsonProcessingException var4) {\n        var4.printStackTrace();\n        jsonString = &quot;Can't build json from object&quot;;\n    }\n\n    return jsonString;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662532990,"post_id":73579486,"comment_id":130024094,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73579486/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":10862986,"reputation":73,"user_id":8391643,"display_name":"ychaulagain"},"score":0,"creation_date":1671747350,"post_id":73579486,"comment_id":132170017,"body_markdown":"This solution really helped me generalize my API calls that have to return lists of objects of my class type.","body":"This solution really helped me generalize my API calls that have to return lists of objects of my class type."}],"tags":[],"owner":{"account_id":26225439,"reputation":31,"user_id":19902198,"display_name":"user19902198"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671667043,"creation_date":1662105616,"answer_id":73579486,"question_id":15430715,"body_markdown":"    public static &lt;T&gt; List&lt;T&gt; getObjectList(final String json, final Class&lt;T&gt; cls) \r\n    {\r\n        return objectMapper\r\n            .readValue(json, objectMapper.getTypeFactory()\r\n            .constructCollectionType(ArrayList.class, cls));\r\n    }","title":"Casting LinkedHashMap to Complex Object","body":"<pre><code>public static &lt;T&gt; List&lt;T&gt; getObjectList(final String json, final Class&lt;T&gt; cls) \n{\n    return objectMapper\n        .readValue(json, objectMapper.getTypeFactory()\n        .constructCollectionType(ArrayList.class, cls));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664713341,"post_id":73887544,"comment_id":130530354,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73887544/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12878770,"reputation":1,"user_id":9314471,"display_name":"Hari"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664397659,"creation_date":1664397659,"answer_id":73887544,"question_id":15430715,"body_markdown":"First you have to convert linkedhashmap to JsonString and then it can be converted into complex object.","title":"Casting LinkedHashMap to Complex Object","body":"<p>First you have to convert linkedhashmap to JsonString and then it can be converted into complex object.</p>\n"}],"owner":{"account_id":1425696,"reputation":5389,"user_id":1349281,"accept_rate":81,"display_name":"tarka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187018,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":15453159,"answer_count":6,"score":102,"last_activity_date":1671667043,"creation_date":1363345392,"question_id":15430715,"body_markdown":"I&#39;ve got an application that stores some data in DynamoDB using Jackson to marshall my complex object into a JSON. \r\n\r\nFor example the object I&#39;m marshalling might look like this:\r\n\r\n    private String aString;\r\n    private List&lt;SomeObject&gt; someObjectList;\r\n\r\nWhere SomeObject might look like this:\r\n\r\n    private int anInteger;\r\n    private SomeOtherObject;\r\n\r\nand SomeOtherObject might look like this:\r\n\r\n    private long aLong;\r\n    private float aFloat; \r\n\r\nThis is fine an the object gets marshalled no problem and stored in the DB as a JSON string.\r\n\r\nWhen it comes time to retrieve the data from DynamoDB Jackson automatically retrieves the JSON and converts it back... EXCEPT that &#39;someObjectList&#39; is returned as a `List&lt;LinkedHashMap&gt;` not as a `List&lt;SomeObject&gt;`! This is standard behaviour for Jackson, its not a mistake that this is happening.\r\n\r\nSo now this leads to a problem. My code base thinks its dealing with a `List&lt;SomeObject&gt;` but the reality is that its handling a `List&lt;LinkedHashMap&gt;`! My question is how do I get my LinkedHashMap back into a &#39;SomeObject&#39;. Obviously this is a manual process but what I mean is I can&#39;t even extract the values.\r\n\r\nIf I do this:\r\n\r\n    for (LinkedHashMap lhm : someObjectList) {\r\n        // Convert the values back\r\n    }\r\n\r\nI get a compile error telling me that someObjectList is of type &#39;SomeObject&#39; not LinkedHashMap.\r\n\r\nIf I do this:\r\n\r\n    for (SomeObject lhm : someObjectList) {\r\n        // Convert the values back\r\n    }\r\n\r\nI get a runtime error telling me that LinkedHashMap cannot be cast to &#39;SomeObject&#39;.\r\n","title":"Casting LinkedHashMap to Complex Object","body":"<p>I've got an application that stores some data in DynamoDB using Jackson to marshall my complex object into a JSON. </p>\n\n<p>For example the object I'm marshalling might look like this:</p>\n\n<pre><code>private String aString;\nprivate List&lt;SomeObject&gt; someObjectList;\n</code></pre>\n\n<p>Where SomeObject might look like this:</p>\n\n<pre><code>private int anInteger;\nprivate SomeOtherObject;\n</code></pre>\n\n<p>and SomeOtherObject might look like this:</p>\n\n<pre><code>private long aLong;\nprivate float aFloat; \n</code></pre>\n\n<p>This is fine an the object gets marshalled no problem and stored in the DB as a JSON string.</p>\n\n<p>When it comes time to retrieve the data from DynamoDB Jackson automatically retrieves the JSON and converts it back... EXCEPT that 'someObjectList' is returned as a <code>List&lt;LinkedHashMap&gt;</code> not as a <code>List&lt;SomeObject&gt;</code>! This is standard behaviour for Jackson, its not a mistake that this is happening.</p>\n\n<p>So now this leads to a problem. My code base thinks its dealing with a <code>List&lt;SomeObject&gt;</code> but the reality is that its handling a <code>List&lt;LinkedHashMap&gt;</code>! My question is how do I get my LinkedHashMap back into a 'SomeObject'. Obviously this is a manual process but what I mean is I can't even extract the values.</p>\n\n<p>If I do this:</p>\n\n<pre><code>for (LinkedHashMap lhm : someObjectList) {\n    // Convert the values back\n}\n</code></pre>\n\n<p>I get a compile error telling me that someObjectList is of type 'SomeObject' not LinkedHashMap.</p>\n\n<p>If I do this:</p>\n\n<pre><code>for (SomeObject lhm : someObjectList) {\n    // Convert the values back\n}\n</code></pre>\n\n<p>I get a runtime error telling me that LinkedHashMap cannot be cast to 'SomeObject'.</p>\n"},{"tags":["java","multithreading","design-patterns","naming-conventions"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1292429359,"post_id":4452041,"comment_id":4862871,"body_markdown":"What&#39;s the point of saving the `volatile listener` into a local variable in the second example?","body":"What&#39;s the point of saving the <code>volatile listener</code> into a local variable in the second example?"},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":0,"creation_date":1292429516,"post_id":4452041,"comment_id":4862919,"body_markdown":"@Matt - It avoids the problem where the variable gets changed halfway through the method ... it&#39;s a common technique for observer notification, but normally the listener/listener list is not exposed as public.","body":"@Matt - It avoids the problem where the variable gets changed halfway through the method ... it&#39;s a common technique for observer notification, but normally the listener/listener list is not exposed as public."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1292429541,"post_id":4452041,"comment_id":4862921,"body_markdown":"@Matt: So that he can check it for `null` and then call its `stuffHappens` method, without getting into a race condition with other code that can assign to `listener`. Otherwise, it may well be that `listener` is `!null` as of the check, but `null` as of the call.","body":"@Matt: So that he can check it for <code>null</code> and then call its <code>stuffHappens</code> method, without getting into a race condition with other code that can assign to <code>listener</code>. Otherwise, it may well be that <code>listener</code> is <code>!null</code> as of the check, but <code>null</code> as of the call."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1292434241,"post_id":4452041,"comment_id":4863946,"body_markdown":"While not directly related to the question, but I&#39;m not sure that the second example is correct. Using `volatile` with reference types can lead to a lot of troubles, think about DCL for example: http://www.javaworld.com/javaworld/jw-02-2001/jw-0209-double.html The problem is that even the reference gets updated correctly, it may point to a half-initialized object because its fields aren&#39;t volatile.","body":"While not directly related to the question, but I&#39;m not sure that the second example is correct. Using <code>volatile</code> with reference types can lead to a lot of troubles, think about DCL for example: <a href=\"http://www.javaworld.com/javaworld/jw-02-2001/jw-0209-double.html\" rel=\"nofollow noreferrer\">javaworld.com/javaworld/jw-02-2001/jw-0209-double.html</a> The problem is that even the reference gets updated correctly, it may point to a half-initialized object because its fields aren&#39;t volatile."},{"owner":{"account_id":74234,"reputation":2391,"user_id":213376,"accept_rate":46,"display_name":"SnakE"},"score":0,"creation_date":1292476137,"post_id":4452041,"comment_id":4870188,"body_markdown":"@Sergey: a volatile var is a synchronization primitive in Java. According to Java memory model, a write to a volatile var in thread 1 happens-before a corresponding read in thread 2. This implies that any writes in thread 1 that happen-before writing to volatile also happen-before the read in thread 2. I.e. if you fully initialize your object _before_ assigning it to a volatile, you&#39;re guaranteed to get a reference to an initialized object in another thread.","body":"@Sergey: a volatile var is a synchronization primitive in Java. According to Java memory model, a write to a volatile var in thread 1 happens-before a corresponding read in thread 2. This implies that any writes in thread 1 that happen-before writing to volatile also happen-before the read in thread 2. I.e. if you fully initialize your object <i>before</i> assigning it to a volatile, you&#39;re guaranteed to get a reference to an initialized object in another thread."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1292479631,"post_id":4452041,"comment_id":4870523,"body_markdown":"Volatile only synchronizes access to the variable itself, not to the object it points to. So even if you initialize an object and then put a reference to it into a volatile variable, you could still see the actual effects of the initialization happening much later in another thread. Unless the fields of the object being initialized are all volatile too. The page 4 of the article I gave the link to explains that pretty well.","body":"Volatile only synchronizes access to the variable itself, not to the object it points to. So even if you initialize an object and then put a reference to it into a volatile variable, you could still see the actual effects of the initialization happening much later in another thread. Unless the fields of the object being initialized are all volatile too. The page 4 of the article I gave the link to explains that pretty well."}],"answers":[{"comments":[{"owner":{"account_id":74234,"reputation":2391,"user_id":213376,"accept_rate":46,"display_name":"SnakE"},"score":0,"creation_date":1292430536,"post_id":4452078,"comment_id":4863169,"body_markdown":"@Anon: my example was obviously simplified.  If there were `setListener()` it wouldn&#39;t change anything in my question.  Then, if there&#39;s `setListener()` then it&#39;s probably called more than once, and if there&#39;s `notify()` then it&#39;s probably called from a different thread---cannot see anything &#39;disturbing&#39; here.","body":"@Anon: my example was obviously simplified.  If there were <code>setListener()</code> it wouldn&#39;t change anything in my question.  Then, if there&#39;s <code>setListener()</code> then it&#39;s probably called more than once, and if there&#39;s <code>notify()</code> then it&#39;s probably called from a different thread---cannot see anything &#39;disturbing&#39; here."},{"owner":{"account_id":74234,"reputation":2391,"user_id":213376,"accept_rate":46,"display_name":"SnakE"},"score":0,"creation_date":1292430771,"post_id":4452078,"comment_id":4863232,"body_markdown":"@Anon: here&#39;s another example.  There&#39;s `Image` which is empty.  There&#39;s `ImageLoader` which fetches image in a separate thread.  Image receives updates from the loader.  It also serves render requests from another thread.  It also notifies anybody who cares about the updates.  How would you separate the `Image`?","body":"@Anon: here&#39;s another example.  There&#39;s <code>Image</code> which is empty.  There&#39;s <code>ImageLoader</code> which fetches image in a separate thread.  Image receives updates from the loader.  It also serves render requests from another thread.  It also notifies anybody who cares about the updates.  How would you separate the <code>Image</code>?"},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":0,"creation_date":1292433061,"post_id":4452078,"comment_id":4863718,"body_markdown":"@SnakE - regarding `Image`: I&#39;d question whether an image has any value until it&#39;s loaded. Assuming no, then I&#39;d treat `Image` as an immutable object that will be passed to listeners once loaded, but not before. The `ImageLoader` can run in its own thread, and it would use a properly-synchronized and encapsulated `Notifier` to alert listeners once the image is loaded. In this breakdown, no class but `Notifier` needs to care about threading (with the caveat that `ImageLoader` might need a thread-safe work queue)","body":"@SnakE - regarding <code>Image</code>: I&#39;d question whether an image has any value until it&#39;s loaded. Assuming no, then I&#39;d treat <code>Image</code> as an immutable object that will be passed to listeners once loaded, but not before. The <code>ImageLoader</code> can run in its own thread, and it would use a properly-synchronized and encapsulated <code>Notifier</code> to alert listeners once the image is loaded. In this breakdown, no class but <code>Notifier</code> needs to care about threading (with the caveat that <code>ImageLoader</code> might need a thread-safe work queue)"},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":0,"creation_date":1292433458,"post_id":4452078,"comment_id":4863792,"body_markdown":"@SnakE - actually, that&#39;s an over-simplified solution. In the real world, you create a concurrency *architecture* for your application, and specific classes that cross thread barriers. For example, in a Swing app you know that GUI updates have to happen from the event dispatch thread. So your `Notifier` is smart enough to cross that boundary. And rather than create `ImageLoader` as a service (as I&#39;m assuming in my former comment), you might create it as a simple `Runnable` that&#39;s passed to an `ExecutorService`. Perhaps with a reference to a thread-safe image cache.","body":"@SnakE - actually, that&#39;s an over-simplified solution. In the real world, you create a concurrency <i>architecture</i> for your application, and specific classes that cross thread barriers. For example, in a Swing app you know that GUI updates have to happen from the event dispatch thread. So your <code>Notifier</code> is smart enough to cross that boundary. And rather than create <code>ImageLoader</code> as a service (as I&#39;m assuming in my former comment), you might create it as a simple <code>Runnable</code> that&#39;s passed to an <code>ExecutorService</code>. Perhaps with a reference to a thread-safe image cache."},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":0,"creation_date":1292433625,"post_id":4452078,"comment_id":4863822,"body_markdown":"@SnakE - regardless, my key point remains: the `ImageLoader` *does not do notification itself*.","body":"@SnakE - regardless, my key point remains: the <code>ImageLoader</code> <i>does not do notification itself</i>."},{"owner":{"account_id":74234,"reputation":2391,"user_id":213376,"accept_rate":46,"display_name":"SnakE"},"score":0,"creation_date":1292535901,"post_id":4452078,"comment_id":4880286,"body_markdown":"@Anon: a) in my case, `Image` can be displayed even if only partially loaded, like in a browser; b) assuming `ImageLoader`, `Image`, and `DocumentView` are all not thread-safe, and `DocumentView` can only be manipulated from a UI thread, what do I do? Make `Image` accept not `Listener` but `interface Notifier`, and pass it `DocumentViewNotifier` instance which knows how to post events to the `DocumentView` queue?","body":"@Anon: a) in my case, <code>Image</code> can be displayed even if only partially loaded, like in a browser; b) assuming <code>ImageLoader</code>, <code>Image</code>, and <code>DocumentView</code> are all not thread-safe, and <code>DocumentView</code> can only be manipulated from a UI thread, what do I do? Make <code>Image</code> accept not <code>Listener</code> but <code>interface Notifier</code>, and pass it <code>DocumentViewNotifier</code> instance which knows how to post events to the <code>DocumentView</code> queue?"},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":0,"creation_date":1292598222,"post_id":4452078,"comment_id":4887862,"body_markdown":"@Snake - Why not send a stream of `PartialImage` events from `ImageLoader` to `DocumentView`? This keeps `Image` immutable, and keeps the `ImageLoader` and `DocumentView` thread-unaware. And it keeps &quot;intelligence&quot; where it belongs: only the `ImageLoader` knows that it has loaded enough to make a valid partial image.","body":"@Snake - Why not send a stream of <code>PartialImage</code> events from <code>ImageLoader</code> to <code>DocumentView</code>? This keeps <code>Image</code> immutable, and keeps the <code>ImageLoader</code> and <code>DocumentView</code> thread-unaware. And it keeps &quot;intelligence&quot; where it belongs: only the <code>ImageLoader</code> knows that it has loaded enough to make a valid partial image."},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":0,"creation_date":1292598303,"post_id":4452078,"comment_id":4887892,"body_markdown":"At this point, we&#39;re going deep into design (and perhaps it would have helped if you&#39;d put real-world examples in your original question). All I can say is that your life will be easier if you keep thread-aware and thread-unaware code separate, and do as much as you can with immutable objects.","body":"At this point, we&#39;re going deep into design (and perhaps it would have helped if you&#39;d put real-world examples in your original question). All I can say is that your life will be easier if you keep thread-aware and thread-unaware code separate, and do as much as you can with immutable objects."}],"tags":[],"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"comment_count":8,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292429254,"creation_date":1292429254,"answer_id":4452078,"question_id":4452041,"body_markdown":"&gt; What do you do when writing heavily multi-threaded code?\r\n\r\nSeparate the code that cares about threading from the code that doesn&#39;t.\r\n\r\nHaving a class responsible for notifications is a good start, but your comment about &quot;change[ing] listener from another thread&quot; is disturbing -- and making your `listener` variable public is even more disturbing. Make it private, and add methods to `Notifier` to control changes.\r\n\r\n*And don&#39;t add code to `Notifier` that does anything other than notify listeners*.","title":"Java: naming conventions for thread safety?","body":"<blockquote>\n  <p>What do you do when writing heavily multi-threaded code?</p>\n</blockquote>\n\n<p>Separate the code that cares about threading from the code that doesn't.</p>\n\n<p>Having a class responsible for notifications is a good start, but your comment about \"change[ing] listener from another thread\" is disturbing -- and making your <code>listener</code> variable public is even more disturbing. Make it private, and add methods to <code>Notifier</code> to control changes.</p>\n\n<p><em>And don't add code to <code>Notifier</code> that does anything other than notify listeners</em>.</p>\n"},{"comments":[{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1292430388,"post_id":4452209,"comment_id":4863133,"body_markdown":"And here is the tool that does static code analysis to catch concurrency bugs http://www.checkthread.org/index.html","body":"And here is the tool that does static code analysis to catch concurrency bugs <a href=\"http://www.checkthread.org/index.html\" rel=\"nofollow noreferrer\">checkthread.org/index.html</a>"}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292430845,"creation_date":1292430000,"answer_id":4452209,"question_id":4452041,"body_markdown":"This is not a naming convention, but in [Java Concurrency in Practice][1] the authors suggest using [annotations][2] to describe thread safety policies.\r\n\r\nI would highly recommend this book to anyone writing multi-threaded code in Java.\r\n\r\n  [1]: http://www.javaconcurrencyinpractice.com/\r\n  [2]: http://jcip.net/annotations/doc/net/jcip/annotations/package-summary.html","title":"Java: naming conventions for thread safety?","body":"<p>This is not a naming convention, but in <a href=\"http://www.javaconcurrencyinpractice.com/\" rel=\"nofollow\">Java Concurrency in Practice</a> the authors suggest using <a href=\"http://jcip.net/annotations/doc/net/jcip/annotations/package-summary.html\" rel=\"nofollow\">annotations</a> to describe thread safety policies.</p>\n\n<p>I would highly recommend this book to anyone writing multi-threaded code in Java.</p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671666992,"creation_date":1292430012,"answer_id":4452212,"question_id":4452041,"body_markdown":"Brian Goetz suggested in his book &quot;Java Concurrency in Practice&quot; the usage of Annotations to mark fields an classes as thread-safe or not.\r\n\r\nhttp://www.javaconcurrencyinpractice.com/annotations/doc/net/jcip/annotations/package-summary.html\r\n\r\n(Nerveless Anon is right, separate thread safe and not thread safe code.)\r\n","title":"Java: naming conventions for thread safety?","body":"<p>Brian Goetz suggested in his book &quot;Java Concurrency in Practice&quot; the usage of Annotations to mark fields an classes as thread-safe or not.</p>\n<p><a href=\"http://www.javaconcurrencyinpractice.com/annotations/doc/net/jcip/annotations/package-summary.html\" rel=\"nofollow noreferrer\">http://www.javaconcurrencyinpractice.com/annotations/doc/net/jcip/annotations/package-summary.html</a></p>\n<p>(Nerveless Anon is right, separate thread safe and not thread safe code.)</p>\n"}],"owner":{"account_id":74234,"reputation":2391,"user_id":213376,"accept_rate":46,"display_name":"SnakE"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1671666992,"creation_date":1292429080,"question_id":4452041,"body_markdown":"Imagine I have this class:\r\n\r\n    class Notifier {\r\n        public Listener listener;\r\n\r\n        public void notify() {\r\n            if (listener != null) {\r\n                listener.stuffHappens();\r\n            }\r\n        }\r\n    }\r\n\r\nThis code is incorrect in the case `listener` can be changed from another thread.  Let&#39;s fix it:\r\n\r\n\r\n    class Notifier {\r\n        public volatile Listener listener;\r\n\r\n        public void notify() {\r\n            Listener l = listener;\r\n            if (l != null) {\r\n                l.stuffHappens();\r\n            }\r\n        }\r\n    }\r\n\r\nThe code is correct now, but the `notify()` method looks weird in isolation.  Imagine a larger class with a mix of volatile and regular fields used in the same method and you&#39;ll get the picture.\r\n\r\nMy first impulse is to name the variable `volatileListener`---assuming it&#39;s private and there&#39;s a `setListener()` of course, but I imagine a &quot;hungarian notation is evil&quot; knee-jerk reaction from many people.\r\n\r\nSo, are there established practices/conventions?  Or maybe there are some patterns allowing to systematically avoid such situations.  What do you do when writing heavily multi-threaded code?","title":"Java: naming conventions for thread safety?","body":"<p>Imagine I have this class:</p>\n\n<pre><code>class Notifier {\n    public Listener listener;\n\n    public void notify() {\n        if (listener != null) {\n            listener.stuffHappens();\n        }\n    }\n}\n</code></pre>\n\n<p>This code is incorrect in the case <code>listener</code> can be changed from another thread.  Let's fix it:</p>\n\n<pre><code>class Notifier {\n    public volatile Listener listener;\n\n    public void notify() {\n        Listener l = listener;\n        if (l != null) {\n            l.stuffHappens();\n        }\n    }\n}\n</code></pre>\n\n<p>The code is correct now, but the <code>notify()</code> method looks weird in isolation.  Imagine a larger class with a mix of volatile and regular fields used in the same method and you'll get the picture.</p>\n\n<p>My first impulse is to name the variable <code>volatileListener</code>---assuming it's private and there's a <code>setListener()</code> of course, but I imagine a \"hungarian notation is evil\" knee-jerk reaction from many people.</p>\n\n<p>So, are there established practices/conventions?  Or maybe there are some patterns allowing to systematically avoid such situations.  What do you do when writing heavily multi-threaded code?</p>\n"},{"tags":["java","php","mysql","performance","nginx"],"comments":[{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1671475416,"post_id":74854625,"comment_id":132102937,"body_markdown":"What is this chart measuring? Requests per second? Page load time? Other?","body":"What is this chart measuring? Requests per second? Page load time? Other?"},{"owner":{"account_id":1063697,"reputation":31102,"user_id":1064767,"accept_rate":87,"display_name":"Sammitch"},"score":0,"creation_date":1671476592,"post_id":74854625,"comment_id":132103276,"body_markdown":"What is this graph&#39;s legend? What is the scale?","body":"What is this graph&#39;s legend? What is the scale?"},{"owner":{"account_id":372811,"reputation":508,"user_id":722087,"display_name":"anoopjohn"},"score":0,"creation_date":1671479769,"post_id":74854625,"comment_id":132104058,"body_markdown":"Thanks for looking into this and the comments. I have updated the post. Chart y axis is average response time, linear scale. y - axis is time.","body":"Thanks for looking into this and the comments. I have updated the post. Chart y axis is average response time, linear scale. y - axis is time."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1671513020,"post_id":74854625,"comment_id":132109905,"body_markdown":"What the heck is &quot;19 03 40&quot;??  How much time between spikes?  When are backups performed?  Do you have cron or EVENT jobs running?  Does something happen every 25 (or so) minutes?  Maybe Java&#39;s garbage collector?  Might something be resetting the cache?","body":"What the heck is &quot;19 03 40&quot;??  How much time between spikes?  When are backups performed?  Do you have cron or EVENT jobs running?  Does something happen every 25 (or so) minutes?  Maybe Java&#39;s garbage collector?  Might something be resetting the cache?"},{"owner":{"account_id":372811,"reputation":508,"user_id":722087,"display_name":"anoopjohn"},"score":0,"creation_date":1671585509,"post_id":74854625,"comment_id":132129498,"body_markdown":"19 03 40 - 19 is date, 03 40 is the time. The x axis is time. It is the output generated by jmeter. No, there are no crons. Thanks for the tip about the Java garbage collector. The cache in Drupal is set with no expiry and is invalidated on specific requests and these don&#39;t happen during the test.","body":"19 03 40 - 19 is date, 03 40 is the time. The x axis is time. It is the output generated by jmeter. No, there are no crons. Thanks for the tip about the Java garbage collector. The cache in Drupal is set with no expiry and is invalidated on specific requests and these don&#39;t happen during the test."}],"answers":[{"tags":[],"owner":{"account_id":372811,"reputation":508,"user_id":722087,"display_name":"anoopjohn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671666830,"creation_date":1671666830,"answer_id":74882900,"question_id":74854625,"body_markdown":"We have solved this problem. Wanted to document this here for the benefit of anybody running into this / similar problems.\r\n\r\nThe issue was very interesting and we found it through taking xdebug profiles at multiple points in the saw-tooth pattern above. \r\n\r\nWe found that `PhPRedis-&gt;getMultiple` was taking upto 50% of the total time in requests during the peak of the saw tooth pattern and then drops back to low numbers at the trough. \r\n\r\nWe then found this documented in [https://redis.io/docs/management/optimization/latency/][1]. Verified that the redis server was indeed using transparent hugepage. \r\n\r\nThe fix was to change a kernel parameter to turn off transparent hugepage\r\n\r\n    echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled\r\n\r\nThis addressed the saw tooth pattern and the average page load time stayed flat through the test. \r\n\r\n  [1]: https://redis.io/docs/management/optimization/latency/","title":"Interesting saw tooth pattern in page load performance - Are there potential infrastructure / network / database settings to look at?","body":"<p>We have solved this problem. Wanted to document this here for the benefit of anybody running into this / similar problems.</p>\n<p>The issue was very interesting and we found it through taking xdebug profiles at multiple points in the saw-tooth pattern above.</p>\n<p>We found that <code>PhPRedis-&gt;getMultiple</code> was taking upto 50% of the total time in requests during the peak of the saw tooth pattern and then drops back to low numbers at the trough.</p>\n<p>We then found this documented in <a href=\"https://redis.io/docs/management/optimization/latency/\" rel=\"nofollow noreferrer\">https://redis.io/docs/management/optimization/latency/</a>. Verified that the redis server was indeed using transparent hugepage.</p>\n<p>The fix was to change a kernel parameter to turn off transparent hugepage</p>\n<pre><code>echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled\n</code></pre>\n<p>This addressed the saw tooth pattern and the average page load time stayed flat through the test.</p>\n"}],"owner":{"account_id":372811,"reputation":508,"user_id":722087,"display_name":"anoopjohn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671666830,"creation_date":1671474951,"question_id":74854625,"body_markdown":"I am running a performance test on a Drupal application that talks to a java backend via http requests. All application logic is handled in Java and Drupal is only a pass through for requests. There is caching of all GET requests going to Java on the Drupal side. So only &lt; 10% of requests actually hit the java application. Drupal is running on on nginx with PHP-FPM with a load balanced set of 10 pods in kubernetes. Java app similarly runs on another set of 10 pods. Both Drupal and java applications talk to different mysql databases on the same mysql server.\r\n\r\nWe are seeing this strange page load performance pattern from the jmeter result. I know that this is not enough data to really say what is going on but was wondering if anybody has seen anything like this and are there simple network / db / php-fpm / nginx / loadbalancer settings that can cause such cycling.\r\n\r\nThis is from a test where around 300,000 requests were sent to the application in 3 hours.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe chart shows average response times for the requests on the y axis in a linear scale. x axis is time.\r\n\r\nThe application does not go down and the error rates does not go up because of this but just that the page speed goes up and down in clealry cyclic manner. Pods are not fully loaded - neither java nor Drupal and does not trigger scaling which should kick in at 50% processor loads. Memory usage is &lt;50% on all pods. Database does not hit connection limits.\r\n\r\nAny inputs and points are much appreciated. Will edit / update post if you have questions. Thanks in advance for your inputs / help.\r\n\r\n  [1]: https://i.stack.imgur.com/DQMNT.png\r\n\r\nEdit: Updated info about chart axis.","title":"Interesting saw tooth pattern in page load performance - Are there potential infrastructure / network / database settings to look at?","body":"<p>I am running a performance test on a Drupal application that talks to a java backend via http requests. All application logic is handled in Java and Drupal is only a pass through for requests. There is caching of all GET requests going to Java on the Drupal side. So only &lt; 10% of requests actually hit the java application. Drupal is running on on nginx with PHP-FPM with a load balanced set of 10 pods in kubernetes. Java app similarly runs on another set of 10 pods. Both Drupal and java applications talk to different mysql databases on the same mysql server.</p>\n<p>We are seeing this strange page load performance pattern from the jmeter result. I know that this is not enough data to really say what is going on but was wondering if anybody has seen anything like this and are there simple network / db / php-fpm / nginx / loadbalancer settings that can cause such cycling.</p>\n<p>This is from a test where around 300,000 requests were sent to the application in 3 hours.</p>\n<p><a href=\"https://i.stack.imgur.com/DQMNT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DQMNT.png\" alt=\"enter image description here\" /></a></p>\n<p>The chart shows average response times for the requests on the y axis in a linear scale. x axis is time.</p>\n<p>The application does not go down and the error rates does not go up because of this but just that the page speed goes up and down in clealry cyclic manner. Pods are not fully loaded - neither java nor Drupal and does not trigger scaling which should kick in at 50% processor loads. Memory usage is &lt;50% on all pods. Database does not hit connection limits.</p>\n<p>Any inputs and points are much appreciated. Will edit / update post if you have questions. Thanks in advance for your inputs / help.</p>\n<p>Edit: Updated info about chart axis.</p>\n"},{"tags":["java","javafx","controller","initialization"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671666767,"creation_date":1671666767,"answer_id":74882893,"question_id":74882801,"body_markdown":"[`scene`][1] is a property of a window. \r\n\r\nYou can add a change listener to the `scene` property and it will invoke the listener any time the property changes.\r\n\r\n    stage.sceneProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n        // code to run on scene change.\r\n    });\r\n\r\nIf you have multiple stages, each stage has its own `scene` property.  If you wanted to listen to scene changes for each stage, you would need to add listeners to the scene properties for each stage.  \r\n\r\nWhether this information will actually assist in solving the core task you are trying to perform, I do not know.  You may be asking an [xy problem][2], or maybe not.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#sceneProperty\r\n  [2]: https://xyproblem.info","title":"How to run a function everytime the app switches to the scene in JavaFX?","body":"<p><a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#sceneProperty\" rel=\"nofollow noreferrer\"><code>scene</code></a> is a property of a window.</p>\n<p>You can add a change listener to the <code>scene</code> property and it will invoke the listener any time the property changes.</p>\n<pre><code>stage.sceneProperty().addListener((observable, oldValue, newValue) -&gt; {\n    // code to run on scene change.\n});\n</code></pre>\n<p>If you have multiple stages, each stage has its own <code>scene</code> property.  If you wanted to listen to scene changes for each stage, you would need to add listeners to the scene properties for each stage.</p>\n<p>Whether this information will actually assist in solving the core task you are trying to perform, I do not know.  You may be asking an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">xy problem</a>, or maybe not.</p>\n"}],"owner":{"account_id":21925646,"reputation":298,"user_id":16208301,"display_name":"User One"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74882893,"answer_count":1,"score":2,"last_activity_date":1671666767,"creation_date":1671665853,"question_id":74882801,"body_markdown":"I want to use a function that can run every time a scene is loaded. Initialize doesn&#39;t work because it only runs when I first go on the scene and does not run again after that. This is the initialize function that I have.\r\n\r\n```\r\n@Override\r\npublic void initialize(URL url, ResourceBundle resourceBundle) {\r\n    initStore();\r\n\r\n    backBtn.setOnAction(e -&gt; {\r\n        Stage stage = (Stage) ((Node) e.getSource()).getScene().getWindow();\r\n        stage.hide();\r\n        stage.setScene(Application.homeScene);\r\n        stage.setMaximized(true);\r\n        stage.show();\r\n    });\r\n}\r\n```\r\n\r\nI tried using stage.setOnHidden(e -&gt; { ... }) on the main class but I can&#39;t figure out how to move my function to another file. Is there a function that runs everytime the scene and controller loads?","title":"How to run a function everytime the app switches to the scene in JavaFX?","body":"<p>I want to use a function that can run every time a scene is loaded. Initialize doesn't work because it only runs when I first go on the scene and does not run again after that. This is the initialize function that I have.</p>\n<pre><code>@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    initStore();\n\n    backBtn.setOnAction(e -&gt; {\n        Stage stage = (Stage) ((Node) e.getSource()).getScene().getWindow();\n        stage.hide();\n        stage.setScene(Application.homeScene);\n        stage.setMaximized(true);\n        stage.show();\n    });\n}\n</code></pre>\n<p>I tried using stage.setOnHidden(e -&gt; { ... }) on the main class but I can't figure out how to move my function to another file. Is there a function that runs everytime the scene and controller loads?</p>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"display_name":"user20716279"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671651819,"creation_date":1671651819,"answer_id":74881071,"question_id":74880938,"body_markdown":"since ItNode is null then you need the previous node of this one to point to the nodeInLast\r\n\r\n    Node nodeINLast = new Node(plateNum, minutes);\r\n    nodeINLast.next = null;\r\n    \r\n    if(first == null){\r\n        first = nodeINLast;\r\n    }\r\n    else{\r\n        Node itNode = first;\r\n        Node Temp = itNode;\r\n        while(itNode!=null){\r\n            Temp = itNode;\r\n            itNode = itNode.next;\r\n        }\r\n        Temp.next = nodeINLast;\r\n    }\r\n}","title":"How to insert a node at the end of a linked list","body":"<p>since ItNode is null then you need the previous node of this one to point to the nodeInLast</p>\n<pre><code>Node nodeINLast = new Node(plateNum, minutes);\nnodeINLast.next = null;\n\nif(first == null){\n    first = nodeINLast;\n}\nelse{\n    Node itNode = first;\n    Node Temp = itNode;\n    while(itNode!=null){\n        Temp = itNode;\n        itNode = itNode.next;\n    }\n    Temp.next = nodeINLast;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":20185513,"reputation":1,"user_id":14804944,"display_name":"Harshana_prabhath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671729949,"answer_count":1,"score":0,"last_activity_date":1671666499,"creation_date":1671650967,"question_id":74880938,"body_markdown":"I have been trying to create a method to add an element at the last of a LinkedList.But the code is giving me an error.It says -- &quot;Cannot assign field &quot;next&quot; because &quot;itNode&quot; is null&quot;. How can i fix this?\r\n\r\n``` lang-java\r\n public void insertLast(String plateNum, int minutes) {\r\n        \r\n        Node nodeINLast = new Node(plateNum, minutes);\r\n        nodeINLast.next = null;\r\n        \r\n        if(first == null) {\r\n            first = nodeINLast;\r\n        } else {\r\n            Node itNode = first;\r\n            while(itNode != null) {\r\n                itNode = itNode.next;\r\n            }\r\n            itNode.next = nodeINLast;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI want to insert a node at the end of a linked list. I tried to insert elements at the first position it is working properly but I do not know why this is giving me a &quot;Cannot assign field &quot;next&quot; because &quot;itNode&quot; is null&quot; error.","title":"How to insert a node at the end of a linked list","body":"<p>I have been trying to create a method to add an element at the last of a LinkedList.But the code is giving me an error.It says -- &quot;Cannot assign field &quot;next&quot; because &quot;itNode&quot; is null&quot;. How can i fix this?</p>\n<pre class=\"lang-java prettyprint-override\"><code> public void insertLast(String plateNum, int minutes) {\n        \n        Node nodeINLast = new Node(plateNum, minutes);\n        nodeINLast.next = null;\n        \n        if(first == null) {\n            first = nodeINLast;\n        } else {\n            Node itNode = first;\n            while(itNode != null) {\n                itNode = itNode.next;\n            }\n            itNode.next = nodeINLast;\n        }\n    }\n</code></pre>\n<p>I want to insert a node at the end of a linked list. I tried to insert elements at the first position it is working properly but I do not know why this is giving me a &quot;Cannot assign field &quot;next&quot; because &quot;itNode&quot; is null&quot; error.</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1671655116,"post_id":74880643,"comment_id":132148027,"body_markdown":"That is the FAQ of XPath 1, use a prefix to qualify the element name e.g.  `ex:root` in XPath and have your API (e.g. `getNamespaceURI`) return the URI `http://www.example.com` for that prefix `ex`.","body":"That is the FAQ of XPath 1, use a prefix to qualify the element name e.g.  <code>ex:root</code> in XPath and have your API (e.g. <code>getNamespaceURI</code>) return the URI <code>http:&#47;&#47;www.example.com</code> for that prefix <code>ex</code>."},{"owner":{"account_id":3002780,"reputation":45,"user_id":2562924,"display_name":"dominikm"},"score":0,"creation_date":1671656047,"post_id":74880643,"comment_id":132148254,"body_markdown":"So, in this case, is the XML sample that I posted poorly formed for using XPath?","body":"So, in this case, is the XML sample that I posted poorly formed for using XPath?"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1671656526,"post_id":74880643,"comment_id":132148385,"body_markdown":"I don&#39;t see it that way, the sample is fine, for the selection of the element in a default namespace it doesn&#39;t matter anyway what is outside, and for XPath 1 you need a prefix to select/qualify that element in XPath expressions, it&#39;s just that most people expect to be able to use `root` in XPath if the element has that local name, in XPath 2 and later you can do that by declaring a default element namespace but obviously you can have only one so with e.g. `&lt;foo xmlns=&quot;http://example.com/&quot;&gt;&lt;bar xmlns=&quot;http://example.org/&quot;/&gt;&lt;/foo&gt;` your XPath needs to use a prefix or wildcard for one of them.","body":"I don&#39;t see it that way, the sample is fine, for the selection of the element in a default namespace it doesn&#39;t matter anyway what is outside, and for XPath 1 you need a prefix to select/qualify that element in XPath expressions, it&#39;s just that most people expect to be able to use <code>root</code> in XPath if the element has that local name, in XPath 2 and later you can do that by declaring a default element namespace but obviously you can have only one so with e.g. <code>&lt;foo xmlns=&quot;http:&#47;&#47;example.com&#47;&quot;&gt;&lt;bar xmlns=&quot;http:&#47;&#47;example.org&#47;&quot;&#47;&gt;&lt;&#47;foo&gt;</code> your XPath needs to use a prefix or wildcard for one of them."}],"answers":[{"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1671661509,"post_id":74882040,"comment_id":132149625,"body_markdown":"If some implementation swallows, fine, as long as you know that implementation, that but with the step `:root` in`//abc:test-object/:root` that expression is not even a syntactically correct XPath expression (https://www.w3.org/TR/1999/REC-xpath-19991116/#NT-NameTest).","body":"If some implementation swallows, fine, as long as you know that implementation, that but with the step <code>:root</code> in<code>&#47;&#47;abc:test-object&#47;:root</code> that expression is not even a syntactically correct XPath expression (<a href=\"https://www.w3.org/TR/1999/REC-xpath-19991116/#NT-NameTest\" rel=\"nofollow noreferrer\">w3.org/TR/1999/REC-xpath-19991116/#NT-NameTest</a>)."}],"tags":[],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671665634,"creation_date":1671658852,"answer_id":74882040,"question_id":74880643,"body_markdown":"I&#39;ve found the following:\r\n\r\n1. In `getNamespaceURI(...)`, the value `null` is returned if the namespace prefix is not `abc`. But the default namespace&#39;s URI is `http://www.example.com` instead.\r\n\r\n2. In the XPath query, no namespace prefix given for `root`. This is reasonable since it should use the default namespace, however it seems necessary to explicitly give an empty prefix now: `:root`.\r\n\r\nApplying both changes will make the code return the node.\r\n\r\n\txpath.setNamespaceContext(new NamespaceContext() {\r\n\t    @Override\r\n\t    public String getNamespaceURI(String s) {\r\n\t        if (s.equals(&quot;abc&quot;)) {\r\n\t            return &quot;http://www.example.com/abc&quot;;\r\n\t        }\r\n\t        return &quot;http://www.example.com&quot;;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String getPrefix(String s) {\r\n\t        return null;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public Iterator&lt;String&gt; getPrefixes(String s) {\r\n\t        return null;\r\n\t    }\r\n\t});\r\n\r\n\tXPathExpression expr = xpath.compile(&quot;//abc:test-object/:root&quot;);\r\n\tNode node = (Node) expr.evaluate(doc, XPathConstants.NODE);\r\n    System.out.println(node == null ? &quot;null&quot; : node);  // just to show\r\n\r\nOutput:\r\n\r\n    [root: null]\r\n\r\n----\r\n\r\n*Update:* As [Martin Honnen](https://stackoverflow.com/users/252228/martin-honnen) points out, although accepted by [`javax.xml.xpath`](https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/package-summary.html), `:root` is not a valid XPath expression. Also, `javax.xml.xpath` is only XPath 1.0 compliant. I&#39;ve found another, rather verbose way to select the node with `//abc:test-object/*[local-name()=\\&quot;root\\&quot;]`, but it probably makes more sense to either just\r\n- use namespace prefixes or\r\n- use an XPath 2.0 compliant library","title":"How to get xml element with nested default namespace with XPath","body":"<p>I've found the following:</p>\n<ol>\n<li><p>In <code>getNamespaceURI(...)</code>, the value <code>null</code> is returned if the namespace prefix is not <code>abc</code>. But the default namespace's URI is <code>http://www.example.com</code> instead.</p>\n</li>\n<li><p>In the XPath query, no namespace prefix given for <code>root</code>. This is reasonable since it should use the default namespace, however it seems necessary to explicitly give an empty prefix now: <code>:root</code>.</p>\n</li>\n</ol>\n<p>Applying both changes will make the code return the node.</p>\n<pre><code>xpath.setNamespaceContext(new NamespaceContext() {\n    @Override\n    public String getNamespaceURI(String s) {\n        if (s.equals(&quot;abc&quot;)) {\n            return &quot;http://www.example.com/abc&quot;;\n        }\n        return &quot;http://www.example.com&quot;;\n    }\n\n    @Override\n    public String getPrefix(String s) {\n        return null;\n    }\n\n    @Override\n    public Iterator&lt;String&gt; getPrefixes(String s) {\n        return null;\n    }\n});\n\nXPathExpression expr = xpath.compile(&quot;//abc:test-object/:root&quot;);\nNode node = (Node) expr.evaluate(doc, XPathConstants.NODE);\nSystem.out.println(node == null ? &quot;null&quot; : node);  // just to show\n</code></pre>\n<p>Output:</p>\n<pre><code>[root: null]\n</code></pre>\n<hr />\n<p><em>Update:</em> As <a href=\"https://stackoverflow.com/users/252228/martin-honnen\">Martin Honnen</a> points out, although accepted by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\"><code>javax.xml.xpath</code></a>, <code>:root</code> is not a valid XPath expression. Also, <code>javax.xml.xpath</code> is only XPath 1.0 compliant. I've found another, rather verbose way to select the node with <code>//abc:test-object/*[local-name()=\\&quot;root\\&quot;]</code>, but it probably makes more sense to either just</p>\n<ul>\n<li>use namespace prefixes or</li>\n<li>use an XPath 2.0 compliant library</li>\n</ul>\n"}],"owner":{"account_id":3002780,"reputation":45,"user_id":2562924,"display_name":"dominikm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74882040,"answer_count":1,"score":1,"last_activity_date":1671665634,"creation_date":1671649152,"question_id":74880643,"body_markdown":"I have the following xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;\r\n&lt;abc:root-example xmlns:abc=&quot;http://www.example.com/abc&quot;&gt;\r\n  &lt;abc:test-object Name=&quot;DesiredObject&quot;&gt;\r\n    &lt;root xmlns=&quot;http://www.example.com&quot;&gt;\r\n      &lt;value&gt;Hello world&lt;/value&gt;\r\n    &lt;/root&gt;\r\n  &lt;/abc:test-object&gt;\r\n&lt;/abc:root-example&gt;\r\n```\r\n\r\nand the following java code\r\n```\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\ndbf.setNamespaceAware(true);\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\nDocument doc = db.parse(xmlFilePath.toFile());\r\n\r\nXPath xpath = XPathFactory.newInstance().newXPath();\r\n\r\nxpath.setNamespaceContext(new NamespaceContext() {\r\n\t@Override\r\n\tpublic String getNamespaceURI(String s) {\r\n\t    if (s.equals(&quot;abc&quot;)) {\r\n\t\t    return &quot;http://www.example.com/abc&quot;;\r\n\t    }\r\n\t    return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getPrefix(String s) {\r\n\t    return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Iterator&lt;String&gt; getPrefixes(String s) {\r\n\t    return null;\r\n\t}\r\n});\r\n\r\nXPathExpression expr = xpath.compile(&quot;//abc:test-object/root&quot;);\r\nNode node = (Node) expr.evaluate(doc, XPathConstants.NODE);\r\n```\r\n\r\nThe final node here always ends up being null. If I remove `xmlns=&quot;http://www.example.com&quot;` from the `root` node, then the evaluation returns the expected node. It&#39;s unclear to me how I properly format the XPath request to get the node. I believe it has something to do with `root` using a different default namespace, but am having difficult figuring it out.","title":"How to get xml element with nested default namespace with XPath","body":"<p>I have the following xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;\n&lt;abc:root-example xmlns:abc=&quot;http://www.example.com/abc&quot;&gt;\n  &lt;abc:test-object Name=&quot;DesiredObject&quot;&gt;\n    &lt;root xmlns=&quot;http://www.example.com&quot;&gt;\n      &lt;value&gt;Hello world&lt;/value&gt;\n    &lt;/root&gt;\n  &lt;/abc:test-object&gt;\n&lt;/abc:root-example&gt;\n</code></pre>\n<p>and the following java code</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(xmlFilePath.toFile());\n\nXPath xpath = XPathFactory.newInstance().newXPath();\n\nxpath.setNamespaceContext(new NamespaceContext() {\n    @Override\n    public String getNamespaceURI(String s) {\n        if (s.equals(&quot;abc&quot;)) {\n            return &quot;http://www.example.com/abc&quot;;\n        }\n        return null;\n    }\n\n    @Override\n    public String getPrefix(String s) {\n        return null;\n    }\n\n    @Override\n    public Iterator&lt;String&gt; getPrefixes(String s) {\n        return null;\n    }\n});\n\nXPathExpression expr = xpath.compile(&quot;//abc:test-object/root&quot;);\nNode node = (Node) expr.evaluate(doc, XPathConstants.NODE);\n</code></pre>\n<p>The final node here always ends up being null. If I remove <code>xmlns=&quot;http://www.example.com&quot;</code> from the <code>root</code> node, then the evaluation returns the expected node. It's unclear to me how I properly format the XPath request to get the node. I believe it has something to do with <code>root</code> using a different default namespace, but am having difficult figuring it out.</p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1341838806,"post_id":11395508,"comment_id":15022923,"body_markdown":"It feels much more likely to me that you&#39;ve *actually* got the wrong filename - quite possibly from unescaped backslashes. Have you changed the code *at all*?","body":"It feels much more likely to me that you&#39;ve <i>actually</i> got the wrong filename - quite possibly from unescaped backslashes. Have you changed the code <i>at all</i>?"},{"owner":{"account_id":1043894,"reputation":5206,"user_id":1049280,"accept_rate":64,"display_name":"user1049280"},"score":0,"creation_date":1341839173,"post_id":11395508,"comment_id":15023082,"body_markdown":"No, I just have changed this string `ZipInputStream zipinputstream = new ZipInputStream(new FileInputStream(&quot;filename&quot;));` - instead of `filename` I put `/home/123456/archive.zip`","body":"No, I just have changed this string <code>ZipInputStream zipinputstream = new ZipInputStream(new FileInputStream(&quot;filename&quot;));</code> - instead of <code>filename</code> I put <code>&#47;home&#47;123456&#47;archive.zip</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1341844166,"post_id":11395508,"comment_id":15025549,"body_markdown":"And that&#39;s the line that&#39;s throwing the exception? How have you validated that that file exists and is readable?","body":"And that&#39;s the line that&#39;s throwing the exception? How have you validated that that file exists and is readable?"},{"owner":{"account_id":1043894,"reputation":5206,"user_id":1049280,"accept_rate":64,"display_name":"user1049280"},"score":0,"creation_date":1341901591,"post_id":11395508,"comment_id":15042643,"body_markdown":"no, exception is thrown by this line `RandomAccessFile  rf = new RandomAccessFile(entryName, &quot;r&quot;);`\nFile is readable because it works correct if I use `ZipFile` and its&#39; method `getInputStream(ZipEntry)`","body":"no, exception is thrown by this line <code>RandomAccessFile  rf = new RandomAccessFile(entryName, &quot;r&quot;);</code> File is readable because it works correct if I use <code>ZipFile</code> and its&#39; method <code>getInputStream(ZipEntry)</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1341924833,"post_id":11395508,"comment_id":15052107,"body_markdown":"And this is why it&#39;s important to be descriptive in your questions... what is the value of `entryName` when it fails?","body":"And this is why it&#39;s important to be descriptive in your questions... what is the value of <code>entryName</code> when it fails?"},{"owner":{"account_id":1043894,"reputation":5206,"user_id":1049280,"accept_rate":64,"display_name":"user1049280"},"score":0,"creation_date":1342010314,"post_id":11395508,"comment_id":15082619,"body_markdown":"I have absolutely the same code as in the example. My zip-file is readable, and the entry inside is readable either, I&#39;ve already tested it.","body":"I have absolutely the same code as in the example. My zip-file is readable, and the entry inside is readable either, I&#39;ve already tested it."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1342034966,"post_id":11395508,"comment_id":15094341,"body_markdown":"You still haven&#39;t answered the question about the value of `entryName`...","body":"You still haven&#39;t answered the question about the value of <code>entryName</code>..."},{"owner":{"account_id":1043894,"reputation":5206,"user_id":1049280,"accept_rate":64,"display_name":"user1049280"},"score":0,"creation_date":1342079421,"post_id":11395508,"comment_id":15106066,"body_markdown":"the value of `entryName` is `&quot;myFile&quot;`","body":"the value of <code>entryName</code> is <code>&quot;myFile&quot;</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1342081959,"post_id":11395508,"comment_id":15106993,"body_markdown":"With no path information etc? (I&#39;m not sure that continuing with comments like this is productive, to be honest...)","body":"With no path information etc? (I&#39;m not sure that continuing with comments like this is productive, to be honest...)"},{"owner":{"account_id":1043894,"reputation":5206,"user_id":1049280,"accept_rate":64,"display_name":"user1049280"},"score":0,"creation_date":1342095163,"post_id":11395508,"comment_id":15112661,"body_markdown":"Look at the original example, `String entryName = zipentry.getName();` The `getName()` method returns only entry&#39;s inner path, e.g. if I put folder `abc` witch file `def.txt` inside to zip archive and then try to read this entry, `getName()` method will return me `&quot;abc/def.txt&quot;` with no info about absolute path","body":"Look at the original example, <code>String entryName = zipentry.getName();</code> The <code>getName()</code> method returns only entry&#39;s inner path, e.g. if I put folder <code>abc</code> witch file <code>def.txt</code> inside to zip archive and then try to read this entry, <code>getName()</code> method will return me <code>&quot;abc&#47;def.txt&quot;</code> with no info about absolute path"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1504498847,"post_id":11395508,"comment_id":79020343,"body_markdown":"Second link now broken, unsurprisingly. Unclear why you would be looking for such a thing in the first place: you certainly won&#39;t find one.","body":"Second link now broken, unsurprisingly. Unclear why you would be looking for such a thing in the first place: you certainly won&#39;t find one."}],"answers":[{"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1671468947,"post_id":11572452,"comment_id":132100779,"body_markdown":"Zip entries are compressed, not encrypted.","body":"Zip entries are compressed, not encrypted."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1671468999,"post_id":11572452,"comment_id":132100795,"body_markdown":"Consider to use the NIO.2 File API instead of working with the low-level ZiPInputStream API. See my answer.","body":"Consider to use the NIO.2 File API instead of working with the low-level ZiPInputStream API. See my answer."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":0,"creation_date":1671564506,"post_id":11572452,"comment_id":132125296,"body_markdown":"Thanks, @Puce I&#39;ve updated to read &#39;encoded&#39; instead of &#39;encrypted&#39; (this post is from more than 10 years ago, much has changed - thanks for adding the NIO.2 approach!).","body":"Thanks, @Puce I&#39;ve updated to read &#39;encoded&#39; instead of &#39;encrypted&#39; (this post is from more than 10 years ago, much has changed - thanks for adding the NIO.2 approach!)."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1671568883,"post_id":11572452,"comment_id":132126476,"body_markdown":"Encoding is still something else (e.g. UTF-8). Here the data are compressed: https://en.wikipedia.org/wiki/ZIP_(file_format)","body":"Encoding is still something else (e.g. UTF-8). Here the data are compressed: <a href=\"https://en.wikipedia.org/wiki/ZIP_(file_format)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ZIP_(file_format)</a>"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1671568985,"post_id":11572452,"comment_id":132126501,"body_markdown":"Oh, true, it&#39;s an old post. Strange that it popped up.","body":"Oh, true, it&#39;s an old post. Strange that it popped up."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":1,"creation_date":1671665426,"post_id":11572452,"comment_id":132150314,"body_markdown":"@Puce ok - I could probably make an argument that &#39;encoding&#39; is a generic term (i.e. UTF-8 is an example of a charset encoding, but &#39;encoding&#39; is a very broad term), and over the years, I have absolutely seen &#39;zip encoding&#39; referenced - but it is more clear to describe the stream as zip compressed, so I&#39;ll adjust the wording for clarity.","body":"@Puce ok - I could probably make an argument that &#39;encoding&#39; is a generic term (i.e. UTF-8 is an example of a charset encoding, but &#39;encoding&#39; is a very broad term), and over the years, I have absolutely seen &#39;zip encoding&#39; referenced - but it is more clear to describe the stream as zip compressed, so I&#39;ll adjust the wording for clarity."}],"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":6,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1671665545,"creation_date":1342754865,"answer_id":11572452,"question_id":11395508,"body_markdown":"I think this is a case where un-vetted code winds up on the internets and causes no end of problems.\r\n \r\nThere is no way the code in those two examples is going to do anything useful.  The only way that code would do anything is if the contents of the zip file had already been extracted into the folder that contains the zip.\r\n\r\nLong and short: you can&#39;t use RAF with ZipEntry because the ZipEntry refers to a compressed stream.  You can&#39;t do random access on a stream (unless you decompress the whole thing and buffer the results).\r\n\r\nIt&#39;s really interesting to me how:\r\n\r\na) the code in the java-tips article doesn&#39;t follow proper naming conventions for Java\r\nb) the code in both articles is astoundingly similar\r\n\r\n[Here&#39;s sample code that shows how to properly use ZipInputStream](http://web.archive.org/web/20090212184031/http://java.sun.com/developer/technicalArticles/Programming/compression/)","title":"RandomAccessFile from ZipEntry (java)","body":"<p>I think this is a case where un-vetted code winds up on the internets and causes no end of problems.</p>\n<p>There is no way the code in those two examples is going to do anything useful.  The only way that code would do anything is if the contents of the zip file had already been extracted into the folder that contains the zip.</p>\n<p>Long and short: you can't use RAF with ZipEntry because the ZipEntry refers to a compressed stream.  You can't do random access on a stream (unless you decompress the whole thing and buffer the results).</p>\n<p>It's really interesting to me how:</p>\n<p>a) the code in the java-tips article doesn't follow proper naming conventions for Java\nb) the code in both articles is astoundingly similar</p>\n<p><a href=\"http://web.archive.org/web/20090212184031/http://java.sun.com/developer/technicalArticles/Programming/compression/\" rel=\"nofollow noreferrer\">Here's sample code that shows how to properly use ZipInputStream</a></p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671468906,"creation_date":1671468906,"answer_id":74853594,"question_id":11395508,"body_markdown":"With the NIO.2 File API (Java 7) working with zip files becomes much easier.\r\n\r\nTry (untested):\r\n\r\n    try (FileSystem zipFS =  FileSystems.newFileSystem(URI.create(&quot;jar:&quot; + zipURI), Map.of())) {  \r\n        Path targetInZipPath = zipFS.getPath(targetInZipPathString);  \r\n    \r\n        // do something here \r\n    }   \r\n\r\nRead more about the ZIP filesystem (JDK module jdk.zipfs) here: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html\r\n\r\n","title":"RandomAccessFile from ZipEntry (java)","body":"<p>With the NIO.2 File API (Java 7) working with zip files becomes much easier.</p>\n<p>Try (untested):</p>\n<pre><code>try (FileSystem zipFS =  FileSystems.newFileSystem(URI.create(&quot;jar:&quot; + zipURI), Map.of())) {  \n    Path targetInZipPath = zipFS.getPath(targetInZipPathString);  \n\n    // do something here \n}   \n</code></pre>\n<p>Read more about the ZIP filesystem (JDK module jdk.zipfs) here: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html</a></p>\n"}],"owner":{"account_id":1043894,"reputation":5206,"user_id":1049280,"accept_rate":64,"display_name":"user1049280"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2287,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":11572452,"answer_count":2,"score":3,"last_activity_date":1671665545,"creation_date":1341838669,"question_id":11395508,"body_markdown":"I was looking for something about reading zip-archives via RandomAccessFile. So, I found this example: http://www.java2s.com/Code/JavaAPI/java.io/RandomAccessFilereadLine.htm\nHowever it doesn&#39;t work for me, it tells that there&#39;s no such file or directory, but the file-path is right. Is this example incorrect?\n\nUPDATE: from docs.oracle.com:\n\n&gt;`RandomAccessFile(String name, String mode)`\n&gt;\n&gt;    Creates a random access file stream to read from, and optionally to write to, a file with the specified name.\n\nIt&#39;s weird that they try to create RAF with entryName as a &quot;name&quot; parameter in this example\n\nThere&#39;s one more example with the same thing: http://www.java-tips.org/java-se-tips/java.util.zip/how-to-read-files-within-a-zip-file-3.html","title":"RandomAccessFile from ZipEntry (java)","body":"<p>I was looking for something about reading zip-archives via RandomAccessFile. So, I found this example: <a href=\"http://www.java2s.com/Code/JavaAPI/java.io/RandomAccessFilereadLine.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/JavaAPI/java.io/RandomAccessFilereadLine.htm</a>\nHowever it doesn't work for me, it tells that there's no such file or directory, but the file-path is right. Is this example incorrect?</p>\n<p>UPDATE: from docs.oracle.com:</p>\n<blockquote>\n<p><code>RandomAccessFile(String name, String mode)</code></p>\n<p>Creates a random access file stream to read from, and optionally to write to, a file with the specified name.</p>\n</blockquote>\n<p>It's weird that they try to create RAF with entryName as a &quot;name&quot; parameter in this example</p>\n<p>There's one more example with the same thing: <a href=\"http://www.java-tips.org/java-se-tips/java.util.zip/how-to-read-files-within-a-zip-file-3.html\" rel=\"nofollow noreferrer\">http://www.java-tips.org/java-se-tips/java.util.zip/how-to-read-files-within-a-zip-file-3.html</a></p>\n"},{"tags":["java","android","android-studio","imageview","horizontal-scrolling"],"comments":[{"owner":{"account_id":9534903,"reputation":2579,"user_id":7085389,"display_name":"Shay Kin"},"score":0,"creation_date":1617714442,"post_id":66969069,"comment_id":118376776,"body_markdown":"why not use a **RecyclerView** with horizontal scrolling?","body":"why not use a <b>RecyclerView</b> with horizontal scrolling?"},{"owner":{"account_id":5260707,"reputation":72,"user_id":4202325,"display_name":"Arash"},"score":0,"creation_date":1617716178,"post_id":66969069,"comment_id":118377698,"body_markdown":"I don&#39;t know how it works, I&#39;m beginner in development for android, can you write the code for me and guide me how to use it?","body":"I don&#39;t know how it works, I&#39;m beginner in development for android, can you write the code for me and guide me how to use it?"},{"owner":{"account_id":9534903,"reputation":2579,"user_id":7085389,"display_name":"Shay Kin"},"score":0,"creation_date":1617717115,"post_id":66969069,"comment_id":118378214,"body_markdown":"please follow this [tutorial](https://demonuts.com/android-horizontal-recyclerview/)","body":"please follow this <a href=\"https://demonuts.com/android-horizontal-recyclerview/\" rel=\"nofollow noreferrer\">tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":16756161,"reputation":400,"user_id":12112060,"display_name":"Yegorf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617721668,"creation_date":1617721668,"answer_id":66971305,"question_id":66969069,"body_markdown":"The best solution - is to use vertical View Pager. Here you can see simple example and links to already implemented ones on GitHub - https://stackoverflow.com/questions/13477820/android-vertical-viewpager","title":"ImageView in HorizontalScrollView android","body":"<p>The best solution - is to use vertical View Pager. Here you can see simple example and links to already implemented ones on GitHub - <a href=\"https://stackoverflow.com/questions/13477820/android-vertical-viewpager\">Android: Vertical ViewPager</a></p>\n"}],"owner":{"account_id":5260707,"reputation":72,"user_id":4202325,"display_name":"Arash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671665331,"creation_date":1617713723,"question_id":66969069,"body_markdown":"I want to make a HorizontalScrollView including multiple ImageViews in android studio, It&#39;s easy, but I want it to show only single ImageView with width=match_parent on my screen, something like what you can see on Instagram posts, images are side by side, but you can see one image only, and you can scroll to next or previous images, please help me...","title":"ImageView in HorizontalScrollView android","body":"<p>I want to make a HorizontalScrollView including multiple ImageViews in android studio, It's easy, but I want it to show only single ImageView with width=match_parent on my screen, something like what you can see on Instagram posts, images are side by side, but you can see one image only, and you can scroll to next or previous images, please help me...</p>\n"},{"tags":["java","generics","java-8","classcastexception","overloading"],"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1432866322,"post_id":30517768,"comment_id":49114903,"body_markdown":"We had a similar method which was also called in hundreds of places. I replaced it introducing additional `Class&lt;T&gt; clazz` parameter. This way you can have an explicit error handling: either return null or throw some more specific exception. I just did this manually spending like half an hour. I advise you to do the same. I don&#39;t know how to automatize it, thus this is not qualified as an answer to your question.","body":"We had a similar method which was also called in hundreds of places. I replaced it introducing additional <code>Class&lt;T&gt; clazz</code> parameter. This way you can have an explicit error handling: either return null or throw some more specific exception. I just did this manually spending like half an hour. I advise you to do the same. I don&#39;t know how to automatize it, thus this is not qualified as an answer to your question."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1432898307,"post_id":30517768,"comment_id":49129789,"body_markdown":"There is a simple answer: *dont suppress unchecked warnings*. They already tell you that your code is wrong. If you want to fix your code now that it is too late, just search for occurrences of `@SuppressWarnings(&quot;unchecked&quot;)`","body":"There is a simple answer: <i>dont suppress unchecked warnings</i>. They already tell you that your code is wrong. If you want to fix your code now that it is too late, just search for occurrences of <code>@SuppressWarnings(&quot;unchecked&quot;)</code>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1433153075,"post_id":30517768,"comment_id":49211537,"body_markdown":"@Holger Could you please tell that to my colleague when he implemented this in 2011? ;-) I already knew it was a bad idea in the first place (although not as bad as it is now in Java 8). Also, there is no `@SuppressWarnings` on the method call themselves, it&#39;s only in the declaration of `getVal`. Removing this annotation here will thus not show any of the problematic usages.","body":"@Holger Could you please tell that to my colleague when he implemented this in 2011? ;-) I already knew it was a bad idea in the first place (although not as bad as it is now in Java 8). Also, there is no <code>@SuppressWarnings</code> on the method call themselves, it&#39;s only in the declaration of <code>getVal</code>. Removing this annotation here will thus not show any of the problematic usages."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1433153588,"post_id":30517768,"comment_id":49211858,"body_markdown":"Well, the way `getVal` has been declared *is* the problem. So looking for the annotation will lead you to the right spot. Then, fixing the signature will, of course, raise compiler errors at the callers so theyll be easy to find. Unless you use an IDE which refactors the signature and the callers in one go, which is a viable alternative. Of course, once the annotation has guided you to the problematic method, finding its callers works even without changing it, if you use a decent IDE. So the necessary tools are available","body":"Well, the way <code>getVal</code> has been declared <i>is</i> the problem. So looking for the annotation will lead you to the right spot. Then, fixing the signature will, of course, raise compiler errors at the callers so theyll be easy to find. Unless you use an IDE which refactors the signature and the callers in one go, which is a viable alternative. Of course, once the annotation has guided you to the problematic method, finding its callers works even without changing it, if you use a decent IDE. So the necessary tools are available"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1433159662,"post_id":30517768,"comment_id":49215594,"body_markdown":"I think this will be the way to go indeed. This does not really answer the question since I&#39;ll have to change much more code than the few problematic calls but at least it will solve our issue. Also, it seems that changing the return type to `Object` will automatically fix the problematic calls, so ironically there will be no change there (and I will maybe never know where they were :-).","body":"I think this will be the way to go indeed. This does not really answer the question since I&#39;ll have to change much more code than the few problematic calls but at least it will solve our issue. Also, it seems that changing the return type to <code>Object</code> will automatically fix the problematic calls, so ironically there will be no change there (and I will maybe never know where they were :-)."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1433419536,"post_id":30517768,"comment_id":49350792,"body_markdown":"I must add that even if I fixed our `getVal` method, I still fear that there are some other methods somewhere which may be declared similarly (maybe not in such an obvious way) which could cause the same issue, and be difficult to spot","body":"I must add that even if I fixed our <code>getVal</code> method, I still fear that there are some other methods somewhere which may be declared similarly (maybe not in such an obvious way) which could cause the same issue, and be difficult to spot"}],"answers":[{"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1432897556,"post_id":30527765,"comment_id":49129254,"body_markdown":"This is not an alternative since you impose that the return type is the same as the parameter (which in my case is a `String` and I cannot _easily_ change that). Also, the question is to identify the cases where overloaded method calls are different between Java 7 and 8, to avoid changing all of them or searching them by hand.","body":"This is not an alternative since you impose that the return type is the same as the parameter (which in my case is a <code>String</code> and I cannot <i>easily</i> change that). Also, the question is to identify the cases where overloaded method calls are different between Java 7 and 8, to avoid changing all of them or searching them by hand."}],"tags":[],"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452472789,"creation_date":1432896979,"answer_id":30527765,"question_id":30517768,"body_markdown":"A better alternative would be:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(String.valueOf(getVal(&quot;xxx&quot;))); // 7: prints the result, 8: Exception\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T&gt; T getVal(T param) {\r\n            // do some computation based on param...\r\n            return   param; // actual return type only depends on param so the caller knows what to expect\r\n        }\r\n    }\r\n\r\nwhich will work in both Java 7 and Java 8.","title":"How to detect ambiguous method calls that would cause a ClassCastException in Java 8?","body":"<p>A better alternative would be:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(String.valueOf(getVal(\"xxx\"))); // 7: prints the result, 8: Exception\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; T getVal(T param) {\n        // do some computation based on param...\n        return   param; // actual return type only depends on param so the caller knows what to expect\n    }\n}\n</code></pre>\n\n<p>which will work in both Java 7 and Java 8.</p>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452472109,"creation_date":1452472109,"answer_id":34712446,"question_id":30517768,"body_markdown":"In the end the solution was to change `getVal()` to return `Object`:\r\n\r\n        public static Object getVal(String param) {\r\n            // do some computation based on param...\r\n            return result;\r\n        }\r\n\r\nand add a second method that also takes the desired class as parameter:\r\n\r\n        public static &lt;T&gt; T getVal(String param, Class&lt;T&gt; clazz) {\r\n            return clazz.cast(getVal(param));\r\n        }\r\n\r\nthen fix all compilation issues (where caller didn&#39;t expect `Object`) by adding the appropriate class parameter.\r\n\r\nAdding a cast would have also worked but it would have caused a lot of warnings for unconditional casts. The unconditional cast is actually still there (through the `clazz` parameter), but this allows to easily identify all callers that need a cast as they use the method with 2 parameters.\r\n\r\nAdditionally  and this is very specific to this case  it appeared that the `param` itself was often the result of a method call on some `TypedParam&lt;T&gt;` where `T` was the expected return type of `getVal()`, and which also contained T&#39;s class.\r\n\r\nI could thus implement an additional convenience method:\r\n\r\n        public static &lt;T&gt; T getVal(TypedParam&lt;T&gt; param) {\r\n            return getVal(param.stringValue(), param.getValueClass());\r\n        }\r\n\r\nand replaced all `getVal(param.stringValue())` by just `getVal(param)`.\r\n\r\n**This solution does not resolve the general case**  _detect overloaded method calls that would differ between Java 7 and Java 8_  but it resolves it for methods that are known to cause this problem. And we didn&#39;t find it elsewhere since then.","title":"How to detect ambiguous method calls that would cause a ClassCastException in Java 8?","body":"<p>In the end the solution was to change <code>getVal()</code> to return <code>Object</code>:</p>\n\n<pre><code>    public static Object getVal(String param) {\n        // do some computation based on param...\n        return result;\n    }\n</code></pre>\n\n<p>and add a second method that also takes the desired class as parameter:</p>\n\n<pre><code>    public static &lt;T&gt; T getVal(String param, Class&lt;T&gt; clazz) {\n        return clazz.cast(getVal(param));\n    }\n</code></pre>\n\n<p>then fix all compilation issues (where caller didn't expect <code>Object</code>) by adding the appropriate class parameter.</p>\n\n<p>Adding a cast would have also worked but it would have caused a lot of warnings for unconditional casts. The unconditional cast is actually still there (through the <code>clazz</code> parameter), but this allows to easily identify all callers that need a cast as they use the method with 2 parameters.</p>\n\n<p>Additionally  and this is very specific to this case  it appeared that the <code>param</code> itself was often the result of a method call on some <code>TypedParam&lt;T&gt;</code> where <code>T</code> was the expected return type of <code>getVal()</code>, and which also contained T's class.</p>\n\n<p>I could thus implement an additional convenience method:</p>\n\n<pre><code>    public static &lt;T&gt; T getVal(TypedParam&lt;T&gt; param) {\n        return getVal(param.stringValue(), param.getValueClass());\n    }\n</code></pre>\n\n<p>and replaced all <code>getVal(param.stringValue())</code> by just <code>getVal(param)</code>.</p>\n\n<p><strong>This solution does not resolve the general case</strong>  <em>detect overloaded method calls that would differ between Java 7 and Java 8</em>  but it resolves it for methods that are known to cause this problem. And we didn't find it elsewhere since then.</p>\n"}],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1671664688,"creation_date":1432850297,"question_id":30517768,"body_markdown":"We are currently in the process of migrating an application from Java 7 to Java 8. After fixing a some compilation issues, I stumbled upon an issue similar to the following question: [ClassCast Error: Java 7 vs Java 8][1].\r\n\r\nTo summarise, here is a sample code that shows the issue:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(String.valueOf(getVal(&quot;xxx&quot;))); // 7: prints the result, 8: Exception \r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T&gt; T getVal(String param) {\r\n            // do some computation based on param...\r\n            return (T) result; // actual return type only depends on param so the caller knows what to expect\r\n        }\r\n    }\r\n\r\nThe idea was that we would trust that the caller knows the expected type, and this would avoid him an explicit cast (_Im not saying this was a good idea_). In a lot of cases, the caller just expects an `Object` so there was no implicit cast at all.\r\n\r\nAs stated in the question above, the `String.valueOf` example worked fine in Java 7 because there was no type inference, hence `Object` was assumed. Now in Java 8, the compiler chooses the most specific type (here `char[]`), which causes a `ClastCastException` at runtime.\r\n\r\nThe problem is that we have around 350 calls of this `getVal` method. **Is there a way to detect overloaded method calls that would differ between Java 7 and Java 8?** I.E. detect when the Java 8 compiler would select a different method from the Java 7 compiler.\r\n\r\n  [1]: https://stackoverflow.com/questions/23155907/classcast-error-java-7-vs-java-8","title":"How to detect ambiguous method calls that would cause a ClassCastException in Java 8?","body":"<p>We are currently in the process of migrating an application from Java 7 to Java 8. After fixing a some compilation issues, I stumbled upon an issue similar to the following question: <a href=\"https://stackoverflow.com/questions/23155907/classcast-error-java-7-vs-java-8\">ClassCast Error: Java 7 vs Java 8</a>.</p>\n<p>To summarise, here is a sample code that shows the issue:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(String.valueOf(getVal(&quot;xxx&quot;))); // 7: prints the result, 8: Exception \n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; T getVal(String param) {\n        // do some computation based on param...\n        return (T) result; // actual return type only depends on param so the caller knows what to expect\n    }\n}\n</code></pre>\n<p>The idea was that we would trust that the caller knows the expected type, and this would avoid him an explicit cast (<em>Im not saying this was a good idea</em>). In a lot of cases, the caller just expects an <code>Object</code> so there was no implicit cast at all.</p>\n<p>As stated in the question above, the <code>String.valueOf</code> example worked fine in Java 7 because there was no type inference, hence <code>Object</code> was assumed. Now in Java 8, the compiler chooses the most specific type (here <code>char[]</code>), which causes a <code>ClastCastException</code> at runtime.</p>\n<p>The problem is that we have around 350 calls of this <code>getVal</code> method. <strong>Is there a way to detect overloaded method calls that would differ between Java 7 and Java 8?</strong> I.E. detect when the Java 8 compiler would select a different method from the Java 7 compiler.</p>\n"},{"tags":["java","comments","javacc"],"answers":[{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671664563,"creation_date":1671664563,"answer_id":74882683,"question_id":74882682,"body_markdown":"Yes, the JavaCC format [supports Java-style comments][1].  E.g., \r\n\r\n&gt; White space in the grammar files also follows the same conventions as for the Java programming language. This includes the syntax for comments. Most comments present in the grammar files are generated into the generated parser/lexical analyzer. \r\n\r\n\r\n  [1]: https://www.cs.purdue.edu/homes/hosking/javacc/doc/javaccgrm.html","title":"Does the JavaCC (.jj) format support comments?","body":"<p>Yes, the JavaCC format <a href=\"https://www.cs.purdue.edu/homes/hosking/javacc/doc/javaccgrm.html\" rel=\"nofollow noreferrer\">supports Java-style comments</a>.  E.g.,</p>\n<blockquote>\n<p>White space in the grammar files also follows the same conventions as for the Java programming language. This includes the syntax for comments. Most comments present in the grammar files are generated into the generated parser/lexical analyzer.</p>\n</blockquote>\n"}],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671664563,"creation_date":1671664563,"question_id":74882682,"body_markdown":"Can comments be added to a JavaCC (.jj) specification file?  What style should they be?","title":"Does the JavaCC (.jj) format support comments?","body":"<p>Can comments be added to a JavaCC (.jj) specification file?  What style should they be?</p>\n"},{"tags":["java","http","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":1,"creation_date":1356374173,"post_id":14024625,"comment_id":19369822,"body_markdown":"What happens when you try to read both values from the same call? AFAIK there should be no problem with it. Also, keep in mind that it is possible, for error codes, that the server sends no content at all (for example, if there is no `whatever.blah.com` server).","body":"What happens when you try to read both values from the same call? AFAIK there should be no problem with it. Also, keep in mind that it is possible, for error codes, that the server sends no content at all (for example, if there is no <code>whatever.blah.com</code> server)."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1396635883,"post_id":14024625,"comment_id":34894141,"body_markdown":"See also http://stackoverflow.com/questions/5769717/how-can-i-get-an-http-response-body-as-a-string-in-java","body":"See also <a href=\"http://stackoverflow.com/questions/5769717/how-can-i-get-an-http-response-body-as-a-string-in-java\" title=\"how can i get an http response body as a string in java\">stackoverflow.com/questions/5769717/&hellip;</a>"},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1416592596,"post_id":14024625,"comment_id":42648172,"body_markdown":"I have added this to the jira board for the project https://issues.apache.org/jira/browse/HTTPCLIENT-1581","body":"I have added this to the jira board for the project <a href=\"https://issues.apache.org/jira/browse/HTTPCLIENT-1581\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/HTTPCLIENT-1581</a>"}],"answers":[{"comments":[{"owner":{"account_id":114038,"reputation":4244,"user_id":300053,"display_name":"eskatos"},"score":3,"creation_date":1412878670,"post_id":14024700,"comment_id":41242184,"body_markdown":"This works for 2xx status only, others will throw when using BasicResponseHandler, see my [answer](http://stackoverflow.com/a/26285342/300053).","body":"This works for 2xx status only, others will throw when using BasicResponseHandler, see my <a href=\"http://stackoverflow.com/a/26285342/300053\">answer</a>."},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1607879688,"post_id":14024700,"comment_id":115405140,"body_markdown":"You saved my day dude. Wondering how the dev world would have looked like if there was no SO. :-).","body":"You saved my day dude. Wondering how the dev world would have looked like if there was no SO. :-)."}],"tags":[],"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"comment_count":2,"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1584066957,"creation_date":1356374399,"answer_id":14024700,"question_id":14024625,"body_markdown":"Don&#39;t provide the handler to `execute`.\r\n\r\nGet the `HttpResponse` object, use the handler to get the body and get the status code from it directly\r\n\r\n    try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\r\n        final HttpGet httpGet = new HttpGet(GET_URL);\r\n        \r\n        try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\r\n            StatusLine statusLine = response.getStatusLine();\r\n            System.out.println(statusLine.getStatusCode() + &quot; &quot; + statusLine.getReasonPhrase());\r\n            String responseBody = EntityUtils.toString(response.getEntity(), StandardCharsets.UTF_8);\r\n            System.out.println(&quot;Response body: &quot; + responseBody);\r\n        }\r\n    }\r\n\r\nFor quick single calls, the fluent API is useful:\r\n\r\n```\r\nResponse response = Request.Get(uri)\r\n        .connectTimeout(MILLIS_ONE_SECOND)\r\n        .socketTimeout(MILLIS_ONE_SECOND)\r\n        .execute();\r\nHttpResponse httpResponse = response.returnResponse();\r\nStatusLine statusLine = httpResponse.getStatusLine();\r\n```\r\n\r\nFor older versions of java or httpcomponents, the code might look different.","title":"How to get HttpClient returning status code and response body?","body":"<p>Don't provide the handler to <code>execute</code>.</p>\n\n<p>Get the <code>HttpResponse</code> object, use the handler to get the body and get the status code from it directly</p>\n\n<pre><code>try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n    final HttpGet httpGet = new HttpGet(GET_URL);\n\n    try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\n        StatusLine statusLine = response.getStatusLine();\n        System.out.println(statusLine.getStatusCode() + \" \" + statusLine.getReasonPhrase());\n        String responseBody = EntityUtils.toString(response.getEntity(), StandardCharsets.UTF_8);\n        System.out.println(\"Response body: \" + responseBody);\n    }\n}\n</code></pre>\n\n<p>For quick single calls, the fluent API is useful:</p>\n\n<pre><code>Response response = Request.Get(uri)\n        .connectTimeout(MILLIS_ONE_SECOND)\n        .socketTimeout(MILLIS_ONE_SECOND)\n        .execute();\nHttpResponse httpResponse = response.returnResponse();\nStatusLine statusLine = httpResponse.getStatusLine();\n</code></pre>\n\n<p>For older versions of java or httpcomponents, the code might look different.</p>\n"},{"tags":[],"owner":{"account_id":114038,"reputation":4244,"user_id":300053,"display_name":"eskatos"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1412878606,"creation_date":1412878606,"answer_id":26285342,"question_id":14024625,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nBasicResponseHandler throws if the status is not 2xx. See its [javadoc](http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/BasicResponseHandler.html).\r\n\r\nHere is how I would do it:\r\n\r\n    HttpResponse response = client.execute( get );\r\n    int code = response.getStatusLine().getStatusCode();\r\n    InputStream body = response.getEntity().getContent();\r\n    // Read the body stream\r\n\r\nOr you can also write a ResponseHandler starting from BasicResponseHandler source that don&#39;t throw when the status is not 2xx.","title":"How to get HttpClient returning status code and response body?","body":"\n\n<p>BasicResponseHandler throws if the status is not 2xx. See its <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/BasicResponseHandler.html\">javadoc</a>.</p>\n\n<p>Here is how I would do it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>HttpResponse response = client.execute( get );\nint code = response.getStatusLine().getStatusCode();\nInputStream body = response.getEntity().getContent();\n// Read the body stream\n</code></pre>\n\n<p>Or you can also write a ResponseHandler starting from BasicResponseHandler source that don't throw when the status is not 2xx.</p>\n"},{"tags":[],"owner":{"account_id":3045270,"reputation":3818,"user_id":2581128,"display_name":"lkamal"},"comment_count":0,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1452593528,"creation_date":1452593528,"answer_id":34740784,"question_id":14024625,"body_markdown":"You can avoid the BasicResponseHandler, but use the HttpResponse itself to get both status and response as a String.\r\n\r\n    HttpResponse response = httpClient.execute(get);\r\n\r\n    // Getting the status code.\r\n    int statusCode = response.getStatusLine().getStatusCode();\r\n\r\n    // Getting the response body.\r\n    String responseBody = EntityUtils.toString(response.getEntity());\r\n\r\n","title":"How to get HttpClient returning status code and response body?","body":"<p>You can avoid the BasicResponseHandler, but use the HttpResponse itself to get both status and response as a String.</p>\n\n<pre><code>HttpResponse response = httpClient.execute(get);\n\n// Getting the status code.\nint statusCode = response.getStatusLine().getStatusCode();\n\n// Getting the response body.\nString responseBody = EntityUtils.toString(response.getEntity());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2142429,"reputation":111,"user_id":1900775,"display_name":"Edward Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480264003,"creation_date":1480264003,"answer_id":40831133,"question_id":14024625,"body_markdown":"Fluent facade API:\r\n\r\n    Response response = Request.Get(uri)\r\n            .connectTimeout(MILLIS_ONE_SECOND)\r\n            .socketTimeout(MILLIS_ONE_SECOND)\r\n            .execute();\r\n    HttpResponse httpResponse = response.returnResponse();\r\n    StatusLine statusLine = httpResponse.getStatusLine();\r\n    if (statusLine.getStatusCode() == HttpStatus.SC_OK) {\r\n        // ()\r\n        String responseContent = EntityUtils.toString(\r\n                httpResponse.getEntity(), StandardCharsets.UTF_8.name());\r\n    }","title":"How to get HttpClient returning status code and response body?","body":"<p>Fluent facade API:</p>\n\n<pre><code>Response response = Request.Get(uri)\n        .connectTimeout(MILLIS_ONE_SECOND)\n        .socketTimeout(MILLIS_ONE_SECOND)\n        .execute();\nHttpResponse httpResponse = response.returnResponse();\nStatusLine statusLine = httpResponse.getStatusLine();\nif (statusLine.getStatusCode() == HttpStatus.SC_OK) {\n    // ()\n    String responseContent = EntityUtils.toString(\n            httpResponse.getEntity(), StandardCharsets.UTF_8.name());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579887853,"creation_date":1489591338,"answer_id":42813938,"question_id":14024625,"body_markdown":"If you are using Spring \r\n\r\n    return new ResponseEntity&lt;String&gt;(&quot;your response&quot;, HttpStatus.ACCEPTED);","title":"How to get HttpClient returning status code and response body?","body":"<p>If you are using Spring </p>\n\n<pre><code>return new ResponseEntity&lt;String&gt;(\"your response\", HttpStatus.ACCEPTED);\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165006,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":14024700,"answer_count":5,"score":63,"last_activity_date":1671664373,"creation_date":1356373862,"question_id":14024625,"body_markdown":"I am trying to get Apache HttpClient to fire an HTTP request, and then display the HTTP response code (200, 404, 500, etc.) as well as the HTTP response body (text string). It is important to note that I am using `v4.2.2` because most HttpClient examples out there are from `v.3.x.x` and the API changed greatly from version 3 to version 4.\r\n\r\nUnfortunately I&#39;ve only been able to get HttpClient returning the status code **or** the response body (but not both).\r\n\r\nHere&#39;s what I have:\r\n\r\n    // Getting the status code.\r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpGet httpGet = new HttpGet(&quot;http://whatever.blah.com&quot;);\r\n    HttpResponse resp = client.execute(httpGet);\r\n\r\n    int statusCode = resp.getStatusLine().getStatusCode();\r\n\r\n\r\n    // Getting the response body.\r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpGet httpGet = new HttpGet(&quot;http://whatever.blah.com&quot;);\r\n    ResponseHandler&lt;String&gt; handler = new BasicResponseHandler();\r\n\r\n    String body = client.execute(httpGet, handler);\r\n\r\nSo I ask: **Using the `v4.2.2` library, how can I obtain both status code and response body from the same `client.execute(...)` call?**","title":"How to get HttpClient returning status code and response body?","body":"<p>I am trying to get Apache HttpClient to fire an HTTP request, and then display the HTTP response code (200, 404, 500, etc.) as well as the HTTP response body (text string). It is important to note that I am using <code>v4.2.2</code> because most HttpClient examples out there are from <code>v.3.x.x</code> and the API changed greatly from version 3 to version 4.</p>\n<p>Unfortunately I've only been able to get HttpClient returning the status code <strong>or</strong> the response body (but not both).</p>\n<p>Here's what I have:</p>\n<pre><code>// Getting the status code.\nHttpClient client = new DefaultHttpClient();\nHttpGet httpGet = new HttpGet(&quot;http://whatever.blah.com&quot;);\nHttpResponse resp = client.execute(httpGet);\n\nint statusCode = resp.getStatusLine().getStatusCode();\n\n\n// Getting the response body.\nHttpClient client = new DefaultHttpClient();\nHttpGet httpGet = new HttpGet(&quot;http://whatever.blah.com&quot;);\nResponseHandler&lt;String&gt; handler = new BasicResponseHandler();\n\nString body = client.execute(httpGet, handler);\n</code></pre>\n<p>So I ask: <strong>Using the <code>v4.2.2</code> library, how can I obtain both status code and response body from the same <code>client.execute(...)</code> call?</strong></p>\n"},{"tags":["java","javadoc","netbeans-7"],"answers":[{"comments":[{"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"score":0,"creation_date":1482819883,"post_id":18165485,"comment_id":69882515,"body_markdown":"encoding is not locale.","body":"encoding is not locale."}],"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376161892,"creation_date":1376161892,"answer_id":18165485,"question_id":18165241,"body_markdown":"\r\nIf you&#39;re not using Maven with Netbeans then you&#39;re using Netbeans&#39; own Ant build scripts. \r\n\r\nIn the `nbproject` folder inside your project you&#39;ll find a `project.properties` file that has a `javadoc.encoding` entry.  ","title":"How to set javadoc parameters in netbeans","body":"<p>If you're not using Maven with Netbeans then you're using Netbeans' own Ant build scripts. </p>\n\n<p>In the <code>nbproject</code> folder inside your project you'll find a <code>project.properties</code> file that has a <code>javadoc.encoding</code> entry.  </p>\n"},{"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482843241,"creation_date":1482820815,"answer_id":41340238,"question_id":18165241,"body_markdown":"In **build-impl.xml**, add the locale option:\r\n     \r\n\r\n&gt;   &amp;lt;javadoc ... **locale=&quot;en_US&quot;**&gt;\r\n\r\nOr, in project properties/build/documenting/add additional options:\r\n\r\n&gt; **-locale &quot;en_US&quot;**\r\n","title":"How to set javadoc parameters in netbeans","body":"<p>In <strong>build-impl.xml</strong>, add the locale option:</p>\n\n<blockquote>\n  <p>&lt;javadoc ... <strong>locale=\"en_US\"</strong>></p>\n</blockquote>\n\n<p>Or, in project properties/build/documenting/add additional options:</p>\n\n<blockquote>\n  <p><strong>-locale \"en_US\"</strong></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1671281357,"post_id":53402424,"comment_id":132068251,"body_markdown":"can&#39;t find &quot;Documenting&quot; it there today","body":"can&#39;t find &quot;Documenting&quot; it there today"}],"tags":[],"owner":{"account_id":3984083,"reputation":321,"user_id":3285233,"display_name":"trindflo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671663741,"creation_date":1542752213,"answer_id":53402424,"question_id":18165241,"body_markdown":"In NetBeans 9, you can right-click on the project and select Properties then select Documenting.  You can add javadoc options (e.g. -locale) in the box labeled &#39;Additional Javadoc Options:&#39;.  I don&#39;t have NetBeans 7 to verify it works the same way in that version.\r\n\r\nIn version 12, right-click on the project, select Properties then expand &#39;Build&#39; then select Documenting.  There you will find the &#39;Additional Javadoc Options:&#39;.","title":"How to set javadoc parameters in netbeans","body":"<p>In NetBeans 9, you can right-click on the project and select Properties then select Documenting.  You can add javadoc options (e.g. -locale) in the box labeled 'Additional Javadoc Options:'.  I don't have NetBeans 7 to verify it works the same way in that version.</p>\n<p>In version 12, right-click on the project, select Properties then expand 'Build' then select Documenting.  There you will find the 'Additional Javadoc Options:'.</p>\n"}],"owner":{"account_id":476002,"reputation":13268,"user_id":886669,"accept_rate":73,"display_name":"yasar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1371,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1671663741,"creation_date":1376160387,"question_id":18165241,"body_markdown":"I have just found out that javadoc is yet another program that is broken when it comes to Turkish locale and [it won&#39;t fix.][1] Luckily, there is a `-locale` option that I could set from command line. However, I don&#39;t want to work with cmd.exe. Is there a way to change parameters passed from netbeans to javadoc?\r\n\r\n\r\n  [1]: https://netbeans.org/bugzilla/show_bug.cgi?id=223794","title":"How to set javadoc parameters in netbeans","body":"<p>I have just found out that javadoc is yet another program that is broken when it comes to Turkish locale and <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=223794\" rel=\"nofollow\">it won't fix.</a> Luckily, there is a <code>-locale</code> option that I could set from command line. However, I don't want to work with cmd.exe. Is there a way to change parameters passed from netbeans to javadoc?</p>\n"},{"tags":["java","security","encryption","reverse-engineering","bouncycastle"],"comments":[{"owner":{"account_id":131217,"reputation":4366,"user_id":331059,"accept_rate":65,"display_name":"Bwmat"},"score":1,"creation_date":1332355631,"post_id":9810859,"comment_id":12496201,"body_markdown":"Seems like it should be possible. I don&#39;t think it would be too hard to crack it though, just wait for the loader to decrypt the program and save it to disk...","body":"Seems like it should be possible. I don&#39;t think it would be too hard to crack it though, just wait for the loader to decrypt the program and save it to disk..."},{"owner":{"account_id":82234,"reputation":6628,"user_id":231382,"accept_rate":65,"display_name":"Hern&#225;n Eche"},"score":0,"creation_date":1332355633,"post_id":9810859,"comment_id":12496202,"body_markdown":"Reverse engineering the regular jar, decode the program and save it to a class file then reverse engineering again","body":"Reverse engineering the regular jar, decode the program and save it to a class file then reverse engineering again"},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":1,"creation_date":1332355701,"post_id":9810859,"comment_id":12496233,"body_markdown":"@Bwmat, the &quot;program&quot; would be on memory only. Never on disk.","body":"@Bwmat, the &quot;program&quot; would be on memory only. Never on disk."},{"owner":{"display_name":"user121356"},"score":0,"creation_date":1332355763,"post_id":9810859,"comment_id":12496264,"body_markdown":"Or just install an SSL proxy on the system this application is running on so you can see the decryption key as it is received by the loader. Or just look for it in the memory space of the loader. Or just grab the decrypted application from memory once it has been decrypted. I could go on, but you get the idea...","body":"Or just install an SSL proxy on the system this application is running on so you can see the decryption key as it is received by the loader. Or just look for it in the memory space of the loader. Or just grab the decrypted application from memory once it has been decrypted. I could go on, but you get the idea..."},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332355806,"post_id":9810859,"comment_id":12496281,"body_markdown":"@Hern&#225;n Eche the regular `jar` asks a key to a remote server that would only be served to the &quot;right&quot; machine using IP.","body":"@Hern&#225;n Eche the regular <code>jar</code> asks a key to a remote server that would only be served to the &quot;right&quot; machine using IP."},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332355948,"post_id":9810859,"comment_id":12496334,"body_markdown":"@jeffsix thanks. Any better solutions (using Java)?","body":"@jeffsix thanks. Any better solutions (using Java)?"},{"owner":{"display_name":"user121356"},"score":2,"creation_date":1332356095,"post_id":9810859,"comment_id":12496385,"body_markdown":"You cannot prevent reverse engineering of your application. You can only make it more difficult (slow down the process).","body":"You cannot prevent reverse engineering of your application. You can only make it more difficult (slow down the process)."},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332356328,"post_id":9810859,"comment_id":12496474,"body_markdown":"@jeffsix, thks! :) I should have pointed that out earlier. I know there is no definite here. Even the AES can and will be broken. I&#39;m looking for real-world ideas that would be possible to implement and create some trouble (apart from the easy on obfuscation).","body":"@jeffsix, thks! :) I should have pointed that out earlier. I know there is no definite here. Even the AES can and will be broken. I&#39;m looking for real-world ideas that would be possible to implement and create some trouble (apart from the easy on obfuscation)."},{"owner":{"account_id":8564,"reputation":235724,"user_id":15498,"accept_rate":76,"display_name":"Damien_The_Unbeliever"},"score":0,"creation_date":1332356887,"post_id":9810859,"comment_id":12496702,"body_markdown":"*Carefully* consider the amount of time you dedicate to this task, vs providing new and useful functionality to your customers. *most* customers will pay for a useful product, and not attempt to reverse engineer it (nor switch to a hacked version, so long as you&#39;re fair with them)","body":"<i>Carefully</i> consider the amount of time you dedicate to this task, vs providing new and useful functionality to your customers. <i>most</i> customers will pay for a useful product, and not attempt to reverse engineer it (nor switch to a hacked version, so long as you&#39;re fair with them)"},{"owner":{"account_id":214370,"reputation":5510,"user_id":468304,"accept_rate":100,"display_name":"cyber-monk"},"score":0,"creation_date":1332356972,"post_id":9810859,"comment_id":12496727,"body_markdown":"Just a thought, perhaps you could load the classes on one machine and them securely dispatch (serialize &gt; encrypt &gt; decrypt &gt; deserialize) them to another machine (mobile agents, an example is the aglet project http://aglets.sourceforge.net/)","body":"Just a thought, perhaps you could load the classes on one machine and them securely dispatch (serialize &gt; encrypt &gt; decrypt &gt; deserialize) them to another machine (mobile agents, an example is the aglet project <a href=\"http://aglets.sourceforge.net/\" rel=\"nofollow noreferrer\">aglets.sourceforge.net</a>)"},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332357022,"post_id":9810859,"comment_id":12496747,"body_markdown":"@Damien_The_Unbeliever there aren&#39;t any users. The program should be used by me alone. It&#39;s a modeled trading approach. The idea here is to protect (as far as possible) the intellectual property behind the models.","body":"@Damien_The_Unbeliever there aren&#39;t any users. The program should be used by me alone. It&#39;s a modeled trading approach. The idea here is to protect (as far as possible) the intellectual property behind the models."},{"owner":{"display_name":"user121356"},"score":0,"creation_date":1332357076,"post_id":9810859,"comment_id":12496766,"body_markdown":"If you&#39;re the only one using this...who are you concerned about reverse engineering it? And how would that person obtain access to it?","body":"If you&#39;re the only one using this...who are you concerned about reverse engineering it? And how would that person obtain access to it?"},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332357132,"post_id":9810859,"comment_id":12496785,"body_markdown":"@cyber-monk thks! That&#39;s actually a spin of what I was thinking on doing (keeping the source encrypted) vs serving the source from another machine but seams very interesting. Thanks for the tip.","body":"@cyber-monk thks! That&#39;s actually a spin of what I was thinking on doing (keeping the source encrypted) vs serving the source from another machine but seams very interesting. Thanks for the tip."},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332357251,"post_id":9810859,"comment_id":12496840,"body_markdown":"@jeffsix the code will probably run cloud based (and the recent linode hacks got me on alert) or it could eventually be run on a co-location machine for latency issues. Meaning that any number of people could have physical access to the machine.","body":"@jeffsix the code will probably run cloud based (and the recent linode hacks got me on alert) or it could eventually be run on a co-location machine for latency issues. Meaning that any number of people could have physical access to the machine."},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332357341,"post_id":9810859,"comment_id":12496866,"body_markdown":"@Damien_The_Unbeliever :) there is one. Me. But it&#39;s not for sale nor am I concerned about adding &quot;features&quot; as I&#39;m the only who should be using it. Please read the above comment as to why I&#39;m still worried about preserving the source-code.","body":"@Damien_The_Unbeliever :) there is one. Me. But it&#39;s not for sale nor am I concerned about adding &quot;features&quot; as I&#39;m the only who should be using it. Please read the above comment as to why I&#39;m still worried about preserving the source-code."},{"owner":{"display_name":"user121356"},"score":3,"creation_date":1332357439,"post_id":9810859,"comment_id":12496910,"body_markdown":"In that case, your time/effort/money is MUCH better spent making sure that appropriate physical access controls to this server are in place (as part of your colo agreement) and that the OS and other logical access points to at are properly locked down, configured, and monitored. The ROI for these steps is so much higher than trying to implement anti-RE within the actual application.","body":"In that case, your time/effort/money is MUCH better spent making sure that appropriate physical access controls to this server are in place (as part of your colo agreement) and that the OS and other logical access points to at are properly locked down, configured, and monitored. The ROI for these steps is so much higher than trying to implement anti-RE within the actual application."}],"answers":[{"comments":[{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332356101,"post_id":9810897,"comment_id":12496389,"body_markdown":"do take into account that were you to re-create the loader you would run-it in a different machine that would not be authorized by the remote server. Do you have a better solution (using Java)? Thanks.","body":"do take into account that were you to re-create the loader you would run-it in a different machine that would not be authorized by the remote server. Do you have a better solution (using Java)? Thanks."},{"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"score":0,"creation_date":1332356373,"post_id":9810897,"comment_id":12496494,"body_markdown":"@Frankie Why would it be ran on a different machine? Is your loader on a machine that no one would have access to? If that is the case then why are you worried about decompiling?","body":"@Frankie Why would it be ran on a different machine? Is your loader on a machine that no one would have access to? If that is the case then why are you worried about decompiling?"},{"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"score":0,"creation_date":1332356505,"post_id":9810897,"comment_id":12496545,"body_markdown":"@Frankie Is the machine running the loader somehow limited in functionality?  What&#39;s to stop an attacker from making a hacked loader jar and putting it back on the original machine?","body":"@Frankie Is the machine running the loader somehow limited in functionality?  What&#39;s to stop an attacker from making a hacked loader jar and putting it back on the original machine?"},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332356555,"post_id":9810897,"comment_id":12496565,"body_markdown":"@Andrew Finnell the loader will probably be run on a cloud server to which I&#39;ll have root access. The recent linode hacks have put me on alert.","body":"@Andrew Finnell the loader will probably be run on a cloud server to which I&#39;ll have root access. The recent linode hacks have put me on alert."},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332356635,"post_id":9810897,"comment_id":12496591,"body_markdown":"@Matt C If the machine where the loader runs gets compromised I&#39;m hoping I catch the hack in a short time-frame and can take pro-active measures.","body":"@Matt C If the machine where the loader runs gets compromised I&#39;m hoping I catch the hack in a short time-frame and can take pro-active measures."},{"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"score":0,"creation_date":1332436297,"post_id":9810897,"comment_id":12520229,"body_markdown":"@Andrew Finnell thanks for the answer. I&#39;m going with a hybrid and updated the question to reflect my final approach to the problem but your answer captures it in quite some detail.","body":"@Andrew Finnell thanks for the answer. I&#39;m going with a hybrid and updated the question to reflect my final approach to the problem but your answer captures it in quite some detail."}],"tags":[],"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1332356649,"creation_date":1332355582,"answer_id":9810897,"question_id":9810859,"body_markdown":"This is very possible using Class Loaders. But it is still very easy to decode your program. All one would need to do is change your Loader to write all the classes to disc before it loads them into memory with your custom ClassLoader. \r\n\r\n**Update**\r\n\r\nIf the Loader is something your users can execute then I would just need to decompile and replace the Loader JAR file to dump the classes to disk. Not only that I am certain there must be something that can take a memory dump of a JVM and output all of the loaded byte code.\r\n\r\nIf the Loader is on a locked machine in which users cannot obtain access, then what is the Use Case you are trying to solve?\r\n\r\nThe &quot;solutions&quot; to these problems are:\r\n\r\n1. Use an advanced Obfuscator that is designed to break decompilers.\r\n2. Prevent access to the JAR files themselves. Either through ACL&#39;s on the machine or by employing a remote server to execute the code you want secure. This is essentially how Web Applications work. There can be a substantial amount of IP or processing that Stackoverflow does but we would never have access to the back-end processing, on the result of the User Experience output. ","title":"Secure Java from reverse-engineering using industry grade encryption","body":"<p>This is very possible using Class Loaders. But it is still very easy to decode your program. All one would need to do is change your Loader to write all the classes to disc before it loads them into memory with your custom ClassLoader. </p>\n\n<p><strong>Update</strong></p>\n\n<p>If the Loader is something your users can execute then I would just need to decompile and replace the Loader JAR file to dump the classes to disk. Not only that I am certain there must be something that can take a memory dump of a JVM and output all of the loaded byte code.</p>\n\n<p>If the Loader is on a locked machine in which users cannot obtain access, then what is the Use Case you are trying to solve?</p>\n\n<p>The \"solutions\" to these problems are:</p>\n\n<ol>\n<li>Use an advanced Obfuscator that is designed to break decompilers.</li>\n<li>Prevent access to the JAR files themselves. Either through ACL's on the machine or by employing a remote server to execute the code you want secure. This is essentially how Web Applications work. There can be a substantial amount of IP or processing that Stackoverflow does but we would never have access to the back-end processing, on the result of the User Experience output. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671663507,"creation_date":1671663507,"answer_id":74882581,"question_id":9810859,"body_markdown":"Sure, it&#39;s all completely possible; by defining your own classloader you can use an arbitrarily complex process to generate the classes, which will then be available to be reverse engineered.\r\n\r\nThe only way to protect an algorithm from reverse engineering is to execute\r\nit remotely, in which case the problem becomes that all the inputs and outputs\r\nof the remotely executed code can&#39;t be trusted.\r\n","title":"Secure Java from reverse-engineering using industry grade encryption","body":"<p>Sure, it's all completely possible; by defining your own classloader you can use an arbitrarily complex process to generate the classes, which will then be available to be reverse engineered.</p>\n<p>The only way to protect an algorithm from reverse engineering is to execute\nit remotely, in which case the problem becomes that all the inputs and outputs\nof the remotely executed code can't be trusted.</p>\n"}],"owner":{"account_id":26201,"reputation":24775,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9810897,"answer_count":2,"score":7,"last_activity_date":1671663507,"creation_date":1332355419,"question_id":9810859,"body_markdown":"**Objective:**  \r\n\r\nSecure my Java application from reverse engineering.\r\n\r\n\r\n**Idea:**  \r\n\r\n 1. split the program into two halves (loader and program)\r\n 2. loader will be a regular jar\r\n 3. program will be an encrypted jar file (bouncycastle, AES?)\r\n 4. loader asks secure server (https) for a key to decode program\r\n 5. loader then decodes program and loads up it&#39;s classes\r\n\r\n**Questions:**  \r\n\r\nWould number 5 be possible?  \r\nHas anyone here done this?  \r\nDo you know any library already available?  \r\nCan you spot major pitfalls / would you do it differently?\r\n\r\n**Extra**  \r\n\r\nI know it is impossible to prevent full reverse engineering of the code.  \r\nI&#39;m just looking to make it harder and more traceable.","title":"Secure Java from reverse-engineering using industry grade encryption","body":"<p><strong>Objective:</strong>  </p>\n\n<p>Secure my Java application from reverse engineering.</p>\n\n<p><strong>Idea:</strong>  </p>\n\n<ol>\n<li>split the program into two halves (loader and program)</li>\n<li>loader will be a regular jar</li>\n<li>program will be an encrypted jar file (bouncycastle, AES?)</li>\n<li>loader asks secure server (https) for a key to decode program</li>\n<li>loader then decodes program and loads up it's classes</li>\n</ol>\n\n<p><strong>Questions:</strong>  </p>\n\n<p>Would number 5 be possible?<br>\nHas anyone here done this?<br>\nDo you know any library already available?<br>\nCan you spot major pitfalls / would you do it differently?</p>\n\n<p><strong>Extra</strong>  </p>\n\n<p>I know it is impossible to prevent full reverse engineering of the code.<br>\nI'm just looking to make it harder and more traceable.</p>\n"},{"tags":["java","android","android-layout","android-listview","android-arrayadapter"],"comments":[{"owner":{"account_id":1539681,"reputation":15923,"user_id":1434631,"display_name":"Nermeen"},"score":3,"creation_date":1365160232,"post_id":15832335,"comment_id":22524384,"body_markdown":"check http://stackoverflow.com/questions/13590627/android-listview-headers","body":"check <a href=\"http://stackoverflow.com/questions/13590627/android-listview-headers\" title=\"android listview headers\">stackoverflow.com/questions/13590627/android-listview-header&zwnj;&#8203;s</a>"},{"owner":{"account_id":1400204,"reputation":4794,"user_id":1329126,"accept_rate":100,"display_name":"Sankar V"},"score":1,"creation_date":1365160259,"post_id":15832335,"comment_id":22524401,"body_markdown":"create a custom adapter and override the getView() method to meet your need","body":"create a custom adapter and override the getView() method to meet your need"},{"owner":{"account_id":1465379,"reputation":28229,"user_id":1378388,"accept_rate":92,"display_name":"William Kinaan"},"score":1,"creation_date":1365160289,"post_id":15832335,"comment_id":22524422,"body_markdown":"you have to use baseadapter with xml layout for rows in your list view","body":"you have to use baseadapter with xml layout for rows in your list view"},{"owner":{"account_id":1624897,"reputation":717,"user_id":1500648,"display_name":"Amit"},"score":1,"creation_date":1365160304,"post_id":15832335,"comment_id":22524437,"body_markdown":"you have to create a custom layout.","body":"you have to create a custom layout."}],"answers":[{"tags":[],"owner":{"account_id":1313447,"reputation":3475,"user_id":1260926,"accept_rate":62,"display_name":"Ankitkumar Makwana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365160520,"creation_date":1365160520,"answer_id":15832496,"question_id":15832335,"body_markdown":"you can follow `BaseAdapter` and create your custome `Xml` file and bind it with you `BaseAdpter` and populate it with `Listview` [see here][1]  need to change `xml` file as Require.\r\n\r\n\r\n  [1]: http://theopentutorials.com/tutorials/android/listview/android-custom-listview-with-image-and-text-using-baseadapter/","title":"Android custom Row Item for ListView","body":"<p>you can follow <code>BaseAdapter</code> and create your custome <code>Xml</code> file and bind it with you <code>BaseAdpter</code> and populate it with <code>Listview</code> <a href=\"http://theopentutorials.com/tutorials/android/listview/android-custom-listview-with-image-and-text-using-baseadapter/\" rel=\"nofollow\">see here</a>  need to change <code>xml</code> file as Require.</p>\n"},{"comments":[{"owner":{"account_id":1472411,"reputation":1218,"user_id":1383623,"accept_rate":55,"display_name":"sarfarazsajjad"},"score":2,"creation_date":1431587939,"post_id":15832564,"comment_id":48565880,"body_markdown":"when working with a fragment what should be the argument in place of context which is first argument to yourAdapter constructor method &#39;listview.setAdapter(new yourAdapter(this, new String[] { &quot;data1&quot;,\n                &quot;data2&quot; }));&#39;","body":"when working with a fragment what should be the argument in place of context which is first argument to yourAdapter constructor method &#39;listview.setAdapter(new yourAdapter(this, new String[] { &quot;data1&quot;,                 &quot;data2&quot; }));&#39;"},{"owner":{"account_id":1104292,"reputation":1743,"user_id":1096030,"accept_rate":63,"display_name":"LowFieldTheory"},"score":0,"creation_date":1444208277,"post_id":15832564,"comment_id":53800569,"body_markdown":"Sorry that late, but I get null when I try to use .setText. Do you have any idea of what can it be?","body":"Sorry that late, but I get null when I try to use .setText. Do you have any idea of what can it be?"},{"owner":{"account_id":1465379,"reputation":28229,"user_id":1378388,"accept_rate":92,"display_name":"William Kinaan"},"score":0,"creation_date":1444208390,"post_id":15832564,"comment_id":53800648,"body_markdown":"@Novalink that means the `TextView text = (TextView) vi.findViewById(R.id.text);` is null, are you sure that the `R.id.text` is there?","body":"@Novalink that means the <code>TextView text = (TextView) vi.findViewById(R.id.text);</code> is null, are you sure that the <code>R.id.text</code> is there?"},{"owner":{"account_id":1104292,"reputation":1743,"user_id":1096030,"accept_rate":63,"display_name":"LowFieldTheory"},"score":0,"creation_date":1444209758,"post_id":15832564,"comment_id":53801608,"body_markdown":"my row.xml looks exactly like that, just there is a text1 and text2.","body":"my row.xml looks exactly like that, just there is a text1 and text2."},{"owner":{"account_id":1465379,"reputation":28229,"user_id":1378388,"accept_rate":92,"display_name":"William Kinaan"},"score":0,"creation_date":1444209898,"post_id":15832564,"comment_id":53801705,"body_markdown":"@Novalink post a new question and send me the link please","body":"@Novalink post a new question and send me the link please"}],"tags":[],"owner":{"account_id":1465379,"reputation":28229,"user_id":1378388,"accept_rate":92,"display_name":"William Kinaan"},"comment_count":5,"down_vote_count":0,"up_vote_count":179,"is_accepted":true,"score":179,"last_activity_date":1594967072,"creation_date":1365160738,"answer_id":15832564,"question_id":15832335,"body_markdown":"&lt;h3&gt;Add this row.xml to your layout folder&lt;/h3&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n        \r\n    &lt;TextView android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Header&quot;/&gt;\r\n    \r\n    &lt;TextView \r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/text&quot;/&gt;\r\n        \r\n        \r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;h3&gt;make your main xml layout as this&lt;/h3&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:orientation=&quot;horizontal&quot; &gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@+id/listview&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot; &gt;\r\n        &lt;/ListView&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nThis is your adapter\r\n\r\n    class yourAdapter extends BaseAdapter {\r\n    \r\n    \tContext context;\r\n    \tString[] data;\r\n    \tprivate static LayoutInflater inflater = null;\r\n    \r\n    \tpublic yourAdapter(Context context, String[] data) {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t\tthis.context = context;\r\n    \t\tthis.data = data;\r\n    \t\tinflater = (LayoutInflater) context\r\n    \t\t\t\t.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getCount() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn data.length;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object getItem(int position) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn data[position];\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long getItemId(int position) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn position;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic View getView(int position, View convertView, ViewGroup parent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tView vi = convertView;\r\n    \t\tif (vi == null)\r\n    \t\t\tvi = inflater.inflate(R.layout.row, null);\r\n    \t\tTextView text = (TextView) vi.findViewById(R.id.text);\r\n    \t\ttext.setText(data[position]);\r\n    \t\treturn vi;\r\n    \t}\r\n    }\r\n\r\n&lt;h3&gt;Your java activity  &lt;/h3&gt;\r\n\r\n    public class StackActivity extends Activity {\r\n    \r\n    \tListView listview;\r\n    \r\n    \t/** Called when the activity is first created. */\r\n    \t@Override\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.main);\r\n    \t\tlistview = (ListView) findViewById(R.id.listview);\r\n    \t\tlistview.setAdapter(new yourAdapter(this, new String[] { &quot;data1&quot;,\r\n    \t\t\t\t&quot;data2&quot; }));\r\n    \t}\r\n    }\r\n\r\n&lt;h3&gt; the results &lt;/h3&gt;\r\n\r\n![enter image description here][1]\r\n\r\n[1]: http://i.stack.imgur.com/IzoOH.jpg","title":"Android custom Row Item for ListView","body":"<h3>Add this row.xml to your layout folder</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n    \n&lt;TextView android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Header&quot;/&gt;\n\n&lt;TextView \n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/text&quot;/&gt;\n    \n    \n&lt;/LinearLayout&gt;\n</code></pre>\n<h3>make your main xml layout as this</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    android:orientation=&quot;horizontal&quot; &gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listview&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;fill_parent&quot; &gt;\n    &lt;/ListView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>This is your adapter</p>\n<pre><code>class yourAdapter extends BaseAdapter {\n\n    Context context;\n    String[] data;\n    private static LayoutInflater inflater = null;\n\n    public yourAdapter(Context context, String[] data) {\n        // TODO Auto-generated constructor stub\n        this.context = context;\n        this.data = data;\n        inflater = (LayoutInflater) context\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    }\n\n    @Override\n    public int getCount() {\n        // TODO Auto-generated method stub\n        return data.length;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        // TODO Auto-generated method stub\n        return data[position];\n    }\n\n    @Override\n    public long getItemId(int position) {\n        // TODO Auto-generated method stub\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        // TODO Auto-generated method stub\n        View vi = convertView;\n        if (vi == null)\n            vi = inflater.inflate(R.layout.row, null);\n        TextView text = (TextView) vi.findViewById(R.id.text);\n        text.setText(data[position]);\n        return vi;\n    }\n}\n</code></pre>\n<h3>Your java activity  </h3>\n<pre><code>public class StackActivity extends Activity {\n\n    ListView listview;\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        listview = (ListView) findViewById(R.id.listview);\n        listview.setAdapter(new yourAdapter(this, new String[] { &quot;data1&quot;,\n                &quot;data2&quot; }));\n    }\n}\n</code></pre>\n<h3> the results </h3>\n<p><img src=\"https://i.stack.imgur.com/IzoOH.jpg\" alt=\"enter image description here\" /></p>\n"},{"comments":[{"owner":{"account_id":509296,"reputation":217,"user_id":1603779,"display_name":"Jahaziel"},"score":0,"creation_date":1463685664,"post_id":15832623,"comment_id":62182760,"body_markdown":"This is the simplest method I&#39;ve found and it worked for me at first try. Target Api Level 16.","body":"This is the simplest method I&#39;ve found and it worked for me at first try. Target Api Level 16."}],"tags":[],"owner":{"account_id":1851318,"reputation":6677,"user_id":1677824,"accept_rate":83,"display_name":"Akhil"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1365160905,"creation_date":1365160905,"answer_id":15832623,"question_id":15832335,"body_markdown":"create resource layout file list_item.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              android:orientation=&quot;vertical&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;TextView\r\n            android:id=&quot;@+id/header_text&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Header&quot;\r\n            /&gt;\r\n    &lt;TextView\r\n            android:id=&quot;@+id/item_text&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;dynamic text&quot;\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nand initialise adaptor like this\r\n\r\n    adapter = new ArrayAdapter&lt;String&gt;(this, R.layout.list_item,R.id.item_text,data_array);\r\n","title":"Android custom Row Item for ListView","body":"<p>create resource layout file list_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:orientation=\"vertical\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"wrap_content\"&gt;\n&lt;TextView\n        android:id=\"@+id/header_text\"\n        android:layout_height=\"0dp\"\n        android:layout_width=\"fill_parent\"\n        android:layout_weight=\"1\"\n        android:text=\"Header\"\n        /&gt;\n&lt;TextView\n        android:id=\"@+id/item_text\"\n        android:layout_height=\"0dp\"\n        android:layout_width=\"fill_parent\"\n        android:layout_weight=\"1\"\n        android:text=\"dynamic text\"\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and initialise adaptor like this</p>\n\n<pre><code>adapter = new ArrayAdapter&lt;String&gt;(this, R.layout.list_item,R.id.item_text,data_array);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1948149,"reputation":562,"user_id":1752845,"accept_rate":71,"display_name":"Kalin Krastev"},"score":0,"creation_date":1501527826,"post_id":15832695,"comment_id":77808155,"body_markdown":"OnCreate after ll.SetAdapter(cus) application suddenly stops working","body":"OnCreate after ll.SetAdapter(cus) application suddenly stops working"},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":1,"creation_date":1501553447,"post_id":15832695,"comment_id":77817014,"body_markdown":"is it a crash?. if so crash log should help you fix the same","body":"is it a crash?. if so crash log should help you fix the same"},{"owner":{"account_id":1948149,"reputation":562,"user_id":1752845,"accept_rate":71,"display_name":"Kalin Krastev"},"score":0,"creation_date":1501577154,"post_id":15832695,"comment_id":77826980,"body_markdown":"Sorry, It was my fault. I am using AndroidAnnotations and the problem was I didn&#39;t use the correct R.layout.{layout_id}. Your code works fine.","body":"Sorry, It was my fault. I am using AndroidAnnotations and the problem was I didn&#39;t use the correct R.layout.{layout_id}. Your code works fine."}],"tags":[],"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1365161849,"creation_date":1365161108,"answer_id":15832695,"question_id":15832335,"body_markdown":"Use a custom Listview.\r\n\r\nYou can also customize how row looks by having a custom background.\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     android:layout_width=&quot;fill_parent&quot;\r\n     android:layout_height=&quot;fill_parent&quot;\r\n     android:orientation=&quot;vertical&quot; \r\n     android:background=&quot;#0095FF&quot;&gt; //background color\r\n \r\n    &lt;ListView android:id=&quot;@+id/list&quot;\r\n     android:layout_width=&quot;fill_parent&quot;\r\n     android:layout_height=&quot;0dip&quot;\r\n     android:focusableInTouchMode=&quot;false&quot;\r\n     android:listSelector=&quot;@android:color/transparent&quot;\r\n     android:layout_weight=&quot;2&quot;\r\n     android:headerDividersEnabled=&quot;false&quot;\r\n     android:footerDividersEnabled=&quot;false&quot;\r\n     android:dividerHeight=&quot;8dp&quot; \r\n     android:divider=&quot;#000000&quot; \r\n     android:cacheColorHint=&quot;#000000&quot;\r\n    android:drawSelectorOnTop=&quot;false&quot;&gt;\r\n    &lt;/ListView&gt;  \r\n   &lt;/LinearLayout&gt;\r\n\r\nMainActivity\r\n\r\nDefine populateString() in MainActivity\r\n\r\n     public class MainActivity extends Activity {\r\n\r\n       String data_array[];\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n                data_array = populateString(); \r\n\t\tListView ll = (ListView) findViewById(R.id.list);\r\n\t\tCustomAdapter cus = new CustomAdapter();\r\n\t\tll.setAdapter(cus);\r\n\t}\r\n        \r\n    class CustomAdapter extends BaseAdapter\r\n    {\r\n    \tLayoutInflater mInflater;\r\n\r\n    \t\r\n    \tpublic CustomAdapter()\r\n    \t{\r\n    \t\tmInflater = (LayoutInflater) MainActivity.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \t}\r\n\t\t@Override\r\n\t\tpublic int getCount() {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\treturn data_array.length;//listview item count. \r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object getItem(int position) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\treturn position; \r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic long getItemId(int position) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic View getView(int position, View convertView, ViewGroup parent) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tfinal ViewHolder vh;\r\n\t\t\tvh= new ViewHolder();\r\n\r\n\t\t\tif(convertView==null )\r\n\t\t     {\r\n\t\t\t\tconvertView=mInflater.inflate(R.layout.row, parent,false);\r\n\t\t                //inflate custom layour\r\n\t\t\t\tvh.tv2= (TextView)convertView.findViewById(R.id.textView2);\r\n\t\t\t\t\r\n\t\t     }\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t convertView.setTag(vh);\r\n\t\t\t}\r\n\t\t\t       //vh.tv2.setText(&quot;Position = &quot;+position);\r\n\t\t\t\tvh.tv2.setText(data_array[position]);\t\r\n                               //set text of second textview based on position\r\n                               \r\n\t\t\treturn convertView;\r\n\t\t}\r\n\t \r\n\t class ViewHolder\r\n\t {\r\n\t\tTextView tv1,tv2;\r\n\t }\r\n\t\t\t\r\n       }  \r\n    }\r\n\r\nrow.xml. Custom layout for each row.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     android:orientation=&quot;vertical&quot; &gt;\r\n\r\n     &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:text=&quot;Header&quot; /&gt;\r\n\r\n     &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:text=&quot;TextView&quot; /&gt;\r\n\r\n     &lt;/LinearLayout&gt;\r\n\r\nInflate a custom layout. Use a **view holder for smooth scrolling** and performance.\r\n\r\nhttp://developer.android.com/training/improving-layouts/smooth-scrolling.html\r\n\r\nhttp://www.youtube.com/watch?v=wDBM6wVEO70. The talk is about listview performance by android developers.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2YMIO.png","title":"Android custom Row Item for ListView","body":"<p>Use a custom Listview.</p>\n\n<p>You can also customize how row looks by having a custom background.\nactivity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n android:layout_width=\"fill_parent\"\n android:layout_height=\"fill_parent\"\n android:orientation=\"vertical\" \n android:background=\"#0095FF\"&gt; //background color\n\n&lt;ListView android:id=\"@+id/list\"\n android:layout_width=\"fill_parent\"\n android:layout_height=\"0dip\"\n android:focusableInTouchMode=\"false\"\n android:listSelector=\"@android:color/transparent\"\n android:layout_weight=\"2\"\n android:headerDividersEnabled=\"false\"\n android:footerDividersEnabled=\"false\"\n android:dividerHeight=\"8dp\" \n android:divider=\"#000000\" \n android:cacheColorHint=\"#000000\"\nandroid:drawSelectorOnTop=\"false\"&gt;\n&lt;/ListView&gt;  \n</code></pre>\n\n<p></p>\n\n<p>MainActivity</p>\n\n<p>Define populateString() in MainActivity</p>\n\n<pre><code> public class MainActivity extends Activity {\n\n   String data_array[];\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n            data_array = populateString(); \n    ListView ll = (ListView) findViewById(R.id.list);\n    CustomAdapter cus = new CustomAdapter();\n    ll.setAdapter(cus);\n}\n\nclass CustomAdapter extends BaseAdapter\n{\n    LayoutInflater mInflater;\n\n\n    public CustomAdapter()\n    {\n        mInflater = (LayoutInflater) MainActivity.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    }\n    @Override\n    public int getCount() {\n        // TODO Auto-generated method stub\n        return data_array.length;//listview item count. \n    }\n\n    @Override\n    public Object getItem(int position) {\n        // TODO Auto-generated method stub\n        return position; \n    }\n\n    @Override\n    public long getItemId(int position) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        // TODO Auto-generated method stub\n        final ViewHolder vh;\n        vh= new ViewHolder();\n\n        if(convertView==null )\n         {\n            convertView=mInflater.inflate(R.layout.row, parent,false);\n                    //inflate custom layour\n            vh.tv2= (TextView)convertView.findViewById(R.id.textView2);\n\n         }\n        else\n        {\n         convertView.setTag(vh);\n        }\n               //vh.tv2.setText(\"Position = \"+position);\n            vh.tv2.setText(data_array[position]);   \n                           //set text of second textview based on position\n\n        return convertView;\n    }\n\n class ViewHolder\n {\n    TextView tv1,tv2;\n }\n\n   }  \n}\n</code></pre>\n\n<p>row.xml. Custom layout for each row.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n android:layout_width=\"match_parent\"\n android:layout_height=\"match_parent\"\n android:orientation=\"vertical\" &gt;\n\n &lt;TextView\n    android:id=\"@+id/textView1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:text=\"Header\" /&gt;\n\n &lt;TextView\n    android:id=\"@+id/textView2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:text=\"TextView\" /&gt;\n\n &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Inflate a custom layout. Use a <strong>view holder for smooth scrolling</strong> and performance.</p>\n\n<p><a href=\"http://developer.android.com/training/improving-layouts/smooth-scrolling.html\" rel=\"noreferrer\">http://developer.android.com/training/improving-layouts/smooth-scrolling.html</a></p>\n\n<p><a href=\"http://www.youtube.com/watch?v=wDBM6wVEO70\" rel=\"noreferrer\">http://www.youtube.com/watch?v=wDBM6wVEO70</a>. The talk is about listview performance by android developers.</p>\n\n<p><img src=\"https://i.stack.imgur.com/2YMIO.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":16161782,"reputation":146,"user_id":11667657,"display_name":"Foster"},"score":0,"creation_date":1584585995,"post_id":36692098,"comment_id":107483983,"body_markdown":"I get &quot;variable studentList might not have been initialized&quot;. Any ideas?","body":"I get &quot;variable studentList might not have been initialized&quot;. Any ideas?"}],"tags":[],"owner":{"account_id":4809363,"reputation":631,"user_id":3883280,"accept_rate":0,"display_name":"Manikanta Reddy"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1460977793,"creation_date":1460977260,"answer_id":36692098,"question_id":15832335,"body_markdown":"**Step 1:Create a XML File**\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;LinearLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n        \r\n            &lt;ListView\r\n                android:id=&quot;@+id/lvItems&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n**Step 2:Studnet.java**\r\n\r\n    package com.scancode.acutesoft.telephonymanagerapp;\r\n    \r\n       \r\n    public class Student\r\n    {\r\n        String email,phone,address;\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public void setPhone(String phone) {\r\n            this.phone = phone;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    }\r\n\r\n**Step 3:MainActivity.java**\r\n\r\n   \r\n\r\n     package com.scancode.acutesoft.telephonymanagerapp;\r\n        \r\n        import android.app.Activity;\r\n        import android.os.Bundle;\r\n        import android.widget.ListView;\r\n        \r\n        import java.util.ArrayList;\r\n        \r\n        public class MainActivity extends Activity  {\r\n        \r\n            ListView lvItems;\r\n            ArrayList&lt;Student&gt; studentArrayList ;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n                lvItems = (ListView) findViewById(R.id.lvItems);\r\n                studentArrayList = new ArrayList&lt;Student&gt;();\r\n                dataSaving();\r\n                CustomAdapter adapter = new CustomAdapter(MainActivity.this,studentArrayList);\r\n                lvItems.setAdapter(adapter);\r\n            }\r\n        \r\n            private void dataSaving() {\r\n        \r\n                Student student = new Student();\r\n                student.setEmail(&quot;abc@gmail.com&quot;);\r\n                student.setPhone(&quot;1234567890&quot;);\r\n                student.setAddress(&quot;Hyderabad&quot;);\r\n                studentArrayList.add(student);\r\n        \r\n        \r\n                student = new Student();\r\n                student.setEmail(&quot;xyz@gmail.com&quot;);\r\n                student.setPhone(&quot;1234567890&quot;);\r\n                student.setAddress(&quot;Banglore&quot;);\r\n                studentArrayList.add(student);\r\n        \r\n                student = new Student();\r\n                student.setEmail(&quot;xyz@gmail.com&quot;);\r\n                student.setPhone(&quot;1234567890&quot;);\r\n                student.setAddress(&quot;Banglore&quot;);\r\n                studentArrayList.add(student);\r\n        \r\n                student = new Student();\r\n                student.setEmail(&quot;xyz@gmail.com&quot;);\r\n                student.setPhone(&quot;1234567890&quot;);\r\n                student.setAddress(&quot;Banglore&quot;);\r\n                studentArrayList.add(student);\r\n            }\r\n        \r\n        \r\n        }\r\n\r\n**Step 4:CustomAdapter.java**\r\n\r\n  \r\n\r\n      package com.scancode.acutesoft.telephonymanagerapp;\r\n        \r\n        import android.content.Context;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.widget.BaseAdapter;\r\n        import android.widget.TextView;\r\n        \r\n        import java.util.ArrayList;\r\n        \r\n        \r\n        public class CustomAdapter extends BaseAdapter\r\n        {\r\n            ArrayList&lt;Student&gt; studentList;\r\n            Context mContext;\r\n        \r\n        \r\n            public CustomAdapter(Context context, ArrayList&lt;Student&gt; studentArrayList) {\r\n                this.mContext = context;\r\n                this.studentList = studentArrayList;\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public int getCount() {\r\n                return studentList.size();\r\n            }\r\n            @Override\r\n            public Object getItem(int position) {\r\n                return position;\r\n            }\r\n        \r\n            @Override\r\n            public long getItemId(int position) {\r\n                return position;\r\n            }\r\n        \r\n            @Override\r\n            public View getView(int position, View convertView, ViewGroup parent) {\r\n        \r\n                Student student = studentList.get(position);\r\n                convertView = LayoutInflater.from(mContext).inflate(R.layout.student_row,null);\r\n        \r\n                TextView tvStudEmail = (TextView) convertView.findViewById(R.id.tvStudEmail);\r\n                TextView tvStudPhone = (TextView) convertView.findViewById(R.id.tvStudPhone);\r\n                TextView tvStudAddress = (TextView) convertView.findViewById(R.id.tvStudAddress);\r\n        \r\n                tvStudEmail.setText(student.getEmail());\r\n                tvStudPhone.setText(student.getPhone());\r\n                tvStudAddress.setText(student.getAddress());\r\n        \r\n        \r\n                return convertView;\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Android custom Row Item for ListView","body":"<p><strong>Step 1:Create a XML File</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n\n        &lt;ListView\n            android:id=\"@+id/lvItems\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            /&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Step 2:Studnet.java</strong></p>\n\n<pre><code>package com.scancode.acutesoft.telephonymanagerapp;\n\n\npublic class Student\n{\n    String email,phone,address;\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n}\n</code></pre>\n\n<p><strong>Step 3:MainActivity.java</strong></p>\n\n<pre><code> package com.scancode.acutesoft.telephonymanagerapp;\n\n    import android.app.Activity;\n    import android.os.Bundle;\n    import android.widget.ListView;\n\n    import java.util.ArrayList;\n\n    public class MainActivity extends Activity  {\n\n        ListView lvItems;\n        ArrayList&lt;Student&gt; studentArrayList ;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            lvItems = (ListView) findViewById(R.id.lvItems);\n            studentArrayList = new ArrayList&lt;Student&gt;();\n            dataSaving();\n            CustomAdapter adapter = new CustomAdapter(MainActivity.this,studentArrayList);\n            lvItems.setAdapter(adapter);\n        }\n\n        private void dataSaving() {\n\n            Student student = new Student();\n            student.setEmail(\"abc@gmail.com\");\n            student.setPhone(\"1234567890\");\n            student.setAddress(\"Hyderabad\");\n            studentArrayList.add(student);\n\n\n            student = new Student();\n            student.setEmail(\"xyz@gmail.com\");\n            student.setPhone(\"1234567890\");\n            student.setAddress(\"Banglore\");\n            studentArrayList.add(student);\n\n            student = new Student();\n            student.setEmail(\"xyz@gmail.com\");\n            student.setPhone(\"1234567890\");\n            student.setAddress(\"Banglore\");\n            studentArrayList.add(student);\n\n            student = new Student();\n            student.setEmail(\"xyz@gmail.com\");\n            student.setPhone(\"1234567890\");\n            student.setAddress(\"Banglore\");\n            studentArrayList.add(student);\n        }\n\n\n    }\n</code></pre>\n\n<p><strong>Step 4:CustomAdapter.java</strong></p>\n\n<pre><code>  package com.scancode.acutesoft.telephonymanagerapp;\n\n    import android.content.Context;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.widget.BaseAdapter;\n    import android.widget.TextView;\n\n    import java.util.ArrayList;\n\n\n    public class CustomAdapter extends BaseAdapter\n    {\n        ArrayList&lt;Student&gt; studentList;\n        Context mContext;\n\n\n        public CustomAdapter(Context context, ArrayList&lt;Student&gt; studentArrayList) {\n            this.mContext = context;\n            this.studentList = studentArrayList;\n\n        }\n\n        @Override\n        public int getCount() {\n            return studentList.size();\n        }\n        @Override\n        public Object getItem(int position) {\n            return position;\n        }\n\n        @Override\n        public long getItemId(int position) {\n            return position;\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n\n            Student student = studentList.get(position);\n            convertView = LayoutInflater.from(mContext).inflate(R.layout.student_row,null);\n\n            TextView tvStudEmail = (TextView) convertView.findViewById(R.id.tvStudEmail);\n            TextView tvStudPhone = (TextView) convertView.findViewById(R.id.tvStudPhone);\n            TextView tvStudAddress = (TextView) convertView.findViewById(R.id.tvStudAddress);\n\n            tvStudEmail.setText(student.getEmail());\n            tvStudPhone.setText(student.getPhone());\n            tvStudAddress.setText(student.getAddress());\n\n\n            return convertView;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1952751,"reputation":1627,"user_id":1756496,"accept_rate":83,"display_name":"pteixeira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141923,"favorite_count":0,"down_vote_count":2,"up_vote_count":77,"accepted_answer_id":15832564,"answer_count":5,"score":75,"last_activity_date":1671662936,"creation_date":1365160070,"question_id":15832335,"body_markdown":"I have a ListView that should have the following layout in its rows:\r\n\r\n    HEADER\r\n    Text\r\n\r\n`HEADER` should be static but the `Text` changes every few seconds.\r\n\r\nI implemented it by populating a `String[] array`, pass it to an `ArrayAdapter` and set it every time the data changes:\r\n\r\n    data_array = populateString();\r\n    adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, android.R.id.text1,  data_array);\r\n    listView.setAdapter(adapter);\r\n\r\nMy problem is that I do not know how to display the data in the format above.","title":"Android custom Row Item for ListView","body":"<p>I have a ListView that should have the following layout in its rows:</p>\n<pre><code>HEADER\nText\n</code></pre>\n<p><code>HEADER</code> should be static but the <code>Text</code> changes every few seconds.</p>\n<p>I implemented it by populating a <code>String[] array</code>, pass it to an <code>ArrayAdapter</code> and set it every time the data changes:</p>\n<pre><code>data_array = populateString();\nadapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, android.R.id.text1,  data_array);\nlistView.setAdapter(adapter);\n</code></pre>\n<p>My problem is that I do not know how to display the data in the format above.</p>\n"},{"tags":["java","class","object","instance-variables"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671662114,"creation_date":1671662114,"answer_id":74882425,"question_id":74882380,"body_markdown":"If these classes are designed to work closely together it can make sense to &#39;duplicate&#39; that data. You&#39;d have to weigh memory and maintenance effort for the copies versus speed when trying to access the data.\r\n\r\nYou can see similar patterns in many frameworks and libraries. Look at Java Swing, or at org.w3c.dom.Node and it&#39;s derivatives.","title":"Is there any benefit in in having an instance variable within a class which is an instance variable of another instance variable within that class","body":"<p>If these classes are designed to work closely together it can make sense to 'duplicate' that data. You'd have to weigh memory and maintenance effort for the copies versus speed when trying to access the data.</p>\n<p>You can see similar patterns in many frameworks and libraries. Look at Java Swing, or at org.w3c.dom.Node and it's derivatives.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671662287,"creation_date":1671662287,"answer_id":74882438,"question_id":74882380,"body_markdown":"There is no benefit, and worse they two values may differ. Don&#39;t do it.\r\n\r\nAs for &quot;performance&quot;, you could not measure the different between these two:\r\n\r\n    myPlayerManager.getPlayerConnection()\r\n    myPlayerManager.getPlayer().getPlayerConnection()\r\n\r\nAs for design, remove `getPlayerConnection()` from `Player` - how the player is currently connected is transient data that only the player manager needs to know, not an intrinsic attribute of the player.\r\n","title":"Is there any benefit in in having an instance variable within a class which is an instance variable of another instance variable within that class","body":"<p>There is no benefit, and worse they two values may differ. Don't do it.</p>\n<p>As for &quot;performance&quot;, you could not measure the different between these two:</p>\n<pre><code>myPlayerManager.getPlayerConnection()\nmyPlayerManager.getPlayer().getPlayerConnection()\n</code></pre>\n<p>As for design, remove <code>getPlayerConnection()</code> from <code>Player</code> - how the player is currently connected is transient data that only the player manager needs to know, not an intrinsic attribute of the player.</p>\n"},{"tags":[],"owner":{"account_id":56531,"reputation":129,"user_id":169336,"accept_rate":100,"display_name":"drewburlingame"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671662556,"creation_date":1671662556,"answer_id":74882465,"question_id":74882380,"body_markdown":"There are some benefits...\r\n\r\nPlayerManager does not depend on Player having those members. If a future version of Player does not need them, you can remove them without the need to change PlayerManager.\r\n\r\nIt is also more clear what PlayerManager depends on, which can be helpful when someone is learning the class for the first time.  During code reviews it&#39;s more obvious the dependencies changed than if the code starts access a property. It&#39;s also more obvious when searching for usages of PlayerConnection.\r\n\r\nThey&#39;re fairly minor benefits in small code bases or within small teams, but they can be helpful patterns when more people are involved or when working with a code base large enough that you can forget how parts of it work.","title":"Is there any benefit in in having an instance variable within a class which is an instance variable of another instance variable within that class","body":"<p>There are some benefits...</p>\n<p>PlayerManager does not depend on Player having those members. If a future version of Player does not need them, you can remove them without the need to change PlayerManager.</p>\n<p>It is also more clear what PlayerManager depends on, which can be helpful when someone is learning the class for the first time.  During code reviews it's more obvious the dependencies changed than if the code starts access a property. It's also more obvious when searching for usages of PlayerConnection.</p>\n<p>They're fairly minor benefits in small code bases or within small teams, but they can be helpful patterns when more people are involved or when working with a code base large enough that you can forget how parts of it work.</p>\n"}],"owner":{"account_id":26500805,"reputation":1,"user_id":20137796,"display_name":"Oshino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671662556,"creation_date":1671661788,"question_id":74882380,"body_markdown":"For example lets say there is a player object with an instance variable:\r\n\r\n```\r\npublic class Player {\r\n    private final PlayerConnection connection;\r\n    private final PacketSender sender;\r\n\r\n\r\n    public PlayerConnection getConnection() {\r\n        return this.connection;\r\n    } \r\n\r\n\r\n    public PacketSender getSender() {\r\n        return this.sender;\r\n    } \r\n\r\n}\r\n```\r\n\r\nthen another object PlayerManager:\r\n\r\n```\r\npublic class PlayerManager {\r\n\r\n    private final Player managedPlayer;\r\n    private final PlayerConnection connection;\r\n    private final PacketSender sender;\r\n\r\n    public PlayerManager(Player player) {\r\n        this.managedPlayer = player;\r\n        this.connection = player.getConnection();\r\n        this.sender = player.getSender();\r\n    }\r\n  \r\n} \r\n```\r\n\r\nIs there any benefit to having connection and sender as instance variables of PlayerManager since the player object is already an instance variable. Or is it better to not even pass the player in and only create instance variables for the necessary objects (even if the PlayerManager needs access to many more variables within Player than the two listed here). \r\n\r\nAs described above what is the preferred choice in terms on style or runtime.","title":"Is there any benefit in in having an instance variable within a class which is an instance variable of another instance variable within that class","body":"<p>For example lets say there is a player object with an instance variable:</p>\n<pre><code>public class Player {\n    private final PlayerConnection connection;\n    private final PacketSender sender;\n\n\n    public PlayerConnection getConnection() {\n        return this.connection;\n    } \n\n\n    public PacketSender getSender() {\n        return this.sender;\n    } \n\n}\n</code></pre>\n<p>then another object PlayerManager:</p>\n<pre><code>public class PlayerManager {\n\n    private final Player managedPlayer;\n    private final PlayerConnection connection;\n    private final PacketSender sender;\n\n    public PlayerManager(Player player) {\n        this.managedPlayer = player;\n        this.connection = player.getConnection();\n        this.sender = player.getSender();\n    }\n  \n} \n</code></pre>\n<p>Is there any benefit to having connection and sender as instance variables of PlayerManager since the player object is already an instance variable. Or is it better to not even pass the player in and only create instance variables for the necessary objects (even if the PlayerManager needs access to many more variables within Player than the two listed here).</p>\n<p>As described above what is the preferred choice in terms on style or runtime.</p>\n"},{"tags":["java","maven","deployment","pom.xml"],"comments":[{"owner":{"account_id":2675298,"reputation":1699,"user_id":2311841,"display_name":"cy3er"},"score":1,"creation_date":1417016514,"post_id":27153024,"comment_id":42800714,"body_markdown":"You have to define the repository where you want to deploy, [see reference](http://books.sonatype.com/nexus-book/reference/staging-sect-deployment.html#staging-sect-deployment-maven-deploy-plugin)","body":"You have to define the repository where you want to deploy, <a href=\"http://books.sonatype.com/nexus-book/reference/staging-sect-deployment.html#staging-sect-deployment-maven-deploy-plugin\" rel=\"nofollow noreferrer\">see reference</a>"}],"answers":[{"comments":[{"owner":{"account_id":15966805,"reputation":101,"user_id":14315312,"display_name":"Franco Gallo"},"score":5,"creation_date":1600696915,"post_id":27153249,"comment_id":113160893,"body_markdown":"we can configure exactly this in settings.xml file on the  /.m2 directory?","body":"we can configure exactly this in settings.xml file on the  /.m2 directory?"}],"tags":[],"owner":{"account_id":4255913,"reputation":2693,"user_id":3481625,"display_name":"jchampemont"},"comment_count":1,"down_vote_count":2,"up_vote_count":86,"is_accepted":true,"score":84,"last_activity_date":1498517159,"creation_date":1417016596,"answer_id":27153249,"question_id":27153024,"body_markdown":"You should include the repository where you want to deploy in the distribution management section of the `pom.xml`.\r\n\r\nExample:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    ...   \r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n          &lt;id&gt;corp1&lt;/id&gt;\r\n          &lt;name&gt;Corporate Repository&lt;/name&gt;\r\n          &lt;url&gt;scp://repo/maven2&lt;/url&gt;\r\n          &lt;layout&gt;default&lt;/layout&gt;\r\n        &lt;/repository&gt;\r\n        ...\r\n    &lt;/distributionManagement&gt;\r\n    ...\r\n    &lt;/project&gt;\r\n\r\nSee [Distribution Management](https://maven.apache.org/pom.html#Distribution_Management)","title":"repository element was not specified in the POM inside distributionManagement element or in -DaltDep loymentRepository=id::layout::url parameter","body":"<p>You should include the repository where you want to deploy in the distribution management section of the <code>pom.xml</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"   xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n...   \n&lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n      &lt;id&gt;corp1&lt;/id&gt;\n      &lt;name&gt;Corporate Repository&lt;/name&gt;\n      &lt;url&gt;scp://repo/maven2&lt;/url&gt;\n      &lt;layout&gt;default&lt;/layout&gt;\n    &lt;/repository&gt;\n    ...\n&lt;/distributionManagement&gt;\n...\n&lt;/project&gt;\n</code></pre>\n\n<p>See <a href=\"https://maven.apache.org/pom.html#Distribution_Management\" rel=\"noreferrer\">Distribution Management</a></p>\n"},{"tags":[],"owner":{"account_id":1536731,"reputation":584,"user_id":1432564,"display_name":"Thara Perera"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1473622563,"creation_date":1473622563,"answer_id":39439911,"question_id":27153024,"body_markdown":"In your pom.xml you should add distributionManagement configuration to where to deploy.\r\n\r\nIn the following example I have used **file system as the locations.**\r\n\r\n    &lt;distributionManagement&gt;\r\n           &lt;repository&gt;\r\n             &lt;id&gt;internal.repo&lt;/id&gt;\r\n             &lt;name&gt;Internal repo&lt;/name&gt;\r\n             &lt;url&gt;file:///home/thara/testesb/in&lt;/url&gt;\r\n           &lt;/repository&gt;\r\n       &lt;/distributionManagement&gt;\r\n\r\nyou can add another location while deployment by using the following command (but to avoid above error you should have at least 1 repository configured) :\r\n\r\n    mvn deploy -DaltDeploymentRepository=internal.repo::default::file:///home/thara/testesb/in\r\n\r\n","title":"repository element was not specified in the POM inside distributionManagement element or in -DaltDep loymentRepository=id::layout::url parameter","body":"<p>In your pom.xml you should add distributionManagement configuration to where to deploy.</p>\n\n<p>In the following example I have used <strong>file system as the locations.</strong></p>\n\n<pre><code>&lt;distributionManagement&gt;\n       &lt;repository&gt;\n         &lt;id&gt;internal.repo&lt;/id&gt;\n         &lt;name&gt;Internal repo&lt;/name&gt;\n         &lt;url&gt;file:///home/thara/testesb/in&lt;/url&gt;\n       &lt;/repository&gt;\n   &lt;/distributionManagement&gt;\n</code></pre>\n\n<p>you can add another location while deployment by using the following command (but to avoid above error you should have at least 1 repository configured) :</p>\n\n<pre><code>mvn deploy -DaltDeploymentRepository=internal.repo::default::file:///home/thara/testesb/in\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3314513,"reputation":3779,"user_id":2787184,"accept_rate":65,"display_name":"2787184"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1505520450,"creation_date":1501162866,"answer_id":45352560,"question_id":27153024,"body_markdown":"The issue is fixed by adding repository url under distributionManagement tab in main pom.xml.\r\n\r\n&gt; Jenkin maven goal : clean deploy -U -Dmaven.test.skip=true\r\n\r\n    &lt;distributionManagement&gt;\r\n    \t&lt;repository&gt;\r\n    \t\t&lt;id&gt;releases&lt;/id&gt;\r\n    \t\t&lt;url&gt;http://domain:port/content/repositories/releases&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    \t&lt;snapshotRepository&gt;\r\n    \t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n    \t\t&lt;url&gt;http://domain:port/content/repositories/snapshots&lt;/url&gt;\r\n    \t&lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;","title":"repository element was not specified in the POM inside distributionManagement element or in -DaltDep loymentRepository=id::layout::url parameter","body":"<p>The issue is fixed by adding repository url under distributionManagement tab in main pom.xml.</p>\n\n<blockquote>\n  <p>Jenkin maven goal : clean deploy -U -Dmaven.test.skip=true</p>\n</blockquote>\n\n<pre><code>&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;releases&lt;/id&gt;\n        &lt;url&gt;http://domain:port/content/repositories/releases&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;snapshots&lt;/id&gt;\n        &lt;url&gt;http://domain:port/content/repositories/snapshots&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":3191042,"reputation":1165,"user_id":2695263,"accept_rate":100,"display_name":"blodrayne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160770,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":27153249,"answer_count":3,"score":89,"last_activity_date":1671661854,"creation_date":1417015990,"question_id":27153024,"body_markdown":"I&#39;m having a problem while deploying and here is the error message I get:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [INFO]\r\n    [INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ core ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.296 s\r\n    [INFO] Finished at: 2014-11-26T17:05:00+02:00\r\n    [INFO] Final Memory: 13M/244M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:\r\n    deploy (default-deploy) on project core: Deployment failed: repository element w\r\n    as not specified in the POM inside distributionManagement element or in -DaltDep\r\n    loymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit\r\n    ch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please rea\r\n    d the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionE\r\n    xception\r\n\r\nI checked some resources on the internet and none of them worked for my case. I think it&#39;s related to my `pom.xml`, so here are its related parts:\r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                  &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.2&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                             &lt;source&gt;1.7&lt;/source&gt;\r\n                             &lt;target&gt;1.7&lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                  &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n \r\n      &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                  &lt;id&gt;repository.springframework.maven.release&lt;/id&gt;\r\n                  &lt;name&gt;Spring Framework Maven Release Repository&lt;/name&gt;\r\n                  &lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                  &lt;id&gt;Appid&lt;/id&gt;\r\n                  &lt;name&gt;AppName&lt;/name&gt;\r\n                  &lt;url&gt;http://IPaddress/nexus/content/repositories/Myapps/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n\r\nWhat&#39;s the problem, and how can it be fixed?","title":"repository element was not specified in the POM inside distributionManagement element or in -DaltDep loymentRepository=id::layout::url parameter","body":"<p>I'm having a problem while deploying and here is the error message I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO]\n[INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ core ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.296 s\n[INFO] Finished at: 2014-11-26T17:05:00+02:00\n[INFO] Final Memory: 13M/244M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:\ndeploy (default-deploy) on project core: Deployment failed: repository element w\nas not specified in the POM inside distributionManagement element or in -DaltDep\nloymentRepository=id::layout::url parameter -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit\nch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please rea\nd the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionE\nxception\n</code></pre>\n<p>I checked some resources on the internet and none of them worked for my case. I think it's related to my <code>pom.xml</code>, so here are its related parts:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n              &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.3.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                         &lt;source&gt;1.7&lt;/source&gt;\n                         &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;/configuration&gt;\n              &lt;/plugin&gt;\n        &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;repositories&gt;\n        &lt;repository&gt;\n              &lt;id&gt;repository.springframework.maven.release&lt;/id&gt;\n              &lt;name&gt;Spring Framework Maven Release Repository&lt;/name&gt;\n              &lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n              &lt;id&gt;Appid&lt;/id&gt;\n              &lt;name&gt;AppName&lt;/name&gt;\n              &lt;url&gt;http://IPaddress/nexus/content/repositories/Myapps/&lt;/url&gt;\n        &lt;/repository&gt;\n  &lt;/repositories&gt;\n</code></pre>\n<p>What's the problem, and how can it be fixed?</p>\n"},{"tags":["java","spring-boot","jpa","one-to-many"],"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671661607,"creation_date":1671661607,"question_id":74882360,"body_markdown":"I have this jpa entity and I want to add fetch  type EAGER to it\r\n\r\n```\r\npackage com.example.application.data.entity;\r\nimport javax.persistence.Entity;\r\nimport java.util.*;\r\nimport com.example.application.data.AbstractEntity;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.persistence.OneToMany;\r\nimport java.util.logging.Logger;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\npublic class Supplier extends AbstractEntity {\r\n    @NotEmpty\r\n    private String name;\r\n    @NotEmpty\r\n    private String address;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;supplier&quot;)\r\n    @NotNull\r\n    private Set&lt;Category&gt; categories = new LinkedHashSet&lt;&gt;();\r\n```\r\nBut when I try to build my application I get the following error\r\n\r\n```\r\ncannot find symbol\r\n    @JoinColumn(fetch = FetchType.EAGER, name = &quot;supplier_id&quot;)\r\n                ^\r\n  symbol:   method fetch()\r\n  location: @interface JoinColumn\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n```\r\n\r\nWhy am I getting this error?","title":"Cannot find method fetch in JoinColumn Interface","body":"<p>I have this jpa entity and I want to add fetch  type EAGER to it</p>\n<pre><code>package com.example.application.data.entity;\nimport javax.persistence.Entity;\nimport java.util.*;\nimport com.example.application.data.AbstractEntity;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport javax.persistence.OneToMany;\nimport java.util.logging.Logger;\nimport javax.persistence.*;\n\n@Entity\npublic class Supplier extends AbstractEntity {\n    @NotEmpty\n    private String name;\n    @NotEmpty\n    private String address;\n\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;supplier&quot;)\n    @NotNull\n    private Set&lt;Category&gt; categories = new LinkedHashSet&lt;&gt;();\n</code></pre>\n<p>But when I try to build my application I get the following error</p>\n<pre><code>cannot find symbol\n    @JoinColumn(fetch = FetchType.EAGER, name = &quot;supplier_id&quot;)\n                ^\n  symbol:   method fetch()\n  location: @interface JoinColumn\n1 error\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<p>Why am I getting this error?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671563525,"post_id":74866241,"comment_id":132124964,"body_markdown":"What specific problems were you having with Replicator? It should work fine","body":"What specific problems were you having with Replicator? It should work fine"}],"answers":[{"comments":[{"owner":{"account_id":17798328,"reputation":43,"user_id":12925705,"display_name":"Kjell van Straaten"},"score":0,"creation_date":1671655654,"post_id":74867832,"comment_id":132148172,"body_markdown":"please see above :)","body":"please see above :)"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671661519,"post_id":74867832,"comment_id":132149627,"body_markdown":"`IllegalAccessError` is typically a JVM issue, unrelated to the tool being used. For example, Confluent does not support Java 17, so you&#39;d need to downgrade to 11.","body":"<code>IllegalAccessError</code> is typically a JVM issue, unrelated to the tool being used. For example, Confluent does not support Java 17, so you&#39;d need to downgrade to 11."},{"owner":{"account_id":17798328,"reputation":43,"user_id":12925705,"display_name":"Kjell van Straaten"},"score":0,"creation_date":1671701430,"post_id":74867832,"comment_id":132156353,"body_markdown":"Then how does that explain the fact that it can run when the topic is actually renamed? I am only getting issues for when topics aren&#39;t renamed.","body":"Then how does that explain the fact that it can run when the topic is actually renamed? I am only getting issues for when topics aren&#39;t renamed."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671732964,"post_id":74867832,"comment_id":132166379,"body_markdown":"Maybe the method uses reflection or something the JVM doesn&#39;t allow when topics are renamed? The method shows its trying to construct an AdminClient, but Replicator isn&#39;t open source, so I can&#39;t answer that","body":"Maybe the method uses reflection or something the JVM doesn&#39;t allow when topics are renamed? The method shows its trying to construct an AdminClient, but Replicator isn&#39;t open source, so I can&#39;t answer that"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671563491,"creation_date":1671563491,"answer_id":74867832,"question_id":74866241,"body_markdown":"Replicator, MirrorMaker, or your own home-grown consumer and producer are all valid options (and the only way to do so).\r\n\r\nConfluent offers [Cluster Linking](https://docs.confluent.io/platform/current/multi-dc-deployments/cluster-linking/index.html) in latest releases, but this (and Replicator) are Enterprise features, if you are not a paying customer. ","title":"How could I merge topics from different kafka clusters into a single central cluster?","body":"<p>Replicator, MirrorMaker, or your own home-grown consumer and producer are all valid options (and the only way to do so).</p>\n<p>Confluent offers <a href=\"https://docs.confluent.io/platform/current/multi-dc-deployments/cluster-linking/index.html\" rel=\"nofollow noreferrer\">Cluster Linking</a> in latest releases, but this (and Replicator) are Enterprise features, if you are not a paying customer.</p>\n"}],"owner":{"account_id":17798328,"reputation":43,"user_id":12925705,"display_name":"Kjell van Straaten"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671661579,"creation_date":1671554637,"question_id":74866241,"body_markdown":"I am trying to merge data from different edge nodes. All of these edge nodes have a local kafka server running in order to be robustness against any network problems. I also have a central kafka cluster running which processes all incoming messages. From here, I would like to replicate topic &quot;events&quot; which exists both in local cluster A and local cluster B, into a central cluster C. \r\n\r\nI have tried to use confluent replicator in order to replicate topics across clusters, and merge them into a single cluster. However, I wasn&#39;t able to replicate a topic into an already existing topic. Without any pre/suffixes in the &quot;topic.rename.format&quot; option in Kafka; the connect replicator will throw me the following error:\r\n```\r\nERROR WorkerSourceTask{id=replicator_test-0} Task threw an uncaught and unrecoverable exception (org.apache.kafka.connect.runtime.WorkerTask)\r\njava.lang.IllegalAccessError: class io.confluent.connect.replicator.util.NewReplicatorAdminClient tried to access method &#39;void org.apache.kafka.clients.admin.ConfigEntry.&lt;init&gt;(java.lang.String, java.lang.String, org.apache.kafka.clients.admin.ConfigEntry$ConfigSource, boolean, boolean, java.util.List, org.apache.kafka.clients.admin.ConfigEntry$ConfigType, java.lang.String)&#39; (io.confluent.connect.replicator.util.NewReplicatorAdminClient is in unnamed module of loader org.apache.kafka.connect.runtime.isolation.PluginClassLoader @51c7d472; org.apache.kafka.clients.admin.ConfigEntry is in unnamed module of loader &#39;app&#39;)\r\n```\r\nI&#39;m using the following replicator configuration:\r\n```\r\n{\r\n&quot;name&quot;: &quot;replicator_test&quot;,\r\n&quot;config&quot;: {\r\n    &quot;connector.class&quot;:&quot;io.confluent.connect.replicator.ReplicatorSourceConnector&quot;,\r\n    &quot;tasks.max&quot;:1,\r\n    &quot;key.converter&quot;:&quot;io.confluent.connect.replicator.util.ByteArrayConverter&quot;,\r\n    &quot;value.converter&quot;:&quot;io.confluent.connect.replicator.util.ByteArrayConverter&quot;,\r\n    &quot;src.kafka.bootstrap.servers&quot;: &quot;192.168.1.215:9092&quot;,\r\n    &quot;dest.kafka.bootstrap.servers&quot;:&quot;192.168.1.157:9092&quot;,\r\n    &quot;topic.whitelist&quot;:&quot;events_test,_schemas&quot;,\r\n    &quot;topic.rename.format&quot;:&quot;${topic}&quot;,\r\n    &quot;confluent.topic.replication.factor&quot;: 1,\r\n    &quot;dest.topic.replication.factor&quot;: 1,\r\n    &quot;src.kafka.timestamps.topic.replication.factor&quot;: 1,\r\n    &quot;producer.override.bootstrap.servers&quot;: &quot;192.168.1.157:9092&quot;\r\n}}\r\n```\r\nNote that the replicator is running on the edge node and that I am overwritting the producer bootstrap server. I also noted that the original topic also gets created on the destination cluster, but no messages appear here.\r\n\r\nAlso open for different approaches to collect edge data and send it to a central server in a robust + scalable way.","title":"How could I merge topics from different kafka clusters into a single central cluster?","body":"<p>I am trying to merge data from different edge nodes. All of these edge nodes have a local kafka server running in order to be robustness against any network problems. I also have a central kafka cluster running which processes all incoming messages. From here, I would like to replicate topic &quot;events&quot; which exists both in local cluster A and local cluster B, into a central cluster C.</p>\n<p>I have tried to use confluent replicator in order to replicate topics across clusters, and merge them into a single cluster. However, I wasn't able to replicate a topic into an already existing topic. Without any pre/suffixes in the &quot;topic.rename.format&quot; option in Kafka; the connect replicator will throw me the following error:</p>\n<pre><code>ERROR WorkerSourceTask{id=replicator_test-0} Task threw an uncaught and unrecoverable exception (org.apache.kafka.connect.runtime.WorkerTask)\njava.lang.IllegalAccessError: class io.confluent.connect.replicator.util.NewReplicatorAdminClient tried to access method 'void org.apache.kafka.clients.admin.ConfigEntry.&lt;init&gt;(java.lang.String, java.lang.String, org.apache.kafka.clients.admin.ConfigEntry$ConfigSource, boolean, boolean, java.util.List, org.apache.kafka.clients.admin.ConfigEntry$ConfigType, java.lang.String)' (io.confluent.connect.replicator.util.NewReplicatorAdminClient is in unnamed module of loader org.apache.kafka.connect.runtime.isolation.PluginClassLoader @51c7d472; org.apache.kafka.clients.admin.ConfigEntry is in unnamed module of loader 'app')\n</code></pre>\n<p>I'm using the following replicator configuration:</p>\n<pre><code>{\n&quot;name&quot;: &quot;replicator_test&quot;,\n&quot;config&quot;: {\n    &quot;connector.class&quot;:&quot;io.confluent.connect.replicator.ReplicatorSourceConnector&quot;,\n    &quot;tasks.max&quot;:1,\n    &quot;key.converter&quot;:&quot;io.confluent.connect.replicator.util.ByteArrayConverter&quot;,\n    &quot;value.converter&quot;:&quot;io.confluent.connect.replicator.util.ByteArrayConverter&quot;,\n    &quot;src.kafka.bootstrap.servers&quot;: &quot;192.168.1.215:9092&quot;,\n    &quot;dest.kafka.bootstrap.servers&quot;:&quot;192.168.1.157:9092&quot;,\n    &quot;topic.whitelist&quot;:&quot;events_test,_schemas&quot;,\n    &quot;topic.rename.format&quot;:&quot;${topic}&quot;,\n    &quot;confluent.topic.replication.factor&quot;: 1,\n    &quot;dest.topic.replication.factor&quot;: 1,\n    &quot;src.kafka.timestamps.topic.replication.factor&quot;: 1,\n    &quot;producer.override.bootstrap.servers&quot;: &quot;192.168.1.157:9092&quot;\n}}\n</code></pre>\n<p>Note that the replicator is running on the edge node and that I am overwritting the producer bootstrap server. I also noted that the original topic also gets created on the destination cluster, but no messages appear here.</p>\n<p>Also open for different approaches to collect edge data and send it to a central server in a robust + scalable way.</p>\n"},{"tags":["java","spring","maven","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1515446938,"post_id":48158249,"comment_id":83296042,"body_markdown":"Are you sure your embedded tomcat sees the properties file and loads it?","body":"Are you sure your embedded tomcat sees the properties file and loads it?"},{"owner":{"account_id":3755177,"reputation":1320,"user_id":3121683,"accept_rate":64,"display_name":"Karan"},"score":0,"creation_date":1515447115,"post_id":48158249,"comment_id":83296117,"body_markdown":"Yea - it looks like it is not reading the properties file. But I am not sure why. It can read it when deployed on an external tomcat server or when run as a java application so this is confusing me.","body":"Yea - it looks like it is not reading the properties file. But I am not sure why. It can read it when deployed on an external tomcat server or when run as a java application so this is confusing me."},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":1,"creation_date":1677698604,"post_id":48158249,"comment_id":133391380,"body_markdown":"I am having exactly same issue but in opposite scenario.  In my case, I have in my *application.properties* setting like ```logging.file.name=${log_dir} ``` and  in Liberty *server.env* file like ```log_dir=C:\\mydir&quot;. If I run it in Liberty server, I get this same error.  The only way to resolve it I found is to hardcode the setting in my *application.properties* like ```logging.file.name=C:\\mydir```.  But that of course is not the great solution.","body":"I am having exactly same issue but in opposite scenario.  In my case, I have in my <i>application.properties</i> setting like <code>logging.file.name=${log_dir} </code> and  in Liberty <i>server.env</i> file like <code>log_dir=C:\\mydir&quot;. If I run it in Liberty server, I get this same error.  The only way to resolve it I found is to hardcode the setting in my *application.properties* like </code>logging.file.name=C:\\mydir```.  But that of course is not the great solution."}],"answers":[{"comments":[{"owner":{"account_id":1567339,"reputation":752,"user_id":1455836,"accept_rate":67,"display_name":"user1455836"},"score":2,"creation_date":1532939448,"post_id":48158753,"comment_id":90144984,"body_markdown":"I&#39;m guessing you do not inherit spring-boot-starter-parent in your pom.xml that&#39;s why.","body":"I&#39;m guessing you do not inherit spring-boot-starter-parent in your pom.xml that&#39;s why."},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":1,"creation_date":1586385137,"post_id":48158753,"comment_id":108113142,"body_markdown":"for whatever reason `**/*` didn&#39;t work for me so I hard to add `&lt;directory&gt;src/main/resources/config&lt;/directory&gt;` for my files located under the config dir","body":"for whatever reason <code>**&#47;*</code> didn&#39;t work for me so I hard to add <code>&lt;directory&gt;src&#47;main&#47;resources&#47;config&lt;&#47;directory&gt;</code> for my files located under the config dir"},{"owner":{"account_id":8280685,"reputation":752,"user_id":7469843,"display_name":"u tyagi"},"score":0,"creation_date":1643880059,"post_id":48158753,"comment_id":125458195,"body_markdown":"This is true, but for deploying it as JAR file at remote server, We need properties file excluded from JAR file. Hence including them like this, defeat the purpose of having property file. Can you comment on this? I had them explicitly &lt;excluded&gt; under build-&gt;resources-&gt;excludes TAG.","body":"This is true, but for deploying it as JAR file at remote server, We need properties file excluded from JAR file. Hence including them like this, defeat the purpose of having property file. Can you comment on this? I had them explicitly &lt;excluded&gt; under build-&gt;resources-&gt;excludes TAG."}],"tags":[],"owner":{"account_id":3755177,"reputation":1320,"user_id":3121683,"accept_rate":64,"display_name":"Karan"},"comment_count":3,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1515449267,"creation_date":1515449267,"answer_id":48158753,"question_id":48158249,"body_markdown":"Fixed by adding these lines to the pom under the `&lt;resources&gt;` section\r\n\r\n    &lt;resource&gt;\r\n         &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n         &lt;filtering&gt;true&lt;/filtering&gt;\r\n         &lt;includes&gt;\r\n              &lt;include&gt;**/*.properties&lt;/include&gt;\r\n         &lt;/includes&gt;\r\n    &lt;/resource&gt;\r\n\r\nWhat I don&#39;t fully understand is the need for doing this. \r\n\r\na) I can run this on an external app server without having to add this line and the app reads `application.properties` just fine. \r\n\r\nb) I can run the app as a standalone java application in eclipse (i.e., without having to build the app through maven) and it reads `application.properties` just fine\r\n\r\nc) isn&#39;t spring-boot supposed to read it by default regardless? (as shown by the two cases above?)\r\n\r\nThanks everyone for their help. hopefully this will help others. \r\n","title":"Spring boot could not resolve placeholder in string","body":"<p>Fixed by adding these lines to the pom under the <code>&lt;resources&gt;</code> section</p>\n\n<pre><code>&lt;resource&gt;\n     &lt;directory&gt;src/main/resources&lt;/directory&gt;\n     &lt;filtering&gt;true&lt;/filtering&gt;\n     &lt;includes&gt;\n          &lt;include&gt;**/*.properties&lt;/include&gt;\n     &lt;/includes&gt;\n&lt;/resource&gt;\n</code></pre>\n\n<p>What I don't fully understand is the need for doing this. </p>\n\n<p>a) I can run this on an external app server without having to add this line and the app reads <code>application.properties</code> just fine. </p>\n\n<p>b) I can run the app as a standalone java application in eclipse (i.e., without having to build the app through maven) and it reads <code>application.properties</code> just fine</p>\n\n<p>c) isn't spring-boot supposed to read it by default regardless? (as shown by the two cases above?)</p>\n\n<p>Thanks everyone for their help. hopefully this will help others. </p>\n"},{"comments":[{"owner":{"account_id":2928320,"reputation":1666,"user_id":5946480,"display_name":"Rishi Prakash"},"score":0,"creation_date":1574319834,"post_id":50499386,"comment_id":104192153,"body_markdown":"Please include proper reasoning in your answers","body":"Please include proper reasoning in your answers"},{"owner":{"account_id":2928320,"reputation":1666,"user_id":5946480,"display_name":"Rishi Prakash"},"score":0,"creation_date":1574410284,"post_id":50499386,"comment_id":104231137,"body_markdown":"This is not a fix patch forum. Stack-overflow gives you a platform to learn more about what a specific problem is occurring and then find a solution.","body":"This is not a fix patch forum. Stack-overflow gives you a platform to learn more about what a specific problem is occurring and then find a solution."}],"tags":[],"owner":{"account_id":12504363,"reputation":1139,"user_id":9101688,"display_name":"HA S"},"comment_count":2,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1527123154,"creation_date":1527123154,"answer_id":50499386,"question_id":48158249,"body_markdown":"If the above changes in `pom.xml` file still doesn&#39;t solve the problem try below option.\r\n\r\nAdd the `@PropertySource` annotation at the top of your class\r\n\r\n    @PropertySource(\r\n        {\r\n                &quot;classpath:/application.properties&quot;,\r\n                &quot;classpath:/${spring.profiles.active}/application-${spring.profiles.active}.properties&quot;\r\n        }\r\n)\r\n\r\nIf that still doesn&#39;t solve try adding the following annotation\r\n\r\n`@EnableAutoConfiguration`\r\n\r\nSalam","title":"Spring boot could not resolve placeholder in string","body":"<p>If the above changes in <code>pom.xml</code> file still doesn't solve the problem try below option.</p>\n\n<p>Add the <code>@PropertySource</code> annotation at the top of your class</p>\n\n<pre><code>@PropertySource(\n    {\n            \"classpath:/application.properties\",\n            \"classpath:/${spring.profiles.active}/application-${spring.profiles.active}.properties\"\n    }\n</code></pre>\n\n<p>)</p>\n\n<p>If that still doesn't solve try adding the following annotation</p>\n\n<p><code>@EnableAutoConfiguration</code></p>\n\n<p>Salam</p>\n"},{"tags":[],"owner":{"account_id":10135,"reputation":14548,"user_id":18995,"accept_rate":81,"display_name":"Paul Croarkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544019841,"creation_date":1544019841,"answer_id":53634454,"question_id":48158249,"body_markdown":"Were you, by chance, running this from Eclipse?\r\n\r\nI had the same issue and noticed that the project did not have the Maven nature. Right-clicking on the project -&gt;Configure-&gt;Convert to Maven Project. Then right-click on the project -&gt;Maven-&gt;Update Project solved the issue.","title":"Spring boot could not resolve placeholder in string","body":"<p>Were you, by chance, running this from Eclipse?</p>\n\n<p>I had the same issue and noticed that the project did not have the Maven nature. Right-clicking on the project ->Configure->Convert to Maven Project. Then right-click on the project ->Maven->Update Project solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1688556,"reputation":896,"user_id":1551368,"display_name":"dobrivoje"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580298188,"creation_date":1580298188,"answer_id":59966374,"question_id":48158249,"body_markdown":"In my case, in IntelliJ, I used a different profile.\r\nSo choosing a dev profile in my case, solved an issue.","title":"Spring boot could not resolve placeholder in string","body":"<p>In my case, in IntelliJ, I used a different profile.\nSo choosing a dev profile in my case, solved an issue.</p>\n"},{"tags":[],"owner":{"account_id":6853920,"reputation":818,"user_id":5270186,"display_name":"Suman"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1588602805,"creation_date":1588602805,"answer_id":61594695,"question_id":48158249,"body_markdown":"I too faced a similar issue when running from IntelliJ.\r\nThis worked for me :\r\nBuild -&gt; Rebuild Project. ","title":"Spring boot could not resolve placeholder in string","body":"<p>I too faced a similar issue when running from IntelliJ.\nThis worked for me :\nBuild -> Rebuild Project. </p>\n"},{"comments":[{"owner":{"account_id":1896724,"reputation":1039,"user_id":1713511,"display_name":"Kirill Mikhailov"},"score":0,"creation_date":1635914763,"post_id":64040234,"comment_id":123416693,"body_markdown":"In my case, when I got message &quot;Could not resolve placeholder&quot; while it was exist in configuration service  - adding this dependency solve the problem. Also I add -Dspring.cloud.bootstrap.enabled=true to run script.","body":"In my case, when I got message &quot;Could not resolve placeholder&quot; while it was exist in configuration service  - adding this dependency solve the problem. Also I add -Dspring.cloud.bootstrap.enabled=true to run script."}],"tags":[],"owner":{"account_id":3668752,"reputation":6568,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1600926450,"creation_date":1600926450,"answer_id":64040234,"question_id":48158249,"body_markdown":"I was missing the below dependency\r\n    \r\n\r\n      &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI need read config values for ceneralized config server .\r\n\r\n\r\n","title":"Spring boot could not resolve placeholder in string","body":"<p>I was missing the below dependency</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I need read config values for ceneralized config server .</p>\n"},{"tags":[],"owner":{"account_id":8496855,"reputation":101,"user_id":6371196,"accept_rate":33,"display_name":"Jaypee Tan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601368341,"creation_date":1601368341,"answer_id":64115809,"question_id":48158249,"body_markdown":"I have similar issue with you, I fixed it by going\r\n\r\nIn your `pom.xml`\r\nif you have multiple profile or properties, select 1 profile to be default selected\r\n\r\n    &lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;dev&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;activatedProperties&gt;prod&lt;/activatedProperties&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n\r\nThen go to your `application.properties` then insert this code\r\n\r\n    spring.profiles.active=@activatedProperties@","title":"Spring boot could not resolve placeholder in string","body":"<p>I have similar issue with you, I fixed it by going</p>\n<p>In your <code>pom.xml</code>\nif you have multiple profile or properties, select 1 profile to be default selected</p>\n<pre><code>&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\n            &lt;/properties&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;prod&lt;/activatedProperties&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Then go to your <code>application.properties</code> then insert this code</p>\n<pre><code>spring.profiles.active=@activatedProperties@\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10006774,"reputation":168,"user_id":7400965,"display_name":"jkim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605811169,"creation_date":1605811169,"answer_id":64917999,"question_id":48158249,"body_markdown":"Here I have simplest solution that worked in my case.\r\n\r\nWhether it be from Java command prompt, or VM options from IDE such as eclipse or IntelliJ, try supplying the following:\r\n\r\n    -Dspring.profiles.active=&lt;env&gt;\r\n\r\nThis is alternative to modifying/touching the pom file mentioned above.","title":"Spring boot could not resolve placeholder in string","body":"<p>Here I have simplest solution that worked in my case.</p>\n<p>Whether it be from Java command prompt, or VM options from IDE such as eclipse or IntelliJ, try supplying the following:</p>\n<pre><code>-Dspring.profiles.active=&lt;env&gt;\n</code></pre>\n<p>This is alternative to modifying/touching the pom file mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":20008079,"reputation":43,"user_id":14665641,"display_name":"SamA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606037941,"creation_date":1606037941,"answer_id":64952628,"question_id":48158249,"body_markdown":"If you have set the values properly, then check if your resources folder is acting as &quot;resources&quot; identified by the IDE. In intelliJ you can right click on resources and select &quot;Mark as resources root&quot;.","title":"Spring boot could not resolve placeholder in string","body":"<p>If you have set the values properly, then check if your resources folder is acting as &quot;resources&quot; identified by the IDE. In intelliJ you can right click on resources and select &quot;Mark as resources root&quot;.</p>\n"},{"tags":[],"owner":{"account_id":4709850,"reputation":165,"user_id":3810700,"display_name":"flopoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1613506056,"creation_date":1613506056,"answer_id":66231457,"question_id":48158249,"body_markdown":"Got the same issue with IntelliJ. Invalidating caches from `File -&gt; Invalidate Caches / Restart ...` fixed it for me.","title":"Spring boot could not resolve placeholder in string","body":"<p>Got the same issue with IntelliJ. Invalidating caches from <code>File -&gt; Invalidate Caches / Restart ...</code> fixed it for me.</p>\n"},{"comments":[{"owner":{"account_id":9918325,"reputation":69,"user_id":7342409,"display_name":"Arthur Champs"},"score":0,"creation_date":1640904575,"post_id":66457687,"comment_id":124689330,"body_markdown":"I don&#39;t understand why this worked but thank you!","body":"I don&#39;t understand why this worked but thank you!"},{"owner":{"account_id":14478307,"reputation":2090,"user_id":10458333,"display_name":"Cipher"},"score":0,"creation_date":1670847009,"post_id":66457687,"comment_id":131960293,"body_markdown":"This worked for me, if you are having multiple .properties files, then please add `:default`","body":"This worked for me, if you are having multiple .properties files, then please add <code>:default</code>"},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1677711126,"post_id":66457687,"comment_id":133394369,"body_markdown":"setting default like this means hard-coding it.  In many cases you dont want to do that, for example , the value of `files.root` might change per invironment and you dont want to keep its value in application.property if you do not want to expose it to everyone once pushed to repo.  So, you might want this value to come from server/container directly in access it in application.properties like `files.root=${files_root}`.   The `files_root` could be set in the server env files but in that case, it will not be resolved by using @Value for some reason","body":"setting default like this means hard-coding it.  In many cases you dont want to do that, for example , the value of <code>files.root</code> might change per invironment and you dont want to keep its value in application.property if you do not want to expose it to everyone once pushed to repo.  So, you might want this value to come from server/container directly in access it in application.properties like <code>files.root=${files_root}</code>.   The <code>files_root</code> could be set in the server env files but in that case, it will not be resolved by using @Value for some reason"}],"tags":[],"owner":{"account_id":20110336,"reputation":243,"user_id":14746852,"display_name":"pserimer"},"comment_count":3,"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1614778499,"creation_date":1614776754,"answer_id":66457687,"question_id":48158249,"body_markdown":"In my case changing this:\r\n\r\n    @Value(&quot;${files.root}&quot;)\r\n\r\nto this: \r\n\r\n    @Value(&quot;${files.root:default}&quot;)\r\n\r\nworked. \r\n\r\nSee following for my solution: https://www.bswen.com/2019/06/springboot-How-to-resolve-IllegalArgumentException-Could-not-resolve-placeholder-when-use-@Value-in-Spring-or-SpringBoot-app.html","title":"Spring boot could not resolve placeholder in string","body":"<p>In my case changing this:</p>\n<pre><code>@Value(&quot;${files.root}&quot;)\n</code></pre>\n<p>to this:</p>\n<pre><code>@Value(&quot;${files.root:default}&quot;)\n</code></pre>\n<p>worked.</p>\n<p>See following for my solution: <a href=\"https://www.bswen.com/2019/06/springboot-How-to-resolve-IllegalArgumentException-Could-not-resolve-placeholder-when-use-@Value-in-Spring-or-SpringBoot-app.html\" rel=\"noreferrer\">https://www.bswen.com/2019/06/springboot-How-to-resolve-IllegalArgumentException-Could-not-resolve-placeholder-when-use-@Value-in-Spring-or-SpringBoot-app.html</a></p>\n"},{"tags":[],"owner":{"account_id":2987615,"reputation":1799,"user_id":2535987,"accept_rate":67,"display_name":"Monish Sen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617188883,"creation_date":1617188883,"answer_id":66886632,"question_id":48158249,"body_markdown":"In my case I had set an OS environment variable `spring.config.location` for some other purpose. This was over-riding the project path for spring config in eclipse. \r\n\r\nAfter removing the environment variable, rebooting and re-importing projects in eclipse the above issue was resolved","title":"Spring boot could not resolve placeholder in string","body":"<p>In my case I had set an OS environment variable <code>spring.config.location</code> for some other purpose. This was over-riding the project path for spring config in eclipse.</p>\n<p>After removing the environment variable, rebooting and re-importing projects in eclipse the above issue was resolved</p>\n"},{"tags":[],"owner":{"account_id":25342835,"reputation":11,"user_id":19160994,"display_name":"aga menor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653046143,"creation_date":1653046143,"answer_id":72318224,"question_id":48158249,"body_markdown":"Happened with me too. in my case the problem was caused because I put the value in wrong file.\r\nwrong \r\n**BIN**/src/main/resource/application.properties\r\nright \r\nsrc/main/resource/application.properties","title":"Spring boot could not resolve placeholder in string","body":"<p>Happened with me too. in my case the problem was caused because I put the value in wrong file.\nwrong\n<strong>BIN</strong>/src/main/resource/application.properties\nright\nsrc/main/resource/application.properties</p>\n"}],"owner":{"account_id":3755177,"reputation":1320,"user_id":3121683,"accept_rate":64,"display_name":"Karan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199577,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":48158753,"answer_count":13,"score":35,"last_activity_date":1671661534,"creation_date":1515446566,"question_id":48158249,"body_markdown":"I am running spring-boot on an embedded tomcat server through maven with `mvn clean install spring-boot:run`. But every time I run it I get this error:\r\n\r\n     Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;language&#39; in string value &quot;${language}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172) ~[spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \t... 35 common frames omitted\r\n\r\nThat error is regarding these two lines of code: \r\n\r\n    @Value(&quot;${language}&quot;)\r\n\tprivate String language;\r\n\r\nThat language flag is specified in my application.properties like this: \r\n\r\n*application.properties*\r\n    \r\n    language=java\r\n    logging.level.org.springframework=TRACE\r\n\r\n**This is the confusing part:** When I run the build without the *spring-boot:run* command, it builds properly and I can run the built jar with no issues at all. It is only when I try to run on the embedded tomcat server I run into this issue. \r\n\r\nI can sort of bypass this by doing this in my code: \r\n\r\n    @Value(&quot;${language:java}&quot;)\r\n\tprivate String language;\r\n\r\nBut that doesn&#39;t make sense to me since spring is supposed to read the default value from the `application.properties` file automatically. \r\n\r\n**EDIT**: as people have pointed out, it is not reading `application.properties` at all when run on the embedded tomcat server. Any way to force it to read the file or a reason why it may not be reading it? It works fine when deployed to an external app server instead of the embedded one.","title":"Spring boot could not resolve placeholder in string","body":"<p>I am running spring-boot on an embedded tomcat server through maven with <code>mvn clean install spring-boot:run</code>. But every time I run it I get this error:</p>\n<pre><code> Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'language' in string value &quot;${language}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172) ~[spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    ... 35 common frames omitted\n</code></pre>\n<p>That error is regarding these two lines of code:</p>\n<pre><code>@Value(&quot;${language}&quot;)\nprivate String language;\n</code></pre>\n<p>That language flag is specified in my application.properties like this:</p>\n<p><em>application.properties</em></p>\n<pre><code>language=java\nlogging.level.org.springframework=TRACE\n</code></pre>\n<p><strong>This is the confusing part:</strong> When I run the build without the <em>spring-boot:run</em> command, it builds properly and I can run the built jar with no issues at all. It is only when I try to run on the embedded tomcat server I run into this issue.</p>\n<p>I can sort of bypass this by doing this in my code:</p>\n<pre><code>@Value(&quot;${language:java}&quot;)\nprivate String language;\n</code></pre>\n<p>But that doesn't make sense to me since spring is supposed to read the default value from the <code>application.properties</code> file automatically.</p>\n<p><strong>EDIT</strong>: as people have pointed out, it is not reading <code>application.properties</code> at all when run on the embedded tomcat server. Any way to force it to read the file or a reason why it may not be reading it? It works fine when deployed to an external app server instead of the embedded one.</p>\n"},{"tags":["java","swing","integer","user-input","joptionpane"],"answers":[{"comments":[{"owner":{"account_id":156075,"reputation":586,"user_id":373141,"accept_rate":95,"display_name":"kxk"},"score":0,"creation_date":1277495525,"post_id":3120936,"comment_id":3203836,"body_markdown":"Hmm... it seems I need to also add\n   int ans = Integer.parseInt( JOptionPane.showInputDialog(frame,\n        &quot;Text&quot;,\n        JOptionPane.INFORMATION_MESSAGE,\n        null,\n        null,\n        &quot;[sample text to help input]&quot;).toString());","body":"Hmm... it seems I need to also add    int ans = Integer.parseInt( JOptionPane.showInputDialog(frame,         &quot;Text&quot;,         JOptionPane.INFORMATION_MESSAGE,         null,         null,         &quot;[sample text to help input]&quot;).toString());"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1277495704,"post_id":3120936,"comment_id":3203852,"body_markdown":"@devil If you use the correct form of `showinputdialog` you won&#39;t need to do that.  But, you are correct in some cases.","body":"@devil If you use the correct form of <code>showinputdialog</code> you won&#39;t need to do that.  But, you are correct in some cases."},{"owner":{"account_id":156075,"reputation":586,"user_id":373141,"accept_rate":95,"display_name":"kxk"},"score":0,"creation_date":1277495880,"post_id":3120936,"comment_id":3203870,"body_markdown":"I see I see. If I may ask one more thing, is there a way, using a loop maybe, to check if the input given actually is an integer or not? Sth like: ... do { ans = JOptionPane.showInputDialog(...) } until ans = integer  ?","body":"I see I see. If I may ask one more thing, is there a way, using a loop maybe, to check if the input given actually is an integer or not? Sth like: ... do { ans = JOptionPane.showInputDialog(...) } until ans = integer  ?"}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1277494977,"creation_date":1277494977,"answer_id":3120936,"question_id":3120922,"body_markdown":"Simply use:\r\n\r\n    int ans = Integer.parseInt( JOptionPane.showInputDialog(frame,\r\n            &quot;Text&quot;,\r\n            JOptionPane.INFORMATION_MESSAGE,\r\n            null,\r\n            null,\r\n            &quot;[sample text to help input]&quot;));\r\n\r\nYou cannot cast a `String` to an `int`, but you can convert it using `Integer.parseInt(string)`.","title":"JOptionPane Input to int","body":"<p>Simply use:</p>\n\n<pre><code>int ans = Integer.parseInt( JOptionPane.showInputDialog(frame,\n        \"Text\",\n        JOptionPane.INFORMATION_MESSAGE,\n        null,\n        null,\n        \"[sample text to help input]\"));\n</code></pre>\n\n<p>You cannot cast a <code>String</code> to an <code>int</code>, but you can convert it using <code>Integer.parseInt(string)</code>.</p>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132328,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1277495028,"creation_date":1277495028,"answer_id":3120942,"question_id":3120922,"body_markdown":"This because the input that the user inserts into the `JOptionPane` is a `String` and it is stored and returned as a `String`.\r\n\r\nJava cannot convert between strings and number by itself, you have to use specific functions, just use:\r\n\r\n    int ans = Integer.parseInt(JOptionPane.showInputDialog(...))\r\n","title":"JOptionPane Input to int","body":"<p>This because the input that the user inserts into the <code>JOptionPane</code> is a <code>String</code> and it is stored and returned as a <code>String</code>.</p>\n\n<p>Java cannot convert between strings and number by itself, you have to use specific functions, just use:</p>\n\n<pre><code>int ans = Integer.parseInt(JOptionPane.showInputDialog(...))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80322,"reputation":1768,"user_id":227203,"display_name":"Davy Meers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277500341,"creation_date":1277500341,"answer_id":3121490,"question_id":3120922,"body_markdown":"Please note that Integer.parseInt throws an NumberFormatException if the passed string doesn&#39;t contain a parsable string.\r\n","title":"JOptionPane Input to int","body":"<p>Please note that Integer.parseInt throws an NumberFormatException if the passed string doesn't contain a parsable string.</p>\n"},{"tags":[],"owner":{"account_id":8122204,"reputation":1,"user_id":6118537,"display_name":"MyStack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459966426,"creation_date":1459965950,"answer_id":36458986,"question_id":3120922,"body_markdown":"    // sample code for addition using JOptionPane\r\n    \r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Addition {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String firstNumber = JOptionPane.showInputDialog(&quot;Input &lt;First Integer&gt;&quot;);\r\n    \r\n            String secondNumber = JOptionPane.showInputDialog(&quot;Input &lt;Second Integer&gt;&quot;);\r\n    \r\n            int num1 = Integer.parseInt(firstNumber);\r\n            int num2 = Integer.parseInt(secondNumber);\r\n            int sum = num1 + num2;\r\n            JOptionPane.showMessageDialog(null, &quot;Sum is&quot; + sum, &quot;Sum of two Integers&quot;, JOptionPane.PLAIN_MESSAGE);\r\n        }\r\n    }\r\n","title":"JOptionPane Input to int","body":"<pre><code>// sample code for addition using JOptionPane\n\nimport javax.swing.JOptionPane;\n\npublic class Addition {\n\n    public static void main(String[] args) {\n\n        String firstNumber = JOptionPane.showInputDialog(\"Input &lt;First Integer&gt;\");\n\n        String secondNumber = JOptionPane.showInputDialog(\"Input &lt;Second Integer&gt;\");\n\n        int num1 = Integer.parseInt(firstNumber);\n        int num2 = Integer.parseInt(secondNumber);\n        int sum = num1 + num2;\n        JOptionPane.showMessageDialog(null, \"Sum is\" + sum, \"Sum of two Integers\", JOptionPane.PLAIN_MESSAGE);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8078597,"reputation":1,"user_id":6088661,"display_name":"mubarak baloch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483279970,"creation_date":1483279970,"answer_id":41416115,"question_id":3120922,"body_markdown":"    String String_firstNumber = JOptionPane.showInputDialog(&quot;Input  Semisecond&quot;);\r\n    int Int_firstNumber = Integer.parseInt(firstNumber);\r\n\r\nNow your `Int_firstnumber` contains integer value of `String_fristNumber`.\r\n\r\nhope it helped","title":"JOptionPane Input to int","body":"<pre><code>String String_firstNumber = JOptionPane.showInputDialog(\"Input  Semisecond\");\nint Int_firstNumber = Integer.parseInt(firstNumber);\n</code></pre>\n\n<p>Now your <code>Int_firstnumber</code> contains integer value of <code>String_fristNumber</code>.</p>\n\n<p>hope it helped</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1634190199,"post_id":69565156,"comment_id":122959674,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69565156/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23027603,"reputation":11,"user_id":17147581,"display_name":"ricca"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634186330,"creation_date":1634186330,"answer_id":69565156,"question_id":3120922,"body_markdown":"    import javax.swing.*;\r\n    public class JOptionSample { \r\n        public static void main(String[] args) {\r\n    \r\n           String name = JOptionPane.showInputDialog(&quot;Enter First integer&quot;);\r\n    \r\n          String name2 = JOptionPane.showInputDialog(&quot;Enter second integer&quot;);\r\n    \r\n           JOptionPane.showMessageDialog(null, &quot;The first inputted is 89 and the second \r\n        integers inputted is 45&quot; );\r\n    \r\n        int number =Integer.parseInt(JOptionPane.showInputDialog(null, &quot;89+45 = &quot;));\r\n    \r\n        JOptionPane.showMessageDialog(null, &quot;Question Message&quot;, &quot;Title&quot;,\r\n       JOptionPane.QUESTION_MESSAGE);\r\n    \r\n        int option = JOptionPane.showConfirmDialog(null, &quot;Do you want to continue? &quot;);\r\n        JOptionPane.showMessageDialog(null, &quot;Your choice is &quot;+option);\r\n    \r\n        JOptionPane.showMessageDialog(null, &quot; The sum of the two integers is : 134 &quot;);\r\n    }\r\n    }","title":"JOptionPane Input to int","body":"<pre><code>import javax.swing.*;\npublic class JOptionSample { \n    public static void main(String[] args) {\n\n       String name = JOptionPane.showInputDialog(&quot;Enter First integer&quot;);\n\n      String name2 = JOptionPane.showInputDialog(&quot;Enter second integer&quot;);\n\n       JOptionPane.showMessageDialog(null, &quot;The first inputted is 89 and the second \n    integers inputted is 45&quot; );\n\n    int number =Integer.parseInt(JOptionPane.showInputDialog(null, &quot;89+45 = &quot;));\n\n    JOptionPane.showMessageDialog(null, &quot;Question Message&quot;, &quot;Title&quot;,\n   JOptionPane.QUESTION_MESSAGE);\n\n    int option = JOptionPane.showConfirmDialog(null, &quot;Do you want to continue? &quot;);\n    JOptionPane.showMessageDialog(null, &quot;Your choice is &quot;+option);\n\n    JOptionPane.showMessageDialog(null, &quot; The sum of the two integers is : 134 &quot;);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":156075,"reputation":586,"user_id":373141,"accept_rate":95,"display_name":"kxk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163104,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":3120936,"answer_count":6,"score":8,"last_activity_date":1671661005,"creation_date":1277494862,"question_id":3120922,"body_markdown":"I am trying to make a JOptionPane get an input and assign it to an int but I am getting some problems with the variable types.\r\n\r\nI am trying something like this:\r\n\r\n    Int ans = (Integer) JOptionPane.showInputDialog(frame,\r\n                &quot;Text&quot;,\r\n                JOptionPane.INFORMATION_MESSAGE,\r\n                null,\r\n                null,\r\n                &quot;[sample text to help input]&quot;);\r\n\r\nBut I am getting: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.String cannot\r\n    be cast to java.lang.Integer\r\n\r\nWhich sounds logical yet, I cannot think of another way to make this happen.","title":"JOptionPane Input to int","body":"<p>I am trying to make a JOptionPane get an input and assign it to an int but I am getting some problems with the variable types.</p>\n<p>I am trying something like this:</p>\n<pre><code>Int ans = (Integer) JOptionPane.showInputDialog(frame,\n            &quot;Text&quot;,\n            JOptionPane.INFORMATION_MESSAGE,\n            null,\n            null,\n            &quot;[sample text to help input]&quot;);\n</code></pre>\n<p>But I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.String cannot\nbe cast to java.lang.Integer\n</code></pre>\n<p>Which sounds logical yet, I cannot think of another way to make this happen.</p>\n"},{"tags":["java","macos","jar"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671658084,"post_id":74881874,"comment_id":132148796,"body_markdown":"Are we supposed to know what a &quot;pair trader&quot; is?","body":"Are we supposed to know what a &quot;pair trader&quot; is?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1671658165,"post_id":74881874,"comment_id":132148819,"body_markdown":"What were the console error messages to which you were referred?","body":"What were the console error messages to which you were referred?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671658621,"post_id":74881874,"comment_id":132148956,"body_markdown":"`java -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log` Please post the contents of err-out.log in code tags","body":"<code>java -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log</code> Please post the contents of err-out.log in code tags"},{"owner":{"account_id":27321204,"reputation":1,"user_id":20834861,"display_name":"Sahil Sidhu"},"score":0,"creation_date":1671659403,"post_id":74881874,"comment_id":132149193,"body_markdown":"@g00se here is what I get: \n\n\n`Error: Unable to access jarfile ptltrader-1.6.0-macosx.jar`\n\n\nI made sure to run this a couple of times and ensured the file name was correct when I ran this in console.","body":"@g00se here is what I get:    <code>Error: Unable to access jarfile ptltrader-1.6.0-macosx.jar</code>   I made sure to run this a couple of times and ensured the file name was correct when I ran this in console."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671659551,"post_id":74881874,"comment_id":132149227,"body_markdown":"Is that jar file definitely in the current directory?","body":"Is that jar file definitely in the current directory?"},{"owner":{"account_id":27321204,"reputation":1,"user_id":20834861,"display_name":"Sahil Sidhu"},"score":0,"creation_date":1671659846,"post_id":74881874,"comment_id":132149293,"body_markdown":"@g00se I believe it is. The path bar in Finder is `USER&gt;Downloads&gt;ptltrader-1.6.0-macosx.jar`","body":"@g00se I believe it is. The path bar in Finder is <code>USER&gt;Downloads&gt;ptltrader-1.6.0-macosx.jar</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671659941,"post_id":74881874,"comment_id":132149315,"body_markdown":"So. `cd ~/Downloads;java -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log`","body":"So. <code>cd ~&#47;Downloads;java -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log</code>"},{"owner":{"account_id":27321204,"reputation":1,"user_id":20834861,"display_name":"Sahil Sidhu"},"score":0,"creation_date":1671660125,"post_id":74881874,"comment_id":132149345,"body_markdown":"@g00se Of course, my apologies. The error is quite long so I will split it into two comments. `***WARNING: Display must be created on main thread due to Cocoa restrictions. Use vmarg -XstartOnFirstThread\nException in thread &quot;main&quot; org.eclipse.swt.SWTException: Invalid thread access\n\tat org.eclipse.swt.SWT.error(SWT.java:4889)\n\tat org.eclipse.swt.SWT.error(SWT.java:4804)\n\tat org.eclipse.swt.SWT.error(SWT.java:4775)\n\tat org.eclipse.swt.widgets.Display.error(Display.java:1100)\n\tat org.eclipse.swt.widgets.Display.createDisplay(Display.java:851)`","body":"@g00se Of course, my apologies. The error is quite long so I will split it into two comments. <code>***WARNING: Display must be created on main thread due to Cocoa restrictions. Use vmarg -XstartOnFirstThread Exception in thread &quot;main&quot; org.eclipse.swt.SWTException: Invalid thread access \tat org.eclipse.swt.SWT.error(SWT.java:4889) \tat org.eclipse.swt.SWT.error(SWT.java:4804) \tat org.eclipse.swt.SWT.error(SWT.java:4775) \tat org.eclipse.swt.widgets.Display.error(Display.java:1100) \tat org.eclipse.swt.widgets.Display.createDisplay(Display.java:8&zwnj;&#8203;51)</code>"},{"owner":{"account_id":27321204,"reputation":1,"user_id":20834861,"display_name":"Sahil Sidhu"},"score":0,"creation_date":1671660149,"post_id":74881874,"comment_id":132149353,"body_markdown":"`at org.eclipse.swt.widgets.Display.create(Display.java:835)\n\tat org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:130)\n\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:734)\n\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:725)\n\tat org.eclipse.swt.widgets.Display.getDefault(Display.java:1434)\n\tat com.pairtradinglab.ptltrader.Application.main(Application.java:310)\n(base) sahil@Sahils-MacBook-Pro-4 Downloads % `","body":"<code>at org.eclipse.swt.widgets.Display.create(Display.java:835) \tat org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:130) \tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:734) \tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:725) \tat org.eclipse.swt.widgets.Display.getDefault(Display.java:1434&zwnj;&#8203;) \tat com.pairtradinglab.ptltrader.Application.main(Application.ja&zwnj;&#8203;va:310) (base) sahil@Sahils-MacBook-Pro-4 Downloads % </code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671660643,"post_id":74881874,"comment_id":132149451,"body_markdown":"Hmm. Take them at their word and try `java -XstartOnFirstThread -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log`","body":"Hmm. Take them at their word and try <code>java -XstartOnFirstThread -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log</code>"},{"owner":{"account_id":27321204,"reputation":1,"user_id":20834861,"display_name":"Sahil Sidhu"},"score":0,"creation_date":1671660865,"post_id":74881874,"comment_id":132149491,"body_markdown":"@g00se It worked! Thank you so much. Is there anything I need to do to mark this as the answer/improve your rating?","body":"@g00se It worked! Thank you so much. Is there anything I need to do to mark this as the answer/improve your rating?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671660932,"post_id":74881874,"comment_id":132149505,"body_markdown":"I&#39;m not sure ;) But I&#39;ll post it as the answer for you to accept","body":"I&#39;m not sure ;) But I&#39;ll post it as the answer for you to accept"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671660983,"creation_date":1671660983,"answer_id":74882286,"question_id":74881874,"body_markdown":"    java -XstartOnFirstThread -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log\r\n\r\n(since your error message seems to indicate a gui threading issue)","title":"MacOS: Cannot open JAR File","body":"<pre><code>java -XstartOnFirstThread -jar ptltrader-1.6.0-macosx.jar 2&gt;&amp;1 | tee err-out.log\n</code></pre>\n<p>(since your error message seems to indicate a gui threading issue)</p>\n"}],"owner":{"account_id":27321204,"reputation":1,"user_id":20834861,"display_name":"Sahil Sidhu"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74882286,"answer_count":1,"score":-1,"last_activity_date":1671660983,"creation_date":1671657664,"question_id":74881874,"body_markdown":"I have been trying to install a pair trader on my Mac and have not been having success. Links/specs provided below. \r\n\r\nWhen I try to install the JAR file, I first get the error that this app is from an unknown developer. When I go to system preferences, unlock, and click &quot;open anyway&quot;, I get the following error: \r\n\r\n**Java Application Failed**\r\nCheck console error for possible messages related to &quot;/Users/USER/Downloads/ptltrader-1.6.0-macosx.jar&quot;\r\n\r\nI&#39;ve tried everything on the internet and just can&#39;t figure it out. Any help would be appreciated -  TIA.\r\n\r\n**macOS Big Sur 11.6.8**\r\n**java version &quot;17.0.5&quot; 2022-10-18 LTS** - This is from running &quot;java -version&quot; in Terminal.\r\n**Java Version 8 Update 351 (build 1.8.0_351-b10)** - This is from the Java Control Panel.\r\n**Link to what I&#39;m trying to install:** https://github.com/quantverse/ptltrader/releases\r\n\r\nWhen I click &quot;open anyway,&quot; I expect the JAR file to open and run. I have also tried to &quot;Command + Click&quot; the file in finder, and when I choose &quot;Open With,&quot; the only option is JavaLauncher.","title":"MacOS: Cannot open JAR File","body":"<p>I have been trying to install a pair trader on my Mac and have not been having success. Links/specs provided below.</p>\n<p>When I try to install the JAR file, I first get the error that this app is from an unknown developer. When I go to system preferences, unlock, and click &quot;open anyway&quot;, I get the following error:</p>\n<p><strong>Java Application Failed</strong>\nCheck console error for possible messages related to &quot;/Users/USER/Downloads/ptltrader-1.6.0-macosx.jar&quot;</p>\n<p>I've tried everything on the internet and just can't figure it out. Any help would be appreciated -  TIA.</p>\n<p><strong>macOS Big Sur 11.6.8</strong>\n<strong>java version &quot;17.0.5&quot; 2022-10-18 LTS</strong> - This is from running &quot;java -version&quot; in Terminal.\n<strong>Java Version 8 Update 351 (build 1.8.0_351-b10)</strong> - This is from the Java Control Panel.\n<strong>Link to what I'm trying to install:</strong> <a href=\"https://github.com/quantverse/ptltrader/releases\" rel=\"nofollow noreferrer\">https://github.com/quantverse/ptltrader/releases</a></p>\n<p>When I click &quot;open anyway,&quot; I expect the JAR file to open and run. I have also tried to &quot;Command + Click&quot; the file in finder, and when I choose &quot;Open With,&quot; the only option is JavaLauncher.</p>\n"},{"tags":["java","alignment","printf","text-align"],"comments":[{"owner":{"account_id":1116560,"reputation":3471,"user_id":1105759,"accept_rate":92,"display_name":"Nico"},"score":0,"creation_date":1365726817,"post_id":15961130,"comment_id":22748174,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html shows how you can align your output. For example: formatter.format(Locale.FRANCE, &quot;e = %+10.4f&quot;, Math.E); where 10 is the number of &quot;spaces&quot; between the equal sign and the number being printed and 4 is the number of decimal places.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Formatter.html</a> shows how you can align your output. For example: formatter.format(Locale.FRANCE, &quot;e = %+10.4f&quot;, Math.E); where 10 is the number of &quot;spaces&quot; between the equal sign and the number being printed and 4 is the number of decimal places."}],"answers":[{"comments":[{"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"score":0,"creation_date":1365727027,"post_id":15961169,"comment_id":22748203,"body_markdown":"Seeing answers like this makes me wish Java&#39;s `String` had `padLeft`, `padRight`, etc like other programming languages&#39; standard libraries...","body":"Seeing answers like this makes me wish Java&#39;s <code>String</code> had <code>padLeft</code>, <code>padRight</code>, etc like other programming languages&#39; standard libraries..."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":2,"creation_date":1365727258,"post_id":15961169,"comment_id":22748257,"body_markdown":"Java does have StringUtils.leftPad() and StringUtils.rightPad().  these are part of Apache Commons Lang.","body":"Java does have StringUtils.leftPad() and StringUtils.rightPad().  these are part of Apache Commons Lang."}],"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1365726702,"creation_date":1365726702,"answer_id":15961169,"question_id":15961130,"body_markdown":"A simple solution that springs to mind is to have a `String` block of spaces:\r\n\r\n    String indent = &quot;                  &quot;; // 20 spaces.\r\n\r\nWhen printing out a string, compute the actual indent and add it to the end:\r\n\r\n    String output = &quot;Newspaper&quot;;\r\n    output += indent.substring(0, indent.length - output.length);\r\n\r\nThis will mediate the number of spaces to the string, and put them all in the same column.\r\n","title":"Align printf output in Java","body":"<p>A simple solution that springs to mind is to have a <code>String</code> block of spaces:</p>\n\n<pre><code>String indent = \"                  \"; // 20 spaces.\n</code></pre>\n\n<p>When printing out a string, compute the actual indent and add it to the end:</p>\n\n<pre><code>String output = \"Newspaper\";\noutput += indent.substring(0, indent.length - output.length);\n</code></pre>\n\n<p>This will mediate the number of spaces to the string, and put them all in the same column.</p>\n"},{"comments":[{"owner":{"account_id":1986367,"reputation":623,"user_id":1781482,"accept_rate":63,"display_name":"user1781482"},"score":17,"creation_date":1365727603,"post_id":15961205,"comment_id":22748332,"body_markdown":"First off, don&#39;t call someone lazy without know anything about that person. Second, I am a Java beginner but I did read about printf and I know the %10d will print 10 spaces before the variable. Now Mr. Know-it-all-and-not-lazy, your code is nowhere near what I need. If you read my question, I need to have left alignment, except the space after the second variable needs to change (not constant) so the third variable is also aligned. Thanks anyways. Good day.","body":"First off, don&#39;t call someone lazy without know anything about that person. Second, I am a Java beginner but I did read about printf and I know the %10d will print 10 spaces before the variable. Now Mr. Know-it-all-and-not-lazy, your code is nowhere near what I need. If you read my question, I need to have left alignment, except the space after the second variable needs to change (not constant) so the third variable is also aligned. Thanks anyways. Good day."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":2,"creation_date":1365728414,"post_id":15961205,"comment_id":22748515,"body_markdown":"if you had read the printf docs then you would know that %10d specifies a field width of 10 and %010d specifies zero left padded field with width 10.  consider reading the docs.","body":"if you had read the printf docs then you would know that %10d specifies a field width of 10 and %010d specifies zero left padded field with width 10.  consider reading the docs."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":2,"creation_date":1365728558,"post_id":15961205,"comment_id":22748540,"body_markdown":"reading the docs will show you that a - as a flag will left justify the field.  ex %-10d","body":"reading the docs will show you that a - as a flag will left justify the field.  ex %-10d"}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":3,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1395364305,"creation_date":1365726955,"answer_id":15961205,"question_id":15961130,"body_markdown":"Format specifications for [printf][1] and printf-like methods take an optional width parameter.\r\n\r\n    System.out.printf( &quot;%10d. %25s $%25.2f\\n&quot;,\r\n                       i + 1, BOOK_TYPE[i], COST[i] );\r\n\r\nAdjust widths to desired values.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax","title":"Align printf output in Java","body":"<p>Format specifications for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow\">printf</a> and printf-like methods take an optional width parameter.</p>\n\n<pre><code>System.out.printf( \"%10d. %25s $%25.2f\\n\",\n                   i + 1, BOOK_TYPE[i], COST[i] );\n</code></pre>\n\n<p>Adjust widths to desired values.</p>\n"},{"tags":[],"owner":{"account_id":1998687,"reputation":583,"user_id":1790234,"display_name":"LionsDen"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1490109863,"creation_date":1365727568,"answer_id":15961294,"question_id":15961130,"body_markdown":"You can try the below example. Do use &#39;-&#39; before the width to ensure left indentation. By default they will be right indented; which may not suit your purpose.\r\n\r\n    System.out.printf(&quot;%2d. %-20s $%.2f%n&quot;,  i + 1, BOOK_TYPE[i], COST[i]);\r\n\r\nFormat String Syntax: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\r\n\r\nFormatting Numeric Print Output: https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\r\n\r\nPS: This could go as a comment to DwB&#39;s answer, but i still don&#39;t have permissions to comment and so answering it.","title":"Align printf output in Java","body":"<p>You can try the below example. Do use '-' before the width to ensure left indentation. By default they will be right indented; which may not suit your purpose.</p>\n\n<pre><code>System.out.printf(\"%2d. %-20s $%.2f%n\",  i + 1, BOOK_TYPE[i], COST[i]);\n</code></pre>\n\n<p>Format String Syntax: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax</a></p>\n\n<p>Formatting Numeric Print Output: <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/data/numberformat.html</a></p>\n\n<p>PS: This could go as a comment to DwB's answer, but i still don't have permissions to comment and so answering it.</p>\n"},{"comments":[{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1676137085,"post_id":39218640,"comment_id":133078896,"body_markdown":"Just brilliant, I don&#39;t know how I didn&#39;t think of this. Thanks!","body":"Just brilliant, I don&#39;t know how I didn&#39;t think of this. Thanks!"}],"tags":[],"owner":{"account_id":6255298,"reputation":31,"user_id":6772563,"display_name":"Rick Upton"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472530240,"creation_date":1472530240,"answer_id":39218640,"question_id":15961130,"body_markdown":"Here&#39;s a potential solution that will set the width of the bookType column (i.e. format of the bookTypes value)\r\nbased on the longest bookTypes value.\r\n\r\n\tpublic class Test {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString[] bookTypes = { &quot;Newspaper&quot;, &quot;Paper Back&quot;, &quot;Hardcover book&quot;, &quot;Electronic book&quot;, &quot;Magazine&quot; };\r\n\t\t\tdouble[] costs = { 1.0, 7.5, 10.0, 2.0, 3.0 };\r\n\t\r\n\t\t\t// Find length of longest bookTypes value.\r\n\t\t\tint maxLengthItem = 0;\r\n\t\t\tboolean firstValue = true;\r\n\t\t\tfor (String bookType : bookTypes) {\r\n\t\t\t\tmaxLengthItem = (firstValue) ? bookType.length() : Math.max(maxLengthItem, bookType.length());\r\n\t\t\t\tfirstValue = false;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Display rows of data\r\n\t\t\tfor (int i = 0; i &lt; bookTypes.length; i++) {\r\n\t\t\t\t// Use %6.2 instead of %.2 so that decimals line up, assuming max\r\n\t\t\t\t// book cost of $999.99. Change 6 to a different number if max cost\r\n\t\t\t\t// is different\r\n\t\t\t\tString format = &quot;%d. %-&quot; + Integer.toString(maxLengthItem) + &quot;s \\t\\t $%9.2f\\n&quot;;\r\n\t\t\t\tSystem.out.printf(format, i + 1, bookTypes[i], costs[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Align printf output in Java","body":"<p>Here's a potential solution that will set the width of the bookType column (i.e. format of the bookTypes value)\nbased on the longest bookTypes value.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String[] bookTypes = { \"Newspaper\", \"Paper Back\", \"Hardcover book\", \"Electronic book\", \"Magazine\" };\n        double[] costs = { 1.0, 7.5, 10.0, 2.0, 3.0 };\n\n        // Find length of longest bookTypes value.\n        int maxLengthItem = 0;\n        boolean firstValue = true;\n        for (String bookType : bookTypes) {\n            maxLengthItem = (firstValue) ? bookType.length() : Math.max(maxLengthItem, bookType.length());\n            firstValue = false;\n        }\n\n        // Display rows of data\n        for (int i = 0; i &lt; bookTypes.length; i++) {\n            // Use %6.2 instead of %.2 so that decimals line up, assuming max\n            // book cost of $999.99. Change 6 to a different number if max cost\n            // is different\n            String format = \"%d. %-\" + Integer.toString(maxLengthItem) + \"s \\t\\t $%9.2f\\n\";\n            System.out.printf(format, i + 1, bookTypes[i], costs[i]);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1646084,"reputation":743,"user_id":1517620,"accept_rate":100,"display_name":"Martin McCallion"},"score":0,"creation_date":1583959409,"post_id":46350153,"comment_id":107291929,"body_markdown":"The blog&#39;s gone, but your formatting string examples are still useful. Thanks.","body":"The blog&#39;s gone, but your formatting string examples are still useful. Thanks."}],"tags":[],"owner":{"account_id":6754500,"reputation":1960,"user_id":5203451,"accept_rate":0,"display_name":"hemanto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506015810,"creation_date":1506015810,"answer_id":46350153,"question_id":15961130,"body_markdown":"You can refer to this blog for printing formatted coloured text on console\r\n\r\nhttps://javaforqa.wordpress.com/java-print-coloured-table-on-console/\r\n\r\n    public class ColourConsoleDemo {\r\n    /**\r\n    *\r\n    * @param args\r\n    *\r\n    * &quot;\\033[0m BLACK&quot; will colour the whole line\r\n    *\r\n    * &quot;\\033[37m WHITE\\033[0m&quot; will colour only WHITE.\r\n    * For colour while Opening --&gt; &quot;\\033[37m&quot; and closing --&gt; &quot;\\033[0m&quot;\r\n    *\r\n    *\r\n    */\r\n    public static void main(String[] args) {\r\n    // TODO code application logic here\r\n    System.out.println(&quot;\\033[0m BLACK&quot;);\r\n    System.out.println(&quot;\\033[31m RED&quot;);\r\n    System.out.println(&quot;\\033[32m GREEN&quot;);\r\n    System.out.println(&quot;\\033[33m YELLOW&quot;);\r\n    System.out.println(&quot;\\033[34m BLUE&quot;);\r\n    System.out.println(&quot;\\033[35m MAGENTA&quot;);\r\n    System.out.println(&quot;\\033[36m CYAN&quot;);\r\n    System.out.println(&quot;\\033[37m WHITE\\033[0m&quot;);\r\n    \r\n    //printing the results\r\n    String leftAlignFormat = &quot;| %-20s | %-7d | %-7d | %-7d |%n&quot;;\r\n    \r\n    System.out.format(&quot;|---------Test Cases with Steps Summary -------------|%n&quot;);\r\n    System.out.format(&quot;+----------------------+---------+---------+---------+%n&quot;);\r\n    System.out.format(&quot;| Test Cases           |Passed   |Failed   |Skipped  |%n&quot;);\r\n    System.out.format(&quot;+----------------------+---------+---------+---------+%n&quot;);\r\n    \r\n    String formattedMessage = &quot;TEST_01&quot;.trim();\r\n    \r\n    leftAlignFormat = &quot;| %-20s | %-7d | %-7d | %-7d |%n&quot;;\r\n    System.out.print(&quot;\\033[31m&quot;); // Open print red\r\n    System.out.printf(leftAlignFormat, formattedMessage, 2, 1, 0);\r\n    System.out.print(&quot;\\033[0m&quot;); // Close print red\r\n    System.out.format(&quot;+----------------------+---------+---------+---------+%n&quot;);\r\n    }","title":"Align printf output in Java","body":"<p>You can refer to this blog for printing formatted coloured text on console</p>\n\n<p><a href=\"https://javaforqa.wordpress.com/java-print-coloured-table-on-console/\" rel=\"nofollow noreferrer\">https://javaforqa.wordpress.com/java-print-coloured-table-on-console/</a></p>\n\n<pre><code>public class ColourConsoleDemo {\n/**\n*\n* @param args\n*\n* \"\\033[0m BLACK\" will colour the whole line\n*\n* \"\\033[37m WHITE\\033[0m\" will colour only WHITE.\n* For colour while Opening --&gt; \"\\033[37m\" and closing --&gt; \"\\033[0m\"\n*\n*\n*/\npublic static void main(String[] args) {\n// TODO code application logic here\nSystem.out.println(\"\\033[0m BLACK\");\nSystem.out.println(\"\\033[31m RED\");\nSystem.out.println(\"\\033[32m GREEN\");\nSystem.out.println(\"\\033[33m YELLOW\");\nSystem.out.println(\"\\033[34m BLUE\");\nSystem.out.println(\"\\033[35m MAGENTA\");\nSystem.out.println(\"\\033[36m CYAN\");\nSystem.out.println(\"\\033[37m WHITE\\033[0m\");\n\n//printing the results\nString leftAlignFormat = \"| %-20s | %-7d | %-7d | %-7d |%n\";\n\nSystem.out.format(\"|---------Test Cases with Steps Summary -------------|%n\");\nSystem.out.format(\"+----------------------+---------+---------+---------+%n\");\nSystem.out.format(\"| Test Cases           |Passed   |Failed   |Skipped  |%n\");\nSystem.out.format(\"+----------------------+---------+---------+---------+%n\");\n\nString formattedMessage = \"TEST_01\".trim();\n\nleftAlignFormat = \"| %-20s | %-7d | %-7d | %-7d |%n\";\nSystem.out.print(\"\\033[31m\"); // Open print red\nSystem.out.printf(leftAlignFormat, formattedMessage, 2, 1, 0);\nSystem.out.print(\"\\033[0m\"); // Close print red\nSystem.out.format(\"+----------------------+---------+---------+---------+%n\");\n}\n</code></pre>\n"}],"owner":{"account_id":1986367,"reputation":623,"user_id":1781482,"accept_rate":63,"display_name":"user1781482"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163903,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":15961294,"answer_count":5,"score":23,"last_activity_date":1671660852,"creation_date":1365726509,"question_id":15961130,"body_markdown":"I need to display a list of items with their prices from an array and would like to align the prices. I almost have it working but needs improvements. Below is the code and the output. Any ideas how to make all prices aligned? So far some work but some don&#39;t.\r\n\r\n    //for loop\r\n    System.out.printf(&quot;%d. %s \\t\\t $%.2f\\n&quot;,\r\n                    i + 1, BOOK_TYPE[i], COST[i]);\r\n\r\noutput:\r\n\r\n    1. Newspaper \t\t $1.00\r\n    2. Paper Back \t\t $7.50\r\n    3. Hardcover book \t\t $10.00\r\n    4. Electronic book \t\t $2.00\r\n    5. Magazine \t\t $3.00","title":"Align printf output in Java","body":"<p>I need to display a list of items with their prices from an array and would like to align the prices. I almost have it working but needs improvements. Below is the code and the output. Any ideas how to make all prices aligned? So far some work but some don't.</p>\n<pre><code>//for loop\nSystem.out.printf(&quot;%d. %s \\t\\t $%.2f\\n&quot;,\n                i + 1, BOOK_TYPE[i], COST[i]);\n</code></pre>\n<p>output:</p>\n<pre><code>1. Newspaper         $1.00\n2. Paper Back        $7.50\n3. Hardcover book        $10.00\n4. Electronic book       $2.00\n5. Magazine          $3.00\n</code></pre>\n"},{"tags":["java","spring-boot","maven","gradle","tomcat"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":5,"creation_date":1671031418,"post_id":74799962,"comment_id":132010242,"body_markdown":"Why do you want to do that? What is the original problem you want to solve with this?","body":"Why do you want to do that? What is the original problem you want to solve with this?"},{"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"score":0,"creation_date":1671091617,"post_id":74799962,"comment_id":132024110,"body_markdown":"@JFabianMeier we are building an internal CI/CD tool for a particular industry (banking related) - where test deployments are strictly controlled and have to follow certain audit requirements. so we will be using this to build and test-deploy within controlled environments. this is not public cloud, etc. Docker is still hard to introduce here. and if we use external CI tools, i will need PCI-DSS audit of the same. this is a much cheaper/quicker/cost-effective/audit-friendly alternative","body":"@JFabianMeier we are building an internal CI/CD tool for a particular industry (banking related) - where test deployments are strictly controlled and have to follow certain audit requirements. so we will be using this to build and test-deploy within controlled environments. this is not public cloud, etc. Docker is still hard to introduce here. and if we use external CI tools, i will need PCI-DSS audit of the same. this is a much cheaper/quicker/cost-effective/audit-friendly alternative"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1671094438,"post_id":74799962,"comment_id":132024892,"body_markdown":"So you have an audit for spring boot, but not for Maven? Anyway, I would think about writing a bash script or a plain Java program.","body":"So you have an audit for spring boot, but not for Maven? Anyway, I would think about writing a bash script or a plain Java program."},{"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"score":0,"creation_date":1671259162,"post_id":74799962,"comment_id":132065347,"body_markdown":"we do have an audit for maven. but there are tons of approval steps required for each test deploy, which is captured in excel. and which i can productize as a spring boot application (if i can load an external jar). it seems it can using TomcatServletWebServerFactory , but i thank you for your orthogonal suggestion.","body":"we do have an audit for maven. but there are tons of approval steps required for each test deploy, which is captured in excel. and which i can productize as a spring boot application (if i can load an external jar). it seems it can using TomcatServletWebServerFactory , but i thank you for your orthogonal suggestion."}],"answers":[{"tags":[],"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671314630,"creation_date":1671308384,"answer_id":74837232,"question_id":74799962,"body_markdown":"Hmm - I know you wanted sample Code, but I lack the time currently to try it out by myself and this here might not be a real answer - but too big for a comment:\r\n\r\nI never done something like this before, but maybe I could throw my idea in here - if it sucks, feel free to ignore it.\r\n\r\nI don&#39;t know if your &quot;Main Spring Boot Project&quot; uses the Maven Wrapper, but lets assume it does.\r\n\r\nSo let&#39;s try the following concept:\r\n- You start your &quot;Main&quot; Spring Boot Application, which actually could Build and Start multiple Spring Boot Applications.\r\n- The Main Spring Boot Application checksout X different Spring Boot Applications from GitHub / GitLab whatever (with `git clone`) in some directories of its choice. (you could do this with JGit or with **Runtime.getRuntime().exec(&quot;your git command&quot;)**  or whatever comes in your mind)\r\n- Knowing that the Maven Wrapper exists in this folder, you could basically build the Spring Boot JAR in the **target** Folder, (or like with Gradle when you do `gradlew bootJar`)\r\n- After the &quot;Shell Command&quot; did execute successfully, you could start the Spring Boot Jar by executing something like `java -jar path/to/your/mySpringBoot.jar fully.qualified.package.Application`\r\n\r\n\r\nDoes it sound conceptually somewhat you want to do? In the end, if we think about it - it is the same, when you checkout your Project manually, build the JAR and start it - ain&#39;t it?","title":"Can I compile and run a spring boot jar from inside another spring boot application?","body":"<p>Hmm - I know you wanted sample Code, but I lack the time currently to try it out by myself and this here might not be a real answer - but too big for a comment:</p>\n<p>I never done something like this before, but maybe I could throw my idea in here - if it sucks, feel free to ignore it.</p>\n<p>I don't know if your &quot;Main Spring Boot Project&quot; uses the Maven Wrapper, but lets assume it does.</p>\n<p>So let's try the following concept:</p>\n<ul>\n<li>You start your &quot;Main&quot; Spring Boot Application, which actually could Build and Start multiple Spring Boot Applications.</li>\n<li>The Main Spring Boot Application checksout X different Spring Boot Applications from GitHub / GitLab whatever (with <code>git clone</code>) in some directories of its choice. (you could do this with JGit or with <strong>Runtime.getRuntime().exec(&quot;your git command&quot;)</strong>  or whatever comes in your mind)</li>\n<li>Knowing that the Maven Wrapper exists in this folder, you could basically build the Spring Boot JAR in the <strong>target</strong> Folder, (or like with Gradle when you do <code>gradlew bootJar</code>)</li>\n<li>After the &quot;Shell Command&quot; did execute successfully, you could start the Spring Boot Jar by executing something like <code>java -jar path/to/your/mySpringBoot.jar fully.qualified.package.Application</code></li>\n</ul>\n<p>Does it sound conceptually somewhat you want to do? In the end, if we think about it - it is the same, when you checkout your Project manually, build the JAR and start it - ain't it?</p>\n"},{"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671314939,"creation_date":1671314939,"answer_id":74837806,"question_id":74799962,"body_markdown":"Cant you simply build and run your secondary Spring Boot applications in _external processes_ that are started from within your primary Spring Boot application?\r\n\r\nIve just tried this in a very simple proof-of-concept. For this POC, I have created two dummy Spring Boot applications, one called `outer` and one called `inner`. The latter is supposed to be built and run by the former.\r\n\r\nHeres the directory structure (ommitting [Gradle 7.6 Wrapper](https://docs.gradle.org/7.6/userguide/gradle_wrapper.html) files in each of the two Gradle projects for brevity):\r\n\r\n```lang-none\r\n inner\r\n&#160;&#160;  build.gradle\r\n&#160;&#160;  settings.gradle\r\n&#160;&#160;  src\r\n&#160;&#160;      main\r\n&#160;&#160;          java\r\n&#160;&#160;         &#160;&#160;  com\r\n&#160;&#160;         &#160;&#160;      example\r\n&#160;&#160;         &#160;&#160;          demo\r\n&#160;&#160;         &#160;&#160;              DemoApplication.java\r\n&#160;&#160;          resources\r\n&#160;&#160;              application.properties\r\n outer\r\n     build.gradle\r\n     settings.gradle\r\n     src\r\n         main\r\n             java\r\n                 com\r\n                     example\r\n                         demo\r\n                             DemoApplication.java\r\n```\r\n\r\nThe two `settings.gradle` files are both empty. The two `build.gradle` files have the same content, too:\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.6&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n}\r\n```\r\n\r\nThe inner application is the demo applicatation from the [Spring Quickstart Guide](https://spring.io/quickstart), i.e., `inner/src/main/java/com/example/demo/DemoApplication.java` looks as follows:\r\n\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@SpringBootApplication\r\n@RestController\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\r\n        return String.format(&quot;Hello %s!&quot;, name);\r\n    }\r\n}\r\n```\r\n\r\nThe `inner/src/main/resources/application.properties` file additionally contains `server.port=8081` so that its web server is run on a different port than the one of outer.\r\n\r\nThat leaves us with `outer/src/main/java/com/example/demo/DemoApplication.java` which defines the following (crude) application:\r\n\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\n@SpringBootApplication\r\n@RestController\r\npublic class DemoApplication {\r\n\r\n    private Process otherAppProcess = null;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @PostMapping(&quot;/run&quot;)\r\n    public String run() throws IOException, InterruptedException {\r\n        synchronized (this) {\r\n            if (otherAppProcess != null) {\r\n                stop();\r\n            }\r\n            var processBuilder = new ProcessBuilder(&quot;./gradlew&quot;, &quot;bootRun&quot;);\r\n            processBuilder.directory(new File(&quot;../inner&quot;));\r\n            otherAppProcess = processBuilder.start();\r\n        }\r\n        return &quot;Done.&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/stop&quot;)\r\n    public String stop() {\r\n        synchronized (this) {\r\n            if (otherAppProcess != null) {\r\n                otherAppProcess.destroy();\r\n                otherAppProcess = null;\r\n            }\r\n        }\r\n        return &quot;Ok.&quot;;\r\n    }\r\n}\r\n```\r\n\r\nYou can now run `./gradlew bootRun` in `outer/` to start the outer Spring Boot application  a Tomcat web server. That server reacts to a POST request wich starts a Gradle build of the inner Spring Boot application which also runs that application (once the build is complete). For example, you can now try the following interaction:\r\n\r\n```lang-none\r\n$ curl -X GET http://localhost:8081/hello\r\ncurl: (7) Failed to connect to localhost port 8081 after 0 ms: Connection refused\r\n$ curl -X POST http://localhost:8080/run\r\nDone.\r\n$ curl -X GET http://localhost:8081/hello\r\nHello World!\r\n$ curl -X POST http://localhost:8080/stop\r\nOk.\r\n```","title":"Can I compile and run a spring boot jar from inside another spring boot application?","body":"<p>Cant you simply build and run your secondary Spring Boot applications in <em>external processes</em> that are started from within your primary Spring Boot application?</p>\n<p>Ive just tried this in a very simple proof-of-concept. For this POC, I have created two dummy Spring Boot applications, one called <code>outer</code> and one called <code>inner</code>. The latter is supposed to be built and run by the former.</p>\n<p>Heres the directory structure (ommitting <a href=\"https://docs.gradle.org/7.6/userguide/gradle_wrapper.html\" rel=\"noreferrer\">Gradle 7.6 Wrapper</a> files in each of the two Gradle projects for brevity):</p>\n<pre class=\"lang-none prettyprint-override\"><code> inner\n  build.gradle\n  settings.gradle\n  src\n      main\n          java\n           com\n               example\n                   demo\n                       DemoApplication.java\n          resources\n              application.properties\n outer\n     build.gradle\n     settings.gradle\n     src\n         main\n             java\n                 com\n                     example\n                         demo\n                             DemoApplication.java\n</code></pre>\n<p>The two <code>settings.gradle</code> files are both empty. The two <code>build.gradle</code> files have the same content, too:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.6'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n}\n</code></pre>\n<p>The inner application is the demo applicatation from the <a href=\"https://spring.io/quickstart\" rel=\"noreferrer\">Spring Quickstart Guide</a>, i.e., <code>inner/src/main/java/com/example/demo/DemoApplication.java</code> looks as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\n        return String.format(&quot;Hello %s!&quot;, name);\n    }\n}\n</code></pre>\n<p>The <code>inner/src/main/resources/application.properties</code> file additionally contains <code>server.port=8081</code> so that its web server is run on a different port than the one of outer.</p>\n<p>That leaves us with <code>outer/src/main/java/com/example/demo/DemoApplication.java</code> which defines the following (crude) application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.File;\nimport java.io.IOException;\n\n@SpringBootApplication\n@RestController\npublic class DemoApplication {\n\n    private Process otherAppProcess = null;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @PostMapping(&quot;/run&quot;)\n    public String run() throws IOException, InterruptedException {\n        synchronized (this) {\n            if (otherAppProcess != null) {\n                stop();\n            }\n            var processBuilder = new ProcessBuilder(&quot;./gradlew&quot;, &quot;bootRun&quot;);\n            processBuilder.directory(new File(&quot;../inner&quot;));\n            otherAppProcess = processBuilder.start();\n        }\n        return &quot;Done.&quot;;\n    }\n\n    @PostMapping(&quot;/stop&quot;)\n    public String stop() {\n        synchronized (this) {\n            if (otherAppProcess != null) {\n                otherAppProcess.destroy();\n                otherAppProcess = null;\n            }\n        }\n        return &quot;Ok.&quot;;\n    }\n}\n</code></pre>\n<p>You can now run <code>./gradlew bootRun</code> in <code>outer/</code> to start the outer Spring Boot application  a Tomcat web server. That server reacts to a POST request wich starts a Gradle build of the inner Spring Boot application which also runs that application (once the build is complete). For example, you can now try the following interaction:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ curl -X GET http://localhost:8081/hello\ncurl: (7) Failed to connect to localhost port 8081 after 0 ms: Connection refused\n$ curl -X POST http://localhost:8080/run\nDone.\n$ curl -X GET http://localhost:8081/hello\nHello World!\n$ curl -X POST http://localhost:8080/stop\nOk.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671315796,"creation_date":1671315796,"answer_id":74837886,"question_id":74799962,"body_markdown":"You can use `JavaCompiler`.\r\n\r\n     public static void main(String[] args) {\r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\r\n            Iterable&lt;? extends JavaFileObject&gt; fileObjects = fileManager.getJavaFileObjectsFromStrings(Arrays.asList(&quot;src/main/java/com/example/app2/Application.java&quot;));\r\n            compiler.getTask(null, fileManager, null, null, null, fileObjects).call();\r\n            fileManager.close();\r\n            \r\n            // you can run jar file from this host application\r\n            String[] newArgs = {&quot;--spring.config.name=externalApp&quot;, &quot;--spring.config.additional-location=file:/etc/externalApp/&quot;};\r\n            SpringApplication.run(com.example.externalApp.Application.class, newArgs);\r\n        }\r\n\r\nAlso take a look at the documentation -&gt;  [Java Compiler][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/JDK-6/CompilingfromMemory.htm","title":"Can I compile and run a spring boot jar from inside another spring boot application?","body":"<p>You can use <code>JavaCompiler</code>.</p>\n<pre><code> public static void main(String[] args) {\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\n        Iterable&lt;? extends JavaFileObject&gt; fileObjects = fileManager.getJavaFileObjectsFromStrings(Arrays.asList(&quot;src/main/java/com/example/app2/Application.java&quot;));\n        compiler.getTask(null, fileManager, null, null, null, fileObjects).call();\n        fileManager.close();\n        \n        // you can run jar file from this host application\n        String[] newArgs = {&quot;--spring.config.name=externalApp&quot;, &quot;--spring.config.additional-location=file:/etc/externalApp/&quot;};\n        SpringApplication.run(com.example.externalApp.Application.class, newArgs);\n    }\n</code></pre>\n<p>Also take a look at the documentation -&gt;  <a href=\"http://www.java2s.com/Code/Java/JDK-6/CompilingfromMemory.htm\" rel=\"nofollow noreferrer\">Java Compiler</a></p>\n"},{"tags":[],"owner":{"account_id":10208417,"reputation":138,"user_id":12024466,"display_name":"Ranjit M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671540076,"creation_date":1671539714,"answer_id":74863181,"question_id":74799962,"body_markdown":"Taking an example from Chriki answer, I can run another spring boot app from the so called OuterApp . Inner app will run on the port number which as example can be 8081.\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    \r\n    public class OuterApplication {\r\n        public static void main(String[] args) {\r\n          \r\n            SpringApplication.run(OuterApplication.class, args);\r\n            \r\n            SpringApplication innerApp = new SpringApplication(InnerApplication.class);\r\n            innerApp.setDefaultProperties(new HashMap&lt;String, Object&gt;() {{\r\n                put(&quot;server.port&quot;, &quot;8081&quot;);\r\n            }});\r\n            innerApp.run(args);\r\n        }\r\n    }\r\n\r\n","title":"Can I compile and run a spring boot jar from inside another spring boot application?","body":"<p>Taking an example from Chriki answer, I can run another spring boot app from the so called OuterApp . Inner app will run on the port number which as example can be 8081.</p>\n<pre><code>import org.springframework.boot.SpringApplication;\n\npublic class OuterApplication {\n    public static void main(String[] args) {\n      \n        SpringApplication.run(OuterApplication.class, args);\n        \n        SpringApplication innerApp = new SpringApplication(InnerApplication.class);\n        innerApp.setDefaultProperties(new HashMap&lt;String, Object&gt;() {{\n            put(&quot;server.port&quot;, &quot;8081&quot;);\n        }});\n        innerApp.run(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27307430,"reputation":117,"user_id":20823153,"display_name":"itshagunrathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671561349,"creation_date":1671561349,"answer_id":74867494,"question_id":74799962,"body_markdown":"You can do this by using the SpringApplication.run() method to start the inner application within the main application.\r\n\r\n        @SpringBootApplication\r\n    public class MainApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n            return args -&gt; {\r\n                // Start your inner application here\r\n                SpringApplication.run(InnerApplication.class, args);\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Can I compile and run a spring boot jar from inside another spring boot application?","body":"<p>You can do this by using the SpringApplication.run() method to start the inner application within the main application.</p>\n<pre><code>    @SpringBootApplication\npublic class MainApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n        return args -&gt; {\n            // Start your inner application here\n            SpringApplication.run(InnerApplication.class, args);\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671660851,"creation_date":1671660851,"answer_id":74882273,"question_id":74799962,"body_markdown":"Have you looked at &quot;Maven Invoker&quot; yet?  Not only can you do it, you can do anything that you can do with Maven.\r\n\r\nHere is an example (it uses TestContainers, but doesn&#39;t have to) from [my github][1].\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.apache.maven.shared.invoker.DefaultInvocationRequest;\r\n    import org.apache.maven.shared.invoker.DefaultInvoker;\r\n    import org.apache.maven.shared.invoker.InvocationResult;\r\n    import org.apache.maven.shared.invoker.MavenInvocationException;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.util.DigestUtils;\r\n    import org.testcontainers.DockerClientFactory;\r\n    import org.testcontainers.containers.GenericContainer;\r\n    import org.testcontainers.utility.LazyFuture;\r\n    \r\n    import java.io.File;\r\n    import java.util.List;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class OCIwithTCCTest {\r\n        private static final Future&lt;String&gt; IMAGE_FUTURE = new LazyFuture&lt;&gt;() {\r\n            @Override\r\n            protected String resolve() {\r\n                // Find project&#39;s root dir\r\n                File cwd;\r\n                for (\r\n                        cwd = new File(&quot;.&quot;);\r\n                        !new File(cwd, &quot;mvnw&quot;).isFile();\r\n                        cwd = cwd.getParentFile()\r\n                );\r\n    \r\n                // Make it unique per folder (for caching)\r\n                var imageName = String.format(\r\n                        &quot;local/demo-%s:%s&quot;,\r\n                        DigestUtils.md5DigestAsHex(cwd.getAbsolutePath().getBytes()),\r\n                        System.currentTimeMillis()\r\n                );\r\n    \r\n                var properties = new Properties();\r\n                properties.put(&quot;spring-boot.build-image.imageName&quot;, imageName);\r\n                properties.put(&quot;skipTests&quot;, &quot;true&quot;);\r\n    \r\n                var request = new DefaultInvocationRequest()\r\n                        .addShellEnvironment(&quot;DOCKER_HOST&quot;, DockerClientFactory.instance().getTransportConfig().getDockerHost().toString())\r\n                        .setPomFile(new File(cwd, &quot;pom.xml&quot;))\r\n                        .setGoals(List.of(&quot;spring-boot:build-image&quot;))\r\n                        .setMavenExecutable(new File(cwd, &quot;mvnw&quot;))\r\n                        .setProperties(properties);\r\n    \r\n                InvocationResult invocationResult;\r\n                try {\r\n                    invocationResult = new DefaultInvoker().execute(request);\r\n                } catch (MavenInvocationException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n    \r\n                if (invocationResult.getExitCode() != 0) {\r\n                    throw new RuntimeException(invocationResult.getExecutionException());\r\n                }\r\n    \r\n                return imageName;\r\n            }\r\n        };\r\n    \r\n    \r\n        static final GenericContainer&lt;?&gt; APP = new GenericContainer&lt;&gt;(IMAGE_FUTURE)\r\n                .withExposedPorts(8080);\r\n        \r\n        @Test\r\n        void containerStartupTest() {\r\n            APP.start();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/dashaun/spring-boot-3-buildpacks-with-testcontainers-cloud\r\n\r\nThe dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-invoker&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThis example repository builds the application into an OCI image using spring-boot:build-image and then runs a test against that image, all from within a test, using Maven Invoker.","title":"Can I compile and run a spring boot jar from inside another spring boot application?","body":"<p>Have you looked at &quot;Maven Invoker&quot; yet?  Not only can you do it, you can do anything that you can do with Maven.</p>\n<p>Here is an example (it uses TestContainers, but doesn't have to) from <a href=\"https://github.com/dashaun/spring-boot-3-buildpacks-with-testcontainers-cloud\" rel=\"nofollow noreferrer\">my github</a>.</p>\n<pre><code>package com.example.demo;\n\nimport org.apache.maven.shared.invoker.DefaultInvocationRequest;\nimport org.apache.maven.shared.invoker.DefaultInvoker;\nimport org.apache.maven.shared.invoker.InvocationResult;\nimport org.apache.maven.shared.invoker.MavenInvocationException;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.util.DigestUtils;\nimport org.testcontainers.DockerClientFactory;\nimport org.testcontainers.containers.GenericContainer;\nimport org.testcontainers.utility.LazyFuture;\n\nimport java.io.File;\nimport java.util.List;\nimport java.util.Properties;\nimport java.util.concurrent.Future;\n\npublic class OCIwithTCCTest {\n    private static final Future&lt;String&gt; IMAGE_FUTURE = new LazyFuture&lt;&gt;() {\n        @Override\n        protected String resolve() {\n            // Find project's root dir\n            File cwd;\n            for (\n                    cwd = new File(&quot;.&quot;);\n                    !new File(cwd, &quot;mvnw&quot;).isFile();\n                    cwd = cwd.getParentFile()\n            );\n\n            // Make it unique per folder (for caching)\n            var imageName = String.format(\n                    &quot;local/demo-%s:%s&quot;,\n                    DigestUtils.md5DigestAsHex(cwd.getAbsolutePath().getBytes()),\n                    System.currentTimeMillis()\n            );\n\n            var properties = new Properties();\n            properties.put(&quot;spring-boot.build-image.imageName&quot;, imageName);\n            properties.put(&quot;skipTests&quot;, &quot;true&quot;);\n\n            var request = new DefaultInvocationRequest()\n                    .addShellEnvironment(&quot;DOCKER_HOST&quot;, DockerClientFactory.instance().getTransportConfig().getDockerHost().toString())\n                    .setPomFile(new File(cwd, &quot;pom.xml&quot;))\n                    .setGoals(List.of(&quot;spring-boot:build-image&quot;))\n                    .setMavenExecutable(new File(cwd, &quot;mvnw&quot;))\n                    .setProperties(properties);\n\n            InvocationResult invocationResult;\n            try {\n                invocationResult = new DefaultInvoker().execute(request);\n            } catch (MavenInvocationException e) {\n                throw new RuntimeException(e);\n            }\n\n            if (invocationResult.getExitCode() != 0) {\n                throw new RuntimeException(invocationResult.getExecutionException());\n            }\n\n            return imageName;\n        }\n    };\n\n\n    static final GenericContainer&lt;?&gt; APP = new GenericContainer&lt;&gt;(IMAGE_FUTURE)\n            .withExposedPorts(8080);\n    \n    @Test\n    void containerStartupTest() {\n        APP.start();\n    }\n}\n</code></pre>\n<p>The dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-invoker&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This example repository builds the application into an OCI image using spring-boot:build-image and then runs a test against that image, all from within a test, using Maven Invoker.</p>\n"}],"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1671660851,"creation_date":1671028946,"question_id":74799962,"body_markdown":"So quick clarifications because I have read some of the previous similar questions:\r\n1. I&#39;m looking to compile and run a spring boot codebase from a running spring application.\r\n2. I&#39;m not looking to nest or package multiple spring boot jars inside one. The second spring boot codebase is outside. Maybe even on github.\r\n\r\nI have already looked at https://www.toptal.com/spring-boot/spring-boot-application-programmatic-launch. It was super helpful, but I&#39;m not sure how to compile and load a spring boot application.\r\n\r\nI have an inkling that this is done at the Tomcat TomcatServletWebServerFactory level - basically the spring boot &quot;helper&quot; application will trigger tomcat to load the external jar and deploy. I&#39;m not 100% sure if this is correct. ","title":"Can I compile and run a spring boot jar from inside another spring boot application?","body":"<p>So quick clarifications because I have read some of the previous similar questions:</p>\n<ol>\n<li>I'm looking to compile and run a spring boot codebase from a running spring application.</li>\n<li>I'm not looking to nest or package multiple spring boot jars inside one. The second spring boot codebase is outside. Maybe even on github.</li>\n</ol>\n<p>I have already looked at <a href=\"https://www.toptal.com/spring-boot/spring-boot-application-programmatic-launch\" rel=\"nofollow noreferrer\">https://www.toptal.com/spring-boot/spring-boot-application-programmatic-launch</a>. It was super helpful, but I'm not sure how to compile and load a spring boot application.</p>\n<p>I have an inkling that this is done at the Tomcat TomcatServletWebServerFactory level - basically the spring boot &quot;helper&quot; application will trigger tomcat to load the external jar and deploy. I'm not 100% sure if this is correct.</p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1671660050,"post_id":74882137,"comment_id":132149331,"body_markdown":"*Why* are you using awt components?? They are ancient","body":"<i>Why</i> are you using awt components?? They are ancient"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671663702,"post_id":74882137,"comment_id":132150010,"body_markdown":"I would consider moving to JavaFX or at the very least, Swing - you&#39;ll get better support","body":"I would consider moving to JavaFX or at the very least, Swing - you&#39;ll get better support"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671663874,"post_id":74882268,"comment_id":132150043,"body_markdown":"From the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Component.html#repaint()) - *&quot;If this component is a lightweight component, this method causes a call to this component&#39;s paint method as soon as possible. Otherwise, this method causes a call to this component&#39;s update method as soon as possible.&quot;*, so, yes, it is used for AWT components.  The OP should be using both `revalidate`, which will trigger a layout pass (root cause of their problem) and `repaint` to trigger a new paint pass","body":"From the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Component.html#repaint()\" rel=\"nofollow noreferrer\">JavaDocs</a> - <i>&quot;If this component is a lightweight component, this method causes a call to this component&#39;s paint method as soon as possible. Otherwise, this method causes a call to this component&#39;s update method as soon as possible.&quot;</i>, so, yes, it is used for AWT components.  The OP should be using both <code>revalidate</code>, which will trigger a layout pass (root cause of their problem) and <code>repaint</code> to trigger a new paint pass"}],"tags":[],"owner":{"account_id":27321631,"reputation":26,"user_id":20835228,"display_name":"Rattus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671660804,"creation_date":1671660804,"answer_id":74882268,"question_id":74882137,"body_markdown":"Use `revalidate()` instead of `repaint()`. `Revalidate()` is used for components, `repaint()` is not.","title":"Java awt Panel doesn&#39;t repaint from thread and only updates when I resize the window","body":"<p>Use <code>revalidate()</code> instead of <code>repaint()</code>. <code>Revalidate()</code> is used for components, <code>repaint()</code> is not.</p>\n"}],"owner":{"account_id":10571175,"reputation":3,"user_id":7787921,"display_name":"luke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74882268,"answer_count":1,"score":0,"last_activity_date":1671660804,"creation_date":1671659703,"question_id":74882137,"body_markdown":"I&#39;m trying to add Labels to a awt panel from a thread, and I&#39;m calling repaint from the thread, but the panel isn&#39;t updating, and only updates when I resize the window. I tried many solutions, but none are working, so please help.\r\n\r\n```\r\npublic class Updater extends Thread{\r\n    private Panel p;\r\n    public Updater(Panel p) {\r\n        this.p = p;\r\n    }\r\n    public void run() {\r\n        while (true) {\r\n            p.add(new Label(&quot;Text&quot;), BorderLayout.NORTH);\r\n            p.repaint();\r\n            System.out.println(&quot;Dodao&quot;);\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (Exception e) {\r\n                \r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Main extends Frame {    \r\n    public Panel p;\r\n    private void populateWindow() {      \r\n        p = new Panel();\r\n        p.setLayout(new GridLayout(0, 1));\r\n        add(p);\r\n    }\r\n    public Main() {\r\n        setSize(1000, 500);\r\n        setResizable(true);\r\n        setTitle(&quot;Test&quot;);   \r\n        populateWindow();\r\n        addWindowListener(new WindowAdapter () {\r\n            public void windowClosing(WindowEvent e) {\r\n                dispose();\r\n            }\r\n        });     \r\n        setVisible(true);\r\n    }\r\n    public static void main(String[] args) {\r\n        Main m = new Main();\r\n        Updater u = new Updater(m.p);\r\n        u.start();\r\n    }\r\n}\r\n```","title":"Java awt Panel doesn&#39;t repaint from thread and only updates when I resize the window","body":"<p>I'm trying to add Labels to a awt panel from a thread, and I'm calling repaint from the thread, but the panel isn't updating, and only updates when I resize the window. I tried many solutions, but none are working, so please help.</p>\n<pre><code>public class Updater extends Thread{\n    private Panel p;\n    public Updater(Panel p) {\n        this.p = p;\n    }\n    public void run() {\n        while (true) {\n            p.add(new Label(&quot;Text&quot;), BorderLayout.NORTH);\n            p.repaint();\n            System.out.println(&quot;Dodao&quot;);\n            try {\n                Thread.sleep(1000);\n            } catch (Exception e) {\n                \n            }\n        }\n    }\n}\n</code></pre>\n<pre><code>public class Main extends Frame {    \n    public Panel p;\n    private void populateWindow() {      \n        p = new Panel();\n        p.setLayout(new GridLayout(0, 1));\n        add(p);\n    }\n    public Main() {\n        setSize(1000, 500);\n        setResizable(true);\n        setTitle(&quot;Test&quot;);   \n        populateWindow();\n        addWindowListener(new WindowAdapter () {\n            public void windowClosing(WindowEvent e) {\n                dispose();\n            }\n        });     \n        setVisible(true);\n    }\n    public static void main(String[] args) {\n        Main m = new Main();\n        Updater u = new Updater(m.p);\n        u.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":4,"creation_date":1671645850,"post_id":74879669,"comment_id":132145477,"body_markdown":"the last line of the error tells you what&#39;s wrong :) btw: better format the error as code to make it easily readable","body":"the last line of the error tells you what&#39;s wrong :) btw: better format the error as code to make it easily readable"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1671651255,"post_id":74879669,"comment_id":132147002,"body_markdown":"Study [packages](https://docs.oracle.com/javase/tutorial/java/package/index.html) and [understand the module system](https://www.oracle.com/corporate/features/understanding-java-9-modules.html).","body":"Study <a href=\"https://docs.oracle.com/javase/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\">packages</a> and <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">understand the module system</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671660758,"creation_date":1671660011,"answer_id":74882178,"question_id":74879669,"body_markdown":"# *Java Platform Module System*\r\n\r\nIn your error message, *unnamed package not allowed in module* is the key here. \r\n\r\nCheck your `module-info.java` file created by the JavaFX project template in IntelliJ. Be sure to edit that file to keep up with changes you make.\r\n\r\n&#128073; I would guess that you changed the names of your classes and/or packages but did not edit your `module-info.java` file to suit.\r\n\r\nTip: When changing names of classes and packages in your app in IntelliJ, use IntelliJs *Refactor* features. When doing so, the `module-info.java` file should be automatically updated. See manual on [*Rename refactorings*](https://www.jetbrains.com/help/idea/rename-refactorings.html)\r\n\r\nWhen using JavaFX, you must learn about the [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System). While optional for some other kinds of Java apps, compliance with Java modularity is required of [JavaFX][1] apps. \r\n\r\nAs [commented][2], for working with JavaFX, you must understand both Java packages and Java modules. Resources include:\r\n\r\n - [*Packages*](https://docs.oracle.com/javase/tutorial/java/package/index.html) (tutorial by Oracle)\r\n - [Understanding Java 9 Modules][3], article by Paul Deitel. \r\n - A few books including [*The Java Module System*](https://www.goodreads.com/book/show/40224336-the-java-module-system) by Nicolai Parlog. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n  [2]: https://stackoverflow.com/questions/74879669/javafx-and-intellij-error-java-lang-module-invalidmoduledescriptorexception/74882178#comment132147002_74879669\r\n  [3]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"JavaFX and IntelliJ Error: java.lang.module.InvalidModuleDescriptorException","body":"<h1><em>Java Platform Module System</em></h1>\n<p>In your error message, <em>unnamed package not allowed in module</em> is the key here.</p>\n<p>Check your <code>module-info.java</code> file created by the JavaFX project template in IntelliJ. Be sure to edit that file to keep up with changes you make.</p>\n<p> I would guess that you changed the names of your classes and/or packages but did not edit your <code>module-info.java</code> file to suit.</p>\n<p>Tip: When changing names of classes and packages in your app in IntelliJ, use IntelliJs <em>Refactor</em> features. When doing so, the <code>module-info.java</code> file should be automatically updated. See manual on <a href=\"https://www.jetbrains.com/help/idea/rename-refactorings.html\" rel=\"nofollow noreferrer\"><em>Rename refactorings</em></a></p>\n<p>When using JavaFX, you must learn about the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><em>Java Platform Module System</em></a>. While optional for some other kinds of Java apps, compliance with Java modularity is required of <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> apps.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/74879669/javafx-and-intellij-error-java-lang-module-invalidmoduledescriptorexception/74882178#comment132147002_74879669\">commented</a>, for working with JavaFX, you must understand both Java packages and Java modules. Resources include:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\"><em>Packages</em></a> (tutorial by Oracle)</li>\n<li><a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules</a>, article by Paul Deitel.</li>\n<li>A few books including <a href=\"https://www.goodreads.com/book/show/40224336-the-java-module-system\" rel=\"nofollow noreferrer\"><em>The Java Module System</em></a> by Nicolai Parlog.</li>\n</ul>\n"}],"owner":{"account_id":27100221,"reputation":25,"user_id":20646932,"display_name":"Eri Leonette"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74882178,"answer_count":1,"score":2,"last_activity_date":1671660758,"creation_date":1671643496,"question_id":74879669,"body_markdown":"I started a new JavaFX application with the JavaFX project template that IntelliJ gives you that will only display a GUI created with Scene Builder with some line charts, as far as I&#39;m concerned, the code is right and simple, it&#39;s just a test project.\r\n\r\nAlso, I can&#39;t visualize the .class file in IntelliJ\r\n\r\nThe message is:\r\n\r\n```none\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Error reading module: C:\\Users\\pv3\\Desktop\\PruebasFX_OracleFXProyectInicio\\target\\classes\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: GraficasVentPrueba1.class found in top-level directory (unnamed package not allowed in module)\r\n    \r\nProcess finished with exit code 1\r\n```\r\n\r\nMy code:\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class GraficasVentPrueba1 extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException{\r\n        FXMLLoader launcherGraficas = new FXMLLoader(GraficasVentPrueba1.class.getResource(&quot;GraficasVentPrueba1.fxml&quot;));\r\n        Scene emergenteGraficas = new Scene(launcherGraficas.load());\r\n        stage.setScene(emergenteGraficas);\r\n        stage.show();\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n\r\n```\r\nIt supposed to just open the .fxml. Instead it shows that error message","title":"JavaFX and IntelliJ Error: java.lang.module.InvalidModuleDescriptorException","body":"<p>I started a new JavaFX application with the JavaFX project template that IntelliJ gives you that will only display a GUI created with Scene Builder with some line charts, as far as I'm concerned, the code is right and simple, it's just a test project.</p>\n<p>Also, I can't visualize the .class file in IntelliJ</p>\n<p>The message is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: C:\\Users\\pv3\\Desktop\\PruebasFX_OracleFXProyectInicio\\target\\classes\nCaused by: java.lang.module.InvalidModuleDescriptorException: GraficasVentPrueba1.class found in top-level directory (unnamed package not allowed in module)\n    \nProcess finished with exit code 1\n</code></pre>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\n\npublic class GraficasVentPrueba1 extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException{\n        FXMLLoader launcherGraficas = new FXMLLoader(GraficasVentPrueba1.class.getResource(&quot;GraficasVentPrueba1.fxml&quot;));\n        Scene emergenteGraficas = new Scene(launcherGraficas.load());\n        stage.setScene(emergenteGraficas);\n        stage.show();\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p>It supposed to just open the .fxml. Instead it shows that error message</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":26414744,"reputation":25,"user_id":20063314,"display_name":"Dannenberger"},"score":0,"creation_date":1671718693,"post_id":74882240,"comment_id":132161673,"body_markdown":"Thanks a lot. It is making many calls (GET, POST, PUT, DELETE) and manipulating data, so I think using RestTemplate and putting the exception handling in a `Service` layer makes sense for my app.The only thing I&#39;m concerned about is giving enough information about errors when they happen. If a Service method returns a list of objects (like in my original example) but the API throws an error, how can I send an error message about what went wrong to the user? For example, if the API returns a 503 error, I would want to display a message saying there is a problem with the service.","body":"Thanks a lot. It is making many calls (GET, POST, PUT, DELETE) and manipulating data, so I think using RestTemplate and putting the exception handling in a <code>Service</code> layer makes sense for my app.The only thing I&#39;m concerned about is giving enough information about errors when they happen. If a Service method returns a list of objects (like in my original example) but the API throws an error, how can I send an error message about what went wrong to the user? For example, if the API returns a 503 error, I would want to display a message saying there is a problem with the service."},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":2,"creation_date":1671748626,"post_id":74882240,"comment_id":132170274,"body_markdown":"yeah, that&#39;s always a hassle. Spring Boot has a few options for exception handling, with an API I typically end up with ControllerAdvice mapping exceptions to a error response from the controller. So you&#39;d throw a ServiceUnavailableException from the service layer. IIRC There&#39;s a similar exception handling with ModelAndView / UI. exception is mapped  to a 500 error and friendly error page on the UI.","body":"yeah, that&#39;s always a hassle. Spring Boot has a few options for exception handling, with an API I typically end up with ControllerAdvice mapping exceptions to a error response from the controller. So you&#39;d throw a ServiceUnavailableException from the service layer. IIRC There&#39;s a similar exception handling with ModelAndView / UI. exception is mapped  to a 500 error and friendly error page on the UI."}],"tags":[],"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671660561,"creation_date":1671660561,"answer_id":74882240,"question_id":74881182,"body_markdown":"&quot;It depends&quot; is the answer to all your questions :) \r\n\r\nSo to work out the answers, you need to think about your application, how big it&#39;s going to get and how you will keep it all under control as it matures. The things I&#39;d consider are:\r\n\r\n- How many upstream API calls will your app make? If there&#39;s only 1 and virtually no business logic, then a `Service` layer might just add noise, however if you start doing things other than just straight up displaying bean properties then the less code sitting in the `Controller` the clearer the app will be to the next person. I like to keep Controllers specific to the transport - eg HTTP or gRPC - and dealing with things like response codes, headers etc, so I generally move the `if`s off to a service layer. \r\n\r\n- `RestTemplate` vs `WebClient` is usually a great distraction. If you are using traditional blocking Spring Boot, use `RestTemplate`, if you are using Reactive then use `WebClient`. It doesn&#39;t really matter that much from the application code perspective, it&#39;s usually not a huge job to replace one with the other if you&#39;ve got the application architecture thought out. \r\n\r\nAnother thing - try avoid a `controller` package, a `service` package and a `model` package, group all this stuff together under the business context - in this case an `Entity`, but we all know there is going to be a service, controller, models etc etc. \r\n\r\nYou really don&#39;t want to have 300 controller classes in the `controller` package, best they are grouped together in a way that would make sense to the users or the product owner of an app.. \r\n\r\nMy final bit of advice would be to not be afraid to change as the app gets bigger. Ensure your tests are reliable enough that you can refactor the app as you go. Things like replacing `RestTemplate` with something else, changing the app structure and so on.  \r\n\r\n\r\n","title":"Calling External API from Spring Boot Web UI","body":"<p>&quot;It depends&quot; is the answer to all your questions :)</p>\n<p>So to work out the answers, you need to think about your application, how big it's going to get and how you will keep it all under control as it matures. The things I'd consider are:</p>\n<ul>\n<li><p>How many upstream API calls will your app make? If there's only 1 and virtually no business logic, then a <code>Service</code> layer might just add noise, however if you start doing things other than just straight up displaying bean properties then the less code sitting in the <code>Controller</code> the clearer the app will be to the next person. I like to keep Controllers specific to the transport - eg HTTP or gRPC - and dealing with things like response codes, headers etc, so I generally move the <code>if</code>s off to a service layer.</p>\n</li>\n<li><p><code>RestTemplate</code> vs <code>WebClient</code> is usually a great distraction. If you are using traditional blocking Spring Boot, use <code>RestTemplate</code>, if you are using Reactive then use <code>WebClient</code>. It doesn't really matter that much from the application code perspective, it's usually not a huge job to replace one with the other if you've got the application architecture thought out.</p>\n</li>\n</ul>\n<p>Another thing - try avoid a <code>controller</code> package, a <code>service</code> package and a <code>model</code> package, group all this stuff together under the business context - in this case an <code>Entity</code>, but we all know there is going to be a service, controller, models etc etc.</p>\n<p>You really don't want to have 300 controller classes in the <code>controller</code> package, best they are grouped together in a way that would make sense to the users or the product owner of an app..</p>\n<p>My final bit of advice would be to not be afraid to change as the app gets bigger. Ensure your tests are reliable enough that you can refactor the app as you go. Things like replacing <code>RestTemplate</code> with something else, changing the app structure and so on.</p>\n"}],"owner":{"account_id":26414744,"reputation":25,"user_id":20063314,"display_name":"Dannenberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74882240,"answer_count":1,"score":1,"last_activity_date":1671660561,"creation_date":1671652591,"question_id":74881182,"body_markdown":"I have a Spring Boot WebMVC application (with Thymeleaf) that is moving away from a direct database connection in favor of API calls to another service. I am wondering what the best architecture would be for calling the API and displaying the results to the user. Would RestTemplate be better to put in the Service class, or the Controller class (especially when thinking about error handling)? Also, would WebClient be better over RestTemplate even though it isn&#39;t using WebFlux?\r\n\r\nHere is currently what I am thinking:\r\n\r\nEntity:\r\n\r\n```\r\npublic class Entity {\r\n    public String id;\r\n    public String name;\r\n    ...\r\n}\r\n```\r\n\r\nService:\r\n\r\n```\r\npublic class EntityService {\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    public List&lt;Entity&gt; getAllEntities() {\r\n        return restTemplate.getForObject(&quot;https://localhost.com:8081/entities&quot;, Entity.class);\r\n    }\r\n}\r\n```\r\n\r\nController:\r\n\r\n```\r\npublic class EntityController {\r\n    @Autowired\r\n    private EntityService entityService;\r\n\r\n    @GetMapping(&quot;/entities&quot;)\r\n    public String getAllEntities(Model model) {\r\n        model.addAttribute(entityList, entityService.getAllEntities())\r\n        return &quot;entity&quot;\r\n    }\r\n}\r\n```\r\n\r\nHTML:\r\n\r\n```\r\n&lt;!-- entity.html --&gt;\r\n\r\n&lt;head&gt;\r\n...\r\n&lt;/head&gt;\r\n&lt;body&gt;    \r\n    &lt;div th:each=&quot;entity : #{entityList}&quot;&gt;\r\n        &lt;label th:text=&quot;${entity.id}&quot;/&gt;\r\n        &lt;label th:text=&quot;${entity.name}&quot;/&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n```","title":"Calling External API from Spring Boot Web UI","body":"<p>I have a Spring Boot WebMVC application (with Thymeleaf) that is moving away from a direct database connection in favor of API calls to another service. I am wondering what the best architecture would be for calling the API and displaying the results to the user. Would RestTemplate be better to put in the Service class, or the Controller class (especially when thinking about error handling)? Also, would WebClient be better over RestTemplate even though it isn't using WebFlux?</p>\n<p>Here is currently what I am thinking:</p>\n<p>Entity:</p>\n<pre><code>public class Entity {\n    public String id;\n    public String name;\n    ...\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public class EntityService {\n    @Autowired\n    private RestTemplate restTemplate;\n\n    public List&lt;Entity&gt; getAllEntities() {\n        return restTemplate.getForObject(&quot;https://localhost.com:8081/entities&quot;, Entity.class);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>public class EntityController {\n    @Autowired\n    private EntityService entityService;\n\n    @GetMapping(&quot;/entities&quot;)\n    public String getAllEntities(Model model) {\n        model.addAttribute(entityList, entityService.getAllEntities())\n        return &quot;entity&quot;\n    }\n}\n</code></pre>\n<p>HTML:</p>\n<pre><code>&lt;!-- entity.html --&gt;\n\n&lt;head&gt;\n...\n&lt;/head&gt;\n&lt;body&gt;    \n    &lt;div th:each=&quot;entity : #{entityList}&quot;&gt;\n        &lt;label th:text=&quot;${entity.id}&quot;/&gt;\n        &lt;label th:text=&quot;${entity.name}&quot;/&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["java","assign"],"answers":[{"comments":[{"owner":{"account_id":1264173,"reputation":1876,"user_id":1221842,"display_name":"Reishin"},"score":1,"creation_date":1572956471,"post_id":26957343,"comment_id":103716083,"body_markdown":"python is not a big bad guy - it returning one value, in case of OP example - tuple. But it supporting unboxing a tuple to variables. java not support such thing.","body":"python is not a big bad guy - it returning one value, in case of OP example - tuple. But it supporting unboxing a tuple to variables. java not support such thing."}],"tags":[],"owner":{"display_name":"user1907906"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1416144464,"creation_date":1416143778,"answer_id":26957343,"question_id":26957328,"body_markdown":"**tl;dr:** No, there isn&#39;t such a thing in Java.\r\n\r\nYou *can* assign initial values to variables like this:\r\n\r\n    int foo = 1, bar = 2;\r\n\r\nBut if your want `(1, 2, 3)` to be the result of a method call, this is not possible in Java. Java does not allow returning multiple values.\r\n\r\nPython allows this:\r\n\r\n    def foo():\r\n        return 1, 2, 3\r\n\r\n    a, b, c = foo()\r\n\r\nThe main point, why this does not work in Java is, that the left hand side (LHS) of the assignment must be *one* variable:\r\n\r\n    Wrapper wrapper = WrapperGenrator.generateWrapper();\r\n\r\nYou can *not*  assign to a tuple on the LHS as you can in Python.","title":"Multiple assignment at once in java","body":"<p><strong>tl;dr:</strong> No, there isn't such a thing in Java.</p>\n\n<p>You <em>can</em> assign initial values to variables like this:</p>\n\n<pre><code>int foo = 1, bar = 2;\n</code></pre>\n\n<p>But if your want <code>(1, 2, 3)</code> to be the result of a method call, this is not possible in Java. Java does not allow returning multiple values.</p>\n\n<p>Python allows this:</p>\n\n<pre><code>def foo():\n    return 1, 2, 3\n\na, b, c = foo()\n</code></pre>\n\n<p>The main point, why this does not work in Java is, that the left hand side (LHS) of the assignment must be <em>one</em> variable:</p>\n\n<pre><code>Wrapper wrapper = WrapperGenrator.generateWrapper();\n</code></pre>\n\n<p>You can <em>not</em>  assign to a tuple on the LHS as you can in Python.</p>\n"},{"comments":[{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1416144077,"post_id":26957384,"comment_id":42453837,"body_markdown":"What about the type of this array? What if is more complex than `int[]`?","body":"What about the type of this array? What if is more complex than <code>int[]</code>?"},{"owner":{"account_id":16399380,"reputation":114,"user_id":11845869,"display_name":"f1nch"},"score":0,"creation_date":1650441363,"post_id":26957384,"comment_id":127113770,"body_markdown":"@user1907906 See the [generics](https://docs.oracle.com/javase/tutorial/java/generics/index.html) in Java.","body":"@user1907906 See the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">generics</a> in Java."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416144002,"creation_date":1416144002,"answer_id":26957384,"question_id":26957328,"body_markdown":"If you want (1,2,3) to be the result of a method call, you can use an array:\r\n\r\n    int[] arr = {1,2,3};\r\n\r\n","title":"Multiple assignment at once in java","body":"<p>If you want (1,2,3) to be the result of a method call, you can use an array:</p>\n\n<pre><code>int[] arr = {1,2,3};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640297457,"creation_date":1640297457,"answer_id":70467878,"question_id":26957328,"body_markdown":"I realize this is an old post, but I could point out a way that comes somewhat close to this.\r\n\r\nUsing the OP&#39;s example (This could obviously use multiple types instead of three ints, but I&#39;m going with the original example), \r\n\r\n    class Trip{ int foo;int bar;int baz;} // After building this class, have your editor create a constructor for you!\r\n\r\n    public Trip() {\r\n        return new Trip(1,2,3);\r\n    }\r\n\r\n    Trip t = f()\r\n\r\nNow at this point I realize you haven&#39;t actually ASSIGNED this to three local variables (or member variables) as you would have liked, however you do have a local variable you can use as though you had... like:\r\n\r\n    t.foo * t.bar + t.baz;\r\n\r\nThe advantages here are that this is quite terse, hardly more work than the python example and safer/clearer/easier to read; as is I&#39;d be really happy with this! \r\n\r\nPerhaps more important though is that as you go on you will realize that this mini-class should have been a real class all along since the values are going to be somewhat associated since they are from the same function! \r\n\r\nYou can change what you have to a real class with simple editor refactors--replace member access with getter/setter, make members private, extract the class into it&#39;s own file and you have a full class!\r\n\r\nChances are that you&#39;ll eventually figure out that your original function f() should have been a member (or constructor) of this class in the first place!\r\n\r\nBy the way, the disadvantage is that this will fully trigger some Java programmers that don&#39;t understand that rules were meant to be broken--if you have old coders who are insistent on stuff that seems pedantic (rule-obsessed) it&#39;s best not to try this because it&#39;ll make their head explode (all over you, most likely).\r\n","title":"Multiple assignment at once in java","body":"<p>I realize this is an old post, but I could point out a way that comes somewhat close to this.</p>\n<p>Using the OP's example (This could obviously use multiple types instead of three ints, but I'm going with the original example),</p>\n<pre><code>class Trip{ int foo;int bar;int baz;} // After building this class, have your editor create a constructor for you!\n\npublic Trip() {\n    return new Trip(1,2,3);\n}\n\nTrip t = f()\n</code></pre>\n<p>Now at this point I realize you haven't actually ASSIGNED this to three local variables (or member variables) as you would have liked, however you do have a local variable you can use as though you had... like:</p>\n<pre><code>t.foo * t.bar + t.baz;\n</code></pre>\n<p>The advantages here are that this is quite terse, hardly more work than the python example and safer/clearer/easier to read; as is I'd be really happy with this!</p>\n<p>Perhaps more important though is that as you go on you will realize that this mini-class should have been a real class all along since the values are going to be somewhat associated since they are from the same function!</p>\n<p>You can change what you have to a real class with simple editor refactors--replace member access with getter/setter, make members private, extract the class into it's own file and you have a full class!</p>\n<p>Chances are that you'll eventually figure out that your original function f() should have been a member (or constructor) of this class in the first place!</p>\n<p>By the way, the disadvantage is that this will fully trigger some Java programmers that don't understand that rules were meant to be broken--if you have old coders who are insistent on stuff that seems pedantic (rule-obsessed) it's best not to try this because it'll make their head explode (all over you, most likely).</p>\n"},{"tags":[],"owner":{"account_id":374340,"reputation":4231,"user_id":724491,"display_name":"Chiara Coetzee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671660454,"creation_date":1671659840,"answer_id":74882152,"question_id":26957328,"body_markdown":"As I noted in [this other question][1], if your goal is specifically to return multiple values from a function, in Java 16+ you can accomplish something similar to this using a record type:\r\n\r\n    record FooResult(int a, int b, int c) { }\r\n\r\n    FooResult produceFoo() {\r\n        return new FooResult(1, 2, 3);\r\n    }\r\n\r\n    /* ... */\r\n\r\n    var f = produceFoo();\r\n    System.out.println(f.a + &quot;,&quot; + f.b + &quot;,&quot; + f.c);\r\n\r\nThis will let you return any set of types, with named fields, at the expense of having to add a line to declare the record. This won&#39;t really help with assignments like `(i, j) = (j, i)` however.\r\n\r\n  [1]: https://stackoverflow.com/a/5917824/724491","title":"Multiple assignment at once in java","body":"<p>As I noted in <a href=\"https://stackoverflow.com/a/5917824/724491\">this other question</a>, if your goal is specifically to return multiple values from a function, in Java 16+ you can accomplish something similar to this using a record type:</p>\n<pre><code>record FooResult(int a, int b, int c) { }\n\nFooResult produceFoo() {\n    return new FooResult(1, 2, 3);\n}\n\n/* ... */\n\nvar f = produceFoo();\nSystem.out.println(f.a + &quot;,&quot; + f.b + &quot;,&quot; + f.c);\n</code></pre>\n<p>This will let you return any set of types, with named fields, at the expense of having to add a line to declare the record. This won't really help with assignments like <code>(i, j) = (j, i)</code> however.</p>\n"}],"owner":{"account_id":271602,"reputation":22478,"user_id":562222,"accept_rate":57,"display_name":"qed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12783,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26957343,"answer_count":4,"score":6,"last_activity_date":1671660454,"creation_date":1416143720,"question_id":26957328,"body_markdown":"In python you can do this:\r\n\r\n    def f():\r\n        return 1, 2, 3\r\n    (foo, bar, baz) = f()\r\n\r\nIs there an equivalent in java?","title":"Multiple assignment at once in java","body":"<p>In python you can do this:</p>\n\n<pre><code>def f():\n    return 1, 2, 3\n(foo, bar, baz) = f()\n</code></pre>\n\n<p>Is there an equivalent in java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1671660296,"post_id":74882200,"comment_id":132149384,"body_markdown":"Use `int`, not `Integer` (and use `bool`, not `Boolean`)","body":"Use <code>int</code>, not <code>Integer</code> (and use <code>bool</code>, not <code>Boolean</code>)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671660503,"post_id":74882200,"comment_id":132149426,"body_markdown":"[Closely related](https://stackoverflow.com/q/20877086)","body":"<a href=\"https://stackoverflow.com/q/20877086\">Closely related</a>"}],"owner":{"account_id":27321496,"reputation":1,"user_id":20835116,"display_name":"Liudmyla Lahoida"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671660475,"answer_count":0,"score":0,"last_activity_date":1671660279,"creation_date":1671660222,"question_id":74882200,"body_markdown":"```\r\npublic static Boolean parfait(Integer k) {\r\n    Integer s = 0;\r\n    for (Integer i = 1; i &lt; k; i++) {\r\n        if (k % i == 0) {\r\n            s=s+i;\r\n            System.out.println(i);\r\n            //return true;\r\n        }\r\n    }\r\n    System.out.println(&quot;sum:&quot;+s);\r\n    System.out.println(&quot;val:&quot;+k);\r\n    if(s==k){// why 496 != 496\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n```\r\n```\r\nSystem.out.println(&quot;Nombre parfait: &quot; + parfait(496));\r\n```\r\n\r\nWe make the sum of its positive divisors and we try to check if this number is perfect. With the number 6 and 28 it works perfect but it isn&#39;t with other perfect digits like 496 or 8128. Event if we have sum of this divisors which is equal number in parameter it returns false.","title":"Why if condition return false on equal same values","body":"<pre><code>public static Boolean parfait(Integer k) {\n    Integer s = 0;\n    for (Integer i = 1; i &lt; k; i++) {\n        if (k % i == 0) {\n            s=s+i;\n            System.out.println(i);\n            //return true;\n        }\n    }\n    System.out.println(&quot;sum:&quot;+s);\n    System.out.println(&quot;val:&quot;+k);\n    if(s==k){// why 496 != 496\n        return true;\n    }else{\n        return false;\n    }\n}\n</code></pre>\n<pre><code>System.out.println(&quot;Nombre parfait: &quot; + parfait(496));\n</code></pre>\n<p>We make the sum of its positive divisors and we try to check if this number is perfect. With the number 6 and 28 it works perfect but it isn't with other perfect digits like 496 or 8128. Event if we have sum of this divisors which is equal number in parameter it returns false.</p>\n"},{"tags":["java","filenet-p8","filenet","filenet-content-engine","ibm-enterprise-records"],"answers":[{"tags":[],"owner":{"account_id":7453872,"reputation":1,"user_id":5667700,"display_name":"PvdHorst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465392975,"creation_date":1465392975,"answer_id":37704097,"question_id":33481112,"body_markdown":"I hope you found the answer already as this is long overdue. The documents associated with a record (you can have multiple) can be retrieved via the associated Content Items. However, the ContentItem is in the JARM context and not in your usual Document / P8 API context, so you need to change it. In JARM you have the P8CE_Convert util class, which does just this.\r\n\r\nFor anyone looking for the solution for this, the answer lies in the following:\r\n\r\n    PageableSet&lt;ContentItem&gt; contentItems = record.getAssociatedContentItems();\r\n    \r\n    Iterator&lt;ContentItem&gt; iter = contentItems.iterator();\r\n    while(iter.hasNext())\r\n    {\r\n\t   ContentItem jarmContentItem = iter.next();\r\n       Document p8Doc = P8CE_Convert.fromJARM(jarmContentItem);\r\n       // read stuff\r\n    }\r\n","title":"Get Record information from Filenet Enterprise records","body":"<p>I hope you found the answer already as this is long overdue. The documents associated with a record (you can have multiple) can be retrieved via the associated Content Items. However, the ContentItem is in the JARM context and not in your usual Document / P8 API context, so you need to change it. In JARM you have the P8CE_Convert util class, which does just this.</p>\n\n<p>For anyone looking for the solution for this, the answer lies in the following:</p>\n\n<pre><code>PageableSet&lt;ContentItem&gt; contentItems = record.getAssociatedContentItems();\n\nIterator&lt;ContentItem&gt; iter = contentItems.iterator();\nwhile(iter.hasNext())\n{\n   ContentItem jarmContentItem = iter.next();\n   Document p8Doc = P8CE_Convert.fromJARM(jarmContentItem);\n   // read stuff\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671745844,"post_id":74882173,"comment_id":132169644,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74882173/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":6253676,"reputation":1399,"user_id":4862968,"display_name":"Antoine"},"score":0,"creation_date":1671840891,"post_id":74882173,"comment_id":132187969,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/33470355)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/33470355\">From Review</a>"}],"tags":[],"owner":{"account_id":27321552,"reputation":1,"user_id":20835165,"display_name":"Ajay"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671659965,"creation_date":1671659965,"answer_id":74882173,"question_id":33481112,"body_markdown":"I tried this but getting error like below\r\n\r\ncom.filenet. api.exception. EngineRuntimeException: FRCA0024E: API PROPERTY NOT IN CACHE:","title":"Get Record information from Filenet Enterprise records","body":"<p>I tried this but getting error like below</p>\n<p>com.filenet. api.exception. EngineRuntimeException: FRCA0024E: API PROPERTY NOT IN CACHE:</p>\n"}],"owner":{"account_id":1229411,"reputation":129,"user_id":1194310,"accept_rate":21,"display_name":"user1194310"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671659965,"creation_date":1446478009,"question_id":33481112,"body_markdown":"I am trying to get the information associated with a record using Java. I was ablr to get basic information like Title, Owner, Date created etc. Now I need to get the information about the document associated with that particular record. Say we have created Rec1 from Doc1, I need to fetch the information about Doc1. I tried searching for possible solution but no luck. Please let me know where I can find the required info.\r\n       \r\n\r\n\t\t// Create a JARM connection to the CE\r\n\t\tjarmDomainConnection = RMFactory.DomainConnection.createInstance(DomainType.P8_CE, ceServerURL, null);\r\n\t\t// Set the IER subject\r\n\t\tcom.ibm.jarm.api.util.RMUserContext ierUC = com.ibm.jarm.api.util.RMUserContext.get();\r\n\t\tjavax.security.auth.Subject subject = com.ibm.jarm.api.util.RMUserContext.createSubject(jarmDomainConnection, userName,\r\n\t\tpassword, JAAS_STANZA);\r\n\t\tierUC.setSubject(subject);\r\n\t\t// Get the IER JARM domain\r\n\t\tjarmDomain = RMFactory.RMDomain.fetchInstance(jarmDomainConnection, null, null);\t\r\n\t\t// Connect to the IER object stores\r\n\t\tjarmROS = com.ibm.jarm.api.core.RMFactory.ContentRepository.fetchInstance(jarmDomain, rosName,null);\r\n\t\tjarmFPOS = RMFactory.FilePlanRepository.fetchInstance(jarmDomain, fposName,null);\r\n        com.ibm.jarm.api.core.Record r = RMFactory.Record.fetchInstance(jarmFPOS, &quot;{C3EBF49F-B193-432C-8A18-3EED321F7051}&quot;, pf);\r\n\t\tSystem.out.println(r.getName().toString());\r\n\r\nI am getting an option to get the recordAssociatedByIDs but it is for RecordInfo objects and not for Record type. Even if I try to cast Record to RecordInfo type its throwing an error.\r\nPlease provide any inputs.","title":"Get Record information from Filenet Enterprise records","body":"<p>I am trying to get the information associated with a record using Java. I was ablr to get basic information like Title, Owner, Date created etc. Now I need to get the information about the document associated with that particular record. Say we have created Rec1 from Doc1, I need to fetch the information about Doc1. I tried searching for possible solution but no luck. Please let me know where I can find the required info.</p>\n\n<pre><code>    // Create a JARM connection to the CE\n    jarmDomainConnection = RMFactory.DomainConnection.createInstance(DomainType.P8_CE, ceServerURL, null);\n    // Set the IER subject\n    com.ibm.jarm.api.util.RMUserContext ierUC = com.ibm.jarm.api.util.RMUserContext.get();\n    javax.security.auth.Subject subject = com.ibm.jarm.api.util.RMUserContext.createSubject(jarmDomainConnection, userName,\n    password, JAAS_STANZA);\n    ierUC.setSubject(subject);\n    // Get the IER JARM domain\n    jarmDomain = RMFactory.RMDomain.fetchInstance(jarmDomainConnection, null, null);    \n    // Connect to the IER object stores\n    jarmROS = com.ibm.jarm.api.core.RMFactory.ContentRepository.fetchInstance(jarmDomain, rosName,null);\n    jarmFPOS = RMFactory.FilePlanRepository.fetchInstance(jarmDomain, fposName,null);\n    com.ibm.jarm.api.core.Record r = RMFactory.Record.fetchInstance(jarmFPOS, \"{C3EBF49F-B193-432C-8A18-3EED321F7051}\", pf);\n    System.out.println(r.getName().toString());\n</code></pre>\n\n<p>I am getting an option to get the recordAssociatedByIDs but it is for RecordInfo objects and not for Record type. Even if I try to cast Record to RecordInfo type its throwing an error.\nPlease provide any inputs.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1304721293,"post_id":5917702,"comment_id":6814433,"body_markdown":"you&#39;d need a `new int[]` before the `{...`","body":"you&#39;d need a <code>new int[]</code> before the <code>{...</code>"},{"owner":{"account_id":328530,"reputation":12953,"user_id":651536,"accept_rate":90,"display_name":"Nathan Ryan"},"score":5,"creation_date":1304721500,"post_id":5917702,"comment_id":6814465,"body_markdown":"Actually you don&#39;t need a `new int[]` before the array initializer, at least not when the array initializer is the right-hand side of an assignment.","body":"Actually you don&#39;t need a <code>new int[]</code> before the array initializer, at least not when the array initializer is the right-hand side of an assignment."}],"tags":[],"owner":{"account_id":101823,"reputation":1794,"user_id":273673,"accept_rate":53,"display_name":"aseychell"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461811510,"creation_date":1304721087,"answer_id":5917702,"question_id":5917684,"body_markdown":"Try `int[] list = {1,2,3}`. This creates an integer array with values 1, 2 and 3 respectively.","title":"Parallel assignment in Java?","body":"<p>Try <code>int[] list = {1,2,3}</code>. This creates an integer array with values 1, 2 and 3 respectively.</p>\n"},{"comments":[{"owner":{"account_id":1452974,"reputation":4513,"user_id":1369342,"accept_rate":55,"display_name":"timemanx"},"score":1,"creation_date":1378675555,"post_id":5917705,"comment_id":27530301,"body_markdown":"Is this same as using `x = 0; y = 0;`? I mean during JIT-compilation.","body":"Is this same as using <code>x = 0; y = 0;</code>? I mean during JIT-compilation."},{"owner":{"account_id":227123,"reputation":991,"user_id":488595,"display_name":"loungerdork"},"score":7,"creation_date":1396500547,"post_id":5917705,"comment_id":34818132,"body_markdown":"Based on right-left evaluation, it should be: `y = 0; x = y;` Otherwise, `x = y = new Object();` will actually create two objects?","body":"Based on right-left evaluation, it should be: <code>y = 0; x = y;</code> Otherwise, <code>x = y = new Object();</code> will actually create two objects?"},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":2,"creation_date":1396569678,"post_id":5917705,"comment_id":34860063,"body_markdown":"Oddly, I can&#39;t find a `new Object()` anywhere in the question or my answer.","body":"Oddly, I can&#39;t find a <code>new Object()</code> anywhere in the question or my answer."},{"owner":{"account_id":556948,"reputation":1608,"user_id":919248,"accept_rate":78,"display_name":"Pedro Borges"},"score":0,"creation_date":1488322560,"post_id":5917705,"comment_id":72177535,"body_markdown":"Question, in a linked list is: root.next = root.next.prev = newRoot the same as root.next.prev = root.next = newRoot ?","body":"Question, in a linked list is: root.next = root.next.prev = newRoot the same as root.next.prev = root.next = newRoot ?"},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1535620102,"post_id":5917705,"comment_id":91136274,"body_markdown":"IntelliJ is decompiling this code: `x = y = 2` into this: `int y = 2; int x = 2;`","body":"IntelliJ is decompiling this code: <code>x = y = 2</code> into this: <code>int y = 2; int x = 2;</code>"}],"tags":[],"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1304721105,"creation_date":1304721105,"answer_id":5917705,"question_id":5917684,"body_markdown":"Not really.  You can do `x = y = 0` to set several variables, but not a parallel assignment like Python.","title":"Parallel assignment in Java?","body":"<p>Not really.  You can do <code>x = y = 0</code> to set several variables, but not a parallel assignment like Python.</p>\n"},{"tags":[],"owner":{"account_id":374340,"reputation":4231,"user_id":724491,"display_name":"Chiara Coetzee"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1671659635,"creation_date":1304722297,"answer_id":5917824,"question_id":5917684,"body_markdown":"Python&#39;s multiple assignment is fairly powerful in that it can also be used for *parallel assignment*, like this:\r\n\r\n    (x,y) = (y,x) # Swap x and y\r\n\r\nThere is no equivalent for parallel assignment in Java; you&#39;d have to use a temporary variable:\r\n\r\n    t = x; x = y; y = t;\r\n\r\nYou can assign several variables from expressions in a single line like this:\r\n\r\n    int a = 1, b = 2, c = 3;\r\n\r\nOr to map from an array, you can do this:\r\n\r\n    int a = array[0], b = array[1], c = array[2];\r\n\r\nIf this seems too verbose, you can temporarily create a one-letter reference to your array for the assignment:\r\n\r\n    int[] t = array;\r\n    int a = t[0], b = t[1], c = t[2];\r\n\r\nGetting more to the root of the question, multiple assignment tends to be handy in Python in situations where code is passing around several related variables (perhaps of different types) together in a list or array. In Java, it&#39;s more idiomatic to do this with a small data class that bundles these variables up together, and have both the producer and consumer use it. You can then refer to the fields by name instead of by index:\r\n\r\n    class Foo {\r\n        public int a;\r\n        public int b;\r\n        public int c;\r\n    }\r\n\r\n    /* ... */\r\n\r\n    Foo produceFoo() {\r\n        Foo f = new Foo();\r\n        f.a = 1;\r\n        f.b = 2;\r\n        f.c = 3;\r\n        return f;\r\n    }\r\n\r\n    /* ... */\r\n\r\n    Foo f = produceFoo();\r\n    System.out.println(f.a + &quot;,&quot; + f.b + &quot;,&quot; + f.c);\r\n\r\nThis also opens the door to later refactoring that will make Foo a real class with behavior.\r\n\r\n**Java 16+ Update:** If you are using Java 16+ you can also use record types to do this same approach more succintly:\r\n\r\n    record FooResult(int a, int b, int c) { }\r\n\r\n    FooResult produceFoo() {\r\n        return new FooResult(1, 2, 3);\r\n    }\r\n\r\n    /* ... */\r\n\r\n    var f = produceFoo();\r\n    System.out.println(f.a + &quot;,&quot; + f.b + &quot;,&quot; + f.c);\r\n","title":"Parallel assignment in Java?","body":"<p>Python's multiple assignment is fairly powerful in that it can also be used for <em>parallel assignment</em>, like this:</p>\n<pre><code>(x,y) = (y,x) # Swap x and y\n</code></pre>\n<p>There is no equivalent for parallel assignment in Java; you'd have to use a temporary variable:</p>\n<pre><code>t = x; x = y; y = t;\n</code></pre>\n<p>You can assign several variables from expressions in a single line like this:</p>\n<pre><code>int a = 1, b = 2, c = 3;\n</code></pre>\n<p>Or to map from an array, you can do this:</p>\n<pre><code>int a = array[0], b = array[1], c = array[2];\n</code></pre>\n<p>If this seems too verbose, you can temporarily create a one-letter reference to your array for the assignment:</p>\n<pre><code>int[] t = array;\nint a = t[0], b = t[1], c = t[2];\n</code></pre>\n<p>Getting more to the root of the question, multiple assignment tends to be handy in Python in situations where code is passing around several related variables (perhaps of different types) together in a list or array. In Java, it's more idiomatic to do this with a small data class that bundles these variables up together, and have both the producer and consumer use it. You can then refer to the fields by name instead of by index:</p>\n<pre><code>class Foo {\n    public int a;\n    public int b;\n    public int c;\n}\n\n/* ... */\n\nFoo produceFoo() {\n    Foo f = new Foo();\n    f.a = 1;\n    f.b = 2;\n    f.c = 3;\n    return f;\n}\n\n/* ... */\n\nFoo f = produceFoo();\nSystem.out.println(f.a + &quot;,&quot; + f.b + &quot;,&quot; + f.c);\n</code></pre>\n<p>This also opens the door to later refactoring that will make Foo a real class with behavior.</p>\n<p><strong>Java 16+ Update:</strong> If you are using Java 16+ you can also use record types to do this same approach more succintly:</p>\n<pre><code>record FooResult(int a, int b, int c) { }\n\nFooResult produceFoo() {\n    return new FooResult(1, 2, 3);\n}\n\n/* ... */\n\nvar f = produceFoo();\nSystem.out.println(f.a + &quot;,&quot; + f.b + &quot;,&quot; + f.c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":748160,"reputation":31,"user_id":738000,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1304957359,"creation_date":1304957359,"answer_id":5939561,"question_id":5917684,"body_markdown":"Parallel assignment wouldn&#39;t be difficult to add to Java, we actually implemented it in our [OptimJ](www.ateji.com/optimj) language extension. But it just isn&#39;t there.\r\n\r\nAs Derrick mentions, parallel assignment is required for an atomic swap statement.\r\n\r\nWhat you call parallel assignment is an instance of a more general concept called &quot;destructuring assignment&quot;: you have some structure, and you match parts of it to variables.\r\n\r\nSuppose you have embedded tuples, then destructing assignment can extract data at any level:\r\n\r\n    (x, (y, z)) = ((1, 2, 3), (4, (5, 6)))\r\n    // x = (1, 2, 3)\r\n    // y = 4\r\n    // z = (5, 6)\r\n\r\nSuppose you have a list or a set, then destructuring assignment can extract sublists or subsets (x stands for an element, x* stands for a sublist):\r\n\r\n    [ x, y*, z ] = [ 1, 2, 3, 4 ]\r\n    // x = 1\r\n    // y = [ 2, 3 ]\r\n    // z = 4\r\n\r\nObviously lists and sets can be embedded with tuples. This simple scheme provides very powerful programming abstractions, useful as soon as you need to extract data.\r\n\r\n","title":"Parallel assignment in Java?","body":"<p>Parallel assignment wouldn't be difficult to add to Java, we actually implemented it in our OptimJ language extension. But it just isn't there.</p>\n\n<p>As Derrick mentions, parallel assignment is required for an atomic swap statement.</p>\n\n<p>What you call parallel assignment is an instance of a more general concept called \"destructuring assignment\": you have some structure, and you match parts of it to variables.</p>\n\n<p>Suppose you have embedded tuples, then destructing assignment can extract data at any level:</p>\n\n<pre><code>(x, (y, z)) = ((1, 2, 3), (4, (5, 6)))\n// x = (1, 2, 3)\n// y = 4\n// z = (5, 6)\n</code></pre>\n\n<p>Suppose you have a list or a set, then destructuring assignment can extract sublists or subsets (x stands for an element, x* stands for a sublist):</p>\n\n<pre><code>[ x, y*, z ] = [ 1, 2, 3, 4 ]\n// x = 1\n// y = [ 2, 3 ]\n// z = 4\n</code></pre>\n\n<p>Obviously lists and sets can be embedded with tuples. This simple scheme provides very powerful programming abstractions, useful as soon as you need to extract data.</p>\n"}],"owner":{"account_id":120203,"reputation":10643,"user_id":312483,"accept_rate":85,"display_name":"powerboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15380,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":5917705,"answer_count":4,"score":22,"last_activity_date":1671659635,"creation_date":1304720955,"question_id":5917684,"body_markdown":"Does Java have something similar to Python&#39;s `[a, b, c] = (1, 2, 3)` or PHP&#39;s `list($a, $b, $c) = array(1, 2, 3)`?","title":"Parallel assignment in Java?","body":"<p>Does Java have something similar to Python's <code>[a, b, c] = (1, 2, 3)</code> or PHP's <code>list($a, $b, $c) = array(1, 2, 3)</code>?</p>\n"},{"tags":["java","maven","gradle","build-tools"],"comments":[{"owner":{"account_id":9579157,"reputation":1384,"user_id":7114235,"display_name":"rrobby86"},"score":0,"creation_date":1498466656,"post_id":44755839,"comment_id":76492576,"body_markdown":"I don&#39;t know much about Maven, but Gradle specifically provides `jar` and `war` tasks if the corresponding plugins (`java` and `war` respectively) are declared in `build.gradle`","body":"I don&#39;t know much about Maven, but Gradle specifically provides <code>jar</code> and <code>war</code> tasks if the corresponding plugins (<code>java</code> and <code>war</code> respectively) are declared in <code>build.gradle</code>"},{"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"score":0,"creation_date":1498469789,"post_id":44755839,"comment_id":76494229,"body_markdown":"Have a look at this guide: https://guides.gradle.org/migrating-from-maven/","body":"Have a look at this guide: <a href=\"https://guides.gradle.org/migrating-from-maven/\" rel=\"nofollow noreferrer\">guides.gradle.org/migrating-from-maven</a>"}],"answers":[{"comments":[{"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"score":5,"creation_date":1498469537,"post_id":44755949,"comment_id":76494104,"body_markdown":"The counterpart for maven&#39;s _install_ phase should be gradle&#39;s _install_ task (provided by the `maven` plugin) or the _publishToMavenLocal_ task (provided by the `maven-publish` plugin)","body":"The counterpart for maven&#39;s <i>install</i> phase should be gradle&#39;s <i>install</i> task (provided by the <code>maven</code> plugin) or the <i>publishToMavenLocal</i> task (provided by the <code>maven-publish</code> plugin)"}],"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1498466841,"creation_date":1498466841,"answer_id":44755949,"question_id":44755839,"body_markdown":"Gradle will automatically fetch all required dependencies for you.\r\n\r\nLong story short:\r\n\r\n    mvn update        ~= ./gradlew build --refresh-dependencies\r\n    mvn clean install ~= ./gradlew clean build\r\n\r\n**TL;DR**\r\n\r\nTo force Gradle to redownload dependencies you can execute ([How can I force gradle to redownload dependencies?][1]):\r\n\r\n    ./gradlew build --refresh-dependencies\r\n\r\nTo assemble you project without executing tests ([Gradle build without tests][2]):\r\n\r\n    ./gradlew assemble\r\n\r\nTo completely build you project with test execution:\r\n\r\n    ./gradlew build\r\n\r\nYou can skip certain tasks by providing `-x` argument:\r\n\r\n    ./gradlew build -x test\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31832995/5091346\r\n  [2]: https://stackoverflow.com/questions/4597850/gradle-build-without-tests","title":"Equivalents for mvn update and mvn install in gradle","body":"<p>Gradle will automatically fetch all required dependencies for you.</p>\n\n<p>Long story short:</p>\n\n<pre><code>mvn update        ~= ./gradlew build --refresh-dependencies\nmvn clean install ~= ./gradlew clean build\n</code></pre>\n\n<p><strong>TL;DR</strong></p>\n\n<p>To force Gradle to redownload dependencies you can execute (<a href=\"https://stackoverflow.com/a/31832995/5091346\">How can I force gradle to redownload dependencies?</a>):</p>\n\n<pre><code>./gradlew build --refresh-dependencies\n</code></pre>\n\n<p>To assemble you project without executing tests (<a href=\"https://stackoverflow.com/questions/4597850/gradle-build-without-tests\">Gradle build without tests</a>):</p>\n\n<pre><code>./gradlew assemble\n</code></pre>\n\n<p>To completely build you project with test execution:</p>\n\n<pre><code>./gradlew build\n</code></pre>\n\n<p>You can skip certain tasks by providing <code>-x</code> argument:</p>\n\n<pre><code>./gradlew build -x test\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":2,"creation_date":1591397695,"post_id":49447535,"comment_id":110051216,"body_markdown":"The other answer mentions `gradle build` as the equivalent: what is the difference?","body":"The other answer mentions <code>gradle build</code> as the equivalent: what is the difference?"},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":1,"creation_date":1598447177,"post_id":49447535,"comment_id":112461670,"body_markdown":"`gradle build` doesn&#39;t put the resulting jar in a repository, it only builds it.","body":"<code>gradle build</code> doesn&#39;t put the resulting jar in a repository, it only builds it."},{"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"score":0,"creation_date":1627519128,"post_id":49447535,"comment_id":121180635,"body_markdown":"What is the gradle equivalent of `mvn clean -Dmaven.test.skip=true install`?","body":"What is the gradle equivalent of <code>mvn clean -Dmaven.test.skip=true install</code>?"}],"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1521800900,"creation_date":1521800900,"answer_id":49447535,"question_id":44755839,"body_markdown":"The equivalent to \r\n\r\n    mvn clean install \r\n\r\nis \r\n\r\n    gradle install\r\n\r\nwhat is provided by the maven plug-in of Gradle. Just add the following line to your `build.gradle` file:\r\n\r\n    apply plugin: &#39;maven&#39;","title":"Equivalents for mvn update and mvn install in gradle","body":"<p>The equivalent to </p>\n\n<pre><code>mvn clean install \n</code></pre>\n\n<p>is </p>\n\n<pre><code>gradle install\n</code></pre>\n\n<p>what is provided by the maven plug-in of Gradle. Just add the following line to your <code>build.gradle</code> file:</p>\n\n<pre><code>apply plugin: 'maven'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":1,"creation_date":1636884597,"post_id":69961309,"comment_id":123671868,"body_markdown":"This has already been mentioned in [this answer](https://stackoverflow.com/a/44755949/2227743). *When answering older questions that already have answers, please make sure you provide either a novel solution or a significantly better explanation than existing answers.*","body":"This has already been mentioned in <a href=\"https://stackoverflow.com/a/44755949/2227743\">this answer</a>. <i>When answering older questions that already have answers, please make sure you provide either a novel solution or a significantly better explanation than existing answers.</i>"}],"tags":[],"owner":{"account_id":14979249,"reputation":31,"user_id":10813707,"display_name":"PRATIK BURNWAL"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636879672,"creation_date":1636877153,"answer_id":69961309,"question_id":44755839,"body_markdown":"Here is the command:\r\n\r\n    ./gradlew build","title":"Equivalents for mvn update and mvn install in gradle","body":"<p>Here is the command:</p>\n<pre><code>./gradlew build\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1632592,"reputation":788,"user_id":1506852,"display_name":"vintuwei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653562711,"creation_date":1653562711,"answer_id":72390715,"question_id":44755839,"body_markdown":"This works for me.\r\n\r\n    ./gradlew publishToMavenLocal","title":"Equivalents for mvn update and mvn install in gradle","body":"<p>This works for me.</p>\n<pre><code>./gradlew publishToMavenLocal\n</code></pre>\n"}],"owner":{"account_id":3603976,"reputation":822,"user_id":3006620,"display_name":"suatCoskun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48199,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"answer_count":4,"score":34,"last_activity_date":1671659618,"creation_date":1498466336,"question_id":44755839,"body_markdown":"I am new in gradle hence I have some questions about gradle. Before gradle I worked with maven and in maven there are some commands such as\r\n\r\n - `mvn update`\r\n - `mvn clean install`\r\n\r\nWith `mvn update` we download the dependency packages from internet and the other packages from the different projects.\r\n\r\nWith `mvn install` we create the *jar*, *war*, *ear* or *ejb* \r\nso what are the equivalents for maven command in gradle?\r\n\r\n - `mvn update` ~= `gradle ...`\r\n\r\n   and\r\n\r\n - `mvn clean install` ~= `gradle clean ...`\r\n\r\n","title":"Equivalents for mvn update and mvn install in gradle","body":"<p>I am new in gradle hence I have some questions about gradle. Before gradle I worked with maven and in maven there are some commands such as</p>\n<ul>\n<li><code>mvn update</code></li>\n<li><code>mvn clean install</code></li>\n</ul>\n<p>With <code>mvn update</code> we download the dependency packages from internet and the other packages from the different projects.</p>\n<p>With <code>mvn install</code> we create the <em>jar</em>, <em>war</em>, <em>ear</em> or <em>ejb</em>\nso what are the equivalents for maven command in gradle?</p>\n<ul>\n<li><p><code>mvn update</code> ~= <code>gradle ...</code></p>\n<p>and</p>\n</li>\n<li><p><code>mvn clean install</code> ~= <code>gradle clean ...</code></p>\n</li>\n</ul>\n"},{"tags":["java","string","integer","java.util.scanner"],"comments":[{"owner":{"account_id":6052078,"reputation":1367,"user_id":6306714,"display_name":"nakhodkin"},"score":0,"creation_date":1671641305,"post_id":74863847,"comment_id":132143912,"body_markdown":"I noticed, that the following statement `word.trim();` is no-op since the result of the statement is not stored anywhere.","body":"I noticed, that the following statement <code>word.trim();</code> is no-op since the result of the statement is not stored anywhere."}],"answers":[{"tags":[],"owner":{"account_id":25036141,"reputation":25,"user_id":18893510,"display_name":"Pranav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671543313,"creation_date":1671543261,"answer_id":74863906,"question_id":74863847,"body_markdown":"    String str = &quot;new 10 32&quot;;\r\n    \r\n    // Split the string by space character\r\n    String[] parts = str.split(&quot; &quot;);\r\n    \r\n    // Convert the second and third elements of the array to integers\r\n    int width = Integer.parseInt(parts[1]);\r\n    int height = Integer.parseInt(parts[2]);\r\n\r\nThis should work","title":"How to split integers from a String in seperate variables in Java?","body":"<pre><code>String str = &quot;new 10 32&quot;;\n\n// Split the string by space character\nString[] parts = str.split(&quot; &quot;);\n\n// Convert the second and third elements of the array to integers\nint width = Integer.parseInt(parts[1]);\nint height = Integer.parseInt(parts[2]);\n</code></pre>\n<p>This should work</p>\n"},{"comments":[{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1671546165,"post_id":74863993,"comment_id":132119095,"body_markdown":"Then you should mark this as &quot;Accepted&quot; so others can find it","body":"Then you should mark this as &quot;Accepted&quot; so others can find it"}],"tags":[],"owner":{"account_id":4440515,"reputation":1161,"user_id":3615143,"accept_rate":42,"display_name":"YvesHendseth"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671543759,"creation_date":1671543759,"answer_id":74863993,"question_id":74863847,"body_markdown":"This is how I would solve the described problem:\r\n```java\r\nString input = scnanner.nextLine();\r\nInteger firstNumber;\r\nInteger secondNumber;\r\nif(input.contains(&quot;new&quot;)){\r\n  String[] split = input.split(&quot; &quot;);\r\n  // if you can be sure that there are only two numbers then you don&#39;t need a loop.\r\n  // In case you want to be able to handle an unknown amount of numbers you need to\r\n  // use a loop.\r\n  firstNumber = split.length &gt;= 2 ? Integer.valueOf(split[1]) : null;\r\n  secondNumber = split.length &gt;= 3 ? Integer.valueOf(split[2]) : null;\r\n}\r\n```\r\n\r\nNotice: I did not test the code, just typing out of my head.\r\nHope this gives you an idea how to approach the task.","title":"How to split integers from a String in seperate variables in Java?","body":"<p>This is how I would solve the described problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = scnanner.nextLine();\nInteger firstNumber;\nInteger secondNumber;\nif(input.contains(&quot;new&quot;)){\n  String[] split = input.split(&quot; &quot;);\n  // if you can be sure that there are only two numbers then you don't need a loop.\n  // In case you want to be able to handle an unknown amount of numbers you need to\n  // use a loop.\n  firstNumber = split.length &gt;= 2 ? Integer.valueOf(split[1]) : null;\n  secondNumber = split.length &gt;= 3 ? Integer.valueOf(split[2]) : null;\n}\n</code></pre>\n<p>Notice: I did not test the code, just typing out of my head.\nHope this gives you an idea how to approach the task.</p>\n"}],"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74863993,"answer_count":2,"score":0,"last_activity_date":1671658869,"creation_date":1671542894,"question_id":74863847,"body_markdown":"I am trying to get the following to work:\r\n\r\nImagine the input via the scanner class is this:\r\n&gt;new 10 32\r\n\r\nI want to store these values into two seperate variables. But I struggle with the conversion from String to Integer. Does anyone know how to implement this, so after the evaluation has been made, I can have two variables that look like this: \r\nint width = 10 (first argument)\r\nint height = 32 (second argument).\r\nThanks for any help in advance. \r\n\r\n\r\nHere is what I implemented so far:\r\n\r\nI know the code is rather ugly, but I couldn&#39;t wrap my head around how I would get this to work\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        String input = scanner.nextLine();\r\n        String word = &quot;&quot;;\r\n        String number1 = &quot;&quot;;\r\n        String number2 = &quot;&quot;;\r\n        boolean check = false;\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            word += input.charAt(i);\r\n        }\r\n\r\n        word.trim();\r\n\r\n        if (word.equals(&quot;new&quot;)) {\r\n            for (int i = 4; i &lt; input.length(); i++) {\r\n                if (Character.isDigit(input.charAt(i)) &amp;&amp; !check) {\r\n                    number1 += input.charAt(i);\r\n                } else if (check) {\r\n                    number2 += input.charAt(i);\r\n                }\r\n                if (input.charAt(i) == &#39; &#39;) {\r\n                    check = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(number1 + &quot; &quot; + number2);\r\n    }\r\n}\r\n```","title":"How to split integers from a String in seperate variables in Java?","body":"<p>I am trying to get the following to work:</p>\n<p>Imagine the input via the scanner class is this:</p>\n<blockquote>\n<p>new 10 32</p>\n</blockquote>\n<p>I want to store these values into two seperate variables. But I struggle with the conversion from String to Integer. Does anyone know how to implement this, so after the evaluation has been made, I can have two variables that look like this:\nint width = 10 (first argument)\nint height = 32 (second argument).\nThanks for any help in advance.</p>\n<p>Here is what I implemented so far:</p>\n<p>I know the code is rather ugly, but I couldn't wrap my head around how I would get this to work</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        String input = scanner.nextLine();\n        String word = &quot;&quot;;\n        String number1 = &quot;&quot;;\n        String number2 = &quot;&quot;;\n        boolean check = false;\n\n        for (int i = 0; i &lt; 5; i++) {\n            word += input.charAt(i);\n        }\n\n        word.trim();\n\n        if (word.equals(&quot;new&quot;)) {\n            for (int i = 4; i &lt; input.length(); i++) {\n                if (Character.isDigit(input.charAt(i)) &amp;&amp; !check) {\n                    number1 += input.charAt(i);\n                } else if (check) {\n                    number2 += input.charAt(i);\n                }\n                if (input.charAt(i) == ' ') {\n                    check = true;\n                }\n            }\n        }\n\n        System.out.println(number1 + &quot; &quot; + number2);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","lombok"],"comments":[{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1671586495,"post_id":74870499,"comment_id":132129632,"body_markdown":"Try replacing `@Data` with `@Getter` `@Setter` and the other data annotations you use (to string or whatever) and see if that fixes it.  `@Builder` may be looking for `@Getter` and `@Setter` but not finding it before `@Data` can decompose into its parts.  (maybe)","body":"Try replacing <code>@Data</code> with <code>@Getter</code> <code>@Setter</code> and the other data annotations you use (to string or whatever) and see if that fixes it.  <code>@Builder</code> may be looking for <code>@Getter</code> and <code>@Setter</code> but not finding it before <code>@Data</code> can decompose into its parts.  (maybe)"}],"answers":[{"tags":[],"owner":{"account_id":12555337,"reputation":136,"user_id":9135271,"display_name":"AleksanderSzporka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671643057,"creation_date":1671607938,"answer_id":74872621,"question_id":74870499,"body_markdown":"First of all, you shouldn&#39;t use `@Data` on `@Entity` classes. Implementation of `equals`, `hashCode`, and `toString` can go with conflict with JPA lazy loading.\r\n\r\n\r\nI assume that you want to benefit from builder pattern for your entities, to do so you should address these rules:\r\n\r\n - Don&#39;t use `@EqualsAndHashCode` and `@Data` on JPA entities\r\n - Exclude lazy attributes when using `@ToString`\r\n - Add `@NoArgsConstructor` to entities with `@Builder` or `@AllArgsConstructor`.\r\n\r\n```\r\nimport lombok.*;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Builder\r\n@AllArgsConstructor(access = AccessLevel.PACKAGE)\r\n@NoArgsConstructor(access = AccessLevel.PACKAGE)\r\n@Setter(value = AccessLevel.PACKAGE)\r\n@Getter\r\npublic class ExampleEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String userPostcode;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ExampleEntity entity = (ExampleEntity) o;\r\n        return Objects.equals(id, entity.id) &amp;&amp; Objects.equals(userPostcode, entity.userPostcode);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, userPostcode);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ExampleEntity{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, userPostcode=&#39;&quot; + userPostcode + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```","title":"Why do I get an error if I write @Data and @Builder together when I write Lombok Annotation?","body":"<p>First of all, you shouldn't use <code>@Data</code> on <code>@Entity</code> classes. Implementation of <code>equals</code>, <code>hashCode</code>, and <code>toString</code> can go with conflict with JPA lazy loading.</p>\n<p>I assume that you want to benefit from builder pattern for your entities, to do so you should address these rules:</p>\n<ul>\n<li>Don't use <code>@EqualsAndHashCode</code> and <code>@Data</code> on JPA entities</li>\n<li>Exclude lazy attributes when using <code>@ToString</code></li>\n<li>Add <code>@NoArgsConstructor</code> to entities with <code>@Builder</code> or <code>@AllArgsConstructor</code>.</li>\n</ul>\n<pre><code>import lombok.*;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport java.util.Objects;\n\n@Entity\n@Builder\n@AllArgsConstructor(access = AccessLevel.PACKAGE)\n@NoArgsConstructor(access = AccessLevel.PACKAGE)\n@Setter(value = AccessLevel.PACKAGE)\n@Getter\npublic class ExampleEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String userPostcode;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ExampleEntity entity = (ExampleEntity) o;\n        return Objects.equals(id, entity.id) &amp;&amp; Objects.equals(userPostcode, entity.userPostcode);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, userPostcode);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ExampleEntity{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, userPostcode='&quot; + userPostcode + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27234542,"reputation":1,"user_id":20761647,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671658764,"creation_date":1671585765,"question_id":74870499,"body_markdown":"**Error**\r\n\r\n```\r\norg.springframework.dao.DataIntegrityViolationException: Error attempting to get column &#39;user_postcode&#39; from result set.  Cause: org.postgresql.util.PSQLException: Bad value for type timestamp/date/time: 06035\r\n; Bad value for type timestamp/date/time: 06035;\r\n```\r\n\r\nI ran JUnitTest in Spring Security, and an error occurred when I wrote `@Builder` and `@Data` annotation together. There is no problem when writing an annotation one by one, but an error occurred when writing two together.","title":"Why do I get an error if I write @Data and @Builder together when I write Lombok Annotation?","body":"<p><strong>Error</strong></p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: Error attempting to get column 'user_postcode' from result set.  Cause: org.postgresql.util.PSQLException: Bad value for type timestamp/date/time: 06035\n; Bad value for type timestamp/date/time: 06035;\n</code></pre>\n<p>I ran JUnitTest in Spring Security, and an error occurred when I wrote <code>@Builder</code> and <code>@Data</code> annotation together. There is no problem when writing an annotation one by one, but an error occurred when writing two together.</p>\n"},{"tags":["java","spring","spring-boot","cron","jobs"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1672152863,"post_id":74881164,"comment_id":132230778,"body_markdown":"https://stackoverflow.com/a/64557368/175554 may help also having 2 SpringBootApplication is not a good practice. better to have one app class and make sure app starts the scheduler.","body":"<a href=\"https://stackoverflow.com/a/64557368/175554\">stackoverflow.com/a/64557368/175554</a> may help also having 2 SpringBootApplication is not a good practice. better to have one app class and make sure app starts the scheduler."}],"owner":{"account_id":9260920,"reputation":1801,"user_id":6878038,"display_name":"Manzini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671658695,"creation_date":1671652479,"question_id":74881164,"body_markdown":"I have a scheduling module in my spring boot project, in that project there is a job that runs normally when I test the scheduling module.\r\n\r\nI need to use this module inside another one, so I imported it in the target module&#39;s **build.gradle** file:\r\n\r\n    dependencies {\r\n        implementation project(&#39;:scheduling&#39;)\r\n\r\nI also added in the target module the job execution settings in the `bootstrap.yml` file\r\n\r\n    schedule:\r\n      account:\r\n        unblock:\r\n          process-time: &quot;0 0/1 * * * ?&quot;\r\n          thread-pool:\r\n            name-prefix: schedule-job-executor\r\n            core-pool-size: 1\r\n            max-pool-size: 2\r\n            queue-capacity: 1\r\n            use-max-available-processors: false\r\n          query:\r\n            limit-size: 100\r\n            execution-count: 3\r\n            execute-until-end: true\r\n\r\nThis is the main class of the target module, I added the annotations for running and configuring the job.\r\n\r\n \r\n\r\n    @SpringBootApplication\r\n    @Import({EventsConfig.class, SchedulingConfig.class})\r\n    @EnableScheduling\r\n    @EnableConfigurationProperties({ScheduleQueryProperties.class, ScheduleThreadPoolProperties.class,\r\n            ScheduleUnblockMaintenceLimitQueryProperties.class, ScheduleUnblockMaintenceLimitThreadPool.class})\r\n    public class EventsStarter {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(EventsStarter.class);\r\n    \r\n        public static void main(String[] args) {\r\n             Security.addProvider(new BouncyCastleProvider());\r\n            try {\r\n                SSLUtil.turnOffSslChecking();\r\n            } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                LOGGER.error(e.getMessage(), e);\r\n            }\r\n            SpringApplication.run(EventsStarter.class, args);\r\n        }\r\n    }\r\n\r\n\r\nThis is the main class of the source module\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @Import({SchedulingConfig.class})\r\n    @EnableConfigurationProperties({ScheduleQueryProperties.class, ScheduleThreadPoolProperties.class,\r\n            ScheduleUnblockMaintenceLimitQueryProperties.class, ScheduleUnblockMaintenceLimitThreadPool.class})\r\n    public class SchedulingStarter {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SchedulingStarter.class);\r\n    \r\n        public static void main(String[] args) {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n            try {\r\n                SSLUtil.turnOffSslChecking();\r\n            } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                LOGGER.error(e.getMessage(), e);\r\n            }\r\n            SpringApplication.run(SchedulingStarter.class, args);\r\n        }\r\n    }\r\n\r\n\r\nDebugging the target application, the application runs without errors but the job does not run","title":"Spring does not run job from another module","body":"<p>I have a scheduling module in my spring boot project, in that project there is a job that runs normally when I test the scheduling module.</p>\n<p>I need to use this module inside another one, so I imported it in the target module's <strong>build.gradle</strong> file:</p>\n<pre><code>dependencies {\n    implementation project(':scheduling')\n</code></pre>\n<p>I also added in the target module the job execution settings in the <code>bootstrap.yml</code> file</p>\n<pre><code>schedule:\n  account:\n    unblock:\n      process-time: &quot;0 0/1 * * * ?&quot;\n      thread-pool:\n        name-prefix: schedule-job-executor\n        core-pool-size: 1\n        max-pool-size: 2\n        queue-capacity: 1\n        use-max-available-processors: false\n      query:\n        limit-size: 100\n        execution-count: 3\n        execute-until-end: true\n</code></pre>\n<p>This is the main class of the target module, I added the annotations for running and configuring the job.</p>\n<pre><code>@SpringBootApplication\n@Import({EventsConfig.class, SchedulingConfig.class})\n@EnableScheduling\n@EnableConfigurationProperties({ScheduleQueryProperties.class, ScheduleThreadPoolProperties.class,\n        ScheduleUnblockMaintenceLimitQueryProperties.class, ScheduleUnblockMaintenceLimitThreadPool.class})\npublic class EventsStarter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(EventsStarter.class);\n\n    public static void main(String[] args) {\n         Security.addProvider(new BouncyCastleProvider());\n        try {\n            SSLUtil.turnOffSslChecking();\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            LOGGER.error(e.getMessage(), e);\n        }\n        SpringApplication.run(EventsStarter.class, args);\n    }\n}\n</code></pre>\n<p>This is the main class of the source module</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@Import({SchedulingConfig.class})\n@EnableConfigurationProperties({ScheduleQueryProperties.class, ScheduleThreadPoolProperties.class,\n        ScheduleUnblockMaintenceLimitQueryProperties.class, ScheduleUnblockMaintenceLimitThreadPool.class})\npublic class SchedulingStarter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SchedulingStarter.class);\n\n    public static void main(String[] args) {\n        Security.addProvider(new BouncyCastleProvider());\n        try {\n            SSLUtil.turnOffSslChecking();\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            LOGGER.error(e.getMessage(), e);\n        }\n        SpringApplication.run(SchedulingStarter.class, args);\n    }\n}\n</code></pre>\n<p>Debugging the target application, the application runs without errors but the job does not run</p>\n"},{"tags":["java","cryptography","certificate","x509","pkcs#8"],"comments":[{"owner":{"account_id":462623,"reputation":954,"user_id":865033,"accept_rate":80,"display_name":"v3nM"},"score":0,"creation_date":1314477701,"post_id":7216969,"comment_id":8673599,"body_markdown":"@user384706 I&#39;m not sure if Bouncycastle is fips compliant.so am using IBMJCEFIPS provider.","body":"@user384706 I&#39;m not sure if Bouncycastle is fips compliant.so am using IBMJCEFIPS provider."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1314501818,"post_id":7216969,"comment_id":8676197,"body_markdown":"The BC provider is not FIPS compliant. What is the first line of your PEM file, the line that starts &quot;-----BEGIN&quot;?","body":"The BC provider is not FIPS compliant. What is the first line of your PEM file, the line that starts &quot;-----BEGIN&quot;?"},{"owner":{"account_id":462623,"reputation":954,"user_id":865033,"accept_rate":80,"display_name":"v3nM"},"score":0,"creation_date":1314511320,"post_id":7216969,"comment_id":8676994,"body_markdown":"@GregS\nThe first line of the private.key file is\n-----BEGIN RSA PRIVATE KEY-----","body":"@GregS The first line of the private.key file is -----BEGIN RSA PRIVATE KEY-----"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1454972794,"post_id":7216969,"comment_id":58273581,"body_markdown":"Also see [Decrypting an OpenSSL PEM Encoded RSA private key with Java?](http://stackoverflow.com/q/35276820), [How to get the java.security.PrivateKey object from RSA Privatekey.pem file?](http://stackoverflow.com/q/7525679) and [Using a PEM encoded, encrypted private key to sign a message natively](http://stackoverflow.com/q/1580012). Some suggest to convert the private key to PKCS #8.","body":"Also see <a href=\"http://stackoverflow.com/q/35276820\">Decrypting an OpenSSL PEM Encoded RSA private key with Java?</a>, <a href=\"http://stackoverflow.com/q/7525679\">How to get the java.security.PrivateKey object from RSA Privatekey.pem file?</a> and <a href=\"http://stackoverflow.com/q/1580012\">Using a PEM encoded, encrypted private key to sign a message natively</a>. Some suggest to convert the private key to PKCS #8."}],"answers":[{"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1314622857,"post_id":7221381,"comment_id":8693491,"body_markdown":"It works for me, using your test key. Maybe you can test it using the Oracle JDK and another Base64 decoder, for example [this](http://iharder.sourceforge.net/current/java/base64/) one.","body":"It works for me, using your test key. Maybe you can test it using the Oracle JDK and another Base64 decoder, for example <a href=\"http://iharder.sourceforge.net/current/java/base64/\" rel=\"nofollow noreferrer\">this</a> one."},{"owner":{"account_id":462623,"reputation":954,"user_id":865033,"accept_rate":80,"display_name":"v3nM"},"score":0,"creation_date":1315289087,"post_id":7221381,"comment_id":8818023,"body_markdown":"I&#39;m using IBM JDK, and isn&#39;t there any other way to extract private key from a pem formatted key file...i couldn&#39;t find any good java documentation on this. Using Openssl one can convert a der to pem n vice-versa... my purpose is to do it using java only,reading a private key from pem..tried many ways but couldn&#39;t succeed...adding to my woes my code should be FIPS compliant. so i had to stick to IBM JDK which supports FIPS","body":"I&#39;m using IBM JDK, and isn&#39;t there any other way to extract private key from a pem formatted key file...i couldn&#39;t find any good java documentation on this. Using Openssl one can convert a der to pem n vice-versa... my purpose is to do it using java only,reading a private key from pem..tried many ways but couldn&#39;t succeed...adding to my woes my code should be FIPS compliant. so i had to stick to IBM JDK which supports FIPS"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1315311829,"post_id":7221381,"comment_id":8823617,"body_markdown":"@Venkat Madhav: I understand that you must use the IBM JDK. I was proposing that you *test* your code with the Oracle JDK just for the purpose of narrowing down where the problem is. If your code works with the Oracle JDK then we know that we have an IBM JDK issue that we have to work through. But if it doesn&#39;t work with the Oracle JDK then we know the problem lies somewhere in your code and not in the IBM JDK.","body":"@Venkat Madhav: I understand that you must use the IBM JDK. I was proposing that you <i>test</i> your code with the Oracle JDK just for the purpose of narrowing down where the problem is. If your code works with the Oracle JDK then we know that we have an IBM JDK issue that we have to work through. But if it doesn&#39;t work with the Oracle JDK then we know the problem lies somewhere in your code and not in the IBM JDK."},{"owner":{"account_id":462623,"reputation":954,"user_id":865033,"accept_rate":80,"display_name":"v3nM"},"score":0,"creation_date":1318598494,"post_id":7221381,"comment_id":9457426,"body_markdown":"To convert a pem file to der in openssl, we use \n&quot;openssl pkcs8 -topk8 -in private.pem -outform DER -out private.der&quot; command to get it done. Taking this as a reference, trying to map things from openssl to java. openssl pkcs8 argument is equivalent to PKCS8EncodedKeySpec in java.What for -topk8 parameter is used in openssl?","body":"To convert a pem file to der in openssl, we use  &quot;openssl pkcs8 -topk8 -in private.pem -outform DER -out private.der&quot; command to get it done. Taking this as a reference, trying to map things from openssl to java. openssl pkcs8 argument is equivalent to PKCS8EncodedKeySpec in java.What for -topk8 parameter is used in openssl?"},{"owner":{"account_id":2246480,"reputation":24384,"user_id":1979703,"accept_rate":87,"display_name":"Niklas"},"score":11,"creation_date":1377127470,"post_id":7221381,"comment_id":26972192,"body_markdown":"I&#39;m getting this error:\n`java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence\n\tat sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(Unknown Source)\n\tat java.security.KeyFactory.generatePrivate(Unknown Source)`","body":"I&#39;m getting this error: <code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence \tat sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(Unknown Source) \tat java.security.KeyFactory.generatePrivate(Unknown Source)</code>"},{"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"score":3,"creation_date":1394094463,"post_id":7221381,"comment_id":33735167,"body_markdown":"@GregS, this is a nice bit of code but I&#39;m not convinced that `-----BEGIN RSA PRIVATE KEY-----` signifies PKCS8 formatted keys. From my understanding, these are SSLeay formatted, which is causing the error for some users. See my answer: http://stackoverflow.com/a/22218774/1554386","body":"@GregS, this is a nice bit of code but I&#39;m not convinced that <code>-----BEGIN RSA PRIVATE KEY-----</code> signifies PKCS8 formatted keys. From my understanding, these are SSLeay formatted, which is causing the error for some users. See my answer: <a href=\"http://stackoverflow.com/a/22218774/1554386\">stackoverflow.com/a/22218774/1554386</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1394239229,"post_id":7221381,"comment_id":33816771,"body_markdown":"@AlastairMcCormack: Thanks for your comment. I paid no attention to the headers and trailers, just the stuff inside which is clearly PKCS#8 encoded. To see this, just paste it into your favorite ASN.1 decoder. I like [lapo.it](http://lapo.it/asn1js/). Perhaps the OP cut-and-pasted different headers from different kinds of files? If so that will mislead others so your comment is quite appreciated.","body":"@AlastairMcCormack: Thanks for your comment. I paid no attention to the headers and trailers, just the stuff inside which is clearly PKCS#8 encoded. To see this, just paste it into your favorite ASN.1 decoder. I like <a href=\"http://lapo.it/asn1js/\" rel=\"nofollow noreferrer\">lapo.it</a>. Perhaps the OP cut-and-pasted different headers from different kinds of files? If so that will mislead others so your comment is quite appreciated."},{"owner":{"account_id":324146,"reputation":2786,"user_id":644571,"accept_rate":84,"display_name":"frostymarvelous"},"score":0,"creation_date":1409807702,"post_id":7221381,"comment_id":40094044,"body_markdown":"You led me on the right path, but I had to use &quot;openssl pkcs8 -topk8 -inform pem -in file.key -outform pem -nocrypt -out file.pem&quot; to convert to compatible pkcs8 format","body":"You led me on the right path, but I had to use &quot;openssl pkcs8 -topk8 -inform pem -in file.key -outform pem -nocrypt -out file.pem&quot; to convert to compatible pkcs8 format"},{"owner":{"account_id":428479,"reputation":5028,"user_id":810830,"accept_rate":84,"display_name":"Nepoxx"},"score":0,"creation_date":1422393785,"post_id":7221381,"comment_id":44729582,"body_markdown":"Shouldn&#39;t you remove the `\\n` in the middle of the key as well?","body":"Shouldn&#39;t you remove the <code>\\n</code> in the middle of the key as well?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1422397783,"post_id":7221381,"comment_id":44731709,"body_markdown":"@Nepoxx: The [bouncycastle base64 decoder](http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/util/encoders/Base64.html#decode(java.lang.String)) that I&#39;m using ignores whitespace.","body":"@Nepoxx: The <a href=\"http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/util/encoders/Base64.html#decode(java.lang.String)\" rel=\"nofollow noreferrer\">bouncycastle base64 decoder</a> that I&#39;m using ignores whitespace."},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":2,"creation_date":1468143997,"post_id":7221381,"comment_id":63998748,"body_markdown":"Maybe you should add clarification in your answer that it works with PKCS#8 format","body":"Maybe you should add clarification in your answer that it works with PKCS#8 format"},{"owner":{"account_id":2432552,"reputation":1030,"user_id":2123156,"accept_rate":71,"display_name":"java acm"},"score":0,"creation_date":1545839753,"post_id":7221381,"comment_id":94708604,"body_markdown":"GOD bless you Bro , after 4 days of pain of Microsoft key generation system i found it&#39;s &quot;modulus | exponent , ... &quot; structure . so i must convert it to PEM&gt;DER structure (the standard of) then i used your code and i just crying , really bad pain was !! , Thank you so so  much , Thank you BouncyCastle","body":"GOD bless you Bro , after 4 days of pain of Microsoft key generation system i found it&#39;s &quot;modulus | exponent , ... &quot; structure . so i must convert it to PEM&gt;DER structure (the standard of) then i used your code and i just crying , really bad pain was !! , Thank you so so  much , Thank you BouncyCastle"}],"tags":[],"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"comment_count":12,"down_vote_count":3,"up_vote_count":40,"is_accepted":false,"score":37,"last_activity_date":1510078437,"creation_date":1314539657,"answer_id":7221381,"question_id":7216969,"body_markdown":"You&#39;ve just published that private key, so now the whole world knows what it is. Hopefully that was just for testing.\r\n\r\nEDIT: [Others][1] have noted that the openssl text header of the published key,  -----BEGIN RSA PRIVATE KEY-----, indicates that it is PKCS#1. However, the actual Base64 contents of the key in question is PKCS#8. Evidently the OP copy and pasted the header and trailer of a PKCS#1 key onto the PKCS#8 key for some unknown reason. The sample code I&#39;ve provided below works with PKCS#8 private keys.\r\n\r\nHere is some code that will create the private key from that data. You&#39;ll have to replace the Base64 decoding with your IBM Base64 decoder.\r\n\r\n\r\n    public class RSAToy {\r\n\r\n        private static final String BEGIN_RSA_PRIVATE_KEY = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;\r\n                + &quot;MIIEuwIBADAN ...skipped the rest\\n&quot;\r\n             // + ...   \r\n             // + ... skipped the rest\r\n             // + ...   \r\n                + &quot;-----END RSA PRIVATE KEY-----&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            // Remove the first and last lines\r\n            \r\n            String privKeyPEM = BEGIN_RSA_PRIVATE_KEY.replace(&quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n            privKeyPEM = privKeyPEM.replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n            System.out.println(privKeyPEM);\r\n\r\n            // Base64 decode the data\r\n\r\n            byte [] encoded = Base64.decode(privKeyPEM);\r\n\r\n            // PKCS8 decode the encoded RSA private key\r\n\r\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privKey = kf.generatePrivate(keySpec);\r\n\r\n            // Display the results\r\n\r\n            System.out.println(privKey);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22218774/238704","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>You've just published that private key, so now the whole world knows what it is. Hopefully that was just for testing.</p>\n\n<p>EDIT: <a href=\"https://stackoverflow.com/a/22218774/238704\">Others</a> have noted that the openssl text header of the published key,  -----BEGIN RSA PRIVATE KEY-----, indicates that it is PKCS#1. However, the actual Base64 contents of the key in question is PKCS#8. Evidently the OP copy and pasted the header and trailer of a PKCS#1 key onto the PKCS#8 key for some unknown reason. The sample code I've provided below works with PKCS#8 private keys.</p>\n\n<p>Here is some code that will create the private key from that data. You'll have to replace the Base64 decoding with your IBM Base64 decoder.</p>\n\n<pre><code>public class RSAToy {\n\n    private static final String BEGIN_RSA_PRIVATE_KEY = \"-----BEGIN RSA PRIVATE KEY-----\\n\"\n            + \"MIIEuwIBADAN ...skipped the rest\\n\"\n         // + ...   \n         // + ... skipped the rest\n         // + ...   \n            + \"-----END RSA PRIVATE KEY-----\";\n\n    public static void main(String[] args) throws Exception {\n\n        // Remove the first and last lines\n\n        String privKeyPEM = BEGIN_RSA_PRIVATE_KEY.replace(\"-----BEGIN RSA PRIVATE KEY-----\\n\", \"\");\n        privKeyPEM = privKeyPEM.replace(\"-----END RSA PRIVATE KEY-----\", \"\");\n        System.out.println(privKeyPEM);\n\n        // Base64 decode the data\n\n        byte [] encoded = Base64.decode(privKeyPEM);\n\n        // PKCS8 decode the encoded RSA private key\n\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n        PrivateKey privKey = kf.generatePrivate(keySpec);\n\n        // Display the results\n\n        System.out.println(privKey);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":462623,"reputation":954,"user_id":865033,"accept_rate":80,"display_name":"v3nM"},"score":0,"creation_date":1402558598,"post_id":20748064,"comment_id":37321662,"body_markdown":"Spongy castle and Bouncy castle jar&#39;s arent FIPS compliant, Infact I looked into Bouncy Castle provider long back but it would not fit into my requirements as its not FIPS compliant.","body":"Spongy castle and Bouncy castle jar&#39;s arent FIPS compliant, Infact I looked into Bouncy Castle provider long back but it would not fit into my requirements as its not FIPS compliant."},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":2,"creation_date":1402566202,"post_id":20748064,"comment_id":37325626,"body_markdown":"@VenkatMadhav DER is not an encryption standard - it&#39;s an encoding standard.","body":"@VenkatMadhav DER is not an encryption standard - it&#39;s an encoding standard."},{"owner":{"account_id":34176,"reputation":7111,"user_id":96332,"accept_rate":50,"display_name":"Titi Wangsa bin Damhore"},"score":0,"creation_date":1457996242,"post_id":20748064,"comment_id":59651935,"body_markdown":"on a related matter, any examples on handling SSH public keys? I am guessing only 3 lines need to be changed. read from the public key file (&quot;~/.ssh/id_rsa.pub&quot;), &quot;kf.generatePublic&quot; and &quot;spec = new RSAPublicKeySpec(modulus, publicExponent);&quot;?","body":"on a related matter, any examples on handling SSH public keys? I am guessing only 3 lines need to be changed. read from the public key file (&quot;~/.ssh/id_rsa.pub&quot;), &quot;kf.generatePublic&quot; and &quot;spec = new RSAPublicKeySpec(modulus, publicExponent);&quot;?"},{"owner":{"account_id":1530072,"reputation":1961,"user_id":1427467,"accept_rate":48,"display_name":"David Welch"},"score":0,"creation_date":1473399065,"post_id":20748064,"comment_id":66134231,"body_markdown":"Been working through this all night (and several attempts before). While ugly compared to modern java standards, this is by far the best way to read SSL private keys (such as `~/.ssh/id_rsa`)","body":"Been working through this all night (and several attempts before). While ugly compared to modern java standards, this is by far the best way to read SSL private keys (such as <code>~&#47;.ssh&#47;id_rsa</code>)"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1502539106,"post_id":20748064,"comment_id":78258432,"body_markdown":"The key actually listed in the question is PKCS#8, this code won&#39;t parse it.","body":"The key actually listed in the question is PKCS#8, this code won&#39;t parse it."}],"tags":[],"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1392584893,"creation_date":1387818802,"answer_id":20748064,"question_id":7216969,"body_markdown":"Parsing PKCS1 (only PKCS8 format works out of the box on Android) key turned out to be a tedious task on Android because of the lack of ASN1 suport, yet solvable if you include [Spongy castle](http://rtyley.github.io/spongycastle/) jar to read DER Integers.\r\n\r\n    String privKeyPEM = key.replace(\r\n    &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;, &quot;&quot;)\r\n        .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n    \r\n    // Base64 decode the data\r\n    \r\n    byte[] encodedPrivateKey = Base64.decode(privKeyPEM, Base64.DEFAULT);\r\n    \r\n    try {\r\n        ASN1Sequence primitive = (ASN1Sequence) ASN1Sequence\r\n            .fromByteArray(encodedPrivateKey);\r\n        Enumeration&lt;?&gt; e = primitive.getObjects();\r\n        BigInteger v = ((DERInteger) e.nextElement()).getValue();\r\n    \r\n        int version = v.intValue();\r\n        if (version != 0 &amp;&amp; version != 1) {\r\n            throw new IllegalArgumentException(&quot;wrong version for RSA private key&quot;);\r\n        }\r\n        /**\r\n         * In fact only modulus and private exponent are in use.\r\n         */\r\n        BigInteger modulus = ((DERInteger) e.nextElement()).getValue();\r\n        BigInteger publicExponent = ((DERInteger) e.nextElement()).getValue();\r\n        BigInteger privateExponent = ((DERInteger) e.nextElement()).getValue();\r\n        BigInteger prime1 = ((DERInteger) e.nextElement()).getValue();\r\n        BigInteger prime2 = ((DERInteger) e.nextElement()).getValue();\r\n        BigInteger exponent1 = ((DERInteger) e.nextElement()).getValue();\r\n        BigInteger exponent2 = ((DERInteger) e.nextElement()).getValue();\r\n        BigInteger coefficient = ((DERInteger) e.nextElement()).getValue();\r\n    \r\n        RSAPrivateKeySpec spec = new RSAPrivateKeySpec(modulus, privateExponent);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PrivateKey pk = kf.generatePrivate(spec);\r\n    } catch (IOException e2) {\r\n        throw new IllegalStateException();\r\n    } catch (NoSuchAlgorithmException e) {\r\n        throw new IllegalStateException(e);\r\n    } catch (InvalidKeySpecException e) {\r\n        throw new IllegalStateException(e);\r\n    }","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>Parsing PKCS1 (only PKCS8 format works out of the box on Android) key turned out to be a tedious task on Android because of the lack of ASN1 suport, yet solvable if you include <a href=\"http://rtyley.github.io/spongycastle/\">Spongy castle</a> jar to read DER Integers.</p>\n\n<pre><code>String privKeyPEM = key.replace(\n\"-----BEGIN RSA PRIVATE KEY-----\\n\", \"\")\n    .replace(\"-----END RSA PRIVATE KEY-----\", \"\");\n\n// Base64 decode the data\n\nbyte[] encodedPrivateKey = Base64.decode(privKeyPEM, Base64.DEFAULT);\n\ntry {\n    ASN1Sequence primitive = (ASN1Sequence) ASN1Sequence\n        .fromByteArray(encodedPrivateKey);\n    Enumeration&lt;?&gt; e = primitive.getObjects();\n    BigInteger v = ((DERInteger) e.nextElement()).getValue();\n\n    int version = v.intValue();\n    if (version != 0 &amp;&amp; version != 1) {\n        throw new IllegalArgumentException(\"wrong version for RSA private key\");\n    }\n    /**\n     * In fact only modulus and private exponent are in use.\n     */\n    BigInteger modulus = ((DERInteger) e.nextElement()).getValue();\n    BigInteger publicExponent = ((DERInteger) e.nextElement()).getValue();\n    BigInteger privateExponent = ((DERInteger) e.nextElement()).getValue();\n    BigInteger prime1 = ((DERInteger) e.nextElement()).getValue();\n    BigInteger prime2 = ((DERInteger) e.nextElement()).getValue();\n    BigInteger exponent1 = ((DERInteger) e.nextElement()).getValue();\n    BigInteger exponent2 = ((DERInteger) e.nextElement()).getValue();\n    BigInteger coefficient = ((DERInteger) e.nextElement()).getValue();\n\n    RSAPrivateKeySpec spec = new RSAPrivateKeySpec(modulus, privateExponent);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    PrivateKey pk = kf.generatePrivate(spec);\n} catch (IOException e2) {\n    throw new IllegalStateException();\n} catch (NoSuchAlgorithmException e) {\n    throw new IllegalStateException(e);\n} catch (InvalidKeySpecException e) {\n    throw new IllegalStateException(e);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7836,"reputation":16939,"user_id":13757,"accept_rate":74,"display_name":"nsayer"},"score":1,"creation_date":1423531351,"post_id":22218774,"comment_id":45178054,"body_markdown":"I believe you can use openssl commands to convert &quot;raw&quot; keys into the equivalent PKCS8 output. Try something like openssl pkcs8 -topk8","body":"I believe you can use openssl commands to convert &quot;raw&quot; keys into the equivalent PKCS8 output. Try something like openssl pkcs8 -topk8"},{"owner":{"account_id":1832266,"reputation":827,"user_id":1663425,"accept_rate":25,"display_name":"sharadendu sinha"},"score":0,"creation_date":1432728050,"post_id":22218774,"comment_id":49042312,"body_markdown":"thanks a lot for sharing your observations of PEM files. It can take a while to figure the same.","body":"thanks a lot for sharing your observations of PEM files. It can take a while to figure the same."}],"tags":[],"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1394094658,"creation_date":1394093965,"answer_id":22218774,"question_id":7216969,"body_markdown":"The problem you&#39;ll face is that there&#39;s two types of PEM formatted keys: PKCS8 and SSLeay. It doesn&#39;t help that OpenSSL seems to use both depending on the command:\r\n\r\nThe usual `openssl genrsa` command will generate a SSLeay format PEM. An export from an PKCS12 file with `openssl pkcs12 -in file.p12` will create a PKCS8 file.\r\n\r\nThe latter PKCS8 format can be opened natively in Java using `PKCS8EncodedKeySpec`. SSLeay formatted keys, on the other hand, can not be opened natively. \r\n\r\nTo open SSLeay private keys, you can either use BouncyCastle provider as many have done before or Not-Yet-Commons-SSL have borrowed a minimal amount of necessary code from BouncyCastle to support parsing PKCS8 and SSLeay keys in PEM and DER format: http://juliusdavies.ca/commons-ssl/pkcs8.html. (I&#39;m not sure if Not-Yet-Commons-SSL will be FIPS compliant)\r\n\r\n\r\nKey Format Identification\r\n-------------------------\r\n\r\nBy inference from the OpenSSL man pages, key headers for two formats are as follows:\r\n\r\n**PKCS8 Format**\r\n\r\nNon-encrypted: `-----BEGIN PRIVATE KEY-----`&lt;br&gt;\r\nEncrypted: `-----BEGIN ENCRYPTED PRIVATE KEY-----`\r\n\r\n**SSLeay Format**\r\n\r\n`-----BEGIN RSA PRIVATE KEY-----`\r\n\r\n(These seem to be in contradiction to other answers but I&#39;ve tested OpenSSL&#39;s output using `PKCS8EncodedKeySpec`. Only PKCS8 keys, showing `----BEGIN PRIVATE KEY-----` work natively)","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>The problem you'll face is that there's two types of PEM formatted keys: PKCS8 and SSLeay. It doesn't help that OpenSSL seems to use both depending on the command:</p>\n\n<p>The usual <code>openssl genrsa</code> command will generate a SSLeay format PEM. An export from an PKCS12 file with <code>openssl pkcs12 -in file.p12</code> will create a PKCS8 file.</p>\n\n<p>The latter PKCS8 format can be opened natively in Java using <code>PKCS8EncodedKeySpec</code>. SSLeay formatted keys, on the other hand, can not be opened natively. </p>\n\n<p>To open SSLeay private keys, you can either use BouncyCastle provider as many have done before or Not-Yet-Commons-SSL have borrowed a minimal amount of necessary code from BouncyCastle to support parsing PKCS8 and SSLeay keys in PEM and DER format: <a href=\"http://juliusdavies.ca/commons-ssl/pkcs8.html\">http://juliusdavies.ca/commons-ssl/pkcs8.html</a>. (I'm not sure if Not-Yet-Commons-SSL will be FIPS compliant)</p>\n\n<h2>Key Format Identification</h2>\n\n<p>By inference from the OpenSSL man pages, key headers for two formats are as follows:</p>\n\n<p><strong>PKCS8 Format</strong></p>\n\n<p>Non-encrypted: <code>-----BEGIN PRIVATE KEY-----</code><br>\nEncrypted: <code>-----BEGIN ENCRYPTED PRIVATE KEY-----</code></p>\n\n<p><strong>SSLeay Format</strong></p>\n\n<p><code>-----BEGIN RSA PRIVATE KEY-----</code></p>\n\n<p>(These seem to be in contradiction to other answers but I've tested OpenSSL's output using <code>PKCS8EncodedKeySpec</code>. Only PKCS8 keys, showing <code>----BEGIN PRIVATE KEY-----</code> work natively)</p>\n"},{"comments":[{"owner":{"account_id":948742,"reputation":733,"user_id":975386,"display_name":"Jean-Alexis Aufauvre"},"score":3,"creation_date":1553520242,"post_id":30929175,"comment_id":97402771,"body_markdown":"`DerInputStream` and `DerValue` are not anymore available starting from JDK 9.","body":"<code>DerInputStream</code> and <code>DerValue</code> are not anymore available starting from JDK 9."}],"tags":[],"owner":{"account_id":6493131,"reputation":391,"user_id":5026535,"display_name":"ygalkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1435341880,"creation_date":1434682409,"answer_id":30929175,"question_id":7216969,"body_markdown":"This is PKCS#1 format of a private key. Try this code. It doesn&#39;t use Bouncy Castle or other third-party crypto providers. Just java.security and sun.security for DER sequece parsing. Also it supports parsing of a private key in PKCS#8 format (PEM file that has a header &quot;-----BEGIN PRIVATE KEY-----&quot;).\r\n\r\n    import sun.security.util.DerInputStream;\r\n    import sun.security.util.DerValue;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.math.BigInteger;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.security.GeneralSecurityException;\r\n    import java.security.KeyFactory;\r\n    import java.security.PrivateKey;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n    import java.security.spec.RSAPrivateCrtKeySpec;\r\n    import java.util.Base64;\r\n    \r\n    public static PrivateKey pemFileLoadPrivateKeyPkcs1OrPkcs8Encoded(File pemFileName) throws GeneralSecurityException, IOException {\r\n            // PKCS#8 format\r\n            final String PEM_PRIVATE_START = &quot;-----BEGIN PRIVATE KEY-----&quot;;\r\n            final String PEM_PRIVATE_END = &quot;-----END PRIVATE KEY-----&quot;;\r\n    \r\n            // PKCS#1 format\r\n            final String PEM_RSA_PRIVATE_START = &quot;-----BEGIN RSA PRIVATE KEY-----&quot;;\r\n            final String PEM_RSA_PRIVATE_END = &quot;-----END RSA PRIVATE KEY-----&quot;;\r\n    \r\n            Path path = Paths.get(pemFileName.getAbsolutePath());\r\n    \r\n            String privateKeyPem = new String(Files.readAllBytes(path));\r\n    \r\n            if (privateKeyPem.indexOf(PEM_PRIVATE_START) != -1) { // PKCS#8 format\r\n                privateKeyPem = privateKeyPem.replace(PEM_PRIVATE_START, &quot;&quot;).replace(PEM_PRIVATE_END, &quot;&quot;);\r\n                privateKeyPem = privateKeyPem.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    \r\n                byte[] pkcs8EncodedKey = Base64.getDecoder().decode(privateKeyPem);\r\n                \r\n                KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                return factory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedKey));\r\n    \r\n            } else if (privateKeyPem.indexOf(PEM_RSA_PRIVATE_START) != -1) {  // PKCS#1 format\r\n    \r\n                privateKeyPem = privateKeyPem.replace(PEM_RSA_PRIVATE_START, &quot;&quot;).replace(PEM_RSA_PRIVATE_END, &quot;&quot;);\r\n                privateKeyPem = privateKeyPem.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    \r\n                DerInputStream derReader = new DerInputStream(Base64.getDecoder().decode(privateKeyPem));\r\n    \r\n                DerValue[] seq = derReader.getSequence(0);\r\n    \r\n                if (seq.length &lt; 9) {\r\n                    throw new GeneralSecurityException(&quot;Could not parse a PKCS1 private key.&quot;);\r\n                }\r\n    \r\n                // skip version seq[0];\r\n                BigInteger modulus = seq[1].getBigInteger();\r\n                BigInteger publicExp = seq[2].getBigInteger();\r\n                BigInteger privateExp = seq[3].getBigInteger();\r\n                BigInteger prime1 = seq[4].getBigInteger();\r\n                BigInteger prime2 = seq[5].getBigInteger();\r\n                BigInteger exp1 = seq[6].getBigInteger();\r\n                BigInteger exp2 = seq[7].getBigInteger();\r\n                BigInteger crtCoef = seq[8].getBigInteger();\r\n    \r\n                RSAPrivateCrtKeySpec keySpec = new RSAPrivateCrtKeySpec(modulus, publicExp, privateExp, prime1, prime2, exp1, exp2, crtCoef);\r\n    \r\n                KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \r\n                return factory.generatePrivate(keySpec);\r\n            }\r\n    \r\n            throw new GeneralSecurityException(&quot;Not supported format of a private key&quot;);\r\n        }","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>This is PKCS#1 format of a private key. Try this code. It doesn't use Bouncy Castle or other third-party crypto providers. Just java.security and sun.security for DER sequece parsing. Also it supports parsing of a private key in PKCS#8 format (PEM file that has a header \"-----BEGIN PRIVATE KEY-----\").</p>\n\n<pre><code>import sun.security.util.DerInputStream;\nimport sun.security.util.DerValue;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.math.BigInteger;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.security.GeneralSecurityException;\nimport java.security.KeyFactory;\nimport java.security.PrivateKey;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.RSAPrivateCrtKeySpec;\nimport java.util.Base64;\n\npublic static PrivateKey pemFileLoadPrivateKeyPkcs1OrPkcs8Encoded(File pemFileName) throws GeneralSecurityException, IOException {\n        // PKCS#8 format\n        final String PEM_PRIVATE_START = \"-----BEGIN PRIVATE KEY-----\";\n        final String PEM_PRIVATE_END = \"-----END PRIVATE KEY-----\";\n\n        // PKCS#1 format\n        final String PEM_RSA_PRIVATE_START = \"-----BEGIN RSA PRIVATE KEY-----\";\n        final String PEM_RSA_PRIVATE_END = \"-----END RSA PRIVATE KEY-----\";\n\n        Path path = Paths.get(pemFileName.getAbsolutePath());\n\n        String privateKeyPem = new String(Files.readAllBytes(path));\n\n        if (privateKeyPem.indexOf(PEM_PRIVATE_START) != -1) { // PKCS#8 format\n            privateKeyPem = privateKeyPem.replace(PEM_PRIVATE_START, \"\").replace(PEM_PRIVATE_END, \"\");\n            privateKeyPem = privateKeyPem.replaceAll(\"\\\\s\", \"\");\n\n            byte[] pkcs8EncodedKey = Base64.getDecoder().decode(privateKeyPem);\n\n            KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n            return factory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedKey));\n\n        } else if (privateKeyPem.indexOf(PEM_RSA_PRIVATE_START) != -1) {  // PKCS#1 format\n\n            privateKeyPem = privateKeyPem.replace(PEM_RSA_PRIVATE_START, \"\").replace(PEM_RSA_PRIVATE_END, \"\");\n            privateKeyPem = privateKeyPem.replaceAll(\"\\\\s\", \"\");\n\n            DerInputStream derReader = new DerInputStream(Base64.getDecoder().decode(privateKeyPem));\n\n            DerValue[] seq = derReader.getSequence(0);\n\n            if (seq.length &lt; 9) {\n                throw new GeneralSecurityException(\"Could not parse a PKCS1 private key.\");\n            }\n\n            // skip version seq[0];\n            BigInteger modulus = seq[1].getBigInteger();\n            BigInteger publicExp = seq[2].getBigInteger();\n            BigInteger privateExp = seq[3].getBigInteger();\n            BigInteger prime1 = seq[4].getBigInteger();\n            BigInteger prime2 = seq[5].getBigInteger();\n            BigInteger exp1 = seq[6].getBigInteger();\n            BigInteger exp2 = seq[7].getBigInteger();\n            BigInteger crtCoef = seq[8].getBigInteger();\n\n            RSAPrivateCrtKeySpec keySpec = new RSAPrivateCrtKeySpec(modulus, publicExp, privateExp, prime1, prime2, exp1, exp2, crtCoef);\n\n            KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n\n            return factory.generatePrivate(keySpec);\n        }\n\n        throw new GeneralSecurityException(\"Not supported format of a private key\");\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1473984890,"post_id":33594033,"comment_id":66359837,"body_markdown":"But that doesn&#39;t change the PKCS#1 data to PKCS#8.","body":"But that doesn&#39;t change the PKCS#1 data to PKCS#8."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1555269591,"post_id":33594033,"comment_id":98042918,"body_markdown":"@user207421: yes it does; that base64 blob is the outer tag &amp; (dummy) len, version, AlgorithmIdentifier for RSA, and inner tag &amp; (dummy) len which, after the len fields are corrected, makes PKCS1-private into PKCS8-RSA.","body":"@user207421: yes it does; that base64 blob is the outer tag &amp; (dummy) len, version, AlgorithmIdentifier for RSA, and inner tag &amp; (dummy) len which, after the len fields are corrected, makes PKCS1-private into PKCS8-RSA."}],"tags":[],"owner":{"account_id":7263454,"reputation":59,"user_id":5539188,"display_name":"Noa Resare"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1446986278,"creation_date":1446986278,"answer_id":33594033,"question_id":7216969,"body_markdown":"As others have responded, the key you are trying to parse doesn&#39;t have the proper PKCS#8 headers which Oracle&#39;s `PKCS8EncodedKeySpec` needs to understand it. If you don&#39;t want to convert the key using `openssl pkcs8` or parse it using JDK internal APIs you can prepend the PKCS#8 header like this:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    static final Base64.Decoder DECODER = Base64.getMimeDecoder();\r\n\r\n    private static byte[] buildPKCS8Key(File privateKey) throws IOException {\r\n      final String s = new String(Files.readAllBytes(privateKey.toPath()));\r\n      if (s.contains(&quot;--BEGIN PRIVATE KEY--&quot;)) {\r\n        return DECODER.decode(s.replaceAll(&quot;-----\\\\w+ PRIVATE KEY-----&quot;, &quot;&quot;));\r\n      }\r\n      if (!s.contains(&quot;--BEGIN RSA PRIVATE KEY--&quot;)) {\r\n        throw new RuntimeException(&quot;Invalid cert format: &quot;+ s);\r\n      }\r\n    \r\n      final byte[] innerKey = DECODER.decode(s.replaceAll(&quot;-----\\\\w+ RSA PRIVATE KEY-----&quot;, &quot;&quot;));\r\n      final byte[] result = new byte[innerKey.length + 26];\r\n      System.arraycopy(DECODER.decode(&quot;MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKY=&quot;), 0, result, 0, 26);\r\n      System.arraycopy(BigInteger.valueOf(result.length - 4).toByteArray(), 0, result, 2, 2);\r\n      System.arraycopy(BigInteger.valueOf(innerKey.length).toByteArray(), 0, result, 24, 2);\r\n      System.arraycopy(innerKey, 0, result, 26, innerKey.length);\r\n      return result;\r\n    }\r\n\r\nOnce that method is in place you can feed it&#39;s output to the `PKCS8EncodedKeySpec` constructor like this: `new PKCS8EncodedKeySpec(buildPKCS8Key(privateKey));`","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>As others have responded, the key you are trying to parse doesn't have the proper PKCS#8 headers which Oracle's <code>PKCS8EncodedKeySpec</code> needs to understand it. If you don't want to convert the key using <code>openssl pkcs8</code> or parse it using JDK internal APIs you can prepend the PKCS#8 header like this:\n</p>\n\n<pre><code>static final Base64.Decoder DECODER = Base64.getMimeDecoder();\n\nprivate static byte[] buildPKCS8Key(File privateKey) throws IOException {\n  final String s = new String(Files.readAllBytes(privateKey.toPath()));\n  if (s.contains(\"--BEGIN PRIVATE KEY--\")) {\n    return DECODER.decode(s.replaceAll(\"-----\\\\w+ PRIVATE KEY-----\", \"\"));\n  }\n  if (!s.contains(\"--BEGIN RSA PRIVATE KEY--\")) {\n    throw new RuntimeException(\"Invalid cert format: \"+ s);\n  }\n\n  final byte[] innerKey = DECODER.decode(s.replaceAll(\"-----\\\\w+ RSA PRIVATE KEY-----\", \"\"));\n  final byte[] result = new byte[innerKey.length + 26];\n  System.arraycopy(DECODER.decode(\"MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKY=\"), 0, result, 0, 26);\n  System.arraycopy(BigInteger.valueOf(result.length - 4).toByteArray(), 0, result, 2, 2);\n  System.arraycopy(BigInteger.valueOf(innerKey.length).toByteArray(), 0, result, 24, 2);\n  System.arraycopy(innerKey, 0, result, 26, innerKey.length);\n  return result;\n}\n</code></pre>\n\n<p>Once that method is in place you can feed it's output to the <code>PKCS8EncodedKeySpec</code> constructor like this: <code>new PKCS8EncodedKeySpec(buildPKCS8Key(privateKey));</code></p>\n"},{"tags":[],"owner":{"account_id":5292709,"reputation":257,"user_id":4224769,"display_name":"Rahil"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1449780494,"creation_date":1449780494,"answer_id":34211430,"question_id":7216969,"body_markdown":"Make sure your id_rsa file doesn&#39;t have any extension like .txt or .rtf. Rich Text Format adds additional characters to your file and those gets added to byte array. Which eventually causes invalid private key error. Long story short, Copy the file, not content. ","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>Make sure your id_rsa file doesn't have any extension like .txt or .rtf. Rich Text Format adds additional characters to your file and those gets added to byte array. Which eventually causes invalid private key error. Long story short, Copy the file, not content. </p>\n"},{"comments":[{"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"score":0,"creation_date":1625908937,"post_id":55339208,"comment_id":120756309,"body_markdown":"This looks like best solution. does it have any drawbacks? is it safe to simply convert PKCS1 key to PKCS8 like this?","body":"This looks like best solution. does it have any drawbacks? is it safe to simply convert PKCS1 key to PKCS8 like this?"},{"owner":{"account_id":948742,"reputation":733,"user_id":975386,"display_name":"Jean-Alexis Aufauvre"},"score":0,"creation_date":1627815053,"post_id":55339208,"comment_id":121251984,"body_markdown":"&quot;does it have any drawbacks?&quot; @krishnaTelgave, the best way to tell is to unit test this code with the data your application is supposed to handle","body":"&quot;does it have any drawbacks?&quot; @krishnaTelgave, the best way to tell is to unit test this code with the data your application is supposed to handle"},{"owner":{"account_id":1650326,"reputation":3950,"user_id":1521064,"display_name":"vault"},"score":0,"creation_date":1655892072,"post_id":55339208,"comment_id":128437679,"body_markdown":"Thanks, your `readPkcs1PrivateKey` worked like a charm. Do you know by chance the `openssl` command equivalent?","body":"Thanks, your <code>readPkcs1PrivateKey</code> worked like a charm. Do you know by chance the <code>openssl</code> command equivalent?"}],"tags":[],"owner":{"account_id":948742,"reputation":733,"user_id":975386,"display_name":"Jean-Alexis Aufauvre"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1553521845,"creation_date":1553521388,"answer_id":55339208,"question_id":7216969,"body_markdown":"You will find below some code for reading *unencrypted* RSA keys encoded in the following formats:\r\n\r\n - PKCS#1 PEM (`-----BEGIN RSA PRIVATE KEY-----`)\r\n - PKCS#8 PEM (`-----BEGIN PRIVATE KEY-----`) \r\n - PKCS#8 DER (binary)\r\n\r\nIt works with Java 7+ (and after 9) and doesn&#39;t use third-party libraries (like BouncyCastle) or internal Java APIs (like `DerInputStream` or `DerValue`).\r\n\r\n    private static final String PKCS_1_PEM_HEADER = &quot;-----BEGIN RSA PRIVATE KEY-----&quot;;\r\n    private static final String PKCS_1_PEM_FOOTER = &quot;-----END RSA PRIVATE KEY-----&quot;;\r\n    private static final String PKCS_8_PEM_HEADER = &quot;-----BEGIN PRIVATE KEY-----&quot;;\r\n    private static final String PKCS_8_PEM_FOOTER = &quot;-----END PRIVATE KEY-----&quot;;\r\n\r\n    public static PrivateKey loadKey(String keyFilePath) throws GeneralSecurityException, IOException {\r\n        byte[] keyDataBytes = Files.readAllBytes(Paths.get(keyFilePath));\r\n        String keyDataString = new String(keyDataBytes, StandardCharsets.UTF_8);\r\n\r\n        if (keyDataString.contains(PKCS_1_PEM_HEADER)) {\r\n            // OpenSSL / PKCS#1 Base64 PEM encoded file\r\n            keyDataString = keyDataString.replace(PKCS_1_PEM_HEADER, &quot;&quot;);\r\n            keyDataString = keyDataString.replace(PKCS_1_PEM_FOOTER, &quot;&quot;);\r\n            return readPkcs1PrivateKey(Base64.decodeBase64(keyDataString));\r\n        }\r\n\r\n        if (keyDataString.contains(PKCS_8_PEM_HEADER)) {\r\n            // PKCS#8 Base64 PEM encoded file\r\n            keyDataString = keyDataString.replace(PKCS_8_PEM_HEADER, &quot;&quot;);\r\n            keyDataString = keyDataString.replace(PKCS_8_PEM_FOOTER, &quot;&quot;);\r\n            return readPkcs8PrivateKey(Base64.decodeBase64(keyDataString));\r\n        }\r\n\r\n        // We assume it&#39;s a PKCS#8 DER encoded binary file\r\n        return readPkcs8PrivateKey(Files.readAllBytes(Paths.get(keyFilePath)));\r\n    }\r\n\r\n    private static PrivateKey readPkcs8PrivateKey(byte[] pkcs8Bytes) throws GeneralSecurityException {\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;, &quot;SunRsaSign&quot;);\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(pkcs8Bytes);\r\n        try {\r\n            return keyFactory.generatePrivate(keySpec);\r\n        } catch (InvalidKeySpecException e) {\r\n            throw new IllegalArgumentException(&quot;Unexpected key format!&quot;, e);\r\n        }\r\n    }\r\n\r\n    private static PrivateKey readPkcs1PrivateKey(byte[] pkcs1Bytes) throws GeneralSecurityException {\r\n        // We can&#39;t use Java internal APIs to parse ASN.1 structures, so we build a PKCS#8 key Java can understand\r\n        int pkcs1Length = pkcs1Bytes.length;\r\n        int totalLength = pkcs1Length + 22;\r\n        byte[] pkcs8Header = new byte[] {\r\n                0x30, (byte) 0x82, (byte) ((totalLength &gt;&gt; 8) &amp; 0xff), (byte) (totalLength &amp; 0xff), // Sequence + total length\r\n                0x2, 0x1, 0x0, // Integer (0)\r\n                0x30, 0xD, 0x6, 0x9, 0x2A, (byte) 0x86, 0x48, (byte) 0x86, (byte) 0xF7, 0xD, 0x1, 0x1, 0x1, 0x5, 0x0, // Sequence: 1.2.840.113549.1.1.1, NULL\r\n                0x4, (byte) 0x82, (byte) ((pkcs1Length &gt;&gt; 8) &amp; 0xff), (byte) (pkcs1Length &amp; 0xff) // Octet string + length\r\n        };\r\n        byte[] pkcs8bytes = join(pkcs8Header, pkcs1Bytes);\r\n        return readPkcs8PrivateKey(pkcs8bytes);\r\n    }\r\n\r\n    private static byte[] join(byte[] byteArray1, byte[] byteArray2){\r\n        byte[] bytes = new byte[byteArray1.length + byteArray2.length];\r\n        System.arraycopy(byteArray1, 0, bytes, 0, byteArray1.length);\r\n        System.arraycopy(byteArray2, 0, bytes, byteArray1.length, byteArray2.length);\r\n        return bytes;\r\n    }\r\n\r\nSource: https://github.com/Mastercard/client-encryption-java/blob/master/src/main/java/com/mastercard/developer/utils/EncryptionUtils.java\r\n","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>You will find below some code for reading <em>unencrypted</em> RSA keys encoded in the following formats:</p>\n\n<ul>\n<li>PKCS#1 PEM (<code>-----BEGIN RSA PRIVATE KEY-----</code>)</li>\n<li>PKCS#8 PEM (<code>-----BEGIN PRIVATE KEY-----</code>) </li>\n<li>PKCS#8 DER (binary)</li>\n</ul>\n\n<p>It works with Java 7+ (and after 9) and doesn't use third-party libraries (like BouncyCastle) or internal Java APIs (like <code>DerInputStream</code> or <code>DerValue</code>).</p>\n\n<pre><code>private static final String PKCS_1_PEM_HEADER = \"-----BEGIN RSA PRIVATE KEY-----\";\nprivate static final String PKCS_1_PEM_FOOTER = \"-----END RSA PRIVATE KEY-----\";\nprivate static final String PKCS_8_PEM_HEADER = \"-----BEGIN PRIVATE KEY-----\";\nprivate static final String PKCS_8_PEM_FOOTER = \"-----END PRIVATE KEY-----\";\n\npublic static PrivateKey loadKey(String keyFilePath) throws GeneralSecurityException, IOException {\n    byte[] keyDataBytes = Files.readAllBytes(Paths.get(keyFilePath));\n    String keyDataString = new String(keyDataBytes, StandardCharsets.UTF_8);\n\n    if (keyDataString.contains(PKCS_1_PEM_HEADER)) {\n        // OpenSSL / PKCS#1 Base64 PEM encoded file\n        keyDataString = keyDataString.replace(PKCS_1_PEM_HEADER, \"\");\n        keyDataString = keyDataString.replace(PKCS_1_PEM_FOOTER, \"\");\n        return readPkcs1PrivateKey(Base64.decodeBase64(keyDataString));\n    }\n\n    if (keyDataString.contains(PKCS_8_PEM_HEADER)) {\n        // PKCS#8 Base64 PEM encoded file\n        keyDataString = keyDataString.replace(PKCS_8_PEM_HEADER, \"\");\n        keyDataString = keyDataString.replace(PKCS_8_PEM_FOOTER, \"\");\n        return readPkcs8PrivateKey(Base64.decodeBase64(keyDataString));\n    }\n\n    // We assume it's a PKCS#8 DER encoded binary file\n    return readPkcs8PrivateKey(Files.readAllBytes(Paths.get(keyFilePath)));\n}\n\nprivate static PrivateKey readPkcs8PrivateKey(byte[] pkcs8Bytes) throws GeneralSecurityException {\n    KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\", \"SunRsaSign\");\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(pkcs8Bytes);\n    try {\n        return keyFactory.generatePrivate(keySpec);\n    } catch (InvalidKeySpecException e) {\n        throw new IllegalArgumentException(\"Unexpected key format!\", e);\n    }\n}\n\nprivate static PrivateKey readPkcs1PrivateKey(byte[] pkcs1Bytes) throws GeneralSecurityException {\n    // We can't use Java internal APIs to parse ASN.1 structures, so we build a PKCS#8 key Java can understand\n    int pkcs1Length = pkcs1Bytes.length;\n    int totalLength = pkcs1Length + 22;\n    byte[] pkcs8Header = new byte[] {\n            0x30, (byte) 0x82, (byte) ((totalLength &gt;&gt; 8) &amp; 0xff), (byte) (totalLength &amp; 0xff), // Sequence + total length\n            0x2, 0x1, 0x0, // Integer (0)\n            0x30, 0xD, 0x6, 0x9, 0x2A, (byte) 0x86, 0x48, (byte) 0x86, (byte) 0xF7, 0xD, 0x1, 0x1, 0x1, 0x5, 0x0, // Sequence: 1.2.840.113549.1.1.1, NULL\n            0x4, (byte) 0x82, (byte) ((pkcs1Length &gt;&gt; 8) &amp; 0xff), (byte) (pkcs1Length &amp; 0xff) // Octet string + length\n    };\n    byte[] pkcs8bytes = join(pkcs8Header, pkcs1Bytes);\n    return readPkcs8PrivateKey(pkcs8bytes);\n}\n\nprivate static byte[] join(byte[] byteArray1, byte[] byteArray2){\n    byte[] bytes = new byte[byteArray1.length + byteArray2.length];\n    System.arraycopy(byteArray1, 0, bytes, 0, byteArray1.length);\n    System.arraycopy(byteArray2, 0, bytes, byteArray1.length, byteArray2.length);\n    return bytes;\n}\n</code></pre>\n\n<p>Source: <a href=\"https://github.com/Mastercard/client-encryption-java/blob/master/src/main/java/com/mastercard/developer/utils/EncryptionUtils.java\" rel=\"noreferrer\">https://github.com/Mastercard/client-encryption-java/blob/master/src/main/java/com/mastercard/developer/utils/EncryptionUtils.java</a></p>\n"},{"tags":[],"owner":{"account_id":3285892,"reputation":713,"user_id":3161271,"accept_rate":67,"display_name":"Alavalathi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635874158,"creation_date":1635874158,"answer_id":69814631,"question_id":7216969,"body_markdown":"For someone looking for an easier way to convert RSAPrivateKey to PrivateKey, BouncyCastle has a `KeyUtil` to do this.\r\n\r\n\r\n      RSAPrivateKey rsaPrivateKey = RSAPrivateKey.getInstance(pkcs1Bytes)\r\n      byte[] privateKeyInfoBytes = KeyUtil.getEncodedPrivateKeyInfo(new AlgorithmIdentifier(PKCSObjectIdentifiers.rsaEncryption, DERNull.INSTANCE), rsaPrivateKey);\r\n      PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyInfoBytes);\r\n      PrivateKey privateKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(keySpec);\r\n\r\nIf the PKCS1 PEM input is encrypted with let&#39;s say AES 256 CBC, it could be decrypted with a `JcePemDecryptorProvider`\r\n\r\n    PEMDecryptor decryptor = new JcePEMDecryptorProviderBuilder().build(&quot;password&quot;).get(&quot;AES-256-CBC&quot;);\r\n    byte[] decrypted = decryptor.decrypt(pkcs1Bytes, iv);","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>For someone looking for an easier way to convert RSAPrivateKey to PrivateKey, BouncyCastle has a <code>KeyUtil</code> to do this.</p>\n<pre><code>  RSAPrivateKey rsaPrivateKey = RSAPrivateKey.getInstance(pkcs1Bytes)\n  byte[] privateKeyInfoBytes = KeyUtil.getEncodedPrivateKeyInfo(new AlgorithmIdentifier(PKCSObjectIdentifiers.rsaEncryption, DERNull.INSTANCE), rsaPrivateKey);\n  PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyInfoBytes);\n  PrivateKey privateKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(keySpec);\n</code></pre>\n<p>If the PKCS1 PEM input is encrypted with let's say AES 256 CBC, it could be decrypted with a <code>JcePemDecryptorProvider</code></p>\n<pre><code>PEMDecryptor decryptor = new JcePEMDecryptorProviderBuilder().build(&quot;password&quot;).get(&quot;AES-256-CBC&quot;);\nbyte[] decrypted = decryptor.decrypt(pkcs1Bytes, iv);\n</code></pre>\n"}],"owner":{"account_id":462623,"reputation":954,"user_id":865033,"accept_rate":80,"display_name":"v3nM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173234,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":8,"score":35,"last_activity_date":1671658478,"creation_date":1314474705,"question_id":7216969,"body_markdown":"I have a private key file (PEM BASE64 encoded). I want to use it else where to decrypt some other data. Below is the java class snippet to read the private key file and decode the BASE64 encoded data in it.\r\n\r\n\r\n    import java.io.*;\r\n    import java.nio.ByteBuffer;\r\n    import java.security.*;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n    import com.ibm.crypto.fips.provider.RSAPrivateKey;\r\n    import com.ibm.misc.BASE64Decoder;\r\n\r\n    public class GetPrivateKey {\r\n        public static RSAPrivateKey get() throws Exception {\r\n            File privateKeyFile = new File(&quot;privatekey.key&quot;);\r\n            byte[] encodedKey = new byte[(int) privateKeyFile.length()];\r\n            new FileInputStream(privateKeyFile).read(encodedKey);\r\n            ByteBuffer keyBytes = new BASE64Decoder().decodeBufferToByteBuffer(encodedKey.toString());\r\n            PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(keyBytes.array());\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;, &quot;IBMJCEFIPS&quot;);\r\n            RSAPrivateKey pk = (RSAPrivateKey) kf.generatePrivate(privateKeySpec);\r\n            return pk;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            PrivateKey privKey = FormatMePlease.get();\r\n            System.out.println(privKey.toString());\r\n        }\r\n\r\n    }\r\n\r\nI am getting the following errors\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: Inappropriate key specification: DerInputStream.getLength(): lengthTag=127, too big.\r\n    at com.ibm.crypto.fips.provider.RSAKeyFactory.b(Unknown Source)\r\n    at com.ibm.crypto.fips.provider.RSAKeyFactory.engineGeneratePrivate(Unknown Source)\r\n    at java.security.KeyFactory.generatePrivate(Unknown Source)\r\n    at GetPrivateKey.get(GetPrivateKey.java:24)\r\n    at GetPrivateKey.main(GetPrivateKey.java:29)\r\n\r\nThe contents of the file `privatekey.key`\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n    MIIEuwIBADANBgkqhkiG9w0BAQEFAASCBKUwggShAgEAAoIBAF53wUbKmDHtvfOb8u1HPqEBFNNF\r\n    csnOMjIcSEhAwIQMbgrOuQ+vH/YgXuuDJaURS85H8P4UTt6lYOJn+SFnXvS82E7LHJpVrWwQzbh2\r\n    QKh13/akPe90DlNTUGEYO7rHaPLqTlld0jkLFSytwqfwqn9yrYpM1ncUOpCciK5j8t8MzO71LJoJ\r\n    g24CFxpjIS0tBrJvKzrRNcxWSRDLmu2kNmtsh7yyJouE6XoizVmBmNVltHhFaDMmqjugMQA2CZfL\r\n    rxiR1ep8TH8IBvPqysqZI1RIpB/e0engP4/1KLrOt+6gGS0JEDh1kG2fJObl+N4n3sCOtgaz5Uz8\r\n    8jpwbmZ3Se8CAwEAAQKCAQAdOsSs2MbavAsIM3qo/GBehO0iqdxooMpbQvECmjZ3JTlvUqNkPPWQ\r\n    vFdiW8PsHTvtackhdLsqnNUreKxXL5rr8vqi9qm0/0mXpGNi7gP3m/FeaVdYnfpIwgCe6lag5k6M\r\n    yv7PG/6N8+XrWyBdwlOe96bGohvB4Jp2YFjSTM67QONQ8CdmfqokqJ8/3RyrpDvGN3iX3yzBqXGO\r\n    jPkoJQv3I4lsYdR0nl4obHHnMSeWCQCYvJoZ7ZOliu/Dd0ksItlodG6s8r/ujkSa8VIhe0fnXTf0\r\n    i7lqa55CAByGN4MOR0bAkJwIB7nZzQKurBPcTAYJFFvAc5hgMnWT0XW83TehAoGBALVPGnznScUw\r\n    O50OXKI5yhxGf/XDT8g28L8Oc4bctRzI+8YfIFfLJ57uDGuojO/BpqtYmXmgORru0jYR8idEkZrx\r\n    gf62czOiJrCWTkBCEMtrNfFHQJQCQrjfbHofp7ODnEHbHFm7zdlbfNnEBBaKXxd2rVv4UTEhgftv\r\n    wsHcimbXAoGBAIViWrHWElMeQT0datqlThE/u51mcK4VlV7iRWXVa1/gAP85ZAu44VvvDlkpYVkF\r\n    zSRR+lHSOzsubDMN45OBQW6UA3RPg4TCvrTOmhQUeF5XPuSdcD0R2At6pdaLwAKnOtILg13Ha6ym\r\n    Igjv8glodvem3hWLmpHIhNBiaXtf8wqpAoGADH5a8OhvKOtd8EChGXyp9LDW+HRw9vbyN/gi9dQX\r\n    ltgyoUBb1jDllgoJSRHgRFUvyvbb/ImR5c03JwqtiQ8siWTC9G5WGeS+jcSNt9fVmG7W1L14MbrG\r\n    Jj8fFns/7xrOlasnlPdgA+5N+CONtI/sZY2D/KZr0drhPhZBcWJlFxkCgYAn+4SOPEo/6hjKNhA6\r\n    vER7fSxDEVsDg+rDh3YgAWpvUdlaqBxqOyAqi600YugQZGHK2lv7vNYOdmrunuIx7BPuDqY+bjtR\r\n    R4Mc9bVQAZbXSLXMl7j2RWwKfNhLSJbk9LX4EoVtTgLjvOUE4tAdq9fFgpqdwLwzqPTO9kECP4++\r\n    CQKBgH6tO/xcNxG/uXUideluAn3H2KeyyznZMJ7oCvzf26/XpTAMI243OoeftiKVMgxuZ7hjwqfn\r\n    /VHXABc4i5gchr9RzSb1hZ/IqFzq2YGmbppg5Ok2cgwalDoDBi21bRf8aDRweL62mO+7aPnCQZ58\r\n    j5W72PB8BAr6xg0Oro25O4os\r\n    -----END RSA PRIVATE KEY-----\r\n\r\nSimilar questions have been posted here, but those were of no help for me. \r\nAlmost all of them suggested using Bouncycastle provider which I cannot use as I&#39;m restricted to using a FIPS compliant provider and I&#39;m not sure if BC provider is FIPS compliant.","title":"Getting RSA private key from PEM BASE64 Encoded private key file","body":"<p>I have a private key file (PEM BASE64 encoded). I want to use it else where to decrypt some other data. Below is the java class snippet to read the private key file and decode the BASE64 encoded data in it.</p>\n<pre><code>import java.io.*;\nimport java.nio.ByteBuffer;\nimport java.security.*;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport com.ibm.crypto.fips.provider.RSAPrivateKey;\nimport com.ibm.misc.BASE64Decoder;\n\npublic class GetPrivateKey {\n    public static RSAPrivateKey get() throws Exception {\n        File privateKeyFile = new File(&quot;privatekey.key&quot;);\n        byte[] encodedKey = new byte[(int) privateKeyFile.length()];\n        new FileInputStream(privateKeyFile).read(encodedKey);\n        ByteBuffer keyBytes = new BASE64Decoder().decodeBufferToByteBuffer(encodedKey.toString());\n        PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(keyBytes.array());\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;, &quot;IBMJCEFIPS&quot;);\n        RSAPrivateKey pk = (RSAPrivateKey) kf.generatePrivate(privateKeySpec);\n        return pk;\n    }\n\n    public static void main(String[] args) throws Exception {\n        PrivateKey privKey = FormatMePlease.get();\n        System.out.println(privKey.toString());\n    }\n\n}\n</code></pre>\n<p>I am getting the following errors</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: Inappropriate key specification: DerInputStream.getLength(): lengthTag=127, too big.\nat com.ibm.crypto.fips.provider.RSAKeyFactory.b(Unknown Source)\nat com.ibm.crypto.fips.provider.RSAKeyFactory.engineGeneratePrivate(Unknown Source)\nat java.security.KeyFactory.generatePrivate(Unknown Source)\nat GetPrivateKey.get(GetPrivateKey.java:24)\nat GetPrivateKey.main(GetPrivateKey.java:29)\n</code></pre>\n<p>The contents of the file <code>privatekey.key</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>-----BEGIN RSA PRIVATE KEY-----\nMIIEuwIBADANBgkqhkiG9w0BAQEFAASCBKUwggShAgEAAoIBAF53wUbKmDHtvfOb8u1HPqEBFNNF\ncsnOMjIcSEhAwIQMbgrOuQ+vH/YgXuuDJaURS85H8P4UTt6lYOJn+SFnXvS82E7LHJpVrWwQzbh2\nQKh13/akPe90DlNTUGEYO7rHaPLqTlld0jkLFSytwqfwqn9yrYpM1ncUOpCciK5j8t8MzO71LJoJ\ng24CFxpjIS0tBrJvKzrRNcxWSRDLmu2kNmtsh7yyJouE6XoizVmBmNVltHhFaDMmqjugMQA2CZfL\nrxiR1ep8TH8IBvPqysqZI1RIpB/e0engP4/1KLrOt+6gGS0JEDh1kG2fJObl+N4n3sCOtgaz5Uz8\n8jpwbmZ3Se8CAwEAAQKCAQAdOsSs2MbavAsIM3qo/GBehO0iqdxooMpbQvECmjZ3JTlvUqNkPPWQ\nvFdiW8PsHTvtackhdLsqnNUreKxXL5rr8vqi9qm0/0mXpGNi7gP3m/FeaVdYnfpIwgCe6lag5k6M\nyv7PG/6N8+XrWyBdwlOe96bGohvB4Jp2YFjSTM67QONQ8CdmfqokqJ8/3RyrpDvGN3iX3yzBqXGO\njPkoJQv3I4lsYdR0nl4obHHnMSeWCQCYvJoZ7ZOliu/Dd0ksItlodG6s8r/ujkSa8VIhe0fnXTf0\ni7lqa55CAByGN4MOR0bAkJwIB7nZzQKurBPcTAYJFFvAc5hgMnWT0XW83TehAoGBALVPGnznScUw\nO50OXKI5yhxGf/XDT8g28L8Oc4bctRzI+8YfIFfLJ57uDGuojO/BpqtYmXmgORru0jYR8idEkZrx\ngf62czOiJrCWTkBCEMtrNfFHQJQCQrjfbHofp7ODnEHbHFm7zdlbfNnEBBaKXxd2rVv4UTEhgftv\nwsHcimbXAoGBAIViWrHWElMeQT0datqlThE/u51mcK4VlV7iRWXVa1/gAP85ZAu44VvvDlkpYVkF\nzSRR+lHSOzsubDMN45OBQW6UA3RPg4TCvrTOmhQUeF5XPuSdcD0R2At6pdaLwAKnOtILg13Ha6ym\nIgjv8glodvem3hWLmpHIhNBiaXtf8wqpAoGADH5a8OhvKOtd8EChGXyp9LDW+HRw9vbyN/gi9dQX\nltgyoUBb1jDllgoJSRHgRFUvyvbb/ImR5c03JwqtiQ8siWTC9G5WGeS+jcSNt9fVmG7W1L14MbrG\nJj8fFns/7xrOlasnlPdgA+5N+CONtI/sZY2D/KZr0drhPhZBcWJlFxkCgYAn+4SOPEo/6hjKNhA6\nvER7fSxDEVsDg+rDh3YgAWpvUdlaqBxqOyAqi600YugQZGHK2lv7vNYOdmrunuIx7BPuDqY+bjtR\nR4Mc9bVQAZbXSLXMl7j2RWwKfNhLSJbk9LX4EoVtTgLjvOUE4tAdq9fFgpqdwLwzqPTO9kECP4++\nCQKBgH6tO/xcNxG/uXUideluAn3H2KeyyznZMJ7oCvzf26/XpTAMI243OoeftiKVMgxuZ7hjwqfn\n/VHXABc4i5gchr9RzSb1hZ/IqFzq2YGmbppg5Ok2cgwalDoDBi21bRf8aDRweL62mO+7aPnCQZ58\nj5W72PB8BAr6xg0Oro25O4os\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>Similar questions have been posted here, but those were of no help for me.\nAlmost all of them suggested using Bouncycastle provider which I cannot use as I'm restricted to using a FIPS compliant provider and I'm not sure if BC provider is FIPS compliant.</p>\n"},{"tags":["java","file","text"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1366374664,"creation_date":1366374664,"answer_id":16104650,"question_id":16104616,"body_markdown":"This is the problem:\r\n\r\n    while (br.readLine() != null) {\r\n        System.out.println(br.readLine());\r\n    }\r\n\r\nYou&#39;ve got two calls to `readLine` - the first *only* checks that there&#39;s a line (but reads it and throws it away) and the second reads the *next* line. You want:\r\n\r\n    String line;\r\n    while ((line = br.readLine()) != null) {\r\n        System.out.println(line);\r\n    }\r\n\r\nNow we&#39;re only calling `readLine()` *once* per loop iteration, and using the line that we&#39;ve read both for the &quot;have we finished?&quot; and &quot;print out the line&quot; parts.","title":"Using BufferedReader to read Text File","body":"<p>This is the problem:</p>\n\n<pre><code>while (br.readLine() != null) {\n    System.out.println(br.readLine());\n}\n</code></pre>\n\n<p>You've got two calls to <code>readLine</code> - the first <em>only</em> checks that there's a line (but reads it and throws it away) and the second reads the <em>next</em> line. You want:</p>\n\n<pre><code>String line;\nwhile ((line = br.readLine()) != null) {\n    System.out.println(line);\n}\n</code></pre>\n\n<p>Now we're only calling <code>readLine()</code> <em>once</em> per loop iteration, and using the line that we've read both for the \"have we finished?\" and \"print out the line\" parts.</p>\n"},{"tags":[],"owner":{"account_id":1936505,"reputation":5620,"user_id":1743852,"accept_rate":75,"display_name":"Alya&#39;a Gamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366374987,"creation_date":1366374673,"answer_id":16104652,"question_id":16104616,"body_markdown":"You read `line`  through `while` loop and through the loop you read the next line  ,so just read it in while loop    \r\n\r\n     String s;\r\n     while ((s=br.readLine()) != null) {\r\n         System.out.println(s);\r\n      }","title":"Using BufferedReader to read Text File","body":"<p>You read <code>line</code>  through <code>while</code> loop and through the loop you read the next line  ,so just read it in while loop    </p>\n\n<pre><code> String s;\n while ((s=br.readLine()) != null) {\n     System.out.println(s);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1366374680,"creation_date":1366374680,"answer_id":16104654,"question_id":16104616,"body_markdown":"You can assign the result of `br.readLine()` to a variable and use that both for processing and for checking, like so:\r\n\r\n    String line = br.readLine();\r\n    while (line != null) { // You might also want to check for empty?\r\n        System.out.println(line);\r\n        line = br.readLine();\r\n    }","title":"Using BufferedReader to read Text File","body":"<p>You can assign the result of <code>br.readLine()</code> to a variable and use that both for processing and for checking, like so:</p>\n\n<pre><code>String line = br.readLine();\nwhile (line != null) { // You might also want to check for empty?\n    System.out.println(line);\n    line = br.readLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1141397,"reputation":4287,"user_id":1125197,"accept_rate":80,"display_name":"lichengwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366374703,"creation_date":1366374703,"answer_id":16104660,"question_id":16104616,"body_markdown":"Maybe you mean this:\r\n\r\n    public class Reader {\r\n\r\n    public static void main(String[]args) throws IOException{\r\n\r\n        FileReader in = new FileReader(&quot;C:/test.txt&quot;);\r\n        BufferedReader br = new BufferedReader(in);\r\n        String line = br.readLine();\r\n        while (line!=null) {\r\n            System.out.println(line);\r\n            line = br.readLine();\r\n        }\r\n        in.close();\r\n\r\n    }","title":"Using BufferedReader to read Text File","body":"<p>Maybe you mean this:</p>\n\n<pre><code>public class Reader {\n\npublic static void main(String[]args) throws IOException{\n\n    FileReader in = new FileReader(\"C:/test.txt\");\n    BufferedReader br = new BufferedReader(in);\n    String line = br.readLine();\n    while (line!=null) {\n        System.out.println(line);\n        line = br.readLine();\n    }\n    in.close();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1000378,"reputation":1099,"user_id":1015369,"display_name":"Gokhan Demirhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366375845,"creation_date":1366374712,"answer_id":16104666,"question_id":16104616,"body_markdown":"Try:\r\n\r\n    String text= br.readLine();\r\n    while (text != null) \r\n    {\r\n      System.out.println(text);\r\n      text=br.readLine();\r\n    }\r\n    in.close();","title":"Using BufferedReader to read Text File","body":"<p>Try:</p>\n\n<pre><code>String text= br.readLine();\nwhile (text != null) \n{\n  System.out.println(text);\n  text=br.readLine();\n}\nin.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5430705,"reputation":354,"user_id":4321681,"accept_rate":100,"display_name":"sinisterrook"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428527188,"creation_date":1422998360,"answer_id":28308950,"question_id":16104616,"body_markdown":"or \r\n\r\n    public String getFileStream(final String inputFile) {\r\n            String result = &quot;&quot;;\r\n    \t\tScanner s = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\ts = new Scanner(new BufferedReader(new FileReader(inputFile)));\r\n    \t\t\twhile (s.hasNext()) {\r\n    \t\t\t\tresult = result + s.nextLine();\r\n    \t\t\t}\r\n    \t\t} catch (final IOException ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tif (s != null) {\r\n    \t\t\t\ts.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    }\r\n\r\nThis gets first line as well.","title":"Using BufferedReader to read Text File","body":"<p>or </p>\n\n<pre><code>public String getFileStream(final String inputFile) {\n        String result = \"\";\n        Scanner s = null;\n\n        try {\n            s = new Scanner(new BufferedReader(new FileReader(inputFile)));\n            while (s.hasNext()) {\n                result = result + s.nextLine();\n            }\n        } catch (final IOException ex) {\n            ex.printStackTrace();\n        } finally {\n            if (s != null) {\n                s.close();\n            }\n        }\n        return result;\n}\n</code></pre>\n\n<p>This gets first line as well.</p>\n"},{"tags":[],"owner":{"account_id":5264499,"reputation":131,"user_id":4657730,"display_name":"Subhojit Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464097343,"creation_date":1441804495,"answer_id":32480596,"question_id":16104616,"body_markdown":"    private void readFile() throws Exception {\r\n\t\t  AsynchronousFileChannel input=AsynchronousFileChannel.open(Paths.get(&quot;E:/dicom_server_storage/abc.txt&quot;),StandardOpenOption.READ);\r\n\t\t  ByteBuffer buffer=ByteBuffer.allocate(1024);\r\n\t\t  input.read(buffer,0,null,new CompletionHandler&lt;Integer,Void&gt;(){\r\n\t\t    @Override public void completed(    Integer result,    Void attachment){\r\n\t\t      System.out.println(&quot;Done reading the file.&quot;);\r\n\t\t    }\r\n\t\t    @Override public void failed(    Throwable exc,    Void attachment){\r\n\t\t      System.err.println(&quot;An error occured:&quot; + exc.getMessage());\r\n\t\t    }\r\n\t\t  }\r\n\t\t);\r\n\t\t  System.out.println(&quot;This thread keeps on running&quot;);\r\n\t\t  Thread.sleep(100);\r\n\t\t}","title":"Using BufferedReader to read Text File","body":"<pre><code>private void readFile() throws Exception {\n      AsynchronousFileChannel input=AsynchronousFileChannel.open(Paths.get(\"E:/dicom_server_storage/abc.txt\"),StandardOpenOption.READ);\n      ByteBuffer buffer=ByteBuffer.allocate(1024);\n      input.read(buffer,0,null,new CompletionHandler&lt;Integer,Void&gt;(){\n        @Override public void completed(    Integer result,    Void attachment){\n          System.out.println(\"Done reading the file.\");\n        }\n        @Override public void failed(    Throwable exc,    Void attachment){\n          System.err.println(\"An error occured:\" + exc.getMessage());\n        }\n      }\n    );\n      System.out.println(\"This thread keeps on running\");\n      Thread.sleep(100);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5356532,"reputation":1515,"user_id":4269054,"accept_rate":100,"display_name":"NikhilP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452150571,"creation_date":1452150571,"answer_id":34649244,"question_id":16104616,"body_markdown":"you can store it in array and then use whichever line you want..\r\nthis is the code snippet that i have used to read line from file and store it in a string array, hope this will be useful for you :)\r\n\r\n    public class user {\r\n     public static void main(String x[]) throws IOException{\r\n      BufferedReader b=new BufferedReader(new FileReader(&quot;&lt;path to file&gt;&quot;));\r\n      String[] user=new String[30];\r\n      String line=&quot;&quot;;\r\n      while ((line = b.readLine()) != null) {\r\n       user[i]=line; \r\n       System.out.println(user[1]);\r\n       i++;  \r\n       }\r\n    \r\n     }\r\n    }","title":"Using BufferedReader to read Text File","body":"<p>you can store it in array and then use whichever line you want..\nthis is the code snippet that i have used to read line from file and store it in a string array, hope this will be useful for you :)</p>\n\n<pre><code>public class user {\n public static void main(String x[]) throws IOException{\n  BufferedReader b=new BufferedReader(new FileReader(\"&lt;path to file&gt;\"));\n  String[] user=new String[30];\n  String line=\"\";\n  while ((line = b.readLine()) != null) {\n   user[i]=line; \n   System.out.println(user[1]);\n   i++;  \n   }\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130319,"reputation":764,"user_id":2648257,"display_name":"Bharathiraja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591719685,"creation_date":1591719685,"answer_id":62287231,"question_id":16104616,"body_markdown":"Use try with resources. this will automatically close the resources.\r\n\r\n    try (BufferedReader br = new BufferedReader(new FileReader(&quot;C:/test.txt&quot;))) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n    } catch (Exception e) {\r\n\r\n    }","title":"Using BufferedReader to read Text File","body":"<p>Use try with resources. this will automatically close the resources.</p>\n\n<pre><code>try (BufferedReader br = new BufferedReader(new FileReader(\"C:/test.txt\"))) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        System.out.println(line);\n    }\n} catch (Exception e) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":2502198,"reputation":569,"user_id":2176993,"accept_rate":100,"display_name":"Syntic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177849,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":16104650,"answer_count":9,"score":33,"last_activity_date":1671658414,"creation_date":1366374536,"question_id":16104616,"body_markdown":"I&#39;m having problems with using the BufferedReader\r\n\r\nI want to print the 6 lines of a text file:\r\n\r\n    public class Reader {\r\n\t\r\n\tpublic static void main(String[]args) throws IOException{\r\n\t\t\r\n\t\tFileReader in = new FileReader(&quot;C:/test.txt&quot;);\r\n\t\tBufferedReader br = new BufferedReader(in);\r\n\t\t\r\n\t\twhile (br.readLine() != null) {\r\n\t\t\tSystem.out.println(br.readLine());\r\n\t\t}\r\n\t\tin.close();\r\n\t\t\r\n\t}\r\n\r\nNow from what I can gather every time I call the readLine() method it automatically advances to the next line.\r\n\r\nSo I can&#39;t use the condition br.readLine() != null since it&#39;ll already advance it one line and I get the output:\r\n\r\n\r\n    Line 2\r\n    Line 4\r\n    Line 6\r\n\r\nWhat Condition do I use to check if there is still a new line in the text field?","title":"Using BufferedReader to read Text File","body":"<p>I'm having problems with using the BufferedReader</p>\n<p>I want to print the 6 lines of a text file:</p>\n<pre><code>public class Reader {\n\npublic static void main(String[]args) throws IOException{\n    \n    FileReader in = new FileReader(&quot;C:/test.txt&quot;);\n    BufferedReader br = new BufferedReader(in);\n    \n    while (br.readLine() != null) {\n        System.out.println(br.readLine());\n    }\n    in.close();\n    \n}\n</code></pre>\n<p>Now from what I can gather every time I call the readLine() method it automatically advances to the next line.</p>\n<p>So I can't use the condition br.readLine() != null since it'll already advance it one line and I get the output:</p>\n<pre><code>Line 2\nLine 4\nLine 6\n</code></pre>\n<p>What Condition do I use to check if there is still a new line in the text field?</p>\n"},{"tags":["java","java-7","variadic-functions"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":1,"creation_date":1357720323,"post_id":14231037,"comment_id":19742323,"body_markdown":"Have you seen the example (and explanation) in [JavaDoc](http://docs.oracle.com/javase/7/docs/api/java/lang/SafeVarargs.html)?","body":"Have you seen the example (and explanation) in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/SafeVarargs.html\" rel=\"nofollow noreferrer\">JavaDoc</a>?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1357720960,"post_id":14231037,"comment_id":19742572,"body_markdown":"For your third question, one practice is to always have a first element and others: `retType myMethod(Arg first, Arg... others)`. If you do not specify `first`, an empty array is allowed, and you may very well have a method by the same name with the same return type taking no arguments, which means the JVM will have a hard time determining which method should be called.","body":"For your third question, one practice is to always have a first element and others: <code>retType myMethod(Arg first, Arg... others)</code>. If you do not specify <code>first</code>, an empty array is allowed, and you may very well have a method by the same name with the same return type taking no arguments, which means the JVM will have a hard time determining which method should be called."},{"owner":{"account_id":1969545,"reputation":4162,"user_id":1768894,"accept_rate":100,"display_name":"Oren"},"score":4,"creation_date":1357721468,"post_id":14231037,"comment_id":19742811,"body_markdown":"@jlordo I did, but I don&#39;t understand why its given in the varargs context as one can easily replecate this situation outside of a varargs function (verified this, compiles with expected type safety warnings and errors on runtime)..","body":"@jlordo I did, but I don&#39;t understand why its given in the varargs context as one can easily replecate this situation outside of a varargs function (verified this, compiles with expected type safety warnings and errors on runtime).."}],"answers":[{"comments":[{"owner":{"account_id":1969545,"reputation":4162,"user_id":1768894,"accept_rate":100,"display_name":"Oren"},"score":7,"creation_date":1357805490,"post_id":14252221,"comment_id":19779998,"body_markdown":"well now it all makes sense. thanks. so just to see that I understand you completely, lets say we have a class `FOO&lt;T extends Something&gt;` would it be safe to return the T[] of a varargs method as an array of `Somthing`s ?","body":"well now it all makes sense. thanks. so just to see that I understand you completely, lets say we have a class <code>FOO&lt;T extends Something&gt;</code> would it be safe to return the T[] of a varargs method as an array of <code>Somthing</code>s ?"},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":31,"creation_date":1397306648,"post_id":14252221,"comment_id":35183927,"body_markdown":"Might be worth noting that one case where it is (presumably) always correct to use `@SafeVarargs` is when the only thing you do with the array is pass it to another method that is already so annotated (for example: I frequently find myself writing vararg methods that exist to convert their argument to a list using `Arrays.asList(...)` and pass it to another method; such a case can always be annotated with `@SafeVarargs` because `Arrays.asList` has the annotation).","body":"Might be worth noting that one case where it is (presumably) always correct to use <code>@SafeVarargs</code> is when the only thing you do with the array is pass it to another method that is already so annotated (for example: I frequently find myself writing vararg methods that exist to convert their argument to a list using <code>Arrays.asList(...)</code> and pass it to another method; such a case can always be annotated with <code>@SafeVarargs</code> because <code>Arrays.asList</code> has the annotation)."},{"owner":{"account_id":68665,"reputation":8103,"user_id":200224,"accept_rate":64,"display_name":"Andy"},"score":5,"creation_date":1493394484,"post_id":14252221,"comment_id":74414381,"body_markdown":"@newacct I don&#39;t know if this was the case in Java 7, but Java 8 doesn&#39;t allow `@SafeVarargs` unless the method is `static` or `final`, because otherwise it could get overridden in a derived class with something unsafe.","body":"@newacct I don&#39;t know if this was the case in Java 7, but Java 8 doesn&#39;t allow <code>@SafeVarargs</code> unless the method is <code>static</code> or <code>final</code>, because otherwise it could get overridden in a derived class with something unsafe."},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":5,"creation_date":1493916641,"post_id":14252221,"comment_id":74617856,"body_markdown":"and in Java 9 it will also be allowed for `private` methods which also cannot be overridden.","body":"and in Java 9 it will also be allowed for <code>private</code> methods which also cannot be overridden."}],"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":4,"down_vote_count":0,"up_vote_count":284,"is_accepted":true,"score":284,"last_activity_date":1544535057,"creation_date":1357800223,"answer_id":14252221,"question_id":14231037,"body_markdown":"1) There are many examples on the Internet and on StackOverflow about the particular issue with generics and varargs. Basically, it&#39;s when you have a variable number of arguments of a type-parameter type:\r\n\r\n    &lt;T&gt; void foo(T... args);\r\n\r\nIn Java, varargs are a syntactic sugar that undergoes a simple &quot;re-writing&quot; at compile-time: a varargs parameter of type `X...` is converted into a parameter of type `X[]`; and every time a call is made to this varargs method, the compiler collects all of the &quot;variable arguments&quot; that goes in the varargs parameter, and creates an array just like `new X[] { ...(arguments go here)... }`.\r\n\r\nThis works well when the varargs type is concrete like `String...`. When it&#39;s a type variable like `T...`, it also works when `T` is known to be a concrete type for that call. e.g. if the method above were part of a class `Foo&lt;T&gt;`, and you have a `Foo&lt;String&gt;` reference, then calling `foo` on it would be okay because we know `T` is `String` at that point in the code.\r\n\r\nHowever, it does not work when the &quot;value&quot; of `T` is another type parameter. In Java, it is impossible to create an array of a type-parameter component type (`new T[] { ... }`). So Java instead uses `new Object[] { ... }` (here `Object` is the upper bound of `T`; if there upper bound were something different, it would be that instead of `Object`), and then gives you a compiler warning.\r\n\r\nSo what is wrong with creating `new Object[]` instead of `new T[]` or whatever? Well, arrays in Java know their component type at runtime. Thus, the passed array object will have the wrong component type at runtime.\r\n\r\nFor probably the most common use of varargs, simply to iterate over the elements, this is no problem (you don&#39;t care about the runtime type of the array), so this is safe:\r\n\r\n    @SafeVarargs\r\n    final &lt;T&gt; void foo(T... args) {\r\n        for (T x : args) {\r\n            // do stuff with x\r\n        }\r\n    }\r\n\r\nHowever, for anything that depends on the runtime component type of the passed array, it will not be safe. Here is a simple example of something that is unsafe and crashes:\r\n\r\n    class UnSafeVarargs\r\n    {\r\n      static &lt;T&gt; T[] asArray(T... args) {\r\n        return args;\r\n      }\r\n    \r\n      static &lt;T&gt; T[] arrayOfTwo(T a, T b) {\r\n        return asArray(a, b);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        String[] bar = arrayOfTwo(&quot;hi&quot;, &quot;mom&quot;);\r\n      }\r\n    }\r\n    \r\nThe problem here is that we depend on the type of `args` to be `T[]` in order to return it as `T[]`. But actually the type of the argument at runtime is not an instance of `T[]`.\r\n\r\n3) If your method has an argument of type `T...` (where T is any type parameter), then:\r\n\r\n - Safe: If your method only depends on the fact that the elements of the array are instances of `T`\r\n - Unsafe: If it depends on the fact that the array is an instance of `T[]`\r\n\r\nThings that depend on the runtime type of the array include: returning it as type `T[]`, passing it as an argument to a parameter of type `T[]`, getting the array type using `.getClass()`, passing it to methods that depend on the runtime type of the array, like `List.toArray()` and `Arrays.copyOf()`, etc.\r\n\r\n2) The distinction I mentioned above is too complicated to be easily distinguished automatically.","title":"Java SafeVarargs annotation, does a standard or best practice exist?","body":"<p>1) There are many examples on the Internet and on StackOverflow about the particular issue with generics and varargs. Basically, it's when you have a variable number of arguments of a type-parameter type:</p>\n\n<pre><code>&lt;T&gt; void foo(T... args);\n</code></pre>\n\n<p>In Java, varargs are a syntactic sugar that undergoes a simple \"re-writing\" at compile-time: a varargs parameter of type <code>X...</code> is converted into a parameter of type <code>X[]</code>; and every time a call is made to this varargs method, the compiler collects all of the \"variable arguments\" that goes in the varargs parameter, and creates an array just like <code>new X[] { ...(arguments go here)... }</code>.</p>\n\n<p>This works well when the varargs type is concrete like <code>String...</code>. When it's a type variable like <code>T...</code>, it also works when <code>T</code> is known to be a concrete type for that call. e.g. if the method above were part of a class <code>Foo&lt;T&gt;</code>, and you have a <code>Foo&lt;String&gt;</code> reference, then calling <code>foo</code> on it would be okay because we know <code>T</code> is <code>String</code> at that point in the code.</p>\n\n<p>However, it does not work when the \"value\" of <code>T</code> is another type parameter. In Java, it is impossible to create an array of a type-parameter component type (<code>new T[] { ... }</code>). So Java instead uses <code>new Object[] { ... }</code> (here <code>Object</code> is the upper bound of <code>T</code>; if there upper bound were something different, it would be that instead of <code>Object</code>), and then gives you a compiler warning.</p>\n\n<p>So what is wrong with creating <code>new Object[]</code> instead of <code>new T[]</code> or whatever? Well, arrays in Java know their component type at runtime. Thus, the passed array object will have the wrong component type at runtime.</p>\n\n<p>For probably the most common use of varargs, simply to iterate over the elements, this is no problem (you don't care about the runtime type of the array), so this is safe:</p>\n\n<pre><code>@SafeVarargs\nfinal &lt;T&gt; void foo(T... args) {\n    for (T x : args) {\n        // do stuff with x\n    }\n}\n</code></pre>\n\n<p>However, for anything that depends on the runtime component type of the passed array, it will not be safe. Here is a simple example of something that is unsafe and crashes:</p>\n\n<pre><code>class UnSafeVarargs\n{\n  static &lt;T&gt; T[] asArray(T... args) {\n    return args;\n  }\n\n  static &lt;T&gt; T[] arrayOfTwo(T a, T b) {\n    return asArray(a, b);\n  }\n\n  public static void main(String[] args) {\n    String[] bar = arrayOfTwo(\"hi\", \"mom\");\n  }\n}\n</code></pre>\n\n<p>The problem here is that we depend on the type of <code>args</code> to be <code>T[]</code> in order to return it as <code>T[]</code>. But actually the type of the argument at runtime is not an instance of <code>T[]</code>.</p>\n\n<p>3) If your method has an argument of type <code>T...</code> (where T is any type parameter), then:</p>\n\n<ul>\n<li>Safe: If your method only depends on the fact that the elements of the array are instances of <code>T</code></li>\n<li>Unsafe: If it depends on the fact that the array is an instance of <code>T[]</code></li>\n</ul>\n\n<p>Things that depend on the runtime type of the array include: returning it as type <code>T[]</code>, passing it as an argument to a parameter of type <code>T[]</code>, getting the array type using <code>.getClass()</code>, passing it to methods that depend on the runtime type of the array, like <code>List.toArray()</code> and <code>Arrays.copyOf()</code>, etc.</p>\n\n<p>2) The distinction I mentioned above is too complicated to be easily distinguished automatically.</p>\n"},{"tags":[],"owner":{"account_id":8199052,"reputation":125,"user_id":6170935,"display_name":"Fridge"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1531302493,"creation_date":1531302493,"answer_id":51282317,"question_id":14231037,"body_markdown":"For best practices, consider this.\r\n\r\nIf you have this:\r\n\r\n    public &lt;T&gt; void doSomething(A a, B b, T... manyTs) {\r\n        // Your code here\r\n    }\r\n\r\nChange it to this:\r\n\r\n    public &lt;T&gt; void doSomething(A a, B b, T... manyTs) {\r\n        doSomething(a, b, Arrays.asList(manyTs));\r\n    }\r\n    \r\n    private &lt;T&gt; void doSomething(A a, B b, List&lt;T&gt; manyTs) {\r\n        // Your code here\r\n    }\r\n\r\nI&#39;ve found I usually only add varargs to make it more convenient for my callers. It would almost always be more convenient for my internal implementation to use a `List&lt;&gt;`. So to piggy-back on `Arrays.asList()` and ensure there&#39;s no way I can introduce Heap Pollution, this is what I do.\r\n\r\n\r\nI know this only answers your #3. newacct has given a great answer for #1 and #2 above, and I don&#39;t have enough reputation to just leave this as a comment. :P","title":"Java SafeVarargs annotation, does a standard or best practice exist?","body":"<p>For best practices, consider this.</p>\n\n<p>If you have this:</p>\n\n<pre><code>public &lt;T&gt; void doSomething(A a, B b, T... manyTs) {\n    // Your code here\n}\n</code></pre>\n\n<p>Change it to this:</p>\n\n<pre><code>public &lt;T&gt; void doSomething(A a, B b, T... manyTs) {\n    doSomething(a, b, Arrays.asList(manyTs));\n}\n\nprivate &lt;T&gt; void doSomething(A a, B b, List&lt;T&gt; manyTs) {\n    // Your code here\n}\n</code></pre>\n\n<p>I've found I usually only add varargs to make it more convenient for my callers. It would almost always be more convenient for my internal implementation to use a <code>List&lt;&gt;</code>. So to piggy-back on <code>Arrays.asList()</code> and ensure there's no way I can introduce Heap Pollution, this is what I do.</p>\n\n<p>I know this only answers your #3. newacct has given a great answer for #1 and #2 above, and I don't have enough reputation to just leave this as a comment. :P</p>\n"},{"tags":[],"owner":{"account_id":9366242,"reputation":2001,"user_id":6951063,"display_name":"Andriy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671657540,"creation_date":1668700487,"answer_id":74478435,"question_id":14231037,"body_markdown":"@SafeVarargs is used to indicate that methods will not cause heap pollution.\r\n\r\nHeap pollution is when we mix different parameterized types in generic array. \r\n\r\nFor example:\r\n\r\n        public static &lt;T&gt; T[] unsafe(T... elements) {\r\n            return elements; \r\n        }\r\n\r\n        Object [] listOfItems =  unsafe(&quot;some value&quot;, 34, new ArrayList&lt;&gt;());\r\n        String stringValue = (String) listOfItems[0]; // some value\r\n        String intValue = (String) listOfItems[1]; // ClassCastException\r\n\r\nAs you can see, such implementation could easily cause `ClassCastException` if we don&#39;t guess with the type.","title":"Java SafeVarargs annotation, does a standard or best practice exist?","body":"<p>@SafeVarargs is used to indicate that methods will not cause heap pollution.</p>\n<p>Heap pollution is when we mix different parameterized types in generic array.</p>\n<p>For example:</p>\n<pre><code>    public static &lt;T&gt; T[] unsafe(T... elements) {\n        return elements; \n    }\n\n    Object [] listOfItems =  unsafe(&quot;some value&quot;, 34, new ArrayList&lt;&gt;());\n    String stringValue = (String) listOfItems[0]; // some value\n    String intValue = (String) listOfItems[1]; // ClassCastException\n</code></pre>\n<p>As you can see, such implementation could easily cause <code>ClassCastException</code> if we don't guess with the type.</p>\n"}],"owner":{"account_id":1969545,"reputation":4162,"user_id":1768894,"accept_rate":100,"display_name":"Oren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33479,"favorite_count":0,"down_vote_count":0,"up_vote_count":204,"accepted_answer_id":14252221,"answer_count":3,"score":204,"last_activity_date":1671657540,"creation_date":1357720106,"question_id":14231037,"body_markdown":"I&#39;ve recently come across the java `@SafeVarargs` annotation. Googling for what makes a variadic function in Java unsafe left me rather confused (heap poisoning? erased types?), so I&#39;d like to know a few things:\r\n\r\n1. What makes a variadic Java function unsafe in the `@SafeVarargs` sense (preferably explained in the form of an in-depth example)?\r\n\r\n2. Why is this annotation left to the discretion of the programmer? Isn&#39;t this something the compiler should be able to check?\r\n\r\n3. Is there some standard one must adhere to in order to ensure his function is indeed varags safe? If not, what are the best practices to ensure it?","title":"Java SafeVarargs annotation, does a standard or best practice exist?","body":"<p>I've recently come across the java <code>@SafeVarargs</code> annotation. Googling for what makes a variadic function in Java unsafe left me rather confused (heap poisoning? erased types?), so I'd like to know a few things:</p>\n\n<ol>\n<li><p>What makes a variadic Java function unsafe in the <code>@SafeVarargs</code> sense (preferably explained in the form of an in-depth example)?</p></li>\n<li><p>Why is this annotation left to the discretion of the programmer? Isn't this something the compiler should be able to check?</p></li>\n<li><p>Is there some standard one must adhere to in order to ensure his function is indeed varags safe? If not, what are the best practices to ensure it?</p></li>\n</ol>\n"},{"tags":["java","inheritance","initialization"],"answers":[{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337023845,"creation_date":1337023845,"answer_id":10589852,"question_id":10589828,"body_markdown":"Object fields are not implicitly initialized... you need to do the init.  Maybe you need a lazy init in this case?  Generally unpleasant to have the constructor calling methods that do non-trivial work, it&#39;s usually a smell that something is more complex than it wants to be.","title":"Java Constructor and Field Initialization Order","body":"<p>Object fields are not implicitly initialized... you need to do the init.  Maybe you need a lazy init in this case?  Generally unpleasant to have the constructor calling methods that do non-trivial work, it's usually a smell that something is more complex than it wants to be.</p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337023869,"creation_date":1337023869,"answer_id":10589860,"question_id":10589828,"body_markdown":"Depth first, a pre-order walk.\r\n\r\nAnders makes a good point: Java only initializes fields that are native types implicitly.  Any Object field is merely a reference to Object, and so it in fact initialized, but it&#39;s initialized to `null`.","title":"Java Constructor and Field Initialization Order","body":"<p>Depth first, a pre-order walk.</p>\n\n<p>Anders makes a good point: Java only initializes fields that are native types implicitly.  Any Object field is merely a reference to Object, and so it in fact initialized, but it's initialized to <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1671657533,"creation_date":1337024099,"answer_id":10589896,"question_id":10589828,"body_markdown":"That&#39;s right. `super()`, even if you don&#39;t add it explicitly, is placed implictly in every constructor. This means that the constructor of `ShufflePieceSequence` is called first, but the very first thing it does is calling `AbstractPieceSequence`.\r\n\r\nIn `AbstractPieceSequence` you are calling a method defined in `ShufflePieceSequence` - which has not been initialized. In fact what you are doing is actually a **very subtle bug**. You should never call overridable (including `abstract` methods) from constructor. Period. AFAIR tools like [tag:pmd] and [tag:findbugs] are marking this as a potential bug.\r\n\r\n# See also\r\n\r\n* https://stackoverflow.com/questions/3404301\r\n* [Use Care When Calling Non-final Methods from Constructors](http://www.informit.com/articles/article.aspx?p=20521)\r\n* [Ensure that constructors do not call overridable methods](https://www.securecoding.cert.org/confluence/display/java/MET05-J.+Ensure+that+constructors+do+not+call+overridable+methods)","title":"Java Constructor and Field Initialization Order","body":"<p>That's right. <code>super()</code>, even if you don't add it explicitly, is placed implictly in every constructor. This means that the constructor of <code>ShufflePieceSequence</code> is called first, but the very first thing it does is calling <code>AbstractPieceSequence</code>.</p>\n<p>In <code>AbstractPieceSequence</code> you are calling a method defined in <code>ShufflePieceSequence</code> - which has not been initialized. In fact what you are doing is actually a <strong>very subtle bug</strong>. You should never call overridable (including <code>abstract</code> methods) from constructor. Period. AFAIR tools like <a href=\"/questions/tagged/pmd\" class=\"post-tag\" title=\"show questions tagged &#39;pmd&#39;\" aria-label=\"show questions tagged &#39;pmd&#39;\" rel=\"tag\" aria-labelledby=\"pmd-container\">pmd</a> and <a href=\"/questions/tagged/findbugs\" class=\"post-tag\" title=\"show questions tagged &#39;findbugs&#39;\" aria-label=\"show questions tagged &#39;findbugs&#39;\" rel=\"tag\" aria-labelledby=\"findbugs-container\">findbugs</a> are marking this as a potential bug.</p>\n<h1>See also</h1>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3404301\">What&#39;s wrong with overridable method calls in constructors?</a></li>\n<li><a href=\"http://www.informit.com/articles/article.aspx?p=20521\" rel=\"nofollow noreferrer\">Use Care When Calling Non-final Methods from Constructors</a></li>\n<li><a href=\"https://www.securecoding.cert.org/confluence/display/java/MET05-J.+Ensure+that+constructors+do+not+call+overridable+methods\" rel=\"nofollow noreferrer\">Ensure that constructors do not call overridable methods</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3657559,"reputation":1,"user_id":3048131,"display_name":"Chandaneswar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386592113,"creation_date":1386592113,"answer_id":20470709,"question_id":10589828,"body_markdown":"The order of invoking the constructors of Parent-Sub class in case of inheritance is that, the  constructor of Parent class always gets invoke first and then the constructor of Child class.\r\n\r\nThe Sub class calls the constructor of the base class by default using the Super(), if explicitly not given.","title":"Java Constructor and Field Initialization Order","body":"<p>The order of invoking the constructors of Parent-Sub class in case of inheritance is that, the  constructor of Parent class always gets invoke first and then the constructor of Child class.</p>\n\n<p>The Sub class calls the constructor of the base class by default using the Super(), if explicitly not given.</p>\n"}],"owner":{"account_id":76523,"reputation":5165,"user_id":218993,"accept_rate":81,"display_name":"efritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8425,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":10589896,"answer_count":4,"score":9,"last_activity_date":1671657533,"creation_date":1337023697,"question_id":10589828,"body_markdown":"I aware that Java object constructors implicitly initialize their instance&#39;s non-static fields. However, I&#39;m unsure of the order that this happens in a class hierarchy. For example:\r\n\r\n    abstract public class AbstractPieceSequence implements PieceSequence\r\n    {\r\n        private Tetromino current;\r\n        private Tetromino preview;\r\n\r\n        public AbstractPieceSequence()\r\n        {\r\n            advance();\r\n        }\r\n\r\n        @Override\r\n        public final void advance()\r\n        {\r\n            if (preview == null) {\r\n                current = getNextPiece();\r\n                preview = getNextPiece();\r\n            } else {\r\n                current = preview;\r\n                preview = getNextPiece();\r\n            }\r\n        }\r\n\r\n        abstract protected Tetromino getNextPiece();\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    public class ShufflePieceSequence extends AbstractPieceSequence\r\n    {\r\n        private List&lt;Shape&gt; bag = new LinkedList&lt;Shape&gt;();\r\n\r\n        @Override\r\n        protected Tetromino getNextPiece()\r\n        {\r\n            if (bag.size() == 0) {\r\n                Collections.addAll(bag, Shape.I, Shape.J, Shape.L, Shape.O, Shape.S, Shape.T, Shape.Z);\r\n            }\r\n\r\n            return Tetromino.tetrominoes.get(bag.remove(0));\r\n        }\r\n    }\r\n\r\nThe parent&#39;s constructor calls a method in the child class, which throws an exception as the value of `List&lt;Shape&gt; bag` is currently null. \r\n\r\nI can define a child constructor and call super(), but that must be the first line in the constructor body (which means I still don&#39;t have a chance to initialize bag before `getNextPiece` is called).\r\n\r\nI am missing something obvious.","title":"Java Constructor and Field Initialization Order","body":"<p>I aware that Java object constructors implicitly initialize their instance's non-static fields. However, I'm unsure of the order that this happens in a class hierarchy. For example:</p>\n\n<pre><code>abstract public class AbstractPieceSequence implements PieceSequence\n{\n    private Tetromino current;\n    private Tetromino preview;\n\n    public AbstractPieceSequence()\n    {\n        advance();\n    }\n\n    @Override\n    public final void advance()\n    {\n        if (preview == null) {\n            current = getNextPiece();\n            preview = getNextPiece();\n        } else {\n            current = preview;\n            preview = getNextPiece();\n        }\n    }\n\n    abstract protected Tetromino getNextPiece();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class ShufflePieceSequence extends AbstractPieceSequence\n{\n    private List&lt;Shape&gt; bag = new LinkedList&lt;Shape&gt;();\n\n    @Override\n    protected Tetromino getNextPiece()\n    {\n        if (bag.size() == 0) {\n            Collections.addAll(bag, Shape.I, Shape.J, Shape.L, Shape.O, Shape.S, Shape.T, Shape.Z);\n        }\n\n        return Tetromino.tetrominoes.get(bag.remove(0));\n    }\n}\n</code></pre>\n\n<p>The parent's constructor calls a method in the child class, which throws an exception as the value of <code>List&lt;Shape&gt; bag</code> is currently null. </p>\n\n<p>I can define a child constructor and call super(), but that must be the first line in the constructor body (which means I still don't have a chance to initialize bag before <code>getNextPiece</code> is called).</p>\n\n<p>I am missing something obvious.</p>\n"},{"tags":["java","swagger","swagger-ui","dropwizard"],"owner":{"account_id":14191174,"reputation":726,"user_id":10358406,"display_name":"jeffcodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671656490,"creation_date":1671639999,"question_id":74878994,"body_markdown":"Struggling getting Swagger implemented with a Java api using dropwizard (I come from .net world, and still learning the java architecture). Followed the swagger docs and samples. When I hit my `/swagger` endpoint, I get the console error `Uncaught ReferenceError: SwaggerUIBundle is not defined`. So, it seems that my servlet for the swagger endpoint is working, it&#39;s just that my configuration isn&#39;t delivering the swagger data to the index.html file? Seems like I am a small change away from getting this...\r\n\r\nEDIT ADD: Also, hitting `/swagger/openapi.json` does not deliver the json, rather is a 404.\r\n\r\nI&#39;ve built and compiled the app, and the swagger has been added to the `resources/swagger/assess` of the repo\r\n\r\npom.xml\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;2.2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-assets&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nroot/conf/swagger.yml\r\n```\r\ndefaultName: My Api\r\nserver:\r\n  rootPath: /swagger/\r\nlogging:\r\n  level: ERROR\r\n  appenders:\r\n    - type: console\r\n      threshold: ALL\r\n      timeZone: UTC\r\n      target: stdout\r\n```\r\nI&#39;ve recreated the above in the `application.conf` file as well with no changes... This seems like part of my problem, where to properly apply swagger configuration? \r\n\r\nresources/app/index.html (Script only)\r\n```&lt;script&gt;\r\n  window.onload = function() {\r\n    var url = window.location.search.match(/url=([^&amp;]+)/);\r\n    if (url &amp;&amp; url.length &gt; 1) {\r\n      url = decodeURIComponent(url[1]);\r\n    } else {\r\n      url = &#39;/swagger/openapi.json&#39;;\r\n    }\r\n\r\n    // Build a system\r\n    const ui = SwaggerUIBundle({ // SwaggerUIBundle is never resolved\r\n      url: url,\r\n      dom_id: &#39;#swagger-ui&#39;,\r\n      presets: [\r\n        SwaggerUIBundle.presets.apis,\r\n        SwaggerUIStandalonePreset\r\n      ],\r\n      plugins: [\r\n        SwaggerUIBundle.plugins.DownloadUrl\r\n      ],\r\n      layout: &quot;StandaloneLayout&quot;\r\n    })\r\n\r\n    window.ui = ui\r\n  }\r\n&lt;/script&gt;\r\n```\r\n\r\nconfiguration file\r\n```\r\npublic class MyConfig extends TypesafeConfiguration implements ... { //TyepsafeConfguration extends Configuration as in the Sample setup\r\n  \r\n    @NotEmpty\r\n    @JsonProperty\r\n    private String defaultName = &quot;My Api&quot;;\r\n\r\n    public String getDefaultName() { // greyed out as unused? \r\n        return defaultName;\r\n    }\r\n\r\n}\r\n```\r\n\r\nservice file\r\n```\r\npublic class MyService extends Application&lt;MyConfiguration&gt; {\r\n    @Override\r\n    public String getName() {\r\n        return &quot;My Service&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void initialize(final Bootstrap&lt;MyConfiguration&gt; bootstrap) {\r\n        \r\n        // Swagger\r\n        bootstrap.addBundle(new AssetsBundle(&quot;/app&quot;, &quot;/swagger&quot;, &quot;index.html&quot;));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void run(final MyConfiguration configuration,\r\n                    final Environment environment) {\r\n\r\n        OpenAPI oas = new OpenAPI();\r\n        Info info = new Info()\r\n                .title(&quot;My Title&quot;)\r\n                .description(&quot;My Description&quot;)\r\n                .termsOfService(&quot;https://myurl.com/tos&quot;)\r\n                .license(new License()\r\n                        .name(&quot;Public Domain&quot;)\r\n                        .url(&quot;https://myurl.com/LICENSE.md&quot;));\r\n\r\n        oas.info(info);\r\n        List&lt;Server&gt; servers = new ArrayList&lt;&gt;();\r\n        servers.add(new Server().url(&quot;/api&quot;));\r\n        oas.servers(servers);\r\n        SwaggerConfiguration oasConfig = new SwaggerConfiguration()\r\n                .openAPI(oas)\r\n                .prettyPrint(true)\r\n                .resourcePackages(Stream.of(&quot;path.to.resources&quot;).collect(Collectors.toSet()));\r\n\r\n        environment.jersey().register(FooResource.class);\r\n        environment.jersey().register(BarResource.class);\r\n        environment.getObjectMapper().setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\n        // eg.\r\n        environment.jersey().register(new OpenApiResource().openApiConfiguration(oasConfig));  \r\n}\r\n```\r\n\r\nFooResource.java\r\n```\r\npublic MyResource() {\r\n\r\n    @Override\r\n    @GET\r\n    @Path(&quot;/metadata&quot;)\r\n    @Public\r\n    @ApiOperation(value = &quot;Get some metadata&quot;, notes = &quot;returns metadata&quot;, response = CapabilityStatement.class)\r\n    @ApiResponses(@ApiResponse(code = 200, message = &quot;Successful operation&quot;, examples = @Example(@ExampleProperty(value = &quot;&quot;))))\r\n    public CapabilityStatement metadata() {\r\n        return Capabilities.getCapabilities(baseURL);\r\n    }\r\n\r\n}\r\n```","title":"How to configure swagger with java api using dropwizard? Need to get past SwaggerUIConfiguration undefined","body":"<p>Struggling getting Swagger implemented with a Java api using dropwizard (I come from .net world, and still learning the java architecture). Followed the swagger docs and samples. When I hit my <code>/swagger</code> endpoint, I get the console error <code>Uncaught ReferenceError: SwaggerUIBundle is not defined</code>. So, it seems that my servlet for the swagger endpoint is working, it's just that my configuration isn't delivering the swagger data to the index.html file? Seems like I am a small change away from getting this...</p>\n<p>EDIT ADD: Also, hitting <code>/swagger/openapi.json</code> does not deliver the json, rather is a 404.</p>\n<p>I've built and compiled the app, and the swagger has been added to the <code>resources/swagger/assess</code> of the repo</p>\n<p>pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;2.2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-assets&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>root/conf/swagger.yml</p>\n<pre><code>defaultName: My Api\nserver:\n  rootPath: /swagger/\nlogging:\n  level: ERROR\n  appenders:\n    - type: console\n      threshold: ALL\n      timeZone: UTC\n      target: stdout\n</code></pre>\n<p>I've recreated the above in the <code>application.conf</code> file as well with no changes... This seems like part of my problem, where to properly apply swagger configuration?</p>\n<p>resources/app/index.html (Script only)</p>\n<pre><code>  window.onload = function() {\n    var url = window.location.search.match(/url=([^&amp;]+)/);\n    if (url &amp;&amp; url.length &gt; 1) {\n      url = decodeURIComponent(url[1]);\n    } else {\n      url = '/swagger/openapi.json';\n    }\n\n    // Build a system\n    const ui = SwaggerUIBundle({ // SwaggerUIBundle is never resolved\n      url: url,\n      dom_id: '#swagger-ui',\n      presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIStandalonePreset\n      ],\n      plugins: [\n        SwaggerUIBundle.plugins.DownloadUrl\n      ],\n      layout: &quot;StandaloneLayout&quot;\n    })\n\n    window.ui = ui\n  }\n&lt;/script&gt;\n</code></pre>\n<p>configuration file</p>\n<pre><code>public class MyConfig extends TypesafeConfiguration implements ... { //TyepsafeConfguration extends Configuration as in the Sample setup\n  \n    @NotEmpty\n    @JsonProperty\n    private String defaultName = &quot;My Api&quot;;\n\n    public String getDefaultName() { // greyed out as unused? \n        return defaultName;\n    }\n\n}\n</code></pre>\n<p>service file</p>\n<pre><code>public class MyService extends Application&lt;MyConfiguration&gt; {\n    @Override\n    public String getName() {\n        return &quot;My Service&quot;;\n    }\n\n    @Override\n    public void initialize(final Bootstrap&lt;MyConfiguration&gt; bootstrap) {\n        \n        // Swagger\n        bootstrap.addBundle(new AssetsBundle(&quot;/app&quot;, &quot;/swagger&quot;, &quot;index.html&quot;));\n\n    }\n\n    @Override\n    public void run(final MyConfiguration configuration,\n                    final Environment environment) {\n\n        OpenAPI oas = new OpenAPI();\n        Info info = new Info()\n                .title(&quot;My Title&quot;)\n                .description(&quot;My Description&quot;)\n                .termsOfService(&quot;https://myurl.com/tos&quot;)\n                .license(new License()\n                        .name(&quot;Public Domain&quot;)\n                        .url(&quot;https://myurl.com/LICENSE.md&quot;));\n\n        oas.info(info);\n        List&lt;Server&gt; servers = new ArrayList&lt;&gt;();\n        servers.add(new Server().url(&quot;/api&quot;));\n        oas.servers(servers);\n        SwaggerConfiguration oasConfig = new SwaggerConfiguration()\n                .openAPI(oas)\n                .prettyPrint(true)\n                .resourcePackages(Stream.of(&quot;path.to.resources&quot;).collect(Collectors.toSet()));\n\n        environment.jersey().register(FooResource.class);\n        environment.jersey().register(BarResource.class);\n        environment.getObjectMapper().setSerializationInclusion(JsonInclude.Include.NON_NULL);\n\n        // eg.\n        environment.jersey().register(new OpenApiResource().openApiConfiguration(oasConfig));  \n}\n</code></pre>\n<p>FooResource.java</p>\n<pre><code>public MyResource() {\n\n    @Override\n    @GET\n    @Path(&quot;/metadata&quot;)\n    @Public\n    @ApiOperation(value = &quot;Get some metadata&quot;, notes = &quot;returns metadata&quot;, response = CapabilityStatement.class)\n    @ApiResponses(@ApiResponse(code = 200, message = &quot;Successful operation&quot;, examples = @Example(@ExampleProperty(value = &quot;&quot;))))\n    public CapabilityStatement metadata() {\n        return Capabilities.getCapabilities(baseURL);\n    }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9434,"page":789,"page_size":100}
