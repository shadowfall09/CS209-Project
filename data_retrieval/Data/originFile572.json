{"items":[{"tags":["java","logback"],"comments":[{"owner":{"account_id":46548,"reputation":3722,"user_id":137584,"accept_rate":100,"display_name":"Philippe Carriere"},"score":0,"creation_date":1340396152,"post_id":11162951,"comment_id":14641319,"body_markdown":"I agree with Peter Lawrey on both counts.","body":"I agree with Peter Lawrey on both counts."}],"answers":[{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1372804728,"creation_date":1340442805,"answer_id":11168272,"question_id":11162951,"body_markdown":"As Peter mentioned, writing a [custom conversion specifier][1] is your best option at the moment (June 2012). Here is sample code:\r\n\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.classic.pattern.ClassicConverter ;\r\n    import java.util.concurrent.atomic.AtomicLong;\r\n    \r\n    public class LocalSequenceNumberConverter extends ClassicConverter {\r\n    \r\n      AtomicLong sequenceNumber = new AtomicLong(0);\r\n    \r\n      @Override\r\n      public String convert(ILoggingEvent event) {\r\n        return Long.toString(sequenceNumber.getAndIncrement());\r\n      }\r\n    }\r\n\r\nPlease post on the logback-user mailing if you need further help.\r\n\r\n  [1]: http://logback.qos.ch/manual/layouts.html#customConversionSpecifier\r\n","title":"Line numbers with logback","body":"<p>As Peter mentioned, writing a <a href=\"http://logback.qos.ch/manual/layouts.html#customConversionSpecifier\" rel=\"nofollow\">custom conversion specifier</a> is your best option at the moment (June 2012). Here is sample code:</p>\n\n<pre><code>import ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.classic.pattern.ClassicConverter ;\nimport java.util.concurrent.atomic.AtomicLong;\n\npublic class LocalSequenceNumberConverter extends ClassicConverter {\n\n  AtomicLong sequenceNumber = new AtomicLong(0);\n\n  @Override\n  public String convert(ILoggingEvent event) {\n    return Long.toString(sequenceNumber.getAndIncrement());\n  }\n}\n</code></pre>\n\n<p>Please post on the logback-user mailing if you need further help.</p>\n"},{"tags":[],"owner":{"account_id":221275,"reputation":1900,"user_id":479159,"display_name":"Andrei Damian-Fekete"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678963546,"creation_date":1678963546,"answer_id":75755149,"question_id":11162951,"body_markdown":"If you&#39;re outputting JSON, you can use the [SequenceJsonProvider](https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.1.1/net/logstash/logback/composite/loggingevent/SequenceJsonProvider.html) to add the field `sequence`.\r\n\r\n&gt; Outputs an incrementing sequence number. Useful for determining if log events get lost along the transport chain.\r\n\r\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n        &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.SequenceJsonProvider&quot;/&gt;\r\n    &lt;/encoder&gt;\r\n","title":"Line numbers with logback","body":"<p>If you're outputting JSON, you can use the <a href=\"https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.1.1/net/logstash/logback/composite/loggingevent/SequenceJsonProvider.html\" rel=\"nofollow noreferrer\">SequenceJsonProvider</a> to add the field <code>sequence</code>.</p>\n<blockquote>\n<p>Outputs an incrementing sequence number. Useful for determining if log events get lost along the transport chain.</p>\n</blockquote>\n<pre><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n    &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.SequenceJsonProvider&quot;/&gt;\n&lt;/encoder&gt;\n</code></pre>\n"}],"owner":{"account_id":599,"reputation":18901,"user_id":779,"accept_rate":61,"display_name":"naumcho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11168272,"answer_count":2,"score":1,"last_activity_date":1678963546,"creation_date":1340393695,"question_id":11162951,"body_markdown":"I want to add line numbers (just a sequential integer that keeps incrementing on each log line) to my logback config - how do I do that? I looked through the properties available in the [docs][1] but i couldn&#39;t see it anywhere. What am I missing?\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/layouts.html","title":"Line numbers with logback","body":"<p>I want to add line numbers (just a sequential integer that keeps incrementing on each log line) to my logback config - how do I do that? I looked through the properties available in the <a href=\"http://logback.qos.ch/manual/layouts.html\" rel=\"nofollow\">docs</a> but i couldn't see it anywhere. What am I missing?</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1678995420,"post_id":75755110,"comment_id":133645980,"body_markdown":"Do you mean you encountered an issue (if so, what specific issue), or did you really not find any code for how to do this? Because for both Gson and Jackson this is the standard use case; Gson: `new Gson().fromJson(json, ViewModelPOJO.class)`; Jackson: `new ObjectMapper().readValue(json, ViewModelPOJO.class)`","body":"Do you mean you encountered an issue (if so, what specific issue), or did you really not find any code for how to do this? Because for both Gson and Jackson this is the standard use case; Gson: <code>new Gson().fromJson(json, ViewModelPOJO.class)</code>; Jackson: <code>new ObjectMapper().readValue(json, ViewModelPOJO.class)</code>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1678995574,"post_id":75755110,"comment_id":133646018,"body_markdown":"Also, the `DeviceNode#metaData` field should probably be lowercased (`metadata`) to match your JSON data, or you have to use Gson or Jackson annotations to specify the custom name for the field.","body":"Also, the <code>DeviceNode#metaData</code> field should probably be lowercased (<code>metadata</code>) to match your JSON data, or you have to use Gson or Jackson annotations to specify the custom name for the field."},{"owner":{"account_id":18733057,"reputation":64,"user_id":13658008,"display_name":"Abhishek Ranjan"},"score":0,"creation_date":1678996309,"post_id":75755110,"comment_id":133646208,"body_markdown":"I guess that was the issue. I have to use `JsonProperty` annotation. After doing so parsing was successful.","body":"I guess that was the issue. I have to use <code>JsonProperty</code> annotation. After doing so parsing was successful."}],"owner":{"account_id":18733057,"reputation":64,"user_id":13658008,"display_name":"Abhishek Ranjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678963374,"creation_date":1678963374,"question_id":75755110,"body_markdown":"I have a JSON file that looks like this\r\n```\r\n{\r\n  &quot;deviceNodes&quot;: [\r\n    {\r\n      &quot;header&quot;: &quot;Mobiles&quot;,\r\n      &quot;metadata&quot;: &quot;&quot;,\r\n      &quot;children&quot;: [\r\n        {\r\n          &quot;header&quot;: &quot;Apple&quot;,\r\n          &quot;metadata&quot;: &quot;&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;header&quot;: &quot;Apple iPhone 13&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            },\r\n            {\r\n              &quot;header&quot;: &quot;Apple iPhone 13 Pro&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;header&quot;: &quot;Samsung&quot;,\r\n          &quot;metadata&quot;: &quot;&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;header&quot;: &quot;Samsung Galaxy S22&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;header&quot;: &quot;Tablets&quot;,\r\n      &quot;metadata&quot;: &quot;&quot;,\r\n      &quot;children&quot;: [\r\n        {\r\n          &quot;header&quot;: &quot;Apple&quot;,\r\n          &quot;metadata&quot;: &quot;&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;header&quot;: &quot;iPad 13&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\nI want to parse this JSON file to a POJO class named `ViewModelPOJO`. Is there any any way I can achieve this using Jackson/Gson. I tried searching on web but didn&#39;t find any relevant strategy.\r\n```\r\nclass ViewModelPOJO {\r\n  List&lt;DeviceNode&gt; deviceNodes;\r\n}\r\n\r\npublic class DeviceNode {\r\n  private String header;\r\n  private List&lt;DeviceNode&gt; children;\r\n  private String metaData;\r\n}\r\n```","title":"Parse tree structured json file to POJO class","body":"<p>I have a JSON file that looks like this</p>\n<pre><code>{\n  &quot;deviceNodes&quot;: [\n    {\n      &quot;header&quot;: &quot;Mobiles&quot;,\n      &quot;metadata&quot;: &quot;&quot;,\n      &quot;children&quot;: [\n        {\n          &quot;header&quot;: &quot;Apple&quot;,\n          &quot;metadata&quot;: &quot;&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;header&quot;: &quot;Apple iPhone 13&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            },\n            {\n              &quot;header&quot;: &quot;Apple iPhone 13 Pro&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            }\n          ]\n        },\n        {\n          &quot;header&quot;: &quot;Samsung&quot;,\n          &quot;metadata&quot;: &quot;&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;header&quot;: &quot;Samsung Galaxy S22&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            }\n          ]\n        }\n      ]\n    },\n    {\n      &quot;header&quot;: &quot;Tablets&quot;,\n      &quot;metadata&quot;: &quot;&quot;,\n      &quot;children&quot;: [\n        {\n          &quot;header&quot;: &quot;Apple&quot;,\n          &quot;metadata&quot;: &quot;&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;header&quot;: &quot;iPad 13&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I want to parse this JSON file to a POJO class named <code>ViewModelPOJO</code>. Is there any any way I can achieve this using Jackson/Gson. I tried searching on web but didn't find any relevant strategy.</p>\n<pre><code>class ViewModelPOJO {\n  List&lt;DeviceNode&gt; deviceNodes;\n}\n\npublic class DeviceNode {\n  private String header;\n  private List&lt;DeviceNode&gt; children;\n  private String metaData;\n}\n</code></pre>\n"},{"tags":["java","multithreading","wait","scheduledexecutorservice"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678960014,"post_id":75754287,"comment_id":133635136,"body_markdown":"I&#39;m not quite sure why this works at all, as you&#39;re waiting on an object you haven&#39;t synchronized on.","body":"I&#39;m not quite sure why this works at all, as you&#39;re waiting on an object you haven&#39;t synchronized on."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1678960901,"post_id":75754287,"comment_id":133635402,"body_markdown":"@tgdavies exactly - it throws, and therefore the executor halts the sequence of task executions.","body":"@tgdavies exactly - it throws, and therefore the executor halts the sequence of task executions."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678960995,"post_id":75754287,"comment_id":133635426,"body_markdown":"Ah - missed that only InterruptedException was being caught!","body":"Ah - missed that only InterruptedException was being caught!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678961036,"post_id":75754287,"comment_id":133635437,"body_markdown":"Does this answer your question? [Why must wait() always be in synchronized block](https://stackoverflow.com/questions/2779484/why-must-wait-always-be-in-synchronized-block)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2779484/why-must-wait-always-be-in-synchronized-block\">Why must wait() always be in synchronized block</a>"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678963373,"creation_date":1678960340,"answer_id":75754503,"question_id":75754287,"body_markdown":"It&#39;s because you are calling [`Object.wait()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long)), and that throws\r\n\r\n&gt; IllegalMonitorStateException - if the current thread is not the owner of the object&#39;s monitor\r\n\r\nyour thread does not own the monitor for `this` (the worker), so it throws.\r\n\r\nAs you only catch `InterruptedException`, it is not caught within the runnable (but the finally block executes).\r\n\r\n[`ScheduledThreadPoolExecutor.scheduleWithFixedDelay()`][1] documents:\r\n\r\n&gt; The sequence of task executions continues indefinitely until one of the following exceptional completions occur: \r\n&gt; \r\n&gt; [...]  \r\n&gt; An execution of the task throws an exception. [...]\r\n\r\ntherefore it terminates.\r\n\r\n----------\r\n\r\nAs the [answer by rzwitserloot][2] already provides a great explanation about how `Object.wait()` and `Object.notify()` are meant to be used, let me just add that there is an alternative implementation of the underlying concept (called Condition Variable) in the class [`Condition`][2] which includes a code example for a use case in the JavaDocs.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [2]: https://stackoverflow.com/a/75754750/2513200","title":"Why does thread wait(milis) halt scheduled executor?","body":"<p>It's because you are calling <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long)\" rel=\"nofollow noreferrer\"><code>Object.wait()</code></a>, and that throws</p>\n<blockquote>\n<p>IllegalMonitorStateException - if the current thread is not the owner of the object's monitor</p>\n</blockquote>\n<p>your thread does not own the monitor for <code>this</code> (the worker), so it throws.</p>\n<p>As you only catch <code>InterruptedException</code>, it is not caught within the runnable (but the finally block executes).</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor.scheduleWithFixedDelay()</code></a> documents:</p>\n<blockquote>\n<p>The sequence of task executions continues indefinitely until one of the following exceptional completions occur:</p>\n<p>[...]<br />\nAn execution of the task throws an exception. [...]</p>\n</blockquote>\n<p>therefore it terminates.</p>\n<hr />\n<p>As the <a href=\"https://stackoverflow.com/a/75754750/2513200\">answer by rzwitserloot</a> already provides a great explanation about how <code>Object.wait()</code> and <code>Object.notify()</code> are meant to be used, let me just add that there is an alternative implementation of the underlying concept (called Condition Variable) in the class <a href=\"https://stackoverflow.com/a/75754750/2513200\"><code>Condition</code></a> which includes a code example for a use case in the JavaDocs.</p>\n"},{"comments":[{"owner":{"account_id":28030946,"reputation":41,"user_id":21410131,"display_name":"PleaseHlep123"},"score":0,"creation_date":1678962193,"post_id":75754750,"comment_id":133635789,"body_markdown":"wow this was a really great explanation. Thank you!","body":"wow this was a really great explanation. Thank you!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678961509,"creation_date":1678961509,"answer_id":75754750,"question_id":75754287,"body_markdown":"You&#39;re not using `wait` correctly.\r\n\r\nHere&#39;s a very short manual to wait/notify (these 2 methods go hand in hand, there is zero point using one of them without also using the other!)\r\n\r\nWe have 2 threads, we shall name them Alice and Bob. Alice wants to wait, but, instead of the &#39;condition for when you can cease waiting&#39; being: &quot;After X milliseconds have passed&quot;, the condition we want to wait for is &quot;When event Z happens, and Z is something another thread (Bob, in our case), will witness and will want to tell us about&quot;.\r\n\r\nTo get the job done, __first__, we need Alice and Bob to both have a reference to _the same object_. Generally, because threading and locking is quite tricky, this should be __non-global__ - i.e. something alice and bob have, but the rest of the wider code base doesn&#39;t. Failure to adhere to this rule makes it almost impossible to reason about code because you&#39;ll have no idea who is capable of messing with that &#39;lock&#39; object. For the same reason you should replace public fields with private ones and if needed access methods (setters and getters), __do not have public locks__. Unfortunately, `synchronized` defaults to `this` if you stick it on a method, so, never do that unless you really, really know what you are doing. Instead, make private lock objects.\r\n\r\nThen, here&#39;s the flow:\r\n\r\n1. Alice __LOCKS__ on the lock. (`synchronized (lock) { ... }).\r\n2. Whilst holding it (inside the braces that go with the block), alice runs into the situation where alice wants to wait until event Z happens. She calls `lock.wait()` on the lock. This will both freeze the Alice thread as well as release the lock.\r\n3. Bob locks on the exact same lock object. This will cause bob to wait (he didn&#39;t call `lock.wait`, he tried to entered a synchronized block which can also cause waiting to occur) until Alice either exits her synchronized block _or_ invokes `wait` on the lock.\r\n4. Bob does some stuff and eventually wants to wake Alice up, so bob calls `lock.notifyAll()` (I generally advise not calling notify - the difference is mostly esoteric and usually irrelevant, though). Bob can only do this when he holds the lock (inside a `synchronized (lock) {}` block).\r\n5. This __does not actually wake Alice up!__ - after all, for alice to wake up, alice has to re-acquire the lock (that `lock.wait()` call is inside `synchronized (lock) {}` after all, and bob holds that lock right now; has to be, because Bob can&#39;t call `lock.notifyAll()` unless bob holds that lock!). It merely sets alice up to wake when bob&#39;s done with their lock.\r\n\r\nAnd.. that&#39;s all there is to it.\r\n\r\nThis isn&#39;t necessarily the best way to do locking; often something from the `java.util.concurrent` package is a better idea.\r\n\r\nThe problem in your code is that you just call `wait()`, which therefore resolves to `this.wait()`, but you wanted `lock.wait()`.","title":"Why does thread wait(milis) halt scheduled executor?","body":"<p>You're not using <code>wait</code> correctly.</p>\n<p>Here's a very short manual to wait/notify (these 2 methods go hand in hand, there is zero point using one of them without also using the other!)</p>\n<p>We have 2 threads, we shall name them Alice and Bob. Alice wants to wait, but, instead of the 'condition for when you can cease waiting' being: &quot;After X milliseconds have passed&quot;, the condition we want to wait for is &quot;When event Z happens, and Z is something another thread (Bob, in our case), will witness and will want to tell us about&quot;.</p>\n<p>To get the job done, <strong>first</strong>, we need Alice and Bob to both have a reference to <em>the same object</em>. Generally, because threading and locking is quite tricky, this should be <strong>non-global</strong> - i.e. something alice and bob have, but the rest of the wider code base doesn't. Failure to adhere to this rule makes it almost impossible to reason about code because you'll have no idea who is capable of messing with that 'lock' object. For the same reason you should replace public fields with private ones and if needed access methods (setters and getters), <strong>do not have public locks</strong>. Unfortunately, <code>synchronized</code> defaults to <code>this</code> if you stick it on a method, so, never do that unless you really, really know what you are doing. Instead, make private lock objects.</p>\n<p>Then, here's the flow:</p>\n<ol>\n<li>Alice <strong>LOCKS</strong> on the lock. (`synchronized (lock) { ... }).</li>\n<li>Whilst holding it (inside the braces that go with the block), alice runs into the situation where alice wants to wait until event Z happens. She calls <code>lock.wait()</code> on the lock. This will both freeze the Alice thread as well as release the lock.</li>\n<li>Bob locks on the exact same lock object. This will cause bob to wait (he didn't call <code>lock.wait</code>, he tried to entered a synchronized block which can also cause waiting to occur) until Alice either exits her synchronized block <em>or</em> invokes <code>wait</code> on the lock.</li>\n<li>Bob does some stuff and eventually wants to wake Alice up, so bob calls <code>lock.notifyAll()</code> (I generally advise not calling notify - the difference is mostly esoteric and usually irrelevant, though). Bob can only do this when he holds the lock (inside a <code>synchronized (lock) {}</code> block).</li>\n<li>This <strong>does not actually wake Alice up!</strong> - after all, for alice to wake up, alice has to re-acquire the lock (that <code>lock.wait()</code> call is inside <code>synchronized (lock) {}</code> after all, and bob holds that lock right now; has to be, because Bob can't call <code>lock.notifyAll()</code> unless bob holds that lock!). It merely sets alice up to wake when bob's done with their lock.</li>\n</ol>\n<p>And.. that's all there is to it.</p>\n<p>This isn't necessarily the best way to do locking; often something from the <code>java.util.concurrent</code> package is a better idea.</p>\n<p>The problem in your code is that you just call <code>wait()</code>, which therefore resolves to <code>this.wait()</code>, but you wanted <code>lock.wait()</code>.</p>\n"}],"owner":{"account_id":28030946,"reputation":41,"user_id":21410131,"display_name":"PleaseHlep123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75754750,"answer_count":2,"score":2,"last_activity_date":1678963373,"creation_date":1678959115,"question_id":75754287,"body_markdown":"I&#39;m trying to wrap my head around threads and I&#39;ve thought of this particular case:\r\nA scheduled runnable which will poll data from somewhere and when there is no data to poll the thread should wait for a while and then start polling again.\r\n\r\nThis is an example code of what I was trying to accomplish\r\n\r\n\r\n```\r\npublic class ThreadTest {\r\n    public static void main(String[] args) {\r\n        Object lock = new Object();\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(10);\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.scheduleWithFixedDelay(new Worker(lock), 100, 1000, TimeUnit.MILLISECONDS);\r\n\r\n        while(!scheduledFuture.isDone()) {\r\n        }\r\n\r\n        System.out.println(&quot;Main finished&quot;);\r\n    }\r\n\r\n    public static class Worker implements Runnable {\r\n\r\n        private final Object lock;\r\n        public Worker(Object lock) {\r\n            this.lock = lock;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            long startMilis = 0;\r\n            try {\r\n                synchronized (lock) {\r\n                    System.out.println(Thread.currentThread().getName() + &quot; Simulating work by sleeping for 3 seconds&quot;);\r\n                    Thread.sleep(3000);\r\n                    startMilis = System.currentTimeMillis();\r\n                    System.out.println(Thread.currentThread().getName() + &quot; Work done. Initiating wait for 200ms&quot;);\r\n                    // this is supposed to pause the thread and release the lock and then wake up the thread after 200ms\r\n                    // however what it seems to do is it puts the thread in the waiting state but it does not wake up\r\n                    // after 200ms and resume, instead it skips to the finally block and completes the scheduled future\r\n                    // stopping any further threads to start... why?\r\n                    wait(200);\r\n                    // this pauses the thread, keeping the lock, and the thread finishes after sleep. Works as intended.\r\n                    //Thread.sleep(200); \r\n                }\r\n                System.out.println(Thread.currentThread().getName() + &quot; Done waiting. Exiting&quot;);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            } finally {\r\n                long endMilis = System.currentTimeMillis();\r\n                long difference = endMilis - startMilis;\r\n                System.out.println(Thread.currentThread().getName() + &quot; Finally block reached after &quot; + difference + &quot;ms&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you run this code as-is it will spawn a thread running the `Worker` runnable, the runnable will sleep for 3 seconds simulating some long lasting work, then it will hit the `wait(200)`\r\ncall and the thread will immediately go to the finally block and exit and the `ScheduledFuture` will complete.\r\nWhy is that? I thought that `wait(milis)` could be used for low-power polling, having the thread release it&#39;s lock and wait for some time before running again but this is only causing me more confusion.\r\nCan anyone elaborate?\r\n","title":"Why does thread wait(milis) halt scheduled executor?","body":"<p>I'm trying to wrap my head around threads and I've thought of this particular case:\nA scheduled runnable which will poll data from somewhere and when there is no data to poll the thread should wait for a while and then start polling again.</p>\n<p>This is an example code of what I was trying to accomplish</p>\n<pre><code>public class ThreadTest {\n    public static void main(String[] args) {\n        Object lock = new Object();\n        ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(10);\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.scheduleWithFixedDelay(new Worker(lock), 100, 1000, TimeUnit.MILLISECONDS);\n\n        while(!scheduledFuture.isDone()) {\n        }\n\n        System.out.println(&quot;Main finished&quot;);\n    }\n\n    public static class Worker implements Runnable {\n\n        private final Object lock;\n        public Worker(Object lock) {\n            this.lock = lock;\n        }\n\n        @Override\n        public void run() {\n            long startMilis = 0;\n            try {\n                synchronized (lock) {\n                    System.out.println(Thread.currentThread().getName() + &quot; Simulating work by sleeping for 3 seconds&quot;);\n                    Thread.sleep(3000);\n                    startMilis = System.currentTimeMillis();\n                    System.out.println(Thread.currentThread().getName() + &quot; Work done. Initiating wait for 200ms&quot;);\n                    // this is supposed to pause the thread and release the lock and then wake up the thread after 200ms\n                    // however what it seems to do is it puts the thread in the waiting state but it does not wake up\n                    // after 200ms and resume, instead it skips to the finally block and completes the scheduled future\n                    // stopping any further threads to start... why?\n                    wait(200);\n                    // this pauses the thread, keeping the lock, and the thread finishes after sleep. Works as intended.\n                    //Thread.sleep(200); \n                }\n                System.out.println(Thread.currentThread().getName() + &quot; Done waiting. Exiting&quot;);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            } finally {\n                long endMilis = System.currentTimeMillis();\n                long difference = endMilis - startMilis;\n                System.out.println(Thread.currentThread().getName() + &quot; Finally block reached after &quot; + difference + &quot;ms&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>If you run this code as-is it will spawn a thread running the <code>Worker</code> runnable, the runnable will sleep for 3 seconds simulating some long lasting work, then it will hit the <code>wait(200)</code>\ncall and the thread will immediately go to the finally block and exit and the <code>ScheduledFuture</code> will complete.\nWhy is that? I thought that <code>wait(milis)</code> could be used for low-power polling, having the thread release it's lock and wait for some time before running again but this is only causing me more confusion.\nCan anyone elaborate?</p>\n"},{"tags":["java","spring-boot","maven","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":22199006,"reputation":3,"user_id":16439993,"display_name":"Saksham Gairola"},"score":0,"creation_date":1660664959,"post_id":73376752,"comment_id":129583330,"body_markdown":"I have tried both ```&#39;``` and ```&quot;``` neither of them worked","body":"I have tried both <code>&#39;</code> and <code>&quot;</code> neither of them worked"},{"owner":{"account_id":21138914,"reputation":56,"user_id":15541786,"display_name":"KosztDojscia"},"score":0,"creation_date":1660665542,"post_id":73376752,"comment_id":129583574,"body_markdown":"Try using different link and maybe try using msg without &lt;p&gt; tag","body":"Try using different link and maybe try using msg without &lt;p&gt; tag"}],"tags":[],"owner":{"account_id":21138914,"reputation":56,"user_id":15541786,"display_name":"KosztDojscia"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660664806,"creation_date":1660664806,"answer_id":73376752,"question_id":73376702,"body_markdown":"Try using only &#39; instead of doing escape char = \\&quot; ","title":"href argument of anchor tag is not getting passed","body":"<p>Try using only ' instead of doing escape char = &quot;</p>\n"},{"comments":[{"owner":{"account_id":22199006,"reputation":3,"user_id":16439993,"display_name":"Saksham Gairola"},"score":0,"creation_date":1660669750,"post_id":73377249,"comment_id":129585064,"body_markdown":"Adding ```http``` scheme before the ```localhost:8080/...``` worked for me. Thanks for an explanation and a solution","body":"Adding <code>http</code> scheme before the <code>localhost:8080&#47;...</code> worked for me. Thanks for an explanation and a solution"}],"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660667204,"creation_date":1660667204,"answer_id":73377249,"question_id":73376702,"body_markdown":"use the http or https scheme in the hyperlink URL.\r\nonly in the case of localhost:8080 or localhost:80 or any other port, Gmail is making HTML email to text. domain.com and other domains will also work without a scheme. \r\n\r\n**HTML and body tags are optional.**\r\n```\r\nString html =  &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= &#39;http://localhost:8080&#39;&gt;unsubscribe1&lt;/a&gt;&quot;;\r\n\t\tString html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= &#39;http://localhost:8080&#39;&gt;unsubscribe2&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t\tString html3 = html + html2;\r\n```\r\n\r\n[![email with hyperlink][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYZb3.png","title":"href argument of anchor tag is not getting passed","body":"<p>use the http or https scheme in the hyperlink URL.\nonly in the case of localhost:8080 or localhost:80 or any other port, Gmail is making HTML email to text. domain.com and other domains will also work without a scheme.</p>\n<p><strong>HTML and body tags are optional.</strong></p>\n<pre><code>String html =  &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= 'http://localhost:8080'&gt;unsubscribe1&lt;/a&gt;&quot;;\n        String html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= 'http://localhost:8080'&gt;unsubscribe2&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n        String html3 = html + html2;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tYZb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYZb3.png\" alt=\"email with hyperlink\" /></a></p>\n"}],"owner":{"account_id":22199006,"reputation":3,"user_id":16439993,"display_name":"Saksham Gairola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73377249,"answer_count":2,"score":0,"last_activity_date":1678963337,"creation_date":1660664563,"question_id":73376702,"body_markdown":"So I am trying to send an email using `JavaMailSender`, `MimeMessage` and `MimeMessageHelper` and add an unsubscribe clickable link to the end of the mail. This is my `MailService` method\r\n\r\n    package com.emailScheduler.emailScheduler.Service;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.MimeMessageHelper;\r\n    import org.springframework.stereotype.Service;\r\n    import org.thymeleaf.spring5.SpringTemplateEngine;\r\n    \r\n    import javax.mail.MessagingException;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    @Service\r\n    public class MailService {\r\n    \r\n        @Autowired\r\n        private JavaMailSender javaMailSender;\r\n    \r\n        @Autowired\r\n        private SpringTemplateEngine springTemplateEngine;\r\n    \r\n        //Simple mail sender method\r\n        public void sendMail(String to, String sub, String msg){\r\n            SimpleMailMessage mailMessage = new SimpleMailMessage();\r\n    \r\n            mailMessage.setFrom(&quot;Sender Name&quot;);\r\n            mailMessage.setTo(to);\r\n            mailMessage.setSubject(sub);\r\n            mailMessage.setText(msg);\r\n    \r\n            javaMailSender.send(mailMessage);\r\n        }\r\n    \r\n        //HTML mail sender method\r\n        public void sendMail2 (String to, String sub, String msg) throws MessagingException, UnsupportedEncodingException {\r\n    \r\n            MimeMessage mailMessage = javaMailSender.createMimeMessage();\r\n            MimeMessageHelper messageHelper = new MimeMessageHelper(mailMessage);\r\n    \r\n            /*Context context = new Context();\r\n            context.setVariables(mailModel);*/\r\n    \r\n            String html =  &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= \\&quot;localhost:8080/unsubscribe\\&quot;&gt;unsubscribe1&lt;/a&gt;&quot;;\r\n            String html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= &#39;localhost:8080/unsubscribe&#39;&gt;unsubscribe2&lt;/a&gt;&quot;;\r\n            String html3 = html + html2;\r\n    \r\n            messageHelper.setFrom(&quot;senderemail@gmail.com&quot;, &quot;Sender Name&quot;);\r\n            messageHelper.setTo(to);\r\n            messageHelper.setSubject(sub);\r\n            messageHelper.setText(html3, true);\r\n    \r\n            System.out.println(html);\r\n            System.out.println(html2);\r\n    \r\n            javaMailSender.send(mailMessage);\r\n        }\r\n    }\r\nI can successfully send the eamil but in my mail body for some reason `unsubscribe`  is not shown as hyperlink but plain text, on inspecting in chrome browser&#39;s inspect element it shows like this `&lt;a&gt;unsubscribe1&lt;/a&gt;`\r\n\r\n","title":"href argument of anchor tag is not getting passed","body":"<p>So I am trying to send an email using <code>JavaMailSender</code>, <code>MimeMessage</code> and <code>MimeMessageHelper</code> and add an unsubscribe clickable link to the end of the mail. This is my <code>MailService</code> method</p>\n<pre><code>package com.emailScheduler.emailScheduler.Service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.stereotype.Service;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.io.UnsupportedEncodingException;\n\n@Service\npublic class MailService {\n\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    @Autowired\n    private SpringTemplateEngine springTemplateEngine;\n\n    //Simple mail sender method\n    public void sendMail(String to, String sub, String msg){\n        SimpleMailMessage mailMessage = new SimpleMailMessage();\n\n        mailMessage.setFrom(&quot;Sender Name&quot;);\n        mailMessage.setTo(to);\n        mailMessage.setSubject(sub);\n        mailMessage.setText(msg);\n\n        javaMailSender.send(mailMessage);\n    }\n\n    //HTML mail sender method\n    public void sendMail2 (String to, String sub, String msg) throws MessagingException, UnsupportedEncodingException {\n\n        MimeMessage mailMessage = javaMailSender.createMimeMessage();\n        MimeMessageHelper messageHelper = new MimeMessageHelper(mailMessage);\n\n        /*Context context = new Context();\n        context.setVariables(mailModel);*/\n\n        String html =  &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= \\&quot;localhost:8080/unsubscribe\\&quot;&gt;unsubscribe1&lt;/a&gt;&quot;;\n        String html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= 'localhost:8080/unsubscribe'&gt;unsubscribe2&lt;/a&gt;&quot;;\n        String html3 = html + html2;\n\n        messageHelper.setFrom(&quot;senderemail@gmail.com&quot;, &quot;Sender Name&quot;);\n        messageHelper.setTo(to);\n        messageHelper.setSubject(sub);\n        messageHelper.setText(html3, true);\n\n        System.out.println(html);\n        System.out.println(html2);\n\n        javaMailSender.send(mailMessage);\n    }\n}\n</code></pre>\n<p>I can successfully send the eamil but in my mail body for some reason <code>unsubscribe</code>  is not shown as hyperlink but plain text, on inspecting in chrome browser's inspect element it shows like this <code>&lt;a&gt;unsubscribe1&lt;/a&gt;</code></p>\n"},{"tags":["java","postgresql","multithreading","nomad"],"owner":{"account_id":8037606,"reputation":1,"user_id":6060271,"display_name":"Ulaga Sundar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678963252,"creation_date":1678963252,"question_id":75755087,"body_markdown":"I have a Java application that continuously checks for entries (i.e., services) in a database. If there are any entries in the database, the application schedules a new thread to continuously monitor the services. Now I need to enable scalability in this Java application and have a requirement to use Nomad for auto-scaling.\r\n\r\nAs far as I have analyzed in the Nomad documentation, it will scale the application based on the CPU, memory and other parameters used in the application using policies. In my case, if this Java application runs on two instances, it will duplicate the monitoring of the same services taken from the database.\r\n\r\n\r\n\r\nIs there any approach to customize the scaling policies to look up the database and share the services based on the entries in the database?","title":"Enabling Nomad Autoscaler in Multi threaded Java application","body":"<p>I have a Java application that continuously checks for entries (i.e., services) in a database. If there are any entries in the database, the application schedules a new thread to continuously monitor the services. Now I need to enable scalability in this Java application and have a requirement to use Nomad for auto-scaling.</p>\n<p>As far as I have analyzed in the Nomad documentation, it will scale the application based on the CPU, memory and other parameters used in the application using policies. In my case, if this Java application runs on two instances, it will duplicate the monitoring of the same services taken from the database.</p>\n<p>Is there any approach to customize the scaling policies to look up the database and share the services based on the entries in the database?</p>\n"},{"tags":["java","eclipse","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1424051756,"post_id":28533467,"comment_id":45381700,"body_markdown":"You mean something like load the values from a configuration file?","body":"You mean something like load the values from a configuration file?"},{"owner":{"display_name":"user4570222"},"score":0,"creation_date":1424055368,"post_id":28533467,"comment_id":45382443,"body_markdown":"Im not sure but ill look into configuration file.","body":"Im not sure but ill look into configuration file."}],"answers":[{"comments":[{"owner":{"display_name":"user4570222"},"score":0,"creation_date":1424059372,"post_id":28534155,"comment_id":45383272,"body_markdown":"alright thanks man, this helps, ill let you know the end result!","body":"alright thanks man, this helps, ill let you know the end result!"},{"owner":{"display_name":"user4570222"},"score":0,"creation_date":1424134160,"post_id":28534155,"comment_id":45418661,"body_markdown":"Sorry to bother you, but i was wondering if you could help me implement it into my code, or if there is a good tutorial on how to use configuration files?","body":"Sorry to bother you, but i was wondering if you could help me implement it into my code, or if there is a good tutorial on how to use configuration files?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1424134306,"post_id":28534155,"comment_id":45418711,"body_markdown":"[Basic I/O](http://docs.oracle.com/javase/tutorial/essential/io/) and [Properties Trail](http://docs.oracle.com/javase/tutorial/essential/environment/properties.html) for the basics.  If you really want to be scared, [Introduction to JAXB](http://docs.oracle.com/javase/tutorial/jaxb/intro/)","body":"<a href=\"http://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow noreferrer\">Basic I/O</a> and <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/properties.html\" rel=\"nofollow noreferrer\">Properties Trail</a> for the basics.  If you really want to be scared, <a href=\"http://docs.oracle.com/javase/tutorial/jaxb/intro/\" rel=\"nofollow noreferrer\">Introduction to JAXB</a>"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678963099,"creation_date":1424057642,"answer_id":28534155,"question_id":28533467,"body_markdown":"So, to start with, you need some way to capture the information you want.  Basically, you need the message and the keystroke.  The keystroke consists of the virtual key and the modifiers.\r\n\r\nThe following example basically provides a means by which the user can type a message text and a key stroke.  The capture pane uses a `KeyListener` to monitor for key events and by extracting various values from the key event, it will then store the information it needs and displays the key character to the user.\r\n\r\nYou can the save this information to a `Properties` file which you can later load...\r\n\r\n![KeyStroke][1]\r\n\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.awt.Insets;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.awt.event.FocusEvent;\r\n\timport java.awt.event.FocusListener;\r\n\timport java.awt.event.KeyAdapter;\r\n\timport java.awt.event.KeyEvent;\r\n\timport java.awt.event.MouseAdapter;\r\n\timport java.awt.event.MouseEvent;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.io.OutputStream;\r\n\timport java.util.Properties;\r\n\timport javax.swing.BorderFactory;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JTextField;\r\n\timport javax.swing.KeyStroke;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\timport javax.swing.border.Border;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test ();\r\n\t\t}\r\n\r\n\t\tpublic Test () {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new ConfigurationPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class ConfigurationPane extends JPanel {\r\n\r\n\t\t\tprivate KeyPressPane keyPressPane;\r\n\t\t\tprivate JTextField name;\r\n\r\n\t\t\tpublic ConfigurationPane() {\r\n\r\n\t\t\t\tname = new JTextField(10);\r\n\t\t\t\tkeyPressPane = new KeyPressPane();\r\n\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.insets = new Insets(4, 4, 4, 4);\r\n\t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\t\t\t\tgbc.anchor = GridBagConstraints.CENTER;\r\n\t\t\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n\t\t\t\tadd(name, gbc);\r\n\t\t\t\tadd(keyPressPane, gbc);\r\n\r\n\t\t\t\tJButton save = new JButton(&quot;Save&quot;);\r\n\t\t\t\tsave.addActionListener(new ActionListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tProperties p = new Properties();\r\n\t\t\t\t\t\tp.setProperty(&quot;name&quot;, name.getText());\r\n\t\t\t\t\t\tp.setProperty(&quot;keyCode&quot;, Integer.toString(keyPressPane.getKeyCode()));\r\n\t\t\t\t\t\tp.setProperty(&quot;modifiers&quot;, Integer.toString(keyPressPane.getModifiers()));\r\n\r\n\t\t\t\t\t\ttry (OutputStream os = new FileOutputStream(new File(&quot;Config.cfg&quot;))) {\r\n\t\t\t\t\t\t\tp.store(os, &quot;Key config&quot;);\r\n\t\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tadd(save);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic static class KeyPressPane extends JPanel {\r\n\r\n\t\t\tprotected static final Border FOCUSED_BORDER = BorderFactory.createLineBorder(UIManager.getColor(&quot;List.selectionBackground&quot;));\r\n\t\t\tprotected static final Border UNFOCUSED_BORDER = UIManager.getBorder(&quot;TextField.border&quot;);\r\n\r\n\t\t\tprivate JLabel label;\r\n\r\n\t\t\tprivate int keyCode;\r\n\t\t\tprivate int modifiers;\r\n\t\t\tprivate char key;\r\n\r\n\t\t\tpublic KeyPressPane() {\r\n\r\n\t\t\t\tsetBackground(UIManager.getColor(&quot;TextField.background&quot;));\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tlabel = new JLabel(&quot; &quot;);\r\n\t\t\t\tlabel.setFont(UIManager.getFont(&quot;Label.font&quot;).deriveFont(48f));\r\n\t\t\t\tadd(label);\r\n\t\t\t\taddKeyListener(new KeyAdapter() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\t\t\tkeyCode = e.getKeyCode();\r\n\t\t\t\t\t\tmodifiers = e.getModifiers();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t\t\t\tchar key = e.getKeyChar();\r\n\t\t\t\t\t\tlabel.setText(Character.toString(key));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\trequestFocusInWindow();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\taddFocusListener(new FocusListener() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void focusGained(FocusEvent e) {\r\n\t\t\t\t\t\tsetBorder(FOCUSED_BORDER);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void focusLost(FocusEvent e) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;unfocused&quot;);\r\n\t\t\t\t\t\tsetBorder(UNFOCUSED_BORDER);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetBorder(UNFOCUSED_BORDER);\r\n\t\t\t\tsetFocusable(true);\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getKeyCode() {\r\n\t\t\t\treturn keyCode;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getModifiers() {\r\n\t\t\t\treturn modifiers;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nYou then need to load the `Properties` file and create a new `KeyStroke`...\r\n\r\n    Properties p = new Properties();\r\n\ttry (InputStream is = new FileInputStream(new File(&quot;Config.cfg&quot;))) {\r\n\t\tp.load(is);\r\n\r\n\t\tString name = p.getProperty(&quot;name&quot;);\r\n\t\tint keyCode = Integer.parseInt(p.getProperty(&quot;keyCode&quot;));\r\n\t\tint modifiers = Integer.parseInt(p.getProperty(&quot;modifiers&quot;));\r\n\r\n\t\tKeyStroke ks = KeyStroke.getKeyStroke(keyCode, modifiers);\r\n\t\tSystem.out.println(ks);\r\n\r\n\t} catch (IOException exp) {\r\n\t\texp.printStackTrace();\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ECT6n.png","title":"New to java GUI and i have questions","body":"<p>So, to start with, you need some way to capture the information you want.  Basically, you need the message and the keystroke.  The keystroke consists of the virtual key and the modifiers.</p>\n<p>The following example basically provides a means by which the user can type a message text and a key stroke.  The capture pane uses a <code>KeyListener</code> to monitor for key events and by extracting various values from the key event, it will then store the information it needs and displays the key character to the user.</p>\n<p>You can the save this information to a <code>Properties</code> file which you can later load...</p>\n<p><img src=\"https://i.stack.imgur.com/ECT6n.png\" alt=\"KeyStroke\" /></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.FocusListener;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Properties;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.Border;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test ();\n    }\n\n    public Test () {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new ConfigurationPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ConfigurationPane extends JPanel {\n\n        private KeyPressPane keyPressPane;\n        private JTextField name;\n\n        public ConfigurationPane() {\n\n            name = new JTextField(10);\n            keyPressPane = new KeyPressPane();\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n\n            add(name, gbc);\n            add(keyPressPane, gbc);\n\n            JButton save = new JButton(&quot;Save&quot;);\n            save.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    Properties p = new Properties();\n                    p.setProperty(&quot;name&quot;, name.getText());\n                    p.setProperty(&quot;keyCode&quot;, Integer.toString(keyPressPane.getKeyCode()));\n                    p.setProperty(&quot;modifiers&quot;, Integer.toString(keyPressPane.getModifiers()));\n\n                    try (OutputStream os = new FileOutputStream(new File(&quot;Config.cfg&quot;))) {\n                        p.store(os, &quot;Key config&quot;);\n                    } catch (IOException ex) {\n                        ex.printStackTrace();\n                    }\n                }\n            });\n            add(save);\n\n        }\n\n    }\n\n    public static class KeyPressPane extends JPanel {\n\n        protected static final Border FOCUSED_BORDER = BorderFactory.createLineBorder(UIManager.getColor(&quot;List.selectionBackground&quot;));\n        protected static final Border UNFOCUSED_BORDER = UIManager.getBorder(&quot;TextField.border&quot;);\n\n        private JLabel label;\n\n        private int keyCode;\n        private int modifiers;\n        private char key;\n\n        public KeyPressPane() {\n\n            setBackground(UIManager.getColor(&quot;TextField.background&quot;));\n            setLayout(new GridBagLayout());\n            label = new JLabel(&quot; &quot;);\n            label.setFont(UIManager.getFont(&quot;Label.font&quot;).deriveFont(48f));\n            add(label);\n            addKeyListener(new KeyAdapter() {\n\n                @Override\n                public void keyPressed(KeyEvent e) {\n                    keyCode = e.getKeyCode();\n                    modifiers = e.getModifiers();\n                }\n\n                @Override\n                public void keyTyped(KeyEvent e) {\n                    char key = e.getKeyChar();\n                    label.setText(Character.toString(key));\n                }\n            });\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    requestFocusInWindow();\n                }\n            });\n            addFocusListener(new FocusListener() {\n\n                @Override\n                public void focusGained(FocusEvent e) {\n                    setBorder(FOCUSED_BORDER);\n                }\n\n                @Override\n                public void focusLost(FocusEvent e) {\n                    System.out.println(&quot;unfocused&quot;);\n                    setBorder(UNFOCUSED_BORDER);\n                }\n            });\n            setBorder(UNFOCUSED_BORDER);\n            setFocusable(true);\n        }\n\n        public int getKeyCode() {\n            return keyCode;\n        }\n\n        public int getModifiers() {\n            return modifiers;\n        }\n\n    }\n\n}\n</code></pre>\n<p>You then need to load the <code>Properties</code> file and create a new <code>KeyStroke</code>...</p>\n<pre><code>Properties p = new Properties();\ntry (InputStream is = new FileInputStream(new File(&quot;Config.cfg&quot;))) {\n    p.load(is);\n\n    String name = p.getProperty(&quot;name&quot;);\n    int keyCode = Integer.parseInt(p.getProperty(&quot;keyCode&quot;));\n    int modifiers = Integer.parseInt(p.getProperty(&quot;modifiers&quot;));\n\n    KeyStroke ks = KeyStroke.getKeyStroke(keyCode, modifiers);\n    System.out.println(ks);\n\n} catch (IOException exp) {\n    exp.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"display_name":"user4570222"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28534155,"answer_count":1,"score":0,"last_activity_date":1678963099,"creation_date":1424051626,"question_id":28533467,"body_markdown":"Im making a bot for my friend who is on twitch, and he forgets to switch from his &quot;brb&quot; scene to his &quot;game&quot; scene on xsplit, so he wanted to make something where the mods could change or control somethings on his computer if he forgot.  it was easy making a bot for that.\r\n\r\nThe code was easy to make and it is like this.\r\n\r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    import org.jibble.pircbot.*;\r\n    \r\n    public class Twitchbot extends PircBot {\r\n    \t\r\n    \tpublic Twitchbot() {\r\n    \t\tthis.setName(&quot;Rex__Bot&quot;);\r\n    \t}\r\n        \r\n    \t\r\n    \tpublic void onMessage(String channel, String sender, String login, String hostname, String message) {\r\n    \t\t\r\n    \t\tif(message.equals(&quot;Something&quot;)) {\r\n    \t\t\ttry {\r\n    \t\t\t\tRobot r = new Robot();\r\n    \t\t\t\tr.keyPress(KeyEvent.VK_Something);\r\n    \t\t\t\tr.delay(300);\r\n    \t\t\t\tr.keyRelease(KeyEvent.VK_Something);\r\n    \t\t\t\t\r\n    \t\t\t}catch(Exception ex) {\r\n    \t\t\t\tex.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n       }\r\n    }\r\n\r\nAnd i was wondering if there was a way to make a GUI to change the Letter that the message equals to and the keyevent.VK_Something to something different with the GUI so it would be easy for him to edit it.\r\n\r\n\r\n\r\n","title":"New to java GUI and i have questions","body":"<p>Im making a bot for my friend who is on twitch, and he forgets to switch from his \"brb\" scene to his \"game\" scene on xsplit, so he wanted to make something where the mods could change or control somethings on his computer if he forgot.  it was easy making a bot for that.</p>\n\n<p>The code was easy to make and it is like this.</p>\n\n<pre><code>import java.awt.Robot;\nimport java.awt.event.KeyEvent;\n\nimport org.jibble.pircbot.*;\n\npublic class Twitchbot extends PircBot {\n\n    public Twitchbot() {\n        this.setName(\"Rex__Bot\");\n    }\n\n\n    public void onMessage(String channel, String sender, String login, String hostname, String message) {\n\n        if(message.equals(\"Something\")) {\n            try {\n                Robot r = new Robot();\n                r.keyPress(KeyEvent.VK_Something);\n                r.delay(300);\n                r.keyRelease(KeyEvent.VK_Something);\n\n            }catch(Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n\n   }\n}\n</code></pre>\n\n<p>And i was wondering if there was a way to make a GUI to change the Letter that the message equals to and the keyevent.VK_Something to something different with the GUI so it would be easy for him to edit it.</p>\n"},{"tags":["java","javadoc","maven-javadoc-plugin"],"answers":[{"comments":[{"owner":{"account_id":11513487,"reputation":161,"user_id":8437499,"accept_rate":25,"display_name":"taetaetae"},"score":0,"creation_date":1678971279,"post_id":75755008,"comment_id":133638537,"body_markdown":"Thanks for the advice.\nIn the module you gave as an example (some.group.id2:artifactId2), what should we do?","body":"Thanks for the advice. In the module you gave as an example (some.group.id2:artifactId2), what should we do?"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1678983784,"post_id":75755008,"comment_id":133642691,"body_markdown":"this is just a reference to the dependency you want to see in generated docs. in your case it&#39;s module B.","body":"this is just a reference to the dependency you want to see in generated docs. in your case it&#39;s module B."},{"owner":{"account_id":11513487,"reputation":161,"user_id":8437499,"accept_rate":25,"display_name":"taetaetae"},"score":0,"creation_date":1678984117,"post_id":75755008,"comment_id":133642810,"body_markdown":"I&#39;ve posted a separate question in https://stackoverflow.com/questions/75758892/how-can-we-include-javadocs-in-a-javamodule-deployment , but I&#39;m also curious about the pom configuration for module B. What should be the configuration for module B?","body":"I&#39;ve posted a separate question in <a href=\"https://stackoverflow.com/questions/75758892/how-can-we-include-javadocs-in-a-javamodule-deployment\" title=\"how can we include javadocs in a javamodule deployment\">stackoverflow.com/questions/75758892/&hellip;</a> , but I&#39;m also curious about the pom configuration for module B. What should be the configuration for module B?"}],"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678962881,"creation_date":1678962881,"answer_id":75755008,"question_id":75754666,"body_markdown":"You can explicitly add dependencies into javadoc generation:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;sourcepath&gt;${basedir}/src/main/java&lt;/sourcepath&gt;\r\n        &lt;includeDependencySources&gt;true&lt;/includeDependencySources&gt;\r\n        &lt;dependencySourceIncludes&gt;\r\n            &lt;dependencySourceInclude&gt;some.group.id1:*&lt;/dependencySourceInclude&gt;\r\n            &lt;dependencySourceInclude&gt;some.group.id2:artifactId2&lt;/dependencySourceInclude&gt;\r\n        &lt;/dependencySourceIncludes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nSource:\r\nhttps://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate-dependency-sources.html#fine-tuning-included-dependencies","title":"I&#39;m using the maven-javadoc-plugin, how can I include documentation from other modules together?","body":"<p>You can explicitly add dependencies into javadoc generation:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;sourcepath&gt;${basedir}/src/main/java&lt;/sourcepath&gt;\n        &lt;includeDependencySources&gt;true&lt;/includeDependencySources&gt;\n        &lt;dependencySourceIncludes&gt;\n            &lt;dependencySourceInclude&gt;some.group.id1:*&lt;/dependencySourceInclude&gt;\n            &lt;dependencySourceInclude&gt;some.group.id2:artifactId2&lt;/dependencySourceInclude&gt;\n        &lt;/dependencySourceIncludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Source:\n<a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate-dependency-sources.html#fine-tuning-included-dependencies\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate-dependency-sources.html#fine-tuning-included-dependencies</a></p>\n"}],"owner":{"account_id":11513487,"reputation":161,"user_id":8437499,"accept_rate":25,"display_name":"taetaetae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678962881,"creation_date":1678961074,"question_id":75754666,"body_markdown":"I have two modules, A and B, and A depends on B. They are completely separate, and B is deployed and used in an internal repository.\r\n\r\nYou want to use the maven-javadoc-plugin for documentation in A, but you also want to include the contents of B&#39;s dependent modules. For example, you might have something like this\r\n\r\n``` \r\nRespostDTO testMethod(int a) { // blabla } \r\n```\r\n\r\nAssuming we have the above method in A&#39;s module, `RespostDTO` is B&#39;s module code. In this case, we want to see the JavaDoc corresponding to `RespostDTO` in the documentation created in A. How can we do this?\r\n\r\nWhat should I do for A and B modules?","title":"I&#39;m using the maven-javadoc-plugin, how can I include documentation from other modules together?","body":"<p>I have two modules, A and B, and A depends on B. They are completely separate, and B is deployed and used in an internal repository.</p>\n<p>You want to use the maven-javadoc-plugin for documentation in A, but you also want to include the contents of B's dependent modules. For example, you might have something like this</p>\n<pre><code>RespostDTO testMethod(int a) { // blabla } \n</code></pre>\n<p>Assuming we have the above method in A's module, <code>RespostDTO</code> is B's module code. In this case, we want to see the JavaDoc corresponding to <code>RespostDTO</code> in the documentation created in A. How can we do this?</p>\n<p>What should I do for A and B modules?</p>\n"},{"tags":["java","docker","debugging"],"owner":{"account_id":20667370,"reputation":1,"user_id":16498081,"display_name":"PavelOz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678962773,"creation_date":1678962742,"question_id":75754962,"body_markdown":"I really need help! I try debug my app in docker container, use this manual https://www.baeldung.com/docker-debug-app-with-intellij, but every time vhen i start debug process i have the same problem:\r\nUnable to open debugger port (localhost:8080): java.io.IOException &quot;handshake failed - connection prematurally closed&quot;. \r\nMaybe i shold set &quot;JAVA_TOOL_OPTIONS&quot; variable the same way like JAVA_HOME? \r\n\r\n\r\nI try do it like in the tutorial, but its always have error","title":"How to dedug docker be remote jvm","body":"<p>I really need help! I try debug my app in docker container, use this manual <a href=\"https://www.baeldung.com/docker-debug-app-with-intellij\" rel=\"nofollow noreferrer\">https://www.baeldung.com/docker-debug-app-with-intellij</a>, but every time vhen i start debug process i have the same problem:\nUnable to open debugger port (localhost:8080): java.io.IOException &quot;handshake failed - connection prematurally closed&quot;.\nMaybe i shold set &quot;JAVA_TOOL_OPTIONS&quot; variable the same way like JAVA_HOME?</p>\n<p>I try do it like in the tutorial, but its always have error</p>\n"},{"tags":["java","swing","keylistener"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635325151,"post_id":69735640,"comment_id":123264570,"body_markdown":"1. Don&#39;t add a `KeyListener` to a `JTextField`, this is just a bad idea.  If you want to monitor input into the `JTextField`, use a `DocumentListener` on the field&#39;s `Document`.  If you want to monitor &quot;general&quot; keyboard input, then make use of the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead.  2. Don&#39;t call `Thread.sleep` from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)","body":"1. Don&#39;t add a <code>KeyListener</code> to a <code>JTextField</code>, this is just a bad idea.  If you want to monitor input into the <code>JTextField</code>, use a <code>DocumentListener</code> on the field&#39;s <code>Document</code>.  If you want to monitor &quot;general&quot; keyboard input, then make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a> instead.  2. Don&#39;t call <code>Thread.sleep</code> from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635325214,"post_id":69735640,"comment_id":123264602,"body_markdown":"The &quot;answer&quot; to your question is, you need some kind of observer between you &quot;key handler&quot; and the main program, so the &quot;key handler&quot; can generate appropriate events to which the &quot;main&quot; program can response and take action","body":"The &quot;answer&quot; to your question is, you need some kind of observer between you &quot;key handler&quot; and the main program, so the &quot;key handler&quot; can generate appropriate events to which the &quot;main&quot; program can response and take action"},{"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"score":0,"creation_date":1635325382,"post_id":69735640,"comment_id":123264672,"body_markdown":"so what is the observer that I need to add?\nI am new so I don&#39;t know much","body":"so what is the observer that I need to add? I am new so I don&#39;t know much"},{"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"score":0,"creation_date":1635325599,"post_id":69735640,"comment_id":123264779,"body_markdown":"I saw the key bindings API but the action is confined to java.swing.Action only whereas I need a image displaying action.","body":"I saw the key bindings API but the action is confined to java.swing.Action only whereas I need a image displaying action."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635326280,"post_id":69735640,"comment_id":123265064,"body_markdown":"You miss understand the nature of the API - the `Action` triggered by a key event in turn then triggers some other kind of action (ie an observer call back).  The `Action` is just acting as a mechanism to &quot;contain&quot; what should occur when the key is triggered","body":"You miss understand the nature of the API - the <code>Action</code> triggered by a key event in turn then triggers some other kind of action (ie an observer call back).  The <code>Action</code> is just acting as a mechanism to &quot;contain&quot; what should occur when the key is triggered"}],"answers":[{"comments":[{"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"score":0,"creation_date":1635345683,"post_id":69736156,"comment_id":123273921,"body_markdown":"So I got this code now but it shows identifier and semi colon needed at the input and action map part\n`\nclass component extends JComponent\n{\n\tJLabel y;\n\n\tAbstractAction smth = new AbstractAction() \n\t{\n\t\t@Override\n\t\tpublic void actionPerformed(ActionEvent e) \n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tBufferedImage x = ImageIO.read(this.getClass().getResource(&quot;file path&quot;));\n\t\t\t\ty = new JLabel(new ImageIcon(x));\n\t\t\t}\n\t\t\tcatch (IOException e) \n\t\t\t{\n\t\t\t}\n\t\t}\n\t};\n\t y.getInputMap().put(KeyStroke.getKeyStroke(&quot;ESCAPE&quot;),\n                            &quot;z&quot;);\n\t y.getActionMap().put(&quot;z&quot;, smth);\n}\n`","body":"So I got this code now but it shows identifier and semi colon needed at the input and action map part ` class component extends JComponent { \tJLabel y;  \tAbstractAction smth = new AbstractAction()  \t{ \t\t@Override \t\tpublic void actionPerformed(ActionEvent e)  \t\t{ \t\t\ttry \t\t\t{ \t\t\t\tBufferedImage x = ImageIO.read(this.getClass().getResource(&quot;file path&quot;)); \t\t\t\ty = new JLabel(new ImageIcon(x)); \t\t\t} \t\t\tcatch (IOException e)  \t\t\t{ \t\t\t} \t\t} \t}; \t y.getInputMap().put(KeyStroke.getKeyStroke(&quot;ESCAPE&quot;),                             &quot;z&quot;); \t y.getActionMap().put(&quot;z&quot;, smth); } `"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635367070,"post_id":69736156,"comment_id":123282291,"body_markdown":"You have conflicting declarations around `e`.  `e` is defined as both a `ActionEvent` and a `IOException`.  Also, base on the snippet, you&#39;re trying to execute code out side of an execution context (ie constructor or method)","body":"You have conflicting declarations around <code>e</code>.  <code>e</code> is defined as both a <code>ActionEvent</code> and a <code>IOException</code>.  Also, base on the snippet, you&#39;re trying to execute code out side of an execution context (ie constructor or method)"},{"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"score":0,"creation_date":1635406100,"post_id":69736156,"comment_id":123290312,"body_markdown":"So I got the e part, but what would the solution be for the code outside execution context part?","body":"So I got the e part, but what would the solution be for the code outside execution context part?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635406948,"post_id":69736156,"comment_id":123290618,"body_markdown":"@HamLemon You need to put into a method or constructor - this is basic Java 101","body":"@HamLemon You need to put into a method or constructor - this is basic Java 101"},{"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"score":0,"creation_date":1635439685,"post_id":69736156,"comment_id":123305227,"body_markdown":"Oh yeah sorry, thank you @MadProgrammer","body":"Oh yeah sorry, thank you @MadProgrammer"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678962760,"creation_date":1635327250,"answer_id":69736156,"question_id":69735640,"body_markdown":"The &quot;basic&quot; answer to your question is, you need to use some kind of &quot;observer pattern&quot;.\r\n\r\nThe intention is, your &quot;key handler&quot; is going to monitor some kind of keyboard input, when some trigger occurs (a particular key is pressed), it will notify all interested observers of the said action.\r\n\r\nSwing calls these &quot;listeners&quot;, so, you&#39;ve already seen them in action.\r\n\r\n1. Don&#39;t add a `KeyListener` to a `JTextField`, this is just a bad idea. If you want to monitor input into the `JTextField`, use a `DocumentListener` on the field&#39;s `Document`. If you want to monitor &quot;general&quot; keyboard input, then make use of the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead. \r\n2. Don&#39;t call `Thread.sleep` from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)\r\n\r\nThe following example makes use the key bindings API to monitor &lt;kbd&gt;Q&lt;/kbd&gt;, &lt;kbd&gt;W&lt;/kbd&gt;, &lt;kbd&gt;E&lt;/kbd&gt;, &lt;kbd&gt;S&lt;/kbd&gt;, &lt;kbd&gt;D&lt;/kbd&gt;, &lt;kbd&gt;Z&lt;/kbd&gt;, &lt;kbd&gt;X&lt;/kbd&gt;, &lt;kbd&gt;C&lt;/kbd&gt; as a simple representation of 8 directions.\r\n\r\nThe example makes use of a simple &quot;listener&quot; which notifies the interested party that some direction has been pressed.  You&#39;re not limited to a single method, you could, for example have methods mapped directly to a specific action ie, `keyHandlerPerformExit` which is called when some &quot;exit&quot; key sequence is triggered.\r\n\r\nThe example also allows the `Action` to trigger a call back directly to the `KeyHanderListener`, again, you don&#39;t need to do this, you could have the `Action` call back a method in the `KeyHandler` and it could then perform some additional calculations or operations and then, based on what ever it is you want to do, then notify the listener\r\n\r\n[![HappyKeys][1]][1]\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.LineBorder;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n    \r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n    \r\n            private Map&lt;KeyHandler.Direction, JPanel&gt; mapPanels;\r\n            private KeyHandler keyHandler;\r\n    \r\n            public TestPane() {\r\n                mapPanels = new HashMap&lt;&gt;();\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n    \r\n                add(createPanel(KeyHandler.Direction.LEFT_UP), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.UP), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.RIGHT_UP), gbc);\r\n    \r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                add(createPanel(KeyHandler.Direction.LEFT), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.RIGHT), gbc);\r\n    \r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                add(createPanel(KeyHandler.Direction.LEFT_DOWN), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.DOWN), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.RIGHT_DOWN), gbc);\r\n                \r\n                keyHandler = new KeyHandler(getInputMap(WHEN_IN_FOCUSED_WINDOW), getActionMap(), new KeyHandlerListener() {\r\n                    @Override\r\n                    public void keyHandlerDidPress(KeyHandler.Direction direction) {\r\n                        activate(direction);\r\n                    }\r\n                });\r\n            }\r\n            \r\n            protected JPanel createPanel() {\r\n                JPanel panel = new JPanel() {\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(50, 50);\r\n                    }\r\n                };\r\n                panel.setBorder(new LineBorder(Color.DARK_GRAY));\r\n                return panel;\r\n            }\r\n    \r\n            protected JPanel createPanel(KeyHandler.Direction direction) {\r\n                JPanel panel = createPanel();\r\n                mapPanels.put(direction, panel);\r\n                return panel;\r\n            }\r\n            \r\n            protected void activate(KeyHandler.Direction direction) {\r\n                JPanel panel = mapPanels.get(direction);\r\n                panel.setBackground(Color.BLUE);\r\n                Timer timer = new Timer(250, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        panel.setBackground(null);\r\n                    }\r\n                });\r\n                timer.setRepeats(false);\r\n                timer.start();\r\n            }\r\n    \r\n        }\r\n    \r\n        public interface KeyHandlerListener {\r\n    \r\n            public void keyHandlerDidPress(KeyHandler.Direction direction);\r\n        }\r\n    \r\n        public class KeyHandler {\r\n    \r\n            public enum Direction {\r\n                UP, DOWN, LEFT, RIGHT,\r\n                LEFT_UP, RIGHT_UP,\r\n                LEFT_DOWN, RIGHT_DOWN\r\n            }\r\n    \r\n            public KeyHandler(InputMap inputMap, ActionMap actionMap, KeyHandlerListener listener) {\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Q, 0), &quot;Press.leftUp&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;Press.up&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_E, 0), &quot;Press.rightUp&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;Press.left&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;Press.right&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Z, 0), &quot;Press.leftDown&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_X, 0), &quot;Press.down&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0), &quot;Press.rightDown&quot;);\r\n                \r\n                actionMap.put(&quot;Press.leftUp&quot;, new DirectionAction(Direction.LEFT_UP, listener));\r\n                actionMap.put(&quot;Press.up&quot;, new DirectionAction(Direction.UP, listener));\r\n                actionMap.put(&quot;Press.rightUp&quot;, new DirectionAction(Direction.RIGHT_UP, listener));\r\n                actionMap.put(&quot;Press.left&quot;, new DirectionAction(Direction.LEFT, listener));\r\n                actionMap.put(&quot;Press.right&quot;, new DirectionAction(Direction.RIGHT, listener));\r\n                actionMap.put(&quot;Press.leftDown&quot;, new DirectionAction(Direction.LEFT_DOWN, listener));\r\n                actionMap.put(&quot;Press.down&quot;, new DirectionAction(Direction.DOWN, listener));\r\n                actionMap.put(&quot;Press.rightDown&quot;, new DirectionAction(Direction.RIGHT_DOWN, listener));\r\n            }\r\n    \r\n            protected class DirectionAction extends AbstractAction {\r\n    \r\n                private Direction direction;\r\n                private KeyHandlerListener listener;\r\n    \r\n                public DirectionAction(Direction direction, KeyHandlerListener listener) {\r\n                    this.direction = direction;\r\n                    this.listener = listener;\r\n                }\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    listener.keyHandlerDidPress(direction);\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVOId.gif","title":"How to add JLabel of KeyListener object in Jframe of Main class","body":"<p>The &quot;basic&quot; answer to your question is, you need to use some kind of &quot;observer pattern&quot;.</p>\n<p>The intention is, your &quot;key handler&quot; is going to monitor some kind of keyboard input, when some trigger occurs (a particular key is pressed), it will notify all interested observers of the said action.</p>\n<p>Swing calls these &quot;listeners&quot;, so, you've already seen them in action.</p>\n<ol>\n<li>Don't add a <code>KeyListener</code> to a <code>JTextField</code>, this is just a bad idea. If you want to monitor input into the <code>JTextField</code>, use a <code>DocumentListener</code> on the field's <code>Document</code>. If you want to monitor &quot;general&quot; keyboard input, then make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a> instead.</li>\n<li>Don't call <code>Thread.sleep</code> from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)</li>\n</ol>\n<p>The following example makes use the key bindings API to monitor <kbd>Q</kbd>, <kbd>W</kbd>, <kbd>E</kbd>, <kbd>S</kbd>, <kbd>D</kbd>, <kbd>Z</kbd>, <kbd>X</kbd>, <kbd>C</kbd> as a simple representation of 8 directions.</p>\n<p>The example makes use of a simple &quot;listener&quot; which notifies the interested party that some direction has been pressed.  You're not limited to a single method, you could, for example have methods mapped directly to a specific action ie, <code>keyHandlerPerformExit</code> which is called when some &quot;exit&quot; key sequence is triggered.</p>\n<p>The example also allows the <code>Action</code> to trigger a call back directly to the <code>KeyHanderListener</code>, again, you don't need to do this, you could have the <code>Action</code> call back a method in the <code>KeyHandler</code> and it could then perform some additional calculations or operations and then, based on what ever it is you want to do, then notify the listener</p>\n<p><a href=\"https://i.stack.imgur.com/hVOId.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVOId.gif\" alt=\"HappyKeys\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\nimport javax.swing.border.LineBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Map&lt;KeyHandler.Direction, JPanel&gt; mapPanels;\n        private KeyHandler keyHandler;\n\n        public TestPane() {\n            mapPanels = new HashMap&lt;&gt;();\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            add(createPanel(KeyHandler.Direction.LEFT_UP), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.UP), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.RIGHT_UP), gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            add(createPanel(KeyHandler.Direction.LEFT), gbc);\n            gbc.gridx++;\n            add(createPanel(), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.RIGHT), gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            add(createPanel(KeyHandler.Direction.LEFT_DOWN), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.DOWN), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.RIGHT_DOWN), gbc);\n            \n            keyHandler = new KeyHandler(getInputMap(WHEN_IN_FOCUSED_WINDOW), getActionMap(), new KeyHandlerListener() {\n                @Override\n                public void keyHandlerDidPress(KeyHandler.Direction direction) {\n                    activate(direction);\n                }\n            });\n        }\n        \n        protected JPanel createPanel() {\n            JPanel panel = new JPanel() {\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(50, 50);\n                }\n            };\n            panel.setBorder(new LineBorder(Color.DARK_GRAY));\n            return panel;\n        }\n\n        protected JPanel createPanel(KeyHandler.Direction direction) {\n            JPanel panel = createPanel();\n            mapPanels.put(direction, panel);\n            return panel;\n        }\n        \n        protected void activate(KeyHandler.Direction direction) {\n            JPanel panel = mapPanels.get(direction);\n            panel.setBackground(Color.BLUE);\n            Timer timer = new Timer(250, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    panel.setBackground(null);\n                }\n            });\n            timer.setRepeats(false);\n            timer.start();\n        }\n\n    }\n\n    public interface KeyHandlerListener {\n\n        public void keyHandlerDidPress(KeyHandler.Direction direction);\n    }\n\n    public class KeyHandler {\n\n        public enum Direction {\n            UP, DOWN, LEFT, RIGHT,\n            LEFT_UP, RIGHT_UP,\n            LEFT_DOWN, RIGHT_DOWN\n        }\n\n        public KeyHandler(InputMap inputMap, ActionMap actionMap, KeyHandlerListener listener) {\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Q, 0), &quot;Press.leftUp&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;Press.up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_E, 0), &quot;Press.rightUp&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;Press.left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;Press.right&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Z, 0), &quot;Press.leftDown&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_X, 0), &quot;Press.down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0), &quot;Press.rightDown&quot;);\n            \n            actionMap.put(&quot;Press.leftUp&quot;, new DirectionAction(Direction.LEFT_UP, listener));\n            actionMap.put(&quot;Press.up&quot;, new DirectionAction(Direction.UP, listener));\n            actionMap.put(&quot;Press.rightUp&quot;, new DirectionAction(Direction.RIGHT_UP, listener));\n            actionMap.put(&quot;Press.left&quot;, new DirectionAction(Direction.LEFT, listener));\n            actionMap.put(&quot;Press.right&quot;, new DirectionAction(Direction.RIGHT, listener));\n            actionMap.put(&quot;Press.leftDown&quot;, new DirectionAction(Direction.LEFT_DOWN, listener));\n            actionMap.put(&quot;Press.down&quot;, new DirectionAction(Direction.DOWN, listener));\n            actionMap.put(&quot;Press.rightDown&quot;, new DirectionAction(Direction.RIGHT_DOWN, listener));\n        }\n\n        protected class DirectionAction extends AbstractAction {\n\n            private Direction direction;\n            private KeyHandlerListener listener;\n\n            public DirectionAction(Direction direction, KeyHandlerListener listener) {\n                this.direction = direction;\n                this.listener = listener;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                listener.keyHandlerDidPress(direction);\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69736156,"answer_count":1,"score":0,"last_activity_date":1678962760,"creation_date":1635324987,"question_id":69735640,"body_markdown":"I am a bit to new to this Java bit of coding. The problem is that I have a different class for KeyListener and an image that I want to display if the user presses a key, but the image is from JLabel and I want to add it in JFrame of the main class but I am not understanding how I would do that.\r\nYes I did see another question, this one: \r\nhttps://stackoverflow.com/questions/33116043/how-i-add-a-jlabel-to-a-jframe-on-another-class\r\nbut I can&#39;t do the suggested method in my code because Key Listener when called in the main method will only process the KeyListening part when called like : jframe.add(new KeyListener()) something like that, but the image will not be added because it is contained in a JLabel and JLabel is not added to JFrame. \r\nHere is my bit of Code of KeyListener:\r\n```\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\nclass MKeyListener extends KeyAdapter\r\n{\r\n  static int n = 0;\r\n    @Override\r\n    public void keyPressed(KeyEvent event) \r\n\t{\r\n\t  if (event.getKeyCode() == KeyEvent.VK_ESCAPE)\t\r\n\t  {\r\n\t\tn += 1;\r\n\t\tif(n % 2 == 1)\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Not Quitting now&quot;);\r\n\t\t}\r\n\t  }\r\n\t  else if(event.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; n % 2 == 1)\r\n\t  {\r\n\t\t  System.out.println(&quot;Quitting now...&quot;);\r\n\t\t  try\r\n\t\t  {\r\n\t\t\tThread.sleep(200);\r\n\t\t  }\r\n\t\t  catch(Exception e)\r\n\t\t  {\r\n\t\t  }\r\n\t\t  System.exit(0);\r\n\t  }\r\n    }\r\n}\r\n\r\n```\r\nThis is my Main method\r\n```\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.ImageIcon;\r\n\r\npublic class Main\r\n{\r\n\t\r\n\tpublic static void main(String[] args) throws Exception \r\n\t{\r\n\t JTextField textField = new JTextField();\r\n\t textField.addKeyListener(new MKeyListener());\r\n\t JFrame jframe = new JFrame();\r\n\t jframe.add(textField);\r\n     jframe.setSize(1000, 1000);\r\n\t jframe.setTitle(&quot;First Development In JAVA Try : Day 3&quot;);\r\n\t jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n     jframe.setVisible(true);\r\n    }\r\n}\r\n```\r\nCould someone please suggest a method to add that image when a user presses a key?","title":"How to add JLabel of KeyListener object in Jframe of Main class","body":"<p>I am a bit to new to this Java bit of coding. The problem is that I have a different class for KeyListener and an image that I want to display if the user presses a key, but the image is from JLabel and I want to add it in JFrame of the main class but I am not understanding how I would do that.\nYes I did see another question, this one:\n<a href=\"https://stackoverflow.com/questions/33116043/how-i-add-a-jlabel-to-a-jframe-on-another-class\">How I add a JLabel to a JFrame on another class?</a>\nbut I can't do the suggested method in my code because Key Listener when called in the main method will only process the KeyListening part when called like : jframe.add(new KeyListener()) something like that, but the image will not be added because it is contained in a JLabel and JLabel is not added to JFrame.\nHere is my bit of Code of KeyListener:</p>\n<pre><code>import java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport java.awt.*;\nimport javax.swing.*;\n\nclass MKeyListener extends KeyAdapter\n{\n  static int n = 0;\n    @Override\n    public void keyPressed(KeyEvent event) \n    {\n      if (event.getKeyCode() == KeyEvent.VK_ESCAPE) \n      {\n        n += 1;\n        if(n % 2 == 1)\n        {\n            \n        }\n        else\n        {\n            System.out.println(&quot;Not Quitting now&quot;);\n        }\n      }\n      else if(event.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; n % 2 == 1)\n      {\n          System.out.println(&quot;Quitting now...&quot;);\n          try\n          {\n            Thread.sleep(200);\n          }\n          catch(Exception e)\n          {\n          }\n          System.exit(0);\n      }\n    }\n}\n\n</code></pre>\n<p>This is my Main method</p>\n<pre><code>import java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport java.awt.*;\nimport javax.swing.*;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JLabel;\nimport javax.swing.ImageIcon;\n\npublic class Main\n{\n    \n    public static void main(String[] args) throws Exception \n    {\n     JTextField textField = new JTextField();\n     textField.addKeyListener(new MKeyListener());\n     JFrame jframe = new JFrame();\n     jframe.add(textField);\n     jframe.setSize(1000, 1000);\n     jframe.setTitle(&quot;First Development In JAVA Try : Day 3&quot;);\n     jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n     jframe.setVisible(true);\n    }\n}\n</code></pre>\n<p>Could someone please suggest a method to add that image when a user presses a key?</p>\n"},{"tags":["java","android","kivy","buildozer","pyjnius"],"owner":{"account_id":27070654,"reputation":13,"user_id":20621348,"display_name":"Sahib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678962733,"creation_date":1675234345,"question_id":75306587,"body_markdown":"Here is my Java library (.aar) file&#39;s code.\r\n```java\r\npackage com.sahib.ffpy;\r\n\r\nimport com.arthenica.ffmpegkit.FFmpegSession;\r\nimport com.arthenica.ffmpegkit.FFmpegKit;\r\n\r\npublic class ffpy&lt;command&gt;\r\n{\r\n    public static void Run(final String command) {\r\n        final FFmpegSession session = FFmpegKit.execute(command);\r\n    }\r\n}\r\n```\r\nThis is supposed to take a command and execute in FFmpegKit by ARTHENICA.\r\nI am using this library with pyjnius to run it as I can not directly do. \r\n\r\n```java\r\nFFmpegSession session = FFmpegKit.execute(command)\r\n```\r\nIn python.\r\n\r\nThis is how my python code looks: \r\n\r\n```python\r\nFFMPEG = autoclass(&#39;com.sahib.ffpy.ffpy&#39;)\r\nFFMPEG.Run(&quot;-i &quot;+INPUT_FILE+&quot; -qscale:v &quot;+str(FRAME_QUALITY)+&quot; TEMP/frame%06d.jpg -hide_banner&quot;)\r\n```\r\n\r\nI am using Kivy/Buildozer.\r\n\r\nHere are the Gradle dependencies in buildozer:\r\n\r\n```\r\nandroid.add_aars = ffpy-debug.aar\r\nandroid.gradle_dependencies = &quot;com.arthenica:ffmpeg-kit-full:5.1&quot;\r\n```\r\n\r\nI have tried extracting the classes.jar from both ffmpegkit and this and combining them, which throws a different error (I know it&#39;s not the right way to do it). I tried building ffmpegkit myself. I have tried directly using FFmpeg Kit in Python, but I don&#39;t think it will work.\r\n\r\nEdit: I fixed it, if you need ffmpegkit in python for android, use https://www.github.com/blackysh/ffmpeg-kit-python","title":"Error: IllegalAccessError Java, when using another library&#39;s command in a library","body":"<p>Here is my Java library (.aar) file's code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.sahib.ffpy;\n\nimport com.arthenica.ffmpegkit.FFmpegSession;\nimport com.arthenica.ffmpegkit.FFmpegKit;\n\npublic class ffpy&lt;command&gt;\n{\n    public static void Run(final String command) {\n        final FFmpegSession session = FFmpegKit.execute(command);\n    }\n}\n</code></pre>\n<p>This is supposed to take a command and execute in FFmpegKit by ARTHENICA.\nI am using this library with pyjnius to run it as I can not directly do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FFmpegSession session = FFmpegKit.execute(command)\n</code></pre>\n<p>In python.</p>\n<p>This is how my python code looks:</p>\n<pre class=\"lang-py prettyprint-override\"><code>FFMPEG = autoclass('com.sahib.ffpy.ffpy')\nFFMPEG.Run(&quot;-i &quot;+INPUT_FILE+&quot; -qscale:v &quot;+str(FRAME_QUALITY)+&quot; TEMP/frame%06d.jpg -hide_banner&quot;)\n</code></pre>\n<p>I am using Kivy/Buildozer.</p>\n<p>Here are the Gradle dependencies in buildozer:</p>\n<pre><code>android.add_aars = ffpy-debug.aar\nandroid.gradle_dependencies = &quot;com.arthenica:ffmpeg-kit-full:5.1&quot;\n</code></pre>\n<p>I have tried extracting the classes.jar from both ffmpegkit and this and combining them, which throws a different error (I know it's not the right way to do it). I tried building ffmpegkit myself. I have tried directly using FFmpeg Kit in Python, but I don't think it will work.</p>\n<p>Edit: I fixed it, if you need ffmpegkit in python for android, use <a href=\"https://www.github.com/blackysh/ffmpeg-kit-python\" rel=\"nofollow noreferrer\">https://www.github.com/blackysh/ffmpeg-kit-python</a></p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1678961483,"post_id":75754511,"comment_id":133635575,"body_markdown":"Read about flyway","body":"Read about flyway"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678961803,"post_id":75754511,"comment_id":133635668,"body_markdown":"You could test if the userRole exists with roleRepository.getRoleByName(&quot;user&quot;) and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that&#39;s a bit of an exercise.","body":"You could test if the userRole exists with roleRepository.getRoleByName(&quot;user&quot;) and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that&#39;s a bit of an exercise."}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678961843,"creation_date":1678961843,"answer_id":75754808,"question_id":75754511,"body_markdown":"You can check if those specific role and user exist or not before insertion. ","title":"Initializing the database using java in spring-boot and jpa","body":"<p>You can check if those specific role and user exist or not before insertion.</p>\n"},{"comments":[{"owner":{"account_id":18148011,"reputation":146,"user_id":13201103,"display_name":"Syed Iftekharuddin"},"score":0,"creation_date":1678961944,"post_id":75754820,"comment_id":133635723,"body_markdown":"How to skip in commandlineRunner class run() method","body":"How to skip in commandlineRunner class run() method"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678962694,"post_id":75754820,"comment_id":133635949,"body_markdown":"Added suggested implementation to answer","body":"Added suggested implementation to answer"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678962676,"creation_date":1678961890,"answer_id":75754820,"question_id":75754511,"body_markdown":"You could test if the userRole exists with `roleRepository.getRoleByName(&quot;user&quot;)` and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that&#39;s a bit of an exercise.\r\n\r\nSuggested implementation:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class DataLoader\r\n        implements CommandLineRunner {\r\n        \r\n         @Override\r\n        public void run(String... args) throws Exception {\r\n        if(roleRepository.getRoleByName(&quot;user&quot;).empty()) {\r\n        Role userRole = new Role();\r\n            userRole.setRoleName(&quot;user&quot;);\r\n            userRole.setDescription(&quot;test user&quot;);\r\n            roleRepository.save(userRole);\r\n            \r\n            \r\n            //Users and there roles\r\n            User user = new User();\r\n            user.setFirstName(&quot;UserFirstName&quot;);\r\n            user.setLastName(&quot;UserLastName&quot;);\r\n            user.setPhoneNumber(&quot;xx-232323232323&quot;);\r\n            user.addRoleToUser(userRole);\r\n            userRepository.save(user);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Initializing the database using java in spring-boot and jpa","body":"<p>You could test if the userRole exists with <code>roleRepository.getRoleByName(&quot;user&quot;)</code> and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that's a bit of an exercise.</p>\n<p>Suggested implementation:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class DataLoader\n    implements CommandLineRunner {\n    \n     @Override\n    public void run(String... args) throws Exception {\n    if(roleRepository.getRoleByName(&quot;user&quot;).empty()) {\n    Role userRole = new Role();\n        userRole.setRoleName(&quot;user&quot;);\n        userRole.setDescription(&quot;test user&quot;);\n        roleRepository.save(userRole);\n        \n        \n        //Users and there roles\n        User user = new User();\n        user.setFirstName(&quot;UserFirstName&quot;);\n        user.setLastName(&quot;UserLastName&quot;);\n        user.setPhoneNumber(&quot;xx-232323232323&quot;);\n        user.addRoleToUser(userRole);\n        userRepository.save(user);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18148011,"reputation":146,"user_id":13201103,"display_name":"Syed Iftekharuddin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75754820,"answer_count":2,"score":0,"last_activity_date":1678962676,"creation_date":1678960390,"question_id":75754511,"body_markdown":"I am using spring-boot CommandLineRunner class to initialize the database with some initial data which is need for application to run. The problem is that the commandLineRunner class runs everytime application is restarted which creates duplicate entries in the database (when I set hbm2ddl-auto = update). \r\n**How can I make application run initializing statements only once and future deployments should not execute intializing statements which leads to data duplication.**\r\nI could use schema.sql and data.sql files but the initializing data needs to have relational mapping and I am not sure how to do that.\r\nThe example records from commandline runner is as follows:\r\n\r\n        Component\r\n    @RequiredArgsConstructor\r\n    public class DataLoader\r\n        implements CommandLineRunner {\r\n    \t\r\n    \t @Override\r\n        public void run(String... args) throws Exception {\r\n    \t\r\n    \tRole userRole = new Role();\r\n            userRole.setRoleName(&quot;user&quot;);\r\n            userRole.setDescription(&quot;test user&quot;);\r\n            roleRepository.save(userRole);\r\n    \t\t\r\n    \t\t\r\n    \t\t//Users and there roles\r\n            User user = new User();\r\n            user.setFirstName(&quot;UserFirstName&quot;);\r\n            user.setLastName(&quot;UserLastName&quot;);\r\n            user.setPhoneNumber(&quot;xx-232323232323&quot;);\r\n            user.addRoleToUser(userRole);\r\n            userRepository.save(user);\r\n    \t\t}}\r\n\r\n","title":"Initializing the database using java in spring-boot and jpa","body":"<p>I am using spring-boot CommandLineRunner class to initialize the database with some initial data which is need for application to run. The problem is that the commandLineRunner class runs everytime application is restarted which creates duplicate entries in the database (when I set hbm2ddl-auto = update).\n<strong>How can I make application run initializing statements only once and future deployments should not execute intializing statements which leads to data duplication.</strong>\nI could use schema.sql and data.sql files but the initializing data needs to have relational mapping and I am not sure how to do that.\nThe example records from commandline runner is as follows:</p>\n<pre><code>    Component\n@RequiredArgsConstructor\npublic class DataLoader\n    implements CommandLineRunner {\n    \n     @Override\n    public void run(String... args) throws Exception {\n    \n    Role userRole = new Role();\n        userRole.setRoleName(&quot;user&quot;);\n        userRole.setDescription(&quot;test user&quot;);\n        roleRepository.save(userRole);\n        \n        \n        //Users and there roles\n        User user = new User();\n        user.setFirstName(&quot;UserFirstName&quot;);\n        user.setLastName(&quot;UserLastName&quot;);\n        user.setPhoneNumber(&quot;xx-232323232323&quot;);\n        user.addRoleToUser(userRole);\n        userRepository.save(user);\n        }}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678963219,"post_id":75754945,"comment_id":133636143,"body_markdown":"Do you know how to highlight a *specific* button in Android? Do you know how to pick a random element from an array/collection? If so, combine those two and you&#39;re done. If not, show/tell us which of those you can do and where the issue is.","body":"Do you know how to highlight a <i>specific</i> button in Android? Do you know how to pick a random element from an array/collection? If so, combine those two and you&#39;re done. If not, show/tell us which of those you can do and where the issue is."},{"owner":{"account_id":28031624,"reputation":1,"user_id":21410715,"display_name":"Lew Ernest"},"score":0,"creation_date":1678963703,"post_id":75754945,"comment_id":133636307,"body_markdown":"I dont know how to highlight a specific button","body":"I dont know how to highlight a specific button"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678963907,"post_id":75754945,"comment_id":133636373,"body_markdown":"So you need this one: [How to make Button highlight?](https://stackoverflow.com/questions/4131656/how-to-make-button-highlight)","body":"So you need this one: <a href=\"https://stackoverflow.com/questions/4131656/how-to-make-button-highlight\">How to make Button highlight?</a>"},{"owner":{"account_id":28031624,"reputation":1,"user_id":21410715,"display_name":"Lew Ernest"},"score":0,"creation_date":1678967910,"post_id":75754945,"comment_id":133637500,"body_markdown":"but that one didnt mention how to make button highlight without touching them","body":"but that one didnt mention how to make button highlight without touching them"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678968045,"post_id":75754945,"comment_id":133637527,"body_markdown":"Yes, and that&#39;s where you combine what you learned with other things. So now you know how to highlight a button. Next figure out how to pick a random button to highlight... and so on and so on. ...","body":"Yes, and that&#39;s where you combine what you learned with other things. So now you know how to highlight a button. Next figure out how to pick a random button to highlight... and so on and so on. ..."}],"owner":{"account_id":28031624,"reputation":1,"user_id":21410715,"display_name":"Lew Ernest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678962652,"creation_date":1678962652,"question_id":75754945,"body_markdown":"How do I randomly highlight a button in Android studio. For example, there are 4 buttons/views and I want one of them randomly highlighted, then if users correctly select the highlighted one, the other buttons will be randomly highlighted and previous highlighted buttons will be remain visible but not highlighted\r\n\r\nI have tried browsing online to find related methods, but unsuccessful","title":"Android studio Java Project","body":"<p>How do I randomly highlight a button in Android studio. For example, there are 4 buttons/views and I want one of them randomly highlighted, then if users correctly select the highlighted one, the other buttons will be randomly highlighted and previous highlighted buttons will be remain visible but not highlighted</p>\n<p>I have tried browsing online to find related methods, but unsuccessful</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1678960287,"post_id":75754444,"comment_id":133635235,"body_markdown":"Oh ... you&#39;re opening a whole can of worms. The short answer is &quot;your public IP address or a DNS name pointing to it&quot;, but thanks to wide use of NAT (both at your local network and even at the ISP level) you may or may not have one or it might only point to your router and not to your PC. Hosting publicly accessible ports from a local computer is non-trivial (and also somewhat risky).","body":"Oh ... you&#39;re opening a whole can of worms. The short answer is &quot;your public IP address or a DNS name pointing to it&quot;, but thanks to wide use of NAT (both at your local network and even at the ISP level) you may or may not have one or it might only point to your router and not to your PC. Hosting publicly accessible ports from a local computer is non-trivial (and also somewhat risky)."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678960512,"post_id":75754444,"comment_id":133635304,"body_markdown":"I&#39;ve not found a good question with answers that explain it all in details but [this one](https://stackoverflow.com/questions/5108483/access-localhost-from-the-internet), [this one](https://stackoverflow.com/questions/45739486/open-8080-port-on-my-local-server-to-public) and [this one](https://stackoverflow.com/questions/52137672/how-do-i-make-my-ip-public-externally-can-access-my-localhost) might give you some pointers.","body":"I&#39;ve not found a good question with answers that explain it all in details but <a href=\"https://stackoverflow.com/questions/5108483/access-localhost-from-the-internet\">this one</a>, <a href=\"https://stackoverflow.com/questions/45739486/open-8080-port-on-my-local-server-to-public\">this one</a> and <a href=\"https://stackoverflow.com/questions/52137672/how-do-i-make-my-ip-public-externally-can-access-my-localhost\">this one</a> might give you some pointers."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678961841,"post_id":75754444,"comment_id":133635685,"body_markdown":"@life888888: I don&#39;t think the code is actually OPs problem, it&#39;s more about the networking topology.","body":"@life888888: I don&#39;t think the code is actually OPs problem, it&#39;s more about the networking topology."}],"answers":[{"tags":[],"owner":{"account_id":15092059,"reputation":97,"user_id":10891659,"display_name":"th0bse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678961950,"creation_date":1678961950,"answer_id":75754835,"question_id":75754444,"body_markdown":"The machine you want to run the server on needs to actually be accessible from the outside, which means it has to have a public IP address and other machines need to be able to access the application running on your machine.\r\n\r\nBeing accessable from the outside also includes that other clients need to be able to establish a connection, not just responding to already existing connections that go out from your own machine. This becomes a problem in case your home PC sits behind a Carrier-Grade NAT or there is a firewall in between you and the internet you have no control over.\r\n\r\nIf there is no NAT or anything else blocking incoming connections you have no control over, what you want is certainly possible, and there are a few steps to achieving this:\r\n\r\n - Make sure the machine you want to run the server on has a public IP.\r\n - Make sure that the port you want to run your server on isn&#39;t blocked by a firewall or anything.\r\n - Make sure that no other service on your machine is already running on the same port you want to run your service on.\r\n\r\nNow, even if it is possible opening ports on your home network is always at least a small security risk because you allow potential malicious actors to make connections back to your network. If you do this for testing purposes it is fine, but please remember to close the port again (in your router settings) when you are done.","title":"How to make Online java server","body":"<p>The machine you want to run the server on needs to actually be accessible from the outside, which means it has to have a public IP address and other machines need to be able to access the application running on your machine.</p>\n<p>Being accessable from the outside also includes that other clients need to be able to establish a connection, not just responding to already existing connections that go out from your own machine. This becomes a problem in case your home PC sits behind a Carrier-Grade NAT or there is a firewall in between you and the internet you have no control over.</p>\n<p>If there is no NAT or anything else blocking incoming connections you have no control over, what you want is certainly possible, and there are a few steps to achieving this:</p>\n<ul>\n<li>Make sure the machine you want to run the server on has a public IP.</li>\n<li>Make sure that the port you want to run your server on isn't blocked by a firewall or anything.</li>\n<li>Make sure that no other service on your machine is already running on the same port you want to run your service on.</li>\n</ul>\n<p>Now, even if it is possible opening ports on your home network is always at least a small security risk because you allow potential malicious actors to make connections back to your network. If you do this for testing purposes it is fine, but please remember to close the port again (in your router settings) when you are done.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678962454,"creation_date":1678962454,"answer_id":75754912,"question_id":75754444,"body_markdown":"First steps:\r\n\r\nIs the ip the one from [this page][1]? \r\n\r\nTest if the port is accessible by doing a telnet to the ip and port 5000 from another computer off your network. If the telnet page opens up your server is reachable.\r\n\r\n\r\n  [1]: https://whatismyipaddress.com/","title":"How to make Online java server","body":"<p>First steps:</p>\n<p>Is the ip the one from <a href=\"https://whatismyipaddress.com/\" rel=\"nofollow noreferrer\">this page</a>?</p>\n<p>Test if the port is accessible by doing a telnet to the ip and port 5000 from another computer off your network. If the telnet page opens up your server is reachable.</p>\n"}],"owner":{"account_id":26101594,"reputation":13,"user_id":19796940,"display_name":"Issasafar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75754835,"answer_count":2,"score":0,"last_activity_date":1678962454,"creation_date":1678959905,"question_id":75754444,"body_markdown":"I am new to java networking.\r\nI tried to make a server localy (the servet and client on the same machine) and it works with simple chat server.\r\nAnd what iam trying to do is to make it  online so i can make a connection between the server hosted on my computer and other computers.\r\n\r\nI tried to search on google but whenever i type java server i got things about minecraft -_- java servers!\r\nThanks if you can help.\r\n\r\nI have the following setUpNetworking method in my Client class: \r\n\r\n```\r\nprivate void setUpNetworking(){\r\ntry{\r\nInetSocketAddress serverAddress=new InetSocketAddress(&quot;127.0.0.1&quot;,5000);\r\nSocketChannel socketchannel=SocketChannel.open(serverAddress);\r\n/*\r\nsetting up reader and writer .... etc\r\n*/\r\nSystem.out.println(&quot;Networking established&quot;);\r\n}catch (IOException ex){\r\nex.printStackTrace();\r\n}\r\n}\r\n```\r\nWhat i should i put instead of `&quot;127.0.0.1&quot;` i tried my computer ip address and it didn&#39;t prints &#39;Networking established&#39; and never terminated, same thing happens when i host the server on other computer or on my phone.\r\nCan any one help me i want the connection to go through the internet and get back to my computer.","title":"How to make Online java server","body":"<p>I am new to java networking.\nI tried to make a server localy (the servet and client on the same machine) and it works with simple chat server.\nAnd what iam trying to do is to make it  online so i can make a connection between the server hosted on my computer and other computers.</p>\n<p>I tried to search on google but whenever i type java server i got things about minecraft -_- java servers!\nThanks if you can help.</p>\n<p>I have the following setUpNetworking method in my Client class:</p>\n<pre><code>private void setUpNetworking(){\ntry{\nInetSocketAddress serverAddress=new InetSocketAddress(&quot;127.0.0.1&quot;,5000);\nSocketChannel socketchannel=SocketChannel.open(serverAddress);\n/*\nsetting up reader and writer .... etc\n*/\nSystem.out.println(&quot;Networking established&quot;);\n}catch (IOException ex){\nex.printStackTrace();\n}\n}\n</code></pre>\n<p>What i should i put instead of <code>&quot;127.0.0.1&quot;</code> i tried my computer ip address and it didn't prints 'Networking established' and never terminated, same thing happens when i host the server on other computer or on my phone.\nCan any one help me i want the connection to go through the internet and get back to my computer.</p>\n"},{"tags":["java","swing","keyevent"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1544934112,"post_id":53795956,"comment_id":94448143,"body_markdown":"*&quot; hotkeys to modify the value of a certain JTextField called degreeField up or down.&quot;* You&#39;re describing a `JSpinner` ..","body":"<i>&quot; hotkeys to modify the value of a certain JTextField called degreeField up or down.&quot;</i> You&#39;re describing a <code>JSpinner</code> .."}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1544908659,"post_id":53796694,"comment_id":94444342,"body_markdown":"The ease at which `KeyListener` based solutions are broken, make it widely inappropriate as a solution.  Paste some text (including the +/- characters) into the text field?  Call `setText` on the text field, including the +/- characters","body":"The ease at which <code>KeyListener</code> based solutions are broken, make it widely inappropriate as a solution.  Paste some text (including the +/- characters) into the text field?  Call <code>setText</code> on the text field, including the +/- characters"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1544908898,"post_id":53796694,"comment_id":94444393,"body_markdown":"Your example will also not work, because `panel1` is neither focusable, nor can it receive focus, so it will never trigger any key events, which is yet another limitation of `KeyListener`","body":"Your example will also not work, because <code>panel1</code> is neither focusable, nor can it receive focus, so it will never trigger any key events, which is yet another limitation of <code>KeyListener</code>"}],"tags":[],"owner":{"account_id":14952939,"reputation":1,"user_id":10795321,"display_name":"Ashish G"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1544903366,"creation_date":1544903366,"answer_id":53796694,"question_id":53795956,"body_markdown":"You should add two separate panels and add listener to the JPanel in which degreeField is added.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n\r\n    public class MyClass extends JFrame {\r\n\r\n    private JTextField degreeField = new JTextField(&quot;0&quot;);\r\n    private JTextField anotherField = new JTextField(&quot;0&quot;);\r\n    private JPanel panel1 = new JPanel();\r\n    private JPanel panel2 = new JPanel();\r\n\r\n    MyClass(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        panel1.add(degreeField);\r\n        panel2.add(anotherField);\r\n        this.getContentPane().add(panel1, BorderLayout.CENTER);\r\n        this.getContentPane().add(panel2, BorderLayout.PAGE_END);\r\n\r\n        panel1.addKeyListener(new KeyListener() {\r\n            @Override\r\n            public void keyTyped( KeyEvent e ) {\r\n                int keyCode = e.getKeyCode();\r\n                switch(keyCode){\r\n                    // other cases\r\n                    case KeyEvent.VK_PLUS:\r\n                        degreeField.setText((Integer.parseInt(degreeField.getText()) + 1 )+ &quot;&quot;);\r\n                    case KeyEvent.VK_MINUS:\r\n                        degreeField.setText((Integer.parseInt(degreeField.getText()) - 1 ) + &quot;&quot;);\r\n\r\n                    default:\r\n                        //do nothing\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void keyPressed( KeyEvent e ) {\r\n                //do nothing\r\n            }\r\n\r\n            @Override\r\n            public void keyReleased( KeyEvent e ) {\r\n                //do nothing\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        MyClass m = new MyClass();\r\n        m.pack();\r\n        m.setVisible(true);\r\n\r\n    }\r\n    }\r\n","title":"How to prevent char from being entered into JTextField after dispatching event?","body":"<p>You should add two separate panels and add listener to the JPanel in which degreeField is added.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class MyClass extends JFrame {\n\nprivate JTextField degreeField = new JTextField(\"0\");\nprivate JTextField anotherField = new JTextField(\"0\");\nprivate JPanel panel1 = new JPanel();\nprivate JPanel panel2 = new JPanel();\n\nMyClass(){\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    panel1.add(degreeField);\n    panel2.add(anotherField);\n    this.getContentPane().add(panel1, BorderLayout.CENTER);\n    this.getContentPane().add(panel2, BorderLayout.PAGE_END);\n\n    panel1.addKeyListener(new KeyListener() {\n        @Override\n        public void keyTyped( KeyEvent e ) {\n            int keyCode = e.getKeyCode();\n            switch(keyCode){\n                // other cases\n                case KeyEvent.VK_PLUS:\n                    degreeField.setText((Integer.parseInt(degreeField.getText()) + 1 )+ \"\");\n                case KeyEvent.VK_MINUS:\n                    degreeField.setText((Integer.parseInt(degreeField.getText()) - 1 ) + \"\");\n\n                default:\n                    //do nothing\n            }\n        }\n\n        @Override\n        public void keyPressed( KeyEvent e ) {\n            //do nothing\n        }\n\n        @Override\n        public void keyReleased( KeyEvent e ) {\n            //do nothing\n        }\n    });\n}\n\npublic static void main(String[] args){\n    MyClass m = new MyClass();\n    m.pack();\n    m.setVisible(true);\n\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14952999,"reputation":25,"user_id":10795363,"display_name":"Joris K&#252;hl"},"score":0,"creation_date":1544957916,"post_id":53797328,"comment_id":94451735,"body_markdown":"Thanks, this works just fine for the + and - keys. However, my bindings on the arrow keys do not work as intended. They move the cursor around in the text field when selected. However the action is not triggered, while I have the WHEN_IN_FOCUSED_WINDOW InputMap. Changing it to WHEN_FOCUSED does work and the action is executed. However, that is not what I need. The action is supposed to work as long as the window is focused.","body":"Thanks, this works just fine for the + and - keys. However, my bindings on the arrow keys do not work as intended. They move the cursor around in the text field when selected. However the action is not triggered, while I have the WHEN_IN_FOCUSED_WINDOW InputMap. Changing it to WHEN_FOCUSED does work and the action is executed. However, that is not what I need. The action is supposed to work as long as the window is focused."},{"owner":{"account_id":14952999,"reputation":25,"user_id":10795363,"display_name":"Joris K&#252;hl"},"score":0,"creation_date":1544987089,"post_id":53797328,"comment_id":94459552,"body_markdown":"Yeah, I suspected that in my edit to the question. Your answer solves my original problem, so I&#39;ll mark it as accepted. Still open to suggestions about the new problem though ^^","body":"Yeah, I suspected that in my edit to the question. Your answer solves my original problem, so I&#39;ll mark it as accepted. Still open to suggestions about the new problem though ^^"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1544987667,"post_id":53797328,"comment_id":94459714,"body_markdown":"[Replace the existing bindings](https://stackoverflow.com/questions/18652481/how-do-i-prevent-arrow-key-press-in-jtextfield-from-scrolling-jscrollpane/18652651#18652651); [Intercept/Inject into existing key binding](https://stackoverflow.com/questions/33071844/cant-figure-out-error-with-actionlistener/33091886#33091886)","body":"<a href=\"https://stackoverflow.com/questions/18652481/how-do-i-prevent-arrow-key-press-in-jtextfield-from-scrolling-jscrollpane/18652651#18652651\">Replace the existing bindings</a>; <a href=\"https://stackoverflow.com/questions/33071844/cant-figure-out-error-with-actionlistener/33091886#33091886\">Intercept/Inject into existing key binding</a>"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678962404,"creation_date":1544908589,"answer_id":53797328,"question_id":53795956,"body_markdown":"&gt;  I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:\r\n\r\nNo, no, no and no on so many levels\r\n\r\nThe actual answer to your question is two fold.\r\n\r\nFirst, use a `DocumentFilter` to filter out undesirable input, see [Implementing a DocumentFilter](http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) for more details.\r\n\r\nThe reason for using this comes down to a number of issues...\r\n\r\n* `KeyListener` may be notified AFTER the content is committed to the underlying `Document` model\r\n* Key processing routines may also ignore the consumed state\r\n* `KeyListener` doesn&#39;t catch the use-case when the user pastes text into the field\r\n* `KeyListener` doesn&#39;t catch the use-case when `setText` is called\r\n* `KeyListener` is just a poor choice, all round, for trying to filter content.\r\n\r\nSecond, you should be using the [Key Bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead of `KeyEventDispatcher`.\r\n\r\n`KeyEventDispatcher` is to low level for what you need; is difficult to maintain; doesn&#39;t take into consideration other actions which might need to be associated with the same key strokes and quickly becomes messy.\r\n\r\nKey bindings are also more easily re-usable.  You can apply the `Action` used by the key bindings to buttons or even to a more global state.  They can also be used to bind multiple keys to a single action, for example, the &lt;kbd&gt;+&lt;/kbd&gt; key (on the numpad) and the &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;=&lt;/kbd&gt; keys\r\n\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.text.AbstractDocument;\r\n    import javax.swing.text.AttributeSet;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.Document;\r\n    import javax.swing.text.DocumentFilter;\r\n    \r\n    public class Text {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Text();\r\n    \t}\r\n    \r\n    \tpublic Text() {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    \t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n    \t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n    \t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\t\tframe.add(new TestPane());\r\n    \t\t\t\tframe.pack();\r\n    \t\t\t\tframe.setLocationRelativeTo(null);\r\n    \t\t\t\tframe.setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic class TestPane extends JPanel {\r\n    \r\n    \t\tpublic TestPane() {\r\n    \t\t\tsetLayout(new GridBagLayout());\r\n    \t\t\tJTextField field = new JTextField(10);\r\n    \t\t\t((AbstractDocument)field.getDocument()).setDocumentFilter(new IntegerDocumentFilter());\r\n    \t\t\t\r\n    \t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n    \t\t\tadd(field, gbc);\r\n    \t\t\t\r\n    \t\t\tInputMap im = field.getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n    \t\t\tActionMap am = field.getActionMap();\r\n    \r\n    \t\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_EQUALS, KeyEvent.SHIFT_DOWN_MASK), &quot;Pressed.+&quot;);\r\n\t\t\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), &quot;Pressed.+&quot;);\r\n    \t\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_MINUS, 0), &quot;Pressed.-&quot;);\r\n    \r\n    \t\t\tam.put(&quot;Pressed.+&quot;, new DeltaAction(field, 1));\r\n    \t\t\tam.put(&quot;Pressed.-&quot;, new DeltaAction(field, -1));\r\n    \t\t\t\r\n    \t\t\tadd(new JButton(&quot;Test&quot;), gbc);\r\n    \t\t}\r\n    \r\n    \t\tprotected class DeltaAction extends AbstractAction {\r\n    \r\n    \t\t\tprivate JTextField field;\r\n    \t\t\tprivate int delta;\r\n    \r\n    \t\t\tpublic DeltaAction(JTextField field, int delta) {\r\n    \t\t\t\tthis.field = field;\r\n    \t\t\t\tthis.delta = delta;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tString text = field.getText();\r\n    \t\t\t\tif (text == null || text.isEmpty()) {\r\n    \t\t\t\t\ttext = &quot;0&quot;;\r\n    \t\t\t\t}\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tint value = Integer.parseInt(text);\r\n    \t\t\t\t\tvalue += delta;\r\n    \t\t\t\t\tfield.setText(Integer.toString(value));\r\n    \t\t\t\t} catch (NumberFormatException exp) {\r\n    \t\t\t\t\tSystem.err.println(&quot;Can not convert &quot; + text + &quot; to an int&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic class IntegerDocumentFilter extends DocumentFilter {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void insertString(DocumentFilter.FilterBypass fb, int offset, String text, AttributeSet attr) throws BadLocationException {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\t\t\tDocument document = fb.getDocument();\r\n    \t\t\t\t\tsb.append(document.getText(0, offset));\r\n    \t\t\t\t\tsb.append(text);\r\n    \t\t\t\t\tsb.append(document.getText(offset, document.getLength()));\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tInteger.parseInt(sb.toString());\r\n    \t\t\t\t\tsuper.insertString(fb, offset, text, attr);\r\n    \t\t\t\t} catch (NumberFormatException exp) {\r\n    \t\t\t\t\tSystem.err.println(&quot;Can not insert &quot; + text + &quot; into document&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void replace(DocumentFilter.FilterBypass fb, int offset, int length, String string, AttributeSet attr) throws BadLocationException {\r\n    \t\t\t\tif (length &gt; 0) {\r\n    \t\t\t\t\tfb.remove(offset, length);\r\n    \t\t\t\t}\r\n    \t\t\t\tinsertString(fb, offset, string, attr);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to prevent char from being entered into JTextField after dispatching event?","body":"<blockquote>\n<p>I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:</p>\n</blockquote>\n<p>No, no, no and no on so many levels</p>\n<p>The actual answer to your question is two fold.</p>\n<p>First, use a <code>DocumentFilter</code> to filter out undesirable input, see <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a DocumentFilter</a> for more details.</p>\n<p>The reason for using this comes down to a number of issues...</p>\n<ul>\n<li><code>KeyListener</code> may be notified AFTER the content is committed to the underlying <code>Document</code> model</li>\n<li>Key processing routines may also ignore the consumed state</li>\n<li><code>KeyListener</code> doesn't catch the use-case when the user pastes text into the field</li>\n<li><code>KeyListener</code> doesn't catch the use-case when <code>setText</code> is called</li>\n<li><code>KeyListener</code> is just a poor choice, all round, for trying to filter content.</li>\n</ul>\n<p>Second, you should be using the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings API</a> instead of <code>KeyEventDispatcher</code>.</p>\n<p><code>KeyEventDispatcher</code> is to low level for what you need; is difficult to maintain; doesn't take into consideration other actions which might need to be associated with the same key strokes and quickly becomes messy.</p>\n<p>Key bindings are also more easily re-usable.  You can apply the <code>Action</code> used by the key bindings to buttons or even to a more global state.  They can also be used to bind multiple keys to a single action, for example, the <kbd>+</kbd> key (on the numpad) and the <kbd>Shift</kbd>+<kbd>=</kbd> keys</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.text.AbstractDocument;\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Document;\nimport javax.swing.text.DocumentFilter;\n\npublic class Text {\n\n    public static void main(String[] args) {\n        new Text();\n    }\n\n    public Text() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            JTextField field = new JTextField(10);\n            ((AbstractDocument)field.getDocument()).setDocumentFilter(new IntegerDocumentFilter());\n            \n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(field, gbc);\n            \n            InputMap im = field.getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = field.getActionMap();\n\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_EQUALS, KeyEvent.SHIFT_DOWN_MASK), &quot;Pressed.+&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), &quot;Pressed.+&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_MINUS, 0), &quot;Pressed.-&quot;);\n\n            am.put(&quot;Pressed.+&quot;, new DeltaAction(field, 1));\n            am.put(&quot;Pressed.-&quot;, new DeltaAction(field, -1));\n            \n            add(new JButton(&quot;Test&quot;), gbc);\n        }\n\n        protected class DeltaAction extends AbstractAction {\n\n            private JTextField field;\n            private int delta;\n\n            public DeltaAction(JTextField field, int delta) {\n                this.field = field;\n                this.delta = delta;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String text = field.getText();\n                if (text == null || text.isEmpty()) {\n                    text = &quot;0&quot;;\n                }\n                try {\n                    int value = Integer.parseInt(text);\n                    value += delta;\n                    field.setText(Integer.toString(value));\n                } catch (NumberFormatException exp) {\n                    System.err.println(&quot;Can not convert &quot; + text + &quot; to an int&quot;);\n                }\n            }\n        }\n\n        public class IntegerDocumentFilter extends DocumentFilter {\n\n            @Override\n            public void insertString(DocumentFilter.FilterBypass fb, int offset, String text, AttributeSet attr) throws BadLocationException {\n                try {\n                    StringBuilder sb = new StringBuilder();\n                    Document document = fb.getDocument();\n                    sb.append(document.getText(0, offset));\n                    sb.append(text);\n                    sb.append(document.getText(offset, document.getLength()));\n                    \n                    Integer.parseInt(sb.toString());\n                    super.insertString(fb, offset, text, attr);\n                } catch (NumberFormatException exp) {\n                    System.err.println(&quot;Can not insert &quot; + text + &quot; into document&quot;);\n                }\n            }\n\n            @Override\n            public void replace(DocumentFilter.FilterBypass fb, int offset, int length, String string, AttributeSet attr) throws BadLocationException {\n                if (length &gt; 0) {\n                    fb.remove(offset, length);\n                }\n                insertString(fb, offset, string, attr);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14952999,"reputation":25,"user_id":10795363,"display_name":"Joris K&#252;hl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53797328,"answer_count":2,"score":1,"last_activity_date":1678962404,"creation_date":1544897767,"question_id":53795956,"body_markdown":"In my MainWindow class (a JFrame), I use the &quot;+&quot; and &quot;-&quot; keys as hotkeys to modify the value of a certain JTextField called degreeField up or down. I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:\r\n\r\n            @Override\r\n            public boolean dispatchKeyEvent(KeyEvent evt) {\r\n                if(simPanel.main.isFocused()){\r\n                    int type = evt.getID();\r\n                    if(type == KeyEvent.KEY_PRESSED){\r\n                        int keyCode = evt.getKeyCode();\r\n                        switch(keyCode){\r\n                            // other cases\r\n                            case KeyEvent.VK_PLUS:\r\n                                // increase degreeField by 1, if double\r\n                                // otherwise set it to &quot;270.0&quot;\r\n                                return true;\r\n                            case KeyEvent.VK_MINUS:\r\n                                // decrease degreeField by 1, if double\r\n                                // otherwise set it to &quot;270.0&quot;\r\n                                return true;\r\n                            default:\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if(type == KeyEvent.KEY_RELEASED){\r\n                        // irrelevant\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\nThe KeyEventDispatcher works and degreeField&#39;s text is modified as expected. However, when I have another JTextField focused, the &quot;+&quot; or &quot;-&quot; is also entered into that field.\r\n\r\nSince I return true, I was under the impression that the event should no longer be dispatched by the JTextField I have focused. Using the NetBeans debugger, I put a break point into the relevant case and checked the text of the focused text field. At the time, there was no + appended. The + is therefore appended after I finish dispatching this event and return true.\r\n\r\nAnyone got any ideas, how I can actually prevent the event from being passed down further?\r\n\r\nI know I could put an extra listener on the text field to prevent &quot;+&quot; and &quot;-&quot; chars from being entered, but I would prefer a solution that works for non-char keys as well. (I have a similar problem with up and down arrow keys; it doesn&#39;t break anything, just annoyingly cycles through my text fields).\r\n\r\n\r\n----------\r\nThanks to MadProgrammer for this:\r\n\r\n    InputMap im = senderXField.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n\tActionMap am = senderXField.getActionMap();\r\n\r\n\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), &quot;Pressed.+&quot;);\r\n\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;Pressed.up&quot;);\r\n\t\r\n\tam.put(&quot;Pressed.+&quot;, angleUpAction); // works fine\r\nSadly\r\n\r\n\tam.put(&quot;Pressed.up&quot;, indexUpAction); // does not trigger\r\n\r\nThis applies to all arrow keys. They do their usual thing (move cursor or focus respectively) and don&#39;t trigger the actions. If I use the WHEN_FOCUSED InputMap, they work as intended, leading me to believe that their default behavior is implemented as a KeyBinding at the WHEN_FOCUSED level that can be overwritten.\r\n\r\nWhile, technically, as a workaround, I could implement the arrow key commands for all text fields in my MainWindow, that would be ... weird. I hope there&#39;s a better solution that let&#39;s me keep the command for the entire window but also overwrite their default behaviour.\r\n\r\n\r\n----------\r\nSolved","title":"How to prevent char from being entered into JTextField after dispatching event?","body":"<p>In my MainWindow class (a JFrame), I use the \"+\" and \"-\" keys as hotkeys to modify the value of a certain JTextField called degreeField up or down. I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:</p>\n\n<pre><code>        @Override\n        public boolean dispatchKeyEvent(KeyEvent evt) {\n            if(simPanel.main.isFocused()){\n                int type = evt.getID();\n                if(type == KeyEvent.KEY_PRESSED){\n                    int keyCode = evt.getKeyCode();\n                    switch(keyCode){\n                        // other cases\n                        case KeyEvent.VK_PLUS:\n                            // increase degreeField by 1, if double\n                            // otherwise set it to \"270.0\"\n                            return true;\n                        case KeyEvent.VK_MINUS:\n                            // decrease degreeField by 1, if double\n                            // otherwise set it to \"270.0\"\n                            return true;\n                        default:\n                            return false;\n                    }\n                }\n                else if(type == KeyEvent.KEY_RELEASED){\n                    // irrelevant\n                    return false;\n                }\n            }\n            return false;\n        }\n</code></pre>\n\n<p>The KeyEventDispatcher works and degreeField's text is modified as expected. However, when I have another JTextField focused, the \"+\" or \"-\" is also entered into that field.</p>\n\n<p>Since I return true, I was under the impression that the event should no longer be dispatched by the JTextField I have focused. Using the NetBeans debugger, I put a break point into the relevant case and checked the text of the focused text field. At the time, there was no + appended. The + is therefore appended after I finish dispatching this event and return true.</p>\n\n<p>Anyone got any ideas, how I can actually prevent the event from being passed down further?</p>\n\n<p>I know I could put an extra listener on the text field to prevent \"+\" and \"-\" chars from being entered, but I would prefer a solution that works for non-char keys as well. (I have a similar problem with up and down arrow keys; it doesn't break anything, just annoyingly cycles through my text fields).</p>\n\n<hr>\n\n<p>Thanks to MadProgrammer for this:</p>\n\n<pre><code>InputMap im = senderXField.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\nActionMap am = senderXField.getActionMap();\n\nim.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), \"Pressed.+\");\nim.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), \"Pressed.up\");\n\nam.put(\"Pressed.+\", angleUpAction); // works fine\n</code></pre>\n\n<p>Sadly</p>\n\n<pre><code>am.put(\"Pressed.up\", indexUpAction); // does not trigger\n</code></pre>\n\n<p>This applies to all arrow keys. They do their usual thing (move cursor or focus respectively) and don't trigger the actions. If I use the WHEN_FOCUSED InputMap, they work as intended, leading me to believe that their default behavior is implemented as a KeyBinding at the WHEN_FOCUSED level that can be overwritten.</p>\n\n<p>While, technically, as a workaround, I could implement the arrow key commands for all text fields in my MainWindow, that would be ... weird. I hope there's a better solution that let's me keep the command for the entire window but also overwrite their default behaviour.</p>\n\n<hr>\n\n<p>Solved</p>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1457440051,"post_id":35866920,"comment_id":59398428,"body_markdown":"And WHERE have you added `&lt;aop:aspectj-autoproxy /&gt;`? Because if that tis in your root application context (i.e. `ContextLoaderListener`) it is going to do exactly nothing for your controllers. Next to that you would have to enable `proxy-target-class=&quot;true&quot;` on the `&lt;aop:aspectj-autoproxy /&gt;` as well to make it work for controllers.","body":"And WHERE have you added <code>&lt;aop:aspectj-autoproxy &#47;&gt;</code>? Because if that tis in your root application context (i.e. <code>ContextLoaderListener</code>) it is going to do exactly nothing for your controllers. Next to that you would have to enable <code>proxy-target-class=&quot;true&quot;</code> on the <code>&lt;aop:aspectj-autoproxy &#47;&gt;</code> as well to make it work for controllers."},{"owner":{"account_id":3036352,"reputation":802,"user_id":2574357,"display_name":"mlewandowski"},"score":0,"creation_date":1457440135,"post_id":35866920,"comment_id":59398502,"body_markdown":"Try to change \n\nfrom:\n\n`@Pointcut(execution(@com.application.aspect.annotation.LoggedRequest * *(..))`\n\nto \n\n`@Pointcut(@annotation(com.application.aspect.annotation.LoggedRequest))`\n\nand then try to invoke your annotated methods.","body":"Try to change   from:  <code>@Pointcut(execution(@com.application.aspect.annotation.Logge&zwnj;&#8203;dRequest * *(..))</code>  to   <code>@Pointcut(@annotation(com.application.aspect.annotation.Logg&zwnj;&#8203;edRequest))</code>  and then try to invoke your annotated methods."},{"owner":{"account_id":1266891,"reputation":9885,"user_id":1224016,"accept_rate":80,"display_name":"Micha Kosmulski"},"score":0,"creation_date":1457440194,"post_id":35866920,"comment_id":59398528,"body_markdown":"Do you have `spring-aop` and `aspectjweaver` in your classpath?","body":"Do you have <code>spring-aop</code> and <code>aspectjweaver</code> in your classpath?"},{"owner":{"account_id":2145385,"reputation":2499,"user_id":1903108,"accept_rate":80,"display_name":"Tariq"},"score":0,"creation_date":1457440574,"post_id":35866920,"comment_id":59398799,"body_markdown":"@M.Deinum Yes I have placed it in my root application context. Where should I put it otherwise?","body":"@M.Deinum Yes I have placed it in my root application context. Where should I put it otherwise?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1457440674,"post_id":35866920,"comment_id":59398878,"body_markdown":"In the context that is loaded by the `DispatcherServlet`. AOP only works on beans in the same application context not on beans in parent or child contexts.","body":"In the context that is loaded by the <code>DispatcherServlet</code>. AOP only works on beans in the same application context not on beans in parent or child contexts."},{"owner":{"account_id":2145385,"reputation":2499,"user_id":1903108,"accept_rate":80,"display_name":"Tariq"},"score":0,"creation_date":1457500404,"post_id":35866920,"comment_id":59429338,"body_markdown":"Gotcha! @M.Deinum Please post it as answer. If possible with a more detail of problem and why your solution solved my problem.","body":"Gotcha! @M.Deinum Please post it as answer. If possible with a more detail of problem and why your solution solved my problem."}],"answers":[{"comments":[{"owner":{"account_id":7336268,"reputation":4279,"user_id":5587542,"display_name":"Valerio Vaudi"},"score":0,"creation_date":1457447175,"post_id":35869927,"comment_id":59403711,"body_markdown":"this kind of configuration i used in my work and it works fine for me","body":"this kind of configuration i used in my work and it works fine for me"}],"tags":[],"owner":{"account_id":7336268,"reputation":4279,"user_id":5587542,"display_name":"Valerio Vaudi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457464728,"creation_date":1457447134,"answer_id":35869927,"question_id":35866920,"body_markdown":"it all seems ok, but you should write a thing like this:\r\n\r\n    &lt;aop:aspectj-autoproxy &gt;\r\n    \t\t&lt;aop:include name=&quot;loggedRequestAspect&quot;/&gt;\r\n    \t&lt;/aop:aspectj-autoproxy&gt;\r\n\r\n because with this final configuration you say at the spring autoproxy infrastructure what beans consider in the auto proxying process.\r\nThe key point hear is if you want use the aspect for log the method call,  it is fine but if you want use the aspect for log the http call it will be not work, in this case could be a good choice use an interceptor.\r\n\r\nYou may use a your org.springframework.web.servlet.HandlerInterceptor or org.springframework.web.context.request.WebRequestInterceptor implementations\r\n\r\nand then register it in a  org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter like this:\r\n\r\n    @Configuration\r\n    class MyWebConfiguratio extends WebMvcConfigurerAdapter {\r\n    ....\r\n            @Override\r\n            public void addInterceptors(InterceptorRegistry registry) {\r\n                registry.addInterceptor(new HandlerInterceptor() {\r\n                   ...\r\n                }).addPathPatterns(&quot;....&quot;);\r\n                registry.addInterceptor(new WebMvcConfigurerAdapter() {\r\n                  ....\r\n                }).addPathPatterns(&quot;....&quot;);\r\n            }\r\n    \r\n          ....\r\n    }\r\n\r\nin java config or\r\n\r\n  \r\n\r\n     &lt;mvc:interceptors&gt;\r\n            &lt;bean id=&quot;localeChangeInterceptor&quot;\r\n                  class=&quot;com.yourapp.Interceptor&quot;&quot;/&gt;\r\n        &lt;/mvc:interceptors&gt;\r\n\r\nin your xml configuration file with the mvc namespace\r\n\r\nI hope this can help you","title":"Spring AOP Annotation not working","body":"<p>it all seems ok, but you should write a thing like this:</p>\n\n<pre><code>&lt;aop:aspectj-autoproxy &gt;\n        &lt;aop:include name=\"loggedRequestAspect\"/&gt;\n    &lt;/aop:aspectj-autoproxy&gt;\n</code></pre>\n\n<p>because with this final configuration you say at the spring autoproxy infrastructure what beans consider in the auto proxying process.\nThe key point hear is if you want use the aspect for log the method call,  it is fine but if you want use the aspect for log the http call it will be not work, in this case could be a good choice use an interceptor.</p>\n\n<p>You may use a your org.springframework.web.servlet.HandlerInterceptor or org.springframework.web.context.request.WebRequestInterceptor implementations</p>\n\n<p>and then register it in a  org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter like this:</p>\n\n<pre><code>@Configuration\nclass MyWebConfiguratio extends WebMvcConfigurerAdapter {\n....\n        @Override\n        public void addInterceptors(InterceptorRegistry registry) {\n            registry.addInterceptor(new HandlerInterceptor() {\n               ...\n            }).addPathPatterns(\"....\");\n            registry.addInterceptor(new WebMvcConfigurerAdapter() {\n              ....\n            }).addPathPatterns(\"....\");\n        }\n\n      ....\n}\n</code></pre>\n\n<p>in java config or</p>\n\n<pre><code> &lt;mvc:interceptors&gt;\n        &lt;bean id=\"localeChangeInterceptor\"\n              class=\"com.yourapp.Interceptor\"\"/&gt;\n    &lt;/mvc:interceptors&gt;\n</code></pre>\n\n<p>in your xml configuration file with the mvc namespace</p>\n\n<p>I hope this can help you</p>\n"},{"comments":[{"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"score":0,"creation_date":1474480534,"post_id":35884966,"comment_id":66552324,"body_markdown":"What does this mean for me if I configured my context with annotations? I added @EnableAspectJAutoProxy to my configuration class and also added the aspect bean and it doesn&#39;t work.... how do I control in which context is the autoproxy created in this case?","body":"What does this mean for me if I configured my context with annotations? I added @EnableAspectJAutoProxy to my configuration class and also added the aspect bean and it doesn&#39;t work.... how do I control in which context is the autoproxy created in this case?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1474489715,"post_id":35884966,"comment_id":66557281,"body_markdown":"It doesn&#39;t matter where you put it. If the configuration is loaded in the root context, and the bean to proxy is in a child (or parent) context it will not work. It doesn&#39;t matter if you use xml, java or property files (or whatever means) to construct an `ApplicationContext`.","body":"It doesn&#39;t matter where you put it. If the configuration is loaded in the root context, and the bean to proxy is in a child (or parent) context it will not work. It doesn&#39;t matter if you use xml, java or property files (or whatever means) to construct an <code>ApplicationContext</code>."},{"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"score":0,"creation_date":1474524174,"post_id":35884966,"comment_id":66567442,"body_markdown":"Ok but how do I make sure the AOP configuration and the bean to proxy are in the same context?","body":"Ok but how do I make sure the AOP configuration and the bean to proxy are in the same context?"},{"owner":{"account_id":1416455,"reputation":1818,"user_id":1342086,"accept_rate":70,"display_name":"rj2700"},"score":0,"creation_date":1508348227,"post_id":35884966,"comment_id":80579314,"body_markdown":"How would one go about moving the AOP configuration into different contexts? Is it just as simple as literally copying the config file to the same package of the class containing the joinpoint?","body":"How would one go about moving the AOP configuration into different contexts? Is it just as simple as literally copying the config file to the same package of the class containing the joinpoint?"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1457506676,"creation_date":1457506676,"answer_id":35884966,"question_id":35866920,"body_markdown":"When using AOP on beans in Spring that is only applied to beans in the same application context.\r\n\r\nIn a typical web application you would have a `ContextLoaderListener` and a `DispatcherServlet` both of which create an `ApplicationContext`. The `ContextLoaderListener` creates the so called root application context and the `DispatcherServlet` a child context with a relation to the root context. \r\n\r\nAOP configuration from the root doesn&#39;t influence beans in the child context and AOP configuration in the child context doesn&#39;t influence beans in the root context. \r\n\r\nNow you have configured the aspect and `&lt;aop:aspectj-autoproxy /&gt;` in the root context and except it to work for a bean that lives in the child context. That obviously isn&#39;t going to work. Move (or duplicate) that configuration into the child context. \r\n\r\nAnother thing is you will need class based proxies as yu don&#39;t have an interface, so you probably also want to add `proxy-target-class=&quot;true&quot;` to the `&lt;aop:aspectj-autoproxy /&gt;` element.","title":"Spring AOP Annotation not working","body":"<p>When using AOP on beans in Spring that is only applied to beans in the same application context.</p>\n\n<p>In a typical web application you would have a <code>ContextLoaderListener</code> and a <code>DispatcherServlet</code> both of which create an <code>ApplicationContext</code>. The <code>ContextLoaderListener</code> creates the so called root application context and the <code>DispatcherServlet</code> a child context with a relation to the root context. </p>\n\n<p>AOP configuration from the root doesn't influence beans in the child context and AOP configuration in the child context doesn't influence beans in the root context. </p>\n\n<p>Now you have configured the aspect and <code>&lt;aop:aspectj-autoproxy /&gt;</code> in the root context and except it to work for a bean that lives in the child context. That obviously isn't going to work. Move (or duplicate) that configuration into the child context. </p>\n\n<p>Another thing is you will need class based proxies as yu don't have an interface, so you probably also want to add <code>proxy-target-class=\"true\"</code> to the <code>&lt;aop:aspectj-autoproxy /&gt;</code> element.</p>\n"},{"tags":[],"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678962152,"creation_date":1678962152,"answer_id":75754859,"question_id":35866920,"body_markdown":"In my case, @Cacheable disable my AOP annotation breakpoint. Just place @Cacheable behind my AOP annotation.","title":"Spring AOP Annotation not working","body":"<p>In my case, @Cacheable disable my AOP annotation breakpoint. Just place @Cacheable behind my AOP annotation.</p>\n"}],"owner":{"account_id":2145385,"reputation":2499,"user_id":1903108,"accept_rate":80,"display_name":"Tariq"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17662,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35884966,"answer_count":3,"score":3,"last_activity_date":1678962152,"creation_date":1457438718,"question_id":35866920,"body_markdown":"I have following aspect class:\r\n\r\n    @Component\r\n    @Aspect\r\n    public class LoggedRequestAspect {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(LoggedRequestAspect.class);\r\n    \r\n        @Before(&quot;com.application.aspect.pointcut.LoggedRequestPointCut.LogRequest()&quot;)\r\n        public void logRequest(){\r\n            System.out.println(&quot;Method Executed!&quot;);\r\n            LOG.debug(&quot;Method Executed!&quot;);\r\n        }\r\n    }\r\n\r\nAnd for Annotation class:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface LoggedRequest {\r\n    }\r\n\r\nAnd finally pointcut:\r\n\r\n    public class LoggedRequestPointCut {\r\n    \r\n        @Pointcut(&quot;execution(@com.application.aspect.annotation.LoggedRequest * *(..))&quot;)\r\n        public void LogRequest(){}\r\n    \r\n    }\r\n\r\n\r\nNow for sure, I have annotated the required api method in my controller:\r\n\r\n    ...\r\n        @LoggedRequest\r\n        @RequestMapping(value = &quot;/login&quot;, method = { RequestMethod.POST })\r\n        public @ResponseBody Map&lt;String, Object&gt; login(/* Param List*/){\r\n    \r\n    ...\r\n\t    }\r\n\r\nAs suggested by many other answers on SO. I have added following to my spring configuration:\r\n\r\n\t&lt;context:annotation-config/&gt;\r\n\t...\r\n\t&lt;context:component-scan base-package=&quot;com.application.core&quot;/&gt;\r\n\t...\r\n\t&lt;aop:aspectj-autoproxy /&gt;\r\n\r\nNow All this is not working. I mean on my API call of `/login` the required advice is not executing.","title":"Spring AOP Annotation not working","body":"<p>I have following aspect class:</p>\n\n<pre><code>@Component\n@Aspect\npublic class LoggedRequestAspect {\n\n    private static final Logger LOG = LoggerFactory.getLogger(LoggedRequestAspect.class);\n\n    @Before(\"com.application.aspect.pointcut.LoggedRequestPointCut.LogRequest()\")\n    public void logRequest(){\n        System.out.println(\"Method Executed!\");\n        LOG.debug(\"Method Executed!\");\n    }\n}\n</code></pre>\n\n<p>And for Annotation class:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface LoggedRequest {\n}\n</code></pre>\n\n<p>And finally pointcut:</p>\n\n<pre><code>public class LoggedRequestPointCut {\n\n    @Pointcut(\"execution(@com.application.aspect.annotation.LoggedRequest * *(..))\")\n    public void LogRequest(){}\n\n}\n</code></pre>\n\n<p>Now for sure, I have annotated the required api method in my controller:</p>\n\n<pre><code>...\n    @LoggedRequest\n    @RequestMapping(value = \"/login\", method = { RequestMethod.POST })\n    public @ResponseBody Map&lt;String, Object&gt; login(/* Param List*/){\n\n...\n    }\n</code></pre>\n\n<p>As suggested by many other answers on SO. I have added following to my spring configuration:</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n...\n&lt;context:component-scan base-package=\"com.application.core\"/&gt;\n...\n&lt;aop:aspectj-autoproxy /&gt;\n</code></pre>\n\n<p>Now All this is not working. I mean on my API call of <code>/login</code> the required advice is not executing.</p>\n"},{"tags":["java","android","kotlin","dependency-injection","dagger-hilt"],"answers":[{"comments":[{"owner":{"account_id":7694500,"reputation":9584,"user_id":5829529,"display_name":"thefallen"},"score":0,"creation_date":1670245725,"post_id":74157916,"comment_id":131824410,"body_markdown":"This makes a lot of sense. Thank you!","body":"This makes a lot of sense. Thank you!"}],"tags":[],"owner":{"account_id":4531382,"reputation":272,"user_id":7409340,"display_name":"Gon&#231;alo Gaspar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666377388,"creation_date":1666377388,"answer_id":74157916,"question_id":73936795,"body_markdown":"So, I&#39;m new to compose and I was trying to make the exact same thing.\r\nThe compiler didn&#39;t let me inject the AppViewModel as a dependency to the ChildViewModel, so I ended up doing the following:\r\n\r\n 1. Created a data class (AppStateHolder) to store loading bool value.\r\n 2. At AppViewModel I inject AppStateHolder as dependency.\r\n 3. Added to appmodule the hilt reference generator with @Singleton and @Provides annotation.\r\n 4. I inject at ChildViewModel reference to AppStateHolder.\r\n 5. AppStateHolder has a mutable state for the isLoading boolean.\r\n 5. At AppViewModel init block I collect the appStateHolder values and update the mutable state accordingly.\r\n 6. When necessary at ChildViewModel I update AppStateHolder values.\r\n \r\nSo you can inject AppStateHolder, update its values, and when you make this, AppViewModel will be notified and updates its own state.\r\nThe setback is, if you havea lot of ui state variables at AppViewModel you have to replicate them at AppStateHolder and always observe them at AppViewModel.\r\n\r\nI know it&#39;s not the best option, but I will be looking for other ways or till someone comes with a better solution.\r\n\r\n\r\n","title":"Android Hilt. Is it possible to Inject one ViewModel into another?","body":"<p>So, I'm new to compose and I was trying to make the exact same thing.\nThe compiler didn't let me inject the AppViewModel as a dependency to the ChildViewModel, so I ended up doing the following:</p>\n<ol>\n<li>Created a data class (AppStateHolder) to store loading bool value.</li>\n<li>At AppViewModel I inject AppStateHolder as dependency.</li>\n<li>Added to appmodule the hilt reference generator with @Singleton and @Provides annotation.</li>\n<li>I inject at ChildViewModel reference to AppStateHolder.</li>\n<li>AppStateHolder has a mutable state for the isLoading boolean.</li>\n<li>At AppViewModel init block I collect the appStateHolder values and update the mutable state accordingly.</li>\n<li>When necessary at ChildViewModel I update AppStateHolder values.</li>\n</ol>\n<p>So you can inject AppStateHolder, update its values, and when you make this, AppViewModel will be notified and updates its own state.\nThe setback is, if you havea lot of ui state variables at AppViewModel you have to replicate them at AppStateHolder and always observe them at AppViewModel.</p>\n<p>I know it's not the best option, but I will be looking for other ways or till someone comes with a better solution.</p>\n"},{"tags":[],"owner":{"account_id":9053666,"reputation":1082,"user_id":6742754,"display_name":"zeroDivider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678962106,"creation_date":1678960455,"answer_id":75754524,"question_id":73936795,"body_markdown":"I had similar issue, I needed session view model, indicating that I needed it injected everywhere, in almost all view models. So, there was eg. `LoginViewModel` created like this:\r\n\r\n```\r\n@HiltViewModel\r\nclass LoginViewModel @Inject constructor(\r\n    private val loginRepository: LoginRepository,\r\n    private val sessionViewModel: SessionViewModel,\r\n) : BaseViewModel&lt;LoginContract.Event, LoginContract.State, LoginContract.Effect&gt;() {\r\n    ...\r\n```\r\n\r\nand then I needed a bit of a hack for `SessionViewModel`:\r\n```\r\n/** Note: not @HiltViewModel since it is not possible to inject HiltViewModel into another one.\r\n * So, this is left to be a viewModel, but it is injected via [AppModule.provideSessionViewModel()]\r\n */\r\nclass SessionViewModel @Inject constructor() :\r\n    BaseViewModel&lt;SessionContract.Event, SessionContract.State, SessionContract.Effect&gt;() {\r\n    ...\r\n```\r\n\r\n```\r\n@Singleton\r\n@Provides\r\nfun provideSessionViewModel() : SessionViewModel {\r\n   return SessionViewModel()\r\n}\r\n```\r\n\r\nThen, it can be injected on UI if needed there:\r\n```\r\n@Inject\r\nlateinit var sessionViewModel: SessionViewModel\r\n```","title":"Android Hilt. Is it possible to Inject one ViewModel into another?","body":"<p>I had similar issue, I needed session view model, indicating that I needed it injected everywhere, in almost all view models. So, there was eg. <code>LoginViewModel</code> created like this:</p>\n<pre><code>@HiltViewModel\nclass LoginViewModel @Inject constructor(\n    private val loginRepository: LoginRepository,\n    private val sessionViewModel: SessionViewModel,\n) : BaseViewModel&lt;LoginContract.Event, LoginContract.State, LoginContract.Effect&gt;() {\n    ...\n</code></pre>\n<p>and then I needed a bit of a hack for <code>SessionViewModel</code>:</p>\n<pre><code>/** Note: not @HiltViewModel since it is not possible to inject HiltViewModel into another one.\n * So, this is left to be a viewModel, but it is injected via [AppModule.provideSessionViewModel()]\n */\nclass SessionViewModel @Inject constructor() :\n    BaseViewModel&lt;SessionContract.Event, SessionContract.State, SessionContract.Effect&gt;() {\n    ...\n</code></pre>\n<pre><code>@Singleton\n@Provides\nfun provideSessionViewModel() : SessionViewModel {\n   return SessionViewModel()\n}\n</code></pre>\n<p>Then, it can be injected on UI if needed there:</p>\n<pre><code>@Inject\nlateinit var sessionViewModel: SessionViewModel\n</code></pre>\n"}],"owner":{"account_id":26495204,"reputation":63,"user_id":20133078,"display_name":"Mat&#250; Ravas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678962106,"creation_date":1664806635,"question_id":73936795,"body_markdown":"I have a ``ViewModel`` class:\r\n\r\n```kotlin\r\n@HiltViewModel\r\nopen class AppViewModel @Inject constructor(\r\n    private val savedStateHandle: SavedStateHandle\r\n): ViewModel(){\r\n\r\n    val isLoading: MutableState&lt;Boolean&gt; = mutableStateOf(false)\r\n\r\n    fun setIsLoading(isLoading: Boolean){\r\n        this.isLoading.value = isLoading\r\n    }\r\n}\r\n```\r\nThis class should hold the general App state.\r\n\r\nThen I have another ``ViewModel`` class, inside which I want to be able to modify the ``AppViewModel`` state. E.g. when fetching data I want to set ``isLoading`` to true and render the progress bar.\r\nThe ``ChildViewModel`` class that should modify ``AppViewModel`` state:\r\n\r\n```kotlin\r\nclass ChildViewModel @Inject constructor(\r\n    private val repository: Repository,\r\n    private val savedStateHandle: SavedStateHandle\r\n): AppViewModel(savedStateHandle){\r\n\r\n    ...\r\n\r\n    fun onTriggerEvent(event: RestApiEvents) {\r\n        try {\r\n            viewModelScope.launch {\r\n                // this should change the state in AppViewModel\r\n                isLoading.value = true\r\n                when(event) {\r\n                    is SearchEvent -&gt; {\r\n                        search(event.s)\r\n                    }\r\n                    else -&gt; {\r\n                        Log.d(TAG, &quot;Event not found&quot;)\r\n                    }\r\n                }\r\n                // this should change the state in AppViewModel\r\n                isLoading.value = false\r\n            }\r\n        }\r\n        catch (e: Exception){\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\n    private suspend fun search(s: String) {\r\n        ...\r\n    }\r\n}\r\n```","title":"Android Hilt. Is it possible to Inject one ViewModel into another?","body":"<p>I have a <code>ViewModel</code> class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@HiltViewModel\nopen class AppViewModel @Inject constructor(\n    private val savedStateHandle: SavedStateHandle\n): ViewModel(){\n\n    val isLoading: MutableState&lt;Boolean&gt; = mutableStateOf(false)\n\n    fun setIsLoading(isLoading: Boolean){\n        this.isLoading.value = isLoading\n    }\n}\n</code></pre>\n<p>This class should hold the general App state.</p>\n<p>Then I have another <code>ViewModel</code> class, inside which I want to be able to modify the <code>AppViewModel</code> state. E.g. when fetching data I want to set <code>isLoading</code> to true and render the progress bar.\nThe <code>ChildViewModel</code> class that should modify <code>AppViewModel</code> state:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ChildViewModel @Inject constructor(\n    private val repository: Repository,\n    private val savedStateHandle: SavedStateHandle\n): AppViewModel(savedStateHandle){\n\n    ...\n\n    fun onTriggerEvent(event: RestApiEvents) {\n        try {\n            viewModelScope.launch {\n                // this should change the state in AppViewModel\n                isLoading.value = true\n                when(event) {\n                    is SearchEvent -&gt; {\n                        search(event.s)\n                    }\n                    else -&gt; {\n                        Log.d(TAG, &quot;Event not found&quot;)\n                    }\n                }\n                // this should change the state in AppViewModel\n                isLoading.value = false\n            }\n        }\n        catch (e: Exception){\n            e.printStackTrace()\n        }\n    }\n\n    private suspend fun search(s: String) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1678961933,"post_id":75754795,"comment_id":133635718,"body_markdown":"depending on the type of Exception, throws is (or isn&#39;t) mandatory. IllegalArgumentException is a subclass of RuntimeException, and for RuntimeException, it is not required to put &#39;throws&#39; in the method signature. For non-RuntimeException Exceptions, it is required.","body":"depending on the type of Exception, throws is (or isn&#39;t) mandatory. IllegalArgumentException is a subclass of RuntimeException, and for RuntimeException, it is not required to put &#39;throws&#39; in the method signature. For non-RuntimeException Exceptions, it is required."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678962311,"post_id":75754795,"comment_id":133635827,"body_markdown":"check [Understanding checked vs unchecked exceptions in Java](https://stackoverflow.com/questions/6115896/understanding-checked-vs-unchecked-exceptions-in-java)","body":"check <a href=\"https://stackoverflow.com/questions/6115896/understanding-checked-vs-unchecked-exceptions-in-java\">Understanding checked vs unchecked exceptions in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":25953056,"reputation":3,"user_id":19680211,"display_name":"miao sun"},"score":0,"creation_date":1678963374,"post_id":75754836,"comment_id":133636196,"body_markdown":"Thank you,\n\n\nWhen a checked exception is thrown, only callers who can handle it properly should catch it with a try/catch.\n\nA runtime exception, should not be caught in the program. If you catch it, you run the risk that a bug in the code will be hidden from view at runtime.\n\nIs my understanding right?","body":"Thank you,   When a checked exception is thrown, only callers who can handle it properly should catch it with a try/catch.  A runtime exception, should not be caught in the program. If you catch it, you run the risk that a bug in the code will be hidden from view at runtime.  Is my understanding right?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1678964553,"post_id":75754836,"comment_id":133636574,"body_markdown":"@miaosun: Not necessarily - you certainly *can* catch RuntimeExceptions, and *sometimes* that&#39;s appropriate... but it&#39;s less common.","body":"@miaosun: Not necessarily - you certainly <i>can</i> catch RuntimeExceptions, and <i>sometimes</i> that&#39;s appropriate... but it&#39;s less common."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678961964,"creation_date":1678961964,"answer_id":75754836,"question_id":75754795,"body_markdown":"&gt; I don&#39;t know why we need throws keywords\r\n\r\nIn this case, you don&#39;t - because `IllegalArgumentException` extends `RuntimeException`. It&#39;s therefore not a *checked exception*, and doesn&#39;t need to be declared in a method that throws it.\r\n\r\nSee the [Java tutorial](https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html) for more details on when you need to use a `throws` declaration.","title":"What&#39;s the difference between these two java code?","body":"<blockquote>\n<p>I don't know why we need throws keywords</p>\n</blockquote>\n<p>In this case, you don't - because <code>IllegalArgumentException</code> extends <code>RuntimeException</code>. It's therefore not a <em>checked exception</em>, and doesn't need to be declared in a method that throws it.</p>\n<p>See the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">Java tutorial</a> for more details on when you need to use a <code>throws</code> declaration.</p>\n"}],"owner":{"account_id":25953056,"reputation":3,"user_id":19680211,"display_name":"miao sun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678966423,"accepted_answer_id":75754836,"answer_count":1,"score":0,"last_activity_date":1678961964,"creation_date":1678961783,"question_id":75754795,"body_markdown":"if without the `throws IllegalArgumentException`, I can still throw exception that catched by the catch block in the main fucntion, why I need `throws IllegalArgumentException`??\r\n\r\n\r\n```\r\npublic class ExceptionsTest {\r\n    public static void funcThrowsException(int n) throws IllegalArgumentException{\r\n        if(n == 0){\r\n            throw new IllegalArgumentException(&quot;ex&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            funcThrowsException(0);\r\n        }catch (IllegalArgumentException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ExceptionsTest {\r\n    public static void funcThrowsException(int n){\r\n        if(n == 0){\r\n            throw new IllegalArgumentException(&quot;ex&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            funcThrowsException(0);\r\n        }catch (IllegalArgumentException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nTheir output are same:\r\n\r\n```\r\nex\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\n\r\n\r\nI don&#39;t know why we need throws keywords","title":"What&#39;s the difference between these two java code?","body":"<p>if without the <code>throws IllegalArgumentException</code>, I can still throw exception that catched by the catch block in the main fucntion, why I need <code>throws IllegalArgumentException</code>??</p>\n<pre><code>public class ExceptionsTest {\n    public static void funcThrowsException(int n) throws IllegalArgumentException{\n        if(n == 0){\n            throw new IllegalArgumentException(&quot;ex&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        try{\n            funcThrowsException(0);\n        }catch (IllegalArgumentException e){\n            System.out.println(e.getMessage());\n        }\n\n    }\n}\n</code></pre>\n<pre><code>public class ExceptionsTest {\n    public static void funcThrowsException(int n){\n        if(n == 0){\n            throw new IllegalArgumentException(&quot;ex&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        try{\n            funcThrowsException(0);\n        }catch (IllegalArgumentException e){\n            System.out.println(e.getMessage());\n        }\n\n    }\n}\n\n</code></pre>\n<p>Their output are same:</p>\n<pre><code>ex\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>I don't know why we need throws keywords</p>\n"},{"tags":["python","java","android","html"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678982279,"post_id":75754471,"comment_id":133642213,"body_markdown":"why is it tagged [tag:java], [tag:android] and [tag:html] ? as all of those are not directly linked with your problem, it&#39;s only python code here","body":"why is it tagged <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>, <a href=\"https://stackoverflow.com/questions/tagged/android\">android</a> and <a href=\"https://stackoverflow.com/questions/tagged/html\">html</a> ? as all of those are not directly linked with your problem, it&#39;s only python code here"},{"owner":{"account_id":3708936,"reputation":1077,"user_id":6653706,"accept_rate":92,"display_name":"Mattia"},"score":0,"creation_date":1679298384,"post_id":75754471,"comment_id":133689602,"body_markdown":"because it&#39;s part of my question, I in fact asked if it is possible to integrate a python script with a web interface (html) or with an android app (java)","body":"because it&#39;s part of my question, I in fact asked if it is possible to integrate a python script with a web interface (html) or with an android app (java)"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679303906,"post_id":75754471,"comment_id":133690835,"body_markdown":"So the python code doesn&#39;t really matter as it can be all code, it will works the same and will be the same question ? it just make people more confused","body":"So the python code doesn&#39;t really matter as it can be all code, it will works the same and will be the same question ? it just make people more confused"}],"answers":[{"tags":[],"owner":{"account_id":15408549,"reputation":60,"user_id":11115983,"display_name":"Asteck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678961893,"creation_date":1678961893,"answer_id":75754824,"question_id":75754471,"body_markdown":"With regard to a simple graphical interface, I would look into **pygame** for simple functionality with buttons and a display for a rover moving.\r\n\r\nPersonally, I would not recommend pygame for large, intricate projects like game design, but your needs from your question seem viable. \r\n\r\n https://www.thepythoncode.com/article/make-a-button-using-pygame-in-python.\r\n\r\nIf you want to design a website UI, from my experience, you should pick a **framework** such as **Django**.\r\n\r\nhttps://careerfoundry.com/en/blog/web-development/responsiveness-with-a-front-end-framework/.\r\nhttps://www.w3schools.com/django/\r\n\r\nAfter you set up so you can host locally, you should be able to implement your script on a web page where you may have to use javascript or another language for design features.","title":"How to interact trought a UI with a python script","body":"<p>With regard to a simple graphical interface, I would look into <strong>pygame</strong> for simple functionality with buttons and a display for a rover moving.</p>\n<p>Personally, I would not recommend pygame for large, intricate projects like game design, but your needs from your question seem viable.</p>\n<p><a href=\"https://www.thepythoncode.com/article/make-a-button-using-pygame-in-python\" rel=\"nofollow noreferrer\">https://www.thepythoncode.com/article/make-a-button-using-pygame-in-python</a>.</p>\n<p>If you want to design a website UI, from my experience, you should pick a <strong>framework</strong> such as <strong>Django</strong>.</p>\n<p><a href=\"https://careerfoundry.com/en/blog/web-development/responsiveness-with-a-front-end-framework/\" rel=\"nofollow noreferrer\">https://careerfoundry.com/en/blog/web-development/responsiveness-with-a-front-end-framework/</a>.\n<a href=\"https://www.w3schools.com/django/\" rel=\"nofollow noreferrer\">https://www.w3schools.com/django/</a></p>\n<p>After you set up so you can host locally, you should be able to implement your script on a web page where you may have to use javascript or another language for design features.</p>\n"}],"owner":{"account_id":3708936,"reputation":1077,"user_id":6653706,"accept_rate":92,"display_name":"Mattia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75754824,"answer_count":1,"score":-1,"last_activity_date":1678961893,"creation_date":1678960095,"question_id":75754471,"body_markdown":"I created a prototype of a small rover with a raspberry, using python I created a script that allows me to move it simply by pressing a few keys on the keyboard.\r\n\r\nThe script essentially waits for a key to be pressed to &quot;command&quot; the rover motors, the code works through a terminal shell, now what I would like is to create a web UI or an Android app that allows me to command the rover without using a shell.\r\n\r\nThe source code is something like that:\r\n\r\n    #!/usr/bin/env python\r\n    #!/bin/bash\r\n    import RPi.GPIO as GPIO\r\n    from time import sleep\r\n    \r\n    print(&quot;\\n&quot;)\r\n    print(&quot;A-forward S-backward L-left turn R-right turn  l-low m-medium h-high e-exit&quot;)\r\n    print(&quot;\\n&quot;)\r\n    \r\n    a=11\r\n    b=15\r\n    c=16\r\n    d=18\r\n    \r\n    def init():    \r\n        GPIO.setmode(GPIO.BCM)\r\n        GPIO.setup(a, GPIO.OUT)\r\n        GPIO.setup(b, GPIO.OUT)\r\n        GPIO.setup(c, GPIO.OUT)\r\n        GPIO.setup(d, GPIO.OUT)\r\n        p=GPIO.PWM(d,1000)\r\n        p.start(25)\r\n    \r\n    def forward():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    def reverse():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    def left_turn():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    def right_turn():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    while(1):\r\n    \r\n        x=input()\r\n        if x==&#39;w&#39;:\r\n            print(&quot;forward&quot;)\r\n            forward()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;s&#39;:\r\n            print(&quot;backward&quot;)\r\n            reverse()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;a&#39;:\r\n            print(&quot;left&quot;)\r\n            left_turn()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;d&#39;:\r\n            print(&quot;right&quot;)\r\n            right_turn()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;e&#39;:\r\n            GPIO.cleanup()\r\n            break\r\n    \r\n        else:\r\n            print(&quot;&lt;&lt;&lt;  wrong data  &gt;&gt;&gt;&quot;)\r\n            print(&quot;please enter the defined data to continue.....&quot;)\r\n\r\nHow can I create a graphical interface (basically formed by 4 buttons that will represent the directions) that can interact with a python script? Is it possible to continue to use a script as a basis for moving my rover or should I implement a different solution?\r\n\r\nMore than a solution I&#39;m interested in understanding if I can use the base script and if I can hook it to a UI.","title":"How to interact trought a UI with a python script","body":"<p>I created a prototype of a small rover with a raspberry, using python I created a script that allows me to move it simply by pressing a few keys on the keyboard.</p>\n<p>The script essentially waits for a key to be pressed to &quot;command&quot; the rover motors, the code works through a terminal shell, now what I would like is to create a web UI or an Android app that allows me to command the rover without using a shell.</p>\n<p>The source code is something like that:</p>\n<pre><code>#!/usr/bin/env python\n#!/bin/bash\nimport RPi.GPIO as GPIO\nfrom time import sleep\n\nprint(&quot;\\n&quot;)\nprint(&quot;A-forward S-backward L-left turn R-right turn  l-low m-medium h-high e-exit&quot;)\nprint(&quot;\\n&quot;)\n\na=11\nb=15\nc=16\nd=18\n\ndef init():    \n    GPIO.setmode(GPIO.BCM)\n    GPIO.setup(a, GPIO.OUT)\n    GPIO.setup(b, GPIO.OUT)\n    GPIO.setup(c, GPIO.OUT)\n    GPIO.setup(d, GPIO.OUT)\n    p=GPIO.PWM(d,1000)\n    p.start(25)\n\ndef forward():\n    init()\n    //MORE STUFF\n\ndef reverse():\n    init()\n    //MORE STUFF\n\ndef left_turn():\n    init()\n    //MORE STUFF\n\ndef right_turn():\n    init()\n    //MORE STUFF\n\nwhile(1):\n\n    x=input()\n    if x=='w':\n        print(&quot;forward&quot;)\n        forward()\n        x='z'\n\n    elif x=='s':\n        print(&quot;backward&quot;)\n        reverse()\n        x='z'\n\n    elif x=='a':\n        print(&quot;left&quot;)\n        left_turn()\n        x='z'\n\n    elif x=='d':\n        print(&quot;right&quot;)\n        right_turn()\n        x='z'\n\n    elif x=='e':\n        GPIO.cleanup()\n        break\n\n    else:\n        print(&quot;&lt;&lt;&lt;  wrong data  &gt;&gt;&gt;&quot;)\n        print(&quot;please enter the defined data to continue.....&quot;)\n</code></pre>\n<p>How can I create a graphical interface (basically formed by 4 buttons that will represent the directions) that can interact with a python script? Is it possible to continue to use a script as a basis for moving my rover or should I implement a different solution?</p>\n<p>More than a solution I'm interested in understanding if I can use the base script and if I can hook it to a UI.</p>\n"},{"tags":["java","unit-testing","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1674755991,"post_id":75245805,"comment_id":132786592,"body_markdown":"What code are you trying to test? How is the constructed object used in `stuffToTest` method?","body":"What code are you trying to test? How is the constructed object used in <code>stuffToTest</code> method?"},{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1674816033,"post_id":75245805,"comment_id":132798262,"body_markdown":"It&#39;s not really relevant -the important thing is that it constructs an instance of MyClass and that the constructor should throw an exception when called.\nThis is possible with PowerMock but I can&#39;t find a way to do it with Mockito Inline, which is supposed to be a newer and nicer alternative","body":"It&#39;s not really relevant -the important thing is that it constructs an instance of MyClass and that the constructor should throw an exception when called. This is possible with PowerMock but I can&#39;t find a way to do it with Mockito Inline, which is supposed to be a newer and nicer alternative"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1674818299,"post_id":75245805,"comment_id":132798893,"body_markdown":"It is relevant because of how `mockito-inline` works and how it handles mocking static methods and objects construction. It is not just a copy of the way PowerMock work(ed).","body":"It is relevant because of how <code>mockito-inline</code> works and how it handles mocking static methods and objects construction. It is not just a copy of the way PowerMock work(ed)."},{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1674833589,"post_id":75245805,"comment_id":132803905,"body_markdown":"Then let&#39;s just say I&#39;m trying to test\nvoid stuffToTest() { new MyClass(&quot;hello&quot;); }","body":"Then let&#39;s just say I&#39;m trying to test void stuffToTest() { new MyClass(&quot;hello&quot;); }"}],"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678961508,"creation_date":1674734293,"question_id":75245805,"body_markdown":"We&#39;re migrating all our code away from PowerMock to Mockito Inline, I&#39;ve mostly been able to migrate all cases but I don&#39;t know how to throw an exception when an instance of a specific class is created, using Mockito MockedConstruction.\r\n\r\ni.e I need to migrate to Mockito Inline from this:\r\n\r\n\r\n    whenNew(MyClass.class).withAnyArguments().thenThrow(new MyException(&quot;fail&quot;));\r\n\r\nI&#39;ve read the docs and I can&#39;t find how to do it.\r\n\r\nI&#39;ve tried this:\r\n\r\n```\r\ntry (MockedConstruction&lt;MyClass&gt; ignored = mockConstruction(MyClass.class, \r\n         (mock, context) -&gt; { when(new MyClass(any())).thenThrow(new MyException(&quot;fail&quot;));})\r\n) {\r\n      stuffToTest();\r\n  }\r\n```\r\n\r\nI&#39;ve also tried the suggested solution [here][1] but it doesn&#39;t work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70122376/how-to-mock-a-constructor-which-is-throwing-a-ioexception-with-mockito-inline","title":"How to migrate PowerMockito whenNew thenThrow to Mockito Inline MockedConstruction","body":"<p>We're migrating all our code away from PowerMock to Mockito Inline, I've mostly been able to migrate all cases but I don't know how to throw an exception when an instance of a specific class is created, using Mockito MockedConstruction.</p>\n<p>i.e I need to migrate to Mockito Inline from this:</p>\n<pre><code>whenNew(MyClass.class).withAnyArguments().thenThrow(new MyException(&quot;fail&quot;));\n</code></pre>\n<p>I've read the docs and I can't find how to do it.</p>\n<p>I've tried this:</p>\n<pre><code>try (MockedConstruction&lt;MyClass&gt; ignored = mockConstruction(MyClass.class, \n         (mock, context) -&gt; { when(new MyClass(any())).thenThrow(new MyException(&quot;fail&quot;));})\n) {\n      stuffToTest();\n  }\n</code></pre>\n<p>I've also tried the suggested solution <a href=\"https://stackoverflow.com/questions/70122376/how-to-mock-a-constructor-which-is-throwing-a-ioexception-with-mockito-inline\">here</a> but it doesn't work.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","graphql-java"],"comments":[{"owner":{"account_id":14370282,"reputation":303,"user_id":10380228,"display_name":"Alexander Argyriou"},"score":1,"creation_date":1678961524,"post_id":75754699,"comment_id":133635588,"body_markdown":"The postPersist event occurs for an entity after the entity has been made persistent. It will be invoked after the database insert operations. Consider this https://vladmihalcea.com/prepersist-preupdate-embeddable-jpa-hibernate/","body":"The postPersist event occurs for an entity after the entity has been made persistent. It will be invoked after the database insert operations. Consider this <a href=\"https://vladmihalcea.com/prepersist-preupdate-embeddable-jpa-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/prepersist-preupdate-embeddable-jpa-hiberna&zwnj;&#8203;te</a>"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678961248,"creation_date":1678961248,"question_id":75754699,"body_markdown":"I have Product that contains Portfolios and each Portfolio have InvestmentAllocation. When I add a new Product with portfolios with investment allocation, all the data is stored in the database. When I try to edit existing products and edit its portfolios and investment allocations, all the data is being updated successfully. But when I update existing product and try to add a new portfolio to it with investment allocation,I am getting the following error: \r\n\r\n&gt; Caused by: java.sql.SQLException: Cannot insert the value NULL into column &#39;PortfolioKey&#39;, table &#39;productsdb.dbo.InvestmentAllocation&#39;; column does not allow nulls. INSERT fails.\r\n\r\nI am using @PostPersist annotation to fill the null values with the captured ids. The problem is that on update I cannot add new portfolio with new investment allocation. When I remove the investment allocation from the portfolio I am able to add the new portfolio to the existing product. I assume that when we have existing product and try to add new portfolio with new investment, the @PostPersist annotation is ignored inside the class Portfolio.\r\n\r\n    @Table(name = &quot;Product&quot;)\r\n    public class Product extends MutableEntity {\r\n    \r\n        private static final long serialVersionUID = 8675881197953603577L;\r\n    \r\n        @Column(name = &quot;ClientKey&quot;)\r\n        private Long clientId;\r\n    \r\n        @Column(name = &quot;Administrator&quot;)\r\n        private String administrator;\r\n    \r\n        @OneToMany(\r\n                fetch = FetchType.LAZY,\r\n                cascade = {CascadeType.ALL},\r\n                orphanRemoval = true\r\n        )\r\n        @JoinColumn(\r\n                name = &quot;ProductKey&quot;,\r\n                nullable = false,\r\n                insertable = false,\r\n                updatable = false\r\n        )\r\n        @Cascade({org.hibernate.annotations.CascadeType.ALL})\r\n        private Set&lt;Portfolio&gt; portfolios;\r\n    \r\n        @PostPersist\r\n        protected void postPersist() {\r\n            Iterator var1;\r\n            if (this.portfolios != null) {\r\n                var1 = this.portfolios.iterator();\r\n    \r\n                while (var1.hasNext()) {\r\n                    Portfolio portfolio = (Portfolio) var1.next();\r\n                    if (portfolio.getProductId() == null) {\r\n                        portfolio.setProductId(this.getId());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Table(name = &quot;Portfolio&quot;)\r\n    public class Portfolio extends MutableEntity {\r\n    \r\n        private static final long serialVersionUID = -6668016124280143515L;\r\n    \r\n        @Column(name = &quot;ProductKey&quot;)\r\n        private Long productId;\r\n    \r\n        @Column(name = &quot;Name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;Amount&quot;)\r\n        private BigDecimal amount;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;genericScenarioPortfolio&quot;)\r\n        private InvestmentAllocation investmentAllocation;\r\n    \r\n        @PostPersist\r\n        protected void postPersist() {\r\n            if (this.investmentAllocation != null) {\r\n                if (this.investmentAllocation.getPortfolioId() == null) {\r\n                    this.investmentAllocation.setPortfolioId(this.getId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Table(name = &quot;InvestmentAllocation&quot;)\r\n    public class InvestmentAllocation {\r\n    \r\n        private static final long serialVersionUID = -5974811107021515065L;\r\n    \r\n        @Column(name = &quot;PortfolioKey&quot;)\r\n        private Long portfolioId;\r\n    \r\n        @Column(name = &quot;Cash&quot;)\r\n        private double cash;\r\n    \r\n        @Column(name = &quot;Bond&quot;)\r\n        private double bond;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;PortfolioKey&quot;, insertable = false, updatable = false)\r\n        private Portfolio portfolio;\r\n    }\r\n\r\nHere is my save functionality:\r\n\r\n     @Transactional\r\n        public SaveProductPayload saveProduct(SaveProductInput input, DataFetchingEnvironment env) {\r\n            Product source = productDTOMapper.toProduct(input);\r\n            Long id = source.getId();\r\n            Product target = new Product();\r\n            if (id != null) {\r\n                target = productRepository.findById(id).orElseThrow(()\r\n                        -&gt; new ProductNotFoundException(String.format(&quot;No entity found for id %s.&quot;, id)));\r\n            }\r\n            target = productDTOMapper.overlay(source, target);\r\n    \r\n            PortfolioMergeFactory.merge(target, portfolioDTOMapper.toPortfolios(input.getPortfolios()));\r\n            \r\n            Product scenarioProduct = productRepository.save(target);\r\n            return new SaveProductPayload(input.getClientMutationId());\r\n        }\r\n\r\n    public class PortfolioMergeFactory {\r\n        private PortfolioMergeFactory() {\r\n        }\r\n    \r\n        public static void merge(Product target, Collection&lt;Portfolio&gt; source) {\r\n            werePortfoliosAdded(target, source);\r\n            werePortfoliosUpdated(target, source);\r\n            werePortfoliosRemoved(target, source);\r\n        }\r\n    \r\n        private static void werePortfoliosAdded(Product target, Collection&lt;Portfolio&gt; source) {\r\n            if (source != null) {\r\n                if (target.getPortfolios() == null) {\r\n                    target.setPortfolios(new HashSet&lt;&gt;());\r\n                }\r\n                Set&lt;Portfolio&gt; copy = Sets.newHashSet(target.getGenericPortfolios());\r\n                for (Portfolio portfolio : source) {\r\n                    if (copy.stream().noneMatch(e -&gt; e.getName().equals(portfolio.getName()))) {\r\n                        Portfolio newPortfolio = new Portfolio();\r\n                        newPortfolio.setProductId(target.getId());\r\n                        newPortfolio.setName(portfolio.getName());\r\n                        newPortfolio.setAmount(portfolio.getAmount());\r\n                        newPortfolio.setInvestmentAllocation(portfolio.getInvestmentAllocation());\r\n                        target.getGenericPortfolios().add(newPortfolio);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void werePortfoliosUpdated(Product target, Collection&lt;Portfolio&gt; sourceList) {\r\n            if (target.getPortfolios() != null &amp;&amp; sourceList != null) {\r\n    \r\n                for (Portfolio source : sourceList) {\r\n                    Portfolio persisted = target.getPortfolios().stream().filter((e) -&gt; {\r\n                        return e.getId() != null &amp;&amp; e.getName() != null &amp;&amp; e.getName().equals(source.getName());\r\n                    }).findFirst().orElse(null);\r\n                    if (persisted != null) {\r\n                        persisted.setProductId(target.getId());\r\n                        persisted.setName(source.getName());\r\n                        persisted.setAmount(source.getAmount());\r\n                        if (source.getInvestmentAllocation() != null) {\r\n                            source.getInvestmentAllocation().setPortfolioId(persisted.getId());\r\n                        }\r\n                        persisted.setInvestmentAllocation(source.getInvestmentAllocation());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void werePortfoliosRemoved(Product target, Collection&lt;Portfolio&gt; source) {\r\n            if (target.getPortfolios() != null &amp;&amp; source != null) {\r\n                target.getPortfolios().removeIf(thisObject -&gt; source.stream()\r\n                        .noneMatch(otherObject -&gt; otherObject.getName().equals(thisObject.getName())));\r\n    \r\n            } else if (target.getPortfolios() != null) {\r\n                for (Portfolio portfolio : new ArrayList&lt;&gt;(target.getPortfolios())) {\r\n                    target.getPortfolios().remove(portfolio);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nand the following are the dto mappers:\r\n\r\n    @Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\r\n            , unmappedTargetPolicy = ReportingPolicy.ERROR\r\n            , uses = {\r\n            PortfolioDTOMapper.class})\r\n    public abstract class ProductDTOMapper {\r\n    \r\n        @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Product\\&quot;, source.getId()))&quot;)\r\n        @Mapping(target = &quot;clientId&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;ClientScene\\&quot;, source.getSceneId()))&quot;)\r\n        @Mapping(target = &quot;administrator&quot;, source = &quot;administrator&quot;)\r\n        @Mapping(target = &quot;genericPortfolios&quot;, source = &quot;genericPortfolios&quot;)\r\n        public abstract Product toProduct(SaveProductInput source);\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        @Mapping(target = &quot;portfolios&quot;, ignore = true)\r\n        public abstract Product overlay(Product source, @MappingTarget Product target);\r\n    \r\n    }\r\n    \r\n    @Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\r\n            , unmappedTargetPolicy = ReportingPolicy.ERROR\r\n            , uses = {\r\n            InvestmentAllocationDTOMapper.class\r\n    })\r\n    public abstract class PortfolioDTOMapper {\r\n    \r\n        @Mapping(target = &quot;productId&quot;, source = &quot;productId&quot;)\r\n        @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n        @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\r\n        @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\r\n        public abstract PortfolioDTO toPortfolioDTO(Portfolio source);\r\n    \r\n        public abstract List&lt;PortfolioDTO&gt; toPortfolioDTOs(Iterable&lt;Portfolio&gt; source);\r\n    \r\n    \r\n        @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Portfolio\\&quot;, source.getId()))&quot;)\r\n        @Mapping(target = &quot;productId&quot;, ignore = true)\r\n        @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n        @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\r\n        @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\r\n        public abstract Portfolio toPortfolio(PortfolioInput source);\r\n    \r\n        public abstract List&lt;Portfolio&gt; toPortfolios(Iterable&lt;PortfolioInput&gt; source);\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        public abstract Portfolio overlay(Portfolio source, @MappingTarget Portfolio target);\r\n    }\r\n    \r\n    \r\n    @Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\r\n    public abstract class InvestmentAllocationDTOMapper {\r\n        @Mapping(target = &quot;portfolioId&quot;, source = &quot;portfolioId&quot;)\r\n        @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\r\n        @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\r\n        public abstract InvestmentAllocationDTO toInvestmentAllocationDTO(InvestmentAllocation source);\r\n    \r\n        public abstract List&lt;InvestmentAllocationDTO&gt; toInvestmentAllocationDTOs(\r\n                Iterable&lt;InvestmentAllocation&gt; source\r\n        );\r\n    \r\n        @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;InvestmentAllocation\\&quot;, source.getId()))&quot;)\r\n        @Mapping(target = &quot;portfolioId&quot;, ignore = true)\r\n        @Mapping(target = &quot;portfolio&quot;, ignore = true)\r\n        @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\r\n        @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\r\n        public abstract InvestmentAllocation toInvestmentAllocation(InvestmentAllocationInput source);\r\n    \r\n        public abstract List&lt;InvestmentAllocation&gt; toInvestmentAllocations(\r\n                Iterable&lt;InvestmentAllocationInput&gt; source\r\n        );\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        public abstract InvestmentAllocation overlay(InvestmentAllocation source, @MappingTarget InvestmentAllocation target);\r\n    }\r\n\r\nWhy the first time the postPersist method is invoked successfully, but the second time it is ignored?\r\n","title":"Why @PostPersist is invoked when saving a new entity, but not invoked when updating an already existing one","body":"<p>I have Product that contains Portfolios and each Portfolio have InvestmentAllocation. When I add a new Product with portfolios with investment allocation, all the data is stored in the database. When I try to edit existing products and edit its portfolios and investment allocations, all the data is being updated successfully. But when I update existing product and try to add a new portfolio to it with investment allocation,I am getting the following error:</p>\n<blockquote>\n<p>Caused by: java.sql.SQLException: Cannot insert the value NULL into column 'PortfolioKey', table 'productsdb.dbo.InvestmentAllocation'; column does not allow nulls. INSERT fails.</p>\n</blockquote>\n<p>I am using @PostPersist annotation to fill the null values with the captured ids. The problem is that on update I cannot add new portfolio with new investment allocation. When I remove the investment allocation from the portfolio I am able to add the new portfolio to the existing product. I assume that when we have existing product and try to add new portfolio with new investment, the @PostPersist annotation is ignored inside the class Portfolio.</p>\n<pre><code>@Table(name = &quot;Product&quot;)\npublic class Product extends MutableEntity {\n\n    private static final long serialVersionUID = 8675881197953603577L;\n\n    @Column(name = &quot;ClientKey&quot;)\n    private Long clientId;\n\n    @Column(name = &quot;Administrator&quot;)\n    private String administrator;\n\n    @OneToMany(\n            fetch = FetchType.LAZY,\n            cascade = {CascadeType.ALL},\n            orphanRemoval = true\n    )\n    @JoinColumn(\n            name = &quot;ProductKey&quot;,\n            nullable = false,\n            insertable = false,\n            updatable = false\n    )\n    @Cascade({org.hibernate.annotations.CascadeType.ALL})\n    private Set&lt;Portfolio&gt; portfolios;\n\n    @PostPersist\n    protected void postPersist() {\n        Iterator var1;\n        if (this.portfolios != null) {\n            var1 = this.portfolios.iterator();\n\n            while (var1.hasNext()) {\n                Portfolio portfolio = (Portfolio) var1.next();\n                if (portfolio.getProductId() == null) {\n                    portfolio.setProductId(this.getId());\n                }\n            }\n        }\n    }\n}\n\n@Table(name = &quot;Portfolio&quot;)\npublic class Portfolio extends MutableEntity {\n\n    private static final long serialVersionUID = -6668016124280143515L;\n\n    @Column(name = &quot;ProductKey&quot;)\n    private Long productId;\n\n    @Column(name = &quot;Name&quot;)\n    private String name;\n\n    @Column(name = &quot;Amount&quot;)\n    private BigDecimal amount;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;genericScenarioPortfolio&quot;)\n    private InvestmentAllocation investmentAllocation;\n\n    @PostPersist\n    protected void postPersist() {\n        if (this.investmentAllocation != null) {\n            if (this.investmentAllocation.getPortfolioId() == null) {\n                this.investmentAllocation.setPortfolioId(this.getId());\n            }\n        }\n    }\n}\n\n@Table(name = &quot;InvestmentAllocation&quot;)\npublic class InvestmentAllocation {\n\n    private static final long serialVersionUID = -5974811107021515065L;\n\n    @Column(name = &quot;PortfolioKey&quot;)\n    private Long portfolioId;\n\n    @Column(name = &quot;Cash&quot;)\n    private double cash;\n\n    @Column(name = &quot;Bond&quot;)\n    private double bond;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;PortfolioKey&quot;, insertable = false, updatable = false)\n    private Portfolio portfolio;\n}\n</code></pre>\n<p>Here is my save functionality:</p>\n<pre><code> @Transactional\n    public SaveProductPayload saveProduct(SaveProductInput input, DataFetchingEnvironment env) {\n        Product source = productDTOMapper.toProduct(input);\n        Long id = source.getId();\n        Product target = new Product();\n        if (id != null) {\n            target = productRepository.findById(id).orElseThrow(()\n                    -&gt; new ProductNotFoundException(String.format(&quot;No entity found for id %s.&quot;, id)));\n        }\n        target = productDTOMapper.overlay(source, target);\n\n        PortfolioMergeFactory.merge(target, portfolioDTOMapper.toPortfolios(input.getPortfolios()));\n        \n        Product scenarioProduct = productRepository.save(target);\n        return new SaveProductPayload(input.getClientMutationId());\n    }\n\npublic class PortfolioMergeFactory {\n    private PortfolioMergeFactory() {\n    }\n\n    public static void merge(Product target, Collection&lt;Portfolio&gt; source) {\n        werePortfoliosAdded(target, source);\n        werePortfoliosUpdated(target, source);\n        werePortfoliosRemoved(target, source);\n    }\n\n    private static void werePortfoliosAdded(Product target, Collection&lt;Portfolio&gt; source) {\n        if (source != null) {\n            if (target.getPortfolios() == null) {\n                target.setPortfolios(new HashSet&lt;&gt;());\n            }\n            Set&lt;Portfolio&gt; copy = Sets.newHashSet(target.getGenericPortfolios());\n            for (Portfolio portfolio : source) {\n                if (copy.stream().noneMatch(e -&gt; e.getName().equals(portfolio.getName()))) {\n                    Portfolio newPortfolio = new Portfolio();\n                    newPortfolio.setProductId(target.getId());\n                    newPortfolio.setName(portfolio.getName());\n                    newPortfolio.setAmount(portfolio.getAmount());\n                    newPortfolio.setInvestmentAllocation(portfolio.getInvestmentAllocation());\n                    target.getGenericPortfolios().add(newPortfolio);\n                }\n            }\n        }\n    }\n\n    private static void werePortfoliosUpdated(Product target, Collection&lt;Portfolio&gt; sourceList) {\n        if (target.getPortfolios() != null &amp;&amp; sourceList != null) {\n\n            for (Portfolio source : sourceList) {\n                Portfolio persisted = target.getPortfolios().stream().filter((e) -&gt; {\n                    return e.getId() != null &amp;&amp; e.getName() != null &amp;&amp; e.getName().equals(source.getName());\n                }).findFirst().orElse(null);\n                if (persisted != null) {\n                    persisted.setProductId(target.getId());\n                    persisted.setName(source.getName());\n                    persisted.setAmount(source.getAmount());\n                    if (source.getInvestmentAllocation() != null) {\n                        source.getInvestmentAllocation().setPortfolioId(persisted.getId());\n                    }\n                    persisted.setInvestmentAllocation(source.getInvestmentAllocation());\n                }\n            }\n        }\n    }\n\n    private static void werePortfoliosRemoved(Product target, Collection&lt;Portfolio&gt; source) {\n        if (target.getPortfolios() != null &amp;&amp; source != null) {\n            target.getPortfolios().removeIf(thisObject -&gt; source.stream()\n                    .noneMatch(otherObject -&gt; otherObject.getName().equals(thisObject.getName())));\n\n        } else if (target.getPortfolios() != null) {\n            for (Portfolio portfolio : new ArrayList&lt;&gt;(target.getPortfolios())) {\n                target.getPortfolios().remove(portfolio);\n            }\n        }\n    }\n}\n</code></pre>\n<p>and the following are the dto mappers:</p>\n<pre><code>@Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\n        , unmappedTargetPolicy = ReportingPolicy.ERROR\n        , uses = {\n        PortfolioDTOMapper.class})\npublic abstract class ProductDTOMapper {\n\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Product\\&quot;, source.getId()))&quot;)\n    @Mapping(target = &quot;clientId&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;ClientScene\\&quot;, source.getSceneId()))&quot;)\n    @Mapping(target = &quot;administrator&quot;, source = &quot;administrator&quot;)\n    @Mapping(target = &quot;genericPortfolios&quot;, source = &quot;genericPortfolios&quot;)\n    public abstract Product toProduct(SaveProductInput source);\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;portfolios&quot;, ignore = true)\n    public abstract Product overlay(Product source, @MappingTarget Product target);\n\n}\n\n@Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\n        , unmappedTargetPolicy = ReportingPolicy.ERROR\n        , uses = {\n        InvestmentAllocationDTOMapper.class\n})\npublic abstract class PortfolioDTOMapper {\n\n    @Mapping(target = &quot;productId&quot;, source = &quot;productId&quot;)\n    @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\n    @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\n    @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\n    public abstract PortfolioDTO toPortfolioDTO(Portfolio source);\n\n    public abstract List&lt;PortfolioDTO&gt; toPortfolioDTOs(Iterable&lt;Portfolio&gt; source);\n\n\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Portfolio\\&quot;, source.getId()))&quot;)\n    @Mapping(target = &quot;productId&quot;, ignore = true)\n    @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\n    @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\n    @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\n    public abstract Portfolio toPortfolio(PortfolioInput source);\n\n    public abstract List&lt;Portfolio&gt; toPortfolios(Iterable&lt;PortfolioInput&gt; source);\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    public abstract Portfolio overlay(Portfolio source, @MappingTarget Portfolio target);\n}\n\n\n@Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\npublic abstract class InvestmentAllocationDTOMapper {\n    @Mapping(target = &quot;portfolioId&quot;, source = &quot;portfolioId&quot;)\n    @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\n    @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\n    public abstract InvestmentAllocationDTO toInvestmentAllocationDTO(InvestmentAllocation source);\n\n    public abstract List&lt;InvestmentAllocationDTO&gt; toInvestmentAllocationDTOs(\n            Iterable&lt;InvestmentAllocation&gt; source\n    );\n\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;InvestmentAllocation\\&quot;, source.getId()))&quot;)\n    @Mapping(target = &quot;portfolioId&quot;, ignore = true)\n    @Mapping(target = &quot;portfolio&quot;, ignore = true)\n    @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\n    @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\n    public abstract InvestmentAllocation toInvestmentAllocation(InvestmentAllocationInput source);\n\n    public abstract List&lt;InvestmentAllocation&gt; toInvestmentAllocations(\n            Iterable&lt;InvestmentAllocationInput&gt; source\n    );\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    public abstract InvestmentAllocation overlay(InvestmentAllocation source, @MappingTarget InvestmentAllocation target);\n}\n</code></pre>\n<p>Why the first time the postPersist method is invoked successfully, but the second time it is ignored?</p>\n"},{"tags":["java","spring-boot","spring-mvc","annotations","spring-annotations"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1678961844,"post_id":75754649,"comment_id":133635687,"body_markdown":"Isnt that pretty much the same as using `@RequestMapping(/api/contracts)` at the class level and `@RequestMapping(/something)` at the method level? If this functionality isnt sufficient, you could look up the source code to find out how they concatenate the two and adapt it to your annotation.","body":"Isnt that pretty much the same as using <code>@RequestMapping(&#47;api&#47;contracts)</code> at the class level and <code>@RequestMapping(&#47;something)</code> at the method level? If this functionality isnt sufficient, you could look up the source code to find out how they concatenate the two and adapt it to your annotation."},{"owner":{"account_id":14460736,"reputation":11,"user_id":10445606,"display_name":"Kaustubh Wani"},"score":0,"creation_date":1678963092,"post_id":75754649,"comment_id":133636081,"body_markdown":"I have multiple controllers which extends @RequestMapping(&quot;/api/contracts&quot;) and has there own extended path. I&#39;m not using this for method.","body":"I have multiple controllers which extends @RequestMapping(&quot;/api/contracts&quot;) and has there own extended path. I&#39;m not using this for method."}],"owner":{"account_id":14460736,"reputation":11,"user_id":10445606,"display_name":"Kaustubh Wani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678961017,"creation_date":1678961017,"question_id":75754649,"body_markdown":"I have one custom annotation, I want to have default value of requestmapping as &quot;/api/contracts&quot; and to pass dynamic value which will concatenate to the path. \r\nExample I&#39;m passing &quot;/something&quot; to custom annotation it should act like &quot;/api/contracts/something&quot;\r\n\r\n\r\n\r\nMy custom annotation is \r\n\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RequestMapping(value = &quot;/api/contracts&quot;)\r\npublic @interface IfnContractRequestMapping\r\n{\r\n    @AliasFor(annotation = RequestMapping.class, attribute = &quot;value&quot;) String[] value() default {};\r\n\r\n}\r\n```\r\n\r\nAnd I&#39;m passing value to it as `@IfnContractRequestMapping(value = &quot;/something&quot;)`\r\n","title":"Concatenation of dynamic value and default value in custom annotation","body":"<p>I have one custom annotation, I want to have default value of requestmapping as &quot;/api/contracts&quot; and to pass dynamic value which will concatenate to the path.\nExample I'm passing &quot;/something&quot; to custom annotation it should act like &quot;/api/contracts/something&quot;</p>\n<p>My custom annotation is</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(value = &quot;/api/contracts&quot;)\npublic @interface IfnContractRequestMapping\n{\n    @AliasFor(annotation = RequestMapping.class, attribute = &quot;value&quot;) String[] value() default {};\n\n}\n</code></pre>\n<p>And I'm passing value to it as <code>@IfnContractRequestMapping(value = &quot;/something&quot;)</code></p>\n"},{"tags":["java","sockets","tcp"],"comments":[{"owner":{"account_id":400151,"reputation":8092,"user_id":765971,"accept_rate":80,"display_name":"SKi"},"score":0,"creation_date":1678962364,"post_id":75754644,"comment_id":133635850,"body_markdown":"It is a blocking call. It will block until connection is established, or attempt is failed.\nIf the network is very slow or unreliable, then noticeable blocking is expected.\nDepending on configuration, TCP may try to establish connection several minutes, before success or final timeout.","body":"It is a blocking call. It will block until connection is established, or attempt is failed. If the network is very slow or unreliable, then noticeable blocking is expected. Depending on configuration, TCP may try to establish connection several minutes, before success or final timeout."},{"owner":{"account_id":28030838,"reputation":11,"user_id":21410041,"display_name":"Rajeev"},"score":0,"creation_date":1679292119,"post_id":75754644,"comment_id":133688493,"body_markdown":"Thanks. Is there a way to reduce the connection time through tcp properties.","body":"Thanks. Is there a way to reduce the connection time through tcp properties."}],"owner":{"account_id":28030838,"reputation":11,"user_id":21410041,"display_name":"Rajeev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678961004,"creation_date":1678961004,"question_id":75754644,"body_markdown":"Using following socket API to create a new socket where passing local address as null, local port as 0. Remote address and port are valid values. In some cases it get stuck in native API (trace shown below).\r\n\r\npublic class DsSocket\r\n{\r\n   protected Socket m_socket;\r\n\r\n     public DsSocket(InetAddress lAddr, int lPort, InetAddress address,\r\n                    int port, DsNetwork network) throws IOException\r\n    {\r\n        this(new Socket(address, port, lAddr, lPort), network);\r\n    }\r\n}\r\n","title":"Thread stuck while creating socket in Java on RHEL 8.4","body":"<p>Using following socket API to create a new socket where passing local address as null, local port as 0. Remote address and port are valid values. In some cases it get stuck in native API (trace shown below).</p>\n<p>public class DsSocket\n{\nprotected Socket m_socket;</p>\n<pre><code> public DsSocket(InetAddress lAddr, int lPort, InetAddress address,\n                int port, DsNetwork network) throws IOException\n{\n    this(new Socket(address, port, lAddr, lPort), network);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sorting","java-stream","double","reverse"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678961057,"post_id":75754608,"comment_id":133635444,"body_markdown":"maybe you should call boxed() before you sort it then pass the Comparator.reverseOrder()?","body":"maybe you should call boxed() before you sort it then pass the Comparator.reverseOrder()?"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678961653,"post_id":75754608,"comment_id":133635627,"body_markdown":"Yes, this worked perfectly, thanks, I would love to know why, some suggest this is an expensive operation? but great thanks","body":"Yes, this worked perfectly, thanks, I would love to know why, some suggest this is an expensive operation? but great thanks"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1678966662,"post_id":75754608,"comment_id":133637130,"body_markdown":"thats because the comparator takes a generic type T, meaning it cannot take a primitive. Thus, you need to use the wrapper class Double. Java has built in boxing/unboxing for some operations, but here you need to explicitly call boxed(). but imagine a large list of numbers and you have to create a new object for each item. That adds up for large lists","body":"thats because the comparator takes a generic type T, meaning it cannot take a primitive. Thus, you need to use the wrapper class Double. Java has built in boxing/unboxing for some operations, but here you need to explicitly call boxed(). but imagine a large list of numbers and you have to create a new object for each item. That adds up for large lists"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678981703,"post_id":75754608,"comment_id":133642045,"body_markdown":"Thanks, I heard that this is quiet an expensive operation ? Maybe its better to just use Stream&lt;Integer&gt; instead of IntStream ?, Although I am sure it won&#39;t matter for smaller numbers","body":"Thanks, I heard that this is quiet an expensive operation ? Maybe its better to just use Stream&lt;Integer&gt; instead of IntStream ?, Although I am sure it won&#39;t matter for smaller numbers"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679017055,"post_id":75754608,"comment_id":133649695,"body_markdown":"That still matters as by passing an int to an ArrayList etc or Stream, Java boxes it for you into an Integer.","body":"That still matters as by passing an int to an ArrayList etc or Stream, Java boxes it for you into an Integer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1679068251,"post_id":75754608,"comment_id":133660184,"body_markdown":"You are already using `boxed()` so theres no point in worrying how expensive that is. You just have to move the already existing `boxed()` before the `sorted(Comparator.reverseOrder())` step.","body":"You are already using <code>boxed()</code> so theres no point in worrying how expensive that is. You just have to move the already existing <code>boxed()</code> before the <code>sorted(Comparator.reverseOrder())</code> step."}],"owner":{"display_name":"user16422658"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678961088,"answer_count":0,"score":0,"last_activity_date":1678960827,"creation_date":1678960827,"question_id":75754608,"body_markdown":"I am learning about Java Streams and I have created some functions to test and I am struggling to find a way to sort in reverse order\r\n\r\nHere is the code:\r\n\r\n    public class StreamCreator {\r\n    \r\n        public List&lt;Fruit&gt; getMixedFruitList() {\r\n            return Arrays.asList(\r\n                    new Fruit(true),\r\n                    new Orange(),\r\n                    new BloodOrange(),\r\n                    new BloodOrange(),\r\n                    new BloodOrange(),\r\n                    new Orange(),\r\n                    new Fruit(),\r\n                    new Mango(),\r\n                    new Mango(),\r\n                    new Mango(),\r\n                    new BloodOrange()\r\n            );\r\n        }\r\n    \r\n        public Stream&lt;Fruit&gt; getFruitStream() {\r\n            return getMixedFruitList().stream();\r\n        }\r\n    \r\n        public Stream&lt;Fruit&gt; getParallelFruitStream() {\r\n            return getMixedFruitList().parallelStream(); // Works\r\n            //return getMixedFruitList().stream().parallel(); //Works\r\n        }\r\n    \r\n        public Stream&lt;String&gt; getStringStream() {\r\n            return Stream.of(&quot;A&quot;, &quot;h&quot;, &quot;c&quot;, &quot;z&quot;, &quot;Z&quot;, &quot;b&quot;, &quot;H&quot;, &quot;M&quot;, &quot;o&quot;, &quot;9&quot;, &quot;3&quot;, &quot;8&quot;, &quot;2&quot;, &quot;1&quot;);\r\n        }\r\n    \r\n        public IntStream getIntStreamByRange(int start, int end, boolean closed) {\r\n            return (closed) ?\r\n                    IntStream.rangeClosed(start, end) :\r\n                    IntStream.range(start, end);\r\n        }\r\n    \r\n        public LongStream getLongStreamByRange(long start, long end, boolean closed) {\r\n            return (closed) ?\r\n                    LongStream.rangeClosed(start, end) :\r\n                    LongStream.range(start, end);\r\n        }\r\n    \r\n        public DoubleStream getDoubleStream() {\r\n            return DoubleStream.of(1.3, 98.7, 48.46, 68.47, 2.5, 6.7, 4.6, 9.2, 100.5, 4.6, 0.48, 3.0);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n    public static void intermediateOperatorsEg2() {\r\n            streamCreator\r\n                    .getDoubleStream()\r\n                    .sorted()\r\n                    .boxed()\r\n                    .collect(Collectors.toList())\r\n                    .forEach(sorted -&gt; System.out.print(sorted + &quot;, &quot;));\r\n    \r\n            streamCreator\r\n                    .getDoubleStream()\r\n                    .sorted(Comparator.reverseOrder())\r\n    \r\n                    .boxed()\r\n                    .collect(Collectors.toList());\r\n        }\r\n\r\n    public static void main(String[] args) {\r\n            //filterExample();\r\n            //intermediateOperatorsEg1();\r\n            intermediateOperatorsEg2();\r\n        }\r\n\r\n\r\nWhen I do Comparator.reverseOrder() I get the following error:\r\n\r\n    &#39;sorted()&#39; in &#39;java.util.stream.DoubleStream&#39; cannot be applied to &#39;(java.util.Comparator&lt;T&gt;)&#39;\r\n\r\nThen if I try:\r\n\r\n    .sorted(Comparator.comparingDouble(Double::valueOf))\r\n\r\nIt doesn&#39;t work, \r\nIf the stream is passing down each double value, what is the best way to reverse this ?\r\n\r\n\r\n\r\n","title":"Java Double Stream sort in reverse order","body":"<p>I am learning about Java Streams and I have created some functions to test and I am struggling to find a way to sort in reverse order</p>\n<p>Here is the code:</p>\n<pre><code>public class StreamCreator {\n\n    public List&lt;Fruit&gt; getMixedFruitList() {\n        return Arrays.asList(\n                new Fruit(true),\n                new Orange(),\n                new BloodOrange(),\n                new BloodOrange(),\n                new BloodOrange(),\n                new Orange(),\n                new Fruit(),\n                new Mango(),\n                new Mango(),\n                new Mango(),\n                new BloodOrange()\n        );\n    }\n\n    public Stream&lt;Fruit&gt; getFruitStream() {\n        return getMixedFruitList().stream();\n    }\n\n    public Stream&lt;Fruit&gt; getParallelFruitStream() {\n        return getMixedFruitList().parallelStream(); // Works\n        //return getMixedFruitList().stream().parallel(); //Works\n    }\n\n    public Stream&lt;String&gt; getStringStream() {\n        return Stream.of(&quot;A&quot;, &quot;h&quot;, &quot;c&quot;, &quot;z&quot;, &quot;Z&quot;, &quot;b&quot;, &quot;H&quot;, &quot;M&quot;, &quot;o&quot;, &quot;9&quot;, &quot;3&quot;, &quot;8&quot;, &quot;2&quot;, &quot;1&quot;);\n    }\n\n    public IntStream getIntStreamByRange(int start, int end, boolean closed) {\n        return (closed) ?\n                IntStream.rangeClosed(start, end) :\n                IntStream.range(start, end);\n    }\n\n    public LongStream getLongStreamByRange(long start, long end, boolean closed) {\n        return (closed) ?\n                LongStream.rangeClosed(start, end) :\n                LongStream.range(start, end);\n    }\n\n    public DoubleStream getDoubleStream() {\n        return DoubleStream.of(1.3, 98.7, 48.46, 68.47, 2.5, 6.7, 4.6, 9.2, 100.5, 4.6, 0.48, 3.0);\n    }\n\n\n}\n\npublic static void intermediateOperatorsEg2() {\n        streamCreator\n                .getDoubleStream()\n                .sorted()\n                .boxed()\n                .collect(Collectors.toList())\n                .forEach(sorted -&gt; System.out.print(sorted + &quot;, &quot;));\n\n        streamCreator\n                .getDoubleStream()\n                .sorted(Comparator.reverseOrder())\n\n                .boxed()\n                .collect(Collectors.toList());\n    }\n\npublic static void main(String[] args) {\n        //filterExample();\n        //intermediateOperatorsEg1();\n        intermediateOperatorsEg2();\n    }\n</code></pre>\n<p>When I do Comparator.reverseOrder() I get the following error:</p>\n<pre><code>'sorted()' in 'java.util.stream.DoubleStream' cannot be applied to '(java.util.Comparator&lt;T&gt;)'\n</code></pre>\n<p>Then if I try:</p>\n<pre><code>.sorted(Comparator.comparingDouble(Double::valueOf))\n</code></pre>\n<p>It doesn't work,\nIf the stream is passing down each double value, what is the best way to reverse this ?</p>\n"},{"tags":["java","json","json-simple"],"answers":[{"comments":[{"owner":{"account_id":3794269,"reputation":1346,"user_id":3149905,"accept_rate":80,"display_name":"BobDoolittle"},"score":4,"creation_date":1454016960,"post_id":18067193,"comment_id":57868010,"body_markdown":"That would have the distinct disadvantage of lower-casing the values, as well as the keys. There would seem to be no easy way to do a case-insensitive match on the keys alone, without getting more fancy such as iterating over the keys or changing the parser.","body":"That would have the distinct disadvantage of lower-casing the values, as well as the keys. There would seem to be no easy way to do a case-insensitive match on the keys alone, without getting more fancy such as iterating over the keys or changing the parser."},{"owner":{"account_id":1407650,"reputation":1023,"user_id":1334930,"display_name":"Tolio"},"score":0,"creation_date":1476129565,"post_id":18067193,"comment_id":67211450,"body_markdown":"Does the job when the formatting of the values are not important. In my case, all my values are numbers.","body":"Does the job when the formatting of the values are not important. In my case, all my values are numbers."},{"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"score":0,"creation_date":1620973084,"post_id":18067193,"comment_id":119360839,"body_markdown":"That&#39;s the solution I used because values also in my situation are case insensitive.","body":"That&#39;s the solution I used because values also in my situation are case insensitive."}],"tags":[],"owner":{"account_id":2592102,"reputation":171,"user_id":2246596,"display_name":"Zoltorn"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1375734798,"creation_date":1375734798,"answer_id":18067193,"question_id":18066844,"body_markdown":"You could read the JSONObject into a java string, and call String.toLowerCase on it and store it back into a JSONObject. This will turn the entire case of the string to lower case, so you will have to account for that elsewhere in your logic. After that, you then would just have to do a get call on &quot;inputhivetable&quot;. \r\n\r\nBy no means is it a pretty solution, but it is a potential work around if there is absolutely no other way for you to handle what you&#39;re returning as your JSON input.","title":"How to ignore case when searching a JSON Object","body":"<p>You could read the JSONObject into a java string, and call String.toLowerCase on it and store it back into a JSONObject. This will turn the entire case of the string to lower case, so you will have to account for that elsewhere in your logic. After that, you then would just have to do a get call on \"inputhivetable\". </p>\n\n<p>By no means is it a pretty solution, but it is a potential work around if there is absolutely no other way for you to handle what you're returning as your JSON input.</p>\n"},{"tags":[],"owner":{"account_id":2905043,"reputation":1741,"user_id":2490666,"display_name":"Alex P"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375738634,"creation_date":1375738078,"answer_id":18068049,"question_id":18066844,"body_markdown":"Given that case-insensitivity can be achieved with TreeMap (i.e. via `String.CASE_INSENSITIVE_ORDER` comparator), you can probably do the following:\r\n\r\n1. Implement your own `MyJSONObject` extending `TreeMap` where its methods will be just calling static methods of `JSONObject` with the same signatures and all required interfaces as in `JSONObject`. In default constructor write `super(String.CASE_INSENSITIVE_ORDER)`\r\n\r\n2. Implement `ContainerFactory` interface where `createObjectContainer` will return new instance of `MyJSONObject` (and `createArrayContainer` will just return new `JSONArray`).\r\n\r\n3. To run it with new container `MyContainerFactory`:\r\n\r\n         StringReader in = new StringReader(yourJSONString);                    \r\n         JSONParser parser = new JSONParser();      \r\n         parser.parse(in, yourContainerFactory)","title":"How to ignore case when searching a JSON Object","body":"<p>Given that case-insensitivity can be achieved with TreeMap (i.e. via <code>String.CASE_INSENSITIVE_ORDER</code> comparator), you can probably do the following:</p>\n\n<ol>\n<li><p>Implement your own <code>MyJSONObject</code> extending <code>TreeMap</code> where its methods will be just calling static methods of <code>JSONObject</code> with the same signatures and all required interfaces as in <code>JSONObject</code>. In default constructor write <code>super(String.CASE_INSENSITIVE_ORDER)</code></p></li>\n<li><p>Implement <code>ContainerFactory</code> interface where <code>createObjectContainer</code> will return new instance of <code>MyJSONObject</code> (and <code>createArrayContainer</code> will just return new <code>JSONArray</code>).</p></li>\n<li><p>To run it with new container <code>MyContainerFactory</code>:</p>\n\n<pre><code> StringReader in = new StringReader(yourJSONString);                    \n JSONParser parser = new JSONParser();      \n parser.parse(in, yourContainerFactory)\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1375742767,"creation_date":1375742767,"answer_id":18069036,"question_id":18066844,"body_markdown":"If you have to perform this case-insensitive lookup many times, I&#39;d just write a method to do that lookup:\r\n\r\n    public Object getIgnoreCase(JSONObject jobj, String key) {\r\n\r\n        Iterator&lt;String&gt; iter = jobj.keySet().iterator();\r\n        while (iter.hasNext()) {\r\n            String key1 = iter.next();\r\n            if (key1.equalsIgnoreCase(key)) {\r\n                return jobj.get(key1);\r\n            }\r\n        }\r\n\r\n        return null;\r\n\r\n    }","title":"How to ignore case when searching a JSON Object","body":"<p>If you have to perform this case-insensitive lookup many times, I'd just write a method to do that lookup:</p>\n\n<pre><code>public Object getIgnoreCase(JSONObject jobj, String key) {\n\n    Iterator&lt;String&gt; iter = jobj.keySet().iterator();\n    while (iter.hasNext()) {\n        String key1 = iter.next();\n        if (key1.equalsIgnoreCase(key)) {\n            return jobj.get(key1);\n        }\n    }\n\n    return null;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28031390,"reputation":1,"user_id":21410515,"display_name":"sushmitha petlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678960628,"creation_date":1678960628,"answer_id":75754571,"question_id":18066844,"body_markdown":"Example Json : \r\n    &quot;data&quot;: {\r\n        &quot;Information&quot;: {\r\n\t\t    &quot;Id&quot;: &quot;64&quot;.\r\n            &quot;relation&quot;: &quot;Current&quot;,}\r\n\t\t\t}\r\n \r\nIn the java model :\r\n\r\n    @JsonbProperty(&quot;Information&quot;)\r\n    private DataInformationModel information;\r\n    @JsonbProperty(&quot;Id&quot;)\r\n    private DataModel id;\r\n\r\n@JsonbProperty worked for me","title":"How to ignore case when searching a JSON Object","body":"<p>Example Json :\n&quot;data&quot;: {\n&quot;Information&quot;: {\n&quot;Id&quot;: &quot;64&quot;.\n&quot;relation&quot;: &quot;Current&quot;,}\n}</p>\n<p>In the java model :</p>\n<pre><code>@JsonbProperty(&quot;Information&quot;)\nprivate DataInformationModel information;\n@JsonbProperty(&quot;Id&quot;)\nprivate DataModel id;\n</code></pre>\n<p>@JsonbProperty worked for me</p>\n"}],"owner":{"account_id":1324707,"reputation":11353,"user_id":1269809,"accept_rate":86,"display_name":"Chaos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32304,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18069036,"answer_count":4,"score":9,"last_activity_date":1678960628,"creation_date":1375733482,"question_id":18066844,"body_markdown":"My sample JSON input is as follows:\r\n\r\n\t&quot;JobName&quot;:&quot;Test Job 1&quot;,\r\n    &quot;events&quot;:[\r\n\t\t{\t&quot;features&quot;:[],\r\n\t\t\t&quot;InputHiveTable&quot;:&quot;uilog_uiclientlogdata&quot;,\r\n\t\t\t&quot;eventColumn&quot;:&quot;command&quot;,\r\n\t\t\t&quot;name&quot;:&quot;edu.apollogrp.classroom.discussion.client.events.CreateDiscussionEvent&quot;\r\n\t\t},\r\n\r\nConsider the field `&quot;InputHiveTable&quot;`, it could be in all uppercase `INPUTHIVETABLE`, all lowercase `inputhivetable`, or a mixture of both as it is now.\r\n\r\nCurrently, I&#39;m reading the field as follows (in Java):\r\n \r\n    JSONObject jsonObject = (JSONObject) obj;\r\n    JSONArray events = (JSONArray) jsonObject.get(&quot;events&quot;);\r\n    String InputHiveTable = (String)event.get(&quot;InputHiveTable&quot;);\r\n\r\nSo my question is how do I search for the field `&quot;InputHiveTable&quot;` while ignoring the case. \r\nI&#39;m using JSON Simple libraries. \r\n","title":"How to ignore case when searching a JSON Object","body":"<p>My sample JSON input is as follows:</p>\n\n<pre><code>\"JobName\":\"Test Job 1\",\n\"events\":[\n    {   \"features\":[],\n        \"InputHiveTable\":\"uilog_uiclientlogdata\",\n        \"eventColumn\":\"command\",\n        \"name\":\"edu.apollogrp.classroom.discussion.client.events.CreateDiscussionEvent\"\n    },\n</code></pre>\n\n<p>Consider the field <code>\"InputHiveTable\"</code>, it could be in all uppercase <code>INPUTHIVETABLE</code>, all lowercase <code>inputhivetable</code>, or a mixture of both as it is now.</p>\n\n<p>Currently, I'm reading the field as follows (in Java):</p>\n\n<pre><code>JSONObject jsonObject = (JSONObject) obj;\nJSONArray events = (JSONArray) jsonObject.get(\"events\");\nString InputHiveTable = (String)event.get(\"InputHiveTable\");\n</code></pre>\n\n<p>So my question is how do I search for the field <code>\"InputHiveTable\"</code> while ignoring the case. \nI'm using JSON Simple libraries. </p>\n"},{"tags":["java","enums","nested","inner-classes"],"comments":[{"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"score":1,"creation_date":1360772586,"post_id":14858036,"comment_id":20826438,"body_markdown":"please take a look at this: http://stackoverflow.com/questions/700831/java-local-enums","body":"please take a look at this: <a href=\"http://stackoverflow.com/questions/700831/java-local-enums\">stackoverflow.com/questions/700831/java-local-enums</a>"},{"owner":{"account_id":2344010,"reputation":6151,"user_id":2054731,"accept_rate":44,"display_name":"ArneHugo"},"score":1,"creation_date":1397564813,"post_id":14858036,"comment_id":35279608,"body_markdown":"Unless you wanted State to access methods in History, make State a [static class](http://stackoverflow.com/a/1353326/2054731).","body":"Unless you wanted State to access methods in History, make State a <a href=\"http://stackoverflow.com/a/1353326/2054731\">static class</a>."}],"answers":[{"comments":[{"owner":{"account_id":2838423,"reputation":4567,"user_id":2438518,"accept_rate":53,"display_name":"mrbela"},"score":0,"creation_date":1619009190,"post_id":14858103,"comment_id":118774735,"body_markdown":"Is there a certain reason that nested `enum` types are implicitly `static`?","body":"Is there a certain reason that nested <code>enum</code> types are implicitly <code>static</code>?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1619009615,"post_id":14858103,"comment_id":118774967,"body_markdown":"@mrbela: if non-static nested `enum` types were allowed, then what enclosing class instance should the enum values reference? That idea is incompatible with the basic tenents of an `enum` type (namely that there&#39;s a finite, well-defined set of instances).","body":"@mrbela: if non-static nested <code>enum</code> types were allowed, then what enclosing class instance should the enum values reference? That idea is incompatible with the basic tenents of an <code>enum</code> type (namely that there&#39;s a finite, well-defined set of instances)."},{"owner":{"account_id":11783353,"reputation":316,"user_id":8622053,"display_name":"Daniel Chin"},"score":0,"creation_date":1678958384,"post_id":14858103,"comment_id":133634675,"body_markdown":"So what&#39;s the correct alternative? I want an `enum` that&#39;s associated with my inner class.","body":"So what&#39;s the correct alternative? I want an <code>enum</code> that&#39;s associated with my inner class."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678959840,"post_id":14858103,"comment_id":133635085,"body_markdown":"@DanielChin: I&#39;ve just edited my answer to add the details that starting with Java 16 (more relevantly the Java 17 LTS release) this is actually allowed. So the alternative is to update to Java 17. If you can&#39;t, then you just have to put the enum &quot;next to&quot; the inner class (i.e. have it be a sibling rather than a child).","body":"@DanielChin: I&#39;ve just edited my answer to add the details that starting with Java 16 (more relevantly the Java 17 LTS release) this is actually allowed. So the alternative is to update to Java 17. If you can&#39;t, then you just have to put the enum &quot;next to&quot; the inner class (i.e. have it be a sibling rather than a child)."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":4,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1678960104,"creation_date":1360772627,"answer_id":14858103,"question_id":14858036,"body_markdown":"# This is allowed in Java 16+\r\n\r\nThis is **no longer forbidden starting with Java 16** (and the later LTS release Java 17) thanks to [JEP 395][1] relaxing the rules on some static types inside inner classes.\r\n\r\nThe new phrasing in [&#167;8.1.3. Inner Classes and Enclosing Instances][2] is (emphsis mine):\r\n\r\n&gt; All of the rules that apply to nested classes apply to inner classes. In particular, **an inner class may declare** and inherit **static members** (&#167;8.2), and declare `static` initializers (&#167;8.7), even though the inner class itself is not `static`.\r\n\r\n[This answer explains the change][3] in more detail.\r\n\r\n# Before Java 16 it was forbidden:\r\n\r\n`enum` types that are defined as nested types are always implicitly `static` (see [JLS &#167;8.9. Enums][4]):\r\n\r\n&gt; A nested enum type is implicitly `static`.\r\n\r\nYou can&#39;t have a static nested type inside a non-static one (a.k.a an &quot;inner class&quot;, see [JLS &#167;8.1.3. Inner Classes and Enclosing Instances][5]):\r\n\r\n&gt; It is a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable\r\n\r\nTherefore you can&#39;t have an `enum` inner type inside a non-static nested type.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.3\r\n  [3]: https://stackoverflow.com/a/62807591/40342\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.9\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.1.3","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<h1>This is allowed in Java 16+</h1>\n<p>This is <strong>no longer forbidden starting with Java 16</strong> (and the later LTS release Java 17) thanks to <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a> relaxing the rules on some static types inside inner classes.</p>\n<p>The new phrasing in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">8.1.3. Inner Classes and Enclosing Instances</a> is (emphsis mine):</p>\n<blockquote>\n<p>All of the rules that apply to nested classes apply to inner classes. In particular, <strong>an inner class may declare</strong> and inherit <strong>static members</strong> (8.2), and declare <code>static</code> initializers (8.7), even though the inner class itself is not <code>static</code>.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/62807591/40342\">This answer explains the change</a> in more detail.</p>\n<h1>Before Java 16 it was forbidden:</h1>\n<p><code>enum</code> types that are defined as nested types are always implicitly <code>static</code> (see <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">JLS 8.9. Enums</a>):</p>\n<blockquote>\n<p>A nested enum type is implicitly <code>static</code>.</p>\n</blockquote>\n<p>You can't have a static nested type inside a non-static one (a.k.a an &quot;inner class&quot;, see <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">JLS 8.1.3. Inner Classes and Enclosing Instances</a>):</p>\n<blockquote>\n<p>It is a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable</p>\n</blockquote>\n<p>Therefore you can't have an <code>enum</code> inner type inside a non-static nested type.</p>\n"},{"tags":[],"owner":{"account_id":474835,"reputation":10401,"user_id":884778,"accept_rate":71,"display_name":"Dhiral Pandya"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1454148482,"creation_date":1454148482,"answer_id":35100426,"question_id":14858036,"body_markdown":"Already enough information from +Joachim Sauer, I am just adding some extra details. \r\n\r\nYou can define inner enum only if your inner class is static nested inner class. See below \r\n\r\n\tprivate static class DbResource {\r\n\t\t\r\n\t\tpublic enum DB {\r\n\t\t\tMERGE_FROM, MERGE_TO, MAIN;\r\n\t\t}\r\n\t}","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>Already enough information from +Joachim Sauer, I am just adding some extra details. </p>\n\n<p>You can define inner enum only if your inner class is static nested inner class. See below </p>\n\n<pre><code>private static class DbResource {\n\n    public enum DB {\n        MERGE_FROM, MERGE_TO, MAIN;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14580857,"reputation":328,"user_id":10531361,"display_name":"Marko Cain"},"score":0,"creation_date":1596305130,"post_id":46595070,"comment_id":111772096,"body_markdown":"Shouldn&#39;t it be ```final static class Suit extends java.lang.Enum&lt;Suit&gt;``` and not  ```final class Suit extends java.lang.Enum&lt;Suit&gt;```  because enum has static variables (```SPADES, CLUBS etc```) and an inner (nested non-static) class can&#39;t have static declarations?","body":"Shouldn&#39;t it be <code>final static class Suit extends java.lang.Enum&lt;Suit&gt;</code> and not  <code>final class Suit extends java.lang.Enum&lt;Suit&gt;</code>  because enum has static variables (<code>SPADES, CLUBS etc</code>) and an inner (nested non-static) class can&#39;t have static declarations?"}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1507238940,"creation_date":1507238940,"answer_id":46595070,"question_id":14858036,"body_markdown":"If you declared an enum like this:\r\n\r\n    enum Suit {SPADES, HEARTS, CLUBS, DIAMONDS}\r\n\r\nThe Java compiler would synthetically generate the following class for you:\r\n\r\n    final class Suit extends java.lang.Enum&lt;Suit&gt; {\r\n      public static final Suit SPADES;\r\n      public static final Suit HEARTS;\r\n      public static final Suit CLUBS;\r\n      public static final Suit DIAMONDS;\r\n      private static final Suit[] $VALUES;\r\n      public static Suit[] values();\r\n      public static Suit valueOf(java.lang.String);\r\n      private Suit();\r\n    }\r\n\r\nThere is no intention to create other instances of this class other than those static fields already defined in it (as you could infer from its private constructor), but most importantly, and as mentioned in the accepted answer, a inner class cannot have static members ([JLS &#167;8.1.3. Inner Classes and Enclosing Instances](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3)), and since the enum synthetic class does, it makes it unacceptable as inner class.\r\n\r\n\r\n","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>If you declared an enum like this:</p>\n\n<pre><code>enum Suit {SPADES, HEARTS, CLUBS, DIAMONDS}\n</code></pre>\n\n<p>The Java compiler would synthetically generate the following class for you:</p>\n\n<pre><code>final class Suit extends java.lang.Enum&lt;Suit&gt; {\n  public static final Suit SPADES;\n  public static final Suit HEARTS;\n  public static final Suit CLUBS;\n  public static final Suit DIAMONDS;\n  private static final Suit[] $VALUES;\n  public static Suit[] values();\n  public static Suit valueOf(java.lang.String);\n  private Suit();\n}\n</code></pre>\n\n<p>There is no intention to create other instances of this class other than those static fields already defined in it (as you could infer from its private constructor), but most importantly, and as mentioned in the accepted answer, a inner class cannot have static members (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3\" rel=\"noreferrer\">JLS 8.1.3. Inner Classes and Enclosing Instances</a>), and since the enum synthetic class does, it makes it unacceptable as inner class.</p>\n"},{"tags":[],"owner":{"account_id":9751113,"reputation":1438,"user_id":7229333,"display_name":"K F"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552066832,"creation_date":1552066832,"answer_id":55068337,"question_id":14858036,"body_markdown":"This worked for my use-case:\r\n\r\n```java\r\npublic class History {\r\n\r\n    public interface HConstants{\r\n         public enum StateType { PAST,CURRENT,FUTURE}\r\n    }\r\n\r\n    //Inner class\r\n    public class State implements HConstants{\r\n        public StateType stateField = StateType.PAST;\r\n```","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>This worked for my use-case:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class History {\n\n    public interface HConstants{\n         public enum StateType { PAST,CURRENT,FUTURE}\n    }\n\n    //Inner class\n    public class State implements HConstants{\n        public StateType stateField = StateType.PAST;\n</code></pre>\n"}],"owner":{"account_id":389838,"reputation":2731,"user_id":749521,"accept_rate":69,"display_name":"Steven Roose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52584,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":14858103,"answer_count":4,"score":75,"last_activity_date":1678960104,"creation_date":1360772459,"question_id":14858036,"body_markdown":"What I try to do is this:\r\n\r\n    public class History {\r\n    \tpublic class State {\r\n    \t\tpublic enum StateType {\r\n\r\nEclipse gives me this compile error on `StateType`: `The member enum StateType must be defined inside a static member type`.\r\n\r\nThe error disappears when I make the `State` class static. I could make `State` static, but I don&#39;t understand why I cannot declare an `enum` in an inner class.","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>What I try to do is this:</p>\n\n<pre><code>public class History {\n    public class State {\n        public enum StateType {\n</code></pre>\n\n<p>Eclipse gives me this compile error on <code>StateType</code>: <code>The member enum StateType must be defined inside a static member type</code>.</p>\n\n<p>The error disappears when I make the <code>State</code> class static. I could make <code>State</code> static, but I don't understand why I cannot declare an <code>enum</code> in an inner class.</p>\n"},{"tags":["java","android","interface"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678958311,"post_id":75754091,"comment_id":133634660,"body_markdown":"I don&#39;t even see an instantiation of FirstFragment. Where do you use it?","body":"I don&#39;t even see an instantiation of FirstFragment. Where do you use it?"},{"owner":{"account_id":4729132,"reputation":4702,"user_id":3825246,"accept_rate":53,"display_name":"Ibanez1408"},"score":0,"creation_date":1678958468,"post_id":75754091,"comment_id":133634698,"body_markdown":"@Stultuske I am using navigation graph sir.","body":"@Stultuske I am using navigation graph sir."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678958892,"post_id":75754091,"comment_id":133634801,"body_markdown":"OK? and how does that answer my question? In your activity you do this: SignallerService ss = new SignallerService(this); -&gt; only the instance of MainActivity is sent to the Service, not an instance of your Fragment.","body":"OK? and how does that answer my question? In your activity you do this: SignallerService ss = new SignallerService(this); -&gt; only the instance of MainActivity is sent to the Service, not an instance of your Fragment."}],"answers":[{"comments":[{"owner":{"account_id":4729132,"reputation":4702,"user_id":3825246,"accept_rate":53,"display_name":"Ibanez1408"},"score":0,"creation_date":1678960060,"post_id":75754180,"comment_id":133635156,"body_markdown":"What you said actually make a lot of sense.  I edited my question and I made it work with it. Only, the way I have done it, is it correct? Basically, I created a new interface and have that implement by the FirstFragment and succeeding fragmets then in my MainActivity, invoke the method that needs to be published to the other fragments.","body":"What you said actually make a lot of sense.  I edited my question and I made it work with it. Only, the way I have done it, is it correct? Basically, I created a new interface and have that implement by the FirstFragment and succeeding fragmets then in my MainActivity, invoke the method that needs to be published to the other fragments."},{"owner":{"account_id":4729132,"reputation":4702,"user_id":3825246,"accept_rate":53,"display_name":"Ibanez1408"},"score":0,"creation_date":1678960427,"post_id":75754180,"comment_id":133635278,"body_markdown":"&quot;from within the activity&#39;s onPublishMessage search the instance of the fragment and call it&#39;s callback method manually &quot; =&gt; Maybe this is better... But how do I find the instance of the fragment when the way I load my FirstFragment is  through &quot;navigation graph&quot; -&gt; &quot;app:startDestination=&quot;@id/FirstFragment&quot;&quot;\n\nOn the way I &quot;solved it&quot; I am suspecting that this may cause memory leak. When I jump to another fragment, will the implementation in the FirstFragment be disposed?","body":"&quot;from within the activity&#39;s onPublishMessage search the instance of the fragment and call it&#39;s callback method manually &quot; =&gt; Maybe this is better... But how do I find the instance of the fragment when the way I load my FirstFragment is  through &quot;navigation graph&quot; -&gt; &quot;app:startDestination=&quot;@id/FirstFragment&quot;&quot;  On the way I &quot;solved it&quot; I am suspecting that this may cause memory leak. When I jump to another fragment, will the implementation in the FirstFragment be disposed?"},{"owner":{"account_id":4330572,"reputation":146,"user_id":3536222,"display_name":"VanKhulup"},"score":0,"creation_date":1678964145,"post_id":75754180,"comment_id":133636445,"body_markdown":"Well, storing the instance of the activity in the SignalingService might cause context leak. IMO it would be a little more efficient to pass the listener into SignalingService via setter (not constructor). This way, you can use utilize fragment&#39;s lifecycle callback to set fragment as a listener, and remove itself (passing null into listener, for instance) as a listener when fragment is no longer available (after onDestroyView() for instance).","body":"Well, storing the instance of the activity in the SignalingService might cause context leak. IMO it would be a little more efficient to pass the listener into SignalingService via setter (not constructor). This way, you can use utilize fragment&#39;s lifecycle callback to set fragment as a listener, and remove itself (passing null into listener, for instance) as a listener when fragment is no longer available (after onDestroyView() for instance)."},{"owner":{"account_id":4729132,"reputation":4702,"user_id":3825246,"accept_rate":53,"display_name":"Ibanez1408"},"score":0,"creation_date":1679013068,"post_id":75754180,"comment_id":133649217,"body_markdown":"Hmmm. You&#39;re right. I&#39;ll make the adjustments. Thank you. +1!","body":"Hmmm. You&#39;re right. I&#39;ll make the adjustments. Thank you. +1!"}],"tags":[],"owner":{"account_id":4330572,"reputation":146,"user_id":3536222,"display_name":"VanKhulup"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678958554,"creation_date":1678958554,"answer_id":75754180,"question_id":75754091,"body_markdown":"When creating instance of `SignallerService` you&#39;re passing activity&#39;s instance into constructor, so it&#39;s used as a listener, and get&#39;s all the callbacks. You should either propagate callback to the Fragment from the activity (from within the activity&#39;s `onPublishMessage` search the instance of the fragment and call it&#39;s callback method manually), or register Fragment&#39;s instance as a listener (pass it into `SignallerService` constructor). In your current implementation, your service knows only about activity (as it&#39;s the only listener, who called the constructor and passed itself as listener for future events)","title":"Interface method is not invoked on all implementations","body":"<p>When creating instance of <code>SignallerService</code> you're passing activity's instance into constructor, so it's used as a listener, and get's all the callbacks. You should either propagate callback to the Fragment from the activity (from within the activity's <code>onPublishMessage</code> search the instance of the fragment and call it's callback method manually), or register Fragment's instance as a listener (pass it into <code>SignallerService</code> constructor). In your current implementation, your service knows only about activity (as it's the only listener, who called the constructor and passed itself as listener for future events)</p>\n"}],"owner":{"account_id":4729132,"reputation":4702,"user_id":3825246,"accept_rate":53,"display_name":"Ibanez1408"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679003886,"answer_count":1,"score":-1,"last_activity_date":1678959875,"creation_date":1678958123,"question_id":75754091,"body_markdown":"I have an interface that is like so:\r\n\r\n    public interface ISignaller {\r\n        void onPublishMessage(String message);\r\n    }\r\n    public interface ISignaller2 {\r\n    \tvoid onPublishMessage(String message);\r\n    }\r\n\r\nAnd a service that uses this ISignaller\r\n\r\n    public class SignallerService {\r\n    \tISignalR listener;\r\n    \t\r\n    \tpublic SignallerService(ISignalR listener) {\r\n    \t\tthis.listener = listener;\r\n    \t}\r\n    \t\r\n    \tpublic void start() {\r\n    \t\t// ... some method here\r\n    \t\tvar someVar = someMethod();\r\n    \t\tif (someVar) {\r\n    \t\t\tlistener.onPublishMessage(&quot;THIS IS CALLED&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    public class MainActivity extends BaseActivity implements ISignaller\r\n    {\r\n    \tSignallerService ss = new SignallerService(this);\r\n    \t\r\n    \tpublic void start() {\r\n    \t\tss.start();\r\n    \t}\r\n\r\n        public void setPublisher(ISignaller2 publisher) {\r\n    \t\tthis.publisher = publisher;\r\n    \t}\r\n    \t\r\n    \t// THIS GETS CALLED\r\n    \t@Override\r\n        public void onPublishMessage(String message) {\r\n            this.publisher.onPublishMessage(message);\r\n        }\r\n    }\r\n\r\n    public class FirstFragment extends Fragment implements ISignaller {\r\n    \r\n    \t// THIS IS NOT CALLED\r\n    \t@Override\r\n        public void onPublishMessage(String message) {\r\n            Log.i(&quot;TAG&quot;, message);\r\n        }\r\n    \t\r\n    \tMainActivity mMainActivity = (MainActivity)getActivity();\r\n        mMainActivity.setPublisher(this);\r\n    \tmMainActivity.start();\r\n    }\r\n\r\nWhy is it that the override onPublishMesesage in MainActivity gets called but not in the FirstFragment?","title":"Interface method is not invoked on all implementations","body":"<p>I have an interface that is like so:</p>\n<pre><code>public interface ISignaller {\n    void onPublishMessage(String message);\n}\npublic interface ISignaller2 {\n    void onPublishMessage(String message);\n}\n</code></pre>\n<p>And a service that uses this ISignaller</p>\n<pre><code>public class SignallerService {\n    ISignalR listener;\n    \n    public SignallerService(ISignalR listener) {\n        this.listener = listener;\n    }\n    \n    public void start() {\n        // ... some method here\n        var someVar = someMethod();\n        if (someVar) {\n            listener.onPublishMessage(&quot;THIS IS CALLED&quot;);\n        }\n    }\n}\n\npublic class MainActivity extends BaseActivity implements ISignaller\n{\n    SignallerService ss = new SignallerService(this);\n    \n    public void start() {\n        ss.start();\n    }\n\n    public void setPublisher(ISignaller2 publisher) {\n        this.publisher = publisher;\n    }\n    \n    // THIS GETS CALLED\n    @Override\n    public void onPublishMessage(String message) {\n        this.publisher.onPublishMessage(message);\n    }\n}\n\npublic class FirstFragment extends Fragment implements ISignaller {\n\n    // THIS IS NOT CALLED\n    @Override\n    public void onPublishMessage(String message) {\n        Log.i(&quot;TAG&quot;, message);\n    }\n    \n    MainActivity mMainActivity = (MainActivity)getActivity();\n    mMainActivity.setPublisher(this);\n    mMainActivity.start();\n}\n</code></pre>\n<p>Why is it that the override onPublishMesesage in MainActivity gets called but not in the FirstFragment?</p>\n"},{"tags":["java","spring-boot","swagger","openapi","springfox"],"answers":[{"comments":[{"owner":{"account_id":27765492,"reputation":11,"user_id":21196925,"display_name":"Krzysztof Chwedziak"},"score":0,"creation_date":1677263182,"post_id":75559565,"comment_id":133309855,"body_markdown":"I added dependencies of Your&#39;s suggestion, but in config, I&#39;m getting such an error on line:\n\nAPIs(RequestHandlerSelectors.any())\n\nRequired type: com.google.common.base.Predicate &lt;RequestHandler&gt;\nProvided: java.util.function.Predicate &lt;RequestHandler&gt;","body":"I added dependencies of Your&#39;s suggestion, but in config, I&#39;m getting such an error on line:  APIs(RequestHandlerSelectors.any())  Required type: com.google.common.base.Predicate &lt;RequestHandler&gt; Provided: java.util.function.Predicate &lt;RequestHandler&gt;"},{"owner":{"account_id":27765492,"reputation":11,"user_id":21196925,"display_name":"Krzysztof Chwedziak"},"score":1,"creation_date":1677263934,"post_id":75559565,"comment_id":133310009,"body_markdown":"I updated dependency of swagger ui to 3.0, the problem disappeared from the config, but as calling get on localhost:8080/swagger-ui I&#39;m getting WARN 4340 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui","body":"I updated dependency of swagger ui to 3.0, the problem disappeared from the config, but as calling get on localhost:8080/swagger-ui I&#39;m getting WARN 4340 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui"},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1678235230,"post_id":75559565,"comment_id":133493271,"body_markdown":"I advice you to work with LTS Java which 17. there is a conflict between spring data RestRepositoryResource and swagger","body":"I advice you to work with LTS Java which 17. there is a conflict between spring data RestRepositoryResource and swagger"}],"tags":[],"owner":{"account_id":21077452,"reputation":1,"user_id":15492512,"display_name":"Maciej Dresler"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677320244,"creation_date":1677259246,"answer_id":75559565,"question_id":75559467,"body_markdown":"I have a different configuration that works with Spring Boot 3.\r\n\r\nMy dependencies are:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand in the Spring Boot configuration class I added\r\n\r\n```\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n```\r\n\r\nMaybe this will be helpful.","title":"How to add Swagger Ui to spring 3 on java 19 maven project","body":"<p>I have a different configuration that works with Spring Boot 3.</p>\n<p>My dependencies are:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and in the Spring Boot configuration class I added</p>\n<pre><code>    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n</code></pre>\n<p>Maybe this will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":1328850,"reputation":2632,"user_id":1273144,"display_name":"Rambalac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678959840,"creation_date":1678959840,"answer_id":75754430,"question_id":75559467,"body_markdown":"`spring-boot-starter-validation` has to be the same version. Basically, you need to delete the version tag.\r\n\r\nBut I have another issue with `spring-boot-starter-parent` version 3.0.3. It does not generate openapi json, response is forever pending. It works with 3.0.2 though.","title":"How to add Swagger Ui to spring 3 on java 19 maven project","body":"<p><code>spring-boot-starter-validation</code> has to be the same version. Basically, you need to delete the version tag.</p>\n<p>But I have another issue with <code>spring-boot-starter-parent</code> version 3.0.3. It does not generate openapi json, response is forever pending. It works with 3.0.2 though.</p>\n"}],"owner":{"account_id":27765492,"reputation":11,"user_id":21196925,"display_name":"Krzysztof Chwedziak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678959840,"creation_date":1677258663,"question_id":75559467,"body_markdown":"I am trying to add Swagger-UI to my project, but I&#39;m failing due to errors.\r\nI&#39;ve read that on latest spring @EnableSwagger2 is required, well with or without not working.\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.kc6379&lt;/groupId&gt;\r\n    &lt;artifactId&gt;zarzadanie-magazynem&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;zarzadanie-magazynem&lt;/name&gt;\r\n    &lt;description&gt;zarzadanie-magazynem&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nSo I used spring boot-starter-validation along with springdoc-openapi-starter-webmvc-ui, and the error I&#39;m getting upon calling GET on http://localhost:8080/swagger-ui/index.html\r\n\r\nError in the browser:\r\n\r\n[![Error in the browser][1]][1]\r\n\r\nIn console I&#39;m getting this error block:\r\n\r\n\r\n```\r\nERROR 1272 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null\r\n\tat org.springdoc.core.data.DataRestOperationService.getParameterType(DataRestOperationService.java:242) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestOperationService.buildSearchOperation(DataRestOperationService.java:209) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestOperationService.buildOperation(DataRestOperationService.java:136) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:289) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:228) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperationList(DataRestRouterOperationService.java:194) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildSearchRouterOperationList(DataRestRouterOperationService.java:149) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.lambda$findSearchControllers$13(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchControllers(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchResourceMappings(SpringRepositoryRestResourceProvider.java:362) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.getRouterOperations(SpringRepositoryRestResourceProvider.java:276) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$1(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:169) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:165) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:366) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:140) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:117) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat com.kc6379.zarzadaniemagazynem.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:35) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n```\r\n\r\nYour support is highly appreciated.\r\n\r\n\r\nI have tried several guides on the internet to get Swagger-UI work, but I keep getting errors.\r\n\r\n[1]: https://i.stack.imgur.com/UeUhq.png","title":"How to add Swagger Ui to spring 3 on java 19 maven project","body":"<p>I am trying to add Swagger-UI to my project, but I'm failing due to errors.\nI've read that on latest spring @EnableSwagger2 is required, well with or without not working.\nThis is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.kc6379&lt;/groupId&gt;\n    &lt;artifactId&gt;zarzadanie-magazynem&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;zarzadanie-magazynem&lt;/name&gt;\n    &lt;description&gt;zarzadanie-magazynem&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>So I used spring boot-starter-validation along with springdoc-openapi-starter-webmvc-ui, and the error I'm getting upon calling GET on http://localhost:8080/swagger-ui/index.html</p>\n<p>Error in the browser:</p>\n<p><a href=\"https://i.stack.imgur.com/UeUhq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeUhq.png\" alt=\"Error in the browser\" /></a></p>\n<p>In console I'm getting this error block:</p>\n<pre><code>ERROR 1272 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null\n    at org.springdoc.core.data.DataRestOperationService.getParameterType(DataRestOperationService.java:242) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestOperationService.buildSearchOperation(DataRestOperationService.java:209) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestOperationService.buildOperation(DataRestOperationService.java:136) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:289) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:228) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperationList(DataRestRouterOperationService.java:194) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildSearchRouterOperationList(DataRestRouterOperationService.java:149) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.lambda$findSearchControllers$13(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchControllers(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchResourceMappings(SpringRepositoryRestResourceProvider.java:362) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.getRouterOperations(SpringRepositoryRestResourceProvider.java:276) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$1(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:169) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:165) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:366) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:140) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:117) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at com.kc6379.zarzadaniemagazynem.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:35) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\n</code></pre>\n<p>Your support is highly appreciated.</p>\n<p>I have tried several guides on the internet to get Swagger-UI work, but I keep getting errors.</p>\n"},{"tags":["java","dictionary","collections","set","unique"],"comments":[{"owner":{"account_id":162974,"reputation":9167,"user_id":384803,"accept_rate":60,"display_name":"Dmitry B."},"score":0,"creation_date":1456450168,"post_id":35641702,"comment_id":58964807,"body_markdown":"keys cannot be duplicate by definition.  What you are talking about is called a compound key (made up of several values).  So this means you can use a regular map as long as you use a key that combines both values.","body":"keys cannot be duplicate by definition.  What you are talking about is called a compound key (made up of several values).  So this means you can use a regular map as long as you use a key that combines both values."}],"answers":[{"tags":[],"owner":{"account_id":2970237,"reputation":873,"user_id":2522439,"display_name":"sanky jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456450378,"creation_date":1456450378,"answer_id":35641785,"question_id":35641702,"body_markdown":"You cannot do it by Java collection.\r\n\r\nYou can use Multimap it supports duplicate keys but it also support duplicate keys and value pairs.\r\n\r\nBest solution for you is use Multimap and check if value already exist then dont add it.","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>You cannot do it by Java collection.</p>\n\n<p>You can use Multimap it supports duplicate keys but it also support duplicate keys and value pairs.</p>\n\n<p>Best solution for you is use Multimap and check if value already exist then dont add it.</p>\n"},{"tags":[],"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456450388,"creation_date":1456450388,"answer_id":35641787,"question_id":35641702,"body_markdown":"To my knowledge, there is no such collection implementation in the default JRE. However, there seem to be implementations in [third party libraries](https://stackoverflow.com/questions/1062960/map-implementation-with-duplicate-keys).\r\n\r\nTo get something similar, you can use a `Map&lt;K, List&lt;V&gt;&gt;`, which is a map containing a list of values for each key.\r\n\r\nHowever, I do not think that you need this. To merge values for duplicate keys you can check whether the key already exists before you put a new key-value pair into the map.\r\n\r\n* if it already exists, replace the value by the merged old and new value\r\n* if it does not yet exist, just put the new key-value pair into the map.","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>To my knowledge, there is no such collection implementation in the default JRE. However, there seem to be implementations in <a href=\"https://stackoverflow.com/questions/1062960/map-implementation-with-duplicate-keys\">third party libraries</a>.</p>\n\n<p>To get something similar, you can use a <code>Map&lt;K, List&lt;V&gt;&gt;</code>, which is a map containing a list of values for each key.</p>\n\n<p>However, I do not think that you need this. To merge values for duplicate keys you can check whether the key already exists before you put a new key-value pair into the map.</p>\n\n<ul>\n<li>if it already exists, replace the value by the merged old and new value</li>\n<li>if it does not yet exist, just put the new key-value pair into the map.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7823933,"reputation":503,"user_id":5916150,"display_name":"Arif Burhan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456450492,"creation_date":1456450492,"answer_id":35641803,"question_id":35641702,"body_markdown":"A dictionary contains words and definitions, so sheep=&quot;wooly mammal&quot; is a valid assignment.\r\nEach time you look up sheep you get wooly mammal.\r\n\r\nAn array is indexed by an integer, and can have duplicate values,\r\n\r\n        arr[2]=5 ; arr[7]=5;\r\n\r\nA hash can also store duplicate values, but the keys must be unique:\r\n\r\n        Adam{age}=21;\r\n        Bill{age}=21;\r\n \r\nSome languages use dots for properties:\r\n\r\n    Adam.age=21;\r\n","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>A dictionary contains words and definitions, so sheep=\"wooly mammal\" is a valid assignment.\nEach time you look up sheep you get wooly mammal.</p>\n\n<p>An array is indexed by an integer, and can have duplicate values,</p>\n\n<pre><code>    arr[2]=5 ; arr[7]=5;\n</code></pre>\n\n<p>A hash can also store duplicate values, but the keys must be unique:</p>\n\n<pre><code>    Adam{age}=21;\n    Bill{age}=21;\n</code></pre>\n\n<p>Some languages use dots for properties:</p>\n\n<pre><code>Adam.age=21;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1392123,"reputation":3171,"user_id":1322693,"display_name":"konkked"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1456451956,"creation_date":1456451956,"answer_id":35642042,"question_id":35641702,"body_markdown":"You can do this with a multimap, using a set as the collection for the values, it is fairly simple to make.\r\n\r\nHere is some of the basics of an implementation, not the whole thing but couldn&#39;t imagine you would need more than that or maybe a remove method\r\n\r\n**Edit** \r\n\r\nJust saw you wanted duplicate pairs to be thrown away, can do that using a set, instead of throwing an error just gave back the bool to show if it was there already or not (if it exists returns false)\r\n\r\n    public class MultiValueMap&lt;K,V&gt; \r\n    {\r\n    \tprivate final Map&lt;K,Set&lt;V&gt;&gt; mappings = new HashMap&lt;K,Set&lt;V&gt;&gt;();\r\n    \t\r\n    \tpublic Set&lt;V&gt; getValues(K key)\r\n    \t{\r\n    \t\treturn mappings.get(key);\r\n    \t}\r\n    \t\r\n    \tpublic Boolean putValue(K key, V value)\r\n    \t{\r\n    \t\tSet&lt;V&gt; target = mappings.get(key);\r\n    \t\t\r\n    \t\tif(target == null) \r\n    \t\t{\r\n    \t\t\ttarget = new HashSet&lt;V&gt;();\r\n    \t\t\tmappings.put(key,target);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn target.add(value);\r\n    \t}\r\n    \t\r\n    }","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>You can do this with a multimap, using a set as the collection for the values, it is fairly simple to make.</p>\n\n<p>Here is some of the basics of an implementation, not the whole thing but couldn't imagine you would need more than that or maybe a remove method</p>\n\n<p><strong>Edit</strong> </p>\n\n<p>Just saw you wanted duplicate pairs to be thrown away, can do that using a set, instead of throwing an error just gave back the bool to show if it was there already or not (if it exists returns false)</p>\n\n<pre><code>public class MultiValueMap&lt;K,V&gt; \n{\n    private final Map&lt;K,Set&lt;V&gt;&gt; mappings = new HashMap&lt;K,Set&lt;V&gt;&gt;();\n\n    public Set&lt;V&gt; getValues(K key)\n    {\n        return mappings.get(key);\n    }\n\n    public Boolean putValue(K key, V value)\n    {\n        Set&lt;V&gt; target = mappings.get(key);\n\n        if(target == null) \n        {\n            target = new HashSet&lt;V&gt;();\n            mappings.put(key,target);\n        }\n\n        return target.add(value);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"score":0,"creation_date":1456755425,"post_id":35642275,"comment_id":59079900,"body_markdown":"In your arrogance you forgot to give a valid reason for the down vote.","body":"In your arrogance you forgot to give a valid reason for the down vote."},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":2,"creation_date":1548760677,"post_id":35642275,"comment_id":95649295,"body_markdown":"`HashMap` doesn&#39;t store duplicate values under the same key - you can only have one entry per key; and that entry will be replaced if you add another entry with the same key. If you want to store all entries for a given key, the value would have to be a collection which you add to; which make it a lot more complicated to maintain","body":"<code>HashMap</code> doesn&#39;t store duplicate values under the same key - you can only have one entry per key; and that entry will be replaced if you add another entry with the same key. If you want to store all entries for a given key, the value would have to be a collection which you add to; which make it a lot more complicated to maintain"}],"tags":[],"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1456453506,"creation_date":1456453506,"answer_id":35642275,"question_id":35641702,"body_markdown":"Your case basically needs a HashMap.\r\n\r\nJust put key as key and value as value in a HashMap.\r\n\r\nThis is because key will any ways be unique and in case there is collision in values HashMap maintains a linked list for storing all these colliding values.In case any value is same as any earlier value in the linked list it simply replaces the old one with the new one.\r\n\r\nFor ex.\r\n\r\nAs per your requirement :\r\n\r\nKey1 aaaa -- should be stored\r\nKey1 bbbb -- should be stored\r\nKey1 aaaa -- should not be stored as it is duplicate.\r\n\r\nSo basically hashmap will store &quot;aaaa&quot; and &quot;bbbb&quot;values  against &quot;key1&quot; as the key.\r\nLater when we try storing &quot;aaaa&quot; again against &quot;key1&quot; then older stored value &quot;aaaa&quot; will simply be replaced.\r\n\r\nHence, duplicacy of values is automatically handled by hashmap.\r\n\r\nHence , you can make use of HashMap in your case.\r\n","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>Your case basically needs a HashMap.</p>\n\n<p>Just put key as key and value as value in a HashMap.</p>\n\n<p>This is because key will any ways be unique and in case there is collision in values HashMap maintains a linked list for storing all these colliding values.In case any value is same as any earlier value in the linked list it simply replaces the old one with the new one.</p>\n\n<p>For ex.</p>\n\n<p>As per your requirement :</p>\n\n<p>Key1 aaaa -- should be stored\nKey1 bbbb -- should be stored\nKey1 aaaa -- should not be stored as it is duplicate.</p>\n\n<p>So basically hashmap will store \"aaaa\" and \"bbbb\"values  against \"key1\" as the key.\nLater when we try storing \"aaaa\" again against \"key1\" then older stored value \"aaaa\" will simply be replaced.</p>\n\n<p>Hence, duplicacy of values is automatically handled by hashmap.</p>\n\n<p>Hence , you can make use of HashMap in your case.</p>\n"},{"tags":[],"owner":{"account_id":7940224,"reputation":21,"user_id":5994572,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500571255,"creation_date":1500571255,"answer_id":45221307,"question_id":35641702,"body_markdown":"Since Guava 2.0, there&#39;s a new map type, the SetMultimap, that you can use that I think fits your purposes exactly. It allows duplicate keys, but not duplicate key/value pairs. See the [Guava documentation][1].\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/SetMultimap.html","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>Since Guava 2.0, there's a new map type, the SetMultimap, that you can use that I think fits your purposes exactly. It allows duplicate keys, but not duplicate key/value pairs. See the <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/SetMultimap.html\" rel=\"nofollow noreferrer\">Guava documentation</a>.</p>\n"}],"owner":{"account_id":2316416,"reputation":3500,"user_id":2033382,"accept_rate":78,"display_name":"amal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37029,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":35642042,"answer_count":6,"score":9,"last_activity_date":1678959728,"creation_date":1456449874,"question_id":35641702,"body_markdown":"I&#39;m trying to write a program to **remove duplicate key-value pairs** of a word list.  \r\n\r\nHowever, a **key duplicated with a different value should be allowed** to be added. \r\n\r\nWhich Java collection would solve this situation?\r\n\r\n - key1  aaaa\r\n - key2  bbbb\r\n - key3  cccc\r\n - key4  dddd\r\n - key2  bbbb - duplicate pair - not allowed \r\n - key1  hhhh - duplicate key - allowed \r\n - key5  gggg\r\n - key2  nnnn","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>I'm trying to write a program to <strong>remove duplicate key-value pairs</strong> of a word list.</p>\n<p>However, a <strong>key duplicated with a different value should be allowed</strong> to be added.</p>\n<p>Which Java collection would solve this situation?</p>\n<ul>\n<li>key1  aaaa</li>\n<li>key2  bbbb</li>\n<li>key3  cccc</li>\n<li>key4  dddd</li>\n<li>key2  bbbb - duplicate pair - not allowed</li>\n<li>key1  hhhh - duplicate key - allowed</li>\n<li>key5  gggg</li>\n<li>key2  nnnn</li>\n</ul>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"score":0,"creation_date":1678959893,"post_id":75754272,"comment_id":133635103,"body_markdown":"I have also tried `-Dfile.encoding=&quot;UTF-8&quot; -Dsun.jnu.encoding=&quot;UTF-8&quot;` as CLI argument, without any success.","body":"I have also tried <code>-Dfile.encoding=&quot;UTF-8&quot; -Dsun.jnu.encoding=&quot;UTF-8&quot;</code> as CLI argument, without any success."},{"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"score":0,"creation_date":1678960294,"post_id":75754272,"comment_id":133635238,"body_markdown":"But as far as I can understand, Ubuntu is already using UTF-8, for example\n\n\n`System.out.println(Charset.defaultCharset().displayName());`\n\ngives me **UTF-8**","body":"But as far as I can understand, Ubuntu is already using UTF-8, for example   <code>System.out.println(Charset.defaultCharset().displayName());</code>  gives me <b>UTF-8</b>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678960999,"post_id":75754272,"comment_id":133635427,"body_markdown":"I guess your GUI Application specifies a specific font, which is only available on Windows, but not on Linux.\nYou can try to install related fonts on Linux (copy from Windows)","body":"I guess your GUI Application specifies a specific font, which is only available on Windows, but not on Linux. You can try to install related fonts on Linux (copy from Windows)"},{"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"score":0,"creation_date":1678963663,"post_id":75754272,"comment_id":133636295,"body_markdown":"That&#39;s exactly what it was, thanks @life888888. Changing the Font solved the issue.\n\nMy application was was using Segoe UI Font, native to Windows.\nI actually had found the font on Internet for Ubuntu and installed it, but perhaps since it wasn&#39;t the original Font or whatever. It was causing the issue and since I had installed the Font, I would have never thought of it myself. Thanks a lot.\n\n![Bildschirmfoto-vom-2023-03-16-11-39-36.png](https://tinypic.host/images/2023/03/16/Bildschirmfoto-vom-2023-03-16-11-39-36.png)","body":"That&#39;s exactly what it was, thanks @life888888. Changing the Font solved the issue.  My application was was using Segoe UI Font, native to Windows. I actually had found the font on Internet for Ubuntu and installed it, but perhaps since it wasn&#39;t the original Font or whatever. It was causing the issue and since I had installed the Font, I would have never thought of it myself. Thanks a lot.  !<a href=\"https://tinypic.host/images/2023/03/16/Bildschirmfoto-vom-2023-03-16-11-39-36.png\" rel=\"nofollow noreferrer\">Bildschirmfoto-vom-2023-03-16-11-39-36.png</a>"}],"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678959047,"creation_date":1678959047,"question_id":75754272,"body_markdown":"I have developed a java application under windows where I didn&#39;t faced any problems. But now I had to switch to Linux (Ubuntu 22.04 Desktop) and I see a problem. When the application starts under Windows (tested on 10 and 11) it works perfectly as it should. But when I start it on Ubuntu, symbols and German Characters are not rendered correctly. \r\n\r\nIn all cases, Operating-Systems are installed with German Language as default.\r\nApplication is being run with same JDK (OpenJDK 11) in all cases.\r\n\r\nWhat I can guess is, it is some sort of encoding-issue, but I have tried what I could find on internet but so far without success.\r\n\r\n[Shots of application parts on Windows and Linux](https://i.stack.imgur.com/AoPK9.png)\r\n\r\nI am expecting the app render correctly on both Windows and Linux, and especially find out what is wrong and how to avoid it in future.","title":"Java application is not showing correctly in Linux Ubuntu 22.04, characterset issues","body":"<p>I have developed a java application under windows where I didn't faced any problems. But now I had to switch to Linux (Ubuntu 22.04 Desktop) and I see a problem. When the application starts under Windows (tested on 10 and 11) it works perfectly as it should. But when I start it on Ubuntu, symbols and German Characters are not rendered correctly.</p>\n<p>In all cases, Operating-Systems are installed with German Language as default.\nApplication is being run with same JDK (OpenJDK 11) in all cases.</p>\n<p>What I can guess is, it is some sort of encoding-issue, but I have tried what I could find on internet but so far without success.</p>\n<p><a href=\"https://i.stack.imgur.com/AoPK9.png\" rel=\"nofollow noreferrer\">Shots of application parts on Windows and Linux</a></p>\n<p>I am expecting the app render correctly on both Windows and Linux, and especially find out what is wrong and how to avoid it in future.</p>\n"},{"tags":["java","sql-server","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1677874824,"post_id":75628289,"comment_id":133430310,"body_markdown":"Are you building an entity or java object from this data? Entities and rows have IDs/PKs to avoid using DB row num which can change, so I don&#39;t know why you&#39;d be selecting it. Yes, you can build many native SQL functions into otherwise mostly JPQL query strings, but using a subquery result as the table to select from is JPA provider specific - so it depends on what you are using. If you are getting scalar results and just going to use it as such, and accessing DB specifics like row_num, using native SQL directly is the easiest option available.","body":"Are you building an entity or java object from this data? Entities and rows have IDs/PKs to avoid using DB row num which can change, so I don&#39;t know why you&#39;d be selecting it. Yes, you can build many native SQL functions into otherwise mostly JPQL query strings, but using a subquery result as the table to select from is JPA provider specific - so it depends on what you are using. If you are getting scalar results and just going to use it as such, and accessing DB specifics like row_num, using native SQL directly is the easiest option available."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1677929648,"post_id":75628289,"comment_id":133436711,"body_markdown":"@Chris yes, A, B and C are already entities. Row number is not a field entity. I&#39;m selecting it only because &quot;select ... where a_id = ... and row_number() over (...) = 1&quot; is not a valid query. Another idea is to use a view in db to keep the code cleaner.","body":"@Chris yes, A, B and C are already entities. Row number is not a field entity. I&#39;m selecting it only because &quot;select ... where a_id = ... and row_number() over (...) = 1&quot; is not a valid query. Another idea is to use a view in db to keep the code cleaner."},{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":0,"creation_date":1678217509,"post_id":75628289,"comment_id":133489600,"body_markdown":"What about using the jooq? Create the navite query with jooq and pass the generated SQL to the entity manager.","body":"What about using the jooq? Create the navite query with jooq and pass the generated SQL to the entity manager."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1678351436,"post_id":75628289,"comment_id":133516386,"body_markdown":"@The5thcolumnmouse my desire is to use a simple query method, like the ones here https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","body":"@The5thcolumnmouse my desire is to use a simple query method, like the ones here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1678349300,"post_id":75680440,"comment_id":133515870,"body_markdown":"How is this different from a native query? Moreover, the entity already exists and this is not the only way to find it.","body":"How is this different from a native query? Moreover, the entity already exists and this is not the only way to find it."},{"owner":{"account_id":19462384,"reputation":29,"user_id":14236421,"display_name":"Julia Manayra"},"score":0,"creation_date":1678370498,"post_id":75680440,"comment_id":133522053,"body_markdown":"The difference is because on a native query e more like a select, and you only can do this select. When you use this soluction you are using an viwer like this [1] (https://www.geeksforgeeks.org/sql-views/),   [2] (https://www.w3schools.com/sql/sql_view.asp),  [3] ( https://learn.microsoft.com/en-us/sql/relational-databases/views/views?view=sql-server-ver16) they are used for optimaze your consult, this represent like a new entity and you can do more consults in this select, change the attribute names, build other querys.","body":"The difference is because on a native query e more like a select, and you only can do this select. When you use this soluction you are using an viwer like this [1] (<a href=\"https://www.geeksforgeeks.org/sql-views/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/sql-views</a>),   [2] (<a href=\"https://www.w3schools.com/sql/sql_view.asp\" rel=\"nofollow noreferrer\">w3schools.com/sql/sql_view.asp</a>),  [3] ( <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/views/views?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/relational-databases/views/&hellip;</a>) they are used for optimaze your consult, this represent like a new entity and you can do more consults in this select, change the attribute names, build other querys."},{"owner":{"account_id":19462384,"reputation":29,"user_id":14236421,"display_name":"Julia Manayra"},"score":0,"creation_date":1678370764,"post_id":75680440,"comment_id":133522147,"body_markdown":"the first one is good but not better, the 2 is better because the responsability to create the viwer is in your database, and if you need change this is more easily to change on your database or if you need change the database is more easily.Native queries have a cost for update the database on project and its the only think (query) you can do.","body":"the first one is good but not better, the 2 is better because the responsability to create the viwer is in your database, and if you need change this is more easily to change on your database or if you need change the database is more easily.Native queries have a cost for update the database on project and its the only think (query) you can do."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1678370991,"post_id":75680440,"comment_id":133522217,"body_markdown":"I proposed the view solution myself in the comments... \n\nI was talking about the @Subselect annotation: moreover using a native query in the repository interface decouples the entity from the logic on how it is possible to find the object.","body":"I proposed the view solution myself in the comments...   I was talking about the @Subselect annotation: moreover using a native query in the repository interface decouples the entity from the logic on how it is possible to find the object."}],"tags":[],"owner":{"account_id":19462384,"reputation":29,"user_id":14236421,"display_name":"Julia Manayra"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678336113,"creation_date":1678336113,"answer_id":75680440,"question_id":75628289,"body_markdown":"You can do something like this options\r\n\r\n```\r\n@Entity\r\n@Immutable\r\n@Subselect(\r\n    &quot;SELECT &quot; +\r\n    &quot;    functions.*&quot;\r\n    &quot;FROM (&quot; +\r\n    &quot;    SELECT &quot; +\r\n    &quot;        C.*, &quot; +\r\n    &quot;        Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn &quot; +\r\n    &quot;    FROM &quot; +\r\n    &quot;        C &quot; +\r\n    &quot;     JOIN &quot; +\r\n    &quot;         B &quot; +\r\n    &quot;    ON &quot; +\r\n    &quot;        B.b_id = C.b_id &quot; +\r\n    &quot;     JOIN &quot; +\r\n    &quot;         A &quot; +\r\n    &quot;    ON &quot; +\r\n    &quot;        A.a_id = B.a_id &quot; +\r\n    &quot;    WHERE &quot; +\r\n    &quot;        A.a_id = 1234 &quot; +\r\n    &quot;) AS functions &quot;\r\n)\r\npublic class YourData {\r\n\r\n    @Id\r\n    private Integer propertieOfC1;\r\n\r\n    private String propertieOfC2;\r\n\r\n    // and more other for C table...\r\n\r\n    private String propertieOfC3;\r\n\r\n    private int rn;\r\n\r\n    //getters and setters bellow\r\n//hashcode and equals\r\n\r\n}\r\n\r\n@Repository\r\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\r\n\r\n    YourData findByRn(int rn);\r\n}\r\n```\r\n\r\nor you can creat a viwer on database like this \r\n\r\n\r\n```\r\nCREATE OR REPLACE VIEW your_functions_viwer AS\r\n    SELECT\r\n        functions.*\r\n    FROM (\r\n        SELECT\r\n             C.*,\r\n            Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\r\n        FROM\r\n            C\r\n        JOIN\r\n            B\r\n        ON\r\n             B.b_id = C.b_id\r\n        JOIN\r\n            A\r\n        ON\r\n              A.a_id = B.a_id\r\n        WHERE\r\n             A.a_id = 1234\r\n    ) AS functions;\r\n```\r\n\r\n\r\nAnd then you can use on Java like this\r\n\r\n```\r\n@Entity\r\n@Immutable\r\n@Table(name = &quot;your_functions_viwer&quot;)\r\npublic class YourData {\r\n\r\n    @Id\r\n    private Integer propertieOfC1;\r\n\r\n    private String propertieOfC2;\r\n\r\n    // and more other for C table...\r\n\r\n    private String propertieOfC3;\r\n\r\n    private int rn;\r\n\r\n    //getters and setters bellow\r\n//hashcode and equals\r\n\r\n\r\n}\r\n\r\n\r\n\r\n@Repository\r\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\r\n\r\n    YourData findByRn(int rn);\r\n}\r\n```\r\n\r\n\r\nfor more you can see the [vladmihalcea][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/map-jpa-entity-to-view-or-sql-query-with-hibernate/","title":"Getting first row in Spring Data JPA","body":"<p>You can do something like this options</p>\n<pre><code>@Entity\n@Immutable\n@Subselect(\n    &quot;SELECT &quot; +\n    &quot;    functions.*&quot;\n    &quot;FROM (&quot; +\n    &quot;    SELECT &quot; +\n    &quot;        C.*, &quot; +\n    &quot;        Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn &quot; +\n    &quot;    FROM &quot; +\n    &quot;        C &quot; +\n    &quot;     JOIN &quot; +\n    &quot;         B &quot; +\n    &quot;    ON &quot; +\n    &quot;        B.b_id = C.b_id &quot; +\n    &quot;     JOIN &quot; +\n    &quot;         A &quot; +\n    &quot;    ON &quot; +\n    &quot;        A.a_id = B.a_id &quot; +\n    &quot;    WHERE &quot; +\n    &quot;        A.a_id = 1234 &quot; +\n    &quot;) AS functions &quot;\n)\npublic class YourData {\n\n    @Id\n    private Integer propertieOfC1;\n\n    private String propertieOfC2;\n\n    // and more other for C table...\n\n    private String propertieOfC3;\n\n    private int rn;\n\n    //getters and setters bellow\n//hashcode and equals\n\n}\n\n@Repository\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\n\n    YourData findByRn(int rn);\n}\n</code></pre>\n<p>or you can creat a viwer on database like this</p>\n<pre><code>CREATE OR REPLACE VIEW your_functions_viwer AS\n    SELECT\n        functions.*\n    FROM (\n        SELECT\n             C.*,\n            Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\n        FROM\n            C\n        JOIN\n            B\n        ON\n             B.b_id = C.b_id\n        JOIN\n            A\n        ON\n              A.a_id = B.a_id\n        WHERE\n             A.a_id = 1234\n    ) AS functions;\n</code></pre>\n<p>And then you can use on Java like this</p>\n<pre><code>@Entity\n@Immutable\n@Table(name = &quot;your_functions_viwer&quot;)\npublic class YourData {\n\n    @Id\n    private Integer propertieOfC1;\n\n    private String propertieOfC2;\n\n    // and more other for C table...\n\n    private String propertieOfC3;\n\n    private int rn;\n\n    //getters and setters bellow\n//hashcode and equals\n\n\n}\n\n\n\n@Repository\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\n\n    YourData findByRn(int rn);\n}\n</code></pre>\n<p>for more you can see the <a href=\"https://vladmihalcea.com/map-jpa-entity-to-view-or-sql-query-with-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea</a></p>\n"},{"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1678780494,"post_id":75717745,"comment_id":133595144,"body_markdown":"You are right saying that the solution with the max subquery and with the rownumber subquery are logically equivalent (idk about performances). I will try to see if your solution is suitable, thank you.","body":"You are right saying that the solution with the max subquery and with the rownumber subquery are logically equivalent (idk about performances). I will try to see if your solution is suitable, thank you."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1678782387,"post_id":75717745,"comment_id":133595574,"body_markdown":"You were right. The query I wrote for Spring JPA is even more simpler: \n\n&quot;select c from CEntity c where c.id in (select max(c.id) from CEntity c where c.b.a.id = :aId group by c.bId)&quot;","body":"You were right. The query I wrote for Spring JPA is even more simpler:   &quot;select c from CEntity c where c.id in (select max(c.id) from CEntity c where c.b.a.id = :aId group by c.bId)&quot;"}],"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678676599,"creation_date":1678676599,"answer_id":75717745,"question_id":75628289,"body_markdown":"Alright, I guess I found a solution for your problem, but without using window functions.\r\n\r\nIf I understand your question correctly, you want to retrieve the bigest C for each group of distinct B ***(1)*** - joining with A was done for filtering purposes.\r\n\r\nThis is the JPQL I wrote:\r\n\r\n```sql\r\nSELECT c FROM C c WHERE c.c_id IN (\r\n  SELECT MAX(aux.c_id)\r\n  FROM A a JOIN a.classesB b JOIN b.classesC aux\r\n  WHERE a.other_field = 1234\r\n  GROUP BY b.b_id)\r\n```\r\n\r\nAnd this is the code I wrote to verify the solution:\r\n\r\n```java\r\n@Entity(name = &quot;A&quot;)\r\npublic class ClassA {\r\n\r\n    @Id\r\n    private long a_id;\r\n    private long other_field;\r\n    @OneToMany(mappedBy = &quot;classA&quot;)\r\n    private Set&lt;ClassB&gt; classesB;\r\n\r\n    /* getters and setters omitted */\r\n}\r\n\r\n@Entity(name = &quot;B&quot;)\r\npublic class ClassB {\r\n\r\n    @Id\r\n    private long b_id;\r\n    @ManyToOne @JoinColumn(name = &quot;a_id&quot;)\r\n    private ClassA classA;\r\n    @OneToMany(mappedBy = &quot;classB&quot;)\r\n    private Set&lt;ClassC&gt; classesC;\r\n\r\n    /* getters and setters omitted */\r\n}\r\n\r\n@Entity(name = &quot;C&quot;)\r\npublic class ClassC {\r\n\r\n    @Id\r\n    private long c_id;\r\n    @ManyToOne @JoinColumn(name = &quot;b_id&quot;)\r\n    private ClassB classB;\r\n\r\n    /* getters and setters omitted */\r\n}\r\n\r\n@Stateless\r\npublic class Service {\r\n\r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    public void execute() {\r\n        em.createQuery(&quot;&quot;&quot;\r\n            SELECT c FROM C c WHERE c.c_id IN (\r\n                SELECT MAX(aux.c_id)\r\n                FROM A a JOIN a.classesB b JOIN b.classesC aux\r\n                WHERE a.other_field = 1234\r\n                GROUP BY b.b_id\r\n            )\r\n            &quot;&quot;&quot;, ClassC.class)\r\n            .getResultStream()\r\n            .map(c -&gt; &quot;A: %05d B: %05d C: %05d&quot;.formatted(\r\n                    c.getClassB().getClassA().getA_id(),\r\n                    c.getClassB().getB_id(),\r\n                    c.getC_id()))\r\n            .forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nThe `Service.execute()` method prints the result according to the understand described in **[1]**.\r\n\r\n**Now, about the window functions.**\r\n\r\nFirst of all, as per the [specification](https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#a5196), you can&#39;t write subqueries into the `FROM` clause. So, even if window functions were accepted, it wouldn&#39;t be possible to use them in a subquery into the `FROM` clause - as you did in your example. \r\n\r\nHowever, for the sake of understanding, let&#39;s try to execute just the inner query - without the `WHERE` clause of the outer query - and its window function:\r\n\r\n```java\r\n/* dummy object created to retrieve the result in a typed way */\r\npublic record QueryRecord(long c_id, long rn) {\r\n}\r\n\r\n@Stateless\r\npublic class Service {\r\n\r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    public void execute() {\r\n        em.createQuery(&quot;&quot;&quot;\r\n            SELECT NEW package.QueryRecord(c.c_id, ROW_NUMBER() OVER(PARTITION BY b.b_id ORDER BY c.c_id DESC) AS rn)\r\n            FROM C c JOIN c.classB b JOIN b.classA a\r\n            WHERE a.other_field = 1234\r\n            &quot;&quot;&quot;, QueryRecord.class)\r\n            .getResultStream()\r\n            .forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nBut, executing the previous code, gives the following exception:\r\n\r\n```\r\norg.hibernate.query.sqm.StrictJpaComplianceViolation: Encountered non-compliant non-standard function call [ROW_NUMBER], but strict JPA compliance was requested; use JPA&#39;s FUNCTION(functionName[,...]) syntax name instead\r\n```\r\n\r\nAt this point, I was finding myself in a dead end. I could either insert `&lt;property name=&quot;hibernate.jpa.compliance.query&quot; value=&quot;false&quot;/&gt;` into the `persistence.xml` or use native queries. Both works fine, but I don&#39;t know if they would qualify as canonical answer.\r\n","title":"Getting first row in Spring Data JPA","body":"<p>Alright, I guess I found a solution for your problem, but without using window functions.</p>\n<p>If I understand your question correctly, you want to retrieve the bigest C for each group of distinct B <em><strong>(1)</strong></em> - joining with A was done for filtering purposes.</p>\n<p>This is the JPQL I wrote:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT c FROM C c WHERE c.c_id IN (\n  SELECT MAX(aux.c_id)\n  FROM A a JOIN a.classesB b JOIN b.classesC aux\n  WHERE a.other_field = 1234\n  GROUP BY b.b_id)\n</code></pre>\n<p>And this is the code I wrote to verify the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;A&quot;)\npublic class ClassA {\n\n    @Id\n    private long a_id;\n    private long other_field;\n    @OneToMany(mappedBy = &quot;classA&quot;)\n    private Set&lt;ClassB&gt; classesB;\n\n    /* getters and setters omitted */\n}\n\n@Entity(name = &quot;B&quot;)\npublic class ClassB {\n\n    @Id\n    private long b_id;\n    @ManyToOne @JoinColumn(name = &quot;a_id&quot;)\n    private ClassA classA;\n    @OneToMany(mappedBy = &quot;classB&quot;)\n    private Set&lt;ClassC&gt; classesC;\n\n    /* getters and setters omitted */\n}\n\n@Entity(name = &quot;C&quot;)\npublic class ClassC {\n\n    @Id\n    private long c_id;\n    @ManyToOne @JoinColumn(name = &quot;b_id&quot;)\n    private ClassB classB;\n\n    /* getters and setters omitted */\n}\n\n@Stateless\npublic class Service {\n\n    @PersistenceContext\n    EntityManager em;\n\n    public void execute() {\n        em.createQuery(&quot;&quot;&quot;\n            SELECT c FROM C c WHERE c.c_id IN (\n                SELECT MAX(aux.c_id)\n                FROM A a JOIN a.classesB b JOIN b.classesC aux\n                WHERE a.other_field = 1234\n                GROUP BY b.b_id\n            )\n            &quot;&quot;&quot;, ClassC.class)\n            .getResultStream()\n            .map(c -&gt; &quot;A: %05d B: %05d C: %05d&quot;.formatted(\n                    c.getClassB().getClassA().getA_id(),\n                    c.getClassB().getB_id(),\n                    c.getC_id()))\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>The <code>Service.execute()</code> method prints the result according to the understand described in <strong>[1]</strong>.</p>\n<p><strong>Now, about the window functions.</strong></p>\n<p>First of all, as per the <a href=\"https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#a5196\" rel=\"nofollow noreferrer\">specification</a>, you can't write subqueries into the <code>FROM</code> clause. So, even if window functions were accepted, it wouldn't be possible to use them in a subquery into the <code>FROM</code> clause - as you did in your example.</p>\n<p>However, for the sake of understanding, let's try to execute just the inner query - without the <code>WHERE</code> clause of the outer query - and its window function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* dummy object created to retrieve the result in a typed way */\npublic record QueryRecord(long c_id, long rn) {\n}\n\n@Stateless\npublic class Service {\n\n    @PersistenceContext\n    EntityManager em;\n\n    public void execute() {\n        em.createQuery(&quot;&quot;&quot;\n            SELECT NEW package.QueryRecord(c.c_id, ROW_NUMBER() OVER(PARTITION BY b.b_id ORDER BY c.c_id DESC) AS rn)\n            FROM C c JOIN c.classB b JOIN b.classA a\n            WHERE a.other_field = 1234\n            &quot;&quot;&quot;, QueryRecord.class)\n            .getResultStream()\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>But, executing the previous code, gives the following exception:</p>\n<pre><code>org.hibernate.query.sqm.StrictJpaComplianceViolation: Encountered non-compliant non-standard function call [ROW_NUMBER], but strict JPA compliance was requested; use JPA's FUNCTION(functionName[,...]) syntax name instead\n</code></pre>\n<p>At this point, I was finding myself in a dead end. I could either insert <code>&lt;property name=&quot;hibernate.jpa.compliance.query&quot; value=&quot;false&quot;/&gt;</code> into the <code>persistence.xml</code> or use native queries. Both works fine, but I don't know if they would qualify as canonical answer.</p>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75717745,"answer_count":2,"score":1,"last_activity_date":1678958946,"creation_date":1677853520,"question_id":75628289,"body_markdown":"I&#39;m trying to implement a simple query that is logically equivalent to\r\n\r\n\tselect * from (\r\n    \tselect C.*, Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\r\n    \tfrom C\r\n    \tjoin B on B.b_id = C.b_id\r\n    \tjoin A on A.a_id = B.a_id\r\n    \twhere A.other_field = 1234\r\n    ) as subquery where rn = 1\r\n\r\nIn words: there are 1-N relations A -&gt; B and B -&gt; C; given an entity A, for each B get the last C. It should be possible to implement a native query, as in [this answer](https://stackoverflow.com/questions/67172472/is-it-possible-to-use-window-functions-in-jpa), but I was hoping for a better approach. Is this the only way, as [this old answer](https://stackoverflow.com/a/11206776/11478354) said?","title":"Getting first row in Spring Data JPA","body":"<p>I'm trying to implement a simple query that is logically equivalent to</p>\n<pre><code>select * from (\n    select C.*, Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\n    from C\n    join B on B.b_id = C.b_id\n    join A on A.a_id = B.a_id\n    where A.other_field = 1234\n) as subquery where rn = 1\n</code></pre>\n<p>In words: there are 1-N relations A -&gt; B and B -&gt; C; given an entity A, for each B get the last C. It should be possible to implement a native query, as in <a href=\"https://stackoverflow.com/questions/67172472/is-it-possible-to-use-window-functions-in-jpa\">this answer</a>, but I was hoping for a better approach. Is this the only way, as <a href=\"https://stackoverflow.com/a/11206776/11478354\">this old answer</a> said?</p>\n"},{"tags":["java","spring","code-generation","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1315349,"reputation":1613,"user_id":1262371,"display_name":"Martin Hauner"},"score":0,"creation_date":1587399562,"post_id":61307411,"comment_id":108490875,"body_markdown":"As far as I know that is not possible without adding size/page to the api. Why do you want to hide it? Without it nobody knows it is paging...","body":"As far as I know that is not possible without adding size/page to the api. Why do you want to hide it? Without it nobody knows it is paging..."},{"owner":{"account_id":6559787,"reputation":447,"user_id":5071324,"accept_rate":67,"display_name":"Bloodlex"},"score":0,"creation_date":1587489302,"post_id":61307411,"comment_id":108529861,"body_markdown":"@MartinHauner We would like to have page,size,sort in our openAPI .yaml file, so our other teams know that the paging is there, but in our generated API as a backend, we would like to have only this Pageable param, since spring will handle that having page,size,sort param and transform it into Pageable object","body":"@MartinHauner We would like to have page,size,sort in our openAPI .yaml file, so our other teams know that the paging is there, but in our generated API as a backend, we would like to have only this Pageable param, since spring will handle that having page,size,sort param and transform it into Pageable object"}],"answers":[{"comments":[{"owner":{"account_id":6559787,"reputation":447,"user_id":5071324,"accept_rate":67,"display_name":"Bloodlex"},"score":0,"creation_date":1588486740,"post_id":61369476,"comment_id":108911317,"body_markdown":"thanks! I wish it was more configurable than it seems to be, great idea with creating your processor, I still need to check this out :)","body":"thanks! I wish it was more configurable than it seems to be, great idea with creating your processor, I still need to check this out :)"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":0,"creation_date":1628531169,"post_id":61369476,"comment_id":121440622,"body_markdown":"What do you mean by &#39;works if it is not annotated&#39;? Annotations as I understand are also added by openapi generator plugin.","body":"What do you mean by &#39;works if it is not annotated&#39;? Annotations as I understand are also added by openapi generator plugin."},{"owner":{"account_id":1315349,"reputation":1613,"user_id":1262371,"display_name":"Martin Hauner"},"score":0,"creation_date":1628835593,"post_id":61369476,"comment_id":121531495,"body_markdown":"at time of writing, (I don&#39;t know if it still the case) the generator added the `@RequestParam()` annotation to the `pageable` parameter of the controller method. This confused Spring and the automatic binding of the `page`&amp;  `size` parameters to the `Pagable` object did not work. It did work only if the `Pagable` parameter was not annotated with `@RequestParam`.","body":"at time of writing, (I don&#39;t know if it still the case) the generator added the <code>@RequestParam()</code> annotation to the <code>pageable</code> parameter of the controller method. This confused Spring and the automatic binding of the <code>page</code>&amp;  <code>size</code> parameters to the <code>Pagable</code> object did not work. It did work only if the <code>Pagable</code> parameter was not annotated with <code>@RequestParam</code>."},{"owner":{"account_id":9715277,"reputation":469,"user_id":7205901,"display_name":"OliverE"},"score":0,"creation_date":1643375803,"post_id":61369476,"comment_id":125329406,"body_markdown":"Kotlin-Spring v5.3.1 generates a &quot;pageable: Pageable?&quot; parameter without @RequestParam annotation.","body":"Kotlin-Spring v5.3.1 generates a &quot;pageable: Pageable?&quot; parameter without @RequestParam annotation."},{"owner":{"account_id":5133120,"reputation":113,"user_id":4112670,"display_name":"Victor Mikhailov"},"score":0,"creation_date":1698236865,"post_id":61369476,"comment_id":136379231,"body_markdown":"im playing with the last openapi generator and gradle plugin 6.2.1 and it does not generate @RequestParam.  parameter binding to query string is working.  The only problem that generator generates useless data class anyway, despite it is overrided by Spring class, and I need to delete it.","body":"im playing with the last openapi generator and gradle plugin 6.2.1 and it does not generate @RequestParam.  parameter binding to query string is working.  The only problem that generator generates useless data class anyway, despite it is overrided by Spring class, and I need to delete it."}],"tags":[],"owner":{"account_id":1315349,"reputation":1613,"user_id":1262371,"display_name":"Martin Hauner"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1587570818,"creation_date":1587570818,"answer_id":61369476,"question_id":61307411,"body_markdown":"Unfortunately this is no final solution but it is half way. Maybe it is of help anyway.\r\n\r\nBy defining the pageable parameters (size, page etc.) as an object query parameter it is possible to tell the generator to use the Spring object instead of generating a `Pageable` class from the api. This is done by an import mapping.\r\n\r\nin gradle:\r\n\r\n    openApiGenerate {\r\n        ....\r\n        importMappings = [\r\n            &#39;Pageable&#39;: &#39;org.springframework.data.domain.Pageable&#39;\r\n        ]\r\n    }\r\n\r\nwhich tells the generator to use the Spring class instead of the one defined in the api:\r\n \r\n    openapi: 3.0.2\r\n    info:\r\n      title: Spring Page/Pageable API\r\n      version: 1.0.0\r\n\r\n    paths:\r\n      /page:\r\n        get:\r\n          parameters:\r\n            - in: query \r\n              name: pageable\r\n              required: false\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Pageable&#39;\r\n          responses:\r\n            ...\r\n\r\n    components:\r\n      schemas:\r\n        Pageable: \r\n          description: minimal Pageable query parameters\r\n          type: object\r\n          properties:\r\n            page:\r\n              type: integer\r\n            size:\r\n              type: integer\r\n\r\nThe issue with the mapping is that the generator still adds a `@RequestParam()` annotation and that **breaks** it again. It only works if it is **NOT** annotated.\r\n\r\nIf you are a bit adventurous you could try [openapi-processor-spring](https://hauner.github.io/openapi-processor/spring/index.html) (i&#39;m the author). It it does handle the example above. But it may have other limitations you don&#39;t like.\r\n\r\n","title":"OpenAPI Generator Pageable with Spring","body":"<p>Unfortunately this is no final solution but it is half way. Maybe it is of help anyway.</p>\n\n<p>By defining the pageable parameters (size, page etc.) as an object query parameter it is possible to tell the generator to use the Spring object instead of generating a <code>Pageable</code> class from the api. This is done by an import mapping.</p>\n\n<p>in gradle:</p>\n\n<pre><code>openApiGenerate {\n    ....\n    importMappings = [\n        'Pageable': 'org.springframework.data.domain.Pageable'\n    ]\n}\n</code></pre>\n\n<p>which tells the generator to use the Spring class instead of the one defined in the api:</p>\n\n<pre><code>openapi: 3.0.2\ninfo:\n  title: Spring Page/Pageable API\n  version: 1.0.0\n\npaths:\n  /page:\n    get:\n      parameters:\n        - in: query \n          name: pageable\n          required: false\n          schema:\n            $ref: '#/components/schemas/Pageable'\n      responses:\n        ...\n\ncomponents:\n  schemas:\n    Pageable: \n      description: minimal Pageable query parameters\n      type: object\n      properties:\n        page:\n          type: integer\n        size:\n          type: integer\n</code></pre>\n\n<p>The issue with the mapping is that the generator still adds a <code>@RequestParam()</code> annotation and that <strong>breaks</strong> it again. It only works if it is <strong>NOT</strong> annotated.</p>\n\n<p>If you are a bit adventurous you could try <a href=\"https://hauner.github.io/openapi-processor/spring/index.html\" rel=\"noreferrer\">openapi-processor-spring</a> (i'm the author). It it does handle the example above. But it may have other limitations you don't like.</p>\n"},{"tags":[],"owner":{"account_id":28031049,"reputation":41,"user_id":21410215,"display_name":"nikloe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678958867,"creation_date":1678958867,"answer_id":75754238,"question_id":61307411,"body_markdown":"I have another solution, using &#39;openapi-generator&#39; u can give a vendorextension flag in the spec file &#39;x-spring-paginated&#39;\r\n\r\n```openapi: 3.0.2\r\ninfo:\r\n  title: Spring Page/Pageable API\r\n  version: 1.0.0\r\n\r\npaths:\r\n  /page:\r\n    get:\r\n      x-spring-paginated: true\r\n      responses:\r\n        ...\r\n```\r\nYou might experience an issue with spring-doc where you either can add the missig dependency or change the documentation-provider under the configOptions to source.\r\n\r\nI.G. for the maven plugin\r\n```\r\n...\r\n&lt;configuration&gt;\r\n  ...\r\n  &lt;configOptions&gt;\r\n   &lt;documentationProvider&gt;source&lt;/documentationProvider&gt;\r\n   ...\r\n  &lt;/configOptions&gt;\r\n&lt;/configuration&gt;\r\n\r\n```\r\n","title":"OpenAPI Generator Pageable with Spring","body":"<p>I have another solution, using 'openapi-generator' u can give a vendorextension flag in the spec file 'x-spring-paginated'</p>\n<pre><code>info:\n  title: Spring Page/Pageable API\n  version: 1.0.0\n\npaths:\n  /page:\n    get:\n      x-spring-paginated: true\n      responses:\n        ...\n</code></pre>\n<p>You might experience an issue with spring-doc where you either can add the missig dependency or change the documentation-provider under the configOptions to source.</p>\n<p>I.G. for the maven plugin</p>\n<pre><code>...\n&lt;configuration&gt;\n  ...\n  &lt;configOptions&gt;\n   &lt;documentationProvider&gt;source&lt;/documentationProvider&gt;\n   ...\n  &lt;/configOptions&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n"}],"owner":{"account_id":6559787,"reputation":447,"user_id":5071324,"accept_rate":67,"display_name":"Bloodlex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13764,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":61369476,"answer_count":2,"score":12,"last_activity_date":1678958867,"creation_date":1587312073,"question_id":61307411,"body_markdown":"I would like the OpenAPI Generator ([https://github.com/OpenAPITools/openapi-generator][1]) to be able to generate Pageable parameter in API according to the implementation in Spring Boot Data. I&#39;ve been trying to find a suitable, out of the box solution, but couldn&#39;t find one.\r\n\r\nIdeally, this Pageable parameter should be added only to GET methods in a following manner:\r\n\r\n    default ResponseEntity&lt;User&gt; getUser(@ApiParam(value = &quot;value&quot;,required=true) @PathVariable(&quot;id&quot;) Long id, **Pageable pageable**)\r\n\r\nSo after implementing this interface in my Controller I would need to override it and having this aforementioned Pageable parameter. I don&#39;t want to have separate parameters for size or page, only this Pageable here.\r\n\r\nThanks for any tips and help!\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator","title":"OpenAPI Generator Pageable with Spring","body":"<p>I would like the OpenAPI Generator (<a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"noreferrer\">https://github.com/OpenAPITools/openapi-generator</a>) to be able to generate Pageable parameter in API according to the implementation in Spring Boot Data. I've been trying to find a suitable, out of the box solution, but couldn't find one.</p>\n\n<p>Ideally, this Pageable parameter should be added only to GET methods in a following manner:</p>\n\n<pre><code>default ResponseEntity&lt;User&gt; getUser(@ApiParam(value = \"value\",required=true) @PathVariable(\"id\") Long id, **Pageable pageable**)\n</code></pre>\n\n<p>So after implementing this interface in my Controller I would need to override it and having this aforementioned Pageable parameter. I don't want to have separate parameters for size or page, only this Pageable here.</p>\n\n<p>Thanks for any tips and help!</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1678974427,"post_id":75754136,"comment_id":133639576,"body_markdown":"That&#39;s a lot of code. Can you make a MCVE?","body":"That&#39;s a lot of code. Can you make a MCVE?"},{"owner":{"account_id":24932843,"reputation":31,"user_id":18799738,"display_name":"EkaSaffronGaruda"},"score":0,"creation_date":1678977642,"post_id":75754136,"comment_id":133640675,"body_markdown":"@Jorn I don&#39;t know what is a MCVE, sorry.","body":"@Jorn I don&#39;t know what is a MCVE, sorry."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1678980396,"post_id":75754136,"comment_id":133641630,"body_markdown":"Here you go: https://stackoverflow.com/help/minimal-reproducible-example","body":"Here you go: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":24932843,"reputation":31,"user_id":18799738,"display_name":"EkaSaffronGaruda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678958320,"creation_date":1678958320,"question_id":75754136,"body_markdown":"I have a gradle project with 2 sub-projects &#39;restsanatan-server&#39; and &#39;restsanatan-webapp.&#39; When I clean and build the project, the task packageWebapp in restsanatan-server runs before assemble but however in the generated distributions, the WEB-INF.zip file doesn&#39;t appear. When I build again without cleaning, the zip is copied to the resources directory and built properly and I find the file in the distributions. What am I doing wrong?\r\n\r\nRoot build.gradle\r\n```gradle\r\nplugins {\r\n    id &#39;base&#39;\r\n}\r\n\r\nversion &quot;0.10.0&quot;\r\n\r\nproject(&#39;:restsanatan-server&#39;).setVersion(version)\r\nproject(&#39;:restsanatan-webapp&#39;).setVersion(&quot;0.1.0&quot;)\r\n\r\ntask distZip(type: Copy) {\r\n    dependsOn(&quot;:build&quot;)\r\n\r\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/distributions&quot;)\r\n    include(&quot;restsanatan-server-${version}.zip&quot;)\r\n    include(&quot;restsanatan-server-shadow-${version}.zip&quot;)\r\n    rename(&quot;restsanatan-server-${version}.zip&quot;, &quot;RestSanatan-${version}.zip&quot;)\r\n    rename(&quot;restsanatan-server-shadow-${version}.zip&quot;, &quot;RestSanatan-fat-${version}.zip&quot;)\r\n    into buildDir\r\n}\r\n\r\ntask distJar(type: Copy) {\r\n    dependsOn(&quot;:build&quot;)\r\n\r\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/libs&quot;)\r\n    include(&quot;restsanatan-server-${version}.jar&quot;)\r\n    include(&quot;restsanatan-server-${version}-all.jar&quot;)\r\n    rename(&quot;restsanatan-server-${version}.jar&quot;, &quot;RestSanatan-${version}.jar&quot;)\r\n    rename(&quot;restsanatan-server-${version}-all.jar&quot;, &quot;RestSanatan-fat-${version}.jar&quot;)\r\n    into buildDir\r\n}\r\n\r\nbuild {\r\n    dependsOn(&quot;:restsanatan-server:build&quot;)\r\n    dependsOn(&quot;:restsanatan-webapp:build&quot;)\r\n}\r\n\r\nbuild.finalizedBy(distZip)\r\nbuild.finalizedBy(distJar)\r\n\r\nclean {\r\n    dependsOn(&quot;:restsanatan-server:clean&quot;)\r\n    dependsOn(&quot;:restsanatan-webapp:clean&quot;)\r\n}\r\n```\r\nrestsanatan-server build.gradle\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n}\r\n\r\ngroup &#39;org.projectsanatan.restsanatan&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    metaFile = &quot;restsanatan.meta&quot;\r\n    javaMainClass = &quot;org.projectsanatan.restsanatan.Main&quot;\r\n\r\n    homePage = &quot;https://github.com/ProjectSanatan/RestSanatan/README.md&quot;\r\n    repository = &quot;https://github.com/ProjectSanatan/RestSanatan.git&quot;\r\n\r\n    webapp = rootProject.project(&quot;:restsanatan-webapp&quot;)\r\n}\r\n\r\napplication {\r\n    mainClassName = javaMainClass\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    \r\n    implementation &#39;org.eclipse.jetty:jetty-server:11.0.8&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-servlet:11.0.8&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-servlets:11.0.9&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-util:11.0.8&#39;\r\n//    implementation &#39;es.moki.ratelimitj:ratelimitj-core:0.7.0&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-core:2.17.2&#39;\r\n    implementation &#39;org.yaml:snakeyaml:1.30&#39;\r\n    implementation &#39;com.google.guava:guava:31.0.1-jre&#39;\r\n    implementation &#39;org.json:json:20211205&#39;\r\n    implementation &#39;org.glassfish.jersey.core:jersey-server:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-servlet:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-jetty-http:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.core:jersey-common:3.0.4&#39;    \r\n    implementation &#39;org.glassfish.jersey.inject:jersey-hk2:3.0.4&#39;\r\n//    implementation &#39;org.glassfish.jersey.media:jersey-media-jaxb:3.1.0-M3&#39;\r\n    implementation &#39;commons-cli:commons-cli:1.5.0&#39;\r\n    implementation &#39;org.apache.commons:commons-text:1.10.0&#39;\r\n    implementation &#39;org.jline:jline:3.21.0&#39;\r\n    implementation &#39;org.jline:jline-console:3.21.0&#39;\r\n    implementation &#39;org.jline:jline-terminal:3.21.0&#39;\r\n    implementation &#39;org.jline:jline-reader:3.21.0&#39;\r\n    implementation &#39;mysql:mysql-connector-java:8.0.30&#39;\r\n    implementation &#39;com.bucket4j:bucket4j-core:8.1.1&#39;\r\n    implementation &#39;org.thymeleaf:thymeleaf:3.1.1.RELEASE&#39;\r\n    implementation &#39;org.reflections:reflections:0.10.2&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.register(&#39;writeMeta&#39;) {\r\n    Properties meta = new Properties()\r\n    meta.setProperty(&quot;version&quot;, version)\r\n    meta.setProperty(&quot;home_page&quot;, homePage)\r\n    meta.setProperty(&quot;repository&quot;, repository)\r\n\r\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\r\n    if (!f.exists()) f.createNewFile()\r\n\r\n    OutputStream os = new FileOutputStream(f)\r\n    meta.store(os, &quot;restsanatan-server packaging metadata&quot;)\r\n    os.close()\r\n\r\n    copy {\r\n        from projectDir\r\n        include metaFile\r\n        into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\r\n    }\r\n\r\n    f.delete()\r\n}\r\n\r\n// \r\ntask packageWebapp(type: Copy) {\r\n//    mustRunAfter(writeMeta)\r\n\r\n    from file(webapp.buildDir.getAbsolutePath() + &quot;/distributions/RestSanatan-WEBAPP-${webapp.version}.zip&quot;)\r\n    into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\r\n    rename &quot;RestSanatan-WEBAPP-${webapp.version}.zip&quot;, &quot;WEB-INF.zip&quot;\r\n}\r\n\r\nassemble.dependsOn(writeMeta)\r\nassemble.dependsOn(packageWebapp)\r\n//jar.dependsOn(packageWebapp)\r\n//shadowJar.dependsOn(packageWebapp)\r\n\r\nrun {\r\n    dependsOn(assemble)\r\n}\r\n```\r\nrestsanatan-webapp build.gradle\r\n```gradle\r\nplugins {\r\n    id &#39;base&#39;\r\n}\r\n\r\ngroup &quot;org.projectsanatan.restsanatan&quot;\r\n\r\next {\r\n    metaFile = &quot;restsanatan-webapp.meta&quot;\r\n}\r\n\r\ntask writeMeta() {\r\n    Properties meta = new Properties()\r\n    meta.setProperty(&quot;version&quot;, version)\r\n\r\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\r\n    if(!f.exists()) f.createNewFile()\r\n\r\n    OutputStream os = new FileOutputStream(f)\r\n    meta.store(os, &quot;restsanatan-webapp packaging metadata&quot;)\r\n    os.close()\r\n\r\n    copy {\r\n        from projectDir\r\n        include metaFile\r\n        into buildDir\r\n    }\r\n\r\n    f.delete()\r\n}\r\n\r\ntask dist(type: Zip) {\r\n    from &quot;build/generated&quot;\r\n    into &quot;RestSanatan-WEBAPP-${project.version}.zip&quot;\r\n}\r\n\r\nassemble {\r\n    mkdir(&quot;build/generated&quot;)\r\n    copy {\r\n        from &quot;src&quot;\r\n        into &quot;build/generated/public&quot;\r\n        include &quot;**&quot;\r\n    }\r\n    copy {\r\n        from &quot;views&quot;\r\n        into &quot;build/generated/views&quot;\r\n        include &quot;**&quot;\r\n    }\r\n}\r\n\r\n//build.dependsOn(clean)\r\nbuild.finalizedBy(dist)```","title":"Gradle task does not run properly","body":"<p>I have a gradle project with 2 sub-projects 'restsanatan-server' and 'restsanatan-webapp.' When I clean and build the project, the task packageWebapp in restsanatan-server runs before assemble but however in the generated distributions, the WEB-INF.zip file doesn't appear. When I build again without cleaning, the zip is copied to the resources directory and built properly and I find the file in the distributions. What am I doing wrong?</p>\n<p>Root build.gradle</p>\n<pre><code>plugins {\n    id 'base'\n}\n\nversion &quot;0.10.0&quot;\n\nproject(':restsanatan-server').setVersion(version)\nproject(':restsanatan-webapp').setVersion(&quot;0.1.0&quot;)\n\ntask distZip(type: Copy) {\n    dependsOn(&quot;:build&quot;)\n\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/distributions&quot;)\n    include(&quot;restsanatan-server-${version}.zip&quot;)\n    include(&quot;restsanatan-server-shadow-${version}.zip&quot;)\n    rename(&quot;restsanatan-server-${version}.zip&quot;, &quot;RestSanatan-${version}.zip&quot;)\n    rename(&quot;restsanatan-server-shadow-${version}.zip&quot;, &quot;RestSanatan-fat-${version}.zip&quot;)\n    into buildDir\n}\n\ntask distJar(type: Copy) {\n    dependsOn(&quot;:build&quot;)\n\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/libs&quot;)\n    include(&quot;restsanatan-server-${version}.jar&quot;)\n    include(&quot;restsanatan-server-${version}-all.jar&quot;)\n    rename(&quot;restsanatan-server-${version}.jar&quot;, &quot;RestSanatan-${version}.jar&quot;)\n    rename(&quot;restsanatan-server-${version}-all.jar&quot;, &quot;RestSanatan-fat-${version}.jar&quot;)\n    into buildDir\n}\n\nbuild {\n    dependsOn(&quot;:restsanatan-server:build&quot;)\n    dependsOn(&quot;:restsanatan-webapp:build&quot;)\n}\n\nbuild.finalizedBy(distZip)\nbuild.finalizedBy(distJar)\n\nclean {\n    dependsOn(&quot;:restsanatan-server:clean&quot;)\n    dependsOn(&quot;:restsanatan-webapp:clean&quot;)\n}\n</code></pre>\n<p>restsanatan-server build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\ngroup 'org.projectsanatan.restsanatan'\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\next {\n    metaFile = &quot;restsanatan.meta&quot;\n    javaMainClass = &quot;org.projectsanatan.restsanatan.Main&quot;\n\n    homePage = &quot;https://github.com/ProjectSanatan/RestSanatan/README.md&quot;\n    repository = &quot;https://github.com/ProjectSanatan/RestSanatan.git&quot;\n\n    webapp = rootProject.project(&quot;:restsanatan-webapp&quot;)\n}\n\napplication {\n    mainClassName = javaMainClass\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    \n    implementation 'org.eclipse.jetty:jetty-server:11.0.8'\n    implementation 'org.eclipse.jetty:jetty-servlet:11.0.8'\n    implementation 'org.eclipse.jetty:jetty-servlets:11.0.9'\n    implementation 'org.eclipse.jetty:jetty-util:11.0.8'\n//    implementation 'es.moki.ratelimitj:ratelimitj-core:0.7.0'\n    implementation 'org.apache.logging.log4j:log4j-core:2.17.2'\n    implementation 'org.yaml:snakeyaml:1.30'\n    implementation 'com.google.guava:guava:31.0.1-jre'\n    implementation 'org.json:json:20211205'\n    implementation 'org.glassfish.jersey.core:jersey-server:3.0.4'\n    implementation 'org.glassfish.jersey.containers:jersey-container-servlet:3.0.4'\n    implementation 'org.glassfish.jersey.containers:jersey-container-jetty-http:3.0.4'\n    implementation 'org.glassfish.jersey.core:jersey-common:3.0.4'    \n    implementation 'org.glassfish.jersey.inject:jersey-hk2:3.0.4'\n//    implementation 'org.glassfish.jersey.media:jersey-media-jaxb:3.1.0-M3'\n    implementation 'commons-cli:commons-cli:1.5.0'\n    implementation 'org.apache.commons:commons-text:1.10.0'\n    implementation 'org.jline:jline:3.21.0'\n    implementation 'org.jline:jline-console:3.21.0'\n    implementation 'org.jline:jline-terminal:3.21.0'\n    implementation 'org.jline:jline-reader:3.21.0'\n    implementation 'mysql:mysql-connector-java:8.0.30'\n    implementation 'com.bucket4j:bucket4j-core:8.1.1'\n    implementation 'org.thymeleaf:thymeleaf:3.1.1.RELEASE'\n    implementation 'org.reflections:reflections:0.10.2'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ntasks.register('writeMeta') {\n    Properties meta = new Properties()\n    meta.setProperty(&quot;version&quot;, version)\n    meta.setProperty(&quot;home_page&quot;, homePage)\n    meta.setProperty(&quot;repository&quot;, repository)\n\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\n    if (!f.exists()) f.createNewFile()\n\n    OutputStream os = new FileOutputStream(f)\n    meta.store(os, &quot;restsanatan-server packaging metadata&quot;)\n    os.close()\n\n    copy {\n        from projectDir\n        include metaFile\n        into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\n    }\n\n    f.delete()\n}\n\n// \ntask packageWebapp(type: Copy) {\n//    mustRunAfter(writeMeta)\n\n    from file(webapp.buildDir.getAbsolutePath() + &quot;/distributions/RestSanatan-WEBAPP-${webapp.version}.zip&quot;)\n    into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\n    rename &quot;RestSanatan-WEBAPP-${webapp.version}.zip&quot;, &quot;WEB-INF.zip&quot;\n}\n\nassemble.dependsOn(writeMeta)\nassemble.dependsOn(packageWebapp)\n//jar.dependsOn(packageWebapp)\n//shadowJar.dependsOn(packageWebapp)\n\nrun {\n    dependsOn(assemble)\n}\n</code></pre>\n<p>restsanatan-webapp build.gradle</p>\n<pre><code>plugins {\n    id 'base'\n}\n\ngroup &quot;org.projectsanatan.restsanatan&quot;\n\next {\n    metaFile = &quot;restsanatan-webapp.meta&quot;\n}\n\ntask writeMeta() {\n    Properties meta = new Properties()\n    meta.setProperty(&quot;version&quot;, version)\n\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\n    if(!f.exists()) f.createNewFile()\n\n    OutputStream os = new FileOutputStream(f)\n    meta.store(os, &quot;restsanatan-webapp packaging metadata&quot;)\n    os.close()\n\n    copy {\n        from projectDir\n        include metaFile\n        into buildDir\n    }\n\n    f.delete()\n}\n\ntask dist(type: Zip) {\n    from &quot;build/generated&quot;\n    into &quot;RestSanatan-WEBAPP-${project.version}.zip&quot;\n}\n\nassemble {\n    mkdir(&quot;build/generated&quot;)\n    copy {\n        from &quot;src&quot;\n        into &quot;build/generated/public&quot;\n        include &quot;**&quot;\n    }\n    copy {\n        from &quot;views&quot;\n        into &quot;build/generated/views&quot;\n        include &quot;**&quot;\n    }\n}\n\n//build.dependsOn(clean)\nbuild.finalizedBy(dist)```\n</code></pre>\n"},{"tags":["java","gradle","automated-tests","testng"],"comments":[{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1552414300,"post_id":55125096,"comment_id":96997844,"body_markdown":"which version of TestNG you are using?","body":"which version of TestNG you are using?"},{"owner":{"account_id":11434653,"reputation":95,"user_id":8382435,"display_name":"Konstantin"},"score":0,"creation_date":1552470926,"post_id":55125096,"comment_id":97018214,"body_markdown":"testng:7.0.0-beta3","body":"testng:7.0.0-beta3"},{"owner":{"account_id":9665595,"reputation":545,"user_id":7172191,"display_name":"Reed Chan"},"score":0,"creation_date":1607664206,"post_id":55125096,"comment_id":115348795,"body_markdown":"I have the same issue in TestNG: 7.3.0, Gradle: 6.7.1  Is anybody figured this out?","body":"I have the same issue in TestNG: 7.3.0, Gradle: 6.7.1  Is anybody figured this out?"}],"answers":[{"tags":[],"owner":{"account_id":10079574,"reputation":1734,"user_id":7450414,"display_name":"AndiCover"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678958138,"creation_date":1570443145,"answer_id":58267472,"question_id":55125096,"body_markdown":"I think this is a bug in TestNG. I created an [issue][1]. \r\nIt is fixed with 7.5 and later versions.\r\n\r\n----------\r\n\r\nYou can create a workaround to solve this problem.\r\nWith an `IMethodInterceptor` you can change the execution order of your methods.\r\n\r\n    public class ExecutionOrderInterceptor implements IMethodInterceptor {\r\n    \t@Override\r\n    \tpublic List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\r\n    \t\tComparator&lt;IMethodInstance&gt; comparator = new Comparator&lt;IMethodInstance&gt;() {\r\n    \t\t\tprivate int getPriority(IMethodInstance mi) {\r\n    \t\t\t\tint result = 0;\r\n    \t\t\t\tMethod method = mi.getMethod().getConstructorOrMethod().getMethod();\r\n    \t\t\t\tTest a1 = method.getAnnotation(Test.class);\r\n    \t\t\t\tif (a1 != null) {\r\n    \t\t\t\t\tresult = a1.priority();\r\n    \t\t\t\t}\r\n    \t\t\t\treturn result;\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic int compare(IMethodInstance m1, IMethodInstance m2) {\r\n    \t\t\t\treturn getPriority(m1) - getPriority(m2);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tIMethodInstance[] array = methods.toArray(new IMethodInstance[methods.size()]);\r\n    \t\tArrays.sort(array, comparator);\r\n    \t\treturn Arrays.asList(array);\r\n    \t}\r\n    }\r\n\r\nTo use this interceptor you need to add an annotation to your test classes:\r\n\r\n    @Listeners({ TestReportListener.class })\r\n    public class MyTestClass {\r\n    ...\r\n\r\nYou can also create an abstract class which your test classes extend:\r\n\r\n    @Listeners({ TestReportListener.class })\r\n    public abstract class BaseTest {\r\n      //Add here common code\r\n    }\r\n\r\nAnd use it in your test class:\r\n\r\n    public class MyTestClass extends BaseTest {\r\n    ...\r\n\r\n**Note:** You can use such an interceptor also to implement a custom execution order.\r\n\r\n  [1]: https://github.com/cbeust/testng/issues/2170\r\n","title":"Gradle ignores priority in testng","body":"<p>I think this is a bug in TestNG. I created an <a href=\"https://github.com/cbeust/testng/issues/2170\" rel=\"nofollow noreferrer\">issue</a>.\nIt is fixed with 7.5 and later versions.</p>\n<hr />\n<p>You can create a workaround to solve this problem.\nWith an <code>IMethodInterceptor</code> you can change the execution order of your methods.</p>\n<pre><code>public class ExecutionOrderInterceptor implements IMethodInterceptor {\n    @Override\n    public List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\n        Comparator&lt;IMethodInstance&gt; comparator = new Comparator&lt;IMethodInstance&gt;() {\n            private int getPriority(IMethodInstance mi) {\n                int result = 0;\n                Method method = mi.getMethod().getConstructorOrMethod().getMethod();\n                Test a1 = method.getAnnotation(Test.class);\n                if (a1 != null) {\n                    result = a1.priority();\n                }\n                return result;\n            }\n\n            public int compare(IMethodInstance m1, IMethodInstance m2) {\n                return getPriority(m1) - getPriority(m2);\n            }\n        };\n\n        IMethodInstance[] array = methods.toArray(new IMethodInstance[methods.size()]);\n        Arrays.sort(array, comparator);\n        return Arrays.asList(array);\n    }\n}\n</code></pre>\n<p>To use this interceptor you need to add an annotation to your test classes:</p>\n<pre><code>@Listeners({ TestReportListener.class })\npublic class MyTestClass {\n...\n</code></pre>\n<p>You can also create an abstract class which your test classes extend:</p>\n<pre><code>@Listeners({ TestReportListener.class })\npublic abstract class BaseTest {\n  //Add here common code\n}\n</code></pre>\n<p>And use it in your test class:</p>\n<pre><code>public class MyTestClass extends BaseTest {\n...\n</code></pre>\n<p><strong>Note:</strong> You can use such an interceptor also to implement a custom execution order.</p>\n"}],"owner":{"account_id":11434653,"reputation":95,"user_id":8382435,"display_name":"Konstantin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678958138,"creation_date":1552404229,"question_id":55125096,"body_markdown":"Can someone explain how does gradle works with **priority** parameter in @Test annotation in testng?\r\nFor example I have the next code:    \r\n    \r\n    public class TestGradle {\r\n\t    @Test (priority = 2)\r\n     \tpublic void testA() throws Exception {\r\n\t    \tSystem.out.println(&quot;Test A&quot;);\r\n     \t}\r\n    \t@Test (priority = 1)\r\n\t    public void testB() throws Exception {\r\n\t\t    System.out.println(&quot;Test B&quot;);\r\n     \t}\r\n    \t@Test (priority = 3)\r\n\t    public void testC() throws Exception {\r\n\t\t    System.out.println(&quot;Test C&quot;);\r\n    \t}\r\n    }\r\nSo if I will run it via `gradle test --tests TestGradle` I will get the next output:\r\n\r\n    Test A \r\n    Test B\r\n    Test C\r\n\r\nbut I thought, that it should be like this:\r\n\r\n    Test B\r\n    Test A\r\n    Test C","title":"Gradle ignores priority in testng","body":"<p>Can someone explain how does gradle works with <strong>priority</strong> parameter in @Test annotation in testng?\nFor example I have the next code:    </p>\n\n<pre><code>public class TestGradle {\n    @Test (priority = 2)\n    public void testA() throws Exception {\n        System.out.println(\"Test A\");\n    }\n    @Test (priority = 1)\n    public void testB() throws Exception {\n        System.out.println(\"Test B\");\n    }\n    @Test (priority = 3)\n    public void testC() throws Exception {\n        System.out.println(\"Test C\");\n    }\n}\n</code></pre>\n\n<p>So if I will run it via <code>gradle test --tests TestGradle</code> I will get the next output:</p>\n\n<pre><code>Test A \nTest B\nTest C\n</code></pre>\n\n<p>but I thought, that it should be like this:</p>\n\n<pre><code>Test B\nTest A\nTest C\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1678952341,"post_id":75751543,"comment_id":133633149,"body_markdown":"As it is unsuccesful there will be nothing, obviously, in the `SecurityContext` as that will only provide/contain valid authentications. Also you shouldn&#39;t be writing a response in the `unsuccesfulAuthentication` method as that will break other filters in the chain. What you should implement is an event listener (see https://docs.spring.io/spring-security/reference/servlet/authentication/events.html) to handle failures. That event for the failure will contain the needed information.","body":"As it is unsuccesful there will be nothing, obviously, in the <code>SecurityContext</code> as that will only provide/contain valid authentications. Also you shouldn&#39;t be writing a response in the <code>unsuccesfulAuthentication</code> method as that will break other filters in the chain. What you should implement is an event listener (see <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/events.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>) to handle failures. That event for the failure will contain the needed information."},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":""},"score":0,"creation_date":1678960660,"post_id":75751543,"comment_id":133635336,"body_markdown":"@dur When I tried a similar method, I confirmed that it worked. I haven&#39;t implemented it 100%, but I think it&#39;s probably another way to solve it.","body":"@dur When I tried a similar method, I confirmed that it worked. I haven&#39;t implemented it 100%, but I think it&#39;s probably another way to solve it."}],"answers":[{"tags":[],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678958131,"creation_date":1678958131,"answer_id":75754093,"question_id":75751543,"body_markdown":"@M. Deinum\r\n\r\nThanks to you, I was able to solve the problem. (I can&#39;t upvote because you commented)\r\n\r\nI&#39;m releasing the code that I solved with the solution you provided.\r\n\r\n\r\n\r\n// Add Code\r\n\r\n[SecurityConfig.java] (Where SecurityFilterChain etc. are implemented)\r\n\r\n        @Bean\r\n        public AuthenticationEventPublisher authenticationEventPublisher(ApplicationEventPublisher applicationEventPublisher) {\r\n            return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\r\n        }\r\n\r\n// Make File\r\n\r\n[AuthenticationEvents.java]\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class AuthenticationEvents {\r\n    \r\n        @EventListener\r\n        public void handleAuthenticationSuccessEvent(AuthenticationSuccessEvent event) {\r\n            Authentication authentication = event.getAuthentication();\r\n            log.info(&quot;Successful authentication result: {}&quot;, authentication.getPrincipal());\r\n        }\r\n    \r\n        @EventListener\r\n        public void handleAuthenticationFailureEvent(AbstractAuthenticationFailureEvent event) {\r\n            Authentication authentication = event.getAuthentication();\r\n    \r\n            String userEmail = (String) authentication.getPrincipal();\r\n            log.warn(&quot;Unsuccessful authentication result: {}&quot;, userEmail);\r\n        }\r\n    }\r\n\r\n","title":"Is it possible to get user information that failed to log in (authentication) in SpringSecurity unsuccessfulAuthentication Method?","body":"<p>@M. Deinum</p>\n<p>Thanks to you, I was able to solve the problem. (I can't upvote because you commented)</p>\n<p>I'm releasing the code that I solved with the solution you provided.</p>\n<p>// Add Code</p>\n<p>[SecurityConfig.java] (Where SecurityFilterChain etc. are implemented)</p>\n<pre><code>    @Bean\n    public AuthenticationEventPublisher authenticationEventPublisher(ApplicationEventPublisher applicationEventPublisher) {\n        return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\n    }\n</code></pre>\n<p>// Make File</p>\n<p>[AuthenticationEvents.java]</p>\n<pre><code>@Slf4j\n@Component\npublic class AuthenticationEvents {\n\n    @EventListener\n    public void handleAuthenticationSuccessEvent(AuthenticationSuccessEvent event) {\n        Authentication authentication = event.getAuthentication();\n        log.info(&quot;Successful authentication result: {}&quot;, authentication.getPrincipal());\n    }\n\n    @EventListener\n    public void handleAuthenticationFailureEvent(AbstractAuthenticationFailureEvent event) {\n        Authentication authentication = event.getAuthentication();\n\n        String userEmail = (String) authentication.getPrincipal();\n        log.warn(&quot;Unsuccessful authentication result: {}&quot;, userEmail);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678960673,"answer_count":1,"score":1,"last_activity_date":1678958131,"creation_date":1678931784,"question_id":75751543,"body_markdown":"    public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    \r\n        @Autowired\r\n        private JwtProvider jwtProvider;\r\n    \r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @Autowired\r\n        private SecurityService securityService;\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n            if (!request.getMethod().equals(HttpMethod.POST.name())) {\r\n                throw new AuthenticationServiceException(&quot;Authentication method not supported: &quot; + request.getMethod());\r\n            }\r\n            UsernamePasswordAuthenticationToken authenticationToken;\r\n    \r\n            try {\r\n                LoginDto loginInfo = objectMapper.readValue(request.getInputStream(), LoginDto.class);\r\n                authenticationToken = new UsernamePasswordAuthenticationToken(loginInfo.getUserEmail(), loginInfo.getPassword());\r\n            }\r\n            catch (IOException e) {\r\n                authenticationToken = new UsernamePasswordAuthenticationToken(null, null);\r\n            }\r\n            return this.getAuthenticationManager().authenticate(authenticationToken);\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) {\r\n            SecurityUserDetails userDetails = (SecurityUserDetails) authResult.getPrincipal();\r\n            String jwtRefreshToken = jwtProvider.generateRefreshToken();\r\n            //jwtProvider.setRefreshToken(userDetails, jwtRefreshToken);\r\n    \r\n            response.addHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + jwtProvider.generateToken(userDetails));\r\n            //response.addHeader(HttpHeaders.SET_COOKIE, jwtProvider.generateRefreshTokenCookie(jwtRefreshToken).toString());\r\n            //response.addHeader(&quot;userEmail&quot;, userDetails.getUser().getUserEmail());\r\n    \r\n    \r\n            securityService.createSecurityLog(SecurityLogAction.login(userDetails));\r\n        }\r\n    \r\n        @Override\r\n        protected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException {\r\n    \r\n            SecurityUserDetails userDetails = (SecurityUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n            // -&gt; Just Null\r\n    \r\n            log.info(userDetails.getUsername());\r\n    \r\n            SecurityContextHolder.clearContext();\r\n    \r\n            Response loginFail = Response.builder()\r\n                    .code(SecurityErrorCode.LOGIN_FAIL.getErrorCode())\r\n                    .result(SecurityErrorCode.LOGIN_FAIL.getErrorMessage())\r\n                    .build();\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            response.setCharacterEncoding(StandardCharsets.UTF_8.name());\r\n            response.getWriter().write(objectMapper.writeValueAsString(loginFail));\r\n            response.getWriter().flush();\r\n            response.getWriter().close();\r\n    \r\n        }\r\n    }\r\n\r\nHere is my code.\r\n\r\nAuthentication such as login success or failure works without problems.\r\n\r\nHere, I would like to add logic that logs or restricts logins based on user information when login fails.\r\n\r\nHowever, after authentication fails, the information of the user who attempted authentication is no longer accessible.\r\n\r\nIs there a way to access the information of the user who tried to log in in the unsuccessfulAuthentication method, which is called when authentication fails?","title":"Is it possible to get user information that failed to log in (authentication) in SpringSecurity unsuccessfulAuthentication Method?","body":"<pre><code>public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    @Autowired\n    private JwtProvider jwtProvider;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Autowired\n    private SecurityService securityService;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        if (!request.getMethod().equals(HttpMethod.POST.name())) {\n            throw new AuthenticationServiceException(&quot;Authentication method not supported: &quot; + request.getMethod());\n        }\n        UsernamePasswordAuthenticationToken authenticationToken;\n\n        try {\n            LoginDto loginInfo = objectMapper.readValue(request.getInputStream(), LoginDto.class);\n            authenticationToken = new UsernamePasswordAuthenticationToken(loginInfo.getUserEmail(), loginInfo.getPassword());\n        }\n        catch (IOException e) {\n            authenticationToken = new UsernamePasswordAuthenticationToken(null, null);\n        }\n        return this.getAuthenticationManager().authenticate(authenticationToken);\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) {\n        SecurityUserDetails userDetails = (SecurityUserDetails) authResult.getPrincipal();\n        String jwtRefreshToken = jwtProvider.generateRefreshToken();\n        //jwtProvider.setRefreshToken(userDetails, jwtRefreshToken);\n\n        response.addHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + jwtProvider.generateToken(userDetails));\n        //response.addHeader(HttpHeaders.SET_COOKIE, jwtProvider.generateRefreshTokenCookie(jwtRefreshToken).toString());\n        //response.addHeader(&quot;userEmail&quot;, userDetails.getUser().getUserEmail());\n\n\n        securityService.createSecurityLog(SecurityLogAction.login(userDetails));\n    }\n\n    @Override\n    protected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException {\n\n        SecurityUserDetails userDetails = (SecurityUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        // -&gt; Just Null\n\n        log.info(userDetails.getUsername());\n\n        SecurityContextHolder.clearContext();\n\n        Response loginFail = Response.builder()\n                .code(SecurityErrorCode.LOGIN_FAIL.getErrorCode())\n                .result(SecurityErrorCode.LOGIN_FAIL.getErrorMessage())\n                .build();\n        response.setStatus(HttpStatus.UNAUTHORIZED.value());\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setCharacterEncoding(StandardCharsets.UTF_8.name());\n        response.getWriter().write(objectMapper.writeValueAsString(loginFail));\n        response.getWriter().flush();\n        response.getWriter().close();\n\n    }\n}\n</code></pre>\n<p>Here is my code.</p>\n<p>Authentication such as login success or failure works without problems.</p>\n<p>Here, I would like to add logic that logs or restricts logins based on user information when login fails.</p>\n<p>However, after authentication fails, the information of the user who attempted authentication is no longer accessible.</p>\n<p>Is there a way to access the information of the user who tried to log in in the unsuccessfulAuthentication method, which is called when authentication fails?</p>\n"},{"tags":["java","maven","intellij-idea","confluence"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678945964,"post_id":75752487,"comment_id":133632062,"body_markdown":"You should be able to just merge your source trees.","body":"You should be able to just merge your source trees."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678946787,"post_id":75752487,"comment_id":133632175,"body_markdown":"Copy all `src` folders into the project root, and add all dependencies and some specific config from sub-modules&#39; pom.xml into the project root&#39;s pom.xml. It should not very difficult and back up firstly before converting may help if you have done something wrong later.","body":"Copy all <code>src</code> folders into the project root, and add all dependencies and some specific config from sub-modules&#39; pom.xml into the project root&#39;s pom.xml. It should not very difficult and back up firstly before converting may help if you have done something wrong later."}],"answers":[{"comments":[{"owner":{"account_id":28029370,"reputation":13,"user_id":21408803,"display_name":"shrey-codes"},"score":0,"creation_date":1679034806,"post_id":75754045,"comment_id":133651740,"body_markdown":"Hey vikingsteve, your solution solved my issue thanks for your time and efforts buddy. Was stuck on this since yesterday.","body":"Hey vikingsteve, your solution solved my issue thanks for your time and efforts buddy. Was stuck on this since yesterday."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1679056290,"post_id":75754045,"comment_id":133656672,"body_markdown":"youre most welcome. good luck onwards","body":"youre most welcome. good luck onwards"}],"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678957847,"creation_date":1678957847,"answer_id":75754045,"question_id":75752487,"body_markdown":"It looks like you can merge them to a single module, sure.\r\n\r\nThe one who created this project got a little eager with the number of modules that are required. Are they necessary or not? That depends on a lot of things.\r\n\r\nTo merge them, copy the src/main/java and src/main/resources to the top level project, and go through the child pom.xml&#39;s to see if there are any properties, dependencies or plugin executions that also need to be moved up.\r\n\r\ndisable the &lt;modules&gt; tag from the root pom and rename it as you please - check it builds with mvn clean install.\r\n\r\nGood luck :)","title":"Is it possible to covert an existing multi-module project into a single module project in IntelliJ idea?","body":"<p>It looks like you can merge them to a single module, sure.</p>\n<p>The one who created this project got a little eager with the number of modules that are required. Are they necessary or not? That depends on a lot of things.</p>\n<p>To merge them, copy the src/main/java and src/main/resources to the top level project, and go through the child pom.xml's to see if there are any properties, dependencies or plugin executions that also need to be moved up.</p>\n<p>disable the  tag from the root pom and rename it as you please - check it builds with mvn clean install.</p>\n<p>Good luck :)</p>\n"}],"owner":{"account_id":28029370,"reputation":13,"user_id":21408803,"display_name":"shrey-codes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75754045,"answer_count":1,"score":0,"last_activity_date":1678957847,"creation_date":1678944929,"question_id":75752487,"body_markdown":"[Here&#39;s the modules my project consist of][1]I am working on a relationship plugin project for confluence and my project contains multi- modules and now i want to convert it into a single module project.\r\nAny help would be appreciated.\r\n\r\nI have not experimented anything just googling right now if i could find anything relevant.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A8mEC.png","title":"Is it possible to covert an existing multi-module project into a single module project in IntelliJ idea?","body":"<p><a href=\"https://i.stack.imgur.com/A8mEC.png\" rel=\"nofollow noreferrer\">Here's the modules my project consist of</a>I am working on a relationship plugin project for confluence and my project contains multi- modules and now i want to convert it into a single module project.\nAny help would be appreciated.</p>\n<p>I have not experimented anything just googling right now if i could find anything relevant.</p>\n"},{"tags":["java","cron","scheduled-tasks"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678936077,"post_id":75751801,"comment_id":133630925,"body_markdown":"The `schedulePutQueue` method needs to be on a Spring component","body":"The <code>schedulePutQueue</code> method needs to be on a Spring component"},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678936780,"post_id":75751801,"comment_id":133631001,"body_markdown":"Can you explain in more detail? Other project i only config like that, and everything run ok. But this project doesn&#39;t.","body":"Can you explain in more detail? Other project i only config like that, and everything run ok. But this project doesn&#39;t."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678936863,"post_id":75751801,"comment_id":133631010,"body_markdown":"Your initial question didn&#39;t make it clear that you had the method on a component -- your edit does, so that&#39;s not the problem.","body":"Your initial question didn&#39;t make it clear that you had the method on a component -- your edit does, so that&#39;s not the problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678936936,"post_id":75751801,"comment_id":133631020,"body_markdown":"Have you done some debugging -- e.g. checking that `SchedulerConfiguration` is being created and using a simple trigger for the task instead of a cron expression?","body":"Have you done some debugging -- e.g. checking that <code>SchedulerConfiguration</code> is being created and using a simple trigger for the task instead of a cron expression?"},{"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"score":0,"creation_date":1678937578,"post_id":75751801,"comment_id":133631093,"body_markdown":"I think you can check if your `SchedulerConfiguration` is initiated yet, e.g. using `@PostConstruct` and print something out.","body":"I think you can check if your <code>SchedulerConfiguration</code> is initiated yet, e.g. using <code>@PostConstruct</code> and print something out."},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678937623,"post_id":75751801,"comment_id":133631101,"body_markdown":"I run method from other class ok. But when merge with job schedule it doesn&#39;t run.\nI also try other way, used TimerTask, but it conflict with @RabbitListener which i using.","body":"I run method from other class ok. But when merge with job schedule it doesn&#39;t run. I also try other way, used TimerTask, but it conflict with @RabbitListener which i using."}],"answers":[{"comments":[{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1679025322,"post_id":75754009,"comment_id":133650621,"body_markdown":"Thanks for support. I moved class file in same package, and now job run completed.","body":"Thanks for support. I moved class file in same package, and now job run completed."}],"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678957623,"creation_date":1678957623,"answer_id":75754009,"question_id":75751801,"body_markdown":"What&#39;s the package location of this class &quot;SchedulerConfiguration&quot;? It should be in sub-directory of package name of RabbitMqPublishSubscribeApp class. Could you please double check this?","title":"How to enable schedule in java spring boot","body":"<p>What's the package location of this class &quot;SchedulerConfiguration&quot;? It should be in sub-directory of package name of RabbitMqPublishSubscribeApp class. Could you please double check this?</p>\n"}],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678957623,"creation_date":1678935964,"question_id":75751801,"body_markdown":"I have used to java Scheduled cron to set auto job in my project.\r\nI add config in main SpringBootApplication, and job class, but nothing happen, job doesn&#39;t run every time which i set (10 seconds).\r\nSo how can i fix it?\r\n\r\nThis is main start.\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class RabbitMqPublishSubscribeApp implements CommandLineRunner {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(RabbitMqPublishSubscribeApp.class, args);\r\n    \t}\r\n    }\r\n\r\nAnd this is my job\r\n\t\r\n    @Component\r\n    public class SchedulerConfiguration {\r\n    \t@Autowired\r\n    \tprivate RabbitMqJobs jobs;\r\n    \r\n        @Scheduled(cron = &quot;*/10 * * * * *&quot;)  \r\n        \tpublic void schedulePutQueue() {\r\n        \t\ttry {\r\n        \t\t\tSystem.out.println(&quot;BEGIN JOB SIGN&quot;);\t\t\t\r\n            \t\tjobs.putDataToQueue();\r\n        \r\n        \t\t} catch(Exception e) {\t\t\t\r\n        \t\t\tReportLogger.logger.error(&quot;Exception main:&quot; +e.getStackTrace().toString(),e);\r\n        \t\t}catch (Error er) {\r\n             \t\tReportLogger.logger.error(&quot;Error main:&quot; +er.getStackTrace().toString(),er);\r\n        \t\t} \r\n        \t\t\r\n            }\r\n    }","title":"How to enable schedule in java spring boot","body":"<p>I have used to java Scheduled cron to set auto job in my project.\nI add config in main SpringBootApplication, and job class, but nothing happen, job doesn't run every time which i set (10 seconds).\nSo how can i fix it?</p>\n<p>This is main start.</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class RabbitMqPublishSubscribeApp implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RabbitMqPublishSubscribeApp.class, args);\n    }\n}\n</code></pre>\n<p>And this is my job</p>\n<pre><code>@Component\npublic class SchedulerConfiguration {\n    @Autowired\n    private RabbitMqJobs jobs;\n\n    @Scheduled(cron = &quot;*/10 * * * * *&quot;)  \n        public void schedulePutQueue() {\n            try {\n                System.out.println(&quot;BEGIN JOB SIGN&quot;);           \n                jobs.putDataToQueue();\n    \n            } catch(Exception e) {          \n                ReportLogger.logger.error(&quot;Exception main:&quot; +e.getStackTrace().toString(),e);\n            }catch (Error er) {\n                ReportLogger.logger.error(&quot;Error main:&quot; +er.getStackTrace().toString(),er);\n            } \n            \n        }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678957830,"post_id":75753990,"comment_id":133634525,"body_markdown":"There are coverage tools which you can run with your unit tests/CI and will tell you when newly added code is not 100% covered by your tests.","body":"There are coverage tools which you can run with your unit tests/CI and will tell you when newly added code is not 100% covered by your tests."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678958500,"post_id":75753990,"comment_id":133634707,"body_markdown":"But here you are testing whether your container has instantiated all the components you expect, which is not going to be verified by unit tests. I&#39;d suggest that you should add a functional test which relies on that component existing to pass.","body":"But here you are testing whether your container has instantiated all the components you expect, which is not going to be verified by unit tests. I&#39;d suggest that you should add a functional test which relies on that component existing to pass."},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1678967445,"post_id":75753990,"comment_id":133637352,"body_markdown":"You could write test using `archunit` or smt similar enforcing that classes implementing interface have `@Component` annotation","body":"You could write test using <code>archunit</code> or smt similar enforcing that classes implementing interface have <code>@Component</code> annotation"}],"owner":{"account_id":7318231,"reputation":127,"user_id":5575051,"display_name":"Makruzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957506,"creation_date":1678957506,"question_id":75753990,"body_markdown":"I have a question related to testing of dependency injection in a spring boot application.\r\nI have an interface like\r\n\r\n```\r\nInterface I {void doSomething()}\r\n@Component\r\nclass I1 {void someSomething(){//som impl}}\r\n@Component\r\nclass I2 {void someSomething(){//som impl}}\r\n@Component\r\nclass I2 {void someSomething(){//som impl}}\r\n\r\n@Service\r\nclass SomeService {\r\n@Autowired\r\nprivate List&lt;I&gt; rules;\r\n\r\nvoid someMethod() {\r\nrules.forEach(//do something);\r\n  }\r\n}\r\n\r\n```\r\nI want to write a Unit test for service class and want to see what all implementations of `Interface I` that have run. Is there a way of knowing this ? The reason is once a developer forgot to annotate an implementation of `Interface I` as a spring component and the implementation never ran as it was not injected. So can we verify this somehow in tests that what all implementations have run. How can we write such test?","title":"How to test all implementations of an interface have executed?","body":"<p>I have a question related to testing of dependency injection in a spring boot application.\nI have an interface like</p>\n<pre><code>Interface I {void doSomething()}\n@Component\nclass I1 {void someSomething(){//som impl}}\n@Component\nclass I2 {void someSomething(){//som impl}}\n@Component\nclass I2 {void someSomething(){//som impl}}\n\n@Service\nclass SomeService {\n@Autowired\nprivate List&lt;I&gt; rules;\n\nvoid someMethod() {\nrules.forEach(//do something);\n  }\n}\n\n</code></pre>\n<p>I want to write a Unit test for service class and want to see what all implementations of <code>Interface I</code> that have run. Is there a way of knowing this ? The reason is once a developer forgot to annotate an implementation of <code>Interface I</code> as a spring component and the implementation never ran as it was not injected. So can we verify this somehow in tests that what all implementations have run. How can we write such test?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1548656088,"post_id":54396403,"comment_id":95603880,"body_markdown":"Can you share the (simplified) `pom.xml` of module `D`? does it depend on module `C`?","body":"Can you share the (simplified) <code>pom.xml</code> of module <code>D</code>? does it depend on module <code>C</code>?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1548656110,"post_id":54396403,"comment_id":95603887,"body_markdown":"Seems `C` depends on `D`. But you&#39;re building `C` before `D`. You should probably change this order.","body":"Seems <code>C</code> depends on <code>D</code>. But you&#39;re building <code>C</code> before <code>D</code>. You should probably change this order."},{"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"score":0,"creation_date":1548657039,"post_id":54396403,"comment_id":95604176,"body_markdown":"@Mureinik the pom.xml for module D contains dependencies from the sibling modules which are in module B, nothing from module C. I tried changing the build order of A and B in the parent pom.xml and the compilation error is still present.","body":"@Mureinik the pom.xml for module D contains dependencies from the sibling modules which are in module B, nothing from module C. I tried changing the build order of A and B in the parent pom.xml and the compilation error is still present."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1548701624,"post_id":54396403,"comment_id":95627759,"body_markdown":"Never rely on build order. Define an explicit dependency as Mureinik already showed.","body":"Never rely on build order. Define an explicit dependency as Mureinik already showed."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548657245,"creation_date":1548657245,"answer_id":54396638,"question_id":54396403,"body_markdown":"Don&#39;t rely on the build order. If a class in module `D` needs to use a class from module `C`, you should explicitly depend on it:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.xyz&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A.C&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    ","title":"Maven compilation error when importing from a nested sibling module","body":"<p>Don't rely on the build order. If a class in module <code>D</code> needs to use a class from module <code>C</code>, you should explicitly depend on it:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.xyz&lt;/groupId&gt;\n        &lt;artifactId&gt;A.C&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678957472,"creation_date":1548655871,"question_id":54396403,"body_markdown":"I am working with a multi-module Maven project and trying to import a dependent class from a module nested in one child of a parent\r\nto a module nested in its sibling. Here is a simplified hierarchy of the project:\r\n\r\n    pom.xml (parent)\r\n     |--A\r\n        |--pom.xml\r\n        |--C\r\n           |--pom.xml\r\n           |--src\r\n     |--B\r\n        |--pom.xml\r\n        |--D\r\n           |--pom.xml\r\n           |--src\r\n\r\nHere&#39;s a class within the C module:\r\n\r\n**Dummy.java**\r\n\r\n    package com.xyz.A.C;\r\n\r\n    import com.xyz.B.D.DummyDependency;\r\n\r\n    public class Dummy {\r\n       public static int callDependency(int num) {\r\n           return dummyDependency.absoluteVal(num);\r\n       }\r\n    }\r\n\r\nHere&#39;s a class within the D module:\r\n\r\n**DummyDependency.java**\r\n\r\n    package com.xyz.B.D;\r\n\r\n    public class DummyDependency {\r\n        /**\r\n         * Return the absolute value of a number.\r\n         * @param num an integer\r\n         */\r\n         public static int absoluteVal(int num) {\r\n             if (num &gt; 0) {\r\n                return num;\r\n             } else {\r\n                return -num;\r\n             }\r\n         }\r\n     }\r\n\r\nWhen I run `mvn clean install` I get a compilation error that resembles the following:[![enter image description here][1]][1]\r\n\r\nHow do I get access to the module nested in the sibling of the child module without the compilation error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1W1HK.gif","title":"Maven compilation error when importing from a nested sibling module","body":"<p>I am working with a multi-module Maven project and trying to import a dependent class from a module nested in one child of a parent\nto a module nested in its sibling. Here is a simplified hierarchy of the project:</p>\n<pre><code>pom.xml (parent)\n |--A\n    |--pom.xml\n    |--C\n       |--pom.xml\n       |--src\n |--B\n    |--pom.xml\n    |--D\n       |--pom.xml\n       |--src\n</code></pre>\n<p>Here's a class within the C module:</p>\n<p><strong>Dummy.java</strong></p>\n<pre><code>package com.xyz.A.C;\n\nimport com.xyz.B.D.DummyDependency;\n\npublic class Dummy {\n   public static int callDependency(int num) {\n       return dummyDependency.absoluteVal(num);\n   }\n}\n</code></pre>\n<p>Here's a class within the D module:</p>\n<p><strong>DummyDependency.java</strong></p>\n<pre><code>package com.xyz.B.D;\n\npublic class DummyDependency {\n    /**\n     * Return the absolute value of a number.\n     * @param num an integer\n     */\n     public static int absoluteVal(int num) {\n         if (num &gt; 0) {\n            return num;\n         } else {\n            return -num;\n         }\n     }\n }\n</code></pre>\n<p>When I run <code>mvn clean install</code> I get a compilation error that resembles the following:<a href=\"https://i.stack.imgur.com/1W1HK.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1W1HK.gif\" alt=\"enter image description here\" /></a></p>\n<p>How do I get access to the module nested in the sibling of the child module without the compilation error?</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1678956938,"post_id":75753722,"comment_id":133634279,"body_markdown":"You can use `any()` for one argument and other matchers (such as [`eq`](https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T))) for the other arguments.","body":"You can use <code>any()</code> for one argument and other matchers (such as <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T)\" rel=\"nofollow noreferrer\"><code>eq</code></a>) for the other arguments."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678957413,"creation_date":1678956975,"answer_id":75753891,"question_id":75753722,"body_markdown":"You can use any method from `ArgumentMatchers`:\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.ArgumentMatchers;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\nimport java.util.Date;\r\n\r\nimport static org.mockito.Mockito.verify;\r\n\r\nclass A {\r\n    private final B b;\r\n\r\n    A(B b) {\r\n        this.b = b;\r\n    }\r\n\r\n    void aMethod(int x) {\r\n        b.bMethod(x, new Date());\r\n    }\r\n}\r\n\r\nclass B {\r\n    void bMethod(int x, Date d) {}\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyTest {\r\n    @InjectMocks\r\n    private A a;\r\n    @Mock\r\n    private B b;\r\n\r\n    @Test\r\n    public void aTest() {\r\n        a.aMethod(5);\r\n        verify(b).bMethod(ArgumentMatchers.eq(5), ArgumentMatchers.any(Date.class));\r\n    }\r\n}\r\n```\r\n\r\nAs an aside: Have a class which calls `new Date()` in the midst of other code is a smell. How will you test date dependant code with a range of dates?\r\n\r\nYou should create a simple `DateProvider`, which you can mock, i.e.:\r\n```\r\n@Component // assuming Spring DI\r\nclass DateProvider {\r\n    Date getDate() {\r\n        return new Date();\r\n    }\r\n}\r\n```\r\nYour tests mock this class and return whatever date you like.","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>You can use any method from <code>ArgumentMatchers</code>:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentMatchers;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.Date;\n\nimport static org.mockito.Mockito.verify;\n\nclass A {\n    private final B b;\n\n    A(B b) {\n        this.b = b;\n    }\n\n    void aMethod(int x) {\n        b.bMethod(x, new Date());\n    }\n}\n\nclass B {\n    void bMethod(int x, Date d) {}\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class MyTest {\n    @InjectMocks\n    private A a;\n    @Mock\n    private B b;\n\n    @Test\n    public void aTest() {\n        a.aMethod(5);\n        verify(b).bMethod(ArgumentMatchers.eq(5), ArgumentMatchers.any(Date.class));\n    }\n}\n</code></pre>\n<p>As an aside: Have a class which calls <code>new Date()</code> in the midst of other code is a smell. How will you test date dependant code with a range of dates?</p>\n<p>You should create a simple <code>DateProvider</code>, which you can mock, i.e.:</p>\n<pre><code>@Component // assuming Spring DI\nclass DateProvider {\n    Date getDate() {\n        return new Date();\n    }\n}\n</code></pre>\n<p>Your tests mock this class and return whatever date you like.</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678957026,"creation_date":1678957026,"answer_id":75753903,"question_id":75753722,"body_markdown":"You can use `any()` for one argument and other matchers (such as [`eq`](https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T))) for the other arguments.\r\n\r\n    verify(updateLockedAccountStatusMock, times(1)).update(eq(1), eq(3), eq(true), any());","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>You can use <code>any()</code> for one argument and other matchers (such as <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T)\" rel=\"nofollow noreferrer\"><code>eq</code></a>) for the other arguments.</p>\n<pre><code>verify(updateLockedAccountStatusMock, times(1)).update(eq(1), eq(3), eq(true), any());\n</code></pre>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75753903,"answer_count":2,"score":0,"last_activity_date":1678957413,"creation_date":1678955777,"question_id":75753722,"body_markdown":"I&#39;m calling a method on a mock in a service I am testing. \r\n\r\nThe mock is a class for updating database data, I want to verify that the update method is called.  \r\nThe code looks like this:   \r\n\r\n    verify(updateLockedAccountStatusMock, times(1)).update(1, 3, true, new Date());\r\n\r\nI know this can&#39;t work, since the `Date` object that is passed into the mock in the class under test is generated in the class just before the method is called. I also know that I can&#39;t call `any()` here unless I call `any()` for every parameter. I&#39;d rather not do that as the same method is called elsewhere in the code.   \r\nIs there a way to handle cases like this? Or is it simply a matter of passing in `any()` for every parameter and verifying the amount of times it&#39;s called?    \r\nIn particular I want to see that the third parameter `true` is correct, but the date is the only one I don&#39;t really care about at the moment.","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>I'm calling a method on a mock in a service I am testing.</p>\n<p>The mock is a class for updating database data, I want to verify that the update method is called.<br />\nThe code looks like this:</p>\n<pre><code>verify(updateLockedAccountStatusMock, times(1)).update(1, 3, true, new Date());\n</code></pre>\n<p>I know this can't work, since the <code>Date</code> object that is passed into the mock in the class under test is generated in the class just before the method is called. I also know that I can't call <code>any()</code> here unless I call <code>any()</code> for every parameter. I'd rather not do that as the same method is called elsewhere in the code.<br />\nIs there a way to handle cases like this? Or is it simply a matter of passing in <code>any()</code> for every parameter and verifying the amount of times it's called?<br />\nIn particular I want to see that the third parameter <code>true</code> is correct, but the date is the only one I don't really care about at the moment.</p>\n"},{"tags":["java","unit-testing","junit","tdd"],"comments":[{"owner":{"account_id":26938,"reputation":4932,"user_id":70551,"accept_rate":68,"display_name":"Surya"},"score":321,"creation_date":1283201036,"post_id":34571,"comment_id":3783996,"body_markdown":"Best way to test a private method is not testing it directly","body":"Best way to test a private method is not testing it directly"},{"owner":{"account_id":101026,"reputation":39048,"user_id":271999,"accept_rate":92,"display_name":"Mouna Cheikhna"},"score":30,"creation_date":1286962441,"post_id":34571,"comment_id":20651624,"body_markdown":"Check the article *[Testing Private Methods with JUnit and SuiteRunner](http://www.artima.com/suiterunner/privateP.html)*.","body":"Check the article <i><a href=\"http://www.artima.com/suiterunner/privateP.html\" rel=\"nofollow noreferrer\">Testing Private Methods with JUnit and SuiteRunner</a></i>."},{"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"score":2,"creation_date":1632599953,"post_id":34571,"comment_id":122538366,"body_markdown":"why should test a private function ? It will automatically be tested anyway (and must be tested) when you test the feature/method which is using it the private function.","body":"why should test a private function ? It will automatically be tested anyway (and must be tested) when you test the feature/method which is using it the private function."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":7,"creation_date":1634676218,"post_id":34571,"comment_id":123088496,"body_markdown":"I&#39;ve rolled this question back to its original state, prior to generifying the question. In its current state, the answers are highly Java-oriented, and the question was largely focused on the &quot;how&quot;, meaning that the later versions erasing Java and generalizing for other languages, and at the end flipping the focus to C++ invalidates far too many of the answers. A generalized form asking &quot;how to&quot; in any arbitrary language and framework would also be considered far too broad, meaning the last few edits pushed this question towards being closed rather than being constructive.","body":"I&#39;ve rolled this question back to its original state, prior to generifying the question. In its current state, the answers are highly Java-oriented, and the question was largely focused on the &quot;how&quot;, meaning that the later versions erasing Java and generalizing for other languages, and at the end flipping the focus to C++ invalidates far too many of the answers. A generalized form asking &quot;how to&quot; in any arbitrary language and framework would also be considered far too broad, meaning the last few edits pushed this question towards being closed rather than being constructive."},{"owner":{"account_id":1533561,"reputation":20255,"user_id":1430156,"accept_rate":72,"display_name":"O. R. Mapper"},"score":6,"creation_date":1656584753,"post_id":34571,"comment_id":128611210,"body_markdown":"@AkashVerma: For the same reason you want to do unit tests instead of just a system test?","body":"@AkashVerma: For the same reason you want to do unit tests instead of just a system test?"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1656642557,"post_id":34571,"comment_id":128627971,"body_markdown":"See also: https://stackoverflow.com/questions/250692/how-do-you-unit-test-private-methods. The underlying philosophical question is language-agnostic.","body":"See also: <a href=\"https://stackoverflow.com/questions/250692/how-do-you-unit-test-private-methods\" title=\"how do you unit test private methods\">stackoverflow.com/questions/250692/&hellip;</a>. The underlying philosophical question is language-agnostic."},{"owner":{"account_id":1104998,"reputation":872,"user_id":1096587,"display_name":"Liberty Lover"},"score":0,"creation_date":1660411340,"post_id":34571,"comment_id":129529141,"body_markdown":"See: https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_34571/so_34571.e\nand\nhttps://github.com/ljr1981/stack_overflow_answers/blob/main/testing/so_34571/so_34571_test_set.e","body":"See: <a href=\"https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_34571/so_34571.e\" rel=\"nofollow noreferrer\">github.com/ljr1981/stack_overflow_answers/blob/main/src/&hellip;</a> and <a href=\"https://github.com/ljr1981/stack_overflow_answers/blob/main/testing/so_34571/so_34571_test_set.e\" rel=\"nofollow noreferrer\">github.com/ljr1981/stack_overflow_answers/blob/main/testing/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1104998,"reputation":872,"user_id":1096587,"display_name":"Liberty Lover"},"score":0,"creation_date":1660411488,"post_id":34571,"comment_id":129529177,"body_markdown":"In the previous comment, I show you how easy this is in Eiffel. In this case, I have created a class called SO_34571 with a method feature called `my_private_method&#39;. Notice that the &quot;feature&quot; group keyword is followed by a {TEST_SET_BRIDGE}. This means that any class that inherits from TEST_SET_BRIDGE (including descendants) has permission to access any feature of the feature-group. Clean. Simple. Elegant. Scalable. Controllable. Nice!","body":"In the previous comment, I show you how easy this is in Eiffel. In this case, I have created a class called SO_34571 with a method feature called `my_private_method&#39;. Notice that the &quot;feature&quot; group keyword is followed by a {TEST_SET_BRIDGE}. This means that any class that inherits from TEST_SET_BRIDGE (including descendants) has permission to access any feature of the feature-group. Clean. Simple. Elegant. Scalable. Controllable. Nice!"}],"answers":[{"comments":[{"owner":{"account_id":1593295,"reputation":804,"user_id":1476154,"accept_rate":100,"display_name":"grinch"},"score":18,"creation_date":1360787350,"post_id":34586,"comment_id":20834192,"body_markdown":"Further, we never get close to 100% code coverage anyway, so why not focus your time doing quality testing on the methods that clients will actually be using directly.","body":"Further, we never get close to 100% code coverage anyway, so why not focus your time doing quality testing on the methods that clients will actually be using directly."},{"owner":{"account_id":2300407,"reputation":1934,"user_id":2020801,"accept_rate":100,"display_name":"Erik Madsen"},"score":65,"creation_date":1372146816,"post_id":34586,"comment_id":25072489,"body_markdown":"@grinch Spot on. The only thing you would gain from testing private methods is debugging information, and that&#39;s what debuggers are for. If your tests of the class&#39;s contract have full coverage then you have all the information you need. Private methods are an **implementation** detail. If you test them you will have to change your tests every time your implementation changes, even if the contract doesn&#39;t. In the full life cycle of the software this is likely to cost a lot more than the benefit it gives.","body":"@grinch Spot on. The only thing you would gain from testing private methods is debugging information, and that&#39;s what debuggers are for. If your tests of the class&#39;s contract have full coverage then you have all the information you need. Private methods are an <b>implementation</b> detail. If you test them you will have to change your tests every time your implementation changes, even if the contract doesn&#39;t. In the full life cycle of the software this is likely to cost a lot more than the benefit it gives."},{"owner":{"account_id":115937,"reputation":4910,"user_id":304179,"accept_rate":75,"display_name":"dube"},"score":21,"creation_date":1623154584,"post_id":34586,"comment_id":119991674,"body_markdown":"I am impressed how often the &quot;should not be private&quot; claim is repeated across the answers here, as if &quot;make it public so you can test it&quot; could not easily lead to code-smell that invites others to abuse parts of a class. Exposing sensible internals just for easier testing of various code paths isn&#39;t always sensible, so don&#39;t follow this device here blindly!","body":"I am impressed how often the &quot;should not be private&quot; claim is repeated across the answers here, as if &quot;make it public so you can test it&quot; could not easily lead to code-smell that invites others to abuse parts of a class. Exposing sensible internals just for easier testing of various code paths isn&#39;t always sensible, so don&#39;t follow this device here blindly!"},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":1,"creation_date":1625740445,"post_id":34586,"comment_id":120709850,"body_markdown":"The &quot;should not be private&quot; here doesn&#39;t say &quot;just make it public for test&quot;. If there is a need for testing the private method, there must be something like the three conditions he mentioned here.\n\nIf you want 100% test coverage, that&#39;s still possible by calling the public methods of the class with various parameters, except when it is unused or contains dead code, eg. `if (x == null)` which is never reached because you nullchecked in the public method already. But then you should cleanup the private method, instead of inventing test cases that cannot happen.","body":"The &quot;should not be private&quot; here doesn&#39;t say &quot;just make it public for test&quot;. If there is a need for testing the private method, there must be something like the three conditions he mentioned here.  If you want 100% test coverage, that&#39;s still possible by calling the public methods of the class with various parameters, except when it is unused or contains dead code, eg. <code>if (x == null)</code> which is never reached because you nullchecked in the public method already. But then you should cleanup the private method, instead of inventing test cases that cannot happen."},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1625740664,"post_id":34586,"comment_id":120709937,"body_markdown":"Furthermore: Making it public could also mean: Refactor it out into a Util-Class and making it public there. If the method contains code for cases that never happen (but are implemented for future use cases), thats not the purpose of private methods to be generic and available for everyone for different use cases.","body":"Furthermore: Making it public could also mean: Refactor it out into a Util-Class and making it public there. If the method contains code for cases that never happen (but are implemented for future use cases), thats not the purpose of private methods to be generic and available for everyone for different use cases."},{"owner":{"account_id":19635795,"reputation":116,"user_id":14373099,"display_name":"JavaProScript"},"score":4,"creation_date":1637666821,"post_id":34586,"comment_id":123882131,"body_markdown":"A counterexample (real) situation where none of these 3 points is valid (as far as I can think): A public method foo() will 1. use a private method bar() and 2. run in an infinite loop. As far as I know you can&#39;t test bar() by calling foo() otherwise the test case will run forever.","body":"A counterexample (real) situation where none of these 3 points is valid (as far as I can think): A public method foo() will 1. use a private method bar() and 2. run in an infinite loop. As far as I know you can&#39;t test bar() by calling foo() otherwise the test case will run forever."},{"owner":{"account_id":300391,"reputation":459,"user_id":607502,"accept_rate":89,"display_name":"Armando"},"score":0,"creation_date":1640462812,"post_id":34586,"comment_id":124591583,"body_markdown":"I agree with this a 100% I see private methods as extensions of the public methods. I usually create private methods to make the code more readable. If I am doing TDD I write the tests for the public method and when all my tests are passing I may refactor the public method and create one or more private ones for readability but all my logic is already tested, I don&#39;t need to write new tests for the private methods I created.","body":"I agree with this a 100% I see private methods as extensions of the public methods. I usually create private methods to make the code more readable. If I am doing TDD I write the tests for the public method and when all my tests are passing I may refactor the public method and create one or more private ones for readability but all my logic is already tested, I don&#39;t need to write new tests for the private methods I created."},{"owner":{"account_id":6272887,"reputation":1391,"user_id":4929809,"accept_rate":52,"display_name":"mercury0114"},"score":0,"creation_date":1664749209,"post_id":34586,"comment_id":130537368,"body_markdown":"I second @JavaProScript comment.\nIf your public method is expensive to call, and the only way to test a private implementation detail is by calling a public method that will lead to a problem.","body":"I second @JavaProScript comment. If your public method is expensive to call, and the only way to test a private implementation detail is by calling a public method that will lead to a problem."},{"owner":{"account_id":2711726,"reputation":64,"user_id":2340031,"display_name":"scottseeker"},"score":0,"creation_date":1695653234,"post_id":34586,"comment_id":136049751,"body_markdown":"I have a case where I can&#39;t cover the variable being passed to a switch statement being null, because in the code flow it&#39;s impossible to call the method with null parameters because an exception would be thrown.  There is nothing wrong with the code, except that is impossible to test this case.  The code would actually work fine in this scenario.","body":"I have a case where I can&#39;t cover the variable being passed to a switch statement being null, because in the code flow it&#39;s impossible to call the method with null parameters because an exception would be thrown.  There is nothing wrong with the code, except that is impossible to test this case.  The code would actually work fine in this scenario."}],"tags":[],"owner":{"account_id":2050,"reputation":7521,"user_id":2822,"accept_rate":95,"display_name":"Sir Rippov the Maple"},"comment_count":9,"down_vote_count":133,"up_vote_count":957,"is_accepted":false,"score":824,"last_activity_date":1220026459,"creation_date":1220026459,"answer_id":34586,"question_id":34571,"body_markdown":"The best way to test a private method is via another public method. If this cannot be done, then one of the following conditions is true:\r\n\r\n 1. The private method is dead code\r\n 2. There is a design smell near the class that you are testing\r\n 3. The method that you are trying to test should not be private","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The best way to test a private method is via another public method. If this cannot be done, then one of the following conditions is true:</p>\n\n<ol>\n<li>The private method is dead code</li>\n<li>There is a design smell near the class that you are testing</li>\n<li>The method that you are trying to test should not be private</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":472452,"reputation":388,"user_id":880942,"display_name":"Dan Haynes"},"score":23,"creation_date":1368801532,"post_id":34590,"comment_id":23881000,"body_markdown":"That&#39;s the best answer IMO, or as it is usually said, test behaviour, not methods. Unit testing is not a replacement for source code metrics, static code analysis tools and code reviews. If private methods are so complex that they need separates tests then it probably needs to be refactored, not more tests thrown at it.","body":"That&#39;s the best answer IMO, or as it is usually said, test behaviour, not methods. Unit testing is not a replacement for source code metrics, static code analysis tools and code reviews. If private methods are so complex that they need separates tests then it probably needs to be refactored, not more tests thrown at it."},{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":19,"creation_date":1432053724,"post_id":34590,"comment_id":48757575,"body_markdown":"so don&#39;t write private methods, just create 10 other small classes ?","body":"so don&#39;t write private methods, just create 10 other small classes ?"},{"owner":{"account_id":6619771,"reputation":525,"user_id":5111897,"display_name":"Mallock"},"score":5,"creation_date":1581519183,"post_id":34590,"comment_id":106462411,"body_markdown":"No, it basically means that you can test the functionality of the private methods using the public method that invokes them.","body":"No, it basically means that you can test the functionality of the private methods using the public method that invokes them."},{"owner":{"account_id":3121314,"reputation":492,"user_id":2641025,"display_name":"Fr Jeremy Krieg"},"score":0,"creation_date":1631447933,"post_id":34590,"comment_id":122219581,"body_markdown":"@AkshatSharda correct - and morever, if you can&#39;t test some part of the private method through the public API then you probably don&#39;t need that functionality in the private method. I&#39;ve found that a side effect of the &quot;test through the API&quot; methodology is that you write less dead code.","body":"@AkshatSharda correct - and morever, if you can&#39;t test some part of the private method through the public API then you probably don&#39;t need that functionality in the private method. I&#39;ve found that a side effect of the &quot;test through the API&quot; methodology is that you write less dead code."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":3,"creation_date":1636011843,"post_id":34590,"comment_id":123445240,"body_markdown":"I don&#39;t agree. If I want to be sure of my code, I would like to test every piece that the code flow goes through. **Unit** can be even private methods that implement self-contained logic.","body":"I don&#39;t agree. If I want to be sure of my code, I would like to test every piece that the code flow goes through. <b>Unit</b> can be even private methods that implement self-contained logic."}],"tags":[],"owner":{"account_id":2383,"reputation":6541,"user_id":3305,"accept_rate":41,"display_name":"John Channing"},"comment_count":5,"down_vote_count":11,"up_vote_count":166,"is_accepted":false,"score":155,"last_activity_date":1356774740,"creation_date":1220026494,"answer_id":34590,"question_id":34571,"body_markdown":"Generally a unit test is intended to exercise the public interface of a class or unit. Therefore, private methods are implementation detail that you would not expect to test explicitly.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Generally a unit test is intended to exercise the public interface of a class or unit. Therefore, private methods are implementation detail that you would not expect to test explicitly.</p>\n"},{"comments":[{"owner":{"account_id":4481396,"reputation":1878,"user_id":3645375,"display_name":"Bernardo Dal Corno"},"score":0,"creation_date":1525889465,"post_id":34594,"comment_id":87537120,"body_markdown":"True fact. The problem is when the implementation is more complicated, like if one public method calls several private methods. Which one did fail? Or if it is a complicated private method, that can&#39;t be exposed nor transferred to a new class","body":"True fact. The problem is when the implementation is more complicated, like if one public method calls several private methods. Which one did fail? Or if it is a complicated private method, that can&#39;t be exposed nor transferred to a new class"},{"owner":{"account_id":1985126,"reputation":894,"user_id":1854834,"display_name":"Wei Qiu"},"score":0,"creation_date":1529377454,"post_id":34594,"comment_id":88839757,"body_markdown":"You already mentioned why the private method should be tested. You said &quot;then that could be &quot;, so you are not sure. IMO, whether a method should be tested is orthogonal to its access level.","body":"You already mentioned why the private method should be tested. You said &quot;then that could be &quot;, so you are not sure. IMO, whether a method should be tested is orthogonal to its access level."}],"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"comment_count":2,"down_vote_count":3,"up_vote_count":71,"is_accepted":false,"score":68,"last_activity_date":1220026530,"creation_date":1220026530,"answer_id":34594,"question_id":34571,"body_markdown":"The private methods are called by a public method, so the inputs to your public methods should also test private methods that are called by those public methods. When a public method fails, then that could be a failure in the private method.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The private methods are called by a public method, so the inputs to your public methods should also test private methods that are called by those public methods. When a public method fails, then that could be a failure in the private method.</p>\n"},{"comments":[{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":2,"creation_date":1468357546,"post_id":34598,"comment_id":64092114,"body_markdown":"5th option, like mentioned above is testing the public method that calls the private method? Correct?","body":"5th option, like mentioned above is testing the public method that calls the private method? Correct?"},{"owner":{"display_name":"user2918461"},"score":1,"creation_date":1505921576,"post_id":34598,"comment_id":79613156,"body_markdown":"@LorenzoLerate I&#39;ve been wrestling with this because I&#39;m doing embedded development and I&#39;d like my software to be as small as possible. Size constraints and performance is the only reason I can think of.","body":"@LorenzoLerate I&#39;ve been wrestling with this because I&#39;m doing embedded development and I&#39;d like my software to be as small as possible. Size constraints and performance is the only reason I can think of."},{"owner":{"account_id":6404,"reputation":11778,"user_id":2601671,"accept_rate":77,"display_name":"Trenton"},"score":5,"creation_date":1587598413,"post_id":34598,"comment_id":108578269,"body_markdown":"@user2441441 that&#39;s the same as #1 &#160;don&#39;t test private methods","body":"@user2441441 that&#39;s the same as #1  don&#39;t test private methods"}],"tags":[],"owner":{"account_id":1960,"reputation":7135,"user_id":2697,"accept_rate":76,"display_name":"Iker Jimenez"},"comment_count":3,"down_vote_count":4,"up_vote_count":246,"is_accepted":false,"score":242,"last_activity_date":1619298292,"creation_date":1220026580,"answer_id":34598,"question_id":34571,"body_markdown":"From this article: [Testing Private Methods with JUnit and SuiteRunner][1] (Bill Venners), you basically have 4 options:\r\n\r\n&gt; 1. Don&#39;t test private methods.\r\n&gt; 1. Give the methods package access.\r\n&gt; 1. Use a nested test class.\r\n&gt; 1. Use reflection. \r\n\r\n  [1]: http://www.artima.com/suiterunner/private.html","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>From this article: <a href=\"http://www.artima.com/suiterunner/private.html\" rel=\"noreferrer\">Testing Private Methods with JUnit and SuiteRunner</a> (Bill Venners), you basically have 4 options:</p>\n<blockquote>\n<ol>\n<li>Don't test private methods.</li>\n<li>Give the methods package access.</li>\n<li>Use a nested test class.</li>\n<li>Use reflection.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1448,"reputation":29784,"user_id":1931,"accept_rate":57,"display_name":"bmurphy1976"},"comment_count":0,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1220027025,"creation_date":1220027025,"answer_id":34630,"question_id":34571,"body_markdown":"I tend not to test private methods.  There lies madness.  Personally, I believe you should only test your publicly exposed interfaces (and that includes protected and internal methods).  ","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I tend not to test private methods.  There lies madness.  Personally, I believe you should only test your publicly exposed interfaces (and that includes protected and internal methods).  </p>\n"},{"comments":[{"owner":{"account_id":1335,"reputation":80725,"user_id":1782,"accept_rate":98,"display_name":"juan"},"score":0,"creation_date":1220027655,"post_id":34644,"comment_id":11369841,"body_markdown":"you can&#39;t use reflection to get private methods from outside the owner class, the private modifier affects reflection also [Here](http://www.codeproject.com/KB/cs/testnonpublicmembers.aspx)&#39;s a good article on the question&#39;s subject","body":"you can&#39;t use reflection to get private methods from outside the owner class, the private modifier affects reflection also <a href=\"http://www.codeproject.com/KB/cs/testnonpublicmembers.aspx\" rel=\"nofollow noreferrer\">Here</a>&#39;s a good article on the question&#39;s subject"},{"owner":{"account_id":141815,"reputation":33481,"user_id":349112,"display_name":"tc."},"score":1,"creation_date":1363982616,"post_id":34644,"comment_id":22085595,"body_markdown":"@jmfsg The article you link to link to specifically says &quot;Testing private methods is a little more involved; but we can still do it using `System.Reflection`.&quot; (Apparently you need `ReflectionPermission`, but that&#39;s not normally a problem.)","body":"@jmfsg The article you link to link to specifically says &quot;Testing private methods is a little more involved; but we can still do it using <code>System.Reflection</code>.&quot; (Apparently you need <code>ReflectionPermission</code>, but that&#39;s not normally a problem.)"}],"tags":[],"owner":{"account_id":1518,"reputation":52575,"user_id":2030,"accept_rate":91,"display_name":"Josh Brown"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513254400,"creation_date":1220027403,"answer_id":34644,"question_id":34571,"body_markdown":"For Java I&#39;d use [reflection][1], since I don&#39;t like the idea of changing the access to a package on the declared method just for the sake of testing. However, I usually just test the public methods which should also ensure the private methods are working correctly.\r\n\r\n&gt; you can&#39;t use reflection to get private methods from outside the owner class, the private modifier affects reflection also\r\n\r\nThis is not true. You most certainly can, as mentioned in [Cem Catikkas&#39;s answer][2].\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/index.html\r\n  [2]: https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>For Java I'd use <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow noreferrer\">reflection</a>, since I don't like the idea of changing the access to a package on the declared method just for the sake of testing. However, I usually just test the public methods which should also ensure the private methods are working correctly.</p>\n\n<blockquote>\n  <p>you can't use reflection to get private methods from outside the owner class, the private modifier affects reflection also</p>\n</blockquote>\n\n<p>This is not true. You most certainly can, as mentioned in <a href=\"https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\">Cem Catikkas's answer</a>.</p>\n"},{"comments":[{"owner":{"account_id":40496,"reputation":2814,"user_id":117361,"display_name":"andygavin"},"score":418,"creation_date":1246026209,"post_id":34658,"comment_id":860803,"body_markdown":"Useful if you don&#39;t know the API perhaps, but if you are having to test private methods in this manner there is something up with your design. As another poster says unit testing should test the class&#39;s contract: if the contract is too broad and instantiates too much of the system then the design should be addressed.","body":"Useful if you don&#39;t know the API perhaps, but if you are having to test private methods in this manner there is something up with your design. As another poster says unit testing should test the class&#39;s contract: if the contract is too broad and instantiates too much of the system then the design should be addressed."},{"owner":{"account_id":5208125,"reputation":639,"user_id":4165384,"accept_rate":67,"display_name":"Damien Cooke"},"score":11,"creation_date":1633176357,"post_id":34658,"comment_id":122693719,"body_markdown":"We develop methods that do a single specific task that allow the class to perform its specific task. These methods should not be public and still need to be tested independently.  So yes reflection is a good way to do this and no your design does not need review if you are using reflection for this purpose.","body":"We develop methods that do a single specific task that allow the class to perform its specific task. These methods should not be public and still need to be tested independently.  So yes reflection is a good way to do this and no your design does not need review if you are using reflection for this purpose."}],"tags":[],"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"comment_count":2,"down_vote_count":48,"up_vote_count":1888,"is_accepted":true,"score":1840,"last_activity_date":1650737112,"creation_date":1220027711,"answer_id":34658,"question_id":34571,"body_markdown":"If you have somewhat of a legacy **Java** application, and you&#39;re not allowed to change the visibility of your methods, the best way to test private methods is to use [reflection][1]. \r\n\r\nInternally we&#39;re using helpers to get/set `private` and `private static` variables as well as invoke `private` and `private static` methods. The following patterns will let you do pretty much anything related to the private methods and fields. Of course, you can&#39;t change `private static final` variables through reflection.\r\n\r\n    Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, argObjects);\r\n\r\nAnd for fields:\r\n\r\n    Field field = TargetClass.getDeclaredField(fieldName);\r\n    field.setAccessible(true);\r\n    field.set(object, value);\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; **Notes:**  \r\n&gt; 1. `TargetClass.getDeclaredMethod(methodName, argClasses)` lets you look into `private` methods. The same thing applies for\r\n&gt; `getDeclaredField`.  \r\n&gt; 2. The `setAccessible(true)` is required to play around with privates.\r\n\r\n \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you have somewhat of a legacy <strong>Java</strong> application, and you're not allowed to change the visibility of your methods, the best way to test private methods is to use <a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a>.</p>\n<p>Internally we're using helpers to get/set <code>private</code> and <code>private static</code> variables as well as invoke <code>private</code> and <code>private static</code> methods. The following patterns will let you do pretty much anything related to the private methods and fields. Of course, you can't change <code>private static final</code> variables through reflection.</p>\n<pre><code>Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, argObjects);\n</code></pre>\n<p>And for fields:</p>\n<pre><code>Field field = TargetClass.getDeclaredField(fieldName);\nfield.setAccessible(true);\nfield.set(object, value);\n</code></pre>\n<hr />\n<blockquote>\n<p><strong>Notes:</strong></p>\n<ol>\n<li><code>TargetClass.getDeclaredMethod(methodName, argClasses)</code> lets you look into <code>private</code> methods. The same thing applies for\n<code>getDeclaredField</code>.</li>\n<li>The <code>setAccessible(true)</code> is required to play around with privates.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2908,"reputation":125963,"user_id":4120,"accept_rate":80,"display_name":"Grundlefleck"},"comment_count":0,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1513254152,"creation_date":1220302727,"answer_id":38425,"question_id":34571,"body_markdown":"Having tried Cem Catikkas&#39; [solution using reflection][1] for Java, I&#39;d have to say his was a more elegant solution than I have described here. However, if you&#39;re looking for an alternative to using reflection, and have access to the source you&#39;re testing, this will still be an option.\r\n\r\nThere is possible merit in testing private methods of a class, particularly with [test-driven development][2], where you would like to design small tests before you write any code.\r\n\r\nCreating a test with access to private members and methods can test areas of code which are difficult to target specifically with access only to public methods. If a public method has several steps involved, it can consist of several private methods, which can then be tested individually.\r\n\r\nAdvantages:\r\n\r\n  - Can test to a finer granularity\r\n\r\nDisadvantages:\r\n\r\n  - Test code must reside in the same\r\n    file as source code, which can be\r\n    more difficult to maintain\r\n  - Similarly with .class output files, they must remain within the same package as declared in source code\r\n\r\nHowever, if continuous testing requires this method, it may be a signal that the private methods should be extracted, which could be tested in the traditional, public way.\r\n\r\nHere is a convoluted example of how this would work:\r\n\r\n    // Import statements and package declarations\r\n\r\n    public class ClassToTest\r\n    {\r\n        private int decrement(int toDecrement) {\r\n            toDecrement--;\r\n            return toDecrement;\r\n        }\r\n\r\n        // Constructor and the rest of the class\r\n\r\n        public static class StaticInnerTest extends TestCase\r\n        {\r\n            public StaticInnerTest(){\r\n                super();\r\n            }\r\n\r\n            public void testDecrement(){\r\n                int number = 10;\r\n                ClassToTest toTest= new ClassToTest();\r\n                int decremented = toTest.decrement(number);\r\n                assertEquals(9, decremented);\r\n            }\r\n\r\n            public static void main(String[] args) {\r\n                junit.textui.TestRunner.run(StaticInnerTest.class);\r\n            }\r\n        }\r\n    }\r\n\r\nThe inner class would be compiled to `ClassToTest$StaticInnerTest`.\r\n\r\nSee also: *[Java Tip 106: Static inner classes for fun and profit][3]*\r\n\r\n  [1]: https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\r\n  [2]: http://en.wikipedia.org/wiki/Test-driven_development\r\n  [3]: http://www.javaworld.com/javaworld/javatips/jw-javatip106.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Having tried Cem Catikkas' <a href=\"https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\">solution using reflection</a> for Java, I'd have to say his was a more elegant solution than I have described here. However, if you're looking for an alternative to using reflection, and have access to the source you're testing, this will still be an option.</p>\n\n<p>There is possible merit in testing private methods of a class, particularly with <a href=\"http://en.wikipedia.org/wiki/Test-driven_development\" rel=\"noreferrer\">test-driven development</a>, where you would like to design small tests before you write any code.</p>\n\n<p>Creating a test with access to private members and methods can test areas of code which are difficult to target specifically with access only to public methods. If a public method has several steps involved, it can consist of several private methods, which can then be tested individually.</p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Can test to a finer granularity</li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Test code must reside in the same\nfile as source code, which can be\nmore difficult to maintain</li>\n<li>Similarly with .class output files, they must remain within the same package as declared in source code</li>\n</ul>\n\n<p>However, if continuous testing requires this method, it may be a signal that the private methods should be extracted, which could be tested in the traditional, public way.</p>\n\n<p>Here is a convoluted example of how this would work:</p>\n\n<pre><code>// Import statements and package declarations\n\npublic class ClassToTest\n{\n    private int decrement(int toDecrement) {\n        toDecrement--;\n        return toDecrement;\n    }\n\n    // Constructor and the rest of the class\n\n    public static class StaticInnerTest extends TestCase\n    {\n        public StaticInnerTest(){\n            super();\n        }\n\n        public void testDecrement(){\n            int number = 10;\n            ClassToTest toTest= new ClassToTest();\n            int decremented = toTest.decrement(number);\n            assertEquals(9, decremented);\n        }\n\n        public static void main(String[] args) {\n            junit.textui.TestRunner.run(StaticInnerTest.class);\n        }\n    }\n}\n</code></pre>\n\n<p>The inner class would be compiled to <code>ClassToTest$StaticInnerTest</code>.</p>\n\n<p>See also: <em><a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip106.html\" rel=\"noreferrer\">Java Tip 106: Static inner classes for fun and profit</a></em></p>\n"},{"tags":[],"owner":{"account_id":3325,"reputation":54581,"user_id":4794,"accept_rate":94,"display_name":"Don Kirkby"},"comment_count":0,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1484334508,"creation_date":1220632785,"answer_id":46255,"question_id":34571,"body_markdown":"If you&#39;re trying to test existing code that you&#39;re reluctant or unable to change, reflection is a good choice.\r\n\r\nIf the class&#39;s design is still flexible, and you&#39;ve got a complicated private method that you&#39;d like to test separately, I suggest you pull it out into a separate class and test that class separately. This doesn&#39;t have to change the public interface of the original class; it can internally create an instance of the helper class and call the helper method.\r\n\r\nIf you want to test difficult error conditions coming from the helper method, you can go a step further. Extract an interface from the helper class, add a public getter and setter to the original class to inject the helper class (used through its interface), and then inject a mock version of the helper class into the original class to test how the original class responds to exceptions from the helper. This approach is also helpful if you want to test the original class without also testing the helper class.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you're trying to test existing code that you're reluctant or unable to change, reflection is a good choice.</p>\n\n<p>If the class's design is still flexible, and you've got a complicated private method that you'd like to test separately, I suggest you pull it out into a separate class and test that class separately. This doesn't have to change the public interface of the original class; it can internally create an instance of the helper class and call the helper method.</p>\n\n<p>If you want to test difficult error conditions coming from the helper method, you can go a step further. Extract an interface from the helper class, add a public getter and setter to the original class to inject the helper class (used through its interface), and then inject a mock version of the helper class into the original class to test how the original class responds to exceptions from the helper. This approach is also helpful if you want to test the original class without also testing the helper class.</p>\n"},{"comments":[{"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"score":4,"creation_date":1384834977,"post_id":51192,"comment_id":29885124,"body_markdown":"As part of the jmockit library, you have access to the Deencapsulation class which makes testing private methods easy:\n\n\n`Deencapsulation.invoke(instance, &quot;privateMethod&quot;, param1, param2);`","body":"As part of the jmockit library, you have access to the Deencapsulation class which makes testing private methods easy:   <code>Deencapsulation.invoke(instance, &quot;privateMethod&quot;, param1, param2);</code>"},{"owner":{"account_id":24553,"reputation":15108,"user_id":62539,"accept_rate":88,"display_name":"MedicineMan"},"score":0,"creation_date":1511156316,"post_id":51192,"comment_id":81724234,"body_markdown":"I use this approach all the time.  Very helpful","body":"I use this approach all the time.  Very helpful"}],"tags":[],"owner":{"account_id":3643,"reputation":4356,"user_id":5266,"display_name":"Will Sargent"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1513254213,"creation_date":1220932256,"answer_id":51192,"question_id":34571,"body_markdown":"If you want to test private methods of a legacy application where you can&#39;t change the code, one option for Java is [jMockit][1], which will allow you to create mocks to an object even when they&#39;re private to the class.\r\n\r\n  [1]: http://code.google.com/p/jmockit/","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you want to test private methods of a legacy application where you can't change the code, one option for Java is <a href=\"http://code.google.com/p/jmockit/\" rel=\"noreferrer\">jMockit</a>, which will allow you to create mocks to an object even when they're private to the class.</p>\n"},{"comments":[{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1637084829,"post_id":52054,"comment_id":123729755,"body_markdown":"Why create a new class when you can make your method public anyway?","body":"Why create a new class when you can make your method public anyway?"},{"owner":{"account_id":3669,"reputation":45495,"user_id":5314,"accept_rate":36,"display_name":"Jay Bazuzi"},"score":1,"creation_date":1637173638,"post_id":52054,"comment_id":123757821,"body_markdown":"If you have a mix of private and public methods on a class, that&#39;s a hint that multiple responsibilities are present.","body":"If you have a mix of private and public methods on a class, that&#39;s a hint that multiple responsibilities are present."},{"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"score":0,"creation_date":1643019467,"post_id":52054,"comment_id":125219901,"body_markdown":"Use reflection to access the private method in a test. For example, i have an implementation of an algorithm in a private method and this method is used in another public method. So i need to test this algorithm properly (even while i am writing this algorithm). So why do i need to do a hack in the productive code only to be able to test this method? Yes, using java reflection is also a hack, but only in the test. And if i decide to move the method (for some other reason) in to a utils class, i can just move the test too .. done. Easy peasy, readable, maintainable.","body":"Use reflection to access the private method in a test. For example, i have an implementation of an algorithm in a private method and this method is used in another public method. So i need to test this algorithm properly (even while i am writing this algorithm). So why do i need to do a hack in the productive code only to be able to test this method? Yes, using java reflection is also a hack, but only in the test. And if i decide to move the method (for some other reason) in to a utils class, i can just move the test too .. done. Easy peasy, readable, maintainable."}],"tags":[],"owner":{"account_id":3669,"reputation":45495,"user_id":5314,"accept_rate":36,"display_name":"Jay Bazuzi"},"comment_count":3,"down_vote_count":15,"up_vote_count":403,"is_accepted":false,"score":388,"last_activity_date":1463650739,"creation_date":1220971385,"answer_id":52054,"question_id":34571,"body_markdown":"When I have private methods in a class that are sufficiently complicated that I feel the need to test the private methods directly, that is a code smell: my class is too complicated.  \r\n\r\nMy usual approach to addressing such issues is to tease out a new class that contains the interesting bits.  Often, this method and the fields it interacts with, and maybe another method or two can be extracted in to a new class.  \r\n\r\nThe new class exposes these methods as &#39;public&#39;, so they&#39;re accessible for unit testing.  The new and old classes are now both simpler than the original class, which is great for me (I need to keep things simple, or I get lost!).\r\n\r\nNote that I&#39;m not suggesting that people create classes without using their brain! The point here is to use the forces of unit testing to help you find good new classes.  ","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>When I have private methods in a class that are sufficiently complicated that I feel the need to test the private methods directly, that is a code smell: my class is too complicated.  </p>\n\n<p>My usual approach to addressing such issues is to tease out a new class that contains the interesting bits.  Often, this method and the fields it interacts with, and maybe another method or two can be extracted in to a new class.  </p>\n\n<p>The new class exposes these methods as 'public', so they're accessible for unit testing.  The new and old classes are now both simpler than the original class, which is great for me (I need to keep things simple, or I get lost!).</p>\n\n<p>Note that I'm not suggesting that people create classes without using their brain! The point here is to use the forces of unit testing to help you find good new classes.  </p>\n"},{"comments":[{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1372711867,"post_id":53571,"comment_id":25288189,"body_markdown":"You should not indirectly test! Not only touching via coverage ; test that the expected result is delivered!","body":"You should not indirectly test! Not only touching via coverage ; test that the expected result is delivered!"}],"tags":[],"owner":{"account_id":123,"reputation":3336,"user_id":151,"accept_rate":92,"display_name":"Darren Greaves"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1669385286,"creation_date":1221032922,"answer_id":53571,"question_id":34571,"body_markdown":"As many above have suggested, a good way is to test them via your public interfaces.\r\n\r\nIf you do this, it&#39;s a good idea to use a [code coverage][1] tool (like [EMMA][2]) to see if your private methods are in fact being executed from your tests.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_coverage\r\n  [2]: https://en.wikipedia.org/wiki/Java_code_coverage_tools#EMMA\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>As many above have suggested, a good way is to test them via your public interfaces.</p>\n<p>If you do this, it's a good idea to use a <a href=\"https://en.wikipedia.org/wiki/Code_coverage\" rel=\"nofollow noreferrer\">code coverage</a> tool (like <a href=\"https://en.wikipedia.org/wiki/Java_code_coverage_tools#EMMA\" rel=\"nofollow noreferrer\">EMMA</a>) to see if your private methods are in fact being executed from your tests.</p>\n"},{"tags":[],"owner":{"account_id":3668,"reputation":796,"user_id":5313,"display_name":"Joe"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1513254267,"creation_date":1221171628,"answer_id":57795,"question_id":34571,"body_markdown":"If you&#39;re using JUnit, have a look at [junit-addons][1]. It has the ability to ignore the Java security model and access private methods and attributes.\r\n\r\n  [1]: http://junit-addons.sourceforge.net/\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you're using JUnit, have a look at <a href=\"http://junit-addons.sourceforge.net/\" rel=\"noreferrer\">junit-addons</a>. It has the ability to ignore the Java security model and access private methods and attributes.</p>\n"},{"comments":[{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":4,"creation_date":1234719187,"post_id":91206,"comment_id":362841,"body_markdown":"Because often a particular piece of code from a public method is refactored into an internal private method and is really the critical piece of logic which you might have got wrong. You want to test this independently from the public method","body":"Because often a particular piece of code from a public method is refactored into an internal private method and is really the critical piece of logic which you might have got wrong. You want to test this independently from the public method"},{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":1,"creation_date":1372711737,"post_id":91206,"comment_id":25288119,"body_markdown":"Even the shortest code sometimes without unit test is not correct. Just try to caluclate the difference between 2 geograhpical angles. 4 lines of code, and most will not do it correct at first try. Such methods needs unit test, because the form the base of a trustfull code. (Ans such usefull code can be public, too; less usefull protected","body":"Even the shortest code sometimes without unit test is not correct. Just try to caluclate the difference between 2 geograhpical angles. 4 lines of code, and most will not do it correct at first try. Such methods needs unit test, because the form the base of a trustfull code. (Ans such usefull code can be public, too; less usefull protected"}],"tags":[],"owner":{"account_id":8016,"reputation":3464,"user_id":14153,"display_name":"Aaron"},"comment_count":2,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1669385405,"creation_date":1221730190,"answer_id":91206,"question_id":34571,"body_markdown":"First, I&#39;ll throw this question out: Why do your private members need isolated testing? Are they that complex, providing such complicated behaviors as to require testing apart from the public surface? It&#39;s unit testing, not &#39;line-of-code&#39; testing. Don&#39;t sweat the small stuff.\r\n\r\nIf they are that big, big enough that these private members are each a &#39;unit&#39; large in complexity&amp;mdash;consider refactoring such private members out of this class.\r\n\r\nIf refactoring is inappropriate or infeasible, can you use the [strategy pattern][1] to replace access to these private member functions / member classes when under unit test? Under unit test, the strategy would provide added validation, but in release builds it would be simple passthrough.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Strategy_pattern\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>First, I'll throw this question out: Why do your private members need isolated testing? Are they that complex, providing such complicated behaviors as to require testing apart from the public surface? It's unit testing, not 'line-of-code' testing. Don't sweat the small stuff.</p>\n<p>If they are that big, big enough that these private members are each a 'unit' large in complexityconsider refactoring such private members out of this class.</p>\n<p>If refactoring is inappropriate or infeasible, can you use the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">strategy pattern</a> to replace access to these private member functions / member classes when under unit test? Under unit test, the strategy would provide added validation, but in release builds it would be simple passthrough.</p>\n"},{"comments":[{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":6,"creation_date":1372711393,"post_id":190338,"comment_id":25287950,"body_markdown":"unit test and src code are a pair. If you change the src, maybe you have to change the unit test. That is the sense of junit test. They shall garuantee that all works as before. and it is fine if they break, if you change the code.","body":"unit test and src code are a pair. If you change the src, maybe you have to change the unit test. That is the sense of junit test. They shall garuantee that all works as before. and it is fine if they break, if you change the code."},{"owner":{"account_id":2637457,"reputation":29159,"user_id":2281790,"accept_rate":46,"display_name":"Harald Coppoolse"},"score":1,"creation_date":1447075634,"post_id":190338,"comment_id":54994609,"body_markdown":"Do not agree that unit test should change if code changes. If you are ordered to add functionality to a class without changing the existing functionality of the class, then the exist unit tests ought to pass even after you&#39;ve changed your code. As Peter mentions, unit tests ought to test the interface, not how it is done internally. In Test Driven Development unit tests are created before the code is written, to focus on the interface of the class, not on how it is solved internally.","body":"Do not agree that unit test should change if code changes. If you are ordered to add functionality to a class without changing the existing functionality of the class, then the exist unit tests ought to pass even after you&#39;ve changed your code. As Peter mentions, unit tests ought to test the interface, not how it is done internally. In Test Driven Development unit tests are created before the code is written, to focus on the interface of the class, not on how it is solved internally."}],"tags":[],"owner":{"account_id":10360,"reputation":5738,"user_id":19520,"display_name":"ema"},"comment_count":2,"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1356775363,"creation_date":1223621042,"answer_id":190338,"question_id":34571,"body_markdown":"Testing private methods breaks the encapsulation of your class because every time you change the internal implementation you break client code (in this case, the tests).\r\n\r\nSo don&#39;t test private methods.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Testing private methods breaks the encapsulation of your class because every time you change the internal implementation you break client code (in this case, the tests).</p>\n\n<p>So don't test private methods.</p>\n"},{"comments":[{"owner":{"account_id":455438,"reputation":2729,"user_id":853599,"accept_rate":95,"display_name":"Dante WWWW"},"score":0,"creation_date":1344478811,"post_id":549551,"comment_id":15801252,"body_markdown":"Up for code coverage. No matter what kind of logic is in the private method, you are still invoking those logic through a public method. A code coverage tool can show you which parts are covered by the test, therefore you can see if your private method is tested.","body":"Up for code coverage. No matter what kind of logic is in the private method, you are still invoking those logic through a public method. A code coverage tool can show you which parts are covered by the test, therefore you can see if your private method is tested."},{"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Mekauskas"},"score":2,"creation_date":1418373803,"post_id":549551,"comment_id":43319288,"body_markdown":"I have seen classes where the only public method is main[], and they pop up GUI plus connect the database and a couple of web servers worldwide. Easy to say &quot;do not test indirectly&quot;...","body":"I have seen classes where the only public method is main[], and they pop up GUI plus connect the database and a couple of web servers worldwide. Easy to say &quot;do not test indirectly&quot;..."}],"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1669385451,"creation_date":1234637583,"answer_id":549551,"question_id":34571,"body_markdown":"As others have said... don&#39;t test private methods directly. Here are a few thoughts:\r\n\r\n1. Keep all methods small and focused (easy to test, easy to find what is wrong)\r\n2. Use code coverage tools. I like [Cobertura][1] (oh happy day, it looks like a new version is out!)\r\n\r\nRun the code coverage on the unit tests. If you see that methods are not fully tested add to the tests to get the coverage up. Aim for 100% code coverage, but realize that you probably won&#39;t get it.\r\n\r\n  [1]: http://cobertura.sourceforge.net/index.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>As others have said... don't test private methods directly. Here are a few thoughts:</p>\n<ol>\n<li>Keep all methods small and focused (easy to test, easy to find what is wrong)</li>\n<li>Use code coverage tools. I like <a href=\"http://cobertura.sourceforge.net/index.html\" rel=\"nofollow noreferrer\">Cobertura</a> (oh happy day, it looks like a new version is out!)</li>\n</ol>\n<p>Run the code coverage on the unit tests. If you see that methods are not fully tested add to the tests to get the coverage up. Aim for 100% code coverage, but realize that you probably won't get it.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513254471,"creation_date":1234637685,"answer_id":549558,"question_id":34571,"body_markdown":"You can turn off Java access restrictions for reflection so that private means nothing.\r\n\r\nThe `setAccessible(true)` call does that.\r\n\r\nThe only restriction is that a ClassLoader may disallow you from doing that.\r\n\r\nSee *[Subverting Java Access Protection for Unit Testing][1]* (Ross Burton) for a way to do this in Java.\r\n\r\n  [1]: http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can turn off Java access restrictions for reflection so that private means nothing.</p>\n\n<p>The <code>setAccessible(true)</code> call does that.</p>\n\n<p>The only restriction is that a ClassLoader may disallow you from doing that.</p>\n\n<p>See <em><a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">Subverting Java Access Protection for Unit Testing</a></em> (Ross Burton) for a way to do this in Java.</p>\n"},{"tags":[],"owner":{"account_id":14453,"reputation":5523,"user_id":29746,"display_name":"Thomas Hansen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669385511,"creation_date":1234638661,"answer_id":549592,"question_id":34571,"body_markdown":"In C# you could have used `System.Reflection`, though in Java I don&#39;t know. If you &quot;feel you need to unit test private methods&quot;, my guess is that there is something else which is wrong...\r\n\r\nI would seriously consider looking at my architecture again with fresh eyes...\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In C# you could have used <code>System.Reflection</code>, though in Java I don't know. If you &quot;feel you need to unit test private methods&quot;, my guess is that there is something else which is wrong...</p>\n<p>I would seriously consider looking at my architecture again with fresh eyes...</p>\n"},{"comments":[{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":0,"creation_date":1432053653,"post_id":1038507,"comment_id":48757533,"body_markdown":"tests can be in different folders (like src/test/java and app code in src/main/java) but the package needs to be the same.","body":"tests can be in different folders (like src/test/java and app code in src/main/java) but the package needs to be the same."}],"tags":[],"owner":{"account_id":43401,"reputation":579,"user_id":126875,"display_name":"Diego Amicabile"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356775553,"creation_date":1245851383,"answer_id":1038507,"question_id":34571,"body_markdown":"What if your test classes are in the same package as the class that should be tested?\r\n\r\nBut in a different directory of course, `src` &amp; `classes` for your source code, `test/src` and `test/classes` for your test classes. And let `classes` and `test/classes` be in your classpath.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>What if your test classes are in the same package as the class that should be tested?</p>\n\n<p>But in a different directory of course, <code>src</code> &amp; <code>classes</code> for your source code, <code>test/src</code> and <code>test/classes</code> for your test classes. And let <code>classes</code> and <code>test/classes</code> be in your classpath.</p>\n"},{"comments":[{"owner":{"account_id":348407,"reputation":13070,"user_id":683077,"accept_rate":91,"display_name":"Colin M"},"score":85,"creation_date":1373290046,"post_id":1043013,"comment_id":25488163,"body_markdown":"+1 to this. In my opinion it&#39;s the best answer to the question. By testing private methods you are testing the implementation. This defeats the purpose of unit testing, which is to test the inputs/outputs of a class&#39; contract. A test should *only* know enough about the implementation to mock the methods it calls on its dependencies. Nothing more. If you can not change your implementation without having to change a test - chances are that your test strategy is poor.","body":"+1 to this. In my opinion it&#39;s the best answer to the question. By testing private methods you are testing the implementation. This defeats the purpose of unit testing, which is to test the inputs/outputs of a class&#39; contract. A test should <i>only</i> know enough about the implementation to mock the methods it calls on its dependencies. Nothing more. If you can not change your implementation without having to change a test - chances are that your test strategy is poor."},{"owner":{"account_id":3818422,"reputation":153,"user_id":3167155,"accept_rate":80,"display_name":"Aaron Marcus"},"score":13,"creation_date":1427991708,"post_id":1043013,"comment_id":47007579,"body_markdown":"@Colin M That&#39;s not really what he&#39;s asking though ;) Let him decide it, you don&#39;t know the project.","body":"@Colin M That&#39;s not really what he&#39;s asking though ;) Let him decide it, you don&#39;t know the project."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":5,"creation_date":1512041567,"post_id":1043013,"comment_id":82101788,"body_markdown":"Not really true. It could take a lot of effort to test a small part of the private method through the public method using it. The public method could require significant setup before you reach the line that calls your private method","body":"Not really true. It could take a lot of effort to test a small part of the private method through the public method using it. The public method could require significant setup before you reach the line that calls your private method"},{"owner":{"account_id":1200485,"reputation":1004,"user_id":1171253,"display_name":"wuppi"},"score":1,"creation_date":1562053410,"post_id":1043013,"comment_id":100245925,"body_markdown":"I agree. You should test, if the contract is fulfilled. You should not test, how this is done. If the contact is fulfilled without reaching 100% code coverage (in private methods), that might be dead or useless code.","body":"I agree. You should test, if the contract is fulfilled. You should not test, how this is done. If the contact is fulfilled without reaching 100% code coverage (in private methods), that might be dead or useless code."},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":0,"creation_date":1631546758,"post_id":1043013,"comment_id":122245200,"body_markdown":"non-trivial private methods are a code smell and indicate a need to refactor code into appropriate public methods/services.","body":"non-trivial private methods are a code smell and indicate a need to refactor code into appropriate public methods/services."},{"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"score":0,"creation_date":1643020101,"post_id":1043013,"comment_id":125220123,"body_markdown":"The problem is, probably your test going to be complicated and complicated tests are hard to maintain. So there is a danger that someone who need to fix the test, fix the test in a wrong way and make them useless, or overlook the error in the code and fix the test instead. Using java reflection in tests can help to keep your tests small :)","body":"The problem is, probably your test going to be complicated and complicated tests are hard to maintain. So there is a danger that someone who need to fix the test, fix the test in a wrong way and make them useless, or overlook the error in the code and fix the test instead. Using java reflection in tests can help to keep your tests small :)"}],"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"comment_count":6,"down_vote_count":3,"up_vote_count":342,"is_accepted":false,"score":339,"last_activity_date":1669385641,"creation_date":1245924072,"answer_id":1043013,"question_id":34571,"body_markdown":"I have used [reflection][1] to do this for Java in the past, and in my opinion it was a big mistake.\r\n\r\nStrictly speaking, you should *not* be writing unit tests that directly test private methods. What you *should* be testing is the public contract that the class has with other objects; you should never directly test an object&#39;s internals. If another developer wants to make a small internal change to the class, which doesn&#39;t affect the classes public contract, he/she then has to modify your reflection based test to ensure that it works. If you do this repeatedly throughout a project, unit tests then stop being a useful measurement of code health, and start to become a hindrance to development, and an annoyance to the development team.\r\n\r\nWhat I recommend doing instead is using a code coverage tool, such as [Cobertura][2], to ensure that the unit tests you write provide decent coverage of the code in private methods. That way, you indirectly test what the private methods are doing, and maintain a higher level of agility.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\r\n  [2]: https://en.wikipedia.org/wiki/Java_code_coverage_tools#Cobertura\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I have used <a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a> to do this for Java in the past, and in my opinion it was a big mistake.</p>\n<p>Strictly speaking, you should <em>not</em> be writing unit tests that directly test private methods. What you <em>should</em> be testing is the public contract that the class has with other objects; you should never directly test an object's internals. If another developer wants to make a small internal change to the class, which doesn't affect the classes public contract, he/she then has to modify your reflection based test to ensure that it works. If you do this repeatedly throughout a project, unit tests then stop being a useful measurement of code health, and start to become a hindrance to development, and an annoyance to the development team.</p>\n<p>What I recommend doing instead is using a code coverage tool, such as <a href=\"https://en.wikipedia.org/wiki/Java_code_coverage_tools#Cobertura\" rel=\"noreferrer\">Cobertura</a>, to ensure that the unit tests you write provide decent coverage of the code in private methods. That way, you indirectly test what the private methods are doing, and maintain a higher level of agility.</p>\n"},{"comments":[{"owner":{"account_id":1606494,"reputation":1649,"user_id":1486498,"display_name":"ngreen"},"score":9,"creation_date":1397101516,"post_id":3177465,"comment_id":35089055,"body_markdown":"While you should never make a method public just to test it, `private` is not the only alternative. No access modifier is `package private` and means that you can unit test it as long as your unit test lives in the same package.","body":"While you should never make a method public just to test it, <code>private</code> is not the only alternative. No access modifier is <code>package private</code> and means that you can unit test it as long as your unit test lives in the same package."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1397124393,"post_id":3177465,"comment_id":35100309,"body_markdown":"@ngreen that is all true, but is not what the question is about. OP asks about testing private methods. Default is not the same as private; as stated, you can easily see a default access method from a class just by declaring that class in the same package. With private access, you require reflection, which is a whole other ballgame.","body":"@ngreen that is all true, but is not what the question is about. OP asks about testing private methods. Default is not the same as private; as stated, you can easily see a default access method from a class just by declaring that class in the same package. With private access, you require reflection, which is a whole other ballgame."},{"owner":{"account_id":1606494,"reputation":1649,"user_id":1486498,"display_name":"ngreen"},"score":2,"creation_date":1397147439,"post_id":3177465,"comment_id":35116738,"body_markdown":"I was commenting on your answer, point 1 in particular, not the OP. There is no need to make a method private just because you don&#39;t want it to be public.","body":"I was commenting on your answer, point 1 in particular, not the OP. There is no need to make a method private just because you don&#39;t want it to be public."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":2,"creation_date":1397148399,"post_id":3177465,"comment_id":35117315,"body_markdown":"@ngreen true thx - I was lazy with the word &quot;public&quot;. I have updated the answer to include public, protected, default (and to make mention of reflection). The point I was trying to make is that there is good reason for some code to be secret, however that shouldn&#39;t prevent us from testing it.","body":"@ngreen true thx - I was lazy with the word &quot;public&quot;. I have updated the answer to include public, protected, default (and to make mention of reflection). The point I was trying to make is that there is good reason for some code to be secret, however that shouldn&#39;t prevent us from testing it."},{"owner":{"account_id":4481396,"reputation":1878,"user_id":3645375,"display_name":"Bernardo Dal Corno"},"score":3,"creation_date":1525888840,"post_id":3177465,"comment_id":87536813,"body_markdown":"Thanks for giving real examples to everyone. Most answers are good, but in a theorical point of view. In real world, we do need to hide implementation from the contract, and we still need to test it. Reading all these, I think maybe this should be a whole new level of testing, with a different name","body":"Thanks for giving real examples to everyone. Most answers are good, but in a theorical point of view. In real world, we do need to hide implementation from the contract, and we still need to test it. Reading all these, I think maybe this should be a whole new level of testing, with a different name"},{"owner":{"account_id":3887647,"reputation":1091,"user_id":3218627,"accept_rate":38,"display_name":"Nether"},"score":1,"creation_date":1589133564,"post_id":3177465,"comment_id":109166431,"body_markdown":"One more example - **Crawler HTML parsers**.\n\nHaving to parse a whole html page into domain objects requires a ton of nitty-gritty logic of validating little parts of the structure.\n\nIt makes sense to break that up into methods and call it from one public method, yet it doesn&#39;t make sense to have all the smaller methods composing it be public, nor does it make much sense to create 10 classes per HTML page.","body":"One more example - <b>Crawler HTML parsers</b>.  Having to parse a whole html page into domain objects requires a ton of nitty-gritty logic of validating little parts of the structure.  It makes sense to break that up into methods and call it from one public method, yet it doesn&#39;t make sense to have all the smaller methods composing it be public, nor does it make much sense to create 10 classes per HTML page."},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":0,"creation_date":1657538993,"post_id":3177465,"comment_id":128826207,"body_markdown":"I&#39;d argue that even in an SDK, private methods are part of the public API&#39;s functionality. So as long as the public API produces the same results, it&#39;s completely irrelevant which private method does which part.","body":"I&#39;d argue that even in an SDK, private methods are part of the public API&#39;s functionality. So as long as the public API produces the same results, it&#39;s completely irrelevant which private method does which part."}],"tags":[],"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"comment_count":7,"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1669385775,"creation_date":1278310213,"answer_id":3177465,"question_id":34571,"body_markdown":"Just two examples of where I would want to test a private method:\r\n\r\n 1. **Decryption routines** - I would not\r\n    want to make them visible to anyone to see just for\r\n    the sake of testing, else anyone can\r\n    use them to decrypt. But they are\r\n    intrinsic to the code, complicated,\r\n    and need to always work (the obvious exception is reflection which can be used to view even private methods in most cases, when `SecurityManager` is not configured to prevent this).\r\n\r\n 2. **Creating an SDK** for community\r\n    consumption. Here public takes on a\r\n    wholly different meaning, since this\r\n    is code that the whole world may see\r\n    (not just internal to my application). I put\r\n    code into private methods if I don&#39;t\r\n    want the SDK users to see it - I\r\n    don&#39;t see this as code smell, merely\r\n    as how SDK programming works. But of\r\n    course I still need to test my\r\n    private methods, and they are where\r\n    the functionality of my SDK actually\r\n    lives.\r\n\r\nI understand the idea of only testing the &quot;contract&quot;. But I don&#39;t see one can advocate actually not testing code&amp;mdash;your mileage may vary.\r\n\r\nSo my trade-off involves complicating the JUnit tests with reflection, rather than compromising my security and SDK.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Just two examples of where I would want to test a private method:</p>\n<ol>\n<li><p><strong>Decryption routines</strong> - I would not\nwant to make them visible to anyone to see just for\nthe sake of testing, else anyone can\nuse them to decrypt. But they are\nintrinsic to the code, complicated,\nand need to always work (the obvious exception is reflection which can be used to view even private methods in most cases, when <code>SecurityManager</code> is not configured to prevent this).</p>\n</li>\n<li><p><strong>Creating an SDK</strong> for community\nconsumption. Here public takes on a\nwholly different meaning, since this\nis code that the whole world may see\n(not just internal to my application). I put\ncode into private methods if I don't\nwant the SDK users to see it - I\ndon't see this as code smell, merely\nas how SDK programming works. But of\ncourse I still need to test my\nprivate methods, and they are where\nthe functionality of my SDK actually\nlives.</p>\n</li>\n</ol>\n<p>I understand the idea of only testing the &quot;contract&quot;. But I don't see one can advocate actually not testing codeyour mileage may vary.</p>\n<p>So my trade-off involves complicating the JUnit tests with reflection, rather than compromising my security and SDK.</p>\n"},{"comments":[{"owner":{"account_id":1852061,"reputation":1950,"user_id":1678392,"accept_rate":93,"display_name":"nikodaemus"},"score":2,"creation_date":1421327579,"post_id":4667692,"comment_id":44321418,"body_markdown":"Be sure to download the entire JUnit-addons (http://sourceforge.net/projects/junit-addons/) package, not the Source Forge-Recommended Project PrivateAccessor.","body":"Be sure to download the entire JUnit-addons (<a href=\"http://sourceforge.net/projects/junit-addons/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/junit-addons</a>) package, not the Source Forge-Recommended Project PrivateAccessor."},{"owner":{"account_id":1852061,"reputation":1950,"user_id":1678392,"accept_rate":93,"display_name":"nikodaemus"},"score":2,"creation_date":1421782828,"post_id":4667692,"comment_id":44489436,"body_markdown":"And be sure that, when you&#39;re using a `Class` as your first parameter in these methods, that you&#39;re accessing only `static` members.","body":"And be sure that, when you&#39;re using a <code>Class</code> as your first parameter in these methods, that you&#39;re accessing only <code>static</code> members."}],"tags":[],"owner":{"account_id":156595,"reputation":261,"user_id":373975,"display_name":"phareim"},"comment_count":2,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1669385819,"creation_date":1294828041,"answer_id":4667692,"question_id":34571,"body_markdown":"To test legacy code with large and quirky classes, it is often very helpful to be able to test the one private (or public) method I&#39;m writing _right now_.\r\n\r\nI use the **junitx.util.PrivateAccessor**-package for Java. It has lots of helpful one-liners for accessing private methods and private fields.\r\n\r\n    import junitx.util.PrivateAccessor;\r\n\r\n    PrivateAccessor.setField(myObjectReference, &quot;myCrucialButHardToReachPrivateField&quot;, myNewValue);\r\n    PrivateAccessor.invoke(myObjectReference, &quot;privateMethodName&quot;, java.lang.Class[] parameterTypes, java.lang.Object[] args);\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>To test legacy code with large and quirky classes, it is often very helpful to be able to test the one private (or public) method I'm writing <em>right now</em>.</p>\n<p>I use the <strong>junitx.util.PrivateAccessor</strong>-package for Java. It has lots of helpful one-liners for accessing private methods and private fields.</p>\n<pre><code>import junitx.util.PrivateAccessor;\n\nPrivateAccessor.setField(myObjectReference, &quot;myCrucialButHardToReachPrivateField&quot;, myNewValue);\nPrivateAccessor.invoke(myObjectReference, &quot;privateMethodName&quot;, java.lang.Class[] parameterTypes, java.lang.Object[] args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1669385868,"creation_date":1298403671,"answer_id":5083041,"question_id":34571,"body_markdown":"The answer from [JUnit.org FAQ page][1]:\r\n\r\n&gt; But if you must...\r\n&gt; \r\n&gt; If you are using JDK 1.3 or higher, you can use reflection to subvert\r\n&gt; the access control mechanism with the aid of the [PrivilegedAccessor][2].\r\n&gt; For details on how to use it, read [this article][3].\r\n&gt; \r\n&gt; If you are using JDK 1.6 or higher and you annotate your tests with\r\n&gt; @Test, you can use [Dp4j][4] to inject reflection in your test methods. For\r\n&gt; details on how to use it, see [this test script][5].\r\n\r\nP.S. I&#39;m the main contributor to [Dp4j][4]. Ask [me][6] if you need help. :)\r\n\r\n  [1]: http://junit.org/faq.html#atests_11\r\n  [2]: http://sourceforge.net/projects/privaccessor/\r\n  [3]: http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\r\n  [4]: http://dp4j.com\r\n  [5]: http://dp4j.com/testscript\r\n  [6]: https://stackoverflow.com/users/300248\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The answer from <a href=\"http://junit.org/faq.html#atests_11\" rel=\"nofollow noreferrer\">JUnit.org FAQ page</a>:</p>\n<blockquote>\n<p>But if you must...</p>\n<p>If you are using JDK 1.3 or higher, you can use reflection to subvert\nthe access control mechanism with the aid of the <a href=\"http://sourceforge.net/projects/privaccessor/\" rel=\"nofollow noreferrer\">PrivilegedAccessor</a>.\nFor details on how to use it, read <a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>If you are using JDK 1.6 or higher and you annotate your tests with\n@Test, you can use <a href=\"http://dp4j.com\" rel=\"nofollow noreferrer\">Dp4j</a> to inject reflection in your test methods. For\ndetails on how to use it, see <a href=\"http://dp4j.com/testscript\" rel=\"nofollow noreferrer\">this test script</a>.</p>\n</blockquote>\n<p>P.S. I'm the main contributor to <a href=\"http://dp4j.com\" rel=\"nofollow noreferrer\">Dp4j</a>. Ask <a href=\"https://stackoverflow.com/users/300248\">me</a> if you need help. :)</p>\n"},{"tags":[],"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304002907,"creation_date":1304002907,"answer_id":5820700,"question_id":34571,"body_markdown":"I only test the public interface, but I have been known to make specific private methods protected so I can either mock them out entirely, or add in additional steps specific for unit testing purposes. A general case is to hook in flags I can set from the unit test to make certain methods intentionally cause an exception to be able to test fault paths; the exception triggering code is only in the test path in an overridden implementation of the protected method.\r\n\r\nI minimize the need for this though and I always document the precise reasons to avoid confusion.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I only test the public interface, but I have been known to make specific private methods protected so I can either mock them out entirely, or add in additional steps specific for unit testing purposes. A general case is to hook in flags I can set from the unit test to make certain methods intentionally cause an exception to be able to test fault paths; the exception triggering code is only in the test path in an overridden implementation of the protected method.</p>\n\n<p>I minimize the need for this though and I always document the precise reasons to avoid confusion.</p>\n"},{"tags":[],"owner":{"account_id":913595,"reputation":5828,"user_id":946904,"accept_rate":69,"display_name":"marc wellman"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1669385945,"creation_date":1321374156,"answer_id":8139572,"question_id":34571,"body_markdown":"I am not sure whether this is a good technique, but I developed the following pattern to unit test private methods:\r\n\r\nI don&#39;t modify the visibility of the method that I want to test and add an additional method. Instead I am adding an additional public method for every private method I want to test. I call this additional method `Test-Port` and denote them with the prefix `t_`. This `Test-Port` method then simply accesses the according private method.\r\n\r\nAdditionally, I add a Boolean flag to the `Test-Port` method to decide whether I grant access to the private method through the `Test-Port` method from outside. This flag is then set globally in a static class where I place e.g. other global settings for the application. So I can switch the access to the private methods on and off in one place, e.g., in the corresponding unit test.\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I am not sure whether this is a good technique, but I developed the following pattern to unit test private methods:</p>\n<p>I don't modify the visibility of the method that I want to test and add an additional method. Instead I am adding an additional public method for every private method I want to test. I call this additional method <code>Test-Port</code> and denote them with the prefix <code>t_</code>. This <code>Test-Port</code> method then simply accesses the according private method.</p>\n<p>Additionally, I add a Boolean flag to the <code>Test-Port</code> method to decide whether I grant access to the private method through the <code>Test-Port</code> method from outside. This flag is then set globally in a static class where I place e.g. other global settings for the application. So I can switch the access to the private methods on and off in one place, e.g., in the corresponding unit test.</p>\n"},{"comments":[{"owner":{"account_id":5013,"reputation":14613,"user_id":7852,"accept_rate":74,"display_name":"givanse"},"score":2,"creation_date":1342190947,"post_id":8704898,"comment_id":15148000,"body_markdown":"That is a hack not a real solution.","body":"That is a hack not a real solution."},{"owner":{"account_id":22825,"reputation":6383,"user_id":56708,"display_name":"Jeff Olson"},"score":4,"creation_date":1367948083,"post_id":8704898,"comment_id":23553710,"body_markdown":"@givanse I disagree...this is one of the reasons testing Java code using Groovy is so powerful.","body":"@givanse I disagree...this is one of the reasons testing Java code using Groovy is so powerful."}],"tags":[],"owner":{"account_id":37694,"reputation":88,"user_id":107852,"display_name":"sagehen03"},"comment_count":2,"down_vote_count":8,"up_vote_count":8,"is_accepted":false,"score":0,"last_activity_date":1325535174,"creation_date":1325535174,"answer_id":8704898,"question_id":34571,"body_markdown":"Groovy has a [bug/feature][1], through which you can invoke private methods as if they were public.  So if you&#39;re able to use Groovy in your project, it&#39;s an option you can use in lieu of reflection.  Check out [this page][2] for an example.\r\n\r\n  [1]: http://jira.codehaus.org/browse/GROOVY-1875\r\n  [2]: http://marciogarcia.com/?p=80","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Groovy has a <a href=\"http://jira.codehaus.org/browse/GROOVY-1875\" rel=\"nofollow\">bug/feature</a>, through which you can invoke private methods as if they were public.  So if you're able to use Groovy in your project, it's an option you can use in lieu of reflection.  Check out <a href=\"http://marciogarcia.com/?p=80\" rel=\"nofollow\">this page</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":183629,"reputation":141,"user_id":419109,"display_name":"Steven Bluen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669386117,"creation_date":1362355663,"answer_id":15192546,"question_id":34571,"body_markdown":"[JML][1] has a *spec_public* comment annotation syntax that allows you to specify a method as public during tests:\r\n\r\n    private /*@ spec_public @*/ int methodName(){\r\n    ...\r\n    }\r\n\r\nThis syntax is discussed at *[2.4 Privacy Modifiers and Visibility][2]*. There also exists a program that translates JML specifications into JUnit tests. I&#39;m not sure how well that works or what its capabilities are, but it doesn&#39;t appear to be necessary since JML is a viable testing framework on its own.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Modeling_Language\r\n  [2]: http://www.eecs.ucf.edu/~leavens/JML/jmlrefman/jmlrefman_2.html#SEC12\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Java_Modeling_Language\" rel=\"nofollow noreferrer\">JML</a> has a <em>spec_public</em> comment annotation syntax that allows you to specify a method as public during tests:</p>\n<pre><code>private /*@ spec_public @*/ int methodName(){\n...\n}\n</code></pre>\n<p>This syntax is discussed at <em><a href=\"http://www.eecs.ucf.edu/%7Eleavens/JML/jmlrefman/jmlrefman_2.html#SEC12\" rel=\"nofollow noreferrer\">2.4 Privacy Modifiers and Visibility</a></em>. There also exists a program that translates JML specifications into JUnit tests. I'm not sure how well that works or what its capabilities are, but it doesn't appear to be necessary since JML is a viable testing framework on its own.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1669386176,"creation_date":1379449430,"answer_id":18859235,"question_id":34571,"body_markdown":"Today, I pushed a Java library to help testing private methods and fields. It has been designed with Android in mind, but it can really be used for any Java project.\r\n\r\nIf you got some code with private methods or fields or constructors, you can use [**BoundBox**][1]. It does exactly what you are looking for.\r\nHere below is an example of a test that accesses two private fields of an Android activity to test it:\r\n\r\n    @UiThreadTest\r\n    public void testCompute() {\r\n\r\n        // Given\r\n        boundBoxOfMainActivity = new BoundBoxOfMainActivity(getActivity());\r\n\r\n        // When\r\n        boundBoxOfMainActivity.boundBox_getButtonMain().performClick();\r\n\r\n        // Then\r\n        assertEquals(&quot;42&quot;, boundBoxOfMainActivity.boundBox_getTextViewMain().getText());\r\n    }\r\n\r\n**BoundBox** makes it easy to test private/protected fields, methods and constructors. You can even access stuff that is hidden by inheritance. Indeed, BoundBox breaks encapsulation. It will give you access to all that through reflection, ***but*** everything is checked at compile time.\r\n\r\nIt is ideal for testing some legacy code. Use it carefully. ;)\r\n\r\n  [1]: https://github.com/stephanenicolas/boundbox\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Today, I pushed a Java library to help testing private methods and fields. It has been designed with Android in mind, but it can really be used for any Java project.</p>\n<p>If you got some code with private methods or fields or constructors, you can use <a href=\"https://github.com/stephanenicolas/boundbox\" rel=\"nofollow noreferrer\"><strong>BoundBox</strong></a>. It does exactly what you are looking for.\nHere below is an example of a test that accesses two private fields of an Android activity to test it:</p>\n<pre><code>@UiThreadTest\npublic void testCompute() {\n\n    // Given\n    boundBoxOfMainActivity = new BoundBoxOfMainActivity(getActivity());\n\n    // When\n    boundBoxOfMainActivity.boundBox_getButtonMain().performClick();\n\n    // Then\n    assertEquals(&quot;42&quot;, boundBoxOfMainActivity.boundBox_getTextViewMain().getText());\n}\n</code></pre>\n<p><strong>BoundBox</strong> makes it easy to test private/protected fields, methods and constructors. You can even access stuff that is hidden by inheritance. Indeed, BoundBox breaks encapsulation. It will give you access to all that through reflection, <em><strong>but</strong></em> everything is checked at compile time.</p>\n<p>It is ideal for testing some legacy code. Use it carefully. ;)</p>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":5,"creation_date":1475272283,"post_id":20337937,"comment_id":66893691,"body_markdown":"Although this is true, it can lead to some very complicated tests--it&#39;s a better pattern to test a single method at a time (Unit testing) rather than a whole group of them.  Not a terrible suggestion but I think there are better answers here--this should be a last resort.","body":"Although this is true, it can lead to some very complicated tests--it&#39;s a better pattern to test a single method at a time (Unit testing) rather than a whole group of them.  Not a terrible suggestion but I think there are better answers here--this should be a last resort."}],"tags":[],"owner":{"account_id":120486,"reputation":248,"user_id":312957,"display_name":"Antony Booth"},"comment_count":1,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1484335993,"creation_date":1386018773,"answer_id":20337937,"question_id":34571,"body_markdown":"Private methods are consumed by public ones. Otherwise, they&#39;re dead code. That&#39;s why you test the public method, asserting the expected results of the public method and thereby, the private methods it consumes.\r\n\r\nTesting private methods should be tested by debugging before running your unit tests on public methods.\r\n\r\nThey may also be debugged using test-driven development, debugging your unit tests until all your assertions are met.\r\n\r\nI personally believe it is better to create classes using TDD; creating the public method stubs, then generating unit tests with **all** the assertions defined in advance, so the expected outcome of the method is determined before you code it. This way, you don&#39;t go down the wrong path of making the unit test assertions fit the results. Your class is then robust and meets requirements when all your unit tests pass.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Private methods are consumed by public ones. Otherwise, they're dead code. That's why you test the public method, asserting the expected results of the public method and thereby, the private methods it consumes.</p>\n\n<p>Testing private methods should be tested by debugging before running your unit tests on public methods.</p>\n\n<p>They may also be debugged using test-driven development, debugging your unit tests until all your assertions are met.</p>\n\n<p>I personally believe it is better to create classes using TDD; creating the public method stubs, then generating unit tests with <strong>all</strong> the assertions defined in advance, so the expected outcome of the method is determined before you code it. This way, you don't go down the wrong path of making the unit test assertions fit the results. Your class is then robust and meets requirements when all your unit tests pass.</p>\n"},{"tags":[],"owner":{"account_id":1996484,"reputation":591,"user_id":1789360,"accept_rate":79,"display_name":"Yuli Reiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1484336028,"creation_date":1389169359,"answer_id":20990300,"question_id":34571,"body_markdown":"Here is my generic function to test private fields:\r\n\r\n    protected &lt;F&gt; F getPrivateField(String fieldName, Object obj)\r\n        throws NoSuchFieldException, IllegalAccessException {\r\n        Field field =\r\n            obj.getClass().getDeclaredField(fieldName);\r\n\r\n        field.setAccessible(true);\r\n        return (F)field.get(obj);\r\n    }\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Here is my generic function to test private fields:</p>\n\n<pre><code>protected &lt;F&gt; F getPrivateField(String fieldName, Object obj)\n    throws NoSuchFieldException, IllegalAccessException {\n    Field field =\n        obj.getClass().getDeclaredField(fieldName);\n\n    field.setAccessible(true);\n    return (F)field.get(obj);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":301362,"reputation":741,"user_id":609033,"accept_rate":30,"display_name":"Sayo Oladeji"},"score":0,"creation_date":1433037843,"post_id":23441118,"comment_id":49178499,"body_markdown":"You&#39;re mixing &quot;protected&quot; with &quot;friendly.&quot;\nA protected method can only be accessed by a class whose objects are assignable to the target class (i.e subclasses).","body":"You&#39;re mixing &quot;protected&quot; with &quot;friendly.&quot; A protected method can only be accessed by a class whose objects are assignable to the target class (i.e subclasses)."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1475272091,"post_id":23441118,"comment_id":66893625,"body_markdown":"Actually there is no &quot;Friendly&quot; in Java, the term is &quot;Package&quot; and it&#39;s indicated by the lack of a private/public/protected modifier.  I would have just corrected this answer but there is a really good one that already says this--so I&#39;d just recommend deleting it.","body":"Actually there is no &quot;Friendly&quot; in Java, the term is &quot;Package&quot; and it&#39;s indicated by the lack of a private/public/protected modifier.  I would have just corrected this answer but there is a really good one that already says this--so I&#39;d just recommend deleting it."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":0,"creation_date":1489085648,"post_id":23441118,"comment_id":72528590,"body_markdown":"I almost downvoted, thinking all along &quot;This answer is just plain wrong.&quot; until I got to the very last sentence, which contradicts the rest of the answer. The last sentence should have been the first.","body":"I almost downvoted, thinking all along &quot;This answer is just plain wrong.&quot; until I got to the very last sentence, which contradicts the rest of the answer. The last sentence should have been the first."}],"tags":[],"owner":{"account_id":2754907,"reputation":1362,"user_id":2373304,"accept_rate":67,"display_name":"loknath"},"comment_count":3,"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1484337235,"creation_date":1399098798,"answer_id":23441118,"question_id":34571,"body_markdown":"A private method is only to be accessed within the same class. So there is no way to test a private method of a target class from any test class. A way out is that you can perform unit testing manually or can change your method from private to protected.\r\n\r\nAnd then a protected method can only be accessed within the same package where the class is defined. So, testing a protected method of a target class means we need to define your test class in the same package as the target class.\r\n\r\nIf all the above does not suits your requirement, use [**the  reflection way**][1] to access the private method.  \r\n\r\n  [1]: https://stackoverflow.com/questions/11483647/how-to-access-private-methods-and-private-data-members-via-reflection\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>A private method is only to be accessed within the same class. So there is no way to test a private method of a target class from any test class. A way out is that you can perform unit testing manually or can change your method from private to protected.</p>\n\n<p>And then a protected method can only be accessed within the same package where the class is defined. So, testing a protected method of a target class means we need to define your test class in the same package as the target class.</p>\n\n<p>If all the above does not suits your requirement, use <a href=\"https://stackoverflow.com/questions/11483647/how-to-access-private-methods-and-private-data-members-via-reflection\"><strong>the  reflection way</strong></a> to access the private method.  </p>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":0,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1415662560,"creation_date":1415662560,"answer_id":26855013,"question_id":34571,"body_markdown":"If using Spring, [ReflectionTestUtils](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html) provides some handy tools that help out here with minimal effort. For example, to set up a mock on a private member without being forced to add an undesirable public setter:\r\n\r\n    ReflectionTestUtils.setField(theClass, &quot;theUnsettableField&quot;, theMockObject);","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If using Spring, <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"noreferrer\">ReflectionTestUtils</a> provides some handy tools that help out here with minimal effort. For example, to set up a mock on a private member without being forced to add an undesirable public setter:</p>\n\n<pre><code>ReflectionTestUtils.setField(theClass, \"theUnsettableField\", theMockObject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1484337395,"creation_date":1430978564,"answer_id":30093076,"question_id":34571,"body_markdown":"I recently had this problem and wrote a little tool, called [Picklock][1], that avoids the problems of explicitly using the Java reflection API, two examples:\r\n\r\n**Calling methods, e.g. `private void method(String s)` - by Java reflection**\r\n\r\n    Method method = targetClass.getDeclaredMethod(&quot;method&quot;, String.class);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, &quot;mystring&quot;);\r\n\r\n**Calling methods, e.g. `private void method(String s)` - by Picklock**\r\n\r\n    interface Accessible {\r\n      void method(String s);\r\n    }\r\n\r\n    ...\r\n    Accessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\r\n    a.method(&quot;mystring&quot;);\r\n\r\n**Setting fields, e.g. `private BigInteger amount;` - by Java reflection**\r\n\r\n    Field field = targetClass.getDeclaredField(&quot;amount&quot;);\r\n    field.setAccessible(true);\r\n    field.set(object, BigInteger.valueOf(42));\r\n\r\n**Setting fields, e.g. `private BigInteger amount;` - by Picklock**\r\n\r\n    interface Accessible {\r\n      void setAmount(BigInteger amount);\r\n    }\r\n\r\n    ...\r\n    Accessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\r\n    a.setAmount(BigInteger.valueOf(42));\r\n\r\n  [1]: https://github.com/almondtools/picklock\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I recently had this problem and wrote a little tool, called <a href=\"https://github.com/almondtools/picklock\" rel=\"noreferrer\">Picklock</a>, that avoids the problems of explicitly using the Java reflection API, two examples:</p>\n\n<p><strong>Calling methods, e.g. <code>private void method(String s)</code> - by Java reflection</strong></p>\n\n<pre><code>Method method = targetClass.getDeclaredMethod(\"method\", String.class);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, \"mystring\");\n</code></pre>\n\n<p><strong>Calling methods, e.g. <code>private void method(String s)</code> - by Picklock</strong></p>\n\n<pre><code>interface Accessible {\n  void method(String s);\n}\n\n...\nAccessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\na.method(\"mystring\");\n</code></pre>\n\n<p><strong>Setting fields, e.g. <code>private BigInteger amount;</code> - by Java reflection</strong></p>\n\n<pre><code>Field field = targetClass.getDeclaredField(\"amount\");\nfield.setAccessible(true);\nfield.set(object, BigInteger.valueOf(42));\n</code></pre>\n\n<p><strong>Setting fields, e.g. <code>private BigInteger amount;</code> - by Picklock</strong></p>\n\n<pre><code>interface Accessible {\n  void setAmount(BigInteger amount);\n}\n\n...\nAccessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\na.setAmount(BigInteger.valueOf(42));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":175246,"reputation":260,"user_id":405131,"display_name":"Denis Nikolaenko"},"score":3,"creation_date":1584243057,"post_id":31020978,"comment_id":107375407,"body_markdown":"The cleanest and the most concise solution so far, but only if you are using Spring.","body":"The cleanest and the most concise solution so far, but only if you are using Spring."}],"tags":[],"owner":{"account_id":1986201,"reputation":2750,"user_id":1781357,"accept_rate":45,"display_name":"Mikhail"},"comment_count":1,"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1484337432,"creation_date":1435132868,"answer_id":31020978,"question_id":34571,"body_markdown":"In the [Spring Framework][1] you can test private methods using this method:\r\n\r\n    ReflectionTestUtils.invokeMethod()\r\n\r\nFor example:\r\n\r\n    ReflectionTestUtils.invokeMethod(TestClazz, &quot;createTest&quot;, &quot;input data&quot;);\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In the <a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"noreferrer\">Spring Framework</a> you can test private methods using this method:</p>\n\n<pre><code>ReflectionTestUtils.invokeMethod()\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>ReflectionTestUtils.invokeMethod(TestClazz, \"createTest\", \"input data\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4886241,"reputation":3712,"user_id":3938606,"accept_rate":44,"display_name":"Seb"},"score":2,"creation_date":1485858319,"post_id":36115967,"comment_id":71089057,"body_markdown":"I didn&#39;t know about this one, it&#39;s interresting, I still think that if you need that kind of annottaion you have design issues.","body":"I didn&#39;t know about this one, it&#39;s interresting, I still think that if you need that kind of annottaion you have design issues."},{"owner":{"account_id":3121314,"reputation":492,"user_id":2641025,"display_name":"Fr Jeremy Krieg"},"score":3,"creation_date":1509923706,"post_id":36115967,"comment_id":81205465,"body_markdown":"To me, this is like saying instead of giving a one-off key to your fire warden to test the fire drill, you leave your front door unlocked with a sign on the door saying - &quot;unlocked for testing - if you&#39;re not from our company, please don&#39;t enter&quot;.","body":"To me, this is like saying instead of giving a one-off key to your fire warden to test the fire drill, you leave your front door unlocked with a sign on the door saying - &quot;unlocked for testing - if you&#39;re not from our company, please don&#39;t enter&quot;."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1583860495,"post_id":36115967,"comment_id":107252392,"body_markdown":"@FrJeremyKrieg - what does that mean ?","body":"@FrJeremyKrieg - what does that mean ?"},{"owner":{"account_id":3121314,"reputation":492,"user_id":2641025,"display_name":"Fr Jeremy Krieg"},"score":2,"creation_date":1583971258,"post_id":36115967,"comment_id":107295434,"body_markdown":"@MasterJoe2: the purpose of a fire test is to improve the safety of your building against the risk of fire. But you have to give the warden access to your building. If you permanently leave the front door unlocked, you increase the risk of unauthorised access and make it *less* safe. The same is true of the VisibleForTesting pattern - you&#39;re increasing the risk of unauthorised access in order to reduce the risk of &quot;fire&quot;. Better to grant access as a one-off for testing only when you need to (eg, using reflection) rather than leave it permanently unlocked (non-private).","body":"@MasterJoe2: the purpose of a fire test is to improve the safety of your building against the risk of fire. But you have to give the warden access to your building. If you permanently leave the front door unlocked, you increase the risk of unauthorised access and make it <i>less</i> safe. The same is true of the VisibleForTesting pattern - you&#39;re increasing the risk of unauthorised access in order to reduce the risk of &quot;fire&quot;. Better to grant access as a one-off for testing only when you need to (eg, using reflection) rather than leave it permanently unlocked (non-private)."},{"owner":{"account_id":255437,"reputation":235,"user_id":535486,"display_name":"Samurai Soul"},"score":0,"creation_date":1631303577,"post_id":36115967,"comment_id":122195046,"body_markdown":"@FrJeremyKrieg leaving your door unlocked would be equivalent to making your private method public just for testing. I&#39;m assuming you know package-private means only classes in the same package have access. Making it package-private is more like giving your garage door code to your neighbors and the fire warden only. Is it less secure than a private method? Sure. Slightly. Question: How would you grant access as a one-off through reflection? Access to private methods is available to anyone through reflection. IMHO using reflection is not any better than package-private access.","body":"@FrJeremyKrieg leaving your door unlocked would be equivalent to making your private method public just for testing. I&#39;m assuming you know package-private means only classes in the same package have access. Making it package-private is more like giving your garage door code to your neighbors and the fire warden only. Is it less secure than a private method? Sure. Slightly. Question: How would you grant access as a one-off through reflection? Access to private methods is available to anyone through reflection. IMHO using reflection is not any better than package-private access."},{"owner":{"account_id":255437,"reputation":235,"user_id":535486,"display_name":"Samurai Soul"},"score":0,"creation_date":1631303614,"post_id":36115967,"comment_id":122195059,"body_markdown":"The &quot;if you&#39;re not from our company&quot; thing doesn&#39;t apply for most dev shops. I&#39;ve never worked at a company that left their code repos open to the outside. Unless your code repo is public (ie open-source), it&#39;s safe to assume no one with malicious intent has access. The threat really comes from internal devs who could through their code unknowingly access your sensitive methods/members, not realizing the danger. Thus the heads-up with @VisibleForTesting. Is it less secure? Sure. Slightly. But tested code is worth it. Private methods safeguard against naivete, not maliciousness.","body":"The &quot;if you&#39;re not from our company&quot; thing doesn&#39;t apply for most dev shops. I&#39;ve never worked at a company that left their code repos open to the outside. Unless your code repo is public (ie open-source), it&#39;s safe to assume no one with malicious intent has access. The threat really comes from internal devs who could through their code unknowingly access your sensitive methods/members, not realizing the danger. Thus the heads-up with @VisibleForTesting. Is it less secure? Sure. Slightly. But tested code is worth it. Private methods safeguard against naivete, not maliciousness."},{"owner":{"account_id":3121314,"reputation":492,"user_id":2641025,"display_name":"Fr Jeremy Krieg"},"score":0,"creation_date":1631447522,"post_id":36115967,"comment_id":122219476,"body_markdown":"@SamuraiSoul thank you for your response! To be sure, the analogy is imperfect and could be tweaked (eg, reflection is more like a lockpick than a one-off code). But as you yourself said, making methods private protects against naivete - making them package-private reduces this protection. And I never argued that tested code isn&#39;t worth it - I only argued that I don&#39;t think &quot;@VisibleForTesting&quot; is the best way to test it. In the rare case I need to directly test private members, I always prefer using reflection than reducing my protection.","body":"@SamuraiSoul thank you for your response! To be sure, the analogy is imperfect and could be tweaked (eg, reflection is more like a lockpick than a one-off code). But as you yourself said, making methods private protects against naivete - making them package-private reduces this protection. And I never argued that tested code isn&#39;t worth it - I only argued that I don&#39;t think &quot;@VisibleForTesting&quot; is the best way to test it. In the rare case I need to directly test private members, I always prefer using reflection than reducing my protection."}],"tags":[],"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"comment_count":7,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1484337537,"creation_date":1458489183,"answer_id":36115967,"question_id":34571,"body_markdown":"Another approach I have used is to change a private method to package private or protected then complement it with the **@VisibleForTesting** annotation of the Google Guava library.\r\n\r\nThis will tell anybody using this method to take caution and not access it directly even in a package. Also a test class need not be in same package **physically**, but in the same package under the **test** folder.\r\n\r\nFor example, if a method to be tested is in `src/main/java/mypackage/MyClass.java` then your test call should be placed in `src/test/java/mypackage/MyClassTest.java`. That way, you got access to the test method in your test class.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Another approach I have used is to change a private method to package private or protected then complement it with the <strong>@VisibleForTesting</strong> annotation of the Google Guava library.</p>\n\n<p>This will tell anybody using this method to take caution and not access it directly even in a package. Also a test class need not be in same package <strong>physically</strong>, but in the same package under the <strong>test</strong> folder.</p>\n\n<p>For example, if a method to be tested is in <code>src/main/java/mypackage/MyClass.java</code> then your test call should be placed in <code>src/test/java/mypackage/MyClassTest.java</code>. That way, you got access to the test method in your test class.</p>\n"},{"tags":[],"owner":{"account_id":2705291,"reputation":931,"user_id":2335016,"accept_rate":40,"display_name":"Olcay Tarazan"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1484337582,"creation_date":1464868321,"answer_id":37591098,"question_id":34571,"body_markdown":"Please see below for an example;\r\n\r\nThe following import statement should be added:\r\n\r\n    import org.powermock.reflect.Whitebox;\r\n\r\nNow you can directly pass the object which has the private method, method name to be called, and additional parameters as below.\r\n\r\n    Whitebox.invokeMethod(obj, &quot;privateMethod&quot;, &quot;param1&quot;);\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Please see below for an example;</p>\n\n<p>The following import statement should be added:</p>\n\n<pre><code>import org.powermock.reflect.Whitebox;\n</code></pre>\n\n<p>Now you can directly pass the object which has the private method, method name to be called, and additional parameters as below.</p>\n\n<pre><code>Whitebox.invokeMethod(obj, \"privateMethod\", \"param1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1669386415,"creation_date":1464968869,"answer_id":37618628,"question_id":34571,"body_markdown":"A quick addition to [Cem Catikka&#39;s answer][1], when using ExpectedException:\r\n\r\nKeep in mind that your expected exception will be wrapped in an InvocationTargetException, so in order to get to your exception you will have to throw the cause of the InvocationTargetException you received. Something like (testing private method validateRequest() on BizService):\r\n\r\n    @Rule\r\n    public ExpectedException thrown = ExpectedException.none();\r\n\r\n    @Autowired(required = true)\r\n    private BizService svc;\r\n\r\n\r\n    @Test\r\n    public void testValidateRequest() throws Exception {\r\n\r\n        thrown.expect(BizException.class);\r\n        thrown.expectMessage(expectMessage);\r\n\r\n        BizRequest request = /* Mock it, read from source - file, etc. */;\r\n        validateRequest(request);\r\n    }\r\n\r\n    private void validateRequest(BizRequest request) throws Exception {\r\n        Method method = svc.getClass().getDeclaredMethod(&quot;validateRequest&quot;, BizRequest.class);\r\n        method.setAccessible(true);\r\n        try {\r\n            method.invoke(svc, request);\r\n        }\r\n        catch (InvocationTargetException e) {\r\n            throw ((BizException)e.getCause());\r\n        }\r\n     }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes#34658","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>A quick addition to <a href=\"https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes#34658\">Cem Catikka's answer</a>, when using ExpectedException:</p>\n<p>Keep in mind that your expected exception will be wrapped in an InvocationTargetException, so in order to get to your exception you will have to throw the cause of the InvocationTargetException you received. Something like (testing private method validateRequest() on BizService):</p>\n<pre><code>@Rule\npublic ExpectedException thrown = ExpectedException.none();\n\n@Autowired(required = true)\nprivate BizService svc;\n\n\n@Test\npublic void testValidateRequest() throws Exception {\n\n    thrown.expect(BizException.class);\n    thrown.expectMessage(expectMessage);\n\n    BizRequest request = /* Mock it, read from source - file, etc. */;\n    validateRequest(request);\n}\n\nprivate void validateRequest(BizRequest request) throws Exception {\n    Method method = svc.getClass().getDeclaredMethod(&quot;validateRequest&quot;, BizRequest.class);\n    method.setAccessible(true);\n    try {\n        method.invoke(svc, request);\n    }\n    catch (InvocationTargetException e) {\n        throw ((BizException)e.getCause());\n    }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":2,"creation_date":1489085180,"post_id":39215279,"comment_id":72528284,"body_markdown":"Disagree with the `ClassToTest(Callable)` injection. That makes `ClassToTest` more complicated. Keep it simple. Also, that then requires *someone else* to tell `ClassToTest` something that `ClassToTest` should be the boss of. There is a place for injecting logic, but this is not it. You have just made the class harder to maintain, not easier.","body":"Disagree with the <code>ClassToTest(Callable)</code> injection. That makes <code>ClassToTest</code> more complicated. Keep it simple. Also, that then requires <i>someone else</i> to tell <code>ClassToTest</code> something that <code>ClassToTest</code> should be the boss of. There is a place for injecting logic, but this is not it. You have just made the class harder to maintain, not easier."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":0,"creation_date":1489085342,"post_id":39215279,"comment_id":72528386,"body_markdown":"Also, it is preferable if your method of testing `X` does not increase `X` complexity to the point where it might cause more problems... and therefore require additional testing... which if you&#39;ve implemented in a way that can cause more problems... (this is not an infinite loops; each iteration is likely smaller than the one before it, but still annoying)","body":"Also, it is preferable if your method of testing <code>X</code> does not increase <code>X</code> complexity to the point where it might cause more problems... and therefore require additional testing... which if you&#39;ve implemented in a way that can cause more problems... (this is not an infinite loops; each iteration is likely smaller than the one before it, but still annoying)"},{"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"score":2,"creation_date":1489085560,"post_id":39215279,"comment_id":72528530,"body_markdown":"Could you explain why would it make class `ClassToTest` harder to maintain? Actually it makes your application easier to maintain, what do you suggest making new class for every different value you&#39;ll need in `first` and &#39;second&#39; variables?","body":"Could you explain why would it make class <code>ClassToTest</code> harder to maintain? Actually it makes your application easier to maintain, what do you suggest making new class for every different value you&#39;ll need in <code>first</code> and &#39;second&#39; variables?"},{"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"score":1,"creation_date":1489085687,"post_id":39215279,"comment_id":72528613,"body_markdown":"Method of testing doesn&#39;t increase complexity. It&#39;s just your class which is poorly written, so poorly that it can&#39;t be tested.","body":"Method of testing doesn&#39;t increase complexity. It&#39;s just your class which is poorly written, so poorly that it can&#39;t be tested."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":0,"creation_date":1489096768,"post_id":39215279,"comment_id":72534403,"body_markdown":"Harder to maintain because the class is more complicated. `class A{ A(){} f(){} }` is simpler than `class A { Logic f; A(logic_f) } class B { g() { new A( logic_f) } }`. If that were not true, and if it were true that supplying a class&#39; logic as constructor arguments were easier to maintain, then we would pass all logic as constructor arguments. I just don&#39;t see how you can claim `class B{ g() { new A( you_dont_know_your_own_logic_but_I_do ) } }` ever makes A easier to maintain. There are cases where injecting like this makes sense, but I don&#39;t see your example as &quot;easier to maintain&quot;","body":"Harder to maintain because the class is more complicated. <code>class A{ A(){} f(){} }</code> is simpler than <code>class A { Logic f; A(logic_f) } class B { g() { new A( logic_f) } }</code>. If that were not true, and if it were true that supplying a class&#39; logic as constructor arguments were easier to maintain, then we would pass all logic as constructor arguments. I just don&#39;t see how you can claim <code>class B{ g() { new A( you_dont_know_your_own_logic_but_I_do ) } }</code> ever makes A easier to maintain. There are cases where injecting like this makes sense, but I don&#39;t see your example as &quot;easier to maintain&quot;"},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":0,"creation_date":1489097185,"post_id":39215279,"comment_id":72534597,"body_markdown":"As for &quot;what do you suggest making new class for every different value you&#39;ll need&quot;... I don&#39;t understand how that follows. No. I&#39;m saying keep it simple. `class A { M m; N n; f() { } }` super simple. Don&#39;t break from that unless you have a reason. If you had to in order to test private members, sure, fine; I just don&#39;t see how you can claim it is &quot;easier to maintain.&quot; Dependency injection only makes things easier to maintain when it reduces complexity (decouples classes, makes graphs/charts easier to follow, *something*), which it did not in your example.","body":"As for &quot;what do you suggest making new class for every different value you&#39;ll need&quot;... I don&#39;t understand how that follows. No. I&#39;m saying keep it simple. <code>class A { M m; N n; f() { } }</code> super simple. Don&#39;t break from that unless you have a reason. If you had to in order to test private members, sure, fine; I just don&#39;t see how you can claim it is &quot;easier to maintain.&quot; Dependency injection only makes things easier to maintain when it reduces complexity (decouples classes, makes graphs/charts easier to follow, <i>something</i>), which it did not in your example."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":0,"creation_date":1489097275,"post_id":39215279,"comment_id":72534649,"body_markdown":"Note that I am not suggesting that your actual answer is invalid. Supplying the logic from the outside can in fact answer the original question. I am only commenting on a specific statement within the answer, a statement which the answer does not hinge on.","body":"Note that I am not suggesting that your actual answer is invalid. Supplying the logic from the outside can in fact answer the original question. I am only commenting on a specific statement within the answer, a statement which the answer does not hinge on."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":1,"creation_date":1489097626,"post_id":39215279,"comment_id":72534799,"body_markdown":"Actually, on third (or fourth?) read over, I see I may have missed a point. In your no-arg `public ClassToTest() { this(...); }`, is that implying that the class no-arg constructor is generally used, that it can supply its own logic known internally to the class, and the other constructor used **only** for testing (or if `B` wants to change its behavior for some reason; a handy side effect)? I did not catch that the first couple reads over.","body":"Actually, on third (or fourth?) read over, I see I may have missed a point. In your no-arg <code>public ClassToTest() { this(...); }</code>, is that implying that the class no-arg constructor is generally used, that it can supply its own logic known internally to the class, and the other constructor used <b>only</b> for testing (or if <code>B</code> wants to change its behavior for some reason; a handy side effect)? I did not catch that the first couple reads over."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":0,"creation_date":1489097994,"post_id":39215279,"comment_id":72534956,"body_markdown":"Yes, I gotcha now. The fact that you do not have a default implementation known internally to `ClassToTest` threw me off, but you do have it implied by the ellipse. For some reason, I was originally thinking you intended that the logic must be supplied only from the outside. For suckers like me, could you just edit the &quot;...&quot; to be something like &quot;defaultLogic&quot;; assuming I understand you correctly now.","body":"Yes, I gotcha now. The fact that you do not have a default implementation known internally to <code>ClassToTest</code> threw me off, but you do have it implied by the ellipse. For some reason, I was originally thinking you intended that the logic must be supplied only from the outside. For suckers like me, could you just edit the &quot;...&quot; to be something like &quot;defaultLogic&quot;; assuming I understand you correctly now."}],"tags":[],"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"comment_count":9,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1669386564,"creation_date":1472505059,"answer_id":39215279,"question_id":34571,"body_markdown":"I would suggest you refactoring your code a little bit. When you have to start thinking about using reflection or other kind of stuff, for just testing your code, something is going wrong with your code.\r\n\r\nYou mentioned different types of problems. Let&#39;s start with private fields. In case of private fields I would have added a new constructor and injected fields into that. Instead of this:\r\n\r\n    public class ClassToTest {\r\n\r\n        private final String first = &quot;first&quot;;\r\n        private final List&lt;String&gt; second = new ArrayList&lt;&gt;();\r\n        ...\r\n    }\r\n\r\nI&#39;d have used this:\r\n\r\n    public class ClassToTest {\r\n\r\n        private final String first;\r\n        private final List&lt;String&gt; second;\r\n\r\n        public ClassToTest() {\r\n            this(&quot;first&quot;, new ArrayList&lt;&gt;());\r\n        }\r\n\r\n        public ClassToTest(final String first, final List&lt;String&gt; second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n        ...\r\n    }\r\n\r\nThis won&#39;t be a problem even with some legacy code. Old code will be using an empty constructor, and if you ask me, refactored code will look cleaner, and you&#39;ll be able to inject necessary values in test without reflection.\r\n\r\nNow about private methods. In my personal experience when you have to stub a private method for testing, then that method has nothing to do in that class. A common pattern, in that case, would be to *wrap* it within an interface, like `Callable` and then you pass in that interface also in the constructor (with that multiple constructor trick):\r\n\r\n    public ClassToTest() {\r\n        this(...);\r\n    }\r\n\r\n    public ClassToTest(final Callable&lt;T&gt; privateMethodLogic) {\r\n        this.privateMethodLogic = privateMethodLogic;\r\n    }\r\n\r\nMostly all that I wrote looks like it&#39;s a [dependency injection][1] pattern. In my personal experience it&#39;s really useful while testing, and I think that this kind of code is cleaner and will be easier to maintain. I&#39;d say the same about nested classes. If a nested class contains heavy logic it would be better if you&#39;d moved it as a package private class and have injected it into a class needing it.\r\n\r\nThere are also several other design patterns which I have used while refactoring and maintaining legacy code, but it all depends on cases of your code to test. Using reflection mostly is not a problem, but when you have an enterprise application which is heavily tested and tests are run before every deployment everything gets really slow (it&#39;s just annoying and I don&#39;t like that kind of stuff).\r\n\r\nThere is also setter injection, but I wouldn&#39;t recommended using it. I&#39;d better stick with a constructor and initialize everything when it&#39;s really necessary, leaving the possibility for injecting necessary dependencies.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_injection\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I would suggest you refactoring your code a little bit. When you have to start thinking about using reflection or other kind of stuff, for just testing your code, something is going wrong with your code.</p>\n<p>You mentioned different types of problems. Let's start with private fields. In case of private fields I would have added a new constructor and injected fields into that. Instead of this:</p>\n<pre><code>public class ClassToTest {\n\n    private final String first = &quot;first&quot;;\n    private final List&lt;String&gt; second = new ArrayList&lt;&gt;();\n    ...\n}\n</code></pre>\n<p>I'd have used this:</p>\n<pre><code>public class ClassToTest {\n\n    private final String first;\n    private final List&lt;String&gt; second;\n\n    public ClassToTest() {\n        this(&quot;first&quot;, new ArrayList&lt;&gt;());\n    }\n\n    public ClassToTest(final String first, final List&lt;String&gt; second) {\n        this.first = first;\n        this.second = second;\n    }\n    ...\n}\n</code></pre>\n<p>This won't be a problem even with some legacy code. Old code will be using an empty constructor, and if you ask me, refactored code will look cleaner, and you'll be able to inject necessary values in test without reflection.</p>\n<p>Now about private methods. In my personal experience when you have to stub a private method for testing, then that method has nothing to do in that class. A common pattern, in that case, would be to <em>wrap</em> it within an interface, like <code>Callable</code> and then you pass in that interface also in the constructor (with that multiple constructor trick):</p>\n<pre><code>public ClassToTest() {\n    this(...);\n}\n\npublic ClassToTest(final Callable&lt;T&gt; privateMethodLogic) {\n    this.privateMethodLogic = privateMethodLogic;\n}\n</code></pre>\n<p>Mostly all that I wrote looks like it's a <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a> pattern. In my personal experience it's really useful while testing, and I think that this kind of code is cleaner and will be easier to maintain. I'd say the same about nested classes. If a nested class contains heavy logic it would be better if you'd moved it as a package private class and have injected it into a class needing it.</p>\n<p>There are also several other design patterns which I have used while refactoring and maintaining legacy code, but it all depends on cases of your code to test. Using reflection mostly is not a problem, but when you have an enterprise application which is heavily tested and tests are run before every deployment everything gets really slow (it's just annoying and I don't like that kind of stuff).</p>\n<p>There is also setter injection, but I wouldn't recommended using it. I'd better stick with a constructor and initialize everything when it's really necessary, leaving the possibility for injecting necessary dependencies.</p>\n"},{"tags":[],"owner":{"account_id":10300420,"reputation":300,"user_id":7599315,"accept_rate":62,"display_name":"Rahul"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669386714,"creation_date":1504892218,"answer_id":46121866,"question_id":34571,"body_markdown":"You can use [PowerMockito][1] to set return values for private fields and private methods that are called/used in the private method you want to test:\r\n\r\nFor example, setting a return value for a private method:\r\n\r\n    MyClient classUnderTest = PowerMockito.spy(new MyClient());\r\n\r\n    // Set the expected return value\r\n    PowerMockito.doReturn(20).when(classUnderTest, &quot;myPrivateMethod&quot;, anyString(), anyInt());\r\n    // This is very important. Otherwise, it will not work\r\n    classUnderTest.myPrivateMethod();\r\n\r\n    // Setting the private field value as someValue:\r\n    Whitebox.setInternalState(classUnderTest, &quot;privateField&quot;, someValue);\r\n\r\nThen finally you can validate your private method under test is returning the correct value based on set values above by:\r\n\r\n    String msg = Whitebox.invokeMethod(obj, &quot;privateMethodToBeTested&quot;, &quot;param1&quot;);\r\n    Assert.assertEquals(privateMsg, msg);\r\n\r\nOr\r\n\r\nIf the classUnderTest private method does not return a value, but it sets another private field then you can get that private field value to see if it was set correctly:\r\n\r\n    // To get the value of a private field\r\n    MyClass obj = Whitebox.getInternalState(classUnderTest, &quot;foo&quot;);\r\n    assertThat(obj, is(notNull(MyClass.class))); // Or test value\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mockito\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can use <a href=\"https://en.wikipedia.org/wiki/Mockito\" rel=\"nofollow noreferrer\">PowerMockito</a> to set return values for private fields and private methods that are called/used in the private method you want to test:</p>\n<p>For example, setting a return value for a private method:</p>\n<pre><code>MyClient classUnderTest = PowerMockito.spy(new MyClient());\n\n// Set the expected return value\nPowerMockito.doReturn(20).when(classUnderTest, &quot;myPrivateMethod&quot;, anyString(), anyInt());\n// This is very important. Otherwise, it will not work\nclassUnderTest.myPrivateMethod();\n\n// Setting the private field value as someValue:\nWhitebox.setInternalState(classUnderTest, &quot;privateField&quot;, someValue);\n</code></pre>\n<p>Then finally you can validate your private method under test is returning the correct value based on set values above by:</p>\n<pre><code>String msg = Whitebox.invokeMethod(obj, &quot;privateMethodToBeTested&quot;, &quot;param1&quot;);\nAssert.assertEquals(privateMsg, msg);\n</code></pre>\n<p>Or</p>\n<p>If the classUnderTest private method does not return a value, but it sets another private field then you can get that private field value to see if it was set correctly:</p>\n<pre><code>// To get the value of a private field\nMyClass obj = Whitebox.getInternalState(classUnderTest, &quot;foo&quot;);\nassertThat(obj, is(notNull(MyClass.class))); // Or test value\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4686814,"reputation":1148,"user_id":3794038,"display_name":"Constantinos"},"score":6,"creation_date":1509305125,"post_id":47004093,"comment_id":80955062,"body_markdown":"You make good points (some/most of which have already been made by others), but please try to avoid antagonizing by using words such as &quot;pseudo developers/engineers&quot;. As you said (and I agree), we should not ostracize, but instead create a better status quo and help everyone to learn and improve.","body":"You make good points (some/most of which have already been made by others), but please try to avoid antagonizing by using words such as &quot;pseudo developers/engineers&quot;. As you said (and I agree), we should not ostracize, but instead create a better status quo and help everyone to learn and improve."},{"owner":{"account_id":6209421,"reputation":174,"user_id":4836141,"display_name":"Miladinho"},"score":3,"creation_date":1546890775,"post_id":47004093,"comment_id":94995194,"body_markdown":"@Constantinos Thanks for pointing that out. I recall when I was writing this response that I was frustrated at the lack of resources (or perception thereof)  to learn good practices. Having barely graduated college at that time, I was seeking a criterion that could guide me on how to write good code. I agree that the language I used was not ok and I have edited that out. Thank you.","body":"@Constantinos Thanks for pointing that out. I recall when I was writing this response that I was frustrated at the lack of resources (or perception thereof)  to learn good practices. Having barely graduated college at that time, I was seeking a criterion that could guide me on how to write good code. I agree that the language I used was not ok and I have edited that out. Thank you."},{"owner":{"account_id":1849664,"reputation":3107,"user_id":1676472,"accept_rate":100,"display_name":"tsturzl"},"score":1,"creation_date":1631577393,"post_id":47004093,"comment_id":122254420,"body_markdown":"This is presumptive and arrogant. You cannot possibly know the reasons why someone might want to test a private method or introspect a private field. Even if it is best practice to not directly test private methods you don&#39;t need elitist drivel to make your point.","body":"This is presumptive and arrogant. You cannot possibly know the reasons why someone might want to test a private method or introspect a private field. Even if it is best practice to not directly test private methods you don&#39;t need elitist drivel to make your point."}],"tags":[],"owner":{"account_id":6209421,"reputation":174,"user_id":4836141,"display_name":"Miladinho"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1669387428,"creation_date":1509303695,"answer_id":47004093,"question_id":34571,"body_markdown":"If you are worried by not testing private methods as many of the posts suggest, consider that a **code coverage** tool will determine exactly how much of your code is tested and where it leaks, so it is quantifiably acceptable to do this.\r\n\r\nAnswers that direct the author of the question towards a &#39;workaround&#39; are doing a massive disservice to the community. Testing is a major part of all engineering disciplines. You would not want to buy a car that is not properly tested, and tested in a meaningful way, so why would anyone want to buy or use software that is tested poorly? The reason people do this anyway is probably because the effects of badly tested software are felt way after the fact, and we don&#39;t usually associate them with bodily harm.\r\n\r\nThis is a very dangerous perception which will be difficult to change, but it is our responsibility to deliver safe products regardless of what even management is bullying us to do. Think [the Equifax hack][1]... \r\n\r\nWe must strive to build an environment that encourages good software engineering practices. This does not mean ostracizing the weak/lazy among us who do not take their craft seriously, but rather, to create a status quo of accountability and self reflection that would encourage everyone to pursue growth, both mentally and skillfully. \r\n\r\nI am still learning, and may have wrong perceptions/opinions myself, but I do firmly believe that we need to hold ourselves accountable to good practices and shun irresponsible hacks or workarounds to problems.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/2017_Equifax_data_breach#Data_breach\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you are worried by not testing private methods as many of the posts suggest, consider that a <strong>code coverage</strong> tool will determine exactly how much of your code is tested and where it leaks, so it is quantifiably acceptable to do this.</p>\n<p>Answers that direct the author of the question towards a 'workaround' are doing a massive disservice to the community. Testing is a major part of all engineering disciplines. You would not want to buy a car that is not properly tested, and tested in a meaningful way, so why would anyone want to buy or use software that is tested poorly? The reason people do this anyway is probably because the effects of badly tested software are felt way after the fact, and we don't usually associate them with bodily harm.</p>\n<p>This is a very dangerous perception which will be difficult to change, but it is our responsibility to deliver safe products regardless of what even management is bullying us to do. Think <a href=\"https://en.wikipedia.org/wiki/2017_Equifax_data_breach#Data_breach\" rel=\"nofollow noreferrer\">the Equifax hack</a>...</p>\n<p>We must strive to build an environment that encourages good software engineering practices. This does not mean ostracizing the weak/lazy among us who do not take their craft seriously, but rather, to create a status quo of accountability and self reflection that would encourage everyone to pursue growth, both mentally and skillfully.</p>\n<p>I am still learning, and may have wrong perceptions/opinions myself, but I do firmly believe that we need to hold ourselves accountable to good practices and shun irresponsible hacks or workarounds to problems.</p>\n"},{"comments":[{"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"score":0,"creation_date":1694701000,"post_id":47454552,"comment_id":135928436,"body_markdown":"Really like this option and need to evaluate if this works for me / us :)","body":"Really like this option and need to evaluate if this works for me / us :)"}],"tags":[],"owner":{"account_id":1687550,"reputation":3781,"user_id":1550509,"accept_rate":44,"display_name":"Android is everything for me"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669388091,"creation_date":1511436840,"answer_id":47454552,"question_id":34571,"body_markdown":"The best and proper legal way to test a Java private method from a test framework is the **@VisibleForTesting** annotation over the method, so the same method will be visible for the test framework like a public method.\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The best and proper legal way to test a Java private method from a test framework is the <strong>@VisibleForTesting</strong> annotation over the method, so the same method will be visible for the test framework like a public method.</p>\n"},{"comments":[{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1530801131,"post_id":48182688,"comment_id":89369253,"body_markdown":"Ouch. I guess it works fine, but I&#39;d prefer using friend declarations instead of messing around with #defines on such a basic level.","body":"Ouch. I guess it works fine, but I&#39;d prefer using friend declarations instead of messing around with #defines on such a basic level."},{"owner":{"account_id":4544875,"reputation":13139,"user_id":3691783,"accept_rate":100,"display_name":"Matt Messersmith"},"score":2,"creation_date":1534298303,"post_id":48182688,"comment_id":90656676,"body_markdown":"Yeah that&#39;ll work...but holy **** is that (likely) awful for your design","body":"Yeah that&#39;ll work...but holy **** is that (likely) awful for your design"},{"owner":{"account_id":19469,"reputation":35953,"user_id":45685,"accept_rate":100,"display_name":"AndersK"},"score":3,"creation_date":1551079146,"post_id":48182688,"comment_id":96492984,"body_markdown":"FYI this no longer works in VS2019, it is not allowed to use macros that way any longer.","body":"FYI this no longer works in VS2019, it is not allowed to use macros that way any longer."}],"tags":[],"owner":{"account_id":1142219,"reputation":868,"user_id":1125774,"display_name":"mohammad madani"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1669388138,"creation_date":1515571007,"answer_id":48182688,"question_id":34571,"body_markdown":"In [C++][1]: before including the class header that has a private function that you want to test.\r\n\r\nUse this code:\r\n\r\n```lang-cpp\r\n#define private public\r\n#define protected public\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C%2B%2B\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In <a href=\"https://en.wikipedia.org/wiki/C%2B%2B\" rel=\"nofollow noreferrer\">C++</a>: before including the class header that has a private function that you want to test.</p>\n<p>Use this code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#define private public\n#define protected public\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1669388181,"creation_date":1516824508,"answer_id":48430793,"question_id":34571,"body_markdown":"[PowerMockito][1] is made for this.\r\n\r\nUse a [Maven][2] dependency:\r\n\r\n```lang-xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThen you can do\r\n\r\n    import org.powermock.reflect.Whitebox;\r\n    ...\r\n    MyClass sut = new MyClass();\r\n    SomeType rval = Whitebox.invokeMethod(sut, &quot;myPrivateMethod&quot;, params, moreParams);\r\n\r\n  [1]: https://meta.stackexchange.com/questions/184108/what-is-syntax-highlighting-and-how-does-it-wok/184109#184109\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><a href=\"https://meta.stackexchange.com/questions/184108/what-is-syntax-highlighting-and-how-does-it-wok/184109#184109\">PowerMockito</a> is made for this.</p>\n<p>Use a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then you can do</p>\n<pre><code>import org.powermock.reflect.Whitebox;\n...\nMyClass sut = new MyClass();\nSomeType rval = Whitebox.invokeMethod(sut, &quot;myPrivateMethod&quot;, params, moreParams);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11399392,"reputation":179,"user_id":8356771,"accept_rate":75,"display_name":"HilaB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668791949,"creation_date":1530184772,"answer_id":51081607,"question_id":34571,"body_markdown":"My team and I are using Typemock, which has an API that allows you to [fake non-public methods][1].\r\n\r\nRecently they added the ability to [fake non-visible types][2] and to use [xUnit][3].\r\n\r\n  [1]: https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Fcontrollingnonpublicmethods.htm\r\n  [2]: https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Ffakingnonpublicobjects.htm\r\n  [3]: https://en.wikipedia.org/wiki/XUnit\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>My team and I are using Typemock, which has an API that allows you to <a href=\"https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Fcontrollingnonpublicmethods.htm\" rel=\"nofollow noreferrer\">fake non-public methods</a>.</p>\n<p>Recently they added the ability to <a href=\"https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Ffakingnonpublicobjects.htm\" rel=\"nofollow noreferrer\">fake non-visible types</a> and to use <a href=\"https://en.wikipedia.org/wiki/XUnit\" rel=\"nofollow noreferrer\">xUnit</a>.</p>\n"},{"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669388375,"creation_date":1537609671,"answer_id":52455476,"question_id":34571,"body_markdown":"If you have a case where you really need to test a private method/class etc.. directly, you can use reflection as already mentioned in other answers. However if it comes to that, instead of dealing directly with reflection I&#39;d rather use utility classes provided by your framework. For instance, for Java we have:\r\n\r\n - [ReflectionUtils][1] in [Spring Framework][2]\r\n\r\n - [ReflectionUtils][3] in [JUnit][4]\r\n\r\nAs per how to use them, you can find plenty of articles online. Here one that I particularly liked:\r\n\r\n - [Java Code Examples for org.springframework.util.ReflectionUtils][5]\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html\r\n  [2]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [3]: https://junit.org/junit5/docs/5.0.3/api/org/junit/platform/commons/util/ReflectionUtils.html\r\n  [4]: https://en.wikipedia.org/wiki/JUnit\r\n  [5]: https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.util.ReflectionUtils\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you have a case where you really need to test a private method/class etc.. directly, you can use reflection as already mentioned in other answers. However if it comes to that, instead of dealing directly with reflection I'd rather use utility classes provided by your framework. For instance, for Java we have:</p>\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html\" rel=\"nofollow noreferrer\">ReflectionUtils</a> in <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring Framework</a></p>\n</li>\n<li><p><a href=\"https://junit.org/junit5/docs/5.0.3/api/org/junit/platform/commons/util/ReflectionUtils.html\" rel=\"nofollow noreferrer\">ReflectionUtils</a> in <a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">JUnit</a></p>\n</li>\n</ul>\n<p>As per how to use them, you can find plenty of articles online. Here one that I particularly liked:</p>\n<ul>\n<li><a href=\"https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.util.ReflectionUtils\" rel=\"nofollow noreferrer\">Java Code Examples for org.springframework.util.ReflectionUtils</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"score":0,"creation_date":1694701091,"post_id":53768967,"comment_id":135928459,"body_markdown":"Also i like this option and need to evaluate how it feels in the code itself. Unfortunately not all colleges use intelliJ but some also uses Eclipse or VSCode. So probably this Annotation is not an option ./","body":"Also i like this option and need to evaluate how it feels in the code itself. Unfortunately not all colleges use intelliJ but some also uses Eclipse or VSCode. So probably this Annotation is not an option ./"}],"tags":[],"owner":{"account_id":10344385,"reputation":1140,"user_id":7629797,"display_name":"Louis Saglio"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1544730020,"creation_date":1544730020,"answer_id":53768967,"question_id":34571,"body_markdown":"You can create a special public method to proxy the private method to test.\r\nThe @TestOnly annotation is out of the box available when using IntelliJ.\r\nThe downside is is that if somebody want to to use the private method in a public context, he can do it. But he will be warned by the annotation and the method name. On IntelliJ a warning will appear when doing it.\r\n\r\n    import org.jetbrains.annotations.TestOnly\r\n\r\n    class MyClass {\r\n    \r\n        private void aPrivateMethod() {}\r\n\r\n        @TestOnly\r\n        public void aPrivateMethodForTest() {\r\n            aPrivateMethod()\r\n        }\r\n    }","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can create a special public method to proxy the private method to test.\nThe @TestOnly annotation is out of the box available when using IntelliJ.\nThe downside is is that if somebody want to to use the private method in a public context, he can do it. But he will be warned by the annotation and the method name. On IntelliJ a warning will appear when doing it.</p>\n\n<pre><code>import org.jetbrains.annotations.TestOnly\n\nclass MyClass {\n\n    private void aPrivateMethod() {}\n\n    @TestOnly\n    public void aPrivateMethodForTest() {\n        aPrivateMethod()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5412696,"reputation":2669,"user_id":4308897,"display_name":"Ercan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670463759,"creation_date":1554798212,"answer_id":55588184,"question_id":34571,"body_markdown":"There is another approach to test your private methods.\r\n\r\nIf you &quot;enable assertion&quot; in run configurations then you can unit test your method inside the method itself. For example;\r\n\r\n    assert (&quot;Ercan&quot;.equals(person1.name));\r\n    assert (Person.count == 2);","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>There is another approach to test your private methods.</p>\n<p>If you &quot;enable assertion&quot; in run configurations then you can unit test your method inside the method itself. For example;</p>\n<pre><code>assert (&quot;Ercan&quot;.equals(person1.name));\nassert (Person.count == 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670464487,"creation_date":1557671253,"answer_id":56100192,"question_id":34571,"body_markdown":"`PowerMock.Whitebox` is the best option I have seen, but when I read its source code, it reads private fields with reflection, so I think I have my answer:\r\n\r\n - test private internal states (fields) with [PowerMock][1], or just reflection without the overhead of introducing another independency\r\n\r\n - for private methods: actually, the upvote for this question itself, and the huge number of comments and answers, shows that it is a very concurrent and controversial topic **where no definite answer could be given to suit every circumstance**. I understand that only the contract should be tested, but we also have coverage to consider. Actually, **I doubt that only testing contracts will 100% make a class immune to errors**. Private methods are those who process data in the class where it is defined and thus does not interest other classes, so we cannot simply expose to make it testable. I will **try not to test them**, but when you have to, **just go for it and forget all the answers here**. You know better your situation and restrictions than any other one on the Internet. When you have control over your code, use that. With consideration, but without overthinking.\r\n\r\n---\r\n\r\nAfter some time, when I reconsider it, I still believe this is true, but I saw better approaches.\r\n\r\nFirst of all, `Powermock.Whitebox` is still usable.\r\n\r\nAnd, Mockito `Whitebox` has been hidden after v2 (the latest version I can find with `Whitebox` is `testImplementation &#39;org.mockito:mockito-core:1.10.19&#39;`) and it has always been part of `org.mockito.internal` package, which is prone of breaking changes in the future (see [this post](https://stackoverflow.com/questions/40280918/what-do-i-use-instead-of-whitebox-in-mockito-2-2-to-set-fields)). So now I tend not to use it.\r\n\r\nIn [Gradle][2]/[Maven][3] projects, if you define private methods or fields, there aren&#39;t any other ways than reflection to get access to them, so the first part stays true. But, if you change the visibility to &quot;package private&quot;, **the tests following the same structure in `test` package will have access to them.** That is also another important reason why we are encouraged to create the same hierarchy in `main` and `test` package. So, when you have control over production code as well as tests, delete that `private` access modifier may be the best option for you because relatively it does not cause huge impact. And, that makes testing as well as **private method spying** possible.\r\n\r\n```java\r\n@Autowired\r\nprivate SomeService service; // With a package private method &quot;doSomething()&quot;\r\n\r\n@Test\r\nvoid shouldReturnTrueDoSomething() {\r\n    assertThat(doSomething(input), is(true)); // Package private method testing\r\n}\r\n\r\n@Test\r\nvoid shouldReturnTrueWhenServiceThrowsException() {\r\n    SomeService spy = Mockito.spy(service); // Spying real object\r\n    doThrow(new AppException()).when(spy).doSomething(input); // Spy package private method\r\n    ...\r\n\r\n}\r\n```\r\n\r\nWhen it comes to internal fields, in [Spring][4] you have `ReflectionUtils.setField()`.\r\n\r\nAt last, sometimes we can bypass the problem itself: if there is a coverage requirement to meet, maybe you can move these private methods into an inner static class and ignore this class in Jacoco. I just found some way to ignore the inner class in Jacoco Gradle tasks. [Another question][5].\r\n\r\n  [1]: https://de.wikipedia.org/wiki/PowerMock\r\n  [2]: https://en.wikipedia.org/wiki/Gradle\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [4]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [5]: https://stackoverflow.com/questions/58604955/how-to-ignore-inner-static-classes-in-jacoco-when-using-gradle\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><code>PowerMock.Whitebox</code> is the best option I have seen, but when I read its source code, it reads private fields with reflection, so I think I have my answer:</p>\n<ul>\n<li><p>test private internal states (fields) with <a href=\"https://de.wikipedia.org/wiki/PowerMock\" rel=\"nofollow noreferrer\">PowerMock</a>, or just reflection without the overhead of introducing another independency</p>\n</li>\n<li><p>for private methods: actually, the upvote for this question itself, and the huge number of comments and answers, shows that it is a very concurrent and controversial topic <strong>where no definite answer could be given to suit every circumstance</strong>. I understand that only the contract should be tested, but we also have coverage to consider. Actually, <strong>I doubt that only testing contracts will 100% make a class immune to errors</strong>. Private methods are those who process data in the class where it is defined and thus does not interest other classes, so we cannot simply expose to make it testable. I will <strong>try not to test them</strong>, but when you have to, <strong>just go for it and forget all the answers here</strong>. You know better your situation and restrictions than any other one on the Internet. When you have control over your code, use that. With consideration, but without overthinking.</p>\n</li>\n</ul>\n<hr />\n<p>After some time, when I reconsider it, I still believe this is true, but I saw better approaches.</p>\n<p>First of all, <code>Powermock.Whitebox</code> is still usable.</p>\n<p>And, Mockito <code>Whitebox</code> has been hidden after v2 (the latest version I can find with <code>Whitebox</code> is <code>testImplementation 'org.mockito:mockito-core:1.10.19'</code>) and it has always been part of <code>org.mockito.internal</code> package, which is prone of breaking changes in the future (see <a href=\"https://stackoverflow.com/questions/40280918/what-do-i-use-instead-of-whitebox-in-mockito-2-2-to-set-fields\">this post</a>). So now I tend not to use it.</p>\n<p>In <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>/<a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> projects, if you define private methods or fields, there aren't any other ways than reflection to get access to them, so the first part stays true. But, if you change the visibility to &quot;package private&quot;, <strong>the tests following the same structure in <code>test</code> package will have access to them.</strong> That is also another important reason why we are encouraged to create the same hierarchy in <code>main</code> and <code>test</code> package. So, when you have control over production code as well as tests, delete that <code>private</code> access modifier may be the best option for you because relatively it does not cause huge impact. And, that makes testing as well as <strong>private method spying</strong> possible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate SomeService service; // With a package private method &quot;doSomething()&quot;\n\n@Test\nvoid shouldReturnTrueDoSomething() {\n    assertThat(doSomething(input), is(true)); // Package private method testing\n}\n\n@Test\nvoid shouldReturnTrueWhenServiceThrowsException() {\n    SomeService spy = Mockito.spy(service); // Spying real object\n    doThrow(new AppException()).when(spy).doSomething(input); // Spy package private method\n    ...\n\n}\n</code></pre>\n<p>When it comes to internal fields, in <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a> you have <code>ReflectionUtils.setField()</code>.</p>\n<p>At last, sometimes we can bypass the problem itself: if there is a coverage requirement to meet, maybe you can move these private methods into an inner static class and ignore this class in Jacoco. I just found some way to ignore the inner class in Jacoco Gradle tasks. <a href=\"https://stackoverflow.com/questions/58604955/how-to-ignore-inner-static-classes-in-jacoco-when-using-gradle\">Another question</a>.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670464852,"creation_date":1562946652,"answer_id":57010282,"question_id":34571,"body_markdown":"Android has the [`@VisibleForTesting`][1] annotation from `android.support.annotation` package.\r\n\r\n&gt; The `@VisibleForTesting` annotation indicates that an annotated method is more visible than normally necessary to make the method testable. This annotation has an optional `otherwise` argument that lets you designate what the visibility of the method should have been if not for the need to make it visible for testing. Lint uses the `otherwise` argument to enforce the intended visibility.\r\n\r\nIn practice, it means that you should make a method open for testing and the `@VisibleForTesting` annotation will show a warning.\r\n\r\nFor example\r\n\r\n    package com.mypackage;\r\n\r\n    public class ClassA {\r\n\r\n        @VisibleForTesting(otherwise = VisibleForTesting.PRIVATE)\r\n        static void myMethod() {\r\n\r\n        }\r\n    }\r\n\r\nAnd when you call ClassA.myMethod() within the same package(com.mypackage) you will see the warning.\r\n\r\n[![Enter image description here][2]][2]\r\n\r\n  [1]: https://developer.android.com/studio/write/annotations.html#visible\r\n  [2]: https://i.stack.imgur.com/25FX3.png\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Android has the <a href=\"https://developer.android.com/studio/write/annotations.html#visible\" rel=\"nofollow noreferrer\"><code>@VisibleForTesting</code></a> annotation from <code>android.support.annotation</code> package.</p>\n<blockquote>\n<p>The <code>@VisibleForTesting</code> annotation indicates that an annotated method is more visible than normally necessary to make the method testable. This annotation has an optional <code>otherwise</code> argument that lets you designate what the visibility of the method should have been if not for the need to make it visible for testing. Lint uses the <code>otherwise</code> argument to enforce the intended visibility.</p>\n</blockquote>\n<p>In practice, it means that you should make a method open for testing and the <code>@VisibleForTesting</code> annotation will show a warning.</p>\n<p>For example</p>\n<pre><code>package com.mypackage;\n\npublic class ClassA {\n\n    @VisibleForTesting(otherwise = VisibleForTesting.PRIVATE)\n    static void myMethod() {\n\n    }\n}\n</code></pre>\n<p>And when you call ClassA.myMethod() within the same package(com.mypackage) you will see the warning.</p>\n<p><a href=\"https://i.stack.imgur.com/25FX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25FX3.png\" alt=\"Enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":6184247,"reputation":1015,"user_id":4818802,"accept_rate":79,"display_name":"Xeverous"},"score":0,"creation_date":1566844658,"post_id":57514468,"comment_id":101775295,"body_markdown":"There is also a template trick which allows to get to private members (through some pointer indirection IIRC) or just `-fno-access-control` (which just ignores `private` and `protected` restrictions).","body":"There is also a template trick which allows to get to private members (through some pointer indirection IIRC) or just <code>-fno-access-control</code> (which just ignores <code>private</code> and <code>protected</code> restrictions)."}],"tags":[],"owner":{"account_id":3483592,"reputation":4765,"user_id":2915032,"accept_rate":100,"display_name":"avtomaton"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565894467,"creation_date":1565893963,"answer_id":57514468,"question_id":34571,"body_markdown":"For C++ (since C++11) adding the test class as a friend works perfectly and does not break production encapsulation.\r\n\r\nLet&#39;s suppose that we have some class `Foo` with some private functions which really require testing, and some class `FooTest` that should have access to Foo&#39;s private members. Then we should write the following:\r\n\r\n```\r\n// prod.h: some production code header\r\n\r\n// forward declaration is enough\r\n// we should not include testing headers into production code\r\nclass FooTest;\r\n\r\nclass Foo\r\n{\r\n  // that does not affect Foo&#39;s functionality\r\n  // but now we have access to Foo&#39;s members from FooTest\r\n  friend FooTest;\r\npublic:\r\n  Foo();\r\nprivate:\r\n  bool veryComplicatedPrivateFuncThatReallyRequiresTesting();\r\n}\r\n```\r\n\r\n```\r\n// test.cpp: some test\r\n#include &lt;prod.h&gt;\r\n\r\nclass FooTest\r\n{\r\npublic:\r\n  void complicatedFisture() {\r\n    Foo foo;\r\n    ASSERT_TRUE(foo.veryComplicatedPrivateFuncThatReallyRequiresTesting());\r\n  }\r\n}\r\n\r\nint main(int /*argc*/, char* argv[])\r\n{\r\n  FooTest test;\r\n  test.complicatedFixture();  // and it really works!\r\n}\r\n```","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>For C++ (since C++11) adding the test class as a friend works perfectly and does not break production encapsulation.</p>\n\n<p>Let's suppose that we have some class <code>Foo</code> with some private functions which really require testing, and some class <code>FooTest</code> that should have access to Foo's private members. Then we should write the following:</p>\n\n<pre><code>// prod.h: some production code header\n\n// forward declaration is enough\n// we should not include testing headers into production code\nclass FooTest;\n\nclass Foo\n{\n  // that does not affect Foo's functionality\n  // but now we have access to Foo's members from FooTest\n  friend FooTest;\npublic:\n  Foo();\nprivate:\n  bool veryComplicatedPrivateFuncThatReallyRequiresTesting();\n}\n</code></pre>\n\n<pre><code>// test.cpp: some test\n#include &lt;prod.h&gt;\n\nclass FooTest\n{\npublic:\n  void complicatedFisture() {\n    Foo foo;\n    ASSERT_TRUE(foo.veryComplicatedPrivateFuncThatReallyRequiresTesting());\n  }\n}\n\nint main(int /*argc*/, char* argv[])\n{\n  FooTest test;\n  test.complicatedFixture();  // and it really works!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571406813,"creation_date":1571406813,"answer_id":58452308,"question_id":34571,"body_markdown":"The following **Reflection TestUtil** could be ***used generically*** to test the ***private methods for their atomicity***.\r\n\r\n\r\n\r\n\r\n    import com.google.common.base.Preconditions;\r\n    \r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    \r\n    /**\r\n     * &lt;p&gt;\r\n     * Invoker\r\n     * &lt;/p&gt;\r\n     *\r\n     * @author\r\n     * @created Oct-10-2019\r\n     */\r\n    public class Invoker {\r\n        private Object target;\r\n        private String methodName;\r\n        private Object[] arguments;\r\n    \r\n        public &lt;T&gt; T invoke() {\r\n            try {\r\n                Preconditions.checkNotNull(target, &quot;Target cannot be empty&quot;);\r\n                Preconditions.checkNotNull(methodName, &quot;MethodName cannot be empty&quot;);\r\n                if (null == arguments) {\r\n                    return ReflectionTestUtils.invokeMethod(target, methodName);\r\n                } else {\r\n                    return ReflectionTestUtils.invokeMethod(target, methodName, arguments);\r\n                }\r\n            } catch (Exception e) {\r\n               throw e;\r\n            }\r\n        }\r\n    \r\n        public Invoker withTarget(Object target) {\r\n            this.target = target;\r\n            return this;\r\n        }\r\n    \r\n        public Invoker withMethod(String methodName) {\r\n            this.methodName = methodName;\r\n            return this;\r\n        }\r\n    \r\n        public Invoker withArguments(Object... args) {\r\n            this.arguments = args;\r\n            return this;\r\n        }\r\n    \r\n    }\r\n    \r\n    Object privateMethodResponse = new Invoker()\r\n      .withTarget(targetObject)\r\n      .withMethod(PRIVATE_METHOD_NAME_TO_INVOKE)\r\n      .withArguments(arg1, arg2, arg3)\r\n      .invoke();\r\n    Assert.assertNotNutll(privateMethodResponse)\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The following <strong>Reflection TestUtil</strong> could be <strong><em>used generically</em></strong> to test the <strong><em>private methods for their atomicity</em></strong>.</p>\n\n<pre><code>import com.google.common.base.Preconditions;\n\nimport org.springframework.test.util.ReflectionTestUtils;\n\n/**\n * &lt;p&gt;\n * Invoker\n * &lt;/p&gt;\n *\n * @author\n * @created Oct-10-2019\n */\npublic class Invoker {\n    private Object target;\n    private String methodName;\n    private Object[] arguments;\n\n    public &lt;T&gt; T invoke() {\n        try {\n            Preconditions.checkNotNull(target, \"Target cannot be empty\");\n            Preconditions.checkNotNull(methodName, \"MethodName cannot be empty\");\n            if (null == arguments) {\n                return ReflectionTestUtils.invokeMethod(target, methodName);\n            } else {\n                return ReflectionTestUtils.invokeMethod(target, methodName, arguments);\n            }\n        } catch (Exception e) {\n           throw e;\n        }\n    }\n\n    public Invoker withTarget(Object target) {\n        this.target = target;\n        return this;\n    }\n\n    public Invoker withMethod(String methodName) {\n        this.methodName = methodName;\n        return this;\n    }\n\n    public Invoker withArguments(Object... args) {\n        this.arguments = args;\n        return this;\n    }\n\n}\n\nObject privateMethodResponse = new Invoker()\n  .withTarget(targetObject)\n  .withMethod(PRIVATE_METHOD_NAME_TO_INVOKE)\n  .withArguments(arg1, arg2, arg3)\n  .invoke();\nAssert.assertNotNutll(privateMethodResponse)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281059,"reputation":57,"user_id":4458900,"display_name":"backcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668790967,"creation_date":1579141772,"answer_id":59762243,"question_id":34571,"body_markdown":"If you are only using [Mockito][1]:\r\n\r\nYou can consider the private method as a part of public method being tested. You can make sure you cover all the cases in private method when testing public method.\r\n\r\nSuppose you are a Mockito-only user (you are not allowed or don&#39;t want to use [PowerMock][2] or reflection or any such tools) and you dont want to change the existing code or libraries being tested, this might be the best way.\r\n\r\nThe only thing you need to handle if you choose this way is the variables (user-defined objects) declared locally within private methods.  If the private method depends on locally declared variable objects and their methods, make sure you declare those user-defined objects globally as private object instead of locally declared objects. You can instantiate these objects locally.\r\n\r\nThis allows you to [mock][3] these objects and inject them back to testing object. You can also mock (using when/then) their methods.\r\n\r\nThis will allow you test private method without errors when testing the public method.\r\n\r\nAdvantages\r\n\r\n1. Code coverage\r\n2. Able to test the complete private method.\r\n\r\nDisadvantages\r\n\r\n1. Scope of the object&amp;mdash;if you don&#39;t want the object to be exposed to other methods within same class, this might not be your way.\r\n2. You might end up testing the private method multiple times when invoked at different public methods and/or in the same method multiple times.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mockito\r\n  [2]: https://de.wikipedia.org/wiki/PowerMock\r\n  [3]: https://en.wikipedia.org/wiki/Mock_object\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you are only using <a href=\"https://en.wikipedia.org/wiki/Mockito\" rel=\"nofollow noreferrer\">Mockito</a>:</p>\n<p>You can consider the private method as a part of public method being tested. You can make sure you cover all the cases in private method when testing public method.</p>\n<p>Suppose you are a Mockito-only user (you are not allowed or don't want to use <a href=\"https://de.wikipedia.org/wiki/PowerMock\" rel=\"nofollow noreferrer\">PowerMock</a> or reflection or any such tools) and you dont want to change the existing code or libraries being tested, this might be the best way.</p>\n<p>The only thing you need to handle if you choose this way is the variables (user-defined objects) declared locally within private methods.  If the private method depends on locally declared variable objects and their methods, make sure you declare those user-defined objects globally as private object instead of locally declared objects. You can instantiate these objects locally.</p>\n<p>This allows you to <a href=\"https://en.wikipedia.org/wiki/Mock_object\" rel=\"nofollow noreferrer\">mock</a> these objects and inject them back to testing object. You can also mock (using when/then) their methods.</p>\n<p>This will allow you test private method without errors when testing the public method.</p>\n<p>Advantages</p>\n<ol>\n<li>Code coverage</li>\n<li>Able to test the complete private method.</li>\n</ol>\n<p>Disadvantages</p>\n<ol>\n<li>Scope of the objectif you don't want the object to be exposed to other methods within same class, this might not be your way.</li>\n<li>You might end up testing the private method multiple times when invoked at different public methods and/or in the same method multiple times.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670463881,"creation_date":1584121344,"answer_id":60675043,"question_id":34571,"body_markdown":"Use this utility class if you are on [Spring][1]:\r\n\r\n    ReflectionTestUtils.invokeMethod(new ClassName(), &quot;privateMethodName&quot;);\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Use this utility class if you are on <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a>:</p>\n<pre><code>ReflectionTestUtils.invokeMethod(new ClassName(), &quot;privateMethodName&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"score":0,"creation_date":1640187838,"post_id":62632701,"comment_id":124537311,"body_markdown":"question is about java-this answer is for C++","body":"question is about java-this answer is for C++"}],"tags":[],"owner":{"account_id":9827336,"reputation":725,"user_id":7280140,"accept_rate":56,"display_name":"Ahmed Hussein"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1593413584,"creation_date":1593413584,"answer_id":62632701,"question_id":34571,"body_markdown":"In your class:\r\n\r\n    namespace my_namespace {\r\n        #ifdef UNIT_TEST\r\n            class test_class;\r\n        #endif\r\n\r\n        class my_class {\r\n            public:\r\n                #ifdef UNIT_TEST\r\n                    friend class test_class;\r\n                #endif\r\n            private:\r\n                void fun() { cout &lt;&lt; &quot;I am private&quot; &lt;&lt; endl; }\r\n        }\r\n    }\r\n\r\nIn your unit test class:\r\n\r\n    #ifndef UNIT_TEST\r\n        #define UNIT_TEST\r\n    #endif\r\n\r\n    #include &quot;my_class.h&quot;\r\n \r\n    class my_namespace::test_class {\r\n        public:\r\n            void fun() { my_obj.fun(); }\r\n        private:\r\n            my_class my_obj;\r\n    }\r\n\r\n    void my_unit_test() {\r\n        test_class test_obj;\r\n        test_obj.fun(); // here you accessed the private function ;)\r\n    }\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In your class:</p>\n<pre><code>namespace my_namespace {\n    #ifdef UNIT_TEST\n        class test_class;\n    #endif\n\n    class my_class {\n        public:\n            #ifdef UNIT_TEST\n                friend class test_class;\n            #endif\n        private:\n            void fun() { cout &lt;&lt; &quot;I am private&quot; &lt;&lt; endl; }\n    }\n}\n</code></pre>\n<p>In your unit test class:</p>\n<pre><code>#ifndef UNIT_TEST\n    #define UNIT_TEST\n#endif\n\n#include &quot;my_class.h&quot;\n\nclass my_namespace::test_class {\n    public:\n        void fun() { my_obj.fun(); }\n    private:\n        my_class my_obj;\n}\n\nvoid my_unit_test() {\n    test_class test_obj;\n    test_obj.fun(); // here you accessed the private function ;)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668790461,"post_id":63069114,"comment_id":131499640,"body_markdown":"The text is ***incomprehensible*** (use of [machine translation](https://en.wikipedia.org/wiki/Google_Translate)?). Can you [fix it](https://stackoverflow.com/posts/63069114/edit)? (But ************** ***without*** ************** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today.)","body":"The text is <b><i>incomprehensible</i></b> (use of <a href=\"https://en.wikipedia.org/wiki/Google_Translate\" rel=\"nofollow noreferrer\">machine translation</a>?). Can you <a href=\"https://stackoverflow.com/posts/63069114/edit\">fix it</a>? (But ************** <b><i>without</i></b> ************** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today.)"}],"tags":[],"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668999884,"creation_date":1595576782,"answer_id":63069114,"question_id":34571,"body_markdown":"Here is my [Lombok][1] sample:\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\r\n        Student student = new Student();\r\n\r\n        Field privateFieldName = Student.class.getDeclaredField(&quot;name&quot;);\r\n        privateFieldName.setAccessible(true);\r\n        privateFieldName.set(student, &quot;Naruto&quot;);\r\n\r\n        Field privateFieldAge = Student.class.getDeclaredField(&quot;age&quot;);\r\n        privateFieldAge.setAccessible(true);\r\n        privateFieldAge.set(student, &quot;28&quot;);\r\n\r\n        System.out.println(student.toString());\r\n\r\n        Method privateMethodGetInfo = Student.class.getDeclaredMethod(&quot;getInfo&quot;, String.class, String.class);\r\n        privateMethodGetInfo.setAccessible(true);\r\n        System.out.println(privateMethodGetInfo.invoke(student, &quot;Sasuke&quot;, &quot;29&quot;));\r\n    }\r\n\r\n\r\n    @Setter\r\n    @Getter\r\n    @ToString\r\n    class Student {\r\n        private String name;\r\n        private String age;\r\n        \r\n        private String getInfo(String name, String age) {\r\n            return name + &quot;-&quot; + age;\r\n        }\r\n    }\r\n\r\n  [1]: https://projectlombok.org/features/\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Here is my <a href=\"https://projectlombok.org/features/\" rel=\"nofollow noreferrer\">Lombok</a> sample:</p>\n<pre><code>public static void main(String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\n    Student student = new Student();\n\n    Field privateFieldName = Student.class.getDeclaredField(&quot;name&quot;);\n    privateFieldName.setAccessible(true);\n    privateFieldName.set(student, &quot;Naruto&quot;);\n\n    Field privateFieldAge = Student.class.getDeclaredField(&quot;age&quot;);\n    privateFieldAge.setAccessible(true);\n    privateFieldAge.set(student, &quot;28&quot;);\n\n    System.out.println(student.toString());\n\n    Method privateMethodGetInfo = Student.class.getDeclaredMethod(&quot;getInfo&quot;, String.class, String.class);\n    privateMethodGetInfo.setAccessible(true);\n    System.out.println(privateMethodGetInfo.invoke(student, &quot;Sasuke&quot;, &quot;29&quot;));\n}\n\n\n@Setter\n@Getter\n@ToString\nclass Student {\n    private String name;\n    private String age;\n    \n    private String getInfo(String name, String age) {\n        return name + &quot;-&quot; + age;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17380199,"reputation":21,"user_id":12592592,"display_name":"Rinke"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670463955,"creation_date":1618262353,"answer_id":67065816,"question_id":34571,"body_markdown":"I think most answers are too crude. It depends on your code if you should test private methods or not.\r\n\r\nI used private method testing in the past, and I did this by reflection. It works for me. I realize the problems with it, but for me it was the best solution.\r\n\r\nI have a heavy application that simulates human behaviour in a population of over a million persons. Every person is represented by an object. The main purpose of the application is to follow how something (disease, information, ideas) spreads through the population.\r\n\r\nFor this I have methods that pass on the disease or information from one object to another. There is absolutely no reason to make these methods public, for the end user is not interested in one pass from person to person. The end user is only interested in the grand picture of how it spreads through the population. So those methods are private.\r\n\r\nBut I want to know for sure if the single act of passing one bit of information from one person to another is doing what it should. Testing it via public user interfaces is also not possible, because it&#39;s just not public, and I think it&#39;s awkward to make it public just for the purpose of testing. The end output of the application is defined by hundreds of millions of such single steps being performed all the time. I cannot test the end output either, because that has complicated stochastability involved, which makes it too unpredictable to test.\r\n\r\nSo the way for me to test the application is by testing a single step of passing information from one person to another person. These are all private methods. And so I use reflection to test that.\r\n\r\nI&#39;m telling this story to show that it&#39;s not that plain black and white story. It depends on your application what is best. Under some circumstances, testing private methods via reflection might be your best option.\r\n\r\nIf some people here know better solutions in my use case, I&#39;d happily stand corrected of course....\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I think most answers are too crude. It depends on your code if you should test private methods or not.</p>\n<p>I used private method testing in the past, and I did this by reflection. It works for me. I realize the problems with it, but for me it was the best solution.</p>\n<p>I have a heavy application that simulates human behaviour in a population of over a million persons. Every person is represented by an object. The main purpose of the application is to follow how something (disease, information, ideas) spreads through the population.</p>\n<p>For this I have methods that pass on the disease or information from one object to another. There is absolutely no reason to make these methods public, for the end user is not interested in one pass from person to person. The end user is only interested in the grand picture of how it spreads through the population. So those methods are private.</p>\n<p>But I want to know for sure if the single act of passing one bit of information from one person to another is doing what it should. Testing it via public user interfaces is also not possible, because it's just not public, and I think it's awkward to make it public just for the purpose of testing. The end output of the application is defined by hundreds of millions of such single steps being performed all the time. I cannot test the end output either, because that has complicated stochastability involved, which makes it too unpredictable to test.</p>\n<p>So the way for me to test the application is by testing a single step of passing information from one person to another person. These are all private methods. And so I use reflection to test that.</p>\n<p>I'm telling this story to show that it's not that plain black and white story. It depends on your application what is best. Under some circumstances, testing private methods via reflection might be your best option.</p>\n<p>If some people here know better solutions in my use case, I'd happily stand corrected of course....</p>\n"},{"comments":[{"owner":{"account_id":487587,"reputation":3346,"user_id":1375292,"accept_rate":67,"display_name":"Troy Daniels"},"score":1,"creation_date":1639685153,"post_id":67122309,"comment_id":124419009,"body_markdown":"While this is a good principle, another is that the code should be testable.  If the transformation the code should do is simple to understand and break down into small pieces (something like parsing JSON), testing the public API should be sufficient.  If the code does several complicated calculations to produce its final result (e.g., a Kalman Filter) then being able to test the individual steps in the algorithm can make it easier to test.  In particular, testing the private methods can indicate where the problem is.","body":"While this is a good principle, another is that the code should be testable.  If the transformation the code should do is simple to understand and break down into small pieces (something like parsing JSON), testing the public API should be sufficient.  If the code does several complicated calculations to produce its final result (e.g., a Kalman Filter) then being able to test the individual steps in the algorithm can make it easier to test.  In particular, testing the private methods can indicate where the problem is."}],"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"Saa"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1668790025,"creation_date":1618563971,"answer_id":67122309,"question_id":34571,"body_markdown":"I want to share a rule I have about testing which particularly is related to this topic:\r\n\r\n&gt; I think that you should never adapt production code in order to\r\n&gt; indulge easer writing of tests.\r\n\r\n*There are a few suggestions in other posts saying you should adapt the original class in order to test a private method - please red this warning first.*\r\n\r\nIf we change the accessibility of a method/field to package private or protected, just in order to have it accessible to tests, then we defeat the purpose of existence of private access directive.\r\n\r\nWhy should we have private fields/methods/classes at all when we want to have [test-driven development][1]? Should we declare everything as package private, or even public then, so we can test without any effort?&amp;mdash;I don&#39;t think so.\r\n\r\nFrom another point of view: *Tests should not burden performance and execution of the production application.*\r\n\r\nIf we change production code just for the sake of easier testing, that may burden performance and the execution of the application in some way.\r\n\r\nIf someone starts to change private access to package private, then a developer may eventually come up to other &quot;ingenious ideas&quot; about adding even more code to the original class. This would make additional noise to readability and can burden the performance of the application.\r\n\r\nWith changing of a private access to some less restrictive, we are opening the possibility to a developer for misusing the new situation in the future development of the application. Instead of enforcing him/her to develop in the proper way, we are tempting him/her with new possibilities and giving him ability to make wrong choices in the future.\r\n\r\nOf course there might be a few exceptions to this rule, but with clear understanding, what is the rule and what is the exception? We need to be absolutely sure we know why that kind of exception is introduced.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test-driven_development\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I want to share a rule I have about testing which particularly is related to this topic:</p>\n<blockquote>\n<p>I think that you should never adapt production code in order to\nindulge easer writing of tests.</p>\n</blockquote>\n<p><em>There are a few suggestions in other posts saying you should adapt the original class in order to test a private method - please red this warning first.</em></p>\n<p>If we change the accessibility of a method/field to package private or protected, just in order to have it accessible to tests, then we defeat the purpose of existence of private access directive.</p>\n<p>Why should we have private fields/methods/classes at all when we want to have <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow noreferrer\">test-driven development</a>? Should we declare everything as package private, or even public then, so we can test without any effort?I don't think so.</p>\n<p>From another point of view: <em>Tests should not burden performance and execution of the production application.</em></p>\n<p>If we change production code just for the sake of easier testing, that may burden performance and the execution of the application in some way.</p>\n<p>If someone starts to change private access to package private, then a developer may eventually come up to other &quot;ingenious ideas&quot; about adding even more code to the original class. This would make additional noise to readability and can burden the performance of the application.</p>\n<p>With changing of a private access to some less restrictive, we are opening the possibility to a developer for misusing the new situation in the future development of the application. Instead of enforcing him/her to develop in the proper way, we are tempting him/her with new possibilities and giving him ability to make wrong choices in the future.</p>\n<p>Of course there might be a few exceptions to this rule, but with clear understanding, what is the rule and what is the exception? We need to be absolutely sure we know why that kind of exception is introduced.</p>\n"},{"comments":[{"owner":{"account_id":5437583,"reputation":409,"user_id":4326584,"display_name":"xyman"},"score":1,"creation_date":1693582914,"post_id":70938111,"comment_id":135784768,"body_markdown":"I completely agree with you.  One of the typical programming patterns is to have small public methods that deals with high level logic and offloads heavier logic(implementation details) to private methods like in your example. Such private logic would be in most cases nightmare to test through public parent method, and for those situations reflection is obvious choice. Changing visibility modifiers to make code testable is crazy when you have the adequate tooling to test code without changeing contract. Reflection in this case is completely justified in my opinion!","body":"I completely agree with you.  One of the typical programming patterns is to have small public methods that deals with high level logic and offloads heavier logic(implementation details) to private methods like in your example. Such private logic would be in most cases nightmare to test through public parent method, and for those situations reflection is obvious choice. Changing visibility modifiers to make code testable is crazy when you have the adequate tooling to test code without changeing contract. Reflection in this case is completely justified in my opinion!"}],"tags":[],"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668789778,"creation_date":1643707352,"answer_id":70938111,"question_id":34571,"body_markdown":"I feel exactly the same ... change the access modifier for a method just to be able to run a test looks for me as a bad idea. Also in our company we had a lot of discussions about it and in my opinion, really nice way to test a private method is to using Java reflection or another framework which making the method testable. I did so multiple times for complex private methods and this helped me to keep the test small, readable and maintainable.\r\n\r\nAfter I have read all the answers here, I just disagree with persons who say &quot;if you need to test a private method, then there is a code smell&quot; or even &quot;don&#180;t test private methods&quot; ... so I have a little example for you:\r\n\r\nImagine I have a class with one public method and a couple of private methods:\r\n\r\n    public class ConwaysGameOfLife {\r\n\r\n        private boolean[][] generationData = new boolean[128][128];\r\n\r\n        /**\r\n         * Compute the next generation and return the new state\r\n         * Also saving the new state in generationData\r\n         */\r\n        public boolean[][] computeNextGeneration() {\r\n            boolean[][] tempData = new boolean[128][128];\r\n\r\n            for (int yPos=0; yPos&lt;=generationData.length; yPos++) {\r\n                for (int xPos=0; xPos&lt;=generationData[yPos].length; xPos++) {\r\n                    int neighbors = countNeighbors(yPos, xPos);\r\n                    tempData[yPos][xPos] = determineCellState(neighbors, yPos, xPos);\r\n                }\r\n            }\r\n\r\n            generationData = tempData;\r\n            return generationData;\r\n        }\r\n\r\n        /**\r\n         * Counting the neighbors for a cell on given position considering all the edge cases\r\n         *\r\n         * @return the amount of found neighbors for a cell\r\n         */\r\n        private int countNeighbors(int yPos, int xPos) {}\r\n\r\n        /**\r\n         * Determine the cell state depending on the amount of neighbors of a cell and on a current state of the cell\r\n         *\r\n         * @return the new cell state\r\n         */\r\n        private boolean determineCellState(int neighborsAmount, int yPos, int xPos) {}\r\n    }\r\n\r\nSo at least for the method &quot;countNeighbors&quot; I need to test eight edge cases and also some general cases (cells directly in the corners, cells directly on the edges of the matrix and cells somewhere in the middle). So if I am only trying to cover all the cases through the &quot;computeNextGeneration&quot; method and after refactoring, some tests are red, it is probably time consuming to identify the place where the bug is.\r\n\r\nIf I am testing &quot;determineCellState&quot; and &quot;countNeighbors&quot; separately and after refactoring and optimization, tests of &quot;computeNextGeneration&quot; and &quot;determineCellState&quot; are red, I am pretty sure that the error will be in the &quot;determineCellState&quot; method.\r\n\r\nAlso, if you write unit tests for those methods from the beginning, this tests will help you to develop the methods / the algorithms without a need to considering and wrapping other method calls and cases inside the public method. You can just write fast small tests covering your cases in the method ... for example if the test with the name &quot;countNeighbors_should_return_right_amount_of_neighbors_for_the_right_top_corner_cell()&quot; fails, then it is pretty clear where to look for the bug.\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I feel exactly the same ... change the access modifier for a method just to be able to run a test looks for me as a bad idea. Also in our company we had a lot of discussions about it and in my opinion, really nice way to test a private method is to using Java reflection or another framework which making the method testable. I did so multiple times for complex private methods and this helped me to keep the test small, readable and maintainable.</p>\n<p>After I have read all the answers here, I just disagree with persons who say &quot;if you need to test a private method, then there is a code smell&quot; or even &quot;dont test private methods&quot; ... so I have a little example for you:</p>\n<p>Imagine I have a class with one public method and a couple of private methods:</p>\n<pre><code>public class ConwaysGameOfLife {\n\n    private boolean[][] generationData = new boolean[128][128];\n\n    /**\n     * Compute the next generation and return the new state\n     * Also saving the new state in generationData\n     */\n    public boolean[][] computeNextGeneration() {\n        boolean[][] tempData = new boolean[128][128];\n\n        for (int yPos=0; yPos&lt;=generationData.length; yPos++) {\n            for (int xPos=0; xPos&lt;=generationData[yPos].length; xPos++) {\n                int neighbors = countNeighbors(yPos, xPos);\n                tempData[yPos][xPos] = determineCellState(neighbors, yPos, xPos);\n            }\n        }\n\n        generationData = tempData;\n        return generationData;\n    }\n\n    /**\n     * Counting the neighbors for a cell on given position considering all the edge cases\n     *\n     * @return the amount of found neighbors for a cell\n     */\n    private int countNeighbors(int yPos, int xPos) {}\n\n    /**\n     * Determine the cell state depending on the amount of neighbors of a cell and on a current state of the cell\n     *\n     * @return the new cell state\n     */\n    private boolean determineCellState(int neighborsAmount, int yPos, int xPos) {}\n}\n</code></pre>\n<p>So at least for the method &quot;countNeighbors&quot; I need to test eight edge cases and also some general cases (cells directly in the corners, cells directly on the edges of the matrix and cells somewhere in the middle). So if I am only trying to cover all the cases through the &quot;computeNextGeneration&quot; method and after refactoring, some tests are red, it is probably time consuming to identify the place where the bug is.</p>\n<p>If I am testing &quot;determineCellState&quot; and &quot;countNeighbors&quot; separately and after refactoring and optimization, tests of &quot;computeNextGeneration&quot; and &quot;determineCellState&quot; are red, I am pretty sure that the error will be in the &quot;determineCellState&quot; method.</p>\n<p>Also, if you write unit tests for those methods from the beginning, this tests will help you to develop the methods / the algorithms without a need to considering and wrapping other method calls and cases inside the public method. You can just write fast small tests covering your cases in the method ... for example if the test with the name &quot;countNeighbors_should_return_right_amount_of_neighbors_for_the_right_top_corner_cell()&quot; fails, then it is pretty clear where to look for the bug.</p>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Mekauskas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678957086,"creation_date":1678957086,"answer_id":75753914,"question_id":34571,"body_markdown":"Define implementation class where the reason of public methods to be public is that they implement the clearly defined functionality, rather than if they are accessed from the outside of the class or not. If the functionality you want to test conveniently fits into a single method, make it into public function.\r\n\r\nIf you write the algorithm for exactly sum, there is nothing great in design the has a private sum() method returning sum minus one, to accomodate &quot;one off&quot; somewhere else. \r\n\r\nThe &quot;production&quot; class may have third party classes that require license dongle, call network services, produce non deterministic output, use specific hardware and the like. It may be totally no way how this could be unit tested.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Define implementation class where the reason of public methods to be public is that they implement the clearly defined functionality, rather than if they are accessed from the outside of the class or not. If the functionality you want to test conveniently fits into a single method, make it into public function.</p>\n<p>If you write the algorithm for exactly sum, there is nothing great in design the has a private sum() method returning sum minus one, to accomodate &quot;one off&quot; somewhere else.</p>\n<p>The &quot;production&quot; class may have third party classes that require license dongle, call network services, produce non deterministic output, use specific hardware and the like. It may be totally no way how this could be unit tested.</p>\n"}],"owner":{"account_id":2244,"reputation":12044,"user_id":3098,"accept_rate":78,"display_name":"MattGrommes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236266,"favorite_count":0,"down_vote_count":7,"up_vote_count":3214,"accepted_answer_id":34658,"answer_count":59,"score":3207,"last_activity_date":1678957086,"creation_date":1220026269,"question_id":34571,"body_markdown":"How do I use JUnit to test a class that has internal private methods, fields or nested classes?\r\n\r\nIt seems bad to change the access modifier for a method just to be able to run a test. \r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>How do I use JUnit to test a class that has internal private methods, fields or nested classes?</p>\n<p>It seems bad to change the access modifier for a method just to be able to run a test.</p>\n"},{"tags":["java","android-arrayadapter"],"owner":{"account_id":26268245,"reputation":1,"user_id":19938488,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957013,"creation_date":1678957013,"question_id":75753901,"body_markdown":"I have the following Code: It gets items from my API and saves every item into an Array.\r\nThe Array is given to an ArrayAdapter which shows every item in a ListView.\r\n\r\nMy Problem is that the ListView wont show the Items ArrayList.\r\n\r\n\r\n\r\nI already checked the response of the API and the Arraylist Items, both have the expected things.\r\n\r\nIf I delete `items.clear();` in getUser() the ListView will show the Arraylist\r\n\r\n\r\n\r\n\r\nThis is my Code:\r\n\r\n\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class AddUserToListActivity extends AppCompatActivity {\r\n\r\n    LinearLayout goToMyLists, goToHomepage, goToMyAccount;\r\n    SharedpreferencesManager sharedpreferencesManager;\r\n    ImageView navbarImageView;\r\n    ImageManager imageManager;\r\n    EditText inputText;\r\n    ArrayList&lt;ListItemAddUser&gt; items;\r\n    ListView listView;\r\n    AddUserToListAdapter adapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_user_to_list);\r\n\r\n        goToHomepage = findViewById(R.id.addUserToList_navigation_goToHomepage);\r\n        goToMyLists = findViewById(R.id.addUserToList_navigation_goToMyList);\r\n        goToMyAccount = findViewById(R.id.addUserToList_navigation_goToMyProfile);\r\n        navbarImageView = findViewById(R.id.addUserToList_navbar_ProfilImageView);\r\n        inputText = findViewById(R.id.addUserLists_inputText);\r\n        listView = findViewById(R.id.addUserToList_listView);\r\n        sharedpreferencesManager = new SharedpreferencesManager(this);\r\n        imageManager = new ImageManager(this, navbarImageView);\r\n        imageManager.refreshImageViewFromSharedPreferences();\r\n        imageManager.refreshImage();\r\n        items = new ArrayList&lt;&gt;();\r\n        createAdapter();\r\n\r\n        //Navigation zur Homepage\r\n        goToHomepage.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, HomepageActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        goToMyLists.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, MyListsActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        goToMyAccount.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, AccountActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        inputText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                String searchText = charSequence.toString().trim();\r\n                if (!searchText.isEmpty()) {\r\n                    getUser(searchText);\r\n                } else {\r\n                    items.clear();\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void getUser(String inputText) {\r\n        items.clear();\r\n        String url = &quot;http://bfi.bbs-me.org:2536/api/searchUsers.php&quot;;\r\n        final String[] jsonStatus = new String[1];\r\n        final String[] jsonMessage = new String[1];\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        JSONObject jsonObject;\r\n                        try {\r\n                            jsonObject = new JSONObject(response);\r\n                        } catch (JSONException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                        try {\r\n                            if (jsonObject.has(&quot;status&quot;)) {\r\n                                jsonStatus[0] = jsonObject.getString(&quot;status&quot;);\r\n                            }\r\n\r\n\r\n                        } catch (JSONException e) {\r\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Failed to parse server response!&quot;, Toast.LENGTH_SHORT);\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                        if (jsonObject.has(&quot;status&quot;)) {\r\n                            if (jsonStatus[0].equals(&quot;200&quot;)) {\r\n                                //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                                try {\r\n\r\n                                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\r\n                                    int length = jsonArray.length();\r\n\r\n                                    for (int i = 0; i &lt; length; i++) {\r\n                                        JSONObject listObject = jsonArray.getJSONObject(i);\r\n                                        String user_id = listObject.getString(&quot;user_id&quot;);\r\n                                        String username = listObject.getString(&quot;username&quot;);\r\n                                        String image = listObject.getString(&quot;image&quot;);\r\n                                        items.add(new ListItemAddUser(user_id, username, image));\r\n                                    }\r\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\nArray: &quot; + items);\r\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                                } catch (JSONException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Fehler aufgetreten&quot;, Toast.LENGTH_SHORT);\r\n                            //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonMessage[0] + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        ToastManager.showToast(AddUserToListActivity.this, &quot;Verbindung zwischen Api und App unterbrochen (getUserLists)!&quot;, Toast.LENGTH_LONG);\r\n                    }\r\n                }) {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;user_id&quot;, sharedpreferencesManager.getId());\r\n                params.put(&quot;search&quot;, inputText);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        // F&#252;gen Sie die Volley-Abfrage zur Warteschlange hinzu\r\n        MySingleton.getInstance(AddUserToListActivity.this).addToRequestQueue(stringRequest);\r\n    }\r\n\r\n\r\n    public void createAdapter() {\r\n        // Create the adapter\r\n        adapter = new AddUserToListAdapter(this, items);\r\n        listView.setAdapter(adapter);\r\n    }\r\n\r\n    public void onBackPressed() {\r\n        startActivity(new Intent(this, MyListsActivity.class));\r\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n        finish();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport java.util.List;\r\n\r\npublic class AddUserToListAdapter extends ArrayAdapter&lt;ListItemAddUser&gt; {\r\n\r\n    Context context;\r\n\r\n\r\n    public AddUserToListAdapter(@NonNull Context context, List&lt;ListItemAddUser&gt; items) {\r\n        super(context, 0, items);\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        // Inflate the view if it doesn&#39;t exist\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.template_add_user_to_list, parent, false);\r\n        }\r\n\r\n        ImageView imageView;\r\n        Button button;\r\n        TextView textView;\r\n\r\n        // Get the item at the current position\r\n        ListItemAddUser item = getItem(position);\r\n\r\n\r\n        // Set the text of the TextView in the view\r\n\r\n        imageView = convertView.findViewById(R.id.add_user_to_list_image);\r\n        button = convertView.findViewById(R.id.add_user_to_list_button);\r\n        textView = convertView.findViewById(R.id.add_user_to_list_username);\r\n\r\n        textView.setText(item.getUsername());\r\n\r\n\r\n        return convertView;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npublic class ListItemAddUser {\r\n\r\n    private String user_id, username, image;\r\n\r\n    public ListItemAddUser(String user_id, String username, String image) {\r\n        this.user_id = user_id;\r\n        this.username = username;\r\n        this.image = image;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getUser_id() {\r\n        return user_id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n}\r\n```\r\n","title":"Why is my ListView in android Studio empty when my Array adapter should have the items of the Array","body":"<p>I have the following Code: It gets items from my API and saves every item into an Array.\nThe Array is given to an ArrayAdapter which shows every item in a ListView.</p>\n<p>My Problem is that the ListView wont show the Items ArrayList.</p>\n<p>I already checked the response of the API and the Arraylist Items, both have the expected things.</p>\n<p>If I delete <code>items.clear();</code> in getUser() the ListView will show the Arraylist</p>\n<p>This is my Code:</p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class AddUserToListActivity extends AppCompatActivity {\n\n    LinearLayout goToMyLists, goToHomepage, goToMyAccount;\n    SharedpreferencesManager sharedpreferencesManager;\n    ImageView navbarImageView;\n    ImageManager imageManager;\n    EditText inputText;\n    ArrayList&lt;ListItemAddUser&gt; items;\n    ListView listView;\n    AddUserToListAdapter adapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_user_to_list);\n\n        goToHomepage = findViewById(R.id.addUserToList_navigation_goToHomepage);\n        goToMyLists = findViewById(R.id.addUserToList_navigation_goToMyList);\n        goToMyAccount = findViewById(R.id.addUserToList_navigation_goToMyProfile);\n        navbarImageView = findViewById(R.id.addUserToList_navbar_ProfilImageView);\n        inputText = findViewById(R.id.addUserLists_inputText);\n        listView = findViewById(R.id.addUserToList_listView);\n        sharedpreferencesManager = new SharedpreferencesManager(this);\n        imageManager = new ImageManager(this, navbarImageView);\n        imageManager.refreshImageViewFromSharedPreferences();\n        imageManager.refreshImage();\n        items = new ArrayList&lt;&gt;();\n        createAdapter();\n\n        //Navigation zur Homepage\n        goToHomepage.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, HomepageActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        goToMyLists.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, MyListsActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        goToMyAccount.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, AccountActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        inputText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                String searchText = charSequence.toString().trim();\n                if (!searchText.isEmpty()) {\n                    getUser(searchText);\n                } else {\n                    items.clear();\n                }\n                adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n            }\n        });\n    }\n\n\n    public void getUser(String inputText) {\n        items.clear();\n        String url = &quot;http://bfi.bbs-me.org:2536/api/searchUsers.php&quot;;\n        final String[] jsonStatus = new String[1];\n        final String[] jsonMessage = new String[1];\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        JSONObject jsonObject;\n                        try {\n                            jsonObject = new JSONObject(response);\n                        } catch (JSONException e) {\n                            throw new RuntimeException(e);\n                        }\n                        try {\n                            if (jsonObject.has(&quot;status&quot;)) {\n                                jsonStatus[0] = jsonObject.getString(&quot;status&quot;);\n                            }\n\n\n                        } catch (JSONException e) {\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Failed to parse server response!&quot;, Toast.LENGTH_SHORT);\n                            e.printStackTrace();\n                        }\n\n                        if (jsonObject.has(&quot;status&quot;)) {\n                            if (jsonStatus[0].equals(&quot;200&quot;)) {\n                                //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                                try {\n\n                                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\n                                    int length = jsonArray.length();\n\n                                    for (int i = 0; i &lt; length; i++) {\n                                        JSONObject listObject = jsonArray.getJSONObject(i);\n                                        String user_id = listObject.getString(&quot;user_id&quot;);\n                                        String username = listObject.getString(&quot;username&quot;);\n                                        String image = listObject.getString(&quot;image&quot;);\n                                        items.add(new ListItemAddUser(user_id, username, image));\n                                    }\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\nArray: &quot; + items);\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                                } catch (JSONException e) {\n                                    throw new RuntimeException(e);\n                                }\n                            }\n                        } else {\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Fehler aufgetreten&quot;, Toast.LENGTH_SHORT);\n                            //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonMessage[0] + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        ToastManager.showToast(AddUserToListActivity.this, &quot;Verbindung zwischen Api und App unterbrochen (getUserLists)!&quot;, Toast.LENGTH_LONG);\n                    }\n                }) {\n            @Override\n            protected Map&lt;String, String&gt; getParams() {\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;user_id&quot;, sharedpreferencesManager.getId());\n                params.put(&quot;search&quot;, inputText);\n                return params;\n            }\n        };\n\n        // Fgen Sie die Volley-Abfrage zur Warteschlange hinzu\n        MySingleton.getInstance(AddUserToListActivity.this).addToRequestQueue(stringRequest);\n    }\n\n\n    public void createAdapter() {\n        // Create the adapter\n        adapter = new AddUserToListAdapter(this, items);\n        listView.setAdapter(adapter);\n    }\n\n    public void onBackPressed() {\n        startActivity(new Intent(this, MyListsActivity.class));\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n        finish();\n    }\n}\n\n</code></pre>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\n\nimport java.util.List;\n\npublic class AddUserToListAdapter extends ArrayAdapter&lt;ListItemAddUser&gt; {\n\n    Context context;\n\n\n    public AddUserToListAdapter(@NonNull Context context, List&lt;ListItemAddUser&gt; items) {\n        super(context, 0, items);\n        this.context = context;\n    }\n\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        // Inflate the view if it doesn't exist\n        if (convertView == null) {\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.template_add_user_to_list, parent, false);\n        }\n\n        ImageView imageView;\n        Button button;\n        TextView textView;\n\n        // Get the item at the current position\n        ListItemAddUser item = getItem(position);\n\n\n        // Set the text of the TextView in the view\n\n        imageView = convertView.findViewById(R.id.add_user_to_list_image);\n        button = convertView.findViewById(R.id.add_user_to_list_button);\n        textView = convertView.findViewById(R.id.add_user_to_list_username);\n\n        textView.setText(item.getUsername());\n\n\n        return convertView;\n    }\n\n\n}\n</code></pre>\n<pre><code>public class ListItemAddUser {\n\n    private String user_id, username, image;\n\n    public ListItemAddUser(String user_id, String username, String image) {\n        this.user_id = user_id;\n        this.username = username;\n        this.image = image;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public String getUser_id() {\n        return user_id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","scroll","listener"],"owner":{"account_id":16262731,"reputation":1207,"user_id":11743643,"display_name":"Yuval.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957002,"creation_date":1678957002,"question_id":75753900,"body_markdown":"I&#39;m trying to create an app which tracks the user&#39;s activity on other apps, mainly scrolling.\r\nI&#39;ve tried searching for ways to detect scrolling on another app, but couldn&#39;t find anything, my best idea currently is to draw my app over the other apps (which I know is possible) and then somehow forwarding scroll events from it to the background app, although that &quot;forwarding&quot; does not seem to be possible.\r\n\r\nDoes anyone have a solution for this?","title":"Detecting scroll evevnts on other apps in Java (Android)","body":"<p>I'm trying to create an app which tracks the user's activity on other apps, mainly scrolling.\nI've tried searching for ways to detect scrolling on another app, but couldn't find anything, my best idea currently is to draw my app over the other apps (which I know is possible) and then somehow forwarding scroll events from it to the background app, although that &quot;forwarding&quot; does not seem to be possible.</p>\n<p>Does anyone have a solution for this?</p>\n"},{"tags":["java","eclipse","selenium-webdriver","cucumber","ui-automation"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1678957686,"post_id":75753807,"comment_id":133634482,"body_markdown":"You can&#39;t really install just the one plug-in. pde.ui is part of the plug-in development environment, the whole feature would need to be installed. In any case, But Neon is now 21 release old, how about installing a suitiable Eclipse 2023-03 from https://www.eclipse.org/downloads/packages/","body":"You can&#39;t really install just the one plug-in. pde.ui is part of the plug-in development environment, the whole feature would need to be installed. In any case, But Neon is now 21 release old, how about installing a suitiable Eclipse 2023-03 from <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1678976506,"post_id":75753807,"comment_id":133640272,"body_markdown":"The 2023-03 Eclipse IDE for Eclipse Committers would contain that feature.","body":"The 2023-03 Eclipse IDE for Eclipse Committers would contain that feature."},{"owner":{"account_id":23930456,"reputation":89,"user_id":17925025,"display_name":"Sanghamitra Bhowmick"},"score":0,"creation_date":1678980984,"post_id":75753807,"comment_id":133641816,"body_markdown":"Yes, upgrading the eclipse version worked. Thank you so much @greg-449 for the insight!! Thank you @nitind!!","body":"Yes, upgrading the eclipse version worked. Thank you so much @greg-449 for the insight!! Thank you @nitind!!"}],"owner":{"account_id":23930456,"reputation":89,"user_id":17925025,"display_name":"Sanghamitra Bhowmick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678956328,"creation_date":1678956328,"question_id":75753807,"body_markdown":"I am trying to install the Cucumber Eclipse plugin in my VDI (Virtual Desktop Infrastructure) which has no internet connection. However, I am getting an error message saying &quot;requires &#39;bundle.org.eclipse.pde.ui 3.5.0, but it could not be found&quot; when I try to install the plugin. My Eclipse version is Neon.3 Release (4.6.3).\r\n\r\nI have tried installing the plugin through the &quot;Install New Software&quot; option in Eclipse and by manually downloading the plugin and trying to install it using the &quot;Install&quot; option in Eclipse. I have also checked that the &quot;Contact all update sites during install to find required software&quot; option is unchecked.\r\n\r\nI have searched for solutions online, but most of them suggest installing the missing bundle through the Eclipse update site. However, as I am working on a VDI with no internet connection, this solution is not feasible for me.\r\n\r\nCan anyone suggest a solution for installing the Cucumber Eclipse plugin in my VDI without an internet connection and resolving the error message?","title":"Unable to install Cucumber Eclipse plugin inside VDI with no internet connection, getting error &quot;requires &#39;bundle.org.eclipse.pde.ui 3.5.0","body":"<p>I am trying to install the Cucumber Eclipse plugin in my VDI (Virtual Desktop Infrastructure) which has no internet connection. However, I am getting an error message saying &quot;requires 'bundle.org.eclipse.pde.ui 3.5.0, but it could not be found&quot; when I try to install the plugin. My Eclipse version is Neon.3 Release (4.6.3).</p>\n<p>I have tried installing the plugin through the &quot;Install New Software&quot; option in Eclipse and by manually downloading the plugin and trying to install it using the &quot;Install&quot; option in Eclipse. I have also checked that the &quot;Contact all update sites during install to find required software&quot; option is unchecked.</p>\n<p>I have searched for solutions online, but most of them suggest installing the missing bundle through the Eclipse update site. However, as I am working on a VDI with no internet connection, this solution is not feasible for me.</p>\n<p>Can anyone suggest a solution for installing the Cucumber Eclipse plugin in my VDI without an internet connection and resolving the error message?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678961823,"post_id":75752840,"comment_id":133635676,"body_markdown":"Your code with consumer.seekToBeginning looks good. Why exactly it didn&#39;t work? Please add log output of the consumer with and without this line consumer.seekToBeginning(consumer.assignment()); Just to be sure - the line is after consumer.subscribe, right?","body":"Your code with consumer.seekToBeginning looks good. Why exactly it didn&#39;t work? Please add log output of the consumer with and without this line consumer.seekToBeginning(consumer.assignment()); Just to be sure - the line is after consumer.subscribe, right?"},{"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"score":0,"creation_date":1679027155,"post_id":75752840,"comment_id":133650810,"body_markdown":"@Mar-Z .. I&#39;m not getting logs its only consuming earliest messages","body":"@Mar-Z .. I&#39;m not getting logs its only consuming earliest messages"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1678952474,"post_id":75752990,"comment_id":133633179,"body_markdown":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."},{"owner":{"account_id":10182846,"reputation":1,"user_id":7518962,"display_name":"dongjb"},"score":0,"creation_date":1679023746,"post_id":75752990,"comment_id":133650450,"body_markdown":"think about offset is at  Partition","body":"think about offset is at  Partition"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679417583,"post_id":75752990,"comment_id":133717170,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75752990/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10182846,"reputation":1,"user_id":7518962,"display_name":"dongjb"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678950059,"creation_date":1678950059,"answer_id":75752990,"question_id":75752840,"body_markdown":"    private void adjustOffset(KafkaConsumer&lt;byte[], byte[]&gt; consumer) {\r\n        Set&lt;TopicPartition&gt; assignments = consumer.assignment();\r\n        switch (ConfAttr.KAFKA_OFFSET_ADJUST_TYPE) {\r\n            case &quot;0&quot;:\r\n                break;\r\n            case &quot;1&quot;:\r\n                assignments.forEach(topicPartition -&gt;\r\n                        consumer.seekToBeginning(\r\n                                Arrays.asList(topicPartition)));\r\n                break;\r\n            case &quot;2&quot;:\r\n                assignments.forEach(topicPartition -&gt;\r\n                        consumer.seek(\r\n                                topicPartition,\r\n                                Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE)));\r\n                break;\r\n            case &quot;3&quot;:\r\n                Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\r\n                for (TopicPartition topicPartition : assignments) {\r\n                    query.put(\r\n                            topicPartition,\r\n                            Instant.now().minus(Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE), MINUTES).toEpochMilli());\r\n                }\r\n\r\n                Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = consumer.offsetsForTimes(query);\r\n\r\n                result.entrySet()\r\n                        .stream()\r\n                        .forEach(entry -&gt;\r\n                                consumer.seek(\r\n                                        entry.getKey(),\r\n                                        Optional.ofNullable(entry.getValue())\r\n                                                .map(OffsetAndTimestamp::offset)\r\n                                                .orElse(new Long(0))));\r\n\r\n        }\r\n        adjustOffsetFlag = false;\r\n    }","title":"Which Java configuration property helps me to display all the records in a topic from the beginning ( offset 0)","body":"<pre><code>private void adjustOffset(KafkaConsumer&lt;byte[], byte[]&gt; consumer) {\n    Set&lt;TopicPartition&gt; assignments = consumer.assignment();\n    switch (ConfAttr.KAFKA_OFFSET_ADJUST_TYPE) {\n        case &quot;0&quot;:\n            break;\n        case &quot;1&quot;:\n            assignments.forEach(topicPartition -&gt;\n                    consumer.seekToBeginning(\n                            Arrays.asList(topicPartition)));\n            break;\n        case &quot;2&quot;:\n            assignments.forEach(topicPartition -&gt;\n                    consumer.seek(\n                            topicPartition,\n                            Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE)));\n            break;\n        case &quot;3&quot;:\n            Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\n            for (TopicPartition topicPartition : assignments) {\n                query.put(\n                        topicPartition,\n                        Instant.now().minus(Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE), MINUTES).toEpochMilli());\n            }\n\n            Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = consumer.offsetsForTimes(query);\n\n            result.entrySet()\n                    .stream()\n                    .forEach(entry -&gt;\n                            consumer.seek(\n                                    entry.getKey(),\n                                    Optional.ofNullable(entry.getValue())\n                                            .map(OffsetAndTimestamp::offset)\n                                            .orElse(new Long(0))));\n\n    }\n    adjustOffsetFlag = false;\n}\n</code></pre>\n"}],"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678956022,"creation_date":1678948809,"question_id":75752840,"body_markdown":"```java\r\nprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;&quot;);\r\n\r\n// earliest --&gt; for consuming from nth offset where (n-1)th offset record is the last record consumer consumed before shitting down\r\n\r\n// latest --&gt; for consuming the records that are generated after consumer has started to consume\r\n```\r\n\r\nIs there is any way that sets the offset to 0 and start consuming from the beginning?\r\n\r\nIf you want to check my code here are my gist links:\r\n\r\n- [MyKafkaProducer.java](https://gist.github.com/immrdg/71160d3346b3b436cc1bf5eb6e90546b)\r\n\r\n- [MyKafkaConsumer.java](https://gist.github.com/immrdg/5d8eb8a879a2f2230c6edfa2e863e63b)\r\n\r\n\r\nI tried placing these lines before while loop, but it didn&#39;t work.\r\n\r\n```java\r\nconsumer.poll(Duration.ZERO); \r\nconsumer.seekToBeginning(consumer.assignment());\r\n```\r\n\r\nI just want to make a code that does this task\r\n\r\n```bash\r\nbin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic myjson --from-beginning\r\n```\r\nLet me know in the comment section if you don&#39;t get my question.\r\n\r\n","title":"Which Java configuration property helps me to display all the records in a topic from the beginning ( offset 0)","body":"<pre class=\"lang-java prettyprint-override\"><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;&quot;);\n\n// earliest --&gt; for consuming from nth offset where (n-1)th offset record is the last record consumer consumed before shitting down\n\n// latest --&gt; for consuming the records that are generated after consumer has started to consume\n</code></pre>\n<p>Is there is any way that sets the offset to 0 and start consuming from the beginning?</p>\n<p>If you want to check my code here are my gist links:</p>\n<ul>\n<li><p><a href=\"https://gist.github.com/immrdg/71160d3346b3b436cc1bf5eb6e90546b\" rel=\"nofollow noreferrer\">MyKafkaProducer.java</a></p>\n</li>\n<li><p><a href=\"https://gist.github.com/immrdg/5d8eb8a879a2f2230c6edfa2e863e63b\" rel=\"nofollow noreferrer\">MyKafkaConsumer.java</a></p>\n</li>\n</ul>\n<p>I tried placing these lines before while loop, but it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>consumer.poll(Duration.ZERO); \nconsumer.seekToBeginning(consumer.assignment());\n</code></pre>\n<p>I just want to make a code that does this task</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic myjson --from-beginning\n</code></pre>\n<p>Let me know in the comment section if you don't get my question.</p>\n"},{"tags":["java","kerberos","jsch","jaas","gssapi"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":1,"creation_date":1678955778,"post_id":75752169,"comment_id":133633984,"body_markdown":"Waffle and MIT Kerberos does not make sense. Waffle uses SSPI.","body":"Waffle and MIT Kerberos does not make sense. Waffle uses SSPI."},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679376470,"post_id":75752169,"comment_id":133706280,"body_markdown":"Yes. That&#39;s why I am using JAAS with KeyTab to create Kerberos ticket &amp; authenticate the user. It successfully creates the TGT &amp; Kerberos Service Ticket. But I am unware of setting the custom created GSSCredential &amp; GSSContext to JSch configuration. Using Jsch 0.1.55. \n\nJSch does exactly what I am doing with JAAS, it creates GSSCredential &amp; GSSContext. But it uses the last authenticated users TGT for the current users. So authentication getting failed. \n\nIt would be great, if you provide some pointers or suggestions.","body":"Yes. That&#39;s why I am using JAAS with KeyTab to create Kerberos ticket &amp; authenticate the user. It successfully creates the TGT &amp; Kerberos Service Ticket. But I am unware of setting the custom created GSSCredential &amp; GSSContext to JSch configuration. Using Jsch 0.1.55.   JSch does exactly what I am doing with JAAS, it creates GSSCredential &amp; GSSContext. But it uses the last authenticated users TGT for the current users. So authentication getting failed.   It would be great, if you provide some pointers or suggestions."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1679385738,"post_id":75752169,"comment_id":133707735,"body_markdown":"You need the `Subject#doAs()` method with the `LoginContext`.","body":"You need the <code>Subject#doAs()</code> method with the <code>LoginContext</code>."},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679751564,"post_id":75752169,"comment_id":133778815,"body_markdown":"I am not certain of the usage of Subject#doAs() in this context. Nonetheless, I have managed to create GSSCredentials and GSSContext using JAAS. However, I am uncertain of how to make JSch utilize these credentials and context. Internally, JSch performs authentication using Keytab and creates new GSSCredentials and GSSContext, causing failure. Although this works for the first user, the second user utilizes the first user&#39;s TGT, resulting in JSch authentication failure. Despite clearing GSSCredentials, GSSContext, JSch Session, and channel, JSch still employs the previous user&#39;s TGT.","body":"I am not certain of the usage of Subject#doAs() in this context. Nonetheless, I have managed to create GSSCredentials and GSSContext using JAAS. However, I am uncertain of how to make JSch utilize these credentials and context. Internally, JSch performs authentication using Keytab and creates new GSSCredentials and GSSContext, causing failure. Although this works for the first user, the second user utilizes the first user&#39;s TGT, resulting in JSch authentication failure. Despite clearing GSSCredentials, GSSContext, JSch Session, and channel, JSch still employs the previous user&#39;s TGT."}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678955620,"creation_date":1678940724,"question_id":75752169,"body_markdown":"I am using a Java Spring Boot application with Waffle SSO library waffle-spring-security4 2.0.0 and have installed and configured MIT Kerberos. The ticket cache is working fine, and running &quot;kinit&quot; creates Kerberos tickets in the ticket cache (C:\\Users\\XYZ\\krb5cc_XYZ). I have verified this by running &quot;klist&quot;.\r\n\r\nI have implemented JAAS Keytab authentication, which generates the GSSCredential and GSSContext. However, I am unsure about how to extract the Kerberos KT ticket from JAAS or Waffle SSO and authenticate JSch using the extracted ticket.\r\n\r\nThe following code generates a Kerberos service ticket and successfully authenticates JSch, enabling me to run a command on the remote machine. However, when I run the code for another user, the previous user&#39;s TGT is being used. I have disposed of the GSSCredential and GSSContext, but it does not solve the issue.\r\n\r\nJSch itself performs all the GSS Authentication and creates the GSSCredential and GSSContext, but I don&#39;t have the control to modify the internal behavior and configuration. Therefore, I am performing JAAS authentication and creating GSSCredential and GSSContext.\r\n\r\nWhat suggestions do you have for what I am missing?\r\n\r\n```java\r\npublic static ArrayList&lt;String&gt; simpleKerberos(String command)\r\n\t\t\tthrows LoginException, GSSException, JSchException, IOException, PrivilegedActionException {\r\n\tSunJaasKerberosClient client = new SunJaasKerberosClient();\r\n\tclient.setDebug(true); // enable debug logs\r\n\tArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n\r\n\tSecurityContext sec = SecurityContextHolder.getContext();\r\n\tAuthentication authentication = sec.getAuthentication();\r\n\tWindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\r\n\tString userNtId = principal.getName();\r\n\tString[] userInfo = userNtId.split(&quot;\\\\\\\\&quot;);\r\n\tString username = userInfo[1].toLowerCase() + &quot;@&quot; + userInfo[0] + &quot;.DOMAIN.COM&quot;;\r\n\tString userId = userInfo[1];\r\n\tString keyTabFilePath = &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;;\r\n\r\n\tString ticketCache = &quot;FILE:C:\\\\Users\\\\&quot; + userId + &quot;\\\\krb5cc_&quot; + userId + &quot;&quot;;\r\n\r\n\tString loginContextName = &quot;Krb5Login&quot;;\r\n\r\n\tSystem.setProperty(&quot;java.security.krb5.conf&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\krb5.ini&quot;);\r\n\tSystem.setProperty(&quot;java.security.auth.login.config&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\jaas.config&quot;);\r\n\t//System.setProperty(&quot;sun.security.jgss.native&quot;, &quot;true&quot;);\r\n\tSystem.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);\r\n\tSystem.setProperty(&quot;sun.security.krb5.debug&quot;, &quot;true&quot;);\r\n\tSystem.setProperty(&quot;java.security.debug&quot;, &quot;gssloginconfig,configfile,configparser,logincontext&quot;);\r\n\tSystem.setProperty(&quot;KRB5CCNAME&quot;, ticketCache);\r\n\tSystem.setProperty(&quot;javax.security.auth.kerberos.ticket.cache&quot;, &quot;FILE:&quot; + ticketCache);\r\n\tSystem.setProperty(&quot;KRB5_KTNAME&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;);\r\n\tSystem.setProperty(&quot;user.home&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;&quot;);\r\n\tSystem.setProperty(&quot;user.name&quot;, userId);\r\n\tSystem.setProperty(&quot;principal&quot;, username);\r\n\r\n\tString host = &quot;REMOTE.MACHINE.FQDN.COM&quot;;\r\n\tString realm = &quot;SUBDOMAIN.DOMAIN.COM&quot;;\r\n\r\n\tConfiguration loginConfig = new Configuration() {\r\n\t\t@Override\r\n\t\tpublic AppConfigurationEntry[] getAppConfigurationEntry(String name) {\r\n\t\t\tif (name.equals(loginContextName)) {\r\n\t\t\t\tMap&lt;String, Object&gt; options = new HashMap&lt;&gt;();\r\n\t\t\t\toptions.put(&quot;useKeyTab&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;useTicketCache&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;debug&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;principal&quot;, username);\r\n\t\t\t\toptions.put(&quot;ticketCache&quot;, ticketCache);\r\n\r\n\t\t\t\t// Create a Subject that represents the current user&#39;s security context\r\n\t\t\t\tSubject subject = new Subject();\r\n\t\t\t\tPrincipal principal = new KerberosPrincipal(username);\r\n\t\t\t\tsubject.getPrincipals().add(principal);\r\n\r\n\t\t\t\toptions.put(&quot;javax.security.auth.subject&quot;, subject);\r\n\t\t\t\t// options.put(&quot;runAs&quot;, &quot;authenticated&quot;);\r\n\t\t\t\t// options.put(&quot;doNotPrompt&quot;, &quot;true&quot;);\r\n\r\n\t\t\t\treturn new AppConfigurationEntry[] {\r\n\t\t\t\t\t\tnew AppConfigurationEntry(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;,\r\n\t\t\t\t\t\t\t\tAppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options) };\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tLoginContext loginContext = new LoginContext(loginContextName, null,\r\n\t\t\tnew KerberosKeytabCallbackHandler(username, keyTabFilePath), loginConfig);\r\n\tloginContext.login();\r\n\r\n\tGSSManager gssManager = GSSManager.getInstance();\r\n\tGSSName clientName = gssManager.createName(username, GSSName.NT_USER_NAME);\r\n\r\n\tGSSCredential credential = null;\r\n\tSubject subject = null;\r\n\ttry {\r\n\r\n\t\tsubject = loginContext.getSubject();\r\n\t\tcredential = Subject.doAs(subject, (PrivilegedExceptionAction&lt;GSSCredential&gt;) () -&gt; {\r\n\t\t\treturn gssManager.createCredential(clientName, GSSCredential.DEFAULT_LIFETIME,\r\n\t\t\t\t\tnew Oid(&quot;1.2.840.113554.1.2.2&quot;), GSSCredential.ACCEPT_ONLY); ---Not sure, If I should&#39;ve used INITIATE_ONLY\r\n\t\t});\r\n\r\n\t} catch (PrivilegedActionException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\r\n\tSet&lt;GSSCredential&gt; gssCredentials = subject.getPrivateCredentials(GSSCredential.class);\r\n\tgssCredentials.add(credential);\r\n\r\n\tif (credential == null) {\r\n\t\tthrow new RuntimeException(&quot;Could not obtain Kerberos credentials for &quot; + username);\r\n\t}\r\n\r\n\tGSSContext gssContext = gssManager.createContext(clientName, new Oid(&quot;1.2.840.113554.1.2.2&quot;), credential,\r\n\t\t\tGSSContext.DEFAULT_LIFETIME);\r\n\t\r\n\tgssContext.requestCredDeleg(true);\r\n\tgssContext.requestMutualAuth(true);\r\n\tgssContext.requestConf(true);\r\n\tgssContext.requestInteg(true);\r\n\tgssContext.requestReplayDet(true);\r\n\tgssContext.requestSequenceDet(true);\r\n\tgssContext.requestAnonymity(false);\r\n\tgssContext.requestLifetime(GSSContext.DEFAULT_LIFETIME);\r\n\tgssContext.setChannelBinding(null);\r\n\r\n\tJSch jsch = new JSch();\r\n\tJSch.setConfig(&quot;PreferredAuthentications&quot;, &quot;gssapi-with-mic&quot;);\r\n\tSession session = jsch.getSession(username, host, 22);\r\n\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\tUserInfo user = new KerberosUserInfo(credential, gssContext);\r\n\tsession.setUserInfo(user);\r\n\tsession.setConfig(&quot;userauth.gssapi-with-mic&quot;, &quot;com.jcraft.jsch.UserAuthGSSAPIWithMIC&quot;);\r\n\tsession.connect();\r\n\tChannel channel = session.openChannel(&quot;exec&quot;);\r\n\t((ChannelExec) channel).setCommand(command);\r\n\r\n\tchannel.setInputStream(null);\r\n\t((ChannelExec) channel).setErrStream(System.err);\r\n\r\n\tInputStream in = channel.getInputStream();\r\n\tchannel.connect();\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n\tString line = null;\r\n\twhile ((line = reader.readLine()) != null) {\r\n\t\tresults.add(line);\r\n\t}\r\n\tjsch.removeAllIdentity();\r\n\tchannel.disconnect();\r\n\tsession.disconnect();\r\n\tloginContext.logout();\r\n\tloginConfig.refresh();\r\n\tgssContext.dispose();\r\n\tcredential.dispose();\r\n\r\n\treturn results;\r\n}\r\n```\r\n\r\n**Kerberos UserInfo**\r\n\r\n```java\r\nclass KerberosUserInfo implements UserInfo {\r\n\r\n\tprivate GSSCredential credential;\r\n\tprivate GSSContext context;\r\n\t\r\n\tpublic KerberosUserInfo(GSSCredential credential) {\r\n\t\tthis.credential = credential;\r\n\t}\r\n\r\n\tpublic KerberosUserInfo(GSSCredential credential, GSSContext context) {\r\n\t\tthis.credential = credential;\r\n\t\tthis.context = context;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getPassphrase() {\r\n\t\treturn null;\r\n\t}\r\n\t @Override\r\n\tpublic String getPassword() {\r\n\t\treturn null;\r\n\t}\r\n\t @Override\r\n\tpublic boolean promptPassphrase(String message) {\r\n\t\treturn false;\r\n\t}\r\n\t @Override\r\n\tpublic boolean promptPassword(String message) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic boolean promptYesNo(String message) {\r\n\t\treturn true;\r\n\t}\r\n\t @Override\r\n\tpublic void showMessage(String message) {\r\n\t\tSystem.out.println(message);\r\n\t}\r\n\r\n\t/*\r\n\t * public GSSCredential getGSSCredential() { return credential; }\r\n\t */\r\n\tpublic GSSCredential getGSSCredential() {\r\n\t\treturn credential;\r\n\t}\r\n\r\n\tpublic GSSContext getGSSContext() {\r\n\t\treturn context;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**KerberosKeytabCallbackHandler**\r\n\r\n```\r\npublic class KerberosKeytabCallbackHandler implements CallbackHandler {\r\n\r\n\tprivate final String principal;\r\n\tprivate final String keytab;\r\n\r\n\tpublic KerberosKeytabCallbackHandler(String principal, String keytab) {\r\n\t\tthis.principal = Objects.requireNonNull(principal);\r\n\t\tthis.keytab = Objects.requireNonNull(keytab);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n\t\tfor (Callback callback : callbacks) {\r\n\t\t\tif (callback instanceof NameCallback) {\r\n\t\t\t\t((NameCallback) callback).setName(principal);\r\n\t\t\t} else if (callback instanceof PasswordCallback) {\r\n\t\t\t\t((PasswordCallback) callback).setPassword(keytab.toCharArray());\r\n\t\t\t} else {\r\n\t\t\t\tthrow new UnsupportedCallbackException(callback);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"How to run an SSH command on a remote machine using JSCH via GSSAPI/Kerberos in a Java web app with Waffle SSO auth/JAAS?","body":"<p>I am using a Java Spring Boot application with Waffle SSO library waffle-spring-security4 2.0.0 and have installed and configured MIT Kerberos. The ticket cache is working fine, and running &quot;kinit&quot; creates Kerberos tickets in the ticket cache (C:\\Users\\XYZ\\krb5cc_XYZ). I have verified this by running &quot;klist&quot;.</p>\n<p>I have implemented JAAS Keytab authentication, which generates the GSSCredential and GSSContext. However, I am unsure about how to extract the Kerberos KT ticket from JAAS or Waffle SSO and authenticate JSch using the extracted ticket.</p>\n<p>The following code generates a Kerberos service ticket and successfully authenticates JSch, enabling me to run a command on the remote machine. However, when I run the code for another user, the previous user's TGT is being used. I have disposed of the GSSCredential and GSSContext, but it does not solve the issue.</p>\n<p>JSch itself performs all the GSS Authentication and creates the GSSCredential and GSSContext, but I don't have the control to modify the internal behavior and configuration. Therefore, I am performing JAAS authentication and creating GSSCredential and GSSContext.</p>\n<p>What suggestions do you have for what I am missing?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; simpleKerberos(String command)\n            throws LoginException, GSSException, JSchException, IOException, PrivilegedActionException {\n    SunJaasKerberosClient client = new SunJaasKerberosClient();\n    client.setDebug(true); // enable debug logs\n    ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n\n    SecurityContext sec = SecurityContextHolder.getContext();\n    Authentication authentication = sec.getAuthentication();\n    WindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\n    String userNtId = principal.getName();\n    String[] userInfo = userNtId.split(&quot;\\\\\\\\&quot;);\n    String username = userInfo[1].toLowerCase() + &quot;@&quot; + userInfo[0] + &quot;.DOMAIN.COM&quot;;\n    String userId = userInfo[1];\n    String keyTabFilePath = &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;;\n\n    String ticketCache = &quot;FILE:C:\\\\Users\\\\&quot; + userId + &quot;\\\\krb5cc_&quot; + userId + &quot;&quot;;\n\n    String loginContextName = &quot;Krb5Login&quot;;\n\n    System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\krb5.ini&quot;);\n    System.setProperty(&quot;java.security.auth.login.config&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\jaas.config&quot;);\n    //System.setProperty(&quot;sun.security.jgss.native&quot;, &quot;true&quot;);\n    System.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);\n    System.setProperty(&quot;sun.security.krb5.debug&quot;, &quot;true&quot;);\n    System.setProperty(&quot;java.security.debug&quot;, &quot;gssloginconfig,configfile,configparser,logincontext&quot;);\n    System.setProperty(&quot;KRB5CCNAME&quot;, ticketCache);\n    System.setProperty(&quot;javax.security.auth.kerberos.ticket.cache&quot;, &quot;FILE:&quot; + ticketCache);\n    System.setProperty(&quot;KRB5_KTNAME&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;);\n    System.setProperty(&quot;user.home&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;&quot;);\n    System.setProperty(&quot;user.name&quot;, userId);\n    System.setProperty(&quot;principal&quot;, username);\n\n    String host = &quot;REMOTE.MACHINE.FQDN.COM&quot;;\n    String realm = &quot;SUBDOMAIN.DOMAIN.COM&quot;;\n\n    Configuration loginConfig = new Configuration() {\n        @Override\n        public AppConfigurationEntry[] getAppConfigurationEntry(String name) {\n            if (name.equals(loginContextName)) {\n                Map&lt;String, Object&gt; options = new HashMap&lt;&gt;();\n                options.put(&quot;useKeyTab&quot;, &quot;true&quot;);\n                options.put(&quot;useTicketCache&quot;, &quot;true&quot;);\n                options.put(&quot;debug&quot;, &quot;true&quot;);\n                options.put(&quot;principal&quot;, username);\n                options.put(&quot;ticketCache&quot;, ticketCache);\n\n                // Create a Subject that represents the current user's security context\n                Subject subject = new Subject();\n                Principal principal = new KerberosPrincipal(username);\n                subject.getPrincipals().add(principal);\n\n                options.put(&quot;javax.security.auth.subject&quot;, subject);\n                // options.put(&quot;runAs&quot;, &quot;authenticated&quot;);\n                // options.put(&quot;doNotPrompt&quot;, &quot;true&quot;);\n\n                return new AppConfigurationEntry[] {\n                        new AppConfigurationEntry(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;,\n                                AppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options) };\n            }\n            return null;\n        }\n    };\n\n    LoginContext loginContext = new LoginContext(loginContextName, null,\n            new KerberosKeytabCallbackHandler(username, keyTabFilePath), loginConfig);\n    loginContext.login();\n\n    GSSManager gssManager = GSSManager.getInstance();\n    GSSName clientName = gssManager.createName(username, GSSName.NT_USER_NAME);\n\n    GSSCredential credential = null;\n    Subject subject = null;\n    try {\n\n        subject = loginContext.getSubject();\n        credential = Subject.doAs(subject, (PrivilegedExceptionAction&lt;GSSCredential&gt;) () -&gt; {\n            return gssManager.createCredential(clientName, GSSCredential.DEFAULT_LIFETIME,\n                    new Oid(&quot;1.2.840.113554.1.2.2&quot;), GSSCredential.ACCEPT_ONLY); ---Not sure, If I should've used INITIATE_ONLY\n        });\n\n    } catch (PrivilegedActionException e) {\n        e.printStackTrace();\n    }\n    \n    Set&lt;GSSCredential&gt; gssCredentials = subject.getPrivateCredentials(GSSCredential.class);\n    gssCredentials.add(credential);\n\n    if (credential == null) {\n        throw new RuntimeException(&quot;Could not obtain Kerberos credentials for &quot; + username);\n    }\n\n    GSSContext gssContext = gssManager.createContext(clientName, new Oid(&quot;1.2.840.113554.1.2.2&quot;), credential,\n            GSSContext.DEFAULT_LIFETIME);\n    \n    gssContext.requestCredDeleg(true);\n    gssContext.requestMutualAuth(true);\n    gssContext.requestConf(true);\n    gssContext.requestInteg(true);\n    gssContext.requestReplayDet(true);\n    gssContext.requestSequenceDet(true);\n    gssContext.requestAnonymity(false);\n    gssContext.requestLifetime(GSSContext.DEFAULT_LIFETIME);\n    gssContext.setChannelBinding(null);\n\n    JSch jsch = new JSch();\n    JSch.setConfig(&quot;PreferredAuthentications&quot;, &quot;gssapi-with-mic&quot;);\n    Session session = jsch.getSession(username, host, 22);\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    UserInfo user = new KerberosUserInfo(credential, gssContext);\n    session.setUserInfo(user);\n    session.setConfig(&quot;userauth.gssapi-with-mic&quot;, &quot;com.jcraft.jsch.UserAuthGSSAPIWithMIC&quot;);\n    session.connect();\n    Channel channel = session.openChannel(&quot;exec&quot;);\n    ((ChannelExec) channel).setCommand(command);\n\n    channel.setInputStream(null);\n    ((ChannelExec) channel).setErrStream(System.err);\n\n    InputStream in = channel.getInputStream();\n    channel.connect();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    String line = null;\n    while ((line = reader.readLine()) != null) {\n        results.add(line);\n    }\n    jsch.removeAllIdentity();\n    channel.disconnect();\n    session.disconnect();\n    loginContext.logout();\n    loginConfig.refresh();\n    gssContext.dispose();\n    credential.dispose();\n\n    return results;\n}\n</code></pre>\n<p><strong>Kerberos UserInfo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class KerberosUserInfo implements UserInfo {\n\n    private GSSCredential credential;\n    private GSSContext context;\n    \n    public KerberosUserInfo(GSSCredential credential) {\n        this.credential = credential;\n    }\n\n    public KerberosUserInfo(GSSCredential credential, GSSContext context) {\n        this.credential = credential;\n        this.context = context;\n    }\n    \n    @Override\n    public String getPassphrase() {\n        return null;\n    }\n     @Override\n    public String getPassword() {\n        return null;\n    }\n     @Override\n    public boolean promptPassphrase(String message) {\n        return false;\n    }\n     @Override\n    public boolean promptPassword(String message) {\n        return false;\n    }\n\n    public boolean promptYesNo(String message) {\n        return true;\n    }\n     @Override\n    public void showMessage(String message) {\n        System.out.println(message);\n    }\n\n    /*\n     * public GSSCredential getGSSCredential() { return credential; }\n     */\n    public GSSCredential getGSSCredential() {\n        return credential;\n    }\n\n    public GSSContext getGSSContext() {\n        return context;\n    }\n\n}\n</code></pre>\n<p><strong>KerberosKeytabCallbackHandler</strong></p>\n<pre><code>public class KerberosKeytabCallbackHandler implements CallbackHandler {\n\n    private final String principal;\n    private final String keytab;\n\n    public KerberosKeytabCallbackHandler(String principal, String keytab) {\n        this.principal = Objects.requireNonNull(principal);\n        this.keytab = Objects.requireNonNull(keytab);\n    }\n\n    @Override\n    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n        for (Callback callback : callbacks) {\n            if (callback instanceof NameCallback) {\n                ((NameCallback) callback).setName(principal);\n            } else if (callback instanceof PasswordCallback) {\n                ((PasswordCallback) callback).setPassword(keytab.toCharArray());\n            } else {\n                throw new UnsupportedCallbackException(callback);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":0,"creation_date":1678966988,"post_id":75753692,"comment_id":133637236,"body_markdown":"Side-note: Your UUID components should most likely be `fixed64`. A variable-length-encoded (uint64) int has a small perf overhead and is usually only suitable for small-ish values. For big values that would normally san 4 bytes anyway, it will also be bigger and likely occupy 5 bytes. A fixed64 simply writes the inderlying `long`.","body":"Side-note: Your UUID components should most likely be <code>fixed64</code>. A variable-length-encoded (uint64) int has a small perf overhead and is usually only suitable for small-ish values. For big values that would normally san 4 bytes anyway, it will also be bigger and likely occupy 5 bytes. A fixed64 simply writes the inderlying <code>long</code>."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":0,"creation_date":1678973138,"post_id":75753692,"comment_id":133639148,"body_markdown":"FYI I looked for a way to add (Jackson) annotations to the generated code so that you could encode the values using Jackson, but apparently out of the box this is not possible: https://github.com/protocolbuffers/protobuf/issues/4635. But of course you could use a Jackson Mixin: https://stackoverflow.com/questions/59157263/how-to-map-json-to-proto-using-jackson-mixin, and specifically write a de/serializer for your UUID type while _maybe_ not having to write Jackson code for every type...? Not sure, have fun!","body":"FYI I looked for a way to add (Jackson) annotations to the generated code so that you could encode the values using Jackson, but apparently out of the box this is not possible: <a href=\"https://github.com/protocolbuffers/protobuf/issues/4635\" rel=\"nofollow noreferrer\">github.com/protocolbuffers/protobuf/issues/4635</a>. But of course you could use a Jackson Mixin: <a href=\"https://stackoverflow.com/questions/59157263/how-to-map-json-to-proto-using-jackson-mixin\" title=\"how to map json to proto using jackson mixin\">stackoverflow.com/questions/59157263/&hellip;</a>, and specifically write a de/serializer for your UUID type while <i>maybe</i> not having to write Jackson code for every type...? Not sure, have fun!"}],"owner":{"account_id":2362473,"reputation":595,"user_id":2068867,"accept_rate":75,"display_name":"Mavo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678955521,"creation_date":1678955521,"question_id":75753692,"body_markdown":"I have a protobuffer UUID message represented by two ints\r\n\r\n``` \r\nmessage ApiUUID {\r\n  uint64 most = 1;\r\n  uint64 least = 2;\r\n}\r\n```\r\n\r\nwhich is then used in all other messages\r\n\r\n```\r\nmessage Data {\r\n  ApiUUID id = 1;\r\n  string name = 2;\r\n  ..\r\n}\r\n```\r\n\r\nThis works fine when serializing to binary files, its much smaller and faster to read then the variant where UUID is a string.\r\n\r\nBut when I try to convert it to json using the built in \r\n\r\n```\r\nJsonFormat.Printer printer = JsonFormat.printer().omittingInsignificantWhitespace();\r\n        String json = printer.print(planningData);\r\n```\r\n\r\nthe ID is printed like\r\n\r\n```\r\n{&quot;id&quot;:{&quot;most&quot;:&quot;8024373369477287721&quot;,&quot;least&quot;:&quot;13459779257196482731&quot;}\r\n```\r\n\r\nIs there an option to transform the ApiUUID to JSON as a UUID string, rather then an object? So convert the most + least into UUID and print it as string.\r\n\r\nUsing Java.\r\n","title":"How to customize Protobuf message json transformation","body":"<p>I have a protobuffer UUID message represented by two ints</p>\n<pre><code>message ApiUUID {\n  uint64 most = 1;\n  uint64 least = 2;\n}\n</code></pre>\n<p>which is then used in all other messages</p>\n<pre><code>message Data {\n  ApiUUID id = 1;\n  string name = 2;\n  ..\n}\n</code></pre>\n<p>This works fine when serializing to binary files, its much smaller and faster to read then the variant where UUID is a string.</p>\n<p>But when I try to convert it to json using the built in</p>\n<pre><code>JsonFormat.Printer printer = JsonFormat.printer().omittingInsignificantWhitespace();\n        String json = printer.print(planningData);\n</code></pre>\n<p>the ID is printed like</p>\n<pre><code>{&quot;id&quot;:{&quot;most&quot;:&quot;8024373369477287721&quot;,&quot;least&quot;:&quot;13459779257196482731&quot;}\n</code></pre>\n<p>Is there an option to transform the ApiUUID to JSON as a UUID string, rather then an object? So convert the most + least into UUID and print it as string.</p>\n<p>Using Java.</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678942593,"post_id":75752175,"comment_id":133631687,"body_markdown":"I don&#39;t think there&#39;s any reason for the `Object &amp;` part.","body":"I don&#39;t think there&#39;s any reason for the <code>Object &amp;</code> part."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678947721,"post_id":75752175,"comment_id":133632309,"body_markdown":"In this context `super` and `extends` are opposites. `T extends Object` means that `T` is a *subtype*  of `Object` (or is `Object`). `? super T` means that `?` is a *supertype* of `T` or (typically) is `T`. Or put the other way around `T` is a subtype of `?`. If you had `Comparable&lt;? extends T&gt;` you had not guaranteed that every `T` can be compared to every other `T`, which you need for the method to do its work.","body":"In this context <code>super</code> and <code>extends</code> are opposites. <code>T extends Object</code> means that <code>T</code> is a <i>subtype</i>  of <code>Object</code> (or is <code>Object</code>). <code>? super T</code> means that <code>?</code> is a <i>supertype</i> of <code>T</code> or (typically) is <code>T</code>. Or put the other way around <code>T</code> is a subtype of <code>?</code>. If you had <code>Comparable&lt;? extends T&gt;</code> you had not guaranteed that every <code>T</code> can be compared to every other <code>T</code>, which you need for the method to do its work."}],"answers":[{"comments":[{"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"score":0,"creation_date":1678948307,"post_id":75752347,"comment_id":133632389,"body_markdown":"thanks a lot and are you saying &quot;T extends Comparable&lt;? super T&gt;&quot; makes sure that one of T&#39;s parent classes implements Comparable ?","body":"thanks a lot and are you saying &quot;T extends Comparable&lt;? super T&gt;&quot; makes sure that one of T&#39;s parent classes implements Comparable ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678948869,"post_id":75752347,"comment_id":133632479,"body_markdown":"Yes, and implements comparable for a class which `T` &quot;is-a&quot;.","body":"Yes, and implements comparable for a class which <code>T</code> &quot;is-a&quot;."},{"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"score":0,"creation_date":1678951443,"post_id":75752347,"comment_id":133632953,"body_markdown":"one more question, why do we need this part &quot;T extends Object &amp;&quot; , say, why do we need t to extend Object?","body":"one more question, why do we need this part &quot;T extends Object &amp;&quot; , say, why do we need t to extend Object?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678952578,"post_id":75752347,"comment_id":133633204,"body_markdown":"I dont know why they did that  I dont think its needed. Perhaps an older version of Jave needed it?","body":"I dont know why they did that  I dont think its needed. Perhaps an older version of Jave needed it?"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678948834,"creation_date":1678943150,"answer_id":75752347,"question_id":75752175,"body_markdown":"You can certainly write the method signature as\r\n```\r\npublic static &lt;T extends Comparable&lt;T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end)\r\n```\r\nAnd that works perfectly well with most types.\r\n\r\nBut it is more strict than we need.\r\n\r\nConsider:\r\n```\r\nclass Aa implements Comparable&lt;Aa&gt; {\r\n    @Override\r\n    public int compareTo(Aa o) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nclass Bb extends Aa {}\r\n```\r\nEvery instance of `Bb` knows how to compare itself with another instance of `Bb` (because a `Bb` IS-A `Aa`), but it does *not* `extend Comparable&lt;Bb&gt;`.\r\n\r\nAll we need is that we can compare two instances of the type, which is satisfied by checking that it or one of its parent classes implements `Comparable`.\r\n\r\n`T extends Comparable&lt;? super T&gt;` requires that `T` implements `Comparable&lt;X&gt;` (either directly or via a superclass) where `X` is a superclass of `T`.\r\n\r\nIn our example above `class Aa implements Comparable&lt;Object&gt;` would also be fine.\r\n\r\nUsing `T extends Comparable&lt;?&gt;` doesn&#39;t work, because when we call `compareTo` all we know is that `T` can be compared to some unknown class, we don&#39;t know that it can be compared to `T`.","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>You can certainly write the method signature as</p>\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end)\n</code></pre>\n<p>And that works perfectly well with most types.</p>\n<p>But it is more strict than we need.</p>\n<p>Consider:</p>\n<pre><code>class Aa implements Comparable&lt;Aa&gt; {\n    @Override\n    public int compareTo(Aa o) {\n        return 0;\n    }\n}\n\nclass Bb extends Aa {}\n</code></pre>\n<p>Every instance of <code>Bb</code> knows how to compare itself with another instance of <code>Bb</code> (because a <code>Bb</code> IS-A <code>Aa</code>), but it does <em>not</em> <code>extend Comparable&lt;Bb&gt;</code>.</p>\n<p>All we need is that we can compare two instances of the type, which is satisfied by checking that it or one of its parent classes implements <code>Comparable</code>.</p>\n<p><code>T extends Comparable&lt;? super T&gt;</code> requires that <code>T</code> implements <code>Comparable&lt;X&gt;</code> (either directly or via a superclass) where <code>X</code> is a superclass of <code>T</code>.</p>\n<p>In our example above <code>class Aa implements Comparable&lt;Object&gt;</code> would also be fine.</p>\n<p>Using <code>T extends Comparable&lt;?&gt;</code> doesn't work, because when we call <code>compareTo</code> all we know is that <code>T</code> can be compared to some unknown class, we don't know that it can be compared to <code>T</code>.</p>\n"},{"comments":[{"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"score":0,"creation_date":1679084757,"post_id":75753678,"comment_id":133664119,"body_markdown":"sorry, i really have huge trouble understanding the broken English in your post...","body":"sorry, i really have huge trouble understanding the broken English in your post..."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1679190086,"post_id":75753678,"comment_id":133676768,"body_markdown":"@davidandcode understand, because my English is really bad and I am studying. \nHahahahaha...","body":"@davidandcode understand, because my English is really bad and I am studying.  Hahahahaha..."}],"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678955422,"creation_date":1678955422,"answer_id":75753678,"question_id":75752175,"body_markdown":"The simple answer is the following two things\r\n\r\nIn `List&lt;? extends T&gt; list` any element is `T` or a subclass of `T`, `&lt;T extends Comparable&lt;? super T&gt;&gt;` ensure that any elements in the List implement the same parent type compar interface(If use `&lt;T extends Comparable&lt;? extends T&gt;&gt;`, there is no guarantee of this, imagine if T is Number, then `&lt;T extends Number&gt;` could be `Float`, `List&lt;? extends T&gt;` mayber `Integer`, `Float` and `Integer` have no inheritance relationship and cannot be compared directly)\r\n\r\n`T extends Object`, Let me tell you a scene, you need to write like this, About 10 years ago, we would compile the web packaged into a war package. If there were 100 files in it, we might only modify one of the files. At this time, we would decompress the war package and compile the modified class to get it \r\nThe class file is copied separately to tomcat in the production environment.\r\n\r\nIf this is the code before modification:\r\n\r\n    public static &lt;T&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nDue to generic erasure, after compilation, it will become like this (note that it is only schematic, because it is bytecode after compilation, you can understand it as this):\r\n\r\n    public static int method(Object obj) {\r\n        //...\r\n    }\r\n\r\nTherefore, to call this method, the referenced method signature is `int method(Object)`\r\n\r\nIf you modify this method, make it bound by the interface, like this:\r\n\r\n    public static &lt;T extends CharSequence&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nAt this time, after compilation, the method signature will become `int method(CharSequence)`\r\n\r\nIf you directly move the compiled class of this class to tomcat, then the location where it is called will report an error.\r\n\r\nThe solution is to use `&lt;T extends Object &amp; CharSequence&gt;`:\r\n\r\n    public static &lt;T extends Object &amp; CharSequence&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nWhen the generic type is erased, the type before the first &amp; symbol will be retained, at this time, his method signature is still `int method(Object)`","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>The simple answer is the following two things</p>\n<p>In <code>List&lt;? extends T&gt; list</code> any element is <code>T</code> or a subclass of <code>T</code>, <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code> ensure that any elements in the List implement the same parent type compar interface(If use <code>&lt;T extends Comparable&lt;? extends T&gt;&gt;</code>, there is no guarantee of this, imagine if T is Number, then <code>&lt;T extends Number&gt;</code> could be <code>Float</code>, <code>List&lt;? extends T&gt;</code> mayber <code>Integer</code>, <code>Float</code> and <code>Integer</code> have no inheritance relationship and cannot be compared directly)</p>\n<p><code>T extends Object</code>, Let me tell you a scene, you need to write like this, About 10 years ago, we would compile the web packaged into a war package. If there were 100 files in it, we might only modify one of the files. At this time, we would decompress the war package and compile the modified class to get it\nThe class file is copied separately to tomcat in the production environment.</p>\n<p>If this is the code before modification:</p>\n<pre><code>public static &lt;T&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>Due to generic erasure, after compilation, it will become like this (note that it is only schematic, because it is bytecode after compilation, you can understand it as this):</p>\n<pre><code>public static int method(Object obj) {\n    //...\n}\n</code></pre>\n<p>Therefore, to call this method, the referenced method signature is <code>int method(Object)</code></p>\n<p>If you modify this method, make it bound by the interface, like this:</p>\n<pre><code>public static &lt;T extends CharSequence&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>At this time, after compilation, the method signature will become <code>int method(CharSequence)</code></p>\n<p>If you directly move the compiled class of this class to tomcat, then the location where it is called will report an error.</p>\n<p>The solution is to use <code>&lt;T extends Object &amp; CharSequence&gt;</code>:</p>\n<pre><code>public static &lt;T extends Object &amp; CharSequence&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>When the generic type is erased, the type before the first &amp; symbol will be retained, at this time, his method signature is still <code>int method(Object)</code></p>\n"}],"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678955422,"creation_date":1678940780,"question_id":75752175,"body_markdown":"My question is in the following code, why `Comparable&lt;? super T&gt;` instead of `Comparable&lt;? extends T&gt;` or `Comparable&lt;T&gt;`?\r\n\r\nThe comparable can compare `T`&#39;s ancestors but in the list we only have `T`&#39;s subtypes?\r\n\r\nAlso, why `T extends Object`, isn&#39;t this by default? \r\n\r\n\r\nWrite a generic method to find the maximal element in the range [begin, end) of a list.\r\n\r\nAnswer:\r\n\r\n```java\r\npublic static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end) {\r\n\r\n    T maxElem = list.get(begin);\r\n\r\n    for (++begin; begin &lt; end; ++begin)\r\n        if (maxElem.compareTo(list.get(begin)) &lt; 0)\r\n            maxElem = list.get(begin);\r\n    return maxElem;\r\n}\r\n```\r\n\r\nthis is from the six edition of the Java tutorial: a short course on the basics by ray gallardo et al.","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>My question is in the following code, why <code>Comparable&lt;? super T&gt;</code> instead of <code>Comparable&lt;? extends T&gt;</code> or <code>Comparable&lt;T&gt;</code>?</p>\n<p>The comparable can compare <code>T</code>'s ancestors but in the list we only have <code>T</code>'s subtypes?</p>\n<p>Also, why <code>T extends Object</code>, isn't this by default?</p>\n<p>Write a generic method to find the maximal element in the range [begin, end) of a list.</p>\n<p>Answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end) {\n\n    T maxElem = list.get(begin);\n\n    for (++begin; begin &lt; end; ++begin)\n        if (maxElem.compareTo(list.get(begin)) &lt; 0)\n            maxElem = list.get(begin);\n    return maxElem;\n}\n</code></pre>\n<p>this is from the six edition of the Java tutorial: a short course on the basics by ray gallardo et al.</p>\n"},{"tags":["java","android","flutter","nfc","rfid"],"comments":[{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1678959265,"post_id":75753516,"comment_id":133634909,"body_markdown":"Does this answer your question? [Use Phone NFC Chip to emulate Mifare card](https://stackoverflow.com/questions/70187048/use-phone-nfc-chip-to-emulate-mifare-card)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70187048/use-phone-nfc-chip-to-emulate-mifare-card\">Use Phone NFC Chip to emulate Mifare card</a>"},{"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"score":0,"creation_date":1678961007,"post_id":75753516,"comment_id":133635430,"body_markdown":"Actualy the reader can read my phone when NFC is enable I got 01020304 and some id. but I dont know how to send diffrent data or id.\n\nthe phone which I use for test is LG V20","body":"Actualy the reader can read my phone when NFC is enable I got 01020304 and some id. but I dont know how to send diffrent data or id.  the phone which I use for test is LG V20"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1678967870,"post_id":75753516,"comment_id":133637479,"body_markdown":"Kindly note that Stackoverflow is not a free code writing service. The question &quot;how to read from and write to a Mifare classic card&quot; is not so unusual here on SO to find a lot of places to start with.","body":"Kindly note that Stackoverflow is not a free code writing service. The question &quot;how to read from and write to a Mifare classic card&quot; is not so unusual here on SO to find a lot of places to start with."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":1,"creation_date":1678972791,"post_id":75753516,"comment_id":133639032,"body_markdown":"@Enes Reading the NfcA UID that is randomly generated by the phone is common to many different tag technologies, the phone can emulate a Type 4 Tag with an HCE service but other then the very low level UID that is totally different to how a Mifare Classic behaves.","body":"@Enes Reading the NfcA UID that is randomly generated by the phone is common to many different tag technologies, the phone can emulate a Type 4 Tag with an HCE service but other then the very low level UID that is totally different to how a Mifare Classic behaves."},{"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"score":0,"creation_date":1678973222,"post_id":75753516,"comment_id":133639182,"body_markdown":"@MichaelFehr I don&#39;t need from you any free code I just need information who experience NFC&amp;RFID cominication.","body":"@MichaelFehr I don&#39;t need from you any free code I just need information who experience NFC&amp;RFID cominication."}],"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678955295,"creation_date":1678954217,"question_id":75753516,"body_markdown":"**my RFID reader Info:**\r\n\r\n**Protocol**        : ISO1443A\r\n\r\n**Frequency**       : 13,56MHz\r\n\r\n**Voltage**         : 7-12V ile 3,3-5V\r\n\r\n**Flow**            : 60-100mA\r\n\r\n**Supported Cards** : S50, S70, Ultralight, Desfire, Mifare, Mifare Plus, Mifare Pro\r\n\r\n\r\n**Working card Info:**\r\n\r\n**Tag Type**: ISO 14443-3A\r\n\r\nNXP- Mifare Classic 1k\r\n\r\n**Technologies avaliable**: NfcA, MifareClassic, Ndef\r\n\r\n\r\n**Question** is this: It is possiable to Emulate this card with NFC mobile devices on RFID reader ?\r\n\r\nNot: When I Tap My phone on RFID reader the reader is show 01020304 value on screen its reading actualy but how can send diffrend data like cardID.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uan9Y.jpg","title":"Emulate NXP - Mifare Classic 1k","body":"<p><strong>my RFID reader Info:</strong></p>\n<p><strong>Protocol</strong>        : ISO1443A</p>\n<p><strong>Frequency</strong>       : 13,56MHz</p>\n<p><strong>Voltage</strong>         : 7-12V ile 3,3-5V</p>\n<p><strong>Flow</strong>            : 60-100mA</p>\n<p><strong>Supported Cards</strong> : S50, S70, Ultralight, Desfire, Mifare, Mifare Plus, Mifare Pro</p>\n<p><strong>Working card Info:</strong></p>\n<p><strong>Tag Type</strong>: ISO 14443-3A</p>\n<p>NXP- Mifare Classic 1k</p>\n<p><strong>Technologies avaliable</strong>: NfcA, MifareClassic, Ndef</p>\n<p><strong>Question</strong> is this: It is possiable to Emulate this card with NFC mobile devices on RFID reader ?</p>\n<p>Not: When I Tap My phone on RFID reader the reader is show 01020304 value on screen its reading actualy but how can send diffrend data like cardID.</p>\n<p><a href=\"https://i.stack.imgur.com/uan9Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uan9Y.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","erp","ofbiz"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1678896760,"post_id":75746972,"comment_id":133623115,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nAbsolutely no reason not to copy-paste from Powershell. Also: *but I still get an error.* How did you imagine it would help to *not* post that error too?","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Absolutely no reason not to copy-paste from Powershell. Also: <i>but I still get an error.</i> How did you imagine it would help to <i>not</i> post that error too?"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678907080,"post_id":75746972,"comment_id":133626012,"body_markdown":"What&#39;s the gradle version found in `gradle/wrapper/gradle-wrapper.properties`?\nAlso, is there a `gradlew` and `gradlew.bat` file in the root directory of your project?","body":"What&#39;s the gradle version found in <code>gradle&#47;wrapper&#47;gradle-wrapper.properties</code>? Also, is there a <code>gradlew</code> and <code>gradlew.bat</code> file in the root directory of your project?"},{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1678908043,"post_id":75746972,"comment_id":133626275,"body_markdown":"please try `./gradlew cleanAll loadAll`  instead of `gradlew cleanAll loadAll`, this will get rid of the error `The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program`","body":"please try <code>.&#47;gradlew cleanAll loadAll</code>  instead of <code>gradlew cleanAll loadAll</code>, this will get rid of the error <code>The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program</code>"}],"owner":{"account_id":28024631,"reputation":1,"user_id":21404867,"display_name":"Nh Hng Nguyn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678955242,"creation_date":1678894862,"question_id":75746972,"body_markdown":"I have a subject at school where I have to install the Apache Ofbiz ERP software. I have downloaded Ofbiz version 18.12.06 and Java 8. Then I followed the instructions in the &#39;README&#39; file. But when I run the command `gradlew cleanAll loadAll`, I get an error message \r\n```\r\ngradlew : The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the \r\nspelling of the name, or if a path was included, verify that the path is correct and try again.\r\nAt line:1 char:1\r\n+ gradlew cleanAll loadAll\r\n+ ~~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (gradlew:String) [], CommandNotFoundException\r\n    + FullyQualifiedErrorId : CommandNotFoundException\r\n ```\r\nThen I installed Gradle-4.9 and ran the &#39;gradle cleanAll loadAll&#39; command, but I still get an error.\r\n```\r\ngradle : \r\nAt line:1 char:1\r\n+ gradle cleanAll loadAll\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : NotSpecified: (:String) [], RemoteException\r\n    + FullyQualifiedErrorId : NativeCommandError\r\n \r\nFAILURE: Build failed with an exception.\r\n* Where:\r\nBuild file &#39;C:\\Users\\HP\\Downloads\\apache-ofbiz-18.12.06\\apache-ofbiz-18.12.06\\build.gradle&#39; line: 60\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;ofbiz&#39;.\r\n&gt; Could not find method java() for arguments [build_4rt6fvg59269rv3cik9godb792$_run_closure1@f6900a] on root project &#39;ofbiz&#39;.\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n``` \r\nI really hope to receive help from everyone.\r\n\r\nI then tried installing different versions of Gradle, but the issue persists. I also tried installing Ant-Apache as instructed in some online resources, but it didn&#39;t solve the problem.","title":"Error: gradlew: The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program.(Apache ofbiz)","body":"<p>I have a subject at school where I have to install the Apache Ofbiz ERP software. I have downloaded Ofbiz version 18.12.06 and Java 8. Then I followed the instructions in the 'README' file. But when I run the command <code>gradlew cleanAll loadAll</code>, I get an error message</p>\n<pre><code>gradlew : The term 'gradlew' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the \nspelling of the name, or if a path was included, verify that the path is correct and try again.\nAt line:1 char:1\n+ gradlew cleanAll loadAll\n+ ~~~~~~~\n    + CategoryInfo          : ObjectNotFound: (gradlew:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException\n</code></pre>\n<p>Then I installed Gradle-4.9 and ran the 'gradle cleanAll loadAll' command, but I still get an error.</p>\n<pre><code>gradle : \nAt line:1 char:1\n+ gradle cleanAll loadAll\n+ ~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:String) [], RemoteException\n    + FullyQualifiedErrorId : NativeCommandError\n \nFAILURE: Build failed with an exception.\n* Where:\nBuild file 'C:\\Users\\HP\\Downloads\\apache-ofbiz-18.12.06\\apache-ofbiz-18.12.06\\build.gradle' line: 60\n* What went wrong:\nA problem occurred evaluating root project 'ofbiz'.\n&gt; Could not find method java() for arguments [build_4rt6fvg59269rv3cik9godb792$_run_closure1@f6900a] on root project 'ofbiz'.\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n<p>I really hope to receive help from everyone.</p>\n<p>I then tried installing different versions of Gradle, but the issue persists. I also tried installing Ant-Apache as instructed in some online resources, but it didn't solve the problem.</p>\n"},{"tags":["java","bigdecimal","floating-point-precision"],"comments":[{"owner":{"display_name":"user684934"},"score":0,"creation_date":1330436396,"post_id":9482889,"comment_id":12001983,"body_markdown":"Have you tried giving the constructor a MathContext?","body":"Have you tried giving the constructor a MathContext?"},{"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"score":1,"creation_date":1362505209,"post_id":9482889,"comment_id":21471382,"body_markdown":"If I see correctly you are talking about decimal places, not floating point precision. At least the accepted answer will result in 12 decimal places, not 12 digits of precision.","body":"If I see correctly you are talking about decimal places, not floating point precision. At least the accepted answer will result in 12 decimal places, not 12 digits of precision."}],"answers":[{"comments":[{"owner":{"account_id":447229,"reputation":2157,"user_id":840736,"accept_rate":66,"display_name":"Jason"},"score":1,"creation_date":1330436597,"post_id":9482963,"comment_id":12002050,"body_markdown":"Duh.  Looking back at the error that i got, it said rounding was necessary.  I had only done .setScale(12).  Once i confirm it works, i&#39;ll make it as answered.  Thanks.","body":"Duh.  Looking back at the error that i got, it said rounding was necessary.  I had only done .setScale(12).  Once i confirm it works, i&#39;ll make it as answered.  Thanks."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1330436694,"post_id":9482963,"comment_id":12002094,"body_markdown":"I don&#39;t know why its doesn&#39;t just use a default rounding method like casting does, I have only seen ROUND_HALF_UP used.  It is rather pedantic. ;)","body":"I don&#39;t know why its doesn&#39;t just use a default rounding method like casting does, I have only seen ROUND_HALF_UP used.  It is rather pedantic. ;)"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1663656144,"post_id":9482963,"comment_id":130284741,"body_markdown":"I&#39;m confused. The question talks about precision but your answer talks about scale. Is the question using the wrong terminology or the answer? As far as I can tell, BigDecimal&#39;s precision and scale are mutually exclusive concepts.","body":"I&#39;m confused. The question talks about precision but your answer talks about scale. Is the question using the wrong terminology or the answer? As far as I can tell, BigDecimal&#39;s precision and scale are mutually exclusive concepts."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1330436443,"creation_date":1330436443,"answer_id":9482963,"question_id":9482889,"body_markdown":"You can use [setScale()][1] e.g.\r\n\r\n    double d = ...\r\n    BigDecimal db = new BigDecimal(d).setScale(12, BigDecimal.ROUND_HALF_UP);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale%28int,%20int%29","title":"Set specific precision of a BigDecimal","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale%28int,%20int%29\">setScale()</a> e.g.</p>\n\n<pre><code>double d = ...\nBigDecimal db = new BigDecimal(d).setScale(12, BigDecimal.ROUND_HALF_UP);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":2,"creation_date":1414685148,"post_id":20365270,"comment_id":41917940,"body_markdown":"What about `BigDecimal.round(new MathContext(precision, RoundingModel.ROUND_HALF_EVEN))`?","body":"What about <code>BigDecimal.round(new MathContext(precision, RoundingModel.ROUND_HALF_EVEN))</code>?"},{"owner":{"account_id":38239,"reputation":31889,"user_id":109618,"accept_rate":84,"display_name":"David J."},"score":1,"creation_date":1414767225,"post_id":20365270,"comment_id":41953949,"body_markdown":"@PaloEbermann Are you asking or suggesting? Have you tried it? Care sharing the detailed results for the examples I run through in my answer? If so, I think it warrants a separate answer.","body":"@PaloEbermann Are you asking or suggesting? Have you tried it? Care sharing the detailed results for the examples I run through in my answer? If so, I think it warrants a separate answer."},{"owner":{"account_id":4576460,"reputation":1015,"user_id":3714913,"display_name":"Nateowami"},"score":5,"creation_date":1427204641,"post_id":20365270,"comment_id":46674452,"body_markdown":"For anyone who&#39;s like me and doesn&#39;t know a bit of Clojure, I think the solution shown here is `x.setScale(x.scale() + p - x.precision(), RoundingMode.HALF_UP)`, where `x` is the `BigDecimal` you want to round,  and `p` is the number of significant figures you want to keep. It&#39;s working for me, but correct me if I&#39;m wrong!","body":"For anyone who&#39;s like me and doesn&#39;t know a bit of Clojure, I think the solution shown here is <code>x.setScale(x.scale() + p - x.precision(), RoundingMode.HALF_UP)</code>, where <code>x</code> is the <code>BigDecimal</code> you want to round,  and <code>p</code> is the number of significant figures you want to keep. It&#39;s working for me, but correct me if I&#39;m wrong!"},{"owner":{"account_id":242279,"reputation":349,"user_id":513690,"display_name":"Kr1z"},"score":0,"creation_date":1534498634,"post_id":20365270,"comment_id":90735829,"body_markdown":"@Nateowami I like your solution but unfortunately it doesn&#39;t seem to work correctly in the corner case, e.g. for 99.99. Your statement (for 3 significant digits) turns this into 100.0 while it should be just 100. There&#39;s 1 extra significant digit because the &#39;overflow&#39; of 99 to 100","body":"@Nateowami I like your solution but unfortunately it doesn&#39;t seem to work correctly in the corner case, e.g. for 99.99. Your statement (for 3 significant digits) turns this into 100.0 while it should be just 100. There&#39;s 1 extra significant digit because the &#39;overflow&#39; of 99 to 100"},{"owner":{"account_id":4576460,"reputation":1015,"user_id":3714913,"display_name":"Nateowami"},"score":0,"creation_date":1534575052,"post_id":20365270,"comment_id":90762610,"body_markdown":"@Kr1z Good point. Guessing that&#39;s a limitation of this answer. Only thing I can think of would be to check afterwards and round again if the number of digits was wrong. I don&#39;t think it&#39;s possible for it to add a digit the second time.","body":"@Kr1z Good point. Guessing that&#39;s a limitation of this answer. Only thing I can think of would be to check afterwards and round again if the number of digits was wrong. I don&#39;t think it&#39;s possible for it to add a digit the second time."}],"tags":[],"owner":{"account_id":38239,"reputation":31889,"user_id":109618,"accept_rate":84,"display_name":"David J."},"comment_count":5,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1386181788,"creation_date":1386121388,"answer_id":20365270,"question_id":9482889,"body_markdown":"The title of the question asks about precision. [BigDecimal] distinguishes between scale and precision. Scale is the number of decimal places. You can think of precision as the number of [significant figures](https://en.wikipedia.org/wiki/Significant_figures), also known as significant digits.\r\n\r\nSome examples in Clojure.\r\n\r\n&lt;!-- language-all: clojure --&gt;\r\n\r\n    (.scale     0.00123M) ; 5\r\n    (.precision 0.00123M) ; 3\r\n\r\n(In Clojure, The `M` designates a BigDecimal literal. You can translate the Clojure to Java if you like, but I find it to be more compact than Java!)\r\n\r\nYou can easily increase the scale:\r\n\r\n    (.setScale 0.00123M 7) ; 0.0012300M\r\n\r\nBut you can&#39;t *decrease* the scale in the exact same way:\r\n\r\n    (.setScale 0.00123M 3) ; ArithmeticException Rounding necessary\r\n\r\nYou&#39;ll need to pass a rounding mode too:\r\n\r\n    (.setScale 0.00123M 3 BigDecimal/ROUND_HALF_EVEN) ;\r\n    ; Note: BigDecimal would prefer that you use the MathContext rounding\r\n    ; constants, but I don&#39;t have them at my fingertips right now.\r\n\r\nSo, it is easy to change the scale. But what about precision? This is not as easy as you might hope!\r\n\r\nIt is easy to *decrease* the precision:\r\n\r\n    (.round 3.14159M (java.math.MathContext. 3)) ; 3.14M\r\n\r\nBut it is not obvious how to *increase* the precision:\r\n\r\n    (.round 3.14159M (java.math.MathContext. 7)) ; 3.14159M (unexpected)\r\n\r\nFor the skeptical, this is *not* just a matter of trailing zeros not being displayed:\r\n\r\n    (.precision (.round 3.14159M (java.math.MathContext. 7))) ; 6 \r\n    ; (same as above, still unexpected)\r\n\r\nFWIW, Clojure is careful with trailing zeros and *will* show them:\r\n\r\n    4.0000M ; 4.0000M\r\n    (.precision 4.0000M) ; 5\r\n\r\nBack on track... You can try using a [BigDecimal] constructor, but it does not set the precision any higher than the number of digits you specify:\r\n\r\n    (BigDecimal. &quot;3&quot; (java.math.MathContext. 5)) ; 3M\r\n    (BigDecimal. &quot;3.1&quot; (java.math.MathContext. 5)) ; 3.1M\r\n\r\nSo, there is no quick way to change the precision. I&#39;ve spent time fighting this while writing up this question and with a project I&#39;m working on. I consider this, at best, A CRAZYTOWN API, and at worst a bug. People. Seriously?\r\n\r\nSo, best I can tell, if you want to change precision, you&#39;ll need to do these steps:\r\n\r\n1. Lookup the current precision.\r\n2. Lookup the current scale.\r\n5. Calculate the scale change.\r\n6. Set the new scale\r\n\r\nThese steps, as Clojure code:\r\n\r\n    (def x 0.000691M) ; the input number\r\n    (def p&#39; 1) ; desired precision\r\n    (def s&#39; (+ (.scale x) p&#39; (- (.precision x)))) ; desired new scale\r\n    (.setScale x s&#39; BigDecimal/ROUND_HALF_EVEN)\r\n    ; 0.0007M\r\n\r\nI know, this is a lot of steps just to change the precision!\r\n\r\nWhy doesn&#39;t BigDecimal already provide this? Did I overlook something?\r\n\r\n[BigDecimal]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\n[MathContext]: http://docs.oracle.com/javase/7/docs/api/java/math/MathContext.html","title":"Set specific precision of a BigDecimal","body":"<p>The title of the question asks about precision. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a> distinguishes between scale and precision. Scale is the number of decimal places. You can think of precision as the number of <a href=\"https://en.wikipedia.org/wiki/Significant_figures\" rel=\"noreferrer\">significant figures</a>, also known as significant digits.</p>\n\n<p>Some examples in Clojure.</p>\n\n\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.scale     0.00123M) ; 5\n(.precision 0.00123M) ; 3\n</code></pre>\n\n<p>(In Clojure, The <code>M</code> designates a BigDecimal literal. You can translate the Clojure to Java if you like, but I find it to be more compact than Java!)</p>\n\n<p>You can easily increase the scale:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 7) ; 0.0012300M\n</code></pre>\n\n<p>But you can't <em>decrease</em> the scale in the exact same way:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 3) ; ArithmeticException Rounding necessary\n</code></pre>\n\n<p>You'll need to pass a rounding mode too:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 3 BigDecimal/ROUND_HALF_EVEN) ;\n; Note: BigDecimal would prefer that you use the MathContext rounding\n; constants, but I don't have them at my fingertips right now.\n</code></pre>\n\n<p>So, it is easy to change the scale. But what about precision? This is not as easy as you might hope!</p>\n\n<p>It is easy to <em>decrease</em> the precision:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.round 3.14159M (java.math.MathContext. 3)) ; 3.14M\n</code></pre>\n\n<p>But it is not obvious how to <em>increase</em> the precision:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.round 3.14159M (java.math.MathContext. 7)) ; 3.14159M (unexpected)\n</code></pre>\n\n<p>For the skeptical, this is <em>not</em> just a matter of trailing zeros not being displayed:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.precision (.round 3.14159M (java.math.MathContext. 7))) ; 6 \n; (same as above, still unexpected)\n</code></pre>\n\n<p>FWIW, Clojure is careful with trailing zeros and <em>will</em> show them:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>4.0000M ; 4.0000M\n(.precision 4.0000M) ; 5\n</code></pre>\n\n<p>Back on track... You can try using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a> constructor, but it does not set the precision any higher than the number of digits you specify:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(BigDecimal. \"3\" (java.math.MathContext. 5)) ; 3M\n(BigDecimal. \"3.1\" (java.math.MathContext. 5)) ; 3.1M\n</code></pre>\n\n<p>So, there is no quick way to change the precision. I've spent time fighting this while writing up this question and with a project I'm working on. I consider this, at best, A CRAZYTOWN API, and at worst a bug. People. Seriously?</p>\n\n<p>So, best I can tell, if you want to change precision, you'll need to do these steps:</p>\n\n<ol>\n<li>Lookup the current precision.</li>\n<li>Lookup the current scale.</li>\n<li>Calculate the scale change.</li>\n<li>Set the new scale</li>\n</ol>\n\n<p>These steps, as Clojure code:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(def x 0.000691M) ; the input number\n(def p' 1) ; desired precision\n(def s' (+ (.scale x) p' (- (.precision x)))) ; desired new scale\n(.setScale x s' BigDecimal/ROUND_HALF_EVEN)\n; 0.0007M\n</code></pre>\n\n<p>I know, this is a lot of steps just to change the precision!</p>\n\n<p>Why doesn't BigDecimal already provide this? Did I overlook something?</p>\n"},{"tags":[],"owner":{"account_id":3245577,"reputation":74,"user_id":2737267,"display_name":"E Hashmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523660480,"creation_date":1390479602,"answer_id":21307990,"question_id":9482889,"body_markdown":"     BigDecimal decPrec = (BigDecimal)yo.get(&quot;Avg&quot;);\r\n     decPrec = decPrec.setScale(5, RoundingMode.CEILING);\r\n     String value= String.valueOf(decPrec);\r\n\r\nThis way you can set specific precision of a `BigDecimal`.\r\n\r\nThe value of decPrec was `1.5726903423607562595809913132345426`\r\nwhich is rounded off to `1.57267`.\r\n\r\n","title":"Set specific precision of a BigDecimal","body":"<pre><code> BigDecimal decPrec = (BigDecimal)yo.get(\"Avg\");\n decPrec = decPrec.setScale(5, RoundingMode.CEILING);\n String value= String.valueOf(decPrec);\n</code></pre>\n\n<p>This way you can set specific precision of a <code>BigDecimal</code>.</p>\n\n<p>The value of decPrec was <code>1.5726903423607562595809913132345426</code>\nwhich is rounded off to <code>1.57267</code>.</p>\n"},{"tags":[],"owner":{"account_id":8590107,"reputation":61,"user_id":6434959,"display_name":"Hakan Anlamaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468238544,"creation_date":1468238544,"answer_id":38306448,"question_id":9482889,"body_markdown":"Try this code ...\r\n\r\n  \r\n\r\n        Integer perc = 5;\r\n        BigDecimal spread = BigDecimal.ZERO; \r\n        BigDecimal perc = spread.setScale(perc,BigDecimal.ROUND_HALF_UP);\r\n        System.out.println(perc);\r\n\r\nResult: 0.00000\r\n\r\n","title":"Set specific precision of a BigDecimal","body":"<p>Try this code ...</p>\n\n<pre><code>    Integer perc = 5;\n    BigDecimal spread = BigDecimal.ZERO; \n    BigDecimal perc = spread.setScale(perc,BigDecimal.ROUND_HALF_UP);\n    System.out.println(perc);\n</code></pre>\n\n<p>Result: 0.00000</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663657111,"creation_date":1663657111,"answer_id":73782704,"question_id":9482889,"body_markdown":"A BigDecimal&#39;s scale and precision are mutually-exclusive concepts. Quoting https://stackoverflow.com/a/35435775/14731:\r\n\r\n&gt; **Precision**: Total number of significant digits\r\n&gt;\r\n&gt; **Scale**: Number of digits to the right of the decimal point\r\n\r\nTo change a BigDecimal&#39;s precision, use `BigDecimal.round(new MathContext(precision, roundingMode))`.\r\n\r\nTo change a BigDecimal&#39;s scale, use `BigDecimal.setScale(scale, roundingMode)`.","title":"Set specific precision of a BigDecimal","body":"<p>A BigDecimal's scale and precision are mutually-exclusive concepts. Quoting <a href=\"https://stackoverflow.com/a/35435775/14731\">https://stackoverflow.com/a/35435775/14731</a>:</p>\n<blockquote>\n<p><strong>Precision</strong>: Total number of significant digits</p>\n<p><strong>Scale</strong>: Number of digits to the right of the decimal point</p>\n</blockquote>\n<p>To change a BigDecimal's precision, use <code>BigDecimal.round(new MathContext(precision, roundingMode))</code>.</p>\n<p>To change a BigDecimal's scale, use <code>BigDecimal.setScale(scale, roundingMode)</code>.</p>\n"},{"tags":[],"owner":{"account_id":10974567,"reputation":101,"user_id":8063630,"display_name":"Prashant_Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678954768,"creation_date":1678954768,"answer_id":75753577,"question_id":9482889,"body_markdown":"Precision and scale are two very important terms when dealing with BigDecimals, to set them individually or setting both you can try:\r\n\r\n    1. Precision\r\n    \r\n        BigDecimal.ZERO.round(new MathContext(30, RoundingMode.FLOOR)); or \r\n    \r\n        BigDecimal.valueOf(5878).round(new MathContext(10, RoundingMode.FLOOR));\r\n    \r\n    2. Scale\r\n    \r\n        BigDecimal.valueOf(5878).setScale(7, RoundingMode.CEILING);\r\n    \r\n    3. Both precision and scale\r\n    \r\n        BigDecimal.ONE.round(new MathContext(30, RoundingMode.FLOOR)).setScale(7, RoundingMode.FLOOR);\r\n\r\n&gt; For example: Input: 321231.324 Precision: 9 Scale: 3","title":"Set specific precision of a BigDecimal","body":"<p>Precision and scale are two very important terms when dealing with BigDecimals, to set them individually or setting both you can try:</p>\n<pre><code>1. Precision\n\n    BigDecimal.ZERO.round(new MathContext(30, RoundingMode.FLOOR)); or \n\n    BigDecimal.valueOf(5878).round(new MathContext(10, RoundingMode.FLOOR));\n\n2. Scale\n\n    BigDecimal.valueOf(5878).setScale(7, RoundingMode.CEILING);\n\n3. Both precision and scale\n\n    BigDecimal.ONE.round(new MathContext(30, RoundingMode.FLOOR)).setScale(7, RoundingMode.FLOOR);\n</code></pre>\n<blockquote>\n<p>For example: Input: 321231.324 Precision: 9 Scale: 3</p>\n</blockquote>\n"}],"owner":{"account_id":447229,"reputation":2157,"user_id":840736,"accept_rate":66,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133809,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":20365270,"answer_count":6,"score":59,"last_activity_date":1678954768,"creation_date":1330436158,"question_id":9482889,"body_markdown":"I have an [XSD] that requires me to use a BigDecimal for a lat/lon.  I currently have the lat/lon as doubles, and convert them to BigDecimal, but I am only required to use about 12 places of precision.  I have not been able to figure out how to set that.  Can anyone help me with this?\r\n\r\n[XSD]: https://en.wikipedia.org/wiki/XSD","title":"Set specific precision of a BigDecimal","body":"<p>I have an <a href=\"https://en.wikipedia.org/wiki/XSD\">XSD</a> that requires me to use a BigDecimal for a lat/lon.  I currently have the lat/lon as doubles, and convert them to BigDecimal, but I am only required to use about 12 places of precision.  I have not been able to figure out how to set that.  Can anyone help me with this?</p>\n"},{"tags":["java","spring-boot","microservices"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678932828,"post_id":75751602,"comment_id":133630557,"body_markdown":"i think i had a similar error before. inside some of the dependencies, they import other libraries that could conflict with each other. So you should ccheck each dependency and exclude the conflicting dependencies which in this case are Logback or slf4j","body":"i think i had a similar error before. inside some of the dependencies, they import other libraries that could conflict with each other. So you should ccheck each dependency and exclude the conflicting dependencies which in this case are Logback or slf4j"},{"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"score":0,"creation_date":1678933543,"post_id":75751602,"comment_id":133630635,"body_markdown":"Thanks @experimentunit1998X but i did  review the dependency tree and i noticed the spring boot starter web had those dependencies and i excluded them yet it didnt work","body":"Thanks @experimentunit1998X but i did  review the dependency tree and i noticed the spring boot starter web had those dependencies and i excluded them yet it didnt work"},{"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"score":0,"creation_date":1678933876,"post_id":75751602,"comment_id":133630685,"body_markdown":"No, i excluded and recompiled. i have also updated my question with a section of dependency tree","body":"No, i excluded and recompiled. i have also updated my question with a section of dependency tree"}],"answers":[{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1698330427,"post_id":75753575,"comment_id":136394172,"body_markdown":"I had a similar issue with another library conflict. The error message contains the full library name (in case of the OP: `slf4j-api-1.7.33.jar`, in my case it was a wiremock library).  In my case, the solution was to simply remove the dependency.","body":"I had a similar issue with another library conflict. The error message contains the full library name (in case of the OP: <code>slf4j-api-1.7.33.jar</code>, in my case it was a wiremock library).  In my case, the solution was to simply remove the dependency."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678954762,"creation_date":1678954762,"answer_id":75753575,"question_id":75751602,"body_markdown":"You&#39;ve got SLF4J 1.7 on the classpath and Spring Boot 3.0 requires SLF4J 2.0. I think the cause is your parent pom where the import of Boot&#39;s dependency management is incorrect. You&#39;re importing `spring-boot`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIt should be `spring-boot-dependencies`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```","title":"LoggerFactory is not a Logback LoggerContext - SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>You've got SLF4J 1.7 on the classpath and Spring Boot 3.0 requires SLF4J 2.0. I think the cause is your parent pom where the import of Boot's dependency management is incorrect. You're importing <code>spring-boot</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It should be <code>spring-boot-dependencies</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75753575,"answer_count":1,"score":2,"last_activity_date":1678954762,"creation_date":1678932635,"question_id":75751602,"body_markdown":"I created a sample modular basic microservices (customer, fraud)using spring boot 3.0.4 with IntelliJ just to test auto service discovery pattern.  All was ok until I added a 3rd microservice: eureka server with the spring cloud dependencies (version 2022.0.1). \r\n\r\nWhen I tried to run the application, I got the following error:\r\n\r\n        SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation (class org.slf4j.helpers.NOPLoggerFactory loaded from file:/Users/apple/.m2/repository/org/slf4j/slf4j-api/1.7.33/slf4j-api-1.7.33.jar). If you are using WebLogic you will need to add &#39;org.slf4j&#39; to prefer-application-packages in WEB-INF/weblogic.xml: org.slf4j.helpers.NOPLoggerFactory\r\n    \tat org.springframework.util.Assert.instanceCheckFailed(Assert.java:713)\r\n    \tat org.springframework.util.Assert.isInstanceOf(Assert.java:632)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:382)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:123)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:54)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:54)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n    \tat com.techronym.eurekaserver.EurekaServerApplication.main(EurekaServerApplication.java:11)\r\n    \r\n    Process finished with exit code 1\r\n\r\nHere&#39;s my parent pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;customer&lt;/module&gt;\r\n          &lt;module&gt;fraud&lt;/module&gt;\r\n          &lt;module&gt;eureka-server&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;name&gt;demo-app&lt;/name&gt;\r\n      &lt;url&gt;https://www.techronym.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.boot.maven.plugin&gt;3.0.4&lt;/spring.boot.maven.plugin&gt;\r\n        &lt;spring.boot.dependencies.version&gt;3.0.4&lt;/spring.boot.dependencies.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n    \r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (maybe moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;${spring.boot.maven.plugin}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nEureka Server pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nEureka App:\r\n\r\n    package com.techronym.eurekaserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n    \r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class EurekaServerApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(EurekaServerApplication.class, args);\r\n        }\r\n    }\r\n\r\nDependency tree\r\n\r\n    com.techronym.app:demo-app:pom:1.0-SNAPSHOT\r\n    +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\r\n     +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n    |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n     |  |  |  \\- org.springframework:spring-context:jar:6.0.6:compile\r\n    |  |  |     +- org.springframework:spring-aop:jar:6.0.6:compile\r\n    [INFO] |  |  |     +- org.springframework:spring-beans:jar:6.0.6:compile\r\n    [INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.6:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n    [INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\r\n    [INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n    [INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\r\n    [INFO] \r\n    [INFO] ---------------------&lt; com.techronym.app:customer &gt;---------------------\r\n    \r\n    [INFO] Building eureka-server 1.0-SNAPSHOT                                [4/4]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ eureka-server ---\r\n    [INFO] com.techronym.app:eureka-server:jar:1.0-SNAPSHOT\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-server:jar:4.0.0:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:4.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:4.0.1:compile\r\n    [INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:4.0.1:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\r\n    [INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-server:jar:4.0.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-web:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\r\n    [INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\r\n    [INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\r\n    [INFO] |  |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\r\n    [INFO] |  |  |  +- org.springframework:spring-web:jar:6.0.2:compile\r\n    [INFO] |  |  |  |  \\- org.springframework:spring-beans:jar:6.0.2:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-webmvc:jar:6.0.2:compile\r\n    [INFO] |  |  |     +- org.springframework:spring-aop:jar:6.0.2:compile\r\n    [INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.2:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- io.micrometer:micrometer-observation:jar:1.10.2:compile\r\n    [INFO] |  |  |  |  \\- io.micrometer:micrometer-commons:jar:1.10.2:compile\r\n    [INFO] |  |  |  \\- io.micrometer:micrometer-core:jar:1.10.2:compile\r\n    [INFO] |  |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\r\n    [INFO] |  |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-freemarker:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.freemarker:freemarker:jar:2.3.31:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context-support:jar:6.0.2:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:4.0.0:compile\r\n    [INFO] |  |  |  +- com.netflix.eureka:eureka-client:jar:2.0.0:compile\r\n    [INFO] |  |  |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\r\n    [INFO] |  |  |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\r\n    [INFO] |  |  |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\r\n    [INFO] |  |  |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\r\n    [INFO] |  |  |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\r\n    [INFO] |  |  |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\r\n    [INFO] |  |  |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\r\n    [INFO] |  |  |  |  |  |  \\- com.google.code.gson:gson:jar:2.1:runtime\r\n    [INFO] |  |  |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\r\n    [INFO] |  |  |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.19:compile\r\n    [INFO] |  |  |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\r\n    [INFO] |  |  |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n    [INFO] |  |  |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\r\n    [INFO] |  |  |  |  |  \\- com.google.guava:guava:jar:19.0:compile\r\n    [INFO] |  |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\r\n    [INFO] |  |  |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\r\n    [INFO] |  |  |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\r\n    [INFO] |  |  |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] |  |  |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\r\n    [INFO] |  |  |  \\- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\r\n    [INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n    [INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n    [INFO] |  |  |     \\- commons-codec:commons-codec:jar:1.15:compile\r\n    [INFO] |  |  +- com.netflix.eureka:eureka-client-jersey3:jar:2.0.0:compile\r\n    [INFO] |  |  |  \\- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.0.5:compile\r\n    [INFO] |  |  +- com.netflix.eureka:eureka-core-jersey3:jar:2.0.0:compile\r\n    [INFO] |  |  |  \\- com.netflix.eureka:eureka-core:jar:2.0.0:compile\r\n    [INFO] |  |  |     \\- jakarta.servlet:jakarta.servlet-api:jar:5.0.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\r\n    [INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.0:compile\r\n    [INFO] |  |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\r\n    [INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\r\n    [INFO] |  |  |  \\- org.javassist:javassist:jar:3.28.0-GA:compile\r\n    [INFO] |  |  +- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\r\n    [INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context:jar:5.2.4.RELEASE:compile\r\n    [INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\r\n    [INFO] |  |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n    [INFO] |  |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:4.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-loadbalancer:jar:4.0.1:compile\r\n    [INFO] |  |  |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\r\n    [INFO] |  |  |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n    [INFO] |  |  |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\r\n    [INFO] |  |  \\- com.stoyanr:evictor:jar:1.0.0:compile\r\n    [INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:compile\r\n    [INFO] |     \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:compile\r\n    [INFO] |        +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\r\n    [INFO] |        +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\r\n    [INFO] |        \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n    [INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\r\n    [INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n    [INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\r\n\r\nPlease what am I doing wrong?\r\n","title":"LoggerFactory is not a Logback LoggerContext - SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>I created a sample modular basic microservices (customer, fraud)using spring boot 3.0.4 with IntelliJ just to test auto service discovery pattern.  All was ok until I added a 3rd microservice: eureka server with the spring cloud dependencies (version 2022.0.1).</p>\n<p>When I tried to run the application, I got the following error:</p>\n<pre><code>    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation (class org.slf4j.helpers.NOPLoggerFactory loaded from file:/Users/apple/.m2/repository/org/slf4j/slf4j-api/1.7.33/slf4j-api-1.7.33.jar). If you are using WebLogic you will need to add 'org.slf4j' to prefer-application-packages in WEB-INF/weblogic.xml: org.slf4j.helpers.NOPLoggerFactory\n    at org.springframework.util.Assert.instanceCheckFailed(Assert.java:713)\n    at org.springframework.util.Assert.isInstanceOf(Assert.java:632)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:382)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:123)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:54)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:54)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at com.techronym.eurekaserver.EurekaServerApplication.main(EurekaServerApplication.java:11)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here's my parent pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\n  &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;customer&lt;/module&gt;\n      &lt;module&gt;fraud&lt;/module&gt;\n      &lt;module&gt;eureka-server&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;name&gt;demo-app&lt;/name&gt;\n  &lt;url&gt;https://www.techronym.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;spring.boot.maven.plugin&gt;3.0.4&lt;/spring.boot.maven.plugin&gt;\n    &lt;spring.boot.dependencies.version&gt;3.0.4&lt;/spring.boot.dependencies.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (maybe moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${spring.boot.maven.plugin}&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Eureka Server pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\n        &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Eureka App:</p>\n<pre><code>package com.techronym.eurekaserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaServerApplication.class, args);\n    }\n}\n</code></pre>\n<p>Dependency tree</p>\n<pre><code>com.techronym.app:demo-app:pom:1.0-SNAPSHOT\n+- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\n +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n|  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n |  |  |  \\- org.springframework:spring-context:jar:6.0.6:compile\n|  |  |     +- org.springframework:spring-aop:jar:6.0.6:compile\n[INFO] |  |  |     +- org.springframework:spring-beans:jar:6.0.6:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.6:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\n[INFO] \n[INFO] ---------------------&lt; com.techronym.app:customer &gt;---------------------\n\n[INFO] Building eureka-server 1.0-SNAPSHOT                                [4/4]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ eureka-server ---\n[INFO] com.techronym.app:eureka-server:jar:1.0-SNAPSHOT\n[INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-server:jar:4.0.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:4.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:4.0.1:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:4.0.1:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\n[INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\n[INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-server:jar:4.0.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-web:jar:3.0.0:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.0:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\n[INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\n[INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\n[INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\n[INFO] |  |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\n[INFO] |  |  |  +- org.springframework:spring-web:jar:6.0.2:compile\n[INFO] |  |  |  |  \\- org.springframework:spring-beans:jar:6.0.2:compile\n[INFO] |  |  |  \\- org.springframework:spring-webmvc:jar:6.0.2:compile\n[INFO] |  |  |     +- org.springframework:spring-aop:jar:6.0.2:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.2:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.0:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.0:compile\n[INFO] |  |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.0:compile\n[INFO] |  |  |  +- io.micrometer:micrometer-observation:jar:1.10.2:compile\n[INFO] |  |  |  |  \\- io.micrometer:micrometer-commons:jar:1.10.2:compile\n[INFO] |  |  |  \\- io.micrometer:micrometer-core:jar:1.10.2:compile\n[INFO] |  |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\n[INFO] |  |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-freemarker:jar:3.0.0:compile\n[INFO] |  |  |  +- org.freemarker:freemarker:jar:2.3.31:compile\n[INFO] |  |  |  \\- org.springframework:spring-context-support:jar:6.0.2:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:4.0.0:compile\n[INFO] |  |  |  +- com.netflix.eureka:eureka-client:jar:2.0.0:compile\n[INFO] |  |  |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\n[INFO] |  |  |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\n[INFO] |  |  |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\n[INFO] |  |  |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\n[INFO] |  |  |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\n[INFO] |  |  |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\n[INFO] |  |  |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\n[INFO] |  |  |  |  |  |  \\- com.google.code.gson:gson:jar:2.1:runtime\n[INFO] |  |  |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\n[INFO] |  |  |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.19:compile\n[INFO] |  |  |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\n[INFO] |  |  |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |  |  |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\n[INFO] |  |  |  |  |  \\- com.google.guava:guava:jar:19.0:compile\n[INFO] |  |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\n[INFO] |  |  |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\n[INFO] |  |  |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO] |  |  |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  |  |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\n[INFO] |  |  |  \\- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\n[INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] |  |  |     \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  |  +- com.netflix.eureka:eureka-client-jersey3:jar:2.0.0:compile\n[INFO] |  |  |  \\- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.0.5:compile\n[INFO] |  |  +- com.netflix.eureka:eureka-core-jersey3:jar:2.0.0:compile\n[INFO] |  |  |  \\- com.netflix.eureka:eureka-core:jar:2.0.0:compile\n[INFO] |  |  |     \\- jakarta.servlet:jakarta.servlet-api:jar:5.0.0:compile\n[INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\n[INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.0:compile\n[INFO] |  |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\n[INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.28.0-GA:compile\n[INFO] |  |  +- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:5.2.4.RELEASE:compile\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\n[INFO] |  |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |  |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:4.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-loadbalancer:jar:4.0.1:compile\n[INFO] |  |  |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\n[INFO] |  |  |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  |  |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\n[INFO] |  |  \\- com.stoyanr:evictor:jar:1.0.0:compile\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:compile\n[INFO] |     \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:compile\n[INFO] |        +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\n[INFO] |        +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\n[INFO] |        \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\n</code></pre>\n<p>Please what am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","prometheus","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":3639349,"reputation":350,"user_id":3033916,"display_name":"raph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954529,"creation_date":1678898985,"answer_id":75747759,"question_id":70870382,"body_markdown":"If you borrow from [this solution][1] about adding custom tags to existing prometheus actuator metrics and parse the request (I&#39;m using a jackson object mapper) for the property you&#39;re interested in, it should do the trick. Would look something like the following: \r\n\r\n```\r\n@Bean\r\npublic WebMvcTagsContributor webMvcTagsContributor() {\r\n\r\n    return new WebMvcTagsContributor() {\r\n        @Override\r\n        public Iterable&lt;Tag&gt; getTags(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Object handler,\r\n            Throwable exception\r\n        ) {\r\n\r\n            // parse the request body to get the property we&#39;re interested in later\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            ThingToMapFromRequestBody bodyAsObject = null;\r\n            try {\r\n                bodyAsObject = mapper.readValue(request.getReader().lines().collect(Collectors.joining()),\r\n                    ThingToMapFromRequestBody.class\r\n                );\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            // add the property we&#39;re interested in to our metrics\r\n            return Tag.of(&quot;challenge&quot;, bodyAsObject != null ? bodyAsObject.type() : &quot;&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\r\n\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\n// making use of a record rather than class, introduced in Java 14\r\nrecord ThingToMapFromRequestBody(String type, String method) { }\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/64913252/3033916","title":"Add custom labels to http_server_requests_seconds_bucket metric in Spring boot","body":"<p>If you borrow from <a href=\"https://stackoverflow.com/a/64913252/3033916\">this solution</a> about adding custom tags to existing prometheus actuator metrics and parse the request (I'm using a jackson object mapper) for the property you're interested in, it should do the trick. Would look something like the following:</p>\n<pre><code>@Bean\npublic WebMvcTagsContributor webMvcTagsContributor() {\n\n    return new WebMvcTagsContributor() {\n        @Override\n        public Iterable&lt;Tag&gt; getTags(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Object handler,\n            Throwable exception\n        ) {\n\n            // parse the request body to get the property we're interested in later\n            ObjectMapper mapper = new ObjectMapper();\n            ThingToMapFromRequestBody bodyAsObject = null;\n            try {\n                bodyAsObject = mapper.readValue(request.getReader().lines().collect(Collectors.joining()),\n                    ThingToMapFromRequestBody.class\n                );\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            // add the property we're interested in to our metrics\n            return Tag.of(&quot;challenge&quot;, bodyAsObject != null ? bodyAsObject.type() : &quot;&quot;);\n        }\n\n        @Override\n        public Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\n\n            return null;\n        }\n    };\n}\n\n// making use of a record rather than class, introduced in Java 14\nrecord ThingToMapFromRequestBody(String type, String method) { }\n</code></pre>\n"}],"owner":{"account_id":24064473,"reputation":61,"user_id":18041255,"display_name":"JustAnotherDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678954529,"creation_date":1643232011,"question_id":70870382,"body_markdown":"I&#39;m currently working on a Spring boot (Spring webflux) project where we have exposed metrics of our application on **/actuator/prometheus** endpoint. We have added spring boot actuator dependency which by default gave us the **http_server_requests_seconds_bucket** metric. By default it has **{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}** labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,\r\n\r\n    {\r\n     &quot;type&quot; : &quot;basic&quot;,\r\n     &quot;method&quot; : &quot;someMethod&quot;\r\n    }\r\n\r\nI want to add a label within that metric as, `http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/pos/authenticate&quot;,le=&quot;0.268435456&quot;,     challenge=&quot;basic&quot;}` which is based on the request payload &quot;type&quot; parameter. Can someone please help with this\r\n\r\n**Note:** We only allow limited number of values for &quot;type&quot;\r\n","title":"Add custom labels to http_server_requests_seconds_bucket metric in Spring boot","body":"<p>I'm currently working on a Spring boot (Spring webflux) project where we have exposed metrics of our application on <strong>/actuator/prometheus</strong> endpoint. We have added spring boot actuator dependency which by default gave us the <strong>http_server_requests_seconds_bucket</strong> metric. By default it has <strong>{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}</strong> labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,</p>\n<pre><code>{\n &quot;type&quot; : &quot;basic&quot;,\n &quot;method&quot; : &quot;someMethod&quot;\n}\n</code></pre>\n<p>I want to add a label within that metric as, <code>http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/pos/authenticate&quot;,le=&quot;0.268435456&quot;,     challenge=&quot;basic&quot;}</code> which is based on the request payload &quot;type&quot; parameter. Can someone please help with this</p>\n<p><strong>Note:</strong> We only allow limited number of values for &quot;type&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4101523,"reputation":1355,"user_id":3366932,"accept_rate":57,"display_name":"Araymer"},"score":5,"creation_date":1478919326,"post_id":40559107,"comment_id":68355666,"body_markdown":"Put a breakpoint in and run it in debug and step through your code and see where it&#39;s breaking.","body":"Put a breakpoint in and run it in debug and step through your code and see where it&#39;s breaking."},{"owner":{"account_id":5060613,"reputation":74056,"user_id":4062354,"accept_rate":100,"display_name":"MikeCAT"},"score":2,"creation_date":1478919380,"post_id":40559107,"comment_id":68355679,"body_markdown":"You are not getting output even after you input 4 lines for the arguments of the constructor of `Flight`, right?","body":"You are not getting output even after you input 4 lines for the arguments of the constructor of <code>Flight</code>, right?"},{"owner":{"account_id":4986235,"reputation":1822,"user_id":4009768,"display_name":"d.j.brown"},"score":4,"creation_date":1478919424,"post_id":40559107,"comment_id":68355686,"body_markdown":"Nothing will display until you enter some text since you request input on the standard input using Scanner when constructing Flight.","body":"Nothing will display until you enter some text since you request input on the standard input using Scanner when constructing Flight."},{"owner":{"account_id":9346866,"reputation":1,"user_id":7087153,"display_name":"user7087153"},"score":0,"creation_date":1478919642,"post_id":40559107,"comment_id":68355720,"body_markdown":"Oops..my eyes completely missed that...thanks everyone","body":"Oops..my eyes completely missed that...thanks everyone"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1478923126,"post_id":40559107,"comment_id":68356263,"body_markdown":"@user7087153 that&#39;s what a debugger should have been able to tell you in seconds.","body":"@user7087153 that&#39;s what a debugger should have been able to tell you in seconds."}],"answers":[{"tags":[],"owner":{"account_id":6719971,"reputation":215,"user_id":5180377,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569322045,"creation_date":1479815671,"answer_id":40741176,"question_id":40559107,"body_markdown":"its not showing anything because it is waiting for you to enter characters you want in the Flight class constructor.\r\n&lt;br&gt;As you can see here \r\n\r\n    Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\r\n\r\nexecution stops at the `input.nextLine()` parts till you enter something and hit enter    \r\n\r\nP.S : its better to place some `System.out.println(&quot;enter the value&quot;)` kind of statement before the input parts to show the user what to do.funny doing this will prevent you from making this mistake you made","title":"My java code has no errors but why won&#39;t it run?","body":"<p>its not showing anything because it is waiting for you to enter characters you want in the Flight class constructor.\n<br>As you can see here </p>\n\n<pre><code>Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\n</code></pre>\n\n<p>execution stops at the <code>input.nextLine()</code> parts till you enter something and hit enter    </p>\n\n<p>P.S : its better to place some <code>System.out.println(\"enter the value\")</code> kind of statement before the input parts to show the user what to do.funny doing this will prevent you from making this mistake you made</p>\n"},{"tags":[],"owner":{"account_id":27995368,"reputation":1,"user_id":21380746,"display_name":"kaush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954292,"creation_date":1678581999,"answer_id":75710455,"question_id":40559107,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main (String [] args) {\r\n            Scanner input = new Scanner (System.in);\r\n    \r\n            System.out.println(&quot;Creating first flight&quot;);\r\n            System.out.println(&quot;What is the name of the flight?&quot;);\r\n            String flightName = input.nextLine();\r\n            System.out.println(&quot;What is the destination of the flight?&quot;);\r\n            String destination = input.nextLine();\r\n            System.out.println(&quot;What is the departure time of the flight?&quot;);\r\n            String departureTime = input.nextLine();\r\n            System.out.println(&quot;What is the departure gate of the flight?&quot;);\r\n            String departureGate = input.nextLine();\r\n            \r\n            Flight flight = new Flight (flightName, destination, departureTime, departureGate, 0);\r\n    \r\n            boolean done = false;\r\n            while (!done) {\r\n                System.out.println(&quot;Now what would you like to do?&quot;);\r\n                System.out.print(&quot;1. Print out a flight&#39;s info&quot;);\r\n                System.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\r\n                System.out.print(&quot;3. Change the departure time of a flight.&quot;);\r\n                System.out.print(&quot;4. Change the departure gate of a flight.&quot;);\r\n                System.out.print(&quot;5. Exit&quot;);\r\n                int choice = input.nextInt();\r\n    \r\n                switch (choice) {\r\n    \r\n                case 1: \r\n                    System.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\r\n                    int selection = input.nextInt();\r\n                    if (selection == 1 || selection == 2) {\r\n                        flight.printFlight();\r\n                    } else{\r\n                        System.out.println(&quot;Invalid Option&quot;);\r\n                    } break;\r\n    \r\n                case 2: \r\n                    System.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\r\n                    break;\r\n    \r\n                case 3: \r\n                    System.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\r\n                    int selection2 = input.nextInt();\r\n                    if (selection2 == 1 || selection2 == 2){\r\n                        System.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\r\n                        String new\r\n\r\n","title":"My java code has no errors but why won&#39;t it run?","body":"<pre><code>import java.util.Scanner;\n\npublic class Test {\n\n    public static void main (String [] args) {\n        Scanner input = new Scanner (System.in);\n\n        System.out.println(&quot;Creating first flight&quot;);\n        System.out.println(&quot;What is the name of the flight?&quot;);\n        String flightName = input.nextLine();\n        System.out.println(&quot;What is the destination of the flight?&quot;);\n        String destination = input.nextLine();\n        System.out.println(&quot;What is the departure time of the flight?&quot;);\n        String departureTime = input.nextLine();\n        System.out.println(&quot;What is the departure gate of the flight?&quot;);\n        String departureGate = input.nextLine();\n        \n        Flight flight = new Flight (flightName, destination, departureTime, departureGate, 0);\n\n        boolean done = false;\n        while (!done) {\n            System.out.println(&quot;Now what would you like to do?&quot;);\n            System.out.print(&quot;1. Print out a flight's info&quot;);\n            System.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\n            System.out.print(&quot;3. Change the departure time of a flight.&quot;);\n            System.out.print(&quot;4. Change the departure gate of a flight.&quot;);\n            System.out.print(&quot;5. Exit&quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n\n            case 1: \n                System.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\n                int selection = input.nextInt();\n                if (selection == 1 || selection == 2) {\n                    flight.printFlight();\n                } else{\n                    System.out.println(&quot;Invalid Option&quot;);\n                } break;\n\n            case 2: \n                System.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\n                break;\n\n            case 3: \n                System.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\n                int selection2 = input.nextInt();\n                if (selection2 == 1 || selection2 == 2){\n                    System.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\n                    String new\n</code></pre>\n"}],"owner":{"account_id":9346866,"reputation":1,"user_id":7087153,"display_name":"user7087153"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1320,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"answer_count":2,"score":-8,"last_activity_date":1678954292,"creation_date":1478919240,"question_id":40559107,"body_markdown":"For some reason when I run my code on eclipse there is nothing showing on the screen like it should. I&#39;m not sure what it is. I can type input into the console but that is about it. Nothing else happens. Can anyone tell me what it could be? Thanks. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main (String [] args) {\r\n\t\tScanner input = new Scanner (System.in);\r\n\t\t\r\n\t\tFlight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Creating first flight&quot;);\r\n\t\tSystem.out.println(&quot;What is the name of the flight?&quot;);\r\n\t\t\tString flightName = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the destination of the flight?&quot;);\r\n\t\t\tString destination = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the departure time of the flight?&quot;);\r\n\t\t\tString departureTime = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the departure gate of the flight?&quot;);\r\n\t\t\tString departureGate = input.nextLine();\r\n\t\t\r\n\t\tboolean done = false;\r\n\t\twhile (!done) {\r\n\t\t\tSystem.out.println(&quot;Now what would you like to do?&quot;);\r\n\t\t\tSystem.out.print(&quot;1. Print out a flight&#39;s info&quot;);\r\n\t\t\tSystem.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\r\n\t\t\tSystem.out.print(&quot;3. Change the departure time of a flight.&quot;);\r\n\t\t\tSystem.out.print(&quot;4. Change the departure gate of a flight.&quot;);\r\n\t\t\tSystem.out.print(&quot;5. Exit&quot;);\r\n\t\t\tint choice = input.nextInt();\r\n\t\r\n\t\t\tswitch (choice) {\r\n\t\t\t\r\n\t\t\tcase 1: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\r\n\t\t\t\t\tint selection = 0;\r\n\t\t\t\t\tselection = input.nextInt();\r\n\t\t\t\tif (selection == 1 || selection == 2) {\r\n\t\t\t\t\tFlight.printFlight();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid Option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\t\r\n\t\t\tcase 2: \r\n\t\t\t\tSystem.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 3: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\r\n\t\t\t\t\tint selection2 = 0;\r\n\t\t\t\t\tselection2 = input.nextInt();\r\n\t\t\t\tif (selection2 == 1 || selection2 == 2){\r\n\t\t\t\t\tSystem.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\r\n\t\t\t\t\t\tString newDeptTime = input.nextLine();\r\n\t\t\t\t\t\tFlight.changeDeptTime(newDeptTime);\r\n\t\t\t\t} else{\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid Option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\r\n\t\t\tcase 4: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to change the departure gate of?&quot;);\r\n\t\t\t\t\tint selection3 = input.nextInt();\r\n\t\t\t\tif (selection3 == 1 || selection3 == 2){\r\n\t\t\t\t\tSystem.out.println(&quot;What is the new departure gate for flight &quot; + Flight.getNumFlights());\r\n\t\t\t\t\t\tString newDeptGate = input.nextLine();\r\n\t\t\t\t\t\tFlight.changeDeptGate(newDeptGate);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\r\n\t\t\tcase 5: \r\n\t\t\t\tdone = true;\r\n\t\t\t\tbreak; \r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;Invalid option&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t}\t\r\n\t\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n\r\n\t\r\n\r\n","title":"My java code has no errors but why won&#39;t it run?","body":"<p>For some reason when I run my code on eclipse there is nothing showing on the screen like it should. I'm not sure what it is. I can type input into the console but that is about it. Nothing else happens. Can anyone tell me what it could be? Thanks. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n\npublic static void main (String [] args) {\n    Scanner input = new Scanner (System.in);\n\n    Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\n\n    System.out.println(\"Creating first flight\");\n    System.out.println(\"What is the name of the flight?\");\n        String flightName = input.nextLine();\n    System.out.println(\"What is the destination of the flight?\");\n        String destination = input.nextLine();\n    System.out.println(\"What is the departure time of the flight?\");\n        String departureTime = input.nextLine();\n    System.out.println(\"What is the departure gate of the flight?\");\n        String departureGate = input.nextLine();\n\n    boolean done = false;\n    while (!done) {\n        System.out.println(\"Now what would you like to do?\");\n        System.out.print(\"1. Print out a flight's info\");\n        System.out.print(\"2. Print out the number of flights through the static variable.\");\n        System.out.print(\"3. Change the departure time of a flight.\");\n        System.out.print(\"4. Change the departure gate of a flight.\");\n        System.out.print(\"5. Exit\");\n        int choice = input.nextInt();\n\n        switch (choice) {\n\n        case 1: \n            System.out.println(\"Which flight would you like to print the info of (1 or 2)?\");\n                int selection = 0;\n                selection = input.nextInt();\n            if (selection == 1 || selection == 2) {\n                Flight.printFlight();\n            } else{\n                System.out.println(\"Invalid Option\");\n            } break;\n\n        case 2: \n            System.out.println(\"This is the number of flights\" + Flight.getNumFlights());\n            break;\n\n        case 3: \n            System.out.println(\"Which flight would you like to change the departure time of (1 or 2)?\");\n                int selection2 = 0;\n                selection2 = input.nextInt();\n            if (selection2 == 1 || selection2 == 2){\n                System.out.println(\"What is the new departure time for flight \" + (Flight.getNumFlights()-1));\n                    String newDeptTime = input.nextLine();\n                    Flight.changeDeptTime(newDeptTime);\n            } else{\n                System.out.println(\"Invalid Option\");\n            } break;\n\n        case 4: \n            System.out.println(\"Which flight would you like to change the departure gate of?\");\n                int selection3 = input.nextInt();\n            if (selection3 == 1 || selection3 == 2){\n                System.out.println(\"What is the new departure gate for flight \" + Flight.getNumFlights());\n                    String newDeptGate = input.nextLine();\n                    Flight.changeDeptGate(newDeptGate);\n            } else {\n                System.out.println(\"Invalid option\");\n            } break;\n\n        case 5: \n            done = true;\n            break; \n        default:\n            System.out.println(\"Invalid option\");\n            break;\n\n        }\n\n    }   \n\n}\n\n}\n</code></pre>\n"},{"tags":["java","swing","jtextfield","keylistener"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678953306,"post_id":75753385,"comment_id":133633361,"body_markdown":"can you provide a minimal example that reproduces the issue?","body":"can you provide a minimal example that reproduces the issue?"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":0,"creation_date":1678953470,"post_id":75753385,"comment_id":133633398,"body_markdown":"yes, You can create an object in the main class and run the code I showed you right away and No additional code is required.","body":"yes, You can create an object in the main class and run the code I showed you right away and No additional code is required."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678953991,"post_id":75753385,"comment_id":133633536,"body_markdown":"your code works just fine. Your problem is not that the Listener doesn&#39;t work, it&#39;s that you added that KeyListener to the Frame. Since your textfield covers the entire frame, it&#39;s not possible for your frame itself to be selected. Add your KeyListener to your textField instead of to your Frame. Since you want the Listener to be triggered on an update of the field, that&#39;s what you should &#39;ve done either way.","body":"your code works just fine. Your problem is not that the Listener doesn&#39;t work, it&#39;s that you added that KeyListener to the Frame. Since your textfield covers the entire frame, it&#39;s not possible for your frame itself to be selected. Add your KeyListener to your textField instead of to your Frame. Since you want the Listener to be triggered on an update of the field, that&#39;s what you should &#39;ve done either way."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678962214,"post_id":75753385,"comment_id":133635797,"body_markdown":"I&#39;m not sure what is you&#39;re trying to achieve, but generally speaking, a `KeyListener` on a text component is a bad idea.  Maybe something like [this](https://stackoverflow.com/questions/12760311/performing-a-certain-task-after-pressing-ctrl-alt-backspace/12763850#12763850) would work better","body":"I&#39;m not sure what is you&#39;re trying to achieve, but generally speaking, a <code>KeyListener</code> on a text component is a bad idea.  Maybe something like <a href=\"https://stackoverflow.com/questions/12760311/performing-a-certain-task-after-pressing-ctrl-alt-backspace/12763850#12763850\">this</a> would work better"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678963646,"post_id":75753385,"comment_id":133636290,"body_markdown":"[Key capture example](https://stackoverflow.com/questions/46985936/using-keybinding-and-action-map-in-java-for-shortcut-keys-for-buttons/46986203#46986203)","body":"<a href=\"https://stackoverflow.com/questions/46985936/using-keybinding-and-action-map-in-java-for-shortcut-keys-for-buttons/46986203#46986203\">Key capture example</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678965070,"post_id":75753385,"comment_id":133636718,"body_markdown":"_want to receive only the shortcuts_ which short-custs?","body":"<i>want to receive only the shortcuts</i> which short-custs?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678965426,"post_id":75753385,"comment_id":133636818,"body_markdown":"as-is, it either describes a typo-like error (adding the listener to the wrong component) or a keylistener is the wrong approach.","body":"as-is, it either describes a typo-like error (adding the listener to the wrong component) or a keylistener is the wrong approach."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678965509,"post_id":75753385,"comment_id":133636830,"body_markdown":"Just so we&#39;re a little clear - there are a number of possible ways to for monitor keyboard input, some are better then others, but without more clarity , it&#39;s impossible to to provide you with a decent amount of direction","body":"Just so we&#39;re a little clear - there are a number of possible ways to for monitor keyboard input, some are better then others, but without more clarity , it&#39;s impossible to to provide you with a decent amount of direction"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678962366,"post_id":75753505,"comment_id":133635851,"body_markdown":"So, if I understand the question correctly, if the OP was to add a button or another text field, this solution would stop working","body":"So, if I understand the question correctly, if the OP was to add a button or another text field, this solution would stop working"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678962772,"post_id":75753505,"comment_id":133635980,"body_markdown":"@MadProgrammer why would this stop working? Indeed, it wouldn&#39;t work when changing the value on a second field (if added), but if he wants it to be executed on a second field as well, he can easily externalize the implementation of the KeyAdapter() and add that as Listener to both the fields. At this point, he just wanted the keyPressed to be executed when he changed the value in his original field","body":"@MadProgrammer why would this stop working? Indeed, it wouldn&#39;t work when changing the value on a second field (if added), but if he wants it to be executed on a second field as well, he can easily externalize the implementation of the KeyAdapter() and add that as Listener to both the fields. At this point, he just wanted the keyPressed to be executed when he changed the value in his original field"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678963056,"post_id":75753505,"comment_id":133636059,"body_markdown":"My problem is, I don&#39;t know &quot;why&quot; they want to do what they want to do and a `KeyListener`, generally, isn&#39;t a good solution, especially on `JTextField`s.  The OPs original problem was caused by the focus related drawbacks of `KeyListener` to start with - but I don&#39;t have enough context of the intention to provide a suitable answer to the problem which doesn&#39;t create more issues","body":"My problem is, I don&#39;t know &quot;why&quot; they want to do what they want to do and a <code>KeyListener</code>, generally, isn&#39;t a good solution, especially on <code>JTextField</code>s.  The OPs original problem was caused by the focus related drawbacks of <code>KeyListener</code> to start with - but I don&#39;t have enough context of the intention to provide a suitable answer to the problem which doesn&#39;t create more issues"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678963326,"post_id":75753505,"comment_id":133636179,"body_markdown":"I agree I don&#39;t understand the why neither, but it was pretty straightforward to get it to work.","body":"I agree I don&#39;t understand the why neither, but it was pretty straightforward to get it to work."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678963500,"post_id":75753505,"comment_id":133636242,"body_markdown":"Sure - but without more context, all you might have done is delayed them until they find another issue (with this approach) and force them to ask another question.  Would have been better to seek more clarification and/or closed the question as &quot;vague&quot; - IMHO","body":"Sure - but without more context, all you might have done is delayed them until they find another issue (with this approach) and force them to ask another question.  Would have been better to seek more clarification and/or closed the question as &quot;vague&quot; - IMHO"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678965301,"post_id":75753505,"comment_id":133636774,"body_markdown":"well, fully agree with @MadProgrammer - as long as we don&#39;t know the _exact_ requirement (the _want ... shortcuts_ might be reason to assume that they need a broader approach) this is fixing a potential typo-like error (adding the listener to the wrong component).","body":"well, fully agree with @MadProgrammer - as long as we don&#39;t know the <i>exact</i> requirement (the <i>want ... shortcuts</i> might be reason to assume that they need a broader approach) this is fixing a potential typo-like error (adding the listener to the wrong component)."}],"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":6,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1678954121,"creation_date":1678954121,"answer_id":75753505,"question_id":75753385,"body_markdown":"In order for your Listener to be applicable to your textField, you need to change this:\r\n\r\n    addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n            });\r\n\r\ninto this:\r\n\r\n    textField.addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n            });\r\n\r\nAt current, your Listener is attached to your Frame, which is completely covered by the textField.","title":"KeyListener not responding after value modification in JTextField","body":"<p>In order for your Listener to be applicable to your textField, you need to change this:</p>\n<pre><code>addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n</code></pre>\n<p>into this:</p>\n<pre><code>textField.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n</code></pre>\n<p>At current, your Listener is attached to your Frame, which is completely covered by the textField.</p>\n"}],"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75753505,"answer_count":1,"score":-1,"last_activity_date":1678954121,"creation_date":1678953129,"question_id":75753385,"body_markdown":"I&#39;m writing a program in java that opens a window and detects keystrokes.\r\n\r\nHowever, there is one fatal problem. if i modify the value in TextField, KeyListener will not work again. Here is the code that summarizes the problem situation I ran into:\r\n\r\n```java\r\n    \r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class Main extends JFrame {\r\n    private Main(){\r\n\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        setSize(500,500);\r\n        setPreferredSize(new Dimension(500,500));\r\n\r\n        JPanel textFieldPanel = new JPanel();\r\n        textFieldPanel.setFocusable(true);\r\n        textFieldPanel.setLayout(new BorderLayout());\r\n        JTextField textField = new JTextField();\r\n        textField.setFocusable(true);\r\n        addKeyListener(new KeyAdapter() {\r\n            @Override\r\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                System.out.println(&quot;test&quot;);\r\n            }\r\n        });\r\n        textFieldPanel.add(textField);\r\n        add(textFieldPanel);\r\n\r\n        pack();\r\n    }\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n}\r\n```\r\n\r\nI want to make it get a KeyListener even while entering a value, And also want to know why the listener is disabled.\r\n\r\nI&#39;ve disabled the fields via the disable and re-enable method, but the KeyListener still doesn&#39;t work.\r\n```java\r\n        textField.addActionListener(e -&gt; {\r\n            textField.setEnabled(false);\r\n            textField.setEnabled(true);\r\n        });\r\n```\r\n\r\nHow can I make it want to receive only the shortcuts, without the help of any external classes?\r\nSince I added it directly to the JFrame, it doesn&#39;t seem to be a focusing issue.","title":"KeyListener not responding after value modification in JTextField","body":"<p>I'm writing a program in java that opens a window and detects keystrokes.</p>\n<p>However, there is one fatal problem. if i modify the value in TextField, KeyListener will not work again. Here is the code that summarizes the problem situation I ran into:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\n\npublic class Main extends JFrame {\n    private Main(){\n\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setVisible(true);\n        setSize(500,500);\n        setPreferredSize(new Dimension(500,500));\n\n        JPanel textFieldPanel = new JPanel();\n        textFieldPanel.setFocusable(true);\n        textFieldPanel.setLayout(new BorderLayout());\n        JTextField textField = new JTextField();\n        textField.setFocusable(true);\n        addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n        textFieldPanel.add(textField);\n        add(textFieldPanel);\n\n        pack();\n    }\n    public static void main(String[] args) {\n        new Main();\n    }\n}\n</code></pre>\n<p>I want to make it get a KeyListener even while entering a value, And also want to know why the listener is disabled.</p>\n<p>I've disabled the fields via the disable and re-enable method, but the KeyListener still doesn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        textField.addActionListener(e -&gt; {\n            textField.setEnabled(false);\n            textField.setEnabled(true);\n        });\n</code></pre>\n<p>How can I make it want to receive only the shortcuts, without the help of any external classes?\nSince I added it directly to the JFrame, it doesn't seem to be a focusing issue.</p>\n"},{"tags":["java","singly-linked-list"],"comments":[{"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"score":0,"creation_date":1368621217,"post_id":16565045,"comment_id":23799832,"body_markdown":"Your `print()` method is misleading - given the current implementation, it should be called `getValue()`","body":"Your <code>print()</code> method is misleading - given the current implementation, it should be called <code>getValue()</code>"}],"answers":[{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621266,"creation_date":1368621266,"answer_id":16565134,"question_id":16565045,"body_markdown":"Consider creating a `printall`\r\n\r\n    public void printAll(){\r\n        System.out.println(item);\r\n        if (next != null){\r\n            next.printAll();\r\n        }\r\n    }","title":"printing nodes from a singly-linked list","body":"<p>Consider creating a <code>printall</code></p>\n\n<pre><code>public void printAll(){\n    System.out.println(item);\n    if (next != null){\n        next.printAll();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2018711,"reputation":6103,"user_id":1805388,"accept_rate":80,"display_name":"ValarDohaeris"},"score":0,"creation_date":1678954014,"post_id":16565141,"comment_id":133633544,"body_markdown":"@Dima: Sorry, reverted your edit, I think what you say is right, but you would also have to add this explanation to the answer, otherwise it becomes more difficult to understand compared to its current state.","body":"@Dima: Sorry, reverted your edit, I think what you say is right, but you would also have to add this explanation to the answer, otherwise it becomes more difficult to understand compared to its current state."}],"tags":[],"owner":{"account_id":2018711,"reputation":6103,"user_id":1805388,"accept_rate":80,"display_name":"ValarDohaeris"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678953911,"creation_date":1368621283,"answer_id":16565141,"question_id":16565045,"body_markdown":"    public String toString() {\r\n        String result = item + &quot; &quot;;\r\n        if (next != null) {\r\n            result += next.toString();\r\n        }\r\n        return result;\r\n    }\r\n\r\nAnd then you can simply do\r\n\r\n    System.out.println(list.toString());\r\n\r\n(I renamed your function from `print` to `toString` to give a more accurate description of what it does)","title":"printing nodes from a singly-linked list","body":"<pre><code>public String toString() {\n    String result = item + &quot; &quot;;\n    if (next != null) {\n        result += next.toString();\n    }\n    return result;\n}\n</code></pre>\n<p>And then you can simply do</p>\n<pre><code>System.out.println(list.toString());\n</code></pre>\n<p>(I renamed your function from <code>print</code> to <code>toString</code> to give a more accurate description of what it does)</p>\n"},{"tags":[],"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368621724,"creation_date":1368621404,"answer_id":16565176,"question_id":16565045,"body_markdown":"Your current implementation doesn&#39;t print anything: it simply returns item.\r\nMore appropriate implementation would look like:\r\n\r\n    public void print() {\r\n        System.out.println(item); \r\n    }\r\n\r\nYou can then use recursion to print all items:\r\n   \r\n    public void printAll() {\r\n        print();\r\n        if (next != null) {\r\n            System.out.println(&quot;; &quot;);\r\n            next.printAll(); \r\n        }\r\n    }\r\n   \r\n\r\n    \r\n","title":"printing nodes from a singly-linked list","body":"<p>Your current implementation doesn't print anything: it simply returns item.\nMore appropriate implementation would look like:</p>\n\n<pre><code>public void print() {\n    System.out.println(item); \n}\n</code></pre>\n\n<p>You can then use recursion to print all items:</p>\n\n<pre><code>public void printAll() {\n    print();\n    if (next != null) {\n        System.out.println(\"; \");\n        next.printAll(); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2636659,"reputation":531,"user_id":2281124,"accept_rate":50,"display_name":"goodies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621413,"creation_date":1368621413,"answer_id":16565181,"question_id":16565045,"body_markdown":"Your `print()` function is returning only a single item that&#39;s why it is printing only 21.\r\n\r\nCall recursively to print all the values until `next != NULL`","title":"printing nodes from a singly-linked list","body":"<p>Your <code>print()</code> function is returning only a single item that's why it is printing only 21.</p>\n\n<p>Call recursively to print all the values until <code>next != NULL</code></p>\n"},{"tags":[],"owner":{"account_id":2768189,"reputation":450,"user_id":2383376,"display_name":"jayrobin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621567,"creation_date":1368621567,"answer_id":16565222,"question_id":16565045,"body_markdown":"Calling `list.print()` will only ever return the value of the head (21) - you are never making any reference or call to the next node: `next`.\r\n\r\nPersonally, I would remove the print() method and instead override toString():\r\n\r\n    @override\r\n    public String toString(){\r\n        return item + &quot;\\n&quot; + next;\r\n    }\r\n\r\nI guess you probably don&#39;t want the null tail printed, so this is probably nicer:\r\n\r\n    @override\r\n    public String toString(){\r\n        if(next) {\r\n            return item + &quot;\\n&quot; + next;\r\n        } else {\r\n            return item + &quot;\\n&quot;;\r\n        }\r\n    }\r\n\r\nThen in, main:\r\n\r\n    public static void main(String[] args) {            \r\n        ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\r\n        System.out.println(list);\r\n    }\r\n\r\n","title":"printing nodes from a singly-linked list","body":"<p>Calling <code>list.print()</code> will only ever return the value of the head (21) - you are never making any reference or call to the next node: <code>next</code>.</p>\n\n<p>Personally, I would remove the print() method and instead override toString():</p>\n\n<pre><code>@override\npublic String toString(){\n    return item + \"\\n\" + next;\n}\n</code></pre>\n\n<p>I guess you probably don't want the null tail printed, so this is probably nicer:</p>\n\n<pre><code>@override\npublic String toString(){\n    if(next) {\n        return item + \"\\n\" + next;\n    } else {\n        return item + \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Then in, main:</p>\n\n<pre><code>public static void main(String[] args) {            \n    ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\n    System.out.println(list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":436678,"reputation":5234,"user_id":823991,"accept_rate":83,"display_name":"John Snow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621858,"creation_date":1368621858,"answer_id":16565334,"question_id":16565045,"body_markdown":"You can use a foreach loop:\r\n\r\n    List&lt;ListNode&gt; theList = new LinkedList&lt;ListNode&gt;();\r\n    //add stuff to the list\r\n    for(ListNode n:theList)\r\n       System.out.println(n.print();\r\n\r\nTHis will iterate over the list and return the next object, on this object we call the `print()` method","title":"printing nodes from a singly-linked list","body":"<p>You can use a foreach loop:</p>\n\n<pre><code>List&lt;ListNode&gt; theList = new LinkedList&lt;ListNode&gt;();\n//add stuff to the list\nfor(ListNode n:theList)\n   System.out.println(n.print();\n</code></pre>\n\n<p>THis will iterate over the list and return the next object, on this object we call the <code>print()</code> method</p>\n"},{"tags":[],"owner":{"account_id":8652630,"reputation":81,"user_id":6477792,"display_name":"Pasindu Jayasinghe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665296162,"creation_date":1665250746,"answer_id":73999204,"question_id":16565045,"body_markdown":"Convert list into an array `var arr = list.toArray();` after that print the array ` System.out.println(Arrays.toString(arr));`\r\n\r\n    public int[] toArray(){\r\n        int [] arry = new int[size];\r\n        var current = first;\r\n        var index = 0;\r\n    \r\n            while (current!=null){\r\n                arry[index++] = current.value;\r\n                current = current.next;\r\n            }\r\n            return arry;\r\n        }\r\n","title":"printing nodes from a singly-linked list","body":"<p>Convert list into an array <code>var arr = list.toArray();</code> after that print the array <code> System.out.println(Arrays.toString(arr));</code></p>\n<pre><code>public int[] toArray(){\n    int [] arry = new int[size];\n    var current = first;\n    var index = 0;\n\n        while (current!=null){\n            arry[index++] = current.value;\n            current = current.next;\n        }\n        return arry;\n    }\n</code></pre>\n"}],"owner":{"account_id":2694370,"reputation":145,"user_id":2326847,"display_name":"user2326847"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16565141,"answer_count":7,"score":1,"last_activity_date":1678953911,"creation_date":1368621019,"question_id":16565045,"body_markdown":"I made a node class which is a linked list class. Is there any way I can print out elements in this list ? I made my `print()` method but it only returns the first element which is 21. How do I iterate through that list ?  \r\n\r\n    public class ListNode {\r\n\t\tprivate int item;\r\n\t\tprivate ListNode next;\r\n\t\t\r\n\t\tpublic ListNode(int item, ListNode next){\r\n\t\t\tthis.item = item;\r\n\t\t\tthis.next = next;\r\n\t\t}\r\n\t\t\r\n\t\tpublic ListNode(int item){\r\n\t\t\tthis(item, null);\r\n\t\t}\r\n\t\t\r\n\t\tpublic int print(){\r\n\t\t\treturn item;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\t\t\t\r\n\t\t\tListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\r\n\t\t\tSystem.out.println(list.print());\r\n\t\t}\r\n}","title":"printing nodes from a singly-linked list","body":"<p>I made a node class which is a linked list class. Is there any way I can print out elements in this list ? I made my <code>print()</code> method but it only returns the first element which is 21. How do I iterate through that list ?  </p>\n\n<pre><code>public class ListNode {\n    private int item;\n    private ListNode next;\n\n    public ListNode(int item, ListNode next){\n        this.item = item;\n        this.next = next;\n    }\n\n    public ListNode(int item){\n        this(item, null);\n    }\n\n    public int print(){\n        return item;\n    }\n\n    public static void main(String[] args) {            \n        ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\n        System.out.println(list.print());\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","kotlin","text-to-speech"],"owner":{"account_id":16447516,"reputation":135,"user_id":11881850,"display_name":"kpwn Apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953740,"creation_date":1678953740,"question_id":75753453,"body_markdown":"I have following code to play a text as audio:\r\n\r\n    abstract class EmployeeNoteToTTS(private val employeeName: String, activity: AppCompatActivity, private val text: String){\r\n    \r\n        private var tts: TextToSpeech? = null\r\n        private val audioFile = File(&quot;${activity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)}/employeeTtsNotes/$employeeName&quot;)\r\n    \r\n        abstract fun onConvertDone(audioFile: File)\r\n        abstract fun onConvertFail(utteranceId: String)\r\n    \r\n    \r\n        init {\r\n            audioFile.mkdirs()\r\n    \r\n            tts = TextToSpeech(activity.applicationContext)\r\n            { status -&gt; if (status == TextToSpeech.SUCCESS) {\r\n                tts?.language = Locale.US\r\n                } else {\r\n                    throw Exception(&quot;TTS init fail&quot;)\r\n                }\r\n            }\r\n            tts?.setOnUtteranceProgressListener(object : UtteranceProgressListener() {\r\n    \r\n                override fun onDone(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert done&quot;)\r\n                    onConvertDone(audioFile)\r\n                }\r\n    \r\n                override fun onError(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert fail&quot;)\r\n                    onConvertFail(utteranceId.toString())\r\n                }\r\n    \r\n                override fun onStart(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert start&quot;)\r\n                }\r\n            })\r\n    \r\n        }\r\n    \r\n       fun convert() {\r\n           if (audioFile.parent != null){\r\n               tts?.speak(text,TextToSpeech.QUEUE_FLUSH,null,&quot;&quot;)\r\n               val outputFile = File(audioFile.parent!! + &quot;/$employeeName/&quot; + &quot;TTS_${System.currentTimeMillis()}.mp3&quot;)\r\n               outputFile.createNewFile()\r\n               tts?.synthesizeToFile(text, null, outputFile,&quot;0&quot;)\r\n           }\r\n       }\r\n    \r\n    }\r\n\r\nHowever i am not able to save the file as .mp3 and the text is not played either. Theres also no exception thrown and none of the **UtteranceProgressListener** callbacks are called","title":"Android TextToSpeech does not save Audio and play song","body":"<p>I have following code to play a text as audio:</p>\n<pre><code>abstract class EmployeeNoteToTTS(private val employeeName: String, activity: AppCompatActivity, private val text: String){\n\n    private var tts: TextToSpeech? = null\n    private val audioFile = File(&quot;${activity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)}/employeeTtsNotes/$employeeName&quot;)\n\n    abstract fun onConvertDone(audioFile: File)\n    abstract fun onConvertFail(utteranceId: String)\n\n\n    init {\n        audioFile.mkdirs()\n\n        tts = TextToSpeech(activity.applicationContext)\n        { status -&gt; if (status == TextToSpeech.SUCCESS) {\n            tts?.language = Locale.US\n            } else {\n                throw Exception(&quot;TTS init fail&quot;)\n            }\n        }\n        tts?.setOnUtteranceProgressListener(object : UtteranceProgressListener() {\n\n            override fun onDone(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert done&quot;)\n                onConvertDone(audioFile)\n            }\n\n            override fun onError(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert fail&quot;)\n                onConvertFail(utteranceId.toString())\n            }\n\n            override fun onStart(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert start&quot;)\n            }\n        })\n\n    }\n\n   fun convert() {\n       if (audioFile.parent != null){\n           tts?.speak(text,TextToSpeech.QUEUE_FLUSH,null,&quot;&quot;)\n           val outputFile = File(audioFile.parent!! + &quot;/$employeeName/&quot; + &quot;TTS_${System.currentTimeMillis()}.mp3&quot;)\n           outputFile.createNewFile()\n           tts?.synthesizeToFile(text, null, outputFile,&quot;0&quot;)\n       }\n   }\n\n}\n</code></pre>\n<p>However i am not able to save the file as .mp3 and the text is not played either. Theres also no exception thrown and none of the <strong>UtteranceProgressListener</strong> callbacks are called</p>\n"},{"tags":["java","working-set","project-explorer","eclipse-2019-06"],"answers":[{"comments":[{"owner":{"account_id":3106923,"reputation":737,"user_id":4055135,"display_name":"Kelly Bang"},"score":1,"creation_date":1582739391,"post_id":57248491,"comment_id":106884322,"body_markdown":"I still have those working sets after removing my only m2e/maven plugins (org.eclipse.m2e.feature and org.eclipse.m2e.logging.feature)","body":"I still have those working sets after removing my only m2e/maven plugins (org.eclipse.m2e.feature and org.eclipse.m2e.logging.feature)"}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564383075,"creation_date":1564383075,"answer_id":57248491,"question_id":57247502,"body_markdown":"These working sets are contributed by the Maven support plug-ins (org.eclipse.m2e.xxx). \r\n\r\nThere does not seem to be anyway to disable them other than uninstalling the Maven support.","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>These working sets are contributed by the Maven support plug-ins (org.eclipse.m2e.xxx). </p>\n\n<p>There does not seem to be anyway to disable them other than uninstalling the Maven support.</p>\n"},{"tags":[],"owner":{"account_id":3106923,"reputation":737,"user_id":4055135,"display_name":"Kelly Bang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582743720,"creation_date":1582742991,"answer_id":60420609,"question_id":57247502,"body_markdown":"The location where Eclipse saves working sets is `workspace/.metadata/.plugins/org.eclipse.ui.workbench/workingsets.xml`. If you&#39;re on Windows try setting this to readonly, hopefully this works.\r\n\r\nWhen you remove Java Main|Test Sources from Eclipse, it removes the corresponding lines there. However, when you restart Eclipse it generates those lines again.\r\n\r\nI&#39;m on Linux, I thought setting the file owner to root:root with -rw-rw-r-- permissions would have been enough. On start up it throws an error, but quickly corrects itself, deletes the folder and reconstructs the settings from the files it was able to read. Setting the folder to root:root as well means you can read the error that is thrown (Cannot save) but it still creates the workspaces, just can&#39;t save them for you...","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>The location where Eclipse saves working sets is <code>workspace/.metadata/.plugins/org.eclipse.ui.workbench/workingsets.xml</code>. If you're on Windows try setting this to readonly, hopefully this works.</p>\n\n<p>When you remove Java Main|Test Sources from Eclipse, it removes the corresponding lines there. However, when you restart Eclipse it generates those lines again.</p>\n\n<p>I'm on Linux, I thought setting the file owner to root:root with -rw-rw-r-- permissions would have been enough. On start up it throws an error, but quickly corrects itself, deletes the folder and reconstructs the settings from the files it was able to read. Setting the folder to root:root as well means you can read the error that is thrown (Cannot save) but it still creates the workspaces, just can't save them for you...</p>\n"},{"comments":[{"owner":{"account_id":6917264,"reputation":219,"user_id":5311017,"display_name":"JDMcMillian"},"score":0,"creation_date":1679002499,"post_id":75749872,"comment_id":133647556,"body_markdown":"Thank you Alex1988, this question is a bit dated, and I am no longer using Eclipse. But if a few people confirm this works I will happily mark it as solved.","body":"Thank you Alex1988, this question is a bit dated, and I am no longer using Eclipse. But if a few people confirm this works I will happily mark it as solved."},{"owner":{"account_id":1432392,"reputation":1050,"user_id":1354517,"accept_rate":85,"display_name":"Gautam"},"score":0,"creation_date":1684659097,"post_id":75749872,"comment_id":134546683,"body_markdown":"It works but is temporary and on restart of eclipse it comes back. And I can confirm this nuisance still exists in year 2023","body":"It works but is temporary and on restart of eclipse it comes back. And I can confirm this nuisance still exists in year 2023"}],"tags":[],"owner":{"account_id":11741990,"reputation":21,"user_id":8594012,"display_name":"Alex1988"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678953731,"creation_date":1678912858,"answer_id":75749872,"question_id":57247502,"body_markdown":"This worked for me, to solve the problem of the appearance of the directories &quot;**Java Main Sources**&quot; and &quot;**Java Test Sources**&quot; you have to go to the **Package Explorer** and click on the white triangle at the top,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nfrom here select **Select Working Set...** ,\r\n\r\n[![enter image description here][3]][3]\r\n\r\na window will open where it will be possible to remove by clicking on Remove after having selected the working sets or directories named &quot;**Java Main Sources**&quot;\r\n\r\n[![enter image description here][4]][4]\r\n\r\n and &quot;**Java Test Sources**&quot;.\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI hope this was helpful, simple and effective.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XnEnA.png\r\n  [2]: https://i.stack.imgur.com/igvqS.png\r\n  [3]: https://i.stack.imgur.com/7vGIg.png\r\n  [4]: https://i.stack.imgur.com/13lwT.png\r\n  [5]: https://i.stack.imgur.com/Kb0qf.png","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>This worked for me, to solve the problem of the appearance of the directories &quot;<strong>Java Main Sources</strong>&quot; and &quot;<strong>Java Test Sources</strong>&quot; you have to go to the <strong>Package Explorer</strong> and click on the white triangle at the top,</p>\n<p><a href=\"https://i.stack.imgur.com/XnEnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XnEnA.png\" alt=\"enter image description here\" /></a></p>\n<p>from here select <strong>Select Working Set...</strong> ,</p>\n<p><a href=\"https://i.stack.imgur.com/7vGIg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7vGIg.png\" alt=\"enter image description here\" /></a></p>\n<p>a window will open where it will be possible to remove by clicking on Remove after having selected the working sets or directories named &quot;<strong>Java Main Sources</strong>&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/13lwT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/13lwT.png\" alt=\"enter image description here\" /></a></p>\n<p>and &quot;<strong>Java Test Sources</strong>&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/Kb0qf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kb0qf.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope this was helpful, simple and effective.</p>\n"}],"owner":{"account_id":6917264,"reputation":219,"user_id":5311017,"display_name":"JDMcMillian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1678953731,"creation_date":1564376965,"question_id":57247502,"body_markdown":"I&#39;m trying to remove the working sets &quot;Java Main Sources&quot; and &quot;Java Test Sources&quot; from the working sets of the Project Explorer.  \r\n\r\nI can delete them from the Select Working Set dialogue window, but, they return when Eclipse is restarted. Is there a way to remove them permanently?\r\n\r\nAfter restarting eclipse, I would expect those working sets to not be present.","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>I'm trying to remove the working sets \"Java Main Sources\" and \"Java Test Sources\" from the working sets of the Project Explorer.  </p>\n\n<p>I can delete them from the Select Working Set dialogue window, but, they return when Eclipse is restarted. Is there a way to remove them permanently?</p>\n\n<p>After restarting eclipse, I would expect those working sets to not be present.</p>\n"},{"tags":["java","google-play"],"owner":{"account_id":28021456,"reputation":1,"user_id":21402194,"display_name":"q5a6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953457,"creation_date":1678953457,"question_id":75753420,"body_markdown":"my app update rejected by google play because of Request Install Packages Permission but my app is an app that allow user to install downloaded APK Files on User device so i can&#39;t remove this permission.\r\n\r\nGoogle play responded with this email :\r\n\r\n\r\n\r\n    We found that your app is not compliant with how REQUEST_INSTALL_PACKAGES permission is allowed to be used. Specifically, the use of the permission is not directly related to the core purpose of the app.\r\n\r\n    Issue details\r\n\r\n    We found an issue in the following area(s):\r\n\r\n    APK 15\r\n\r\n    Additionally, follow these steps to bring your app into compliance:\r\n\r\n    Please remove the use of REQUEST_INSTALL_PACKAGES permission from all version codes within the submission. This includes both production and testing tracks.\r\n\r\n\r\nhow i can fix this ?\r\n\r\ni have explained to google that the permission is required but they responded with the email below","title":"Request Install Packages Permission App update rejected","body":"<p>my app update rejected by google play because of Request Install Packages Permission but my app is an app that allow user to install downloaded APK Files on User device so i can't remove this permission.</p>\n<p>Google play responded with this email :</p>\n<pre><code>We found that your app is not compliant with how REQUEST_INSTALL_PACKAGES permission is allowed to be used. Specifically, the use of the permission is not directly related to the core purpose of the app.\n\nIssue details\n\nWe found an issue in the following area(s):\n\nAPK 15\n\nAdditionally, follow these steps to bring your app into compliance:\n\nPlease remove the use of REQUEST_INSTALL_PACKAGES permission from all version codes within the submission. This includes both production and testing tracks.\n</code></pre>\n<p>how i can fix this ?</p>\n<p>i have explained to google that the permission is required but they responded with the email below</p>\n"},{"tags":["java","unit-testing","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1678954517,"post_id":75753415,"comment_id":133633648,"body_markdown":"https://quarkus.io/guides/getting-started-testing.\nFollow the guide, you are missing some important point about testing Quarkus applications","body":"<a href=\"https://quarkus.io/guides/getting-started-testing\" rel=\"nofollow noreferrer\">quarkus.io/guides/getting-started-testing</a>. Follow the guide, you are missing some important point about testing Quarkus applications"}],"owner":{"account_id":28030346,"reputation":1,"user_id":21409637,"display_name":"batnyam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953415,"creation_date":1678953415,"question_id":75753415,"body_markdown":"I do need a unit test of my app so that&#39;s my unit test class\r\n\r\n```\r\npublic class UnitTestActivator {\r\n\r\n    @Mock\r\n    ActivatorFacade activatorFacade;\r\n\r\n    @InjectMocks\r\n    ActivatorService activatorService;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testInsertActivator() {\r\n        String request = &quot;test request&quot;;\r\n        String globalId = &quot;test global id&quot;;\r\n\r\n        ActivatorEntity activatorEntity = new ActivatorEntity();\r\n        activatorEntity.setBody(request);\r\n        activatorEntity.setGlobalId(globalId);\r\n\r\n        activatorService.insertActivator(request, globalId);\r\n        Mockito.verify(activatorFacade).create(activatorEntity);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand that&#39;s the ActivatorFacade class @Mock on unit test\r\n\r\n```\r\n@ApplicationScoped\r\npublic class ActivatorFacade extends AbstractFacade&lt;ActivatorEntity&gt; {\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n    @Override\r\n    protected EntityManager getEntityManager() {\r\n        return em;\r\n    }\r\n\r\n    public ActivatorFacade() {\r\n        super(ActivatorEntity.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand that&#39;s ActivatorService class @InjectMocks on unit test\r\n\r\n```\r\n@ApplicationScoped\r\npublic class ActivatorService {\r\n\r\n    @Inject\r\n    ActivatorFacade activatorFacade;\r\n\r\n    @Transactional\r\n    public void insertActivator(String request, String globalId) {\r\n        ActivatorEntity activatorEntity = new ActivatorEntity();\r\n        activatorEntity.setBody(request);\r\n        activatorEntity.setGlobalId(globalId);\r\n        activatorFacade.create(activatorEntity);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nthen running test occured this error\r\n\r\n```\r\n2023-03-16 15:50:26,237 ERROR [io.qua.test] (Test runner thread) Test UnitTestActivator#testInsertActivator() failed \r\n: java.lang.NullPointerException: Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null at activator.unit.UnitTestActivator.testInsertActivator(UnitTestActivator.java:45)\r\n\r\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Summary: &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\nactivator.unit.UnitTestActivator#testInsertActivator(UnitTestActivator.java:45) UnitTestActivator#testInsertActivator() Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null\r\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1 TEST FAILED &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n```\r\n\r\nhow to solve this error\r\n\r\nhow to fully inject or construct ActivatorService","title":"Can&#39;t inject service class in unit test of Quarkus app","body":"<p>I do need a unit test of my app so that's my unit test class</p>\n<pre><code>public class UnitTestActivator {\n\n    @Mock\n    ActivatorFacade activatorFacade;\n\n    @InjectMocks\n    ActivatorService activatorService;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testInsertActivator() {\n        String request = &quot;test request&quot;;\n        String globalId = &quot;test global id&quot;;\n\n        ActivatorEntity activatorEntity = new ActivatorEntity();\n        activatorEntity.setBody(request);\n        activatorEntity.setGlobalId(globalId);\n\n        activatorService.insertActivator(request, globalId);\n        Mockito.verify(activatorFacade).create(activatorEntity);\n    }\n\n}\n</code></pre>\n<p>and that's the ActivatorFacade class @Mock on unit test</p>\n<pre><code>@ApplicationScoped\npublic class ActivatorFacade extends AbstractFacade&lt;ActivatorEntity&gt; {\n\n    @Inject\n    EntityManager em;\n\n    @Override\n    protected EntityManager getEntityManager() {\n        return em;\n    }\n\n    public ActivatorFacade() {\n        super(ActivatorEntity.class);\n    }\n\n}\n</code></pre>\n<p>and that's ActivatorService class @InjectMocks on unit test</p>\n<pre><code>@ApplicationScoped\npublic class ActivatorService {\n\n    @Inject\n    ActivatorFacade activatorFacade;\n\n    @Transactional\n    public void insertActivator(String request, String globalId) {\n        ActivatorEntity activatorEntity = new ActivatorEntity();\n        activatorEntity.setBody(request);\n        activatorEntity.setGlobalId(globalId);\n        activatorFacade.create(activatorEntity);\n    }\n    \n}\n</code></pre>\n<p>then running test occured this error</p>\n<pre><code>2023-03-16 15:50:26,237 ERROR [io.qua.test] (Test runner thread) Test UnitTestActivator#testInsertActivator() failed \n: java.lang.NullPointerException: Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null at activator.unit.UnitTestActivator.testInsertActivator(UnitTestActivator.java:45)\n\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Summary: &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\nactivator.unit.UnitTestActivator#testInsertActivator(UnitTestActivator.java:45) UnitTestActivator#testInsertActivator() Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1 TEST FAILED &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>how to solve this error</p>\n<p>how to fully inject or construct ActivatorService</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678952363,"post_id":75752942,"comment_id":133633154,"body_markdown":"Is it a `dependencies` section immediately in the `project` root, or in a `dependencyManagement` section?","body":"Is it a <code>dependencies</code> section immediately in the <code>project</code> root, or in a <code>dependencyManagement</code> section?"},{"owner":{"account_id":1857895,"reputation":613,"user_id":1683098,"accept_rate":100,"display_name":""},"score":0,"creation_date":1678952821,"post_id":75752942,"comment_id":133633259,"body_markdown":"it&#39;s dependencies in a dependencies tag pair in a dependencyManagement tag pair.","body":"it&#39;s dependencies in a dependencies tag pair in a dependencyManagement tag pair."}],"answers":[{"comments":[{"owner":{"account_id":1857895,"reputation":613,"user_id":1683098,"accept_rate":100,"display_name":""},"score":0,"creation_date":1678952179,"post_id":75753143,"comment_id":133633110,"body_markdown":"but if the aggregation pom is not the parent pom of its submodule, could the dependency still be used by its sub-module when build the sub-module?","body":"but if the aggregation pom is not the parent pom of its submodule, could the dependency still be used by its sub-module when build the sub-module?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1678952899,"post_id":75753143,"comment_id":133633273,"body_markdown":"@ I guess not.","body":"@ I guess not."}],"tags":[],"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678951309,"creation_date":1678951309,"answer_id":75753143,"question_id":75752942,"body_markdown":"If I understood things correctly, then I think the previous developer was aggregating common dependencies to be shared among the two projects. This would make it so they both used the same dependencies.","title":"In maven, what&#39;s the purpose of put dependency in the aggregation pom.xml if it&#39;s not a parent pom?","body":"<p>If I understood things correctly, then I think the previous developer was aggregating common dependencies to be shared among the two projects. This would make it so they both used the same dependencies.</p>\n"},{"comments":[{"owner":{"account_id":1857895,"reputation":613,"user_id":1683098,"accept_rate":100,"display_name":""},"score":0,"creation_date":1678953630,"post_id":75753375,"comment_id":133633437,"body_markdown":"according to the dscription above, I think the dependencyManagement section in the ROOT pom takes no any effect. It could be just something which can be removed but not be done yet.","body":"according to the dscription above, I think the dependencyManagement section in the ROOT pom takes no any effect. It could be just something which can be removed but not be done yet."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678953062,"creation_date":1678953062,"answer_id":75753375,"question_id":75752942,"body_markdown":"A `dependencyManagement` section declares the versions of dependencies, so sub-modules can use those dependencies without explicitly declaring their versions. That is, the sub-modules will have to declare the dependency they need, but they can leave out the `version`-tag. \r\n\r\nThis is especially useful in projects that have a lot of sub-modules with common dependencies: you only have to declare the versions in one place, which makes it easier to manage versions, and avoids having diverging dependency versions. It can also be used to manage (override) versions of the dependencies of dependencies.\r\n\r\nIf the root is not the parent of the sub-module, I don&#39;t think this works (I think that is an odd design though), but I think it should be possible to import the root as a BOM in the case. That is, in the sub-module, you&#39;d add:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;your-group-id&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ROOT-artifact-id&lt;/artifactId&gt;\r\n            &lt;version&gt;your-version&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```","title":"In maven, what&#39;s the purpose of put dependency in the aggregation pom.xml if it&#39;s not a parent pom?","body":"<p>A <code>dependencyManagement</code> section declares the versions of dependencies, so sub-modules can use those dependencies without explicitly declaring their versions. That is, the sub-modules will have to declare the dependency they need, but they can leave out the <code>version</code>-tag.</p>\n<p>This is especially useful in projects that have a lot of sub-modules with common dependencies: you only have to declare the versions in one place, which makes it easier to manage versions, and avoids having diverging dependency versions. It can also be used to manage (override) versions of the dependencies of dependencies.</p>\n<p>If the root is not the parent of the sub-module, I don't think this works (I think that is an odd design though), but I think it should be possible to import the root as a BOM in the case. That is, in the sub-module, you'd add:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;your-group-id&lt;/groupId&gt;\n            &lt;artifactId&gt;ROOT-artifact-id&lt;/artifactId&gt;\n            &lt;version&gt;your-version&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":1857895,"reputation":613,"user_id":1683098,"accept_rate":100,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75753375,"answer_count":2,"score":0,"last_activity_date":1678953062,"creation_date":1678949647,"question_id":75752942,"body_markdown":"I have a maven project which has a structure below:   \r\n\r\nROOT(aggregation pom.xml) \r\n - A ( sub module of ROOT ) \r\n - B ( sub module of ROOT)  \r\n\r\nROOT is NOT the parent project of A and B.   \r\n\r\nand I saw that there is some dependency libs in ROOT, is that necessary?  \r\nwhat&#39;s the purpose of declare dependency in aggregation pom if it&#39;s not any submodule&#39;s parent module?  \r\n\r\nI suspect that this is a wrong way to declare dependency in maven by previous project developer. \r\n\r\n\r\n","title":"In maven, what&#39;s the purpose of put dependency in the aggregation pom.xml if it&#39;s not a parent pom?","body":"<p>I have a maven project which has a structure below:</p>\n<p>ROOT(aggregation pom.xml)</p>\n<ul>\n<li>A ( sub module of ROOT )</li>\n<li>B ( sub module of ROOT)</li>\n</ul>\n<p>ROOT is NOT the parent project of A and B.</p>\n<p>and I saw that there is some dependency libs in ROOT, is that necessary?<br />\nwhat's the purpose of declare dependency in aggregation pom if it's not any submodule's parent module?</p>\n<p>I suspect that this is a wrong way to declare dependency in maven by previous project developer.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1587612,"reputation":5538,"user_id":1471604,"accept_rate":98,"display_name":"Peter Smith"},"score":1,"creation_date":1431253465,"post_id":30150251,"comment_id":48408041,"body_markdown":"Can you please give more detail at to what your problem is.","body":"Can you please give more detail at to what your problem is."},{"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"score":0,"creation_date":1431253563,"post_id":30150251,"comment_id":48408072,"body_markdown":"I want the output to be like this: \nEnter the elements of the array  23      98      45      101      6\nAll the prime numbers in the array are  23      101","body":"I want the output to be like this:  Enter the elements of the array  23      98      45      101      6 All the prime numbers in the array are  23      101"},{"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"score":0,"creation_date":1431253662,"post_id":30150251,"comment_id":48408103,"body_markdown":"But it&#39;s giving me the 0 1 2 3 as output.","body":"But it&#39;s giving me the 0 1 2 3 as output."},{"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"score":0,"creation_date":1431257012,"post_id":30150251,"comment_id":48408998,"body_markdown":"Please [edit] your question and add this information there instead of in comments.","body":"Please <a href=\"https://stackoverflow.com/posts/30150251/edit\">edit</a> your question and add this information there instead of in comments."},{"owner":{"account_id":3533533,"reputation":1319,"user_id":2952405,"accept_rate":100,"display_name":"David Chelliah"},"score":0,"creation_date":1465086029,"post_id":30150251,"comment_id":62754283,"body_markdown":"Just an improvement to already suggested answers : For testing if a number(n) is prime, you can check if that number is divisible by any number between 2 to SquareRoot(n). No need to test it with all numbers less than n. A sample implementation that utilizes that factor. http://davidsekar.com/algorithms/sieve-of-eratosthenes-prime","body":"Just an improvement to already suggested answers : For testing if a number(n) is prime, you can check if that number is divisible by any number between 2 to SquareRoot(n). No need to test it with all numbers less than n. A sample implementation that utilizes that factor. <a href=\"http://davidsekar.com/algorithms/sieve-of-eratosthenes-prime\" rel=\"nofollow noreferrer\">davidsekar.com/algorithms/sieve-of-eratosthenes-prime</a>"}],"answers":[{"comments":[{"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"score":0,"creation_date":1431255353,"post_id":30150386,"comment_id":48408510,"body_markdown":"I think there&#39;s something wrong with the print statement. I&#39;ve tried your code, and it outputs 0 and 3.","body":"I think there&#39;s something wrong with the print statement. I&#39;ve tried your code, and it outputs 0 and 3."},{"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"score":0,"creation_date":1431256066,"post_id":30150386,"comment_id":48408726,"body_markdown":"I want something like this http://www.studystreet.com/c-program-find-prime-array/#comment-14385 but can&#39;t convert it to Java","body":"I want something like this <a href=\"http://www.studystreet.com/c-program-find-prime-array/#comment-14385\" rel=\"nofollow noreferrer\">studystreet.com/c-program-find-prime-array/#comment-14385</a> but can&#39;t convert it to Java"},{"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"score":0,"creation_date":1431257405,"post_id":30150386,"comment_id":48409101,"body_markdown":"So I solved it by System.out.println(array[i] + &quot; are the prime numbers in the array &quot;); giving me the ouput: 23 are the prime numbers in the array \n101 are the prime numbers in the array. Thanks for the help. But my problem now is how do I output is like, 23, 101 are the prime numbers in the array?","body":"So I solved it by System.out.println(array[i] + &quot; are the prime numbers in the array &quot;); giving me the ouput: 23 are the prime numbers in the array  101 are the prime numbers in the array. Thanks for the help. But my problem now is how do I output is like, 23, 101 are the prime numbers in the array?"}],"tags":[],"owner":{"account_id":1587612,"reputation":5538,"user_id":1471604,"accept_rate":98,"display_name":"Peter Smith"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1431287047,"creation_date":1431254249,"answer_id":30150386,"question_id":30150251,"body_markdown":"You are checking the loop counters, not the values in the array. Try something like\r\n\r\n    for (int j=2; j&lt;array[i]; j++){\r\n        if(array[I]%j==0){\r\n                isPrime = false;\r\n                break;\r\n            }\r\n\r\nI haven&#39;t tested this.\r\n\r\n**UPDATE**\r\n\r\nTo print out the results either print each on as it is found, or, copy the prime numbers into an output array and then print that when you have finished the checks. The details will depend on the language you are using.\r\n\r\nPlease note, you are not using a very efficient detection algorithm; Google for a better one.\r\n\r\n","title":"find all prime numbers from array","body":"<p>You are checking the loop counters, not the values in the array. Try something like</p>\n\n<pre><code>for (int j=2; j&lt;array[i]; j++){\n    if(array[I]%j==0){\n            isPrime = false;\n            break;\n        }\n</code></pre>\n\n<p>I haven't tested this.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>To print out the results either print each on as it is found, or, copy the prime numbers into an output array and then print that when you have finished the checks. The details will depend on the language you are using.</p>\n\n<p>Please note, you are not using a very efficient detection algorithm; Google for a better one.</p>\n"},{"tags":[],"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483309397,"creation_date":1431257412,"answer_id":30150850,"question_id":30150251,"body_markdown":"    public static void main(String[] args) {\r\n    \t\tint[] array = new int[5];\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot;Enter the elements of the array: &quot;);\r\n    \t\tfor (int i = 0; i &lt; 5; i++) {\r\n    \t\t\tarray[i] = in.nextInt();\r\n    \t\t}\r\n    \t\t// loop through the numbers one by one\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tboolean isPrime = true;\r\n    \t\t\tif (array[i] == 1)\r\n    \t\t\t\tisPrime = false;\r\n    \t\t\telse {\r\n    \t\t\t\t// check to see if the numbers are prime\r\n    \t\t\t\tfor (int j = 2; j &lt;= array[i] / 2; j++) {\r\n    \t\t\t\t\tif (array[i] % j == 0) {\r\n    \t\t\t\t\t\tisPrime = false;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t// print the number\r\n    \t\t\tif (isPrime)\r\n    \t\t\t\tSystem.out.println(array[i] + &quot; is a prime number in the array &quot;);\r\n    \t\t}\r\n    \t}","title":"find all prime numbers from array","body":"<pre><code>public static void main(String[] args) {\n        int[] array = new int[5];\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(\"Enter the elements of the array: \");\n        for (int i = 0; i &lt; 5; i++) {\n            array[i] = in.nextInt();\n        }\n        // loop through the numbers one by one\n        for (int i = 0; i &lt; array.length; i++) {\n            boolean isPrime = true;\n            if (array[i] == 1)\n                isPrime = false;\n            else {\n                // check to see if the numbers are prime\n                for (int j = 2; j &lt;= array[i] / 2; j++) {\n                    if (array[i] % j == 0) {\n                        isPrime = false;\n                        break;\n                    }\n                }\n            }\n            // print the number\n            if (isPrime)\n                System.out.println(array[i] + \" is a prime number in the array \");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5273270,"reputation":345,"user_id":4210911,"display_name":"TomerM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431257869,"creation_date":1431257869,"answer_id":30150923,"question_id":30150251,"body_markdown":"You can check all integer numbers until root of the required number \n\n \n### Pseudo code:\n\n        \n     for(i=2; i&lt;sqrt(number);i++){\n      if(number/i===0){\n        //not prime number\n      }\n    }\n\n","title":"find all prime numbers from array","body":"<p>You can check all integer numbers until root of the required number</p>\n<h3>Pseudo code:</h3>\n<pre><code> for(i=2; i&lt;sqrt(number);i++){\n  if(number/i===0){\n    //not prime number\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10964426,"reputation":1,"user_id":8056610,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498845735,"creation_date":1498845735,"answer_id":44852478,"question_id":30150251,"body_markdown":"Here is more efficient code finding prime number. We only need to check the odd number up to the square root of N, assume the number is greater than 2. \r\n\r\n    boolean isPrime(int n) {\r\n    \t    //check if n is a multiple of 2\r\n    \t    if (n%2==0) return false;\r\n    \t    //if not, then just check the odds\r\n    \t    for(int i=3;i*i&lt;=n;i+=2) {\r\n    \t        if(n%i==0)\r\n    \t            return false;\r\n    \t    }\r\n    \t    return true;\r\n    \t}","title":"find all prime numbers from array","body":"<p>Here is more efficient code finding prime number. We only need to check the odd number up to the square root of N, assume the number is greater than 2. </p>\n\n<pre><code>boolean isPrime(int n) {\n        //check if n is a multiple of 2\n        if (n%2==0) return false;\n        //if not, then just check the odds\n        for(int i=3;i*i&lt;=n;i+=2) {\n            if(n%i==0)\n                return false;\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13846020,"reputation":41,"user_id":9995161,"display_name":"Sasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530805302,"creation_date":1530805302,"answer_id":51195344,"question_id":30150251,"body_markdown":"This is the simplest form of finding the prime numbers from  the given array. We can also use scanner by assigning n instead of an array to check whether if it is a prime or non prime from the given input(commented in program).Hope this helps you..!!\r\n\t\r\n\tpublic static void main(String[] arg) {\r\n\t\tint a[]= {1,2,3,4,5,6,7,8,9,10}; //int n=0 or n=values\t     \r\n\t\tint num =0;\r\n\t    String  primeNumbers = &quot;&quot;;\r\n\t    for (int i = 0; i &lt;= a.length; i++)  /*change a.length to n*/\t   \r\n\t      { \t\t \t\t  \r\n\t         int counter=0; \t\t  \r\n\t         for(num =i; num&gt;=1; num--)\r\n\t         {\r\n\t\t    if(i%num==0)\r\n\t\t    {\r\n\t\t\tcounter = counter + 1;\r\n\t\t    }\r\n\t\t }\r\n\t\t if (counter ==2)\r\n\t\t {\r\n\t\t    //Appended the Prime number to the String\r\n\t\t    primeNumbers = primeNumbers + i + &quot; &quot;;\r\n\t\t }\t\r\n\t      }\t\r\n\t      System.out.println(&quot;Prime numbers from given array :&quot;);\r\n\t      System.out.println(primeNumbers);\r\n\t   }\r\n\t}","title":"find all prime numbers from array","body":"<p>This is the simplest form of finding the prime numbers from  the given array. We can also use scanner by assigning n instead of an array to check whether if it is a prime or non prime from the given input(commented in program).Hope this helps you..!!</p>\n\n<pre><code>public static void main(String[] arg) {\n    int a[]= {1,2,3,4,5,6,7,8,9,10}; //int n=0 or n=values       \n    int num =0;\n    String  primeNumbers = \"\";\n    for (int i = 0; i &lt;= a.length; i++)  /*change a.length to n*/      \n      {                   \n         int counter=0;           \n         for(num =i; num&gt;=1; num--)\n         {\n        if(i%num==0)\n        {\n        counter = counter + 1;\n        }\n     }\n     if (counter ==2)\n     {\n        //Appended the Prime number to the String\n        primeNumbers = primeNumbers + i + \" \";\n     }  \n      } \n      System.out.println(\"Prime numbers from given array :\");\n      System.out.println(primeNumbers);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3318440,"reputation":129,"user_id":2790170,"accept_rate":22,"display_name":"Nitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611900133,"creation_date":1611900133,"answer_id":65949532,"question_id":30150251,"body_markdown":"Since you have asked for 5 number explicitly, the code has hardcoded for 5 numbers \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class PracticeTest {\r\n    \r\n      public static void main(String args[]) {\r\n        int arr[] = new int[5];\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter 5 numbers&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          arr[i] = sc.nextInt();\r\n        }\r\n        checkPrimeNumbers(arr);\r\n      }\r\n    \r\n      public static void checkPrimeNumbers(int arr[]) {\r\n        loop1:\r\n        for (int j = 0; j &lt; arr.length; j++) {\r\n          loop2:\r\n          for (int i = 2; i &lt; arr[j]; i++) {\r\n            if (arr[j] % i == 0) {\r\n              continue loop1;\r\n            }\r\n          }\r\n          System.out.print(arr[j] + &quot; &quot;);\r\n        }\r\n      }\r\n    }","title":"find all prime numbers from array","body":"<p>Since you have asked for 5 number explicitly, the code has hardcoded for 5 numbers</p>\n<pre><code>import java.util.Scanner;\n\npublic class PracticeTest {\n\n  public static void main(String args[]) {\n    int arr[] = new int[5];\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter 5 numbers&quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      arr[i] = sc.nextInt();\n    }\n    checkPrimeNumbers(arr);\n  }\n\n  public static void checkPrimeNumbers(int arr[]) {\n    loop1:\n    for (int j = 0; j &lt; arr.length; j++) {\n      loop2:\n      for (int i = 2; i &lt; arr[j]; i++) {\n        if (arr[j] % i == 0) {\n          continue loop1;\n        }\n      }\n      System.out.print(arr[j] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21482491,"reputation":11,"user_id":15829639,"display_name":"Ahmed Talha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625112560,"creation_date":1625112560,"answer_id":68204173,"question_id":30150251,"body_markdown":"Find all prime numbers from the array.\r\n\r\n             package com.myfirstproject;\r\n\r\n    public class array_Uni_work {\r\n    public static void main(String[] args) {\r\n        int[] array = {6,48,47,7 , 98,51,87,99,2,0,1,191,157};\r\n\r\n        // loop through the numbers one by one\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            boolean isPrime = true;\r\n            if (array[i] == 1)\r\n                isPrime = false;\r\n            else {\r\n                // check to see if the numbers are prime\r\n                for (int j = 2; j &lt;= array[i] / 2; j++) {\r\n                    if (array[i] % j == 0) {\r\n                        isPrime = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // print the number\r\n            if (isPrime){\r\n                if (array[i] == 0){}\r\n                else {\r\n                    System.out.print(array[i] + &quot; , &quot;);\r\n                }\r\n        }}\r\n        System.out.println(&quot; Are the prime number in the array &quot;);\r\n    }\r\n}","title":"find all prime numbers from array","body":"<p>Find all prime numbers from the array.</p>\n<pre><code>         package com.myfirstproject;\n\npublic class array_Uni_work {\npublic static void main(String[] args) {\n    int[] array = {6,48,47,7 , 98,51,87,99,2,0,1,191,157};\n\n    // loop through the numbers one by one\n    for (int i = 0; i &lt; array.length; i++) {\n        boolean isPrime = true;\n        if (array[i] == 1)\n            isPrime = false;\n        else {\n            // check to see if the numbers are prime\n            for (int j = 2; j &lt;= array[i] / 2; j++) {\n                if (array[i] % j == 0) {\n                    isPrime = false;\n                    break;\n                }\n            }\n        }\n        // print the number\n        if (isPrime){\n            if (array[i] == 0){}\n            else {\n                System.out.print(array[i] + &quot; , &quot;);\n            }\n    }}\n    System.out.println(&quot; Are the prime number in the array &quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":24139502,"reputation":1,"user_id":18105891,"display_name":"Dot-Coin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643867411,"creation_date":1643861454,"answer_id":70965827,"question_id":30150251,"body_markdown":"This is the simplest way to accept &#39;n&#39; integers and display the prime and non prime numbers present in that array. Without using functions \r\n\r\n        \r\n    import java.util.Scanner;\r\n    // Author Dot-Coin\r\n    public class The_Prime {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter the size of the array&quot;);\r\n    \t\tint size=sc.nextInt();\r\n    \t\tint Primer[]=new int [size];\r\n    \t\tint Non_Primer[]=new int [size];\r\n    \t\tint Numbers[]=new int [size];\r\n    \t\tint counter=0;int j=0,k=0,m=0,n=0;\r\n    \t\tSystem.out.println(&quot;Enter the numbers &quot;);\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t\tNumbers[i]=sc.nextInt();\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t{\r\n    \t\t\tif(Numbers[i]==1||Numbers[i]==0)\r\n    \t\t\t{\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\tfor(n=1;n&lt;=Numbers[i];n++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\tif(Numbers[i]%n==0)\r\n    \t\t\t\t\t\tcounter++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\tif(counter&gt;2)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tNon_Primer[k]=Numbers[i];k++;counter=0;continue;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(counter==2)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tPrimer[m]=Numbers[i];m++;counter=0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t System.out.println(&quot;The prime numbers are&quot;);\r\n    \t\t for(k=0;k&lt;Primer.length;k++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(Primer[k]==0)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\tj++;continue;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\tSystem.out.println(Primer[k]);\r\n    \t\t\t\t}\r\n    \t\t\tif(j==Primer.length)\r\n    \t\t\t\tSystem.out.println(&quot;Null&quot;);j=0;\r\n    \t\t\tSystem.out.println(&quot;The Non prime numbers are &quot;);\r\n    \t\tfor( k=0;k&lt;Non_Primer.length;k++)\r\n    \t\t{\r\n    \t\t\tif(Non_Primer[k]==0)\r\n    \t\t\t\t{\r\n    \t\t\t\tj++;continue;\r\n    \t\t\t\t}\r\n    \t\t\tSystem.out.println(Non_Primer[k]);\r\n    \t\t}\r\n    \t\tif(j==Non_Primer.length)\r\n    \t\t\tSystem.out.println(&quot;Null&quot;);\r\n    \t}}\r\n\r\n","title":"find all prime numbers from array","body":"<p>This is the simplest way to accept 'n' integers and display the prime and non prime numbers present in that array. Without using functions</p>\n<pre><code>import java.util.Scanner;\n// Author Dot-Coin\npublic class The_Prime {\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter the size of the array&quot;);\n        int size=sc.nextInt();\n        int Primer[]=new int [size];\n        int Non_Primer[]=new int [size];\n        int Numbers[]=new int [size];\n        int counter=0;int j=0,k=0,m=0,n=0;\n        System.out.println(&quot;Enter the numbers &quot;);\n        for(int i=0;i&lt;size;i++)\n            Numbers[i]=sc.nextInt();\n        for(int i=0;i&lt;size;i++)\n        {\n            if(Numbers[i]==1||Numbers[i]==0)\n            {\n                continue;\n            }\n            \n                for(n=1;n&lt;=Numbers[i];n++)\n                    {\n                    if(Numbers[i]%n==0)\n                        counter++;\n                    }\n                if(counter&gt;2)\n                {\n                    Non_Primer[k]=Numbers[i];k++;counter=0;continue;\n                }\n                if(counter==2)\n                {\n                    Primer[m]=Numbers[i];m++;counter=0;\n                }\n            }\n         System.out.println(&quot;The prime numbers are&quot;);\n         for(k=0;k&lt;Primer.length;k++)\n                {\n                    if(Primer[k]==0)\n                        {\n                        j++;continue;\n                        }\n                    else\n                    System.out.println(Primer[k]);\n                }\n            if(j==Primer.length)\n                System.out.println(&quot;Null&quot;);j=0;\n            System.out.println(&quot;The Non prime numbers are &quot;);\n        for( k=0;k&lt;Non_Primer.length;k++)\n        {\n            if(Non_Primer[k]==0)\n                {\n                j++;continue;\n                }\n            System.out.println(Non_Primer[k]);\n        }\n        if(j==Non_Primer.length)\n            System.out.println(&quot;Null&quot;);\n    }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27989620,"reputation":1,"user_id":21375758,"display_name":"Shahrukh Umar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678952838,"creation_date":1678528540,"answer_id":75704097,"question_id":30150251,"body_markdown":"// Program to find prime number from given array\r\n\r\n    public class PrimeNumber {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            int[] no = {6, 29, 28, 33, 11, 100, 101, 43, 89};\r\n            // int temp = 0;\r\n            \r\n            for (int i = 0; i &lt; no.length; i++){\r\n                int temp = 0;\r\n                // System.out.println(no[i]);\r\n                for (int j = 2; j &lt;= no[i] - 1; j++){\r\n                    if (no[i] % j == 0){\r\n                        temp = temp + 1;\r\n                    }\r\n                }\r\n                if (temp == 0){\r\n                    System.out.println( no[i]+&quot; Prime number&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(no[i]+&quot; Not Prime Number&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"find all prime numbers from array","body":"<p>// Program to find prime number from given array</p>\n<pre><code>public class PrimeNumber {\n\n    public static void main(String[] args) throws Exception {\n        int[] no = {6, 29, 28, 33, 11, 100, 101, 43, 89};\n        // int temp = 0;\n        \n        for (int i = 0; i &lt; no.length; i++){\n            int temp = 0;\n            // System.out.println(no[i]);\n            for (int j = 2; j &lt;= no[i] - 1; j++){\n                if (no[i] % j == 0){\n                    temp = temp + 1;\n                }\n            }\n            if (temp == 0){\n                System.out.println( no[i]+&quot; Prime number&quot;);\n            }\n            else{\n                System.out.println(no[i]+&quot; Not Prime Number&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82196,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":30150386,"answer_count":9,"score":-1,"last_activity_date":1678952838,"creation_date":1431253367,"question_id":30150251,"body_markdown":"I want to create a program that will ask the user to input 5 integers using array and determine all the prime numbers entered. But I have difficulty with it. What seems to be the problem? I use JCreator for this.\r\n\r\n    import java.util.Scanner;\r\n    public class PrimeNumbers{\r\n\tpublic static void main (String[] args){\r\n\t\tint[] array = new int [5];\r\n\t\tScanner in = new Scanner (System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter the elements of the array: &quot;);\r\n\t\tfor(int i=0; i&lt;5; i++)\r\n\t\t{\r\n\t\t\tarray[i] = in.nextInt();\r\n\t\t}\r\n  \t\t//loop through the numbers one by one\r\n  \t\tfor(int i=0; i&lt;array.length; i++){\r\n  \t\t\tboolean isPrime = true;\r\n  \t\t\t\r\n  \t\t\t//check to see if the numbers are prime\r\n  \t\t\tfor (int j=2; j&lt;array[i]; j++){\r\n  \t\t\t\t\r\n  \t\t\t\tif(array[i]%j==0){\r\n  \t\t\t\t\tisPrime = false;\r\n  \t\t\t\t\tbreak;\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n  \t\t\t//print the number\r\n  \t\t\tif(isPrime)\r\n\r\n  \t\t\t\tSystem.out.println(array[i] + &quot; are the prime numbers in the array &quot;);\r\n  \t\t}\r\n\t}\r\n    }","title":"find all prime numbers from array","body":"<p>I want to create a program that will ask the user to input 5 integers using array and determine all the prime numbers entered. But I have difficulty with it. What seems to be the problem? I use JCreator for this.</p>\n<pre><code>import java.util.Scanner;\npublic class PrimeNumbers{\npublic static void main (String[] args){\n    int[] array = new int [5];\n    Scanner in = new Scanner (System.in);\n    \n    System.out.println(&quot;Enter the elements of the array: &quot;);\n    for(int i=0; i&lt;5; i++)\n    {\n        array[i] = in.nextInt();\n    }\n    //loop through the numbers one by one\n    for(int i=0; i&lt;array.length; i++){\n        boolean isPrime = true;\n        \n        //check to see if the numbers are prime\n        for (int j=2; j&lt;array[i]; j++){\n            \n            if(array[i]%j==0){\n                isPrime = false;\n                break;\n            }\n        }\n        //print the number\n        if(isPrime)\n\n            System.out.println(array[i] + &quot; are the prime numbers in the array &quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","http"],"comments":[{"owner":{"account_id":1991372,"reputation":758,"user_id":1785313,"accept_rate":14,"display_name":"Daniel Bogdan"},"score":0,"creation_date":1393968303,"post_id":22173517,"comment_id":33671779,"body_markdown":"Anyone ? there must be an easy way...","body":"Anyone ? there must be an easy way..."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1407251546,"post_id":22173517,"comment_id":39136773,"body_markdown":"what are you trying to achieve ? accessing the headers for each request can be easily done as pointed out by @Rhand, but it seems there is more to this?","body":"what are you trying to achieve ? accessing the headers for each request can be easily done as pointed out by @Rhand, but it seems there is more to this?"}],"answers":[{"comments":[{"owner":{"account_id":308278,"reputation":15431,"user_id":620053,"accept_rate":93,"display_name":"Rafael T"},"score":0,"creation_date":1412432645,"post_id":25142146,"comment_id":41072843,"body_markdown":"With Your code you&#39;ll log only the Response Code and Header. The request will be consumed and is not accessible anymore","body":"With Your code you&#39;ll log only the Response Code and Header. The request will be consumed and is not accessible anymore"},{"owner":{"account_id":999472,"reputation":899,"user_id":1014666,"display_name":"Rhand"},"score":2,"creation_date":1413377322,"post_id":25142146,"comment_id":41420396,"body_markdown":"This is just the logging, you&#39;d call this from the method where you process the request. e.g open connection, log response code (by calling logConnection()), process response.","body":"This is just the logging, you&#39;d call this from the method where you process the request. e.g open connection, log response code (by calling logConnection()), process response."}],"tags":[],"owner":{"account_id":999472,"reputation":899,"user_id":1014666,"display_name":"Rhand"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1407251015,"creation_date":1407251015,"answer_id":25142146,"question_id":22173517,"body_markdown":"This is something you can easily do yourself:\r\n\r\n\tprivate static void logConnection(HttpURLConnection httpConnection) throws IOException {\r\n\t\tint status = httpConnection.getResponseCode();\r\n\t\tLog.d(&quot;logConnection&quot;, &quot;status: &quot; + status);\r\n\t\tfor (Map.Entry&lt;String, List&lt;String&gt;&gt; header : httpConnection.getHeaderFields().entrySet()) {\r\n\t\t\tLog.d(&quot;logConnection&quot;, header.getKey() + &quot;=&quot; + header.getValue());\r\n\t\t}\r\n\t}","title":"HttpURLConnection wire logging in Android","body":"<p>This is something you can easily do yourself:</p>\n\n<pre><code>private static void logConnection(HttpURLConnection httpConnection) throws IOException {\n    int status = httpConnection.getResponseCode();\n    Log.d(\"logConnection\", \"status: \" + status);\n    for (Map.Entry&lt;String, List&lt;String&gt;&gt; header : httpConnection.getHeaderFields().entrySet()) {\n        Log.d(\"logConnection\", header.getKey() + \"=\" + header.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316431,"reputation":3528,"user_id":2033394,"display_name":"Alex Radzishevsky"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1484407382,"creation_date":1484407382,"answer_id":41651586,"question_id":22173517,"body_markdown":"I am not sure it is possible with standard HttpURLConnection on Android. Therefore it is easy to achieve using OkHttp library:\r\n\r\n    HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\r\n    loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS);\r\n    \r\n    OkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\r\n    httpClientBuilder.addInterceptor(loggingInterceptor);\r\n    \r\n    OkHttpClient client = httpClientBuilder.build();\r\n    Request.Builder requestBuilder = new Request.Builder();\r\n    requestBuilder.url(&quot;http://android.com&quot;);\r\n\r\n    client.newCall(requestBuilder.build()).execute();\r\n","title":"HttpURLConnection wire logging in Android","body":"<p>I am not sure it is possible with standard HttpURLConnection on Android. Therefore it is easy to achieve using OkHttp library:</p>\n\n<pre><code>HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\nloggingInterceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS);\n\nOkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\nhttpClientBuilder.addInterceptor(loggingInterceptor);\n\nOkHttpClient client = httpClientBuilder.build();\nRequest.Builder requestBuilder = new Request.Builder();\nrequestBuilder.url(\"http://android.com\");\n\nclient.newCall(requestBuilder.build()).execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16399254,"reputation":59,"user_id":11845778,"display_name":"OldMember"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627424644,"creation_date":1627424644,"answer_id":68552385,"question_id":22173517,"body_markdown":"Perhaps this link would help: https://stackoverflow.com/a/37525989/11845778\r\nThough, you would still need to do the logcat part. This just gets the response as JSON.","title":"HttpURLConnection wire logging in Android","body":"<p>Perhaps this link would help: <a href=\"https://stackoverflow.com/a/37525989/11845778\">https://stackoverflow.com/a/37525989/11845778</a>\nThough, you would still need to do the logcat part. This just gets the response as JSON.</p>\n"}],"owner":{"account_id":1991372,"reputation":758,"user_id":1785313,"accept_rate":14,"display_name":"Daniel Bogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3412,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"answer_count":3,"score":20,"last_activity_date":1678952759,"creation_date":1393940356,"question_id":22173517,"body_markdown":"I&#39;m trying to get all the headers for request/response in my logcat. Seems there is no easy way with `HttpURLConnection` as it is with `org.apache.http`.\r\n\r\nAccording to [this blog][1] you can do:\r\n\r\n    sun.net.www.protocol.http.HttpURLConnection.level = ALL\r\n\r\nSeems this was removed from Android implementation for `HttpURLConnection`.\r\nIs there any easy way to sniff requests/responses on logcat?\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-debug-HttpURLConnection-problem.html","title":"HttpURLConnection wire logging in Android","body":"<p>I'm trying to get all the headers for request/response in my logcat. Seems there is no easy way with <code>HttpURLConnection</code> as it is with <code>org.apache.http</code>.</p>\n<p>According to <a href=\"http://www.rgagnon.com/javadetails/java-debug-HttpURLConnection-problem.html\" rel=\"nofollow noreferrer\">this blog</a> you can do:</p>\n<pre><code>sun.net.www.protocol.http.HttpURLConnection.level = ALL\n</code></pre>\n<p>Seems this was removed from Android implementation for <code>HttpURLConnection</code>.\nIs there any easy way to sniff requests/responses on logcat?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678451956,"post_id":75696243,"comment_id":133539690,"body_markdown":"A spin in a debugger should tell you.  Sent a breakpoint in the repository and see why your Mongo query is wrong.  None of the code you posted matters.  It&#39;s the repository that you need to look at.","body":"A spin in a debugger should tell you.  Sent a breakpoint in the repository and see why your Mongo query is wrong.  None of the code you posted matters.  It&#39;s the repository that you need to look at."}],"answers":[{"tags":[],"owner":{"account_id":25120998,"reputation":1,"user_id":18969342,"display_name":"masomebody"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678951614,"creation_date":1678455031,"answer_id":75696753,"question_id":75696243,"body_markdown":"I droped the whole db and created a new one. I named everything &quot;movies&quot; from the db name to the collection name, the @Document(collection = &quot;movies&quot;) also.\r\nThis fixed the issue, I dont know how or why but for someone being stuck on the same problem, try this.","title":"Java Spring boot returns an empty array on a get method from MongoDB","body":"<p>I droped the whole db and created a new one. I named everything &quot;movies&quot; from the db name to the collection name, the @Document(collection = &quot;movies&quot;) also.\nThis fixed the issue, I dont know how or why but for someone being stuck on the same problem, try this.</p>\n"}],"owner":{"account_id":25120998,"reputation":1,"user_id":18969342,"display_name":"masomebody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75696753,"answer_count":1,"score":-1,"last_activity_date":1678951614,"creation_date":1678451833,"question_id":75696243,"body_markdown":"My mongodb got files in it but everytime i use findAll() method from a rest controller, i get back an empty array \\[ \\]\r\n\r\ni am new with mongodb and this is something i have never faced before. I used Mongo atlas to create the db and used Mongo Compas to connect to the db.\r\n\r\nHelp?\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collection = &quot;movies&quot;)\r\n\r\npublic class Movie {\r\n\r\n    @Id\r\n    private ObjectId id;\r\n    private String imdbId;\r\n    private String title;\r\n    private String releaseDate;\r\n    private String trailerLink;\r\n    private String poster;\r\n    private List&lt;String&gt; backdrops;\r\n    private List&lt;String&gt; genres;\r\n}\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/movies&quot;)\r\npublic class MovieController {\r\n\r\n    private final MovieService movieService;\r\n\r\n    public MovieController(MovieService movieService) {\r\n        this.movieService = movieService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\r\n        return new ResponseEntity&lt;&gt;(movieService.findAllMovies(), HttpStatus.OK);\r\n    }\r\n}\r\n\r\n@Repository\r\npublic interface MovieRepository extends MongoRepository&lt;Movie, ObjectId&gt; {\r\n}\r\n\r\npublic interface MovieService {\r\n    List&lt;Movie&gt; findAllMovies();\r\n}\r\n\r\n@Service\r\npublic class MovieServiceImpl implements MovieService {\r\n\r\n\r\n    private final MovieRepository repository;\r\n\r\n    public MovieServiceImpl(MovieRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    public List&lt;Movie&gt; findAllMovies() {\r\n        return repository.findAll();\r\n    }\r\n}\r\n\r\nThe application.properties \r\n\r\nspring.data.mongodb.database=MoviesAPI\r\nspring.data.mongodb.uri=mongodb+srv://user:password@cluster0.isclngu.mongodb.net\r\nserver.port=9090\r\n```\r\n\r\nI tried all i know of. Cant fix it by myself, i need help","title":"Java Spring boot returns an empty array on a get method from MongoDB","body":"<p>My mongodb got files in it but everytime i use findAll() method from a rest controller, i get back an empty array [ ]</p>\n<p>i am new with mongodb and this is something i have never faced before. I used Mongo atlas to create the db and used Mongo Compas to connect to the db.</p>\n<p>Help?</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;movies&quot;)\n\npublic class Movie {\n\n    @Id\n    private ObjectId id;\n    private String imdbId;\n    private String title;\n    private String releaseDate;\n    private String trailerLink;\n    private String poster;\n    private List&lt;String&gt; backdrops;\n    private List&lt;String&gt; genres;\n}\n\n\n@RestController\n@RequestMapping(&quot;/api/movies&quot;)\npublic class MovieController {\n\n    private final MovieService movieService;\n\n    public MovieController(MovieService movieService) {\n        this.movieService = movieService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\n        return new ResponseEntity&lt;&gt;(movieService.findAllMovies(), HttpStatus.OK);\n    }\n}\n\n@Repository\npublic interface MovieRepository extends MongoRepository&lt;Movie, ObjectId&gt; {\n}\n\npublic interface MovieService {\n    List&lt;Movie&gt; findAllMovies();\n}\n\n@Service\npublic class MovieServiceImpl implements MovieService {\n\n\n    private final MovieRepository repository;\n\n    public MovieServiceImpl(MovieRepository repository) {\n        this.repository = repository;\n    }\n\n    public List&lt;Movie&gt; findAllMovies() {\n        return repository.findAll();\n    }\n}\n\nThe application.properties \n\nspring.data.mongodb.database=MoviesAPI\nspring.data.mongodb.uri=mongodb+srv://user:password@cluster0.isclngu.mongodb.net\nserver.port=9090\n</code></pre>\n<p>I tried all i know of. Cant fix it by myself, i need help</p>\n"},{"tags":["java","spring","spring-boot","executable-jar"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678875487,"post_id":75742742,"comment_id":133616469,"body_markdown":"You are generating a war not a jar file. Please add your pom.xml.","body":"You are generating a war not a jar file. Please add your pom.xml."},{"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"score":0,"creation_date":1678876969,"post_id":75742742,"comment_id":133616858,"body_markdown":"Sorry! it is typo error. It is jar file I have to generate.","body":"Sorry! it is typo error. It is jar file I have to generate."},{"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"score":0,"creation_date":1678877806,"post_id":75742742,"comment_id":133617088,"body_markdown":"Add pom.xml and corrected the description . Please check","body":"Add pom.xml and corrected the description . Please check"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678951546,"post_id":75742742,"comment_id":133632978,"body_markdown":"THere isn&#39;t anything obivously wrong (at least it looks like that). One thing is why the compiler plugin, instead of using the one from the parent (do you need the exclude?). One thing, dependency-wise, is that you should use `spring-boot-starter-validation` instead of `validation-api` as a dependency. One thing is that you obfuscated the dependencies and indicates that there are actual dependencies.","body":"THere isn&#39;t anything obivously wrong (at least it looks like that). One thing is why the compiler plugin, instead of using the one from the parent (do you need the exclude?). One thing, dependency-wise, is that you should use <code>spring-boot-starter-validation</code> instead of <code>validation-api</code> as a dependency. One thing is that you obfuscated the dependencies and indicates that there are actual dependencies."},{"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"score":0,"creation_date":1679039224,"post_id":75742742,"comment_id":133652618,"body_markdown":"Thank you for the reply.It is generating the Jar file but not in the structure as I mentioned above.","body":"Thank you for the reply.It is generating the Jar file but not in the structure as I mentioned above."}],"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678951415,"creation_date":1678872349,"question_id":75742742,"body_markdown":"How we can generate executable jar for SpringBoot application in below structure\r\n\r\n    example.jar\r\n     |\r\n     +-META-INF\r\n     |  +-maven\r\n     |  +-MANIFEST.MF\r\n     +-org\r\n     |  +-springframework\r\n     |     +-boot\r\n     |        +-loader\r\n     |           +-&lt;spring boot loader classes&gt;\r\n     +-BOOT-INF\r\n        +-classes\r\n        |  +-com\r\n        |     +-mycompany\r\n        |        +-project\r\n        |           +-YourClasses.class\r\n        +-lib\r\n        |  +-dependency1.jar\r\n        |  +-dependency2.jar\r\n\r\nPom.xml\r\n------------------------\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath /&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;commons-lang3.version&gt;3.9&lt;/commons-lang3.version&gt;\r\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                        &lt;output&gt;${basedir}&lt;/output&gt;\r\n                        &lt;withXml&gt;false&lt;/withXml&gt;\r\n                        &lt;configOptions&gt;\r\n                            &lt;library&gt;spring-mvc&lt;/library&gt;\r\n                            &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                            &lt;generateModelsTests&gt;false&lt;/generateModelsTests&gt;\r\n                            &lt;generateModelsDocumentation&gt;false&lt;/generateModelsDocumentation&gt;\r\n                            &lt;java8&gt;true&lt;/java8&gt;\r\n                            &lt;serializableModel&gt;false&lt;/serializableModel&gt;\r\n                            &lt;async&gt;false&lt;/async&gt;\r\n                            &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\r\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                            &lt;useOptional&gt;true&lt;/useOptional&gt;\r\n                            &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n                        &lt;/configOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;org/**/*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${dockerfile-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;push&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\r\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                    &lt;buildArgs&gt;\r\n                        &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n                    &lt;/buildArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;image&gt;\r\n                        &lt;name&gt;${docker.image.prefix}/${project.artifactId}&lt;/name&gt;\r\n                    &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;        \r\n        \r\n&lt;/project&gt;\r\n```\r\nAbove is the `pom.xml` of my application which is configured to generate the jar file. \r\nCurrently, when I do mvn clean package the jar is getting generated but not the executable one.\r\n\r\nExpectation:\r\nDependencies should be placed in a nested BOOT-INF/lib directory.\r\n\r\n","title":"How to generate executable jar for SpringBoot application with Spring Boot Loader","body":"<p>How we can generate executable jar for SpringBoot application in below structure</p>\n<pre><code>example.jar\n |\n +-META-INF\n |  +-maven\n |  +-MANIFEST.MF\n +-org\n |  +-springframework\n |     +-boot\n |        +-loader\n |           +-&lt;spring boot loader classes&gt;\n +-BOOT-INF\n    +-classes\n    |  +-com\n    |     +-mycompany\n    |        +-project\n    |           +-YourClasses.class\n    +-lib\n    |  +-dependency1.jar\n    |  +-dependency2.jar\n</code></pre>\n<h2>Pom.xml</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;commons-lang3.version&gt;3.9&lt;/commons-lang3.version&gt;\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.3.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;output&gt;${basedir}&lt;/output&gt;\n                        &lt;withXml&gt;false&lt;/withXml&gt;\n                        &lt;configOptions&gt;\n                            &lt;library&gt;spring-mvc&lt;/library&gt;\n                            &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateModelsTests&gt;false&lt;/generateModelsTests&gt;\n                            &lt;generateModelsDocumentation&gt;false&lt;/generateModelsDocumentation&gt;\n                            &lt;java8&gt;true&lt;/java8&gt;\n                            &lt;serializableModel&gt;false&lt;/serializableModel&gt;\n                            &lt;async&gt;false&lt;/async&gt;\n                            &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                            &lt;useOptional&gt;true&lt;/useOptional&gt;\n                            &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;org/**/*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${dockerfile-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;push&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\n                    &lt;buildArgs&gt;\n                        &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                    &lt;/buildArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;name&gt;${docker.image.prefix}/${project.artifactId}&lt;/name&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;        \n        \n&lt;/project&gt;\n</code></pre>\n<p>Above is the <code>pom.xml</code> of my application which is configured to generate the jar file.\nCurrently, when I do mvn clean package the jar is getting generated but not the executable one.</p>\n<p>Expectation:\nDependencies should be placed in a nested BOOT-INF/lib directory.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":22516638,"reputation":1,"user_id":16710771,"display_name":"Jackson Gross"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629433015,"creation_date":1629433015,"answer_id":68856929,"question_id":68733452,"body_markdown":"I ran into the same issue but on MacOS with Elasticsearch installed via homebrew. I needed to modify the `jvm.options` and `jvm.options.default` files in `/usr/local/etc/elasticsearch/` to comment out the following lines:\r\n\r\n**jvm.options**\r\n```\r\n## GC configuration\r\n# -XX:+UseConcMarkSweepGC\r\n# -XX:CMSInitiatingOccupancyFraction=75\r\n# -XX:+UseCMSInitiatingOccupancyOnly\r\n```\r\n\r\n**jvm.options.default**\r\n```\r\n## GC configuration\r\n# 8-13:-XX:+UseConcMarkSweepGC\r\n# 8-13:-XX:CMSInitiatingOccupancyFraction=75\r\n# 8-13:-XX:+UseCMSInitiatingOccupancyOnly\r\n```\r\n\r\nThen stopping elasticsearch (if previously running) with \r\n```\r\nbrew services stop elasticsearch-full\r\n```\r\n\r\nthen restarting it again with\r\n```\r\nbrew services start elasticsearch-full\r\n```","title":"Elasticsearch Windows UseConcMarkSweepGC error","body":"<p>I ran into the same issue but on MacOS with Elasticsearch installed via homebrew. I needed to modify the <code>jvm.options</code> and <code>jvm.options.default</code> files in <code>/usr/local/etc/elasticsearch/</code> to comment out the following lines:</p>\n<p><strong>jvm.options</strong></p>\n<pre><code>## GC configuration\n# -XX:+UseConcMarkSweepGC\n# -XX:CMSInitiatingOccupancyFraction=75\n# -XX:+UseCMSInitiatingOccupancyOnly\n</code></pre>\n<p><strong>jvm.options.default</strong></p>\n<pre><code>## GC configuration\n# 8-13:-XX:+UseConcMarkSweepGC\n# 8-13:-XX:CMSInitiatingOccupancyFraction=75\n# 8-13:-XX:+UseCMSInitiatingOccupancyOnly\n</code></pre>\n<p>Then stopping elasticsearch (if previously running) with</p>\n<pre><code>brew services stop elasticsearch-full\n</code></pre>\n<p>then restarting it again with</p>\n<pre><code>brew services start elasticsearch-full\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9162442,"reputation":1,"user_id":6813338,"display_name":"satish sukka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678951336,"creation_date":1678950523,"answer_id":75753053,"question_id":68733452,"body_markdown":"Thanks for the previous answer.\r\nIt worked for me by doing below steps:\r\n\r\n    Step1: Go to elasticsearch-6.5.1\\elasticsearch-6.5.1\\config\r\n    Step2: Open jvm.options file\r\n    Step3: Search for GC configuration\r\n    Step4: Comment below lines with #\r\n    #-XX:+UseConcMarkSweepGC\r\n    #-XX:CMSInitiatingOccupancyFraction=75\r\n    #-XX:+UseCMSInitiatingOccupancyOnly\r\n    Step5: Run elasticSearch with command: elasticsearch.bat","title":"Elasticsearch Windows UseConcMarkSweepGC error","body":"<p>Thanks for the previous answer.\nIt worked for me by doing below steps:</p>\n<pre><code>Step1: Go to elasticsearch-6.5.1\\elasticsearch-6.5.1\\config\nStep2: Open jvm.options file\nStep3: Search for GC configuration\nStep4: Comment below lines with #\n#-XX:+UseConcMarkSweepGC\n#-XX:CMSInitiatingOccupancyFraction=75\n#-XX:+UseCMSInitiatingOccupancyOnly\nStep5: Run elasticSearch with command: elasticsearch.bat\n</code></pre>\n"}],"owner":{"account_id":2878984,"reputation":107,"user_id":2470281,"display_name":"user2470281"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678951336,"creation_date":1628629442,"question_id":68733452,"body_markdown":"I just downloaded the latest ElasticSearch 7.14.0 zip for Windows. I also downloaded the latest Logstash and Kibana. They sit on a Windows Server 2016 hosted server.\r\n\r\nI installed the latest Java for Windows (Version 8 Update 301) from:\r\n\r\nhttps://www.java.com/en/download/\r\n\r\nOn running elasticsearch.bat, I get the following error:\r\n\r\n    Unrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\n\r\nI&#39;ve Googled endlessly and all of the sparse forum answers are in alien technical language. I&#39;ve tried commenting out the following lines in the config/jvm.options file and I still get the error.\r\n\r\n    # 8-13:-XX:+UseConcMarkSweepGC\r\n    # 8-13:-XX:CMSInitiatingOccupancyFraction=75\r\n    # 8-13:-XX:+UseCMSInitiatingOccupancyOnly\r\n\r\n\r\nIs there a plain English answer to how I fix this? I know nothing about Java, and am just trying to learn ElasticSearch for a small project.","title":"Elasticsearch Windows UseConcMarkSweepGC error","body":"<p>I just downloaded the latest ElasticSearch 7.14.0 zip for Windows. I also downloaded the latest Logstash and Kibana. They sit on a Windows Server 2016 hosted server.</p>\n<p>I installed the latest Java for Windows (Version 8 Update 301) from:</p>\n<p><a href=\"https://www.java.com/en/download/\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/</a></p>\n<p>On running elasticsearch.bat, I get the following error:</p>\n<pre><code>Unrecognized VM option 'UseConcMarkSweepGC'\n</code></pre>\n<p>I've Googled endlessly and all of the sparse forum answers are in alien technical language. I've tried commenting out the following lines in the config/jvm.options file and I still get the error.</p>\n<pre><code># 8-13:-XX:+UseConcMarkSweepGC\n# 8-13:-XX:CMSInitiatingOccupancyFraction=75\n# 8-13:-XX:+UseCMSInitiatingOccupancyOnly\n</code></pre>\n<p>Is there a plain English answer to how I fix this? I know nothing about Java, and am just trying to learn ElasticSearch for a small project.</p>\n"},{"tags":["java","jit"],"comments":[{"owner":{"account_id":7139758,"reputation":1558,"user_id":5457916,"accept_rate":25,"display_name":"humble_wolf"},"score":3,"creation_date":1534400571,"post_id":3718024,"comment_id":90692839,"body_markdown":"Till now computers don&#39;t execute anything other than machine code.","body":"Till now computers don&#39;t execute anything other than machine code."},{"owner":{"account_id":920761,"reputation":557,"user_id":952507,"accept_rate":5,"display_name":"Suseendran P"},"score":0,"creation_date":1555986170,"post_id":3718024,"comment_id":98275176,"body_markdown":"Interpreters converts bytecode into corresponding native machine code for execution, bytecodes are not directly executing.","body":"Interpreters converts bytecode into corresponding native machine code for execution, bytecodes are not directly executing."},{"owner":{"account_id":898654,"reputation":3590,"user_id":1013219,"accept_rate":100,"display_name":"mTorres"},"score":5,"creation_date":1557569424,"post_id":3718024,"comment_id":98815398,"body_markdown":"I came here while googling, if you are like me, you can find more information on this [great answer on SoftwareEngineering](https://softwareengineering.stackexchange.com/questions/246094/understanding-the-differences-traditional-interpreter-jit-compiler-jit-interp)","body":"I came here while googling, if you are like me, you can find more information on this <a href=\"https://softwareengineering.stackexchange.com/questions/246094/understanding-the-differences-traditional-interpreter-jit-compiler-jit-interp\">great answer on SoftwareEngineering</a>"}],"answers":[{"tags":[],"owner":{"account_id":2623,"reputation":10374,"user_id":3673,"accept_rate":100,"display_name":"J&#233;r&#244;me Radix"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1284557667,"creation_date":1284557667,"answer_id":3718110,"question_id":3718024,"body_markdown":"A [JIT Compiler][1] translates byte code into machine code and then execute the machine code.\r\n\r\n[Interpreters][2] read your high level language (interprets it) and execute what&#39;s asked by your program. Interpreters are normally not passing through byte-code and jit compilation.\r\n\r\nBut the two worlds have melt because numerous interpreters have take the path to internal byte-compilation and jit-compilation, for a better speed of execution.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Just-in-time_compilation\r\n  [2]: http://en.wikipedia.org/wiki/Interpreter_%28computing%29","title":"JIT vs Interpreters","body":"<p>A <a href=\"http://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"noreferrer\">JIT Compiler</a> translates byte code into machine code and then execute the machine code.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Interpreter_%28computing%29\" rel=\"noreferrer\">Interpreters</a> read your high level language (interprets it) and execute what's asked by your program. Interpreters are normally not passing through byte-code and jit compilation.</p>\n\n<p>But the two worlds have melt because numerous interpreters have take the path to internal byte-compilation and jit-compilation, for a better speed of execution.</p>\n"},{"comments":[{"owner":{"account_id":920761,"reputation":557,"user_id":952507,"accept_rate":5,"display_name":"Suseendran P"},"score":8,"creation_date":1555985764,"post_id":3718116,"comment_id":98275110,"body_markdown":"Interpreters converts bytecode into corresponding native machine code for execution, bytecodes are not directly executing.","body":"Interpreters converts bytecode into corresponding native machine code for execution, bytecodes are not directly executing."}],"tags":[],"owner":{"account_id":187974,"reputation":20625,"user_id":426412,"display_name":"Vivien Barousse"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1284557689,"creation_date":1284557689,"answer_id":3718116,"question_id":3718024,"body_markdown":"&gt; Jit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs Am i right?\r\n\r\nYes you are.\r\n\r\n&gt; Interpreters will directly execute bytecode without transforming it into machine code. Is that right?\r\n\r\nYes, it is.\r\n\r\n&gt; How the real processor in our pc will understand the instruction.?\r\n\r\nIn the case of interpreters, the virtual machine executes a native JVM procedure corresponding to each instruction in byte code to produce the expected behaviour. But your code isn&#39;t actually compiled to native code, as with Jit compilers. The JVM emulates the expected behaviour for each instruction.","title":"JIT vs Interpreters","body":"<blockquote>\n  <p>Jit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs Am i right?</p>\n</blockquote>\n\n<p>Yes you are.</p>\n\n<blockquote>\n  <p>Interpreters will directly execute bytecode without transforming it into machine code. Is that right?</p>\n</blockquote>\n\n<p>Yes, it is.</p>\n\n<blockquote>\n  <p>How the real processor in our pc will understand the instruction.?</p>\n</blockquote>\n\n<p>In the case of interpreters, the virtual machine executes a native JVM procedure corresponding to each instruction in byte code to produce the expected behaviour. But your code isn't actually compiled to native code, as with Jit compilers. The JVM emulates the expected behaviour for each instruction.</p>\n"},{"tags":[],"owner":{"account_id":25214,"reputation":13569,"user_id":64669,"accept_rate":94,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1284557836,"creation_date":1284557836,"answer_id":3718137,"question_id":3718024,"body_markdown":"I&#39;m pretty sure that JIT turns byte code into machine code for whatever machine you&#39;re running on right as it&#39;s needed. The alternative to this is to run the byte code in a java virtual machine. I&#39;m not sure if this the same as interpreting the code since I&#39;m more familiar with that term being used to describe the execution of a scripting (non-compiled) language like ruby or perl.","title":"JIT vs Interpreters","body":"<p>I'm pretty sure that JIT turns byte code into machine code for whatever machine you're running on right as it's needed. The alternative to this is to run the byte code in a java virtual machine. I'm not sure if this the same as interpreting the code since I'm more familiar with that term being used to describe the execution of a scripting (non-compiled) language like ruby or perl.</p>\n"},{"comments":[{"owner":{"account_id":916656,"reputation":922,"user_id":949309,"display_name":"ITisha"},"score":28,"creation_date":1551453944,"post_id":3718314,"comment_id":96658015,"body_markdown":"What&#39;s the difference here between &quot;Interpreter executing code _directly_&quot; vs &quot;JIT Compiler executing _native code_&quot;?","body":"What&#39;s the difference here between &quot;Interpreter executing code <i>directly</i>&quot; vs &quot;JIT Compiler executing <i>native code</i>&quot;?"},{"owner":{"account_id":91146,"reputation":727,"user_id":250453,"display_name":"ozanmuyes"},"score":0,"creation_date":1673990322,"post_id":3718314,"comment_id":132618770,"body_markdown":"Depending on your answer they are the same thing. An interpreter, also interprets on the fly. So what&#39;s the difference?","body":"Depending on your answer they are the same thing. An interpreter, also interprets on the fly. So what&#39;s the difference?"},{"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"score":0,"creation_date":1674156567,"post_id":3718314,"comment_id":132660628,"body_markdown":"@ozanmuyes when comparing &quot;jit compiler&quot; vs &quot;interpreter&quot;, the difference is that &quot;interpreter&quot; does not compile to native code while &quot;jit compiler&quot; does. Of course you can talk about interpreters in a more generic way such that the definition includes jit","body":"@ozanmuyes when comparing &quot;jit compiler&quot; vs &quot;interpreter&quot;, the difference is that &quot;interpreter&quot; does not compile to native code while &quot;jit compiler&quot; does. Of course you can talk about interpreters in a more generic way such that the definition includes jit"},{"owner":{"account_id":19979903,"reputation":347,"user_id":14643315,"display_name":"sadcat_1"},"score":2,"creation_date":1687428476,"post_id":3718314,"comment_id":134936855,"body_markdown":"How can an interpreter (or any program) execute code *directly*? How can the CPU understand code than isn&#39;t machine code?","body":"How can an interpreter (or any program) execute code <i>directly</i>? How can the CPU understand code than isn&#39;t machine code?"}],"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"comment_count":4,"down_vote_count":3,"up_vote_count":26,"is_accepted":false,"score":23,"last_activity_date":1284558959,"creation_date":1284558959,"answer_id":3718314,"question_id":3718024,"body_markdown":"- Interpreter: Reads your source code or some intermediate representation (bytecode) of it, and executes it *directly*.\r\n\r\n- JIT compiler: Reads your source code, or more typically some intermediate representation (bytecode) of it, compiles that on the fly and executes *native code*.\r\n","title":"JIT vs Interpreters","body":"<ul>\n<li><p>Interpreter: Reads your source code or some intermediate representation (bytecode) of it, and executes it <em>directly</em>.</p></li>\n<li><p>JIT compiler: Reads your source code, or more typically some intermediate representation (bytecode) of it, compiles that on the fly and executes <em>native code</em>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":951823,"reputation":444,"user_id":977799,"accept_rate":60,"display_name":"bitan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392950283,"creation_date":1392950283,"answer_id":21924198,"question_id":3718024,"body_markdown":"The first time a class is referenced in JVM the JIT Execution Engine re-compiles the .class files (primary Binaries) generated by Java Compiler containing JVM Instruction Set to Binaries containing HOST systems Instruction Set. JIT stores and reuses those recompiled binaries from Memory going forward, there by reducing interpretation time and benefits from Native code execution.\r\n\r\nAnd there is another flavor which does Adaptive Optimization by identifying most reused part of the app and applying JIT only over it, there by optimizing over memory usage.\r\n \r\nOn the other hand a plain old java interpreter interprets one JVM instruction from class file at a time and calls a procedure against it.\r\n\r\nFind a detail comparison [here][1] \r\n\r\n\r\n  [1]: http://bitshub.blogspot.com/2010/01/Flavors-of-JVM.html","title":"JIT vs Interpreters","body":"<p>The first time a class is referenced in JVM the JIT Execution Engine re-compiles the .class files (primary Binaries) generated by Java Compiler containing JVM Instruction Set to Binaries containing HOST systems Instruction Set. JIT stores and reuses those recompiled binaries from Memory going forward, there by reducing interpretation time and benefits from Native code execution.</p>\n\n<p>And there is another flavor which does Adaptive Optimization by identifying most reused part of the app and applying JIT only over it, there by optimizing over memory usage.</p>\n\n<p>On the other hand a plain old java interpreter interprets one JVM instruction from class file at a time and calls a procedure against it.</p>\n\n<p>Find a detail comparison <a href=\"http://bitshub.blogspot.com/2010/01/Flavors-of-JVM.html\" rel=\"nofollow\">here</a> </p>\n"},{"comments":[{"owner":{"account_id":3902348,"reputation":5106,"user_id":3229851,"accept_rate":65,"display_name":"Steve.NayLinAung"},"score":2,"creation_date":1540844009,"post_id":40876067,"comment_id":93005793,"body_markdown":"You interchangeably uses the terms &quot;machine code&quot;, &quot;native instructions&quot; and &quot;machine instructions&quot;. Is there any difference between them in this context?","body":"You interchangeably uses the terms &quot;machine code&quot;, &quot;native instructions&quot; and &quot;machine instructions&quot;. Is there any difference between them in this context?"},{"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"score":0,"creation_date":1541758776,"post_id":40876067,"comment_id":93334477,"body_markdown":"I do not feel that there is any difference in the meanings for these terms. It&#39;s more of a writing choice based on what came naturally in my mind.","body":"I do not feel that there is any difference in the meanings for these terms. It&#39;s more of a writing choice based on what came naturally in my mind."},{"owner":{"account_id":2259820,"reputation":347,"user_id":1990186,"accept_rate":83,"display_name":"DaCruzR"},"score":0,"creation_date":1587575121,"post_id":40876067,"comment_id":108567653,"body_markdown":"@KGhatak so what you&#39;re saying is that the JVM acts as both an interpreter and a compiler? Also instead of portability independence sounds more appropriate, wdyt?","body":"@KGhatak so what you&#39;re saying is that the JVM acts as both an interpreter and a compiler? Also instead of portability independence sounds more appropriate, wdyt?"},{"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"score":0,"creation_date":1589387438,"post_id":40876067,"comment_id":109276126,"body_markdown":"@  Rayner Da Cruz - yes, &#39;JVM acts as both an interpreter and a compiler&#39;. I think platform-independence is portability - so better stick to the current wordings around the portability.","body":"@  Rayner Da Cruz - yes, &#39;JVM acts as both an interpreter and a compiler&#39;. I think platform-independence is portability - so better stick to the current wordings around the portability."}],"tags":[],"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"comment_count":4,"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1487318265,"creation_date":1480454936,"answer_id":40876067,"question_id":3718024,"body_markdown":"**First thing first:** &lt;br&gt;\r\n_With JVM, both interpreter and compiler_ (the JVM compiler and not the source-code compiler like javac) _produce native code_ (aka Machine language code for the underlying physical CPU like x86) from _byte code_.\r\n\r\n**What&#39;s the difference then:**&lt;br&gt;\r\nThe difference is in how they generate the native code, how optimized it is as well how costly the optimization is. Informally, an interpreter pretty much converts each byte-code instruction to corresponding native instruction by looking up a predefined JVM-instruction to machine instruction mapping (see below pic). Interestingly, a further speedup in execution can be achieved, if we take a section of byte-code and convert it into machine code - because considering a whole logical section often provides rooms for optimization as opposed to converting (_interpreting_) each line in isolation (_to machine instruction_). This very act of converting a section of byte-code into (presumably optimized) machine instruction is called compiling (in the current context). When the compilation is done at run-time, the compiler is called JIT compiler.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**The co-relation and co-ordination:**&lt;br&gt;\r\nSince Java designer went for (_hardware &amp; OS_) portability, they had chosen interpreter architecture (_as opposed to c style compiling, assembling, and linking_). However, in order to achieve more speed up, a compiler is also optionally added to a JVM. Nonetheless, as a program goes on being interpreted (and executed in physical CPU) &quot;hotspot&quot;s are detected by JVM and statistics are generated. Consequently, using statistics from interpreter, those sections become candidate for compilation (optimized native code). It is in fact done on-the-fly (thus JIT compiler) and the compiled machine instructions are used subsequently (rather than being interpreted). In a natural way, JVM also caches such compiled pieces of code.\r\n\r\n**Words of caution:** &lt;br&gt;\r\nThese are pretty much the fundamental concepts. If an actual implementer of JVM, does it a bit different way, don&#39;t get surprised. So could be the case for VM&#39;s in other languages.\r\n\r\n**Words of caution:** &lt;br&gt;\r\nStatements like &quot;interpreter executes byte code in virtual processor&quot;, &quot;interpreter executes byte code directly&quot;, etc. are all correct as long as you understand that in the end there is a set of machine instructions that have to run in a physical hardware.\r\n\r\n**Some Good References:** [I&#39;ve not done extensive search though]&lt;br&gt;\r\n\r\n - [paper] Instruction Folding in a Hardware-Translation Based Java Virtual\r\n   Machine by Hitoshi Oi\r\n - [book] Computer organization and design, 4th ed, D. A. Patterson. (_see Fig 2.23_)\r\n - [web-article] JVM performance optimization, Part 2: Compilers, by Eva Andreasson (JavaWorld)\r\n\r\n_PS: I&#39;ve used following terms interchangebly - &#39;native code&#39;, &#39;machine language code&#39;, &#39;machine instructions&#39;, etc._\r\n\r\n  [1]: https://i.stack.imgur.com/69jjn.png","title":"JIT vs Interpreters","body":"<p><strong>First thing first:</strong> <br>\n<em>With JVM, both interpreter and compiler</em> (the JVM compiler and not the source-code compiler like javac) <em>produce native code</em> (aka Machine language code for the underlying physical CPU like x86) from <em>byte code</em>.</p>\n\n<p><strong>What's the difference then:</strong><br>\nThe difference is in how they generate the native code, how optimized it is as well how costly the optimization is. Informally, an interpreter pretty much converts each byte-code instruction to corresponding native instruction by looking up a predefined JVM-instruction to machine instruction mapping (see below pic). Interestingly, a further speedup in execution can be achieved, if we take a section of byte-code and convert it into machine code - because considering a whole logical section often provides rooms for optimization as opposed to converting (<em>interpreting</em>) each line in isolation (<em>to machine instruction</em>). This very act of converting a section of byte-code into (presumably optimized) machine instruction is called compiling (in the current context). When the compilation is done at run-time, the compiler is called JIT compiler.</p>\n\n<p><a href=\"https://i.stack.imgur.com/69jjn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/69jjn.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>The co-relation and co-ordination:</strong><br>\nSince Java designer went for (<em>hardware &amp; OS</em>) portability, they had chosen interpreter architecture (<em>as opposed to c style compiling, assembling, and linking</em>). However, in order to achieve more speed up, a compiler is also optionally added to a JVM. Nonetheless, as a program goes on being interpreted (and executed in physical CPU) \"hotspot\"s are detected by JVM and statistics are generated. Consequently, using statistics from interpreter, those sections become candidate for compilation (optimized native code). It is in fact done on-the-fly (thus JIT compiler) and the compiled machine instructions are used subsequently (rather than being interpreted). In a natural way, JVM also caches such compiled pieces of code.</p>\n\n<p><strong>Words of caution:</strong> <br>\nThese are pretty much the fundamental concepts. If an actual implementer of JVM, does it a bit different way, don't get surprised. So could be the case for VM's in other languages.</p>\n\n<p><strong>Words of caution:</strong> <br>\nStatements like \"interpreter executes byte code in virtual processor\", \"interpreter executes byte code directly\", etc. are all correct as long as you understand that in the end there is a set of machine instructions that have to run in a physical hardware.</p>\n\n<p><strong>Some Good References:</strong> [I've not done extensive search though]<br></p>\n\n<ul>\n<li>[paper] Instruction Folding in a Hardware-Translation Based Java Virtual\nMachine by Hitoshi Oi</li>\n<li>[book] Computer organization and design, 4th ed, D. A. Patterson. (<em>see Fig 2.23</em>)</li>\n<li>[web-article] JVM performance optimization, Part 2: Compilers, by Eva Andreasson (JavaWorld)</li>\n</ul>\n\n<p><em>PS: I've used following terms interchangebly - 'native code', 'machine language code', 'machine instructions', etc.</em></p>\n"},{"comments":[{"owner":{"account_id":6730117,"reputation":76,"user_id":5186781,"display_name":"Salim Mazari Boufares"},"score":1,"creation_date":1638039529,"post_id":65765822,"comment_id":123983415,"body_markdown":"There is a difference between Interpreter and Byte Interpreter, the Byte Interpreter interprets bytecode, while the Interpreter deals with the high level language.","body":"There is a difference between Interpreter and Byte Interpreter, the Byte Interpreter interprets bytecode, while the Interpreter deals with the high level language."}],"tags":[],"owner":{"account_id":2342901,"reputation":169,"user_id":2053813,"display_name":"Manjunath"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610916791,"creation_date":1610916791,"answer_id":65765822,"question_id":3718024,"body_markdown":"Interpreter: Interprets the bytecode if a method is called multiple times every time a new interpretation is required.\r\n\r\nJIT: when a code is called multiple time JIT converts the bytecode in native code and executes it","title":"JIT vs Interpreters","body":"<p>Interpreter: Interprets the bytecode if a method is called multiple times every time a new interpretation is required.</p>\n<p>JIT: when a code is called multiple time JIT converts the bytecode in native code and executes it</p>\n"}],"owner":{"account_id":84830,"reputation":5737,"user_id":236896,"accept_rate":50,"display_name":"Manoj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40715,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":40876067,"answer_count":7,"score":77,"last_activity_date":1678950914,"creation_date":1284557168,"question_id":3718024,"body_markdown":"I couldn&#39;t find the difference between JIT and Interpreters. \r\n\r\nJit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs\r\nAm I right?\r\n\r\nInterpreters will directly execute bytecode without transforming it into machine code. Is that right?\r\n\r\nHow the real processor in our pc will understand the instruction.?\r\n\r\nPlease clear my doubts.","title":"JIT vs Interpreters","body":"<p>I couldn't find the difference between JIT and Interpreters. </p>\n\n<p>Jit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs\nAm I right?</p>\n\n<p>Interpreters will directly execute bytecode without transforming it into machine code. Is that right?</p>\n\n<p>How the real processor in our pc will understand the instruction.?</p>\n\n<p>Please clear my doubts.</p>\n"},{"tags":["java","enumeration"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1601301660,"post_id":64103674,"comment_id":113357017,"body_markdown":"You mean when trying to encode as json?","body":"You mean when trying to encode as json?"},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":1,"creation_date":1601301670,"post_id":64103674,"comment_id":113357022,"body_markdown":"` saison.getvalues()` well, there is no `saison` in your question. Also, class names *should* be PascalCase, so `Status` or `Saison`, not `status` or `saison`. Also, is the output supposed to be JSON? If so, you might want to look into specialized tools for that.","body":"` saison.getvalues()` well, there is no <code>saison</code> in your question. Also, class names <i>should</i> be PascalCase, so <code>Status</code> or <code>Saison</code>, not <code>status</code> or <code>saison</code>. Also, is the output supposed to be JSON? If so, you might want to look into specialized tools for that."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1601301960,"post_id":64103674,"comment_id":113357197,"body_markdown":"What are you taking about? Java enums doesn&#39;t have getValues() method... What is `Saison`?","body":"What are you taking about? Java enums doesn&#39;t have getValues() method... What is <code>Saison</code>?"},{"owner":{"account_id":16635065,"reputation":433,"user_id":12021983,"display_name":"sokida"},"score":0,"creation_date":1601309342,"post_id":64103674,"comment_id":113360853,"body_markdown":"thank you so much ur help it&#39;s work now.","body":"thank you so much ur help it&#39;s work now."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601304016,"creation_date":1601303293,"answer_id":64104178,"question_id":64103674,"body_markdown":"There is nothing to prevent you from returning a map entry which contains the `key,value` pair.\r\n\r\n```\r\n enum Status {\r\n\r\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\r\n\r\n    private final String key;\r\n    private final int value;\r\n\r\n    Status(String key, int value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n    public Entry&lt;String,Integer&gt; getBoth() {\r\n    \treturn new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n    }\t\r\n}\r\n\r\nEntry&lt;String,Integer&gt; e = Status.ACTIVE.getBoth();\r\nSystem.out.println(&quot;Key: = &quot; + e.getKey());\r\nSystem.out.println(&quot;Value: = &quot; + e.getValue());\r\n```\r\nor print the toString() value of the Entry.\r\n```\r\nSystem.out.println(e);\r\n\t\r\n```\r\nPrints\r\n```\r\nKey: = Active\r\nValue: = 1\r\nActive=1\r\n```\r\nYou can also override toString of your Enum and do something like this.\r\n```\r\npublic String toString() {\r\n\treturn String.format(&quot;\\&quot;key\\&quot;: \\&quot;%s\\&quot;,%n\\&quot;value\\&quot;: \\&quot;%s\\&quot;&quot;,\r\n\t\t\tgetKey(), getValue());\r\n}\r\n\r\nSystem.out.println(Status.ACTIVE);\r\n```\r\nPrints\r\n```\r\n&quot;key&quot;: Active&quot;,\r\n&quot;value&quot;: &quot;1&quot;\r\n\r\n\t","title":"How to use enum key value in java","body":"<p>There is nothing to prevent you from returning a map entry which contains the <code>key,value</code> pair.</p>\n<pre><code> enum Status {\n\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\n\n    private final String key;\n    private final int value;\n\n    Status(String key, int value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public String getKey() {\n        return key;\n    }\n    public int getValue() {\n        return value;\n    }\n    public Entry&lt;String,Integer&gt; getBoth() {\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n    }   \n}\n\nEntry&lt;String,Integer&gt; e = Status.ACTIVE.getBoth();\nSystem.out.println(&quot;Key: = &quot; + e.getKey());\nSystem.out.println(&quot;Value: = &quot; + e.getValue());\n</code></pre>\n<p>or print the toString() value of the Entry.</p>\n<pre><code>System.out.println(e);\n    \n</code></pre>\n<p>Prints</p>\n<pre><code>Key: = Active\nValue: = 1\nActive=1\n</code></pre>\n<p>You can also override toString of your Enum and do something like this.</p>\n<pre><code>public String toString() {\n    return String.format(&quot;\\&quot;key\\&quot;: \\&quot;%s\\&quot;,%n\\&quot;value\\&quot;: \\&quot;%s\\&quot;&quot;,\n            getKey(), getValue());\n}\n\nSystem.out.println(Status.ACTIVE);\n</code></pre>\n<p>Prints</p>\n<pre><code>&quot;key&quot;: Active&quot;,\n&quot;value&quot;: &quot;1&quot;\n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678950714,"creation_date":1678950714,"answer_id":75753074,"question_id":64103674,"body_markdown":"I did in this way to return all key and value in list.\r\n   \r\n````\r\npublic enum FileCode {\r\n    AB(&quot;AB&quot;, &quot;AB description&quot;),\r\n    CD(&quot;CD&quot;, &quot;CD description&quot;),\r\n    EF(&quot;EF&quot;, &quot;EF description&quot;);\r\n\r\n    private final String key;\r\n    private final String value;\r\n    private final KeyValue keyValue;\r\n\r\n    FileCode(String key, String value) {\r\n        this.key = key;\r\n        this.value = value;\r\n        this.keyValue = new KeyValue(key, value);\r\n    }\r\n\r\n    public static List&lt;KeyValue&gt; getAllKeyValue() {\r\n        List&lt;KeyValue&gt; keyValueList = new ArrayList&lt;&gt;();\r\n        for (FileCode f : FileCode.values()) {\r\n            keyValueList.add(KeyValue.builder()\r\n                    .key(f.key)\r\n                    .value(f.value)\r\n                    .build());\r\n        }\r\n        return keyValueList;\r\n\r\n    }\r\n\r\n    public Map.Entry&lt;String, String&gt; getBoth() {\r\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public static class KeyValue {\r\n        String key;\r\n        String value;\r\n\r\n    }\r\n\r\n}\r\n````","title":"How to use enum key value in java","body":"<p>I did in this way to return all key and value in list.</p>\n<pre><code>public enum FileCode {\n    AB(&quot;AB&quot;, &quot;AB description&quot;),\n    CD(&quot;CD&quot;, &quot;CD description&quot;),\n    EF(&quot;EF&quot;, &quot;EF description&quot;);\n\n    private final String key;\n    private final String value;\n    private final KeyValue keyValue;\n\n    FileCode(String key, String value) {\n        this.key = key;\n        this.value = value;\n        this.keyValue = new KeyValue(key, value);\n    }\n\n    public static List&lt;KeyValue&gt; getAllKeyValue() {\n        List&lt;KeyValue&gt; keyValueList = new ArrayList&lt;&gt;();\n        for (FileCode f : FileCode.values()) {\n            keyValueList.add(KeyValue.builder()\n                    .key(f.key)\n                    .value(f.value)\n                    .build());\n        }\n        return keyValueList;\n\n    }\n\n    public Map.Entry&lt;String, String&gt; getBoth() {\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n    }\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    public static class KeyValue {\n        String key;\n        String value;\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16635065,"reputation":433,"user_id":12021983,"display_name":"sokida"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5060,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":64104178,"answer_count":2,"score":-1,"last_activity_date":1678950714,"creation_date":1601301477,"question_id":64103674,"body_markdown":"I want to create an enum class in java 11 with key value \r\nI create a enum like this \r\n```\r\npublic enum status{\r\n\r\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\r\n\r\n    private final String key;\r\n    private final Integer value;\r\n\r\n    Status(String key, Integer value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\nthe problem that when i do Saison saison.getvalues()\r\ni got like this \r\n```\r\n[\r\n&quot;ACTIVE&quot;,\r\n&quot;INACTIVE&quot;\r\n]\r\n```\r\nBut i want to got like this \r\n```\r\n[\r\n{\r\n&quot;Key&quot;: &quot;Inactive&quot;, \r\n&quot;value&quot;:&quot;2&quot;\r\n},\r\n{\r\n&quot;Key&quot;: &quot;Active&quot;,\r\n &quot;value&quot;:&quot;1&quot;\r\n}\r\n]\r\n```\r\nhow can i call my enum tio get a result like this","title":"How to use enum key value in java","body":"<p>I want to create an enum class in java 11 with key value\nI create a enum like this</p>\n<pre><code>public enum status{\n\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\n\n    private final String key;\n    private final Integer value;\n\n    Status(String key, Integer value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public String getKey() {\n        return key;\n    }\n    public Integer getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>the problem that when i do Saison saison.getvalues()\ni got like this</p>\n<pre><code>[\n&quot;ACTIVE&quot;,\n&quot;INACTIVE&quot;\n]\n</code></pre>\n<p>But i want to got like this</p>\n<pre><code>[\n{\n&quot;Key&quot;: &quot;Inactive&quot;, \n&quot;value&quot;:&quot;2&quot;\n},\n{\n&quot;Key&quot;: &quot;Active&quot;,\n &quot;value&quot;:&quot;1&quot;\n}\n]\n</code></pre>\n<p>how can i call my enum tio get a result like this</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":192946,"reputation":3188,"user_id":434376,"accept_rate":96,"display_name":"eat_a_lemon"},"score":0,"creation_date":1300773301,"post_id":5387371,"comment_id":6091520,"body_markdown":"24 hour time or 12 hour time with am and pm?","body":"24 hour time or 12 hour time with am and pm?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1300773736,"post_id":5387371,"comment_id":6091581,"body_markdown":"See also http://stackoverflow.com/questions/2704473","body":"See also <a href=\"http://stackoverflow.com/questions/2704473\">stackoverflow.com/questions/2704473</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675935054,"post_id":5387371,"comment_id":133035855,"body_markdown":"Convert to a `Duration`, for example `Duration dur = Duration.ofMinutes(260);`. Format through `String.format(Locale.forLanguageTag(&quot;en-IN&quot;), &quot;%d:%02d&quot;, dur.toHours(), dur.toMinutesPart())`. Result: `4:20`.","body":"Convert to a <code>Duration</code>, for example <code>Duration dur = Duration.ofMinutes(260);</code>. Format through <code>String.format(Locale.forLanguageTag(&quot;en-IN&quot;), &quot;%d:%02d&quot;, dur.toHours(), dur.toMinutesPart())</code>. Result: <code>4:20</code>."}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1300773385,"post_id":5387393,"comment_id":6091531,"body_markdown":"Actually it&#39;s the opposite, minutes mod 60 will give you the minutes. See my answer","body":"Actually it&#39;s the opposite, minutes mod 60 will give you the minutes. See my answer"},{"owner":{"account_id":105796,"reputation":6133,"user_id":282112,"accept_rate":97,"display_name":"Ryre"},"score":0,"creation_date":1300773979,"post_id":5387393,"comment_id":6091613,"body_markdown":"You&#39;re quite right.  It&#39;s rather late here, thanks for clarifying!","body":"You&#39;re quite right.  It&#39;s rather late here, thanks for clarifying!"}],"tags":[],"owner":{"account_id":105796,"reputation":6133,"user_id":282112,"accept_rate":97,"display_name":"Ryre"},"comment_count":2,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1300773268,"creation_date":1300773268,"answer_id":5387393,"question_id":5387371,"body_markdown":"Minutes mod 60 will gives hours with minutes remaining.  \r\n\r\nhttp://www.cafeaulait.org/course/week2/15.html","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Minutes mod 60 will gives hours with minutes remaining.  </p>\n\n<p><a href=\"http://www.cafeaulait.org/course/week2/15.html\" rel=\"nofollow\">http://www.cafeaulait.org/course/week2/15.html</a></p>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1444922079,"post_id":5387398,"comment_id":54113905,"body_markdown":"Is there any way to achieve this with Java 8 `Duration`?","body":"Is there any way to achieve this with Java 8 <code>Duration</code>?"},{"owner":{"account_id":3260778,"reputation":2139,"user_id":3001970,"accept_rate":88,"display_name":"wittich"},"score":3,"creation_date":1524639589,"post_id":5387398,"comment_id":87048031,"body_markdown":"If `t` can be `&lt;0` (negative) then the second line should be `int minutes = Math.abs(t) % 60;`.","body":"If <code>t</code> can be <code>&lt;0</code> (negative) then the second line should be <code>int minutes = Math.abs(t) % 60;</code>."},{"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"score":1,"creation_date":1529998500,"post_id":5387398,"comment_id":89066174,"body_markdown":"and also if you want am or pm with time  add this condition \n String amOrPm;\n\t\t   if (timeInminutes&gt;=720)\n\t\t\t   amOrPm=&quot;PM&quot;;\n\t\t\t   else\n\t\t\t\t   amOrPm=&quot;AM&quot;;\n\t\t   String convertedTime=hours +&quot;:&quot; +minutes+amOrPm;","body":"and also if you want am or pm with time  add this condition   String amOrPm; \t\t   if (timeInminutes&gt;=720) \t\t\t   amOrPm=&quot;PM&quot;; \t\t\t   else \t\t\t\t   amOrPm=&quot;AM&quot;; \t\t   String convertedTime=hours +&quot;:&quot; +minutes+amOrPm;"},{"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"score":0,"creation_date":1558544048,"post_id":5387398,"comment_id":99139807,"body_markdown":"What to do with non-AM/PM locales? This is only partial, non localized solution.","body":"What to do with non-AM/PM locales? This is only partial, non localized solution."}],"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":4,"down_vote_count":1,"up_vote_count":227,"is_accepted":true,"score":226,"last_activity_date":1678950641,"creation_date":1300773307,"answer_id":5387398,"question_id":5387371,"body_markdown":"If your time is in a variable called `t` :\r\n\r\n    int hours   = t / 60;   // since both are ints, you get an int\r\n    int minutes = t % 60;\r\n    System.out.printf(&quot;%d:%02d&quot;, hours, minutes);\r\n\r\nIt couldn&#39;t get easier.\r\n\r\n---\r\n## Addendum from 2021\r\n\r\nPlease notice that this answer is about the *literal meaning* of the question: how to convert an amount of minute to hours + minutes. It has nothing to do with time, time zones, AM/PM etc.\r\n\r\nIf you need better control about this kind of stuff, i.e. you&#39;re dealing with moments in time and not just an amount of minutes and hours, see [Basil Bourque&#39;s answer](https://stackoverflow.com/a/41800301/133203) below.\r\n","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>If your time is in a variable called <code>t</code> :</p>\n<pre><code>int hours   = t / 60;   // since both are ints, you get an int\nint minutes = t % 60;\nSystem.out.printf(&quot;%d:%02d&quot;, hours, minutes);\n</code></pre>\n<p>It couldn't get easier.</p>\n<hr />\n<h2>Addendum from 2021</h2>\n<p>Please notice that this answer is about the <em>literal meaning</em> of the question: how to convert an amount of minute to hours + minutes. It has nothing to do with time, time zones, AM/PM etc.</p>\n<p>If you need better control about this kind of stuff, i.e. you're dealing with moments in time and not just an amount of minutes and hours, see <a href=\"https://stackoverflow.com/a/41800301/133203\">Basil Bourque's answer</a> below.</p>\n"},{"comments":[{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":0,"creation_date":1300774410,"post_id":5387451,"comment_id":6091669,"body_markdown":"above two will supress the presistion numbers","body":"above two will supress the presistion numbers"}],"tags":[],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1311501457,"creation_date":1300773653,"answer_id":5387451,"question_id":5387371,"body_markdown":"    long d1Ms=asa.getTime();   \r\n    long d2Ms=asa2.getTime();   \r\n    long minute = Math.abs((d1Ms-d2Ms)/60000);   \r\n    int Hours = (int)minute/60;     \r\n    int Minutes = (int)minute%60;     \r\n    stUr.setText(Hours+&quot;:&quot;+Minutes); ","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<pre><code>long d1Ms=asa.getTime();   \nlong d2Ms=asa2.getTime();   \nlong minute = Math.abs((d1Ms-d2Ms)/60000);   \nint Hours = (int)minute/60;     \nint Minutes = (int)minute%60;     \nstUr.setText(Hours+\":\"+Minutes); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1491988127,"post_id":5388264,"comment_id":73791892,"body_markdown":"I know its a bit longer than the code in the accepted answer, but IMHO it is also clearer. I prefer this.","body":"I know its a bit longer than the code in the accepted answer, but IMHO it is also clearer. I prefer this."}],"tags":[],"owner":{"account_id":98286,"reputation":1427,"user_id":1129757,"accept_rate":71,"display_name":"walters"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1300780521,"creation_date":1300780521,"answer_id":5388264,"question_id":5387371,"body_markdown":"You can also use the [TimeUnit][1] class. You could define &lt;pre&gt;private static final String FORMAT = &quot;%02d:%02d:%02d&quot;;&lt;/pre&gt;\r\ncan have a method like:\r\n&lt;pre&gt;\r\npublic static String parseTime(long milliseconds) {\r\n      return String.format(FORMAT,\r\n              TimeUnit.MILLISECONDS.toHours(milliseconds),\r\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds) - TimeUnit.HOURS.toMinutes(\r\n              TimeUnit.MILLISECONDS.toHours(milliseconds)),\r\n              TimeUnit.MILLISECONDS.toSeconds(milliseconds) - TimeUnit.MINUTES.toSeconds(\r\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds)));\r\n   }\r\n&lt;/pre&gt;\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>You can also use the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\">TimeUnit</a> class. You could define <pre>private static final String FORMAT = \"%02d:%02d:%02d\";</pre>\ncan have a method like:</p>\n\n<pre>\npublic static String parseTime(long milliseconds) {\n      return String.format(FORMAT,\n              TimeUnit.MILLISECONDS.toHours(milliseconds),\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds) - TimeUnit.HOURS.toMinutes(\n              TimeUnit.MILLISECONDS.toHours(milliseconds)),\n              TimeUnit.MILLISECONDS.toSeconds(milliseconds) - TimeUnit.MINUTES.toSeconds(\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds)));\n   }\n</pre>\n"},{"comments":[{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":2,"creation_date":1351235125,"post_id":9349082,"comment_id":17773987,"body_markdown":"It was minutes to hours and minutes","body":"It was minutes to hours and minutes"}],"tags":[],"owner":{"account_id":1260851,"reputation":7,"user_id":1219180,"display_name":"Jayaramachandran P"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1329656032,"creation_date":1329654047,"answer_id":9349082,"question_id":5387371,"body_markdown":"Try this code:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class BasicElement {\r\n        public static void main(String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            int hours;\r\n            System.out.print(&quot;Enter the hours to convert:&quot;);\r\n            hours =input.nextInt();\r\n            int d=hours/24;\r\n            int m=hours%24;\r\n            System.out.println(d+&quot;days&quot;+&quot; &quot;+m+&quot;hours&quot;);\t\t\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Try this code:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class BasicElement {\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        int hours;\n        System.out.print(\"Enter the hours to convert:\");\n        hours =input.nextInt();\n        int d=hours/24;\n        int m=hours%24;\n        System.out.println(d+\"days\"+\" \"+m+\"hours\");     \n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14342,"reputation":14256,"user_id":29430,"accept_rate":75,"display_name":"ya23"},"score":2,"creation_date":1374596151,"post_id":12032382,"comment_id":25997091,"body_markdown":"Gosh, that&#39;s verbose - just like FizzBuzz Enterprise Edition: http://www.theospears.com/blog/2007/08/11/fizzbuzz-enterprise-edition/","body":"Gosh, that&#39;s verbose - just like FizzBuzz Enterprise Edition: <a href=\"http://www.theospears.com/blog/2007/08/11/fizzbuzz-enterprise-edition/\" rel=\"nofollow noreferrer\">theospears.com/blog/2007/08/11/fizzbuzz-enterprise-edition</a>"},{"owner":{"account_id":235371,"reputation":3579,"user_id":502144,"accept_rate":50,"display_name":"fdermishin"},"score":1,"creation_date":1607431753,"post_id":12032382,"comment_id":115265113,"body_markdown":"What does it have to do with currency?","body":"What does it have to do with currency?"}],"tags":[],"owner":{"account_id":1764821,"reputation":39,"user_id":1610912,"display_name":"Priyanka"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1349170909,"creation_date":1345437908,"answer_id":12032382,"question_id":5387371,"body_markdown":"It can be done like this\r\n                       \r\n            int totalMinutesInt = Integer.valueOf(totalMinutes.toString());\r\n\r\n\t\t\tint hours = totalMinutesInt / 60;\r\n\t\t\tint hoursToDisplay = hours;\r\n\r\n\t\t\tif (hours &gt; 12) {\r\n\t\t\t\thoursToDisplay = hoursToDisplay - 12;\r\n\t\t\t}\r\n\r\n\t\t\tint minutesToDisplay = totalMinutesInt - (hours * 60);\r\n\t\t\t\r\n\t\t\tString minToDisplay = null;\r\n\t\t\tif(minutesToDisplay == 0 ) minToDisplay = &quot;00&quot;;\t\t\r\n\t\t\telse if( minutesToDisplay &lt; 10 ) minToDisplay = &quot;0&quot; + minutesToDisplay ;\r\n\t\t\telse minToDisplay = &quot;&quot; + minutesToDisplay ;\r\n\t\t\t\r\n\t\t\tString displayValue = hoursToDisplay + &quot;:&quot; + minToDisplay;\r\n\t\t \r\n\t\t\tif (hours &lt; 12)\r\n\t\t\t\tdisplayValue = displayValue + &quot; AM&quot;;\r\n\t\t\telse\r\n\t\t\t\tdisplayValue = displayValue + &quot; PM&quot;;\r\n\r\n\t\t\treturn displayValue;\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Error while converting currency.&quot;);\r\n\t\t}\r\n\t\treturn totalMinutes.toString();","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>It can be done like this</p>\n\n<pre><code>        int totalMinutesInt = Integer.valueOf(totalMinutes.toString());\n\n        int hours = totalMinutesInt / 60;\n        int hoursToDisplay = hours;\n\n        if (hours &gt; 12) {\n            hoursToDisplay = hoursToDisplay - 12;\n        }\n\n        int minutesToDisplay = totalMinutesInt - (hours * 60);\n\n        String minToDisplay = null;\n        if(minutesToDisplay == 0 ) minToDisplay = \"00\";     \n        else if( minutesToDisplay &lt; 10 ) minToDisplay = \"0\" + minutesToDisplay ;\n        else minToDisplay = \"\" + minutesToDisplay ;\n\n        String displayValue = hoursToDisplay + \":\" + minToDisplay;\n\n        if (hours &lt; 12)\n            displayValue = displayValue + \" AM\";\n        else\n            displayValue = displayValue + \" PM\";\n\n        return displayValue;\n    } catch (Exception e) {\n        LOGGER.error(\"Error while converting currency.\");\n    }\n    return totalMinutes.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235371,"reputation":3579,"user_id":502144,"accept_rate":50,"display_name":"fdermishin"},"score":1,"creation_date":1607431095,"post_id":37823576,"comment_id":115264797,"body_markdown":"Doesn&#39;t work. If `input` is 7500, then the result is 7500 hours, 5 minutes and 0 seconds, which is obviously wrong. And the question didn&#39;t mention seconds at all.","body":"Doesn&#39;t work. If <code>input</code> is 7500, then the result is 7500 hours, 5 minutes and 0 seconds, which is obviously wrong. And the question didn&#39;t mention seconds at all."},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1608037200,"post_id":37823576,"comment_id":115454391,"body_markdown":"@fdermishin is correct. [Try it online!](https://tio.run/##ZVFNb8IwDL3nV1iT0MrQaIVgk1Zx2Wl3jtMOgXoQlo8qTgoI8ds7l4YxNiVS7DjvPftlKxv5uK2@2pWWRPB6FHVcarUCCjLw0ThVgZHKZovglV2/f4D0axoeW2UDbFz0VIouNMrGgCkhXDlbpeTTeSPDG@oafSnOV8rWMcAcnmdFwVciz38/Yr29MtFAI3VEUASTaS8FHmuPhDZgxSQXHSFu4PPEP4BsMn14KngPyyQCuJem1ggawz0ByUPqDzY9mNW6rq7UvfD8Zoz8TFqKNPT/6qCrJoo/1XOJm7FuB45zttlZArl0DcJOaQ1rxdHBRZ6Wou58mvRNvMDs4jPHxdXmxYECmrGLYVzzLwVtsx4xgjteox/UJU/IYdmeTu03 &quot;Java (JDK)  Try It Online&quot;)","body":"@fdermishin is correct. <a href=\"https://tio.run/##ZVFNb8IwDL3nV1iT0MrQaIVgk1Zx2Wl3jtMOgXoQlo8qTgoI8ds7l4YxNiVS7DjvPftlKxv5uK2@2pWWRPB6FHVcarUCCjLw0ThVgZHKZovglV2/f4D0axoeW2UDbFz0VIouNMrGgCkhXDlbpeTTeSPDG@oafSnOV8rWMcAcnmdFwVciz38/Yr29MtFAI3VEUASTaS8FHmuPhDZgxSQXHSFu4PPEP4BsMn14KngPyyQCuJem1ggawz0ByUPqDzY9mNW6rq7UvfD8Zoz8TFqKNPT/6qCrJoo/1XOJm7FuB45zttlZArl0DcJOaQ1rxdHBRZ6Wou58mvRNvMDs4jPHxdXmxYECmrGLYVzzLwVtsx4xgjteox/UJU/IYdmeTu03\" title=\"Java (JDK)  Try It Online\" rel=\"nofollow noreferrer\">Try it online!</a>"}],"tags":[],"owner":{"account_id":5822314,"reputation":148,"user_id":4589961,"display_name":"LightinDarknessJava"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1465945761,"creation_date":1465945761,"answer_id":37823576,"question_id":5387371,"body_markdown":"Given input in seconds you can transform to format hh:mm:ss like this :\r\n\r\n    int hours;\r\n    int minutes;\r\n    int seconds;\r\n    int formatHelper;\r\n    \r\n    int input;\r\n    \r\n\r\n    //formatHelper maximum value is 24 hours represented in seconds\r\n\r\n    formatHelper = input % (24*60*60);\r\n    \r\n    //for example let&#39;s say format helper is 7500 seconds\r\n    \r\n    hours = formatHelper/60*60;\r\n    minutes = formatHelper/60%60;\r\n    seconds = formatHelper%60;\r\n    \r\n    //now operations above will give you result = 2hours : 5 minutes : 0 seconds;\r\n\r\nI have used formatHelper since the input can be more then 86 400 seconds, which is 24 hours.\r\n\r\nIf you want total time of your input represented by hh:mm:ss, you can just avoid formatHelper.\r\n\r\nI hope it helps.","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Given input in seconds you can transform to format hh:mm:ss like this :</p>\n\n<pre><code>int hours;\nint minutes;\nint seconds;\nint formatHelper;\n\nint input;\n\n\n//formatHelper maximum value is 24 hours represented in seconds\n\nformatHelper = input % (24*60*60);\n\n//for example let's say format helper is 7500 seconds\n\nhours = formatHelper/60*60;\nminutes = formatHelper/60%60;\nseconds = formatHelper%60;\n\n//now operations above will give you result = 2hours : 5 minutes : 0 seconds;\n</code></pre>\n\n<p>I have used formatHelper since the input can be more then 86 400 seconds, which is 24 hours.</p>\n\n<p>If you want total time of your input represented by hh:mm:ss, you can just avoid formatHelper.</p>\n\n<p>I hope it helps.</p>\n"},{"comments":[{"owner":{"account_id":60183,"reputation":4029,"user_id":179864,"accept_rate":67,"display_name":"aditsu quit because SE is EVIL"},"score":1,"creation_date":1500477465,"post_id":41800301,"comment_id":77356828,"body_markdown":"Nice, I&#39;m looking for something like this, but I&#39;d like to get the result as &quot;4h 20m&quot; or &quot;4h 20min&quot; rather than &quot;PT4H20M&quot; or &quot;04:20&quot;. I guess I&#39;ll have to use some kind of formatting method?","body":"Nice, I&#39;m looking for something like this, but I&#39;d like to get the result as &quot;4h 20m&quot; or &quot;4h 20min&quot; rather than &quot;PT4H20M&quot; or &quot;04:20&quot;. I guess I&#39;ll have to use some kind of formatting method?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1591074410,"post_id":41800301,"comment_id":109909964,"body_markdown":"@aditsuquitbecauseSEisEVIL Java 9 brought the `Duration::toPart` methods shown my edits to this Answer. You can easily assemble your own string from those parts.","body":"@aditsuquitbecauseSEisEVIL Java 9 brought the <code>Duration::toPart</code> methods shown my edits to this Answer. You can easily assemble your own string from those parts."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1591074346,"creation_date":1485152416,"answer_id":41800301,"question_id":5387371,"body_markdown":"# tl;dr\r\n\r\n    Duration.ofMinutes( 260L )\r\n            .toString()\r\n\r\n&gt;PT4H20M\r\n\r\n or \r\n\r\n    LocalTime.MIN.plus( \r\n        Duration.ofMinutes( 260L ) \r\n    ).toString()\r\n\r\n&gt;04:20\r\n\r\n# `Duration`\r\n\r\nThe java.time classes include a pair of classes to represent spans of time. The [`Duration`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html) class is for hours-minutes-seconds, and [`Period`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html) is for years-months-days.\r\n\r\n    Duration d = Duration.ofMinutes( 260L );\r\n\r\n## `Duration` parts\r\n\r\nAccess each part of the `Duration` by calling `toPart`. These methods were added in Java 9 and later.\r\n\r\n    long days = d.toDaysPart() ;\r\n    int hours = d.toHoursPart() ;\r\n    int minutes = d.toMinutesPart() ;\r\n    int seconds = d.toSecondsPart() ;\r\n    int nanos = d.toNanosPart() ;\r\n\r\nYou can then assemble your own string from those parts.\r\n\r\n# ISO 8601 \r\n\r\nThe [ISO 8601][1] standard defines textual formats for date-time values. For spans of time unattached to the timeline, the [standard format][2] is `PnYnMnDTnHnMnS`. The `P` marks the beginning, and the `T` separates the years-month-days from the hours-minutes-seconds. So an hour and a half is `PT1H30M`. \r\n\r\nThe java.time classes use ISO 8601 formats by default for parsing and generating strings. The [`Duration`](http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html) and [`Period`](http://docs.oracle.com/javase/8/docs/api/java/time/Period.html) classes use this particular standard format. So simply call `toString`.\r\n\r\n    String output = d.toString(); \r\n\r\n&gt;PT4H20M\r\n\r\nFor alternate formatting, build your own String in Java 9 and later (*not* in Java 8) with the `Duration::toPart` methods. Or see [this Answer](https://stackoverflow.com/a/40487511/642706) for using regex to manipulate the ISO 8601 formatted string.\r\n\r\n# `LocalTime`\r\n\r\nI strongly suggest using the standard ISO 8601 format instead of the extremely ambiguous and confusing clock format of `04:20`. But if you insist, you can get this effect by hacking with the [`LocalTime`][3] class. This works if your duration is not over 24 hours.\r\n\r\n    LocalTime hackUseOfClockAsDuration = LocalTime.MIN.plus( d );\r\n    String output = hackUseOfClockAsDuration.toString();\r\n\r\n&gt;04:20\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<h1>tl;dr</h1>\n\n<pre><code>Duration.ofMinutes( 260L )\n        .toString()\n</code></pre>\n\n<blockquote>\n  <p>PT4H20M</p>\n</blockquote>\n\n<p> or </p>\n\n<pre><code>LocalTime.MIN.plus( \n    Duration.ofMinutes( 260L ) \n).toString()\n</code></pre>\n\n<blockquote>\n  <p>04:20</p>\n</blockquote>\n\n<h1><code>Duration</code></h1>\n\n<p>The java.time classes include a pair of classes to represent spans of time. The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> class is for hours-minutes-seconds, and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> is for years-months-days.</p>\n\n<pre><code>Duration d = Duration.ofMinutes( 260L );\n</code></pre>\n\n<h2><code>Duration</code> parts</h2>\n\n<p>Access each part of the <code>Duration</code> by calling <code>toPart</code>. These methods were added in Java 9 and later.</p>\n\n<pre><code>long days = d.toDaysPart() ;\nint hours = d.toHoursPart() ;\nint minutes = d.toMinutesPart() ;\nint seconds = d.toSecondsPart() ;\nint nanos = d.toNanosPart() ;\n</code></pre>\n\n<p>You can then assemble your own string from those parts.</p>\n\n<h1>ISO 8601</h1>\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> standard defines textual formats for date-time values. For spans of time unattached to the timeline, the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">standard format</a> is <code>PnYnMnDTnHnMnS</code>. The <code>P</code> marks the beginning, and the <code>T</code> separates the years-month-days from the hours-minutes-seconds. So an hour and a half is <code>PT1H30M</code>. </p>\n\n<p>The java.time classes use ISO 8601 formats by default for parsing and generating strings. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> classes use this particular standard format. So simply call <code>toString</code>.</p>\n\n<pre><code>String output = d.toString(); \n</code></pre>\n\n<blockquote>\n  <p>PT4H20M</p>\n</blockquote>\n\n<p>For alternate formatting, build your own String in Java 9 and later (<em>not</em> in Java 8) with the <code>Duration::toPart</code> methods. Or see <a href=\"https://stackoverflow.com/a/40487511/642706\">this Answer</a> for using regex to manipulate the ISO 8601 formatted string.</p>\n\n<h1><code>LocalTime</code></h1>\n\n<p>I strongly suggest using the standard ISO 8601 format instead of the extremely ambiguous and confusing clock format of <code>04:20</code>. But if you insist, you can get this effect by hacking with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"noreferrer\"><code>LocalTime</code></a> class. This works if your duration is not over 24 hours.</p>\n\n<pre><code>LocalTime hackUseOfClockAsDuration = LocalTime.MIN.plus( d );\nString output = hackUseOfClockAsDuration.toString();\n</code></pre>\n\n<blockquote>\n  <p>04:20</p>\n</blockquote>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":3248812,"reputation":4421,"user_id":2739650,"accept_rate":25,"display_name":"Shohan Ahmed Sijan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498977697,"creation_date":1486738248,"answer_id":42162245,"question_id":5387371,"body_markdown":"I use this function for my projects:\r\n\r\n     public static String minuteToTime(int minute) {\r\n        int hour = minute / 60;\r\n        minute %= 60;\r\n        String p = &quot;AM&quot;;\r\n        if (hour &gt;= 12) {\r\n            hour %= 12;\r\n            p = &quot;PM&quot;;\r\n        }\r\n        if (hour == 0) {\r\n            hour = 12;\r\n        }\r\n        return (hour &lt; 10 ? &quot;0&quot; + hour : hour) + &quot;:&quot; + (minute &lt; 10 ? &quot;0&quot; + minute : minute) + &quot; &quot; + p;\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>I use this function for my projects:</p>\n\n<pre><code> public static String minuteToTime(int minute) {\n    int hour = minute / 60;\n    minute %= 60;\n    String p = \"AM\";\n    if (hour &gt;= 12) {\n        hour %= 12;\n        p = \"PM\";\n    }\n    if (hour == 0) {\n        hour = 12;\n    }\n    return (hour &lt; 10 ? \"0\" + hour : hour) + \":\" + (minute &lt; 10 ? \"0\" + minute : minute) + \" \" + p;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235371,"reputation":3579,"user_id":502144,"accept_rate":50,"display_name":"fdermishin"},"score":1,"creation_date":1607430039,"post_id":43088614,"comment_id":115264333,"body_markdown":"Why are you using integer format `%d` to format string values `&quot;&quot; +mHours` and `&quot;&quot; +mMinutes`?","body":"Why are you using integer format <code>%d</code> to format string values <code>&quot;&quot; +mHours</code> and <code>&quot;&quot; +mMinutes</code>?"}],"tags":[],"owner":{"account_id":7900539,"reputation":1580,"user_id":5967703,"accept_rate":33,"display_name":"Jigar Patel"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490777194,"creation_date":1490777194,"answer_id":43088614,"question_id":5387371,"body_markdown":"    int mHours = t / 60; //since both are ints, you get an int\r\n    int mMinutes = t % 60;\r\n    System.out.printf(&quot;%d:%02d&quot;, &quot;&quot; +mHours, &quot;&quot; +mMinutes);","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<pre><code>int mHours = t / 60; //since both are ints, you get an int\nint mMinutes = t % 60;\nSystem.out.printf(\"%d:%02d\", \"\" +mHours, \"\" +mMinutes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11379646,"reputation":458,"user_id":8342848,"display_name":"Athar Iqbal"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1500629170,"creation_date":1500622883,"answer_id":45231854,"question_id":5387371,"body_markdown":"Use `java.text.SimpleDateFormat` to convert minute into hours and minute\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;mm&quot;);\r\n\r\n    try {\r\n        Date dt = sdf.parse(&quot;90&quot;);\r\n        sdf = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n        System.out.println(sdf.format(dt));\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Use <code>java.text.SimpleDateFormat</code> to convert minute into hours and minute</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"mm\");\n\ntry {\n    Date dt = sdf.parse(\"90\");\n    sdf = new SimpleDateFormat(\"HH:mm\");\n    System.out.println(sdf.format(dt));\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235371,"reputation":3579,"user_id":502144,"accept_rate":50,"display_name":"fdermishin"},"score":0,"creation_date":1607430619,"post_id":48839790,"comment_id":115264579,"body_markdown":"How does this differ from the accepted answer?","body":"How does this differ from the accepted answer?"}],"tags":[],"owner":{"account_id":12965170,"reputation":94,"user_id":9372982,"display_name":"Janeth Fernando"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518859429,"creation_date":1518859429,"answer_id":48839790,"question_id":5387371,"body_markdown":"    import java.util.Scanner;\r\n    public class Time{\r\n    \tpublic static void main(String[]args){\r\n    \t\tint totMins=0;\r\n    \t\tint hours=0;\r\n    \t\tint mins=0;\r\n    \tScanner sc= new Scanner(System.in);\r\n    \tSystem.out.println(&quot;Enter the time in mins: &quot;);\r\n    \t\ttotMins= sc.nextInt();\r\n    \t\thours=(int)(totMins/60);\r\n    \t\tmins =(int)(totMins%60);\r\n    \t\tSystem.out.printf(&quot;%d:%d&quot;,hours,mins);\r\n    \t}\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<pre><code>import java.util.Scanner;\npublic class Time{\n    public static void main(String[]args){\n        int totMins=0;\n        int hours=0;\n        int mins=0;\n    Scanner sc= new Scanner(System.in);\n    System.out.println(\"Enter the time in mins: \");\n        totMins= sc.nextInt();\n        hours=(int)(totMins/60);\n        mins =(int)(totMins%60);\n        System.out.printf(\"%d:%d\",hours,mins);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4454846,"reputation":1267,"user_id":3625488,"display_name":"Anthony Cannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522246126,"creation_date":1522246126,"answer_id":49536782,"question_id":5387371,"body_markdown":"(In Kotlin) If you are going to put the answer into a TextView or something you can instead use a string resource:\r\n\r\n    &lt;string name=&quot;time&quot;&gt;%02d:%02d&lt;/string&gt;\r\n\r\nAnd then you can use this String resource to then set the text at run time using:\r\n\r\n    private fun setTime(time: Int) {\r\n        val hour = time / 60\r\n        val min = time % 60\r\n        main_time.text = getString(R.string.time, hour, min)\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>(In Kotlin) If you are going to put the answer into a TextView or something you can instead use a string resource:</p>\n\n<pre><code>&lt;string name=\"time\"&gt;%02d:%02d&lt;/string&gt;\n</code></pre>\n\n<p>And then you can use this String resource to then set the text at run time using:</p>\n\n<pre><code>private fun setTime(time: Int) {\n    val hour = time / 60\n    val min = time % 60\n    main_time.text = getString(R.string.time, hour, min)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58840,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545616093,"creation_date":1537349433,"answer_id":52402611,"question_id":5387371,"body_markdown":"Here is my function for convert a `second`,`millisecond` to `day,hour,minute,second`\r\n\r\n    public static String millisecondToFullTime(long millisecond) {\r\n        return timeUnitToFullTime(millisecond, TimeUnit.MILLISECONDS);\r\n    }\r\n\r\n    public static String secondToFullTime(long second) {\r\n        return timeUnitToFullTime(second, TimeUnit.SECONDS);\r\n    }\r\n\r\n    public static String timeUnitToFullTime(long time, TimeUnit timeUnit) {\r\n        long day = timeUnit.toDays(time);\r\n        long hour = timeUnit.toHours(time) % 24;\r\n        long minute = timeUnit.toMinutes(time) % 60;\r\n        long second = timeUnit.toSeconds(time) % 60;\r\n        if (day &gt; 0) {\r\n            return String.format(&quot;%dday %02d:%02d:%02d&quot;, day, hour, minute, second);\r\n        } else if (hour &gt; 0) {\r\n            return String.format(&quot;%d:%02d:%02d&quot;, hour, minute, second);\r\n        } else if (minute &gt; 0) {\r\n            return String.format(&quot;%d:%02d&quot;, minute, second);\r\n        } else {\r\n            return String.format(&quot;%02d&quot;, second);\r\n        }\r\n    }\r\n   \r\n**Testing**\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;60 =&gt; &quot; + secondToFullTime(60));\r\n        System.out.println(&quot;101 =&gt; &quot; + secondToFullTime(101));\r\n        System.out.println(&quot;601 =&gt; &quot; + secondToFullTime(601));\r\n        System.out.println(&quot;7601 =&gt; &quot; + secondToFullTime(7601));\r\n        System.out.println(&quot;36001 =&gt; &quot; + secondToFullTime(36001));\r\n        System.out.println(&quot;86401 =&gt; &quot; + secondToFullTime(86401));\r\n    }\r\n\r\n**Output**\r\n\r\n    60 =&gt; 1:00\r\n    101 =&gt; 1:41\r\n    601 =&gt; 10:01\r\n    7601 =&gt; 2:06:41\r\n    36001 =&gt; 10:00:01\r\n    86401 =&gt; 1day 00:00:01\r\n\r\nHope it help","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Here is my function for convert a <code>second</code>,<code>millisecond</code> to <code>day,hour,minute,second</code></p>\n\n<pre><code>public static String millisecondToFullTime(long millisecond) {\n    return timeUnitToFullTime(millisecond, TimeUnit.MILLISECONDS);\n}\n\npublic static String secondToFullTime(long second) {\n    return timeUnitToFullTime(second, TimeUnit.SECONDS);\n}\n\npublic static String timeUnitToFullTime(long time, TimeUnit timeUnit) {\n    long day = timeUnit.toDays(time);\n    long hour = timeUnit.toHours(time) % 24;\n    long minute = timeUnit.toMinutes(time) % 60;\n    long second = timeUnit.toSeconds(time) % 60;\n    if (day &gt; 0) {\n        return String.format(\"%dday %02d:%02d:%02d\", day, hour, minute, second);\n    } else if (hour &gt; 0) {\n        return String.format(\"%d:%02d:%02d\", hour, minute, second);\n    } else if (minute &gt; 0) {\n        return String.format(\"%d:%02d\", minute, second);\n    } else {\n        return String.format(\"%02d\", second);\n    }\n}\n</code></pre>\n\n<p><strong>Testing</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"60 =&gt; \" + secondToFullTime(60));\n    System.out.println(\"101 =&gt; \" + secondToFullTime(101));\n    System.out.println(\"601 =&gt; \" + secondToFullTime(601));\n    System.out.println(\"7601 =&gt; \" + secondToFullTime(7601));\n    System.out.println(\"36001 =&gt; \" + secondToFullTime(36001));\n    System.out.println(\"86401 =&gt; \" + secondToFullTime(86401));\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>60 =&gt; 1:00\n101 =&gt; 1:41\n601 =&gt; 10:01\n7601 =&gt; 2:06:41\n36001 =&gt; 10:00:01\n86401 =&gt; 1day 00:00:01\n</code></pre>\n\n<p>Hope it help</p>\n"},{"tags":[],"owner":{"account_id":23064768,"reputation":25,"user_id":17179362,"display_name":"Arman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675956186,"creation_date":1675956186,"answer_id":75400732,"question_id":5387371,"body_markdown":"Solution on kotlin [Documentation](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/)  \r\n```\r\nimport kotlin.time.Duration\r\nimport kotlin.time.DurationUnit\r\nimport kotlin.time.toDuration\r\n\r\nval min = 150.toDuration(DurationUnit.MINUTES)\r\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \r\n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\r\n}\r\n```\r\nWe get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds  \r\n\r\nWe can also use \r\n```\r\nDurationUnit.DAYS\r\nDurationUnit.HOURS\r\nDurationUnit.SECONDS\r\nDurationUnit.MILLISECONDS\r\nDurationUnit.MICROSECONDS\r\nDurationUnit.NANOSECONDS\r\n```","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Solution on kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<pre><code>import kotlin.time.Duration\nimport kotlin.time.DurationUnit\nimport kotlin.time.toDuration\n\nval min = 150.toDuration(DurationUnit.MINUTES)\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\n}\n</code></pre>\n<p>We get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds</p>\n<p>We can also use</p>\n<pre><code>DurationUnit.DAYS\nDurationUnit.HOURS\nDurationUnit.SECONDS\nDurationUnit.MILLISECONDS\nDurationUnit.MICROSECONDS\nDurationUnit.NANOSECONDS\n</code></pre>\n"}],"owner":{"account_id":128134,"reputation":4619,"user_id":2405181,"accept_rate":67,"display_name":"lakshmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204612,"favorite_count":0,"down_vote_count":2,"up_vote_count":101,"accepted_answer_id":5387398,"answer_count":15,"score":99,"last_activity_date":1678950641,"creation_date":1300773097,"question_id":5387371,"body_markdown":"I need to convert minutes to *hours* and *minutes* in Java. For example 260 minutes should be `4:20`.\r\n\r\nCan anyone help me how to do such conversion?\r\n\r\n ","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>I need to convert minutes to <em>hours</em> and <em>minutes</em> in Java. For example 260 minutes should be <code>4:20</code>.</p>\n<p>Can anyone help me how to do such conversion?</p>\n"},{"tags":["java","python","import","jython"],"comments":[{"owner":{"account_id":1123620,"reputation":22429,"user_id":2013292,"display_name":"Pascal Fares"},"score":0,"creation_date":1586759842,"post_id":61070674,"comment_id":108236097,"body_markdown":"Did you verify that your python script did not have an error? Need to catch the error also with something like this             while ((ligne = error.readLine()) != null) {\n                System.out.println(&quot;err: &quot;+ ligne);\n            }","body":"Did you verify that your python script did not have an error? Need to catch the error also with something like this             while ((ligne = error.readLine()) != null) {                 System.out.println(&quot;err: &quot;+ ligne);             }"},{"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"score":0,"creation_date":1586783355,"post_id":61070674,"comment_id":108246168,"body_markdown":"No, it&#39;s more like it does not read properly somehow (at the right time maybe)... when I kill the java program, sometimes I can see the output inside the while loop (I print the `line`) - but only then - like it was stucked or something...","body":"No, it&#39;s more like it does not read properly somehow (at the right time maybe)... when I kill the java program, sometimes I can see the output inside the while loop (I print the <code>line</code>) - but only then - like it was stucked or something..."}],"answers":[{"comments":[{"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"score":1,"creation_date":1586646380,"post_id":61153149,"comment_id":108205037,"body_markdown":"That sounds really promising! I will work on a solution based on that and will come back at you!","body":"That sounds really promising! I will work on a solution based on that and will come back at you!"},{"owner":{"account_id":1123620,"reputation":22429,"user_id":2013292,"display_name":"Pascal Fares"},"score":1,"creation_date":1586671044,"post_id":61153149,"comment_id":108209258,"body_markdown":"You will also avoid .exec() it will be done only one time, like import","body":"You will also avoid .exec() it will be done only one time, like import"},{"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"score":1,"creation_date":1586688927,"post_id":61153149,"comment_id":108214113,"body_markdown":"There cannot be parallel requests for this function of the script in this case, right? E.g. two process call the function at the same time (of the same process `p`) and since the script writes to `stdout`, you don&#39;t know which results will belong to which. Maybe `synchronized` in Java will help in this case, will check.","body":"There cannot be parallel requests for this function of the script in this case, right? E.g. two process call the function at the same time (of the same process <code>p</code>) and since the script writes to <code>stdout</code>, you don&#39;t know which results will belong to which. Maybe <code>synchronized</code> in Java will help in this case, will check."},{"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"score":1,"creation_date":1586734110,"post_id":61153149,"comment_id":108230699,"body_markdown":"Hi Pascal! I ran into a problem and editted the question with my current approach. Can you check it if possible?","body":"Hi Pascal! I ran into a problem and editted the question with my current approach. Can you check it if possible?"},{"owner":{"account_id":1123620,"reputation":22429,"user_id":2013292,"display_name":"Pascal Fares"},"score":1,"creation_date":1586758787,"post_id":61153149,"comment_id":108235799,"body_markdown":"If you need a parallel call, it will then be better to make a client/server approach, but I think it will be to much complicated for your need I think. The solutions with an IO pipe is a sequential you need to make it safe and add synchronized to your getResults method","body":"If you need a parallel call, it will then be better to make a client/server approach, but I think it will be to much complicated for your need I think. The solutions with an IO pipe is a sequential you need to make it safe and add synchronized to your getResults method"},{"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"score":1,"creation_date":1586783227,"post_id":61153149,"comment_id":108246100,"body_markdown":"I added `synchronized` just to be on the safe side.","body":"I added <code>synchronized</code> just to be on the safe side."}],"tags":[],"owner":{"account_id":1123620,"reputation":22429,"user_id":2013292,"display_name":"Pascal Fares"},"comment_count":6,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1586588338,"creation_date":1586588338,"answer_id":61153149,"question_id":61070674,"body_markdown":"You could communicate between java and Python with pipes.\r\n\r\nYou run your Python as you do now (without command line args) \r\n\r\nPython script\r\n\r\nyou write an infinite loop in python that will \r\n\r\n 2. read data from the\r\n    standard input (it will be your arg for the function)\r\n\r\n 2. You call your function\r\n\r\n 3. you write the answer to the standard output\r\n\r\nJava\r\n\r\n1. Write a method for sending args to python\r\n\r\n2. write to the pipe the arg of your function\r\n\r\n3. read the answer from the pipe\r\n\r\nYou&#39;re done.\r\n\r\nHere is some snippet \r\n\r\nHere how you create your tube\r\n\r\n            Process p = Runtime.getRuntime().exec(commande);\r\n            BufferedReader output = getOutput(p); //from python to java\r\n            BufferedReader error = getError(p); //from python to java\r\n            PrintWriter input  = getInput(p); //from java to python\r\n\r\n    private static BufferedReader getOutput(Process p) {\r\n        return new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    }\r\n    private static BufferedReader getError(Process p) {\r\n        return new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n    }    \r\n    private static PrintWriter getInput(Process p){\r\n        return new PrintWriter (new OutputStreamWriter(p.getOutputStream()));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Run Python script through Java with importing just once","body":"<p>You could communicate between java and Python with pipes.</p>\n\n<p>You run your Python as you do now (without command line args) </p>\n\n<p>Python script</p>\n\n<p>you write an infinite loop in python that will </p>\n\n<ol start=\"2\">\n<li><p>read data from the\nstandard input (it will be your arg for the function)</p></li>\n<li><p>You call your function</p></li>\n<li><p>you write the answer to the standard output</p></li>\n</ol>\n\n<p>Java</p>\n\n<ol>\n<li><p>Write a method for sending args to python</p></li>\n<li><p>write to the pipe the arg of your function</p></li>\n<li><p>read the answer from the pipe</p></li>\n</ol>\n\n<p>You're done.</p>\n\n<p>Here is some snippet </p>\n\n<p>Here how you create your tube</p>\n\n<pre><code>        Process p = Runtime.getRuntime().exec(commande);\n        BufferedReader output = getOutput(p); //from python to java\n        BufferedReader error = getError(p); //from python to java\n        PrintWriter input  = getInput(p); //from java to python\n\nprivate static BufferedReader getOutput(Process p) {\n    return new BufferedReader(new InputStreamReader(p.getInputStream()));\n}\nprivate static BufferedReader getError(Process p) {\n    return new BufferedReader(new InputStreamReader(p.getErrorStream()));\n}    \nprivate static PrintWriter getInput(Process p){\n    return new PrintWriter (new OutputStreamWriter(p.getOutputStream()));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"score":1,"creation_date":1587226768,"post_id":61291497,"comment_id":108429928,"body_markdown":"Thanks for the effort! The problem still persists and it mostly has to do with the Java part I think.","body":"Thanks for the effort! The problem still persists and it mostly has to do with the Java part I think."}],"tags":[],"owner":{"account_id":297041,"reputation":53,"user_id":602348,"accept_rate":25,"display_name":"Stathis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587223043,"creation_date":1587223043,"answer_id":61291497,"question_id":61070674,"body_markdown":"Try the following in your Python script:\r\n```\r\nimport sys\r\n\r\ndef fun(x):\r\n  print(x)\r\n  print(&#39;END&#39;)\r\n  sys.stdout.flush()\r\n\r\nwhile 1:\r\n    try:\r\n        line = sys.stdin.readline()\r\n    except KeyboardInterrupt:\r\n        break\r\n\r\n    if not line:\r\n        break\r\n\r\n    fun(line)\r\n```\r\n\r\nYour Java code should be more or less correct.","title":"Run Python script through Java with importing just once","body":"<p>Try the following in your Python script:</p>\n\n<pre><code>import sys\n\ndef fun(x):\n  print(x)\n  print('END')\n  sys.stdout.flush()\n\nwhile 1:\n    try:\n        line = sys.stdin.readline()\n    except KeyboardInterrupt:\n        break\n\n    if not line:\n        break\n\n    fun(line)\n</code></pre>\n\n<p>Your Java code should be more or less correct.</p>\n"}],"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2591,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":61153149,"answer_count":2,"score":4,"last_activity_date":1678949483,"creation_date":1586216859,"question_id":61070674,"body_markdown":"**Update April 2020**: I have accepted the answer below because it proposes a very good and simple solution to my problem but I never got my code to work! If anyone has already built something similar please contact me!\r\n\r\n---\r\n\r\nI have a simple script `my-script.py` that does some calculations very fast using a specific library written in `Python`:\r\n\r\n```python\r\nimport sys\r\nimport special-library\r\n\r\ndef fun(x):\r\n  do something\r\n\r\nfun(sys.argv[1])\r\n```\r\n\r\nIn my `Java` code, I use/call this script a lot in different part of the code, using the `ProcessBuilder` approach, which means that I simply run the command `python my-script.py argument`.\r\nThis means that every time I call this script, I have to execute the `import` commands which is the most **time-consuming** thing in this (the calculation part is actually faster).\r\n\r\nIs there a solution **so that I call the import just once**? I looked a little bit about `Jython` - would be possible to write a class or something that would be initiated and do the import once and then calling a function of it every time I want to do the calculations part (`fun`)? Has anyone done something similar or have any other solution to this?\r\n\r\n# First Attempt at Implementation\r\n\r\nI&#39;ve tried to write a &#39;pipe&#39; Java Class that will execute the python script once. Now the script reads continuously from the stdin and when it gets an input `argument`, it does the calculations and returns the result:\r\n\r\n```python\r\nimport sys\r\nimport special-library\r\n\r\ndef fun(x):\r\n  do something\r\n  print(&#39;END&#39;)\r\n\r\nfor arg in sys.stdin:\r\n  fun(arg)\r\n```\r\n\r\nAnd this works of course when I test it from the command line and supplying it with input arguments.\r\n\r\nThe Java Class is as follows:\r\n\r\n```java\r\npackage my.package;\r\nimport java.io.*;\r\n\r\npublic class PythonScriptExecuter {\r\n\r\n\tprivate static BufferedReader pythonToJavaReader;\r\n\tprivate static PrintWriter javaToPythonWriter;\r\n\r\n\tpublic PythonScriptExecuter() throws Exception {\r\n\t\tString MPBNScriptFile = &quot;fullPathToScriptFile&quot;;\r\n\t\tProcessBuilder pb = new ProcessBuilder(&quot;python&quot;, MPBNScriptFile);\r\n\t\tpb.redirectErrorStream(true);\r\n\r\n\t\t// Start script\r\n\t\tProcess p = pb.start();\r\n\r\n\t\tpythonToJavaReader = getOutputReader(p); // from python to java\r\n\t\tjavaToPythonWriter = getInputWriter(p); // from java to python\r\n\t}\r\n\r\n\t // Python =&gt; Java\r\n\tprivate static BufferedReader getOutputReader(Process p) {\r\n\t\treturn new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t}\r\n\r\n\t// Java =&gt; Python\r\n\tprivate static PrintWriter getInputWriter(Process p) {\r\n\t\treturn new PrintWriter(new OutputStreamWriter(p.getOutputStream()));\r\n\t}\r\n\r\n\tpublic static Arraylist&lt;String&gt; getResults(String argument) throws IOException {\r\n\t\t// send argument to python script\r\n\t\tjavaToPythonWriter.println(argument);\r\n\t\t//javaToPythonWriter.flush();\r\n\r\n\t\t// get results back one by one\r\n\t\tArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n\r\n\t\tint count = 0;\r\n\t\tString line;\r\n\t\twhile (!(line = pythonToJavaReader.readLine()).equals(&quot;END&quot;)) {\r\n            // process `line` string \r\n\t\t\tresults.add(line);\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\t}\r\n}\r\n```\r\n\r\nSo, what I do is that somewhere in the initialization part of my code I have this simple line to start the process:\r\n```java\r\nnew MPBNPythonScriptExecuter();\r\n```\r\n\r\nand later when I want to get some results back, I use:\r\n```\r\nString arg = &quot;something&quot;\r\nArraylist&lt;String&gt; res = PythonScriptExecuter.getResults(arg);\r\n```\r\nand the whole thing hangs on the reading-the-output-from-the-script line:\r\n```\r\nwhile (!(line = pythonToJavaReader.readLine()).equals(&quot;END&quot;))\r\n```\r\nAny ideas what is going wrong here?","title":"Run Python script through Java with importing just once","body":"<p><strong>Update April 2020</strong>: I have accepted the answer below because it proposes a very good and simple solution to my problem but I never got my code to work! If anyone has already built something similar please contact me!</p>\n\n<hr>\n\n<p>I have a simple script <code>my-script.py</code> that does some calculations very fast using a specific library written in <code>Python</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nimport special-library\n\ndef fun(x):\n  do something\n\nfun(sys.argv[1])\n</code></pre>\n\n<p>In my <code>Java</code> code, I use/call this script a lot in different part of the code, using the <code>ProcessBuilder</code> approach, which means that I simply run the command <code>python my-script.py argument</code>.\nThis means that every time I call this script, I have to execute the <code>import</code> commands which is the most <strong>time-consuming</strong> thing in this (the calculation part is actually faster).</p>\n\n<p>Is there a solution <strong>so that I call the import just once</strong>? I looked a little bit about <code>Jython</code> - would be possible to write a class or something that would be initiated and do the import once and then calling a function of it every time I want to do the calculations part (<code>fun</code>)? Has anyone done something similar or have any other solution to this?</p>\n\n<h1>First Attempt at Implementation</h1>\n\n<p>I've tried to write a 'pipe' Java Class that will execute the python script once. Now the script reads continuously from the stdin and when it gets an input <code>argument</code>, it does the calculations and returns the result:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nimport special-library\n\ndef fun(x):\n  do something\n  print('END')\n\nfor arg in sys.stdin:\n  fun(arg)\n</code></pre>\n\n<p>And this works of course when I test it from the command line and supplying it with input arguments.</p>\n\n<p>The Java Class is as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package my.package;\nimport java.io.*;\n\npublic class PythonScriptExecuter {\n\n    private static BufferedReader pythonToJavaReader;\n    private static PrintWriter javaToPythonWriter;\n\n    public PythonScriptExecuter() throws Exception {\n        String MPBNScriptFile = \"fullPathToScriptFile\";\n        ProcessBuilder pb = new ProcessBuilder(\"python\", MPBNScriptFile);\n        pb.redirectErrorStream(true);\n\n        // Start script\n        Process p = pb.start();\n\n        pythonToJavaReader = getOutputReader(p); // from python to java\n        javaToPythonWriter = getInputWriter(p); // from java to python\n    }\n\n     // Python =&gt; Java\n    private static BufferedReader getOutputReader(Process p) {\n        return new BufferedReader(new InputStreamReader(p.getInputStream()));\n    }\n\n    // Java =&gt; Python\n    private static PrintWriter getInputWriter(Process p) {\n        return new PrintWriter(new OutputStreamWriter(p.getOutputStream()));\n    }\n\n    public static Arraylist&lt;String&gt; getResults(String argument) throws IOException {\n        // send argument to python script\n        javaToPythonWriter.println(argument);\n        //javaToPythonWriter.flush();\n\n        // get results back one by one\n        ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\n\n        int count = 0;\n        String line;\n        while (!(line = pythonToJavaReader.readLine()).equals(\"END\")) {\n            // process `line` string \n            results.add(line);\n        }\n\n        return results;\n    }\n}\n</code></pre>\n\n<p>So, what I do is that somewhere in the initialization part of my code I have this simple line to start the process:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new MPBNPythonScriptExecuter();\n</code></pre>\n\n<p>and later when I want to get some results back, I use:</p>\n\n<pre><code>String arg = \"something\"\nArraylist&lt;String&gt; res = PythonScriptExecuter.getResults(arg);\n</code></pre>\n\n<p>and the whole thing hangs on the reading-the-output-from-the-script line:</p>\n\n<pre><code>while (!(line = pythonToJavaReader.readLine()).equals(\"END\"))\n</code></pre>\n\n<p>Any ideas what is going wrong here?</p>\n"},{"tags":["java","postgresql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1678904805,"post_id":75748528,"comment_id":133625423,"body_markdown":"Why do you want to select only one column, and you return `CountryConfig` ? what is the logic here?!","body":"Why do you want to select only one column, and you return <code>CountryConfig</code> ? what is the logic here?!"}],"owner":{"account_id":10418263,"reputation":199,"user_id":7681646,"display_name":"Karthikeyan Thangavel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678949334,"creation_date":1678903435,"question_id":75748528,"body_markdown":"I have a Postgres table country_config with columns as below,\r\n\r\n```    \r\npackage com.example.country.countryConfigDao;\r\n@Table(name = &quot;country_config&quot;)\r\npublic class CountryConfig {\r\n  @Id\r\n  @Column(name = &quot;code&quot;)\r\n  private String countryCode;\r\n  private String name;\r\n  @Column(name = &quot;phone_code&quot;)\r\n  private String phoneCode;\r\n  @Column(name = &quot;sub_region&quot;)\r\n  private String subRegion;\r\n  @Column(name = &quot;mail&quot;)\r\n  private String mail;\r\n  @Column(name = &quot;plan_id&quot;)\r\n  private String plan_id;\r\n\r\n}\r\n```\r\n\r\nBased on user input, I want to select columns from the country_config table. How to pass the column dynamically?\r\n\r\nSomething similar to this,\r\n\r\n      @Query(&quot;SELECT ?1 FROM country_config WHERE countryCode = ?2&quot;)\r\n      Object customSelect(String column, String countryCode);\r\n\r\nI am using Java spring boot.\r\n","title":"How to pass columns dynamically for select query in java spring boot?","body":"<p>I have a Postgres table country_config with columns as below,</p>\n<pre><code>package com.example.country.countryConfigDao;\n@Table(name = &quot;country_config&quot;)\npublic class CountryConfig {\n  @Id\n  @Column(name = &quot;code&quot;)\n  private String countryCode;\n  private String name;\n  @Column(name = &quot;phone_code&quot;)\n  private String phoneCode;\n  @Column(name = &quot;sub_region&quot;)\n  private String subRegion;\n  @Column(name = &quot;mail&quot;)\n  private String mail;\n  @Column(name = &quot;plan_id&quot;)\n  private String plan_id;\n\n}\n</code></pre>\n<p>Based on user input, I want to select columns from the country_config table. How to pass the column dynamically?</p>\n<p>Something similar to this,</p>\n<pre><code>  @Query(&quot;SELECT ?1 FROM country_config WHERE countryCode = ?2&quot;)\n  Object customSelect(String column, String countryCode);\n</code></pre>\n<p>I am using Java spring boot.</p>\n"},{"tags":["java","ffmpeg","java-8"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678905797,"post_id":75748062,"comment_id":133625685,"body_markdown":"Please provide the full exception stacktrace. The &quot;Could not initialize class org.bytedeco.ffmpeg.global.avutil&quot; suggests that something went wrong while loading the class, the details of that are likely deeper in the exception stacktrace.","body":"Please provide the full exception stacktrace. The &quot;Could not initialize class org.bytedeco.ffmpeg.global.avutil&quot; suggests that something went wrong while loading the class, the details of that are likely deeper in the exception stacktrace."},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1678912235,"post_id":75748062,"comment_id":133627220,"body_markdown":"Sure, here it is: https://pastebin.com/2vicmTnr","body":"Sure, here it is: <a href=\"https://pastebin.com/2vicmTnr\" rel=\"nofollow noreferrer\">pastebin.com/2vicmTnr</a>"}],"answers":[{"comments":[{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1678911931,"post_id":75748613,"comment_id":133627164,"body_markdown":"I get this\n\n&gt; Could not create an instance of type org.gradle.api.internal.artifacts.dependencies.DefaultExternalModuleDependency.\n   &gt; Name must not be null!\n\n**You can see the full log here:** https://pastebin.com/JP0pGHNV","body":"I get this  &gt; Could not create an instance of type org.gradle.api.internal.artifacts.dependencies.DefaultExtern&zwnj;&#8203;alModuleDependency.    &gt; Name must not be null!  <b>You can see the full log here:</b> <a href=\"https://pastebin.com/JP0pGHNV\" rel=\"nofollow noreferrer\">pastebin.com/JP0pGHNV</a>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678912208,"post_id":75748613,"comment_id":133627215,"body_markdown":"Sorry, typo. Fixed answer.","body":"Sorry, typo. Fixed answer."},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1678912624,"post_id":75748613,"comment_id":133627315,"body_markdown":"Unfortunatley, I have the same issue. I cleaned the project and refresh dependencies. Maybe it will help if I send you the whole stacktrace. **Here it is:** https://pastebin.com/2vicmTnr","body":"Unfortunatley, I have the same issue. I cleaned the project and refresh dependencies. Maybe it will help if I send you the whole stacktrace. <b>Here it is:</b> <a href=\"https://pastebin.com/2vicmTnr\" rel=\"nofollow noreferrer\">pastebin.com/2vicmTnr</a>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678914183,"post_id":75748613,"comment_id":133627716,"body_markdown":"Updated answer. Please try again.","body":"Updated answer. Please try again."},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1678917208,"post_id":75748613,"comment_id":133628367,"body_markdown":"Thank you, can you please tell me how did you figure it out? AmI right that you just searched in the mvnrepository.com? I always get confused a little bit with dependencies.","body":"Thank you, can you please tell me how did you figure it out? AmI right that you just searched in the mvnrepository.com? I always get confused a little bit with dependencies."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678919225,"post_id":75748613,"comment_id":133628728,"body_markdown":"A Google search of the missing full class name usually hits a dependency in mavenreposity. However, in this case that was not enough. I found the bytedeco installs page that had the right dependency","body":"A Google search of the missing full class name usually hits a dependency in mavenreposity. However, in this case that was not enough. I found the bytedeco installs page that had the right dependency"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678919987,"post_id":75748613,"comment_id":133628832,"body_markdown":"Please add  org.bytedeco.ffmpeg.global.avutil to the end of the question title.","body":"Please add  org.bytedeco.ffmpeg.global.avutil to the end of the question title."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678914155,"creation_date":1678904006,"answer_id":75748613,"question_id":75748062,"body_markdown":"You need a dependency to the jar containing `org.bytedeco.ffmpeg.global.avutil`\r\n\r\nReplace\r\n\r\n    implementation &#39;org.bytedeco:javacv:1.5.8&#39;\r\n\r\nWith\r\n\r\n    implementation &#39;org.bytedeco:javacv-platform:1.5.8&#39;\r\n\r\nSee [bytedeco downloads page][1]\r\n\r\n\r\n  [1]: https://github.com/bytedeco/javacv/#downloads","title":"Can&#39;t fix this ffmpeg, NoClassDefFoundError org.bytedeco.ffmpeg.global.avutil","body":"<p>You need a dependency to the jar containing <code>org.bytedeco.ffmpeg.global.avutil</code></p>\n<p>Replace</p>\n<pre><code>implementation 'org.bytedeco:javacv:1.5.8'\n</code></pre>\n<p>With</p>\n<pre><code>implementation 'org.bytedeco:javacv-platform:1.5.8'\n</code></pre>\n<p>See <a href=\"https://github.com/bytedeco/javacv/#downloads\" rel=\"nofollow noreferrer\">bytedeco downloads page</a></p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75748613,"answer_count":1,"score":1,"last_activity_date":1678948216,"creation_date":1678900618,"question_id":75748062,"body_markdown":"I am trying to get the video duration with this library ```import org.bytedeco.javacv.FFmpegFrameGrabber;```\r\n\r\nWhen I upload this mp4 video (https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4), I get this error message:\r\n```java.lang.NoClassDefFoundError: Could not initialize class org.bytedeco.ffmpeg.global.avutil```\r\n\r\nIt will break when trying to get the &#39;grabber&#39;:\r\n```java\r\nprivate void videoInfo(MultipartFile file) {\r\n    try (FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(file.getInputStream())) { // on this line it will break :(\r\n        grabber.start();\r\n        long durationMs = grabber.getLengthInTime();\r\n    } catch (FrameGrabber.Exception e) {\r\n        throw new RuntimeException(e);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nThis is my build.gradle:\r\n```groovy\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.9&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.nob234&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.9&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\t// for logging\r\n\timplementation &#39;org.slf4j:slf4j-api:1.7.30&#39;\r\n\timplementation &#39;org.slf4j:jcl-over-slf4j:1.7.30&#39;\r\n\timplementation &#39;org.slf4j:log4j-over-slf4j:1.7.30&#39;\r\n\timplementation &#39;ch.qos.logback:logback-classic:1.2.3&#39;\r\n\timplementation &#39;org.bytedeco:javacv:1.5.8&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nThis is my ffmpeg version:\r\n\r\n```none\r\nffmpeg version 6.0-full_build-www.gyan.dev Copyright (c) 2000-2023 the FFmpeg developers\r\nbuilt with gcc 12.2.0 (Rev10, Built by MSYS2 project)\r\nconfiguration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libaribb24 --enable-libdav1d --enable-libdavs2 --enable-libuavs3d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libaom --enable-libjxl --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libvpl --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint\r\nlibavutil      58.  2.100 / 58.  2.100\r\nlibavcodec     60.  3.100 / 60.  3.100\r\nlibavformat    60.  3.100 / 60.  3.100\r\nlibavdevice    60.  1.100 / 60.  1.100\r\nlibavfilter     9.  3.100 /  9.  3.100\r\nlibswscale      7.  1.100 /  7.  1.100\r\nlibswresample   4. 10.100 /  4. 10.100\r\nlibpostproc    57.  1.100 / 57.  1.100\r\n```\r\n\r\nPlease keep in mind that I use Java 8 in this project and I hope this issue is reproducible. If you want more info please leave a comment. \r\n","title":"Can&#39;t fix this ffmpeg, NoClassDefFoundError org.bytedeco.ffmpeg.global.avutil","body":"<p>I am trying to get the video duration with this library <code>import org.bytedeco.javacv.FFmpegFrameGrabber;</code></p>\n<p>When I upload this mp4 video (<a href=\"https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4\" rel=\"nofollow noreferrer\">https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4</a>), I get this error message:\n<code>java.lang.NoClassDefFoundError: Could not initialize class org.bytedeco.ffmpeg.global.avutil</code></p>\n<p>It will break when trying to get the 'grabber':</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void videoInfo(MultipartFile file) {\n    try (FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(file.getInputStream())) { // on this line it will break :(\n        grabber.start();\n        long durationMs = grabber.getLengthInTime();\n    } catch (FrameGrabber.Exception e) {\n        throw new RuntimeException(e);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>This is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.9'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.nob234'\nversion = '0.0.1-SNAPSHOT'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.9'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    runtimeOnly 'org.postgresql:postgresql'\n    // for logging\n    implementation 'org.slf4j:slf4j-api:1.7.30'\n    implementation 'org.slf4j:jcl-over-slf4j:1.7.30'\n    implementation 'org.slf4j:log4j-over-slf4j:1.7.30'\n    implementation 'ch.qos.logback:logback-classic:1.2.3'\n    implementation 'org.bytedeco:javacv:1.5.8'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>This is my ffmpeg version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ffmpeg version 6.0-full_build-www.gyan.dev Copyright (c) 2000-2023 the FFmpeg developers\nbuilt with gcc 12.2.0 (Rev10, Built by MSYS2 project)\nconfiguration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libaribb24 --enable-libdav1d --enable-libdavs2 --enable-libuavs3d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libaom --enable-libjxl --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libvpl --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint\nlibavutil      58.  2.100 / 58.  2.100\nlibavcodec     60.  3.100 / 60.  3.100\nlibavformat    60.  3.100 / 60.  3.100\nlibavdevice    60.  1.100 / 60.  1.100\nlibavfilter     9.  3.100 /  9.  3.100\nlibswscale      7.  1.100 /  7.  1.100\nlibswresample   4. 10.100 /  4. 10.100\nlibpostproc    57.  1.100 / 57.  1.100\n</code></pre>\n<p>Please keep in mind that I use Java 8 in this project and I hope this issue is reproducible. If you want more info please leave a comment.</p>\n"},{"tags":["java","dll","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1678957128,"post_id":75752572,"comment_id":133634334,"body_markdown":"Does this DLL come with a header file that describes the available functions?","body":"Does this DLL come with a header file that describes the available functions?"}],"answers":[{"tags":[],"owner":{"account_id":15420644,"reputation":53,"user_id":12965498,"display_name":"sabby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678947900,"creation_date":1678947900,"answer_id":75752741,"question_id":75752572,"body_markdown":"You should create your own dll as wrapper over the &quot;C:\\\\Windows\\\\System32\\\\PRx08.dll&quot; as reference to the project. \r\n\r\nThis video will explain how to reference a c# dll into the c++ and call it in java. [JNI - Java to C++ and C#][1]\r\n\r\n\r\n  [1]: https://youtu.be/tI0tFUjeffA\r\n\r\nYou can add reference to any external dll and create a function wrapper to it and call it from java. ","title":"How use function from dll in Java","body":"<p>You should create your own dll as wrapper over the &quot;C:\\Windows\\System32\\PRx08.dll&quot; as reference to the project.</p>\n<p>This video will explain how to reference a c# dll into the c++ and call it in java. <a href=\"https://youtu.be/tI0tFUjeffA\" rel=\"nofollow noreferrer\">JNI - Java to C++ and C#</a></p>\n<p>You can add reference to any external dll and create a function wrapper to it and call it from java.</p>\n"}],"owner":{"account_id":27627439,"reputation":11,"user_id":21087146,"display_name":"PapaG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678947900,"creation_date":1678945879,"question_id":75752572,"body_markdown":"I know how use native function in Java with my own dll, but what to do if it is not my dll?\r\n\r\n\r\n\r\nFor example:\r\n\r\n\r\n```\r\npackage com.example.javaprx08.model;\r\n\r\npublic class PRx08 {\r\n    static {\r\n        try {\r\n            System.load(&quot;C:\\\\Windows\\\\System32\\\\PRx08.dll&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public native short Enumerate();\r\n}\r\n```\r\n\r\nI try to do this:\r\n\r\n```\r\nPRx08 pRx08 = new PRx08();\r\n        pRx08.Enumerate();\r\n```\r\n\r\nbut get: Caused by: java.lang.UnsatisfiedLinkError: &#39;short com.example.javaprx08.model.PRx08.Enumerate()&#39;","title":"How use function from dll in Java","body":"<p>I know how use native function in Java with my own dll, but what to do if it is not my dll?</p>\n<p>For example:</p>\n<pre><code>package com.example.javaprx08.model;\n\npublic class PRx08 {\n    static {\n        try {\n            System.load(&quot;C:\\\\Windows\\\\System32\\\\PRx08.dll&quot;);\n        } catch (UnsatisfiedLinkError e) {\n            System.out.println(e);\n        }\n    }\n\n    public native short Enumerate();\n}\n</code></pre>\n<p>I try to do this:</p>\n<pre><code>PRx08 pRx08 = new PRx08();\n        pRx08.Enumerate();\n</code></pre>\n<p>but get: Caused by: java.lang.UnsatisfiedLinkError: 'short com.example.javaprx08.model.PRx08.Enumerate()'</p>\n"},{"tags":["java","filenotfoundexception"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1678928443,"post_id":75751279,"comment_id":133630064,"body_markdown":"_&quot;I don&#39;t have to specify the file location because it&#39;s in the same directory&quot;_ - Not necessarily true.","body":"<i>&quot;I don&#39;t have to specify the file location because it&#39;s in the same directory&quot;</i> - Not necessarily true."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678928855,"post_id":75751279,"comment_id":133630108,"body_markdown":"Use this line to see which directory you&#39;re actually running in: `System.out.println(new File(&quot;.&quot;).getCanonicalPath());`","body":"Use this line to see which directory you&#39;re actually running in: <code>System.out.println(new File(&quot;.&quot;).getCanonicalPath());</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678929025,"post_id":75751279,"comment_id":133630125,"body_markdown":"Assuming that the file is also included in the same location as your `*.class` files (or within the resulting Jar file), then it is an embedded resource and can&#39;t be referenced as a `File`, instead, you should be using `Class#getResource`.","body":"Assuming that the file is also included in the same location as your <code>*.class</code> files (or within the resulting Jar file), then it is an embedded resource and can&#39;t be referenced as a <code>File</code>, instead, you should be using <code>Class#getResource</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678928386,"creation_date":1678928386,"answer_id":75751319,"question_id":75751279,"body_markdown":"Use `getResourceAsStream` on your main class to get an `InputStream` for the file.\r\n\r\n```java\r\nBufferedReader bf = new BufferedReader(new InputStreamReader(\r\n                        Test.class.getResourceAsStream(&quot;aaa.txt&quot;)));\r\n```","title":"Java FileNotFound Exception error even if I have specified the right path","body":"<p>Use <code>getResourceAsStream</code> on your main class to get an <code>InputStream</code> for the file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader bf = new BufferedReader(new InputStreamReader(\n                        Test.class.getResourceAsStream(&quot;aaa.txt&quot;)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"score":1,"creation_date":1678947609,"post_id":75751528,"comment_id":133632286,"body_markdown":"After many tries and after combining your code with FileReader and BufferedReader it works perfectly, thanks a lot!","body":"After many tries and after combining your code with FileReader and BufferedReader it works perfectly, thanks a lot!"}],"tags":[],"owner":{"account_id":8120779,"reputation":1735,"user_id":6117625,"accept_rate":71,"display_name":"Dean Coakley"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678931564,"creation_date":1678931564,"answer_id":75751528,"question_id":75751279,"body_markdown":"You are almost certainly running from the root of your project. Not from the same directory as your text file.\r\n\r\nAssuming that `aaa.txt` is in a directory called `src` the following snippet should work:\r\n\r\n \r\n\r\n      String baseDirectory;\r\n      try {\r\n        baseDirectory = new File(&quot;./src&quot;).getCanonicalPath();\r\n      } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n      \r\n    \r\n      File myFile = new File(baseDirectory, &quot;aaa.txt&quot;);","title":"Java FileNotFound Exception error even if I have specified the right path","body":"<p>You are almost certainly running from the root of your project. Not from the same directory as your text file.</p>\n<p>Assuming that <code>aaa.txt</code> is in a directory called <code>src</code> the following snippet should work:</p>\n<pre><code>  String baseDirectory;\n  try {\n    baseDirectory = new File(&quot;./src&quot;).getCanonicalPath();\n  } catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n  \n\n  File myFile = new File(baseDirectory, &quot;aaa.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75751528,"answer_count":2,"score":0,"last_activity_date":1678947711,"creation_date":1678927790,"question_id":75751279,"body_markdown":"The file can&#39;t be found and I don&#39;t have to specify the file location because it&#39;s in the same directory as the class Test.\r\n\r\nThe code : \r\n\r\n    \r\n\r\n    File myFile = new File(&quot;aaa.txt&quot;);\r\n    \r\n    boolean isExisting = myFile.exists();\r\n    System.out.println(isExisting);\r\n    \r\n    try {\r\n      FileReader f = new FileReader(myFile);\r\n      BufferedReader bf = new BufferedReader(f);\r\n    \r\n      String line = bf.readLine();\r\n    \r\n      while (line != null) {\r\n        System.out.println(line);\r\n        line = bf.readLine();\r\n      }\r\n    \r\n      bf.close();\r\n    \r\n    } catch (FileNotFoundException e) {\r\n      System.out.println(&quot;Can&#39;t find file&quot;);\r\n    \r\n      // e.printStackTrace();\r\n    \r\n    } catch (IOException e) {\r\n      System.out.println(&quot;Error&quot;);\r\n    }\r\n\r\nThe error (if not catched) : \r\n\r\n \r\n    java.io.FileNotFoundException: aaa.txt (The specified file cannot be found)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:75)\r\n\tat Testing/Packageeee.Test.main(Test.java:29)\r\n\r\nThey&#39;re all in the same directory\r\n\r\n[![picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2vFDp.png\r\n","title":"Java FileNotFound Exception error even if I have specified the right path","body":"<p>The file can't be found and I don't have to specify the file location because it's in the same directory as the class Test.</p>\n<p>The code :</p>\n<pre><code>File myFile = new File(&quot;aaa.txt&quot;);\n\nboolean isExisting = myFile.exists();\nSystem.out.println(isExisting);\n\ntry {\n  FileReader f = new FileReader(myFile);\n  BufferedReader bf = new BufferedReader(f);\n\n  String line = bf.readLine();\n\n  while (line != null) {\n    System.out.println(line);\n    line = bf.readLine();\n  }\n\n  bf.close();\n\n} catch (FileNotFoundException e) {\n  System.out.println(&quot;Can't find file&quot;);\n\n  // e.printStackTrace();\n\n} catch (IOException e) {\n  System.out.println(&quot;Error&quot;);\n}\n</code></pre>\n<p>The error (if not catched) :</p>\n<pre><code>java.io.FileNotFoundException: aaa.txt (The specified file cannot be found)\nat java.base/java.io.FileInputStream.open0(Native Method)\nat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\nat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\nat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:75)\nat Testing/Packageeee.Test.main(Test.java:29)\n</code></pre>\n<p>They're all in the same directory</p>\n<p><a href=\"https://i.stack.imgur.com/2vFDp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2vFDp.png\" alt=\"picture\" /></a></p>\n"},{"tags":["java","maven","servlets","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612913103,"post_id":63496047,"comment_id":116914072,"body_markdown":"On a related note: [*Configure Maven pom to access Vaadin 14 alpha/beta pre-release*](https://stackoverflow.com/q/57910701/642706)","body":"On a related note: <a href=\"https://stackoverflow.com/q/57910701/642706\"><i>Configure Maven pom to access Vaadin 14 alpha/beta pre-release</i></a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612998887,"post_id":63496047,"comment_id":116944602,"body_markdown":"For same question but on Vaadin 18/19, see [*Vaadin Flow 18/19 without Spring Boot?*](https://stackoverflow.com/q/66129888/642706)","body":"For same question but on Vaadin 18/19, see <a href=\"https://stackoverflow.com/q/66129888/642706\"><i>Vaadin Flow 18/19 without Spring Boot?</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":2718790,"reputation":1410,"user_id":2345535,"display_name":"Alejandro Duarte"},"score":0,"creation_date":1597947250,"post_id":63496329,"comment_id":112306316,"body_markdown":"Btw, the Plain Servlet starter is still maintained here in case it helps: https://github.com/vaadin/skeleton-starter-flow/tree/v14","body":"Btw, the Plain Servlet starter is still maintained here in case it helps: <a href=\"https://github.com/vaadin/skeleton-starter-flow/tree/v14\" rel=\"nofollow noreferrer\">github.com/vaadin/skeleton-starter-flow/tree/v14</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1598146691,"post_id":63496329,"comment_id":112362312,"body_markdown":"Can you explain the differences between the two avenues you linked here in your Answer and in your Comment? And can I point out this is a mess now, making it difficult for someone to start a new Vaadin project without Spring/CDI. Or is that a new company policy, to phase out support for plain Java Servlet and now require Spring? (I certainly hope not.)","body":"Can you explain the differences between the two avenues you linked here in your Answer and in your Comment? And can I point out this is a mess now, making it difficult for someone to start a new Vaadin project without Spring/CDI. Or is that a new company policy, to phase out support for plain Java Servlet and now require Spring? (I certainly hope not.)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612919186,"post_id":63496329,"comment_id":116915403,"body_markdown":"Unfortunately, that archetype does not work for Vaadin Flow version 18.0.5. Using Jetty 9 or 10, I get error: Failed startup of context o.e.j.m.p.MavenWebAppContext@a7c489a{/  and the web browser reports an HTTP 503 error.","body":"Unfortunately, that archetype does not work for Vaadin Flow version 18.0.5. Using Jetty 9 or 10, I get error: Failed startup of context o.e.j.m.p.MavenWebAppContext@a7c489a{/  and the web browser reports an HTTP 503 error."},{"owner":{"account_id":2718790,"reputation":1410,"user_id":2345535,"display_name":"Alejandro Duarte"},"score":0,"creation_date":1613039242,"post_id":63496329,"comment_id":116954943,"body_markdown":"The archetype is not maintained anymore. Too bad, because I was a big fan of it and I know of many others that like having an official archetype. Maybe this is something we can create and maintain with the help of the community? Would you be interested in helping out with this, @BasilBourque? If so, we can create an open-source project to manage this. Let me know.\n\nThere&#39;s a Servlet-only &quot;starter app&quot; at https://vaadin.com/start. It doesn&#39;t seem to be updated to the latest versions of Vaadin though. AFAIK, Vaadin has no plans to adopt a policy to require Spring Boot.","body":"The archetype is not maintained anymore. Too bad, because I was a big fan of it and I know of many others that like having an official archetype. Maybe this is something we can create and maintain with the help of the community? Would you be interested in helping out with this, @BasilBourque? If so, we can create an open-source project to manage this. Let me know.  There&#39;s a Servlet-only &quot;starter app&quot; at <a href=\"https://vaadin.com/start\" rel=\"nofollow noreferrer\">vaadin.com/start</a>. It doesn&#39;t seem to be updated to the latest versions of Vaadin though. AFAIK, Vaadin has no plans to adopt a policy to require Spring Boot."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1613058421,"post_id":63496329,"comment_id":116964095,"body_markdown":"(A) The /start page has plain Servlet downloads for Vaadin 8 &amp; 14, but not for Vaadin 18/19. (B) If no plain-Servlet archetype or project template for 18/19 is provided, then in effect the company *does* have a policy of requiring Spring Boot. (C) I posted a [fresh Question for Vaadin 18/19](https://stackoverflow.com/q/66129888/642706). Marcus posted an Answer there, pointing to [*Skeleton Starter for Vaadin*](https://github.com/vaadin/skeleton-starter-flow/tree/v18). Downloading that project does indeed work, preconfigured currently for Vaadin 18.0.5, and works for 19.0.0alpha5 as well.","body":"(A) The /start page has plain Servlet downloads for Vaadin 8 &amp; 14, but not for Vaadin 18/19. (B) If no plain-Servlet archetype or project template for 18/19 is provided, then in effect the company <i>does</i> have a policy of requiring Spring Boot. (C) I posted a <a href=\"https://stackoverflow.com/q/66129888/642706\">fresh Question for Vaadin 18/19</a>. Marcus posted an Answer there, pointing to <a href=\"https://github.com/vaadin/skeleton-starter-flow/tree/v18\" rel=\"nofollow noreferrer\"><i>Skeleton Starter for Vaadin</i></a>. Downloading that project does indeed work, preconfigured currently for Vaadin 18.0.5, and works for 19.0.0alpha5 as well."},{"owner":{"account_id":2718790,"reputation":1410,"user_id":2345535,"display_name":"Alejandro Duarte"},"score":0,"creation_date":1613153032,"post_id":63496329,"comment_id":116997546,"body_markdown":"The company does not have any policy to make Spring Boot required. Simply put, there&#39;s no starter for the latest short term support version with plain Servlet but there is one for the latest Long Support Version. It is possible to use Vaadin without Spring Boot and there are not current plans to change that.","body":"The company does not have any policy to make Spring Boot required. Simply put, there&#39;s no starter for the latest short term support version with plain Servlet but there is one for the latest Long Support Version. It is possible to use Vaadin without Spring Boot and there are not current plans to change that."}],"tags":[],"owner":{"account_id":2718790,"reputation":1410,"user_id":2345535,"display_name":"Alejandro Duarte"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1597927795,"creation_date":1597879964,"answer_id":63496329,"question_id":63496047,"body_markdown":"At least the Maven archetype [`vaadin-archetype-application`](https://mvnrepository.com/artifact/com.vaadin/vaadin-archetype-application) seems to be working for versions up to v16:\r\n\r\n```bash\r\nmvn archetype:generate -DarchetypeGroupId=com.vaadin -DarchetypeArtifactId=vaadin-archetype-application -DarchetypeVersion=LATEST\r\n```\r\n\r\nI should update that tutorial... thanks for the hint on this.","title":"Create a new Vaadin Flow 16/17 project using plain Java Servlets without Spring/CDI","body":"<p>At least the Maven archetype <a href=\"https://mvnrepository.com/artifact/com.vaadin/vaadin-archetype-application\" rel=\"nofollow noreferrer\"><code>vaadin-archetype-application</code></a> seems to be working for versions up to v16:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn archetype:generate -DarchetypeGroupId=com.vaadin -DarchetypeArtifactId=vaadin-archetype-application -DarchetypeVersion=LATEST\n</code></pre>\n<p>I should update that tutorial... thanks for the hint on this.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678947311,"creation_date":1678947311,"answer_id":75752688,"question_id":63496047,"body_markdown":"# *Hello World Starters* page\r\n\r\nSee the [*Hello World Starters*][1] page on the Vaadin.com site. There you will find several starter projects. Some involve Spring, and some do not. \r\n\r\nThose without Spring include:\r\n\r\n - Vaadin  Plain Java (just Servlet, no Spring, no CDI, built by Maven)\r\n - Vaadin  CDI\r\n - Vaadin  Quarkus\r\n - Vaadin  Gradle\r\n\r\nYou will find those across multiple versions of Vaadin. \r\n\r\nSome versions of Vaadin also support:\r\n\r\n - Vaadin  OSGi\r\n - Vaadin  Karaf\r\n\r\n[![screenshot of Hello World Starters offering the downloads mentioned above][2]][2]\r\n\r\n\r\n  [1]: https://vaadin.com/hello-world-starters\r\n  [2]: https://i.stack.imgur.com/kuKrP.jpg","title":"Create a new Vaadin Flow 16/17 project using plain Java Servlets without Spring/CDI","body":"<h1><em>Hello World Starters</em> page</h1>\n<p>See the <a href=\"https://vaadin.com/hello-world-starters\" rel=\"nofollow noreferrer\"><em>Hello World Starters</em></a> page on the Vaadin.com site. There you will find several starter projects. Some involve Spring, and some do not.</p>\n<p>Those without Spring include:</p>\n<ul>\n<li>Vaadin  Plain Java (just Servlet, no Spring, no CDI, built by Maven)</li>\n<li>Vaadin  CDI</li>\n<li>Vaadin  Quarkus</li>\n<li>Vaadin  Gradle</li>\n</ul>\n<p>You will find those across multiple versions of Vaadin.</p>\n<p>Some versions of Vaadin also support:</p>\n<ul>\n<li>Vaadin  OSGi</li>\n<li>Vaadin  Karaf</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/kuKrP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kuKrP.jpg\" alt=\"screenshot of Hello World Starters offering the downloads mentioned above\" /></a></p>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63496329,"answer_count":2,"score":0,"last_activity_date":1678947311,"creation_date":1597877871,"question_id":63496047,"body_markdown":"The [starter page][1] for [Vaadin Flow][2] has changed. That page now offers new projects configured only for [Spring Boot][3]. The previous version of this page offered an option for &quot;Plain Java Servlet&quot; as well as Spring/[CDI][4]. \r\n\r\nThe Vaadin documentation suggests using a Maven archetype manually. But the Maven repositories for `com.vaadin` appear to be aimed at Vaadin 8 and earlier, with none for Vaadin 10 and later.\r\n\r\n\r\nThe [Vaadin page on learning Maven][5] shows an example using `viritin-vaadin-flow-archetype` as an archetype. But [Viritin][6] is a third-party project, and would add libraries I do not presently need.\r\n\r\n Is there an avenue to start a new Vaadin 16 project using only plain Java Servlets to be run on Jetty or Tomcat without Spring/CDI? (or Vaadin 17 pre-release)\r\n\r\nOr has the Vaadin Ltd company decided to support only Spring now? (That would be most unfortunate.)\r\n\r\n\r\n  [1]: https://vaadin.com/start\r\n  [2]: https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow\r\n  [3]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [4]: http://cdi-spec.org\r\n  [5]: https://vaadin.com/learn/tutorials/learning-maven-concepts#_what_is_an_archetype\r\n  [6]: https://vaadin.com/directory/component/viritin","title":"Create a new Vaadin Flow 16/17 project using plain Java Servlets without Spring/CDI","body":"<p>The <a href=\"https://vaadin.com/start\" rel=\"nofollow noreferrer\">starter page</a> for <a href=\"https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow\" rel=\"nofollow noreferrer\">Vaadin Flow</a> has changed. That page now offers new projects configured only for <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a>. The previous version of this page offered an option for &quot;Plain Java Servlet&quot; as well as Spring/<a href=\"http://cdi-spec.org\" rel=\"nofollow noreferrer\">CDI</a>.</p>\n<p>The Vaadin documentation suggests using a Maven archetype manually. But the Maven repositories for <code>com.vaadin</code> appear to be aimed at Vaadin 8 and earlier, with none for Vaadin 10 and later.</p>\n<p>The <a href=\"https://vaadin.com/learn/tutorials/learning-maven-concepts#_what_is_an_archetype\" rel=\"nofollow noreferrer\">Vaadin page on learning Maven</a> shows an example using <code>viritin-vaadin-flow-archetype</code> as an archetype. But <a href=\"https://vaadin.com/directory/component/viritin\" rel=\"nofollow noreferrer\">Viritin</a> is a third-party project, and would add libraries I do not presently need.</p>\n<p> Is there an avenue to start a new Vaadin 16 project using only plain Java Servlets to be run on Jetty or Tomcat without Spring/CDI? (or Vaadin 17 pre-release)</p>\n<p>Or has the Vaadin Ltd company decided to support only Spring now? (That would be most unfortunate.)</p>\n"},{"tags":["java","arrays","oop","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":2,"creation_date":1678932812,"post_id":75751348,"comment_id":133630554,"body_markdown":"I think you&#39;re going to have to abstract out classes or interfaces to define the common operations that you can apply to your different types.","body":"I think you&#39;re going to have to abstract out classes or interfaces to define the common operations that you can apply to your different types."},{"owner":{"account_id":20304974,"reputation":99,"user_id":14893498,"display_name":"Daniel Janz"},"score":0,"creation_date":1678934670,"post_id":75751348,"comment_id":133630776,"body_markdown":"Why do you not just use a List&lt;Object&gt; instead of the Classes? Something like:\n``List&lt;Object&gt; animals = items.stream().map(animal -&gt; Animal.builder().name(animal.getName()).build().toList();`` Or is this to generic for your purpose?","body":"Why do you not just use a List&lt;Object&gt; instead of the Classes? Something like: <code>List&lt;Object&gt; animals = items.stream().map(animal -&gt; Animal.builder().name(animal.getName()).build().toList();</code> Or is this to generic for your purpose?"}],"answers":[{"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":3,"creation_date":1678933224,"post_id":75751624,"comment_id":133630606,"body_markdown":"However, if you add Bird types, you still need to add conditional branches. \nThis did not solve the problem","body":"However, if you add Bird types, you still need to add conditional branches.  This did not solve the problem"}],"tags":[],"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678933026,"creation_date":1678933026,"answer_id":75751624,"question_id":75751348,"body_markdown":"`List` type is only contains 1 class such us `List&lt;String&gt;` means the list of Strings. Same as your example, `List&lt;T&gt;` means the list of Ts. \r\n\r\nI can suggest to create a super class `Animal` then add inheritance to `Dog` and `Cat`.\r\n\r\n```\r\npublic class Animal {\r\n    Integer legCount;\r\n    Integer age;\r\n}\r\n\r\npublic class Dog extends Animal {\r\n\r\n    String name;\r\n\r\n    public Dog(String name, int legCount, int age) {\r\n        super(legCount, age);\r\n        this.name = name;\r\n    }\r\n}\r\n\r\npublic class Cat extends Animal {\r\n    String name;\r\n\r\n    public Cat(String name, int legCount, int age) {\r\n        super(legCount, age);\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\nadd dog and cat variable into list of animals\r\n```\r\nDog dog1 = new Dog(&quot;Joni&quot;, 4, 2);\r\nCat cat1 = new Cat(&quot;Ron&quot;, 4, 3);\r\n\r\nList&lt;Animal&gt; animals = new ArrayList();\r\nanimals.add(dog1);\r\nanimals.add(cat1);\r\n```\r\n\r\nthen in the foo function become\r\n```\r\nList&lt;Puppy&gt; puppies = new ArrayList();\r\nList&lt;Kitten&gt; kittens = new ArrayList();\r\n\r\npublic void foo(List&lt;Animal&gt; animals) {\r\n    for(animal in animals) {\r\n        if(animals insntanceOf Dog) {\r\n            Puppy puppy = ...\r\n            puppies.add(puppy);\r\n        }\r\n\r\n        if(animals insntanceOf Kitten) {\r\n            Kitten kitten = ...\r\n            kittens.add(kitten);\r\n        }\r\n    }\r\n}\r\n```\r\nDo one loop for all animals","title":"How do I make my method return different types of list base on the input type of list?","body":"<p><code>List</code> type is only contains 1 class such us <code>List&lt;String&gt;</code> means the list of Strings. Same as your example, <code>List&lt;T&gt;</code> means the list of Ts.</p>\n<p>I can suggest to create a super class <code>Animal</code> then add inheritance to <code>Dog</code> and <code>Cat</code>.</p>\n<pre><code>public class Animal {\n    Integer legCount;\n    Integer age;\n}\n\npublic class Dog extends Animal {\n\n    String name;\n\n    public Dog(String name, int legCount, int age) {\n        super(legCount, age);\n        this.name = name;\n    }\n}\n\npublic class Cat extends Animal {\n    String name;\n\n    public Cat(String name, int legCount, int age) {\n        super(legCount, age);\n        this.name = name;\n    }\n}\n</code></pre>\n<p>add dog and cat variable into list of animals</p>\n<pre><code>Dog dog1 = new Dog(&quot;Joni&quot;, 4, 2);\nCat cat1 = new Cat(&quot;Ron&quot;, 4, 3);\n\nList&lt;Animal&gt; animals = new ArrayList();\nanimals.add(dog1);\nanimals.add(cat1);\n</code></pre>\n<p>then in the foo function become</p>\n<pre><code>List&lt;Puppy&gt; puppies = new ArrayList();\nList&lt;Kitten&gt; kittens = new ArrayList();\n\npublic void foo(List&lt;Animal&gt; animals) {\n    for(animal in animals) {\n        if(animals insntanceOf Dog) {\n            Puppy puppy = ...\n            puppies.add(puppy);\n        }\n\n        if(animals insntanceOf Kitten) {\n            Kitten kitten = ...\n            kittens.add(kitten);\n        }\n    }\n}\n</code></pre>\n<p>Do one loop for all animals</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678946893,"creation_date":1678934514,"answer_id":75751713,"question_id":75751348,"body_markdown":"First, we need to ensure that `Cat`, `Dog`, `Kitten` and `Puppy` have a common parent class `Animal`\r\n\r\n    class Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Dog extends Animal {\r\n        private String name;\r\n        public Dog(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Cat extends Animal {\r\n        private String name;\r\n        public Cat(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Kitten extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Kitten{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    class Puppy extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Puppy{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nThen use generic methods like this\r\n\r\n    public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\r\n\r\n        return source.stream().map(v -&gt; {\r\n            T t = null;\r\n            try {\r\n                t = target.newInstance();\r\n                t.setName(v.getName());\r\n            } catch (InstantiationException | IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return t;\r\n        }).collect(Collectors.toList());\r\n    }\r\n\r\nSpecify two parameters, the source list `List&lt;R&gt; source`, and the target type `Class&lt;T&gt; target`.\r\n\r\nWe need to constrain the type `T` and type `R`, because inside the method, we need to call the corresponding `setName`, `getName` method, if it is any type, then we cannot be sure that they have `setName`, `getName` method, how to ensure this? \r\nVery simple, if `T` and `R` are required to be subtypes of `Animal`, they can be guaranteed to have `setName` and `getName` methods.So we add constraints to the generic method `&lt;R extends Animal, T extends Animal&gt;`.\r\n\r\nIn the method implementation, we convert each element (R) in the source list to the target type (T).\r\n\r\nIf you add a new type, you only need to add the corresponding type description class.\r\n\r\nThe following is the complete test code, you need to understand and deal with the details of the code yourself:\r\n\r\n    public class StackOverflow {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(){{\r\n                add(new Dog(&quot;dog 1&quot;));\r\n                add(new Dog(&quot;dog 2&quot;));\r\n                add(new Dog(&quot;dog 3&quot;));\r\n                add(new Dog(&quot;dog 4&quot;));\r\n            }};\r\n            List&lt;Cat&gt; cats = new ArrayList&lt;Cat&gt;(){{\r\n                add(new Cat(&quot;cat 1&quot;));\r\n                add(new Cat(&quot;cat 2&quot;));\r\n                add(new Cat(&quot;cat 3&quot;));\r\n            }};\r\n            DogList dogList = new DogList();\r\n            dogList.setDogs(dogs);\r\n            CatList catList = new CatList();\r\n            catList.setCats(cats);\r\n    \r\n            List&lt;Puppy&gt; puppies = foo(dogList.getDogs(), Puppy.class);\r\n            System.out.println(puppies);\r\n    \r\n            List&lt;Kitten&gt; kittens = foo(catList.getCats(), Kitten.class);\r\n            System.out.println(kittens);\r\n        }\r\n    \r\n        public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\r\n    \r\n            return source.stream().map(v -&gt; {\r\n                T t = null;\r\n                try {\r\n                    t = target.newInstance();\r\n                    t.setName(v.getName());\r\n                } catch (InstantiationException | IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return t;\r\n            }).collect(Collectors.toList());\r\n        }\r\n    }\r\n    \r\n    class Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Dog extends Animal {\r\n        private String name;\r\n        public Dog(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Cat extends Animal {\r\n        private String name;\r\n        public Cat(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Kitten extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Kitten{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    class Puppy extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Puppy{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    \r\n    class DogList {\r\n        private List&lt;Dog&gt; dogs;\r\n    \r\n        public List&lt;Dog&gt; getDogs() {\r\n            return dogs;\r\n        }\r\n        public void setDogs(List&lt;Dog&gt; dogs) {\r\n            this.dogs = dogs;\r\n        }\r\n    }\r\n    \r\n    class CatList {\r\n        public List&lt;Cat&gt; getCats() {\r\n            return cats;\r\n        }\r\n        public void setCats(List&lt;Cat&gt; cats) {\r\n            this.cats = cats;\r\n        }\r\n        private List&lt;Cat&gt; cats;\r\n    }","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>First, we need to ensure that <code>Cat</code>, <code>Dog</code>, <code>Kitten</code> and <code>Puppy</code> have a common parent class <code>Animal</code></p>\n<pre><code>class Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Dog extends Animal {\n    private String name;\n    public Dog(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Cat extends Animal {\n    private String name;\n    public Cat(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Kitten extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Kitten{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\nclass Puppy extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Puppy{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Then use generic methods like this</p>\n<pre><code>public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\n\n    return source.stream().map(v -&gt; {\n        T t = null;\n        try {\n            t = target.newInstance();\n            t.setName(v.getName());\n        } catch (InstantiationException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n        return t;\n    }).collect(Collectors.toList());\n}\n</code></pre>\n<p>Specify two parameters, the source list <code>List&lt;R&gt; source</code>, and the target type <code>Class&lt;T&gt; target</code>.</p>\n<p>We need to constrain the type <code>T</code> and type <code>R</code>, because inside the method, we need to call the corresponding <code>setName</code>, <code>getName</code> method, if it is any type, then we cannot be sure that they have <code>setName</code>, <code>getName</code> method, how to ensure this?\nVery simple, if <code>T</code> and <code>R</code> are required to be subtypes of <code>Animal</code>, they can be guaranteed to have <code>setName</code> and <code>getName</code> methods.So we add constraints to the generic method <code>&lt;R extends Animal, T extends Animal&gt;</code>.</p>\n<p>In the method implementation, we convert each element (R) in the source list to the target type (T).</p>\n<p>If you add a new type, you only need to add the corresponding type description class.</p>\n<p>The following is the complete test code, you need to understand and deal with the details of the code yourself:</p>\n<pre><code>public class StackOverflow {\n\n    public static void main(String[] args) {\n        List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(){{\n            add(new Dog(&quot;dog 1&quot;));\n            add(new Dog(&quot;dog 2&quot;));\n            add(new Dog(&quot;dog 3&quot;));\n            add(new Dog(&quot;dog 4&quot;));\n        }};\n        List&lt;Cat&gt; cats = new ArrayList&lt;Cat&gt;(){{\n            add(new Cat(&quot;cat 1&quot;));\n            add(new Cat(&quot;cat 2&quot;));\n            add(new Cat(&quot;cat 3&quot;));\n        }};\n        DogList dogList = new DogList();\n        dogList.setDogs(dogs);\n        CatList catList = new CatList();\n        catList.setCats(cats);\n\n        List&lt;Puppy&gt; puppies = foo(dogList.getDogs(), Puppy.class);\n        System.out.println(puppies);\n\n        List&lt;Kitten&gt; kittens = foo(catList.getCats(), Kitten.class);\n        System.out.println(kittens);\n    }\n\n    public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\n\n        return source.stream().map(v -&gt; {\n            T t = null;\n            try {\n                t = target.newInstance();\n                t.setName(v.getName());\n            } catch (InstantiationException | IllegalAccessException e) {\n                e.printStackTrace();\n            }\n            return t;\n        }).collect(Collectors.toList());\n    }\n}\n\nclass Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Dog extends Animal {\n    private String name;\n    public Dog(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Cat extends Animal {\n    private String name;\n    public Cat(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Kitten extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Kitten{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\nclass Puppy extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Puppy{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n\nclass DogList {\n    private List&lt;Dog&gt; dogs;\n\n    public List&lt;Dog&gt; getDogs() {\n        return dogs;\n    }\n    public void setDogs(List&lt;Dog&gt; dogs) {\n        this.dogs = dogs;\n    }\n}\n\nclass CatList {\n    public List&lt;Cat&gt; getCats() {\n        return cats;\n    }\n    public void setCats(List&lt;Cat&gt; cats) {\n        this.cats = cats;\n    }\n    private List&lt;Cat&gt; cats;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678938926,"creation_date":1678935690,"answer_id":75751787,"question_id":75751348,"body_markdown":"This is one way of doing something similar -- converting a list of a particular animal to a list of its young, in a type safe way.\r\n\r\nIt requires that you designate the type of an animals young as a type parameter when you declare the class:\r\n\r\n```\r\n\r\nimport java.util.List;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Dog&gt; dogs = List.of(new Dog(), new Dog());\r\n        List&lt;Cat&gt; cats = List.of(new Cat(), new Cat());\r\n        List&lt;Puppy&gt; puppies = createYoungList(dogs);\r\n        List&lt;Kitten&gt; kittens = createYoungList(cats);\r\n        //List&lt;Puppy&gt; kittens = createYoung(cats); compilation error\r\n    }\r\n\r\n    static &lt;P extends Animal&lt;Y&gt;,Y&gt; List&lt;Y&gt; createYoungList(List&lt;P&gt; parents) {\r\n        return parents.stream().map(Animal::createYoung).toList();\r\n    }\r\n\r\n}\r\n\r\ninterface Animal&lt;Y&gt; {\r\n    Y createYoung();\r\n}\r\n\r\nclass Puppy {}\r\nclass Kitten {}\r\n\r\nclass Dog implements Animal&lt;Puppy&gt; {\r\n\r\n    @Override\r\n    public Puppy createYoung() {\r\n        return new Puppy();\r\n    }\r\n}\r\n\r\nclass Cat implements Animal&lt;Kitten&gt; {\r\n\r\n    @Override\r\n    public Kitten createYoung() {\r\n        return new Kitten();\r\n    }\r\n}\r\n```\r\n\r\nAdding a new implementation of `Animal` doesn&#39;t require any changes to `createYoungList`.","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>This is one way of doing something similar -- converting a list of a particular animal to a list of its young, in a type safe way.</p>\n<p>It requires that you designate the type of an animals young as a type parameter when you declare the class:</p>\n<pre><code>\nimport java.util.List;\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Dog&gt; dogs = List.of(new Dog(), new Dog());\n        List&lt;Cat&gt; cats = List.of(new Cat(), new Cat());\n        List&lt;Puppy&gt; puppies = createYoungList(dogs);\n        List&lt;Kitten&gt; kittens = createYoungList(cats);\n        //List&lt;Puppy&gt; kittens = createYoung(cats); compilation error\n    }\n\n    static &lt;P extends Animal&lt;Y&gt;,Y&gt; List&lt;Y&gt; createYoungList(List&lt;P&gt; parents) {\n        return parents.stream().map(Animal::createYoung).toList();\n    }\n\n}\n\ninterface Animal&lt;Y&gt; {\n    Y createYoung();\n}\n\nclass Puppy {}\nclass Kitten {}\n\nclass Dog implements Animal&lt;Puppy&gt; {\n\n    @Override\n    public Puppy createYoung() {\n        return new Puppy();\n    }\n}\n\nclass Cat implements Animal&lt;Kitten&gt; {\n\n    @Override\n    public Kitten createYoung() {\n        return new Kitten();\n    }\n}\n</code></pre>\n<p>Adding a new implementation of <code>Animal</code> doesn't require any changes to <code>createYoungList</code>.</p>\n"},{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678937261,"creation_date":1678937261,"answer_id":75751913,"question_id":75751348,"body_markdown":"I tried to replicate your question. Here is one possible solution:\r\n\r\nCreate a `Animal` superclass and declare a map between classes:\r\n```\r\nprivate Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\r\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\r\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class)\r\n);\r\n```\r\n\r\nLooping through map entries to handle the mapping of classes in `foo`:\r\n```\r\nfor(Entry&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; entry : classMap.entrySet()){\r\n    if (items.get(0).getClass() == entry.getKey()) {\r\n        List list = items.stream().map(item -&gt; {\r\n            Animal animal = new Animal();\r\n            try {\r\n                // instantiate animal young\r\n                animal = entry.getValue().getConstructor().newInstance();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            animal.setName(item.getName());\r\n            // mapping values ...\r\n            return animal;\r\n        }).collect(Collectors.toList());\r\n\r\n        return list;\r\n    }\r\n}\r\n```\r\n\r\nWhenever you need to add more animal classes, just add them to the classmap:\r\n```\r\nprivate Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\r\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\r\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class),\r\n  new AbstractMap.SimpleEntry(Cow.class, Calf.class)\r\n);\r\n```\r\n\r\nHope it is of some help.","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I tried to replicate your question. Here is one possible solution:</p>\n<p>Create a <code>Animal</code> superclass and declare a map between classes:</p>\n<pre><code>private Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class)\n);\n</code></pre>\n<p>Looping through map entries to handle the mapping of classes in <code>foo</code>:</p>\n<pre><code>for(Entry&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; entry : classMap.entrySet()){\n    if (items.get(0).getClass() == entry.getKey()) {\n        List list = items.stream().map(item -&gt; {\n            Animal animal = new Animal();\n            try {\n                // instantiate animal young\n                animal = entry.getValue().getConstructor().newInstance();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            animal.setName(item.getName());\n            // mapping values ...\n            return animal;\n        }).collect(Collectors.toList());\n\n        return list;\n    }\n}\n</code></pre>\n<p>Whenever you need to add more animal classes, just add them to the classmap:</p>\n<pre><code>private Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class),\n  new AbstractMap.SimpleEntry(Cow.class, Calf.class)\n);\n</code></pre>\n<p>Hope it is of some help.</p>\n"},{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678939163,"creation_date":1678939163,"answer_id":75752055,"question_id":75751348,"body_markdown":"I have an idea: register the mapper function by source class first. For a new source class, you only need to register a new mapper function. \r\nOne disadvantage is: there is an explicit Class Cast for getting the target list. I have no idea how to remove it.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Dog&gt; dogs = Arrays.asList(new Dog(&quot;d1&quot;), new Dog(&quot;d2&quot;));\r\n        Map&lt;Class, Function&gt; register = new HashMap();\r\n        register.put(Dog.class, (Function&lt;Dog, Puppy&gt;) dog -&gt; new Puppy(dog.getName()));\r\n        List&lt;Puppy&gt; puppies = (List&lt;Puppy&gt;) dogs.stream().map(register.get(Dog.class)).collect(Collectors.toList());\r\n        System.out.println(&quot;puppies:&quot; + puppies);\r\n    }\r\n}\r\n\r\nclass Dog {\r\n    private String name;\r\n\r\n    public Dog(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n\r\nclass Puppy {\r\n    private String name;\r\n\r\n    public Puppy(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Puppy{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I have an idea: register the mapper function by source class first. For a new source class, you only need to register a new mapper function.\nOne disadvantage is: there is an explicit Class Cast for getting the target list. I have no idea how to remove it.</p>\n<pre><code>import java.util.*;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        List&lt;Dog&gt; dogs = Arrays.asList(new Dog(&quot;d1&quot;), new Dog(&quot;d2&quot;));\n        Map&lt;Class, Function&gt; register = new HashMap();\n        register.put(Dog.class, (Function&lt;Dog, Puppy&gt;) dog -&gt; new Puppy(dog.getName()));\n        List&lt;Puppy&gt; puppies = (List&lt;Puppy&gt;) dogs.stream().map(register.get(Dog.class)).collect(Collectors.toList());\n        System.out.println(&quot;puppies:&quot; + puppies);\n    }\n}\n\nclass Dog {\n    private String name;\n\n    public Dog(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n\nclass Puppy {\n    private String name;\n\n    public Puppy(String name) {\n        this.name = name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Puppy{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678940543,"creation_date":1678940543,"answer_id":75752157,"question_id":75751348,"body_markdown":"I&#39;m not sure what your intention is, but hopefully this will help you get there.\r\n\r\nOne way to return a typed list from a typed method is to pass a *type token*:\r\n\r\n```\r\nprivate List&lt;Object&gt; items;\r\n\r\npublic &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; clazz) {\r\n    List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n    for (Object obj : items) {\r\n        if (clazz.isInstance(obj)) {\r\n            result.add((T)obj);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nThe type is *inferred* when called:\r\n\r\n    List&lt;Dog&gt; dogs = myClass.getAll(Dog.class);\r\n","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I'm not sure what your intention is, but hopefully this will help you get there.</p>\n<p>One way to return a typed list from a typed method is to pass a <em>type token</em>:</p>\n<pre><code>private List&lt;Object&gt; items;\n\npublic &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; clazz) {\n    List&lt;T&gt; result = new ArrayList&lt;&gt;();\n    for (Object obj : items) {\n        if (clazz.isInstance(obj)) {\n            result.add((T)obj);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>The type is <em>inferred</em> when called:</p>\n<pre><code>List&lt;Dog&gt; dogs = myClass.getAll(Dog.class);\n</code></pre>\n"}],"owner":{"account_id":28027929,"reputation":13,"user_id":21407568,"display_name":"Azn Stride"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75751713,"answer_count":6,"score":1,"last_activity_date":1678946893,"creation_date":1678928918,"question_id":75751348,"body_markdown":"I want to create a mapping from input `List&lt;T&gt;` to output`List&lt;S&gt;`, for the method named `foo(List&lt;T&gt;)`, but in a &quot;smart&quot; way . The way `foo(List&lt;T&gt;)` processes different types of list are very similar in nature since the input list shares the same attributes, but are from different classes.\r\n\r\nMy intention is to reuse as much of the `foo()` implementation with just a minor check of the input type before returning the output.\r\n\r\nOne way to do this is to implement something like the following in `foo`\r\n```\r\nif (items.get(0) instanceOf Cat) {\r\n    List&lt;Kitten&gt; kittens = items.stream().map(cat -&gt; Kitten.builder().name(cat.getName()).build().toList();\r\n    return kittens;\r\n}\r\nif (items.get(0) instanceOf Dog) {\r\n    List&lt;Puppy&gt; puppies = items.stream().map(dog -&gt; Puppy.builder().name(dog.getName()).build().toList();\r\n    return puppies;\r\n}\r\n\r\n```\r\n, but it feels wrong since if I added another type like `Bird` I would have to add another if condition.\r\n\r\n\r\nI suppose that another way to accomplish this if I wanted to have different return types for different types of input is by creating custom classes for a list of a specific type, i.e.\r\n```\r\nclass DogList {\r\n    private List&lt;Dog&gt; dogs;\r\n}\r\n\r\nclass CatList {\r\n    private List&lt;Cat&gt; cats;\r\n}\r\n\r\nclass KittenList {\r\n    private List&lt;Kitten&gt; kittens;\r\n}\r\n\r\nclass PuppyList {\r\n    private List&lt;Puppy&gt; puppies;\r\n}\r\n\r\n// And creating method for each type that&#39;s sth like\r\npublic KittenList foo(CatList cats) {\r\n    List&lt;Kitten&gt; kittens = cats.getCats().stream().map(cat -&gt; \r\n    Kitten.builder().name(cat.getName()).build().toList();\r\n    return kittens;\r\n}\r\npublic PuppyList foo(DogList dogs) {\r\n    List&lt;Puppy&gt; puppies = dogs.getCats().stream().map(cat -&gt; \r\n    Puppy.builder().name(dogs.getName()).build().toList();\r\n    return puppies;\r\n}\r\n```\r\n\r\nBut it feels weird doing it this way since I&#39;m creating custom classes just to wrap a list. I also am duplicating 99% of the implementation of foo.. and the implementation is almost identical here, so I would prefer to reuse the same method..","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I want to create a mapping from input <code>List&lt;T&gt;</code> to output<code>List&lt;S&gt;</code>, for the method named <code>foo(List&lt;T&gt;)</code>, but in a &quot;smart&quot; way . The way <code>foo(List&lt;T&gt;)</code> processes different types of list are very similar in nature since the input list shares the same attributes, but are from different classes.</p>\n<p>My intention is to reuse as much of the <code>foo()</code> implementation with just a minor check of the input type before returning the output.</p>\n<p>One way to do this is to implement something like the following in <code>foo</code></p>\n<pre><code>if (items.get(0) instanceOf Cat) {\n    List&lt;Kitten&gt; kittens = items.stream().map(cat -&gt; Kitten.builder().name(cat.getName()).build().toList();\n    return kittens;\n}\nif (items.get(0) instanceOf Dog) {\n    List&lt;Puppy&gt; puppies = items.stream().map(dog -&gt; Puppy.builder().name(dog.getName()).build().toList();\n    return puppies;\n}\n\n</code></pre>\n<p>, but it feels wrong since if I added another type like <code>Bird</code> I would have to add another if condition.</p>\n<p>I suppose that another way to accomplish this if I wanted to have different return types for different types of input is by creating custom classes for a list of a specific type, i.e.</p>\n<pre><code>class DogList {\n    private List&lt;Dog&gt; dogs;\n}\n\nclass CatList {\n    private List&lt;Cat&gt; cats;\n}\n\nclass KittenList {\n    private List&lt;Kitten&gt; kittens;\n}\n\nclass PuppyList {\n    private List&lt;Puppy&gt; puppies;\n}\n\n// And creating method for each type that's sth like\npublic KittenList foo(CatList cats) {\n    List&lt;Kitten&gt; kittens = cats.getCats().stream().map(cat -&gt; \n    Kitten.builder().name(cat.getName()).build().toList();\n    return kittens;\n}\npublic PuppyList foo(DogList dogs) {\n    List&lt;Puppy&gt; puppies = dogs.getCats().stream().map(cat -&gt; \n    Puppy.builder().name(dogs.getName()).build().toList();\n    return puppies;\n}\n</code></pre>\n<p>But it feels weird doing it this way since I'm creating custom classes just to wrap a list. I also am duplicating 99% of the implementation of foo.. and the implementation is almost identical here, so I would prefer to reuse the same method..</p>\n"},{"tags":["java","user-interface","actionlistener"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678944293,"post_id":75752350,"comment_id":133631877,"body_markdown":"Please edit your question to add the precise error message.","body":"Please edit your question to add the precise error message."},{"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"score":0,"creation_date":1678945206,"post_id":75752350,"comment_id":133631978,"body_markdown":"error has been added","body":"error has been added"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678945461,"post_id":75752350,"comment_id":133632005,"body_markdown":"`lblNewLabel` is undefined in the context of the `ActionListener`.   You&#39;ve defined two local variables, one constructor and one in `diceLbl` method, but these have nothing to do with each other","body":"<code>lblNewLabel</code> is undefined in the context of the <code>ActionListener</code>.   You&#39;ve defined two local variables, one constructor and one in <code>diceLbl</code> method, but these have nothing to do with each other"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678946192,"creation_date":1678945708,"answer_id":75752549,"question_id":75752350,"body_markdown":"You have...\r\n\r\n    private JLabel diceLbl() {\r\n        JLabel lblNewLabel = new JLabel(&quot;&quot;);\r\n        lblNewLabel.setOpaque(true);\r\n        lblNewLabel.setBackground(new Color(192, 192, 192));\r\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        lblNewLabel.setIcon(dice[randNum]);\r\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        \r\n        return lblNewLabel;\r\n    }\r\n\r\nwhich is interesting, but each time it&#39;s called, it will create a new instance of `JLabel`.\r\n\r\nThen in the constructor, you have...\r\n\r\n    JLabel lblNewLabel = diceLbl();\r\n    contentPane.add(lblNewLabel, BorderLayout.CENTER);\r\n\r\nwhich defines a local variable `lblNewLabel` which adds (the newly created instance) to the frame.\r\n\r\nBut, `lblNewLabel` is undefined within the context of your `ActionListener`.\r\n\r\nStart by creating a instance variable (below the definition of `verifiedNum`)\r\n\r\n    private JLabel lblNewLabel;\r\n\r\nThen modify the `diceLbl` method to only every create a single instance of the `JLabel`, something like...\r\n\r\n        private JLabel diceLbl() {\r\n            if (lblNewLabel == null) {\r\n                lblNewLabel = new JLabel(&quot;&quot;);\r\n                lblNewLabel.setOpaque(true);\r\n                lblNewLabel.setBackground(new Color(192, 192, 192));\r\n                lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n                lblNewLabel.setIcon(dice[randNum]);\r\n                lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n            }\r\n            return lblNewLabel;\r\n        }\r\n\r\n\r\nThen, in your `ActionListener` you can simply do...\r\n\r\n    diceLbl().setIcon(dice[verifiedNum]);","title":"How can I change an image label upon click using actionListener","body":"<p>You have...</p>\n<pre><code>private JLabel diceLbl() {\n    JLabel lblNewLabel = new JLabel(&quot;&quot;);\n    lblNewLabel.setOpaque(true);\n    lblNewLabel.setBackground(new Color(192, 192, 192));\n    lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n    lblNewLabel.setIcon(dice[randNum]);\n    lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n    \n    return lblNewLabel;\n}\n</code></pre>\n<p>which is interesting, but each time it's called, it will create a new instance of <code>JLabel</code>.</p>\n<p>Then in the constructor, you have...</p>\n<pre><code>JLabel lblNewLabel = diceLbl();\ncontentPane.add(lblNewLabel, BorderLayout.CENTER);\n</code></pre>\n<p>which defines a local variable <code>lblNewLabel</code> which adds (the newly created instance) to the frame.</p>\n<p>But, <code>lblNewLabel</code> is undefined within the context of your <code>ActionListener</code>.</p>\n<p>Start by creating a instance variable (below the definition of <code>verifiedNum</code>)</p>\n<pre><code>private JLabel lblNewLabel;\n</code></pre>\n<p>Then modify the <code>diceLbl</code> method to only every create a single instance of the <code>JLabel</code>, something like...</p>\n<pre><code>    private JLabel diceLbl() {\n        if (lblNewLabel == null) {\n            lblNewLabel = new JLabel(&quot;&quot;);\n            lblNewLabel.setOpaque(true);\n            lblNewLabel.setBackground(new Color(192, 192, 192));\n            lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n            lblNewLabel.setIcon(dice[randNum]);\n            lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        }\n        return lblNewLabel;\n    }\n</code></pre>\n<p>Then, in your <code>ActionListener</code> you can simply do...</p>\n<pre><code>diceLbl().setIcon(dice[verifiedNum]);\n</code></pre>\n"}],"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75752549,"answer_count":1,"score":0,"last_activity_date":1678946192,"creation_date":1678943179,"question_id":75752350,"body_markdown":"I am trying to create a simple dice GUI where a random image of a dice value will appear on click, without the same value appearing twice in a row. I am to the point where I need to define the code in the actionListener, but upon clicking, the images do not change. The line of code that should cause the images to change is `lblNewLabel.setIcon(dice[verifiedNum])` in the `defineBtn` method but I get the error that it cannot be resolved to a type. My question is: what changes do I need to make in order to get the JLabel to change images randomly without repeating the same image? The error I get is Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved compilation problem: \r\n\tlblNewLabel cannot be resolved.\r\n\r\n\r\n```\r\n\r\npublic class LabGuiDice extends JFrame {\r\n\t\r\n\tfinal ImageIcon image1 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-1.png&quot;));\r\n\r\n\tfinal ImageIcon image2 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-2.png&quot;));\r\n\r\n\tfinal ImageIcon image3 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-3.png&quot;));\r\n\r\n\tfinal ImageIcon image4 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-4.png&quot;));\r\n\r\n\tfinal ImageIcon image5 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-5.png&quot;));\r\n\r\n\tfinal ImageIcon image6 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-6.png&quot;));\r\n\r\n\tfinal JPanel contentPane;\r\n\r\n\tfinal ImageIcon[] dice = { image1, image2, image3, image4, image5, image6 };\r\n\r\n\t\r\n\r\n\tfinal Random rand = new Random();\r\n\r\n\tint randNum = rand.nextInt(6);\r\n\r\n\tint verifiedNum = 0;\r\n\r\n\t\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tLabGuiDice frame = new LabGuiDice();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\t\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic LabGuiDice() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(new BorderLayout(0, 0));\r\n\t\t\r\n\t\tJButton btnNewButton = defineBtn();\r\n\t\tcontentPane.add(btnNewButton, BorderLayout.SOUTH);\r\n\t\t\r\n\t\tJLabel lblNewLabel = diceLbl();\r\n\t\tcontentPane.add(lblNewLabel, BorderLayout.CENTER);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate JButton defineBtn() {\r\n\t\tJButton btnNewButton = new JButton(&quot;Roll &#39;Em&quot;);\r\n\t\tbtnNewButton.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n\t\tbtnNewButton.setAlignmentY(Component.TOP_ALIGNMENT);\r\n\t\tbtnNewButton.setFont(new Font(&quot;Javanese Text&quot;, Font.PLAIN, 15));\r\n\t\tbtnNewButton.setBackground(new Color(178, 172, 136));\r\n\t\tbtnNewButton.setForeground(new Color(255, 255, 255));\r\n\t\tbtnNewButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) { \r\n\t\t\tdo{randNum = rand.nextInt(6);} \r\n\t\t\twhile (randNum == verifiedNum);\r\n\t\t\tverifiedNum = randNum;\r\n\t\t\tlblNewLabel.setIcon(dice[verifiedNum]);\r\n\t\t\t\r\n\t\t\t}});\r\n\t\treturn btnNewButton;\r\n\t}\r\n\r\n\t\r\n\r\n\tprivate JLabel diceLbl() {\r\n\t\tJLabel lblNewLabel = new JLabel(&quot;&quot;);\r\n\t\tlblNewLabel.setOpaque(true);\r\n\t\tlblNewLabel.setBackground(new Color(192, 192, 192));\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel.setIcon(dice[randNum]);\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\t\r\n\t\treturn lblNewLabel;\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nWhen I tried to place `lblNewLabel.setIcon(dice[verifiedNum])` inside of the `diceLbl` method the image still does not change upon click.","title":"How can I change an image label upon click using actionListener","body":"<p>I am trying to create a simple dice GUI where a random image of a dice value will appear on click, without the same value appearing twice in a row. I am to the point where I need to define the code in the actionListener, but upon clicking, the images do not change. The line of code that should cause the images to change is <code>lblNewLabel.setIcon(dice[verifiedNum])</code> in the <code>defineBtn</code> method but I get the error that it cannot be resolved to a type. My question is: what changes do I need to make in order to get the JLabel to change images randomly without repeating the same image? The error I get is Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved compilation problem:\nlblNewLabel cannot be resolved.</p>\n<pre><code>\npublic class LabGuiDice extends JFrame {\n    \n    final ImageIcon image1 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-1.png&quot;));\n\n    final ImageIcon image2 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-2.png&quot;));\n\n    final ImageIcon image3 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-3.png&quot;));\n\n    final ImageIcon image4 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-4.png&quot;));\n\n    final ImageIcon image5 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-5.png&quot;));\n\n    final ImageIcon image6 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-6.png&quot;));\n\n    final JPanel contentPane;\n\n    final ImageIcon[] dice = { image1, image2, image3, image4, image5, image6 };\n\n    \n\n    final Random rand = new Random();\n\n    int randNum = rand.nextInt(6);\n\n    int verifiedNum = 0;\n\n    \n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    LabGuiDice frame = new LabGuiDice();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        \n    }\n        \n    /**\n     * Create the frame.\n     */\n    public LabGuiDice() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n\n        setContentPane(contentPane);\n        contentPane.setLayout(new BorderLayout(0, 0));\n        \n        JButton btnNewButton = defineBtn();\n        contentPane.add(btnNewButton, BorderLayout.SOUTH);\n        \n        JLabel lblNewLabel = diceLbl();\n        contentPane.add(lblNewLabel, BorderLayout.CENTER);\n        \n        \n        \n    }\n    \n    private JButton defineBtn() {\n        JButton btnNewButton = new JButton(&quot;Roll 'Em&quot;);\n        btnNewButton.setAlignmentX(Component.CENTER_ALIGNMENT);\n        btnNewButton.setAlignmentY(Component.TOP_ALIGNMENT);\n        btnNewButton.setFont(new Font(&quot;Javanese Text&quot;, Font.PLAIN, 15));\n        btnNewButton.setBackground(new Color(178, 172, 136));\n        btnNewButton.setForeground(new Color(255, 255, 255));\n        btnNewButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) { \n            do{randNum = rand.nextInt(6);} \n            while (randNum == verifiedNum);\n            verifiedNum = randNum;\n            lblNewLabel.setIcon(dice[verifiedNum]);\n            \n            }});\n        return btnNewButton;\n    }\n\n    \n\n    private JLabel diceLbl() {\n        JLabel lblNewLabel = new JLabel(&quot;&quot;);\n        lblNewLabel.setOpaque(true);\n        lblNewLabel.setBackground(new Color(192, 192, 192));\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel.setIcon(dice[randNum]);\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        \n        return lblNewLabel;\n    }\n\n    \n}\n\n\n</code></pre>\n<p>When I tried to place <code>lblNewLabel.setIcon(dice[verifiedNum])</code> inside of the <code>diceLbl</code> method the image still does not change upon click.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678946006,"post_id":75752561,"comment_id":133632069,"body_markdown":"What does &quot;not working&quot; mean exactly?","body":"What does &quot;not working&quot; mean exactly?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678946149,"post_id":75752561,"comment_id":133632085,"body_markdown":"You don&#39;t need to close a Scanner reading from System.in, so you can ignore the warning.","body":"You don&#39;t need to close a Scanner reading from System.in, so you can ignore the warning."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678952646,"post_id":75752561,"comment_id":133633219,"body_markdown":"What &quot;error&quot;, at best this is a warning from some static analyzer (though, I admit, some can be configured to raise it as an error).","body":"What &quot;error&quot;, at best this is a warning from some static analyzer (though, I admit, some can be configured to raise it as an error)."}],"owner":{"account_id":28029468,"reputation":1,"user_id":21408889,"display_name":"Vicky Rana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678952725,"answer_count":0,"score":0,"last_activity_date":1678945807,"creation_date":1678945807,"question_id":75752561,"body_markdown":"\r\n```\r\nimport java.util.*;\r\nclass smallestelement{\r\n    public static void main(String k[]){\r\n        Scanner input=new Scanner(System.in);\r\n        System.out.println(&quot;Enter the size of array&quot;);\r\n        int i,a=input.nextInt(),arr[]=new int[a];\r\n        for(i=0;i&lt;a;i++)\r\n            arr[i]=input.nextInt();\r\n        input.close();\r\n        System.out.println(Arrays.toString(arr));\r\n        Arrays.sort(arr,0,a);\r\n        System.out.println(arr[0]);\r\n    }\r\n    \r\n}`\r\n```\r\n\r\n\r\nAfter Using input.close() Resource needs to be close But its not working ","title":"Resource Leak never closed, after using close() also same error is displaying","body":"<pre><code>import java.util.*;\nclass smallestelement{\n    public static void main(String k[]){\n        Scanner input=new Scanner(System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        int i,a=input.nextInt(),arr[]=new int[a];\n        for(i=0;i&lt;a;i++)\n            arr[i]=input.nextInt();\n        input.close();\n        System.out.println(Arrays.toString(arr));\n        Arrays.sort(arr,0,a);\n        System.out.println(arr[0]);\n    }\n    \n}`\n</code></pre>\n<p>After Using input.close() Resource needs to be close But its not working</p>\n"},{"tags":["java","android","react-native","mobile"],"owner":{"account_id":19947533,"reputation":23,"user_id":14617869,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678945714,"creation_date":1678945714,"question_id":75752550,"body_markdown":"please help me to solve the problem.\r\nI have two activities MainActivity and CustomActivity.\r\nCustom activity is a fullScreen notification activity (has the property to be shown on the locked screen)\r\n1. When the application is completely closed and the screen is locked with incoming fcm\r\nthe CustomActivity is launched.\r\n2. After closing the CustomActivity and unlocking the screen, I launch the application from the Launched Applications List (not from app Icon).\r\n3. To start MainActivity and not CustomActivity, i added the code to CustomActivity in the onResume method.\r\n\r\n```\r\n// CustomActivity.java\r\n\r\n@Override\r\n  protected void onResume() {\r\n    if ((getIntent().getFlags() &amp; Intent.FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY) != 0) {\r\n      Intent intent = new Intent(this, MainActivity.class);\r\n      startActivity(intent);\r\n    }\r\n    super.onResume();\r\n}\r\n```\r\n\r\n4. After the MainActivity has started, I lock the screen.\r\n5. When fcm comes CustomActivity should be displayed again but this does not happen.\r\nCan you suggest what is the problem?","title":"Android Fullscreen Notification","body":"<p>please help me to solve the problem.\nI have two activities MainActivity and CustomActivity.\nCustom activity is a fullScreen notification activity (has the property to be shown on the locked screen)</p>\n<ol>\n<li>When the application is completely closed and the screen is locked with incoming fcm\nthe CustomActivity is launched.</li>\n<li>After closing the CustomActivity and unlocking the screen, I launch the application from the Launched Applications List (not from app Icon).</li>\n<li>To start MainActivity and not CustomActivity, i added the code to CustomActivity in the onResume method.</li>\n</ol>\n<pre><code>// CustomActivity.java\n\n@Override\n  protected void onResume() {\n    if ((getIntent().getFlags() &amp; Intent.FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY) != 0) {\n      Intent intent = new Intent(this, MainActivity.class);\n      startActivity(intent);\n    }\n    super.onResume();\n}\n</code></pre>\n<ol start=\"4\">\n<li>After the MainActivity has started, I lock the screen.</li>\n<li>When fcm comes CustomActivity should be displayed again but this does not happen.\nCan you suggest what is the problem?</li>\n</ol>\n"},{"tags":["java","android","gridview"],"answers":[{"comments":[{"owner":{"account_id":373727,"reputation":1208,"user_id":723549,"accept_rate":40,"display_name":"gladman"},"score":0,"creation_date":1392256459,"post_id":21731177,"comment_id":32887045,"body_markdown":"if the item is dynamically generated, so how to get the item size of the GridView?","body":"if the item is dynamically generated, so how to get the item size of the GridView?"}],"tags":[],"owner":{"account_id":231428,"reputation":18107,"user_id":495663,"accept_rate":60,"display_name":"Alex Orlov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392216390,"creation_date":1392216390,"answer_id":21731177,"question_id":21730934,"body_markdown":"getChildAt() returns the child view of a your GridView. Children views positions and your data positions are not the same, because AdapterViews recycle and reuse child views. That way, you can have 100 items of your data in adapter and only 7 child views in gridview.\r\n\r\nThis is fundamental and you should watch google IO video about listview (the stuff they describe there is mostly for all AdapterViews)\r\n\r\nhttp://www.youtube.com/watch?v=wDBM6wVEO70","title":"Android GridView get child item don&#39;t work","body":"<p>getChildAt() returns the child view of a your GridView. Children views positions and your data positions are not the same, because AdapterViews recycle and reuse child views. That way, you can have 100 items of your data in adapter and only 7 child views in gridview.</p>\n\n<p>This is fundamental and you should watch google IO video about listview (the stuff they describe there is mostly for all AdapterViews)</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=wDBM6wVEO70\" rel=\"nofollow\">http://www.youtube.com/watch?v=wDBM6wVEO70</a></p>\n"},{"tags":[],"owner":{"account_id":19082033,"reputation":11,"user_id":13934046,"display_name":"Sankar_Ayachitula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678945235,"creation_date":1678945235,"answer_id":75752517,"question_id":21730934,"body_markdown":"I am getting getChildCount() as 0 and getChildItem(i) as null in all fragment callback methods. But when I am setting a listener on grid view(i.e onSetItemClickListener()), I am getting the child item or getChildrenCount as non-null. \r\n\r\nIf you want a child item/items to be default, then write code in the grid view adapter(implement Base Adapter) when getting the view (from getView()). You can use Viewmodel or Interfaces for communications(passing data).\r\n\r\n ","title":"Android GridView get child item don&#39;t work","body":"<p>I am getting getChildCount() as 0 and getChildItem(i) as null in all fragment callback methods. But when I am setting a listener on grid view(i.e onSetItemClickListener()), I am getting the child item or getChildrenCount as non-null.</p>\n<p>If you want a child item/items to be default, then write code in the grid view adapter(implement Base Adapter) when getting the view (from getView()). You can use Viewmodel or Interfaces for communications(passing data).</p>\n"}],"owner":{"account_id":373727,"reputation":1208,"user_id":723549,"accept_rate":40,"display_name":"gladman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1614,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678945235,"creation_date":1392215782,"question_id":21730934,"body_markdown":"I want to get GridView child item, I use code below, but it doesn&#39;t work.\r\n\r\n\t\tmAppGridAdapter = new gridadapter(mContext, appPackageInfos);\r\n\t\tmAppManaGridView.setAdapter(mAppGridAdapter);\r\n\r\n\t\tif(mAppManaGridView.getCount()&gt;0)\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tmAppManaGridView.setSelection(0);\r\n\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + mAppManaGridView.getCount());\r\n\t\t\tLog.d(&quot;adan&quot;, mAppManaGridView.getFirstVisiblePosition()  +  &quot;,  &quot;  +mAppManaGridView.getLastVisiblePosition());\r\n\t\t\tfor(int visiblePosition = mAppManaGridView.getFirstVisiblePosition(); visiblePosition &lt;= mAppManaGridView.getLastVisiblePosition(); visiblePosition++) {\r\n\t\t\t\tView item = mAppManaGridView.getChildAt(visiblePosition);\r\n\t\t\t\t// make something\r\n\t\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + item.getWidth()+&quot;,&quot;  +item.getHeight() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\nthe debug log message shown, that it can get the child count, but it can&#39;t get any child item of the GridView:\r\n\r\n    D/adan    (11457): adan&gt;165\r\n    D/adan    (11457): 0,  -1\r\n\r\n\r\nI also tried this code, but the return item is null, it crashed with nullPointerException.\r\n\r\n\t\tif(mAppManaGridView.getCount()&gt;0)\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tmAppManaGridView.setSelection(0);\r\n\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + mAppManaGridView.getCount());\r\n\t\t\tView item = mAppManaGridView.getChildAt(0);\r\n\t\t\t// make something\r\n\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + item.getWidth()+&quot;,&quot;  +item.getHeight() );\r\n\t\t}\r\ncan you help me to solve this problem? It troubled me a lot.","title":"Android GridView get child item don&#39;t work","body":"<p>I want to get GridView child item, I use code below, but it doesn't work.</p>\n\n<pre><code>    mAppGridAdapter = new gridadapter(mContext, appPackageInfos);\n    mAppManaGridView.setAdapter(mAppGridAdapter);\n\n    if(mAppManaGridView.getCount()&gt;0)\n    {                                                                       \n        mAppManaGridView.setSelection(0);\n        Log.d(\"adan\", \"adan&gt;\" + mAppManaGridView.getCount());\n        Log.d(\"adan\", mAppManaGridView.getFirstVisiblePosition()  +  \",  \"  +mAppManaGridView.getLastVisiblePosition());\n        for(int visiblePosition = mAppManaGridView.getFirstVisiblePosition(); visiblePosition &lt;= mAppManaGridView.getLastVisiblePosition(); visiblePosition++) {\n            View item = mAppManaGridView.getChildAt(visiblePosition);\n            // make something\n            Log.d(\"adan\", \"adan&gt;\" + item.getWidth()+\",\"  +item.getHeight() );\n\n        }\n\n    }\n</code></pre>\n\n<p>the debug log message shown, that it can get the child count, but it can't get any child item of the GridView:</p>\n\n<pre><code>D/adan    (11457): adan&gt;165\nD/adan    (11457): 0,  -1\n</code></pre>\n\n<p>I also tried this code, but the return item is null, it crashed with nullPointerException.</p>\n\n<pre><code>    if(mAppManaGridView.getCount()&gt;0)\n    {                                                                       \n        mAppManaGridView.setSelection(0);\n        Log.d(\"adan\", \"adan&gt;\" + mAppManaGridView.getCount());\n        View item = mAppManaGridView.getChildAt(0);\n        // make something\n        Log.d(\"adan\", \"adan&gt;\" + item.getWidth()+\",\"  +item.getHeight() );\n    }\n</code></pre>\n\n<p>can you help me to solve this problem? It troubled me a lot.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678939390,"post_id":75752056,"comment_id":133631300,"body_markdown":"Could you explain what this code is supposed to do?","body":"Could you explain what this code is supposed to do?"},{"owner":{"account_id":28028896,"reputation":1,"user_id":21408398,"display_name":"Tranquillitatis"},"score":0,"creation_date":1678939457,"post_id":75752056,"comment_id":133631307,"body_markdown":"This code writes a 3x3 2d array whose sums of rows and columns results to 15","body":"This code writes a 3x3 2d array whose sums of rows and columns results to 15"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678939504,"post_id":75752056,"comment_id":133631313,"body_markdown":"The range of an array&#39;s indices is `0..size-1`. Your array&#39;s size is `i,j` and you try to use `i` and `j` as indices.","body":"The range of an array&#39;s indices is <code>0..size-1</code>. Your array&#39;s size is <code>i,j</code> and you try to use <code>i</code> and <code>j</code> as indices."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1678939547,"post_id":75752056,"comment_id":133631314,"body_markdown":"`new int[i][j]` is equivalent to `new int[0][j]` here. That shouldn&#39;t be what you want.","body":"<code>new int[i][j]</code> is equivalent to <code>new int[0][j]</code> here. That shouldn&#39;t be what you want."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678940518,"post_id":75752056,"comment_id":133631444,"body_markdown":"Because `i` is zero when this line of code is executed: `int[][] magicSquare = new int[i][j];` it means that the array `magicSquare` has zero rows. It seems that `i` should be greater than zero.","body":"Because <code>i</code> is zero when this line of code is executed: <code>int[][] magicSquare = new int[i][j];</code> it means that the array <code>magicSquare</code> has zero rows. It seems that <code>i</code> should be greater than zero."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678945026,"creation_date":1678945026,"answer_id":75752498,"question_id":75752056,"body_markdown":"Initialize the array like this:\r\n\r\n    int[][] magicSquare = new int[n][];\r\n\r\nAnd initialize each row:\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        magicSquare[i] = new int[n];\r\n    }\r\n\r\n\r\n\r\n","title":"Magic Square java array index out of bounds exception can someone please enlighten me why there&#39;s an error in my code","body":"<p>Initialize the array like this:</p>\n<pre><code>int[][] magicSquare = new int[n][];\n</code></pre>\n<p>And initialize each row:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\n    magicSquare[i] = new int[n];\n}\n</code></pre>\n"}],"owner":{"account_id":28028896,"reputation":1,"user_id":21408398,"display_name":"Tranquillitatis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678945026,"creation_date":1678939186,"question_id":75752056,"body_markdown":"I don&#39;t know why this code results to an error I already tried visualizing the inputs and my observations doesn&#39;t result to an error but for some reason this code throws `ArrayIndexOutOfBoundsException`. I&#39;m gonna need a fresh pair of eyes in this community. Please help me.\r\n```java\r\nimport java.util.*;\r\n\r\npublic class MagicSquare {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter a number: &quot;);\r\n\t\tint n = sc.nextInt();\r\n\t\tint i = 0;\r\n\t\tint j = n / 2;\r\n\t\tint[][] magicSquare = new int[i][j];\r\n\t\tfor (int num = 1; num &lt;= n * n;) {\r\n\t\t\tif (i &lt; 0 &amp;&amp; j &lt; 0) {\r\n\t\t\t\ti = n - 2;\r\n\t\t\t\tj = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (j &lt; 0) {\r\n\t\t\t\t\tj = j - 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (i &lt; 0) {\r\n\t\t\t\t\ti = n - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (magicSquare[i][j] != 0) { // ArrayIndexOutOfBoundsException on this line\r\n\t\t\t\tj = j + 1;\r\n\t\t\t\ti = n - 1;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmagicSquare[i][j] = num;\r\n\t\t\t\tnum = num + 1;\r\n\t\t\t}\r\n\t\t\ti = i - 1;\r\n\t\t\tj = j - 1;\r\n\t\t}\r\n\t\tfor (i = 0; i &lt;= magicSquare.length; i++) {\r\n\t\t\tfor (j = 0; j &lt;= magicSquare[i].length; j++) {\r\n\t\t\t\tSystem.out.print(magicSquare[i][j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nSample run:\r\n```none\r\nEnter a number: 3\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat baseproj/baseproj.MagicSquare.main(MagicSquare.java:31)\r\n```\r\n\r\n\r\nI&#39;ve tried arranging the inputs on a piece of paper and it still won&#39;t work","title":"Magic Square java array index out of bounds exception can someone please enlighten me why there&#39;s an error in my code","body":"<p>I don't know why this code results to an error I already tried visualizing the inputs and my observations doesn't result to an error but for some reason this code throws <code>ArrayIndexOutOfBoundsException</code>. I'm gonna need a fresh pair of eyes in this community. Please help me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class MagicSquare {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter a number: &quot;);\n        int n = sc.nextInt();\n        int i = 0;\n        int j = n / 2;\n        int[][] magicSquare = new int[i][j];\n        for (int num = 1; num &lt;= n * n;) {\n            if (i &lt; 0 &amp;&amp; j &lt; 0) {\n                i = n - 2;\n                j = 0;\n            }\n            else {\n                if (j &lt; 0) {\n                    j = j - 1;\n                }\n                if (i &lt; 0) {\n                    i = n - 1;\n                }\n            }\n            if (magicSquare[i][j] != 0) { // ArrayIndexOutOfBoundsException on this line\n                j = j + 1;\n                i = n - 1;\n                continue;\n            }\n            else {\n                magicSquare[i][j] = num;\n                num = num + 1;\n            }\n            i = i - 1;\n            j = j - 1;\n        }\n        for (i = 0; i &lt;= magicSquare.length; i++) {\n            for (j = 0; j &lt;= magicSquare[i].length; j++) {\n                System.out.print(magicSquare[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter a number: 3\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at baseproj/baseproj.MagicSquare.main(MagicSquare.java:31)\n</code></pre>\n<p>I've tried arranging the inputs on a piece of paper and it still won't work</p>\n"},{"tags":["java","okhttp"],"answers":[{"comments":[{"owner":{"account_id":24939850,"reputation":253,"user_id":18805881,"display_name":"olaf"},"score":0,"creation_date":1678994458,"post_id":75752427,"comment_id":133645737,"body_markdown":"what does # correspond?\n\nthe location of my cert like `/etc/lipki/ca-bundle.crt` ?","body":"what does # correspond?  the location of my cert like <code>&#47;etc&#47;lipki&#47;ca-bundle.crt</code> ?"},{"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"score":0,"creation_date":1679032276,"post_id":75752427,"comment_id":133651394,"body_markdown":"Yes, The SHA-256 hash of the certificate may be found using the command if you have the certificate file located in ```/etc/lipki/ca-bundle.crt```: ```openssl x509 -in /etc/lipki/ca-bundle.crt -noout -sha256 -fingerprint```","body":"Yes, The SHA-256 hash of the certificate may be found using the command if you have the certificate file located in <code>&#47;etc&#47;lipki&#47;ca-bundle.crt</code>: <code>openssl x509 -in &#47;etc&#47;lipki&#47;ca-bundle.crt -noout -sha256 -fingerprint</code>"},{"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"score":0,"creation_date":1698759673,"post_id":75752427,"comment_id":136443932,"body_markdown":"It is working or not","body":"It is working or not"}],"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678944167,"creation_date":1678944167,"answer_id":75752427,"question_id":75750167,"body_markdown":"    OkHttpClient client = new OkHttpClient.Builder()\r\n      .certificatePinner(new CertificatePinner.Builder()\r\n        .add(&quot;my_url&quot;, &quot;sha256/#&quot;) // replace with actual pin\r\n        .build())\r\n      .build();\r\n\r\nThe real values for your certificate should be used in instead of **my_url** and **#**. ","title":"How to add custom cert path to okhttp?","body":"<pre><code>OkHttpClient client = new OkHttpClient.Builder()\n  .certificatePinner(new CertificatePinner.Builder()\n    .add(&quot;my_url&quot;, &quot;sha256/#&quot;) // replace with actual pin\n    .build())\n  .build();\n</code></pre>\n<p>The real values for your certificate should be used in instead of <strong>my_url</strong> and <strong>#</strong>.</p>\n"}],"owner":{"account_id":24939850,"reputation":253,"user_id":18805881,"display_name":"olaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678944167,"creation_date":1678915125,"question_id":75750167,"body_markdown":"For example if my cert is in \r\n\r\n    /etc/lipki/ca-bundle.crt\r\n\r\nHow do I set the cert path in okhttp?\r\n\r\n\r\nIn python request I can do something like this \r\n\r\n            response = post(\r\n                &quot;my_url&quot;\r\n                data={\r\n                },\r\n                auth=(&quot;my_basic_username&quot;, &quot;my_basic_password&quot;),\r\n                verify=&quot;/etc/lipki/ca-bundle.crt&quot;\r\n            )","title":"How to add custom cert path to okhttp?","body":"<p>For example if my cert is in</p>\n<pre><code>/etc/lipki/ca-bundle.crt\n</code></pre>\n<p>How do I set the cert path in okhttp?</p>\n<p>In python request I can do something like this</p>\n<pre><code>        response = post(\n            &quot;my_url&quot;\n            data={\n            },\n            auth=(&quot;my_basic_username&quot;, &quot;my_basic_password&quot;),\n            verify=&quot;/etc/lipki/ca-bundle.crt&quot;\n        )\n</code></pre>\n"},{"tags":["java","spring","spring-boot","access-denied"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1678944003,"post_id":75752379,"comment_id":133631844,"body_markdown":"Does this answer your question? [Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder](https://stackoverflow.com/questions/28670576/getting-java-nio-file-accessdeniedexception-when-trying-to-write-to-a-folder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28670576/getting-java-nio-file-accessdeniedexception-when-trying-to-write-to-a-folder\">Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678944133,"post_id":75752379,"comment_id":133631859,"body_markdown":"Your `fileResource` is an entire directory -- I think you&#39;re intending to read a single file.","body":"Your <code>fileResource</code> is an entire directory -- I think you&#39;re intending to read a single file."}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678944165,"creation_date":1678943577,"question_id":75752379,"body_markdown":"I am trying to download file from spring boot resource folder. is its giving error as\r\n\r\n    java.nio.file.AccessDeniedException: src\\main\\resources\\generatedFiles \r\n\r\n**Download file location.** \r\n\r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fc1SA.png\r\n\r\n**Downloading Code**\r\n\r\n    FileSystemResource fileResource = new FileSystemResource(&quot;src/main/resources/generatedFiles/&quot;);\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n    headers.setContentDisposition(ContentDisposition.attachment().filename(&quot;convertedCollection.feature&quot;).build());\r\n    headers.setContentLength(((FileSystemResource)fileResource).contentLength());\r\n    return ResponseEntity.ok().headers(headers).body(fileResource);","title":"java.nio.file.AccessDeniedException In Spring boot","body":"<p>I am trying to download file from spring boot resource folder. is its giving error as</p>\n<pre><code>java.nio.file.AccessDeniedException: src\\main\\resources\\generatedFiles \n</code></pre>\n<p><strong>Download file location.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/fc1SA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fc1SA.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Downloading Code</strong></p>\n<pre><code>FileSystemResource fileResource = new FileSystemResource(&quot;src/main/resources/generatedFiles/&quot;);\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\nheaders.setContentDisposition(ContentDisposition.attachment().filename(&quot;convertedCollection.feature&quot;).build());\nheaders.setContentLength(((FileSystemResource)fileResource).contentLength());\nreturn ResponseEntity.ok().headers(headers).body(fileResource);\n</code></pre>\n"},{"tags":["java","html","rest"],"comments":[{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1551249590,"post_id":54899375,"comment_id":96566746,"body_markdown":"List&lt;String&gt; is ok if the values you are going to get are just strings. If you need more data related to the string use custom object. If you have to retrieve the value from the DB use like match then return result into list then give it to API end. And I prefer the 3rd party libraries to perform the search or sort(like lucene or elastic)","body":"List&lt;String&gt; is ok if the values you are going to get are just strings. If you need more data related to the string use custom object. If you have to retrieve the value from the DB use like match then return result into list then give it to API end. And I prefer the 3rd party libraries to perform the search or sort(like lucene or elastic)"},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1551250131,"post_id":54899375,"comment_id":96566969,"body_markdown":"The question is &quot;how do I get those Strings&quot;?","body":"The question is &quot;how do I get those Strings&quot;?"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1551251140,"post_id":54899375,"comment_id":96567374,"body_markdown":"Just call the your endpoint using http get.","body":"Just call the your endpoint using http get."},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1551251426,"post_id":54899375,"comment_id":96567477,"body_markdown":"This comment doesn&#39;t help at all -  I know I need to call using HTTP, maybe I don&#39;t know which API to call and process?","body":"This comment doesn&#39;t help at all -  I know I need to call using HTTP, maybe I don&#39;t know which API to call and process?"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1551259880,"post_id":54899375,"comment_id":96571458,"body_markdown":"Now I got the question edit it so that everyone can understand https://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html","body":"Now I got the question edit it so that everyone can understand <a href=\"https://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSECommerceService/latest/DG/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551252921,"creation_date":1551252921,"answer_id":54900255,"question_id":54899375,"body_markdown":"I think I find what I was looking for. Amazon offers -next to their affiliate API- a web service which can be used to get their autocomplete information. It can be utilized by calling an URL in the style of:\r\n\r\n\r\n\r\n    http://completion.amazon.com/search/complete?search-alias=aps&amp;client=amazon-search-ui&amp;mkt=1&amp;q=samsung","title":"Find the auto-complete Strings","body":"<p>I think I find what I was looking for. Amazon offers -next to their affiliate API- a web service which can be used to get their autocomplete information. It can be utilized by calling an URL in the style of:</p>\n\n<pre><code>http://completion.amazon.com/search/complete?search-alias=aps&amp;client=amazon-search-ui&amp;mkt=1&amp;q=samsung\n</code></pre>\n"}],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54900255,"answer_count":1,"score":0,"last_activity_date":1678943711,"creation_date":1551249117,"question_id":54899375,"body_markdown":"When you type a keyword word in the Amazon search box, you will get 10 auto-complete suggestions from a drop-down menu. I provide an illustration for that below, \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow do I programmatically acquire them (the Strings) in the real-time using a RESTful GET call? \r\n\r\nI program in Java and a `List&lt;String&gt;` will be the best format to have it. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hAsyh.png","title":"Find the auto-complete Strings","body":"<p>When you type a keyword word in the Amazon search box, you will get 10 auto-complete suggestions from a drop-down menu. I provide an illustration for that below, </p>\n\n<p><a href=\"https://i.stack.imgur.com/hAsyh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hAsyh.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I programmatically acquire them (the Strings) in the real-time using a RESTful GET call? </p>\n\n<p>I program in Java and a <code>List&lt;String&gt;</code> will be the best format to have it. </p>\n"},{"tags":["java","sql","database","coalesce","ibm-app-connect"],"owner":{"account_id":28024656,"reputation":1,"user_id":21404888,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678942769,"creation_date":1678894379,"question_id":75746875,"body_markdown":"How to map date through AppConnect to date column(estmtd_frzing)in database in ESQL\r\n\r\nCOALESCE(**estmtd_frzing**_date,null)\r\n\r\nin ESQL\r\n\r\nHow to map date through AppConnect to date column(estmtd_frzing)in database in ESQL\r\n","title":"date mapping in Coalesce","body":"<p>How to map date through AppConnect to date column(estmtd_frzing)in database in ESQL</p>\n<p>COALESCE(<strong>estmtd_frzing</strong>_date,null)</p>\n<p>in ESQL</p>\n<p>How to map date through AppConnect to date column(estmtd_frzing)in database in ESQL</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":20029863,"reputation":45,"user_id":14682889,"display_name":"Lea"},"score":0,"creation_date":1607786155,"post_id":65265926,"comment_id":115384796,"body_markdown":"I got the &#39;cannot resolve method &#39;where&#39; in collectionReference&#39; warning..","body":"I got the &#39;cannot resolve method &#39;where&#39; in collectionReference&#39; warning.."},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1607786220,"post_id":65265926,"comment_id":115384817,"body_markdown":"Can you show the exact code generating the error? Please edit your question and add it at the bottom.","body":"Can you show the exact code generating the error? Please edit your question and add it at the bottom."},{"owner":{"account_id":20029863,"reputation":45,"user_id":14682889,"display_name":"Lea"},"score":0,"creation_date":1607786490,"post_id":65265926,"comment_id":115384891,"body_markdown":"Wait, but do i add the additional field within the array or outside of the array? Because i might need to change the code during adding data to database too.","body":"Wait, but do i add the additional field within the array or outside of the array? Because i might need to change the code during adding data to database too."},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1607786585,"post_id":65265926,"comment_id":115384920,"body_markdown":"&quot;Wait, but do i add the additional field within the array or outside of the array?&quot; =&gt; outside the array! :-) They are additional fields. You can do that through the front-end code when you add a new document to the database, or you could use a [Cloud Function](https://firebase.google.com/docs/functions/firestore-events) that updates the document when created or modified, reading the arrays and creating/adapting the extra fields.","body":"&quot;Wait, but do i add the additional field within the array or outside of the array?&quot; =&gt; outside the array! :-) They are additional fields. You can do that through the front-end code when you add a new document to the database, or you could use a <a href=\"https://firebase.google.com/docs/functions/firestore-events\" rel=\"nofollow noreferrer\">Cloud Function</a> that updates the document when created or modified, reading the arrays and creating/adapting the extra fields."},{"owner":{"account_id":20029863,"reputation":45,"user_id":14682889,"display_name":"Lea"},"score":0,"creation_date":1607791360,"post_id":65265926,"comment_id":115386383,"body_markdown":"I see.. i will give it a try later. But what do you think about combine queries into tasks?","body":"I see.. i will give it a try later. But what do you think about combine queries into tasks?"},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1607795460,"post_id":65265926,"comment_id":115387499,"body_markdown":"What do you exactly mean by &#171;combine query into tasks&#187;?","body":"What do you exactly mean by &#171;combine query into tasks&#187;?"},{"owner":{"account_id":20029863,"reputation":45,"user_id":14682889,"display_name":"Lea"},"score":0,"creation_date":1607796844,"post_id":65265926,"comment_id":115387932,"body_markdown":"I mean merging queries. I have updated my question..","body":"I mean merging queries. I have updated my question.."}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607786765,"creation_date":1607782575,"answer_id":65265926,"question_id":65265744,"body_markdown":"As you have already noted and as explained in the [doc][1]: &quot;You can use at most one `array-contains` clause per query.&quot;\r\n\r\n**However**, in your case, you may be able to use the following approach:\r\n\r\nFor a given document, for each of the 5 search criteria, for each possible value for the criteria, add, in the document, **a new field** of type boolean which name is composed by the concatenation of the criteria and the value, and which value is `true`.\r\n\r\nFor example, let&#39;s take two criteria: *service* and *region*.\r\n\r\nIf your array `service` has two elements: `service1` and `service2` you create two fields `service_service1` and `service_service2` in the document, with a value of true.\r\n\r\nIf your array `region` has three elements: `r1`, `r2` and `r3` you create three fields `region_r1`, `region_r2` and `region_r3` with a value of true.\r\n\r\n\r\nThen, you can query as follows:\r\n\r\n\r\n\r\n      db.collection(&#39;test&#39;)\r\n        .where(&#39;region_r1&#39;, &#39;==&#39;, true)\r\n        .where(&#39;service_service2&#39;, &#39;==&#39;, true)\r\n        .get()\r\n        .then(function (querySnapshot) {\r\n          querySnapshot.forEach(function (doc) {\r\n            console.log(doc.id, &#39; =&gt; &#39;, doc.data());\r\n          });\r\n        });\r\n\r\n\r\nNote that this approach will not work if you want to combine the equality operators with some inequality operators (&lt;, &lt;=, &gt;, and !=) because you would need to create some [composite indexes][2]. \r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/queries#array_membership\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/indexing","title":"Firestore: Is it possible to filter multiple fields in a collection using whereArrayContains?","body":"<p>As you have already noted and as explained in the <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#array_membership\" rel=\"nofollow noreferrer\">doc</a>: &quot;You can use at most one <code>array-contains</code> clause per query.&quot;</p>\n<p><strong>However</strong>, in your case, you may be able to use the following approach:</p>\n<p>For a given document, for each of the 5 search criteria, for each possible value for the criteria, add, in the document, <strong>a new field</strong> of type boolean which name is composed by the concatenation of the criteria and the value, and which value is <code>true</code>.</p>\n<p>For example, let's take two criteria: <em>service</em> and <em>region</em>.</p>\n<p>If your array <code>service</code> has two elements: <code>service1</code> and <code>service2</code> you create two fields <code>service_service1</code> and <code>service_service2</code> in the document, with a value of true.</p>\n<p>If your array <code>region</code> has three elements: <code>r1</code>, <code>r2</code> and <code>r3</code> you create three fields <code>region_r1</code>, <code>region_r2</code> and <code>region_r3</code> with a value of true.</p>\n<p>Then, you can query as follows:</p>\n<pre><code>  db.collection('test')\n    .where('region_r1', '==', true)\n    .where('service_service2', '==', true)\n    .get()\n    .then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        console.log(doc.id, ' =&gt; ', doc.data());\n      });\n    });\n</code></pre>\n<p>Note that this approach will not work if you want to combine the equality operators with some inequality operators (&lt;, &lt;=, &gt;, and !=) because you would need to create some <a href=\"https://firebase.google.com/docs/firestore/query-data/indexing\" rel=\"nofollow noreferrer\">composite indexes</a>.</p>\n"}],"owner":{"account_id":20029863,"reputation":45,"user_id":14682889,"display_name":"Lea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1388,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678942692,"creation_date":1607781495,"question_id":65265744,"body_markdown":"I&#39;m working on an application for pet services where users could choose five conditions to their searches. They are required to choose the type of service they want, the type of pets, number of pets, the region and subregion that they want. They will make their selection through spinners. The result will display the lists of users who provide the services based on their filter. \r\n\r\nI have learnt that firestore only allows using whereArrayContains once in a query. How can combine all these queries to filter each related field in the collections? Is it possible to use AND operator?\r\n\r\nThis was my code.\r\n\r\n``` \r\nQuery query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype)\r\n.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;)\r\n.whereArrayContains(&quot;petnum&quot;, petnumber)\r\n.whereArrayContains(&quot;region&quot;, reg)\r\n.whereArrayContains(&quot;subregion&quot;, subreg);\r\n```\r\n\r\n\r\nI tried merging queries into task and in the onsuccesslistener, I created a toast message to see if it works. It did work but I can&#39;t figure out how to place recyclerview into the onsuccesslistener without an error.\r\n```\r\n    private void setUpRecyclerView() {\r\n        Query query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype);\r\n        Query query2 = collectionReference.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;);\r\n        Query query3 = collectionReference.whereArrayContains(&quot;petnum&quot;, petnumber);\r\n        Query query4 = collectionReference.whereArrayContains(&quot;region&quot;, reg);\r\n        Query query5 = collectionReference.whereArrayContains(&quot;subregion&quot;, subreg);\r\n\r\n        Task task = query.get();\r\n        Task task2 = query2.get();\r\n        Task task3 = query3.get();\r\n        Task task4 = query4.get();\r\n        Task task5 = query5.get();\r\n\r\n        Task&lt;List&lt;QuerySnapshot&gt;&gt; combinedtask = Tasks.whenAllSuccess(task, task2, task3, task4, task5);\r\n        combinedtask.addOnSuccessListener(new OnSuccessListener&lt;List&lt;QuerySnapshot&gt;&gt;() {\r\n            @Override\r\n            public void onSuccess(List&lt;QuerySnapshot&gt; querySnapshots) {\r\n                Toast.makeText(getApplicationContext(),&quot;Value passed&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        //only manages to display one query\r\n       FirestoreRecyclerOptions&lt;model&gt; options = new FirestoreRecyclerOptions.Builder&lt;model&gt;().setQuery(query, model.class).build();\r\n        adapter = new myadapter(options);\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n    }\r\n```","title":"Firestore: Is it possible to filter multiple fields in a collection using whereArrayContains?","body":"<p>I'm working on an application for pet services where users could choose five conditions to their searches. They are required to choose the type of service they want, the type of pets, number of pets, the region and subregion that they want. They will make their selection through spinners. The result will display the lists of users who provide the services based on their filter.</p>\n<p>I have learnt that firestore only allows using whereArrayContains once in a query. How can combine all these queries to filter each related field in the collections? Is it possible to use AND operator?</p>\n<p>This was my code.</p>\n<pre><code>Query query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype)\n.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;)\n.whereArrayContains(&quot;petnum&quot;, petnumber)\n.whereArrayContains(&quot;region&quot;, reg)\n.whereArrayContains(&quot;subregion&quot;, subreg);\n</code></pre>\n<p>I tried merging queries into task and in the onsuccesslistener, I created a toast message to see if it works. It did work but I can't figure out how to place recyclerview into the onsuccesslistener without an error.</p>\n<pre><code>    private void setUpRecyclerView() {\n        Query query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype);\n        Query query2 = collectionReference.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;);\n        Query query3 = collectionReference.whereArrayContains(&quot;petnum&quot;, petnumber);\n        Query query4 = collectionReference.whereArrayContains(&quot;region&quot;, reg);\n        Query query5 = collectionReference.whereArrayContains(&quot;subregion&quot;, subreg);\n\n        Task task = query.get();\n        Task task2 = query2.get();\n        Task task3 = query3.get();\n        Task task4 = query4.get();\n        Task task5 = query5.get();\n\n        Task&lt;List&lt;QuerySnapshot&gt;&gt; combinedtask = Tasks.whenAllSuccess(task, task2, task3, task4, task5);\n        combinedtask.addOnSuccessListener(new OnSuccessListener&lt;List&lt;QuerySnapshot&gt;&gt;() {\n            @Override\n            public void onSuccess(List&lt;QuerySnapshot&gt; querySnapshots) {\n                Toast.makeText(getApplicationContext(),&quot;Value passed&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n        });\n        //only manages to display one query\n       FirestoreRecyclerOptions&lt;model&gt; options = new FirestoreRecyclerOptions.Builder&lt;model&gt;().setQuery(query, model.class).build();\n        adapter = new myadapter(options);\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(adapter);\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","design-patterns","java-8","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678894129,"creation_date":1678894129,"answer_id":75746828,"question_id":75746053,"body_markdown":"One way you can use `while` loop inside `try` block with `10` minutes sleep time when `externalService.getRecord()` return empty list. And make `computeValue` method to return `null` if empty list is returned by `externalService.getRecord()`\r\n\r\nIn this case you can keep the scheduler to run between 7AM to 9AM\r\n\r\n     double value = null;\r\n\r\n     try {\r\n\r\n         while(value == null) {\r\n\r\n            value = computeValue(String product);\r\n\r\n            if(value == null){\r\n               Thread.sleep(10) //minutes\r\n            }\r\n         }\r\n      } \r\n        catch {\r\n          log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\r\n      }\r\n\r\nYou can also check [Spring Retry][1] but you have to specify the max number of retries and you can keep it `Integer.MAX`. \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-retry","title":"How to implement retry mechanism with exception and try catch","body":"<p>One way you can use <code>while</code> loop inside <code>try</code> block with <code>10</code> minutes sleep time when <code>externalService.getRecord()</code> return empty list. And make <code>computeValue</code> method to return <code>null</code> if empty list is returned by <code>externalService.getRecord()</code></p>\n<p>In this case you can keep the scheduler to run between 7AM to 9AM</p>\n<pre><code> double value = null;\n\n try {\n\n     while(value == null) {\n\n        value = computeValue(String product);\n\n        if(value == null){\n           Thread.sleep(10) //minutes\n        }\n     }\n  } \n    catch {\n      log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\n  }\n</code></pre>\n<p>You can also check <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">Spring Retry</a> but you have to specify the max number of retries and you can keep it <code>Integer.MAX</code>.</p>\n"},{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678942237,"creation_date":1678942237,"answer_id":75752279,"question_id":75746053,"body_markdown":"I tried to replicate your question, here is one possible solution.\r\n\r\n```\r\nprivate double value = null;\r\nprivate long lastSuccess;\r\n\r\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\r\npublic void dailyComputeValue() {\r\n\r\n  if(value != null &amp;&amp; \r\n     lastSuccess != null &amp;&amp; \r\n     !sameDate(lastSuccess, System.currentTimeMillis()){\r\n     // resetting value in new day\r\n     value = null;\r\n  }\r\n  \r\n  if(value != null) return; // skipping scheduled job if value is present\r\n\r\n  try {\r\n     value = computeValue(String product);\r\n  } catch (Exception ex) {\r\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\r\n     return;\r\n  }\r\n\r\n  lastSuccess = System.currentTimeMillis();\r\n  valueRepository.save(value);\r\n}\r\n```\r\n\r\n\r\nChecking same date:\r\n\r\n```\r\nprivate Boolean sameDate(long d1, long d2){\r\n  Calendar cal1 = Calendar.getInstance();\r\n  Calendar cal2 = Calendar.getInstance();\r\n  cal1.setTimeInMillis(d1);\r\n  cal2.setTimeInMillis(d2);\r\n  return cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR) &amp;&amp;\r\n                        cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR);\r\n}\r\n```\r\n\r\nHope it is of some help.","title":"How to implement retry mechanism with exception and try catch","body":"<p>I tried to replicate your question, here is one possible solution.</p>\n<pre><code>private double value = null;\nprivate long lastSuccess;\n\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\npublic void dailyComputeValue() {\n\n  if(value != null &amp;&amp; \n     lastSuccess != null &amp;&amp; \n     !sameDate(lastSuccess, System.currentTimeMillis()){\n     // resetting value in new day\n     value = null;\n  }\n  \n  if(value != null) return; // skipping scheduled job if value is present\n\n  try {\n     value = computeValue(String product);\n  } catch (Exception ex) {\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\n     return;\n  }\n\n  lastSuccess = System.currentTimeMillis();\n  valueRepository.save(value);\n}\n</code></pre>\n<p>Checking same date:</p>\n<pre><code>private Boolean sameDate(long d1, long d2){\n  Calendar cal1 = Calendar.getInstance();\n  Calendar cal2 = Calendar.getInstance();\n  cal1.setTimeInMillis(d1);\n  cal2.setTimeInMillis(d2);\n  return cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR) &amp;&amp;\n                        cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR);\n}\n</code></pre>\n<p>Hope it is of some help.</p>\n"}],"owner":{"account_id":27534971,"reputation":33,"user_id":21012804,"display_name":"exponents"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678942237,"creation_date":1678890270,"question_id":75746053,"body_markdown":"What I want to do:\r\n-\r\n\r\nI want to implement a retry mechanism for function `dailyComputeValue`. `dailyComputeValue` will call `computeValue`. There is one part within function `ComputeValue` where we will call `externalService.getRecord`, which could return an empty list.\r\n\r\nIf this is the case, I want to rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run `checkExpiryForADate`, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)\r\n\r\nThe complication is that I cannot use a boolean flag in this case because `computeValue` needs to return a `double`. So I am thinking of throwing an exception if `externalService.getRecord` returns an empty list.\r\nI have changed `dailyComputeValue` to be like the code below to implement the retry mechanism\r\n\r\nWhat I have tried:\r\n-\r\n\r\n```\r\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\r\npublic void dailyComputeValue() {\r\n  double value = 0;\r\n  try {\r\n      value = computeValue(String product);\r\n  } \r\n  catch {\r\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\r\n  }\r\n  //to only save to database if there is good value (not from the empty list)\r\n  valueRepository.save(value);\r\n}\r\n\r\npublic Double computeValue(String product)\r\n{\r\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; valueRecords = new ArrayList&lt;&gt;(externalService.getRecord());\r\n    if (valueRecords.isEmpty()){\r\n    throw new Exception(&quot;Record not available yet&quot;);\r\n    }\r\n    //perform some operation to return a double\r\n}\r\n```\r\n\r\nThe problem with my code:\r\n-\r\n\r\nThe current code will retry `computeValue` every 10 minutes, but will not stop once computeValue returns a double. I am not sure how to implement the code to &quot;rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run `dailyComputeValue`, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)&quot;.\r\n\r\nAny help would be greatly appreciated, thanks in advance.","title":"How to implement retry mechanism with exception and try catch","body":"<h2>What I want to do:</h2>\n<p>I want to implement a retry mechanism for function <code>dailyComputeValue</code>. <code>dailyComputeValue</code> will call <code>computeValue</code>. There is one part within function <code>ComputeValue</code> where we will call <code>externalService.getRecord</code>, which could return an empty list.</p>\n<p>If this is the case, I want to rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run <code>checkExpiryForADate</code>, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)</p>\n<p>The complication is that I cannot use a boolean flag in this case because <code>computeValue</code> needs to return a <code>double</code>. So I am thinking of throwing an exception if <code>externalService.getRecord</code> returns an empty list.\nI have changed <code>dailyComputeValue</code> to be like the code below to implement the retry mechanism</p>\n<h2>What I have tried:</h2>\n<pre><code>@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\npublic void dailyComputeValue() {\n  double value = 0;\n  try {\n      value = computeValue(String product);\n  } \n  catch {\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\n  }\n  //to only save to database if there is good value (not from the empty list)\n  valueRepository.save(value);\n}\n\npublic Double computeValue(String product)\n{\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; valueRecords = new ArrayList&lt;&gt;(externalService.getRecord());\n    if (valueRecords.isEmpty()){\n    throw new Exception(&quot;Record not available yet&quot;);\n    }\n    //perform some operation to return a double\n}\n</code></pre>\n<h2>The problem with my code:</h2>\n<p>The current code will retry <code>computeValue</code> every 10 minutes, but will not stop once computeValue returns a double. I am not sure how to implement the code to &quot;rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run <code>dailyComputeValue</code>, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)&quot;.</p>\n<p>Any help would be greatly appreciated, thanks in advance.</p>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":4403649,"reputation":714,"user_id":3588633,"accept_rate":53,"display_name":"omarmallat"},"score":0,"creation_date":1679468745,"post_id":75750670,"comment_id":133725561,"body_markdown":"Do you want to call Graph from the portal or from the API?","body":"Do you want to call Graph from the portal or from the API?"},{"owner":{"account_id":13305389,"reputation":13,"user_id":9605360,"display_name":"Quim PerVal"},"score":0,"creation_date":1684465846,"post_id":75750670,"comment_id":134524834,"body_markdown":"I wanted to retrieve some data from the graph, from the API, however I  learned how to include the information in the token&#39;s body, therefore it was not necessary to connect to the microsoft graph.","body":"I wanted to retrieve some data from the graph, from the API, however I  learned how to include the information in the token&#39;s body, therefore it was not necessary to connect to the microsoft graph."},{"owner":{"account_id":4403649,"reputation":714,"user_id":3588633,"accept_rate":53,"display_name":"omarmallat"},"score":0,"creation_date":1684575013,"post_id":75750670,"comment_id":134539324,"body_markdown":"Not sure about Java, but it&#39;s a widely used case, and I used it personally in my asp.net web app and asp.net web api. User login to web app, get a token from Microsoft identity, and then call the web api using this token. Then, the api will accept your call because of that token, and then use this token to call MS Graph. If you want I can share the .Net detail and you convert to java","body":"Not sure about Java, but it&#39;s a widely used case, and I used it personally in my asp.net web app and asp.net web api. User login to web app, get a token from Microsoft identity, and then call the web api using this token. Then, the api will accept your call because of that token, and then use this token to call MS Graph. If you want I can share the .Net detail and you convert to java"}],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7657,"user_id":18229928,"display_name":"Rukmini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678941211,"creation_date":1678941211,"answer_id":75752202,"question_id":75750670,"body_markdown":"***I tried to reproduce the same in my environment and got the results like below:***\r\n\r\nI created a **`Server Application`** and Exposed an API:\r\n\r\n![enter image description here](https://i.stack.imgur.com/BJYPz.png)\r\n\r\nI added API permissions in the **`Client Application`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/ok3id.png)\r\n\r\nI generated the **access token** by using parameters like below:\r\n\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\ngrant_type:authorization_code\r\nscope:api://5c4cc2c2-66e7-4ccf-b7ac-f9a9d16bfd3b/test.read User.Read.All\r\ncode:code\r\nredirect_uri:https://jwt.ms\r\nclient_secret:ClientSecret\r\n```\r\n![enter image description here](https://i.stack.imgur.com/esxHd.png)\r\n\r\nWhen I decoded the token the **aud** is  **`api://AppID`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/NNLZk.png)\r\n\r\n\r\nWhen **I tried to call Graph API using the above generated access token**, I got the error like below:\r\n```json\r\nGET https://graph.microsoft.com/v1.0/users/UserID\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/WeFt1.png)\r\n\r\n&gt; **Note** that : By using one access token, it is not possible to call two APIs. The **aud** to call Graph API must be `https://graph.microsoft.com` and the **aud** to call Web API must be  `api://AppID`.\r\n\r\nSo, **generate another access token to call Graph API** like below:\r\n\r\nI generated the **access token** by using below parameters:\r\n\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\ngrant_type:authorization_code\r\nscope:User.Read.All\r\ncode:code\r\nredirect_uri:https://jwt.ms\r\nclient_secret:ClientSecret\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/Nn7hr.png)\r\n\r\nWhen I decoded the token the **aud** is `https://graph.microsoft.com` like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/Wawjs.png)\r\n\r\nWhen I tried to make a call using Graph API using the above access token, **I got the results successfully like below**:\r\n\r\n```json\r\nGET https://graph.microsoft.com/v1.0/users/UserID\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/XEzTy.png)","title":"Call microsoft graph with existing token received from web app","body":"<p><em><strong>I tried to reproduce the same in my environment and got the results like below:</strong></em></p>\n<p>I created a <strong><code>Server Application</code></strong> and Exposed an API:</p>\n<p><img src=\"https://i.stack.imgur.com/BJYPz.png\" alt=\"enter image description here\" /></p>\n<p>I added API permissions in the <strong><code>Client Application</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/ok3id.png\" alt=\"enter image description here\" /></p>\n<p>I generated the <strong>access token</strong> by using parameters like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\ngrant_type:authorization_code\nscope:api://5c4cc2c2-66e7-4ccf-b7ac-f9a9d16bfd3b/test.read User.Read.All\ncode:code\nredirect_uri:https://jwt.ms\nclient_secret:ClientSecret\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/esxHd.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the token the <strong>aud</strong> is  <strong><code>api://AppID</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/NNLZk.png\" alt=\"enter image description here\" /></p>\n<p>When <strong>I tried to call Graph API using the above generated access token</strong>, I got the error like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET https://graph.microsoft.com/v1.0/users/UserID\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/WeFt1.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p><strong>Note</strong> that : By using one access token, it is not possible to call two APIs. The <strong>aud</strong> to call Graph API must be <code>https://graph.microsoft.com</code> and the <strong>aud</strong> to call Web API must be  <code>api://AppID</code>.</p>\n</blockquote>\n<p>So, <strong>generate another access token to call Graph API</strong> like below:</p>\n<p>I generated the <strong>access token</strong> by using below parameters:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\ngrant_type:authorization_code\nscope:User.Read.All\ncode:code\nredirect_uri:https://jwt.ms\nclient_secret:ClientSecret\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Nn7hr.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the token the <strong>aud</strong> is <code>https://graph.microsoft.com</code> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/Wawjs.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to make a call using Graph API using the above access token, <strong>I got the results successfully like below</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET https://graph.microsoft.com/v1.0/users/UserID\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/XEzTy.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":13305389,"reputation":13,"user_id":9605360,"display_name":"Quim PerVal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678941211,"creation_date":1678919661,"question_id":75750670,"body_markdown":"I&#39;m modifying a backend server to consume tokens provided by azure ad, the portal web app opens the microsoft pop up to login, and once the user is logged in it calls the api I&#39;m working on.\r\nThe web app is registered in azure ad.\r\nThe server validates the token and I wanr to call the microsoft graph to obtain user information that is not in the token.\r\n\r\nCan in someway I use the token that is received from the web app to call the graph api? Or do I have to obtain another token to call the graph api? In this second case, how to obtain a second token?\r\nThe server uses spring boot and java.\r\nThe only data I have is the token passed from the portal. \r\nThe azure ad application has access to profiles.\r\nThanks in advance!","title":"Call microsoft graph with existing token received from web app","body":"<p>I'm modifying a backend server to consume tokens provided by azure ad, the portal web app opens the microsoft pop up to login, and once the user is logged in it calls the api I'm working on.\nThe web app is registered in azure ad.\nThe server validates the token and I wanr to call the microsoft graph to obtain user information that is not in the token.</p>\n<p>Can in someway I use the token that is received from the web app to call the graph api? Or do I have to obtain another token to call the graph api? In this second case, how to obtain a second token?\nThe server uses spring boot and java.\nThe only data I have is the token passed from the portal.\nThe azure ad application has access to profiles.\nThanks in advance!</p>\n"},{"tags":["java","android","react-native","socks"],"owner":{"account_id":26264138,"reputation":23,"user_id":19934976,"display_name":"Gokuhan21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678941121,"creation_date":1678941121,"question_id":75752196,"body_markdown":"I am making a react-native app for android and there is no SocksServer libraries in npm. There is only SocksClient for client communications to server. To run the socks server in app react-native I need a new java native module to create the socks5 connection/negotiation then i can import it to react-native and start the server/listening on the app. The build keeps failing `error: incompatible types: SocksServerModule cannot be converted to ReactPackage`. I imported the package to MainApplication.java\r\n\r\n ```\r\nimport com.vpndev.SocksServerModule;\r\n//...and added to getPackages()\r\npackages.add(new SocksServerModule(getReactContext()));\r\n//...\r\npublic ReactApplicationContext getReactContext() {\r\n    return getReactNativeHost().getReactInstanceManager().getCurrentReactContext();\r\n  }\r\n```\r\n\r\nand this is the SocksServerModule.java:\r\n\r\n```\r\npackage com.vpndev;\r\n\r\nimport android.util.Log;\r\n\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.bridge.NativeModule;\r\nimport com.facebook.react.bridge.JavaScriptModule;\r\nimport com.facebook.react.uimanager.ViewManager;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport io.netty.bootstrap.ServerBootstrap;\r\nimport io.netty.channel.Channel;\r\nimport io.netty.channel.ChannelFuture;\r\nimport io.netty.channel.ChannelInitializer;\r\nimport io.netty.channel.ChannelOption;\r\nimport io.netty.channel.EventLoopGroup;\r\nimport io.netty.channel.nio.NioEventLoopGroup;\r\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\r\nimport io.netty.channel.socket.nio.NioSocketChannel;\r\nimport io.netty.handler.codec.socksx.SocksPortUnificationServerHandler;\r\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5InitialResponse;\r\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5PasswordAuthResponse;\r\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5CommandResponse;\r\nimport io.netty.handler.codec.socksx.v5.Socks5AddressType;\r\nimport io.netty.handler.codec.socksx.v5.Socks5AuthMethod;\r\nimport io.netty.handler.codec.socksx.v5.Socks5CommandRequestDecoder;\r\nimport io.netty.handler.codec.socksx.v5.Socks5CommandStatus;\r\nimport io.netty.handler.codec.socksx.v5.Socks5InitialRequestDecoder;\r\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthRequestDecoder;\r\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthStatus;\r\nimport io.netty.handler.logging.LogLevel;\r\nimport io.netty.handler.logging.LoggingHandler;\r\n\r\npublic class SocksServerModule extends ReactContextBaseJavaModule {\r\n    private static final String TAG = &quot;SocksServerModule&quot;;\r\n    private final ReactApplicationContext reactContext;\r\n    private Channel serverChannel;\r\n    private EventLoopGroup bossGroup;\r\n    private EventLoopGroup workerGroup;\r\n\r\n    public SocksServerModule(ReactApplicationContext reactContext) {\r\n        super(reactContext);\r\n        this.reactContext = reactContext;\r\n    }\r\n    @Override\r\n    public String getName() {\r\n        return &quot;SocksServer&quot;;\r\n    }\r\n\r\n    @ReactMethod\r\n    public void start(int port) {\r\n        new Thread(() -&gt; {\r\n            bossGroup = new NioEventLoopGroup(1);\r\n            workerGroup = new NioEventLoopGroup();\r\n            try {\r\n                ServerBootstrap b = new ServerBootstrap();\r\n                b.group(bossGroup, workerGroup)\r\n                        .channel(NioServerSocketChannel.class)\r\n                        .handler(new LoggingHandler(LogLevel.INFO))\r\n                        .childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() {\r\n                            @Override\r\npublic void initChannel(NioSocketChannel ch) {\r\n    ch.pipeline().addLast(\r\n    new SocksPortUnificationServerHandler(),\r\n    new Socks5InitialRequestDecoder(),\r\n    new DefaultSocks5InitialResponse(Socks5AuthMethod.NO_AUTH),\r\n    new Socks5PasswordAuthRequestDecoder(),\r\n    new DefaultSocks5PasswordAuthResponse(Socks5PasswordAuthStatus.SUCCESS),\r\n    new Socks5CommandRequestDecoder(),\r\n    new DefaultSocks5CommandResponse(Socks5CommandStatus.SUCCESS, Socks5AddressType.IPv4));\r\n\r\n}\r\n\r\n                        })\r\n                        .childOption(ChannelOption.SO_KEEPALIVE, true);\r\n\r\n                ChannelFuture f = b.bind(port).sync();\r\n                serverChannel = f.channel();\r\n\r\n                Log.i(TAG, &quot;SOCKS server started on port &quot; + port);\r\n\r\n                f.channel().closeFuture().sync();\r\n            } catch (InterruptedException e) {\r\n                Log.e(TAG, &quot;Failed to start SOCKS server&quot;, e);\r\n            } finally {\r\n                bossGroup.shutdownGracefully();\r\n                workerGroup.shutdownGracefully();\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    @ReactMethod\r\n    public void stop() {\r\n        if (serverChannel != null) {\r\n            serverChannel.close();\r\n            serverChannel = null;\r\n            Log.i(TAG, &quot;SOCKS server stopped&quot;);\r\n        }\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\nand i am trying to use the module in App.tsx to start the server but not working:\r\n```\r\nimport { NativeModules } from &#39;react-native&#39;;\r\n\r\nconst SocksServer = NativeModules.SocksServer;\r\nSocksServer.start(1080);\r\n```\r\n\r\n\r\n","title":"SocksServer Java Native Module for React-Native on Android","body":"<p>I am making a react-native app for android and there is no SocksServer libraries in npm. There is only SocksClient for client communications to server. To run the socks server in app react-native I need a new java native module to create the socks5 connection/negotiation then i can import it to react-native and start the server/listening on the app. The build keeps failing <code>error: incompatible types: SocksServerModule cannot be converted to ReactPackage</code>. I imported the package to MainApplication.java</p>\n<pre><code>import com.vpndev.SocksServerModule;\n//...and added to getPackages()\npackages.add(new SocksServerModule(getReactContext()));\n//...\npublic ReactApplicationContext getReactContext() {\n   return getReactNativeHost().getReactInstanceManager().getCurrentReactContext();\n }\n</code></pre>\n<p>and this is the SocksServerModule.java:</p>\n<pre><code>package com.vpndev;\n\nimport android.util.Log;\n\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.JavaScriptModule;\nimport com.facebook.react.uimanager.ViewManager;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.Channel;\nimport io.netty.channel.ChannelFuture;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.ChannelOption;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\nimport io.netty.channel.socket.nio.NioSocketChannel;\nimport io.netty.handler.codec.socksx.SocksPortUnificationServerHandler;\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5InitialResponse;\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5PasswordAuthResponse;\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5CommandResponse;\nimport io.netty.handler.codec.socksx.v5.Socks5AddressType;\nimport io.netty.handler.codec.socksx.v5.Socks5AuthMethod;\nimport io.netty.handler.codec.socksx.v5.Socks5CommandRequestDecoder;\nimport io.netty.handler.codec.socksx.v5.Socks5CommandStatus;\nimport io.netty.handler.codec.socksx.v5.Socks5InitialRequestDecoder;\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthRequestDecoder;\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthStatus;\nimport io.netty.handler.logging.LogLevel;\nimport io.netty.handler.logging.LoggingHandler;\n\npublic class SocksServerModule extends ReactContextBaseJavaModule {\n    private static final String TAG = &quot;SocksServerModule&quot;;\n    private final ReactApplicationContext reactContext;\n    private Channel serverChannel;\n    private EventLoopGroup bossGroup;\n    private EventLoopGroup workerGroup;\n\n    public SocksServerModule(ReactApplicationContext reactContext) {\n        super(reactContext);\n        this.reactContext = reactContext;\n    }\n    @Override\n    public String getName() {\n        return &quot;SocksServer&quot;;\n    }\n\n    @ReactMethod\n    public void start(int port) {\n        new Thread(() -&gt; {\n            bossGroup = new NioEventLoopGroup(1);\n            workerGroup = new NioEventLoopGroup();\n            try {\n                ServerBootstrap b = new ServerBootstrap();\n                b.group(bossGroup, workerGroup)\n                        .channel(NioServerSocketChannel.class)\n                        .handler(new LoggingHandler(LogLevel.INFO))\n                        .childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() {\n                            @Override\npublic void initChannel(NioSocketChannel ch) {\n    ch.pipeline().addLast(\n    new SocksPortUnificationServerHandler(),\n    new Socks5InitialRequestDecoder(),\n    new DefaultSocks5InitialResponse(Socks5AuthMethod.NO_AUTH),\n    new Socks5PasswordAuthRequestDecoder(),\n    new DefaultSocks5PasswordAuthResponse(Socks5PasswordAuthStatus.SUCCESS),\n    new Socks5CommandRequestDecoder(),\n    new DefaultSocks5CommandResponse(Socks5CommandStatus.SUCCESS, Socks5AddressType.IPv4));\n\n}\n\n                        })\n                        .childOption(ChannelOption.SO_KEEPALIVE, true);\n\n                ChannelFuture f = b.bind(port).sync();\n                serverChannel = f.channel();\n\n                Log.i(TAG, &quot;SOCKS server started on port &quot; + port);\n\n                f.channel().closeFuture().sync();\n            } catch (InterruptedException e) {\n                Log.e(TAG, &quot;Failed to start SOCKS server&quot;, e);\n            } finally {\n                bossGroup.shutdownGracefully();\n                workerGroup.shutdownGracefully();\n            }\n        }).start();\n    }\n\n    @ReactMethod\n    public void stop() {\n        if (serverChannel != null) {\n            serverChannel.close();\n            serverChannel = null;\n            Log.i(TAG, &quot;SOCKS server stopped&quot;);\n        }\n    }\n\n    \n}\n</code></pre>\n<p>and i am trying to use the module in App.tsx to start the server but not working:</p>\n<pre><code>import { NativeModules } from 'react-native';\n\nconst SocksServer = NativeModules.SocksServer;\nSocksServer.start(1080);\n</code></pre>\n"},{"tags":["java","algorithm","recursion","dynamic-programming","theory"],"answers":[{"tags":[],"owner":{"account_id":27689497,"reputation":1,"user_id":21136498,"display_name":"starmur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678875397,"creation_date":1678875378,"answer_id":75743322,"question_id":75743196,"body_markdown":"Have you considered  loops? So something like: \r\n\r\n        i = 1 \r\n        j = 1 \r\n        for value in len(baseIntegers):\r\n            sum[i,j] = sum[i-1,j-1]\r\n\r\nUnsure how well this would scale but I did it quickly in Python and it worked!","title":"Dynamic Programming with variable dimensions","body":"<p>Have you considered  loops? So something like:</p>\n<pre><code>    i = 1 \n    j = 1 \n    for value in len(baseIntegers):\n        sum[i,j] = sum[i-1,j-1]\n</code></pre>\n<p>Unsure how well this would scale but I did it quickly in Python and it worked!</p>\n"},{"tags":[],"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678939300,"creation_date":1678938899,"answer_id":75752036,"question_id":75743196,"body_markdown":"First of all if you want to create a variable dimension array, you can simply create an interface.  Something like this.\r\n\r\n    public interface MultiDimArray {\r\n        int dim;\r\n        int get (int[] idx);\r\n        void set (int[] idx, int value);\r\n        MultiDimArray getAll (int[] partialIdx);\r\n        void setAll(int[] partialIdx, MultiDimArray values);\r\n    }\r\n\r\nThen you create three subclasses that can be actually implemented.\r\n\r\n1. A `HigherMultiDimArray` whose dimension is 2+.\r\n2. A `OneDimArray` whose dimension is 1, and is where data is actually stored.\r\n3. A `ZeroDimArray` whose dimension is 0, is basically a wrapper around an `int`, and which exists to give `OneDimArray` something to return at need.\r\n\r\nThis will let you declare an array of any dimension.\r\n\r\n**BUT** you will find that a 10-dimensional array with 10 values per dimension takes 10 billion elements and you&#39;ll run out of memory.\r\n\r\n-----\r\n\r\nTherefore I would recommend that you find a one dimensional structure to answer the questions:\r\n\r\n1. How many values do we need to get to value `x`?\r\n2. What is a last value that got us there?\r\n\r\n\r\nAnd now you&#39;re dealing with a manageable amount of data.  It isn&#39;t hard to use &quot;dynamic programming&quot; to figure out how to get this reasonably.\r\n\r\nIf you are clever about using something called A* Search, you can make getting this even faster.","title":"Dynamic Programming with variable dimensions","body":"<p>First of all if you want to create a variable dimension array, you can simply create an interface.  Something like this.</p>\n<pre><code>public interface MultiDimArray {\n    int dim;\n    int get (int[] idx);\n    void set (int[] idx, int value);\n    MultiDimArray getAll (int[] partialIdx);\n    void setAll(int[] partialIdx, MultiDimArray values);\n}\n</code></pre>\n<p>Then you create three subclasses that can be actually implemented.</p>\n<ol>\n<li>A <code>HigherMultiDimArray</code> whose dimension is 2+.</li>\n<li>A <code>OneDimArray</code> whose dimension is 1, and is where data is actually stored.</li>\n<li>A <code>ZeroDimArray</code> whose dimension is 0, is basically a wrapper around an <code>int</code>, and which exists to give <code>OneDimArray</code> something to return at need.</li>\n</ol>\n<p>This will let you declare an array of any dimension.</p>\n<p><strong>BUT</strong> you will find that a 10-dimensional array with 10 values per dimension takes 10 billion elements and you'll run out of memory.</p>\n<hr />\n<p>Therefore I would recommend that you find a one dimensional structure to answer the questions:</p>\n<ol>\n<li>How many values do we need to get to value <code>x</code>?</li>\n<li>What is a last value that got us there?</li>\n</ol>\n<p>And now you're dealing with a manageable amount of data.  It isn't hard to use &quot;dynamic programming&quot; to figure out how to get this reasonably.</p>\n<p>If you are clever about using something called A* Search, you can make getting this even faster.</p>\n"}],"owner":{"account_id":27888787,"reputation":49,"user_id":21295628,"display_name":"WAN YIN LEUNG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75752036,"answer_count":2,"score":0,"last_activity_date":1678939300,"creation_date":1678874751,"question_id":75743196,"body_markdown":"Resently I encountered this problem:\r\n\r\nGiven a set of unique base integers and a target value, return the combination of base integers which add up to the target value. The returned combination has to have the least amount of elements.\r\n\r\n```\r\nExample 1.\r\n    Given: baseIntegers = [4, 7]; target = 15;\r\n    Return: [7, 4, 4]\r\n    Explanation: 7+4+4=15.\r\n\r\nExample 2. \r\n    Given: baseIntegers = [3, 5, 7]; target = 18;\r\n    Return: [7, 5, 3, 3]\r\n    Explanation: 7+5+3+3=18. [3, 3, 3, 3, 3] is not returned since it contains 1 more element than [7, 5, 3, 3]\r\n\r\nExample 3.\r\n    Given: baseIntegers = [5, 6, 8, 11]; target = 52;\r\n    Return: [11, 11, 11, 11, 8]\r\n    Explanation: 11+11+11+11+8=52.\r\n\r\nExample 4.\r\n    Given: baseIntegers = [2, 5]; target = 3;\r\n    Return: []\r\n    Explanation: 2,5 do not add up to 3.\r\n```\r\n\r\n\r\n \r\n\r\nFor example 1, I came up with an approach to solve the question using Dynamic Programming.\r\nWithout going into much details, I created a 2-dimentional array to store the sum of the base integers:\r\n```\r\n    sum[0,0] = 0\r\n    sum[1,0] = sum[0,0]+4 = 4\r\n    sum[1,1] = sum[1,0]+7 = 11\r\n    sum[2,1] = sum[1,1]+4 = 15\r\n```\r\n... \r\nWhen I found the target sum, I retrieve the result from the dimensions [2,1] (2 fours and 1 seven).\r\n\r\nI can do example 3 in similar fashion by creating a 4-dimentional array.\r\n\r\nHowever, I&#39;m stuck if I need to solve the problem without knowing the length of baseIntegers ahead of time.\r\nThe reason is that I can not create a multi-dimensional array without knowing its dimension beforehand.\r\nSo here is my problem: Is there any way to solve this problem with variable input length? \r\nPreferablly with java, thanks!","title":"Dynamic Programming with variable dimensions","body":"<p>Resently I encountered this problem:</p>\n<p>Given a set of unique base integers and a target value, return the combination of base integers which add up to the target value. The returned combination has to have the least amount of elements.</p>\n<pre><code>Example 1.\n    Given: baseIntegers = [4, 7]; target = 15;\n    Return: [7, 4, 4]\n    Explanation: 7+4+4=15.\n\nExample 2. \n    Given: baseIntegers = [3, 5, 7]; target = 18;\n    Return: [7, 5, 3, 3]\n    Explanation: 7+5+3+3=18. [3, 3, 3, 3, 3] is not returned since it contains 1 more element than [7, 5, 3, 3]\n\nExample 3.\n    Given: baseIntegers = [5, 6, 8, 11]; target = 52;\n    Return: [11, 11, 11, 11, 8]\n    Explanation: 11+11+11+11+8=52.\n\nExample 4.\n    Given: baseIntegers = [2, 5]; target = 3;\n    Return: []\n    Explanation: 2,5 do not add up to 3.\n</code></pre>\n<p>For example 1, I came up with an approach to solve the question using Dynamic Programming.\nWithout going into much details, I created a 2-dimentional array to store the sum of the base integers:</p>\n<pre><code>    sum[0,0] = 0\n    sum[1,0] = sum[0,0]+4 = 4\n    sum[1,1] = sum[1,0]+7 = 11\n    sum[2,1] = sum[1,1]+4 = 15\n</code></pre>\n<p>...\nWhen I found the target sum, I retrieve the result from the dimensions [2,1] (2 fours and 1 seven).</p>\n<p>I can do example 3 in similar fashion by creating a 4-dimentional array.</p>\n<p>However, I'm stuck if I need to solve the problem without knowing the length of baseIntegers ahead of time.\nThe reason is that I can not create a multi-dimensional array without knowing its dimension beforehand.\nSo here is my problem: Is there any way to solve this problem with variable input length?\nPreferablly with java, thanks!</p>\n"},{"tags":["java","spring","mocking","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678937873,"post_id":75751853,"comment_id":133631130,"body_markdown":"Please produce a minimal project, including a pom.xml which replicates this.","body":"Please produce a minimal project, including a pom.xml which replicates this."}],"owner":{"account_id":28028582,"reputation":1,"user_id":21408115,"display_name":"tgxq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678936884,"creation_date":1678936596,"question_id":75751853,"body_markdown":"Here is my framework dependency version\r\nmockito-core 4.8.0\r\nmockito-inline 4.8.0\r\nmockito-junit-jupiter 4.8.0\r\nbyte-buddy  1.12.0\r\njunit 4.12\r\nspring-boot-starter 1.5.22\r\n\r\nWhen I run the springboot container for unit testing, debug runs wrongI can&#39;t see the specific location of this dependency error\r\n\r\n\r\nHere&#39;s what I&#39;m running\r\n\r\n```\r\norg.mockito.exceptions.base.MockitoException: \r\nFailed to release mocks\r\n\r\nThis should not happen unless you are using a third-party mock maker\r\n\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.initMocks(MockitoTestExecutionListener.java:67)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:47)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat com.taobao.pandora.boot.test.junit4.PandoraBootRunner.run(PandoraBootRunner.java:111)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.goldenBellCocoon.starter.TestStarter.start(TestStarter.java:41)\r\n\tat com.goldenBellCocoon.starter.TestStarter.lambda$main$0(TestStarter.java:55)\r\n\tat com.goldenBellCocoon.starter.TestStarter.main(TestStarter.java:69)\r\nCaused by: org.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class com..sec.core.manager.TaskManager.\r\n\r\nIf you&#39;re not sure why you&#39;re getting this error, please open an issue on GitHub.\r\n\r\n\r\nJava               : 1.8\r\nJVM vendor name    : Oracle Corporation\r\nJVM vendor version : 25.291-b10\r\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\r\nJVM version        : 1.8.0_291-b10\r\nJVM info           : mixed mode\r\nOS name            : Mac OS X\r\nOS version         : 10.16\r\n\r\n\r\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\r\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\r\n\r\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\r\n\t... 33 more\r\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\r\n\t... 33 more\r\nCaused by: java.lang.IllegalStateException: \r\nByte Buddy could not instrument all classes within the mock&#39;s type hierarchy\r\n\r\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\r\n - Compiled by older versions of scalac\r\n - Classes that are part of the Android distribution\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:284)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:217)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMockType(InlineDelegateByteBuddyMockMaker.java:395)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.doCreateMock(InlineDelegateByteBuddyMockMaker.java:355)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMock(InlineDelegateByteBuddyMockMaker.java:334)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:56)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:99)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:88)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1998)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:74)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:28)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:25)\r\n\tat org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\r\n\tat org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\r\n\tat org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\r\n\tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:99)\r\n\t... 33 more\r\nCaused by: java.lang.NullPointerException\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.jrGetTypeDependencies(RedefinitionDynamicTypeBuilder.java:42008)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:224)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:123)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3659)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:398)\r\n\tat sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat sun.instrument.InstrumentationImpl._jrDoTransform(InstrumentationImpl.java:428)\r\n\tat sun.instrument.InstrumentationImpl._jrTransform(InstrumentationImpl.java:42001)\r\n\tat com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:177)\r\n\tat com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:150)\r\n\tat sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:43001)\r\n\tat sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n\tat sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\r\n\t... 56 more\r\n```\r\n\r\n\r\nhelp with my problem\r\n","title":"use mockito to execute, java.lang.NullPointerException at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.jrGetTypeDependencies","body":"<p>Here is my framework dependency version\nmockito-core 4.8.0\nmockito-inline 4.8.0\nmockito-junit-jupiter 4.8.0\nbyte-buddy  1.12.0\njunit 4.12\nspring-boot-starter 1.5.22</p>\n<p>When I run the springboot container for unit testing, debug runs wrongI can't see the specific location of this dependency error\n</p>\n<p>Here's what I'm running</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nFailed to release mocks\n\nThis should not happen unless you are using a third-party mock maker\n\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.initMocks(MockitoTestExecutionListener.java:67)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:47)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at com.taobao.pandora.boot.test.junit4.PandoraBootRunner.run(PandoraBootRunner.java:111)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.goldenBellCocoon.starter.TestStarter.start(TestStarter.java:41)\n    at com.goldenBellCocoon.starter.TestStarter.lambda$main$0(TestStarter.java:55)\n    at com.goldenBellCocoon.starter.TestStarter.main(TestStarter.java:69)\nCaused by: org.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com..sec.core.manager.TaskManager.\n\nIf you're not sure why you're getting this error, please open an issue on GitHub.\n\n\nJava               : 1.8\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 25.291-b10\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\nJVM version        : 1.8.0_291-b10\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.16\n\n\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\n\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\n    ... 33 more\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\n    ... 33 more\nCaused by: java.lang.IllegalStateException: \nByte Buddy could not instrument all classes within the mock's type hierarchy\n\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\n - Compiled by older versions of scalac\n - Classes that are part of the Android distribution\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:284)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:217)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMockType(InlineDelegateByteBuddyMockMaker.java:395)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.doCreateMock(InlineDelegateByteBuddyMockMaker.java:355)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMock(InlineDelegateByteBuddyMockMaker.java:334)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:56)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:99)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:88)\n    at org.mockito.Mockito.mock(Mockito.java:1998)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:74)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:28)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:25)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\n    at org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:99)\n    ... 33 more\nCaused by: java.lang.NullPointerException\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.jrGetTypeDependencies(RedefinitionDynamicTypeBuilder.java:42008)\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:224)\n    at net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:123)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3659)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:398)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl._jrDoTransform(InstrumentationImpl.java:428)\n    at sun.instrument.InstrumentationImpl._jrTransform(InstrumentationImpl.java:42001)\n    at com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:177)\n    at com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:150)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:43001)\n    at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\n    ... 56 more\n</code></pre>\n<p>help with my problem</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626874515,"creation_date":1626874515,"answer_id":68470491,"question_id":68468415,"body_markdown":"The allowed values for the case transformation configuration are:\r\n\r\n* upper\r\n* lower\r\n* capital\r\n\r\nYou can read more about it [here](https://mapstruct.org/documentation/dev/reference/html/#_custom_name_transformation)\r\n\r\n---\r\nThis question also lead to creating [mapstruct/mapstruct#2525](https://github.com/mapstruct/mapstruct/issues/2525) and to show the available options in the error message.","title":"Error to map enums with MappingConstants.CASE_TRANSFORMATION","body":"<p>The allowed values for the case transformation configuration are:</p>\n<ul>\n<li>upper</li>\n<li>lower</li>\n<li>capital</li>\n</ul>\n<p>You can read more about it <a href=\"https://mapstruct.org/documentation/dev/reference/html/#_custom_name_transformation\" rel=\"nofollow noreferrer\">here</a></p>\n<hr />\n<p>This question also lead to creating <a href=\"https://github.com/mapstruct/mapstruct/issues/2525\" rel=\"nofollow noreferrer\">mapstruct/mapstruct#2525</a> and to show the available options in the error message.</p>\n"}],"owner":{"account_id":7751423,"reputation":11,"user_id":5867222,"display_name":"Hugo Almeida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678936720,"creation_date":1626865622,"question_id":68468415,"body_markdown":"My mapstruct version is **1.5.0.Beta1**\r\n\r\nI&#39;m trying to use `@EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)` but the following error is displayed:\r\n\r\n&gt; java: Illegal transformation for &#39;case&#39; EnumTransformationStrategy. Error: &#39;Unexpected configuration for enum case transformation: uppercase&#39;.\r\n\r\nMy usecase is:\r\n\r\n    public enum A {\r\n        ABCx,\r\n        EFGy\r\n    }\r\n\r\n    public enum B {\r\n        ABCX,\r\n        EFGY\r\n    }\r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n\r\n        @EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)\r\n        B convert(A a);\r\n    }\r\n\r\n","title":"Error to map enums with MappingConstants.CASE_TRANSFORMATION","body":"<p>My mapstruct version is <strong>1.5.0.Beta1</strong></p>\n<p>I'm trying to use <code>@EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)</code> but the following error is displayed:</p>\n<blockquote>\n<p>java: Illegal transformation for 'case' EnumTransformationStrategy. Error: 'Unexpected configuration for enum case transformation: uppercase'.</p>\n</blockquote>\n<p>My usecase is:</p>\n<pre><code>public enum A {\n    ABCx,\n    EFGy\n}\n\npublic enum B {\n    ABCX,\n    EFGY\n}\n\n@Mapper\npublic interface MyMapper {\n\n    @EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)\n    B convert(A a);\n}\n</code></pre>\n"},{"tags":["java","xml","private-key","pkcs#11","hardware-security-module"],"comments":[{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":1,"creation_date":1678664262,"post_id":75693122,"comment_id":133572599,"body_markdown":"Mostly it&#39;s a question of restructuring your thinking.  You don&#39;t &quot;get the private key from the HSM&quot;.  You send the data to the HSM, along with a reference to the key, and an operation to perform.  &quot;Sign (this data) using the key called (foo)&quot;.  Some HSMs/providers will use the Certificate as a proxy for the Private key, others you have to get the key reference from the key store.","body":"Mostly it&#39;s a question of restructuring your thinking.  You don&#39;t &quot;get the private key from the HSM&quot;.  You send the data to the HSM, along with a reference to the key, and an operation to perform.  &quot;Sign (this data) using the key called (foo)&quot;.  Some HSMs/providers will use the Certificate as a proxy for the Private key, others you have to get the key reference from the key store."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":1,"creation_date":1678664540,"post_id":75693122,"comment_id":133572627,"body_markdown":"You&#39;re using CryptoServers, and I see you are building the Sun.PKCS connector string manually in the code.  You probably should start by looking at getting the Private Key from the key store, not the certificate, unless JCE uses the cert as filter for retrieving the private key, which would be the next step.  I&#39;m not familiar with the JCE enough to provide the interface method for retrieving the correct private key from the key store, sorry.  [note: I work for Utimaco].","body":"You&#39;re using CryptoServers, and I see you are building the Sun.PKCS connector string manually in the code.  You probably should start by looking at getting the Private Key from the key store, not the certificate, unless JCE uses the cert as filter for retrieving the private key, which would be the next step.  I&#39;m not familiar with the JCE enough to provide the interface method for retrieving the correct private key from the key store, sorry.  [note: I work for Utimaco]."},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678870792,"post_id":75693122,"comment_id":133615241,"body_markdown":"Thanks for help. I used &#39;&#39;&#39;keyEntry = (PrivateKey) keystore.getKey(alias, password);&#39;&#39;&#39; and pass this issue.","body":"Thanks for help. I used &#39;&#39;&#39;keyEntry = (PrivateKey) keystore.getKey(alias, password);&#39;&#39;&#39; and pass this issue."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1678933717,"post_id":75693122,"comment_id":133630661,"body_markdown":"Please then enter an answer below, so that others with the same problem see exactly what you changed in order to progress.","body":"Please then enter an answer below, so that others with the same problem see exactly what you changed in order to progress."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1682096921,"post_id":75693122,"comment_id":134167383,"body_markdown":"For anyone stumbling across this later, my &#39;get the private key from the key store&#39;, that private key (in the Utimaco implementation) is either an encrypted key blob (encrypted using the MBK), OR it is a key handle.  While the first is the actual key, it&#39;s useless without the MBK, which only exists inside the HSM.","body":"For anyone stumbling across this later, my &#39;get the private key from the key store&#39;, that private key (in the Utimaco implementation) is either an encrypted key blob (encrypted using the MBK), OR it is a key handle.  While the first is the actual key, it&#39;s useless without the MBK, which only exists inside the HSM."}],"answers":[{"tags":[],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678936099,"creation_date":1678936099,"answer_id":75751815,"question_id":75693122,"body_markdown":"Thanks for help. I used \r\n\r\n    keyEntry = (PrivateKey) keystore.getKey(alias, password);\r\n\r\n and pass this issue.","title":"How to get private key from HSM to sign XML doc","body":"<p>Thanks for help. I used</p>\n<pre><code>keyEntry = (PrivateKey) keystore.getKey(alias, password);\n</code></pre>\n<p>and pass this issue.</p>\n"}],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678936099,"creation_date":1678431875,"question_id":75693122,"body_markdown":"How to get private key from HSM to sign XML doc\r\n\r\nI want to sign a XML document used HSM.\r\nI loaded keystore, login and get certificate, but don&#39;t know how to get privateKey to use in sign function. So what&#39;s solution for it?\r\n\r\nMy code to load and get cerificate.\r\n\r\n```\r\nString library = &quot;mypath/cs_pkcs11_R2.dll&quot;;\r\nStringBuilder builder = new StringBuilder();\r\nbuilder.append(&quot;name=&quot; + nameLib);\r\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\r\nbuilder.append(&quot;library=\\&quot;&quot; + library + &quot;\\&quot;&quot;);\r\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\r\nbuilder.append(&quot;slot=&quot; + slot);\r\n\r\nInit.init();\r\n\r\nByteArrayInputStream bais = new ByteArrayInputStream(builder.toString().getBytes());\t\t \t    \r\nprovider = new SunPKCS11(bais);\t\t \t   \r\nSecurity.addProvider(provider);\r\n\r\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\r\nkeystore.load(null, password);\r\n\r\nEnumeration&lt;String&gt; aliases = keystore.aliases();\r\nString alias;\r\nCertificate cert = null;\r\n\r\nwhile (aliases.hasMoreElements()) {\r\n\talias = aliases.nextElement();\r\n\tSystem.out.println(&quot;alias name: &quot; + alias);\r\n\t\tCertificate[] certChain = keystore.getCertificateChain(alias);\r\n\t\t\t\t            \r\n\t\tif (certChain == null) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tcert = certChain[0];\r\n\t\tif (cert instanceof X509Certificate) {\r\n\t\t\t// avoid expired certificate\r\n\t\t\t((X509Certificate) cert).checkValidity();\r\n\t\t}\t\t\t\t\r\n\r\nX509Certificate c1 = (X509Certificate) cert;\r\nPublicKey pubKey = c1.getPublicKey();\r\n```\r\n\r\nAnd here it code to sign XML file\r\n```\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\ndbf.setNamespaceAware(true);\r\nDocument doc = null;\r\nXmlSigner xmlsign = new XmlSigner();\r\n    try {\r\n        doc = dbf.newDocumentBuilder().parse(new FileInputStream(&quot;myPath\\\\xml_Input.xml&quot;));\r\n    } catch (IOException e) {\r\n       e.printStackTrace();\r\n        //System.exit(5);\r\n    }\r\n\r\nElement documentRoot = doc.getDocumentElement();\r\nElement signatureElement = xmlsign.getSignatureElement(doc);\r\n\t        \r\nString digestMethod = &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;;\r\nString signatureMethod= &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;;\r\nXMLSignature signature = new XMLSignature(doc, &quot;#&quot;, signatureMethod, provider);\r\nTransforms contentTransforms = new Transforms(doc);\r\ncontentTransforms.addTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;);\r\ncontentTransforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\r\nsignature.addDocument(xmlsign.getSignatureReferenceUri(&quot;ID&quot;, documentRoot), contentTransforms, digestMethod);\r\nsignatureElement = signature.getElement();\r\n\r\nxmlsign.addSignatureELement(&quot;LAST&quot;, documentRoot, signatureElement);\r\nsignature.sign(signKey); &lt;- need privateKey here\r\nxmlsign.populateKeyInfo(doc, signature.getKeyInfo(), cert);\r\nsignatureElement = xmlsign.getSignatureElement(doc);\r\n```","title":"How to get private key from HSM to sign XML doc","body":"<p>How to get private key from HSM to sign XML doc</p>\n<p>I want to sign a XML document used HSM.\nI loaded keystore, login and get certificate, but don't know how to get privateKey to use in sign function. So what's solution for it?</p>\n<p>My code to load and get cerificate.</p>\n<pre><code>String library = &quot;mypath/cs_pkcs11_R2.dll&quot;;\nStringBuilder builder = new StringBuilder();\nbuilder.append(&quot;name=&quot; + nameLib);\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\nbuilder.append(&quot;library=\\&quot;&quot; + library + &quot;\\&quot;&quot;);\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\nbuilder.append(&quot;slot=&quot; + slot);\n\nInit.init();\n\nByteArrayInputStream bais = new ByteArrayInputStream(builder.toString().getBytes());                \nprovider = new SunPKCS11(bais);            \nSecurity.addProvider(provider);\n\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\nkeystore.load(null, password);\n\nEnumeration&lt;String&gt; aliases = keystore.aliases();\nString alias;\nCertificate cert = null;\n\nwhile (aliases.hasMoreElements()) {\n    alias = aliases.nextElement();\n    System.out.println(&quot;alias name: &quot; + alias);\n        Certificate[] certChain = keystore.getCertificateChain(alias);\n                            \n        if (certChain == null) {\n            continue;\n        }\n        cert = certChain[0];\n        if (cert instanceof X509Certificate) {\n            // avoid expired certificate\n            ((X509Certificate) cert).checkValidity();\n        }               \n\nX509Certificate c1 = (X509Certificate) cert;\nPublicKey pubKey = c1.getPublicKey();\n</code></pre>\n<p>And here it code to sign XML file</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\nDocument doc = null;\nXmlSigner xmlsign = new XmlSigner();\n    try {\n        doc = dbf.newDocumentBuilder().parse(new FileInputStream(&quot;myPath\\\\xml_Input.xml&quot;));\n    } catch (IOException e) {\n       e.printStackTrace();\n        //System.exit(5);\n    }\n\nElement documentRoot = doc.getDocumentElement();\nElement signatureElement = xmlsign.getSignatureElement(doc);\n            \nString digestMethod = &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;;\nString signatureMethod= &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;;\nXMLSignature signature = new XMLSignature(doc, &quot;#&quot;, signatureMethod, provider);\nTransforms contentTransforms = new Transforms(doc);\ncontentTransforms.addTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;);\ncontentTransforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\nsignature.addDocument(xmlsign.getSignatureReferenceUri(&quot;ID&quot;, documentRoot), contentTransforms, digestMethod);\nsignatureElement = signature.getElement();\n\nxmlsign.addSignatureELement(&quot;LAST&quot;, documentRoot, signatureElement);\nsignature.sign(signKey); &lt;- need privateKey here\nxmlsign.populateKeyInfo(doc, signature.getKeyInfo(), cert);\nsignatureElement = xmlsign.getSignatureElement(doc);\n</code></pre>\n"},{"tags":["java","android","mongodb","api"],"answers":[{"tags":[],"owner":{"account_id":20139100,"reputation":1,"user_id":14769379,"display_name":"Harambe Lives"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678935473,"creation_date":1678935473,"answer_id":75751772,"question_id":75429884,"body_markdown":"If someone is interested, or might be in the same position as me: I found the solution for my problem.\r\n\r\nThe problem was that I actually didnt encode my Data .. so I either had to encode it with base64, or use this in the AndroidManifest.xml:\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\nHope it helps\r\n\r\n","title":"Send Data from Android App to MongoDB Atlas","body":"<p>If someone is interested, or might be in the same position as me: I found the solution for my problem.</p>\n<p>The problem was that I actually didnt encode my Data .. so I either had to encode it with base64, or use this in the AndroidManifest.xml:</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":20139100,"reputation":1,"user_id":14769379,"display_name":"Harambe Lives"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75751772,"answer_count":1,"score":0,"last_activity_date":1678935473,"creation_date":1676232615,"question_id":75429884,"body_markdown":"I have build an App in Android Studio that can scan every type of code(like qr code, barcode ect.) and I want to store that Data inside MongoDB. \r\n\r\nFor that I build an Api with 2 routes post/get to post an item and get all items - tested it with Postman, and it works.\r\n\r\n\r\n```\r\n  app.get(&#39;/items&#39;, async (req, res) =&gt; {\r\n    const collection = client.db(&#39;codes&#39;).collection(&#39;QR&#39;);\r\n    const items = await collection.find({}).toArray();\r\n    res.send(items);\r\n  });\r\n\r\n  app.post(&#39;/items&#39;, async (req, res) =&gt; {\r\n    const collection = client.db(&#39;codes&#39;).collection(&#39;QR&#39;);\r\n    const result = await collection.insertOne(req.body);\r\n    res.send(result);\r\n  });\r\n```\r\nMy problem is, that it doesnt work when I call my method inside Android Studio\r\n\r\n\r\n```\r\npublic interface API {\r\n    @FormUrlEncoded\r\n    @POST(&quot;/items&quot;)\r\n    Call&lt;Void&gt; sendData(\r\n            @Field(&quot;data&quot;) String data\r\n    );\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n    public void addStuff(String data){\r\n        JSONObject jsonObject = new JSONObject();\r\n        try {\r\n            jsonObject.put(&quot;data&quot;, data);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://localhost:3000&quot;)\r\n                .addConverterFactory(ScalarsConverterFactory.create())\r\n                .build();\r\n        API api = retrofit.create(API.class);\r\n        Call&lt;Void&gt; call = api.sendData(jsonObject.toString());\r\n        call.enqueue(new Callback&lt;Void&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;Void&gt; call, @NonNull Response&lt;Void&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Successfully added data to the Database&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(), &quot;Error getting data from the database&quot; + response.message(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;Void&gt; call, @NonNull Throwable t) {\r\n                Toast.makeText(getApplicationContext(), &quot;Failure&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nAfter I scanned a code with my App, I get an dialog that asks me what to do next. One of those options is a Button &quot;Add to Database&quot;, where I call the method above.\r\n\r\nFor Testing purpose I just hard coded an example String that gets passed to my method.\r\n\r\nAfter that, I get the &quot;Failure&quot; Toast.\r\n\r\n\r\n\r\nTried to attach the debugger to the App, but that didnt really work out, at least Icouldnt figure where the error lies. I tried to to wrap the String into a JSONObject, and send it after I use the toString() Method on the provided data, and I tried to change the data type in the API Interface to JSONObject and send an actual JSONObject, instead of calling the onString() method on the data.\r\n\r\nAll of it results in failure.","title":"Send Data from Android App to MongoDB Atlas","body":"<p>I have build an App in Android Studio that can scan every type of code(like qr code, barcode ect.) and I want to store that Data inside MongoDB.</p>\n<p>For that I build an Api with 2 routes post/get to post an item and get all items - tested it with Postman, and it works.</p>\n<pre><code>  app.get('/items', async (req, res) =&gt; {\n    const collection = client.db('codes').collection('QR');\n    const items = await collection.find({}).toArray();\n    res.send(items);\n  });\n\n  app.post('/items', async (req, res) =&gt; {\n    const collection = client.db('codes').collection('QR');\n    const result = await collection.insertOne(req.body);\n    res.send(result);\n  });\n</code></pre>\n<p>My problem is, that it doesnt work when I call my method inside Android Studio</p>\n<pre><code>public interface API {\n    @FormUrlEncoded\n    @POST(&quot;/items&quot;)\n    Call&lt;Void&gt; sendData(\n            @Field(&quot;data&quot;) String data\n    );\n}\n</code></pre>\n<pre><code>    public void addStuff(String data){\n        JSONObject jsonObject = new JSONObject();\n        try {\n            jsonObject.put(&quot;data&quot;, data);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;http://localhost:3000&quot;)\n                .addConverterFactory(ScalarsConverterFactory.create())\n                .build();\n        API api = retrofit.create(API.class);\n        Call&lt;Void&gt; call = api.sendData(jsonObject.toString());\n        call.enqueue(new Callback&lt;Void&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;Void&gt; call, @NonNull Response&lt;Void&gt; response) {\n                if (response.isSuccessful()) {\n                    Toast.makeText(getApplicationContext(), &quot;Successfully added data to the Database&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(getApplicationContext(), &quot;Error getting data from the database&quot; + response.message(), Toast.LENGTH_SHORT).show();\n                }\n            }\n            @Override\n            public void onFailure(@NonNull Call&lt;Void&gt; call, @NonNull Throwable t) {\n                Toast.makeText(getApplicationContext(), &quot;Failure&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n\n    }\n</code></pre>\n<p>After I scanned a code with my App, I get an dialog that asks me what to do next. One of those options is a Button &quot;Add to Database&quot;, where I call the method above.</p>\n<p>For Testing purpose I just hard coded an example String that gets passed to my method.</p>\n<p>After that, I get the &quot;Failure&quot; Toast.</p>\n<p>Tried to attach the debugger to the App, but that didnt really work out, at least Icouldnt figure where the error lies. I tried to to wrap the String into a JSONObject, and send it after I use the toString() Method on the provided data, and I tried to change the data type in the API Interface to JSONObject and send an actual JSONObject, instead of calling the onString() method on the data.</p>\n<p>All of it results in failure.</p>\n"},{"tags":["java","addressbook"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678927182,"post_id":75751172,"comment_id":133629920,"body_markdown":"Post text rather than images, wherever possible.","body":"Post text rather than images, wherever possible."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678927269,"post_id":75751172,"comment_id":133629934,"body_markdown":"Your Question is quite vague and unfocused. Are you using a database? Are you using a [Java Collections](https://en.wikipedia.org/wiki/Java_collections_framework) data structure? Have you read the relevant parts of [The Java Tutorials](https://docs.oracle.com/javase/tutorial/) by Oracle before posting here?","body":"Your Question is quite vague and unfocused. Are you using a database? Are you using a <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">Java Collections</a> data structure? Have you read the relevant parts of <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java Tutorials</a> by Oracle before posting here?"},{"owner":{"account_id":26596037,"reputation":1,"user_id":20218373,"display_name":"MStew_7627"},"score":0,"creation_date":1678929945,"post_id":75751172,"comment_id":133630228,"body_markdown":"I have updated my question. Apologies as I am a new developer and still learning how appropriately ask my questions in a way that makes the most sense to others. I will take note of this for next time. Thank you.","body":"I have updated my question. Apologies as I am a new developer and still learning how appropriately ask my questions in a way that makes the most sense to others. I will take note of this for next time. Thank you."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678935349,"post_id":75751172,"comment_id":133630842,"body_markdown":"Change `if (a.getPhoneNumber() == phoneNumber) {` to `if (a.getPhoneNumber().equals(phoneNumber)) {`","body":"Change <code>if (a.getPhoneNumber() == phoneNumber) {</code> to <code>if (a.getPhoneNumber().equals(phoneNumber)) {</code>"}],"answers":[{"comments":[{"owner":{"account_id":26596037,"reputation":1,"user_id":20218373,"display_name":"MStew_7627"},"score":0,"creation_date":1678926909,"post_id":75751188,"comment_id":133629882,"body_markdown":"When it insert this, it wants me to create a public field, which I cannot do as it has to be private.","body":"When it insert this, it wants me to create a public field, which I cannot do as it has to be private."},{"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"score":0,"creation_date":1678926992,"post_id":75751188,"comment_id":133629893,"body_markdown":"insert your method code here","body":"insert your method code here"},{"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"score":0,"creation_date":1679033632,"post_id":75751188,"comment_id":133651576,"body_markdown":"@MStew_7627 I ran your code and after apply my answer it&#39;s ok. need to add toString() method for AddressBook","body":"@MStew_7627 I ran your code and after apply my answer it&#39;s ok. need to add toString() method for AddressBook"}],"tags":[],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678935289,"creation_date":1678926465,"answer_id":75751188,"question_id":75751172,"body_markdown":"Try this:  \r\n\r\n    if (a.getPhoneNumber().equals(phoneNumber)){..}\r\n\r\nand use Debug","title":"How to search for a record in Java when building an address book","body":"<p>Try this:</p>\n<pre><code>if (a.getPhoneNumber().equals(phoneNumber)){..}\n</code></pre>\n<p>and use Debug</p>\n"}],"owner":{"account_id":26596037,"reputation":1,"user_id":20218373,"display_name":"MStew_7627"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678935220,"answer_count":1,"score":-1,"last_activity_date":1678935289,"creation_date":1678926202,"question_id":75751172,"body_markdown":"I am creating an address book in java and I am trying to implement the functionality of &quot;searching&quot; for a record. When I input a record and then try to search for it, it says that the record is not found, even though I put it in. Is there an additional step that I need to insert to correct this? \r\n\r\n\r\n\r\n[What I coded](https://i.stack.imgur.com/7WL3D.png)\r\n[What the results where](https://i.stack.imgur.com/58hpD.png)\r\n\r\nI tried putting &quot;String&quot; next to the phoneNumber and even renaming it &quot;phoneNumber1&quot;. Maybe it has to use an int for searching something specific?\r\n\r\nHere is the collection that I am using \r\n```\r\nclass CRUDDemo{\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tCollection&lt;AddressBook&gt; c = new ArrayList&lt;AddressBook&gt;();\r\n\t\t//to get input from user create an instance of scanner \r\n\t\t//Scanner instance s is for numbers while Scanner instance s1 will be used for the string \r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tScanner s1 = new Scanner(System.in);\r\n\t\tint ch;\r\n\t\tdo {\r\n\t\t\t//loop will run continuously until user provides an input\r\n\t\t\tSystem.out.println(&quot;1.INSERT&quot;);\r\n\t\t\tSystem.out.println(&quot;2.DISPLAY&quot;);\r\n\t\t\tSystem.out.println(&quot;3.SEARCH&quot;);\r\n\t\t\tSystem.out.println(&quot;4.DELETE&quot;);\r\n\t\t\tSystem.out.println(&quot;4.UPDATE&quot;);\r\n\t\t\tSystem.out.println(&quot;Enter Your Choice : &quot;);\r\n\t\t\tch = s.nextInt();\r\n\t\t\t\r\n\t\t\tswitch(ch)\r\n```\r\nThis first case is to display the the records that will be input from the user \r\n```\r\ncase 1:\r\n\t\t\t\tSystem.out.println(&quot;Enter Name : &quot;);\r\n\t\t\t\tString name = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter Street : &quot;);\r\n\t\t\t\tString street = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter City : &quot;);\r\n\t\t\t\tString city = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter State : &quot;);\r\n\t\t\t\tString state = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter Zip : &quot;);\r\n\t\t\t\tint zip = s.nextInt();\r\n\t\t\t\tSystem.out.print(&quot;Enter Phone Number : &quot;);\r\n\t\t\t\tString phoneNumber = s1.nextLine();\r\n\t\t\t\t\r\n\t\t\t\t//add new object to the collection\r\n\t\t\t\tc.add(new AddressBook(name,street,city,state,zip,phoneNumber));\r\n\t\t\tbreak;\r\n```\r\nThe second case will then allow for the input records to be displayed \r\n```\r\ncase 2:\r\n\t\t\t\t//to separate out each record\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\t\t//Iterator is the function that will retract each record one by one \r\n\t\t\t\tIterator&lt;AddressBook&gt; i = c.iterator();\r\n\t\t\t\t//create a loop to see if next next record is available\r\n\t\t\t\twhile(i.hasNext()) {\r\n\t\t\t\t\t//this will display the records\r\n\t\t\t\t\tAddressBook a = i.next();\r\n\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t}\r\n\t\t\t\t//draw a line to separate each record\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\tbreak;\r\n```\r\nFinally is my search option. I want to be able to search for a record in the address book. I have chosen to search by the person&#39;s phone number. If the record is there then I want it to just display the entire record. If it cannot find the record then it will say &quot;Record not found&quot;\r\n```\r\ncase 3:\r\n\t\t\t\t//record cannot be found\r\n\t\t\t\tboolean found = false;\r\n\t\t\t\tSystem.out.println(&quot;Enter Phone Number to Search : &quot;);\r\n\t\t\t\tphoneNumber  = s1.nextLine();\r\n\t\t\t\t//to separate out each record\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\t\t//create a loop to see if next next record is available\r\n\t\t\t\ti = c.iterator();\r\n\t\t\t\twhile(i.hasNext()) {\r\n\t\t\t\t\t//this will display the records\r\n\t\t\t\t\tAddressBook a = i.next();\r\n\t\t\t\t\t//create a loop so that phone number searched is equal to the one entered by the users in the record\r\n\t\t\t\t\tif(a.getPhoneNumber() == phoneNumber) {\r\n\t\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tif(!found) {\r\n\t\t\t\t\tSystem.out.println(&quot;Record Not Found&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}while(ch!=0);\r\n\t}\r\n}\r\n```\r\nWhen I search for a record that has already been created from the user input, I get the message &quot;Record not found&quot;. I wanted it to say this when there truly was no record found. Clearly I have made it say this statement all the time and I am unsure how to fix it.","title":"How to search for a record in Java when building an address book","body":"<p>I am creating an address book in java and I am trying to implement the functionality of &quot;searching&quot; for a record. When I input a record and then try to search for it, it says that the record is not found, even though I put it in. Is there an additional step that I need to insert to correct this?</p>\n<p><a href=\"https://i.stack.imgur.com/7WL3D.png\" rel=\"nofollow noreferrer\">What I coded</a>\n<a href=\"https://i.stack.imgur.com/58hpD.png\" rel=\"nofollow noreferrer\">What the results where</a></p>\n<p>I tried putting &quot;String&quot; next to the phoneNumber and even renaming it &quot;phoneNumber1&quot;. Maybe it has to use an int for searching something specific?</p>\n<p>Here is the collection that I am using</p>\n<pre><code>class CRUDDemo{\n    public static void main(String[] args) {\n        \n        Collection&lt;AddressBook&gt; c = new ArrayList&lt;AddressBook&gt;();\n        //to get input from user create an instance of scanner \n        //Scanner instance s is for numbers while Scanner instance s1 will be used for the string \n        Scanner s = new Scanner(System.in);\n        Scanner s1 = new Scanner(System.in);\n        int ch;\n        do {\n            //loop will run continuously until user provides an input\n            System.out.println(&quot;1.INSERT&quot;);\n            System.out.println(&quot;2.DISPLAY&quot;);\n            System.out.println(&quot;3.SEARCH&quot;);\n            System.out.println(&quot;4.DELETE&quot;);\n            System.out.println(&quot;4.UPDATE&quot;);\n            System.out.println(&quot;Enter Your Choice : &quot;);\n            ch = s.nextInt();\n            \n            switch(ch)\n</code></pre>\n<p>This first case is to display the the records that will be input from the user</p>\n<pre><code>case 1:\n                System.out.println(&quot;Enter Name : &quot;);\n                String name = s1.nextLine();\n                System.out.print(&quot;Enter Street : &quot;);\n                String street = s1.nextLine();\n                System.out.print(&quot;Enter City : &quot;);\n                String city = s1.nextLine();\n                System.out.print(&quot;Enter State : &quot;);\n                String state = s1.nextLine();\n                System.out.print(&quot;Enter Zip : &quot;);\n                int zip = s.nextInt();\n                System.out.print(&quot;Enter Phone Number : &quot;);\n                String phoneNumber = s1.nextLine();\n                \n                //add new object to the collection\n                c.add(new AddressBook(name,street,city,state,zip,phoneNumber));\n            break;\n</code></pre>\n<p>The second case will then allow for the input records to be displayed</p>\n<pre><code>case 2:\n                //to separate out each record\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n                //Iterator is the function that will retract each record one by one \n                Iterator&lt;AddressBook&gt; i = c.iterator();\n                //create a loop to see if next next record is available\n                while(i.hasNext()) {\n                    //this will display the records\n                    AddressBook a = i.next();\n                    System.out.println(a);\n                }\n                //draw a line to separate each record\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n            break;\n</code></pre>\n<p>Finally is my search option. I want to be able to search for a record in the address book. I have chosen to search by the person's phone number. If the record is there then I want it to just display the entire record. If it cannot find the record then it will say &quot;Record not found&quot;</p>\n<pre><code>case 3:\n                //record cannot be found\n                boolean found = false;\n                System.out.println(&quot;Enter Phone Number to Search : &quot;);\n                phoneNumber  = s1.nextLine();\n                //to separate out each record\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n                //create a loop to see if next next record is available\n                i = c.iterator();\n                while(i.hasNext()) {\n                    //this will display the records\n                    AddressBook a = i.next();\n                    //create a loop so that phone number searched is equal to the one entered by the users in the record\n                    if(a.getPhoneNumber() == phoneNumber) {\n                        System.out.println(a);\n                        found = true;\n                    }\n                }\n                            \n                if(!found) {\n                    System.out.println(&quot;Record Not Found&quot;);\n                }\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n            break;\n            }\n        }while(ch!=0);\n    }\n}\n</code></pre>\n<p>When I search for a record that has already been created from the user input, I get the message &quot;Record not found&quot;. I wanted it to say this when there truly was no record found. Clearly I have made it say this statement all the time and I am unsure how to fix it.</p>\n"},{"tags":["java","generics","wildcard"],"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678934180,"answer_count":0,"score":0,"last_activity_date":1678933812,"creation_date":1678933812,"question_id":75751669,"body_markdown":"are the following two ways the same?\r\n\r\napproach 1:\r\n\r\n    public static void process(List&lt;? extends Foo&gt; list) {\r\n        for(Foo elem: list){\r\n        }\r\n    }\r\n\r\napproach 2:\r\n\r\n    public static &lt;T extends Foo&gt; void process(List&lt;T&gt; list) {\r\n        for(Foo elem: list){\r\n        }\r\n    }\r\n\r\nif they are different, why? better if you can provide some examples \r\n\r\nboth code snippets should compile","title":"a question about java generics&#39; wildcard type","body":"<p>are the following two ways the same?</p>\n<p>approach 1:</p>\n<pre><code>public static void process(List&lt;? extends Foo&gt; list) {\n    for(Foo elem: list){\n    }\n}\n</code></pre>\n<p>approach 2:</p>\n<pre><code>public static &lt;T extends Foo&gt; void process(List&lt;T&gt; list) {\n    for(Foo elem: list){\n    }\n}\n</code></pre>\n<p>if they are different, why? better if you can provide some examples</p>\n<p>both code snippets should compile</p>\n"},{"tags":["java","file-io","filenotfoundexception"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1679291597,"post_id":75751144,"comment_id":133688423,"body_markdown":"It could be the problem with the file location. Have you checked your file location? Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of your code.","body":"It could be the problem with the file location. Have you checked your file location? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your code."}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678932458,"creation_date":1678932458,"answer_id":75751588,"question_id":75751144,"body_markdown":"From the error:  \r\n```Error -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)```\r\n\r\nIt states that the targeted file is not being read.\r\n\r\nFrom the below code, it tries to read the file **filename.txt**:  \r\n```java\r\nlab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\r\n```\r\n\r\nYou have to ensure that there is a file named **filename.txt** in your working directory, or in the same directory with your executable.\r\n\r\nOr you can always try to replace ```filename.txt``` with the exact path to your **filename.txt** first.\r\n```java\r\nlab2 = Util.readFile(&quot;C:/.../.../filename.txt&quot;, lab2);\r\n```","title":"FileNotFoundException: the system cannot find the file specified","body":"<p>From the error:<br />\n<code>Error -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)</code></p>\n<p>It states that the targeted file is not being read.</p>\n<p>From the below code, it tries to read the file <strong>filename.txt</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>lab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\n</code></pre>\n<p>You have to ensure that there is a file named <strong>filename.txt</strong> in your working directory, or in the same directory with your executable.</p>\n<p>Or you can always try to replace <code>filename.txt</code> with the exact path to your <strong>filename.txt</strong> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>lab2 = Util.readFile(&quot;C:/.../.../filename.txt&quot;, lab2);\n</code></pre>\n"}],"owner":{"account_id":28027667,"reputation":1,"user_id":21407350,"display_name":"mrjj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678932458,"creation_date":1678925945,"question_id":75751144,"body_markdown":"My task is to create a program to perform statistical analysis of scores for a class of students. The class may have up to 40 students. There are five quizzes during the term. Each student is identified by a four-digit student ID number. The program is to print the student scores and calculate and print the statistics for each quiz. We are meant to use 4 different classes which are provided below\r\n\r\n\r\n```\r\npackage lab2;\r\nimport java.util.Arrays;\r\npublic class Student {\r\n\t\r\n\tprivate int SID;\r\n\tprivate int[] scores = new int[5];\r\n\tpublic int getSID() {\r\n\t\treturn SID;\r\n}\r\n\r\n\t\tpublic void setSID(int SID) {\r\n\t\t\t\tthis.SID = SID;\r\n\t\t}\r\n\t\t\tpublic int[] getScores() {\r\n\t\t\t\treturn scores;\r\n\t\t\t}\r\n\t\t\tpublic void setScores(int[] scores) {\r\n\t\t\t\tthis.scores = scores;\r\n\t\t\t}\t\r\n\t\t\tpublic void print() {\r\n\t\t\t\tSystem.out.println(SID + &quot; &quot; + Arrays.toString(scores));\r\n\t\t\t}\r\n\t}\r\n\r\n```\r\n\r\n```\r\npackage lab2;\r\nimport java.util.Arrays;\r\n\tpublic class Statistics {\r\n\t\t\r\n\t\tprivate int [] lowscores = new int [5];\r\n\t\tprivate int [] highscores = new int [5];\r\n\t\t\tprivate float [] avgscores = new float [5];\r\n\t\t\t\r\n\t\tvoid findlow(Student [] a){\r\n\t\t\t\r\n\tfor (int i = 0; i &lt; lowscores.length; ++i) {\r\n\t\tlowscores[i] = 100;\r\n\t\tfor (Student student : a) {\r\n\t\t\tif (student.getScores()[i] &lt; lowscores[i]) {\r\n\t\t\t\tlowscores[i] = student.getScores()[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t\tvoid findhigh(Student [] a){\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; highscores.length; ++i) {\r\n\t\t\t\thighscores[i] = 0;\r\n\t\t\t\tfor (Student student : a) {\r\n\t\t\t\t\tif (student.getScores()[i] &gt; highscores[i]) {\r\n\t\t\t\t\t\thighscores[i] = student.getScores()[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvoid findavg(Student [] a) {\r\n\t\t\tfor (int i = 0; i &lt; avgscores.length; ++i) {\r\n\t\t\t\tavgscores[i] = 0;\r\n\t\t\t\tfor (Student student : a) {\r\n\t\t\t\t\tavgscores[i] += student.getScores()[i];\r\n\t\t\t\t}\r\n\t\t\t\tavgscores[i] /= a.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic void print() {\r\n\t\t\tSystem.out.println(&quot;High Score &quot; + Arrays.toString(highscores));\r\n\t\t\tSystem.out.println(&quot;Low Score &quot; + Arrays.toString(lowscores));\r\n\t\t\tSystem.out.println(&quot;Average &quot; + Arrays.toString(avgscores));\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\n```\r\npackage lab2;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class Util {\r\n\r\n   public static Student[] readFile(String StudentScores, Student[] stu) {\r\n\t \r\n        int i = 0;\r\n\r\n        //Reads the file and builds student array.\r\n        try { FileReader File = new FileReader(StudentScores);\r\n        BufferedReader buff = new BufferedReader(File);\r\n\r\n            // skipping header row\r\n            boolean eof = buff.readLine() == null;\r\n\r\n            while (!eof) {\r\n                String line = buff.readLine();\r\n\r\n                if (line == null)\r\n                    eof = true;\r\n\r\n                else {\r\n                    String[] data = line.split(&quot; &quot;);\r\n                    stu[i] = new Student();\r\n                    stu[i].setSID(Integer.parseInt(data[0]));\r\n\r\n                    int[] scores = new int[data.length - 1];\r\n\r\n                    for (int j = 1; j &lt; data.length; ++j) {\r\n                        scores[j - 1] = Integer.parseInt(data[j]);\r\n                    }\r\n                    stu[i].setScores(scores);\r\n                    ++i;\r\n                }\r\n            }\r\n\r\n            buff.close();\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error -- &quot; + e.toString());\r\n        }\r\n\r\n        Student[] students = new Student[i];\r\n        System.arraycopy(stu, 0, students, 0, i);\r\n        return students;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage lab2;\r\n\r\nimport java.io.FileNotFoundException;\r\n\r\npublic class Driver {\r\n\t\r\n\t public static void main(String[] args) throws FileNotFoundException {\r\n\t\t\r\n\t\r\n\t Student[] lab2 = new Student[40];\r\n\t // Populate the student array\r\n\t lab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\r\n\t Statistics statlab2 = new Statistics();\r\n\t statlab2.findlow(lab2);\r\n\t statlab2.findhigh(lab2);\r\n\t statlab2.findavg(lab2);\r\n\t System.out.println(&quot;Stud Qu1 Qu2 Qu3 Qu4 Qu5&quot;);\r\n\t for (Student student : lab2) {\r\n\t student.print();\r\n\t }\r\n\t statlab2.print();\r\n\t }\r\n\t}\r\n```\r\nThe input is supposed to be read from a text file. I have a file named `StudentScores.txt` but when I try to run it I get this message. I&#39;m not sure where to go from here or how to resolve this issue. Some help would be greatly appreciated. \r\n\r\n\r\n```\r\nError -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)\r\nStud Qu1 Qu2 Qu3 Qu4 Qu5\r\nHigh Score [0, 0, 0, 0, 0]\r\nLow Score [100, 100, 100, 100, 100]\r\nAverage  [NaN, NaN, NaN, NaN, NaN]\r\n\r\n```\r\n`\r\n\r\n\r\n\r\n","title":"FileNotFoundException: the system cannot find the file specified","body":"<p>My task is to create a program to perform statistical analysis of scores for a class of students. The class may have up to 40 students. There are five quizzes during the term. Each student is identified by a four-digit student ID number. The program is to print the student scores and calculate and print the statistics for each quiz. We are meant to use 4 different classes which are provided below</p>\n<pre><code>package lab2;\nimport java.util.Arrays;\npublic class Student {\n    \n    private int SID;\n    private int[] scores = new int[5];\n    public int getSID() {\n        return SID;\n}\n\n        public void setSID(int SID) {\n                this.SID = SID;\n        }\n            public int[] getScores() {\n                return scores;\n            }\n            public void setScores(int[] scores) {\n                this.scores = scores;\n            }   \n            public void print() {\n                System.out.println(SID + &quot; &quot; + Arrays.toString(scores));\n            }\n    }\n\n</code></pre>\n<pre><code>package lab2;\nimport java.util.Arrays;\n    public class Statistics {\n        \n        private int [] lowscores = new int [5];\n        private int [] highscores = new int [5];\n            private float [] avgscores = new float [5];\n            \n        void findlow(Student [] a){\n            \n    for (int i = 0; i &lt; lowscores.length; ++i) {\n        lowscores[i] = 100;\n        for (Student student : a) {\n            if (student.getScores()[i] &lt; lowscores[i]) {\n                lowscores[i] = student.getScores()[i];\n            }\n        }\n    }\n}\n        void findhigh(Student [] a){\n            \n            for (int i = 0; i &lt; highscores.length; ++i) {\n                highscores[i] = 0;\n                for (Student student : a) {\n                    if (student.getScores()[i] &gt; highscores[i]) {\n                        highscores[i] = student.getScores()[i];\n                    }\n                }\n            }\n        }\n        void findavg(Student [] a) {\n            for (int i = 0; i &lt; avgscores.length; ++i) {\n                avgscores[i] = 0;\n                for (Student student : a) {\n                    avgscores[i] += student.getScores()[i];\n                }\n                avgscores[i] /= a.length;\n            }\n        }\n        public void print() {\n            System.out.println(&quot;High Score &quot; + Arrays.toString(highscores));\n            System.out.println(&quot;Low Score &quot; + Arrays.toString(lowscores));\n            System.out.println(&quot;Average &quot; + Arrays.toString(avgscores));\n        }\n    }\n\n</code></pre>\n<pre><code>package lab2;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\n\npublic class Util {\n\n   public static Student[] readFile(String StudentScores, Student[] stu) {\n     \n        int i = 0;\n\n        //Reads the file and builds student array.\n        try { FileReader File = new FileReader(StudentScores);\n        BufferedReader buff = new BufferedReader(File);\n\n            // skipping header row\n            boolean eof = buff.readLine() == null;\n\n            while (!eof) {\n                String line = buff.readLine();\n\n                if (line == null)\n                    eof = true;\n\n                else {\n                    String[] data = line.split(&quot; &quot;);\n                    stu[i] = new Student();\n                    stu[i].setSID(Integer.parseInt(data[0]));\n\n                    int[] scores = new int[data.length - 1];\n\n                    for (int j = 1; j &lt; data.length; ++j) {\n                        scores[j - 1] = Integer.parseInt(data[j]);\n                    }\n                    stu[i].setScores(scores);\n                    ++i;\n                }\n            }\n\n            buff.close();\n\n        } catch (IOException e) {\n            System.out.println(&quot;Error -- &quot; + e.toString());\n        }\n\n        Student[] students = new Student[i];\n        System.arraycopy(stu, 0, students, 0, i);\n        return students;\n    }\n}\n</code></pre>\n<pre><code>package lab2;\n\nimport java.io.FileNotFoundException;\n\npublic class Driver {\n    \n     public static void main(String[] args) throws FileNotFoundException {\n        \n    \n     Student[] lab2 = new Student[40];\n     // Populate the student array\n     lab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\n     Statistics statlab2 = new Statistics();\n     statlab2.findlow(lab2);\n     statlab2.findhigh(lab2);\n     statlab2.findavg(lab2);\n     System.out.println(&quot;Stud Qu1 Qu2 Qu3 Qu4 Qu5&quot;);\n     for (Student student : lab2) {\n     student.print();\n     }\n     statlab2.print();\n     }\n    }\n</code></pre>\n<p>The input is supposed to be read from a text file. I have a file named <code>StudentScores.txt</code> but when I try to run it I get this message. I'm not sure where to go from here or how to resolve this issue. Some help would be greatly appreciated.</p>\n<pre><code>Error -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)\nStud Qu1 Qu2 Qu3 Qu4 Qu5\nHigh Score [0, 0, 0, 0, 0]\nLow Score [100, 100, 100, 100, 100]\nAverage  [NaN, NaN, NaN, NaN, NaN]\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","multithreading","synchronization","runnable"],"comments":[{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1677463021,"post_id":75552123,"comment_id":133336872,"body_markdown":"Can you share the other code which changes the text views apart from QandA method?","body":"Can you share the other code which changes the text views apart from QandA method?"}],"answers":[{"tags":[],"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678932317,"creation_date":1678932317,"answer_id":75751583,"question_id":75552123,"body_markdown":"I managed to fix the issue another way.  \r\n\r\nI gave up on trying to set hintView in the QandA method.  Instead, I made the following method and put it in all the runnables for the buttons.  \r\n\r\n       public void katakana(){\r\n                if (pickFromArray ==0){\r\n                    hintView.setText(&quot;&quot;);\r\n                }\r\n                if (pickFromArray ==1){\r\n                    hintView.setText(&quot;&quot;);\r\n                }\r\n                if (pickFromArray ==2){\r\n                    hintView.setText(&quot;&quot;);\r\n                }\r\n                if (pickFromArray ==3){\r\n                    hintView.setText(&quot;&quot;);\r\n                }\r\n                if (pickFromArray ==4){\r\n                    hintView.setText(&quot;&quot;);\r\n                }\r\n        }\r\n\r\n","title":"How do I use the synchronized command correctly?","body":"<p>I managed to fix the issue another way.</p>\n<p>I gave up on trying to set hintView in the QandA method.  Instead, I made the following method and put it in all the runnables for the buttons.</p>\n<pre><code>   public void katakana(){\n            if (pickFromArray ==0){\n                hintView.setText(&quot;&quot;);\n            }\n            if (pickFromArray ==1){\n                hintView.setText(&quot;&quot;);\n            }\n            if (pickFromArray ==2){\n                hintView.setText(&quot;&quot;);\n            }\n            if (pickFromArray ==3){\n                hintView.setText(&quot;&quot;);\n            }\n            if (pickFromArray ==4){\n                hintView.setText(&quot;&quot;);\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678932317,"creation_date":1677205887,"question_id":75552123,"body_markdown":"I&#39;m making a game to memorise katakana.  It plays like Whack-a-mole, and I have nine buttons that flash to show either true or false answers.    \r\n\r\nI have two textViews.  One displays romaji and the other katakana.  I need them to change in-sync.\r\n\r\nI have one arrayList that contains romaji and another that contains the corresponding katakana.  Their indexes line up.\r\nE.g. romaji = [a, i, u, e, o]\r\n     katakana = [, , , , ] \r\n     \r\n\r\nI&#39;m using the following method to select which katakana and romaji to display.  \r\n\r\n    public void QandA(){\r\n        synchronized (this){\r\n        pickFromArray = ThreadLocalRandom.current().nextInt(0, arraySize);\r\n        textView29.setText(listromT.get(pickFromArray));\r\n        hintView.setText(listT.get(pickFromArray));}\r\n    }\r\n\r\nThe textViews change in-synch if QandA is the only method that I run in handler (via a runnable).  \r\n\r\nHowever, if I run the runnables that make the buttons flash, the textViews will change out of sync.  E.g. it might show &quot;a&quot; with &quot;&quot;.  \r\n\r\nMy guess is that the textViews get out of synch because the computer is processing the nine buttons in between the commands for the textViews.  I was hoping the synchronize command would force the CPU to read the QandA method as an uninterrupted block, but they still change out of synch.\r\n\r\nHow do I use it correctly?  Or is there another command that I should be using instead?\r\n\r\nThanks\r\n\r\n\r\nEDIT:\r\n\r\nI have a SetQuestion runnable that I run recursively.  \r\n\r\nIn onCreate:\r\n\r\n     handler.postDelayed(SetQuestion, 0);\r\n\r\n\r\nThe SetQuestion runnable:\r\n\r\n    public Runnable SetQuestion = new Runnable() {\r\n    \r\n            public void run() {\r\n    \r\n                runOnUiThread(new Runnable() {\r\n    \r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        Qtimer++;\r\n                        if (Qtimer%10==1){\r\n                            QandA();\r\n                        }\r\n                        if (Qtimer%10==6){\r\n                            QandA();\r\n                        }\r\n                        if (Qtimer&gt;199){\r\n                            Qtimer=110;\r\n                        }\r\n                        handler.postDelayed(this, 1000);\r\n    \r\n                    }\r\n                });\r\n    \r\n            }\r\n        };\r\n\r\nI&#39;ve also tried using TimerTasks for QandA and changing the buttons, but I get the same result.  The romaji and katakana change out of synch, although the buttons seem work fine (i.e. colours and text change in synch).  \r\n","title":"How do I use the synchronized command correctly?","body":"<p>I'm making a game to memorise katakana.  It plays like Whack-a-mole, and I have nine buttons that flash to show either true or false answers.</p>\n<p>I have two textViews.  One displays romaji and the other katakana.  I need them to change in-sync.</p>\n<p>I have one arrayList that contains romaji and another that contains the corresponding katakana.  Their indexes line up.\nE.g. romaji = [a, i, u, e, o]\nkatakana = [, , , , ]</p>\n<p>I'm using the following method to select which katakana and romaji to display.</p>\n<pre><code>public void QandA(){\n    synchronized (this){\n    pickFromArray = ThreadLocalRandom.current().nextInt(0, arraySize);\n    textView29.setText(listromT.get(pickFromArray));\n    hintView.setText(listT.get(pickFromArray));}\n}\n</code></pre>\n<p>The textViews change in-synch if QandA is the only method that I run in handler (via a runnable).</p>\n<p>However, if I run the runnables that make the buttons flash, the textViews will change out of sync.  E.g. it might show &quot;a&quot; with &quot;&quot;.</p>\n<p>My guess is that the textViews get out of synch because the computer is processing the nine buttons in between the commands for the textViews.  I was hoping the synchronize command would force the CPU to read the QandA method as an uninterrupted block, but they still change out of synch.</p>\n<p>How do I use it correctly?  Or is there another command that I should be using instead?</p>\n<p>Thanks</p>\n<p>EDIT:</p>\n<p>I have a SetQuestion runnable that I run recursively.</p>\n<p>In onCreate:</p>\n<pre><code> handler.postDelayed(SetQuestion, 0);\n</code></pre>\n<p>The SetQuestion runnable:</p>\n<pre><code>public Runnable SetQuestion = new Runnable() {\n\n        public void run() {\n\n            runOnUiThread(new Runnable() {\n\n                @Override\n                public void run() {\n\n                    Qtimer++;\n                    if (Qtimer%10==1){\n                        QandA();\n                    }\n                    if (Qtimer%10==6){\n                        QandA();\n                    }\n                    if (Qtimer&gt;199){\n                        Qtimer=110;\n                    }\n                    handler.postDelayed(this, 1000);\n\n                }\n            });\n\n        }\n    };\n</code></pre>\n<p>I've also tried using TimerTasks for QandA and changing the buttons, but I get the same result.  The romaji and katakana change out of synch, although the buttons seem work fine (i.e. colours and text change in synch).</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1001747,"reputation":658,"user_id":1016448,"accept_rate":75,"display_name":"daniel_or_else"},"score":0,"creation_date":1322466960,"post_id":2743130,"comment_id":10214767,"body_markdown":"I have the same problem. This is not a big issue since it happens very rarely. Using show_sql is not practical since reproducing this behavior requires millions of transactions. However, because this happens repeatedly during a system test I run (that has gazillions of transactions) I suspect that there is a specific reason.","body":"I have the same problem. This is not a big issue since it happens very rarely. Using show_sql is not practical since reproducing this behavior requires millions of transactions. However, because this happens repeatedly during a system test I run (that has gazillions of transactions) I suspect that there is a specific reason."},{"owner":{"account_id":10953953,"reputation":389,"user_id":8049404,"display_name":"fifman"},"score":0,"creation_date":1523155706,"post_id":2743130,"comment_id":86441969,"body_markdown":"I encountered this problem while I tried to update rows which have **NO** changes. Do not update something if there is no difference.","body":"I encountered this problem while I tried to update rows which have <b>NO</b> changes. Do not update something if there is no difference."}],"answers":[{"comments":[{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":27,"creation_date":1272623273,"post_id":2743663,"comment_id":2772913,"body_markdown":"hibernate.show_sql &gt; i would rather advise to set the log category org.hibernate.SQL level to DEBUG. This way you don&#39;t need to modify the hibernate configuration just for logging.","body":"hibernate.show_sql &gt; i would rather advise to set the log category org.hibernate.SQL level to DEBUG. This way you don&#39;t need to modify the hibernate configuration just for logging."},{"owner":{"account_id":6369185,"reputation":591,"user_id":4942198,"display_name":"Orden"},"score":0,"creation_date":1475328635,"post_id":2743663,"comment_id":66905742,"body_markdown":"The use of &quot;show_sql&quot; can be very verbose and not practicable in production. For this I have modified the catch clause at the line 74 of the BatchingBatcher class to print the statement with a ps.toString() to have only the statement that has the problem.","body":"The use of &quot;show_sql&quot; can be very verbose and not practicable in production. For this I have modified the catch clause at the line 74 of the BatchingBatcher class to print the statement with a ps.toString() to have only the statement that has the problem."}],"tags":[],"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"comment_count":2,"down_vote_count":4,"up_vote_count":87,"is_accepted":true,"score":83,"last_activity_date":1671926933,"creation_date":1272621343,"answer_id":2743663,"question_id":2743130,"body_markdown":"Without code and mappings for your transactions, it&#39;ll be next to impossible to investigate the problem.\r\n\r\nHowever, to get a better handle as to what causes the problem, try the following:\r\n\r\n* In your hibernate configuration, set hibernate.show_sql to true. This should show you the SQL that is executed and causes the problem.\r\n* Set the log levels for Spring and Hibernate to DEBUG, again this will give you a better idea as to which line causes the problem.\r\n* Create a unit test which replicates the problem without configuring a transaction manager in Spring. This should give you a better idea of the offending line of code.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Without code and mappings for your transactions, it'll be next to impossible to investigate the problem.</p>\n<p>However, to get a better handle as to what causes the problem, try the following:</p>\n<ul>\n<li>In your hibernate configuration, set hibernate.show_sql to true. This should show you the SQL that is executed and causes the problem.</li>\n<li>Set the log levels for Spring and Hibernate to DEBUG, again this will give you a better idea as to which line causes the problem.</li>\n<li>Create a unit test which replicates the problem without configuring a transaction manager in Spring. This should give you a better idea of the offending line of code.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":76116,"reputation":5408,"user_id":218136,"accept_rate":88,"display_name":"Dave Thieben"},"score":19,"creation_date":1355604177,"post_id":13309318,"comment_id":19145828,"body_markdown":"I had this problem when I removed a child from a parent-child relationship, saved the parent (which deletes the child) and then tried to also delete the child manually.","body":"I had this problem when I removed a child from a parent-child relationship, saved the parent (which deletes the child) and then tried to also delete the child manually."},{"owner":{"account_id":159028,"reputation":4940,"user_id":378070,"accept_rate":19,"display_name":"Mital Pritmani"},"score":0,"creation_date":1401281869,"post_id":13309318,"comment_id":36822076,"body_markdown":"This solved my problem. The record didn&#39;t exist and my service was calling updateAll() method while it actually needed to call createOrUpdateAll() method. Thanks.","body":"This solved my problem. The record didn&#39;t exist and my service was calling updateAll() method while it actually needed to call createOrUpdateAll() method. Thanks."},{"owner":{"account_id":1316907,"reputation":3571,"user_id":1263556,"accept_rate":60,"display_name":"Stony"},"score":4,"creation_date":1404196718,"post_id":13309318,"comment_id":37935303,"body_markdown":"so how to solve the issue? If I get a record, and then delete it; but if system already deletes it before I delete, another, my application will throw the exception.","body":"so how to solve the issue? If I get a record, and then delete it; but if system already deletes it before I delete, another, my application will throw the exception."},{"owner":{"account_id":1486551,"reputation":1320,"user_id":1394698,"accept_rate":67,"display_name":"snowe"},"score":0,"creation_date":1444251611,"post_id":13309318,"comment_id":53829557,"body_markdown":"@davethieben, this was exactly the information I needed. I didn&#39;t realize the parent-child relationship persisted on deletes.","body":"@davethieben, this was exactly the information I needed. I didn&#39;t realize the parent-child relationship persisted on deletes."},{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":0,"creation_date":1558278176,"post_id":13309318,"comment_id":99039331,"body_markdown":"The solution is to use select for update when fetching the record to lock the row, so nothing else can delete it before you do.","body":"The solution is to use select for update when fetching the record to lock the row, so nothing else can delete it before you do."}],"tags":[],"owner":{"account_id":1142441,"reputation":1390,"user_id":1125959,"accept_rate":25,"display_name":"shreyas"},"comment_count":5,"down_vote_count":2,"up_vote_count":104,"is_accepted":false,"score":102,"last_activity_date":1352468940,"creation_date":1352468940,"answer_id":13309318,"question_id":2743130,"body_markdown":"I got the same exception while deleting a record by Id that does not exists at all.  So check that record you are updating/Deleting actually exists in DB","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got the same exception while deleting a record by Id that does not exists at all.  So check that record you are updating/Deleting actually exists in DB</p>\n"},{"tags":[],"owner":{"account_id":1022880,"reputation":2804,"user_id":1032791,"accept_rate":73,"display_name":"Julius"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1360325991,"creation_date":1360325991,"answer_id":14772423,"question_id":2743130,"body_markdown":"I just encountered this problem and found out I was deleting a record and trying to update it afterwards in a Hibernate transaction. ","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I just encountered this problem and found out I was deleting a record and trying to update it afterwards in a Hibernate transaction. </p>\n"},{"tags":[],"owner":{"account_id":1713170,"reputation":1549,"user_id":1570793,"accept_rate":44,"display_name":"George Papatheodorou"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379429428,"creation_date":1377802211,"answer_id":18518859,"question_id":2743130,"body_markdown":"As [Julius][1] says this happens when an update Occurs on an Object that has its children being deleted. (Probably because there was a need for an update for the whole Father Object and sometimes we prefer to delete the children and re -insert them on the Father  (new , old doesnt matter )along with any other updates the father could have on any of its other plain fields)\r\nSo ...in order for this to work delete the children (within a Transaction) by calling `childrenList.clear()` (Dont loop through the children and delete each one with some `childDAO.delete(childrenList.get(i).delete()))` and setting \r\n`@OneToMany(cascade = CascadeType.XXX ,orphanRemoval=true)` on the Side of the Father Object. Then update the father (fatherDAO.update(father)). (Repeat for every father object) The result is that children have their link to their father stripped off  and then they are being removed as orphans by the framework.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1032791/julius","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>As <a href=\"https://stackoverflow.com/users/1032791/julius\">Julius</a> says this happens when an update Occurs on an Object that has its children being deleted. (Probably because there was a need for an update for the whole Father Object and sometimes we prefer to delete the children and re -insert them on the Father  (new , old doesnt matter )along with any other updates the father could have on any of its other plain fields)\nSo ...in order for this to work delete the children (within a Transaction) by calling <code>childrenList.clear()</code> (Dont loop through the children and delete each one with some <code>childDAO.delete(childrenList.get(i).delete()))</code> and setting \n<code>@OneToMany(cascade = CascadeType.XXX ,orphanRemoval=true)</code> on the Side of the Father Object. Then update the father (fatherDAO.update(father)). (Repeat for every father object) The result is that children have their link to their father stripped off  and then they are being removed as orphans by the framework.</p>\n"},{"tags":[],"owner":{"account_id":1681180,"reputation":229,"user_id":1545379,"display_name":"Sumit Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635241038,"creation_date":1381999669,"answer_id":19422041,"question_id":2743130,"body_markdown":"It happens when you try to `delete` an object and then you try to `update` the same object. Use this after `delete`:\r\n\r\n    session.clear();","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>It happens when you try to <code>delete</code> an object and then you try to <code>update</code> the same object. Use this after <code>delete</code>:</p>\n<pre><code>session.clear();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1418379,"reputation":949,"user_id":1343520,"display_name":"S. Baggy"},"score":2,"creation_date":1405556817,"post_id":21706388,"comment_id":38480088,"body_markdown":"This answer sent me in the right direction. I was working with a legacy database that had a trigger on it - fortunately I was replacing what the trigger did with code, so I could just delete it.","body":"This answer sent me in the right direction. I was working with a legacy database that had a trigger on it - fortunately I was replacing what the trigger did with code, so I could just delete it."},{"owner":{"account_id":120843,"reputation":6055,"user_id":313511,"accept_rate":95,"display_name":"s1mm0t"},"score":3,"creation_date":1407271888,"post_id":21706388,"comment_id":39148211,"body_markdown":"+1 That was my problem too. I was using postgresql, so needed to use the @SQLInsert annotation to switch off row count checking: http://www.technology-ebay.de/the-teams/mobile-de/blog/postgresql-table-partitioning-hibernate.html","body":"+1 That was my problem too. I was using postgresql, so needed to use the @SQLInsert annotation to switch off row count checking: <a href=\"http://www.technology-ebay.de/the-teams/mobile-de/blog/postgresql-table-partitioning-hibernate.html\" rel=\"nofollow noreferrer\">technology-ebay.de/the-teams/mobile-de/blog/&hellip;</a>"},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1545921086,"post_id":21706388,"comment_id":94731632,"body_markdown":"SET NOCOUNT OFF*","body":"SET NOCOUNT OFF*"},{"owner":{"account_id":18491587,"reputation":119,"user_id":13471021,"display_name":"Romain Dereux"},"score":0,"creation_date":1623667640,"post_id":21706388,"comment_id":120135090,"body_markdown":"Where did you put this annotation? In the repository?","body":"Where did you put this annotation? In the repository?"},{"owner":{"account_id":189466,"reputation":5280,"user_id":428811,"accept_rate":47,"display_name":"Mr. TA"},"score":0,"creation_date":1634129316,"post_id":21706388,"comment_id":122942713,"body_markdown":"@RomainDereux add it as the first line of the trigger which causes the problem.","body":"@RomainDereux add it as the first line of the trigger which causes the problem."}],"tags":[],"owner":{"account_id":189466,"reputation":5280,"user_id":428811,"accept_rate":47,"display_name":"Mr. TA"},"comment_count":5,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1392133463,"creation_date":1392133463,"answer_id":21706388,"question_id":2743130,"body_markdown":"This can happen when trigger(s) execute additional DML (data modification) queries which affect the row counts. My solution was to add the following at the top of my trigger:\r\n\r\n    SET NOCOUNT ON;","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This can happen when trigger(s) execute additional DML (data modification) queries which affect the row counts. My solution was to add the following at the top of my trigger:</p>\n\n<pre><code>SET NOCOUNT ON;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1823847,"reputation":2806,"user_id":1657225,"accept_rate":80,"display_name":"cSn"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1397779080,"creation_date":1397779080,"answer_id":23145389,"question_id":2743130,"body_markdown":"This happened to me once by accident when I was assigning specific IDs to some objects (testing) and then I was trying to save them in the database. The problem was that in the database there was an specific policy for setting up the IDs of the objects. Just **do not** assign an ID if you have a policy at Hibernate level.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happened to me once by accident when I was assigning specific IDs to some objects (testing) and then I was trying to save them in the database. The problem was that in the database there was an specific policy for setting up the IDs of the objects. Just <strong>do not</strong> assign an ID if you have a policy at Hibernate level.</p>\n"},{"tags":[],"owner":{"account_id":3861140,"reputation":808,"user_id":3198857,"display_name":"MadukaJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398850585,"creation_date":1398850585,"answer_id":23384570,"question_id":2743130,"body_markdown":"i got the same problem and i verified this may occur because of Auto increment primary key. To solve this problem do not inset auto increment value with data set. Insert data without the primary key.\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>i got the same problem and i verified this may occur because of Auto increment primary key. To solve this problem do not inset auto increment value with data set. Insert data without the primary key.</p>\n"},{"tags":[],"owner":{"account_id":4410050,"reputation":51,"user_id":3593268,"display_name":"Shiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1398959905,"creation_date":1398958677,"answer_id":23411047,"question_id":2743130,"body_markdown":"I encountered this problem where we had one-many relationship.\r\n\r\nIn the hibernate hbm mapping file for master, for object with set type arrangement, added `cascade=&quot;save-update&quot;` and it worked fine.\r\n\r\nWithout this, by default hibernate tries to update for a non-existent record and by doing so it inserts instead.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I encountered this problem where we had one-many relationship.</p>\n\n<p>In the hibernate hbm mapping file for master, for object with set type arrangement, added <code>cascade=\"save-update\"</code> and it worked fine.</p>\n\n<p>Without this, by default hibernate tries to update for a non-existent record and by doing so it inserts instead.</p>\n"},{"comments":[{"owner":{"account_id":3169342,"reputation":104,"user_id":2678694,"accept_rate":100,"display_name":"Kuldeep Verma"},"score":4,"creation_date":1446055124,"post_id":23523102,"comment_id":54587969,"body_markdown":"Absolutely right. This must be the right answer. Thanks @Rda Biraman","body":"Absolutely right. This must be the right answer. Thanks @Rda Biraman"},{"owner":{"account_id":2256125,"reputation":1387,"user_id":2172566,"display_name":"forresthopkinsa"},"score":1,"creation_date":1514406735,"post_id":23523102,"comment_id":82964899,"body_markdown":"*However*, you CAN set the ID value to &#39;0&#39;, and then Hibernate will feel free to overwrite it","body":"<i>However</i>, you CAN set the ID value to &#39;0&#39;, and then Hibernate will feel free to overwrite it"},{"owner":{"account_id":1076689,"reputation":948,"user_id":1074677,"display_name":"Stuart McIntyre"},"score":3,"creation_date":1531268567,"post_id":23523102,"comment_id":89529031,"body_markdown":"Thanks!  Not sure why this isn&#39;t the highest ranked answer.","body":"Thanks!  Not sure why this isn&#39;t the highest ranked answer."}],"tags":[],"owner":{"account_id":3299251,"reputation":651,"user_id":2775788,"display_name":"Rda Biraman"},"comment_count":3,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1399479509,"creation_date":1399479509,"answer_id":23523102,"question_id":2743130,"body_markdown":"Solution:\r\nIn the Hibernate mapping file for the id property, if you use any generator class, for that property you should not set the value explicitly by using a setter method.\r\n\r\nIf you set the value of the Id property explicitly, it will lead the error above. Check this to avoid this error.\r\nor \r\nIt&#39;s error show when you mention in the mapping file the field  generator=&quot;native&quot; or &quot;incremental&quot; and in your  DATABASE the table mapped is not auto_incremented \r\nSolution: Go to your DATABASE and update your table to set auto_increment\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Solution:\nIn the Hibernate mapping file for the id property, if you use any generator class, for that property you should not set the value explicitly by using a setter method.</p>\n\n<p>If you set the value of the Id property explicitly, it will lead the error above. Check this to avoid this error.\nor \nIt's error show when you mention in the mapping file the field  generator=\"native\" or \"incremental\" and in your  DATABASE the table mapped is not auto_incremented \nSolution: Go to your DATABASE and update your table to set auto_increment</p>\n"},{"tags":[],"owner":{"account_id":4167496,"reputation":167,"user_id":3416155,"display_name":"Gibado"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412610149,"creation_date":1412610149,"answer_id":26219856,"question_id":2743130,"body_markdown":"I ran into this issue when I was manually beginning and committing transactions inside of method annotated as `@Transactional`.  I fixed the problem by detecting if an active transaction already existed.\r\n\r\n    //Detect underlying transaction\r\n    if (session.getTransaction() != null &amp;&amp; session.getTransaction().isActive()) {\r\n\t\tmyTransaction = session.getTransaction();\r\n\t\tpreExistingTransaction = true;\r\n\t} else {\r\n\t\tmyTransaction = session.beginTransaction();\r\n\t}\r\n\r\nThen I allowed Spring to handle committing the transaction.\r\n\r\n    private void finishTransaction() {\r\n\t\tif (!preExistingTransaction) {\r\n\t\t\ttry {\r\n\t\t\t\ttx.commit();\r\n\t\t\t} catch (HibernateException he) {\r\n\t\t\t\tif (tx != null) {\r\n\t\t\t\t\ttx.rollback();\r\n\t\t\t\t}\r\n\t\t\t\tlog.error(he);\r\n\t\t\t} finally {\r\n\t\t\t\tif (newSessionOpened) {\r\n\t\t\t\t\tSessionFactoryUtils.closeSession(session);\r\n\t\t\t\t\tnewSessionOpened = false;\r\n\t\t\t\t\tmaxResults = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I ran into this issue when I was manually beginning and committing transactions inside of method annotated as <code>@Transactional</code>.  I fixed the problem by detecting if an active transaction already existed.</p>\n\n<pre><code>//Detect underlying transaction\nif (session.getTransaction() != null &amp;&amp; session.getTransaction().isActive()) {\n    myTransaction = session.getTransaction();\n    preExistingTransaction = true;\n} else {\n    myTransaction = session.beginTransaction();\n}\n</code></pre>\n\n<p>Then I allowed Spring to handle committing the transaction.</p>\n\n<pre><code>private void finishTransaction() {\n    if (!preExistingTransaction) {\n        try {\n            tx.commit();\n        } catch (HibernateException he) {\n            if (tx != null) {\n                tx.rollback();\n            }\n            log.error(he);\n        } finally {\n            if (newSessionOpened) {\n                SessionFactoryUtils.closeSession(session);\n                newSessionOpened = false;\n                maxResults = 0;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4108798,"reputation":3209,"user_id":3371954,"display_name":"Roberto Rodriguez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424129830,"creation_date":1424129830,"answer_id":28552249,"question_id":2743130,"body_markdown":"This happened to me too, because I had my id as Long, and I was receiving from the view the value 0, and when I tried to save in the database I got this error, then I fixed it by set the id to null.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happened to me too, because I had my id as Long, and I was receiving from the view the value 0, and when I tried to save in the database I got this error, then I fixed it by set the id to null.</p>\n"},{"tags":[],"owner":{"account_id":5263557,"reputation":127,"user_id":4204338,"accept_rate":100,"display_name":"John Lopez"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1438349270,"creation_date":1438293910,"answer_id":31734897,"question_id":2743130,"body_markdown":"This happens when you declared the JSF Managed Bean as \r\n\r\n    @RequestScoped;\r\n\r\nwhen you should declare as\r\n\r\n    @SessionScoped;\r\n\r\nRegards;","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happens when you declared the JSF Managed Bean as </p>\n\n<pre><code>@RequestScoped;\n</code></pre>\n\n<p>when you should declare as</p>\n\n<pre><code>@SessionScoped;\n</code></pre>\n\n<p>Regards;</p>\n"},{"comments":[{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1519060189,"post_id":32201073,"comment_id":84745668,"body_markdown":"Hi @ParagFlume, i got the same error &quot;Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1&quot; when i try to select one object from my databse the problem exists only any production, do you have any idea on how to resolve this problem , i&#39;m in a critical situation . Regards !","body":"Hi @ParagFlume, i got the same error &quot;Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1&quot; when i try to select one object from my databse the problem exists only any production, do you have any idea on how to resolve this problem , i&#39;m in a critical situation . Regards !"},{"owner":{"account_id":1583553,"reputation":959,"user_id":1468384,"accept_rate":0,"display_name":"ParagFlume"},"score":0,"creation_date":1519061319,"post_id":32201073,"comment_id":84746218,"body_markdown":"I think the query didn&#39;t find any record in db, it is expecting to find one record in db, which it is trying to update. you can check manually / query-browser if record actually exists on db.","body":"I think the query didn&#39;t find any record in db, it is expecting to find one record in db, which it is trying to update. you can check manually / query-browser if record actually exists on db."},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1519061483,"post_id":32201073,"comment_id":84746300,"body_markdown":"yes the record exists , but my problem is why hibernate try to update , i&#39;m just using a select service to get the object from the database !","body":"yes the record exists , but my problem is why hibernate try to update , i&#39;m just using a select service to get the object from the database !"},{"owner":{"account_id":1583553,"reputation":959,"user_id":1468384,"accept_rate":0,"display_name":"ParagFlume"},"score":0,"creation_date":1519061683,"post_id":32201073,"comment_id":84746396,"body_markdown":"may be you are trying to change the state of the objects. and session is still open.","body":"may be you are trying to change the state of the objects. and session is still open."},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1519119480,"post_id":32201073,"comment_id":84768165,"body_markdown":"how i can check this behaivor  , because i&#39;m not the person who developp the service...","body":"how i can check this behaivor  , because i&#39;m not the person who developp the service..."},{"owner":{"account_id":1583553,"reputation":959,"user_id":1468384,"accept_rate":0,"display_name":"ParagFlume"},"score":0,"creation_date":1519189171,"post_id":32201073,"comment_id":84802252,"body_markdown":"just check whether any state of the object got changed, specially the id ( id/primary_key of the dto ) of the object","body":"just check whether any state of the object got changed, specially the id ( id/primary_key of the dto ) of the object"}],"tags":[],"owner":{"account_id":1583553,"reputation":959,"user_id":1468384,"accept_rate":0,"display_name":"ParagFlume"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440497022,"creation_date":1440497022,"answer_id":32201073,"question_id":2743130,"body_markdown":"I was facing same issue.\r\nThe code was working in the testing environment. But it was not working in staging environment.\r\n\r\n    org.hibernate.jdbc.BatchedTooManyRowsAffectedException: Batch update returned unexpected row count from update [0]; actual row count: 3; expected: 1\r\n\r\nThe problem was the table had single entry for each primary key in testing DB table. But in staging DB there was multiple entry for same primary key. ( Problem is in staging DB the table didn&#39;t had any primary key constraints also there was multiple entry.)\r\n\r\nSo every time on update operation it gets failed. It tries to update single record and expect to get update count as 1. But since there was 3 records in the table for the same primary key, The result update count finds 3. Since expected update count and actual result update count didn&#39;t match, It throws exception and rolls back.\r\n\r\nAfter the I removed all the records which have duplicate primary key and added primary key constraints. It is working fine.\r\n\r\n    Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\r\n\r\n\r\nactual row count: 0 // means no record found to update  \r\nupdate: 0 // means no record found so nothing update  \r\nexpected: 1 // means expected at least 1 record with key in db table.  \r\n\r\nHere the problem is that the query trying to update a record for some key, But hibernate didn&#39;t find any record with the key.\r\n\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I was facing same issue.\nThe code was working in the testing environment. But it was not working in staging environment.</p>\n\n<pre><code>org.hibernate.jdbc.BatchedTooManyRowsAffectedException: Batch update returned unexpected row count from update [0]; actual row count: 3; expected: 1\n</code></pre>\n\n<p>The problem was the table had single entry for each primary key in testing DB table. But in staging DB there was multiple entry for same primary key. ( Problem is in staging DB the table didn't had any primary key constraints also there was multiple entry.)</p>\n\n<p>So every time on update operation it gets failed. It tries to update single record and expect to get update count as 1. But since there was 3 records in the table for the same primary key, The result update count finds 3. Since expected update count and actual result update count didn't match, It throws exception and rolls back.</p>\n\n<p>After the I removed all the records which have duplicate primary key and added primary key constraints. It is working fine.</p>\n\n<pre><code>Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\n</code></pre>\n\n<p>actual row count: 0 // means no record found to update<br>\nupdate: 0 // means no record found so nothing update<br>\nexpected: 1 // means expected at least 1 record with key in db table.  </p>\n\n<p>Here the problem is that the query trying to update a record for some key, But hibernate didn't find any record with the key.</p>\n"},{"tags":[],"owner":{"account_id":5291146,"reputation":768,"user_id":4223734,"accept_rate":67,"display_name":"Soggiorno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463001157,"creation_date":1463001157,"answer_id":37173383,"question_id":2743130,"body_markdown":"I got this error when I tried to update an object with an id that did not exist in the database. The reason for my mistake was that I had manually assigned a property with the name &#39;id&#39; to the client side JSON-representation of the object and then when deserializing the object on the server side this &#39;id&#39; property would overwrite the instance variable (also called &#39;id&#39;) that Hibernate was supposed to generate. So be careful of naming collisions if you are using Hibernate to generate identifiers.   ","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got this error when I tried to update an object with an id that did not exist in the database. The reason for my mistake was that I had manually assigned a property with the name 'id' to the client side JSON-representation of the object and then when deserializing the object on the server side this 'id' property would overwrite the instance variable (also called 'id') that Hibernate was supposed to generate. So be careful of naming collisions if you are using Hibernate to generate identifiers.   </p>\n"},{"tags":[],"owner":{"account_id":8680729,"reputation":1,"user_id":6496683,"display_name":"abhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466555535,"creation_date":1466555535,"answer_id":37956733,"question_id":2743130,"body_markdown":"This happened if you change something in data set using native sql query but persisted object for same data set is present in session cache.\r\nUse session.evict(yourObject);\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happened if you change something in data set using native sql query but persisted object for same data set is present in session cache.\nUse session.evict(yourObject);</p>\n"},{"tags":[],"owner":{"account_id":3169342,"reputation":104,"user_id":2678694,"accept_rate":100,"display_name":"Kuldeep Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468779002,"creation_date":1468779002,"answer_id":38424373,"question_id":2743130,"body_markdown":"I also came across the same challenge. In my case I was updating an object which was not even existing, using `hibernateTemplate`. \r\n\r\nActually in my application I was getting a DB object to update. And while updating its values, I also updated its ID by mistake, and went ahead to update it and came across the said error. \r\n\r\nI am using `hibernateTemplate` for CRUD operations.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I also came across the same challenge. In my case I was updating an object which was not even existing, using <code>hibernateTemplate</code>. </p>\n\n<p>Actually in my application I was getting a DB object to update. And while updating its values, I also updated its ID by mistake, and went ahead to update it and came across the said error. </p>\n\n<p>I am using <code>hibernateTemplate</code> for CRUD operations.</p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470923015,"creation_date":1470923015,"answer_id":38898118,"question_id":2743130,"body_markdown":"Hibernate caches objects from the session. If object is accessed and modified by more than 1 user then `org.hibernate.StaleStateException` may be be thrown. It may be solved with merge/refresh entity method before saving or using lock. More info: http://java-fp.blogspot.lt/2011/09/orghibernatestalestateexception-batch.html\r\n\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Hibernate caches objects from the session. If object is accessed and modified by more than 1 user then <code>org.hibernate.StaleStateException</code> may be be thrown. It may be solved with merge/refresh entity method before saving or using lock. More info: <a href=\"http://java-fp.blogspot.lt/2011/09/orghibernatestalestateexception-batch.html\" rel=\"nofollow\">http://java-fp.blogspot.lt/2011/09/orghibernatestalestateexception-batch.html</a></p>\n"},{"tags":[],"owner":{"account_id":5798913,"reputation":4819,"user_id":4573762,"accept_rate":93,"display_name":"Luis Teijon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471790002,"creation_date":1471790002,"answer_id":39065345,"question_id":2743130,"body_markdown":"After reading all answers did&#180;t find anyone to talk about inverse atribute of hibernate. \r\n\r\nIn my my opinion you should also verify in your relationships mapping whether **inverse** key word is appropiately setted. **Inverse** keyword is created to defines which side is the owner to maintain the relationship. The procedure for updating and inserting varies cccording to this attribute.\r\n\r\nLet&#39;s suppose we have two tables:\r\n\r\n**principal_table**, **middle_table**\r\n\r\nwith a relationship of **one to many**. The hiberntate mapping classes are **Principal** and **Middle** respectively. \r\n\r\nSo the **Principal** class has a SET of **Middle** objects. The xml mapping file should be like following:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;path.to.class.Principal&quot; table=&quot;principal_table&quot; ...&gt;\r\n        ...\r\n        &lt;set name=&quot;middleObjects&quot; table=&quot;middle_table&quot; inverse=&quot;true&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key&gt;\r\n                &lt;column name=&quot;PRINCIPAL_ID&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/key&gt;\r\n            &lt;one-to-many class=&quot;path.to.class.Middel&quot; /&gt;\r\n        &lt;/set&gt;\r\n        ...\r\n\r\nAs inverse is set to true, it means Middle class is the relationship owner, so Principal class will **NOT UPDATE** the relationship.\r\n\r\nSo the procedure for updating could be implemented like this:\r\n\r\n    session.beginTransaction();\r\n    \r\n    Principal principal = new Principal();\r\n    principal.setSomething(&quot;1&quot;);\r\n    principal.setSomethingElse(&quot;2&quot;);\r\n\r\n    \r\n    Middle middleObject = new Middle();\r\n    middleObject.setSomething(&quot;1&quot;);\r\n    \r\n    middleObject.setPrincipal(principal);\r\n    principal.getMiddleObjects().add(middleObject);\r\n    \r\n    session.saveOrUpdate(principal);\r\n    session.saveOrUpdate(middleObject); // NOTICE: you will need to save it manually\r\n    \r\n    session.getTransaction().commit();\r\n\r\nThis worked for me, bu you can suggest some editions in order to improve the solution. That way we all will be learning.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>After reading all answers didt find anyone to talk about inverse atribute of hibernate. </p>\n\n<p>In my my opinion you should also verify in your relationships mapping whether <strong>inverse</strong> key word is appropiately setted. <strong>Inverse</strong> keyword is created to defines which side is the owner to maintain the relationship. The procedure for updating and inserting varies cccording to this attribute.</p>\n\n<p>Let's suppose we have two tables:</p>\n\n<p><strong>principal_table</strong>, <strong>middle_table</strong></p>\n\n<p>with a relationship of <strong>one to many</strong>. The hiberntate mapping classes are <strong>Principal</strong> and <strong>Middle</strong> respectively. </p>\n\n<p>So the <strong>Principal</strong> class has a SET of <strong>Middle</strong> objects. The xml mapping file should be like following:</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=\"path.to.class.Principal\" table=\"principal_table\" ...&gt;\n    ...\n    &lt;set name=\"middleObjects\" table=\"middle_table\" inverse=\"true\" fetch=\"select\"&gt;\n        &lt;key&gt;\n            &lt;column name=\"PRINCIPAL_ID\" not-null=\"true\" /&gt;\n        &lt;/key&gt;\n        &lt;one-to-many class=\"path.to.class.Middel\" /&gt;\n    &lt;/set&gt;\n    ...\n</code></pre>\n\n<p>As inverse is set to true, it means Middle class is the relationship owner, so Principal class will <strong>NOT UPDATE</strong> the relationship.</p>\n\n<p>So the procedure for updating could be implemented like this:</p>\n\n<pre><code>session.beginTransaction();\n\nPrincipal principal = new Principal();\nprincipal.setSomething(\"1\");\nprincipal.setSomethingElse(\"2\");\n\n\nMiddle middleObject = new Middle();\nmiddleObject.setSomething(\"1\");\n\nmiddleObject.setPrincipal(principal);\nprincipal.getMiddleObjects().add(middleObject);\n\nsession.saveOrUpdate(principal);\nsession.saveOrUpdate(middleObject); // NOTICE: you will need to save it manually\n\nsession.getTransaction().commit();\n</code></pre>\n\n<p>This worked for me, bu you can suggest some editions in order to improve the solution. That way we all will be learning.</p>\n"},{"tags":[],"owner":{"account_id":3372023,"reputation":11,"user_id":2831046,"display_name":"vootla561"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473665472,"creation_date":1473660902,"answer_id":39444288,"question_id":2743130,"body_markdown":"One of the case\r\n\r\n    SessionFactory sf=new Configuration().configure().buildSessionFactory();\r\n\tSession session=sf.openSession();\r\n\t\t\r\n\tUserDetails user=new UserDetails();\r\n\t\t\r\n\tsession.beginTransaction();\r\n\tuser.setUserName(&quot;update user agian&quot;);\r\n\tuser.setUserId(12);\r\n\tsession.saveOrUpdate(user);\r\n\tsession.getTransaction().commit();\r\n\tSystem.out.println(&quot;user::&quot;+user.getUserName());\r\n\t\t\r\n    sf.close();","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>One of the case</p>\n\n<pre><code>SessionFactory sf=new Configuration().configure().buildSessionFactory();\nSession session=sf.openSession();\n\nUserDetails user=new UserDetails();\n\nsession.beginTransaction();\nuser.setUserName(\"update user agian\");\nuser.setUserId(12);\nsession.saveOrUpdate(user);\nsession.getTransaction().commit();\nSystem.out.println(\"user::\"+user.getUserName());\n\nsf.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1241949,"reputation":71,"user_id":1254215,"display_name":"roylac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505376717,"creation_date":1480332879,"answer_id":40843350,"question_id":2743130,"body_markdown":"I got this error because I mistakenly mapped the `ID` column using `Id(x =&gt; x.Id, &quot;id&quot;).GeneratedBy.**Assigned**();`\r\n\r\nIssue resolved by using  `Id(x =&gt; x.Id, &quot;id&quot;).GeneratedBy.**Identity**();`\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got this error because I mistakenly mapped the <code>ID</code> column using <code>Id(x =&gt; x.Id, \"id\").GeneratedBy.**Assigned**();</code></p>\n\n<p>Issue resolved by using  <code>Id(x =&gt; x.Id, \"id\").GeneratedBy.**Identity**();</code></p>\n"},{"tags":[],"owner":{"account_id":5476205,"reputation":459,"user_id":4354157,"accept_rate":20,"display_name":"kamel2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488555489,"creation_date":1488555489,"answer_id":42582924,"question_id":2743130,"body_markdown":"I was facing this exception, and hibernate was working well. I tried to insert manually one record using pgAdmin, here the issue became clear. SQL insert query returns 0 insert. and there is a trigger function that cause this issue because it returns null. so I have only to set it to return new.\r\nand finally I solved the problem.\r\n\r\nhope that helps any body.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I was facing this exception, and hibernate was working well. I tried to insert manually one record using pgAdmin, here the issue became clear. SQL insert query returns 0 insert. and there is a trigger function that cause this issue because it returns null. so I have only to set it to return new.\nand finally I solved the problem.</p>\n\n<p>hope that helps any body.</p>\n"},{"tags":[],"owner":{"account_id":7069285,"reputation":2980,"user_id":5411494,"accept_rate":73,"display_name":"Marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1531933857,"creation_date":1504199378,"answer_id":45986851,"question_id":2743130,"body_markdown":"It also can happen when you try to `UPDATE` a **PRIMARY KEY**.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>It also can happen when you try to <code>UPDATE</code> a <strong>PRIMARY KEY</strong>.</p>\n"},{"comments":[{"owner":{"account_id":2877743,"reputation":28265,"user_id":2469308,"accept_rate":75,"display_name":"Madhur Bhaiya"},"score":0,"creation_date":1588100316,"post_id":46989666,"comment_id":108769503,"body_markdown":"Hi, thanks for your helpful answer. Could you please inform, which LockMode you went for eventually, to get rid of the error. I am facing similar issue, when an API gets hit successively in a different of miliseconds, due to user clicking twice inadvertently. \n\nPessimistic Locking hurts performance; so will be interested to know what you eventually went for ?","body":"Hi, thanks for your helpful answer. Could you please inform, which LockMode you went for eventually, to get rid of the error. I am facing similar issue, when an API gets hit successively in a different of miliseconds, due to user clicking twice inadvertently.   Pessimistic Locking hurts performance; so will be interested to know what you eventually went for ?"},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":1,"creation_date":1588104558,"post_id":46989666,"comment_id":108771582,"body_markdown":"It was a long time since I had the problem and i don&#39;t remember well the exact solution I&#39;ve put in place, but it was `LockMode.READ` or `LockMode.OPTIMISTIC`.","body":"It was a long time since I had the problem and i don&#39;t remember well the exact solution I&#39;ve put in place, but it was <code>LockMode.READ</code> or <code>LockMode.OPTIMISTIC</code>."}],"tags":[],"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1536741000,"creation_date":1509193243,"answer_id":46989666,"question_id":2743130,"body_markdown":"In my case, I came to this exception in two similar cases:\r\n\r\n - In a method annotated with `@Transactional` I had a call to another service (with long times of response). The method updates some properties of the entity (after the method, the entity still exists in the database). If the user requests two times the method (as he thinks it doesn&#39;t work the first time) when exiting from the transactional method the second time, Hibernate tries to update an entity which already changed its state from the beginning of the transaction. As Hibernate search for an entity in a state, and found the same entity but already changed by the first request, it throws an exception as it can&#39;t update the entity. It&#39;s like a conflict in GIT.\r\n - I had automatic requests (for monitoring the platform) which update an entity (and the manual rollback a few seconds later). But this platform is already used by a test team. When a tester performs a test in the same entity as the automatic requests, (within the same hundredth of a millisecond), I get the exception. As in the previous case, when exiting from the second transaction, the entity previously fetched already changed.\r\n\r\nConclusion: in my case, it wasn&#39;t a problem which can be found in the code. **This exception is thrown when Hibernate founds that the entity first fetched from the database changed during the current transaction**, so it can&#39;t flush it to the database as Hibernate doesn&#39;t know which is the correct version of the entity: the one the current transaction fetch at the beginning; or the one already stored in the database.\r\n\r\nSolution: to solve the problem, you will have to play with the Hibernate &lt;a href=&quot;https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/LockMode.html&quot;&gt;LockMode&lt;/a&gt; to find the one which best fit your requirements.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case, I came to this exception in two similar cases:</p>\n\n<ul>\n<li>In a method annotated with <code>@Transactional</code> I had a call to another service (with long times of response). The method updates some properties of the entity (after the method, the entity still exists in the database). If the user requests two times the method (as he thinks it doesn't work the first time) when exiting from the transactional method the second time, Hibernate tries to update an entity which already changed its state from the beginning of the transaction. As Hibernate search for an entity in a state, and found the same entity but already changed by the first request, it throws an exception as it can't update the entity. It's like a conflict in GIT.</li>\n<li>I had automatic requests (for monitoring the platform) which update an entity (and the manual rollback a few seconds later). But this platform is already used by a test team. When a tester performs a test in the same entity as the automatic requests, (within the same hundredth of a millisecond), I get the exception. As in the previous case, when exiting from the second transaction, the entity previously fetched already changed.</li>\n</ul>\n\n<p>Conclusion: in my case, it wasn't a problem which can be found in the code. <strong>This exception is thrown when Hibernate founds that the entity first fetched from the database changed during the current transaction</strong>, so it can't flush it to the database as Hibernate doesn't know which is the correct version of the entity: the one the current transaction fetch at the beginning; or the one already stored in the database.</p>\n\n<p>Solution: to solve the problem, you will have to play with the Hibernate <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/LockMode.html\" rel=\"noreferrer\">LockMode</a> to find the one which best fit your requirements.</p>\n"},{"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516107003,"creation_date":1516107003,"answer_id":48281698,"question_id":2743130,"body_markdown":"This happens to me because I am missing ID  declaration in bean class.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happens to me because I am missing ID  declaration in bean class.</p>\n"},{"tags":[],"owner":{"account_id":12862599,"reputation":1,"user_id":9303879,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517555866,"creation_date":1517555866,"answer_id":48577567,"question_id":2743130,"body_markdown":"In my case there was an issue with the Database as one of the Stored Procs was consuming all the CPU causing high DB response times. Once this was killed issue got resolved.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case there was an issue with the Database as one of the Stored Procs was consuming all the CPU causing high DB response times. Once this was killed issue got resolved.</p>\n"},{"tags":[],"owner":{"account_id":12274821,"reputation":21,"user_id":8959019,"display_name":"karan bainade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521819403,"creation_date":1520013108,"answer_id":49074692,"question_id":2743130,"body_markdown":"Actually, it happen to me when I didn&#39;t store the object as reference variable. in Entity class. Like this code:\r\n   `ses.get(InsurancePolicy.class, 101);` After that, I stored the object in entity&#39;s reference variable so problem solved for me. `policy=(InsurancePolicy)ses.get(InsurancePolicy.class, 101);`\r\nAfter that, I updated the object and it worked fine.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Actually, it happen to me when I didn't store the object as reference variable. in Entity class. Like this code:\n   <code>ses.get(InsurancePolicy.class, 101);</code> After that, I stored the object in entity's reference variable so problem solved for me. <code>policy=(InsurancePolicy)ses.get(InsurancePolicy.class, 101);</code>\nAfter that, I updated the object and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":11416082,"reputation":1,"user_id":8368865,"display_name":"YumikoTanaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531730079,"creation_date":1531730079,"answer_id":51357670,"question_id":2743130,"body_markdown":"I got the same message.\r\nAfter looking for a code related source it got to me that running the application on a local machine interferes with the dev stage, because the share the same DB.\r\nSo sometimes one server has deleted an entry already while the other just wanted to do the same.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got the same message.\nAfter looking for a code related source it got to me that running the application on a local machine interferes with the dev stage, because the share the same DB.\nSo sometimes one server has deleted an entry already while the other just wanted to do the same.</p>\n"},{"tags":[],"owner":{"account_id":252559,"reputation":123,"user_id":530687,"display_name":"Bryan Pugh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539976443,"creation_date":1539976443,"answer_id":52898619,"question_id":2743130,"body_markdown":"Another way to get this error is if you have a null item in a collection.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Another way to get this error is if you have a null item in a collection.</p>\n"},{"tags":[],"owner":{"account_id":11995867,"reputation":637,"user_id":8821112,"display_name":"Durja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547631916,"creation_date":1547631916,"answer_id":54214215,"question_id":2743130,"body_markdown":"Few ways I debugged this error: \r\n\r\n1. As suggested in the accepted answer- turn on show sql. \r\n2. I found there is some issue with setting up the id in the hibernate sql. \r\n3. Found that I was missing @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Few ways I debugged this error: </p>\n\n<ol>\n<li>As suggested in the accepted answer- turn on show sql. </li>\n<li>I found there is some issue with setting up the id in the hibernate sql. </li>\n<li>Found that I was missing @GeneratedValue(strategy=GenerationType.IDENTITY)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6801671,"reputation":311,"user_id":5234799,"display_name":"Sandeep Khantwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566562455,"creation_date":1566456852,"answer_id":57603564,"question_id":2743130,"body_markdown":"In our case we finally found out the root cause of StaleStateException.\r\n\r\nIn fact we were deleting the row twice in a single hibernate session. Earlier we were using ojdbc6 lib, and this was ok in this version.\r\n\r\nBut when we upgraded to odjc7 or ojdbc8, deleting records twice was throwing exception. There was bug in our code where we were deleting twice, but that was not evident in ojdbc6.\r\n\r\nWe were able to reproduce with this piece of code:\r\n\r\n\r\n    Detail detail = getDetail(Long.valueOf(1396451));\r\n    session.delete(detail);\r\n    session.flush();\r\n    session.delete(detail);\r\n    session.flush();\r\n\r\n\r\nOn first flush hibernate goes and makes changes in database. During 2nd flush hibernate compares session&#39;s object with actual table&#39;s record, but could not find one, hence the exception.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In our case we finally found out the root cause of StaleStateException.</p>\n\n<p>In fact we were deleting the row twice in a single hibernate session. Earlier we were using ojdbc6 lib, and this was ok in this version.</p>\n\n<p>But when we upgraded to odjc7 or ojdbc8, deleting records twice was throwing exception. There was bug in our code where we were deleting twice, but that was not evident in ojdbc6.</p>\n\n<p>We were able to reproduce with this piece of code:</p>\n\n<pre><code>Detail detail = getDetail(Long.valueOf(1396451));\nsession.delete(detail);\nsession.flush();\nsession.delete(detail);\nsession.flush();\n</code></pre>\n\n<p>On first flush hibernate goes and makes changes in database. During 2nd flush hibernate compares session's object with actual table's record, but could not find one, hence the exception.</p>\n"},{"tags":[],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571326815,"creation_date":1571324732,"answer_id":58435647,"question_id":2743130,"body_markdown":"This problem mainly occurs when we are trying to save or update the object which are already fetched into memory by a running session. \r\nIf you&#39;ve fetched object from the session and you&#39;re trying to update in the database, then this exception may be thrown.\r\n\r\nI used session.evict(); to remove the cache stored in hibernate first or if you don&#39;t wanna take risk of loosing data, better you make another object for storing the data temp.\r\n\r\n\r\n         try\r\n\t\t{\r\n\t\t\tif(!session.isOpen())\r\n\t\t\t{\r\n\t\t\t\tsession=EmployeyDao.getSessionFactory().openSession();\r\n\t\t\t}\r\n\t\t\t\ttx=session.beginTransaction();\r\n\t\t\t\r\n\t\t\tsession.evict(e);\r\n\t\t\tsession.saveOrUpdate(e);\r\n\t\t\ttx.commit();;\r\n\t\t\tEmployeyDao.shutDown(session);\r\n\t\t}\r\n\t\tcatch(HibernateException exc)\r\n\t\t{\r\n\t\t\texc.printStackTrace();\r\n\t\t\ttx.rollback();\r\n\t\t}","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This problem mainly occurs when we are trying to save or update the object which are already fetched into memory by a running session. \nIf you've fetched object from the session and you're trying to update in the database, then this exception may be thrown.</p>\n\n<p>I used session.evict(); to remove the cache stored in hibernate first or if you don't wanna take risk of loosing data, better you make another object for storing the data temp.</p>\n\n<pre><code>     try\n    {\n        if(!session.isOpen())\n        {\n            session=EmployeyDao.getSessionFactory().openSession();\n        }\n            tx=session.beginTransaction();\n\n        session.evict(e);\n        session.saveOrUpdate(e);\n        tx.commit();;\n        EmployeyDao.shutDown(session);\n    }\n    catch(HibernateException exc)\n    {\n        exc.printStackTrace();\n        tx.rollback();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6354435,"reputation":71,"user_id":4932293,"display_name":"booFar"},"score":0,"creation_date":1666172147,"post_id":62570124,"comment_id":130870623,"body_markdown":"Sadly, probably because of this bug here: https://hibernate.atlassian.net/browse/HHH-13741 I only see some hash of a Hikari prepared statement. Using Spring Boot with the Hikari connection pool.","body":"Sadly, probably because of this bug here: <a href=\"https://hibernate.atlassian.net/browse/HHH-13741\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-13741</a> I only see some hash of a Hikari prepared statement. Using Spring Boot with the Hikari connection pool."},{"owner":{"account_id":6354435,"reputation":71,"user_id":4932293,"display_name":"booFar"},"score":0,"creation_date":1666184998,"post_id":62570124,"comment_id":130875425,"body_markdown":"To my previous comment: my problem is that the Hikari prepared statement wraps an SQLServerPreparedStatement, content of which won&#39;t be shown in the log. This would probably be the solution: https://hibernate.atlassian.net/browse/HHH-13888","body":"To my previous comment: my problem is that the Hikari prepared statement wraps an SQLServerPreparedStatement, content of which won&#39;t be shown in the log. This would probably be the solution: <a href=\"https://hibernate.atlassian.net/browse/HHH-13888\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-13888</a>"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1593070379,"creation_date":1593070379,"answer_id":62570124,"question_id":2743130,"body_markdown":"Hibernate 5.4.1 and HHH-12878 issue\r\n-----------------------------------\r\n\r\nPrior to Hibernate 5.4.1, the optimistic locking failure exceptions (e.g., `StaleStateException` or `OptimisticLockException`) didn&#39;t include the failing statement.\r\n\r\nThe [HHH-12878](https://hibernate.atlassian.net/browse/HHH-12878) issue was created to improve Hibernate so that when throwing an optimistic locking exception, the JDBC `PreparedStatement` implementation is logged as well:\r\n\r\n    if ( expectedRowCount &gt; rowCount ) {\r\n    \tthrow new StaleStateException(\r\n    \t\t\t&quot;Batch update returned unexpected row count from update [&quot;\r\n    \t\t\t\t\t+ batchPosition + &quot;]; actual row count: &quot; + rowCount\r\n    \t\t\t\t\t+ &quot;; expected: &quot; + expectedRowCount + &quot;; statement executed: &quot;\r\n    \t\t\t\t\t+ statement\r\n    \t);\r\n    }\r\n\r\nTesting Time\r\n------------\r\n\r\n&gt; I created the [`BatchingOptimisticLockingTest`](https://github.com/vladmihalcea/high-performance-java-persistence/blob/515dae44a4b34891705074c94e51e8dfb9faa330/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/batch/BatchingOptimisticLockingTest.java) in my High-Performance Java Persistence GitHub repository to demonstrate how the new behavior works.\r\n\r\nFirst, we will define a `Post` entity that defines a `@Version` property, therefore enabling [the implicit optimistic locking mechanism](https://vladmihalcea.com/optimistic-locking-version-property-jpa-hibernate/):\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    public class Post {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String title;\r\n    \r\n    \t@Version\r\n    \tprivate short version;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic Post setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic Post setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic short getVersion() {\r\n    \t\treturn version;\r\n    \t}\r\n    }\r\n\r\nWe will enable the JDBC batching using the following 3 configuration properties:\r\n\r\n    properties.put(&quot;hibernate.jdbc.batch_size&quot;, &quot;5&quot;);\r\n    properties.put(&quot;hibernate.order_inserts&quot;, &quot;true&quot;);\r\n    properties.put(&quot;hibernate.order_updates&quot;, &quot;true&quot;);\r\n\r\nWe are going to create 3 `Post` entities:\r\n\r\n    doInJPA(entityManager -&gt; {\r\n    \tfor (int i = 1; i &lt;= 3; i++) {\r\n    \t\tentityManager.persist(\r\n    \t\t\tnew Post()\r\n    \t\t\t\t.setTitle(String.format(&quot;Post no. %d&quot;, i))\r\n    \t\t);\r\n    \t}\r\n    });\r\n\r\nAnd Hibernate will execute a JDBC batch insert:\r\n\r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n    \r\n    Query: [\r\n    \tINSERT INTO post (title, version, id) \r\n    \tVALUES (?, ?, ?)\r\n    ], \r\n    Params:[\r\n    \t(Post no. 1, 0, 1), \r\n    \t(Post no. 2, 0, 2), \r\n    \t(Post no. 3, 0, 3)\r\n    ]\r\n\r\nSo, we know that JDBC batching works just fine.\r\n\r\nNow, let&#39;s replicate the optimistic locking issue:\r\n\r\n    doInJPA(entityManager -&gt; {\r\n    \tList&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \t\tselect p \r\n    \t\tfrom Post p\r\n    \t\t&quot;&quot;&quot;, Post.class)\r\n    \t.getResultList();\r\n    \r\n    \tposts.forEach(\r\n    \t\tpost -&gt; post.setTitle(\r\n    \t\t\tpost.getTitle() + &quot; - 2nd edition&quot;\r\n    \t\t)\r\n    \t);\r\n    \r\n    \texecuteSync(\r\n    \t\t() -&gt; doInJPA(_entityManager -&gt; {\r\n    \t\t\tPost post = _entityManager.createQuery(&quot;&quot;&quot;\r\n    \t\t\t\tselect p \r\n    \t\t\t\tfrom Post p\r\n    \t\t\t\torder by p.id\r\n    \t\t\t\t&quot;&quot;&quot;, Post.class)\r\n    \t\t\t.setMaxResults(1)\r\n    \t\t\t.getSingleResult();\r\n    \r\n    \t\t\tpost.setTitle(post.getTitle() + &quot; - corrected&quot;);\r\n    \t\t})\r\n    \t);\r\n    });\r\n\r\nThe first transaction selects all `Post` entities and modifies the `title` properties.\r\n\r\nHowever, before the first `EntityManager` is flushed, we are going to execute a second transition using the `executeSync` method.\r\n\r\nThe second transaction modifies the first `Post`, so its `version` is going to be incremented:\r\n\r\n    Query:[\r\n    \tUPDATE \r\n    \t\tpost \r\n    \tSET \r\n    \t\ttitle = ?, \r\n    \t\tversion = ? \r\n    \tWHERE \r\n    \t\tid = ? AND \r\n    \t\tversion = ?\r\n    ], \r\n    Params:[\r\n    \t(&#39;Post no. 1 - corrected&#39;, 1, 1, 0)\r\n    ]\r\n\r\nNow, when the first transaction tries to flush the `EntityManager`, we will get the `OptimisticLockException`:\r\n\r\n    Query:[\r\n    \tUPDATE \r\n    \t\tpost \r\n    \tSET \r\n    \t\ttitle = ?, \r\n    \t\tversion = ? \r\n    \tWHERE \r\n    \t\tid = ? AND \r\n    \t\tversion = ?\r\n    ], \r\n    Params:[\r\n    \t(&#39;Post no. 1 - 2nd edition&#39;, 1, 1, 0), \r\n    \t(&#39;Post no. 2 - 2nd edition&#39;, 1, 2, 0), \r\n    \t(&#39;Post no. 3 - 2nd edition&#39;, 1, 3, 0)\r\n    ]\r\n    \r\n    o.h.e.j.b.i.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements\r\n    \r\n    o.h.e.j.b.i.BatchingBatch - HHH000315: Exception executing batch [\r\n    \torg.hibernate.StaleStateException: \r\n    \tBatch update returned unexpected row count from update [0]; \r\n    \tactual row count: 0; \r\n    \texpected: 1; \r\n    \tstatement executed: \r\n    \t\tPgPreparedStatement [\r\n    \t\t\tupdate post set title=&#39;Post no. 3 - 2nd edition&#39;, version=1 where id=3 and version=0\r\n    \t\t]\r\n    ], \r\n    SQL: update post set title=?, version=? where id=? and version=?\r\n\r\nSo, you need to upgrade to Hibernate 5.4.1 or newer to benefit from this improvement.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<h2>Hibernate 5.4.1 and HHH-12878 issue</h2>\n<p>Prior to Hibernate 5.4.1, the optimistic locking failure exceptions (e.g., <code>StaleStateException</code> or <code>OptimisticLockException</code>) didn't include the failing statement.</p>\n<p>The <a href=\"https://hibernate.atlassian.net/browse/HHH-12878\" rel=\"noreferrer\">HHH-12878</a> issue was created to improve Hibernate so that when throwing an optimistic locking exception, the JDBC <code>PreparedStatement</code> implementation is logged as well:</p>\n<pre><code>if ( expectedRowCount &gt; rowCount ) {\n    throw new StaleStateException(\n            &quot;Batch update returned unexpected row count from update [&quot;\n                    + batchPosition + &quot;]; actual row count: &quot; + rowCount\n                    + &quot;; expected: &quot; + expectedRowCount + &quot;; statement executed: &quot;\n                    + statement\n    );\n}\n</code></pre>\n<h2>Testing Time</h2>\n<blockquote>\n<p>I created the <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/515dae44a4b34891705074c94e51e8dfb9faa330/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/batch/BatchingOptimisticLockingTest.java\" rel=\"noreferrer\"><code>BatchingOptimisticLockingTest</code></a> in my High-Performance Java Persistence GitHub repository to demonstrate how the new behavior works.</p>\n</blockquote>\n<p>First, we will define a <code>Post</code> entity that defines a <code>@Version</code> property, therefore enabling <a href=\"https://vladmihalcea.com/optimistic-locking-version-property-jpa-hibernate/\" rel=\"noreferrer\">the implicit optimistic locking mechanism</a>:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    private String title;\n\n    @Version\n    private short version;\n\n    public Long getId() {\n        return id;\n    }\n\n    public Post setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public Post setTitle(String title) {\n        this.title = title;\n        return this;\n    }\n\n    public short getVersion() {\n        return version;\n    }\n}\n</code></pre>\n<p>We will enable the JDBC batching using the following 3 configuration properties:</p>\n<pre><code>properties.put(&quot;hibernate.jdbc.batch_size&quot;, &quot;5&quot;);\nproperties.put(&quot;hibernate.order_inserts&quot;, &quot;true&quot;);\nproperties.put(&quot;hibernate.order_updates&quot;, &quot;true&quot;);\n</code></pre>\n<p>We are going to create 3 <code>Post</code> entities:</p>\n<pre><code>doInJPA(entityManager -&gt; {\n    for (int i = 1; i &lt;= 3; i++) {\n        entityManager.persist(\n            new Post()\n                .setTitle(String.format(&quot;Post no. %d&quot;, i))\n        );\n    }\n});\n</code></pre>\n<p>And Hibernate will execute a JDBC batch insert:</p>\n<pre><code>SELECT nextval ('hibernate_sequence')\nSELECT nextval ('hibernate_sequence')\nSELECT nextval ('hibernate_sequence')\n\nQuery: [\n    INSERT INTO post (title, version, id) \n    VALUES (?, ?, ?)\n], \nParams:[\n    (Post no. 1, 0, 1), \n    (Post no. 2, 0, 2), \n    (Post no. 3, 0, 3)\n]\n</code></pre>\n<p>So, we know that JDBC batching works just fine.</p>\n<p>Now, let's replicate the optimistic locking issue:</p>\n<pre><code>doInJPA(entityManager -&gt; {\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n        select p \n        from Post p\n        &quot;&quot;&quot;, Post.class)\n    .getResultList();\n\n    posts.forEach(\n        post -&gt; post.setTitle(\n            post.getTitle() + &quot; - 2nd edition&quot;\n        )\n    );\n\n    executeSync(\n        () -&gt; doInJPA(_entityManager -&gt; {\n            Post post = _entityManager.createQuery(&quot;&quot;&quot;\n                select p \n                from Post p\n                order by p.id\n                &quot;&quot;&quot;, Post.class)\n            .setMaxResults(1)\n            .getSingleResult();\n\n            post.setTitle(post.getTitle() + &quot; - corrected&quot;);\n        })\n    );\n});\n</code></pre>\n<p>The first transaction selects all <code>Post</code> entities and modifies the <code>title</code> properties.</p>\n<p>However, before the first <code>EntityManager</code> is flushed, we are going to execute a second transition using the <code>executeSync</code> method.</p>\n<p>The second transaction modifies the first <code>Post</code>, so its <code>version</code> is going to be incremented:</p>\n<pre><code>Query:[\n    UPDATE \n        post \n    SET \n        title = ?, \n        version = ? \n    WHERE \n        id = ? AND \n        version = ?\n], \nParams:[\n    ('Post no. 1 - corrected', 1, 1, 0)\n]\n</code></pre>\n<p>Now, when the first transaction tries to flush the <code>EntityManager</code>, we will get the <code>OptimisticLockException</code>:</p>\n<pre><code>Query:[\n    UPDATE \n        post \n    SET \n        title = ?, \n        version = ? \n    WHERE \n        id = ? AND \n        version = ?\n], \nParams:[\n    ('Post no. 1 - 2nd edition', 1, 1, 0), \n    ('Post no. 2 - 2nd edition', 1, 2, 0), \n    ('Post no. 3 - 2nd edition', 1, 3, 0)\n]\n\no.h.e.j.b.i.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements\n\no.h.e.j.b.i.BatchingBatch - HHH000315: Exception executing batch [\n    org.hibernate.StaleStateException: \n    Batch update returned unexpected row count from update [0]; \n    actual row count: 0; \n    expected: 1; \n    statement executed: \n        PgPreparedStatement [\n            update post set title='Post no. 3 - 2nd edition', version=1 where id=3 and version=0\n        ]\n], \nSQL: update post set title=?, version=? where id=? and version=?\n</code></pre>\n<p>So, you need to upgrade to Hibernate 5.4.1 or newer to benefit from this improvement.</p>\n"},{"tags":[],"owner":{"account_id":11023650,"reputation":1,"user_id":8097173,"display_name":"starry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594784134,"creation_date":1594783016,"answer_id":62907047,"question_id":2743130,"body_markdown":"In my case, it&#39;s because a ***trigger*** is triggered before a insert cause, (actually it means to split a big table in several tables using timestamp), and then return ***null***. So I met this problem when I used springboot jpa save() function. \r\n\r\nIn addition to change the trigger to `SET NOCOUNT ON;` *Mr. TA* mentioned above, the solution can also be **using native query**.\r\n\r\n    insert into table values(nextval(&#39;table_id_seq&#39;), value1)","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case, it's because a <em><strong>trigger</strong></em> is triggered before a insert cause, (actually it means to split a big table in several tables using timestamp), and then return <em><strong>null</strong></em>. So I met this problem when I used springboot jpa save() function.</p>\n<p>In addition to change the trigger to <code>SET NOCOUNT ON;</code> <em>Mr. TA</em> mentioned above, the solution can also be <strong>using native query</strong>.</p>\n<pre><code>insert into table values(nextval('table_id_seq'), value1)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5392669,"reputation":31675,"user_id":4575350,"display_name":"STA"},"score":0,"creation_date":1621005166,"post_id":67536530,"comment_id":119372814,"body_markdown":"Welcome to Stack Overflow. Please write your answer in English, as Stack Overflow is an [English only site](https://meta.stackoverflow.com/a/297680).","body":"Welcome to Stack Overflow. Please write your answer in English, as Stack Overflow is an <a href=\"https://meta.stackoverflow.com/a/297680\">English only site</a>."}],"tags":[],"owner":{"account_id":20833834,"reputation":1,"user_id":15795723,"display_name":"Blas Albir"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621006237,"creation_date":1621004544,"answer_id":67536530,"question_id":2743130,"body_markdown":"Almost always the cause of this error is that you are sending one or more erroneous primary keys, verify that your variables are clean before loading them with the new values to perform the update.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Almost always the cause of this error is that you are sending one or more erroneous primary keys, verify that your variables are clean before loading them with the new values to perform the update.</p>\n"},{"tags":[],"owner":{"account_id":3292331,"reputation":89,"user_id":2770352,"accept_rate":50,"display_name":"user2770352"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634762958,"creation_date":1634762958,"answer_id":69652869,"question_id":2743130,"body_markdown":"Removing `cascade=CascadeType.ALL` solved it for me.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Removing <code>cascade=CascadeType.ALL</code> solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":23476881,"reputation":11,"user_id":17529560,"display_name":"Kiran Maharjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638087309,"creation_date":1638087309,"answer_id":70141665,"question_id":2743130,"body_markdown":"I solved it. I found that there was no primary key for my Id column in table.\r\nOnce I created it solved for me. Also there was duplicate id found in table before which I deleted and solved it.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I solved it. I found that there was no primary key for my Id column in table.\nOnce I created it solved for me. Also there was duplicate id found in table before which I deleted and solved it.</p>\n"},{"tags":[],"owner":{"account_id":14301436,"reputation":338,"user_id":10330658,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655208376,"creation_date":1655208376,"answer_id":72616686,"question_id":2743130,"body_markdown":"In my case, I had `**two**` similar `primary keys` which I mistakenly created through MySQL workbench.\r\n\r\nIn case you see this kind of scenario, try deleting one from the MySQL workbench.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/54uvc.png","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case, I had <code>**two**</code> similar <code>primary keys</code> which I mistakenly created through MySQL workbench.</p>\n<p>In case you see this kind of scenario, try deleting one from the MySQL workbench.</p>\n<p><a href=\"https://i.stack.imgur.com/54uvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54uvc.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"score":0,"creation_date":1662553102,"post_id":72881726,"comment_id":130031699,"body_markdown":"See my answer https://stackoverflow.com/a/73635372/2011748","body":"See my answer <a href=\"https://stackoverflow.com/a/73635372/2011748\">stackoverflow.com/a/73635372/2011748</a>"}],"tags":[],"owner":{"account_id":7373365,"reputation":470,"user_id":5612892,"accept_rate":83,"display_name":"Amirhosein Al"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657102521,"creation_date":1657102521,"answer_id":72881726,"question_id":2743130,"body_markdown":"I encountered this problem when using Hibernate with MySQL and upon changing the Id data type from UUID to String, the problem was solved. I don&#39;t know the reason though.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I encountered this problem when using Hibernate with MySQL and upon changing the Id data type from UUID to String, the problem was solved. I don't know the reason though.</p>\n"},{"comments":[{"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1681228767,"post_id":73635372,"comment_id":134021256,"body_markdown":"You said it &quot;may&quot; result into such an exception. Do you know by any chance what exactly is causing it or under which conditions it may occur?","body":"You said it &quot;may&quot; result into such an exception. Do you know by any chance what exactly is causing it or under which conditions it may occur?"}],"tags":[],"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1665503977,"creation_date":1662553053,"answer_id":73635372,"question_id":2743130,"body_markdown":"My two cents.\r\n\r\n**Problem:** With Spring Boot 2.7.1 the h2 database version has changed to v2.1.214 which may result into a thrown `OptimisticLockException` when using generated UUIDs for Id columns, see https://hibernate.atlassian.net/browse/HHH-15373.\r\n\r\n**Solution:** Add `columnDefinition=&quot;UUID&quot;` to the `@Column` annotation\r\n\r\nE.g., with a primary key definition for an entity like this:\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(generator = &quot;UUID&quot;)\r\n@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n@Column(name = COLUMN_UUID, updatable = false, nullable = false)\r\nUUID uUID;\r\n```\r\n\r\nChange the column annotation to:\r\n\r\n```java\r\n@Column(name = COLUMN_UUID, updatable = false, nullable = false, columnDefinition=&quot;UUID&quot;)\r\n```\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>My two cents.</p>\n<p><strong>Problem:</strong> With Spring Boot 2.7.1 the h2 database version has changed to v2.1.214 which may result into a thrown <code>OptimisticLockException</code> when using generated UUIDs for Id columns, see <a href=\"https://hibernate.atlassian.net/browse/HHH-15373\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-15373</a>.</p>\n<p><strong>Solution:</strong> Add <code>columnDefinition=&quot;UUID&quot;</code> to the <code>@Column</code> annotation</p>\n<p>E.g., with a primary key definition for an entity like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n@Column(name = COLUMN_UUID, updatable = false, nullable = false)\nUUID uUID;\n</code></pre>\n<p>Change the column annotation to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = COLUMN_UUID, updatable = false, nullable = false, columnDefinition=&quot;UUID&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16743990,"reputation":11,"user_id":12102826,"display_name":"Hany Alshafey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670907105,"creation_date":1670907105,"answer_id":74780110,"question_id":2743130,"body_markdown":"This thread is a bit old, however I thought I should drop my fix here in case it may help someone with same root cause.\r\n\r\nI was migrating a Java Spring hibernate app. from Oracle to Postgre, along the migration process, I converted a trigger from Oracle to Postgre, the trigger was &quot;on Before Insert&quot; of a table and was setting a one of the columns value (of course the desired column was marked update=false insert=false in hibernate mapping to allow the trigger to set its value), and when inserting data from the application I got this error  *Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1*\r\n\r\nMy mistake was that I was setting &quot;Return NULL&quot; at the end of the trigger function, so when the trigger set the column value and the control is back to hibernate for saving, the record was lost as I was returning null.\r\n\r\nMy fix was to change &quot;Return NULL&quot; to &quot;RETURN NEW&quot; in trigger, this will keep the record available after being altered by the trigger, simply this was what it means by &quot;unexcepted **row count for update: 0 expected 1**&quot;\r\n\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This thread is a bit old, however I thought I should drop my fix here in case it may help someone with same root cause.</p>\n<p>I was migrating a Java Spring hibernate app. from Oracle to Postgre, along the migration process, I converted a trigger from Oracle to Postgre, the trigger was &quot;on Before Insert&quot; of a table and was setting a one of the columns value (of course the desired column was marked update=false insert=false in hibernate mapping to allow the trigger to set its value), and when inserting data from the application I got this error  <em>Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1</em></p>\n<p>My mistake was that I was setting &quot;Return NULL&quot; at the end of the trigger function, so when the trigger set the column value and the control is back to hibernate for saving, the record was lost as I was returning null.</p>\n<p>My fix was to change &quot;Return NULL&quot; to &quot;RETURN NEW&quot; in trigger, this will keep the record available after being altered by the trigger, simply this was what it means by &quot;unexcepted <strong>row count for update: 0 expected 1</strong>&quot;</p>\n"},{"tags":[],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678183222,"creation_date":1678183222,"answer_id":75660465,"question_id":2743130,"body_markdown":"I encounter this problem when I query insert operation it means that I save my parent entity and it&#39;s child entity as well. It&#39;s solution that, use bidirectional mapping in your entity relationships.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I encounter this problem when I query insert operation it means that I save my parent entity and it's child entity as well. It's solution that, use bidirectional mapping in your entity relationships.</p>\n"},{"tags":[],"owner":{"account_id":20997331,"reputation":1,"user_id":15428841,"display_name":"Sinisa Milojevic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678883795,"creation_date":1678883795,"answer_id":75744797,"question_id":2743130,"body_markdown":"I was facing this exception and the issue was that we were trying to delete parent object first then the child object.  Reversing order of deletion in the code resolved the issue.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I was facing this exception and the issue was that we were trying to delete parent object first then the child object.  Reversing order of deletion in the code resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":2789691,"reputation":88,"user_id":2400151,"display_name":"meggar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678931981,"creation_date":1678931981,"answer_id":75751558,"question_id":2743130,"body_markdown":"The problem we met is that we use the PostgreSQL&#39;s `jsonb` with hibernate-types (https://github.com/vladmihalcea/hypersistence-utils), and the `jsonb` is a `List&lt;MyType&gt;`, where the `MyType` does not impl. the `equals` and `hashCode`, that makes the Hibernate dirty checking trigger unexpected UPDATE statements always after a query..\r\n\r\nYou can check this [best practices][1], and this [issue][2] for more details\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hypersistence-utils#best-practices\r\n  [2]: https://github.com/vladmihalcea/hypersistence-utils/issues/138","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>The problem we met is that we use the PostgreSQL's <code>jsonb</code> with hibernate-types (<a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hypersistence-utils</a>), and the <code>jsonb</code> is a <code>List&lt;MyType&gt;</code>, where the <code>MyType</code> does not impl. the <code>equals</code> and <code>hashCode</code>, that makes the Hibernate dirty checking trigger unexpected UPDATE statements always after a query..</p>\n<p>You can check this <a href=\"https://github.com/vladmihalcea/hypersistence-utils#best-practices\" rel=\"nofollow noreferrer\">best practices</a>, and this <a href=\"https://github.com/vladmihalcea/hypersistence-utils/issues/138\" rel=\"nofollow noreferrer\">issue</a> for more details</p>\n"}],"owner":{"account_id":177420,"reputation":5055,"user_id":408738,"accept_rate":84,"display_name":"Sujee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444959,"favorite_count":0,"down_vote_count":1,"up_vote_count":222,"accepted_answer_id":2743663,"answer_count":44,"score":221,"last_activity_date":1678931981,"creation_date":1272615074,"question_id":2743130,"body_markdown":"I get following hibernate error. I am able to identify the function which causes the issue. Unfortunately there are several DB calls in the function. I am unable to find the line which causes the issue since hibernate flush the session at the end of the transaction. The below mentioned hibernate error looks like a general error. It doesn&#39;t even mentioned which Bean causes the issue. Anyone familiar with this hibernate error?\r\n\r\n\r\n    org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\r\n            at org.hibernate.jdbc.BatchingBatcher.checkRowCount(BatchingBatcher.java:93)\r\n            at org.hibernate.jdbc.BatchingBatcher.checkRowCounts(BatchingBatcher.java:79)\r\n            at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:58)\r\n            at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:195)\r\n            at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:235)\r\n            at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:142)\r\n            at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)\r\n            at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)\r\n            at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)\r\n            at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)\r\n            at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)\r\n            at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:584)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransacti\r\n    onManager.java:500)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManag\r\n    er.java:473)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.doCommitTransactionAfterReturning(Transaction\r\n    AspectSupport.java:267)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:170)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:176)","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I get following hibernate error. I am able to identify the function which causes the issue. Unfortunately there are several DB calls in the function. I am unable to find the line which causes the issue since hibernate flush the session at the end of the transaction. The below mentioned hibernate error looks like a general error. It doesn't even mentioned which Bean causes the issue. Anyone familiar with this hibernate error?</p>\n\n<pre><code>org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\n        at org.hibernate.jdbc.BatchingBatcher.checkRowCount(BatchingBatcher.java:93)\n        at org.hibernate.jdbc.BatchingBatcher.checkRowCounts(BatchingBatcher.java:79)\n        at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:58)\n        at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:195)\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:235)\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:142)\n        at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)\n        at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)\n        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)\n        at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)\n        at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)\n        at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:584)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransacti\nonManager.java:500)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManag\ner.java:473)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.doCommitTransactionAfterReturning(Transaction\nAspectSupport.java:267)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:170)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:176)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","redis","redisson"],"owner":{"account_id":13249424,"reputation":61,"user_id":9567391,"display_name":"PankajTekwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678931596,"creation_date":1638949787,"question_id":70271556,"body_markdown":"I am able to cache the DB entity, but when I update it and do a get call to the same entity, I receive the stale the entity in response. Am I missing come configuration here?\r\n\r\nBTW I am trying to implement L2 cache to be used by hibernate for performance improvement.\r\n\r\nRedisConfig.java\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class RedisConfig {\r\n\r\n    @Value(&quot;${spring.redis.port}&quot;) int redisPort;\r\n    @Value(&quot;${spring.redis.host}&quot;) String redisHost;\r\n\r\n    @Bean\r\n    public JedisConnectionFactory jedisConnectionFactory() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n        redisStandaloneConfiguration.setHostName(redisHost);\r\n        redisStandaloneConfiguration.setPort(redisPort);\r\n        return new JedisConnectionFactory(redisStandaloneConfiguration);\r\n    }\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        return new LettuceConnectionFactory(redisHost, redisPort);\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(redisConnectionFactory());\r\n\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\r\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\r\n        redisTemplate.setEnableTransactionSupport(true);\r\n        redisTemplate.afterPropertiesSet();\r\n        return redisTemplate;\r\n    }\r\n}\r\n```\r\n\r\nApplication.yml\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.mariadb.jdbc.Driver\r\n    url: jdbc:mariadb://localhost:3306/\r\n    username: root\r\n    password:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        cache:\r\n          use_second_level_cache: true\r\n          region:\r\n            factory_class: org.redisson.hibernate.RedissonRegionFactory\r\n          redisson:\r\n            fallback: true\r\n            config: redisson-dev.yaml\r\n  redis:\r\n    host: localhost\r\n    port: 6379\r\n    cache:\r\n      type: redis\r\n```\r\n\r\nredisson-dev.yaml\r\n```\r\nsingleServerConfig:\r\n  address: &quot;redis://localhost:6379&quot;\r\n```\r\n\r\nEntity Class\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(callSuper=false)\r\n@Slf4j\r\n@org.hibernate.annotations.Cache(region=&quot;userCache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\r\n@Table(name=&quot;user&quot;)\r\npublic class userEntity extends BaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID userId;//Binary in DB and UUID here\r\n.\r\n.\r\n.\r\n}\r\n```","title":"Redis Cache (Redisson Client) not getting updated with DB (Mysql, Hibernate) updates","body":"<p>I am able to cache the DB entity, but when I update it and do a get call to the same entity, I receive the stale the entity in response. Am I missing come configuration here?</p>\n<p>BTW I am trying to implement L2 cache to be used by hibernate for performance improvement.</p>\n<p>RedisConfig.java</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class RedisConfig {\n\n    @Value(&quot;${spring.redis.port}&quot;) int redisPort;\n    @Value(&quot;${spring.redis.host}&quot;) String redisHost;\n\n    @Bean\n    public JedisConnectionFactory jedisConnectionFactory() {\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setHostName(redisHost);\n        redisStandaloneConfiguration.setPort(redisPort);\n        return new JedisConnectionFactory(redisStandaloneConfiguration);\n    }\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        return new LettuceConnectionFactory(redisHost, redisPort);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(redisConnectionFactory());\n\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setEnableTransactionSupport(true);\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n}\n</code></pre>\n<p>Application.yml</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.mariadb.jdbc.Driver\n    url: jdbc:mariadb://localhost:3306/\n    username: root\n    password:\n  jpa:\n    properties:\n      hibernate:\n        cache:\n          use_second_level_cache: true\n          region:\n            factory_class: org.redisson.hibernate.RedissonRegionFactory\n          redisson:\n            fallback: true\n            config: redisson-dev.yaml\n  redis:\n    host: localhost\n    port: 6379\n    cache:\n      type: redis\n</code></pre>\n<p>redisson-dev.yaml</p>\n<pre><code>singleServerConfig:\n  address: &quot;redis://localhost:6379&quot;\n</code></pre>\n<p>Entity Class</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode(callSuper=false)\n@Slf4j\n@org.hibernate.annotations.Cache(region=&quot;userCache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\n@Table(name=&quot;user&quot;)\npublic class userEntity extends BaseEntity implements Serializable {\n\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID userId;//Binary in DB and UUID here\n.\n.\n.\n}\n</code></pre>\n"},{"tags":["java","android","android-dialog"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678930276,"creation_date":1678930276,"answer_id":75751437,"question_id":75750146,"body_markdown":"The first parameter of ```Toast.makeText()``` takes ```Context```. So you cannot pass Fragment into it, instead you can pass an Activity to it:\r\n```java\r\nToast.makeText(getActivity(), themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\r\n```\r\n\r\n---\r\n\r\nFor ExmpDialog, you need to make sure you have values in ```R.array.appthemes```. So you should have something like this in **strings.xml** resources file:\r\n```xml\r\n&lt;resources&gt;\r\n    ...\r\n    &lt;string-array name=&quot;appthemes&quot;&gt;\r\n        &lt;item&gt;Light&lt;/item&gt;\r\n        &lt;item&gt;Dark&lt;/item&gt;\r\n        &lt;item&gt;Black and Yellow&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n&lt;/resources&gt;\r\n```","title":"Alert Single choice Dialogs in Fragments","body":"<p>The first parameter of <code>Toast.makeText()</code> takes <code>Context</code>. So you cannot pass Fragment into it, instead you can pass an Activity to it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Toast.makeText(getActivity(), themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\n</code></pre>\n<hr />\n<p>For ExmpDialog, you need to make sure you have values in <code>R.array.appthemes</code>. So you should have something like this in <strong>strings.xml</strong> resources file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n    ...\n    &lt;string-array name=&quot;appthemes&quot;&gt;\n        &lt;item&gt;Light&lt;/item&gt;\n        &lt;item&gt;Dark&lt;/item&gt;\n        &lt;item&gt;Black and Yellow&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":28027019,"reputation":1,"user_id":21406836,"display_name":"Cheesehead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678930276,"creation_date":1678915003,"question_id":75750146,"body_markdown":"So I&#39;m trying to add a Singlechoice Alert Dialog that would pop up and have three separate themes changing the entire theme of the app. I know how to do this using activities, but i&#39;m unsure on how to complete this using fragments. I am also using fragments as i am using bottom nav.\r\n\r\nThe errors are in fragment_settings.xml (&#39;Builder(android.content.Context)&#39; in &#39;androidx.appcompat.app.AlertDialog.Builder&#39; cannot be applied to &#39;(com.example.smart_stick.SettingsFragment)&#39;\r\n\r\nCannot resolve method &#39;makeText(SettingsFragment, String, int)&#39;\r\n\r\nSettingsFragment.java\r\n\r\n```\r\npackage com.example.smart_stick;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\n\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\n\r\npublic class SettingsFragment extends Fragment  {\r\n\r\n    String[] Themes={&quot;Light&quot;, &quot;Dark&quot;, &quot;Black and Yellow&quot;};\r\n    String themesSelected;\r\n\r\n    private Button getapptheme;\r\n\r\n\r\n    // TODO: Rename and change types of parameters\r\n\r\n\r\n    public SettingsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_settings, container, false);\r\n\r\n\r\n        Button button = getapptheme.findViewById(R.id.Apptheme);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showDialog();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void showDialog(){\r\n        themesSelected = Themes[0];\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n         builder.setTitle(&quot;Choose a theme&quot;);\r\n         builder.setSingleChoiceItems(Themes, 0, new DialogInterface.OnClickListener() {\r\n             @Override\r\n             public void onClick(DialogInterface dialog, int which) {\r\n                themesSelected = Themes[which];\r\n             }\r\n         });\r\n\r\n         builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n             @Override\r\n             public void onClick(DialogInterface dialog, int which) {\r\n                 Toast.makeText(SettingsFragment.this, themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\r\n             }\r\n         });\r\n\r\n         builder.setNegativeButton(&quot;CANCEL&quot;, null);\r\n         builder.show();\r\n    }\r\n}\r\n```\r\n\r\nfragment_settings.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SettingsFragment&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/text_header&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#FFFFFF&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Settings&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;Space\r\n            android:layout_width=&quot;1dp&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            tools:ignore=&quot;ExtraText&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/Apptheme&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;54dp&quot;\r\n            android:text=&quot;App Theme&quot;\r\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:icon=&quot;@drawable/ic_art_pal_foreground&quot;\r\n            app:iconSize=&quot;35dp&quot;\r\n            app:iconPadding=&quot;-200dp&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/TextSize&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;54dp&quot;\r\n            android:text=&quot;Text Size&quot;\r\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:icon=&quot;@drawable/baseline_text_fields_24&quot;\r\n            app:iconSize=&quot;35dp&quot;\r\n            app:iconPadding=&quot;-220dp&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nExmpDialog.java\r\n\r\n```\r\npackage com.example.smart_stick;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatDialogFragment;\r\nimport androidx.fragment.app.DialogFragment;\r\n\r\nimport java.util.AbstractList;\r\nimport java.util.ArrayList;\r\n\r\npublic class ExmpDialog extends DialogFragment {\r\n    public ExmpDialog(SettingsFragment settingsFragment) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        // Use the Builder class for convenient dialog construction\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        builder.setTitle(&quot;Choose a theme&quot;)\r\n                .setMultiChoiceItems(R.array.appthemes, null,\r\n                        new DialogInterface.OnMultiChoiceClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which,\r\n                                    boolean isChecked) {\r\n                                AbstractList&lt;Object&gt; selectedItems = null;\r\n                                if (isChecked) {\r\n                                    //if user checks item\r\n                                    selectedItems.add(which);\r\n                                } else if (selectedItems.contains(which)) {\r\n                                    //else, if the item is already in the array remove it\r\n                                    selectedItems.remove(which);\r\n                                    \r\n                                }\r\n\r\n                            }\r\n                        })\r\n                .setPositiveButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        // START THE GAME!\r\n                    }\r\n                });\r\n\r\n        // Create the AlertDialog object and return it\r\n        return builder.create();\r\n    }\r\n}\r\n```\r\n\r\nI was expecting to create a singlechoice item that would change the themes however the dialog does pop up but it only shows the title and the cancel, nothing else.","title":"Alert Single choice Dialogs in Fragments","body":"<p>So I'm trying to add a Singlechoice Alert Dialog that would pop up and have three separate themes changing the entire theme of the app. I know how to do this using activities, but i'm unsure on how to complete this using fragments. I am also using fragments as i am using bottom nav.</p>\n<p>The errors are in fragment_settings.xml ('Builder(android.content.Context)' in 'androidx.appcompat.app.AlertDialog.Builder' cannot be applied to '(com.example.smart_stick.SettingsFragment)'</p>\n<p>Cannot resolve method 'makeText(SettingsFragment, String, int)'</p>\n<p>SettingsFragment.java</p>\n<pre><code>package com.example.smart_stick;\n\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\n\npublic class SettingsFragment extends Fragment  {\n\n    String[] Themes={&quot;Light&quot;, &quot;Dark&quot;, &quot;Black and Yellow&quot;};\n    String themesSelected;\n\n    private Button getapptheme;\n\n\n    // TODO: Rename and change types of parameters\n\n\n    public SettingsFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_settings, container, false);\n\n\n        Button button = getapptheme.findViewById(R.id.Apptheme);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                showDialog();\n            }\n        });\n    }\n\n    public void showDialog(){\n        themesSelected = Themes[0];\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n         builder.setTitle(&quot;Choose a theme&quot;);\n         builder.setSingleChoiceItems(Themes, 0, new DialogInterface.OnClickListener() {\n             @Override\n             public void onClick(DialogInterface dialog, int which) {\n                themesSelected = Themes[which];\n             }\n         });\n\n         builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n             @Override\n             public void onClick(DialogInterface dialog, int which) {\n                 Toast.makeText(SettingsFragment.this, themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\n             }\n         });\n\n         builder.setNegativeButton(&quot;CANCEL&quot;, null);\n         builder.show();\n    }\n}\n</code></pre>\n<p>fragment_settings.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SettingsFragment&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/text_header&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#FFFFFF&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Settings&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textSize=&quot;30sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;Space\n            android:layout_width=&quot;1dp&quot;\n            android:layout_height=&quot;65dp&quot;\n            tools:ignore=&quot;ExtraText&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/Apptheme&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:text=&quot;App Theme&quot;\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textSize=&quot;20sp&quot;\n            app:icon=&quot;@drawable/ic_art_pal_foreground&quot;\n            app:iconSize=&quot;35dp&quot;\n            app:iconPadding=&quot;-200dp&quot;\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/TextSize&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:text=&quot;Text Size&quot;\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textSize=&quot;20sp&quot;\n            app:icon=&quot;@drawable/baseline_text_fields_24&quot;\n            app:iconSize=&quot;35dp&quot;\n            app:iconPadding=&quot;-220dp&quot;\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>ExmpDialog.java</p>\n<pre><code>package com.example.smart_stick;\n\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatDialogFragment;\nimport androidx.fragment.app.DialogFragment;\n\nimport java.util.AbstractList;\nimport java.util.ArrayList;\n\npublic class ExmpDialog extends DialogFragment {\n    public ExmpDialog(SettingsFragment settingsFragment) {\n\n    }\n\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        // Use the Builder class for convenient dialog construction\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setTitle(&quot;Choose a theme&quot;)\n                .setMultiChoiceItems(R.array.appthemes, null,\n                        new DialogInterface.OnMultiChoiceClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which,\n                                    boolean isChecked) {\n                                AbstractList&lt;Object&gt; selectedItems = null;\n                                if (isChecked) {\n                                    //if user checks item\n                                    selectedItems.add(which);\n                                } else if (selectedItems.contains(which)) {\n                                    //else, if the item is already in the array remove it\n                                    selectedItems.remove(which);\n                                    \n                                }\n\n                            }\n                        })\n                .setPositiveButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        // START THE GAME!\n                    }\n                });\n\n        // Create the AlertDialog object and return it\n        return builder.create();\n    }\n}\n</code></pre>\n<p>I was expecting to create a singlechoice item that would change the themes however the dialog does pop up but it only shows the title and the cancel, nothing else.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9653,"page":572,"page_size":100}
